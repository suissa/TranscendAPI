const a0_0x521bf9=a0_0x4ad4;(function(_0x185164,_0x160c2d){const _0x575838=a0_0x4ad4,_0x2b24a5=_0x185164();while(!![]){try{const _0x21b3fe=parseInt(_0x575838(0x51b))/0x1+-parseInt(_0x575838(0x495))/0x2+-parseInt(_0x575838(0x138))/0x3+-parseInt(_0x575838(0x6c6))/0x4*(-parseInt(_0x575838(0x712))/0x5)+parseInt(_0x575838(0x2c1))/0x6+parseInt(_0x575838(0x237))/0x7*(-parseInt(_0x575838(0x286))/0x8)+-parseInt(_0x575838(0x5ff))/0x9*(parseInt(_0x575838(0x20e))/0xa);if(_0x21b3fe===_0x160c2d)break;else _0x2b24a5['push'](_0x2b24a5['shift']());}catch(_0x4bd52f){_0x2b24a5['push'](_0x2b24a5['shift']());}}}(a0_0x5735,0x4a5b3));var xr=Object[a0_0x521bf9(0x205)],Ie=Object[a0_0x521bf9(0x140)],Pr=Object[a0_0x521bf9(0x619)],_r=Object[a0_0x521bf9(0x5f3)],$r=Object[a0_0x521bf9(0x23b)],kr=Object[a0_0x521bf9(0x196)]['hasOwnProperty'],Lr=(_0x1a1d78,_0x47408a)=>{for(var _0x3a4a28 in _0x47408a)Ie(_0x1a1d78,_0x3a4a28,{'get':_0x47408a[_0x3a4a28],'enumerable':!0x0});},Ds=(_0x4147f3,_0x595a6b,_0x2b5082,_0x12f940)=>{const _0x2aef65=a0_0x521bf9;if(_0x595a6b&&typeof _0x595a6b==_0x2aef65(0x541)||typeof _0x595a6b==_0x2aef65(0x3c0)){for(let _0x2289c4 of _r(_0x595a6b))!kr[_0x2aef65(0x6cc)](_0x4147f3,_0x2289c4)&&_0x2289c4!==_0x2b5082&&Ie(_0x4147f3,_0x2289c4,{'get':()=>_0x595a6b[_0x2289c4],'enumerable':!(_0x12f940=Pr(_0x595a6b,_0x2289c4))||_0x12f940[_0x2aef65(0x11c)]});}return _0x4147f3;},R=(_0x922bde,_0x558b09,_0x4cf321)=>(_0x4cf321=_0x922bde!=null?xr($r(_0x922bde)):{},Ds(_0x558b09||!_0x922bde||!_0x922bde[a0_0x521bf9(0x20a)]?Ie(_0x4cf321,a0_0x521bf9(0x733),{'value':_0x922bde,'enumerable':!0x0}):_0x4cf321,_0x922bde)),Fr=_0x1f0720=>Ds(Ie({},a0_0x521bf9(0x20a),{'value':!0x0}),_0x1f0720),zo={};Lr(zo,{'subdomain':()=>Ms}),module[a0_0x521bf9(0x10b)]=Fr(zo);var Rr=R(require(a0_0x521bf9(0x303))),Ps=require('fs'),_s=require('js-yaml'),$s=require(a0_0x521bf9(0x247)),De=require(a0_0x521bf9(0x247)),ae=process['cwd'](),pe=(0x0,De[a0_0x521bf9(0x1d7)])(ae,a0_0x521bf9(0x3e9)),xs=(0x0,De['join'])(ae,a0_0x521bf9(0x38f)),ji=(0x0,De[a0_0x521bf9(0x1d7)])(ae,a0_0x521bf9(0x166),a0_0x521bf9(0x51a)),Qt=class{constructor(){const _0x20df0a=a0_0x521bf9;this[_0x20df0a(0x485)]();}[a0_0x521bf9(0x51f)](_0x14e31e){const _0x153e81=a0_0x521bf9;return this[_0x153e81(0x417)][_0x14e31e];}['loadEnv'](){const _0x2f666f=a0_0x521bf9;this[_0x2f666f(0x417)]=process[_0x2f666f(0x417)]?.[_0x2f666f(0x2a6)]!==_0x2f666f(0x629)?this[_0x2f666f(0x6f9)]():this[_0x2f666f(0x363)](),process[_0x2f666f(0x417)]?.['DOCKER_ENV']===_0x2f666f(0x629)&&(this[_0x2f666f(0x417)][_0x2f666f(0x1df)][_0x2f666f(0x157)]=_0x2f666f(0x2ee),this[_0x2f666f(0x417)][_0x2f666f(0x1df)][_0x2f666f(0x149)]=Number[_0x2f666f(0x6b7)](process[_0x2f666f(0x417)]?.[_0x2f666f(0x6c1)]??'8080'));}[a0_0x521bf9(0x6f9)](){const _0x1990ca=a0_0x521bf9;return(0x0,_s[_0x1990ca(0x5bf)])((0x0,Ps[_0x1990ca(0x178)])((0x0,$s['join'])(xs,_0x1990ca(0x1cb)),{'encoding':_0x1990ca(0x5fd)}));}[a0_0x521bf9(0x363)](){const _0x21ab1b=a0_0x521bf9;return{'SERVER':{'TYPE':process[_0x21ab1b(0x417)][_0x21ab1b(0x4c7)],'PORT':Number['parseInt'](process[_0x21ab1b(0x417)][_0x21ab1b(0x6c1)]),'URL':process[_0x21ab1b(0x417)][_0x21ab1b(0x614)]},'CORS':{'ORIGIN':process[_0x21ab1b(0x417)][_0x21ab1b(0x3fd)]['split'](','),'METHODS':process[_0x21ab1b(0x417)][_0x21ab1b(0x17f)]['split'](','),'CREDENTIALS':process['env']?.[_0x21ab1b(0x36c)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x21ab1b(0x417)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x21ab1b(0x417)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x21ab1b(0x26a)](process[_0x21ab1b(0x417)]?.[_0x21ab1b(0x383)])?Number[_0x21ab1b(0x6b7)](process[_0x21ab1b(0x417)][_0x21ab1b(0x383)]):void 0x0,'MESSAGES':process[_0x21ab1b(0x417)]?.[_0x21ab1b(0x321)]==='true','CONTACTS':process[_0x21ab1b(0x417)]?.[_0x21ab1b(0x3cb)]===_0x21ab1b(0x629),'CHATS':process['env']?.[_0x21ab1b(0x6f5)]===_0x21ab1b(0x629)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0x21ab1b(0x417)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x21ab1b(0x417)][_0x21ab1b(0x63b)],'PASSWORD':process['env'][_0x21ab1b(0x66c)],'URI':process[_0x21ab1b(0x417)][_0x21ab1b(0x1cd)],'DB_PREFIX_NAME':process['env'][_0x21ab1b(0x674)]},'ENABLED':process[_0x21ab1b(0x417)]?.['DATABASE_ENABLED']===_0x21ab1b(0x629)},'REDIS':{'ENABLED':process[_0x21ab1b(0x417)]?.[_0x21ab1b(0x2ca)]===_0x21ab1b(0x629),'URI':process['env'][_0x21ab1b(0x390)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x21ab1b(0x417)]['REDIS_PREFIX_KEY']||_0x21ab1b(0x6a5)},'LOG':{'LEVEL':process['env']?.[_0x21ab1b(0x41f)]['split'](','),'COLOR':process[_0x21ab1b(0x417)]?.['LOG_COLOR']===_0x21ab1b(0x629)},'AUTHENTICATION':{'TYPE':process[_0x21ab1b(0x417)][_0x21ab1b(0x3cc)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x21ab1b(0x417)]?.[_0x21ab1b(0x47b)])?Number[_0x21ab1b(0x6b7)](process[_0x21ab1b(0x417)][_0x21ab1b(0x47b)]):0xe10,'SECRET':process['env'][_0x21ab1b(0x32f)]}}};}},b=new Qt(),Tr=R(require(a0_0x521bf9(0x33f))),de=R(require('express')),As=require('path'),Yt=R(require('dayjs')),Xt=(_0x2d8d12=>(_0x2d8d12[a0_0x521bf9(0x746)]='\x1b[32m',_0x2d8d12[a0_0x521bf9(0x2c0)]=a0_0x521bf9(0x45c),_0x2d8d12[a0_0x521bf9(0x697)]=a0_0x521bf9(0x4c8),_0x2d8d12['ERROR']=a0_0x521bf9(0x5ec),_0x2d8d12[a0_0x521bf9(0x68f)]=a0_0x521bf9(0x21d),_0x2d8d12[a0_0x521bf9(0x5f6)]='\x1b[37m',_0x2d8d12[a0_0x521bf9(0x470)]=a0_0x521bf9(0x3c4),_0x2d8d12))(Xt||{}),ks=(_0x58960b=>(_0x58960b[a0_0x521bf9(0x746)]=a0_0x521bf9(0x511),_0x58960b[a0_0x521bf9(0x470)]='\x1b[30m%s\x1b[0m',_0x58960b['INFO']=a0_0x521bf9(0x647),_0x58960b['WARN']='\x1b[33m%s\x1b[0m',_0x58960b['ERROR']=a0_0x521bf9(0x199),_0x58960b['DEBUG']=a0_0x521bf9(0x37e),_0x58960b['VERBOSE']=a0_0x521bf9(0x68d),_0x58960b))(ks||{}),Ls=(_0x34cb3e=>(_0x34cb3e[a0_0x521bf9(0x746)]=a0_0x521bf9(0x746),_0x34cb3e[a0_0x521bf9(0x697)]=a0_0x521bf9(0x697),_0x34cb3e[a0_0x521bf9(0x2c0)]=a0_0x521bf9(0x2c0),_0x34cb3e['DARK']=a0_0x521bf9(0x470),_0x34cb3e['ERROR']=a0_0x521bf9(0x442),_0x34cb3e[a0_0x521bf9(0x68f)]=a0_0x521bf9(0x68f),_0x34cb3e[a0_0x521bf9(0x5f6)]=a0_0x521bf9(0x5f6),_0x34cb3e))(Ls||{}),Fs=(_0x2e1582=>(_0x2e1582[a0_0x521bf9(0x746)]=a0_0x521bf9(0x22b),_0x2e1582[a0_0x521bf9(0x2c0)]='\x1b[44m',_0x2e1582[a0_0x521bf9(0x697)]=a0_0x521bf9(0x1c7),_0x2e1582['DARK']=a0_0x521bf9(0x17d),_0x2e1582[a0_0x521bf9(0x442)]=a0_0x521bf9(0x5c5),_0x2e1582['DEBUG']=a0_0x521bf9(0x551),_0x2e1582[a0_0x521bf9(0x5f6)]=a0_0x521bf9(0x4a8),_0x2e1582))(Fs||{}),v=class{constructor(_0x6fef27='Logger'){const _0x564f19=a0_0x521bf9;this[_0x564f19(0x606)]=_0x6fef27,this[_0x564f19(0x57b)]=b;}['setContext'](_0x14d5dc){const _0x263e85=a0_0x521bf9;this[_0x263e85(0x606)]=_0x14d5dc;}[a0_0x521bf9(0x44d)](_0x17a6c4,_0x576d46){const _0xd1e068=a0_0x521bf9;let _0x29415a=[];this[_0xd1e068(0x57b)][_0xd1e068(0x51f)]('LOG')[_0xd1e068(0x566)][_0xd1e068(0x592)](_0xd78c3b=>_0x29415a[_0xd1e068(0x330)](Ls[_0xd78c3b]));let _0xf665ab=typeof _0x17a6c4;_0x29415a[_0xd1e068(0x71c)](_0x576d46)&&(b['get'](_0xd1e068(0x746))[_0xd1e068(0x29e)]?(console[_0xd1e068(0x1a3)]('\x1b[1m'+ks[_0x576d46],_0xd1e068(0x59b),(0x0,Yt['default'])()['format'](_0xd1e068(0x232)),_0xd1e068(0x657),Xt[_0x576d46]+Fs[_0x576d46]+_0xd1e068(0x57e),_0x576d46+_0xd1e068(0x471),_0xd1e068(0x12b),this['context']+_0xd1e068(0x657),Xt[_0x576d46],_0xf665ab!=='object'?_0x17a6c4:'',_0xd1e068(0x657)),_0xf665ab===_0xd1e068(0x541)&&console[_0xd1e068(0x1a3)](_0x17a6c4,'\x0a')):console[_0xd1e068(0x1a3)]((0x0,Yt[_0xd1e068(0x733)])()['format'](_0xd1e068(0x2f8)),_0x576d46+'\x20',''+this['context'],_0x17a6c4));}[a0_0x521bf9(0x1a3)](_0x19a61d){const _0x393941=a0_0x521bf9;this[_0x393941(0x44d)](_0x19a61d,_0x393941(0x746));}[a0_0x521bf9(0x2ea)](_0x579fed){const _0x2f328a=a0_0x521bf9;this[_0x2f328a(0x44d)](_0x579fed,_0x2f328a(0x2c0));}[a0_0x521bf9(0x3ed)](_0x42afb2){const _0x45a177=a0_0x521bf9;this[_0x45a177(0x44d)](_0x42afb2,_0x45a177(0x697));}['error'](_0x2c335b){const _0x85a58=a0_0x521bf9;this[_0x85a58(0x44d)](_0x2c335b,_0x85a58(0x442));}[a0_0x521bf9(0x5ab)](_0x1f6d74){const _0x459066=a0_0x521bf9;this[_0x459066(0x44d)](_0x1f6d74,'VERBOSE');}[a0_0x521bf9(0x70f)](_0x584d76){const _0x4612b0=a0_0x521bf9;this[_0x4612b0(0x44d)](_0x584d76,_0x4612b0(0x68f));}[a0_0x521bf9(0x2c3)](_0x4f4327){const _0x1d0dd0=a0_0x521bf9;this['console'](_0x4f4327,_0x1d0dd0(0x470));}};function Us(){const _0x18e499=a0_0x521bf9;process['on'](_0x18e499(0x628),(_0x5c9383,_0x4ae3e2)=>{const _0x2310f0=_0x18e499;new v(_0x2310f0(0x628))[_0x2310f0(0x148)]({'origin':_0x4ae3e2,'stderr':process[_0x2310f0(0x285)]['fd'],'error':_0x5c9383});}),process['on'](_0x18e499(0x240),(_0x42a9e1,_0x4b7abb)=>{const _0x46d9e5=_0x18e499;new v(_0x46d9e5(0x240))['error']({'origin':_0x4b7abb,'stderr':process['stderr']['fd'],'error':_0x42a9e1});});}var Js=R(require(a0_0x521bf9(0x260))),Zt=new Js['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x521bf9(0x714)),es=R(require(a0_0x521bf9(0x714))),Ur=new v(a0_0x521bf9(0x50a)),V=b[a0_0x521bf9(0x51f)](a0_0x521bf9(0x28c)),N=V[a0_0x521bf9(0x47a)]?V[a0_0x521bf9(0x3d4)]['URI']?es['default']['createConnection'](V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x692)],{'dbName':V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x28e)]+a0_0x521bf9(0x142)}):es['default']['createConnection'](a0_0x521bf9(0x5f7)+V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x225)]+':'+V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x149)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':V['CONNECTION'][a0_0x521bf9(0x394)],'pass':V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x3b8)],'dbName':V[a0_0x521bf9(0x3d4)][a0_0x521bf9(0x28e)]+'-whatsapp-api'}):null;V[a0_0x521bf9(0x47a)]&&Ur[a0_0x521bf9(0x2ea)](a0_0x521bf9(0x342)+N['$dbName']);var Jr=new xe[(a0_0x521bf9(0x223))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x8a0517=>{const _0x2ed206=a0_0x521bf9;let _0x400080='z_'+_0x8a0517+_0x2ed206(0x290);return N?.[_0x2ed206(0x45b)](_0x2ed206(0x5d0),qr,_0x400080);},qs=require(a0_0x521bf9(0x714)),Vr=new qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x29c2d0=>{const _0x617e2d=a0_0x521bf9;let _0x36c411='z_'+_0x29c2d0+_0x617e2d(0x4fd);return N?.[_0x617e2d(0x45b)](_0x617e2d(0x56b),Vr,_0x36c411);},Bs=require('mongoose'),Br=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x1c57c0=>{const _0x2533c4=a0_0x521bf9;let _0x1f22a8='z_'+_0x1c57c0+_0x2533c4(0x538);return N?.['model']('MessageModel',Br,_0x1f22a8);},Ws=require(a0_0x521bf9(0x714)),ts=class{},Gr=new Ws[(a0_0x521bf9(0x223))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x521bf9(0x45b)](ts['name'],Gr,a0_0x521bf9(0x506)),Hs=require(a0_0x521bf9(0x714)),ss=class{},Ks=new Hs[(a0_0x521bf9(0x223))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x521bf9(0x318)](a0_0x521bf9(0x43c),function(_0x31321f){const _0x379542=a0_0x521bf9;delete this[_0x379542(0x322)],delete this[_0x379542(0x27e)],delete this['flowPrefixCommand'],delete this[_0x379542(0x4e8)],delete this[_0x379542(0x23a)],_0x31321f();});var Qs=N?.[a0_0x521bf9(0x45b)](ss[a0_0x521bf9(0x423)],Ks,'webhook'),x=require(a0_0x521bf9(0x714)),Pe=class{},Ys=new x['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),as=new x['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new x['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x521bf9(0x16c)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x521bf9(0x32e)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x521bf9(0x1fe)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new x[(a0_0x521bf9(0x223))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new x['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Hr=new x[(a0_0x521bf9(0x223))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new x[(a0_0x521bf9(0x223))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),cs=new x[(a0_0x521bf9(0x223))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new x[(a0_0x521bf9(0x223))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},ls=new x[(a0_0x521bf9(0x223))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1c60fb=a0_0x521bf9;return'!cmd_'+Math[_0x1c60fb(0x643)]()['toString'](0x24)[_0x1c60fb(0x501)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[cs],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]}});ls[a0_0x521bf9(0x318)](a0_0x521bf9(0x43c),function(_0x28c82e){const _0x1d73c0=a0_0x521bf9;let _0x485745=new Set(),_0x523c1f=new Set(this[_0x1d73c0(0x684)]?.[_0x1d73c0(0x648)](_0x307f8c=>_0x307f8c['name'])),_0x47fdd2=JSON[_0x1d73c0(0x62e)](this),_0x3ff57a=/{{(?!_)([^}]*)}}/g,_0x1fad5e;for(;(_0x1fad5e=_0x3ff57a[_0x1d73c0(0x39e)](_0x47fdd2))!==null;)_0x523c1f[_0x1d73c0(0x479)](_0x1fad5e[0x1])||_0x485745[_0x1d73c0(0x669)](_0x1fad5e[0x1]);_0x485745[_0x1d73c0(0x122)]>0x0?(console[_0x1d73c0(0x3ed)](_0x1d73c0(0x2e4),Array[_0x1d73c0(0x119)](_0x485745)),this[_0x1d73c0(0x393)]=Array[_0x1d73c0(0x119)](_0x485745)):this[_0x1d73c0(0x393)]=[],_0x28c82e();});var ta=_0x1d1852=>{const _0x5d85d1=a0_0x521bf9;let _0x5bc5f5='z_'+_0x1d1852+'_Flows';return N?.['model'](_0x5d85d1(0x4a7),ls,_0x5bc5f5);},sa=N?.[a0_0x521bf9(0x45b)](rs[a0_0x521bf9(0x423)],ls,a0_0x521bf9(0x158)),Kr=new x[(a0_0x521bf9(0x223))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),os=class{},aa=new x['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[cs],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x521bf9(0x1f1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[as],'default':[]}}),ra=_0x224058=>{const _0x30e240=a0_0x521bf9;let _0x359fab='z_'+_0x224058+'_FlowHistorico';return N?.[_0x30e240(0x45b)](_0x30e240(0x13b),aa,_0x359fab);},oa=N?.['model'](os['name'],aa,'flowConversation'),is=class{},Qr=new x[(a0_0x521bf9(0x223))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new x[(a0_0x521bf9(0x223))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new x['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x521bf9(0x65d)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x4994b3=>{const _0x30f00d=a0_0x521bf9;let _0x95d2e3='z_'+_0x4994b3+_0x30f00d(0x30c);return N?.[_0x30f00d(0x45b)](_0x30f00d(0x34e),ia,_0x95d2e3);},ca=N?.[a0_0x521bf9(0x45b)](is[a0_0x521bf9(0x423)],ia,'scheduleMessages'),ns=class{},Xr=new x['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new x[(a0_0x521bf9(0x223))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x521bf9(0x2f1)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new x['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new x['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.['model'](ns[a0_0x521bf9(0x423)],to,a0_0x521bf9(0x392)),la=require(a0_0x521bf9(0x714)),so=new la['Schema']({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x137f0=>{const _0x493063=a0_0x521bf9;let _0x489423='z_'+_0x137f0+_0x493063(0x340);return N?.[_0x493063(0x45b)](_0x493063(0x2e0),so,_0x489423);},I=class{constructor(_0x363eb4){const _0x109450=a0_0x521bf9;this[_0x109450(0x344)]=_0x363eb4[_0x109450(0x51f)](_0x109450(0x28c));}};function A(_0x214e07){const _0x6b2227=a0_0x521bf9;let _0x2a98e0={};for(let [_0x5dab8f,_0x1ff30a]of Object[_0x6b2227(0x1e4)](_0x214e07))if(typeof _0x1ff30a=='object'&&!Array[_0x6b2227(0x2f5)](_0x1ff30a)){for(let [_0x2a1878,_0x5a7d43]of Object['entries'](_0x1ff30a))_0x2a98e0[_0x5dab8f+'.'+_0x2a1878]=_0x5a7d43;}else _0x2a98e0[_0x5dab8f]=_0x1ff30a;return _0x2a98e0;}var $e=class{constructor(_0x559954,_0x405027,_0x56583b,_0x21af7f,_0x38bf9e,_0x520259,_0x4b5933,_0x45ec60,_0x8aecc4,_0x492f58,_0xb2c4c8){const _0x2f3ae3=a0_0x521bf9;this[_0x2f3ae3(0x331)]=_0x559954,this[_0x2f3ae3(0x5d6)]=_0x405027,this['contact']=_0x56583b,this['webhook']=_0x21af7f,this[_0x2f3ae3(0x51a)]=_0x38bf9e,this[_0x2f3ae3(0x158)]=_0x520259,this[_0x2f3ae3(0x727)]=_0x4b5933,this[_0x2f3ae3(0x650)]=_0x45ec60,this[_0x2f3ae3(0x550)]=_0x8aecc4,this[_0x2f3ae3(0x4cc)]=_0x492f58,this[_0x2f3ae3(0x1c9)]=_0xb2c4c8;}get['dbServer'](){const _0xff5bdf=a0_0x521bf9;return this[_0xff5bdf(0x1c9)];}},ke=class{},Le=class extends I{[a0_0x521bf9(0x41d)](_0x30e742){return Gs(_0x30e742);}async[a0_0x521bf9(0x60d)](_0x1cebd0,_0x52160b){const _0x1bf9a8=a0_0x521bf9;if(_0x1cebd0[_0x1bf9a8(0x4a0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1bf9a8(0x41d)](_0x52160b)[_0x1bf9a8(0x356)]([..._0x1cebd0]))[_0x1bf9a8(0x4a0)]};}catch(_0x1d2feb){return console[_0x1bf9a8(0x1a3)](_0x1bf9a8(0x1aa),_0x1d2feb),_0x1d2feb;}}async[a0_0x521bf9(0x375)](_0x32d804,_0x26b330){const _0x1935a7=a0_0x521bf9;try{let _0x4fda8e=this['getMessageModelForOwner'](_0x26b330),_0x115943=A(_0x32d804[_0x1935a7(0x53c)]);return await _0x4fda8e[_0x1935a7(0x375)](_0x115943)[_0x1935a7(0x198)]({'messageTimestamp':-0x1})[_0x1935a7(0x4a1)](_0x32d804?.[_0x1935a7(0x4a1)]??0x0)['lean']();}catch{return[];}}async[a0_0x521bf9(0x327)](_0x577dfc,_0x354595){const _0x307505=a0_0x521bf9;try{let _0x17dd20=this[_0x307505(0x41d)](_0x354595),_0x57ccb1=A(_0x577dfc[_0x307505(0x53c)]);await _0x17dd20['deleteMany'](_0x57ccb1);}catch(_0x27c225){console[_0x307505(0x148)](_0x27c225);}}async[a0_0x521bf9(0x343)](_0x37509c,_0x5f0a2f,_0xb52ee6){const _0x4df467=a0_0x521bf9;try{let _0x12e493=this[_0x4df467(0x41d)](_0xb52ee6),_0x42e3bb=A(_0x37509c[_0x4df467(0x53c)]);return await _0x12e493[_0x4df467(0x5da)](_0x42e3bb,{'$set':_0x5f0a2f},{'new':!0x0});}catch(_0x552535){throw console[_0x4df467(0x148)](_0x552535),_0x552535;}}async[a0_0x521bf9(0x356)](_0x3591a0,_0x316357){const _0x52fe9d=a0_0x521bf9;if(_0x3591a0['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x52fe9d(0x41d)](_0x316357)[_0x52fe9d(0x356)]([..._0x3591a0]))[_0x52fe9d(0x4a0)]};}catch(_0x2d3708){return console[_0x52fe9d(0x1a3)](_0x52fe9d(0x1aa),_0x2d3708),_0x2d3708;}}async[a0_0x521bf9(0x74a)](_0x6805c2){const _0x2b8586=a0_0x521bf9;try{return await this['getMessageModelForOwner'](_0x6805c2)['collection']['drop'](),{'success':!0x0};}catch(_0xc2e10c){return console[_0x2b8586(0x148)](_0xc2e10c),{'success':!0x1,'error':_0xc2e10c};}}},mr=R(require(a0_0x521bf9(0x301))),y=R(require(a0_0x521bf9(0x5be))),Me=require('fs'),F=R(require(a0_0x521bf9(0x247))),se=R(require(a0_0x521bf9(0x58f))),hr=require(a0_0x521bf9(0x3b7)),fr=R(require(a0_0x521bf9(0x516))),yr=R(require(a0_0x521bf9(0x505))),da=[a0_0x521bf9(0x58e),a0_0x521bf9(0x55b),a0_0x521bf9(0x2fd),'videoMessage',a0_0x521bf9(0x335)],pa=[a0_0x521bf9(0x583),a0_0x521bf9(0x587),'viewOnceMessage','viewOnceMessageV2'],bs=require('os'),At=R(require('pino')),Dt=require(a0_0x521bf9(0x11d)),Ot=require(a0_0x521bf9(0x610)),ne=R(require(a0_0x521bf9(0x714))),$=require(a0_0x521bf9(0x346)),ge=class{constructor(_0x3e21b5,_0x5d3389,_0x2085c1){const _0x565ce0=a0_0x521bf9;this[_0x565ce0(0x477)]=_0x3e21b5,this[_0x565ce0(0x4db)]=_0x5d3389,this[_0x565ce0(0x423)]=_0x2085c1;}},Fe=class{},Ue=class{},we=class{},Je=class{},je=class{},me=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x521bf9(0x557))),ga=require('fs'),ma=require(a0_0x521bf9(0x247));async function We(_0x251104){const _0x469fd3=a0_0x521bf9;let _0x31c2ec=B['waInstances'][_0x251104];if(V[_0x469fd3(0x47a)]){let _0x2643c7=N[_0x469fd3(0x531)]()['db'](V[_0x469fd3(0x3d4)][_0x469fd3(0x28e)]+_0x469fd3(0x68a))[_0x469fd3(0x32c)](_0x251104);return _0x31c2ec||(await _0x2643c7['find']({})[_0x469fd3(0x748)]())[_0x469fd3(0x4a0)]>0x0;}return _0x31c2ec||(0x0,ga[_0x469fd3(0x534)])((0x0,ma[_0x469fd3(0x1d7)])(pe,_0x251104));}async function ha(_0x4c84ff,_0x491132,_0x2fac02){const _0xbdb2ae=a0_0x521bf9;if(_0x4c84ff[_0xbdb2ae(0x565)][_0xbdb2ae(0x71c)](_0xbdb2ae(0x4a5))||_0x4c84ff[_0xbdb2ae(0x565)][_0xbdb2ae(0x71c)](_0xbdb2ae(0x553))||_0x4c84ff[_0xbdb2ae(0x565)][_0xbdb2ae(0x71c)]('/exit')||_0x4c84ff['originalUrl'][_0xbdb2ae(0x71c)]('/config')||_0x4c84ff['originalUrl'][_0xbdb2ae(0x71c)](_0xbdb2ae(0x395))||_0x4c84ff[_0xbdb2ae(0x565)]['includes'](_0xbdb2ae(0x731))||_0x4c84ff[_0xbdb2ae(0x565)][_0xbdb2ae(0x71c)](_0xbdb2ae(0x153)))return _0x2fac02();let _0x28985f=_0x4c84ff[_0xbdb2ae(0x456)];if(!_0x28985f?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await We(_0x28985f['instanceName']))throw new L(_0xbdb2ae(0x130)+_0x28985f['instanceName']+_0xbdb2ae(0x3ab));_0x2fac02();}function a0_0x4ad4(_0x511aed,_0x167c7e){const _0x5735a1=a0_0x5735();return a0_0x4ad4=function(_0x4ad4a8,_0xc0f47e){_0x4ad4a8=_0x4ad4a8-0x107;let _0x22418c=_0x5735a1[_0x4ad4a8];return _0x22418c;},a0_0x4ad4(_0x511aed,_0x167c7e);}async function fa(_0x151cd4,_0x43bfb4,_0x4177db){const _0x5768f3=a0_0x521bf9;if(_0x151cd4['originalUrl'][_0x5768f3(0x71c)](_0x5768f3(0x4a5))){let _0x36f416=_0x151cd4[_0x5768f3(0x2c4)];if(await We(_0x36f416[_0x5768f3(0x424)]))throw new K(_0x5768f3(0x137)+_0x36f416[_0x5768f3(0x424)]+_0x5768f3(0x532));B[_0x5768f3(0x603)][_0x36f416[_0x5768f3(0x424)]]&&delete B[_0x5768f3(0x603)][_0x36f416[_0x5768f3(0x424)]];}_0x4177db();}var ya=require(a0_0x521bf9(0x346)),wa=R(require('jsonwebtoken')),ze=a0_0x521bf9(0x6a5),ro=new v(a0_0x521bf9(0x700));async function oo(_0x41d1c1,_0xafce4c,_0x44915e){const _0x588749=a0_0x521bf9;let _0x5037d8=_0x41d1c1[_0x588749(0x51f)](_0x588749(0x270));if(_0x5037d8&&b[_0x588749(0x51f)](_0x588749(0x36f))['API_KEY']['KEY']!==_0x5037d8)throw new ee();if(b[_0x588749(0x51f)]('AUTHENTICATION')[_0x588749(0x3d8)]['KEY']===_0x5037d8)return _0x44915e();if((_0x41d1c1[_0x588749(0x565)][_0x588749(0x71c)]('/instance/create')||_0x41d1c1['originalUrl']['includes'](_0x588749(0x553)))&&!_0x5037d8)throw new K(_0x588749(0x180),_0x588749(0x717));let _0xc85c8b=b[_0x588749(0x51f)](_0x588749(0x36f))[_0x588749(0x554)];try{let [_0x4e69a6,_0x573089]=_0x41d1c1[_0x588749(0x51f)](_0x588749(0x3f6))['split']('\x20');if(_0x4e69a6[_0x588749(0x521)]()!==_0x588749(0x1c1))throw new ee();if(!(0x0,ya['isJWT'])(_0x573089))throw new ee();let _0x36b4fd=_0x41d1c1['params'],_0x457e01=wa[_0x588749(0x733)][_0x588749(0x254)](_0x573089,_0xc85c8b[_0x588749(0x2a2)],{'ignoreExpiration':_0xc85c8b['EXPIRIN_IN']===0x0});if(_0x36b4fd[_0x588749(0x424)]!==_0x457e01[_0x588749(0x424)]||ze!==_0x457e01[_0x588749(0x3ba)])throw new ee();return _0x44915e();}catch(_0x3c9847){throw ro['error'](_0x3c9847),new ee();}}async function io(_0xbc6079,_0x501617,_0x362fea){const _0xe728b7=a0_0x521bf9;let _0x40d6a1=b['get'](_0xe728b7(0x36f))[_0xe728b7(0x3d8)],_0x159b1d=_0xbc6079[_0xe728b7(0x51f)](_0xe728b7(0x270));if(_0x40d6a1[_0xe728b7(0x284)]===_0x159b1d)return _0x362fea();if(_0xbc6079[_0xe728b7(0x565)]['includes'](_0xe728b7(0x4a5))){let _0x13993d=He,_0x225309=_0xbc6079[_0xe728b7(0x2c4)][_0xe728b7(0x424)];if(_0x13993d&&_0x225309[_0xe728b7(0x521)]()['startsWith'](_0x13993d[_0xe728b7(0x521)]()))return _0x362fea();if(!_0x159b1d)throw new K(_0xe728b7(0x180),_0xe728b7(0x717));}if(_0xbc6079[_0xe728b7(0x565)]['includes'](_0xe728b7(0x553))&&!_0x159b1d)throw new K(_0xe728b7(0x180),_0xe728b7(0x717));if(_0xbc6079['originalUrl']['includes']('/exit')&&!_0x159b1d)throw new K(_0xe728b7(0x180),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0xbc6079[_0xe728b7(0x565)]['includes'](_0xe728b7(0x18a))&&!_0x159b1d)throw new K('Missing\x20global\x20api\x20key',_0xe728b7(0x717));try{let _0x31db67=_0xbc6079['params'];if((await ce[_0xe728b7(0x51a)][_0xe728b7(0x375)](_0x31db67['instanceName']))['apikey']===_0x159b1d)return _0x362fea();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x521bf9(0x557)),C=require(a0_0x521bf9(0x3b7)),E=(..._0x9a7785)=>{const _0x2faea3=a0_0x521bf9;let _0x3e858f={};return _0x9a7785['forEach'](_0x40b237=>_0x3e858f[_0x40b237]={'minLength':0x1,'description':_0x2faea3(0x4b0)+_0x40b237+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x9a7785]}},'then':{'properties':_0x3e858f}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'instanceName':{'type':a0_0x521bf9(0x202)}},...E('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'oldToken':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x271)],...E(a0_0x521bf9(0x271))},Kn={'properties':{'key':{'type':a0_0x521bf9(0x541),'properties':{'id':{'type':a0_0x521bf9(0x202)},'remoteJid':{'type':a0_0x521bf9(0x202)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x521bf9(0x6cd))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x521bf9(0x481),'description':a0_0x521bf9(0x18d)},'presence':{'type':'string','enum':[a0_0x521bf9(0x71f),a0_0x521bf9(0x62f),a0_0x521bf9(0x474),a0_0x521bf9(0x1b1),a0_0x521bf9(0x2b9)]}}},z={'type':a0_0x521bf9(0x202),'pattern':a0_0x521bf9(0x640),'description':a0_0x521bf9(0x5e9)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x521bf9(0x541),'properties':{'text':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x44e)],...E(a0_0x521bf9(0x44e))}},'required':[a0_0x521bf9(0x167),a0_0x521bf9(0x33b)]},Ea={'type':a0_0x521bf9(0x202),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x521bf9(0x541),'properties':{'text':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x44e)],...E(a0_0x521bf9(0x44e))}},'required':[a0_0x521bf9(0x167),a0_0x521bf9(0x33b)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x521bf9(0x541),'properties':{'mediatype':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x473),a0_0x521bf9(0x34d),'video','audio']},'media':{'type':a0_0x521bf9(0x202)},'fileName':{'type':'string'},'caption':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x612),a0_0x521bf9(0x4f8)],...E(a0_0x521bf9(0x128),a0_0x521bf9(0x320),a0_0x521bf9(0x4f8))}},'required':[a0_0x521bf9(0x504),a0_0x521bf9(0x33b)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x521bf9(0x541),'properties':{'image':{'type':a0_0x521bf9(0x202)}},'required':['image'],...E(a0_0x521bf9(0x473))}},'required':[a0_0x521bf9(0x335),a0_0x521bf9(0x33b)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x521bf9(0x541),'properties':{'type':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x44e),a0_0x521bf9(0x473),a0_0x521bf9(0x4c5),a0_0x521bf9(0x39d)]},'content':{'type':a0_0x521bf9(0x202)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x521bf9(0x202)},'font':{'type':a0_0x521bf9(0x481),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x521bf9(0x202),'pattern':'^\x5cd+','description':a0_0x521bf9(0x6b0)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x521bf9(0x50c),'content'],...E(a0_0x521bf9(0x50c),a0_0x521bf9(0x6e7))}},'required':[a0_0x521bf9(0x3f4)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x473),'document',a0_0x521bf9(0x39d),a0_0x521bf9(0x4c5)]},'media':{'type':a0_0x521bf9(0x202)},'fileName':{'type':a0_0x521bf9(0x202)},'caption':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x612),'media'],...E(a0_0x521bf9(0x128),a0_0x521bf9(0x320),'media')}},'required':[a0_0x521bf9(0x504),a0_0x521bf9(0x33b)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x521bf9(0x541),'properties':{'audio':{'type':'string'}},'required':[a0_0x521bf9(0x4c5)],...E(a0_0x521bf9(0x4c5))}},'required':[a0_0x521bf9(0x2fd),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'pollMessage':{'type':a0_0x521bf9(0x541),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x521bf9(0x33b)},'values':{'type':a0_0x521bf9(0x4f6),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x521bf9(0x423),a0_0x521bf9(0x18f),a0_0x521bf9(0x216)],...E('name',a0_0x521bf9(0x18f),a0_0x521bf9(0x216))}},'required':[a0_0x521bf9(0x33b),a0_0x521bf9(0x295)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x521bf9(0x202)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x521bf9(0x44e),a0_0x521bf9(0x4da)],...E('text',a0_0x521bf9(0x4da))}},'required':['number',a0_0x521bf9(0x66a)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x521bf9(0x541),'properties':{'title':{'type':a0_0x521bf9(0x202)},'description':{'type':a0_0x521bf9(0x202)},'footerText':{'type':a0_0x521bf9(0x202)},'buttons':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x521bf9(0x541),'properties':{'buttonText':{'type':a0_0x521bf9(0x202)},'buttonId':{'type':'string'}},'required':[a0_0x521bf9(0x20c),a0_0x521bf9(0x537)],...E(a0_0x521bf9(0x20c),a0_0x521bf9(0x537))}},'mediaMessage':{'type':a0_0x521bf9(0x541),'properties':{'media':{'type':a0_0x521bf9(0x202)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x473),a0_0x521bf9(0x34d),a0_0x521bf9(0x39d)]}},'required':[a0_0x521bf9(0x4f8),a0_0x521bf9(0x612)],...E(a0_0x521bf9(0x4f8),'fileName')}},'required':['title',a0_0x521bf9(0x6c2)],...E(a0_0x521bf9(0x555),a0_0x521bf9(0x4fb))}},'required':[a0_0x521bf9(0x33b),a0_0x521bf9(0x16b)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x521bf9(0x541),'properties':{'latitude':{'type':a0_0x521bf9(0x33b)},'longitude':{'type':a0_0x521bf9(0x33b)},'name':{'type':a0_0x521bf9(0x202)},'address':{'type':'string'}},'required':['latitude','longitude'],...E('name',a0_0x521bf9(0x16a))}},'required':[a0_0x521bf9(0x33b),a0_0x521bf9(0x155)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x521bf9(0x541),'properties':{'title':{'type':a0_0x521bf9(0x202)},'description':{'type':a0_0x521bf9(0x202)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x521bf9(0x202)},'sections':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x521bf9(0x541),'properties':{'title':{'type':a0_0x521bf9(0x202)},'rows':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x521bf9(0x202)},'description':{'type':a0_0x521bf9(0x202)},'rowId':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x555),a0_0x521bf9(0x177)],...E(a0_0x521bf9(0x555),'rowId')}}},'required':[a0_0x521bf9(0x555),a0_0x521bf9(0x480)],...E('title')}}},'required':['title',a0_0x521bf9(0x4fb),a0_0x521bf9(0x20c),a0_0x521bf9(0x170)],...E(a0_0x521bf9(0x555),'description',a0_0x521bf9(0x20c),a0_0x521bf9(0x117))}},'required':['number',a0_0x521bf9(0x6cb)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x521bf9(0x4f6),'items':{'type':a0_0x521bf9(0x541),'properties':{'fullName':{'type':a0_0x521bf9(0x202)},'phoneNumber':{'type':a0_0x521bf9(0x202),'minLength':0xa}},'required':['fullName',a0_0x521bf9(0x672)],...E(a0_0x521bf9(0x577))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x521bf9(0x33b),a0_0x521bf9(0x3df)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'reactionMessage':{'type':a0_0x521bf9(0x541),'properties':{'key':{'type':a0_0x521bf9(0x541),'properties':{'id':{'type':a0_0x521bf9(0x202)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x521bf9(0x6cd),'fromMe'],...E('id',a0_0x521bf9(0x6cd))},'reaction':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x4d2),'reaction'],...E('reaction')}},'required':['reactionMessage']},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'numbers':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x521bf9(0x202),'pattern':a0_0x521bf9(0x253),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x521bf9(0x202)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x521bf9(0x202)}},'required':['id',a0_0x521bf9(0x2b5),'remoteJid'],...E('id',a0_0x521bf9(0x6cd))}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'privacySettings':{'type':a0_0x521bf9(0x541),'properties':{'readreceipts':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x6c3),'none']},'profile':{'type':a0_0x521bf9(0x202),'enum':['all','contacts',a0_0x521bf9(0x3f8),a0_0x521bf9(0x50e)]},'status':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x6c3),'contacts',a0_0x521bf9(0x3f8),a0_0x521bf9(0x50e)]},'online':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x6c3),a0_0x521bf9(0x4ad)]},'last':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x6c3),a0_0x521bf9(0x27a),a0_0x521bf9(0x3f8),a0_0x521bf9(0x50e)]},'groupadd':{'type':a0_0x521bf9(0x202),'enum':[a0_0x521bf9(0x6c3),'contacts',a0_0x521bf9(0x3f8),'none']}},'required':[a0_0x521bf9(0x6e1),'profile',a0_0x521bf9(0x26d),a0_0x521bf9(0x246),a0_0x521bf9(0x3d6),'groupadd'],...E(a0_0x521bf9(0x6e1),a0_0x521bf9(0x365),a0_0x521bf9(0x26d),a0_0x521bf9(0x246),'last','groupadd')}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x521bf9(0x541),'properties':{'id':{'type':a0_0x521bf9(0x202)},'remoteJid':{'type':a0_0x521bf9(0x202)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x521bf9(0x2b5),a0_0x521bf9(0x6cd)],...E('id',a0_0x521bf9(0x6cd))},'messageTimestamp':{'type':a0_0x521bf9(0x481),'minLength':0x1}},'required':[a0_0x521bf9(0x4d2)],...E(a0_0x521bf9(0x27f))},'archive':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}},'required':[a0_0x521bf9(0x688),a0_0x521bf9(0x127)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x521bf9(0x202)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x521bf9(0x202)},'participant':{'type':a0_0x521bf9(0x202)}},'required':['id',a0_0x521bf9(0x2b5),'remoteJid'],...E('id',a0_0x521bf9(0x6cd),'participant')},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'where':{'type':a0_0x521bf9(0x541),'properties':{'_id':{'type':a0_0x521bf9(0x202),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x521bf9(0x202),'minLength':0x1}},...E(a0_0x521bf9(0x6ad),'id','pushName')}}},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'name':{'type':a0_0x521bf9(0x202)}},...E(a0_0x521bf9(0x423))},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':'string'}},...E(a0_0x521bf9(0x26d))},be={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x521bf9(0x202)}}},ja={'type':'object','properties':{'wuid':{'type':a0_0x521bf9(0x202)},'name':{'type':a0_0x521bf9(0x202)},'picture':{'type':a0_0x521bf9(0x202)},'status':{'type':a0_0x521bf9(0x202)},'isBusiness':{'type':'boolean'}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'where':{'type':a0_0x521bf9(0x541),'properties':{'_id':{'type':a0_0x521bf9(0x202),'minLength':0x1},'key':{'type':a0_0x521bf9(0x541),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x521bf9(0x4f4)},'id':{'type':'string','minLength':0x1,'description':a0_0x521bf9(0x4f4)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x521bf9(0x541)}},...E('_id')},'limit':{'type':a0_0x521bf9(0x481)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x521bf9(0x202)},'remoteJid':{'type':a0_0x521bf9(0x202)},'id':{'type':a0_0x521bf9(0x202)},'fromMe':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x521bf9(0x202)},'status':{'type':a0_0x521bf9(0x202),'enum':['ERROR',a0_0x521bf9(0x161),a0_0x521bf9(0x5df),a0_0x521bf9(0x466),'READ',a0_0x521bf9(0x20b)]}},...E(a0_0x521bf9(0x6ad),a0_0x521bf9(0x6cd),'id',a0_0x521bf9(0x26d))},'limit':{'type':'integer'}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x521bf9(0x71f),a0_0x521bf9(0x62f),a0_0x521bf9(0x474),a0_0x521bf9(0x1b1),a0_0x521bf9(0x2b9)]}},'required':[a0_0x521bf9(0x42e),a0_0x521bf9(0x33b)]},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x521bf9(0x202)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x521bf9(0x202),'minLength':0xa,'pattern':a0_0x521bf9(0x44a),'description':a0_0x521bf9(0x228)}}},'required':['subject','participants'],...E(a0_0x521bf9(0x5c9),a0_0x521bf9(0x4fb),a0_0x521bf9(0x70b))},Se={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x521bf9(0x202),'pattern':a0_0x521bf9(0x38c)}},'required':[a0_0x521bf9(0x305)],...E(a0_0x521bf9(0x305))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x521bf9(0x669),a0_0x521bf9(0x2de),a0_0x521bf9(0x49d),'demote']},'participants':{'type':a0_0x521bf9(0x4f6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x521bf9(0x44a),'description':a0_0x521bf9(0x228)}}},'required':['groupJid',a0_0x521bf9(0x539),a0_0x521bf9(0x282)],...E(a0_0x521bf9(0x305),a0_0x521bf9(0x539))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x521bf9(0x202)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x521bf9(0x305),a0_0x521bf9(0x528)],...E(a0_0x521bf9(0x305),'expiration')},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x521bf9(0x202)},'image':{'type':a0_0x521bf9(0x202)}},'required':[a0_0x521bf9(0x305),'image'],...E('groupJid',a0_0x521bf9(0x473))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid',a0_0x521bf9(0x4fb)],...E(a0_0x521bf9(0x305),a0_0x521bf9(0x4fb))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x521bf9(0x202)},'name':{'type':a0_0x521bf9(0x202)}},'required':['groupJid',a0_0x521bf9(0x423)],...E('groupJid',a0_0x521bf9(0x423))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'groupJid':{'type':a0_0x521bf9(0x202)},'setting':{'type':'string','enum':[a0_0x521bf9(0x15e),'not_announcement',a0_0x521bf9(0x743),a0_0x521bf9(0x184)]}},'required':[a0_0x521bf9(0x305),'setting'],...E(a0_0x521bf9(0x305),a0_0x521bf9(0x686))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x521bf9(0x3db)],...E('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x521bf9(0x541),'properties':{'url':{'type':a0_0x521bf9(0x202)},'enabled':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]}},'required':['url','enabled']},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x521bf9(0x59f),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x521bf9(0x2d4),'STATUS_INSTANCE',a0_0x521bf9(0x30f),a0_0x521bf9(0x242),a0_0x521bf9(0x490),a0_0x521bf9(0x6b5),a0_0x521bf9(0x150),a0_0x521bf9(0x364),a0_0x521bf9(0x5db),a0_0x521bf9(0x124),'PRESENCE_UPDATE',a0_0x521bf9(0x527),a0_0x521bf9(0x241),'CHATS_UPDATE',a0_0x521bf9(0x311),a0_0x521bf9(0x315),'GROUPS_UPSERT',a0_0x521bf9(0x1e9),a0_0x521bf9(0x4cf)],...E(a0_0x521bf9(0x2d4),'STATUS_INSTANCE',a0_0x521bf9(0x30f),'MESSAGES_SET',a0_0x521bf9(0x490),a0_0x521bf9(0x6b5),a0_0x521bf9(0x150),a0_0x521bf9(0x364),a0_0x521bf9(0x5db),'CONTACTS_UPDATE',a0_0x521bf9(0x653),a0_0x521bf9(0x527),a0_0x521bf9(0x241),a0_0x521bf9(0x3b0),a0_0x521bf9(0x311),a0_0x521bf9(0x315),a0_0x521bf9(0x706),a0_0x521bf9(0x1e9),a0_0x521bf9(0x4cf))},Ke=class{},Qe=class extends I{[a0_0x521bf9(0x607)](_0x263bab){return Vs(_0x263bab);}async['insert'](_0x115736){const _0x4295ed=a0_0x521bf9;if(_0x115736['length']!==0x0)try{return{'insertCount':(await this[_0x4295ed(0x607)](_0x115736[0x0][_0x4295ed(0x5e5)])[_0x4295ed(0x356)]([..._0x115736]))[_0x4295ed(0x4a0)]};}catch(_0x45f318){return _0x45f318;}}async[a0_0x521bf9(0x327)](_0x237df7,_0x5a5631){const _0x428f27=a0_0x521bf9;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x5a5631)[_0x428f27(0x255)]({..._0x237df7[_0x428f27(0x53c)]}))['deletedCount']};}catch(_0x3bd28f){return{'error':_0x3bd28f?.[_0x428f27(0x172)]()};}}async[a0_0x521bf9(0x343)](_0x44d7c8,_0x4ef2fc){const _0x52d218=a0_0x521bf9;try{if(_0x44d7c8[_0x52d218(0x4a0)]===0x0)return;let _0x425f28=this['getContactModelForOwner'](_0x4ef2fc),_0x4cb115=_0x44d7c8[_0x52d218(0x648)](_0x4098be=>({'updateOne':{'filter':{'_id':_0x4098be['_id'],'owner':_0x4ef2fc},'update':{..._0x4098be}}})),{modifiedCount:_0x390e97}=await _0x425f28[_0x52d218(0x108)](_0x4cb115);return{'insertCount':_0x390e97};}catch{return;}}async[a0_0x521bf9(0x375)](_0x4e88da,_0x408c81){const _0x9a19a1=a0_0x521bf9;try{let _0x274b7d=this['getContactModelForOwner'](_0x408c81),_0x30bc17=A(_0x4e88da['where']);return await _0x274b7d[_0x9a19a1(0x375)](_0x30bc17)[_0x9a19a1(0x4a1)](_0x4e88da?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x5da850,_0x51396b){const _0x219ea6=a0_0x521bf9;try{let _0x4c1039=this[_0x219ea6(0x607)](_0x51396b),_0x10a8da=A(_0x5da850[_0x219ea6(0x53c)]);return await _0x4c1039[_0x219ea6(0x1f2)](_0x10a8da)[_0x219ea6(0x3d9)]();}catch{return null;}}async[a0_0x521bf9(0x74a)](_0x21d292){const _0x82de87=a0_0x521bf9;try{return await this[_0x82de87(0x607)](_0x21d292)[_0x82de87(0x32c)][_0x82de87(0x14d)](),{'success':!0x0};}catch(_0xdbae3f){return console[_0x82de87(0x148)](_0xdbae3f),{'success':!0x1,'error':_0xdbae3f};}}},Ye=require(a0_0x521bf9(0x35f)),cc=require('express-async-errors'),us=new v('Validate'),j=class{[a0_0x521bf9(0x60a)](_0x59b181,_0x16d23c=!0x0){let _0x4a9961='/'+_0x59b181;return _0x16d23c&&(_0x4a9961+='/:instanceName'),_0x4a9961;}async[a0_0x521bf9(0x352)](_0x57b2bc){const _0x273536=a0_0x521bf9;let {request:_0x35f55e,schema:_0x13aeb1,ClassRef:_0x311d19,execute:_0xbf27d4}=_0x57b2bc,_0x35b9d3=new _0x311d19(),_0x3a5ed8=_0x35f55e[_0x273536(0x2c4)],_0x33ebcd=_0x35f55e[_0x273536(0x456)];_0x35f55e?.['query']&&Object[_0x273536(0x347)](_0x35f55e[_0x273536(0x1ae)])[_0x273536(0x4a0)]>0x0&&Object[_0x273536(0x1cc)](_0x33ebcd,_0x35f55e[_0x273536(0x1ae)]),_0x35f55e[_0x273536(0x565)]['includes']('/instance/create')&&Object['assign'](_0x33ebcd,_0x3a5ed8),Object[_0x273536(0x1cc)](_0x35b9d3,_0x3a5ed8);let _0x2af870=_0x13aeb1?(0x0,Ye[_0x273536(0x367)])(_0x35b9d3,_0x13aeb1):{'valid':!0x0,'errors':[]};if(!_0x2af870['valid']){let _0x29cff3=_0x2af870[_0x273536(0x36e)][_0x273536(0x648)](({property:_0x46308f,stack:_0xde7aee,schema:_0x15812c})=>{const _0x6d788e=_0x273536;let _0x199722;return _0x15812c[_0x6d788e(0x4fb)]?_0x199722=_0x15812c[_0x6d788e(0x4fb)]:_0x199722=_0xde7aee[_0x6d788e(0x27b)](_0x6d788e(0x665),''),{'property':_0x46308f[_0x6d788e(0x27b)](_0x6d788e(0x665),''),'message':_0x199722};});throw us[_0x273536(0x148)]([..._0x29cff3]),new m(..._0x29cff3);}return await _0xbf27d4(_0x33ebcd,_0x35b9d3);}async[a0_0x521bf9(0x1d4)](_0x54e44a){const _0x56eb05=a0_0x521bf9;let {request:_0x45743a,ClassRef:_0x26f076,schema:_0xca4781,execute:_0x493757}=_0x54e44a,_0x1e49e9=_0x45743a[_0x56eb05(0x1ae)];if(!_0x1e49e9?.[_0x56eb05(0x305)])throw new m(_0x56eb05(0x1d2),_0x56eb05(0x10c));let _0x41f658=_0x45743a[_0x56eb05(0x456)],_0x5646c0=_0x45743a['body'],_0x4e1735=new _0x26f076();Object[_0x56eb05(0x1cc)](_0x5646c0,_0x1e49e9),Object[_0x56eb05(0x1cc)](_0x4e1735,_0x5646c0);let _0x33b5f8=(0x0,Ye[_0x56eb05(0x367)])(_0x4e1735,_0xca4781);if(!_0x33b5f8['valid']){let _0x5c3e33=_0x33b5f8['errors'][_0x56eb05(0x648)](({property:_0x550ad3,stack:_0x1f99db,schema:_0x47d7b5})=>{const _0x2ac82d=_0x56eb05;let _0x4d9365;return _0x47d7b5['description']?_0x4d9365=_0x47d7b5['description']:_0x4d9365=_0x1f99db[_0x2ac82d(0x27b)]('instance.',''),{'property':_0x550ad3[_0x2ac82d(0x27b)](_0x2ac82d(0x665),''),'message':_0x4d9365};});throw us[_0x56eb05(0x148)]([..._0x5c3e33]),new m(..._0x5c3e33);}return await _0x493757(_0x41f658,_0x4e1735);}async['joinGroupValidate'](_0x3e1f8c){const _0x236b3d=a0_0x521bf9;let {request:_0x364d85,ClassRef:_0x211267,schema:_0x130a2d,execute:_0x3eabb9}=_0x3e1f8c,_0x5b5477=_0x364d85[_0x236b3d(0x2c4)];if(!_0x5b5477?.[_0x236b3d(0x3db)])throw new m(_0x236b3d(0x48e),_0x236b3d(0x74f));let _0x2ae0a3=_0x364d85[_0x236b3d(0x456)],_0x476c85=_0x364d85['body'],_0x4671cb=new _0x211267();Object[_0x236b3d(0x1cc)](_0x476c85,_0x5b5477),Object[_0x236b3d(0x1cc)](_0x4671cb,_0x476c85);let _0x3ff5f2=(0x0,Ye[_0x236b3d(0x367)])(_0x4671cb,_0x130a2d);if(!_0x3ff5f2[_0x236b3d(0x6eb)]){let _0x219ad6=_0x3ff5f2[_0x236b3d(0x36e)][_0x236b3d(0x648)](({property:_0x1a08aa,stack:_0x573079,schema:_0xb7da8e})=>{const _0x27b73c=_0x236b3d;let _0x18837a;return _0xb7da8e[_0x27b73c(0x4fb)]?_0x18837a=_0xb7da8e[_0x27b73c(0x4fb)]:_0x18837a=_0x573079[_0x27b73c(0x27b)]('instance.',''),{'property':_0x1a08aa['replace'](_0x27b73c(0x665),''),'message':_0x18837a};});throw us[_0x236b3d(0x148)]([..._0x219ad6]),new m(..._0x219ad6);}return await _0x3eabb9(_0x2ae0a3,_0x4671cb);}},S=class{},Mc=new v(a0_0x521bf9(0x609)),Xe=class extends j{constructor(..._0x383e22){const _0x41120d=a0_0x521bf9;super(),this['router']=(0x0,Za[_0x41120d(0x4ac)])(),this[_0x41120d(0x63f)]['post'](this[_0x41120d(0x60a)](_0x41120d(0x1e0)),..._0x383e22,async(_0x13e2a4,_0x1268ba)=>{const _0x2cdfd3=_0x41120d;let _0x1e8aa6=await this['dataValidate']({'request':_0x13e2a4,'schema':Va,'ClassRef':Fe,'execute':(_0x18d4e8,_0xa60e07)=>D[_0x2cdfd3(0x1e0)](_0x18d4e8,_0xa60e07)});return _0x1268ba[_0x2cdfd3(0x26d)](0xc9)[_0x2cdfd3(0x12e)](_0x1e8aa6);})[_0x41120d(0x1d9)](this['routerPath']('whatsappNumbers'),..._0x383e22,async(_0x122f9e,_0x10196b)=>{const _0x3ca78c=_0x41120d;let _0x1cd1c0=await this[_0x3ca78c(0x352)]({'request':_0x122f9e,'schema':Pa,'ClassRef':Ue,'execute':(_0x18c51c,_0x3c482e)=>D['whatsappNumber'](_0x18c51c,_0x3c482e)});return _0x10196b['status'](0xc9)['json'](_0x1cd1c0);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x738)),..._0x383e22,async(_0x19c55c,_0x319050)=>{const _0x241fd0=_0x41120d;let _0x107b51=await this[_0x241fd0(0x352)]({'request':_0x19c55c,'schema':M,'ClassRef':S,'execute':(_0x325eb7,_0x502c42)=>D[_0x241fd0(0x738)](_0x325eb7,_0x502c42)});return _0x319050[_0x241fd0(0x26d)](0xc9)[_0x241fd0(0x12e)](_0x107b51);})[_0x41120d(0x68e)](this[_0x41120d(0x60a)]('markMessageAsRead'),..._0x383e22,async(_0x1b2675,_0x5b5024)=>{const _0x271302=_0x41120d;let _0x5d5bfb=await this[_0x271302(0x352)]({'request':_0x1b2675,'schema':_a,'ClassRef':qe,'execute':(_0x169854,_0x3a8f9d)=>D['readMessage'](_0x169854,_0x3a8f9d)});return _0x5b5024[_0x271302(0x26d)](0xc9)[_0x271302(0x12e)](_0x5d5bfb);})['put'](this[_0x41120d(0x60a)](_0x41120d(0x411)),..._0x383e22,async(_0x3a822c,_0x9deead)=>{const _0x9faf17=_0x41120d;let _0x1b8d37=await this[_0x9faf17(0x352)]({'request':_0x3a822c,'schema':ka,'ClassRef':Ve,'execute':(_0x67e885,_0x150fc1)=>D[_0x9faf17(0x411)](_0x67e885,_0x150fc1)});return _0x9deead[_0x9faf17(0x26d)](0xc9)[_0x9faf17(0x12e)](_0x1b8d37);})['delete'](this['routerPath'](_0x41120d(0x6ea)),..._0x383e22,async(_0x45a8ed,_0x141f69)=>{const _0xde86da=_0x41120d;let _0x394d4f=await this[_0xde86da(0x352)]({'request':_0x45a8ed,'schema':La,'ClassRef':Ge,'execute':(_0x325a7e,_0x2c4569)=>D[_0xde86da(0x593)](_0x325a7e,_0x2c4569)});return _0x141f69[_0xde86da(0x26d)](0xc9)[_0xde86da(0x12e)](_0x394d4f);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x6d5)),..._0x383e22,async(_0x48bb77,_0x30b85d)=>{const _0x106a5a=_0x41120d;let _0x7c402e=await this['dataValidate']({'request':_0x48bb77,'schema':be,'ClassRef':we,'execute':(_0x2c2a27,_0x59952f)=>D[_0x106a5a(0x678)](_0x2c2a27,_0x59952f)});return _0x30b85d[_0x106a5a(0x26d)](0xc8)[_0x106a5a(0x12e)](_0x7c402e);})[_0x41120d(0x1d9)](this['routerPath'](_0x41120d(0x5de)),..._0x383e22,async(_0x358686,_0x5cdc1f)=>{const _0x3404b6=_0x41120d;let _0x14db40=await this['dataValidate']({'request':_0x358686,'schema':ja,'ClassRef':we,'execute':(_0x573f42,_0x1e7c55)=>D[_0x3404b6(0x5de)](_0x573f42,_0x1e7c55)});return _0x5cdc1f[_0x3404b6(0x26d)](0xc8)[_0x3404b6(0x12e)](_0x14db40);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x250)),..._0x383e22,async(_0x2c97be,_0x1c63c5)=>{const _0x49494a=_0x41120d;let _0x54ffb3=await this[_0x49494a(0x352)]({'request':_0x2c97be,'schema':Fa,'ClassRef':Ke,'execute':(_0xb72768,_0xfc83fd)=>D['fetchContacts'](_0xb72768,_0xfc83fd)});return _0x1c63c5[_0x49494a(0x26d)](0xc8)[_0x49494a(0x12e)](_0x54ffb3);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x1e2)),..._0x383e22,async(_0xbcefbb,_0x20d962)=>{const _0x1f2080=_0x41120d;let _0x3cf944=await this[_0x1f2080(0x352)]({'request':_0xbcefbb,'schema':null,'ClassRef':Object,'execute':(_0x20fffd,_0x447610)=>D[_0x1f2080(0x1e2)](_0x20fffd,_0x447610)});return _0x20d962[_0x1f2080(0x26d)](0xc9)[_0x1f2080(0x12e)](_0x3cf944);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x644)),..._0x383e22,async(_0x2c4924,_0x2d0cf5)=>{const _0x1800ed=_0x41120d;let _0x16ccf6=await this[_0x1800ed(0x352)]({'request':_0x2c4924,'schema':qa,'ClassRef':ke,'execute':(_0x548602,_0x1e30f5)=>D[_0x1800ed(0x210)](_0x548602,_0x1e30f5)});return _0x2d0cf5[_0x1800ed(0x26d)](0xc8)[_0x1800ed(0x12e)](_0x16ccf6);})[_0x41120d(0x51f)](this['routerPath'](_0x41120d(0x576)),..._0x383e22,async(_0x3ff5fb,_0x87f0c5)=>{const _0x25a5d2=_0x41120d;let _0x489a40=await this[_0x25a5d2(0x352)]({'request':_0x3ff5fb,'schema':null,'ClassRef':S,'execute':_0x55e3d2=>D[_0x25a5d2(0x5a6)](_0x55e3d2)});return _0x87f0c5['status'](0xc8)[_0x25a5d2(0x12e)](_0x489a40);})[_0x41120d(0x51f)](this[_0x41120d(0x60a)](_0x41120d(0x163)),..._0x383e22,async(_0x34ae7e,_0x4a3078)=>{const _0x2c6e6d=_0x41120d;let _0x28bc14=await this[_0x2c6e6d(0x352)]({'request':_0x34ae7e,'schema':null,'ClassRef':S,'execute':_0x14ab03=>D[_0x2c6e6d(0x243)](_0x14ab03)});return _0x4a3078['status'](0xc8)[_0x2c6e6d(0x12e)](_0x28bc14);})[_0x41120d(0x68e)](this['routerPath'](_0x41120d(0x144)),..._0x383e22,async(_0x4caaab,_0x406a18)=>{const _0x3db550=_0x41120d;let _0x344b23=await this[_0x3db550(0x352)]({'request':_0x4caaab,'schema':null,'ClassRef':Array,'execute':(_0x4d7667,_0x29ab66)=>D[_0x3db550(0x144)](_0x4d7667,_0x29ab66)});return _0x406a18[_0x3db550(0x26d)](0xc8)['json'](_0x344b23);})[_0x41120d(0x51f)](this['routerPath'](_0x41120d(0x656)),..._0x383e22,async(_0x3eb44d,_0x217b5b)=>{const _0x59e746=_0x41120d;let _0x4d4873=await this[_0x59e746(0x352)]({'request':_0x3eb44d,'schema':null,'ClassRef':S,'execute':_0x2f46ac=>D[_0x59e746(0x656)](_0x2f46ac)});return _0x217b5b[_0x59e746(0x26d)](0xc8)[_0x59e746(0x12e)](_0x4d4873);})[_0x41120d(0x68e)](this['routerPath'](_0x41120d(0x601)),..._0x383e22,async(_0x396001,_0x26a04c)=>{const _0x1ad3ea=_0x41120d;let _0x442e8b=await this[_0x1ad3ea(0x352)]({'request':_0x396001,'schema':$a,'ClassRef':Be,'execute':(_0x231fab,_0x3a35b0)=>D[_0x1ad3ea(0x601)](_0x231fab,_0x3a35b0)});return _0x26a04c[_0x1ad3ea(0x26d)](0xc9)[_0x1ad3ea(0x12e)](_0x442e8b);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)]('fetchBusinessProfile'),..._0x383e22,async(_0x465aa9,_0xfe301)=>{const _0x363db7=_0x41120d;let _0x185d95=await this[_0x363db7(0x352)]({'request':_0x465aa9,'schema':be,'ClassRef':me,'execute':(_0x290703,_0x162ba7)=>D[_0x363db7(0x1af)](_0x290703,_0x162ba7)});return _0xfe301['status'](0xc8)[_0x363db7(0x12e)](_0x185d95);})[_0x41120d(0x1d9)](this[_0x41120d(0x60a)](_0x41120d(0x1dc)),..._0x383e22,async(_0x156f68,_0x257dfa)=>{const _0x114220=_0x41120d;let _0x5dd04d=await this[_0x114220(0x352)]({'request':_0x156f68,'schema':Ua,'ClassRef':Je,'execute':(_0x237d81,_0x2d0b71)=>D[_0x114220(0x1dc)](_0x237d81,_0x2d0b71)});return _0x257dfa[_0x114220(0x26d)](0xc8)[_0x114220(0x12e)](_0x5dd04d);})['post'](this[_0x41120d(0x60a)](_0x41120d(0x6b2)),..._0x383e22,async(_0x39cca6,_0x3daa7b)=>{const _0x2cdcbe=_0x41120d;let _0x3ea3b8=await this[_0x2cdcbe(0x352)]({'request':_0x39cca6,'schema':Ja,'ClassRef':je,'execute':(_0x309967,_0x367725)=>D['updateProfileStatus'](_0x309967,_0x367725)});return _0x3daa7b[_0x2cdcbe(0x26d)](0xc8)[_0x2cdcbe(0x12e)](_0x3ea3b8);})['put'](this[_0x41120d(0x60a)](_0x41120d(0x4d6)),..._0x383e22,async(_0x1fb56b,_0x2be203)=>{const _0x30e7a5=_0x41120d;let _0x36bb96=await this['dataValidate']({'request':_0x1fb56b,'schema':be,'ClassRef':me,'execute':(_0x4626f8,_0x2ec666)=>D[_0x30e7a5(0x4d6)](_0x4626f8,_0x2ec666)});return _0x2be203['status'](0xc8)[_0x30e7a5(0x12e)](_0x36bb96);})[_0x41120d(0x327)](this[_0x41120d(0x60a)]('removeProfilePicture'),..._0x383e22,async(_0xb40a1c,_0x28b1db)=>{const _0x1dcfc3=_0x41120d;let _0x25b1e8=await this[_0x1dcfc3(0x352)]({'request':_0xb40a1c,'schema':be,'ClassRef':me,'execute':(_0x2b3dd4,_0x20b787)=>D['removeProfilePicture'](_0x2b3dd4,_0x20b787)});return _0x28b1db[_0x1dcfc3(0x26d)](0xc8)[_0x1dcfc3(0x12e)](_0x25b1e8);});}},er=require(a0_0x521bf9(0x557)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x4d0ff4){const _0x1f8696=a0_0x521bf9;super(),this[_0x1f8696(0x63f)]=(0x0,er['Router'])(),this[_0x1f8696(0x63f)]['post'](this[_0x1f8696(0x60a)](_0x1f8696(0x205)),..._0x4d0ff4,async(_0x12c47b,_0x2a03fd)=>{const _0x548888=_0x1f8696;let _0x3bb309=await this['dataValidate']({'request':_0x12c47b,'schema':Ba,'ClassRef':Ze,'execute':(_0x5a7f1f,_0x19ae08)=>J['createGroup'](_0x5a7f1f,_0x19ae08)});_0x2a03fd[_0x548888(0x26d)](0xc9)['json'](_0x3bb309);})['put'](this[_0x1f8696(0x60a)](_0x1f8696(0x4ea)),..._0x4d0ff4,async(_0x4cc60a,_0x1636f2)=>{const _0x3cbc85=_0x1f8696;let _0x16212b=await this['groupValidate']({'request':_0x4cc60a,'schema':za,'ClassRef':et,'execute':(_0x391d44,_0x3c2092)=>J[_0x3cbc85(0x4ea)](_0x391d44,_0x3c2092)});_0x1636f2[_0x3cbc85(0x26d)](0xc9)['json'](_0x16212b);})['put'](this[_0x1f8696(0x60a)](_0x1f8696(0x1b5)),..._0x4d0ff4,async(_0x49a47c,_0x2575bd)=>{const _0x211f7b=_0x1f8696;let _0x399b80=await this['groupValidate']({'request':_0x49a47c,'schema':Ha,'ClassRef':tt,'execute':(_0x3c605b,_0xec9830)=>J['groupDesc'](_0x3c605b,_0xec9830)});_0x2575bd[_0x211f7b(0x26d)](0xc9)[_0x211f7b(0x12e)](_0x399b80);})[_0x1f8696(0x68e)](this[_0x1f8696(0x60a)](_0x1f8696(0x519)),..._0x4d0ff4,async(_0xde97ef,_0xa33b11)=>{const _0x333fed=_0x1f8696;let _0x417d5f=await this['groupValidate']({'request':_0xde97ef,'schema':Ka,'ClassRef':st,'execute':(_0x2d6494,_0x22cfc8)=>J[_0x333fed(0x519)](_0x2d6494,_0x22cfc8)});_0xa33b11[_0x333fed(0x26d)](0xc9)['json'](_0x417d5f);})[_0x1f8696(0x68e)](this['routerPath'](_0x1f8696(0x293)),..._0x4d0ff4,async(_0x1db903,_0x26f3a3)=>{const _0x13981d=_0x1f8696;let _0x14ddbf=await this[_0x13981d(0x1d4)]({'request':_0x1db903,'schema':Qa,'ClassRef':at,'execute':(_0x51b0fb,_0x1133df)=>J[_0x13981d(0x293)](_0x51b0fb,_0x1133df)});_0x26f3a3[_0x13981d(0x26d)](0xc9)[_0x13981d(0x12e)](_0x14ddbf);})[_0x1f8696(0x68e)](this[_0x1f8696(0x60a)](_0x1f8696(0x5e7)),..._0x4d0ff4,async(_0x660d92,_0x101e9b)=>{const _0x32d5ca=_0x1f8696;let _0x5d2338=await this[_0x32d5ca(0x1d4)]({'request':_0x660d92,'schema':Wa,'ClassRef':it,'execute':(_0x517992,_0x41453f)=>J[_0x32d5ca(0x5e7)](_0x517992,_0x41453f)});_0x101e9b[_0x32d5ca(0x26d)](0xc9)[_0x32d5ca(0x12e)](_0x5d2338);})[_0x1f8696(0x51f)](this[_0x1f8696(0x60a)](_0x1f8696(0x427)),..._0x4d0ff4,async(_0x5c5c3f,_0x390920)=>{const _0x4f50b2=_0x1f8696;let _0x17e854=await this[_0x4f50b2(0x1d4)]({'request':_0x5c5c3f,'schema':Se,'ClassRef':Y,'execute':(_0x8093ee,_0x2e4273)=>J['findGroupInfo'](_0x8093ee,_0x2e4273)});_0x390920[_0x4f50b2(0x26d)](0xc8)[_0x4f50b2(0x12e)](_0x17e854);})['get'](this[_0x1f8696(0x60a)](_0x1f8696(0x5f4)),..._0x4d0ff4,async(_0x225a0f,_0x562ca4)=>{const _0x5e2688=_0x1f8696;let _0x485a4f=await this[_0x5e2688(0x352)]({'request':_0x225a0f,'schema':M,'ClassRef':S,'execute':_0x2d9d1b=>J['findGroups'](_0x2d9d1b)});_0x562ca4['status'](0xc8)[_0x5e2688(0x12e)](_0x485a4f);})[_0x1f8696(0x51f)](this['routerPath'](_0x1f8696(0x282)),..._0x4d0ff4,async(_0xd6d52,_0x5638c2)=>{const _0x2e7003=_0x1f8696;let _0x53a5f2=await this['groupValidate']({'request':_0xd6d52,'schema':Se,'ClassRef':Y,'execute':(_0x5f06ed,_0x45d49a)=>J['findParticipants'](_0x5f06ed,_0x45d49a)});_0x5638c2[_0x2e7003(0x26d)](0xc8)[_0x2e7003(0x12e)](_0x53a5f2);})['get'](this[_0x1f8696(0x60a)](_0x1f8696(0x3db)),..._0x4d0ff4,async(_0x228228,_0x82a942)=>{const _0x56c7ff=_0x1f8696;let _0x338829=await this[_0x56c7ff(0x1d4)]({'request':_0x228228,'schema':Se,'ClassRef':Y,'execute':(_0x4e4d18,_0xbb7b90)=>J[_0x56c7ff(0x3db)](_0x4e4d18,_0xbb7b90)});_0x82a942['status'](0xc8)['json'](_0x338829);})[_0x1f8696(0x68e)](this[_0x1f8696(0x60a)](_0x1f8696(0x5cd)),..._0x4d0ff4,async(_0x1988d4,_0x43934d)=>{const _0x37c632=_0x1f8696;let _0x344f99=await this[_0x37c632(0x51e)]({'request':_0x1988d4,'schema':Ya,'ClassRef':rt,'execute':(_0xd3f5e1,_0x17d0c9)=>J[_0x37c632(0x5cd)](_0xd3f5e1,_0x17d0c9)});_0x43934d[_0x37c632(0x26d)](0xc9)[_0x37c632(0x12e)](_0x344f99);})[_0x1f8696(0x68e)](this['routerPath']('revokeInviteCode'),..._0x4d0ff4,async(_0x5baf12,_0x5b8fca)=>{const _0x1e3f2=_0x1f8696;let _0x14f31c=await this[_0x1e3f2(0x1d4)]({'request':_0x5baf12,'schema':Se,'ClassRef':Y,'execute':(_0x599c26,_0x594ba7)=>J['revokeInviteCode'](_0x599c26,_0x594ba7)});_0x5b8fca['status'](0xc9)['json'](_0x14f31c);})[_0x1f8696(0x68e)](this['routerPath'](_0x1f8696(0x2d5)),..._0x4d0ff4,async(_0x24ad78,_0x3489c6)=>{const _0x4ba52d=_0x1f8696;let _0x536d6f=await this['groupValidate']({'request':_0x24ad78,'schema':Ga,'ClassRef':ot,'execute':(_0x1d60d3,_0x31bacc)=>J[_0x4ba52d(0x496)](_0x1d60d3,_0x31bacc)});_0x3489c6[_0x4ba52d(0x26d)](0xc9)['json'](_0x536d6f);})[_0x1f8696(0x327)](this['routerPath']('leaveGroup'),..._0x4d0ff4,async(_0x122548,_0xba32ec)=>{const _0x40d569=_0x1f8696;let _0x43818a=await this[_0x40d569(0x1d4)]({'request':_0x122548,'schema':{},'ClassRef':Y,'execute':(_0x4a9432,_0x4fa222)=>J[_0x40d569(0x40c)](_0x4a9432,_0x4fa222)});_0xba32ec['status'](0xc8)[_0x40d569(0x12e)](_0x43818a);});}},tr=require(a0_0x521bf9(0x557)),ct=class extends j{constructor(_0xf8b9a1,..._0x4ab7dc){const _0x35d333=a0_0x521bf9;super(),this[_0x35d333(0x57b)]=_0xf8b9a1,this[_0x35d333(0x63f)]=(0x0,tr[_0x35d333(0x4ac)])();let _0x51578c=_0xf8b9a1[_0x35d333(0x51f)]('AUTHENTICATION');this['router'][_0x35d333(0x1d9)](_0x35d333(0x433),..._0x4ab7dc,async(_0x5c6175,_0x2ae0d5)=>{const _0x412db5=_0x35d333;let {instanceName:_0x4dc554,apikey:_0x5f0ab4,number:_0x3653f6}=_0x5c6175[_0x412db5(0x2c4)],_0x433842=await re[_0x412db5(0x52b)]({'instanceName':_0x4dc554,'apikey':_0x5f0ab4,'number':_0x3653f6});return _0x2ae0d5[_0x412db5(0x26d)](0xc9)[_0x412db5(0x12e)](_0x433842);})[_0x35d333(0x68e)](this[_0x35d333(0x60a)](_0x35d333(0x5c1)),..._0x4ab7dc,async(_0x36723c,_0x12de9e)=>{const _0x11a37c=_0x35d333;let _0x6b4753=await this[_0x11a37c(0x352)]({'request':_0x36723c,'schema':M,'ClassRef':S,'execute':_0x1aabc5=>re[_0x11a37c(0x11b)](_0x1aabc5)});return _0x12de9e['status'](0xc8)['json'](_0x6b4753);})[_0x35d333(0x1d9)](this[_0x35d333(0x60a)](_0x35d333(0x652)),..._0x4ab7dc,async(_0x1c1596,_0x5667d3)=>{const _0xa88de3=_0x35d333;let _0x4368e5=await this[_0xa88de3(0x352)]({'request':_0x1c1596,'schema':M,'ClassRef':S,'execute':_0x203f01=>re[_0xa88de3(0x3b9)](_0x203f01)});return _0x5667d3[_0xa88de3(0x26d)](0xc8)[_0xa88de3(0x12e)](_0x4368e5);})[_0x35d333(0x51f)](this[_0x35d333(0x60a)](_0x35d333(0x6f6)),..._0x4ab7dc,async(_0x10f9c3,_0x39dd33)=>{const _0x14ef26=_0x35d333;let _0xe04ad3=await this[_0x14ef26(0x352)]({'request':_0x10f9c3,'schema':M,'ClassRef':S,'execute':_0x468ed1=>re[_0x14ef26(0x6f6)](_0x468ed1)});return _0x39dd33[_0x14ef26(0x26d)](0xc8)[_0x14ef26(0x12e)](_0xe04ad3);})[_0x35d333(0x51f)](this[_0x35d333(0x60a)](_0x35d333(0x585),!0x1),..._0x4ab7dc,async(_0x28ac06,_0x22e443)=>{const _0x44c7e5=_0x35d333;let _0x56b611=await this[_0x44c7e5(0x352)]({'request':_0x28ac06,'schema':null,'ClassRef':S,'execute':_0x27d4b1=>re[_0x44c7e5(0x585)](_0x27d4b1)});return _0x22e443[_0x44c7e5(0x26d)](0xc8)[_0x44c7e5(0x12e)](_0x56b611);})[_0x35d333(0x327)](this[_0x35d333(0x60a)](_0x35d333(0x6b8)),..._0x4ab7dc,async(_0xfab56b,_0x73e278)=>{const _0x583f2b=_0x35d333;let _0x40ee96=await this[_0x583f2b(0x352)]({'request':_0xfab56b,'schema':M,'ClassRef':S,'execute':_0x5b3fae=>re[_0x583f2b(0x6b8)](_0x5b3fae)});return _0x73e278[_0x583f2b(0x26d)](0xc8)[_0x583f2b(0x12e)](_0x40ee96);})[_0x35d333(0x327)](this[_0x35d333(0x60a)](_0x35d333(0x327)),..._0x4ab7dc,async(_0x277d4,_0x2affe3)=>{const _0x557d1c=_0x35d333;let _0x256c7b=await this[_0x557d1c(0x352)]({'request':_0x277d4,'schema':M,'ClassRef':S,'execute':_0x54c5b9=>re[_0x557d1c(0x5a5)](_0x54c5b9)});return _0x2affe3[_0x557d1c(0x26d)](0xc8)['json'](_0x256c7b);});}},sr=require(a0_0x521bf9(0x557)),ds=class{},W=class extends ds{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ee=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x4d100){const _0x55245=a0_0x521bf9;super(),this[_0x55245(0x63f)]=(0x0,sr[_0x55245(0x4ac)])(),this['router']['post'](this[_0x55245(0x60a)](_0x55245(0x64a)),..._0x4d100,async(_0x337a47,_0x2bc154)=>{const _0x142539=_0x55245;let _0x4f1ba9=await this[_0x142539(0x352)]({'request':_0x337a47,'schema':Sa,'ClassRef':lt,'execute':(_0x4d84ea,_0x3517b7)=>G[_0x142539(0x64a)](_0x4d84ea,_0x3517b7)});return _0x2bc154['status'](0xc9)['json'](_0x4f1ba9);})[_0x55245(0x1d9)](this[_0x55245(0x60a)](_0x55245(0x709)),..._0x4d100,async(_0x117f3b,_0x46b079)=>{const _0x48aa4f=_0x55245;let _0x935966=await this[_0x48aa4f(0x352)]({'request':_0x117f3b,'schema':va,'ClassRef':Ee,'execute':(_0x5c527d,_0x2219d1)=>G[_0x48aa4f(0x709)](_0x5c527d,_0x2219d1)});return _0x46b079[_0x48aa4f(0x26d)](0xc9)[_0x48aa4f(0x12e)](_0x935966);})[_0x55245(0x1d9)](this[_0x55245(0x60a)](_0x55245(0x6df)),..._0x4d100,async(_0xa994f,_0x5320e7)=>{const _0x274a22=_0x55245;let _0x52525b=await this[_0x274a22(0x352)]({'request':_0xa994f,'schema':Ta,'ClassRef':pt,'execute':(_0x3c023c,_0x505abf)=>G[_0x274a22(0x6df)](_0x3c023c,_0x505abf)});return _0x5320e7[_0x274a22(0x26d)](0xc9)[_0x274a22(0x12e)](_0x52525b);})[_0x55245(0x1d9)](this[_0x55245(0x60a)]('sendWhatsAppAudio'),..._0x4d100,async(_0x963c65,_0xf5d98e)=>{const _0x336d63=_0x55245;let _0x236d92=await this[_0x336d63(0x352)]({'request':_0x963c65,'schema':Na,'ClassRef':Ee,'execute':(_0x45a452,_0x3ee836)=>G[_0x336d63(0x277)](_0x45a452,_0x3ee836)});return _0xf5d98e['status'](0xc9)[_0x336d63(0x12e)](_0x236d92);})[_0x55245(0x1d9)](this[_0x55245(0x60a)]('sendButtons'),..._0x4d100,async(_0x42b67e,_0x1b101e)=>{const _0x17a040=_0x55245;let _0x140e98=await this[_0x17a040(0x352)]({'request':_0x42b67e,'schema':Aa,'ClassRef':mt,'execute':(_0x5eae46,_0x34ecbf)=>G[_0x17a040(0x683)](_0x5eae46,_0x34ecbf)});return _0x1b101e['status'](0xc9)[_0x17a040(0x12e)](_0x140e98);})['post'](this[_0x55245(0x60a)](_0x55245(0x73f)),..._0x4d100,async(_0x1605a3,_0x4d681b)=>{const _0x57bb99=_0x55245;let _0x15499a=await this[_0x57bb99(0x352)]({'request':_0x1605a3,'schema':Oa,'ClassRef':ht,'execute':(_0xb88520,_0x108aee)=>G[_0x57bb99(0x73f)](_0xb88520,_0x108aee)});return _0x4d681b[_0x57bb99(0x26d)](0xc9)[_0x57bb99(0x12e)](_0x15499a);})[_0x55245(0x1d9)](this['routerPath'](_0x55245(0x22a)),..._0x4d100,async(_0x1e6401,_0x374ede)=>{const _0x24e158=_0x55245;let _0x48ddcf=await this['dataValidate']({'request':_0x1e6401,'schema':Ia,'ClassRef':ft,'execute':(_0x75b802,_0x3dbf8f)=>G[_0x24e158(0x22a)](_0x75b802,_0x3dbf8f)});return _0x374ede[_0x24e158(0x26d)](0xc9)[_0x24e158(0x12e)](_0x48ddcf);})[_0x55245(0x1d9)](this['routerPath'](_0x55245(0x304)),..._0x4d100,async(_0x32bac8,_0x5357)=>{const _0x5960a3=_0x55245;let _0x41c504=await this[_0x5960a3(0x352)]({'request':_0x32bac8,'schema':Da,'ClassRef':yt,'execute':(_0x39cbd8,_0x2fc178)=>G[_0x5960a3(0x304)](_0x39cbd8,_0x2fc178)});return _0x5357[_0x5960a3(0x26d)](0xc9)['json'](_0x41c504);})[_0x55245(0x1d9)](this[_0x55245(0x60a)](_0x55245(0x5a8)),..._0x4d100,async(_0x28ba45,_0x493c94)=>{const _0x4c302d=_0x55245;let _0x55f8e5=await this[_0x4c302d(0x352)]({'request':_0x28ba45,'schema':xa,'ClassRef':wt,'execute':(_0xa5d8f5,_0x5caf1f)=>G[_0x4c302d(0x5a8)](_0xa5d8f5,_0x5caf1f)});return _0x493c94['status'](0xc9)[_0x4c302d(0x12e)](_0x55f8e5);})[_0x55245(0x1d9)](this[_0x55245(0x60a)](_0x55245(0x6de)),..._0x4d100,async(_0xa6729d,_0x57267f)=>{const _0x50a96b=_0x55245;let _0x28a4a8=await this[_0x50a96b(0x352)]({'request':_0xa6729d,'schema':Ra,'ClassRef':dt,'execute':(_0x1056eb,_0x3e0139)=>G['sendPoll'](_0x1056eb,_0x3e0139)});return _0x57267f[_0x50a96b(0x26d)](0xc9)[_0x50a96b(0x12e)](_0x28a4a8);})[_0x55245(0x1d9)](this[_0x55245(0x60a)](_0x55245(0x3bf)),..._0x4d100,async(_0x37c7a4,_0x46612b)=>{const _0x4eeaf2=_0x55245;let _0x16fca6=await this[_0x4eeaf2(0x352)]({'request':_0x37c7a4,'schema':Ma,'ClassRef':ut,'execute':(_0x203862,_0x40e6ab)=>G[_0x4eeaf2(0x3bf)](_0x203862,_0x40e6ab)});return _0x46612b[_0x4eeaf2(0x26d)](0xc9)[_0x4eeaf2(0x12e)](_0x16fca6);})[_0x55245(0x1d9)](this['routerPath'](_0x55245(0x5d8)),..._0x4d100,async(_0x5a82ed,_0x4d642a)=>{const _0x1f8032=_0x55245;let _0x18e3d1=await this[_0x1f8032(0x352)]({'request':_0x5a82ed,'schema':Ca,'ClassRef':gt,'execute':(_0xd40159,_0x529c2d)=>G[_0x1f8032(0x5d8)](_0xd40159,_0x529c2d)});return _0x4d642a['status'](0xc9)['json'](_0x18e3d1);});}},ar=require(a0_0x521bf9(0x557)),St=class{},Et=class extends j{constructor(..._0x551fd3){const _0x2f571f=a0_0x521bf9;super(),this[_0x2f571f(0x63f)]=(0x0,ar[_0x2f571f(0x4ac)])(),this['router'][_0x2f571f(0x1d9)](this[_0x2f571f(0x60a)](_0x2f571f(0x3dd)),..._0x551fd3,async(_0x3f59d9,_0x523ad9)=>{const _0x8014f9=_0x2f571f;let _0x119a70=await this['dataValidate']({'request':_0x3f59d9,'schema':Xa,'ClassRef':St,'execute':(_0xb7350c,_0x2757b2)=>ps['createWebhook'](_0xb7350c,_0x2757b2)});_0x523ad9[_0x8014f9(0x26d)](0xc9)[_0x8014f9(0x12e)](_0x119a70);})['get'](this[_0x2f571f(0x60a)](_0x2f571f(0x375)),..._0x551fd3,async(_0xebd076,_0x1e4dc1)=>{const _0x39532e=_0x2f571f;let _0x2c201e=await this[_0x39532e(0x352)]({'request':_0xebd076,'schema':M,'ClassRef':S,'execute':_0x14dcf6=>ps[_0x39532e(0x5ac)](_0x14dcf6)});_0x1e4dc1['status'](0xc8)['json'](_0x2c201e);});}},rr=require('express'),f=new v(a0_0x521bf9(0x627)),Ct=class extends j{constructor(..._0x165cb6){const _0x1e5c00=a0_0x521bf9;super(),this['router']=(0x0,rr[_0x1e5c00(0x4ac)])(),this[_0x1e5c00(0x63f)][_0x1e5c00(0x1d9)](this['routerPath']('scheduleMessage'),..._0x165cb6,async(_0x4db675,_0x2d63ad)=>{const _0x4bfe2c=_0x1e5c00;let _0x35c984=_0x4db675[_0x4bfe2c(0x2c4)];f[_0x4bfe2c(0x5ab)](_0x4bfe2c(0x6e0)),f['verbose'](_0x4bfe2c(0x4ca)),f[_0x4bfe2c(0x5ab)](_0x4db675[_0x4bfe2c(0x2c4)]);let _0x5315c1=await this[_0x4bfe2c(0x352)]({'request':_0x4db675,'schema':M,'ClassRef':S,'execute':_0x582006=>T[_0x4bfe2c(0x1e6)](_0x582006,_0x35c984)});_0x2d63ad[_0x4bfe2c(0x26d)](0xc8)[_0x4bfe2c(0x12e)](_0x5315c1);})['get'](this[_0x1e5c00(0x60a)](_0x1e5c00(0x550)),..._0x165cb6,async(_0x1402cc,_0x158b25)=>{const _0x54f691=_0x1e5c00;let _0x5b6f5f=await this[_0x54f691(0x352)]({'request':_0x1402cc,'schema':M,'ClassRef':S,'execute':_0x4d3c9f=>T['getScheduleMessage'](_0x4d3c9f)});_0x158b25[_0x54f691(0x26d)](0xc8)[_0x54f691(0x12e)](_0x5b6f5f);})[_0x1e5c00(0x327)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x2db)),..._0x165cb6,async(_0x5016a3,_0x3fe2d5)=>{const _0x41f2a0=_0x1e5c00;f['verbose'](_0x41f2a0(0x1ec));let _0x5a245c=await this[_0x41f2a0(0x352)]({'request':_0x5016a3,'schema':M,'ClassRef':S,'execute':_0x57a79c=>T[_0x41f2a0(0x2db)](_0x57a79c)});_0x3fe2d5[_0x41f2a0(0x26d)](0xc8)[_0x41f2a0(0x12e)](_0x5a245c);})['post'](this['routerPath'](_0x1e5c00(0x31c)),..._0x165cb6,async(_0x57e568,_0x957049)=>{const _0x45c137=_0x1e5c00;let _0x58ac77=_0x57e568[_0x45c137(0x2c4)];f[_0x45c137(0x5ab)](_0x45c137(0x573)),f['verbose'](_0x45c137(0x4ca)),f[_0x45c137(0x5ab)](_0x57e568[_0x45c137(0x2c4)]);let _0x3e4587=await this['dataValidate']({'request':_0x57e568,'schema':M,'ClassRef':S,'execute':_0x378b1e=>T[_0x45c137(0x31c)](_0x378b1e,_0x58ac77)});_0x957049['status'](0xc8)[_0x45c137(0x12e)](_0x3e4587);})['get'](this[_0x1e5c00(0x60a)](_0x1e5c00(0x556)),..._0x165cb6,async(_0x5a9765,_0x516331)=>{const _0x554179=_0x1e5c00;f[_0x554179(0x5ab)]('request\x20received\x20in\x20getAutomateSystem');let _0x2937a1=await this[_0x554179(0x352)]({'request':_0x5a9765,'schema':M,'ClassRef':S,'execute':_0x545f8d=>T[_0x554179(0x556)](_0x545f8d)});_0x516331[_0x554179(0x26d)](0xc8)['json'](_0x2937a1);})[_0x1e5c00(0x51f)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x366)),..._0x165cb6,async(_0xfd938f,_0x392e79)=>{const _0x360330=_0x1e5c00;f[_0x360330(0x5ab)](_0x360330(0x6dc));let _0x52c567=await this[_0x360330(0x352)]({'request':_0xfd938f,'schema':M,'ClassRef':S,'execute':_0x3fe458=>T[_0x360330(0x556)](_0x3fe458)});_0x392e79[_0x360330(0x26d)](0xc8)[_0x360330(0x12e)](_0x52c567);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)]('updateAgent'),..._0x165cb6,async(_0x48b7c3,_0x59a713)=>{const _0x19b987=_0x1e5c00;let _0x27cabd=_0x48b7c3[_0x19b987(0x2c4)];f[_0x19b987(0x5ab)](_0x19b987(0x4ab)),f[_0x19b987(0x5ab)](_0x19b987(0x4ca)),f[_0x19b987(0x5ab)](_0x48b7c3[_0x19b987(0x2c4)]);let _0x3626d9=await this[_0x19b987(0x352)]({'request':_0x48b7c3,'schema':M,'ClassRef':S,'execute':_0x2da746=>T['updateAgent'](_0x2da746,_0x27cabd)});_0x59a713['status'](0xc8)['json'](_0x3626d9);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)]('updateCustomFields'),..._0x165cb6,async(_0x5b98c0,_0x5898f7)=>{const _0x22207e=_0x1e5c00;let _0x4410db=_0x5b98c0[_0x22207e(0x2c4)];f[_0x22207e(0x5ab)](_0x22207e(0x2f7)),f[_0x22207e(0x5ab)](_0x22207e(0x4ca)),f[_0x22207e(0x5ab)](_0x5b98c0[_0x22207e(0x2c4)]);let _0x14d538=await this['dataValidate']({'request':_0x5b98c0,'schema':M,'ClassRef':S,'execute':_0x5d2d35=>T[_0x22207e(0x21f)](_0x5d2d35,_0x4410db)});_0x5898f7[_0x22207e(0x26d)](0xc8)[_0x22207e(0x12e)](_0x14d538);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x339)),..._0x165cb6,async(_0x19f580,_0x1c65f3)=>{const _0x1b5cad=_0x1e5c00;let _0x1ddfc4=_0x19f580[_0x1b5cad(0x2c4)];f[_0x1b5cad(0x5ab)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x1b5cad(0x5ab)]('request\x20body:\x20'),f[_0x1b5cad(0x5ab)](_0x19f580['body']);let _0x2d906a=await this[_0x1b5cad(0x352)]({'request':_0x19f580,'schema':M,'ClassRef':S,'execute':_0x4eea83=>T['updateFlowConfig'](_0x4eea83,_0x1ddfc4)});_0x1c65f3['status'](0xc8)[_0x1b5cad(0x12e)](_0x2d906a);})['post'](this[_0x1e5c00(0x60a)](_0x1e5c00(0x1fd)),..._0x165cb6,async(_0x1ff00f,_0x3031ba)=>{const _0xec46b0=_0x1e5c00;let _0x3f0d9a=_0x1ff00f['body'];f['verbose'](_0xec46b0(0x54f)),f['verbose'](_0xec46b0(0x4ca)),f['verbose'](_0x1ff00f[_0xec46b0(0x2c4)]);let _0x3597b3=await this['dataValidate']({'request':_0x1ff00f,'schema':M,'ClassRef':S,'execute':_0x401896=>T[_0xec46b0(0x1fd)](_0x401896,_0x3f0d9a)});_0x3031ba['status'](0xc8)['json'](_0x3597b3);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x4f5)),..._0x165cb6,async(_0x5c36a9,_0x8b4f51)=>{const _0x51904a=_0x1e5c00;let _0x586a42=_0x5c36a9['body'];f[_0x51904a(0x5ab)](_0x51904a(0x224)),f['verbose'](_0x51904a(0x4ca)),f[_0x51904a(0x5ab)](_0x5c36a9['body']);let _0x13ce98=await this[_0x51904a(0x352)]({'request':_0x5c36a9,'schema':M,'ClassRef':S,'execute':_0xe59c00=>T[_0x51904a(0x4f5)](_0xe59c00,_0x586a42)});_0x8b4f51[_0x51904a(0x26d)](0xc8)[_0x51904a(0x12e)](_0x13ce98);})[_0x1e5c00(0x1d9)](this['routerPath'](_0x1e5c00(0x671)),..._0x165cb6,async(_0x2d5633,_0x1fb32c)=>{const _0x540942=_0x1e5c00;let _0x55683a=_0x2d5633[_0x540942(0x2c4)];f[_0x540942(0x5ab)](_0x540942(0x3a0)),f[_0x540942(0x5ab)](_0x540942(0x4ca)),f[_0x540942(0x5ab)](_0x2d5633[_0x540942(0x2c4)]);let _0x4a812b=await this[_0x540942(0x352)]({'request':_0x2d5633,'schema':M,'ClassRef':S,'execute':_0x3418b7=>T[_0x540942(0x671)](_0x3418b7,_0x55683a)});_0x1fb32c[_0x540942(0x26d)](0xc8)[_0x540942(0x12e)](_0x4a812b);})[_0x1e5c00(0x327)](this['routerPath'](_0x1e5c00(0x45a)),..._0x165cb6,async(_0x47653d,_0x4c4de7)=>{const _0x341dfd=_0x1e5c00;let _0x43e931=_0x47653d[_0x341dfd(0x2c4)];f['verbose']('request\x20received\x20in\x20deleteConversation'),f[_0x341dfd(0x5ab)](_0x341dfd(0x4ca)),f['verbose'](_0x47653d[_0x341dfd(0x2c4)]);let _0x177a03=await this[_0x341dfd(0x352)]({'request':_0x47653d,'schema':M,'ClassRef':S,'execute':_0x4fae20=>T[_0x341dfd(0x45a)](_0x4fae20,_0x43e931)});_0x4c4de7['status'](0xc8)['json'](_0x177a03);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x65b)),..._0x165cb6,async(_0x10673c,_0x5cc67e)=>{const _0x1698bb=_0x1e5c00;let _0xdc51b7=_0x10673c[_0x1698bb(0x2c4)];f[_0x1698bb(0x5ab)](_0x1698bb(0x2ba)),f[_0x1698bb(0x5ab)](_0x1698bb(0x4ca)),f[_0x1698bb(0x5ab)](_0x10673c['body']);let _0x5ac53d=await this[_0x1698bb(0x352)]({'request':_0x10673c,'schema':M,'ClassRef':S,'execute':_0x44d5a3=>T[_0x1698bb(0x55e)](_0x44d5a3,_0xdc51b7)});_0x5cc67e['status'](0xc8)[_0x1698bb(0x12e)](_0x5ac53d);})[_0x1e5c00(0x1d9)](this['routerPath'](_0x1e5c00(0x2d7)),..._0x165cb6,async(_0x3281be,_0x4c50b4)=>{const _0x558c79=_0x1e5c00;let _0x162602=_0x3281be[_0x558c79(0x2c4)];f['verbose'](_0x558c79(0x74b)),f[_0x558c79(0x5ab)](_0x558c79(0x4ca)),f[_0x558c79(0x5ab)](_0x3281be[_0x558c79(0x2c4)]),delete _0x162602[_0x558c79(0x552)],delete _0x162602['variables'],delete _0x162602[_0x558c79(0x461)],delete _0x162602['conditions'];let _0x3a6938=await this['dataValidate']({'request':_0x3281be,'schema':M,'ClassRef':S,'execute':_0x116741=>T[_0x558c79(0x397)](_0x116741,_0x162602)});_0x4c50b4['status'](0xc8)[_0x558c79(0x12e)](_0x3a6938);})['post'](this['routerPath'](_0x1e5c00(0x355)),..._0x165cb6,async(_0x391898,_0x483314)=>{const _0xfe9586=_0x1e5c00;let _0x4645dd=_0x391898[_0xfe9586(0x2c4)];f[_0xfe9586(0x5ab)]('request\x20received\x20in\x20editFlow'),f['verbose']('request\x20body:\x20'),f[_0xfe9586(0x5ab)](_0x391898['body']);let _0x21a40a=await this['dataValidate']({'request':_0x391898,'schema':M,'ClassRef':S,'execute':_0x46a3c6=>T[_0xfe9586(0x426)](_0x46a3c6,_0x4645dd)});_0x483314['status'](0xc8)[_0xfe9586(0x12e)](_0x21a40a);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)]('editflowreply'),..._0x165cb6,async(_0xa168f,_0x364438)=>{const _0x1f54c5=_0x1e5c00;let _0x35efb6=_0xa168f['body'];f[_0x1f54c5(0x5ab)]('request\x20received\x20in\x20editFlow'),f[_0x1f54c5(0x5ab)](_0x1f54c5(0x4ca)),f['verbose'](_0xa168f[_0x1f54c5(0x2c4)]);let _0x76f9e3=await this[_0x1f54c5(0x352)]({'request':_0xa168f,'schema':M,'ClassRef':S,'execute':_0x3569d8=>T['editFlowReply'](_0x3569d8,_0x35efb6)});_0x364438['status'](0xc8)[_0x1f54c5(0x12e)](_0x76f9e3);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x691)),..._0x165cb6,async(_0x3346cf,_0x40fa73)=>{const _0x365e33=_0x1e5c00;let _0x248f77=_0x3346cf[_0x365e33(0x2c4)];f['verbose'](_0x365e33(0x74b)),f['verbose']('request\x20body:\x20'),f[_0x365e33(0x5ab)](_0x3346cf['body']);let _0x1668a0=await this[_0x365e33(0x352)]({'request':_0x3346cf,'schema':M,'ClassRef':S,'execute':_0x3ed6de=>T[_0x365e33(0x268)](_0x3ed6de,_0x248f77)});_0x40fa73[_0x365e33(0x26d)](0xc8)[_0x365e33(0x12e)](_0x1668a0);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)]('editflowgroup'),..._0x165cb6,async(_0x12dda4,_0x3d028d)=>{const _0xfbd2de=_0x1e5c00;let _0x58cd86=_0x12dda4[_0xfbd2de(0x2c4)];f[_0xfbd2de(0x5ab)](_0xfbd2de(0x687)),f[_0xfbd2de(0x5ab)](_0xfbd2de(0x4ca)),f['verbose'](_0x12dda4[_0xfbd2de(0x2c4)]);let _0x172155=await this[_0xfbd2de(0x352)]({'request':_0x12dda4,'schema':M,'ClassRef':S,'execute':_0x322c55=>T[_0xfbd2de(0x6d2)](_0x322c55,_0x58cd86)});_0x3d028d['status'](0xc8)[_0xfbd2de(0x12e)](_0x172155);})[_0x1e5c00(0x1d9)](this[_0x1e5c00(0x60a)]('editflowcondition'),..._0x165cb6,async(_0x3a7a3c,_0x31e907)=>{const _0x53ffe2=_0x1e5c00;let _0x379061=_0x3a7a3c[_0x53ffe2(0x2c4)];f[_0x53ffe2(0x5ab)](_0x53ffe2(0x597)),f[_0x53ffe2(0x5ab)](_0x53ffe2(0x4ca)),f[_0x53ffe2(0x5ab)](_0x3a7a3c[_0x53ffe2(0x2c4)]);let _0x4392e1=await this[_0x53ffe2(0x352)]({'request':_0x3a7a3c,'schema':M,'ClassRef':S,'execute':_0x30bebf=>T[_0x53ffe2(0x19e)](_0x30bebf,_0x379061)});_0x31e907[_0x53ffe2(0x26d)](0xc8)[_0x53ffe2(0x12e)](_0x4392e1);})['post'](this[_0x1e5c00(0x60a)]('editflowvariable'),..._0x165cb6,async(_0x31bd0d,_0x82456c)=>{const _0x263a3a=_0x1e5c00;let _0x5efb6b=_0x31bd0d[_0x263a3a(0x2c4)];f[_0x263a3a(0x5ab)](_0x263a3a(0x5dd)),f[_0x263a3a(0x5ab)](_0x263a3a(0x4ca)),f[_0x263a3a(0x5ab)](_0x31bd0d['body']);let _0x4abb30=await this['dataValidate']({'request':_0x31bd0d,'schema':M,'ClassRef':S,'execute':_0x57e96a=>T[_0x263a3a(0x10d)](_0x57e96a,_0x5efb6b)});_0x82456c['status'](0xc8)[_0x263a3a(0x12e)](_0x4abb30);})['post'](this[_0x1e5c00(0x60a)]('getflow'),..._0x165cb6,async(_0x1f5fbe,_0x15c62c)=>{const _0x1b7cdf=_0x1e5c00;let _0xb212c1=_0x1f5fbe[_0x1b7cdf(0x2c4)];f[_0x1b7cdf(0x5ab)]('request\x20received\x20in\x20getFlow'),f[_0x1b7cdf(0x5ab)](_0x1b7cdf(0x4ca)),f[_0x1b7cdf(0x5ab)](_0x1f5fbe[_0x1b7cdf(0x2c4)]);let _0x19c8bf=await this[_0x1b7cdf(0x352)]({'request':_0x1f5fbe,'schema':M,'ClassRef':S,'execute':_0x5ede81=>T[_0x1b7cdf(0x316)](_0x5ede81,_0xb212c1)});_0x15c62c['status'](0xc8)['json'](_0x19c8bf);})[_0x1e5c00(0x327)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x123)),..._0x165cb6,async(_0x95af7b,_0x3d14de)=>{const _0x30dce3=_0x1e5c00;let _0x5e8633=_0x95af7b[_0x30dce3(0x2c4)];f[_0x30dce3(0x5ab)](_0x30dce3(0x454)),f['verbose'](_0x30dce3(0x4ca)),f[_0x30dce3(0x5ab)](_0x95af7b[_0x30dce3(0x2c4)]);let _0x3b0c57=await this[_0x30dce3(0x352)]({'request':_0x95af7b,'schema':M,'ClassRef':S,'execute':_0x55492c=>T[_0x30dce3(0x493)](_0x55492c,_0x5e8633)});_0x3d14de[_0x30dce3(0x26d)](0xc8)['json'](_0x3b0c57);})[_0x1e5c00(0x51f)](this[_0x1e5c00(0x60a)](_0x1e5c00(0x5c4)),..._0x165cb6,async(_0x598b56,_0x4af582)=>{const _0x491840=_0x1e5c00;f[_0x491840(0x5ab)]('request\x20received\x20in\x20allFlows');let _0x497edf=await this['dataValidate']({'request':_0x598b56,'schema':M,'ClassRef':S,'execute':_0x3da966=>T[_0x491840(0x3fe)](_0x3da966)});_0x4af582[_0x491840(0x26d)](0xc8)['json'](_0x497edf);});}},cr=R(require(a0_0x521bf9(0x247))),X={};function or(_0x265283,_0x40a67b,_0x7dd852,_0x49e330){X[_0x265283]||(X[_0x265283]={}),X[_0x265283][_0x40a67b]={'id':_0x40a67b,'response':_0x7dd852,'events':_0x49e330};}function ir(_0x2f5eda,_0x512ac8){!X[_0x2f5eda]||!X[_0x2f5eda][_0x512ac8]||delete X[_0x2f5eda][_0x512ac8];}function q(_0x12fe29,_0x3948d8,_0x589a22){const _0xe5f79=a0_0x521bf9;if(!X[_0x12fe29])return;let _0x3b912b='data:\x20'+JSON[_0xe5f79(0x62e)](_0x589a22)+'\x0a\x0a';Object['values'](X[_0x12fe29])[_0xe5f79(0x592)](_0x1583c3=>{const _0x31b023=_0xe5f79;_0x1583c3['events']['includes'](_0x3948d8)&&_0x1583c3[_0x31b023(0x2fb)]['write'](_0x3b912b);});}function a0_0x5735(){const _0x2d8d02=['fetchChats','updateProfilePicturePrivacy','sendReaction','delAll',',\x20Resultado:\x20','verbose','findWebhook','createConversationforStartFlow','licenca','replaceVariables','Instance\x20restarted','errorLog','hGetAll','getScheduleMessage','logger','closeExistingConversations','):\x20Conversa\x20atualizada\x20em\x20memória','waitingForReplyMenu','messagesSend','labels.association','temp-','Cannot\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','subjectOwner','@whiskeysockets/baileys','load','menuType','restart','findOrCreate','END:VCARD','allflows','\x1b[41m','delay','status.instance','agents','subject','isConnected','optionDescription','redirect','joinGroup','\x22\x20-\x20NOT\x20CONNECTION','messaging-history.set','ChatModel','):\x20Visualizando\x20AutomateSystem','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','CREDENTIALS','Erro\x20ao\x20remover\x20instâncias\x20antigas:','preview','chat','):\x20Criou\x20conversa\x20no\x20startFlow:','sendSticker','E-mail:\x20','findOneAndUpdate','CONTACTS_UPSERT','./.git/config','request\x20received\x20in\x20editFlowvariable','fetchProfile','SERVER_ACK','Flow\x20não\x20encontrado','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20conversation.lastInteraction:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','pop','owner','ListType','toggleEphemeral','):\x20Buscando\x20todos\x20os\x20fluxos...','Invalid\x20format','sendMessageWithTyping','bodyString','\x1b[31m','addReplyOption','/media/','messages.update','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Getting\x20image\x20from\x20url','floor','getOwnPropertyNames','findGroups','proxy','VERBOSE','mongodb://','DisconnectReason','less','flushHeaders','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','utf-8','Error\x20updating\x20profile\x20status','26712xQxJmE','\x20minutos','updatePrivacySettings','contactHandle','waInstances','\x20foi\x20interrompido\x20pelo\x20usuário.','Erro\x20ao\x20editar\x20agentes:\x20','context','getContactModelForOwner','--standalone','ChatRouter','routerPath','font','createJid','insert','webp','ignoreGroups','node-mime-types','/instance','mediatype','Unknown\x20message\x20type\x20or\x20empty\x20message','SERVER_URL','No\x20join\x20group\x20invite\x20code\x20or\x20url','flattenObject','privacySettings','saveTextReply','getOwnPropertyDescriptor','sendPresenceUpdate','BufferJSON','updateMessage','.mp3','):\x20Flow\x20não\x20encontrado','Erro\x20ao\x20adicionar\x20label\x20','pollCreationMessageV3','Last\x20message\x20not\x20found','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','URL:','archived','findById','nomecompleto','FlowRouter','uncaughtException','true','lastBlockId','enabled','use','SSL_CONF','stringify','available','sending','Erro\x20de\x20reinicialização:\x20','Chrome','):\x20expirationTime:\x20','URL','statusJidList','deleteOne','Erro\x20ao\x20remover\x20label\x20','hasOwnProperty','mentioned','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','DATABASE_CONNECTION_USER','SUCCESS','menuExpiredMessage','replyOption','router','^\x5cd+[\x5c.@\x5cw-]+','.webp','unreadCount','random','findMessages','chats.delete','urlencoded','\x1b[34m%s\x1b[0m','map','resetReconnectionVariables','sendText','Temp\x20audio\x20path:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','pollUpdateMessage','Type\x20defined\x20as\x20audio','connectionClosed','label','currency','connect','PRESENCE_UPDATE','saveCreds','trimmed','fetchPrivacySettings','\x1b[0m','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','toUpperCase','createflow','verifiedName','scheduled','ObjectId','Converted\x20image\x20deleted','AddChatLabel','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','BRL','):\x20Editando\x20condição\x20do\x20fluxo...','audioWhatsapp','instance.','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Não\x20respondeu\x20com\x20a\x20enquete.','AppStateSyncKeyData','add','menuMessage','sticker','DATABASE_CONNECTION_PASSWORD','isJidGroup','longitude','replaceVariablesChat','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','editConversation','phoneNumber','):\x20Enviando\x20áudio','DATABASE_CONNECTION_DB_PREFIX_NAME','updateAll','https://github.com/uazapi/uazapi.git','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','fetchProfilePicture','getDevice','.png','proxy-agent','CORS','protocol','groupInviteCode','):\x20Limpando\x20delayMessage','mentions','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','sendButtons','variables','sendMessage','setting','request\x20received\x20in\x20editFlowgroup','lastMessage','The\x20instance\x20needs\x20to\x20be\x20disconnected','-instances','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','remoteJidsRemaining','\x1b[37m%s\x1b[0m','put','DEBUG','reconnectAttempts','editflowvaredit','URI','atendimentoAberto','chats.upsert','writeData','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','WARN','editFlowReply','vcard','#ffffff','normalizeMessage','Fluxo\x20não\x20encontrado','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','linkPreview','createConversationforgoToFlow','fetchContacts','poll','InstancesAlterarTodas','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','node-cache','uazapi','host','out','binary','/media','.\x20Pulando.','):\x20Buscando\x20conversa...','Formato\x20inválido\x20de\x20proxy','_id','scheduleSendMedia','groupFetchAllParticipating','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','updateProfileStatus','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','MESSAGES_UPSERT','):\x20Campos\x20a\x20serem\x20atualizados:','parseInt','logout','.wav','blockLogs','PRODUCT_LIST','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','group','updateGroupsAddPrivacy','metadata','):\x20Usando\x20extensão\x20padrão:\x20','SERVER_PORT','buttons','all','findByIdAndUpdate','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','45596DbuPWn','leadInfo.desativadoFluxoAte',',\x20valor\x20a\x20encontrar:\x20\x22','pushName','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','listMessage','call','remoteJid','50mb','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','dbInstance','):\x20','editFlowGroup','folder','processblock','fetchProfilePictureUrl','Subscribed\x20Events:','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','newStoppedUntil','statusCode','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','close','sendPoll','sendMenu','request\x20received\x20in\x20scheduleMessage','readreceipts','options','convertedOptions','deleteReplyOption','):\x20Comando\x20desconhecido:\x20','creds.update','content','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','created','deleteMessageForEveryone','valid','contacts.update','uazapiSendText','getStatus','Nenhum\x20chat\x20encontrado\x20para\x20editar.','prepareWAMessageMedia','lastInteraction','reconnectTimestamps','TEL','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','STORE_CHATS','connectionState','method','env.KEY\x20!==\x20key','envYaml','groups.update','express-async-errors','eventEmitter','):\x20Erro\x20durante\x20a\x20atualização:\x20','shutdown\x20-r\x20now','password','GUARD','replaceOne','hSet',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','/exit','delayMessage','GROUPS_UPSERT','Bad\x20Request','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','sendMedia','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','profilePicture','messageId','):\x20Deletando\x20mensagem','split','debug','labels.edit','Erro\x20do\x20Certbot:\x20','195unOLXn','createClient','mongoose','replaceVariablesLogs','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Conversa\x20inserida\x20com\x20sucesso.','application/json','isBase64','Cache-Control','includes','capitalizedWords',',\x20lastCondition:\x20','unavailable','arrayUnique','reorderBlocks','notify','round','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','contactsArrayMessage','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','flowConversation','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','StartBot','Error\x20updating\x20profile\x20name','convertToWebP','proto','instanceKeys','chatModify','Erro\x20ao\x20copiar\x20dados:','interval\x20não\x20é\x20um\x20número','/instance/connectionState','processConditions','default','Error\x20updating\x20setting','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','client','STATUS_INSTANCE','editChat','loggedOut','moreLogs','presenceSubscribe','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','send','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','sendLocation','conversation','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','unlocked','createNewConversation','getRandomText','LOG','https://api.ipify.org?format=json','toArray','chats.update','deleteAll','request\x20received\x20in\x20editFlow','done','connectedName','SendScheduleMessage','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','equal','No\x20response\x20received:','bulkWrite','updateStatusPrivacy','createServer','exports','ex:\x20\x22groupJid=120362@g.us\x22','editFlowVariable','segundos','throwAndLogError','numbers','setWebhook','Instância\x20não\x20encontrada.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','.doc','success','}}\x20->\x20valor\x20não\x20encontrado','footerText','https://uazapi-plugin.bubbleapps.io/?url=','from','.jwt','restartInstance','enumerable','child_process','):\x20Query\x20params:\x20','scheduleSendText','):\x20Ler\x20mensagem','Erro\x20ao\x20atualizar\x20o\x20fluxo:','size','deleteflow','CONTACTS_UPDATE','filter','isURL','archive','fileName','backgroundColor','msgRetryCounterCache','\x1b[33m\x1b[1m','processConditionsTest','gifPlayback','json','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','The\x20','\x20using\x20the\x20proxy:','viewOnceMessageV2','Internal\x20Server\x20Error','displayName','@g.us','METHODS','This\x20name\x20','1530942XHSleF','reviver','processApiRequest','ConversationModel','release','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','padEnd','Forbidden','defineProperty','Reinicialização\x20iniciada:\x20','-whatsapp-api','getVariablesChat','importChats','leadInfo.','):\x20transformedCustomFieldVariables','):\x20Query\x20params:','error','PORT','convertaudio','Variável\x20não\x20encontrada!','Chat\x20com\x20ID\x20','drop','spawn','option','SEND_MESSAGE','endSession','creds','/instance/delete','RECONNECT_TIME_FRAME','locationMessage','getTime','TYPE','flow','https://jsonip.com','updateConversation','setRestartTimer','evaluateConditionTest','now','announcement','/wa-presence','findAll','PENDING','mediaSticker','findLabels','ini','Button\x20texts\x20cannot\x20be\x20repeated','store','textMessage','upsertChats','sendAudio','addresss','buttonMessage','list','Conexão\x20estabelecida','AutomateSystem\x20não\x20foi\x20inicializado','lastSendMessage','sections','revokeInviteCode','toString','expression','readMessageBot','qrcode.updated','flowName','rowId','readFileSync','reorderReplyOptions','CLEANING_INTERVAL','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','finish','\x1b[40m','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','CORS_METHODS','Missing\x20global\x20api\x20key','):\x20Bloco\x20copiado:\x20','$set','Trying\x20to\x20get\x20business\x20profile','locked','instanceCount','@broadcast','condition','public','pollCreationMessage','/config','changeVariables','formatStatusMessage','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Edit\x20schedule\x20message...','selectableCount','truncatedtoEnd','truncatedto','updateOneById','authService','video-cover.png','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','prototype','findAndReplace','sort','\x1b[31m%s\x1b[0m','Erro\x20ao\x20encerrar\x20a\x20API','editedMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20Conversas\x20encontradas:','editFlowCondition','processvaredits','secondValue','AutomateFunctions','addBlock','log','jpegThumbnail','Erro\x20ao\x20inserir\x20chats:','generateWAMessageFromContent','padStart','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Dados\x20migrados\x20com\x20sucesso','ERROR:\x20','Error\x20creating\x20group','HeaderType','Instância:\x20','query','fetchBusinessProfile','Error\x20change\x20group\x20description','recording','reactionMessage','Falta\x20informação\x20para\x20a\x20chamada\x20API','chats','groupDesc','/wa-groups','SINGLE_SELECT','del','Image\x20converted\x20to\x20WebP','command','Error\x20updating\x20participants','Getting\x20profile\x20info','checkAndUpdateChatStatus','formatBRNumber','item','EMAIL:','bearer','next_groupId','flowname:\x20','encoding','minutesToClose','upperCase','\x1b[43m','label_jid','dbClient','Imagem\x20não\x20encontrada','../env.yml','assign','DATABASE_CONNECTION_URI','jsonip.com','cache','.svg','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','connection.update','groupValidate','qrCode','formatVCard','join','):\x20atualização\x20chat:\x20','post','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','announce','updateProfileName','Not\x20Found','groups.upsert','SERVER','updatePresence','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','getBase64FromMediaMessage','saveMediaToFile','entries','Bloco\x20com\x20ID\x20','editScheduleMessage','delaySecMin','tags','GROUPS_UPDATE','latitude','stateConnection','request\x20received\x20in\x20deleteDoneMessages','Erro\x20ao\x20buscar\x20conversas:\x20','):\x20lastBlockId:\x20','conversationTimestamp','goNextblock','open','findOne','\x20-\x20ON:\x20','error\x20get\x20vote','Erro\x20ao\x20importar\x20chats:','replyOptions',',\x20Minutes\x20to\x20Close:\x20','repeat','.sendDataWebhook-global','):\x20Alterando\x20fluxo...','hostname','toNumber','getConversation','Esse\x20fluxo\x20expirou','prefixCommand','):\x20Enviando\x20texto','stopWhenYouSendMsg','string','getDelay','fone','create','hex','ensureChatIdsExist','\x20do\x20chat\x20','EXPIRIN_IN','__esModule','PLAYED','buttonText','RemoveChatLabel','230bbfQen','chatLog','fetchMessages','Not\x20allowed\x20by\x20CORS','groupUpdateDescription','isJidUser','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','apply','values','.chatId','request','removeInstance','vote','_error','remote\x20\x22origin\x22','\x1b[36m','Temp\x20image\x20deleted','updateCustomFields','\x20minutos\x20verificará\x20novas\x20mensagens','updateLastSeenPrivacy','No\x20invite\x20code','Schema','request\x20received\x20in\x20fetchConversation','HOST','No\x20participants','deleted','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getHours','sendList','\x1b[42m','Connection','createGroup','Instance\x20ID:','Erro\x20ao\x20deletar\x20chat:','modifiedCount','dbServer','DD/MM\x20HH:mm:ss','initAuthCreds','long','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','waitingMenu_replyOptions','94969XMxkMt','email','\x20saindo\x20da\x20função','flowStopMinutes','getPrototypeOf','senderKeyDistributionMessage','data','Valor\x20inicial:\x20\x22','chatId','unhandledRejection','CHATS_UPSERT','MESSAGES_SET','fetchLabels','waUploadToServer','empty','online','path','website','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','sectionsToString','Contacts\x20not\x20found','Background\x20color\x20is\x20required','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20delete\x20=\x20true','findContacts','fetchLatestBaileysVersion','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','^\x5cd+','verify','deleteMany','Deletion\x20failed','Error\x20fetching\x20group','decryptPollVote','updateMediaMessage','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','\x22\x20not\x20found','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','groupAcceptInvite','matchRegex','eventemitter2','):\x20Enviando\x20localização','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','subdomain','mediaKey',',\x20saindo.','base64','events','editFlowVaredit','Error\x20status:','isInteger','Flow\x20already\x20exists','stopMinutesMaxActives','status','redis','Rótulo\x20deletado:','apikey','oldToken','isLong','ProxyAgent','Instance\x20\x22','Database\x20is\x20not\x20enabled','headers','sendWhatsAppAudio','):\x20Error\x20processing\x20the\x20block:\x20','):\x20this.processingScheduleMessageId:\x20','contacts','replace','Including\x20timestamp\x20in\x20url:\x20','scheduleNextCheck','flowIgnoreGroups','messageTimestamp','Erro:','ListMessage','participants','restrict','KEY','stderr','80gHBcuv','contains','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','writeFile','Error\x20change\x20group\x20name','fileUrl','DATABASE','eventHandler','DB_PREFIX_NAME','count','_Chats','messageSecret','groupId','groupSetting','viewOnceMessageV2Extension','pollMessage',',\x20fará\x20nova\x20verificação\x20em\x20','endsWith','when','sharp','cwd','):\x20Procurando\x20mensagens\x20para\x20envio','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','cpf','COLOR','match','listResponseMessage','cleaningUp','SECRET','webhookService','):\x20teve\x20mudanças\x20chat.name:\x20','updateStopChat','DOCKER_ENV','desativadoFluxoAte','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','getAllData','fetchProfile2','):\x20Current\x20Time:\x20','errno','STORE','Module\x20-\x20ON','fetchStatus','createAndSave','unlinkSync','http://checkip.dyndns.org','statSync','findAndReplaceRegex','fromMe','lastSend','charAt','LICENSE_INVALID','paused','request\x20received\x20in\x20createFlow','waitingMenu_text','creation','contacts.upsert','checkAndRestartProcess','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','INFO','3648918CKRrsf','role','dark','body','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','removeChatLabel','jwt','):\x20Erro\x20ao\x20criar\x20fluxo\x20','*\x0a\x0a','REDIS_ENABLED','PREFIX_KEY','mongodb','\x20mensagens\x20de\x20','toLocaleString','Content\x20is\x20required','uazapiSendAudio','\x20adicionado\x20ao\x20chat\x20','groups_ignore','--agree-tos','local_map','updateParticipant','webhookModel','editflow','replaceVariablesInObject','https://chat.whatsapp.com/','onWhatsApp','deleteDoneMessages','getMessage','Error\x20change\x20group\x20setting','remove','/wa-message-update','LabelModel','status@broadcast','getChatModelForOwner','findParticipants','Variáveis\x20não\x20encontradas:','authModel','?timestamp=','testProxy\x20response\x20from\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','updateBlock','info','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','AllProxy','Converted\x20audio\x20deleted','http','\x20com\x20sucesso.','profilePictureUrl','!stop','error_log','toFile','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','isArray','chatHandle','request\x20received\x20in\x20updateCustomFields','HH:mm:ss','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','createProxyConfig','response','oldValue','audioMessage','Error\x20updating\x20privacy\x20settings','state','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','@ffmpeg-installer/ffmpeg','ReplyOptions\x20finais\x20após\x20reordenação:','compression','sendContact','groupJid','):\x20Editando\x20variável\x20do\x20fluxo...','waitingMenu_ExpiredMessage','Instance\x20Key\x20from\x20DB:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','writeFileSync','Message','_ScheduleMessages','pollCreationMessageV2','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','QRCODE_UPDATED','localWebhook','CHATS_DELETE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','goToFlow','g-t','CONNECTION_UPDATE','getFlow','indexOf','pre','getContentType','.sendDataWebhook-local','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','startFlow','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','downloads','sleep','caption','STORE_MESSAGE','flowActive','greater','/message','connecting','ephemeralExpiration','delete','jsonwebtoken','/wa-connection-update','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','noConnection','collection','/wa-qrcode','Selecione','AUTHENTICATION_JWT_SECRET','push','message','hbs','API\x20Key\x20from\x20Request:','URL\x20limpa:\x20','stickerMessage','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','getBusinessProfile','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateFlowConfig','):\x20conversation.status:\x20','number','stopConversation','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','variablesToObject','cors','_Labels','deleteBlock','ON\x20-\x20dbName:\x20','update','dbSettings','closed','class-validator','keys','/wa-message','Resultado\x20da\x20atualização:','generate','insertCount','exit','document','ScheduleMessageModel','Converting\x20audio\x20to\x20mp4','MAX_RECONNECT_ATTEMPTS','unreadcount','dataValidate','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','copyBlock','editflowblock','insertMany','):\x20Erro\x20ao\x20editar\x20agentes:\x20','updateAgent','contact','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','removeData','order','\x20ao\x20chat\x20','ip:\x20','jsonschema','cleanStore','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','envProcess','CONTACTS_SET','profile','getTicketSystem','validate','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Button\x20IDs\x20cannot\x20be\x20repeated.',',\x20Segundo\x20Valor:\x20','isBusiness','CORS_CREDENTIALS','getConversationModelForOwner','errors','AUTHENTICATION','getLabelModelForOwner','contextInfo','Audio\x20processed','badSession','contentText','find','applyvaredit','):\x20conversation.waitingMenu_name','test','):\x20Enviando\x20mídia','working','Error\x20headers:','@redis/client','_p_','\x1b[36m%s\x1b[0m','stopped','varedits','\x20segundos','):\x20Entrou\x20na\x20função\x20stop','STORE_CLEANING_TERMINAL','Log\x20out\x20instance:\x20','/clients-info','@s.whatsapp.net','rm\x20-rf\x20','Type\x20not\x20found','arraybuffer','redisEnv','findGroup','^\x5cd+([-]\x5cd+)*@g.us$','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','src','REDIS_URI','Profile\x20not\x20found','AutomateSystem','variablesNotFound','USER','/instance/connect','selectedOptions','editFlow','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','some','stopIfLastReturnedError','Atualização:\x20','uazapiSendLocation','video','exec','ReplyOption\x20com\x20ID\x20','request\x20received\x20in\x20editConversation','):\x20Limpando\x20AutomateSystem','):\x20tem\x20blocks','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','max','waMonitor','Error\x20updating\x20profile\x20picture','connectionStatus','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Image\x20created','saveVariable','\x20instance\x20does\x20not\x20exist','pollCreationMessageKey','flowConfig','labelId','start','CHATS_UPDATE','color','mimetype','wuid','execSync','authState','.pptx','uuid','PASSWORD','connectToWhatsappController','apiName','storePath','Erro\x20ao\x20aplicar\x20varedit:\x20','getMinutes','testProxy','sendStatus','function','substring','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','sha256','\x1b[30m','lastDisconnect','abs','PRIVKEY','):\x20alterando\x20this.AutomateSystem','prepareMediaMessage','NextBlock','STORE_CONTACTS','AUTHENTICATION_TYPE','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','text/event-stream','stack','sendDataWebhook','send.message','CONNECTION','updateReplyOption','last','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','API_KEY','lean','):\x20customFieldVariables','inviteCode','whatsappNumber','set','collections','contactMessage','Configuração\x20de\x20proxy\x20inválida\x20gerada.','audio/ogg','evaluateCondition','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','findByIdAndDelete','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','instances','notMatchRegex','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','headerString','warn','):\x20Deletando\x20fluxo...','realVariables','replaceValue','notas','hGet','value','statusMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','authorization','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','contact_blacklist','saveConversationToDatabase','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','port','removeProfilePicture','CORS_ORIGIN','allFlows','sendCommand','InstancesAsDisconnectedX','Erro\x20ao\x20editar\x20o\x20bloco:\x20','urlOrBase64','setHeader','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','updateGParticipant','ORG:','audio/mp4','.mp4','Error\x20updating\x20message\x20status:','Group\x20not\x20found','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','leaveGroup','remove.instance','Connection\x20closed\x20for\x20instance:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','user','archiveChat','):\x20Conversa\x20está\x20expirada','lastReceivedMessage','lastmsg','instanceInfo','uazapiDeleteMessage','env','processgoToFlow','OrAnd','\x20não\x20encontrado','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','\x20não\x20encontrado\x20para\x20atualização.','getMessageModelForOwner','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','LOG_LEVEL','messages','Hash\x20to\x20audio\x20name:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','name','instanceName','connectToWhatsapp','editFlowBlock','findGroupInfos','everyOne','):\x20Procurando\x20conversa','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','\x20-i\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','presence','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','/wa-chats','repository','detail','/create','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Safari\x20(Mac\x20OS)','getFlowModelForOwner','utf8','stopMinutes','presence.update','tryProxy','imagechat','save','isRunning','sem\x20texto\x20na\x20mensagem','):\x20Bloco\x20original\x20para\x20cópia:\x20','.txt','DELETED','ERROR','\x20horas\x20e\x20','/automate','Rótulo\x20atualizado:','Authentication\x20error','\x20}\x0a','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','write','\x5cd+','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Iniciando\x20bot...','console','text','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','and','removed','\x20minutos.\x20Será\x20às\x20','FlowController','request\x20received\x20in\x20deleteFlow','waitingMenu_id','params','DaysToDelete','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','File\x20written\x20to\x20path:\x20','deleteConversation','model','\x1b[34m','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','CONECTADO\x20À\x20UAZAPI','protocolMessage','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','groups','contactname','Número:\x20','listen','https','DELIVERY_ACK','app','reaction','findIndex','Error\x20removing\x20profile\x20picture','lastCondition','editOperator','Parando\x20aplicação,\x20atualização\x20recebida','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','optionName','DARK','\x20\x1b[0m','quotedMessage','image','composing','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','\x22\x20-\x20REMOVED','jid','readFile','has','ENABLED','AUTHENTICATION_JWT_EXPIRIN_IN','including\x20timestamp\x20in\x20url:\x20','\x5c$&','responsavelid','not\x20loaded','rows','integer','output','createSectionsFromValues','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','loadEnv','setNewValue','fileLength','Converting\x20image\x20to\x20WebP\x20to\x20sticker','}}\x20->\x20\x22','viewOnceMessage','groupSettingUpdate','readMessages','Erro\x20ao\x20deletar\x20mensagens:','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','scheduleSendAudio','MESSAGES_UPDATE','processingScheduleMessageId','ids','deleteFlow','.ppt','295662ovlMVU','updateGParticipate','):\x20Error\x20processing\x20conditions:\x20','updateChatWithMessage','\x20quoted:\x20','toDataURL','participant','Error\x20data:','promote','apiResponse','refused','length','limit','timerId','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','messages.set','/instance/create','saveChatVariables','FlowModel','\x1b[47m','copyDataToNewModel','\x0a{\x20instance:\x20','request\x20received\x20in\x20updateAgent','Router','match_last_seen','):\x20teve\x20mudanças\x20chat.displayName:\x20','/group','The\x20\x22','varedit','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','sign','Processing\x20audio','dropCollection','leadInfo','Certbot:\x20','inner','Temp\x20audio\x20deleted','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','/events','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','groupadd','):\x20Buscando\x20conversas...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','findConversation','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','deleteChat','url','username','audio','augusto.fcs@gmail.com','SERVER_TYPE','\x1b[33m','labels','request\x20body:\x20','markMessageAsRead','automateSystem','view\x20engine','groupMetadata','GROUP_PARTICIPANTS_UPDATE','Primeiro\x20Valor:\x20','nome','key','replacer','instance','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','updateProfilePicture','app-state-sync-key',',\x20resultado:\x20','REDIS','choices','exists','apirequest',',\x20Expiration\x20Time:\x20','Deleted\x20','toBRL','requestPairingCode','useMultiFileAuthState','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','loadWebhook','chats.set','splice','groupHandler','/wa-contacts','flowStopConversation','groupUpdateSubject','updateGroupPicture',',\x20valor\x20passado:\x20\x22','getScheduleMessageModelForOwner','FULLCHAIN','end',',\x20qrcodeCount:\x20','All_Instances_Config','):\x20Conversa\x20está\x20expirada\x20-\x20voto','remoteJids','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','The\x20property\x20cannot\x20be\x20empty','fetchConversation','array','Business\x20profile\x20fetched','media','connectionUpdate','Image\x20is\x20url','description','code','_Contacts','static','syscall','picture','slice','newValue','subjectTime','mediaMessage','qrcode-terminal','authentication','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','TEXT','messages.upsert','Db\x20Connection','Read\x20messages','type','Output\x20audio\x20path:\x20','none','group-participants.update','hDel','\x1b[32m%s\x1b[0m','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Label\x20','pairingCode','stanzaId','qrcode','Erro\x20ao\x20atualizar\x20AutomateSystem:','shift','groupName','auth','113928ZBDIFX','trim','getProfileName','joinGroupValidate','get','group\x20ignored','toLowerCase','Fetching\x20business\x20profile','conditions','loadInstance','Sending\x20audio\x20whatsapp','variable','CHATS_SET','expiration','Temp\x20audio\x20created','reference','createInstance','quoted','*Pergunta*:\x20\x0a','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','maxActives','emit','getClient','\x20is\x20already\x20in\x20use.','Output\x20path:\x20','existsSync','\x20contacts','leadInfo.customFields.','buttonId','_Messages','action','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','where','uazapiSendMenu','mkdirSync','Error\x20fetching\x20and\x20updating\x20profile:\x20','Error\x20update\x20group\x20picture','object','):\x20Fluxos\x20não\x20estão\x20ativados','Types','deletedCount','Erro\x20ao\x20iniciar\x20fluxo:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','webhookMap','):\x20nextBlock.uazapi.name','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','startsWith','Read\x20messages\x20fail','pollErrorMessage','Erro\x20ao\x20atualizar\x20o\x20flow.','request\x20received\x20in\x20getConversation','scheduleMessage','\x1b[46m','blocks','/instance/fetchInstances','JWT','title','getAutomateSystem','express','height','messageHandle','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','documentMessage','message_normalized','pollMessageOnDelete','createFlow','menuIgnoreNonVotes','Image\x20path:\x20','organization','https://','certbot','parse','originalUrl','LEVEL','updateMany','webhook','generateHash','header','ContactModel','updateOne','firstValue','stdout','allContacts','):\x20Enviando\x20enquete','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','replaceVariablesInReplyOptions','request\x20received\x20in\x20starFlow','block','getMIMEType','findChats','fullName','getLastMessage','Unauthorized','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','configService','Error\x20writing\x20file:\x20','views','\x1b[1m','Not\x20is\x20business\x20profile','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','findGroupInfo','):\x20isVote:\x20','ephemeralMessage','uazapiSendContact','fetchInstances','last_update','documentWithCaptionMessage','/chat','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','leadInfo.customFields','requested\x20testProxy','):\x20Editando\x20replyOption...','imageMessage','axios','StatusJidList\x20is\x20required','ipify.org','forEach','deleteMessage','findFlow','notEmpty','Erro\x20ao\x20editar\x20a\x20conversa:\x20','request\x20received\x20in\x20editFlowcondition','fromObject','customFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x1b[1m\x1b[37m','blockId','_activatedCount','data:\x20','boolean','readData','):\x20Editando\x20bloco...','Mensagem\x20não\x20suportada','convert','nextBlock:','deleteInstance'];a0_0x5735=function(){return _0x2d8d02;};return a0_0x5735();}function nr(){const _0x1f4274=a0_0x521bf9;let _0x158bc2={};for(let _0x30ac72 in X)_0x158bc2[_0x30ac72]=Object[_0x1f4274(0x216)](X[_0x30ac72])['map'](_0x225aa5=>({'id':_0x225aa5['id'],'events':_0x225aa5[_0x1f4274(0x267)]}));return _0x158bc2;}var lr=require(a0_0x521bf9(0x3b7)),ms=require(a0_0x521bf9(0x714)),gs=class{},no=new ms[(a0_0x521bf9(0x223))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new ms['Schema']({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),he=N?.[a0_0x521bf9(0x45b)](gs[a0_0x521bf9(0x423)],co,a0_0x521bf9(0x4f0)),lo=cr[a0_0x521bf9(0x733)][a0_0x521bf9(0x1d7)](__dirname,a0_0x521bf9(0x31e)),vt=(0x0,Mt[a0_0x521bf9(0x4ac)])(),uo=b[a0_0x521bf9(0x51f)](a0_0x521bf9(0x36f))[a0_0x521bf9(0x157)],te=[ha,fa,ba[uo]];vt['use'](a0_0x521bf9(0x6a9),Mt[a0_0x521bf9(0x733)]['static'](lo))[a0_0x521bf9(0x51f)]('/events/:instance',async(_0x280863,_0x5194d6)=>{const _0x23902f=a0_0x521bf9;console[_0x23902f(0x1a3)]('bateu\x20events');let _0x501ab0=_0x280863[_0x23902f(0x456)][_0x23902f(0x4d4)],_0x5b2cb4=(_0x280863[_0x23902f(0x1ae)]['events']||'')[_0x23902f(0x70e)](','),_0x2fc86c=(0x0,lr['v4'])();console['log'](_0x23902f(0x22e),_0x501ab0),console[_0x23902f(0x1a3)](_0x23902f(0x6d6),_0x5b2cb4);let _0x49cfa0=b[_0x23902f(0x51f)](_0x23902f(0x36f))[_0x23902f(0x3d8)],_0x1d0ea5=_0x280863[_0x23902f(0x1ae)][_0x23902f(0x270)];if(console[_0x23902f(0x1a3)](_0x23902f(0x333),_0x1d0ea5),_0x49cfa0['KEY']!==_0x1d0ea5){console[_0x23902f(0x1a3)](_0x23902f(0x6f8));try{let _0x11d12a=await ce[_0x23902f(0x51a)][_0x23902f(0x375)](_0x501ab0);if(console['log'](_0x23902f(0x308),_0x11d12a),!_0x11d12a||_0x11d12a[_0x23902f(0x270)]!==_0x1d0ea5)return console[_0x23902f(0x1a3)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x5194d6[_0x23902f(0x26d)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x1df4b2){return console[_0x23902f(0x148)](_0x23902f(0x3fa),_0x1df4b2),_0x5194d6['status'](0x191)['send'](_0x23902f(0x6c5));}}if(!await We(_0x501ab0))return _0x5194d6['status'](0x194)[_0x23902f(0x73d)](_0x23902f(0x112));_0x5194d6[_0x23902f(0x403)]('Content-Type',_0x23902f(0x3d0)),_0x5194d6[_0x23902f(0x403)](_0x23902f(0x71b),'no-cache'),_0x5194d6['setHeader'](_0x23902f(0x22c),'keep-alive'),_0x5194d6[_0x23902f(0x5fa)]();let _0x39b0e3=_0x23902f(0x59e)+JSON['stringify']({'info':_0x23902f(0x16d)})+'\x0a\x0a';_0x5194d6[_0x23902f(0x449)](_0x39b0e3),or(_0x501ab0,_0x2fc86c,_0x5194d6,_0x5b2cb4),_0x280863['on'](_0x23902f(0x6dd),()=>{const _0x18feb7=_0x23902f;console[_0x18feb7(0x1a3)](_0x18feb7(0x40e)+_0x501ab0),ir(_0x501ab0,_0x2fc86c);});}),vt[a0_0x521bf9(0x51f)](a0_0x521bf9(0x385),(_0x254212,_0x3e038a)=>{const _0x2093f0=a0_0x521bf9;let _0x4054b3=nr();_0x3e038a[_0x2093f0(0x12e)](_0x4054b3);})[a0_0x521bf9(0x51f)]('/',(_0x4a8e3e,_0xf92065)=>{const _0x31c8e5=a0_0x521bf9;let _0xeb31ff=b[_0x31c8e5(0x51f)]('SSL_CONF'),_0x2f721a=_0xeb31ff&&_0xeb31ff[_0x31c8e5(0x4ed)][_0x31c8e5(0x70e)]('/')[0x4];if(_0x2f721a){let _0x3582e1=encodeURIComponent(_0x31c8e5(0x562)+_0x2f721a);_0xf92065[_0x31c8e5(0x5cc)](_0x31c8e5(0x118)+_0x3582e1);}else _0xf92065[_0x31c8e5(0x5cc)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x521bf9(0x704),...te,async(_0x59e215,_0x11864d)=>{const _0x1394fa=a0_0x521bf9;try{console[_0x1394fa(0x1a3)](_0x1394fa(0x58a)),_0x11864d[_0x1394fa(0x26d)](0xc8)[_0x1394fa(0x12e)]({'message':_0x1394fa(0x24d)}),_0x11864d['on'](_0x1394fa(0x17c),()=>process[_0x1394fa(0x34c)](0x0));}catch(_0x117c44){console[_0x1394fa(0x148)](_0x1394fa(0x214),_0x117c44),_0x11864d[_0x1394fa(0x26d)](0x1f4)['json']({'message':_0x1394fa(0x19a)});}})[a0_0x521bf9(0x68e)](a0_0x521bf9(0x18a),...te,async(_0x5da377,_0x8d66bd)=>{const _0x1def4c=a0_0x521bf9;try{let _0x2a213b=_0x5da377[_0x1def4c(0x2c4)];await he[_0x1def4c(0x56c)]({},{'$set':_0x2a213b},{'upsert':!0x0});let _0x88327f=await he['findOne']();_0x8d66bd[_0x1def4c(0x12e)](_0x88327f);}catch(_0x402515){_0x8d66bd[_0x1def4c(0x26d)](0x190)['send'](_0x402515[_0x1def4c(0x331)]);}})[a0_0x521bf9(0x51f)](a0_0x521bf9(0x18a),...te,async(_0x5bf80b,_0x5d8830)=>{const _0x180c9f=a0_0x521bf9;try{let _0xd42ffd=await he[_0x180c9f(0x1f2)]();if(!_0xd42ffd)return _0x5d8830['json']({});_0x5d8830['json'](_0xd42ffd);}catch(_0x55eb81){_0x5d8830[_0x180c9f(0x26d)](0x1f4)[_0x180c9f(0x73d)](_0x55eb81[_0x180c9f(0x331)]);}})[a0_0x521bf9(0x62c)](a0_0x521bf9(0x611),new ct(b,...te)[a0_0x521bf9(0x63f)])[a0_0x521bf9(0x62c)](a0_0x521bf9(0x324),new bt(...te)[a0_0x521bf9(0x63f)])[a0_0x521bf9(0x62c)](a0_0x521bf9(0x588),new Xe(...te)[a0_0x521bf9(0x63f)])[a0_0x521bf9(0x62c)](a0_0x521bf9(0x4af),new nt(...te)['router'])[a0_0x521bf9(0x62c)]('/webhook',new Et(...te)[a0_0x521bf9(0x63f)])['use'](a0_0x521bf9(0x444),new Ct(...te)[a0_0x521bf9(0x63f)]);var m=class{constructor(..._0xcac8ef){const _0x5e57b3=a0_0x521bf9;throw{'status':0x190,'error':_0x5e57b3(0x707),'message':_0xcac8ef[_0x5e57b3(0x4a0)]>0x0?_0xcac8ef:void 0x0};}},ee=class{constructor(..._0x3dd747){const _0x10eb16=a0_0x521bf9;throw{'status':0x191,'error':_0x10eb16(0x579),'message':_0x3dd747[_0x10eb16(0x4a0)]>0x0?_0x3dd747:void 0x0};}},K=class{constructor(..._0x368cf4){const _0x265dbc=a0_0x521bf9;throw{'status':0x193,'error':_0x265dbc(0x13f),'message':_0x368cf4[_0x265dbc(0x4a0)]>0x0?_0x368cf4:void 0x0};}},L=class{constructor(..._0x43bb5e){const _0x2b98c5=a0_0x521bf9;throw{'status':0x194,'error':'Not\x20Found','message':_0x43bb5e[_0x2b98c5(0x4a0)]>0x0?_0x43bb5e:void 0x0};}},O=class{constructor(..._0x1c7187){const _0x19df30=a0_0x521bf9;throw{'status':0x1f4,'error':_0x19df30(0x133),'message':_0x1c7187[_0x19df30(0x4a0)]>0x0?_0x1c7187:void 0x0};}},le=require(a0_0x521bf9(0x5be));async function hs(_0x5d8e26){const _0x43399e=a0_0x521bf9;let _0xfd8eda=new v(hs[_0x43399e(0x423)]),_0x11545b=N[_0x43399e(0x531)](),_0xf896c8=_0x11545b['db'](b[_0x43399e(0x51f)](_0x43399e(0x28c))['CONNECTION'][_0x43399e(0x28e)]+_0x43399e(0x68a))[_0x43399e(0x32c)](_0x5d8e26),_0x5c12be=async(_0x1fc9fb,_0x4bafda)=>{const _0x27adfc=_0x43399e;try{return await _0x11545b[_0x27adfc(0x652)](),await _0xf896c8[_0x27adfc(0x701)]({'_id':_0x4bafda},JSON[_0x27adfc(0x564)](JSON[_0x27adfc(0x62e)](_0x1fc9fb,le[_0x27adfc(0x61b)][_0x27adfc(0x4d3)])),{'upsert':!0x0});}catch{}},_0xdebd37=async _0x14b5d5=>{const _0x195a4b=_0x43399e;try{await _0x11545b['connect']();let _0x1befbc=await _0xf896c8[_0x195a4b(0x1f2)]({'_id':_0x14b5d5}),_0x4d0e42=JSON[_0x195a4b(0x62e)](_0x1befbc);return JSON[_0x195a4b(0x564)](_0x4d0e42,le['BufferJSON'][_0x195a4b(0x139)]);}catch{}},_0x5afad9=async _0x5ba678=>{const _0x21df0f=_0x43399e;try{return await _0x11545b['connect'](),await _0xf896c8[_0x21df0f(0x636)]({'_id':_0x5ba678});}catch{}},_0x54b7f3=await _0xdebd37(_0x43399e(0x152))||(0x0,le[_0x43399e(0x233)])();return{'state':{'creds':_0x54b7f3,'keys':{'get':async(_0x449c85,_0x25b00c)=>{const _0xa2f013=_0x43399e;let _0x392342={};return await Promise[_0xa2f013(0x6c3)](_0x25b00c[_0xa2f013(0x648)](async _0x240949=>{const _0x1f7a6b=_0xa2f013;let _0x484d17=await _0xdebd37(_0x449c85+'-'+_0x240949);_0x449c85==='app-state-sync-key'&&_0x484d17&&(_0x484d17=le[_0x1f7a6b(0x72c)][_0x1f7a6b(0x30b)][_0x1f7a6b(0x668)][_0x1f7a6b(0x598)](_0x484d17)),_0x392342[_0x240949]=_0x484d17;})),_0x392342;},'set':async _0x1f3b07=>{const _0x377a23=_0x43399e;let _0x390ef2=[];for(let _0x262b6e in _0x1f3b07)for(let _0x174b85 in _0x1f3b07[_0x262b6e]){let _0x46e716=_0x1f3b07[_0x262b6e][_0x174b85],_0x53009d=_0x262b6e+'-'+_0x174b85;_0x390ef2[_0x377a23(0x330)](_0x46e716?_0x5c12be(_0x46e716,_0x53009d):_0x5afad9(_0x53009d));}await Promise[_0x377a23(0x6c3)](_0x390ef2);}}},'saveCreds':async()=>_0x5c12be(_0x54b7f3,'creds')};}var Ss=R(require(a0_0x521bf9(0x234))),Es=R(require(a0_0x521bf9(0x6a4))),Tt=require(a0_0x521bf9(0x5be)),ur=require(a0_0x521bf9(0x37c)),Rt=require(a0_0x521bf9(0x5be)),Nt;function po(_0x3eb397){const _0x51fe54=a0_0x521bf9;return Nt||(Nt=(0x0,ur[_0x51fe54(0x713)])({'url':_0x3eb397[_0x51fe54(0x692)]}),Nt[_0x51fe54(0x652)]()),Nt;}var oe=class c{constructor(_0x224d0c,_0x1aba4d){const _0x6120b5=a0_0x521bf9;this[_0x6120b5(0x38a)]=_0x224d0c,this[_0x6120b5(0x424)]=_0x1aba4d,this['logger']=new v(c[_0x6120b5(0x423)]),this[_0x6120b5(0x736)]=po(_0x224d0c);}set[a0_0x521bf9(0x52a)](_0x5f5594){const _0xcb1259=a0_0x521bf9;this[_0xcb1259(0x424)]=_0x5f5594;}async[a0_0x521bf9(0x72d)](){const _0x5515e7=a0_0x521bf9;try{return await this[_0x5515e7(0x736)][_0x5515e7(0x3ff)]([_0x5515e7(0x347),this['redisEnv'][_0x5515e7(0x2cb)]+':*']);}catch(_0x377c98){this[_0x5515e7(0x5b4)][_0x5515e7(0x148)](_0x377c98);}}async['writeData'](_0x5d11ce,_0x16661c){const _0x28e914=a0_0x521bf9;try{let _0x83ba9b=JSON['stringify'](_0x16661c,Rt[_0x28e914(0x61b)][_0x28e914(0x4d3)]);return await this[_0x28e914(0x736)][_0x28e914(0x702)](this[_0x28e914(0x38a)][_0x28e914(0x2cb)]+':'+this['instanceName'],_0x5d11ce,_0x83ba9b);}catch(_0x12388c){this['logger'][_0x28e914(0x148)](_0x12388c);}}async[a0_0x521bf9(0x2a9)](){const _0x2b0026=a0_0x521bf9;try{let _0x5ec695=await this[_0x2b0026(0x736)][_0x2b0026(0x5b2)](this['redisEnv'][_0x2b0026(0x2cb)]+':'+this[_0x2b0026(0x424)]);if(_0x5ec695){for(let _0x35b34c in _0x5ec695)Object[_0x2b0026(0x196)]['hasOwnProperty'][_0x2b0026(0x6cc)](_0x5ec695,_0x35b34c)&&(_0x5ec695[_0x35b34c]=JSON['parse'](_0x5ec695[_0x35b34c],Rt[_0x2b0026(0x61b)][_0x2b0026(0x139)]));return _0x5ec695;}}catch(_0x130882){this['logger']['error'](_0x130882);}}async[a0_0x521bf9(0x5a0)](_0x3d355b){const _0x33e949=a0_0x521bf9;try{let _0x179716=await this[_0x33e949(0x736)][_0x33e949(0x3f2)](this[_0x33e949(0x38a)]['PREFIX_KEY']+':'+this[_0x33e949(0x424)],_0x3d355b);if(_0x179716)return JSON[_0x33e949(0x564)](_0x179716,Rt[_0x33e949(0x61b)][_0x33e949(0x139)]);}catch(_0x50e3ab){this[_0x33e949(0x5b4)][_0x33e949(0x148)](_0x50e3ab);}}async['removeData'](_0x36f781){const _0x22e526=a0_0x521bf9;try{return await this[_0x22e526(0x736)][_0x22e526(0x510)](this[_0x22e526(0x38a)][_0x22e526(0x2cb)]+':'+this[_0x22e526(0x424)],_0x36f781);}catch(_0x13632b){this[_0x22e526(0x5b4)]['error'](_0x13632b);}}async[a0_0x521bf9(0x5a9)](_0x5683ef){const _0x4a6e46=a0_0x521bf9;try{return await this[_0x4a6e46(0x736)][_0x4a6e46(0x1b8)](_0x5683ef||this[_0x4a6e46(0x38a)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x2e2c40){this[_0x4a6e46(0x5b4)]['error'](_0x2e2c40);}}};async function fs(_0x2f60a1,_0x25cc99){const _0x2aa3a3=a0_0x521bf9;let _0x1d61d2=new v(fs[_0x2aa3a3(0x423)]),_0x5a20a7=new oe(_0x2f60a1,_0x25cc99),_0x2bb579=async(_0x540049,_0x246231)=>{const _0x252c53=_0x2aa3a3;try{return await _0x5a20a7[_0x252c53(0x695)](_0x246231,_0x540049);}catch(_0x3c4f5b){return _0x1d61d2['error']({'localError':'writeData','error':_0x3c4f5b});}},_0x37798e=async _0x4437b4=>{const _0x9ec020=_0x2aa3a3;try{return await _0x5a20a7[_0x9ec020(0x5a0)](_0x4437b4);}catch(_0x1bd5f6){_0x1d61d2[_0x9ec020(0x148)]({'readData':_0x9ec020(0x695),'error':_0x1bd5f6});return;}},_0x57467c=async _0x58c523=>{const _0xcfffb6=_0x2aa3a3;try{return await _0x5a20a7[_0xcfffb6(0x35b)](_0x58c523);}catch(_0x1678a5){_0x1d61d2[_0xcfffb6(0x148)]({'readData':_0xcfffb6(0x35b),'error':_0x1678a5});}},_0x266ed5=await _0x37798e('creds')||(0x0,Tt[_0x2aa3a3(0x233)])();return{'state':{'creds':_0x266ed5,'keys':{'get':async(_0x10689f,_0x1de4d1)=>{const _0x25f48f=_0x2aa3a3;let _0x35b7c2={};return await Promise[_0x25f48f(0x6c3)](_0x1de4d1[_0x25f48f(0x648)](async _0x5d81e7=>{const _0x5ae76e=_0x25f48f;let _0x583bcb=await _0x37798e(_0x10689f+'-'+_0x5d81e7);_0x10689f===_0x5ae76e(0x4d7)&&_0x583bcb&&(_0x583bcb=Tt[_0x5ae76e(0x72c)][_0x5ae76e(0x30b)][_0x5ae76e(0x668)]['fromObject'](_0x583bcb)),_0x35b7c2[_0x5d81e7]=_0x583bcb;})),_0x35b7c2;},'set':async _0x611dfa=>{const _0x147084=_0x2aa3a3;let _0x1c5ae8=[];for(let _0x566305 in _0x611dfa)for(let _0x235089 in _0x611dfa[_0x566305]){let _0x13cedc=_0x611dfa[_0x566305][_0x235089],_0x5e4b77=_0x566305+'-'+_0x235089;_0x1c5ae8['push'](_0x13cedc?await _0x2bb579(_0x13cedc,_0x5e4b77):await _0x57467c(_0x5e4b77));}await Promise[_0x147084(0x6c3)](_0x1c5ae8);}}},'saveCreds':async()=>await _0x2bb579(_0x266ed5,_0x2aa3a3(0x152))};}var k=R(require('fs')),Ce=require(a0_0x521bf9(0x3b7)),It=R(require(a0_0x521bf9(0x299))),wr=require(a0_0x521bf9(0x67b)),go=a0_0x521bf9(0x68b)[a0_0x521bf9(0x51c)](),ys=go[a0_0x521bf9(0x70e)]('\x0a')['map'](_0x489c56=>{const _0x520e05=a0_0x521bf9;let _0x50f433=_0x489c56['split'](':');return{'host':_0x50f433[0x0],'port':_0x50f433[0x1],'username':_0x50f433[0x2],'password':_0x50f433[0x3],'protocol':_0x520e05(0x2ee)};});function dr(){const _0x49f477=a0_0x521bf9;if(ys[_0x49f477(0x4a0)]===0x0)return null;let _0x452860=Math['floor'](Math[_0x49f477(0x643)]()*ys[_0x49f477(0x4a0)]);return ys[_0x452860];}function ws(_0x4e6c13){const _0x179d95=a0_0x521bf9;return _0x4e6c13&&_0x4e6c13[_0x179d95(0x6a6)]&&_0x4e6c13[_0x179d95(0x3fb)]&&_0x4e6c13[_0x179d95(0x4c4)]&&_0x4e6c13[_0x179d95(0x6ff)];}var br='Chrome',Cs,ie=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x400f93=a0_0x521bf9;let _0x5e25df=await he[_0x400f93(0x1f2)]();ie=_0x5e25df?.['WebhookGlobal']??null,ho=_0x5e25df?.[_0x400f93(0x457)]??null,br=_0x5e25df?.['connectedClient']??_0x400f93(0x632),Cs=_0x5e25df?.[_0x400f93(0x74d)]??Ms??_0x400f93(0x6a5),Sr=_0x5e25df?.[_0x400f93(0x2ec)]??!0x1,console[_0x400f93(0x1a3)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x400f93(0x1a3)](_0x5e25df);}async function yo(){await fo();}yo();function _(_0x2e5e0b){const _0x2fef8c=a0_0x521bf9;if(_0x2e5e0b[_0x2fef8c(0x48a)]||_0x2e5e0b[_0x2fef8c(0x132)]){let _0x13a8f7=_0x2e5e0b[_0x2fef8c(0x48a)]?_0x2e5e0b[_0x2fef8c(0x48a)][_0x2fef8c(0x331)]:_0x2e5e0b[_0x2fef8c(0x132)][_0x2fef8c(0x331)];return(0x0,y['getContentType'])(_0x13a8f7);}return _0x2e5e0b[_0x2fef8c(0x620)]?_0x2fef8c(0x620):_0x2e5e0b[_0x2fef8c(0x30d)]?'pollCreationMessageV2':_0x2e5e0b[_0x2fef8c(0x294)]?_0x2fef8c(0x294):(0x0,y[_0x2fef8c(0x319)])(_0x2e5e0b);}var gr={},fe=class c{constructor(_0x31f6c2,_0x33084c,_0xcafeae){const _0x361480=a0_0x521bf9;this[_0x361480(0x57b)]=_0x31f6c2,this[_0x361480(0x6fc)]=_0x33084c,this[_0x361480(0x431)]=_0xcafeae,this[_0x361480(0x392)]=null,this[_0x361480(0x5b4)]=new v(c[_0x361480(0x423)]),this[_0x361480(0x4d4)]={},this['localWebhook']={},this[_0x361480(0x1eb)]={'state':_0x361480(0x6dd)},this[_0x361480(0x3bb)]=(0x0,F[_0x361480(0x1d7)])(ae,'downloads'),this[_0x361480(0x12a)]=new Es[(_0x361480(0x733))](),this['userDevicesCache']=new Es[(_0x361480(0x733))](),this[_0x361480(0x151)]=!0x1,this['webhookMap']={'status.instance':_0x361480(0x329),'qrcode.updated':_0x361480(0x32d),'messages.upsert':_0x361480(0x348),'messages.update':_0x361480(0x2df),'send.message':'/wa-message','group.upsert':_0x361480(0x1b6),'group.update':_0x361480(0x1b6),'group-participants.update':'/wa-groups','connection.update':_0x361480(0x329),'messages.set':'/wa-message','contacts.set':_0x361480(0x4e7),'contacts.upsert':_0x361480(0x4e7),'contacts.update':_0x361480(0x4e7),'presence.update':_0x361480(0x15f),'chats.set':_0x361480(0x430),'chats.update':_0x361480(0x430),'chats.upsert':'/wa-chats','chats.delete':_0x361480(0x430)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this[_0x361480(0x350)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0x361480(0x43d)]=!0x1,this[_0x361480(0x2f6)]={'chats.upsert':async(_0x1f2524,_0x6a123b)=>{const _0x36f299=_0x361480;let _0x52faa5=[];for await(let _0x69498d of _0x1f2524)_0x52faa5[_0x36f299(0x330)]({'_id':_0x69498d['id'],'owner':this[_0x36f299(0x4d4)]['wuid'],'group':_0x69498d['id'][_0x36f299(0x297)](_0x36f299(0x135)),'name':_0x69498d[_0x36f299(0x423)]||_0x69498d[_0x36f299(0x134)]||null,'contactname':null,'lastmsg':_0x69498d[_0x36f299(0x1ef)]&&_0x69498d[_0x36f299(0x1ef)]['toString']()[_0x36f299(0x4a0)]<0xd?_0x69498d['conversationTimestamp']*0x3e8:_0x69498d[_0x36f299(0x1ef)]||null,'archived':_0x69498d[_0x36f299(0x624)]||!0x1,'unreadcount':_0x69498d['unreadCount']||0x0});this[_0x36f299(0x3d2)](_0x36f299(0x694),_0x52faa5);},'chats.update':async(_0x1aa982,_0x463c76)=>{const _0xcd0930=_0x361480;for(let _0x5884cf of _0x1aa982){let _0x123e7f={'_id':_0x5884cf['id'],'owner':this[_0xcd0930(0x4d4)][_0xcd0930(0x3b3)],'group':_0x5884cf['id'][_0xcd0930(0x297)](_0xcd0930(0x135)),'name':_0x5884cf[_0xcd0930(0x423)]||_0x5884cf['displayName'],'archived':_0x5884cf[_0xcd0930(0x624)],'ephemeralExpiration':_0x5884cf['ephemeralExpiration']},_0x58b340=!0x1,_0x1fc793={};_0x123e7f[_0xcd0930(0x624)]!=null&&(this['logger'][_0xcd0930(0x5ab)](this[_0xcd0930(0x424)]+'\x20('+this[_0xcd0930(0x4d4)][_0xcd0930(0x3b3)]+_0xcd0930(0x40f)+_0x5884cf[_0xcd0930(0x624)]),_0x58b340=!0x0,_0x1fc793[_0xcd0930(0x624)]=_0x5884cf[_0xcd0930(0x624)]),_0x5884cf['name']!=null&&(this[_0xcd0930(0x5b4)][_0xcd0930(0x5ab)](this[_0xcd0930(0x424)]+'\x20('+this[_0xcd0930(0x4d4)][_0xcd0930(0x3b3)]+_0xcd0930(0x2a4)+_0x5884cf[_0xcd0930(0x423)]),_0x58b340=!0x0,_0x1fc793['name']=_0x5884cf['name']),_0x5884cf[_0xcd0930(0x134)]!=null&&(this['logger'][_0xcd0930(0x5ab)](this[_0xcd0930(0x424)]+'\x20('+this[_0xcd0930(0x4d4)]['wuid']+_0xcd0930(0x4ae)+_0x5884cf[_0xcd0930(0x134)]),_0x58b340=!0x0,_0x1fc793['name']=_0x5884cf[_0xcd0930(0x134)]),_0x5884cf[_0xcd0930(0x326)]!=null&&(this[_0xcd0930(0x5b4)][_0xcd0930(0x5ab)](this['instanceName']+'\x20('+this[_0xcd0930(0x4d4)]['wuid']+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x5884cf['ephemeralExpiration']),_0x58b340=!0x0,_0x1fc793[_0xcd0930(0x326)]=_0x5884cf['ephemeralExpiration']);let _0x543931;_0x58b340&&(_0x543931=await this[_0xcd0930(0x431)][_0xcd0930(0x5d6)][_0xcd0930(0x56c)]({'where':{'_id':_0x5884cf['id']}},_0x1fc793,this[_0xcd0930(0x4d4)][_0xcd0930(0x3b3)])),_0x543931&&q(this['instanceName'],_0xcd0930(0x1b4),{'chat':_0x543931});}},'chats.delete':async _0x364b46=>{const _0x7cffa7=_0x361480;this['sendDataWebhook'](_0x7cffa7(0x645),[..._0x364b46]);}},this['contactHandle']={'contacts.upsert':async(_0x59dc15,_0x50fc0a)=>{const _0xa33441=_0x361480;let _0x4f5aa1=await this[_0xa33441(0x431)][_0xa33441(0x359)][_0xa33441(0x375)]({'where':{}},this[_0xa33441(0x4d4)]['wuid']),_0x58f097=[];for await(let _0x54696d of _0x59dc15)_0x4f5aa1['find'](_0x56cfa3=>_0x56cfa3[_0xa33441(0x6ad)]===_0x54696d['id'])||_0x58f097['push']({'_id':_0x54696d['id'],'pushName':_0x54696d?.['name']||_0x54696d?.[_0xa33441(0x65c)],'owner':this[_0xa33441(0x4d4)][_0xa33441(0x3b3)]});this[_0xa33441(0x3d2)](_0xa33441(0x2bd),_0x58f097),await this['repository'][_0xa33441(0x359)][_0xa33441(0x60d)](_0x58f097);},'contacts.update':async(_0x55bcf1,_0x2af4c8)=>{const _0x3a5e7c=_0x361480;let _0x4b52ac=[];for await(let _0x5fd794 of _0x55bcf1)_0x4b52ac[_0x3a5e7c(0x330)]({'_id':_0x5fd794['id'],'pushName':_0x5fd794?.[_0x3a5e7c(0x423)]??_0x5fd794?.[_0x3a5e7c(0x65c)],'owner':this[_0x3a5e7c(0x4d4)]['wuid']});this[_0x3a5e7c(0x3d2)](_0x3a5e7c(0x6ec),_0x4b52ac);}},this[_0x361480(0x559)]={'messaging-history.set':async({messages:_0x27eb2a,chats:_0x442dd9,isLatest:_0x2cc4b8},_0x45161a)=>{const _0x455dbb=_0x361480;if(_0x2cc4b8){let _0x3fa66d=await Promise['all'](_0x442dd9['map'](async _0x27737d=>({'_id':_0x27737d['id'],'owner':this[_0x455dbb(0x4d4)][_0x455dbb(0x3b3)],'group':_0x27737d['id']['endsWith']('@g.us'),'name':_0x27737d['name']||_0x27737d['displayName']||null,'contactname':null,'lastmsg':_0x27737d['conversationTimestamp']&&_0x27737d[_0x455dbb(0x1ef)][_0x455dbb(0x172)]()[_0x455dbb(0x4a0)]<0xd?_0x27737d[_0x455dbb(0x1ef)]*0x3e8:_0x27737d[_0x455dbb(0x1ef)]||null,'archived':_0x27737d[_0x455dbb(0x624)]||!0x1,'unreadcount':_0x27737d[_0x455dbb(0x642)]||0x0})));this[_0x455dbb(0x3d2)](_0x455dbb(0x4e4),_0x3fa66d),await this[_0x455dbb(0x168)](_0x3fa66d,_0x45161a);}let _0x3c5d73=[],_0x55f864=Date[_0x455dbb(0x15d)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4a30ed]of Object[_0x455dbb(0x1e4)](_0x27eb2a)){if(_0x4a30ed[_0x455dbb(0x331)]?.[_0x455dbb(0x45f)]||_0x4a30ed[_0x455dbb(0x331)]?.['senderKeyDistributionMessage']||!_0x4a30ed[_0x455dbb(0x331)]||_0x4a30ed['key'][_0x455dbb(0x6cd)]===_0x455dbb(0x2e1)||(Ss[_0x455dbb(0x733)][_0x455dbb(0x272)](_0x4a30ed?.[_0x455dbb(0x27f)])&&(_0x4a30ed['messageTimestamp']=_0x4a30ed['messageTimestamp']?.[_0x455dbb(0x1fc)]()),_0x4a30ed[_0x455dbb(0x27f)]&&_0x4a30ed[_0x455dbb(0x27f)][_0x455dbb(0x172)]()[_0x455dbb(0x4a0)]<0xd&&(_0x4a30ed[_0x455dbb(0x27f)]=_0x4a30ed[_0x455dbb(0x27f)]*0x3e8),_0x4a30ed[_0x455dbb(0x27f)]<_0x55f864))continue;let {message_normalized:_0x178600}=this['normalizeMessage'](_0x4a30ed[_0x455dbb(0x331)],_(_0x4a30ed[_0x455dbb(0x331)]),null);Object['keys'](_0x178600)['length']>0x0&&_0x3c5d73[_0x455dbb(0x330)]({'_id':_0x4a30ed[_0x455dbb(0x4d2)]['id'],'key':_0x4a30ed[_0x455dbb(0x4d2)],'pushName':_0x4a30ed[_0x455dbb(0x6c9)],'participant':_0x4a30ed[_0x455dbb(0x49b)],'message':{..._0x4a30ed[_0x455dbb(0x331)]},'messageType':_(_0x4a30ed[_0x455dbb(0x331)]),'message_normalized':{'key':_0x4a30ed['key'],'pushName':_0x4a30ed['pushName'],'messageTimestamp':_0x4a30ed[_0x455dbb(0x27f)],..._0x178600},'messageTimestamp':_0x4a30ed['messageTimestamp'],'owner':this[_0x455dbb(0x4d4)][_0x455dbb(0x3b3)]});}_0x45161a['ENABLED']&&_0x3c5d73[_0x455dbb(0x4a0)]>0x0&&(this[_0x455dbb(0x5b4)][_0x455dbb(0x5ab)](this[_0x455dbb(0x424)]+'\x20('+this[_0x455dbb(0x4d4)][_0x455dbb(0x3b3)]+_0x455dbb(0x6d1)+_0x3c5d73[_0x455dbb(0x4a0)]+_0x455dbb(0x2cd)+this[_0x455dbb(0x4d4)][_0x455dbb(0x3b3)]+_0x455dbb(0x44b)),await this[_0x455dbb(0x431)][_0x455dbb(0x331)][_0x455dbb(0x60d)]([..._0x3c5d73],this[_0x455dbb(0x4d4)][_0x455dbb(0x3b3)])),this['sendDataWebhook'](_0x455dbb(0x4a4),[..._0x3c5d73]),_0x27eb2a=void 0x0;},'messages.upsert':async({messages:_0x467dc7,type:_0x294665},_0x46b940)=>{const _0xd7c822=_0x361480;let _0x106aa3=_0x467dc7[0x0];if(_0x294665!==_0xd7c822(0x722)||!_0x106aa3?.[_0xd7c822(0x331)]||_0x106aa3[_0xd7c822(0x331)]?.[_0xd7c822(0x45f)]||_0x106aa3[_0xd7c822(0x331)][_0xd7c822(0x23c)]||_0x106aa3[_0xd7c822(0x4d2)]['remoteJid']==='status@broadcast')return;let _0x40984e=null,_0x1442e5=null;try{_0x40984e=await this['processPollUpdateMessage'](_0x106aa3),_0x1442e5=_0x40984e?_0x40984e[_0xd7c822(0x1d7)](','):null;}catch(_0x444190){this[_0xd7c822(0x5b4)][_0xd7c822(0x5ab)](this[_0xd7c822(0x424)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x444190 instanceof Error?_0x444190['message']:JSON[_0xd7c822(0x62e)](_0x444190,null,0x2))),_0x1442e5=_0xd7c822(0x1f4);}if(this[_0xd7c822(0x736)][_0xd7c822(0x61a)]('unavailable'),Ss['default']['isLong'](_0x106aa3[_0xd7c822(0x27f)])&&(_0x106aa3[_0xd7c822(0x27f)]=_0x106aa3[_0xd7c822(0x27f)]?.[_0xd7c822(0x1fc)]()),this[_0xd7c822(0x310)]?.['groups_ignore']&&_0x106aa3[_0xd7c822(0x4d2)]['remoteJid'][_0xd7c822(0x71c)](_0xd7c822(0x135))){this[_0xd7c822(0x5b4)][_0xd7c822(0x5ab)](_0xd7c822(0x520));return;}_0x106aa3[_0xd7c822(0x27f)]&&_0x106aa3[_0xd7c822(0x27f)][_0xd7c822(0x172)]()[_0xd7c822(0x4a0)]<0xd&&(_0x106aa3[_0xd7c822(0x27f)]=_0x106aa3[_0xd7c822(0x27f)]*0x3e8);let _0x2c43dc=_0x106aa3[_0xd7c822(0x331)],{messageContent:_0x1ba7ba,message_normalized:_0x323cee}=this['normalizeMessage'](_0x2c43dc,_(_0x106aa3['message']),_0x1442e5);_0x1ba7ba||console[_0xd7c822(0x148)](_0xd7c822(0x5a2));let _0xf2e1f3={'_id':_0x106aa3['key']['id'],'key':_0x106aa3[_0xd7c822(0x4d2)],'pushName':_0x106aa3[_0xd7c822(0x6c9)],'message':{..._0x106aa3[_0xd7c822(0x331)]},'messageType':_(_0x106aa3['message']),'message_normalized':{'key':_0x106aa3[_0xd7c822(0x4d2)],'pushName':_0x106aa3[_0xd7c822(0x6c9)],'messageTimestamp':_0x106aa3[_0xd7c822(0x27f)],'source':(0x0,y['getDevice'])(_0x106aa3[_0xd7c822(0x4d2)]['id']),..._0x323cee},'messageTimestamp':_0x106aa3['messageTimestamp'],'owner':this[_0xd7c822(0x4d4)][_0xd7c822(0x3b3)],'source':(0x0,y[_0xd7c822(0x679)])(_0x106aa3[_0xd7c822(0x4d2)]['id'])};this['logger']['log'](_0xf2e1f3),await this[_0xd7c822(0x431)]['message'][_0xd7c822(0x60d)]([_0xf2e1f3],this[_0xd7c822(0x4d4)][_0xd7c822(0x3b3)]),this[_0xd7c822(0x3d2)](_0xd7c822(0x509),_0xf2e1f3),q(this[_0xd7c822(0x424)],_0xd7c822(0x420),{'message':_0xf2e1f3}),_0x106aa3[_0xd7c822(0x4d2)][_0xd7c822(0x6cd)]!=='status@broadcast'&&await this[_0xd7c822(0x498)](_0x46b940,_0xf2e1f3,_0xd7c822(0x6b5));},'messages.update':async(_0x34e56f,_0x324e4f)=>{const _0x23b786=_0x361480;let _0x2a71b8={0x0:_0x23b786(0x442),0x1:_0x23b786(0x161),0x2:'SERVER_ACK',0x3:_0x23b786(0x466),0x4:'READ',0x5:'PLAYED'};for await(let {key:_0xc1dd42,update:_0x5a5b08}of _0x34e56f){if(this[_0x23b786(0x310)]?.[_0x23b786(0x2d2)]&&_0xc1dd42[_0x23b786(0x6cd)][_0x23b786(0x71c)](_0x23b786(0x135))){this['logger'][_0x23b786(0x5ab)](_0x23b786(0x520));return;}if(_0xc1dd42['remoteJid']!=='status@broadcast'){let _0x266692=Date[_0x23b786(0x15d)](),_0x376cc9;_0x5a5b08[_0x23b786(0x331)]===null&&_0x5a5b08[_0x23b786(0x26d)]===void 0x0?_0x376cc9=_0x23b786(0x441):_0x376cc9=_0x2a71b8[_0x5a5b08[_0x23b786(0x26d)]];let _0x4bc511=_0xc1dd42[_0x23b786(0x6cd)]['replace'](/:\d{1,2}@/g,'@'),_0x2c9f93={..._0xc1dd42,'remoteJid':_0x4bc511,'status':_0x376cc9,'datetime':_0x266692,'owner':this[_0x23b786(0x4d4)][_0x23b786(0x3b3)]};this[_0x23b786(0x3d2)](_0x23b786(0x5ef),_0x2c9f93),await this[_0x23b786(0x61c)](_0xc1dd42,_0x2c9f93);}}},'labels.association':async({type:_0x5ad2f8,association:_0x58ea3c})=>{const _0x441ed8=_0x361480;if(_0x58ea3c[_0x441ed8(0x50c)]===_0x441ed8(0x1c8))switch(_0x5ad2f8){case _0x441ed8(0x669):console[_0x441ed8(0x1a3)](_0x58ea3c),await this['repository']['chat'][_0x441ed8(0x56c)]({'where':{'_id':_0x58ea3c[_0x441ed8(0x23f)]}},{'labels':_0x58ea3c[_0x441ed8(0x3ae)]},this['instance'][_0x441ed8(0x3b3)],void 0x0,'$addToSet');break;case _0x441ed8(0x2de):console[_0x441ed8(0x1a3)](_0x58ea3c),await this[_0x441ed8(0x431)][_0x441ed8(0x5d6)]['updateOne']({'where':{'_id':_0x58ea3c[_0x441ed8(0x23f)]}},{'labels':_0x58ea3c[_0x441ed8(0x3ae)]},this[_0x441ed8(0x4d4)][_0x441ed8(0x3b3)],void 0x0,'$pull');break;default:console['error']('unknown\x20operation\x20type\x20['+_0x5ad2f8+']');}},'labels.edit':async _0x22fbea=>{const _0x4dde5f=_0x361480;if(!_0x22fbea||!_0x22fbea['id']){console['error'](_0x4dde5f(0x658));return;}let _0x11413c={'_id':_0x22fbea['id'],'color':_0x22fbea?.[_0x4dde5f(0x3b1)],'name':_0x22fbea?.[_0x4dde5f(0x423)],'owner':this[_0x4dde5f(0x4d4)]['wuid']};await this[_0x4dde5f(0x431)][_0x4dde5f(0x650)]['updateOne']({'where':{'_id':_0x22fbea['id']}},_0x11413c,this['instance'][_0x4dde5f(0x3b3)]),console['log'](_0x4dde5f(0x445),_0x22fbea),_0x22fbea[_0x4dde5f(0x227)]&&(await this['repository']['label'][_0x4dde5f(0x327)]({'where':{'_id':_0x22fbea['id']}},this[_0x4dde5f(0x4d4)][_0x4dde5f(0x3b3)]),console['log'](_0x4dde5f(0x26f),_0x22fbea['id']));}},this['groupHandler']={'groups.upsert':_0x3ea500=>{const _0x37b2f9=_0x361480;this[_0x37b2f9(0x3d2)]('groups.upsert',_0x3ea500);},'groups.update':_0x32c391=>{const _0x59c0d8=_0x361480;this[_0x59c0d8(0x3d2)](_0x59c0d8(0x6fa),_0x32c391);},'group-participants.update':_0x6e9494=>{const _0x8953f7=_0x361480;this[_0x8953f7(0x3d2)](_0x8953f7(0x50f),_0x6e9494);}},this['processPollUpdateMessage']=async _0x2222da=>{const _0x2df770=_0x361480;if(_0x2222da[_0x2df770(0x331)]?.[_0x2df770(0x64d)]){let _0x47a59c=await this['getMessage'](_0x2222da[_0x2df770(0x331)][_0x2df770(0x64d)][_0x2df770(0x3ac)],!0x0);if(_0x47a59c){let _0xcca1d8=_0x47a59c['key']['fromMe']?this[_0x2df770(0x4d4)][_0x2df770(0x3b3)]+_0x2df770(0x386):_0x47a59c[_0x2df770(0x4d2)]['participant']||_0x47a59c[_0x2df770(0x4d2)]['remoteJid'],_0x2e30a9=_0x47a59c[_0x2df770(0x4d2)]['id'],_0x11cd8d=_0x47a59c[_0x2df770(0x331)],_0x40fcc0=Buffer['from'](_0x11cd8d['messageContextInfo'][_0x2df770(0x291)]['toString'](_0x2df770(0x206)),'hex'),_0x5a4d5b=(0x0,y[_0x2df770(0x258)])(_0x2222da['message'][_0x2df770(0x64d)]['vote'],{'pollCreatorJid':_0xcca1d8,'pollMsgId':_0x2e30a9,'pollEncKey':_0x40fcc0,'voterJid':_0x2222da[_0x2df770(0x4d2)][_0x2df770(0x2b5)]?this[_0x2df770(0x4d4)]['wuid']+_0x2df770(0x386):_0x2222da[_0x2df770(0x4d2)][_0x2df770(0x6cd)]['endsWith']('g.us')?_0x2222da[_0x2df770(0x4d2)][_0x2df770(0x49b)]:_0x2222da[_0x2df770(0x4d2)]['remoteJid']}),_0x541e61=[],_0x16e0f4=_0x5a4d5b[_0x2df770(0x396)]['map'](_0x9c05a7=>Buffer[_0x2df770(0x119)](_0x9c05a7)[_0x2df770(0x172)](_0x2df770(0x206)));for(let {optionName:_0x5d8a56}of _0x11cd8d[_0x2df770(0x189)]?.['options']||_0x11cd8d['pollCreationMessageV3']?.[_0x2df770(0x6e2)]||_0x11cd8d[_0x2df770(0x30d)]?.[_0x2df770(0x6e2)])_0x16e0f4[_0x2df770(0x317)]((0x0,y[_0x2df770(0x3c3)])(Buffer[_0x2df770(0x119)](_0x5d8a56))[_0x2df770(0x172)]('hex'))>-0x1&&_0x541e61[_0x2df770(0x330)](_0x5d8a56);return _0x541e61;}}return null;},this[_0x361480(0x69b)]=(_0xe5bb84,_0x386891,_0x4f8a05)=>{const _0xb0f2cb=_0x361480;try{let _0x5e8b33=_0x386891?_0xe5bb84[_0x386891]:void 0x0,_0x3160b0={},_0x29083a=null,_0x339dfd=null,_0x1b0ae6=null;if(_0xe5bb84[_0xb0f2cb(0x132)]?(_0x386891=_(_0xe5bb84[_0xb0f2cb(0x132)][_0xb0f2cb(0x331)]),_0x5e8b33=_0xe5bb84[_0xb0f2cb(0x132)][_0xb0f2cb(0x331)][_0x386891]):_0xe5bb84[_0xb0f2cb(0x294)]?(_0x386891=_(_0xe5bb84[_0xb0f2cb(0x294)][_0xb0f2cb(0x331)]),_0x5e8b33=_0xe5bb84[_0xb0f2cb(0x294)][_0xb0f2cb(0x331)][_0x386891]):_0xe5bb84[_0xb0f2cb(0x48a)]?(_0x386891=_(_0xe5bb84['viewOnceMessage'][_0xb0f2cb(0x331)]),_0x5e8b33=_0xe5bb84[_0xb0f2cb(0x48a)][_0xb0f2cb(0x331)][_0x386891]):_0xe5bb84[_0xb0f2cb(0x583)]?(_0x386891=_(_0xe5bb84[_0xb0f2cb(0x331)][_0xb0f2cb(0x583)][_0xb0f2cb(0x331)]),_0x5e8b33=_0xe5bb84[_0xb0f2cb(0x331)][_0xb0f2cb(0x583)][_0xb0f2cb(0x331)][_0x386891]):_0xe5bb84[_0xb0f2cb(0x19b)]?.['message']?.['protocolMessage']?.[_0xb0f2cb(0x19b)]?(_0x386891=_(_0xe5bb84[_0xb0f2cb(0x19b)][_0xb0f2cb(0x331)][_0xb0f2cb(0x45f)]['editedMessage']),_0x29083a=_0xe5bb84[_0xb0f2cb(0x19b)][_0xb0f2cb(0x331)][_0xb0f2cb(0x45f)][_0xb0f2cb(0x4d2)]['id'],_0x5e8b33=_0xe5bb84[_0xb0f2cb(0x19b)]['message'][_0xb0f2cb(0x45f)][_0xb0f2cb(0x19b)][_0x386891]):_0x5e8b33=_0xe5bb84[_0x386891],!_0x386891||!_0x5e8b33)return console['error'](_0xb0f2cb(0x613),_0xe5bb84),{'messageType':_0x386891,'messageContent':_0x5e8b33,'message_normalized':{}};_0xe5bb84[_0x386891]?.[_0xb0f2cb(0x371)]?.[_0xb0f2cb(0x515)]&&_0xe5bb84[_0x386891]?.['contextInfo']?.[_0xb0f2cb(0x472)]&&(_0x339dfd=_0xe5bb84[_0x386891]['contextInfo'][_0xb0f2cb(0x515)]),_0xe5bb84[_0xb0f2cb(0x1b2)]&&(_0x1b0ae6=_0xe5bb84[_0xb0f2cb(0x1b2)][_0xb0f2cb(0x4d2)]['id']);let _0x1e127d;if(_0x5e8b33&&typeof _0x5e8b33==_0xb0f2cb(0x541)&&_0xb0f2cb(0x3ac)in _0x5e8b33&&({pollCreationMessageKey:_0x1e127d}=_0x5e8b33),_0x386891==='documentWithCaptionMessage'){let _0x32d505=_0x5e8b33?.[_0xb0f2cb(0x331)]?.[_0xb0f2cb(0x55b)];_0x32d505&&(_0x5e8b33=_0x32d505);}if(_0x386891===_0xb0f2cb(0x189)||_0x386891===_0xb0f2cb(0x30d)||_0x386891===_0xb0f2cb(0x620)){let _0x521146=_0x5e8b33[_0xb0f2cb(0x6e2)][_0xb0f2cb(0x648)](_0x482eed=>_0x482eed[_0xb0f2cb(0x46f)])[_0xb0f2cb(0x1d7)]('|');_0x3160b0[_0xb0f2cb(0x6e3)]=_0x521146;}let _0x1a19a7=_0x5e8b33['name']||_0x5e8b33[_0xb0f2cb(0x320)]||_0x5e8b33['conversation']||_0x5e8b33['displayName'];if(_0x386891===_0xb0f2cb(0x6cb)){_0x1a19a7=(_0x5e8b33['title']||'')+'\x0a'+(_0x5e8b33[_0xb0f2cb(0x4fb)]||'')+'\x0a'+(_0x5e8b33[_0xb0f2cb(0x117)]||'');let _0x254de6=this[_0xb0f2cb(0x24a)](_0x5e8b33['sections']);_0x3160b0['convertedOptions']=_0x254de6;}if(_0x386891===_0xb0f2cb(0x2a0)&&(_0x4f8a05=_0x5e8b33[_0xb0f2cb(0x555)]),_0x5e8b33['vcard']){let _0x112b42=this[_0xb0f2cb(0x1d6)](JSON['stringify'](_0x5e8b33[_0xb0f2cb(0x699)],null,0x2));_0x1a19a7=_0x1a19a7+'\x0a'+_0x112b42;}if(_0x5e8b33){let {sections:_0xab4be7,listType:_0x439cae,displayName:_0xc66f02,vcard:_0x8f6237,contactVcard:_0x42c58c,name:_0x1b4abb,caption:_0x452c7e,conversation:_0x26848f,pollCreationMessageKey:_0x18e1b4,footerText:_0x545fa9,contentText:_0x13639e,pageCount:_0x12213e,headerType:_0x279822,isAvatar:_0xee9406,isAnimated:_0x1ac345,fallbackLc:_0x3f6975,fallbackLg:_0x54bf8a,namespace:_0x59d323,elementName:_0x183778,localizableParams:_0x5dc64b,viewOnce:_0x2bab4c,height:_0x28d7cf,width:_0x2954c7,key:_0x45884e,firstScanLength:_0x348a9b,firstScanSidecar:_0x35f1a7,gifPlayback:_0x28900b,gifAttribution:_0x5ef29b,midQualityFileSha256:_0x5f14cd,scansSidecar:_0x49fab8,streamingSidecar:_0x46c341,thumbnailHeight:_0x9a33d1,thumbnailWidth:_0x13a590,thumbnailEncSha256:_0x24f436,thumbnailDirectPath:_0x444261,canonicalUrl:_0x2a1266,matchedText:_0x1d2e68,previewType:_0x5c4980,thumbnailSha256:_0x6e54ed,deviceListMetadataVersion:_0x1a1e5d,inviteLinkGroupTypeV2:_0x20c4ff,interactiveAnnotations:_0x3d48c4,scanLengths:_0x1e02ce,jpegThumbnail:_0x388ed3,url:_0x1de32a,mediaKeyTimestamp:_0x204019,waveform:_0x220915,stickerSentTs:_0x2db84d,firstFrameLength:_0x386187,fileEncSha256:_0x3afa95,contextInfo:_0x42c938,firstFrameSidecar:_0x49e4f0,directPath:_0x201805,fileSha256:_0x3d5639,mediaKey:_0x36e43d,senderTimestampMs:_0x33361c,..._0x2fdc79}=_0x5e8b33;(_0x386891==='listMessage'||_0x386891===_0xb0f2cb(0x2a0))&&(delete _0x2fdc79[_0xb0f2cb(0x555)],delete _0x2fdc79[_0xb0f2cb(0x4fb)]),typeof _0x5e8b33==_0xb0f2cb(0x202)?_0x3160b0={'text':_0x5e8b33,'type':_0x386891||_0xb0f2cb(0x740),..._0x29083a&&{'edited':_0x29083a},..._0x339dfd&&{'quoted':_0x339dfd},..._0x1b0ae6&&{'reaction':_0x1b0ae6}}:_0x3160b0={'text':_0x1a19a7,..._0x2fdc79,..._0x386891===_0xb0f2cb(0x64d)?{'poll_id':_0x5e8b33['pollCreationMessageKey']['id'],'quoted':_0x5e8b33['pollCreationMessageKey']['id'],'vote':_0x4f8a05}:{},..._0x386891===_0xb0f2cb(0x2a0)?{'vote':_0x4f8a05}:{},'type':_0x386891,..._0x29083a&&{'edited':_0x29083a},..._0x339dfd&&{'quoted':_0x339dfd},..._0x1b0ae6&&{'reaction':_0x1b0ae6},...(_0x386891==='pollCreationMessage'||_0x386891===_0xb0f2cb(0x30d)||_0x386891===_0xb0f2cb(0x620)||_0x386891===_0xb0f2cb(0x6cb))&&{'convertedOptions':_0x3160b0[_0xb0f2cb(0x6e3)]}};}return{'messageType':_0x386891,'messageContent':_0x5e8b33,'message_normalized':_0x3160b0};}catch(_0x387d93){console[_0xb0f2cb(0x148)](_0xb0f2cb(0x5f0),_0x387d93);}},this[_0x361480(0x491)]=null,this[_0x361480(0x2b6)]=0x0,this[_0x361480(0x4a2)]=null,(this[_0x361480(0x360)](),this[_0x361480(0x4d4)][_0x361480(0x516)]={'count':0x0});}set[a0_0x521bf9(0x424)](_0x33388a){const _0x1c43c2=a0_0x521bf9;if(!_0x33388a){this[_0x1c43c2(0x4d4)][_0x1c43c2(0x423)]=(0x0,hr['v4'])();return;}this['instance'][_0x1c43c2(0x423)]=_0x33388a,this[_0x1c43c2(0x3d2)](_0x1c43c2(0x5c7),{'instance':this['instance'][_0x1c43c2(0x423)],'status':_0x1c43c2(0x6e9)});}get[a0_0x521bf9(0x424)](){const _0x1a010b=a0_0x521bf9;return this[_0x1a010b(0x4d4)][_0x1a010b(0x423)];}get['wuid'](){const _0x518b9b=a0_0x521bf9;return this['instance'][_0x518b9b(0x3b3)];}async['getProfileName'](){const _0x1b8126=a0_0x521bf9;let _0x5e7727=this[_0x1b8126(0x736)][_0x1b8126(0x410)]?.[_0x1b8126(0x423)]??this[_0x1b8126(0x736)][_0x1b8126(0x410)]?.['verifiedName'];if(!_0x5e7727){if(this['configService'][_0x1b8126(0x51f)](_0x1b8126(0x28c))[_0x1b8126(0x47a)]){let _0x1d0301=await N[_0x1b8126(0x531)]()['db'](this[_0x1b8126(0x57b)][_0x1b8126(0x51f)](_0x1b8126(0x28c))[_0x1b8126(0x3d4)][_0x1b8126(0x28e)]+_0x1b8126(0x68a))[_0x1b8126(0x32c)](this['instanceName'])[_0x1b8126(0x1f2)]({'_id':_0x1b8126(0x152)});if(_0x1d0301){let _0x469302=JSON[_0x1b8126(0x564)](JSON[_0x1b8126(0x62e)](_0x1d0301),y['BufferJSON']['reviver']);_0x5e7727=_0x469302['me']?.[_0x1b8126(0x423)]||_0x469302['me']?.[_0x1b8126(0x65c)];}}else{if((0x0,Me[_0x1b8126(0x534)])((0x0,F[_0x1b8126(0x1d7)])(pe,this[_0x1b8126(0x424)],'creds.json'))){let _0x124e5a=JSON[_0x1b8126(0x564)]((0x0,Me[_0x1b8126(0x178)])((0x0,F[_0x1b8126(0x1d7)])(pe,this[_0x1b8126(0x424)],'creds.json'),{'encoding':_0x1b8126(0x5fd)}));_0x5e7727=_0x124e5a['me']?.[_0x1b8126(0x423)]||_0x124e5a['me']?.['verifiedName'];}}}return _0x5e7727;}get[a0_0x521bf9(0x2f0)](){const _0xddf34e=a0_0x521bf9;return this[_0xddf34e(0x4d4)][_0xddf34e(0x2f0)];}get[a0_0x521bf9(0x1d5)](){const _0x3264b3=a0_0x521bf9;return{'pairingCode':this[_0x3264b3(0x4d4)]['qrcode']?.[_0x3264b3(0x514)],'code':this[_0x3264b3(0x4d4)][_0x3264b3(0x516)]?.[_0x3264b3(0x4fc)],'base64':this[_0x3264b3(0x4d4)][_0x3264b3(0x516)]?.['base64']};}async[a0_0x521bf9(0x4e3)](){const _0x4be597=a0_0x521bf9;let _0xccf7d8=await this[_0x4be597(0x431)]['webhook'][_0x4be597(0x375)](this[_0x4be597(0x424)]);this[_0x4be597(0x310)][_0x4be597(0x4c3)]=_0xccf7d8?.[_0x4be597(0x4c3)],this[_0x4be597(0x310)][_0x4be597(0x62b)]=_0xccf7d8?.[_0x4be597(0x62b)],this[_0x4be597(0x310)][_0x4be597(0x2d4)]=_0xccf7d8?.['local_map'],this[_0x4be597(0x310)][_0x4be597(0x737)]=_0xccf7d8?.[_0x4be597(0x737)],this[_0x4be597(0x310)][_0x4be597(0x30f)]=_0xccf7d8?.['QRCODE_UPDATED'],this[_0x4be597(0x310)][_0x4be597(0x150)]=_0xccf7d8?.[_0x4be597(0x150)],this[_0x4be597(0x310)][_0x4be597(0x6b5)]=_0xccf7d8?.[_0x4be597(0x6b5)],this[_0x4be597(0x310)][_0x4be597(0x490)]=_0xccf7d8?.[_0x4be597(0x490)],this[_0x4be597(0x310)][_0x4be597(0x706)]=_0xccf7d8?.[_0x4be597(0x706)],this[_0x4be597(0x310)][_0x4be597(0x1e9)]=_0xccf7d8?.[_0x4be597(0x1e9)],this[_0x4be597(0x310)][_0x4be597(0x4cf)]=_0xccf7d8?.[_0x4be597(0x4cf)],this[_0x4be597(0x310)][_0x4be597(0x527)]=_0xccf7d8?.['CHATS_SET'],this[_0x4be597(0x310)]['CHATS_UPSERT']=_0xccf7d8?.[_0x4be597(0x241)],this[_0x4be597(0x310)][_0x4be597(0x3b0)]=_0xccf7d8?.[_0x4be597(0x3b0)],this[_0x4be597(0x310)][_0x4be597(0x311)]=_0xccf7d8?.[_0x4be597(0x311)],this[_0x4be597(0x310)]['CONTACTS_SET']=_0xccf7d8?.[_0x4be597(0x364)],this[_0x4be597(0x310)][_0x4be597(0x5db)]=_0xccf7d8?.[_0x4be597(0x5db)],this[_0x4be597(0x310)]['CONTACTS_UPDATE']=_0xccf7d8?.[_0x4be597(0x124)],this[_0x4be597(0x310)]['PRESENCE_UPDATE']=_0xccf7d8?.[_0x4be597(0x653)],this[_0x4be597(0x310)][_0x4be597(0x242)]=_0xccf7d8?.[_0x4be597(0x242)],this[_0x4be597(0x310)][_0x4be597(0x315)]=_0xccf7d8?.[_0x4be597(0x315)],this[_0x4be597(0x310)][_0x4be597(0x2d2)]=_0xccf7d8?.['groups_ignore'];}async[a0_0x521bf9(0x111)](_0x895400){const _0x2ec2a2=a0_0x521bf9;let _0x1dfb84=[_0x2ec2a2(0x6ad),'url',_0x2ec2a2(0x62b),_0x2ec2a2(0x2d4),_0x2ec2a2(0x737),_0x2ec2a2(0x30f),_0x2ec2a2(0x490),'MESSAGES_UPSERT','SEND_MESSAGE',_0x2ec2a2(0x706),_0x2ec2a2(0x1e9),_0x2ec2a2(0x4cf),'CHATS_SET',_0x2ec2a2(0x241),'CHATS_UPDATE',_0x2ec2a2(0x311),_0x2ec2a2(0x364),'CONTACTS_UPSERT',_0x2ec2a2(0x124),_0x2ec2a2(0x653),_0x2ec2a2(0x242),_0x2ec2a2(0x315),_0x2ec2a2(0x2d2)],_0x1b2afb={};return _0x1dfb84[_0x2ec2a2(0x592)](_0x5dce32=>{_0x895400[_0x5dce32]!==void 0x0&&(_0x1b2afb[_0x5dce32]=_0x895400[_0x5dce32]);}),await this[_0x2ec2a2(0x431)][_0x2ec2a2(0x568)]['create'](_0x1b2afb,this[_0x2ec2a2(0x424)]),Object['assign'](this[_0x2ec2a2(0x310)],_0x1b2afb),await this[_0x2ec2a2(0x431)][_0x2ec2a2(0x568)][_0x2ec2a2(0x375)](this['instanceName']);}async[a0_0x521bf9(0x5ac)](){const _0x202d58=a0_0x521bf9;return await this[_0x202d58(0x431)][_0x202d58(0x568)][_0x202d58(0x375)](this[_0x202d58(0x424)]);}async[a0_0x521bf9(0x3d2)](_0x43d9d9,_0x894aa8){const _0x45f5b7=a0_0x521bf9;let _0x57b285=_0x43d9d9[_0x45f5b7(0x27b)](/[\.-]/gm,'_')[_0x45f5b7(0x65a)](),_0x1c3d18=this['localWebhook'][_0x45f5b7(0x62b)]&&(0x0,$[_0x45f5b7(0x126)])(this[_0x45f5b7(0x310)][_0x45f5b7(0x4c3)])?this['localWebhook'][_0x45f5b7(0x4c3)]+(this[_0x45f5b7(0x310)]['local_map']?this['webhookMap'][_0x43d9d9]:''):null,_0x51642a=this[_0x45f5b7(0x310)][_0x57b285],_0x454bf4=ie&&ie[_0x45f5b7(0x62b)]&&(0x0,$['isURL'])(ie['url'])?ie[_0x45f5b7(0x4c3)]+(ie[_0x45f5b7(0x2d4)]?this[_0x45f5b7(0x547)][_0x43d9d9]:''):null,_0x508060=ie?ie[_0x57b285]:null;if(_0x51642a&&_0x1c3d18)try{await se[_0x45f5b7(0x733)]['create']({'baseURL':_0x1c3d18})['post']('',{'event':_0x43d9d9,'instance':this[_0x45f5b7(0x4d4)][_0x45f5b7(0x423)],'data':_0x894aa8}),this[_0x45f5b7(0x5b4)][_0x45f5b7(0x1a3)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x43d9d9+':\x20'+_0x1c3d18);}catch(_0x30042a){this[_0x45f5b7(0x5b4)][_0x45f5b7(0x148)](this[_0x45f5b7(0x424)]+'\x20('+this['instance'][_0x45f5b7(0x3b3)]+_0x45f5b7(0x6d1)+{'local':c[_0x45f5b7(0x423)]+_0x45f5b7(0x31a),'message':_0x30042a?.['message'],'hostName':_0x30042a?.[_0x45f5b7(0x1fb)],'syscall':_0x30042a?.[_0x45f5b7(0x4ff)],'code':_0x30042a?.[_0x45f5b7(0x4fc)],'error':_0x30042a?.[_0x45f5b7(0x2ac)],'stack':_0x30042a?.[_0x45f5b7(0x3d1)],'name':_0x30042a?.['name']});}if(_0x508060&&_0x454bf4)try{await se['default'][_0x45f5b7(0x205)]({'baseURL':_0x454bf4})[_0x45f5b7(0x1d9)]('',{'event':_0x43d9d9,'instance':this['instance'][_0x45f5b7(0x423)],'data':_0x894aa8}),this['logger'][_0x45f5b7(0x1a3)](_0x45f5b7(0x3ce)+_0x43d9d9+':\x20'+_0x454bf4);}catch(_0xb96cd6){this[_0x45f5b7(0x5b4)]['error'](this[_0x45f5b7(0x424)]+'\x20('+this[_0x45f5b7(0x4d4)][_0x45f5b7(0x3b3)]+'):\x20'+{'local':c[_0x45f5b7(0x423)]+_0x45f5b7(0x1f9),'message':_0xb96cd6?.['message'],'hostName':_0xb96cd6?.['hostname'],'syscall':_0xb96cd6?.['syscall'],'code':_0xb96cd6?.['code'],'error':_0xb96cd6?.[_0x45f5b7(0x2ac)],'stack':_0xb96cd6?.['stack'],'name':_0xb96cd6?.[_0x45f5b7(0x423)]});}}async[a0_0x521bf9(0x4f9)]({qr:_0x72e0de,connection:_0x4e7d39,lastDisconnect:_0x13134f}){const _0x5bbe62=a0_0x521bf9;if(_0x72e0de){if(this[_0x5bbe62(0x4d4)][_0x5bbe62(0x516)][_0x5bbe62(0x28f)]===mo)return this[_0x5bbe62(0x3d2)](_0x5bbe62(0x175),{'message':_0x5bbe62(0x696),'statusCode':y[_0x5bbe62(0x5f8)][_0x5bbe62(0x373)]}),this['stateConnection']={'state':_0x5bbe62(0x49f),'statusReason':y[_0x5bbe62(0x5f8)][_0x5bbe62(0x64f)]},this[_0x5bbe62(0x3d2)](_0x5bbe62(0x1d3),{'instance':this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)],...this[_0x5bbe62(0x1eb)]}),this[_0x5bbe62(0x3d2)](_0x5bbe62(0x5c7),{'instance':this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)],'status':'removed'}),this[_0x5bbe62(0x431)]['auth'][_0x5bbe62(0x205)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x5bbe62(0x4d4)]['name']),this['endSession']=!0x0,this[_0x5bbe62(0x6fc)][_0x5bbe62(0x530)]('no.connection',this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)]);this['instance'][_0x5bbe62(0x516)][_0x5bbe62(0x28f)]++;let _0x34d2de={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5bbe62(0x69a),'dark':'#000000'}};fr['default'][_0x5bbe62(0x49a)](_0x72e0de,_0x34d2de,(_0x148cd6,_0x4b2604)=>{const _0x5db98e=_0x5bbe62;if(_0x148cd6){this[_0x5db98e(0x5b4)][_0x5db98e(0x148)](this['instanceName']+'\x20('+this[_0x5db98e(0x4d4)][_0x5db98e(0x3b3)]+_0x5db98e(0x19c)+(_0x148cd6 instanceof Error?_0x148cd6[_0x5db98e(0x331)]:JSON[_0x5db98e(0x62e)](_0x148cd6,null,0x2)));return;}this[_0x5db98e(0x4d4)]['qrcode'][_0x5db98e(0x266)]=_0x4b2604,this[_0x5db98e(0x4d4)][_0x5db98e(0x516)][_0x5db98e(0x4fc)]=_0x72e0de,this[_0x5db98e(0x3d2)](_0x5db98e(0x175),{'qrcode':{'instance':this[_0x5db98e(0x4d4)][_0x5db98e(0x423)],'pairingCode':this[_0x5db98e(0x4d4)]['qrcode'][_0x5db98e(0x514)],'code':_0x72e0de,'base64':_0x4b2604}});}),this['phoneNumber']?this['instance'][_0x5bbe62(0x516)][_0x5bbe62(0x514)]=await this[_0x5bbe62(0x736)][_0x5bbe62(0x4e0)](this[_0x5bbe62(0x672)]):this['instance'][_0x5bbe62(0x516)]['pairingCode']=null,yr['default'][_0x5bbe62(0x34a)](_0x72e0de,{'small':!0x0},_0x5b3077=>this['logger'][_0x5bbe62(0x1a3)](_0x5bbe62(0x4aa)+this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)]+_0x5bbe62(0x4ef)+this['instance'][_0x5bbe62(0x516)][_0x5bbe62(0x28f)]+',\x20pairCode:\x20'+this[_0x5bbe62(0x4d4)]['qrcode']['pairingCode']+_0x5bbe62(0x447)+_0x5b3077));}if(_0x4e7d39&&(this[_0x5bbe62(0x1eb)]={'state':_0x4e7d39,'statusReason':_0x13134f?.[_0x5bbe62(0x148)]?.['output']?.[_0x5bbe62(0x6db)]??0xc8},this[_0x5bbe62(0x3d2)]('connection.update',{'instance':this['instance'][_0x5bbe62(0x423)],...this[_0x5bbe62(0x1eb)]})),_0x4e7d39==='close'){if(this[_0x5bbe62(0x690)]++,this['reconnectTimestamps'][_0x5bbe62(0x330)](Date[_0x5bbe62(0x15d)]()),this[_0x5bbe62(0x6f2)]=this[_0x5bbe62(0x6f2)]['filter'](_0x48acd7=>Date['now']()-_0x48acd7<this[_0x5bbe62(0x154)]),_0x13134f[_0x5bbe62(0x148)]?.[_0x5bbe62(0x482)]?.[_0x5bbe62(0x6db)]!==y['DisconnectReason'][_0x5bbe62(0x739)]&&this['reconnectTimestamps'][_0x5bbe62(0x4a0)]<=this[_0x5bbe62(0x350)])await this[_0x5bbe62(0x425)]();else{this[_0x5bbe62(0x3d2)](_0x5bbe62(0x5c7),{'instance':this[_0x5bbe62(0x4d4)]['name'],'status':_0x5bbe62(0x451)}),this[_0x5bbe62(0x5ca)]=!0x1,this[_0x5bbe62(0x431)][_0x5bbe62(0x568)][_0x5bbe62(0x327)](this[_0x5bbe62(0x424)]),this['repository']['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)]);try{this[_0x5bbe62(0x5b4)][_0x5bbe62(0x5ab)](this['instanceName']+'\x20('+this[_0x5bbe62(0x4d4)][_0x5bbe62(0x3b3)]+_0x5bbe62(0x4d5));let _0x57f9d7=await this[_0x5bbe62(0x431)][_0x5bbe62(0x331)][_0x5bbe62(0x74a)](this[_0x5bbe62(0x4d4)][_0x5bbe62(0x3b3)]);_0x57f9d7[_0x5bbe62(0x115)]?this[_0x5bbe62(0x5b4)][_0x5bbe62(0x5ab)](this['instanceName']+'\x20('+this[_0x5bbe62(0x4d4)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x5bbe62(0x148)](_0x5bbe62(0x5fb),_0x57f9d7[_0x5bbe62(0x148)]);}catch(_0x2f3fdb){console[_0x5bbe62(0x148)](_0x5bbe62(0x5d2),_0x2f3fdb);}this[_0x5bbe62(0x705)]!==null&&(this[_0x5bbe62(0x5b4)][_0x5bbe62(0x5ab)](this[_0x5bbe62(0x424)]+'\x20('+this['instance'][_0x5bbe62(0x3b3)]+_0x5bbe62(0x67f)),clearInterval(this[_0x5bbe62(0x705)]),this[_0x5bbe62(0x705)]=null),this[_0x5bbe62(0x5b4)][_0x5bbe62(0x5ab)](this[_0x5bbe62(0x424)]+'\x20('+this[_0x5bbe62(0x4d4)]['wuid']+_0x5bbe62(0x3a1)),this[_0x5bbe62(0x392)]=null,this['eventEmitter']['emit'](_0x5bbe62(0x40d),this[_0x5bbe62(0x4d4)]['name'],_0x5bbe62(0x4b8)),this['client']?.['ws']?.[_0x5bbe62(0x6dd)](),this[_0x5bbe62(0x736)][_0x5bbe62(0x4ee)](new Error('Close\x20connection'));}}if(_0x4e7d39===_0x5bbe62(0x1f1)){this[_0x5bbe62(0x649)],this['instance'][_0x5bbe62(0x3b3)]=this[_0x5bbe62(0x736)][_0x5bbe62(0x410)]['id'][_0x5bbe62(0x27b)](/:\d+/,'')[_0x5bbe62(0x27b)](_0x5bbe62(0x386),''),this['instance'][_0x5bbe62(0x2f0)]=(await this['profilePicture'](this[_0x5bbe62(0x4d4)][_0x5bbe62(0x3b3)]+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x5bbe62(0x431)][_0x5bbe62(0x51a)][_0x5bbe62(0x205)]({'online':!0x0,'owner':this[_0x5bbe62(0x4d4)][_0x5bbe62(0x3b3)],'lastDisconnect':null},this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)]);let _0x38b6f7=_0x5bbe62(0x463)+this[_0x5bbe62(0x4d4)][_0x5bbe62(0x3b3)],_0x18900a=0x28,_0xe19601=Math['floor']((_0x18900a-_0x38b6f7[_0x5bbe62(0x4a0)])/0x2),_0xf85715='\x20'[_0x5bbe62(0x1f8)](_0xe19601),_0x2e58da=_0x5bbe62(0x45e),_0xc7e5aa=_0x5bbe62(0x1ad)+this[_0x5bbe62(0x4d4)][_0x5bbe62(0x423)],_0x207730=(''+_0xf85715+_0x38b6f7+_0xf85715)[_0x5bbe62(0x13e)](_0x18900a,'\x20'),_0x3c0e28=(''+_0xf85715+_0x2e58da+_0xf85715)['padEnd'](_0x18900a,'\x20'),_0x42d99f=(''+_0xf85715+_0xc7e5aa+_0xf85715)[_0x5bbe62(0x13e)](_0x18900a,'\x20'),_0x4da159=Math[_0x5bbe62(0x3a4)](_0x207730[_0x5bbe62(0x4a0)],_0x3c0e28[_0x5bbe62(0x4a0)],_0x42d99f[_0x5bbe62(0x4a0)]),_0xbc81c8=_0x207730[_0x5bbe62(0x13e)](_0x4da159,'\x20'),_0x6d5822=_0x3c0e28[_0x5bbe62(0x13e)](_0x4da159,'\x20'),_0x3af209=_0x42d99f['padEnd'](_0x4da159,'\x20');this[_0x5bbe62(0x5b4)]['info']((_0x5bbe62(0x3f5)+'─'[_0x5bbe62(0x1f8)](_0x4da159)+_0x5bbe62(0x30e)+_0x6d5822+_0x5bbe62(0x5e3)+_0x3af209+_0x5bbe62(0x5e3)+_0xbc81c8+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x5bbe62(0x1f8)](_0x4da159)+'┘')[_0x5bbe62(0x27b)](/^ +/gm,'\x20\x20')),this[_0x5bbe62(0x1a1)](),this[_0x5bbe62(0x5ca)]=!0x0;}}['resetReconnectionVariables'](){const _0x352b1c=a0_0x521bf9;this[_0x352b1c(0x690)]=0x0,this[_0x352b1c(0x6f2)]=[];}async[a0_0x521bf9(0x2dc)](_0x3a9b85,_0x1b8f87=!0x1){const _0x2d2112=a0_0x521bf9;try{let _0xf88279=await this[_0x2d2112(0x431)]['message'][_0x2d2112(0x375)]({'where':{'_id':_0x3a9b85['id']}},this[_0x2d2112(0x4d4)][_0x2d2112(0x3b3)]);return _0x1b8f87?_0xf88279[0x0]:_0xf88279[0x0][_0x2d2112(0x331)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x4be3b6=a0_0x521bf9;let _0x5277ce=this[_0x4be3b6(0x57b)]['get'](_0x4be3b6(0x2ad)),_0x32ac94=this[_0x4be3b6(0x57b)]['get'](_0x4be3b6(0x28c));_0x5277ce?.[_0x4be3b6(0x17a)]&&!_0x32ac94['ENABLED']&&setInterval(()=>{const _0x18accd=_0x4be3b6;try{for(let [_0x144e43,_0xc21e24]of Object[_0x18accd(0x1e4)](_0x5277ce))_0xc21e24===!0x0&&(0x0,Dt[_0x18accd(0x3b4)])(_0x18accd(0x387)+(0x0,F[_0x18accd(0x1d7)])(this[_0x18accd(0x3bb)],_0x144e43[_0x18accd(0x521)](),this[_0x18accd(0x4d4)][_0x18accd(0x3b3)])+'/*.json');}catch{}},(_0x5277ce?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x1a2908=a0_0x521bf9;let _0x4bcd7e=this[_0x1a2908(0x57b)][_0x1a2908(0x51f)](_0x1a2908(0x28c)),_0x26a361=this[_0x1a2908(0x57b)][_0x1a2908(0x51f)](_0x1a2908(0x4d9));return _0x26a361?.[_0x1a2908(0x47a)]?await fs(_0x26a361,this[_0x1a2908(0x4d4)]['name']):_0x4bcd7e['ENABLED']?await hs(this[_0x1a2908(0x4d4)][_0x1a2908(0x423)]):await(0x0,y[_0x1a2908(0x4e1)])((0x0,F[_0x1a2908(0x1d7)])(pe,this[_0x1a2908(0x4d4)][_0x1a2908(0x423)]));}async[a0_0x521bf9(0x1a1)](){const _0x114721=a0_0x521bf9;let _0x275743=()=>Math[_0x114721(0x5f2)](Math[_0x114721(0x643)]()*0x2711)+0x7d0,_0x24fd78=async()=>{const _0x343c2d=_0x114721;if(!this[_0x343c2d(0x5ca)]){this['logger'][_0x343c2d(0x5ab)]('Desconectado,\x20parando\x20execução.'),this[_0x343c2d(0x43d)]=!0x1;return;}if(this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]&&this[_0x343c2d(0x392)]&&this[_0x343c2d(0x705)]!==null&&this[_0x343c2d(0x705)]!==void 0x0){let _0x3b7ac8=Math['round'](this['delayMessage']/0xea60);this['logger'][_0x343c2d(0x5ab)](this[_0x343c2d(0x424)]+'\x20('+this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x3b7ac8+_0x343c2d(0x220)),this['isRunning']=!0x1;return;}else this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]&&(this[_0x343c2d(0x5b4)][_0x343c2d(0x5ab)](this[_0x343c2d(0x424)]+'\x20('+this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]+_0x343c2d(0x52e)),await this[_0x343c2d(0x431)][_0x343c2d(0x727)][_0x343c2d(0x4a9)](this[_0x343c2d(0x4d4)]['wuid']),await this[_0x343c2d(0x431)]['flow'][_0x343c2d(0x4a9)](this['instance'][_0x343c2d(0x3b3)]),await this[_0x343c2d(0x431)][_0x343c2d(0x550)][_0x343c2d(0x4a9)](this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]),this['logger']['verbose'](this[_0x343c2d(0x424)]+'\x20('+this[_0x343c2d(0x4d4)][_0x343c2d(0x3b3)]+_0x343c2d(0x1a9)),this['AutomateSystem']||await this[_0x343c2d(0x556)](),(this[_0x343c2d(0x705)]===null||this[_0x343c2d(0x705)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x343c2d(0x43d)]){let _0x51d9ff=_0x275743();this['logger'][_0x343c2d(0x5ab)](this[_0x343c2d(0x424)]+_0x343c2d(0x703)+_0x51d9ff/0x3e8+_0x343c2d(0x381)),setTimeout(_0x24fd78,_0x51d9ff);}};if(this[_0x114721(0x43d)])return;this['isRunning']=!0x0;let _0x50a61a=_0x275743();setTimeout(_0x24fd78,_0x50a61a);}async[a0_0x521bf9(0x3be)](_0xdc3adf,_0x409c86,_0x1d27d7,_0x493c25,_0x26e5b7){const _0x16f448=a0_0x521bf9;this[_0x16f448(0x5b4)][_0x16f448(0x5ab)](_0x16f448(0x58c));try{let _0x35d0b0={'host':_0xdc3adf,'port':parseInt(_0x409c86),'protocol':_0x1d27d7};_0x493c25&&_0x26e5b7&&(_0x35d0b0={..._0x35d0b0,'auth':{'username':_0x493c25,'password':_0x26e5b7}});let _0x5abc66=[_0x16f448(0x159),'https://api.ipify.org?format=json',_0x16f448(0x2b2)];for(let _0x12c0a9 of _0x5abc66)try{let _0x13cb92=await se[_0x16f448(0x733)][_0x16f448(0x51f)](_0x12c0a9,{'proxy':_0x35d0b0}),_0x2a9f83;return _0x12c0a9[_0x16f448(0x71c)](_0x16f448(0x1ce))||_0x12c0a9[_0x16f448(0x71c)](_0x16f448(0x591))?_0x2a9f83=_0x13cb92['data']['ip']:_0x12c0a9[_0x16f448(0x71c)]('dyndns.org')&&(_0x2a9f83=_0x13cb92[_0x16f448(0x23d)][_0x16f448(0x29f)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger']['verbose'](_0x16f448(0x2e7)+_0x12c0a9+':\x20'+_0x2a9f83),!0x0;}catch(_0xe945ea){this[_0x16f448(0x5b4)]['error']('Failed\x20to\x20get\x20IP\x20from\x20'+_0x12c0a9+_0x16f448(0x131)+_0xe945ea);}return!0x1;}catch(_0x31c528){return this[_0x16f448(0x5b4)][_0x16f448(0x148)]('testProxy\x20error:\x20'+_0x31c528),_0x31c528[_0x16f448(0x2fb)]?(this[_0x16f448(0x5b4)][_0x16f448(0x148)](_0x16f448(0x49c)+_0x31c528[_0x16f448(0x2fb)]['data']),this[_0x16f448(0x5b4)]['error'](_0x16f448(0x269)+_0x31c528[_0x16f448(0x2fb)][_0x16f448(0x26d)]),this[_0x16f448(0x5b4)][_0x16f448(0x148)](_0x16f448(0x37b)+_0x31c528[_0x16f448(0x2fb)][_0x16f448(0x276)])):_0x31c528[_0x16f448(0x218)]?this[_0x16f448(0x5b4)][_0x16f448(0x148)](_0x16f448(0x107)+_0x31c528[_0x16f448(0x218)]):this[_0x16f448(0x5b4)]['error']('Error\x20message:'+_0x31c528[_0x16f448(0x331)]),!0x1;}}async[a0_0x521bf9(0x43a)](_0x33fd7f){const _0x51c35a=a0_0x521bf9;if(console['log']('tryProxy'),await this['testProxy'](_0x33fd7f[_0x51c35a(0x6a6)],_0x33fd7f['port'],_0x33fd7f[_0x51c35a(0x67d)],_0x33fd7f['username'],_0x33fd7f[_0x51c35a(0x6ff)])){console['log'](_0x51c35a(0x37a));let _0x387276=_0x33fd7f[_0x51c35a(0x67d)]+'://'+_0x33fd7f[_0x51c35a(0x6a6)]+':'+_0x33fd7f[_0x51c35a(0x3fb)];return _0x33fd7f['username']&&_0x33fd7f[_0x51c35a(0x6ff)]&&(_0x387276=_0x33fd7f[_0x51c35a(0x4c4)]+':'+_0x33fd7f[_0x51c35a(0x6ff)]+'@'+_0x387276),this[_0x51c35a(0x431)][_0x51c35a(0x51a)]['create']({'proxy':_0x387276},this[_0x51c35a(0x4d4)][_0x51c35a(0x423)]),{'agent':new wr[(_0x51c35a(0x273))](_0x387276)};}return null;}[a0_0x521bf9(0x2fa)](_0x3c3c3c){const _0x3b28f6=a0_0x521bf9;let _0x11b3ef=_0x3c3c3c[_0x3b28f6(0x70e)](':');if(_0x11b3ef[_0x3b28f6(0x4a0)]!==0x4)throw new Error(_0x3b28f6(0x6ac));return{'host':_0x11b3ef[0x0],'port':_0x11b3ef[0x1],'username':_0x11b3ef[0x2],'password':_0x11b3ef[0x3],'protocol':_0x3b28f6(0x2ee)};}async['connectToWhatsapp'](_0x5e8786,_0x5028e5=!0x0){const _0x32f5f1=a0_0x521bf9;try{let _0x48ad63={},_0x476528=0x0;if(Sr&&_0x5028e5){let _0x1ef575;try{let _0x14b665=(await this[_0x32f5f1(0x431)]['auth']['find'](this[_0x32f5f1(0x424)]))[_0x32f5f1(0x5f5)];for(_0x14b665&&(_0x1ef575=this[_0x32f5f1(0x2fa)](_0x14b665)),_0x14b665&&ws(_0x1ef575)&&(_0x48ad63=await this[_0x32f5f1(0x43a)](_0x1ef575),_0x48ad63&&_0x476528++);!_0x48ad63&&_0x476528<0x3;){let _0x51a429=dr();if(_0x51a429){if(_0x1ef575=this['createProxyConfig'](_0x51a429[_0x32f5f1(0x6a6)]+':'+_0x51a429[_0x32f5f1(0x3fb)]+':'+_0x51a429[_0x32f5f1(0x4c4)]+':'+_0x51a429['password']),ws(_0x1ef575)){if(_0x48ad63=await this[_0x32f5f1(0x43a)](_0x1ef575),_0x48ad63)break;}else this[_0x32f5f1(0x5b4)]['error'](_0x32f5f1(0x3e0));}_0x476528++;}}catch(_0x3ac021){this['logger']['error']('Erro\x20ao\x20configurar\x20proxy:\x20'+_0x3ac021),_0x48ad63={};}!_0x48ad63&&_0x476528>=0x3&&(this['logger']['warn']('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x48ad63={});}this[_0x32f5f1(0x4e3)](),this[_0x32f5f1(0x4d4)][_0x32f5f1(0x3b5)]=await this['defineAuthState']();let {version:_0xffa5d7}=await(0x0,y[_0x32f5f1(0x251)])(),_0x33d0f9=[Cs,br,(0x0,bs[_0x32f5f1(0x13c)])()];console[_0x32f5f1(0x1a3)]('options'),console[_0x32f5f1(0x1a3)](_0x48ad63);let _0x338aaa={..._0x48ad63,'auth':{'creds':this['instance']['authState']['state']['creds'],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this['instance'][_0x32f5f1(0x3b5)][_0x32f5f1(0x2ff)][_0x32f5f1(0x347)],(0x0,At[_0x32f5f1(0x733)])({'level':'error'}))},'logger':(0x0,At['default'])({'level':_0x32f5f1(0x148)}),'printQRInTerminal':!0x1,'browser':_0x5e8786?[_0x32f5f1(0x435),Cs,(0x0,bs[_0x32f5f1(0x13c)])()]:_0x33d0f9,'version':_0xffa5d7,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x32f5f1(0x12a)],'getMessage':async _0xe09de8=>await this[_0x32f5f1(0x2dc)](_0xe09de8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4bd230=>(_0x4bd230[_0x32f5f1(0x6cb)]?.['listType']==y[_0x32f5f1(0x72c)]['Message'][_0x32f5f1(0x281)]['ListType'][_0x32f5f1(0x6bb)]&&(_0x4bd230=JSON[_0x32f5f1(0x564)](JSON[_0x32f5f1(0x62e)](_0x4bd230)),_0x4bd230[_0x32f5f1(0x6cb)]['listType']=y[_0x32f5f1(0x72c)]['Message']['ListMessage'][_0x32f5f1(0x5e6)][_0x32f5f1(0x1b7)]),_0x4bd230)};return this[_0x32f5f1(0x151)]=!0x1,this[_0x32f5f1(0x736)]=(0x0,y['default'])(_0x338aaa),this[_0x32f5f1(0x28d)](),this[_0x32f5f1(0x672)]=_0x5e8786,this[_0x32f5f1(0x736)];}catch(_0x568255){throw this[_0x32f5f1(0x5b4)][_0x32f5f1(0x148)](this[_0x32f5f1(0x424)]+'\x20('+this[_0x32f5f1(0x4d4)]['wuid']+_0x32f5f1(0x6d1)+(_0x568255 instanceof Error?_0x568255[_0x32f5f1(0x331)]:JSON['stringify'](_0x568255,null,0x2))),new O(_0x568255?.[_0x32f5f1(0x172)]());}}[a0_0x521bf9(0x28d)](){this['client']['ev']['process'](_0x423beb=>{const _0x383878=a0_0x4ad4;if(!this[_0x383878(0x151)]){let _0x2a4053=this[_0x383878(0x57b)][_0x383878(0x51f)](_0x383878(0x28c));if(_0x423beb[_0x383878(0x710)]){let _0x13ee60=_0x423beb[_0x383878(0x710)];this[_0x383878(0x559)][_0x383878(0x710)](_0x13ee60);}if(_0x423beb[_0x383878(0x5b9)]){let _0x1d2535=_0x423beb[_0x383878(0x5b9)];this[_0x383878(0x559)][_0x383878(0x5b9)](_0x1d2535);}if(_0x423beb[_0x383878(0x1d3)]&&this[_0x383878(0x4f9)](_0x423beb['connection.update']),_0x423beb[_0x383878(0x6e6)]&&this[_0x383878(0x4d4)][_0x383878(0x3b5)][_0x383878(0x654)](),_0x423beb[_0x383878(0x5cf)]){let _0x2a77e8=_0x423beb['messaging-history.set'];this[_0x383878(0x559)][_0x383878(0x5cf)](_0x2a77e8,_0x2a4053);}if(_0x423beb['messages.upsert']){let _0x2efad7=_0x423beb[_0x383878(0x509)];this[_0x383878(0x559)]['messages.upsert'](_0x2efad7,_0x2a4053);}if(_0x423beb['messages.update']){let _0x35b171=_0x423beb[_0x383878(0x5ef)];_0x35b171[_0x383878(0x592)](_0x3f0a06=>{const _0xa4bcfb=_0x383878;if(gr[_0x3f0a06[_0xa4bcfb(0x4d2)]['id']]){this[_0xa4bcfb(0x736)]['ev'][_0xa4bcfb(0x530)](_0xa4bcfb(0x509),{'messages':[_0x3f0a06],'type':'notify'}),delete gr[_0x3f0a06[_0xa4bcfb(0x4d2)]['id']];return;}}),this[_0x383878(0x559)][_0x383878(0x5ef)](_0x35b171,_0x2a4053);}if(_0x423beb['presence.update']){let _0x597955=_0x423beb['presence.update'];if(this[_0x383878(0x310)]?.['groups_ignore']&&_0x597955['id'][_0x383878(0x71c)](_0x383878(0x135)))return;this['sendDataWebhook'](_0x383878(0x439),_0x597955);}if(!this[_0x383878(0x310)]?.[_0x383878(0x2d2)]){if(_0x423beb[_0x383878(0x1de)]){let _0x413fb9=_0x423beb['groups.upsert'];this[_0x383878(0x4e6)][_0x383878(0x1de)](_0x413fb9);}if(_0x423beb[_0x383878(0x6fa)]){let _0x21d135=_0x423beb[_0x383878(0x6fa)];this[_0x383878(0x4e6)][_0x383878(0x6fa)](_0x21d135);}if(_0x423beb[_0x383878(0x50f)]){let _0x3c8288=_0x423beb['group-participants.update'];this['groupHandler'][_0x383878(0x50f)](_0x3c8288);}}if(_0x423beb[_0x383878(0x694)]){let _0x5e862b=_0x423beb[_0x383878(0x694)];this['chatHandle'][_0x383878(0x694)](_0x5e862b,_0x2a4053);}if(_0x423beb['chats.update']){let _0x1888f5=_0x423beb[_0x383878(0x749)];this[_0x383878(0x2f6)][_0x383878(0x749)](_0x1888f5,_0x2a4053);}if(_0x423beb[_0x383878(0x645)]){let _0x107390=_0x423beb[_0x383878(0x645)];this[_0x383878(0x2f6)]['chats.delete'](_0x107390);}if(_0x423beb[_0x383878(0x2bd)]){let _0x3e2647=_0x423beb['contacts.upsert'];this[_0x383878(0x602)]['contacts.upsert'](_0x3e2647,_0x2a4053);}if(_0x423beb[_0x383878(0x6ec)]){let _0x14e8b8=_0x423beb['contacts.update'];this[_0x383878(0x602)][_0x383878(0x6ec)](_0x14e8b8,_0x2a4053);}}});}[a0_0x521bf9(0x1be)](_0x4c1be1){let _0x2b48c5=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x4c1be1);if(_0x2b48c5&&_0x2b48c5[0x1]==='55'){let _0x3ff3f2=_0x2b48c5[0x2],_0x2abcab=_0x2b48c5[0x3],_0x3a0a77=_0x2b48c5[0x4];if(_0x3ff3f2>='31'&&_0x2abcab==='9')return _0x2b48c5[0x1]+_0x3ff3f2+_0x3a0a77;}return _0x4c1be1;}[a0_0x521bf9(0x60c)](_0x1a4bae){const _0x491c11=a0_0x521bf9;return _0x1a4bae['includes'](_0x491c11(0x135))||_0x1a4bae[_0x491c11(0x71c)](_0x491c11(0x386))||_0x1a4bae[_0x491c11(0x71c)](_0x491c11(0x186))?_0x1a4bae:(_0x1a4bae=_0x1a4bae?.[_0x491c11(0x27b)](/\s/g,'')[_0x491c11(0x27b)](/\+/g,'')[_0x491c11(0x27b)](/\(/g,'')['replace'](/\)/g,'')[_0x491c11(0x70e)](/\:/)[0x0]['split']('@')[0x0],_0x1a4bae[_0x491c11(0x4a0)]>=0x12?(_0x1a4bae=_0x1a4bae[_0x491c11(0x27b)](/[^\d-]/g,''),_0x1a4bae+'@g.us'):(_0x1a4bae=_0x1a4bae[_0x491c11(0x27b)](/\D/g,''),this['formatBRNumber'](_0x1a4bae)+_0x491c11(0x386)));}async[a0_0x521bf9(0x1e0)](_0x4fbba7){const _0x39d251=a0_0x521bf9;let _0x2f2dd3=this[_0x39d251(0x60c)](_0x4fbba7[_0x39d251(0x33b)]),_0x5ef520=(await this['whatsappNumber']({'numbers':[_0x2f2dd3]}))[0x0];if(!_0x5ef520['exists']&&!(0x0,y[_0x39d251(0x66d)])(_0x5ef520[_0x39d251(0x477)]))throw new m(_0x5ef520);let _0x226644=(0x0,y[_0x39d251(0x66d)])(_0x2f2dd3)?_0x2f2dd3:_0x5ef520['jid'];if((0x0,y[_0x39d251(0x66d)])(_0x226644))try{await this[_0x39d251(0x736)]['groupMetadata'](_0x226644);}catch{throw new L(_0x39d251(0x40a));}try{return await this[_0x39d251(0x736)][_0x39d251(0x73b)](_0x226644),await this[_0x39d251(0x736)][_0x39d251(0x61a)](_0x4fbba7[_0x39d251(0x42e)],_0x2f2dd3),{'status':0xc8,'presence':_0x4fbba7[_0x39d251(0x42e)]};}catch(_0x941f00){throw new m(_0x941f00[_0x39d251(0x172)]());}}async['profilePicture'](_0x12281c){const _0x1bfc86=a0_0x521bf9;let _0x3404fc=this[_0x1bfc86(0x60c)](_0x12281c);try{return{'wuid':_0x3404fc,'profilePictureUrl':await this[_0x1bfc86(0x736)][_0x1bfc86(0x2f0)](_0x3404fc,_0x1bfc86(0x473))};}catch{return{'wuid':_0x3404fc,'profilePictureUrl':null};}}async[a0_0x521bf9(0x5ea)](_0x4b40fc,_0x440501,_0x2dc97c){const _0x439ee=a0_0x521bf9;_0x2dc97c||(_0x2dc97c={});let _0x62bbf3=(await this[_0x439ee(0x3dc)]({'numbers':[_0x4b40fc]}))[0x0];if(!_0x62bbf3[_0x439ee(0x4db)]&&!(0x0,y['isJidGroup'])(_0x62bbf3[_0x439ee(0x477)])&&!_0x62bbf3[_0x439ee(0x477)][_0x439ee(0x71c)]('@broadcast'))throw new m(_0x62bbf3);let _0x20560a=_0x62bbf3['jid'];try{_0x2dc97c?.[_0x439ee(0x5c6)]&&(await this[_0x439ee(0x736)][_0x439ee(0x73b)](_0x20560a),await this[_0x439ee(0x736)][_0x439ee(0x61a)](_0x2dc97c?.[_0x439ee(0x42e)]??_0x439ee(0x474),_0x20560a),await(0x0,y[_0x439ee(0x5c6)])(_0x2dc97c[_0x439ee(0x5c6)]),await this[_0x439ee(0x736)][_0x439ee(0x61a)](_0x439ee(0x2b9),_0x20560a));let _0xb3292c=_0x2dc97c?.[_0x439ee(0x69e)]!=!0x1?void 0x0:!0x1,_0x2f2de5;if(_0x2dc97c?.[_0x439ee(0x52c)]){let _0x1f4370=_0x2dc97c?.[_0x439ee(0x52c)],_0x43d172=_0x1f4370?.[_0x439ee(0x331)]?_0x1f4370:await this['getMessage'](_0x1f4370[_0x439ee(0x4d2)],!0x0);if(!_0x43d172)throw'Message\x20not\x20found';_0x2f2de5=_0x43d172;}let _0x54586a;if((0x0,y[_0x439ee(0x66d)])(_0x20560a))try{let _0x5c82a4=await this[_0x439ee(0x736)][_0x439ee(0x4ce)](_0x20560a);if(!_0x5c82a4)throw new L(_0x439ee(0x40a));_0x2dc97c?.[_0x439ee(0x680)]&&(_0x2dc97c[_0x439ee(0x680)]?.[_0x439ee(0x428)]?_0x54586a=_0x5c82a4[_0x439ee(0x282)][_0x439ee(0x648)](_0x21980c=>_0x21980c['id']):_0x2dc97c[_0x439ee(0x680)]?.['mentioned']?.[_0x439ee(0x4a0)]&&(_0x54586a=_0x2dc97c[_0x439ee(0x680)][_0x439ee(0x639)][_0x439ee(0x648)](_0x5e8ff8=>{const _0x52c9c9=_0x439ee;let _0xef5ca9=this[_0x52c9c9(0x60c)](_0x5e8ff8);return(0x0,y[_0x52c9c9(0x66d)])(_0xef5ca9)?null:_0xef5ca9;})));}catch{throw new L(_0x439ee(0x40a));}let _0x49fd32=await((async()=>{const _0x3dbc1c=_0x439ee;let _0x1e1ffa={'quoted':_0x2f2de5};if(!_0x440501[_0x3dbc1c(0x4c5)]&&!_0x440501[_0x3dbc1c(0x6a1)]&&!_0x440501[_0x3dbc1c(0x66b)]&&!_0x440501['conversation']&&_0x20560a!==_0x3dbc1c(0x2e1)&&!_0x440501[_0x3dbc1c(0x4c5)])return await this[_0x3dbc1c(0x736)][_0x3dbc1c(0x685)](_0x20560a,{'forward':{'key':{'remoteJid':this[_0x3dbc1c(0x4d4)]['wuid'],'fromMe':!0x0},'message':_0x440501},'mentions':_0x54586a},_0x1e1ffa);if(_0x440501['conversation']){let _0x4b67bf=_0x440501[_0x3dbc1c(0x740)];return _0x2dc97c?.['changeVariables']&&(_0x4b67bf=await this[_0x3dbc1c(0x66f)](_0x4b67bf,_0x20560a)),await this[_0x3dbc1c(0x736)][_0x3dbc1c(0x685)](_0x20560a,{'text':_0x4b67bf,'mentions':_0x54586a,'linkPreview':_0xb3292c},_0x1e1ffa);}return _0x20560a===_0x3dbc1c(0x2e1)?await this[_0x3dbc1c(0x736)][_0x3dbc1c(0x685)](_0x20560a,_0x440501['status'][_0x3dbc1c(0x6e7)],{'backgroundColor':_0x440501['status'][_0x3dbc1c(0x14f)][_0x3dbc1c(0x129)],'font':_0x440501[_0x3dbc1c(0x26d)][_0x3dbc1c(0x14f)]['font'],'statusJidList':_0x440501['status']['option'][_0x3dbc1c(0x635)]}):await this[_0x3dbc1c(0x736)][_0x3dbc1c(0x685)](_0x20560a,_0x440501,_0x1e1ffa);})()),{message_normalized:_0x98b08b}=this['normalizeMessage'](_0x49fd32[_0x439ee(0x331)],_(_0x49fd32[_0x439ee(0x331)]),null),_0x4e2cf4={'_id':_0x49fd32[_0x439ee(0x4d2)]['id'],'key':_0x49fd32[_0x439ee(0x4d2)],'pushName':_0x49fd32[_0x439ee(0x6c9)],'message':{..._0x49fd32[_0x439ee(0x331)]},'messageType':_(_0x49fd32[_0x439ee(0x331)]),'message_normalized':{'key':_0x49fd32[_0x439ee(0x4d2)],'pushName':_0x49fd32[_0x439ee(0x6c9)],'messageTimestamp':_0x49fd32[_0x439ee(0x27f)]&&_0x49fd32[_0x439ee(0x27f)][_0x439ee(0x172)]()['length']<0xd?_0x49fd32[_0x439ee(0x27f)]*0x3e8:_0x49fd32[_0x439ee(0x27f)]||null,'source':(0x0,y[_0x439ee(0x679)])(_0x49fd32['key']['id']),..._0x98b08b},'messageTimestamp':_0x49fd32[_0x439ee(0x27f)]&&_0x49fd32[_0x439ee(0x27f)][_0x439ee(0x172)]()[_0x439ee(0x4a0)]<0xd?_0x49fd32['messageTimestamp']*0x3e8:_0x49fd32[_0x439ee(0x27f)]||null,'owner':this['instance'][_0x439ee(0x3b3)],'source':(0x0,y[_0x439ee(0x679)])(_0x49fd32[_0x439ee(0x4d2)]['id'])};return this['logger'][_0x439ee(0x1a3)](_0x4e2cf4),this['sendDataWebhook'](_0x439ee(0x3d3),_0x4e2cf4),q(this[_0x439ee(0x424)],_0x439ee(0x420),{'message':_0x4e2cf4}),this['updateChatWithMessage'](this[_0x439ee(0x57b)][_0x439ee(0x51f)](_0x439ee(0x28c)),_0x4e2cf4,_0x439ee(0x150)),await this[_0x439ee(0x431)]['message']['insert']([_0x4e2cf4],this['instance'][_0x439ee(0x3b3)]),_0x49fd32;}catch(_0x9ca3ec){throw this['logger'][_0x439ee(0x148)](this['instanceName']+'\x20('+this['instance'][_0x439ee(0x3b3)]+_0x439ee(0x6d1)+_0x9ca3ec[_0x439ee(0x172)]()),new m(_0x9ca3ec[_0x439ee(0x172)]());}}get[a0_0x521bf9(0x3a7)](){const _0x402bd8=a0_0x521bf9;return this[_0x402bd8(0x1eb)];}async[a0_0x521bf9(0x167)](_0x47c91e){const _0x2d03e7=a0_0x521bf9;let _0x398466=pr,_0x470c07=He;return _0x470c07&&this[_0x2d03e7(0x424)][_0x2d03e7(0x521)]()[_0x2d03e7(0x71c)](_0x470c07['toLowerCase']())&&(_0x47c91e[_0x2d03e7(0x167)][_0x2d03e7(0x44e)]+='\x0a\x0a'+_0x398466),await this[_0x2d03e7(0x5ea)](_0x47c91e['number'],{'conversation':_0x47c91e[_0x2d03e7(0x167)][_0x2d03e7(0x44e)]},_0x47c91e?.[_0x2d03e7(0x6e2)]);}async[a0_0x521bf9(0x18c)](_0x4d78c4){const _0x3d68ca=a0_0x521bf9;if(!_0x4d78c4[_0x3d68ca(0x50c)])throw new m('Type\x20is\x20required');if(!_0x4d78c4[_0x3d68ca(0x6e7)])throw new m(_0x3d68ca(0x2cf));if(_0x4d78c4['allContacts']){let _0x8c979c=await this['repository'][_0x3d68ca(0x359)][_0x3d68ca(0x375)]({'where':{}},this[_0x3d68ca(0x4d4)][_0x3d68ca(0x3b3)]);if(!_0x8c979c['length'])throw new m(_0x3d68ca(0x24b));_0x4d78c4[_0x3d68ca(0x635)]=_0x8c979c[_0x3d68ca(0x125)](_0x485470=>_0x485470[_0x3d68ca(0x6c9)])[_0x3d68ca(0x648)](_0x46f8f1=>_0x46f8f1[_0x3d68ca(0x6ad)]);}if(!_0x4d78c4[_0x3d68ca(0x635)]?.['length']&&!_0x4d78c4[_0x3d68ca(0x56f)])throw new m(_0x3d68ca(0x590));if(_0x4d78c4[_0x3d68ca(0x50c)]==='text'){if(!_0x4d78c4[_0x3d68ca(0x129)])throw new m(_0x3d68ca(0x24c));if(!_0x4d78c4[_0x3d68ca(0x60b)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x4d78c4['content']},'option':{'backgroundColor':_0x4d78c4[_0x3d68ca(0x129)],'font':_0x4d78c4[_0x3d68ca(0x60b)],'statusJidList':_0x4d78c4[_0x3d68ca(0x635)]}};}if(_0x4d78c4[_0x3d68ca(0x50c)]===_0x3d68ca(0x473))return{'content':{'image':{'url':_0x4d78c4[_0x3d68ca(0x6e7)]},'caption':_0x4d78c4[_0x3d68ca(0x320)]},'option':{'statusJidList':_0x4d78c4[_0x3d68ca(0x635)]}};if(_0x4d78c4[_0x3d68ca(0x50c)]==='video')return{'content':{'video':{'url':_0x4d78c4['content']},'caption':_0x4d78c4['caption']},'option':{'statusJidList':_0x4d78c4[_0x3d68ca(0x635)]}};if(_0x4d78c4['type']==='audio'){this['logger'][_0x3d68ca(0x5ab)](_0x3d68ca(0x64e)),this[_0x3d68ca(0x5b4)][_0x3d68ca(0x5ab)](_0x3d68ca(0x4b4));let _0x56924e=await this[_0x3d68ca(0x14a)](_0x4d78c4[_0x3d68ca(0x6e7)]);if(typeof _0x56924e==_0x3d68ca(0x202)){this[_0x3d68ca(0x5b4)][_0x3d68ca(0x5ab)](_0x3d68ca(0x372));let _0x3e4ddc=k[_0x3d68ca(0x178)](_0x56924e)[_0x3d68ca(0x172)](_0x3d68ca(0x266)),_0x2664a4={'content':{'audio':Buffer[_0x3d68ca(0x119)](_0x3e4ddc,_0x3d68ca(0x266)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x4d78c4[_0x3d68ca(0x635)]}};return k['unlinkSync'](_0x56924e),_0x2664a4;}else throw new O(_0x56924e);}throw new m(_0x3d68ca(0x388));}async[a0_0x521bf9(0x3f4)](_0x49e842){const _0x35a451=a0_0x521bf9;return await this['sendMessageWithTyping'](_0x35a451(0x2e1),{'status':await this[_0x35a451(0x18c)](_0x49e842[_0x35a451(0x3f4)])});}async[a0_0x521bf9(0x3c9)](_0x3e18df){const _0x4ec841=a0_0x521bf9;try{let _0x2e91c3=await(0x0,y[_0x4ec841(0x6f0)])({[_0x3e18df[_0x4ec841(0x612)]]:(0x0,$['isURL'])(_0x3e18df[_0x4ec841(0x4f8)])?{'url':_0x3e18df[_0x4ec841(0x4f8)]}:Buffer['from'](_0x3e18df[_0x4ec841(0x4f8)],'base64')},{'upload':this[_0x4ec841(0x736)][_0x4ec841(0x244)]}),_0x488c56=_0x3e18df[_0x4ec841(0x612)]+_0x4ec841(0x30b);if(_0x3e18df['mediatype']===_0x4ec841(0x34d)&&!_0x3e18df['fileName']){let _0x4fdaf0=new RegExp(/.*\/(.+?)\./)[_0x4ec841(0x39e)](_0x3e18df[_0x4ec841(0x4f8)]);_0x3e18df[_0x4ec841(0x128)]=_0x4fdaf0?_0x4fdaf0[0x1]:null;}let _0x31ded9=(0x0,$[_0x4ec841(0x126)])(_0x3e18df['media'])?_0x3e18df[_0x4ec841(0x4f8)][_0x4ec841(0x70e)]('?')[0x0]:_0x3e18df[_0x4ec841(0x4f8)];this['logger'][_0x4ec841(0x5ab)](_0x4ec841(0x334)+_0x31ded9);let _0x3c1177;(0x0,$['isURL'])(_0x3e18df['media'])?_0x3c1177=(0x0,Ot[_0x4ec841(0x575)])(_0x31ded9):_0x3e18df[_0x4ec841(0x128)]&&_0x3e18df['fileName'][_0x4ec841(0x71c)]('.')?_0x3c1177=(0x0,Ot[_0x4ec841(0x575)])(_0x3e18df['fileName']):_0x3c1177=(0x0,Ot['getMIMEType'])(_0x3e18df[_0x4ec841(0x4f8)]);let _0x2b0dcd=pr,_0x5a57b5=He;return _0x5a57b5&&this[_0x4ec841(0x424)]['toLowerCase']()[_0x4ec841(0x71c)](_0x5a57b5[_0x4ec841(0x521)]())&&(_0x3e18df[_0x4ec841(0x320)]+='\x0a\x0a'+_0x2b0dcd),_0x2e91c3[_0x488c56][_0x4ec841(0x320)]=_0x3e18df?.[_0x4ec841(0x320)],_0x2e91c3[_0x488c56][_0x4ec841(0x3b2)]=_0x3c1177,_0x2e91c3[_0x488c56][_0x4ec841(0x128)]=_0x3e18df[_0x4ec841(0x128)],_0x3e18df[_0x4ec841(0x612)]===_0x4ec841(0x39d)&&(_0x2e91c3[_0x488c56][_0x4ec841(0x1a4)]=Uint8Array['from']((0x0,Me['readFileSync'])((0x0,F['join'])(process[_0x4ec841(0x29a)](),_0x4ec841(0x194)))),_0x2e91c3[_0x488c56][_0x4ec841(0x12d)]=!0x1),(0x0,y[_0x4ec841(0x1a6)])('',{[_0x488c56]:{..._0x2e91c3[_0x488c56]}},{'userJid':this[_0x4ec841(0x4d4)][_0x4ec841(0x3b3)]});}catch(_0x3e43bc){throw this[_0x4ec841(0x5b4)][_0x4ec841(0x148)](this['instanceName']+'\x20('+this[_0x4ec841(0x4d4)][_0x4ec841(0x3b3)]+_0x4ec841(0x6d1)+(_0x3e43bc instanceof Error?_0x3e43bc['message']:JSON[_0x4ec841(0x62e)](_0x3e43bc,null,0x2))),new O(_0x3e43bc?.[_0x4ec841(0x172)]()||_0x3e43bc);}}async['mediaMessage'](_0x52b7ee){const _0xfe4503=a0_0x521bf9;let _0x5119c6=await this[_0xfe4503(0x3c9)](_0x52b7ee[_0xfe4503(0x504)]);return await this['sendMessageWithTyping'](_0x52b7ee[_0xfe4503(0x33b)],{..._0x5119c6['message']},_0x52b7ee?.['options']);}async['convertToWebP'](_0x5a31c9,_0x15914f){const _0x47fdf7=a0_0x521bf9;try{this['logger']['verbose'](_0x47fdf7(0x488));let _0x2efad5,_0x3b05d8=_0x15914f+'-'+new Date()['getTime']();this[_0x47fdf7(0x5b4)]['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x3b05d8);let _0x2ef2f2=''+(0x0,F['join'])(this[_0x47fdf7(0x3bb)],_0x3b05d8+_0x47fdf7(0x641));if(this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x533)+_0x2ef2f2),(0x0,$[_0x47fdf7(0x71a)])(_0x5a31c9)){this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)]('Image\x20is\x20base64');let _0x2c083d=_0x5a31c9['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x319810=Buffer[_0x47fdf7(0x119)](_0x2c083d,_0x47fdf7(0x266));_0x2efad5=''+(0x0,F[_0x47fdf7(0x1d7)])(this[_0x47fdf7(0x3bb)],_0x47fdf7(0x5ba)+_0x3b05d8+_0x47fdf7(0x67a)),this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x560)+_0x2efad5),await(0x0,It[_0x47fdf7(0x733)])(_0x319810)[_0x47fdf7(0x2f3)](_0x2efad5),this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x3a9));}else{this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x4fa));let _0x301f5c=new Date()['getTime'](),_0x2244b7=_0x5a31c9+_0x47fdf7(0x2e6)+_0x301f5c;this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x47c)+_0x2244b7);let _0x151f08=await se[_0x47fdf7(0x733)][_0x47fdf7(0x51f)](_0x2244b7,{'responseType':_0x47fdf7(0x389)});this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x5f1));let _0x188959=Buffer[_0x47fdf7(0x119)](_0x151f08[_0x47fdf7(0x23d)],_0x47fdf7(0x6a8));_0x2efad5=''+(0x0,F[_0x47fdf7(0x1d7)])(this[_0x47fdf7(0x3bb)],_0x47fdf7(0x5ba)+_0x3b05d8+'.png'),this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)]('Image\x20path:\x20'+_0x2efad5),await(0x0,It[_0x47fdf7(0x733)])(_0x188959)['toFile'](_0x2efad5),this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x3a9));}return await(0x0,It[_0x47fdf7(0x733)])(_0x2efad5)[_0x47fdf7(0x60e)]()['toFile'](_0x2ef2f2),this[_0x47fdf7(0x5b4)]['verbose'](_0x47fdf7(0x1b9)),k[_0x47fdf7(0x2b1)](_0x2efad5),this[_0x47fdf7(0x5b4)][_0x47fdf7(0x5ab)](_0x47fdf7(0x21e)),_0x2ef2f2;}catch(_0xcda2ca){console[_0x47fdf7(0x148)](_0x47fdf7(0x398),_0xcda2ca instanceof Error?_0xcda2ca[_0x47fdf7(0x331)]:JSON[_0x47fdf7(0x62e)](_0xcda2ca,null,0x2));}}async[a0_0x521bf9(0x162)](_0x41d1c2){const _0x50c692=a0_0x521bf9;let _0xee65bd=await this[_0x50c692(0x72b)](_0x41d1c2['stickerMessage'][_0x50c692(0x473)],_0x41d1c2[_0x50c692(0x33b)]),_0xcf68a4=await this[_0x50c692(0x5ea)](_0x41d1c2[_0x50c692(0x33b)],{'sticker':{'url':_0xee65bd}},_0x41d1c2?.[_0x50c692(0x6e2)]);return k[_0x50c692(0x2b1)](_0xee65bd),this[_0x50c692(0x5b4)][_0x50c692(0x5ab)](_0x50c692(0x65f)),_0xcf68a4;}async[a0_0x521bf9(0x664)](_0x5957b2){const _0x3d78b5=a0_0x521bf9;if(this[_0x3d78b5(0x5b4)][_0x3d78b5(0x5ab)](_0x3d78b5(0x525)),!_0x5957b2[_0x3d78b5(0x6e2)]?.[_0x3d78b5(0x1c4)]&&_0x5957b2[_0x3d78b5(0x6e2)]?.[_0x3d78b5(0x1c4)]!==!0x1&&(_0x5957b2[_0x3d78b5(0x6e2)]['encoding']=!0x0),_0x5957b2[_0x3d78b5(0x6e2)]?.[_0x3d78b5(0x1c4)]){let _0x3e6358=await this[_0x3d78b5(0x14a)](_0x5957b2[_0x3d78b5(0x2fd)][_0x3d78b5(0x4c5)]);if(typeof _0x3e6358==_0x3d78b5(0x202)){let _0x236c2a=k[_0x3d78b5(0x178)](_0x3e6358)[_0x3d78b5(0x172)]('base64'),_0x372321=this[_0x3d78b5(0x5ea)](_0x5957b2[_0x3d78b5(0x33b)],{'audio':Buffer[_0x3d78b5(0x119)](_0x236c2a,'base64'),'ptt':!0x0,'mimetype':_0x3d78b5(0x407)},{'presence':_0x3d78b5(0x1b1),'delay':_0x5957b2?.[_0x3d78b5(0x6e2)]?.[_0x3d78b5(0x5c6)]});return k[_0x3d78b5(0x2b1)](_0x3e6358),this[_0x3d78b5(0x5b4)][_0x3d78b5(0x5ab)](_0x3d78b5(0x2ed)),_0x372321;}else throw new O(_0x3e6358);}return await this['sendMessageWithTyping'](_0x5957b2[_0x3d78b5(0x33b)],{'audio':(0x0,$[_0x3d78b5(0x126)])(_0x5957b2[_0x3d78b5(0x2fd)][_0x3d78b5(0x4c5)])?{'url':_0x5957b2[_0x3d78b5(0x2fd)][_0x3d78b5(0x4c5)]}:Buffer[_0x3d78b5(0x119)](_0x5957b2[_0x3d78b5(0x2fd)][_0x3d78b5(0x4c5)],_0x3d78b5(0x266)),'ptt':!0x0,'mimetype':'audio/aac'},{'presence':_0x3d78b5(0x1b1),'delay':_0x5957b2?.[_0x3d78b5(0x6e2)]?.[_0x3d78b5(0x5c6)]});}async[a0_0x521bf9(0x14a)](_0x45356d){const _0x4e4ea4=a0_0x521bf9;this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x4b4));let _0x5020d5,_0x50546f,_0x24bf82=(0x0,Ce['v4'])();if(this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x421)+_0x24bf82),(0x0,$['isURL'])(_0x45356d)){this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)]('Audio\x20is\x20url'),_0x50546f=''+(0x0,F['join'])(this[_0x4e4ea4(0x3bb)],_0x24bf82+_0x4e4ea4(0x408)),_0x5020d5=''+(0x0,F[_0x4e4ea4(0x1d7)])(this[_0x4e4ea4(0x3bb)],_0x4e4ea4(0x5ba)+_0x24bf82+_0x4e4ea4(0x61d)),this[_0x4e4ea4(0x5b4)]['verbose'](_0x4e4ea4(0x50d)+_0x50546f),this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x64b)+_0x5020d5);let _0x87bedb=new Date()[_0x4e4ea4(0x156)](),_0x29c56d=_0x45356d+'?timestamp='+_0x87bedb;this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x27c)+_0x29c56d);let _0x47fdbb=await se[_0x4e4ea4(0x733)][_0x4e4ea4(0x51f)](_0x29c56d,{'responseType':_0x4e4ea4(0x389)});this['logger'][_0x4e4ea4(0x5ab)]('Getting\x20audio\x20from\x20url'),k[_0x4e4ea4(0x30a)](_0x5020d5,_0x47fdbb[_0x4e4ea4(0x23d)]);}else{this['logger'][_0x4e4ea4(0x5ab)]('Audio\x20is\x20base64'),_0x50546f=''+(0x0,F[_0x4e4ea4(0x1d7)])(this[_0x4e4ea4(0x3bb)],_0x24bf82+_0x4e4ea4(0x408)),_0x5020d5=''+(0x0,F['join'])(this[_0x4e4ea4(0x3bb)],_0x4e4ea4(0x5ba)+_0x24bf82+_0x4e4ea4(0x61d)),this[_0x4e4ea4(0x5b4)]['verbose'](_0x4e4ea4(0x50d)+_0x50546f),this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x64b)+_0x5020d5);let _0x244ae9=Buffer[_0x4e4ea4(0x119)](_0x45356d,_0x4e4ea4(0x266));k[_0x4e4ea4(0x30a)](_0x5020d5,_0x244ae9),this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x529));}return this[_0x4e4ea4(0x5b4)][_0x4e4ea4(0x5ab)](_0x4e4ea4(0x34f)),new Promise((_0x36f3a3,_0x509623)=>{const _0x520fe7=_0x4e4ea4;(0x0,Dt[_0x520fe7(0x39e)])(mr['default'][_0x520fe7(0x247)]+_0x520fe7(0x42b)+_0x5020d5+_0x520fe7(0x13d)+_0x50546f+'\x20-y',_0x544a5f=>{const _0x1dce09=_0x520fe7;k[_0x1dce09(0x2b1)](_0x5020d5),this['logger'][_0x1dce09(0x5ab)](_0x1dce09(0x4b9)),_0x544a5f&&_0x509623(_0x544a5f),this[_0x1dce09(0x5b4)][_0x1dce09(0x5ab)]('Audio\x20converted\x20to\x20mp4'),_0x36f3a3(_0x50546f);});});}async[a0_0x521bf9(0x16b)](_0x5a4588){const _0x35adbe=a0_0x521bf9;let _0x2f7593={},_0x516d08=_0x35adbe(0x508);if(_0x5a4588['buttonMessage']?.[_0x35adbe(0x504)]){_0x516d08=_0x5a4588[_0x35adbe(0x16b)][_0x35adbe(0x504)]?.[_0x35adbe(0x612)]['toUpperCase']()??_0x35adbe(0x508),_0x2f7593[_0x35adbe(0x264)]=_0x516d08['toLowerCase']()+_0x35adbe(0x30b);let _0x166477=await this['prepareMediaMessage'](_0x5a4588[_0x35adbe(0x16b)][_0x35adbe(0x504)]);_0x2f7593['message']=_0x166477['message'][_0x2f7593['mediaKey']],_0x2f7593['contentText']='*'+_0x5a4588[_0x35adbe(0x16b)]['title']+_0x35adbe(0x2c9)+_0x5a4588[_0x35adbe(0x16b)]['description'];}let _0x5695f8={'text':_0x5a4588[_0x35adbe(0x16b)]['buttons']['map'](_0x121afb=>_0x121afb[_0x35adbe(0x20c)]),'ids':_0x5a4588[_0x35adbe(0x16b)][_0x35adbe(0x6c2)]['map'](_0x165b71=>_0x165b71[_0x35adbe(0x537)])};if(!(0x0,$[_0x35adbe(0x720)])(_0x5695f8[_0x35adbe(0x44e)])||!(0x0,$[_0x35adbe(0x720)])(_0x5695f8[_0x35adbe(0x492)]))throw new m(_0x35adbe(0x165),_0x35adbe(0x369));return await this[_0x35adbe(0x5ea)](_0x5a4588[_0x35adbe(0x33b)],{'buttonsMessage':{'text':_0x2f7593?.[_0x35adbe(0x264)]?void 0x0:_0x5a4588[_0x35adbe(0x16b)][_0x35adbe(0x555)],'contentText':_0x2f7593?.[_0x35adbe(0x374)]??_0x5a4588[_0x35adbe(0x16b)][_0x35adbe(0x4fb)],'footerText':_0x5a4588[_0x35adbe(0x16b)]?.['footerText'],'buttons':_0x5a4588[_0x35adbe(0x16b)]['buttons']['map'](_0x107c00=>({'buttonText':{'displayText':_0x107c00[_0x35adbe(0x20c)]},'buttonId':_0x107c00[_0x35adbe(0x537)],'type':0x1})),'headerType':y[_0x35adbe(0x72c)][_0x35adbe(0x30b)]['ButtonsMessage'][_0x35adbe(0x1ac)][_0x516d08],[_0x2f7593?.[_0x35adbe(0x264)]]:_0x2f7593?.['message']}},_0x5a4588?.[_0x35adbe(0x6e2)]);}async[a0_0x521bf9(0x155)](_0x1e2fae){const _0x12535a=a0_0x521bf9;return await this[_0x12535a(0x5ea)](_0x1e2fae[_0x12535a(0x33b)],{'locationMessage':{'degreesLatitude':_0x1e2fae[_0x12535a(0x155)][_0x12535a(0x1ea)],'degreesLongitude':_0x1e2fae['locationMessage'][_0x12535a(0x66e)],'name':_0x1e2fae[_0x12535a(0x155)]?.['name'],'address':_0x1e2fae[_0x12535a(0x155)]?.['address']}},_0x1e2fae?.[_0x12535a(0x6e2)]);}async[a0_0x521bf9(0x3df)](_0x1fcfd0){const _0x8ba766=a0_0x521bf9;let _0x53d632={},_0x471615=_0x2a59e9=>{const _0x1f299a=a0_0x4ad4;let _0x360f69=_0x1f299a(0x1d1)+_0x2a59e9[_0x1f299a(0x577)]+'\x0aFN:'+_0x2a59e9[_0x1f299a(0x577)]+'\x0a';_0x2a59e9[_0x1f299a(0x561)]&&(_0x360f69+=_0x1f299a(0x406)+_0x2a59e9[_0x1f299a(0x561)]+';\x0a'),_0x2a59e9[_0x1f299a(0x238)]&&(_0x360f69+=_0x1f299a(0x1c0)+_0x2a59e9[_0x1f299a(0x238)]+'\x0a'),_0x2a59e9[_0x1f299a(0x4c3)]&&(_0x360f69+=_0x1f299a(0x623)+_0x2a59e9[_0x1f299a(0x4c3)]+'\x0a');let _0x1cbb8a='';return _0x2a59e9[_0x1f299a(0x672)]&&_0x2a59e9[_0x1f299a(0x672)][_0x1f299a(0x70e)]('|')['forEach']((_0x3c8df9,_0x4ee27c)=>{const _0x515f3b=_0x1f299a;let _0x324e18=this['createJid'](_0x3c8df9)[_0x515f3b(0x27b)]('@s.whatsapp.net','');_0x1cbb8a+=_0x515f3b(0x1bf)+(_0x4ee27c+0x1)+'.TEL;waid='+_0x324e18+':'+_0x3c8df9+'\x0aitem'+(_0x4ee27c+0x1)+'.X-ABLabel:Celular\x0a';}),_0x360f69+=_0x1cbb8a+_0x1f299a(0x5c3),_0x360f69;};return _0x1fcfd0['contactMessage'][_0x8ba766(0x4a0)]===0x1?_0x53d632[_0x8ba766(0x3df)]={'displayName':_0x1fcfd0[_0x8ba766(0x3df)][0x0][_0x8ba766(0x577)],'vcard':_0x471615(_0x1fcfd0['contactMessage'][0x0])}:_0x53d632[_0x8ba766(0x725)]={'displayName':_0x1fcfd0['contactMessage'][_0x8ba766(0x4a0)]+_0x8ba766(0x535),'contacts':_0x1fcfd0[_0x8ba766(0x3df)][_0x8ba766(0x648)](_0x5702d3=>({'displayName':_0x5702d3['fullName'],'vcard':_0x471615(_0x5702d3)}))},await this[_0x8ba766(0x5ea)](_0x1fcfd0[_0x8ba766(0x33b)],{..._0x53d632},_0x1fcfd0?.[_0x8ba766(0x6e2)]);}async[a0_0x521bf9(0x1b2)](_0x15c60f){const _0x742f8b=a0_0x521bf9;return await this[_0x742f8b(0x5ea)](_0x15c60f['reactionMessage'][_0x742f8b(0x4d2)][_0x742f8b(0x6cd)],{'reactionMessage':{'key':_0x15c60f[_0x742f8b(0x1b2)][_0x742f8b(0x4d2)],'text':_0x15c60f['reactionMessage']['reaction']}});}async['whatsappNumber'](_0x2c2cb1){const _0x56419e=a0_0x521bf9;let _0x434ffb=[];for await(let _0x2e2ba9 of _0x2c2cb1[_0x56419e(0x110)]){let _0x114b19=this[_0x56419e(0x60c)](_0x2e2ba9),_0x343a9c=!0x1;try{if((0x0,y[_0x56419e(0x66d)])(_0x114b19)){let _0x2a216b=await this[_0x56419e(0x38b)]({'groupJid':_0x114b19},_0x56419e(0x4b8));_0x434ffb[_0x56419e(0x330)](new ge(_0x2a216b[_0x56419e(0x6bf)]['id'],!!_0x2a216b?.['metadata']['id'],_0x2a216b?.[_0x56419e(0x6bf)][_0x56419e(0x5c9)])),_0x343a9c=!!_0x2a216b?.[_0x56419e(0x6bf)]['id'];}else{let _0x1b16cf=(await this[_0x56419e(0x736)][_0x56419e(0x2da)](_0x114b19))[0x0];_0x434ffb[_0x56419e(0x330)](new ge(_0x1b16cf['jid'],_0x1b16cf[_0x56419e(0x4db)])),_0x343a9c=_0x1b16cf[_0x56419e(0x4db)];}}catch{await this[_0x56419e(0x1bd)](_0x114b19,_0x343a9c),_0x434ffb[_0x56419e(0x330)](new ge(_0x2e2ba9,!0x1));}}return _0x434ffb;}async[a0_0x521bf9(0x1bd)](_0x1f855f,_0x4cf9a1){const _0x27a95b=a0_0x521bf9;try{await this[_0x27a95b(0x431)][_0x27a95b(0x5d6)]['findOne']({'where':{'_id':_0x1f855f,'imported':!0x0}},this['instance'][_0x27a95b(0x3b3)])&&(_0x4cf9a1?await this[_0x27a95b(0x431)][_0x27a95b(0x5d6)][_0x27a95b(0x56c)]({'where':{'_id':_0x1f855f}},{'imported':!0x1},this[_0x27a95b(0x4d4)][_0x27a95b(0x3b3)],void 0x0,'$unset'):(await this[_0x27a95b(0x431)][_0x27a95b(0x5d6)][_0x27a95b(0x4c2)](_0x1f855f,this[_0x27a95b(0x4d4)][_0x27a95b(0x3b3)]),console[_0x27a95b(0x1a3)](_0x27a95b(0x14c)+_0x1f855f+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x54f596){console[_0x27a95b(0x148)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x54f596);}}async['markMessageAsRead'](_0x17e1bb){const _0xe56378=a0_0x521bf9;try{let _0x184605=_0x17e1bb['readMessages'][_0xe56378(0x125)](_0xf9e19=>(0x0,y[_0xe56378(0x66d)])(_0xf9e19[_0xe56378(0x6cd)])||(0x0,y[_0xe56378(0x213)])(_0xf9e19[_0xe56378(0x6cd)]))['map'](_0x5294c7=>({'remoteJid':_0x5294c7[_0xe56378(0x6cd)],'fromMe':_0x5294c7[_0xe56378(0x2b5)],'id':_0x5294c7['id']}));await this[_0xe56378(0x736)]['readMessages'](_0x184605);let _0x4706b0=_0x184605['map'](_0x43787c=>this[_0xe56378(0x61c)](_0x43787c,{'status':'READ','owner':this[_0xe56378(0x4d4)][_0xe56378(0x3b3)]})),_0x3e579f=_0x184605[_0xe56378(0x648)](_0x54d3c4=>this[_0xe56378(0x431)][_0xe56378(0x5d6)][_0xe56378(0x56c)]({'where':{'_id':_0x54d3c4[_0xe56378(0x6cd)]}},{'unreadcount':0x0},this[_0xe56378(0x4d4)][_0xe56378(0x3b3)])),[_0x515f99,_0x2f78b8]=await Promise[_0xe56378(0x6c3)]([Promise[_0xe56378(0x6c3)](_0x4706b0),Promise['all'](_0x3e579f)]);return _0x2f78b8['filter'](_0x162423=>_0x162423!==null)[_0xe56378(0x592)](_0x20b7fa=>{const _0x250f28=_0xe56378;q(this[_0x250f28(0x424)],'chats',{'chat':_0x20b7fa});}),{'message':_0xe56378(0x50b),'read':_0xe56378(0x115)};}catch(_0x1cabad){throw console[_0xe56378(0x148)]('Error\x20in\x20markMessageAsRead:',_0x1cabad),new O(_0xe56378(0x54c),_0x1cabad[_0xe56378(0x172)]());}}async[a0_0x521bf9(0x578)](_0x3a00a){const _0x331a2b=a0_0x521bf9;let _0x12fd95=await this[_0x331a2b(0x210)]({'where':{'key':{'remoteJid':_0x3a00a}}}),_0x1aca77=_0x12fd95['pop']();for(let _0xf9d52a of _0x12fd95)_0xf9d52a[_0x331a2b(0x27f)]>=_0x1aca77[_0x331a2b(0x27f)]&&(_0x1aca77=_0xf9d52a);return _0x1aca77;}async[a0_0x521bf9(0x411)](_0x1a720a){const _0x16191=a0_0x521bf9;this[_0x16191(0x5b4)][_0x16191(0x5ab)]('Archiving\x20chat');try{let _0x5d8fc1=_0x1a720a[_0x16191(0x688)],_0x2016d7=_0x1a720a['chat'];if(!_0x5d8fc1&&_0x2016d7?_0x5d8fc1=await this[_0x16191(0x578)](_0x2016d7):(_0x5d8fc1=_0x1a720a['lastMessage'],_0x5d8fc1[_0x16191(0x27f)]=_0x5d8fc1?.[_0x16191(0x27f)]??Date[_0x16191(0x15d)](),_0x2016d7=_0x5d8fc1?.['key']?.['remoteJid']),!_0x5d8fc1||Object['keys'](_0x5d8fc1)[_0x16191(0x4a0)]===0x0)throw new L(_0x16191(0x621));await this[_0x16191(0x736)][_0x16191(0x72e)]({'archive':_0x1a720a[_0x16191(0x127)],'lastMessages':[_0x5d8fc1]},this[_0x16191(0x60c)](_0x2016d7));let _0x53893d=await this[_0x16191(0x431)][_0x16191(0x5d6)]['updateOne']({'where':{'_id':_0x5d8fc1?.['key']?.['remoteJid']}},{'archived':_0x1a720a[_0x16191(0x127)]},this[_0x16191(0x4d4)][_0x16191(0x3b3)]);return _0x53893d&&q(this[_0x16191(0x424)],_0x16191(0x1b4),{'chat':_0x53893d}),{'chatId':_0x2016d7,'archived':_0x1a720a[_0x16191(0x127)]};}catch(_0x14324a){throw new O({'archived':!0x1,'message':[_0x16191(0x4bc),_0x14324a[_0x16191(0x172)]()]});}}async[a0_0x521bf9(0x593)](_0x3bf3a5){const _0x21bf2c=a0_0x521bf9;try{let _0x2b7832=await this['client'][_0x21bf2c(0x685)](_0x3bf3a5['remoteJid'],{'delete':_0x3bf3a5});try{let _0x1a4f1d=await this[_0x21bf2c(0x61c)](_0x3bf3a5,{'status':_0x21bf2c(0x441),'owner':this[_0x21bf2c(0x4d4)][_0x21bf2c(0x3b3)]});this['logger'][_0x21bf2c(0x5ab)](this[_0x21bf2c(0x424)]+'\x20('+this[_0x21bf2c(0x4d4)][_0x21bf2c(0x3b3)]+'):\x20updateResult:'+_0x1a4f1d);}catch(_0x490929){console['error'](_0x21bf2c(0x409),_0x490929);}return _0x2b7832;}catch(_0xaaf38d){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0xaaf38d?.[_0x21bf2c(0x172)]());}}async[a0_0x521bf9(0x1e2)](_0x2a38db){const _0x4d942e=a0_0x521bf9;try{let _0x599958=_0x2a38db?.[_0x4d942e(0x331)]?_0x2a38db:await this['getMessage'](_0x2a38db['key'],!0x0);for(let _0x1c26cf of pa)_0x599958['message'][_0x1c26cf]&&(_0x599958['message']=_0x599958[_0x4d942e(0x331)][_0x1c26cf][_0x4d942e(0x331)]);let _0x262bf3,_0x497d43;for(let _0x18737f of da)if(_0x262bf3=_0x599958[_0x4d942e(0x331)][_0x18737f],_0x262bf3){_0x497d43=_0x18737f;break;}if(!_0x262bf3)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x262bf3[_0x4d942e(0x264)]=='object'&&(_0x599958[_0x4d942e(0x331)]=JSON[_0x4d942e(0x564)](JSON[_0x4d942e(0x62e)](_0x599958[_0x4d942e(0x331)])));let _0x486bd0=await(0x0,y['downloadMediaMessage'])({'key':_0x599958?.[_0x4d942e(0x4d2)],'message':_0x599958?.[_0x4d942e(0x331)]},'buffer',{},{'logger':(0x0,At[_0x4d942e(0x733)])({'level':'silent'}),'reuploadRequest':this[_0x4d942e(0x736)][_0x4d942e(0x259)]});if(!(_0x486bd0 instanceof Buffer))throw new Error(_0x4d942e(0x6f4));let _0x310a93=this['configService'][_0x4d942e(0x51f)]('DATABASE'),_0x28f8aa,_0x22766b;if(_0x262bf3[_0x4d942e(0x128)])_0x28f8aa=_0x262bf3[_0x4d942e(0x128)];else{let _0x2ddd04=_0x262bf3['mimetype']?.[_0x4d942e(0x29f)](/\/(\w+)/),_0x3e6931=_0x2ddd04?_0x2ddd04[0x1]:null;if(!_0x3e6931)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x28f8aa=(0x0,Ce['v4'])()+'.'+_0x3e6931;}_0x497d43===_0x4d942e(0x2fd)&&_0x262bf3[_0x4d942e(0x3b2)]===_0x4d942e(0x3e1)?(_0x28f8aa=(0x0,Ce['v4'])()+'.ogg',_0x22766b=_0x4d942e(0x5ee)+await this[_0x4d942e(0x14a)](_0x486bd0[_0x4d942e(0x172)](_0x4d942e(0x266)))):(await this[_0x4d942e(0x1e3)](_0x486bd0,_0x28f8aa),_0x22766b='/media/'+_0x28f8aa);let _0x230192=this[_0x4d942e(0x57b)][_0x4d942e(0x51f)]('SERVER')[_0x4d942e(0x634)];if(!_0x230192){let _0x76ef9=this[_0x4d942e(0x57b)][_0x4d942e(0x51f)]('SSL_CONF');_0x230192=_0x4d942e(0x562)+(_0x76ef9&&_0x76ef9['FULLCHAIN'][_0x4d942e(0x70e)]('/')[0x4]);}_0x22766b=''+_0x230192+_0x22766b;let _0x21537b=0xc*0x3c*0x3c*0x3e8,_0x4a668e={'where':{'_id':_0x599958[_0x4d942e(0x4d2)]['id']}},_0x2ca2a0={'message_normalized.fileUrl':_0x22766b,'message_normalized.expires_fileUrl':Date[_0x4d942e(0x15d)]()+_0x21537b};try{let _0x290d24=await this['repository'][_0x4d942e(0x331)][_0x4d942e(0x343)](_0x4a668e,_0x2ca2a0,this[_0x4d942e(0x4d4)][_0x4d942e(0x3b3)]);_0x290d24&&q(this[_0x4d942e(0x424)],_0x4d942e(0x420),{'message':_0x290d24});}catch(_0x1778bd){this[_0x4d942e(0x5b4)][_0x4d942e(0x148)](this['instanceName']+'\x20('+this[_0x4d942e(0x4d4)][_0x4d942e(0x3b3)]+'):\x20'+(_0x1778bd instanceof Error?_0x1778bd['message']:JSON[_0x4d942e(0x62e)](_0x1778bd,null,0x2)));}return{'mediaType':_0x497d43,'fileName':_0x262bf3['fileName'],'caption':_0x262bf3[_0x4d942e(0x320)],'size':{'fileLength':_0x262bf3[_0x4d942e(0x487)],'height':_0x262bf3[_0x4d942e(0x558)],'width':_0x262bf3['width']},'mimetype':_0x262bf3[_0x4d942e(0x3b2)],'base64':_0x486bd0[_0x4d942e(0x172)]('base64'),'fileUrl':_0x22766b,'expires_fileUrl':Date[_0x4d942e(0x15d)]()+_0x21537b};}catch(_0x22eb93){throw this['logger'][_0x4d942e(0x148)](this[_0x4d942e(0x424)]+'\x20('+this[_0x4d942e(0x4d4)][_0x4d942e(0x3b3)]+'):\x20'+(_0x22eb93 instanceof Error?_0x22eb93[_0x4d942e(0x331)]:JSON[_0x4d942e(0x62e)](_0x22eb93,null,0x2))),new m(_0x22eb93[_0x4d942e(0x172)]());}}async['saveMediaToFile'](_0x17e941,_0x3cf36e){const _0x270770=a0_0x521bf9;let _0x25f88f=F[_0x270770(0x733)]['join'](__dirname,'downloads');k['existsSync'](_0x25f88f)||k[_0x270770(0x53e)](_0x25f88f,{'recursive':!0x0});let _0x2bea92=F[_0x270770(0x733)][_0x270770(0x1d7)](_0x25f88f,_0x3cf36e);return new Promise((_0x3ced05,_0x1cc034)=>{const _0x2baeb5=_0x270770;k[_0x2baeb5(0x289)](_0x2bea92,_0x17e941,_0x4ef308=>{const _0x5ddaa3=_0x2baeb5;_0x4ef308?(this['logger'][_0x5ddaa3(0x148)](_0x5ddaa3(0x57c)+(_0x4ef308 instanceof Error?_0x4ef308[_0x5ddaa3(0x331)]:JSON[_0x5ddaa3(0x62e)](_0x4ef308,null,0x2))),_0x1cc034(_0x4ef308)):(this[_0x5ddaa3(0x5b4)][_0x5ddaa3(0x1a3)](_0x5ddaa3(0x459)+_0x2bea92),_0x3ced05(_0x2bea92));});});}async[a0_0x521bf9(0x6a0)](_0x30a5df){const _0x474761=a0_0x521bf9;return await this[_0x474761(0x431)]['contact'][_0x474761(0x375)](_0x30a5df,this[_0x474761(0x4d4)][_0x474761(0x3b3)]);}async[a0_0x521bf9(0x243)](){const _0x24a09d=a0_0x521bf9;return await this['repository'][_0x24a09d(0x650)][_0x24a09d(0x375)]({'where':{}},this[_0x24a09d(0x4d4)][_0x24a09d(0x3b3)]);}async[a0_0x521bf9(0x210)](_0x19f9d9){const _0x28c107=a0_0x521bf9;return await this[_0x28c107(0x431)][_0x28c107(0x331)][_0x28c107(0x375)](_0x19f9d9,this['instance'][_0x28c107(0x3b3)]);}async[a0_0x521bf9(0x5a6)](){const _0x390adf=a0_0x521bf9;let _0x29a030=[{'query':{'where':{'owner':this[_0x390adf(0x4d4)][_0x390adf(0x3b3)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x390adf(0x4d4)][_0x390adf(0x3b3)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository'][_0x390adf(0x5d6)][_0x390adf(0x567)](_0x29a030),await this['repository']['chat'][_0x390adf(0x375)]({'where':{}},this[_0x390adf(0x4d4)][_0x390adf(0x3b3)]);}async[a0_0x521bf9(0x207)](){const _0x51e1dd=a0_0x521bf9;let _0x3650d4=await this['repository'][_0x51e1dd(0x5d6)][_0x51e1dd(0x375)]({'where':{}},this[_0x51e1dd(0x4d4)][_0x51e1dd(0x3b3)]);for(let _0x53f7d7 of _0x3650d4)for(let _0x3cd39c=0x0;_0x3cd39c<_0x53f7d7[_0x51e1dd(0x4b6)][_0x51e1dd(0x599)][_0x51e1dd(0x4a0)];_0x3cd39c++)if(!_0x53f7d7[_0x51e1dd(0x4b6)][_0x51e1dd(0x599)][_0x3cd39c][_0x51e1dd(0x23f)]){let _0x219b97={'where':{'_id':_0x53f7d7['_id']}},_0x408f27={[_0x51e1dd(0x536)+_0x3cd39c+_0x51e1dd(0x217)]:_0x53f7d7[_0x51e1dd(0x6ad)]};await this[_0x51e1dd(0x431)][_0x51e1dd(0x5d6)][_0x51e1dd(0x56c)](_0x219b97,_0x408f27,this[_0x51e1dd(0x4d4)][_0x51e1dd(0x3b3)]);}}async[a0_0x521bf9(0x144)](_0x293fed){const _0x460200=a0_0x521bf9;try{if(!Array[_0x460200(0x2f5)](_0x293fed)||_0x293fed[_0x460200(0x4a0)]===0x0)throw new Error(_0x460200(0x3e7));let _0x5e221b=[],_0x2b6cb9=[];for(let _0x5a9ac9 of _0x293fed){if(_0x5a9ac9[_0x460200(0x6ad)])_0x5a9ac9['_id']=this[_0x460200(0x60c)](_0x5a9ac9[_0x460200(0x6ad)]);else continue;await this[_0x460200(0x431)]['chat'][_0x460200(0x1f2)]({'where':{'_id':_0x5a9ac9['_id']}},this[_0x460200(0x4d4)][_0x460200(0x3b3)])?_0x2b6cb9[_0x460200(0x330)]({'_id':_0x5a9ac9[_0x460200(0x6ad)],'leadInfo':_0x5a9ac9[_0x460200(0x4b6)],'owner':this[_0x460200(0x4d4)][_0x460200(0x3b3)]}):_0x5e221b['push']({'_id':_0x5a9ac9[_0x460200(0x6ad)],'owner':this[_0x460200(0x4d4)][_0x460200(0x3b3)],'leadInfo':_0x5a9ac9[_0x460200(0x4b6)]});}return _0x2b6cb9[_0x460200(0x4a0)]>0x0&&await this[_0x460200(0x431)]['chat']['updateMany'](_0x2b6cb9['map'](_0x3ead7d=>({'query':{'where':{'_id':_0x3ead7d[_0x460200(0x6ad)],'owner':this[_0x460200(0x4d4)][_0x460200(0x3b3)]}},'update':_0x3ead7d}))),_0x5e221b[_0x460200(0x4a0)]>0x0&&await this[_0x460200(0x431)][_0x460200(0x5d6)][_0x460200(0x356)](_0x5e221b,this['instance'][_0x460200(0x3b3)]),{'updated':_0x2b6cb9[_0x460200(0x4a0)],'inserted':_0x5e221b['length']};}catch(_0x41a8a6){throw console[_0x460200(0x148)](_0x460200(0x1f5),_0x41a8a6),_0x41a8a6;}}async['fetchPrivacySettings'](){const _0x12f347=a0_0x521bf9;return await this[_0x12f347(0x736)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x4c0017){const _0x49f26b=a0_0x521bf9;try{return await this['client']['updateReadReceiptsPrivacy'](_0x4c0017[_0x49f26b(0x617)]['readreceipts']),await this[_0x49f26b(0x736)][_0x49f26b(0x5a7)](_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x365)]),await this[_0x49f26b(0x736)][_0x49f26b(0x109)](_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x26d)]),await this['client']['updateOnlinePrivacy'](_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x246)]),await this[_0x49f26b(0x736)][_0x49f26b(0x221)](_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x3d6)]),await this['client'][_0x49f26b(0x6be)](_0x4c0017['privacySettings']['groupadd']),this[_0x49f26b(0x736)]?.['ws']?.['close'](),{'update':_0x49f26b(0x115),'data':{'readreceipts':_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x6e1)],'profile':_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x365)],'status':_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x26d)],'online':_0x4c0017[_0x49f26b(0x617)]['online'],'last':_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x3d6)],'groupadd':_0x4c0017[_0x49f26b(0x617)][_0x49f26b(0x4bd)]}};}catch(_0x416885){throw new O(_0x49f26b(0x2fe),_0x416885['toString']());}}async[a0_0x521bf9(0x2aa)](_0x5e4a39){const _0x1e1b94=a0_0x521bf9;let _0x1c2610=_0x5e4a39?this[_0x1e1b94(0x60c)](_0x5e4a39):this[_0x1e1b94(0x736)]?.[_0x1e1b94(0x410)]?.['id'];this[_0x1e1b94(0x5b4)][_0x1e1b94(0x5ab)]('Getting\x20profile\x20with\x20jid:\x20'+_0x1c2610);try{if(this[_0x1e1b94(0x5b4)][_0x1e1b94(0x5ab)](_0x1e1b94(0x1bc)),_0x5e4a39){let _0x219207=(await this['whatsappNumber']({'numbers':[_0x1c2610]}))?.[_0x1e1b94(0x518)](),_0x3177fd=await this[_0x1e1b94(0x70b)](_0x219207?.[_0x1e1b94(0x477)]),_0x13fd8c=await this[_0x1e1b94(0x6ee)](_0x219207?.['jid']),_0x1bb56a=await this[_0x1e1b94(0x1af)](_0x219207?.[_0x1e1b94(0x477)]);return{'wuid':_0x219207?.[_0x1e1b94(0x477)]||_0x1c2610,'name':_0x219207?.[_0x1e1b94(0x423)],'numberExists':_0x219207?.[_0x1e1b94(0x4db)],'picture':_0x3177fd?.['profilePictureUrl'],'status':_0x13fd8c?.[_0x1e1b94(0x26d)],'isBusiness':_0x1bb56a[_0x1e1b94(0x36b)],'email':_0x1bb56a?.[_0x1e1b94(0x238)],'description':_0x1bb56a?.['description'],'website':_0x1bb56a?.[_0x1e1b94(0x248)]?.[_0x1e1b94(0x518)]()};}}catch{return this[_0x1e1b94(0x5b4)][_0x1e1b94(0x5ab)](_0x1e1b94(0x391)),{'wuid':_0x1c2610,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x521bf9(0x5de)](_0x3baf6e){const _0x49fe23=a0_0x521bf9;let _0x2930f5=(_0x3baf6e?this[_0x49fe23(0x60c)](_0x3baf6e):this[_0x49fe23(0x736)]?.[_0x49fe23(0x410)]?.['id'])[_0x49fe23(0x27b)](/:\d{1,2}@/g,'@');this[_0x49fe23(0x5b4)][_0x49fe23(0x5ab)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x2930f5);let _0x25b658=await this[_0x49fe23(0x431)]['contact'][_0x49fe23(0x1f2)]({'where':{'_id':_0x2930f5}},this[_0x49fe23(0x4d4)][_0x49fe23(0x3b3)]),_0x3d8fec=_0x25b658?_0x25b658[_0x49fe23(0x6c9)]:null;try{let _0x2a7133=(await this[_0x49fe23(0x3dc)]({'numbers':[_0x2930f5]}))?.[_0x49fe23(0x518)](),_0x37e899=await this[_0x49fe23(0x70b)](_0x2a7133?.[_0x49fe23(0x477)]),_0x524f11=await this[_0x49fe23(0x6ee)](_0x2a7133?.[_0x49fe23(0x477)]),_0x51d414=await this['fetchBusinessProfile'](_0x2a7133?.['jid']),_0x54ae16={'imagechat':_0x37e899?.[_0x49fe23(0x2f0)],'contactname':_0x3d8fec||null,'status':_0x524f11?.['status'],'isBusiness':_0x51d414[_0x49fe23(0x36b)],'email':_0x51d414?.[_0x49fe23(0x238)],'description':_0x51d414?.[_0x49fe23(0x4fb)],'website':_0x51d414?.['website']?.[_0x49fe23(0x518)](),'lastcache':Date[_0x49fe23(0x15d)]()},_0x550dc5=await this[_0x49fe23(0x431)][_0x49fe23(0x5d6)][_0x49fe23(0x56c)]({'where':{'_id':_0x2930f5}},_0x54ae16,this[_0x49fe23(0x4d4)][_0x49fe23(0x3b3)]),_0x4c8418={'owner':this[_0x49fe23(0x4d4)][_0x49fe23(0x3b3)],'_id':_0x2930f5,'profilePictureUrl':_0x37e899?.['profilePictureUrl'],'status':_0x524f11?.[_0x49fe23(0x26d)]};return this[_0x49fe23(0x431)][_0x49fe23(0x359)][_0x49fe23(0x343)]([_0x4c8418],this['instance'][_0x49fe23(0x3b3)]),_0x550dc5&&q(this[_0x49fe23(0x424)],'chats',{'chat':_0x550dc5}),{'wuid':_0x2a7133?.['jid']||_0x2930f5,'name':_0x2a7133?.[_0x49fe23(0x423)],'numberExists':_0x2a7133?.[_0x49fe23(0x4db)],'picture':_0x37e899?.[_0x49fe23(0x2f0)],'status':_0x524f11?.['status'],'isBusiness':_0x51d414['isBusiness'],'email':_0x51d414?.[_0x49fe23(0x238)],'description':_0x51d414?.[_0x49fe23(0x4fb)],'website':_0x51d414?.[_0x49fe23(0x248)]?.[_0x49fe23(0x518)]()};}catch(_0x47c392){return this[_0x49fe23(0x5b4)][_0x49fe23(0x148)](_0x49fe23(0x53f)+(_0x47c392 instanceof Error?_0x47c392['message']:JSON[_0x49fe23(0x62e)](_0x47c392,null,0x2))),{};}}async['fetchBusinessProfile'](_0x45af6b){const _0x68ff8e=a0_0x521bf9;this[_0x68ff8e(0x5b4)]['verbose'](_0x68ff8e(0x522));try{let _0x52f11e=_0x45af6b?this[_0x68ff8e(0x60c)](_0x45af6b):this['instance'][_0x68ff8e(0x3b3)],_0x5af20f=await this[_0x68ff8e(0x736)][_0x68ff8e(0x337)](_0x52f11e);return this[_0x68ff8e(0x5b4)][_0x68ff8e(0x5ab)](_0x68ff8e(0x183)),_0x5af20f?(this[_0x68ff8e(0x5b4)][_0x68ff8e(0x5ab)](_0x68ff8e(0x4f7)),{'isBusiness':!0x0,..._0x5af20f}):{'isBusiness':!0x1,'message':_0x68ff8e(0x57f),...(await this[_0x68ff8e(0x3dc)]({'numbers':[_0x52f11e]}))?.['shift']()};}catch(_0x341adf){throw new O(_0x68ff8e(0x72a),_0x341adf[_0x68ff8e(0x172)]());}}async[a0_0x521bf9(0x6ee)](_0x28cba8){const _0x189893=a0_0x521bf9;let _0x39b078=this[_0x189893(0x60c)](_0x28cba8);try{return{'wuid':_0x39b078,'status':(await this[_0x189893(0x736)][_0x189893(0x2af)](_0x39b078))?.[_0x189893(0x26d)]};}catch{return{'wuid':_0x39b078,'status':null};}}async['updateProfileName'](_0x3d51d5){const _0x158c35=a0_0x521bf9;try{return await this[_0x158c35(0x736)][_0x158c35(0x1dc)](_0x3d51d5),{'update':_0x158c35(0x115)};}catch(_0x2cb797){throw new O(_0x158c35(0x72a),_0x2cb797[_0x158c35(0x172)]());}}async[a0_0x521bf9(0x6b2)](_0x19705b){const _0x281375=a0_0x521bf9;try{return await this[_0x281375(0x736)][_0x281375(0x6b2)](_0x19705b),{'update':'success'};}catch(_0x30889d){throw new O(_0x281375(0x5fe),_0x30889d['toString']());}}async['updateProfilePicture'](_0x10089f){const _0x51f8b5=a0_0x521bf9;try{let _0x3585b7;if((0x0,$['isURL'])(_0x10089f)){let _0x15eadf=new Date()['getTime'](),_0x362f4b=_0x10089f+_0x51f8b5(0x2e6)+_0x15eadf;_0x3585b7=(await se[_0x51f8b5(0x733)][_0x51f8b5(0x51f)](_0x362f4b,{'responseType':_0x51f8b5(0x389)}))['data'];}else{if((0x0,$[_0x51f8b5(0x71a)])(_0x10089f))_0x3585b7=Buffer['from'](_0x10089f,_0x51f8b5(0x266));else throw new m(_0x51f8b5(0x6b1));}return await this[_0x51f8b5(0x736)][_0x51f8b5(0x4d6)](this['instance']['wuid'],_0x3585b7),{'update':'success'};}catch(_0x24ccd0){throw new O(_0x51f8b5(0x3a6),_0x24ccd0[_0x51f8b5(0x172)]());}}async['removeProfilePicture'](){const _0x3f3934=a0_0x521bf9;try{return await this['client'][_0x3f3934(0x3fc)](this[_0x3f3934(0x4d4)]['wuid']),{'update':_0x3f3934(0x115)};}catch(_0x439505){throw new O(_0x3f3934(0x46a),_0x439505[_0x3f3934(0x172)]());}}async['createGroup'](_0x8f2303){const _0x4926a7=a0_0x521bf9;try{let _0x5544b0=_0x8f2303[_0x4926a7(0x282)][_0x4926a7(0x648)](_0x4172b9=>this[_0x4926a7(0x60c)](_0x4172b9)),{id:_0x325b3f}=await this[_0x4926a7(0x736)]['groupCreate'](_0x8f2303['subject'],_0x5544b0);return _0x8f2303?.[_0x4926a7(0x4fb)]&&await this[_0x4926a7(0x736)][_0x4926a7(0x212)](_0x325b3f,_0x8f2303[_0x4926a7(0x4fb)]),{'metadata':await this['client'][_0x4926a7(0x4ce)](_0x325b3f)};}catch(_0x5b97a1){throw this[_0x4926a7(0x5b4)][_0x4926a7(0x148)](this[_0x4926a7(0x424)]+'\x20('+this[_0x4926a7(0x4d4)][_0x4926a7(0x3b3)]+_0x4926a7(0x6d1)+(_0x5b97a1 instanceof Error?_0x5b97a1[_0x4926a7(0x331)]:JSON[_0x4926a7(0x62e)](_0x5b97a1,null,0x2))),new O(_0x4926a7(0x1ab),_0x5b97a1[_0x4926a7(0x172)]());}}async[a0_0x521bf9(0x4ea)](_0x2ec98e){const _0x9fa071=a0_0x521bf9;try{let _0x2b5225;if((0x0,$[_0x9fa071(0x126)])(_0x2ec98e[_0x9fa071(0x473)])){let _0x4d6d69=new Date()[_0x9fa071(0x156)](),_0x5bb3e0=_0x2ec98e[_0x9fa071(0x473)]+_0x9fa071(0x2e6)+_0x4d6d69;_0x2b5225=(await se['default'][_0x9fa071(0x51f)](_0x5bb3e0,{'responseType':'arraybuffer'}))[_0x9fa071(0x23d)];}else{if((0x0,$[_0x9fa071(0x71a)])(_0x2ec98e[_0x9fa071(0x473)]))_0x2b5225=Buffer['from'](_0x2ec98e['image'],_0x9fa071(0x266));else throw new m(_0x9fa071(0x6b1));}return await this[_0x9fa071(0x736)][_0x9fa071(0x4d6)](_0x2ec98e[_0x9fa071(0x305)],_0x2b5225),{'update':_0x9fa071(0x115)};}catch(_0x35fe05){throw new O(_0x9fa071(0x540),_0x35fe05[_0x9fa071(0x172)]());}}async['findGroup'](_0x4e9943,_0x314bcf=a0_0x521bf9(0x6a7)){const _0xc49ce1=a0_0x521bf9;try{let _0x564c2c=await this[_0xc49ce1(0x736)]['groupMetadata'](_0x4e9943[_0xc49ce1(0x305)]),_0x1fbe25=null;try{_0x1fbe25=(await this[_0xc49ce1(0x70b)](_0x4e9943[_0xc49ce1(0x305)]))['profilePictureUrl'];}catch(_0x494837){this['logger'][_0xc49ce1(0x5ab)](this[_0xc49ce1(0x424)]+'\x20('+this[_0xc49ce1(0x4d4)][_0xc49ce1(0x3b3)]+_0xc49ce1(0x484)+_0x4e9943[_0xc49ce1(0x305)]+':\x20'+(_0x494837 instanceof Error?_0x494837[_0xc49ce1(0x331)]:JSON['stringify'](_0x494837,null,0x2)));}let _0x4287d1=await this[_0xc49ce1(0x431)][_0xc49ce1(0x5d6)]['updateOne']({'where':{'_id':_0x4e9943[_0xc49ce1(0x305)]}},{'imagechat':_0x1fbe25,'name':_0x564c2c[_0xc49ce1(0x5c9)],'group_size':_0x564c2c[_0xc49ce1(0x122)],'group_announce':_0x564c2c['announce'],'lastcache':Date['now']()},this[_0xc49ce1(0x4d4)]['wuid']);return _0x4287d1&&q(this[_0xc49ce1(0x424)],_0xc49ce1(0x1b4),{'chat':_0x4287d1}),{'metadata':_0x564c2c,'image':_0x1fbe25};}catch(_0x432668){if(_0x314bcf==='inner')return;throw new L(_0xc49ce1(0x257),_0x432668[_0xc49ce1(0x172)]());}}async[a0_0x521bf9(0x1b5)](_0x1c36ec){const _0x42300d=a0_0x521bf9;try{return await this['client'][_0x42300d(0x212)](_0x1c36ec['groupJid'],_0x1c36ec[_0x42300d(0x4fb)]),{'update':_0x42300d(0x115)};}catch(_0x1c1ce4){throw new O(_0x42300d(0x1b0),_0x1c1ce4[_0x42300d(0x172)]());}}async['groupName'](_0x426a24){const _0x41ce5f=a0_0x521bf9;try{return await this[_0x41ce5f(0x736)][_0x41ce5f(0x4e9)](_0x426a24['groupJid'],_0x426a24[_0x41ce5f(0x423)]),{'update':'success'};}catch(_0x139899){throw new O(_0x41ce5f(0x28a),_0x139899[_0x41ce5f(0x172)]());}}async[a0_0x521bf9(0x293)](_0x45adcc){const _0x5cd9d1=a0_0x521bf9;try{return await this[_0x5cd9d1(0x736)][_0x5cd9d1(0x48b)](_0x45adcc[_0x5cd9d1(0x305)],_0x45adcc[_0x5cd9d1(0x686)]),{'update':_0x5cd9d1(0x115)};}catch(_0x710d34){throw new O(_0x5cd9d1(0x2dd),_0x710d34['toString']());}}async[a0_0x521bf9(0x5f4)](){const _0x4f64c7=a0_0x521bf9;try{let _0x5d0a18=[],_0x419815=await this[_0x4f64c7(0x736)][_0x4f64c7(0x6af)](),_0x4cf8c6=Object['values'](_0x419815),_0x42c759=_0x4cf8c6[_0x4f64c7(0x125)](_0x2266b5=>(0x0,y['isJidGroup'])(_0x2266b5?.['id']))[_0x4f64c7(0x648)](async _0x230551=>{const _0x2f12bd=_0x4f64c7;try{return await this[_0x2f12bd(0x736)][_0x2f12bd(0x2f0)](_0x230551['id'],_0x2f12bd(0x5d5));}catch(_0x38b772){return this[_0x2f12bd(0x5b4)][_0x2f12bd(0x5ab)](this[_0x2f12bd(0x424)]+'\x20('+this[_0x2f12bd(0x4d4)][_0x2f12bd(0x3b3)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x230551['id']+':\x20'+(_0x38b772 instanceof Error?_0x38b772['message']:JSON[_0x2f12bd(0x62e)](_0x38b772,null,0x2))),null;}}),_0x40e810=await Promise['all'](_0x42c759);for(let _0x4d4d13=0x0;_0x4d4d13<_0x4cf8c6['length'];_0x4d4d13++){let _0x1047cc=_0x4cf8c6[_0x4d4d13];(0x0,y['isJidGroup'])(_0x1047cc?.['id'])&&_0x5d0a18[_0x4f64c7(0x330)]({'groupJid':_0x1047cc?.['id'],'subject':_0x1047cc?.[_0x4f64c7(0x5c9)],'subjectOwner':_0x1047cc?.[_0x4f64c7(0x5bd)]?.[_0x4f64c7(0x70e)]('@')[0x0],'subjectTime':_0x1047cc?.[_0x4f64c7(0x503)],'size':_0x1047cc?.['participants']?.[_0x4f64c7(0x4a0)],'owner':_0x1047cc?.[_0x4f64c7(0x5e5)]?.[_0x4f64c7(0x70e)]('@')[0x0],'creation':_0x1047cc?.[_0x4f64c7(0x2bc)],'desc':_0x1047cc?.['desc'],'restrict':_0x1047cc?.[_0x4f64c7(0x283)],'announce':_0x1047cc?.[_0x4f64c7(0x1db)],'image':_0x40e810[_0x4d4d13]});}return _0x5d0a18;}catch(_0x41c5ce){throw new L(_0x4f64c7(0x257),_0x41c5ce['toString']());}}async[a0_0x521bf9(0x3db)](_0x198123){const _0x57217d=a0_0x521bf9;try{let _0x128683=await this['client'][_0x57217d(0x67e)](_0x198123[_0x57217d(0x305)]);return{'inviteUrl':_0x57217d(0x2d9)+_0x128683,'inviteCode':_0x128683};}catch(_0xfc45f1){throw new L(_0x57217d(0x222),_0xfc45f1[_0x57217d(0x172)]());}}async[a0_0x521bf9(0x171)](_0xbce5a8){const _0x50de8b=a0_0x521bf9;try{let _0x18e829=await this[_0x50de8b(0x736)]['groupRevokeInvite'](_0xbce5a8[_0x50de8b(0x305)]);return{'revoked':!0x0,'inviteUrl':_0x50de8b(0x2d9)+_0x18e829,'inviteCode':_0x18e829};}catch(_0x3e5e2a){throw new L('Revoke\x20error',_0x3e5e2a[_0x50de8b(0x172)]());}}async[a0_0x521bf9(0x5cd)](_0x160850){const _0x5ba9ac=a0_0x521bf9;try{if((0x0,$[_0x5ba9ac(0x126)])(_0x160850[_0x5ba9ac(0x3db)]))var _0x542d36=_0x160850[_0x5ba9ac(0x3db)][_0x5ba9ac(0x70e)]('/')[0x3];else var _0x542d36=_0x160850[_0x5ba9ac(0x3db)];let _0x35c300=await this[_0x5ba9ac(0x736)][_0x5ba9ac(0x25e)](_0x542d36);return this['logger'][_0x5ba9ac(0x5ab)](this[_0x5ba9ac(0x424)]+'\x20('+this[_0x5ba9ac(0x4d4)]['wuid']+_0x5ba9ac(0x6d1)+_0x35c300),{'join':!0x0,'inviteCode':_0x542d36,'groupJid':_0x35c300};}catch(_0x2e975e){throw new L(_0x5ba9ac(0x615),_0x2e975e[_0x5ba9ac(0x172)]());}}async['findParticipants'](_0x454a04){const _0x5e3dcd=a0_0x521bf9;try{return{'participants':(await this[_0x5e3dcd(0x736)]['groupMetadata'](_0x454a04[_0x5e3dcd(0x305)]))[_0x5e3dcd(0x282)]};}catch(_0x11295a){throw new L(_0x5e3dcd(0x226),_0x11295a[_0x5e3dcd(0x172)]());}}async[a0_0x521bf9(0x405)](_0x21780e){const _0x12d9d2=a0_0x521bf9;try{let _0x572600=_0x21780e[_0x12d9d2(0x282)][_0x12d9d2(0x648)](_0x35b02b=>this['createJid'](_0x35b02b));return{'updateParticipants':await this['client']['groupParticipantsUpdate'](_0x21780e['groupJid'],_0x572600,_0x21780e['action'])};}catch(_0x203924){throw new m(_0x12d9d2(0x1bb),_0x203924[_0x12d9d2(0x172)]());}}async[a0_0x521bf9(0x5e7)](_0x2b2b26){const _0x3e5580=a0_0x521bf9;try{let _0x1c7da8=await this[_0x3e5580(0x736)]['groupToggleEphemeral'](_0x2b2b26[_0x3e5580(0x305)],_0x2b2b26[_0x3e5580(0x528)]);return{'success':!0x0};}catch(_0x32e8a5){throw new m(_0x3e5580(0x734),_0x32e8a5['toString']());}}async[a0_0x521bf9(0x40c)](_0xd3e68a){const _0x22c741=a0_0x521bf9;try{return await this[_0x22c741(0x736)]['groupLeave'](_0xd3e68a[_0x22c741(0x305)]),{'groupJid':_0xd3e68a['groupJid'],'leave':!0x0};}catch(_0x168c9e){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x168c9e[_0x22c741(0x172)]());}}async[a0_0x521bf9(0x295)](_0x351148){const _0xa60f33=a0_0x521bf9;return await this[_0xa60f33(0x5ea)](_0x351148[_0xa60f33(0x33b)],{'poll':{'name':_0x351148[_0xa60f33(0x295)]?.[_0xa60f33(0x423)],'selectableCount':_0x351148[_0xa60f33(0x295)]['selectableCount'],'values':_0x351148[_0xa60f33(0x295)][_0xa60f33(0x216)]}},_0x351148?.[_0xa60f33(0x6e2)]);}async['listMessage'](_0x4de6cd){const _0x55fb1c=a0_0x521bf9;return await this['sendMessageWithTyping'](_0x4de6cd['number'],{'listMessage':{'title':_0x4de6cd[_0x55fb1c(0x6cb)][_0x55fb1c(0x555)],'description':_0x4de6cd['listMessage']['description'],'buttonText':_0x4de6cd[_0x55fb1c(0x6cb)]?.[_0x55fb1c(0x20c)],'footerText':_0x4de6cd[_0x55fb1c(0x6cb)]?.['footerText'],'sections':_0x4de6cd[_0x55fb1c(0x6cb)]['sections'],'listType':0x2}},_0x4de6cd?.[_0x55fb1c(0x6e2)]);}async[a0_0x521bf9(0x66a)](_0x12b0a2){const _0x33b7f5=a0_0x521bf9;let _0x453e6c;if(_0x12b0a2[_0x33b7f5(0x66a)]['type']===_0x33b7f5(0x16c)){let _0x30a663=_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x44e)][_0x33b7f5(0x317)]('\x0a'),_0x4639e6='',_0x45db40='';_0x30a663!==-0x1?(_0x4639e6=_0x12b0a2['menuMessage'][_0x33b7f5(0x44e)][_0x33b7f5(0x3c1)](0x0,_0x30a663)['trim'](),_0x45db40=_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x44e)][_0x33b7f5(0x3c1)](_0x30a663+0x1)):_0x45db40=_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x44e)];let _0x485038=this[_0x33b7f5(0x483)](_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x4da)]);_0x453e6c={'listMessage':{'title':_0x4639e6,'description':_0x45db40,'buttonText':_0x12b0a2[_0x33b7f5(0x66a)]['buttonText']||_0x33b7f5(0x32e),'footerText':_0x12b0a2['menuMessage']['footerText'],'sections':_0x485038,'listType':0x2}};}else{if(_0x12b0a2[_0x33b7f5(0x66a)]['type']==='poll'){let _0x1e4c62=_0x12b0a2['menuMessage'][_0x33b7f5(0x4da)][_0x33b7f5(0x125)](_0x174a83=>!(_0x174a83[_0x33b7f5(0x54b)]('[')&&_0x174a83[_0x33b7f5(0x297)](']')))[_0x33b7f5(0x648)](_0x5aa335=>_0x5aa335['split']('\x0a')[0x0]);_0x453e6c={'poll':{'name':_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x44e)],'selectableCount':_0x12b0a2[_0x33b7f5(0x66a)][_0x33b7f5(0x18f)]||0x1,'values':_0x1e4c62}};}}return await this[_0x33b7f5(0x5ea)](_0x12b0a2['number'],_0x453e6c,_0x12b0a2?.[_0x33b7f5(0x6e2)]);}[a0_0x521bf9(0x483)](_0x543267){const _0x45e66b=a0_0x521bf9;let _0x4d08d8=[],_0x1c3f19={'rows':[]};return _0x543267[_0x45e66b(0x592)](_0x13b1ef=>{const _0x5a2613=_0x45e66b;if(_0x13b1ef[_0x5a2613(0x54b)]('[')&&_0x13b1ef[_0x5a2613(0x297)](']'))_0x1c3f19['rows'][_0x5a2613(0x4a0)]>0x0&&_0x4d08d8[_0x5a2613(0x330)](_0x1c3f19),_0x1c3f19={'title':_0x13b1ef[_0x5a2613(0x501)](0x1,-0x1),'rows':[]};else{let _0x39c686=_0x13b1ef[_0x5a2613(0x70e)]('\x0a')[_0x5a2613(0x648)](_0x24f605=>_0x24f605[_0x5a2613(0x51c)]()),_0x5d8041=_0x39c686[0x0],_0x47d051=_0x39c686[0x1]||null,_0x43d9a8=_0x39c686[0x2]||_0x5d8041;_0x1c3f19[_0x5a2613(0x480)][_0x5a2613(0x330)]({'title':_0x5d8041,'description':_0x47d051,'rowId':_0x43d9a8});}}),_0x1c3f19['rows'][_0x45e66b(0x4a0)]>0x0&&_0x4d08d8[_0x45e66b(0x330)](_0x1c3f19),_0x4d08d8;}async[a0_0x521bf9(0x61c)](_0x837671,_0x456790){const _0x2b92ea=a0_0x521bf9;if(await this[_0x2b92ea(0x2dc)](_0x837671,!0x0)){let _0x128ef4={'where':{'_id':_0x837671['id']}},_0xf8259e={'status':[_0x456790['status']][0x0]};try{let _0x647e18=await this[_0x2b92ea(0x431)][_0x2b92ea(0x331)][_0x2b92ea(0x343)](_0x128ef4,_0xf8259e,this['instance'][_0x2b92ea(0x3b3)]);_0x647e18&&q(this[_0x2b92ea(0x424)],_0x2b92ea(0x420),{'message':_0x647e18});}catch{}}}['sectionsToString'](_0x3c1c5b){const _0x37d27c=a0_0x521bf9;let _0x4098b7=[];return _0x3c1c5b[_0x37d27c(0x592)](_0x508834=>{const _0x514371=_0x37d27c;_0x508834[_0x514371(0x555)]&&_0x4098b7[_0x514371(0x330)]('['+_0x508834[_0x514371(0x555)]+']'),_0x508834[_0x514371(0x480)][_0x514371(0x592)](_0x28b046=>{const _0x1e3d92=_0x514371;let _0x1e91e2=_0x28b046[_0x1e3d92(0x555)];_0x28b046['description']&&(_0x1e91e2+='\x0a'+_0x28b046['description']),_0x1e91e2+='\x0a'+_0x28b046[_0x1e3d92(0x177)],_0x4098b7[_0x1e3d92(0x330)](_0x1e91e2);});}),_0x4098b7['join']('|');}['formatVCard'](_0x135946){const _0x1fea12=a0_0x521bf9;let _0x16eaee=_0x135946[_0x1fea12(0x27b)](/\\n/g,'\x0a')[_0x1fea12(0x70e)]('\x0a')['filter'](_0x27d3ab=>_0x27d3ab[_0x1fea12(0x71c)](_0x1fea12(0x6f3))||_0x27d3ab[_0x1fea12(0x71c)]('EMAIL')),_0xd6303f='';return _0x16eaee[_0x1fea12(0x592)](_0x13a625=>{const _0x89709c=_0x1fea12;let _0x39fdf1=/TEL(?:.*):(.+)/,_0x124bb7=/EMAIL(?:.*):(.+)/,_0x3d89cd=_0x13a625['match'](_0x39fdf1),_0x3bf446=_0x13a625[_0x89709c(0x29f)](_0x124bb7);if(_0x3d89cd){let _0x306cef=_0x3d89cd[0x1][_0x89709c(0x27b)](/-| |\+|\(|\)/g,'')[_0x89709c(0x51c)]();_0xd6303f+='Telefone:\x20'+_0x306cef+'\x0a';}else{if(_0x3bf446){let _0x22c637=_0x3bf446[0x1]['trim']();_0xd6303f+=_0x89709c(0x5d9)+_0x22c637+'\x0a';}}}),_0xd6303f[_0x1fea12(0x51c)]();}async['updateChatWithMessage'](_0x56e89e,_0xf87d48,_0x4f434){const _0x494cdc=a0_0x521bf9;if(!_0x56e89e[_0x494cdc(0x47a)])return;let _0x395b7c=_0xf87d48['key'][_0x494cdc(0x6cd)]['replace'](/:\d{1,2}@/g,'@'),_0xfa1895=_0xf87d48['key']['fromMe'],_0x3fd847=_0x395b7c[_0x494cdc(0x297)](_0x494cdc(0x135)),_0x471048=_0xf87d48['message_normalized']?.[_0x494cdc(0x44e)]||_0xf87d48[_0x494cdc(0x55c)]?.[_0x494cdc(0x320)]||_0xf87d48[_0x494cdc(0x55c)]?.[_0x494cdc(0x21a)]||_0xf87d48['message_normalized']?.[_0x494cdc(0x423)],_0x5d3bd3={'lastmsg':_0xf87d48['messageTimestamp']||Date[_0x494cdc(0x15d)](),'imported':!0x1,'unreadcount':_0xfa1895?0x0:0x1,..._0xfa1895||_0x3fd847?{}:{'name':_0xf87d48[_0x494cdc(0x6c9)]},..._0x3fd847?{'group':_0x3fd847}:{}};if(_0x4f434===_0x494cdc(0x6b5)&&_0xfa1895&&this['AutomateSystem']?.['flowConfig'][_0x494cdc(0x62b)]&&!_0x471048['startsWith'](this[_0x494cdc(0x392)]?.[_0x494cdc(0x3ad)]['prefixCommand'])){let _0x44167a=(this[_0x494cdc(0x392)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x2818cf=Date[_0x494cdc(0x15d)]()+_0x44167a;_0x5d3bd3[_0x494cdc(0x6c7)]=_0x2818cf,this['logger'][_0x494cdc(0x5ab)](this['instanceName']+'\x20('+this[_0x494cdc(0x4d4)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x2818cf+'.');}let _0x868980=await this[_0x494cdc(0x431)]['chat'][_0x494cdc(0x56c)]({'where':{'_id':_0x395b7c}},_0x5d3bd3,this[_0x494cdc(0x4d4)]['wuid'],{'new':!0x0,'upsert':!0x0});if(!_0x3fd847&&(!_0x868980?.['leadInfo']||!_0x868980[_0x494cdc(0x4b6)][_0x494cdc(0x4d1)])&&_0xf87d48[_0x494cdc(0x6c9)]&&!_0xfa1895&&await this[_0x494cdc(0x431)][_0x494cdc(0x5d6)]['updateOne']({'where':{'_id':_0x395b7c}},{'leadInfo':{'nome':_0xf87d48[_0x494cdc(0x6c9)]}},this[_0x494cdc(0x4d4)][_0x494cdc(0x3b3)],{'new':!0x0,'upsert':!0x1}),_0x868980)q(this[_0x494cdc(0x424)],'chats',{'chat':_0x868980});else{this[_0x494cdc(0x5b4)][_0x494cdc(0x148)](this[_0x494cdc(0x424)]+'\x20('+this[_0x494cdc(0x4d4)][_0x494cdc(0x3b3)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x494cdc(0x392)]?.[_0x494cdc(0x3ad)][_0x494cdc(0x62b)])return this[_0x494cdc(0x5b4)][_0x494cdc(0x5ab)](this[_0x494cdc(0x424)]+'\x20('+this[_0x494cdc(0x4d4)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x868980[_0x494cdc(0x6ad)][_0x494cdc(0x71c)](_0x494cdc(0x135))&&this[_0x494cdc(0x392)]?.['flowConfig'][_0x494cdc(0x60f)]===!0x0)return this['logger'][_0x494cdc(0x5ab)](this[_0x494cdc(0x424)]+'\x20('+this[_0x494cdc(0x4d4)][_0x494cdc(0x3b3)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x868980['leadInfo']){if(_0x868980['leadInfo'][_0x494cdc(0x2a7)]===0x0||_0x868980[_0x494cdc(0x4b6)][_0x494cdc(0x693)])return this[_0x494cdc(0x5b4)][_0x494cdc(0x5ab)](this[_0x494cdc(0x424)]+'\x20('+this[_0x494cdc(0x4d4)][_0x494cdc(0x3b3)]+_0x494cdc(0x6cf)+_0x395b7c+_0x494cdc(0x265)),null;if(_0x868980[_0x494cdc(0x4b6)]['desativadoFluxoAte']>Date[_0x494cdc(0x15d)]()&&!_0xf87d48[_0x494cdc(0x55c)]?.[_0x494cdc(0x21a)])return this['logger'][_0x494cdc(0x5ab)](this['instanceName']+'\x20('+this[_0x494cdc(0x4d4)][_0x494cdc(0x3b3)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x868980[_0x494cdc(0x4b6)][_0x494cdc(0x2a7)])['toLocaleString']()+_0x494cdc(0x265)),null;}this['logger'][_0x494cdc(0x5ab)](this[_0x494cdc(0x424)]+'\x20('+this[_0x494cdc(0x4d4)]['wuid']+_0x494cdc(0x262)),this[_0x494cdc(0x729)](_0x4f434,_0xf87d48);}async[a0_0x521bf9(0x168)](_0x2ea951,_0x6d87f0){const _0xe53a13=a0_0x521bf9;if(_0x6d87f0[_0xe53a13(0x47a)]){let _0x494e0b=_0x2ea951[_0xe53a13(0x648)](async _0x34aed3=>{const _0x4b7eb3=_0xe53a13;try{let _0x40cbed={'_id':_0x34aed3['_id'],'owner':_0x34aed3[_0x4b7eb3(0x5e5)],'lastcache':0x0};if(_0x34aed3[_0x4b7eb3(0x6bd)]!==null&&(_0x40cbed['group']=_0x34aed3[_0x4b7eb3(0x6bd)]),_0x34aed3[_0x4b7eb3(0x423)]!==null&&(_0x40cbed[_0x4b7eb3(0x423)]=_0x34aed3[_0x4b7eb3(0x423)]),_0x34aed3[_0x4b7eb3(0x462)]!==null&&(_0x40cbed[_0x4b7eb3(0x462)]=_0x34aed3[_0x4b7eb3(0x462)]),_0x34aed3[_0x4b7eb3(0x43b)]!==null&&(_0x40cbed['imagechat']=_0x34aed3['imagechat']),_0x34aed3[_0x4b7eb3(0x43b)]===null&&(_0x40cbed[_0x4b7eb3(0x43b)]=_0x4b7eb3(0x1ca)),_0x34aed3[_0x4b7eb3(0x414)]!==null&&(_0x40cbed['lastmsg']=_0x34aed3[_0x4b7eb3(0x414)]),_0x34aed3['archived']!==null&&(_0x40cbed[_0x4b7eb3(0x624)]=_0x34aed3[_0x4b7eb3(0x624)]),_0x34aed3[_0x4b7eb3(0x351)]!==null&&(_0x40cbed[_0x4b7eb3(0x351)]=_0x34aed3['unreadcount']),Object[_0x4b7eb3(0x347)](_0x40cbed)[_0x4b7eb3(0x4a0)]>0x0)return await this[_0x4b7eb3(0x431)][_0x4b7eb3(0x5d6)][_0x4b7eb3(0x56c)]({'where':{'_id':_0x34aed3[_0x4b7eb3(0x6ad)]}},_0x40cbed,this[_0x4b7eb3(0x4d4)][_0x4b7eb3(0x3b3)]);}catch(_0x12fe13){return console[_0x4b7eb3(0x148)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x34aed3[_0x4b7eb3(0x6ad)]+':',_0x12fe13),null;}}),_0x1b8f0e=(await Promise[_0xe53a13(0x6c3)](_0x494e0b))[_0xe53a13(0x125)](_0x311ea7=>_0x311ea7!==null)[_0xe53a13(0x4a0)];this['logger'][_0xe53a13(0x5ab)](this[_0xe53a13(0x424)]+'\x20('+this[_0xe53a13(0x4d4)][_0xe53a13(0x3b3)]+_0xe53a13(0x6d1)+_0x1b8f0e+'\x20chats\x20de\x20'+this[_0xe53a13(0x4d4)][_0xe53a13(0x3b3)]+_0xe53a13(0x681));}}async[a0_0x521bf9(0x174)](_0x224330){const _0x423895=a0_0x521bf9;this[_0x423895(0x5b4)][_0x423895(0x5ab)](this[_0x423895(0x424)]+'\x20('+this['instance'][_0x423895(0x3b3)]+_0x423895(0x120));let _0x4eedd4={'readMessages':[{'remoteJid':_0x224330[_0x423895(0x20f)][_0x423895(0x413)]['key'][_0x423895(0x6cd)],'fromMe':_0x224330['chatLog'][_0x423895(0x413)][_0x423895(0x4d2)][_0x423895(0x2b5)],'id':_0x224330['chatLog']['lastReceivedMessage'][_0x423895(0x4d2)]['id']}]};await this[_0x423895(0x4cb)](_0x4eedd4);}async[a0_0x521bf9(0x729)](_0x5c82f2,_0x456da7){const _0x3c7831=a0_0x521bf9;try{let {key:_0x429888,message_normalized:_0x3e79ca}=_0x456da7,_0x2db04b=_0x3e79ca,_0x562711=_0x3e79ca[_0x3c7831(0x44e)]||_0x3e79ca[_0x3c7831(0x320)]||_0x3e79ca[_0x3c7831(0x21a)]||_0x3e79ca[_0x3c7831(0x423)],_0x37171a=_0x429888[_0x3c7831(0x6cd)],_0x374638;if(_0x2db04b['key'][_0x3c7831(0x2b5)]&&_0x562711[_0x3c7831(0x51c)]()!==this[_0x3c7831(0x392)]?.[_0x3c7831(0x3ad)]['stopConversation']['trim']())return this[_0x3c7831(0x5b4)][_0x3c7831(0x5ab)](this[_0x3c7831(0x424)]+'\x20('+this['instance'][_0x3c7831(0x3b3)]+_0x3c7831(0x33d)),null;if(_0x2db04b[_0x3c7831(0x4d2)][_0x3c7831(0x2b5)]&&_0x562711[_0x3c7831(0x51c)]()===this[_0x3c7831(0x392)]?.['flowConfig'][_0x3c7831(0x33c)][_0x3c7831(0x51c)]()){this[_0x3c7831(0x5b4)][_0x3c7831(0x5ab)](this['instanceName']+'\x20('+this[_0x3c7831(0x4d4)]['wuid']+_0x3c7831(0x3d7));let _0x101f46=await this[_0x3c7831(0x431)][_0x3c7831(0x727)]['find']({'remoteJid':_0x37171a,'status':'open'},this['instance']['wuid']);this[_0x3c7831(0x5b4)][_0x3c7831(0x5ab)](this[_0x3c7831(0x424)]+'\x20('+this[_0x3c7831(0x4d4)][_0x3c7831(0x3b3)]+_0x3c7831(0x19d)+_0x101f46);let _0x17cd1f=Date['now'](),_0x25fb92;return this[_0x3c7831(0x392)]?.[_0x3c7831(0x3ad)][_0x3c7831(0x438)]===0x0?_0x25fb92={'stoppedUntil':_0x17cd1f+0x7591f6200}:_0x25fb92={'stoppedUntil':_0x17cd1f+this[_0x3c7831(0x392)]?.[_0x3c7831(0x3ad)][_0x3c7831(0x438)]*0x3c*0x3e8},this[_0x3c7831(0x5b4)][_0x3c7831(0x5ab)](this[_0x3c7831(0x424)]+'\x20('+this['instance'][_0x3c7831(0x3b3)]+_0x3c7831(0x6b6)+_0x25fb92),this[_0x3c7831(0x2a5)](_0x374638,_0x25fb92['stoppedUntil']),null;}if(_0x562711&&_0x562711['startsWith'](this[_0x3c7831(0x392)]?.['flowConfig'][_0x3c7831(0x1ff)])&&_0x562711[_0x3c7831(0x4a0)]>0x4){let _0x2b5a04=await this['repository']['flow'][_0x3c7831(0x1f2)]({'where':{'startCommandWord':_0x562711}},this[_0x3c7831(0x4d4)][_0x3c7831(0x3b3)]);if(this['logger'][_0x3c7831(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x3c7831(0x3b3)]+_0x3c7831(0x42f)),_0x2b5a04)_0x374638=await this[_0x3c7831(0x744)](_0x2b5a04,_0x2db04b['key'],_0x2db04b);else return this[_0x3c7831(0x5b4)]['verbose'](this[_0x3c7831(0x424)]+'\x20('+this['instance'][_0x3c7831(0x3b3)]+_0x3c7831(0x40b)),null;}else _0x374638=await this[_0x3c7831(0x4c0)](_0x37171a,_0x2db04b);if(_0x374638){this[_0x3c7831(0x5b4)][_0x3c7831(0x5ab)](this[_0x3c7831(0x424)]+'\x20('+this['instance'][_0x3c7831(0x3b3)]+_0x3c7831(0x252)),!_0x429888[_0x3c7831(0x2b5)]&&_0x374638[_0x3c7831(0x48c)]&&this[_0x3c7831(0x174)](_0x374638);let _0x1db65d=await this[_0x3c7831(0x3ca)](_0x374638);_0x1db65d&&await this[_0x3c7831(0x6d4)](_0x374638,_0x1db65d);}}catch(_0x48b078){this[_0x3c7831(0x5b4)]['error'](this['instanceName']+'\x20('+this[_0x3c7831(0x4d4)][_0x3c7831(0x3b3)]+_0x3c7831(0x3cd)+(_0x48b078 instanceof Error?_0x48b078[_0x3c7831(0x331)]:JSON['stringify'](_0x48b078,null,0x2)));}}[a0_0x521bf9(0x616)](_0x5c40a3,_0xb740e='',_0x33c6b3={},_0x297012=!0x0){const _0x10c783=a0_0x521bf9;for(let _0x1e0fe5 in _0x5c40a3){let _0x2ceb61=_0x297012?'_'+_0x1e0fe5:''+_0xb740e+_0x1e0fe5;typeof _0x5c40a3[_0x1e0fe5]==_0x10c783(0x541)&&_0x5c40a3[_0x1e0fe5]!==null?this[_0x10c783(0x616)](_0x5c40a3[_0x1e0fe5],_0x2ceb61+'.',_0x33c6b3,!0x1):_0x33c6b3[_0x2ceb61]=String(_0x5c40a3[_0x1e0fe5]);}return _0x33c6b3;}[a0_0x521bf9(0x33e)](_0x256280){const _0x13eaba=a0_0x521bf9;let _0x2f3ce6={};for(let _0x197049 of _0x256280)typeof _0x197049[_0x13eaba(0x423)]==_0x13eaba(0x202)&&typeof _0x197049[_0x13eaba(0x3f3)]==_0x13eaba(0x202)&&(_0x2f3ce6[_0x197049['name']]=_0x197049['value']);return _0x2f3ce6;}async[a0_0x521bf9(0x3ca)](_0x22879c){const _0x35e24c=a0_0x521bf9;if(!this[_0x35e24c(0x392)]?.[_0x35e24c(0x3ad)][_0x35e24c(0x62b)]||_0x22879c[_0x35e24c(0x26d)]!==_0x35e24c(0x1f1)&&_0x22879c['waitingMenu_id']==='')return null;let _0x1813b5=_0x22879c['chatLog'][_0x35e24c(0x62a)]||_0x35e24c(0x3af);typeof _0x22879c['chatLog'][_0x35e24c(0x46b)]>'u'&&(_0x22879c['chatLog'][_0x35e24c(0x46b)]=!0x0);let _0x116ed1=_0x22879c[_0x35e24c(0x20f)][_0x35e24c(0x46b)];this['logger'][_0x35e24c(0x5ab)](this[_0x35e24c(0x424)]+'\x20('+this[_0x35e24c(0x4d4)][_0x35e24c(0x3b3)]+_0x35e24c(0x1ee)+_0x1813b5+_0x35e24c(0x71e)+_0x116ed1);let _0x569318=_0x1813b5==='start'?_0x22879c[_0x35e24c(0x552)][_0x35e24c(0x375)](_0x429b5e=>_0x429b5e[_0x35e24c(0x50c)]===_0x35e24c(0x3af)):_0x22879c['blocks'][_0x35e24c(0x375)](_0x2a5329=>_0x2a5329[_0x35e24c(0x6ad)][_0x35e24c(0x172)]()===_0x1813b5['toString']());if(!_0x569318)return this[_0x35e24c(0x5b4)][_0x35e24c(0x148)](this[_0x35e24c(0x424)]+'\x20('+this[_0x35e24c(0x4d4)][_0x35e24c(0x3b3)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x1813b5),null;let _0x2fc4eb={'_pushName':_0x22879c[_0x35e24c(0x20f)]['lastReceivedMessage'][_0x35e24c(0x6c9)],..._0x22879c[_0x35e24c(0x20f)]['realVariables']},_0x420993=null;if(_0x22879c[_0x35e24c(0x455)]){let _0x3e198d=_0x22879c['chatLog'][_0x35e24c(0x413)]['vote'],_0x1d1020=_0x22879c[_0x35e24c(0x236)][_0x35e24c(0x375)](_0xfd91c9=>_0xfd91c9[_0x35e24c(0x14f)]===_0x3e198d);if(_0x1d1020){let _0x440aa2=_0x1d1020[_0x35e24c(0x1c2)];if(_0x420993=_0x22879c[_0x35e24c(0x552)][_0x35e24c(0x375)](_0x1306e4=>_0x1306e4[_0x35e24c(0x292)]===_0x440aa2&&_0x1306e4[_0x35e24c(0x35c)]===0x1),_0x569318['uazapi']['pollOnReplyDelete']){let _0xe810af={'id':_0x22879c['waitingMenu_id'],'remoteJid':_0x22879c[_0x35e24c(0x6cd)],'fromMe':!0x0};await this[_0x35e24c(0x593)](_0xe810af);}if(_0x569318[_0x35e24c(0x6a5)]['pollOnReplyDelete']&&_0x569318[_0x35e24c(0x6a5)][_0x35e24c(0x55d)]&&_0x569318[_0x35e24c(0x6a5)][_0x35e24c(0x5c0)]===_0x35e24c(0x6a1)){let _0x3dc87c={'number':_0x22879c[_0x35e24c(0x6cd)],'options':{'delay':0x0},'textMessage':{'text':_0x35e24c(0x52d)+_0x22879c[_0x35e24c(0x2bb)]+'\x0a*Você\x20respondeu*:\x0a'+_0x3e198d}};await this[_0x35e24c(0x167)](_0x3dc87c);}_0x22879c[_0x35e24c(0x26d)]=_0x35e24c(0x1f1),_0x22879c[_0x35e24c(0x455)]='',_0x22879c[_0x35e24c(0x2bb)]='',_0x22879c[_0x35e24c(0x236)]=[];}else{this['logger']['verbose'](this[_0x35e24c(0x424)]+'\x20('+this[_0x35e24c(0x4d4)][_0x35e24c(0x3b3)]+_0x35e24c(0x724));let _0x4707cf={'activatedCount':_0x22879c[_0x35e24c(0x20f)][_0x35e24c(0x6ba)][_0x35e24c(0x125)](_0x591b08=>String(_0x591b08[_0x35e24c(0x59c)])===String(_0x1813b5))[_0x35e24c(0x4a0)],'moreLogs':[_0x35e24c(0x667)]};if(_0x569318[_0x35e24c(0x6a5)][_0x35e24c(0x54d)]){let _0x1c997={'number':_0x22879c['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x569318[_0x35e24c(0x6a5)]['pollErrorMessage']}};await this[_0x35e24c(0x167)](_0x1c997);}if(_0x569318[_0x35e24c(0x52f)]!==void 0x0&&_0x4707cf['activatedCount']>=_0x569318[_0x35e24c(0x52f)]){let _0x1621eb=Date[_0x35e24c(0x15d)](),_0x49205=_0x569318['stopMinutesMaxActives']??0xa;isNaN(_0x49205)&&(_0x49205=0xa);let _0x5026c4=_0x1621eb+_0x49205*0x3c*0x3e8;_0x4707cf[_0x35e24c(0x6da)]=_0x5026c4,_0x4707cf[_0x35e24c(0x73a)]['push'](_0x35e24c(0x35a)),this[_0x35e24c(0x2a5)](_0x22879c,_0x5026c4),_0x22879c[_0x35e24c(0x455)]='',_0x22879c[_0x35e24c(0x2bb)]='',_0x22879c['waitingMenu_replyOptions']=[];}return this[_0x35e24c(0x15a)](_0x22879c,_0x569318,_0x4707cf,!0x0),null;}}if(_0x116ed1&&_0x569318[_0x35e24c(0x1c2)]&&!_0x22879c[_0x35e24c(0x455)]){let _0x372539=_0x22879c[_0x35e24c(0x552)]['filter'](_0x81df37=>_0x81df37[_0x35e24c(0x292)][_0x35e24c(0x172)]()===_0x569318[_0x35e24c(0x1c2)][_0x35e24c(0x172)]())[_0x35e24c(0x198)]((_0x3a7a4f,_0x36dc11)=>_0x3a7a4f['order']-_0x36dc11['order']);_0x372539[_0x35e24c(0x4a0)]>0x0&&(_0x420993=_0x372539[0x0]);}if(!_0x420993){let _0x34c5f1=_0x569318[_0x35e24c(0x292)],_0x44fa84=_0x22879c[_0x35e24c(0x552)][_0x35e24c(0x125)](_0x195cf1=>_0x195cf1[_0x35e24c(0x292)]===_0x34c5f1&&_0x195cf1[_0x35e24c(0x35c)]>_0x569318['order'])['sort']((_0x4d3361,_0x1719fd)=>_0x4d3361[_0x35e24c(0x35c)]-_0x1719fd['order']);_0x44fa84['length']>0x0&&(_0x420993=_0x44fa84[0x0]);}if(!_0x420993)return _0x22879c[_0x35e24c(0x26d)]='closed',null;_0x22879c[_0x35e24c(0x20f)]['realVariables']=_0x2fc4eb;let _0x54ad8d=JSON['parse'](JSON[_0x35e24c(0x62e)](_0x420993));return this['replaceVariablesInObject'](_0x54ad8d,_0x22879c[_0x35e24c(0x20f)][_0x35e24c(0x3ef)]),_0x22879c[_0x35e24c(0x20f)][_0x35e24c(0x62a)]=_0x54ad8d[_0x35e24c(0x6ad)],_0x22879c[_0x35e24c(0x20f)][_0x35e24c(0x46b)]=!0x0,_0x54ad8d;}[a0_0x521bf9(0x5af)](_0x38f4c1,_0x57017b){const _0x417b08=a0_0x521bf9;return _0x38f4c1[_0x417b08(0x27b)](/\{\{([^}]+)\}\}/g,(_0x1015ee,_0x4920cf)=>_0x57017b[_0x4920cf]||'');}[a0_0x521bf9(0x2d8)](_0x26e72f,_0xa5103a){const _0x48f7dd=a0_0x521bf9;for(let _0x32ddb1 in _0x26e72f)typeof _0x26e72f[_0x32ddb1]=='string'?_0x26e72f[_0x32ddb1]=this['replaceVariables'](_0x26e72f[_0x32ddb1],_0xa5103a):typeof _0x26e72f[_0x32ddb1]==_0x48f7dd(0x541)&&this[_0x48f7dd(0x2d8)](_0x26e72f[_0x32ddb1],_0xa5103a);}async['goNextblock'](_0x2461e6,_0x16bbc9){const _0x24fda1=a0_0x521bf9;let _0x21b781=_0x16bbc9[_0x24fda1(0x6ad)];if(_0x2461e6['chatLog']&&_0x2461e6[_0x24fda1(0x20f)]['blockLogs']){let _0x2193c9=_0x2461e6[_0x24fda1(0x20f)][_0x24fda1(0x6ba)][_0x24fda1(0x125)](_0x442000=>String(_0x442000[_0x24fda1(0x59c)])===String(_0x21b781))[_0x24fda1(0x5e4)]();if(_0x2193c9&&_0x2193c9[_0x24fda1(0x148)]&&_0x16bbc9[_0x24fda1(0x39a)])return _0x2461e6[_0x24fda1(0x26d)]=_0x24fda1(0x345),await this['saveConversationToDatabase'](_0x2461e6),null;}if(_0x16bbc9[_0x24fda1(0x50c)]===_0x24fda1(0x6a5)&&_0x16bbc9[_0x24fda1(0x6a5)][_0x24fda1(0x1ba)]===_0x24fda1(0x6de)&&_0x2461e6[_0x24fda1(0x455)])return _0x2461e6[_0x24fda1(0x20f)]['lastBlockId']=_0x21b781,await this[_0x24fda1(0x3f9)](_0x2461e6),null;let _0x6d498d=await this[_0x24fda1(0x3ca)](_0x2461e6);if(_0x2461e6['chatLog']&&_0x2461e6[_0x24fda1(0x20f)][_0x24fda1(0x6ba)]){let _0x3f810f=_0x2461e6[_0x24fda1(0x20f)][_0x24fda1(0x6ba)][_0x24fda1(0x125)](_0x5e915b=>String(_0x5e915b[_0x24fda1(0x59c)])===String(_0x21b781))['length'];if(_0x16bbc9[_0x24fda1(0x52f)]!==void 0x0&&_0x3f810f>=_0x16bbc9[_0x24fda1(0x52f)]){let _0x469e01=Date[_0x24fda1(0x15d)](),_0x13d9d4=_0x16bbc9[_0x24fda1(0x26c)]??0xa;isNaN(_0x13d9d4)&&(_0x13d9d4=0xa);let _0x1b1c26=_0x469e01+_0x13d9d4*0x3c*0x3e8,_0x1ea6df={'newStoppedUntil':_0x1b1c26};return this['updateStopChat'](_0x2461e6,_0x1b1c26),this['updateConversation'](_0x2461e6,_0x16bbc9,_0x1ea6df,!0x0),null;}}_0x6d498d&&_0x6d498d[_0x24fda1(0x50c)]!=='save'&&await this[_0x24fda1(0x6d4)](_0x2461e6,_0x6d498d),_0x6d498d||await this['saveConversationToDatabase'](_0x2461e6),_0x6d498d&&_0x6d498d[_0x24fda1(0x50c)]===_0x24fda1(0x43c)&&(_0x2461e6[_0x24fda1(0x20f)][_0x24fda1(0x62a)]=_0x21b781,await this[_0x24fda1(0x3f9)](_0x2461e6));}async['processblock'](_0x4c190f,_0x4d55f4){const _0x28437c=a0_0x521bf9;try{let _0x1995b6=_0x4d55f4['type'];this[_0x28437c(0x5b4)][_0x28437c(0x5ab)](this['instanceName']+'\x20('+this[_0x28437c(0x4d4)][_0x28437c(0x3b3)]+'):\x20Going\x20to\x20'+_0x1995b6);let _0x2a2224={'uazapi':()=>this['processUazapi'](_0x4c190f,_0x4d55f4),'save':()=>this['saveTextReply'](_0x4c190f,_0x4d55f4),'stop':()=>this[_0x28437c(0x33c)](_0x4c190f,_0x4d55f4),'condition':()=>this[_0x28437c(0x732)](_0x4c190f,_0x4d55f4),'varedit':()=>this[_0x28437c(0x19f)](_0x4c190f,_0x4d55f4),'apirequest':()=>this['processApiRequest'](_0x4c190f,_0x4d55f4),'goToFlow':()=>this[_0x28437c(0x418)](_0x4c190f,_0x4d55f4)}[_0x1995b6];_0x2a2224&&await _0x2a2224();}catch(_0x30940d){this[_0x28437c(0x5b4)][_0x28437c(0x148)](this[_0x28437c(0x424)]+'\x20('+this[_0x28437c(0x4d4)][_0x28437c(0x3b3)]+_0x28437c(0x278)+(_0x30940d instanceof Error?_0x30940d[_0x28437c(0x331)]:JSON[_0x28437c(0x62e)](_0x30940d,null,0x2)));}}async[a0_0x521bf9(0x418)](_0x4d0559,_0x287810){const _0x276019=a0_0x521bf9;if(this[_0x276019(0x5b4)][_0x276019(0x5ab)](this[_0x276019(0x424)]+'\x20('+this[_0x276019(0x4d4)][_0x276019(0x3b3)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x4d0559||!_0x287810)return this[_0x276019(0x5b4)][_0x276019(0x148)](this[_0x276019(0x424)]+'\x20('+this[_0x276019(0x4d4)][_0x276019(0x3b3)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x276019(0x15a)](_0x4d0559,_0x287810,{},!0x0,!0x0),console[_0x276019(0x1a3)](_0x276019(0x5a4)),console['log'](_0x287810);let _0x50327b=_0x287810[_0x276019(0x313)];console[_0x276019(0x1a3)](_0x276019(0x1c3),_0x50327b),_0x4d0559=await this[_0x276019(0x69f)](_0x50327b,_0x4d0559[_0x276019(0x6cd)],_0x4d0559['chatLog']['realVariables']),this[_0x276019(0x5b4)][_0x276019(0x5ab)](this['instanceName']+'\x20('+this[_0x276019(0x4d4)]['wuid']+_0x276019(0x670));let _0x26dc55=await this[_0x276019(0x3ca)](_0x4d0559);_0x26dc55&&await this[_0x276019(0x6d4)](_0x4d0559,_0x26dc55);}async[a0_0x521bf9(0x69f)](_0x1a0915,_0x30a759,_0x43d7b0){const _0x128337=a0_0x521bf9;this[_0x128337(0x5b4)][_0x128337(0x5ab)](this[_0x128337(0x424)]+'\x20('+this[_0x128337(0x4d4)][_0x128337(0x3b3)]+_0x128337(0x475));try{if(_0x1a0915=await this[_0x128337(0x431)][_0x128337(0x158)]['findOne']({'where':{'name':_0x1a0915}},this[_0x128337(0x4d4)][_0x128337(0x3b3)]),!_0x1a0915)return this[_0x128337(0x5b4)]['error'](this[_0x128337(0x424)]+'\x20('+this[_0x128337(0x4d4)]['wuid']+_0x128337(0x61e)),null;let _0x59d455=require(_0x128337(0x2cc))[_0x128337(0x65e)],_0xd893c2=Date[_0x128337(0x15d)](),_0x18d210=_0x128337(0x3af),_0x15cc08={},_0x14154c={},_0x11f85d={..._0x1a0915,'chatLog':null},_0x58e2e2={'lastReceivedMessage':_0x15cc08,'lastSendMessage':_0x14154c,'lastBlockId':_0x18d210,'lastCondition':!0x0,'realVariables':_0x43d7b0};_0x11f85d['chatLog']=_0x58e2e2,_0x11f85d[_0x128337(0x20f)][_0x128337(0x3ef)]={..._0x43d7b0},delete _0x11f85d['_id'],_0x11f85d[_0x128337(0x6ad)]=new _0x59d455(),_0x11f85d[_0x128337(0x6f1)]=_0xd893c2,_0x11f85d[_0x128337(0x26d)]=_0x128337(0x1f1),_0x11f85d[_0x128337(0x6cd)]=_0x30a759;let _0xd2af1f=await this[_0x128337(0x431)][_0x128337(0x727)][_0x128337(0x56c)](_0x11f85d[_0x128337(0x6ad)],_0x11f85d,this[_0x128337(0x4d4)]['wuid']);return this[_0x128337(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x128337(0x4d4)][_0x128337(0x3b3)]+_0x128337(0x718)),_0xd2af1f?_0x11f85d:null;}catch(_0x230143){throw this[_0x128337(0x5b4)][_0x128337(0x148)](this['instanceName']+'\x20('+this['instance'][_0x128337(0x3b3)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x230143 instanceof Error?_0x230143['message']:JSON[_0x128337(0x62e)](_0x230143,null,0x2))),new m(_0x230143[_0x128337(0x331)]);}}async[a0_0x521bf9(0x13a)](_0x3db72e,_0x1ed76e){const _0x1a3d5f=a0_0x521bf9;let _0x6debf,_0x31273e;try{let _0x4b06a8=_0x1ed76e[_0x1a3d5f(0x4dc)];if(!_0x4b06a8||!_0x4b06a8[_0x1a3d5f(0x4c3)]||!_0x4b06a8[_0x1a3d5f(0x6f7)])throw new Error(_0x1a3d5f(0x1b3));let _0x3f3682={'method':_0x4b06a8['method'],'url':_0x4b06a8[_0x1a3d5f(0x4c3)],'headers':_0x4b06a8[_0x1a3d5f(0x56a)]||{},'data':_0x4b06a8[_0x1a3d5f(0x2c4)]||{},'responseType':'arraybuffer'},_0x4922c1=await(0x0,se[_0x1a3d5f(0x733)])(_0x3f3682),_0xe1816f=_0x4922c1['headers']['content-type'];if(_0xe1816f&&_0xe1816f[_0x1a3d5f(0x71c)](_0x1a3d5f(0x719))){_0x6debf=_0x4922c1['data'];let _0xabb030=_0x3db72e[_0x1a3d5f(0x20f)][_0x1a3d5f(0x3ef)],_0x437a11=this[_0x1a3d5f(0x616)](_0x6debf);return Object[_0x1a3d5f(0x1cc)](_0xabb030,_0x437a11),_0x3db72e[_0x1a3d5f(0x20f)][_0x1a3d5f(0x3ef)]=_0xabb030,_0x31273e={'error':!0x1,'apiResponse':_0x6debf},this[_0x1a3d5f(0x15a)](_0x3db72e,_0x1ed76e,_0x31273e),_0x6debf;}if(_0xe1816f&&(_0xe1816f[_0x1a3d5f(0x71c)]('application/octet-stream')||_0xe1816f[_0x1a3d5f(0x71c)](_0x1a3d5f(0x473))||_0xe1816f[_0x1a3d5f(0x71c)](_0x1a3d5f(0x4c5))||_0xe1816f[_0x1a3d5f(0x71c)](_0x1a3d5f(0x39d)))){this[_0x1a3d5f(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x1a3d5f(0x4d4)][_0x1a3d5f(0x3b3)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0xe1816f);let _0x5e1976=(0x0,Ce['v4'])(),_0xcfc165='',_0x557069={'image/jpeg':'.jpg','image/png':'.png','image/gif':'.gif','image/webp':_0x1a3d5f(0x641),'image/svg+xml':_0x1a3d5f(0x1d0),'audio/mpeg':_0x1a3d5f(0x61d),'audio/ogg':'.ogg','audio/wav':_0x1a3d5f(0x6b9),'video/mp4':_0x1a3d5f(0x408),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x1a3d5f(0x440),'application/pdf':'.pdf','application/msword':_0x1a3d5f(0x114),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x1a3d5f(0x494),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1a3d5f(0x3b6)};_0x557069[_0xe1816f]?(_0xcfc165=_0x557069[_0xe1816f],this[_0x1a3d5f(0x5b4)][_0x1a3d5f(0x5ab)](this[_0x1a3d5f(0x424)]+'\x20('+this['instance'][_0x1a3d5f(0x3b3)]+_0x1a3d5f(0x404)+_0xcfc165)):(_0xcfc165='.error',this[_0x1a3d5f(0x5b4)]['verbose'](this[_0x1a3d5f(0x424)]+'\x20('+this['instance'][_0x1a3d5f(0x3b3)]+_0x1a3d5f(0x6c0)+_0xcfc165)),_0x5e1976+=_0xcfc165,this[_0x1a3d5f(0x5b4)][_0x1a3d5f(0x5ab)](this[_0x1a3d5f(0x424)]+'\x20('+this[_0x1a3d5f(0x4d4)][_0x1a3d5f(0x3b3)]+_0x1a3d5f(0x2bf)+_0x5e1976);let _0x39b1ac=this[_0x1a3d5f(0x57b)]['get'](_0x1a3d5f(0x1df))[_0x1a3d5f(0x634)];if(!_0x39b1ac){let _0x3991d4=this[_0x1a3d5f(0x57b)][_0x1a3d5f(0x51f)](_0x1a3d5f(0x62d));_0x39b1ac=_0x1a3d5f(0x562)+(_0x3991d4&&_0x3991d4[_0x1a3d5f(0x4ed)][_0x1a3d5f(0x70e)]('/')[0x4]);}let _0x211df1=Buffer[_0x1a3d5f(0x119)](_0x4922c1[_0x1a3d5f(0x23d)]);await this[_0x1a3d5f(0x1e3)](_0x211df1,_0x5e1976);let _0x41ef31=_0x1a3d5f(0x5ee)+_0x5e1976;_0x41ef31=''+_0x39b1ac+_0x41ef31,_0x6debf={'fileUrl':_0x41ef31},_0x3db72e[_0x1a3d5f(0x20f)][_0x1a3d5f(0x3ef)][_0x1a3d5f(0x28b)]=_0x41ef31;let _0x16d2a5=_0x3db72e[_0x1a3d5f(0x20f)]['realVariables'],_0x38911f=this[_0x1a3d5f(0x616)](_0x6debf);return Object[_0x1a3d5f(0x1cc)](_0x16d2a5,_0x38911f),_0x3db72e[_0x1a3d5f(0x20f)]['realVariables']=_0x16d2a5,_0x31273e={'error':!0x1,'apiResponse':{'fileUrl':_0x41ef31}},this[_0x1a3d5f(0x15a)](_0x3db72e,_0x1ed76e,_0x31273e),_0x6debf;}}catch(_0x171e70){console[_0x1a3d5f(0x148)](_0x1a3d5f(0x361),_0x171e70),_0x171e70[_0x1a3d5f(0x2fb)]&&(_0x6debf=_0x171e70['response'][_0x1a3d5f(0x23d)]);let _0x5adb78=_0x3db72e['chatLog']['realVariables'],_0x5bef63=this[_0x1a3d5f(0x616)](_0x6debf);return Object['assign'](_0x5adb78,_0x5bef63),_0x3db72e['chatLog']['realVariables']=_0x5adb78,_0x31273e={'error':!0x0,'errorLog':_0x171e70['toString'](),'apiResponse':_0x6debf},this[_0x1a3d5f(0x15a)](_0x3db72e,_0x1ed76e,_0x31273e),{'success':!0x1};}}['applyvaredit'](_0x14c478,_0x571be4){const _0x38f20d=a0_0x521bf9;let _0x2a59fc=_0x59f262=>{const _0x1d9214=a0_0x4ad4;let _0x214731=_0x59f262[_0x1d9214(0x27b)](/[^0-9.,-]/g,'')[_0x1d9214(0x27b)](',','.'),_0x585fc5=parseFloat(_0x214731);return isNaN(_0x585fc5)?null:_0x585fc5;},_0x147997=_0x571be4['firstValue'],_0x10a485=_0x571be4[_0x38f20d(0x1a0)];typeof _0x147997==_0x38f20d(0x202)&&(_0x147997=this['replaceVariables'](_0x147997,_0x14c478[_0x38f20d(0x20f)][_0x38f20d(0x3ef)])??''),typeof _0x10a485=='string'&&(_0x10a485=this[_0x38f20d(0x5af)](_0x10a485,_0x14c478[_0x38f20d(0x20f)]['realVariables'])??'');let _0xcffc9a=null;if(!_0x571be4[_0x38f20d(0x46c)])return null;switch(this[_0x38f20d(0x5b4)][_0x38f20d(0x5ab)](this['instanceName']+'\x20('+this[_0x38f20d(0x4d4)][_0x38f20d(0x3b3)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x147997),this[_0x38f20d(0x5b4)][_0x38f20d(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x10a485),_0x571be4[_0x38f20d(0x46c)]){case'+':case'-':case'*':case'/':let _0x29c184=_0x2a59fc(_0x147997||'0'),_0x50fe53=_0x2a59fc(_0x10a485||'0');if(_0x29c184===null)return null;switch(_0x571be4[_0x38f20d(0x46c)]){case'+':_0xcffc9a=_0x29c184+(_0x50fe53??0x0);break;case'-':_0xcffc9a=_0x29c184-(_0x50fe53??0x0);break;case'*':_0xcffc9a=_0x29c184*(_0x50fe53??0x1);break;case'/':_0x50fe53!==0x0&&(_0xcffc9a=_0x29c184/(_0x50fe53??0x1));break;}break;case _0x38f20d(0x197):case _0x38f20d(0x2b4):let _0x202d2e=_0x10a485,_0x191ecc=_0x571be4[_0x38f20d(0x3f0)];if(typeof _0x191ecc==_0x38f20d(0x202)&&(_0x191ecc=this[_0x38f20d(0x5af)](_0x191ecc,_0x14c478[_0x38f20d(0x20f)][_0x38f20d(0x3ef)])??''),_0x202d2e&&_0x191ecc!==void 0x0){let _0x471518=_0x571be4['editOperator']==='findAndReplace'?new RegExp(_0x202d2e[_0x38f20d(0x27b)](/[-\/\\^$*+?.()|[\]{}]/g,_0x38f20d(0x47d)),'g'):new RegExp(_0x202d2e,'g');_0xcffc9a=_0x147997[_0x38f20d(0x27b)](_0x471518,_0x191ecc);}else console[_0x38f20d(0x3ed)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x38f20d(0x486):_0xcffc9a=_0x10a485;break;case'extractRegex':let _0x4eb06f=_0x147997['match'](new RegExp(_0x10a485||''));_0xcffc9a=_0x4eb06f?_0x4eb06f[0x0]:'';break;case _0x38f20d(0x191):_0xcffc9a=_0x147997[_0x38f20d(0x501)](0x0,parseInt(_0x10a485||'0'));break;case _0x38f20d(0x190):let _0x468515=parseInt(_0x10a485||'0');_0xcffc9a=_0x147997['slice'](_0x147997[_0x38f20d(0x4a0)]-_0x468515);break;case'toBrazilianNumberFormat':let _0x3c0b8d=_0x2a59fc(_0x147997),_0x58ca38=parseInt(_0x10a485||'0');_0x58ca38=Math[_0x38f20d(0x3c6)](_0x58ca38),_0x3c0b8d!==null?_0xcffc9a=_0x3c0b8d[_0x38f20d(0x2ce)]('pt-BR',{'minimumFractionDigits':_0x58ca38,'maximumFractionDigits':_0x58ca38}):(console[_0x38f20d(0x3ed)](_0x38f20d(0x2a8)+_0x147997),_0xcffc9a=null);break;case _0x38f20d(0x4df):let _0x2c5a72=_0x2a59fc(_0x147997);_0x2c5a72!==null?_0xcffc9a=_0x2c5a72['toLocaleString']('pt-BR',{'style':_0x38f20d(0x651),'currency':_0x38f20d(0x662)}):(console[_0x38f20d(0x3ed)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x147997),_0xcffc9a=null);break;case _0x38f20d(0x1c6):_0xcffc9a=_0x147997['toUpperCase']();break;case'lowerCase':_0xcffc9a=_0x147997[_0x38f20d(0x521)]();break;case _0x38f20d(0x71d):_0xcffc9a=_0x147997[_0x38f20d(0x70e)]('\x20')[_0x38f20d(0x648)](_0x20c3ff=>_0x20c3ff[_0x38f20d(0x2b7)](0x0)[_0x38f20d(0x65a)]()+_0x20c3ff[_0x38f20d(0x501)](0x1)[_0x38f20d(0x521)]())[_0x38f20d(0x1d7)]('\x20');break;case _0x38f20d(0x655):_0xcffc9a=_0x147997[_0x38f20d(0x51c)]();break;default:_0xcffc9a=_0x147997;}return _0xcffc9a!==null?_0xcffc9a[_0x38f20d(0x172)]():null;}async[a0_0x521bf9(0x19f)](_0x5632f5,_0xf563a2){const _0x81c52e=a0_0x521bf9;try{let _0x5c2d81=_0x5632f5[_0x81c52e(0x380)]?.[_0x81c52e(0x125)](_0x33b7e5=>_0x33b7e5[_0x81c52e(0x59c)]===_0xf563a2[_0x81c52e(0x6ad)]?.[_0x81c52e(0x172)]())||[],_0x10557e=_0xf563a2[_0x81c52e(0x3aa)],_0x4d97eb=null,_0x58e599=[],_0x403394=_0x5632f5[_0x81c52e(0x20f)]['realVariables'][_0x10557e];_0x58e599[_0x81c52e(0x330)](_0x81c52e(0x23e)+_0x403394+'\x22');for(let _0x283eea of _0x5c2d81){_0x283eea['firstValue']=_0x403394,_0x4d97eb=_0x283eea[_0x81c52e(0x56d)];let _0xb70702;try{_0xb70702=this[_0x81c52e(0x376)](_0x5632f5,_0x283eea);}catch(_0x1f68b9){console[_0x81c52e(0x148)](_0x81c52e(0x3bc)+_0x1f68b9[_0x81c52e(0x331)]);continue;}if(_0xb70702!==null){let _0x3e0dc5='Operador:\x20\x22'+_0x283eea[_0x81c52e(0x46c)]+'\x22',_0x276921=[_0x81c52e(0x4df),_0x81c52e(0x1c6),'lowerCase','capitalizedWords','trimmed'];_0x283eea['editOperator']===_0x81c52e(0x197)||_0x283eea[_0x81c52e(0x46c)]===_0x81c52e(0x2b4)?_0x3e0dc5+=_0x81c52e(0x6c8)+_0x283eea[_0x81c52e(0x1a0)]+_0x81c52e(0x42c)+_0x283eea['replaceValue']+'\x22':!_0x276921['includes'](_0x283eea[_0x81c52e(0x46c)])&&_0x283eea['secondValue']!==null&&_0x283eea[_0x81c52e(0x1a0)]!==void 0x0&&(_0x3e0dc5+=_0x81c52e(0x4eb)+_0x283eea['secondValue']+'\x22'),_0x3e0dc5+=_0x81c52e(0x4d8)+_0xb70702+'.',_0x58e599[_0x81c52e(0x330)](_0x3e0dc5);}_0xb70702!==null&&(_0x403394=_0xb70702);}if(_0x5632f5[_0x81c52e(0x20f)]['realVariables']&&_0xf563a2[_0x81c52e(0x3aa)]){_0x5632f5['chatLog'][_0x81c52e(0x3ef)][_0xf563a2['saveVariable']]=_0x403394;let _0x1b0069={'variable':_0xf563a2['saveVariable'],'oldValue':_0x4d97eb,'newValue':_0x403394,'moreLogs':_0x58e599};try{this[_0x81c52e(0x15a)](_0x5632f5,_0xf563a2,_0x1b0069);}catch(_0x166b46){console[_0x81c52e(0x148)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x166b46[_0x81c52e(0x331)]);}}return _0x10557e;}catch(_0x12a92a){return console[_0x81c52e(0x148)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x12a92a[_0x81c52e(0x331)]),null;}}async['processConditions'](_0x2402c5,_0x59f7d9){const _0x195d36=a0_0x521bf9;try{let _0x5463cd=[],_0x28a78d=_0x2402c5[_0x195d36(0x523)]['filter'](_0x3b9bca=>_0x3b9bca[_0x195d36(0x59c)]===_0x59f7d9[_0x195d36(0x6ad)][_0x195d36(0x172)]()),_0x486c3c=null,_0x22a9ec=!0x1;for(let _0x5540d4 of _0x28a78d){let _0x5d268f=this[_0x195d36(0x3e2)](_0x2402c5,_0x5540d4);_0x5463cd[_0x195d36(0x330)](_0x195d36(0x4d0)+_0x5540d4[_0x195d36(0x56d)]+',\x20Comparador:\x20'+_0x5540d4['expression']+_0x195d36(0x36a)+_0x5540d4['secondValue']+_0x195d36(0x5aa)+_0x5d268f),_0x486c3c===null?_0x486c3c=_0x5d268f:_0x5540d4[_0x195d36(0x419)]==='and'?(_0x486c3c=_0x486c3c&&_0x5d268f,_0x5d268f||(_0x22a9ec=!0x0)):_0x5540d4['OrAnd']==='or'&&(_0x22a9ec||(_0x486c3c=_0x486c3c||_0x5d268f));}_0x486c3c===null&&(_0x486c3c=!0x0);let _0x3dec73={'moreLogs':_0x5463cd};_0x2402c5[_0x195d36(0x20f)][_0x195d36(0x46b)]=_0x486c3c,await this[_0x195d36(0x15a)](_0x2402c5,_0x59f7d9,_0x3dec73);}catch(_0x196767){this[_0x195d36(0x5b4)][_0x195d36(0x148)](this[_0x195d36(0x424)]+'\x20('+this['instance'][_0x195d36(0x3b3)]+_0x195d36(0x497)+(_0x196767 instanceof Error?_0x196767[_0x195d36(0x331)]:JSON[_0x195d36(0x62e)](_0x196767,null,0x2)));}}[a0_0x521bf9(0x3e2)](_0x1e3cbc,_0x4625be){const _0x3eea10=a0_0x521bf9;let _0x29978e=_0x4625be[_0x3eea10(0x56d)],_0x44b2ae=_0x4625be['secondValue'];typeof _0x29978e==_0x3eea10(0x202)&&(_0x29978e=this[_0x3eea10(0x5af)](_0x29978e,_0x1e3cbc[_0x3eea10(0x20f)][_0x3eea10(0x3ef)])??''),typeof _0x44b2ae==_0x3eea10(0x202)&&(_0x44b2ae=this[_0x3eea10(0x5af)](_0x44b2ae,_0x1e3cbc[_0x3eea10(0x20f)][_0x3eea10(0x3ef)])??'');try{switch(_0x4625be['expression']){case _0x3eea10(0x750):return _0x29978e===_0x44b2ae;case'notEqual':return _0x29978e!==_0x44b2ae;case'contains':return _0x29978e[_0x3eea10(0x71c)](_0x44b2ae);case'notContains':return!_0x29978e[_0x3eea10(0x71c)](_0x44b2ae);case _0x3eea10(0x323):return parseFloat(_0x29978e)>parseFloat(_0x44b2ae);case _0x3eea10(0x5f9):return parseFloat(_0x29978e)<parseFloat(_0x44b2ae);case _0x3eea10(0x595):return _0x29978e!=='';case _0x3eea10(0x245):return _0x29978e==='';case _0x3eea10(0x25f):return new RegExp(_0x44b2ae)[_0x3eea10(0x378)](_0x29978e);case _0x3eea10(0x3ea):return!new RegExp(_0x44b2ae)[_0x3eea10(0x378)](_0x29978e);default:return!0x1;}}catch(_0xa28b30){return console[_0x3eea10(0x148)](_0x3eea10(0x3eb)+_0xa28b30),!0x1;}}[a0_0x521bf9(0x12c)](_0x2e947b){const _0x45d6e2=a0_0x521bf9;let _0x38d2d0=!0x0,_0xe1f8b4=null;for(let _0x266bde of _0x2e947b){let _0x1157cb=this['evaluateConditionTest'](_0x266bde);if(_0xe1f8b4==='or'&&_0x1157cb){_0x38d2d0=!0x0;break;}if(_0xe1f8b4===_0x45d6e2(0x450)&&!_0x1157cb){_0x38d2d0=!0x1;break;}_0xe1f8b4=_0x266bde['OrAnd'];}return _0x38d2d0;}[a0_0x521bf9(0x15c)](_0x4531bb){const _0x2f8b25=a0_0x521bf9;let _0x522590=_0x4531bb[_0x2f8b25(0x56d)],_0x3de6eb=_0x4531bb['secondValue'];try{switch(_0x4531bb[_0x2f8b25(0x173)]){case _0x2f8b25(0x750):return String(_0x522590)===String(_0x3de6eb);case'notEqual':return String(_0x522590)!==String(_0x3de6eb);case _0x2f8b25(0x287):return String(_0x522590)[_0x2f8b25(0x71c)](String(_0x3de6eb));case'notContains':return!String(_0x522590)[_0x2f8b25(0x71c)](String(_0x3de6eb));case'greater':return parseFloat(String(_0x522590))>parseFloat(String(_0x3de6eb));case _0x2f8b25(0x5f9):return parseFloat(String(_0x522590))<parseFloat(String(_0x3de6eb));case _0x2f8b25(0x595):return String(_0x522590)!=='';case'empty':return String(_0x522590)==='';case _0x2f8b25(0x25f):return new RegExp(String(_0x3de6eb))['test'](String(_0x522590));case'notMatchRegex':return!new RegExp(String(_0x3de6eb))['test'](String(_0x522590));default:return!0x1;}}catch(_0x31ef38){return console['error'](_0x2f8b25(0x3eb)+_0x31ef38),!0x1;}}async[a0_0x521bf9(0x618)](_0x165819,_0x4c9a02){const _0x2df3f3=a0_0x521bf9;if(this[_0x2df3f3(0x5b4)][_0x2df3f3(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x165819||!_0x4c9a02)return this[_0x2df3f3(0x5b4)][_0x2df3f3(0x148)](this[_0x2df3f3(0x424)]+'\x20('+this['instance'][_0x2df3f3(0x3b3)]+_0x2df3f3(0x622)),null;let _0x467eae=_0x4c9a02['saveVariable'],_0x27fa78=_0x165819[_0x2df3f3(0x20f)][_0x2df3f3(0x413)][_0x2df3f3(0x44e)]||_0x165819[_0x2df3f3(0x20f)][_0x2df3f3(0x413)][_0x2df3f3(0x320)]||_0x165819[_0x2df3f3(0x20f)][_0x2df3f3(0x413)][_0x2df3f3(0x21a)];try{_0x165819['chatLog'][_0x2df3f3(0x3ef)]||(_0x165819['chatLog'][_0x2df3f3(0x3ef)]={});let _0x377262=_0x165819[_0x2df3f3(0x20f)]['realVariables'][_0x467eae];_0x165819['chatLog'][_0x2df3f3(0x3ef)][_0x467eae]=_0x27fa78;let _0x3d8f03={'variable':_0x467eae,'oldValue':_0x377262,'newValue':_0x27fa78};this[_0x2df3f3(0x15a)](_0x165819,_0x4c9a02,_0x3d8f03),this['logger']['verbose'](this[_0x2df3f3(0x424)]+'\x20('+this[_0x2df3f3(0x4d4)][_0x2df3f3(0x3b3)]+_0x2df3f3(0x5b6));}catch(_0x1c351a){let _0x5ead57={'error':!0x0,'errorLog':_0x1c351a[_0x2df3f3(0x172)]()};return this[_0x2df3f3(0x15a)](_0x165819,_0x4c9a02,_0x5ead57),this[_0x2df3f3(0x5b4)][_0x2df3f3(0x148)](this[_0x2df3f3(0x424)]+'\x20('+this[_0x2df3f3(0x4d4)][_0x2df3f3(0x3b3)]+_0x2df3f3(0x6fd)+(_0x1c351a instanceof Error?_0x1c351a[_0x2df3f3(0x331)]:JSON['stringify'](_0x1c351a,null,0x2))),null;}}async[a0_0x521bf9(0x33c)](_0x3b1c5c,_0x5ead9e){const _0x4d6119=a0_0x521bf9;if(this[_0x4d6119(0x5b4)]['verbose'](this[_0x4d6119(0x424)]+'\x20('+this['instance'][_0x4d6119(0x3b3)]+_0x4d6119(0x382)),!_0x3b1c5c||!_0x5ead9e)return this[_0x4d6119(0x5b4)][_0x4d6119(0x148)](this[_0x4d6119(0x424)]+'\x20('+this[_0x4d6119(0x4d4)][_0x4d6119(0x3b3)]+_0x4d6119(0x622)),null;let _0x236854=Date[_0x4d6119(0x15d)](),_0x513e38=parseInt(_0x5ead9e['stopMinutes'],0xa);if(isNaN(_0x513e38))return this[_0x4d6119(0x5b4)]['error'](this[_0x4d6119(0x424)]+'\x20('+this[_0x4d6119(0x4d4)][_0x4d6119(0x3b3)]+_0x4d6119(0x338)),null;let _0x11f6ef={'newStoppedUntil':_0x236854+_0x513e38*0x3c*0x3e8};return await this['updateConversation'](_0x3b1c5c,_0x5ead9e,_0x11f6ef,!0x0),null;}async['processUazapi'](_0x21899e,_0x5d1ab6){const _0x1de22e=a0_0x521bf9;try{switch(_0x5d1ab6[_0x1de22e(0x6a5)][_0x1de22e(0x1ba)]){case'sendText':await this[_0x1de22e(0x6ed)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x709):await this['uazapiSendMedia'](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x73f):await this[_0x1de22e(0x39c)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x169):await this[_0x1de22e(0x2d0)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x304):await this[_0x1de22e(0x584)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x6de):await this[_0x1de22e(0x53d)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x6df):await this[_0x1de22e(0x53d)](_0x21899e,_0x5d1ab6);break;case _0x1de22e(0x593):await this['uazapiDeleteMessage'](_0x21899e,_0x5d1ab6);break;default:this['logger']['error'](this[_0x1de22e(0x424)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x5d1ab6[_0x1de22e(0x6a5)][_0x1de22e(0x1ba)]);}}catch(_0x2e1fb4){this['logger'][_0x1de22e(0x148)](this['instanceName']+'\x20('+this[_0x1de22e(0x4d4)][_0x1de22e(0x3b3)]+_0x1de22e(0x113)+(_0x2e1fb4 instanceof Error?_0x2e1fb4[_0x1de22e(0x331)]:JSON['stringify'](_0x2e1fb4,null,0x2)));}}async[a0_0x521bf9(0x15a)](_0x38e7f9,_0x1a3388,_0x3f7b67,_0x1eb70b=!0x1,_0x2b9466=!0x1){const _0x123bad=a0_0x521bf9;_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x6ba)]||(_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x6ba)]=[]);let _0x382dc2=(_0x38e7f9['chatLog'][_0x123bad(0x6ba)]?.['length']??0x0)+0x1,_0xa2502c=_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x6ba)][_0x123bad(0x125)](_0x14adc3=>String(_0x14adc3['blockId'])===String(_0x1a3388['_id']))[_0x123bad(0x4a0)]+0x1,_0x23cdcb=_0x3f7b67?.['onTime']??Date[_0x123bad(0x15d)](),_0x3444ad=_0x3f7b67?.[_0x123bad(0x148)]?_0x3f7b67[_0x123bad(0x5b1)]??_0x3f7b67[_0x123bad(0x148)][_0x123bad(0x172)]():void 0x0,_0x317a9e={'onTime':_0x23cdcb,'blockId':_0x1a3388['_id'],'order':_0x382dc2,'activatedCount':_0xa2502c,'error':_0x3f7b67?.[_0x123bad(0x148)]??!0x1,'messageId':_0x3f7b67?.['messageId'],'apiResponse':_0x3f7b67?.[_0x123bad(0x49e)],'apiResponseString':_0x3f7b67?.['apiResponse']?JSON[_0x123bad(0x62e)](_0x3f7b67?.['apiResponse']):void 0x0,'variable':_0x3f7b67?.[_0x123bad(0x526)],'oldValue':_0x3f7b67?.[_0x123bad(0x2fc)],'newValue':_0x3f7b67?.[_0x123bad(0x502)],'newStoppedUntil':_0x3f7b67?.[_0x123bad(0x6da)],'moreLogs':_0x3f7b67?.[_0x123bad(0x73a)],'errorLog':_0x3444ad};if(_0x3f7b67[_0x123bad(0x73a)]&&_0x3f7b67[_0x123bad(0x73a)][_0x123bad(0x4a0)]>0x0){let _0x21623a=_0x3f7b67['moreLogs'][_0x123bad(0x648)](_0x55a20b=>this['replaceVariablesLogs'](_0x55a20b,_0x38e7f9['chatLog'][_0x123bad(0x3ef)]));_0x317a9e[_0x123bad(0x73a)]=_0x21623a;}_0x38e7f9[_0x123bad(0x20f)]['realVariables']||(_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x3ef)]={}),_0x38e7f9[_0x123bad(0x20f)]['realVariables'][_0x123bad(0x59d)]=String(_0xa2502c),_0x38e7f9['chatLog']['realVariables'][_0x123bad(0x21b)]=String(_0x3f7b67[_0x123bad(0x148)]??!0x1),_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x6ba)]['push'](_0x317a9e),_0x38e7f9[_0x123bad(0x20f)]['lastBlockId']=_0x1a3388[_0x123bad(0x6ad)]['toString'](),_0x38e7f9['chatLog'][_0x123bad(0x16f)]&&(_0x38e7f9[_0x123bad(0x20f)]['lastSendMessage']=_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x16f)]),_0x38e7f9[_0x123bad(0x20f)]['lastReceivedMessage']&&(_0x38e7f9[_0x123bad(0x20f)]['lastReceivedMessage']=_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x413)]),_0x38e7f9['chatLog'][_0x123bad(0x46b)]&&(_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x46b)]=_0x38e7f9[_0x123bad(0x20f)][_0x123bad(0x46b)]),_0x2b9466&&(_0x38e7f9[_0x123bad(0x26d)]=_0x123bad(0x345)),_0x1eb70b?this[_0x123bad(0x3f9)](_0x38e7f9):this[_0x123bad(0x1f0)](_0x38e7f9,_0x1a3388);}[a0_0x521bf9(0x715)](_0x569d8d,_0x15c29e){const _0x538b8b=a0_0x521bf9;return _0x569d8d[_0x538b8b(0x27b)](/\{\{([^}]+)\}\}/g,(_0x2eaca8,_0x14bfb3)=>_0x15c29e[_0x14bfb3]?'{{'+_0x14bfb3+_0x538b8b(0x489)+_0x15c29e[_0x14bfb3]+'\x22':'{{'+_0x14bfb3+_0x538b8b(0x116));}async[a0_0x521bf9(0x3f9)](_0x4322c3){const _0x33985a=a0_0x521bf9;try{let _0x9f1e11=Object['entries'](_0x4322c3['chatLog'][_0x33985a(0x3ef)])[_0x33985a(0x648)](([_0xb2e112,_0x4b4ca5])=>({'name':_0xb2e112,'value':_0x4b4ca5})),_0x39e0c8={'status':_0x4322c3['status'],'blocks':_0x4322c3[_0x33985a(0x552)],'waitingMenu_id':_0x4322c3[_0x33985a(0x455)],'waitingMenu_text':_0x4322c3[_0x33985a(0x2bb)],'waitingMenu_replyOptions':_0x4322c3[_0x33985a(0x236)],'chatLog':{'lastBlockId':_0x4322c3[_0x33985a(0x20f)][_0x33985a(0x62a)],'lastSendMessage':_0x4322c3['chatLog'][_0x33985a(0x16f)],'lastReceivedMessage':_0x4322c3[_0x33985a(0x20f)]['lastReceivedMessage'],'lastCondition':_0x4322c3['chatLog']['lastCondition'],'chatVariables':_0x9f1e11,'realVariables':_0x4322c3[_0x33985a(0x20f)][_0x33985a(0x3ef)],'blockLogs':_0x4322c3[_0x33985a(0x20f)]['blockLogs']}},_0x48cedd=await this['repository'][_0x33985a(0x727)][_0x33985a(0x56c)](_0x4322c3['_id'],_0x39e0c8,this[_0x33985a(0x4d4)]['wuid']);if(_0x48cedd){this[_0x33985a(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x33985a(0x4d4)][_0x33985a(0x3b3)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x48cedd[_0x33985a(0x6ad)]);try{let _0x1bd7df=['nome',_0x33985a(0x626),_0x33985a(0x238),_0x33985a(0x29d),_0x33985a(0x26d),_0x33985a(0x3f1),_0x33985a(0x47e),'tags'];if(!this[_0x33985a(0x392)]&&(await this[_0x33985a(0x556)](),!this[_0x33985a(0x392)]))throw new Error(_0x33985a(0x16e));let _0x78bc49=this[_0x33985a(0x392)]?.[_0x33985a(0x599)][_0x33985a(0x648)](_0x2b6f3f=>_0x2b6f3f[_0x33985a(0x423)]),_0x50a520={};Object[_0x33985a(0x1e4)](_0x4322c3[_0x33985a(0x20f)][_0x33985a(0x3ef)])[_0x33985a(0x592)](([_0x2719d6,_0x408c3c])=>{const _0x5e4d90=_0x33985a;_0x1bd7df['includes'](_0x2719d6)&&(_0x2719d6===_0x5e4d90(0x1e8)&&typeof _0x408c3c=='string'?_0x50a520[_0x2719d6]=_0x408c3c[_0x5e4d90(0x70e)](',')[_0x5e4d90(0x648)](_0x2b2366=>_0x2b2366['trim']())[_0x5e4d90(0x125)](_0x912ce4=>_0x912ce4!==''):_0x50a520[_0x2719d6]=_0x408c3c);});let _0x3aad2f=_0x4322c3[_0x33985a(0x20f)]['blockLogs'][_0x4322c3[_0x33985a(0x20f)][_0x33985a(0x6ba)][_0x33985a(0x4a0)]-0x1];if(_0x3aad2f){let _0x5a7146=_0x3aad2f[_0x33985a(0x6da)];_0x5a7146!==void 0x0&&(_0x50a520[_0x33985a(0x2a7)]=_0x5a7146['toString']());}let _0x3a8cb8=_0x9f1e11[_0x33985a(0x125)](_0x246435=>_0x78bc49[_0x33985a(0x71c)](_0x246435[_0x33985a(0x423)]));this[_0x33985a(0x5b4)][_0x33985a(0x5ab)](this[_0x33985a(0x424)]+'\x20('+this['instance'][_0x33985a(0x3b3)]+'):\x20leadInfoVariables'),this[_0x33985a(0x5b4)][_0x33985a(0x5ab)](_0x50a520),this[_0x33985a(0x5b4)]['verbose'](this[_0x33985a(0x424)]+'\x20('+this[_0x33985a(0x4d4)][_0x33985a(0x3b3)]+_0x33985a(0x3da)),this[_0x33985a(0x5b4)][_0x33985a(0x5ab)](_0x3a8cb8);let _0x1784d7=_0x3a8cb8['map'](_0x108c22=>{const _0x3171b8=_0x33985a;let _0x190dc9=this[_0x3171b8(0x392)]?.[_0x3171b8(0x599)][_0x3171b8(0x375)](_0x52791a=>_0x52791a[_0x3171b8(0x423)]===_0x108c22[_0x3171b8(0x423)]);if(!_0x190dc9)throw new Error(_0x3171b8(0x546)+_0x108c22[_0x3171b8(0x423)]);return{'_id':_0x190dc9['_id'],'value':_0x108c22[_0x3171b8(0x3f3)]};});this[_0x33985a(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x33985a(0x4d4)][_0x33985a(0x3b3)]+_0x33985a(0x146)),this[_0x33985a(0x5b4)][_0x33985a(0x5ab)](_0x1784d7),await this[_0x33985a(0x4a6)](_0x4322c3[_0x33985a(0x6cd)],_0x50a520,_0x1784d7);}catch(_0x4e5d7a){this['logger']['error'](this[_0x33985a(0x424)]+'\x20('+this[_0x33985a(0x4d4)][_0x33985a(0x3b3)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x4e5d7a instanceof Error?_0x4e5d7a[_0x33985a(0x331)]:JSON['stringify'](_0x4e5d7a,null,0x2)));}}else this[_0x33985a(0x5b4)][_0x33985a(0x148)](this[_0x33985a(0x424)]+'\x20('+this[_0x33985a(0x4d4)][_0x33985a(0x3b3)]+_0x33985a(0x6bc));}catch(_0x5760ef){this[_0x33985a(0x5b4)]['error'](this[_0x33985a(0x424)]+'\x20('+this['instance']['wuid']+_0x33985a(0x549)+(_0x5760ef instanceof Error?_0x5760ef[_0x33985a(0x331)]:JSON[_0x33985a(0x62e)](_0x5760ef,null,0x2)));}}async['saveChatVariables'](_0x464fd9,_0x487288,_0x382f1e){const _0x49d1d3=a0_0x521bf9;try{let _0x2f9089={'leadInfo.leadnome':_0x487288['nome'],'leadInfo.nomecompleto':_0x487288['nomecompleto'],'leadInfo.email':_0x487288['email'],'leadInfo.cpf':_0x487288[_0x49d1d3(0x29d)],'leadInfo.status':_0x487288[_0x49d1d3(0x26d)],'leadInfo.notas':_0x487288['notas'],'leadInfo.responsavelid':_0x487288[_0x49d1d3(0x47e)],'leadInfo.tags':_0x487288[_0x49d1d3(0x1e8)],'leadInfo.customFields':_0x382f1e};if(_0x49d1d3(0x2a7)in _0x487288){let _0x5bcbd7=_0x487288[_0x49d1d3(0x2a7)];_0x2f9089['leadInfo.desativadoFluxoAte']=_0x5bcbd7?Number(_0x5bcbd7):null;}let _0x118b28=await this[_0x49d1d3(0x431)][_0x49d1d3(0x5d6)][_0x49d1d3(0x56c)]({'where':{'_id':_0x464fd9}},_0x2f9089,this[_0x49d1d3(0x4d4)][_0x49d1d3(0x3b3)]);_0x118b28?(this[_0x49d1d3(0x5b4)][_0x49d1d3(0x5ab)](this[_0x49d1d3(0x424)]+'\x20('+this[_0x49d1d3(0x4d4)][_0x49d1d3(0x3b3)]+_0x49d1d3(0x3cf)+_0x118b28[_0x49d1d3(0x6ad)]),q(this[_0x49d1d3(0x424)],'chats',{'chat':_0x118b28})):this[_0x49d1d3(0x5b4)][_0x49d1d3(0x148)](this['instanceName']+'\x20('+this[_0x49d1d3(0x4d4)][_0x49d1d3(0x3b3)]+_0x49d1d3(0x1e1));}catch(_0x22fa9d){this[_0x49d1d3(0x5b4)]['error'](this[_0x49d1d3(0x424)]+'\x20('+this[_0x49d1d3(0x4d4)][_0x49d1d3(0x3b3)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x22fa9d instanceof Error?_0x22fa9d[_0x49d1d3(0x331)]:JSON[_0x49d1d3(0x62e)](_0x22fa9d,null,0x2)));}}async[a0_0x521bf9(0x2a5)](_0x124e1e,_0x4fbacc){const _0x37df87=a0_0x521bf9;this[_0x37df87(0x5b4)][_0x37df87(0x5ab)](this[_0x37df87(0x424)]+'\x20('+this[_0x37df87(0x4d4)]['wuid']+_0x37df87(0x1d8)+_0x4fbacc);try{let _0x1633ac=await this['repository'][_0x37df87(0x5d6)][_0x37df87(0x56c)]({'where':{'_id':_0x124e1e[_0x37df87(0x6cd)]}},{'leadInfo.desativadoFluxoAte':_0x4fbacc},this['instance'][_0x37df87(0x3b3)]);this[_0x37df87(0x5b4)][_0x37df87(0x5ab)](this[_0x37df87(0x424)]+'\x20('+this[_0x37df87(0x4d4)][_0x37df87(0x3b3)]+_0x37df87(0x6a3)+_0x124e1e['_id']),this[_0x37df87(0x5b4)]['verbose'](this[_0x37df87(0x424)]+'\x20('+this['instance'][_0x37df87(0x3b3)]+_0x37df87(0x1d8)+JSON[_0x37df87(0x62e)](_0x1633ac,null,0x2)),_0x1633ac&&q(this[_0x37df87(0x424)],'chats',{'chat':_0x1633ac});}catch(_0x39bd0d){this[_0x37df87(0x5b4)][_0x37df87(0x148)](this[_0x37df87(0x424)]+'\x20('+this['instance']['wuid']+_0x37df87(0x580)+(_0x39bd0d instanceof Error?_0x39bd0d[_0x37df87(0x331)]:JSON['stringify'](_0x39bd0d,null,0x2)));}}async[a0_0x521bf9(0x594)](_0x2853d5){const _0x395830=a0_0x521bf9;try{this[_0x395830(0x5b4)]['verbose'](this[_0x395830(0x424)]+'\x20('+this[_0x395830(0x4d4)]['wuid']+'):\x20Buscando\x20flow...');let _0x271da5=_0x2853d5[_0x395830(0x27b)](/\D/g,''),_0x1bfa9f=await this[_0x395830(0x431)][_0x395830(0x158)][_0x395830(0x1f2)]({'where':{'testingWith':_0x271da5}},this[_0x395830(0x4d4)]['wuid']);return _0x1bfa9f||(this[_0x395830(0x5b4)][_0x395830(0x5ab)](this[_0x395830(0x424)]+'\x20('+this[_0x395830(0x4d4)][_0x395830(0x3b3)]+_0x395830(0x422)),_0x1bfa9f=await this[_0x395830(0x431)][_0x395830(0x158)][_0x395830(0x1f2)]({'where':{'default':!0x0}},this[_0x395830(0x4d4)]['wuid'])),_0x1bfa9f||(this[_0x395830(0x5b4)][_0x395830(0x5ab)](this[_0x395830(0x424)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x469c24){return this[_0x395830(0x5b4)][_0x395830(0x148)](this[_0x395830(0x424)]+'\x20('+this['instance'][_0x395830(0x3b3)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x469c24 instanceof Error?_0x469c24[_0x395830(0x331)]:JSON[_0x395830(0x62e)](_0x469c24,null,0x2))),null;}}async[a0_0x521bf9(0x4c0)](_0xc20350,_0x3aa1ac){const _0x339519=a0_0x521bf9;try{let _0x19d46a=!!_0x3aa1ac[_0x339519(0x21a)],_0x42f04f=_0x3aa1ac['quoted'],_0x2400c3=null;if(this[_0x339519(0x5b4)][_0x339519(0x5ab)](this[_0x339519(0x424)]+'\x20('+this['instance'][_0x339519(0x3b3)]+_0x339519(0x582)+_0x19d46a+_0x339519(0x499)+_0x42f04f),_0x19d46a){this['logger'][_0x339519(0x5ab)](this['instanceName']+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+_0x339519(0x64c));let _0x58e880={'where':{'remoteJid':_0xc20350,'waitingMenu_id':_0x42f04f}};if(_0x2400c3=await this[_0x339519(0x431)][_0x339519(0x727)][_0x339519(0x1f2)](_0x58e880,this[_0x339519(0x4d4)][_0x339519(0x3b3)]),!_0x2400c3)return this[_0x339519(0x5b4)][_0x339519(0x5ab)](this['instanceName']+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+'):\x20não\x20encontrou'),null;let _0x2c2d61=Date[_0x339519(0x15d)](),_0x1b522b=_0x2400c3?.[_0x339519(0x1c5)]||0x0,_0x5bb634=_0x2c2d61-_0x1b522b*0x3c*0x3e8;if(_0x2400c3[_0x339519(0x6f1)]<_0x5bb634){this['logger'][_0x339519(0x5ab)](this[_0x339519(0x424)]+'\x20('+this['instance'][_0x339519(0x3b3)]+_0x339519(0x4f1));let _0x20c30f={'number':_0x2400c3['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2400c3[_0x339519(0x307)]}};await this[_0x339519(0x167)](_0x20c30f);let _0x53e030={'status':_0x339519(0x345),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x339519(0x727)][_0x339519(0x56c)](_0x2400c3[_0x339519(0x6ad)],_0x53e030,this[_0x339519(0x4d4)][_0x339519(0x3b3)]),null;}return _0x2400c3['lastInteraction']=Date[_0x339519(0x15d)](),_0x2400c3[_0x339519(0x20f)][_0x339519(0x413)]=_0x3aa1ac,_0x2400c3;}else{this['logger'][_0x339519(0x5ab)](this['instanceName']+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+_0x339519(0x6d1)+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x339519(0x5ab)](this[_0x339519(0x424)]+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+_0x339519(0x429));let _0x2b8dfe={'where':{'remoteJid':_0xc20350,'status':_0x339519(0x1f1)}};if(_0x2400c3=await this[_0x339519(0x431)][_0x339519(0x727)][_0x339519(0x1f2)](_0x2b8dfe,this['instance']['wuid']),!_0x2400c3){let _0x477d80=await this['findFlow'](_0xc20350);if(_0x477d80&&(_0x2400c3=await this[_0x339519(0x744)](_0x477d80,_0x3aa1ac[_0x339519(0x4d2)],_0x3aa1ac)),!_0x2400c3)return null;}let _0x12f4e0=Date[_0x339519(0x15d)](),_0xc1ab06=_0x2400c3?.['minutesToClose']||0x0,_0x26679d=_0x12f4e0-_0xc1ab06*0x3c*0x3e8;if(this[_0x339519(0x5b4)][_0x339519(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x339519(0x3b3)]+_0x339519(0x2ab)+_0x12f4e0+_0x339519(0x1f7)+_0xc1ab06+_0x339519(0x4dd)+_0x26679d),this[_0x339519(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+_0x339519(0x12f)),this[_0x339519(0x5b4)]['verbose'](this[_0x339519(0x424)]+'\x20('+this[_0x339519(0x4d4)]['wuid']+_0x339519(0x5e2)+_0x2400c3['lastInteraction']),this['logger'][_0x339519(0x5ab)](this[_0x339519(0x424)]+'\x20('+this[_0x339519(0x4d4)]['wuid']+_0x339519(0x633)+_0x26679d),_0x2400c3[_0x339519(0x6f1)]<_0x26679d){this[_0x339519(0x5b4)][_0x339519(0x5ab)](this[_0x339519(0x424)]+'\x20('+this['instance'][_0x339519(0x3b3)]+_0x339519(0x412));let _0x145300=await this[_0x339519(0x594)](_0xc20350);if(_0x145300===null)return null;_0x2400c3&&await this[_0x339519(0x431)][_0x339519(0x727)][_0x339519(0x56c)](_0x2400c3[_0x339519(0x6ad)],{'status':_0x339519(0x345)},this[_0x339519(0x4d4)]['wuid']),_0x2400c3=await this['createNewConversation'](_0x145300,_0x3aa1ac[_0x339519(0x4d2)],_0x3aa1ac);}return _0x2400c3['lastInteraction']=_0x12f4e0,_0x2400c3[_0x339519(0x20f)][_0x339519(0x413)]=_0x3aa1ac,_0x2400c3;}}catch(_0x34189e){return this[_0x339519(0x5b4)]['error'](this['instanceName']+'\x20('+this[_0x339519(0x4d4)][_0x339519(0x3b3)]+_0x339519(0x458)+(_0x34189e instanceof Error?_0x34189e[_0x339519(0x331)]:JSON[_0x339519(0x62e)](_0x34189e,null,0x2))),null;}}async[a0_0x521bf9(0x744)](_0x5cf92b,_0xad4110,_0x3bd85e){const _0x3165da=a0_0x521bf9;this[_0x3165da(0x5b4)][_0x3165da(0x5ab)](this[_0x3165da(0x424)]+'\x20('+this['instance'][_0x3165da(0x3b3)]+_0x3165da(0x24e));try{let _0x3521f2=require('mongodb')['ObjectId'],_0x3b47a2=Date[_0x3165da(0x15d)](),_0x2af19c=_0x3165da(0x3af),_0x1d3c7c=_0xad4110[_0x3165da(0x2b5)]?null:_0x3bd85e,_0xea2ceb=_0xad4110['fromMe']?_0x3bd85e:null,_0x20205b=_0xad4110[_0x3165da(0x6cd)];await this['closeExistingConversations'](_0x20205b);let _0x485634={..._0x5cf92b,'chatLog':null},_0x1256fe=await this['variablesToObject'](_0x485634[_0x3165da(0x684)]),_0x4ee8d8=await this['getVariablesChat'](_0x20205b),_0x5c7523={..._0x1256fe,..._0x4ee8d8,'_remoteJid':_0x20205b},_0x362af8={'lastReceivedMessage':_0x1d3c7c,'lastSendMessage':_0xea2ceb,'lastBlockId':_0x2af19c,'lastCondition':!0x0,'realVariables':_0x5c7523};_0x485634[_0x3165da(0x20f)]=_0x362af8,delete _0x485634[_0x3165da(0x6ad)],_0x485634[_0x3165da(0x6ad)]=new _0x3521f2(),_0x485634['lastInteraction']=_0x3b47a2,_0x485634[_0x3165da(0x26d)]=_0x3165da(0x1f1),_0x485634[_0x3165da(0x6cd)]=_0x20205b;let _0x3c616e=await this[_0x3165da(0x431)][_0x3165da(0x727)][_0x3165da(0x56c)](_0x485634[_0x3165da(0x6ad)],_0x485634,this[_0x3165da(0x4d4)][_0x3165da(0x3b3)]);return this['logger'][_0x3165da(0x5ab)](this[_0x3165da(0x424)]+'\x20('+this['instance'][_0x3165da(0x3b3)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3c616e?_0x485634:null;}catch(_0x3fb6f8){return this[_0x3165da(0x5b4)]['error'](this['instanceName']+'\x20('+this[_0x3165da(0x4d4)][_0x3165da(0x3b3)]+_0x3165da(0x3a3)+(_0x3fb6f8 instanceof Error?_0x3fb6f8[_0x3165da(0x331)]:JSON['stringify'](_0x3fb6f8,null,0x2))),_0x3fb6f8;}}async[a0_0x521bf9(0x6ed)](_0x10c95e,_0x45d045){const _0x2e0b98=a0_0x521bf9;let _0x1fd628=_0x10c95e[_0x2e0b98(0x6cd)];_0x45d045[_0x2e0b98(0x6a5)][_0x2e0b98(0x6cd)]&&_0x45d045[_0x2e0b98(0x6a5)][_0x2e0b98(0x6cd)][_0x2e0b98(0x51c)]()!==''&&(_0x1fd628=_0x45d045[_0x2e0b98(0x6a5)][_0x2e0b98(0x6cd)][_0x2e0b98(0x51c)]()),this[_0x2e0b98(0x5b4)][_0x2e0b98(0x5ab)](this['instanceName']+'\x20('+this[_0x2e0b98(0x4d4)][_0x2e0b98(0x3b3)]+_0x2e0b98(0x200));let _0x1292a2={'number':_0x1fd628,'options':{'delay':_0x45d045['uazapi'][_0x2e0b98(0x5c6)]},'textMessage':{'text':_0x45d045[_0x2e0b98(0x6a5)]['text']}};try{let _0x2052fc=await this[_0x2e0b98(0x167)](_0x1292a2);if(_0x2052fc){let _0x549dff={'_id':_0x2052fc[_0x2e0b98(0x4d2)]['id'],'_fromMe':_0x2052fc['key'][_0x2e0b98(0x2b5)],'_remoteJid':_0x2052fc[_0x2e0b98(0x4d2)][_0x2e0b98(0x6cd)]};_0x10c95e[_0x2e0b98(0x20f)]['lastBlockId']=_0x45d045[_0x2e0b98(0x6ad)][_0x2e0b98(0x172)]();let {message_normalized:_0x25559e}=this[_0x2e0b98(0x69b)](_0x2052fc['message'],_(_0x2052fc[_0x2e0b98(0x331)]),null);_0x10c95e[_0x2e0b98(0x20f)][_0x2e0b98(0x16f)]=await _0x25559e;let _0x28b2fa={'messageId':_0x2052fc[_0x2e0b98(0x4d2)]['id']},_0x49f47b=_0x10c95e[_0x2e0b98(0x20f)][_0x2e0b98(0x3ef)];Object[_0x2e0b98(0x1cc)](_0x49f47b,_0x549dff),_0x10c95e[_0x2e0b98(0x20f)][_0x2e0b98(0x3ef)]=_0x49f47b,this[_0x2e0b98(0x15a)](_0x10c95e,_0x45d045,_0x28b2fa);}else{let _0x33e9a2={'error':!0x0};this['updateConversation'](_0x10c95e,_0x45d045,_0x33e9a2),this[_0x2e0b98(0x5b4)][_0x2e0b98(0x148)](this[_0x2e0b98(0x424)]+'\x20('+this[_0x2e0b98(0x4d4)][_0x2e0b98(0x3b3)]+_0x2e0b98(0x59a));}}catch(_0x2b75d7){let _0x5a197f={'error':!0x0,'errorLog':_0x2b75d7[_0x2e0b98(0x172)]()};this[_0x2e0b98(0x15a)](_0x10c95e,_0x45d045,_0x5a197f),this[_0x2e0b98(0x5b4)]['error'](this[_0x2e0b98(0x424)]+'\x20('+this['instance'][_0x2e0b98(0x3b3)]+_0x2e0b98(0x682)+(_0x2b75d7 instanceof Error?_0x2b75d7[_0x2e0b98(0x331)]:JSON['stringify'](_0x2b75d7,null,0x2)));}}async['uazapiSendMedia'](_0x191eab,_0x14bfc6){const _0x121d7d=a0_0x521bf9;let _0x2c1fc6=_0x191eab[_0x121d7d(0x6cd)];_0x14bfc6['uazapi'][_0x121d7d(0x6cd)]&&_0x14bfc6[_0x121d7d(0x6a5)]['remoteJid'][_0x121d7d(0x51c)]()!==''&&(_0x2c1fc6=_0x14bfc6[_0x121d7d(0x6a5)]['remoteJid'][_0x121d7d(0x51c)]()),this[_0x121d7d(0x5b4)][_0x121d7d(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x121d7d(0x3b3)]+_0x121d7d(0x379));let _0x3e0910={'number':_0x2c1fc6,'options':{'delay':_0x14bfc6[_0x121d7d(0x6a5)][_0x121d7d(0x5c6)]},'mediaMessage':{'mediatype':_0x14bfc6[_0x121d7d(0x6a5)]['mediatype'],'caption':_0x14bfc6['uazapi']['caption'],'media':_0x14bfc6[_0x121d7d(0x6a5)][_0x121d7d(0x4f8)],'fileName':_0x14bfc6[_0x121d7d(0x6a5)][_0x121d7d(0x128)]}};try{let _0x44bd09=await this[_0x121d7d(0x504)](_0x3e0910);if(_0x44bd09){let _0x395d15={'_id':_0x44bd09[_0x121d7d(0x4d2)]['id'],'_fromMe':_0x44bd09[_0x121d7d(0x4d2)][_0x121d7d(0x2b5)],'_remoteJid':_0x44bd09[_0x121d7d(0x4d2)][_0x121d7d(0x6cd)]};_0x191eab[_0x121d7d(0x20f)][_0x121d7d(0x62a)]=_0x14bfc6['_id']['toString']();let {message_normalized:_0x53ec66}=this[_0x121d7d(0x69b)](_0x44bd09[_0x121d7d(0x331)],_(_0x44bd09['message']),null);_0x191eab[_0x121d7d(0x20f)][_0x121d7d(0x16f)]=await _0x53ec66;let _0xdde014={'messageId':_0x44bd09['key']['id']},_0x1dee4e=_0x191eab[_0x121d7d(0x20f)]['realVariables'];Object[_0x121d7d(0x1cc)](_0x1dee4e,_0x395d15),_0x191eab[_0x121d7d(0x20f)][_0x121d7d(0x3ef)]=_0x1dee4e,this['updateConversation'](_0x191eab,_0x14bfc6,_0xdde014);}else{let _0x28d7da={'error':!0x0};this['updateConversation'](_0x191eab,_0x14bfc6,_0x28d7da),this['logger'][_0x121d7d(0x148)](this[_0x121d7d(0x424)]+'\x20('+this[_0x121d7d(0x4d4)][_0x121d7d(0x3b3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x5121d6){let _0xd91b8c={'error':!0x0,'errorLog':_0x5121d6[_0x121d7d(0x172)]()};this[_0x121d7d(0x15a)](_0x191eab,_0x14bfc6,_0xd91b8c),this['logger'][_0x121d7d(0x148)](this[_0x121d7d(0x424)]+'\x20('+this[_0x121d7d(0x4d4)][_0x121d7d(0x3b3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x5121d6 instanceof Error?_0x5121d6[_0x121d7d(0x331)]:JSON[_0x121d7d(0x62e)](_0x5121d6,null,0x2)));}}async[a0_0x521bf9(0x39c)](_0x2d3a22,_0x195a0b){const _0x4288a1=a0_0x521bf9;let _0x262359=_0x2d3a22[_0x4288a1(0x6cd)];_0x195a0b[_0x4288a1(0x6a5)][_0x4288a1(0x6cd)]&&_0x195a0b[_0x4288a1(0x6a5)][_0x4288a1(0x6cd)][_0x4288a1(0x51c)]()!==''&&(_0x262359=_0x195a0b[_0x4288a1(0x6a5)]['remoteJid'][_0x4288a1(0x51c)]()),this['logger'][_0x4288a1(0x5ab)](this[_0x4288a1(0x424)]+'\x20('+this['instance'][_0x4288a1(0x3b3)]+_0x4288a1(0x261));let _0x4509d8={'number':_0x262359,'options':{'delay':_0x195a0b['uazapi'][_0x4288a1(0x5c6)]},'locationMessage':{'name':_0x195a0b[_0x4288a1(0x6a5)][_0x4288a1(0x423)],'address':_0x195a0b['uazapi']['address'],'latitude':_0x195a0b[_0x4288a1(0x6a5)][_0x4288a1(0x1ea)],'longitude':_0x195a0b[_0x4288a1(0x6a5)]['longitude']}};try{let _0x5f469e=await this[_0x4288a1(0x155)](_0x4509d8);if(_0x5f469e){let _0x5ba4fd={'_id':_0x5f469e[_0x4288a1(0x4d2)]['id'],'_fromMe':_0x5f469e['key']['fromMe'],'_remoteJid':_0x5f469e['key'][_0x4288a1(0x6cd)]};_0x2d3a22[_0x4288a1(0x20f)][_0x4288a1(0x62a)]=_0x195a0b[_0x4288a1(0x6ad)]['toString']();let {message_normalized:_0x1cace7}=this[_0x4288a1(0x69b)](_0x5f469e[_0x4288a1(0x331)],_(_0x5f469e['message']),null);_0x2d3a22['chatLog']['lastSendMessage']=await _0x1cace7;let _0x1316d5={'messageId':_0x5f469e[_0x4288a1(0x4d2)]['id']},_0x105a54=_0x2d3a22['chatLog'][_0x4288a1(0x3ef)];Object[_0x4288a1(0x1cc)](_0x105a54,_0x5ba4fd),_0x2d3a22[_0x4288a1(0x20f)][_0x4288a1(0x3ef)]=_0x105a54,this[_0x4288a1(0x15a)](_0x2d3a22,_0x195a0b,_0x1316d5);}else{let _0x163cb3={'error':!0x0};this[_0x4288a1(0x15a)](_0x2d3a22,_0x195a0b,_0x163cb3),this[_0x4288a1(0x5b4)][_0x4288a1(0x148)](this['instanceName']+'\x20('+this['instance'][_0x4288a1(0x3b3)]+_0x4288a1(0x44f));}}catch(_0x338167){let _0x5d4a8a={'error':!0x0,'errorLog':_0x338167['toString']()};this[_0x4288a1(0x15a)](_0x2d3a22,_0x195a0b,_0x5d4a8a),this[_0x4288a1(0x5b4)]['error'](this[_0x4288a1(0x424)]+'\x20('+this[_0x4288a1(0x4d4)][_0x4288a1(0x3b3)]+_0x4288a1(0x3f7)+(_0x338167 instanceof Error?_0x338167[_0x4288a1(0x331)]:JSON[_0x4288a1(0x62e)](_0x338167,null,0x2)));}}async[a0_0x521bf9(0x2d0)](_0xa84d02,_0x4a56c8){const _0xce25e6=a0_0x521bf9;let _0x3573cc=_0xa84d02[_0xce25e6(0x6cd)];_0x4a56c8[_0xce25e6(0x6a5)][_0xce25e6(0x6cd)]&&_0x4a56c8[_0xce25e6(0x6a5)][_0xce25e6(0x6cd)][_0xce25e6(0x51c)]()!==''&&(_0x3573cc=_0x4a56c8[_0xce25e6(0x6a5)][_0xce25e6(0x6cd)]['trim']()),this[_0xce25e6(0x5b4)]['verbose'](this[_0xce25e6(0x424)]+'\x20('+this['instance'][_0xce25e6(0x3b3)]+_0xce25e6(0x673));let _0x3652dc={'number':_0x3573cc,'options':{'delay':_0x4a56c8['uazapi'][_0xce25e6(0x5c6)]},'audioMessage':{'audio':_0x4a56c8[_0xce25e6(0x6a5)][_0xce25e6(0x4c5)]}};try{let _0x181f37=await this[_0xce25e6(0x664)](_0x3652dc);if(_0x181f37){let _0x2e5dfe={'_id':_0x181f37[_0xce25e6(0x4d2)]['id'],'_fromMe':_0x181f37[_0xce25e6(0x4d2)][_0xce25e6(0x2b5)],'_remoteJid':_0x181f37[_0xce25e6(0x4d2)][_0xce25e6(0x6cd)]};_0xa84d02[_0xce25e6(0x20f)][_0xce25e6(0x62a)]=_0x4a56c8[_0xce25e6(0x6ad)][_0xce25e6(0x172)]();let {message_normalized:_0x43a183}=this[_0xce25e6(0x69b)](_0x181f37[_0xce25e6(0x331)],_(_0x181f37[_0xce25e6(0x331)]),null);_0xa84d02[_0xce25e6(0x20f)][_0xce25e6(0x16f)]=await _0x43a183;let _0x56c733={'messageId':_0x181f37[_0xce25e6(0x4d2)]['id']},_0x56a981=_0xa84d02[_0xce25e6(0x20f)][_0xce25e6(0x3ef)];Object[_0xce25e6(0x1cc)](_0x56a981,_0x2e5dfe),_0xa84d02[_0xce25e6(0x20f)][_0xce25e6(0x3ef)]=_0x56a981,this[_0xce25e6(0x15a)](_0xa84d02,_0x4a56c8,_0x56c733);}else{let _0x1aa29d={'error':!0x0};this[_0xce25e6(0x15a)](_0xa84d02,_0x4a56c8,_0x1aa29d),this['logger'][_0xce25e6(0x148)](this[_0xce25e6(0x424)]+'\x20('+this[_0xce25e6(0x4d4)]['wuid']+_0xce25e6(0x2c5));}}catch(_0x381aa6){let _0xc8f93e={'error':!0x0,'errorLog':_0x381aa6[_0xce25e6(0x172)]()};this[_0xce25e6(0x15a)](_0xa84d02,_0x4a56c8,_0xc8f93e),this[_0xce25e6(0x5b4)][_0xce25e6(0x148)](this[_0xce25e6(0x424)]+'\x20('+this[_0xce25e6(0x4d4)]['wuid']+_0xce25e6(0x6d9)+(_0x381aa6 instanceof Error?_0x381aa6['message']:JSON[_0xce25e6(0x62e)](_0x381aa6,null,0x2)));}}async[a0_0x521bf9(0x584)](_0x3abdc2,_0x33b9d2){const _0x3f0b37=a0_0x521bf9;let _0x1bb297=_0x3abdc2[_0x3f0b37(0x6cd)];_0x33b9d2[_0x3f0b37(0x6a5)][_0x3f0b37(0x6cd)]&&_0x33b9d2[_0x3f0b37(0x6a5)][_0x3f0b37(0x6cd)][_0x3f0b37(0x51c)]()!==''&&(_0x1bb297=_0x33b9d2['uazapi']['remoteJid'][_0x3f0b37(0x51c)]()),this[_0x3f0b37(0x5b4)][_0x3f0b37(0x5ab)](this['instanceName']+'\x20('+this[_0x3f0b37(0x4d4)][_0x3f0b37(0x3b3)]+'):\x20Enviando\x20contato');let _0x5c69a1={'number':_0x1bb297,'options':{'delay':_0x33b9d2[_0x3f0b37(0x6a5)][_0x3f0b37(0x5c6)]},'contactMessage':[{'fullName':_0x33b9d2[_0x3f0b37(0x6a5)][_0x3f0b37(0x577)],'phoneNumber':_0x33b9d2[_0x3f0b37(0x6a5)]['phoneNumber']}]};try{let _0x4544d7=await this[_0x3f0b37(0x3df)](_0x5c69a1);if(_0x4544d7){let _0x19d716={'_id':_0x4544d7[_0x3f0b37(0x4d2)]['id'],'_fromMe':_0x4544d7['key'][_0x3f0b37(0x2b5)],'_remoteJid':_0x4544d7['key'][_0x3f0b37(0x6cd)]};_0x3abdc2['chatLog']['lastBlockId']=_0x33b9d2['_id']['toString']();let {message_normalized:_0x3d513b}=this[_0x3f0b37(0x69b)](_0x4544d7[_0x3f0b37(0x331)],_(_0x4544d7['message']),null);_0x3abdc2[_0x3f0b37(0x20f)][_0x3f0b37(0x16f)]=await _0x3d513b;let _0x5038ce={'messageId':_0x4544d7['key']['id']},_0xbe2ef8=_0x3abdc2[_0x3f0b37(0x20f)][_0x3f0b37(0x3ef)];Object['assign'](_0xbe2ef8,_0x19d716),_0x3abdc2[_0x3f0b37(0x20f)][_0x3f0b37(0x3ef)]=_0xbe2ef8,this[_0x3f0b37(0x15a)](_0x3abdc2,_0x33b9d2,_0x5038ce);}else{let _0x5d4bda={'error':!0x0};this[_0x3f0b37(0x15a)](_0x3abdc2,_0x33b9d2,_0x5d4bda),this['logger'][_0x3f0b37(0x148)](this['instanceName']+'\x20('+this[_0x3f0b37(0x4d4)]['wuid']+_0x3f0b37(0x312));}}catch(_0xd1e877){let _0x49b26f={'error':!0x0,'errorLog':_0xd1e877[_0x3f0b37(0x172)]()};this[_0x3f0b37(0x15a)](_0x3abdc2,_0x33b9d2,_0x49b26f),this[_0x3f0b37(0x5b4)][_0x3f0b37(0x148)](this['instanceName']+'\x20('+this['instance'][_0x3f0b37(0x3b3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0xd1e877 instanceof Error?_0xd1e877[_0x3f0b37(0x331)]:JSON['stringify'](_0xd1e877,null,0x2)));}}[a0_0x521bf9(0x572)](_0x2f8d77,_0xb7f033){const _0x59edeb=a0_0x521bf9;for(let _0xb311ef of _0x2f8d77)_0xb311ef['option']&&(_0xb311ef[_0x59edeb(0x14f)]=this['replaceVariables'](_0xb311ef[_0x59edeb(0x14f)],_0xb7f033)),_0xb311ef['optionDescription']&&(_0xb311ef[_0x59edeb(0x5cb)]=this[_0x59edeb(0x5af)](_0xb311ef[_0x59edeb(0x5cb)],_0xb7f033));}async[a0_0x521bf9(0x53d)](_0x581e55,_0x1adc56){const _0x4ad3b7=a0_0x521bf9;let _0x2e704c=_0x581e55[_0x4ad3b7(0x6cd)];_0x1adc56['uazapi'][_0x4ad3b7(0x6cd)]&&_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x6cd)][_0x4ad3b7(0x51c)]()!==''&&(_0x2e704c=_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x6cd)][_0x4ad3b7(0x51c)]()),this['logger'][_0x4ad3b7(0x5ab)](this[_0x4ad3b7(0x424)]+'\x20('+this[_0x4ad3b7(0x4d4)][_0x4ad3b7(0x3b3)]+_0x4ad3b7(0x570));let _0x2ad05f=_0x581e55[_0x4ad3b7(0x1f6)][_0x4ad3b7(0x125)](_0x21a635=>_0x21a635[_0x4ad3b7(0x59c)]===_0x1adc56['_id'])[_0x4ad3b7(0x198)]((_0x474451,_0x12ac07)=>_0x474451[_0x4ad3b7(0x35c)]-_0x12ac07[_0x4ad3b7(0x35c)]);this[_0x4ad3b7(0x572)](_0x2ad05f,_0x581e55[_0x4ad3b7(0x20f)][_0x4ad3b7(0x3ef)]);let _0x314b6c=_0x2ad05f[_0x4ad3b7(0x648)](_0x4ada16=>_0x4ada16[_0x4ad3b7(0x14f)]),_0x4f059f={'number':_0x2e704c,'menuMessage':{'type':_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x5c0)]||'poll','text':_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x44e)]||_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x423)],'footerText':_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x117)],'buttonText':_0x1adc56['uazapi'][_0x4ad3b7(0x20c)],'selectableCount':0x1,'choices':_0x314b6c},'options':{'delay':_0x1adc56['uazapi'][_0x4ad3b7(0x5c6)]}};try{let _0x29aa12=await this[_0x4ad3b7(0x66a)](_0x4f059f);if(_0x29aa12){let _0x28c807={'_id':_0x29aa12[_0x4ad3b7(0x4d2)]['id'],'_fromMe':_0x29aa12[_0x4ad3b7(0x4d2)][_0x4ad3b7(0x2b5)],'_remoteJid':_0x29aa12[_0x4ad3b7(0x4d2)]['remoteJid']};_0x1adc56['uazapi'][_0x4ad3b7(0x55f)]===!0x0&&(_0x581e55['status']=_0x4ad3b7(0x5b7),this[_0x4ad3b7(0x5b4)][_0x4ad3b7(0x5ab)](this[_0x4ad3b7(0x424)]+'\x20('+this[_0x4ad3b7(0x4d4)][_0x4ad3b7(0x3b3)]+_0x4ad3b7(0x33a)+_0x581e55[_0x4ad3b7(0x26d)])),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4ad3b7(0x4d4)]['wuid']+_0x4ad3b7(0x548)+(_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x423)]||_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x44e)])),_0x581e55['waitingMenu_id']=_0x29aa12[_0x4ad3b7(0x4d2)]['id'],_0x581e55[_0x4ad3b7(0x2bb)]=_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x423)]||_0x1adc56['uazapi'][_0x4ad3b7(0x44e)],_0x581e55[_0x4ad3b7(0x236)]=_0x2ad05f,_0x1adc56['uazapi'][_0x4ad3b7(0x63d)]&&(_0x581e55['waitingMenu_ExpiredMessage']=_0x1adc56[_0x4ad3b7(0x6a5)][_0x4ad3b7(0x63d)]),this['logger'][_0x4ad3b7(0x5ab)](this[_0x4ad3b7(0x424)]+'\x20('+this[_0x4ad3b7(0x4d4)]['wuid']+_0x4ad3b7(0x377)+_0x581e55[_0x4ad3b7(0x2bb)]),_0x581e55[_0x4ad3b7(0x20f)][_0x4ad3b7(0x62a)]=_0x1adc56['_id']['toString']();let {message_normalized:_0x1fcade}=this[_0x4ad3b7(0x69b)](_0x29aa12[_0x4ad3b7(0x331)],_(_0x29aa12[_0x4ad3b7(0x331)]),null);_0x581e55['chatLog'][_0x4ad3b7(0x16f)]=await _0x1fcade;let _0x3a8e45={'messageId':_0x29aa12[_0x4ad3b7(0x4d2)]['id']},_0x50227e=_0x581e55[_0x4ad3b7(0x20f)][_0x4ad3b7(0x3ef)];Object[_0x4ad3b7(0x1cc)](_0x50227e,_0x28c807),_0x581e55[_0x4ad3b7(0x20f)][_0x4ad3b7(0x3ef)]=_0x50227e,this[_0x4ad3b7(0x15a)](_0x581e55,_0x1adc56,_0x3a8e45);}else{let _0x493331={'error':!0x0};this[_0x4ad3b7(0x15a)](_0x581e55,_0x1adc56,_0x493331),this['logger'][_0x4ad3b7(0x148)](this[_0x4ad3b7(0x424)]+'\x20('+this[_0x4ad3b7(0x4d4)][_0x4ad3b7(0x3b3)]+_0x4ad3b7(0x57a));}}catch(_0x3a65d3){let _0x30f592={'error':!0x0,'errorLog':_0x3a65d3 instanceof Error?_0x3a65d3[_0x4ad3b7(0x331)]:JSON['stringify'](_0x3a65d3,null,0x2)};this[_0x4ad3b7(0x15a)](_0x581e55,_0x1adc56,_0x30f592),this[_0x4ad3b7(0x5b4)][_0x4ad3b7(0x148)](this[_0x4ad3b7(0x424)]+'\x20('+this[_0x4ad3b7(0x4d4)][_0x4ad3b7(0x3b3)]+_0x4ad3b7(0x4bf)+(_0x3a65d3 instanceof Error?_0x3a65d3[_0x4ad3b7(0x331)]:JSON[_0x4ad3b7(0x62e)](_0x3a65d3,null,0x2)));}}async[a0_0x521bf9(0x416)](_0x374875,_0x50b843){const _0x4b798e=a0_0x521bf9;this[_0x4b798e(0x5b4)][_0x4b798e(0x5ab)](this[_0x4b798e(0x424)]+'\x20('+this[_0x4b798e(0x4d4)][_0x4b798e(0x3b3)]+_0x4b798e(0x70d));let _0x1c05aa=_0x374875[_0x4b798e(0x20f)]['blockLogs'][_0x4b798e(0x375)](_0x2d97f6=>_0x2d97f6[_0x4b798e(0x59c)][_0x4b798e(0x172)]()===_0x50b843[_0x4b798e(0x6a5)][_0x4b798e(0x59c)][_0x4b798e(0x172)]()),_0x3ed6a9={'id':_0x1c05aa[_0x4b798e(0x70c)],'remoteJid':_0x1c05aa[_0x4b798e(0x6cd)],'fromMe':_0x1c05aa[_0x4b798e(0x2b5)]};try{let _0x42f742=await this[_0x4b798e(0x593)](_0x3ed6a9);if(_0x42f742){_0x374875[_0x4b798e(0x20f)]['lastBlockId']=_0x50b843[_0x4b798e(0x6ad)][_0x4b798e(0x172)]();let {message_normalized:_0x225a5e}=this[_0x4b798e(0x69b)](_0x42f742[_0x4b798e(0x331)],_(_0x42f742[_0x4b798e(0x331)]),null);_0x374875['chatLog'][_0x4b798e(0x16f)]=await _0x225a5e;let _0x3b2b03={};this[_0x4b798e(0x15a)](_0x374875,_0x50b843,_0x3b2b03);}else{let _0x4c44a1={'error':!0x0};this[_0x4b798e(0x15a)](_0x374875,_0x50b843,_0x4c44a1),this[_0x4b798e(0x5b4)]['error'](this[_0x4b798e(0x424)]+'\x20('+this[_0x4b798e(0x4d4)][_0x4b798e(0x3b3)]+_0x4b798e(0x38e));}}catch(_0xe02564){let _0x28d356={'error':!0x0,'errorLog':_0xe02564 instanceof Error?_0xe02564['message']:JSON[_0x4b798e(0x62e)](_0xe02564,null,0x2)};this[_0x4b798e(0x15a)](_0x374875,_0x50b843,_0x28d356),this['logger'][_0x4b798e(0x148)](this[_0x4b798e(0x424)]+'\x20('+this[_0x4b798e(0x4d4)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0xe02564 instanceof Error?_0xe02564[_0x4b798e(0x331)]:JSON[_0x4b798e(0x62e)](_0xe02564,null,0x2)));}}async[a0_0x521bf9(0x55e)](_0x575f94){const _0x4aebb9=a0_0x521bf9;try{if(this[_0x4aebb9(0x5b4)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4aebb9(0x3b3)]+'):\x20Criando\x20fluxo...'),await this[_0x4aebb9(0x431)][_0x4aebb9(0x158)]['findOne']({'where':{'name':_0x575f94['name']}},this['instance'][_0x4aebb9(0x3b3)]))return{'message':_0x4aebb9(0x26b)};_0x575f94[_0x4aebb9(0x733)]===!0x0&&await this[_0x4aebb9(0x431)][_0x4aebb9(0x158)][_0x4aebb9(0x567)]({},{'default':!0x1},this[_0x4aebb9(0x4d4)][_0x4aebb9(0x3b3)]);let _0x2b4266=new ne[(_0x4aebb9(0x543))][(_0x4aebb9(0x65e))](),_0x392ed4={'_id':_0x2b4266,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x178300={'_id':new ne[(_0x4aebb9(0x543))]['ObjectId'](),'order':0x1,'groupId':_0x2b4266[_0x4aebb9(0x172)](),'type':_0x4aebb9(0x3af)},_0x1d6006={'_id':new ne['Types'][(_0x4aebb9(0x65e))](),'owner':this['instance'][_0x4aebb9(0x3b3)],'name':_0x575f94[_0x4aebb9(0x423)],'groups':[_0x392ed4],'blocks':[_0x178300],..._0x575f94};return _0x1d6006=await this[_0x4aebb9(0x431)][_0x4aebb9(0x158)][_0x4aebb9(0x2b0)](_0x1d6006,this[_0x4aebb9(0x4d4)][_0x4aebb9(0x3b3)]),_0x1d6006;}catch(_0x352fd7){throw this[_0x4aebb9(0x5b4)][_0x4aebb9(0x148)](this['instanceName']+'\x20('+this[_0x4aebb9(0x4d4)]['wuid']+_0x4aebb9(0x2c8)+(_0x352fd7 instanceof Error?_0x352fd7['message']:JSON[_0x4aebb9(0x62e)](_0x352fd7,null,0x2))),new m(_0x4aebb9(0x69d)+_0x352fd7);}}async[a0_0x521bf9(0x493)](_0x48cd15){const _0x2f7884=a0_0x521bf9;try{return this[_0x2f7884(0x5b4)][_0x2f7884(0x5ab)](this[_0x2f7884(0x424)]+'\x20('+this[_0x2f7884(0x4d4)][_0x2f7884(0x3b3)]+_0x2f7884(0x3ee)),await this[_0x2f7884(0x431)]['flow'][_0x2f7884(0x636)]({'where':{'name':_0x48cd15}},this[_0x2f7884(0x4d4)][_0x2f7884(0x3b3)]);}catch(_0x33a688){return this[_0x2f7884(0x5b4)]['error'](this[_0x2f7884(0x424)]+'\x20('+this[_0x2f7884(0x4d4)][_0x2f7884(0x3b3)]+_0x2f7884(0x25b)+(_0x33a688 instanceof Error?_0x33a688[_0x2f7884(0x331)]:JSON[_0x2f7884(0x62e)](_0x33a688,null,0x2))),{'message':_0x2f7884(0x55a)+_0x33a688};}}async[a0_0x521bf9(0x316)](_0x5c492c){const _0x45d5e6=a0_0x521bf9;try{this[_0x45d5e6(0x5b4)]['verbose'](this[_0x45d5e6(0x424)]+'\x20('+this[_0x45d5e6(0x4d4)][_0x45d5e6(0x3b3)]+'):\x20Buscando\x20flow...');let _0x49e1ee=await this['repository']['flow'][_0x45d5e6(0x1f2)]({'where':{'name':_0x5c492c}},this[_0x45d5e6(0x4d4)]['wuid']);if(!_0x49e1ee)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x45d5e6(0x392)]&&(await this[_0x45d5e6(0x556)](),!this[_0x45d5e6(0x392)]))return null;let _0x274f9f=this[_0x45d5e6(0x392)]?.[_0x45d5e6(0x599)]['map'](_0x53d232=>_0x53d232[_0x45d5e6(0x423)]),_0x48fbb3=[_0x45d5e6(0x4d1),_0x45d5e6(0x626),'email',_0x45d5e6(0x29d),_0x45d5e6(0x26d),_0x45d5e6(0x3f1),_0x45d5e6(0x47e),_0x45d5e6(0x1e8)];_0x49e1ee[_0x45d5e6(0x684)]=_0x49e1ee[_0x45d5e6(0x684)]['filter'](_0x1f9821=>!(_0x1f9821[_0x45d5e6(0x6d3)]===_0x45d5e6(0x4b6)||_0x1f9821[_0x45d5e6(0x4b6)])),_0x48fbb3[_0x45d5e6(0x592)](_0x2c419c=>{const _0x1a3a43=_0x45d5e6;_0x49e1ee[_0x1a3a43(0x684)][_0x1a3a43(0x330)]({'folder':_0x1a3a43(0x4b6),'name':_0x2c419c,'value':'','doc':'','leadInfo':!0x0});}),_0x274f9f[_0x45d5e6(0x592)](_0x5da502=>{const _0x139787=_0x45d5e6;let _0x2877e9=_0x49e1ee[_0x139787(0x684)][_0x139787(0x469)](_0x10d0a7=>_0x10d0a7[_0x139787(0x423)]===_0x5da502);_0x2877e9===-0x1?_0x49e1ee[_0x139787(0x684)][_0x139787(0x330)]({'folder':_0x139787(0x4b6),'name':_0x5da502,'value':'','doc':'','leadInfo':!0x0}):(_0x49e1ee[_0x139787(0x684)][_0x2877e9][_0x139787(0x6d3)]='leadInfo',_0x49e1ee[_0x139787(0x684)][_0x2877e9][_0x139787(0x4b6)]=!0x0);}),_0x49e1ee['blocks']&&_0x49e1ee[_0x45d5e6(0x552)][_0x45d5e6(0x4a0)]>0x0&&_0x49e1ee['blocks']['forEach'](_0x1d5451=>{const _0x42b691=_0x45d5e6;_0x1d5451[_0x42b691(0x292)]&&_0x1d5451[_0x42b691(0x1c2)]&&_0x1d5451[_0x42b691(0x292)]===_0x1d5451['next_groupId']&&(_0x1d5451['next_groupId']=null);});let _0x4e2cb7=await this[_0x45d5e6(0x431)][_0x45d5e6(0x158)][_0x45d5e6(0x56c)](_0x49e1ee[_0x45d5e6(0x6ad)],_0x49e1ee,this['instance'][_0x45d5e6(0x3b3)]);if(!_0x4e2cb7)throw new Error(_0x45d5e6(0x54e));return _0x4e2cb7;}catch(_0x9c37f9){throw this[_0x45d5e6(0x5b4)][_0x45d5e6(0x148)](this[_0x45d5e6(0x424)]+'\x20('+this[_0x45d5e6(0x4d4)][_0x45d5e6(0x3b3)]+_0x45d5e6(0x661)+(_0x9c37f9 instanceof Error?_0x9c37f9[_0x45d5e6(0x331)]:JSON['stringify'](_0x9c37f9,null,0x2))),new m(_0x45d5e6(0x38d)+_0x9c37f9);}}async['allFlows'](){const _0x52fe53=a0_0x521bf9;try{return this[_0x52fe53(0x5b4)]['verbose'](this[_0x52fe53(0x424)]+'\x20('+this[_0x52fe53(0x4d4)]['wuid']+_0x52fe53(0x5e8)),await this[_0x52fe53(0x431)][_0x52fe53(0x158)]['findAll']({'where':{}},this[_0x52fe53(0x4d4)][_0x52fe53(0x3b3)]);}catch(_0x4028c7){return this[_0x52fe53(0x5b4)][_0x52fe53(0x148)](this[_0x52fe53(0x424)]+'\x20('+this[_0x52fe53(0x4d4)][_0x52fe53(0x3b3)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x4028c7 instanceof Error?_0x4028c7['message']:JSON[_0x52fe53(0x62e)](_0x4028c7,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x4028c7};}}async[a0_0x521bf9(0x397)](_0x55ef99){const _0x35df0d=a0_0x521bf9;try{this[_0x35df0d(0x5b4)]['verbose'](this[_0x35df0d(0x424)]+'\x20('+this[_0x35df0d(0x4d4)][_0x35df0d(0x3b3)]+_0x35df0d(0x1fa));let _0x64eb56=await this[_0x35df0d(0x431)]['flow'][_0x35df0d(0x1f2)]({'where':{'name':_0x55ef99[_0x35df0d(0x423)]}},this[_0x35df0d(0x4d4)]['wuid']);return _0x64eb56?(_0x55ef99[_0x35df0d(0x733)]===!0x0&&await this[_0x35df0d(0x431)][_0x35df0d(0x158)]['updateMany']({},{'default':!0x1},this['instance'][_0x35df0d(0x3b3)]),await this[_0x35df0d(0x431)][_0x35df0d(0x158)]['updateOne'](_0x64eb56[_0x35df0d(0x6ad)],_0x55ef99,this[_0x35df0d(0x4d4)][_0x35df0d(0x3b3)])):{'message':_0x35df0d(0x69c)};}catch(_0x4fe7bc){throw this[_0x35df0d(0x5b4)][_0x35df0d(0x148)](this[_0x35df0d(0x424)]+'\x20('+this[_0x35df0d(0x4d4)]['wuid']+_0x35df0d(0x53b)+(_0x4fe7bc instanceof Error?_0x4fe7bc[_0x35df0d(0x331)]:JSON[_0x35df0d(0x62e)](_0x4fe7bc,null,0x2))),new m(_0x35df0d(0x3c2)+(_0x4fe7bc instanceof Error?_0x4fe7bc[_0x35df0d(0x331)]:JSON[_0x35df0d(0x62e)](_0x4fe7bc,null,0x2)));}}async['editFlowBlock'](_0x51b7c6){const _0x4cc0c2=a0_0x521bf9;try{this[_0x4cc0c2(0x5b4)][_0x4cc0c2(0x5ab)](this['instanceName']+'\x20('+this[_0x4cc0c2(0x4d4)][_0x4cc0c2(0x3b3)]+_0x4cc0c2(0x5a1));let _0x40023f=await this[_0x4cc0c2(0x431)][_0x4cc0c2(0x158)][_0x4cc0c2(0x1f2)]({'where':{'name':_0x51b7c6['name']}},this[_0x4cc0c2(0x4d4)][_0x4cc0c2(0x3b3)]);_0x40023f||this[_0x4cc0c2(0x10f)](_0x4cc0c2(0x5e0));let {block:_0x13c242}=_0x51b7c6;_0x13c242?.['copy']?this[_0x4cc0c2(0x354)](_0x40023f,_0x51b7c6):_0x13c242?.[_0x4cc0c2(0x327)]?this['deleteBlock'](_0x40023f,_0x51b7c6):_0x13c242[_0x4cc0c2(0x6ad)]?await this[_0x4cc0c2(0x2e9)](_0x40023f,_0x51b7c6):this[_0x4cc0c2(0x1a2)](_0x40023f,_0x51b7c6);let _0x1b2ae4=await this['repository']['flow'][_0x4cc0c2(0x56c)](_0x40023f[_0x4cc0c2(0x6ad)],_0x40023f,this[_0x4cc0c2(0x4d4)][_0x4cc0c2(0x3b3)]);if(!_0x1b2ae4)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1b2ae4;}catch(_0x6953b8){this[_0x4cc0c2(0x10f)](_0x4cc0c2(0x401)+_0x6953b8);}}async['copyBlock'](_0x1f9c57,_0x572e17){const _0x459e56=a0_0x521bf9;let _0x2c9b13=_0x572e17[_0x459e56(0x574)][_0x459e56(0x6ad)],_0x531164=_0x1f9c57['blocks'][_0x459e56(0x375)](_0x19c0f3=>_0x19c0f3[_0x459e56(0x6ad)][_0x459e56(0x172)]()===_0x2c9b13);if(!_0x531164){this[_0x459e56(0x5b4)]['error'](this[_0x459e56(0x424)]+'\x20('+this[_0x459e56(0x4d4)][_0x459e56(0x3b3)]+'):\x20Bloco\x20com\x20ID\x20'+_0x2c9b13+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x459e56(0x5b4)][_0x459e56(0x5ab)](this[_0x459e56(0x424)]+'\x20('+this[_0x459e56(0x4d4)][_0x459e56(0x3b3)]+_0x459e56(0x43f)+JSON[_0x459e56(0x62e)](_0x531164));let _0x736333=JSON[_0x459e56(0x564)](JSON[_0x459e56(0x62e)](_0x531164));_0x736333['_id']=new ne[(_0x459e56(0x733))][(_0x459e56(0x543))][(_0x459e56(0x65e))](),this[_0x459e56(0x5b4)]['verbose'](this[_0x459e56(0x424)]+'\x20('+this[_0x459e56(0x4d4)][_0x459e56(0x3b3)]+_0x459e56(0x181)+JSON[_0x459e56(0x62e)](_0x736333)),_0x1f9c57['blocks']['push'](_0x736333),this[_0x459e56(0x721)](_0x1f9c57[_0x459e56(0x552)],_0x736333[_0x459e56(0x292)]);}[a0_0x521bf9(0x10f)](_0x1206ba){const _0x3577fb=a0_0x521bf9;throw this[_0x3577fb(0x5b4)][_0x3577fb(0x148)](this['instanceName']+'\x20('+this[_0x3577fb(0x4d4)][_0x3577fb(0x3b3)]+'):\x20'+_0x1206ba),new m(_0x1206ba);}[a0_0x521bf9(0x341)](_0x3b8fcf,_0x3291ca){const _0x12dd9a=a0_0x521bf9;let {block:_0x91930f}=_0x3291ca;if(_0x91930f[_0x12dd9a(0x50c)]===_0x12dd9a(0x3af)){this['throwAndLogError'](_0x12dd9a(0x6d7));return;}if(!_0x91930f[_0x12dd9a(0x6ad)]){this[_0x12dd9a(0x10f)](_0x12dd9a(0x434));return;}let _0x1b67b1=_0x3b8fcf[_0x12dd9a(0x552)][_0x12dd9a(0x375)](_0x198614=>_0x198614[_0x12dd9a(0x6ad)]['toString']()===_0x3291ca[_0x12dd9a(0x574)][_0x12dd9a(0x6ad)][_0x12dd9a(0x172)]());if(!_0x1b67b1){this['throwAndLogError'](_0x12dd9a(0x1e5)+_0x91930f[_0x12dd9a(0x6ad)]+_0x12dd9a(0x41a));return;}_0x3b8fcf[_0x12dd9a(0x552)]=_0x3b8fcf[_0x12dd9a(0x552)][_0x12dd9a(0x125)](_0x45e205=>_0x45e205['_id'][_0x12dd9a(0x172)]()!==_0x3291ca[_0x12dd9a(0x574)][_0x12dd9a(0x6ad)][_0x12dd9a(0x172)]()),_0x3b8fcf[_0x12dd9a(0x523)]=_0x3b8fcf[_0x12dd9a(0x523)][_0x12dd9a(0x125)](_0x94c16a=>_0x94c16a[_0x12dd9a(0x59c)]!==_0x91930f[_0x12dd9a(0x6ad)][_0x12dd9a(0x172)]()),_0x3b8fcf[_0x12dd9a(0x380)]=_0x3b8fcf[_0x12dd9a(0x380)][_0x12dd9a(0x125)](_0x19084f=>_0x19084f['blockId']!==_0x91930f[_0x12dd9a(0x6ad)][_0x12dd9a(0x172)]()),_0x3b8fcf[_0x12dd9a(0x1f6)]=_0x3b8fcf['replyOptions'][_0x12dd9a(0x125)](_0x4efec8=>_0x4efec8[_0x12dd9a(0x59c)]!==_0x91930f[_0x12dd9a(0x6ad)]['toString']()),this[_0x12dd9a(0x721)](_0x3b8fcf[_0x12dd9a(0x552)],_0x1b67b1[_0x12dd9a(0x292)]);}async['updateBlock'](_0x360c00,_0x5acb63){const _0x1b72a5=a0_0x521bf9;let _0x265f2c=_0x360c00[_0x1b72a5(0x552)]['findIndex'](_0x3f151b=>_0x3f151b[_0x1b72a5(0x6ad)]['toString']()===_0x5acb63['block'][_0x1b72a5(0x6ad)]['toString']());if(this['logger']['verbose'](this[_0x1b72a5(0x424)]+'\x20('+this[_0x1b72a5(0x4d4)][_0x1b72a5(0x3b3)]+_0x1b72a5(0x2e8)+_0x265f2c),_0x265f2c===-0x1){this[_0x1b72a5(0x5b4)][_0x1b72a5(0x5ab)](_0x1b72a5(0x1e5)+_0x5acb63[_0x1b72a5(0x574)][_0x1b72a5(0x6ad)]+_0x1b72a5(0x41c));return;}if(_0x360c00[_0x1b72a5(0x552)][_0x265f2c]['type']===_0x1b72a5(0x3af)){let _0x13ce9=Object[_0x1b72a5(0x347)](_0x5acb63['block']);if(_0x13ce9['length']>0x2||_0x13ce9['length']===0x2&&!_0x13ce9[_0x1b72a5(0x71c)](_0x1b72a5(0x1c2))){this[_0x1b72a5(0x10f)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x2aca72=_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x292)];for(let _0x149d43 in _0x5acb63[_0x1b72a5(0x574)])_0x5acb63[_0x1b72a5(0x574)]['hasOwnProperty'](_0x149d43)&&(_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x149d43]=_0x5acb63[_0x1b72a5(0x574)][_0x149d43]);if(this[_0x1b72a5(0x5b4)][_0x1b72a5(0x5ab)](this[_0x1b72a5(0x424)]+'\x20('+this[_0x1b72a5(0x4d4)][_0x1b72a5(0x3b3)]+_0x1b72a5(0x32a)+JSON['stringify'](_0x360c00[_0x1b72a5(0x552)][_0x265f2c])),_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x4dc)]&&_0x1b72a5(0x56a)in _0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x4dc)]){this['logger'][_0x1b72a5(0x5ab)](this[_0x1b72a5(0x424)]+'\x20('+this[_0x1b72a5(0x4d4)][_0x1b72a5(0x3b3)]+_0x1b72a5(0x368));let _0x427964=JSON[_0x1b72a5(0x62e)](_0x360c00['blocks'][_0x265f2c][_0x1b72a5(0x4dc)][_0x1b72a5(0x56a)],null,0x1);_0x427964['length']>0x2&&(_0x427964=_0x427964[_0x1b72a5(0x3c1)](0x1,_0x427964[_0x1b72a5(0x4a0)]-0x1)[_0x1b72a5(0x51c)]()),_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x4dc)][_0x1b72a5(0x3ec)]=_0x427964;}if(_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x4dc)]&&'body'in _0x360c00['blocks'][_0x265f2c][_0x1b72a5(0x4dc)]){this[_0x1b72a5(0x5b4)][_0x1b72a5(0x5ab)](this[_0x1b72a5(0x424)]+'\x20('+this[_0x1b72a5(0x4d4)]['wuid']+_0x1b72a5(0x41b));let _0x3154e7=JSON[_0x1b72a5(0x62e)](_0x360c00['blocks'][_0x265f2c][_0x1b72a5(0x4dc)][_0x1b72a5(0x2c4)],null,0x1);_0x3154e7[_0x1b72a5(0x4a0)]>0x2&&(_0x3154e7=_0x3154e7[_0x1b72a5(0x3c1)](0x1,_0x3154e7['length']-0x1)['trim']()),_0x360c00['blocks'][_0x265f2c][_0x1b72a5(0x4dc)]['bodyString']=_0x3154e7;}let _0x1bd565=_0x360c00[_0x1b72a5(0x552)][_0x265f2c][_0x1b72a5(0x292)];_0x2aca72!==_0x1bd565?(this[_0x1b72a5(0x721)](_0x360c00[_0x1b72a5(0x552)],_0x2aca72),this['reorderBlocks'](_0x360c00[_0x1b72a5(0x552)],_0x1bd565)):this[_0x1b72a5(0x721)](_0x360c00['blocks'],_0x2aca72);}[a0_0x521bf9(0x1a2)](_0x10b454,_0x37c5e5){const _0x39adc4=a0_0x521bf9;if(_0x37c5e5[_0x39adc4(0x574)]['type']===_0x39adc4(0x3af)){this[_0x39adc4(0x10f)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x4dc)]&&_0x39adc4(0x56a)in _0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x4dc)]){this[_0x39adc4(0x5b4)][_0x39adc4(0x5ab)](this['instanceName']+'\x20('+this[_0x39adc4(0x4d4)][_0x39adc4(0x3b3)]+_0x39adc4(0x368));let _0x24bcba=JSON[_0x39adc4(0x62e)](_0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x4dc)][_0x39adc4(0x56a)],null,0x1);_0x24bcba[_0x39adc4(0x4a0)]>0x2&&(_0x24bcba=_0x24bcba[_0x39adc4(0x3c1)](0x1,_0x24bcba['length']-0x1)['trim']()),_0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x4dc)][_0x39adc4(0x3ec)]=_0x24bcba;}_0x37c5e5[_0x39adc4(0x574)]['apirequest']&&_0x39adc4(0x2c4)in _0x37c5e5[_0x39adc4(0x574)]['apirequest']&&(this['logger'][_0x39adc4(0x5ab)](this[_0x39adc4(0x424)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x37c5e5['block']['apirequest'][_0x39adc4(0x5eb)]=JSON[_0x39adc4(0x62e)](_0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x4dc)][_0x39adc4(0x2c4)],null,0x1)[_0x39adc4(0x51c)]()),_0x10b454['blocks'][_0x39adc4(0x330)](_0x37c5e5[_0x39adc4(0x574)]),this[_0x39adc4(0x721)](_0x10b454[_0x39adc4(0x552)],_0x37c5e5[_0x39adc4(0x574)][_0x39adc4(0x292)]);}[a0_0x521bf9(0x721)](_0x5db6c6,_0x2a1e9a){const _0x2beb5=a0_0x521bf9;let _0x157fe2=_0x5db6c6[_0x2beb5(0x125)](_0x132a9e=>_0x132a9e['groupId']===_0x2a1e9a);_0x157fe2['sort']((_0x180842,_0x48655d)=>_0x180842[_0x2beb5(0x35c)]-_0x48655d[_0x2beb5(0x35c)]),_0x157fe2[_0x2beb5(0x592)]((_0x29e17c,_0x139095)=>_0x29e17c['order']=_0x139095+0x1);}async['editFlowReply'](_0x2e28d6){const _0x56ad1c=a0_0x521bf9;try{if(this['logger']['verbose'](this[_0x56ad1c(0x424)]+'\x20('+this[_0x56ad1c(0x4d4)][_0x56ad1c(0x3b3)]+_0x56ad1c(0x58d)),!_0x2e28d6||!_0x2e28d6['replyOption']){this[_0x56ad1c(0x10f)]('Data\x20inválida\x20fornecida');return;}let _0xebaae0=await this[_0x56ad1c(0x431)][_0x56ad1c(0x158)][_0x56ad1c(0x1f2)]({'where':{'name':_0x2e28d6[_0x56ad1c(0x423)]}},this['instance'][_0x56ad1c(0x3b3)]);_0xebaae0||this[_0x56ad1c(0x10f)](_0x56ad1c(0x5e0));let {replyOption:_0xc1e3ca}=_0x2e28d6;_0xc1e3ca?.['delete']?(this[_0x56ad1c(0x6e4)](_0xebaae0,_0x2e28d6),this[_0x56ad1c(0x179)](_0xebaae0['replyOptions'],_0x2e28d6[_0x56ad1c(0x63e)][_0x56ad1c(0x59c)])):_0xc1e3ca[_0x56ad1c(0x6ad)]?(await this[_0x56ad1c(0x3d5)](_0xebaae0,_0x2e28d6),this[_0x56ad1c(0x179)](_0xebaae0[_0x56ad1c(0x1f6)],_0x2e28d6[_0x56ad1c(0x63e)][_0x56ad1c(0x59c)])):(this['addReplyOption'](_0xebaae0,_0x2e28d6),this[_0x56ad1c(0x179)](_0xebaae0[_0x56ad1c(0x1f6)],_0x2e28d6[_0x56ad1c(0x63e)][_0x56ad1c(0x59c)]));let _0x58c909=await this[_0x56ad1c(0x431)][_0x56ad1c(0x158)][_0x56ad1c(0x56c)](_0xebaae0[_0x56ad1c(0x6ad)],_0xebaae0,this['instance']['wuid']);if(!_0x58c909)throw new Error(_0x56ad1c(0x54e));return _0x58c909;}catch(_0x19df88){this[_0x56ad1c(0x10f)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x19df88);}}[a0_0x521bf9(0x179)](_0x482ad8,_0x34ee4a){const _0x25e779=a0_0x521bf9;console[_0x25e779(0x1a3)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x34ee4a),_0x482ad8[_0x25e779(0x592)](_0x4ede71=>{const _0x136fea=_0x25e779;_0x4ede71[_0x136fea(0x59c)]===_0x34ee4a&&_0x4ede71[_0x136fea(0x35c)]===void 0x0&&(_0x4ede71['order']=0x270f);});let _0x2112c2=_0x482ad8['filter'](_0x21e773=>_0x21e773[_0x25e779(0x59c)]===_0x34ee4a);_0x2112c2[_0x25e779(0x198)]((_0x11d953,_0x1f81a7)=>_0x11d953[_0x25e779(0x35c)]-_0x1f81a7[_0x25e779(0x35c)]),_0x2112c2['forEach']((_0x1b94b8,_0x1ad45d)=>{const _0x19f8bb=_0x25e779;_0x1b94b8[_0x19f8bb(0x35c)]=_0x1ad45d+0x1;}),_0x482ad8[_0x25e779(0x592)](_0x276e84=>{const _0x19ba78=_0x25e779;if(_0x276e84[_0x19ba78(0x59c)]===_0x34ee4a){let _0x4dae56=_0x2112c2[_0x19ba78(0x375)](_0x4acd8d=>_0x4acd8d[_0x19ba78(0x6ad)][_0x19ba78(0x172)]()===_0x276e84[_0x19ba78(0x6ad)][_0x19ba78(0x172)]());_0x4dae56&&(_0x276e84[_0x19ba78(0x35c)]=_0x4dae56[_0x19ba78(0x35c)]);}}),console['log'](_0x25e779(0x302),_0x482ad8);}[a0_0x521bf9(0x6e4)](_0xcab07,_0x44bf29){const _0x24059f=a0_0x521bf9;let {replyOption:_0x4844d2}=_0x44bf29;if(!_0x4844d2[_0x24059f(0x6ad)]){this[_0x24059f(0x10f)](_0x24059f(0x4ba));return;}if(!_0xcab07[_0x24059f(0x1f6)][_0x24059f(0x375)](_0x3e4032=>_0x3e4032[_0x24059f(0x6ad)][_0x24059f(0x172)]()===_0x44bf29[_0x24059f(0x63e)]['_id'][_0x24059f(0x172)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x4844d2[_0x24059f(0x6ad)]+'\x20não\x20encontrado');return;}_0xcab07[_0x24059f(0x1f6)]=_0xcab07[_0x24059f(0x1f6)]['filter'](_0x11dcbc=>_0x11dcbc['_id'][_0x24059f(0x172)]()!==_0x44bf29[_0x24059f(0x63e)][_0x24059f(0x6ad)][_0x24059f(0x172)]());}async[a0_0x521bf9(0x3d5)](_0x2e9406,_0x4337a9){const _0x3404ff=a0_0x521bf9;let _0x5dcd76=_0x2e9406[_0x3404ff(0x1f6)][_0x3404ff(0x469)](_0x3b7867=>_0x3b7867[_0x3404ff(0x6ad)][_0x3404ff(0x172)]()===_0x4337a9[_0x3404ff(0x63e)][_0x3404ff(0x6ad)][_0x3404ff(0x172)]());if(_0x5dcd76===-0x1){this[_0x3404ff(0x10f)](_0x3404ff(0x39f)+_0x4337a9[_0x3404ff(0x63e)][_0x3404ff(0x6ad)]+_0x3404ff(0x41c));return;}for(let _0x567ba4 in _0x4337a9[_0x3404ff(0x63e)])_0x4337a9[_0x3404ff(0x63e)][_0x3404ff(0x638)](_0x567ba4)&&(_0x2e9406[_0x3404ff(0x1f6)][_0x5dcd76][_0x567ba4]=_0x4337a9[_0x3404ff(0x63e)][_0x567ba4]);}[a0_0x521bf9(0x5ed)](_0x55cee3,_0x30c20d){const _0x359cf3=a0_0x521bf9;_0x55cee3[_0x359cf3(0x1f6)]['push'](_0x30c20d[_0x359cf3(0x63e)]);}async['editFlowGroup'](_0x365691){const _0x9fabff=a0_0x521bf9;this[_0x9fabff(0x5b4)]['verbose'](this[_0x9fabff(0x424)]+'\x20('+this[_0x9fabff(0x4d4)][_0x9fabff(0x3b3)]+_0x9fabff(0x6d8)+_0x365691);try{this[_0x9fabff(0x5b4)][_0x9fabff(0x5ab)](this['instanceName']+'\x20('+this[_0x9fabff(0x4d4)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x5c047e=await this['repository'][_0x9fabff(0x158)][_0x9fabff(0x1f2)]({'where':{'name':_0x365691[_0x9fabff(0x423)]}},this[_0x9fabff(0x4d4)][_0x9fabff(0x3b3)]);if(!_0x5c047e)throw new Error('Flow\x20não\x20encontrado');if(_0x365691[_0x9fabff(0x6bd)]&&_0x365691['group']?.[_0x9fabff(0x327)]===!0x0){if(this[_0x9fabff(0x5b4)][_0x9fabff(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x9fabff(0x3b3)]+_0x9fabff(0x24f)),_0x365691[_0x9fabff(0x6bd)]['default']===!0x0)return{'message':_0x9fabff(0x70a)};if(_0x5c047e['blocks'][_0x9fabff(0x399)](_0x58ae74=>_0x58ae74['groupId']['toString']()===_0x365691[_0x9fabff(0x6bd)][_0x9fabff(0x6ad)]))return this[_0x9fabff(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x9fabff(0x4d4)][_0x9fabff(0x3b3)]+_0x9fabff(0x3a2)),{'message':_0x9fabff(0x73e)};_0x5c047e['groups']=_0x5c047e[_0x9fabff(0x461)][_0x9fabff(0x125)](_0x282876=>_0x282876[_0x9fabff(0x6ad)][_0x9fabff(0x172)]()!==_0x365691[_0x9fabff(0x6bd)][_0x9fabff(0x6ad)]);}else{if(_0x365691[_0x9fabff(0x6bd)]){if(_0x365691[_0x9fabff(0x6bd)][_0x9fabff(0x733)]===!0x0)return{'message':_0x9fabff(0x4f3)};if(_0x365691[_0x9fabff(0x6bd)][_0x9fabff(0x6ad)]){let _0x1bf7ff=_0x5c047e[_0x9fabff(0x461)][_0x9fabff(0x375)](_0x4f788d=>_0x4f788d[_0x9fabff(0x6ad)][_0x9fabff(0x172)]()===_0x365691[_0x9fabff(0x6bd)][_0x9fabff(0x6ad)]);_0x1bf7ff&&(_0x365691[_0x9fabff(0x6bd)]['x']<0x0&&(_0x365691[_0x9fabff(0x6bd)]['x']=0x0),_0x365691['group']['y']<0x0&&(_0x365691[_0x9fabff(0x6bd)]['y']=0x0),Object['assign'](_0x1bf7ff,_0x365691[_0x9fabff(0x6bd)]));}else _0x5c047e['groups'][_0x9fabff(0x330)](_0x365691[_0x9fabff(0x6bd)]);}}let _0x4e2bf3=await this['repository'][_0x9fabff(0x158)][_0x9fabff(0x56c)](_0x5c047e[_0x9fabff(0x6ad)],_0x5c047e,this[_0x9fabff(0x4d4)]['wuid']);if(!_0x4e2bf3)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4e2bf3;}catch(_0x634c8a){throw this[_0x9fabff(0x5b4)]['error'](this['instanceName']+'\x20('+this['instance'][_0x9fabff(0x3b3)]+_0x9fabff(0x4c1)+(_0x634c8a instanceof Error?_0x634c8a[_0x9fabff(0x331)]:JSON[_0x9fabff(0x62e)](_0x634c8a,null,0x2))),new m(_0x9fabff(0x4e2)+(_0x634c8a instanceof Error?_0x634c8a[_0x9fabff(0x331)]:JSON['stringify'](_0x634c8a,null,0x2)));}}async[a0_0x521bf9(0x19e)](_0x304b9f){const _0x2e909e=a0_0x521bf9;try{this[_0x2e909e(0x5b4)][_0x2e909e(0x5ab)](this[_0x2e909e(0x424)]+'\x20('+this[_0x2e909e(0x4d4)][_0x2e909e(0x3b3)]+_0x2e909e(0x663));let _0x2c2eb7=await this[_0x2e909e(0x431)][_0x2e909e(0x158)]['findOne']({'where':{'name':_0x304b9f[_0x2e909e(0x423)]}},this['instance'][_0x2e909e(0x3b3)]);if(!_0x2c2eb7)throw new Error(_0x2e909e(0x5e0));let _0x11a605=!0x1;if(_0x304b9f['condition']?.['delete']===!0x0)_0x2c2eb7[_0x2e909e(0x523)]=_0x2c2eb7['conditions'][_0x2e909e(0x125)](_0x5235a6=>_0x5235a6&&_0x304b9f['condition']&&_0x5235a6['_id']&&_0x304b9f['condition'][_0x2e909e(0x6ad)]&&_0x5235a6[_0x2e909e(0x6ad)]['toString']()!==_0x304b9f[_0x2e909e(0x187)][_0x2e909e(0x6ad)][_0x2e909e(0x172)]()),_0x11a605=!0x0;else{let _0x6d8dea=_0x2c2eb7[_0x2e909e(0x523)][_0x2e909e(0x375)](_0x1d84e7=>_0x1d84e7&&_0x304b9f[_0x2e909e(0x187)]&&_0x1d84e7[_0x2e909e(0x6ad)]&&_0x304b9f[_0x2e909e(0x187)]['_id']&&_0x1d84e7[_0x2e909e(0x6ad)][_0x2e909e(0x172)]()===_0x304b9f[_0x2e909e(0x187)]['_id'][_0x2e909e(0x172)]());_0x6d8dea?(_0x11a605=_0x6d8dea[_0x2e909e(0x35c)]!==_0x304b9f[_0x2e909e(0x187)][_0x2e909e(0x35c)],Object[_0x2e909e(0x1cc)](_0x6d8dea,_0x304b9f[_0x2e909e(0x187)])):(_0x2c2eb7['conditions'][_0x2e909e(0x330)](_0x304b9f['condition']),_0x11a605=!0x0);}if(_0x11a605){_0x2c2eb7[_0x2e909e(0x523)]['sort']((_0x53f3de,_0x48b5a5)=>_0x53f3de['order']>_0x48b5a5['order']?0x1:_0x48b5a5[_0x2e909e(0x35c)]>_0x53f3de[_0x2e909e(0x35c)]?-0x1:0x0);for(let _0x15362d=0x0;_0x15362d<_0x2c2eb7[_0x2e909e(0x523)][_0x2e909e(0x4a0)];_0x15362d++)_0x2c2eb7[_0x2e909e(0x523)][_0x15362d][_0x2e909e(0x35c)]=_0x15362d+0x1;_0x2c2eb7[_0x2e909e(0x523)]['length']>0x0&&(_0x2c2eb7[_0x2e909e(0x523)][0x0]['OrAnd']='and');}let _0x34dde8=await this['repository']['flow'][_0x2e909e(0x56c)](_0x2c2eb7[_0x2e909e(0x6ad)],_0x2c2eb7,this[_0x2e909e(0x4d4)][_0x2e909e(0x3b3)]);if(!_0x34dde8)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x34dde8;}catch(_0x30af91){throw this['logger']['error'](this[_0x2e909e(0x424)]+'\x20('+this[_0x2e909e(0x4d4)][_0x2e909e(0x3b3)]+_0x2e909e(0x336)+(_0x30af91 instanceof Error?_0x30af91[_0x2e909e(0x331)]:JSON['stringify'](_0x30af91,null,0x2))),new Error(_0x2e909e(0x3a8)+(_0x30af91 instanceof Error?_0x30af91[_0x2e909e(0x331)]:JSON[_0x2e909e(0x62e)](_0x30af91,null,0x2)));}}async[a0_0x521bf9(0x268)](_0x5851f9){const _0x52c965=a0_0x521bf9;try{this[_0x52c965(0x5b4)]['verbose'](this[_0x52c965(0x424)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x6c4c50=await this[_0x52c965(0x431)][_0x52c965(0x158)][_0x52c965(0x1f2)]({'where':{'name':_0x5851f9[_0x52c965(0x423)]}},this['instance']['wuid']);if(!_0x6c4c50)throw new Error('Flow\x20não\x20encontrado');let _0x4c91c6=!0x1;if(_0x5851f9[_0x52c965(0x4b1)]?.[_0x52c965(0x327)]===!0x0)_0x6c4c50[_0x52c965(0x380)]=_0x6c4c50[_0x52c965(0x380)][_0x52c965(0x125)](_0x2391f2=>_0x2391f2&&_0x5851f9[_0x52c965(0x4b1)]&&_0x2391f2['_id']&&_0x5851f9['varedit'][_0x52c965(0x6ad)]&&_0x2391f2[_0x52c965(0x6ad)][_0x52c965(0x172)]()!==_0x5851f9[_0x52c965(0x4b1)][_0x52c965(0x6ad)][_0x52c965(0x172)]()),_0x4c91c6=!0x0;else{let _0x1c3e01=_0x6c4c50['varedits'][_0x52c965(0x375)](_0x2a3892=>_0x2a3892&&_0x5851f9['varedit']&&_0x2a3892[_0x52c965(0x6ad)]&&_0x5851f9['varedit'][_0x52c965(0x6ad)]&&_0x2a3892[_0x52c965(0x6ad)]['toString']()===_0x5851f9[_0x52c965(0x4b1)][_0x52c965(0x6ad)][_0x52c965(0x172)]());_0x1c3e01?(_0x4c91c6=_0x1c3e01[_0x52c965(0x35c)]!==_0x5851f9[_0x52c965(0x4b1)][_0x52c965(0x35c)],Object[_0x52c965(0x1cc)](_0x1c3e01,_0x5851f9[_0x52c965(0x4b1)])):(_0x6c4c50[_0x52c965(0x380)][_0x52c965(0x330)](_0x5851f9[_0x52c965(0x4b1)]),_0x4c91c6=!0x0);}if(_0x4c91c6){_0x6c4c50[_0x52c965(0x380)][_0x52c965(0x198)]((_0x4c1a79,_0x52a3dd)=>_0x4c1a79[_0x52c965(0x35c)]>_0x52a3dd['order']?0x1:_0x52a3dd[_0x52c965(0x35c)]>_0x4c1a79['order']?-0x1:0x0);for(let _0x459034=0x0;_0x459034<_0x6c4c50['varedits'][_0x52c965(0x4a0)];_0x459034++)_0x6c4c50[_0x52c965(0x380)][_0x459034][_0x52c965(0x35c)]=_0x459034+0x1;}let _0x464784=await this['repository'][_0x52c965(0x158)][_0x52c965(0x56c)](_0x6c4c50[_0x52c965(0x6ad)],_0x6c4c50,this[_0x52c965(0x4d4)][_0x52c965(0x3b3)]);if(!_0x464784)throw new Error(_0x52c965(0x54e));return _0x464784;}catch(_0x5a1ba5){throw this[_0x52c965(0x5b4)]['error'](this[_0x52c965(0x424)]+'\x20('+this[_0x52c965(0x4d4)][_0x52c965(0x3b3)]+_0x52c965(0x336)+(_0x5a1ba5 instanceof Error?_0x5a1ba5[_0x52c965(0x331)]:JSON['stringify'](_0x5a1ba5,null,0x2))),new m(_0x52c965(0x3a8)+(_0x5a1ba5 instanceof Error?_0x5a1ba5[_0x52c965(0x331)]:JSON[_0x52c965(0x62e)](_0x5a1ba5,null,0x2)));}}async['editFlowVariable'](_0x50633a){const _0x603738=a0_0x521bf9;try{this['logger'][_0x603738(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x603738(0x306));let _0x556e6b=await this[_0x603738(0x431)][_0x603738(0x158)][_0x603738(0x1f2)]({'where':{'name':_0x50633a[_0x603738(0x423)]}},this[_0x603738(0x4d4)][_0x603738(0x3b3)]);if(!_0x556e6b)throw new Error('Flow\x20não\x20encontrado');_0x50633a[_0x603738(0x526)][_0x603738(0x423)]=_0x50633a[_0x603738(0x526)][_0x603738(0x423)][_0x603738(0x51c)](),_0x50633a['variable']['name'][_0x603738(0x54b)]('_')&&(_0x50633a[_0x603738(0x526)][_0x603738(0x423)]=_0x50633a[_0x603738(0x526)][_0x603738(0x423)][_0x603738(0x3c1)](0x1)),_0x50633a['variable']['name']=_0x50633a[_0x603738(0x526)][_0x603738(0x423)][_0x603738(0x51c)]();let _0x1e9135=_0x556e6b[_0x603738(0x684)][_0x603738(0x375)](_0x16654d=>_0x16654d[_0x603738(0x423)]===_0x50633a[_0x603738(0x526)][_0x603738(0x423)]);if(_0x1e9135?.['leadInfo']===!0x0)throw new Error(_0x603738(0x659));if(_0x50633a[_0x603738(0x526)]?.[_0x603738(0x327)]===!0x0){if(!_0x1e9135)return{'message':_0x603738(0x14b)};_0x556e6b[_0x603738(0x684)]=_0x556e6b['variables']['filter'](_0x2ae9e3=>_0x2ae9e3[_0x603738(0x423)]!==_0x50633a[_0x603738(0x526)][_0x603738(0x423)]);}else _0x1e9135?Object[_0x603738(0x1cc)](_0x1e9135,_0x50633a[_0x603738(0x526)]):_0x556e6b[_0x603738(0x684)][_0x603738(0x330)](_0x50633a[_0x603738(0x526)]);let _0xc16ba1=await this[_0x603738(0x431)][_0x603738(0x158)][_0x603738(0x56c)](_0x556e6b[_0x603738(0x6ad)],_0x556e6b,this[_0x603738(0x4d4)][_0x603738(0x3b3)]);if(!_0xc16ba1)throw new Error(_0x603738(0x54e));return _0xc16ba1;}catch(_0x1704e1){throw this[_0x603738(0x5b4)][_0x603738(0x148)](this['instanceName']+'\x20('+this[_0x603738(0x4d4)][_0x603738(0x3b3)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x1704e1 instanceof Error?_0x1704e1[_0x603738(0x331)]:JSON[_0x603738(0x62e)](_0x1704e1,null,0x2))),new m(_0x603738(0x362)+(_0x1704e1 instanceof Error?_0x1704e1[_0x603738(0x331)]:JSON['stringify'](_0x1704e1,null,0x2)));}}async[a0_0x521bf9(0x31c)](_0xd63987){const _0x2a4cb9=a0_0x521bf9;let _0x44e905=null;try{if(!this['AutomateSystem']?.[_0x2a4cb9(0x3ad)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x2a4cb9(0x5ab)](this[_0x2a4cb9(0x424)]+'\x20('+this[_0x2a4cb9(0x4d4)][_0x2a4cb9(0x3b3)]+_0x2a4cb9(0x44c));let _0x5f0155=(await this[_0x2a4cb9(0x3dc)]({'numbers':[_0xd63987[_0x2a4cb9(0x6cd)]]}))[0x0];if(!_0x5f0155[_0x2a4cb9(0x4db)]&&!(0x0,y[_0x2a4cb9(0x66d)])(_0x5f0155['jid'])&&!_0x5f0155[_0x2a4cb9(0x477)]['includes'](_0x2a4cb9(0x186)))throw _0x44e905=JSON[_0x2a4cb9(0x62e)](_0x5f0155,null,0x2),new m(_0x5f0155);let _0x3ba7c6=await this['repository']['flow'][_0x2a4cb9(0x1f2)]({'where':{'name':_0xd63987[_0x2a4cb9(0x423)]}},this['instance'][_0x2a4cb9(0x3b3)]);if(!_0x3ba7c6)return this['logger'][_0x2a4cb9(0x148)](this['instanceName']+'\x20('+this['instance'][_0x2a4cb9(0x3b3)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x2a4cb9(0x5e0)};let _0x4ac441=await this[_0x2a4cb9(0x5ad)](_0x3ba7c6,_0x5f0155[_0x2a4cb9(0x477)],_0xd63987[_0x2a4cb9(0x18b)]);if(_0x4ac441){this[_0x2a4cb9(0x5b4)][_0x2a4cb9(0x5ab)](this[_0x2a4cb9(0x424)]+'\x20('+this[_0x2a4cb9(0x4d4)]['wuid']+_0x2a4cb9(0x5d7));let _0x570190=await this[_0x2a4cb9(0x3ca)](_0x4ac441);return _0x570190&&await this[_0x2a4cb9(0x6d4)](_0x4ac441,_0x570190),{'message':'Flow\x20iniciado\x20com\x20'+_0xd63987[_0x2a4cb9(0x6cd)]};}}catch(_0x3d95de){if(this[_0x2a4cb9(0x5b4)]['error'](this['instanceName']+'\x20('+this[_0x2a4cb9(0x4d4)][_0x2a4cb9(0x3b3)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x3d95de instanceof Error?_0x3d95de[_0x2a4cb9(0x331)]:JSON[_0x2a4cb9(0x62e)](_0x3d95de,null,0x2))),_0x44e905=_0x3d95de instanceof Error?_0x3d95de[_0x2a4cb9(0x331)]:JSON[_0x2a4cb9(0x62e)](_0x3d95de,null,0x2),_0x44e905)throw new m(_0x2a4cb9(0x545)+_0x44e905);}}async[a0_0x521bf9(0x5b5)](_0x175927){const _0x5476cd=a0_0x521bf9;try{let _0x4b887d={'remoteJid':_0x175927,'status':'open'},_0x117352={'status':_0x5476cd(0x345)},_0x331cf8=await this[_0x5476cd(0x431)][_0x5476cd(0x727)]['updateMany'](_0x4b887d,_0x117352,this[_0x5476cd(0x4d4)][_0x5476cd(0x3b3)]);return this['logger'][_0x5476cd(0x5ab)](this['instanceName']+'\x20('+this[_0x5476cd(0x4d4)][_0x5476cd(0x3b3)]+_0x5476cd(0x6e8)),_0x331cf8;}catch(_0x387e83){throw this[_0x5476cd(0x5b4)][_0x5476cd(0x148)](this[_0x5476cd(0x424)]+'\x20('+this[_0x5476cd(0x4d4)]['wuid']+_0x5476cd(0x5e1)+_0x387e83['message']),_0x387e83;}}async[a0_0x521bf9(0x5ad)](_0x2add7c,_0x585dd4,_0x5d6233){const _0x24eef5=a0_0x521bf9;this[_0x24eef5(0x5b4)][_0x24eef5(0x5ab)](this[_0x24eef5(0x424)]+'\x20('+this['instance'][_0x24eef5(0x3b3)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x24eef5(0x5b5)](_0x585dd4);try{let _0x11aa36=require(_0x24eef5(0x2cc))[_0x24eef5(0x65e)],_0x5c81ca=Date[_0x24eef5(0x15d)](),_0x1eb66a=_0x24eef5(0x3af),_0x3ff003={},_0x4f17b2={},_0x2fc353={..._0x2add7c,'chatLog':null},_0x3119de=await this[_0x24eef5(0x33e)](_0x2fc353[_0x24eef5(0x684)]),_0x2b87b1=await this[_0x24eef5(0x143)](_0x585dd4),_0x3f911e={..._0x3119de,..._0x2b87b1,'_remoteJid':_0x585dd4},_0x257e5a={'lastReceivedMessage':_0x3ff003,'lastSendMessage':_0x4f17b2,'lastBlockId':_0x1eb66a,'lastCondition':!0x0,'realVariables':_0x3f911e};_0x2fc353[_0x24eef5(0x20f)]=_0x257e5a,_0x2fc353['chatLog'][_0x24eef5(0x3ef)]={..._0x3f911e,..._0x5d6233},delete _0x2fc353[_0x24eef5(0x6ad)],_0x2fc353[_0x24eef5(0x6ad)]=new _0x11aa36(),_0x2fc353[_0x24eef5(0x6f1)]=_0x5c81ca,_0x2fc353[_0x24eef5(0x26d)]='open',_0x2fc353['remoteJid']=_0x585dd4;let _0xefdcee=await this['repository']['flowConversation']['updateOne'](_0x2fc353[_0x24eef5(0x6ad)],_0x2fc353,this['instance'][_0x24eef5(0x3b3)]);return this[_0x24eef5(0x5b4)][_0x24eef5(0x5ab)](this[_0x24eef5(0x424)]+'\x20('+this[_0x24eef5(0x4d4)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xefdcee?_0x2fc353:null;}catch(_0x5a9a91){throw this[_0x24eef5(0x5b4)][_0x24eef5(0x148)](this[_0x24eef5(0x424)]+'\x20('+this[_0x24eef5(0x4d4)]['wuid']+_0x24eef5(0x3a3)+(_0x5a9a91 instanceof Error?_0x5a9a91['message']:JSON[_0x24eef5(0x62e)](_0x5a9a91,null,0x2))),new m(_0x5a9a91[_0x24eef5(0x331)]);}}async[a0_0x521bf9(0x1fd)](_0x3f48b4){const _0x2d30c2=a0_0x521bf9;try{this[_0x2d30c2(0x5b4)][_0x2d30c2(0x5ab)](this[_0x2d30c2(0x424)]+'\x20('+this[_0x2d30c2(0x4d4)][_0x2d30c2(0x3b3)]+_0x2d30c2(0x6ab)),this[_0x2d30c2(0x5b4)][_0x2d30c2(0x5ab)](this[_0x2d30c2(0x424)]+'\x20('+this[_0x2d30c2(0x4d4)]['wuid']+_0x2d30c2(0x11e)+_0x3f48b4);let _0x366563={'where':{'_id':_0x3f48b4}};return await this[_0x2d30c2(0x431)][_0x2d30c2(0x727)][_0x2d30c2(0x1f2)](_0x366563,this['instance'][_0x2d30c2(0x3b3)]);}catch(_0x5cb1fa){throw this[_0x2d30c2(0x5b4)][_0x2d30c2(0x148)](this[_0x2d30c2(0x424)]+'\x20('+this[_0x2d30c2(0x4d4)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x5cb1fa instanceof Error?_0x5cb1fa[_0x2d30c2(0x331)]:JSON[_0x2d30c2(0x62e)](_0x5cb1fa,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x5cb1fa[_0x2d30c2(0x331)]);}}async['fetchConversation'](_0x5ce986){const _0xe3c530=a0_0x521bf9;try{return this[_0xe3c530(0x5b4)][_0xe3c530(0x5ab)](this['instanceName']+'\x20('+this[_0xe3c530(0x4d4)][_0xe3c530(0x3b3)]+_0xe3c530(0x4be)),await this['repository']['flowConversation'][_0xe3c530(0x375)](_0x5ce986,this['instance'][_0xe3c530(0x3b3)]);}catch(_0x2e2b96){throw this[_0xe3c530(0x5b4)][_0xe3c530(0x148)](this['instanceName']+'\x20('+this[_0xe3c530(0x4d4)][_0xe3c530(0x3b3)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x2e2b96 instanceof Error?_0x2e2b96[_0xe3c530(0x331)]:JSON['stringify'](_0x2e2b96,null,0x2))),new m(_0xe3c530(0x1ed)+_0x2e2b96['message']);}}async[a0_0x521bf9(0x45a)](_0x558a2f){const _0x227637=a0_0x521bf9;try{return this['logger']['verbose'](this[_0x227637(0x424)]+'\x20('+this[_0x227637(0x4d4)][_0x227637(0x3b3)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x227637(0x5ab)](this[_0x227637(0x424)]+'\x20('+this['instance'][_0x227637(0x3b3)]+_0x227637(0x147)+_0x558a2f),(await this['repository'][_0x227637(0x727)][_0x227637(0x636)]({'where':{'_id':_0x558a2f}},this[_0x227637(0x4d4)]['wuid']))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x1da92c){throw this[_0x227637(0x5b4)][_0x227637(0x148)](this[_0x227637(0x424)]+'\x20('+this[_0x227637(0x4d4)][_0x227637(0x3b3)]+_0x227637(0x42d)+(_0x1da92c instanceof Error?_0x1da92c[_0x227637(0x331)]:JSON['stringify'](_0x1da92c,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x1da92c[_0x227637(0x331)]);}}async[a0_0x521bf9(0x671)](_0xe80d24){const _0x1cc984=a0_0x521bf9;try{let {_id:_0x32c726,chatLog:_0x13ec1f,status:_0x530e74}=_0xe80d24;if(!_0x32c726)return{'message':_0x1cc984(0x6ca)};let _0x42d8e={};if(_0x530e74!==void 0x0&&(_0x42d8e[_0x1cc984(0x26d)]=_0x530e74),Object[_0x1cc984(0x347)](_0x42d8e)[_0x1cc984(0x4a0)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3c8a2c=await this['repository'][_0x1cc984(0x727)]['updateOne'](_0x32c726,_0x42d8e,this[_0x1cc984(0x4d4)][_0x1cc984(0x3b3)]);return _0x3c8a2c||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x185e8e){throw this[_0x1cc984(0x5b4)][_0x1cc984(0x148)](this[_0x1cc984(0x424)]+'\x20('+this[_0x1cc984(0x4d4)][_0x1cc984(0x3b3)]+_0x1cc984(0x3e3)+(_0x185e8e instanceof Error?_0x185e8e[_0x1cc984(0x331)]:JSON['stringify'](_0x185e8e,null,0x2))),new m(_0x1cc984(0x596)+_0x185e8e[_0x1cc984(0x331)]);}}async[a0_0x521bf9(0x738)](_0x3ae9eb){const _0x2d54d2=a0_0x521bf9;try{_0x3ae9eb[_0x2d54d2(0x6ad)]=this[_0x2d54d2(0x60c)](_0x3ae9eb[_0x2d54d2(0x6ad)]);let {_id:_0x5d7d2a,leadInfo:_0x150da1}=_0x3ae9eb;if(!_0x5d7d2a)throw new Error(_0x2d54d2(0x4a3));let _0x492acb=(_0x4a1ee2,_0x434e1a,_0x5bf893)=>{const _0x56f76c=_0x2d54d2;_0x5bf893[_0x56f76c(0x592)](_0x8ea252=>{const _0x17953f=_0x56f76c;_0x4a1ee2[_0x8ea252]!==void 0x0&&(_0x434e1a[_0x17953f(0x145)+_0x8ea252]=_0x4a1ee2[_0x8ea252]);});},_0x324ac0={};if(_0x492acb(_0x150da1,_0x324ac0,['nome',_0x2d54d2(0x626),_0x2d54d2(0x238),_0x2d54d2(0x29d),_0x2d54d2(0x26d),_0x2d54d2(0x3f1),_0x2d54d2(0x1e8),_0x2d54d2(0x693),_0x2d54d2(0x47e)]),Array['isArray'](_0x150da1[_0x2d54d2(0x599)])&&(_0x324ac0[_0x2d54d2(0x58b)]=_0x150da1[_0x2d54d2(0x599)][_0x2d54d2(0x648)](_0x195d14=>({'_id':_0x195d14[_0x2d54d2(0x6ad)],'value':_0x195d14[_0x2d54d2(0x3f3)]}))),_0x3ae9eb[_0x2d54d2(0x4b6)]['desativadoFluxoAte']!==void 0x0&&(_0x324ac0[_0x2d54d2(0x6c7)]=Number(_0x3ae9eb[_0x2d54d2(0x4b6)][_0x2d54d2(0x2a7)])),_0x3ae9eb[_0x2d54d2(0x351)]!==void 0x0&&(_0x324ac0[_0x2d54d2(0x351)]=Number(_0x3ae9eb[_0x2d54d2(0x351)])),Object['keys'](_0x324ac0)['length']===0x0)throw new Error(_0x2d54d2(0x300));let _0x4d21fc=await this[_0x2d54d2(0x431)]['chat'][_0x2d54d2(0x1f2)]({'where':{'_id':_0x3ae9eb['_id']}},this[_0x2d54d2(0x4d4)][_0x2d54d2(0x3b3)]);if(!_0x4d21fc){let _0x1810d8=(await this[_0x2d54d2(0x3dc)]({'numbers':[_0x3ae9eb['_id']]}))[0x0];if(!_0x1810d8[_0x2d54d2(0x4db)]&&!(0x0,y[_0x2d54d2(0x66d)])(_0x1810d8[_0x2d54d2(0x477)])&&!_0x1810d8[_0x2d54d2(0x477)][_0x2d54d2(0x71c)]('@broadcast'))throw new m(_0x1810d8);_0x3ae9eb[_0x2d54d2(0x6ad)]=_0x1810d8[_0x2d54d2(0x477)];}if(_0x3ae9eb[_0x2d54d2(0x4c9)]!==void 0x0){let _0xa05e7d=await this[_0x2d54d2(0x431)]['label'][_0x2d54d2(0x375)]({'where':{}},this[_0x2d54d2(0x4d4)][_0x2d54d2(0x3b3)]),_0x43d36f=new Set(_0x4d21fc[_0x2d54d2(0x4c9)]||[]),_0x1956c4=new Set(_0x3ae9eb[_0x2d54d2(0x4c9)]),_0x3982aa=new Set(_0xa05e7d['map'](_0x1392c3=>_0x1392c3[_0x2d54d2(0x6ad)])),_0x16d8a9=[..._0x1956c4][_0x2d54d2(0x125)](_0x21c521=>!_0x43d36f['has'](_0x21c521)&&_0x3982aa[_0x2d54d2(0x479)](_0x21c521)),_0x1d4b80=[..._0x43d36f][_0x2d54d2(0x125)](_0x43653c=>!_0x1956c4[_0x2d54d2(0x479)](_0x43653c));for(let _0x49b060 of _0x16d8a9)await this[_0x2d54d2(0x660)](_0x49b060,_0x3ae9eb[_0x2d54d2(0x6ad)]),_0x43d36f[_0x2d54d2(0x669)](_0x49b060);for(let _0x57d6e2 of _0x1d4b80)await this[_0x2d54d2(0x20d)](_0x57d6e2,_0x3ae9eb[_0x2d54d2(0x6ad)]),_0x43d36f[_0x2d54d2(0x327)](_0x57d6e2);_0x324ac0[_0x2d54d2(0x4c9)]=[..._0x43d36f];}let _0x515a1e=await this['repository'][_0x2d54d2(0x5d6)][_0x2d54d2(0x56c)]({'where':{'_id':_0x3ae9eb[_0x2d54d2(0x6ad)]}},_0x324ac0,this[_0x2d54d2(0x4d4)]['wuid']);return _0x515a1e&&q(this[_0x2d54d2(0x424)],_0x2d54d2(0x1b4),{'chat':_0x515a1e}),_0x515a1e?(this[_0x2d54d2(0x5b4)][_0x2d54d2(0x5ab)](this['instanceName']+'\x20('+this[_0x2d54d2(0x4d4)]['wuid']+_0x2d54d2(0x6d1)+JSON[_0x2d54d2(0x62e)](_0x515a1e,null,0x2)),_0x515a1e):{'message':_0x2d54d2(0x6ef)};}catch(_0x5052eb){throw this[_0x2d54d2(0x5b4)][_0x2d54d2(0x148)](this[_0x2d54d2(0x424)]+'\x20('+this[_0x2d54d2(0x4d4)][_0x2d54d2(0x3b3)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x5052eb instanceof Error?_0x5052eb[_0x2d54d2(0x331)]:JSON[_0x2d54d2(0x62e)](_0x5052eb,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x5052eb[_0x2d54d2(0x331)]);}}async[a0_0x521bf9(0x660)](_0x4d7ecc,_0x5a480){const _0x2550d7=a0_0x521bf9;try{await this['client']['addChatLabel'](_0x5a480,_0x4d7ecc),console[_0x2550d7(0x1a3)](_0x2550d7(0x513)+_0x4d7ecc+_0x2550d7(0x2d1)+_0x5a480+'\x20com\x20sucesso.');}catch(_0x403b6a){console[_0x2550d7(0x148)](_0x2550d7(0x61f)+_0x4d7ecc+_0x2550d7(0x35d)+_0x5a480+':',_0x403b6a);}}async[a0_0x521bf9(0x20d)](_0x353aee,_0x15037d){const _0x5f4844=a0_0x521bf9;try{await this[_0x5f4844(0x736)][_0x5f4844(0x2c6)](_0x15037d,_0x353aee),console[_0x5f4844(0x1a3)](_0x5f4844(0x513)+_0x353aee+'\x20removido\x20do\x20chat\x20'+_0x15037d+_0x5f4844(0x2ef));}catch(_0x480b83){console['error'](_0x5f4844(0x637)+_0x353aee+_0x5f4844(0x208)+_0x15037d+':',_0x480b83);}}async[a0_0x521bf9(0x358)](_0x26ad65){const _0x5d010a=a0_0x521bf9;try{let _0xc484b8=await this[_0x5d010a(0x431)][_0x5d010a(0x4cc)][_0x5d010a(0x5c2)](this[_0x5d010a(0x4d4)][_0x5d010a(0x3b3)]),_0x1a718d=_0x26ad65[_0x5d010a(0x6ad)]?_0xc484b8['agents']['findIndex'](_0x2805d3=>_0x2805d3[_0x5d010a(0x6ad)]===_0x26ad65[_0x5d010a(0x6ad)]):-0x1;if(_0x26ad65[_0x5d010a(0x327)]&&_0x1a718d>-0x1)_0xc484b8['agents'][_0x5d010a(0x4e5)](_0x1a718d,0x1);else{if(_0x1a718d>-0x1){let _0x2637da=_0xc484b8[_0x5d010a(0x5c8)][_0x1a718d];_0x26ad65[_0x5d010a(0x204)]&&(_0x2637da[_0x5d010a(0x204)]=_0x26ad65[_0x5d010a(0x204)]),_0x26ad65[_0x5d010a(0x423)]&&(_0x2637da[_0x5d010a(0x423)]=_0x26ad65[_0x5d010a(0x423)]),_0x26ad65[_0x5d010a(0x238)]&&(_0x2637da[_0x5d010a(0x238)]=_0x26ad65[_0x5d010a(0x238)]),_0x26ad65[_0x5d010a(0x2c2)]&&(_0x2637da[_0x5d010a(0x2c2)]=_0x26ad65[_0x5d010a(0x2c2)]);}else _0xc484b8[_0x5d010a(0x5c8)][_0x5d010a(0x330)]({'_id':_0x26ad65['_id']||new ne[(_0x5d010a(0x733))][(_0x5d010a(0x543))][(_0x5d010a(0x65e))]()['toString'](),'fone':_0x26ad65[_0x5d010a(0x204)],'name':_0x26ad65[_0x5d010a(0x423)],'email':_0x26ad65[_0x5d010a(0x238)],'role':_0x26ad65[_0x5d010a(0x2c2)]});}let _0x4d7113={'agents':_0xc484b8[_0x5d010a(0x5c8)]},_0x4d1949=await this['repository'][_0x5d010a(0x4cc)][_0x5d010a(0x343)](_0x4d7113,this[_0x5d010a(0x4d4)]['wuid']);return this[_0x5d010a(0x392)]=_0x4d1949,this[_0x5d010a(0x5b4)][_0x5d010a(0x5ab)](this[_0x5d010a(0x424)]+'\x20('+this[_0x5d010a(0x4d4)][_0x5d010a(0x3b3)]+_0x5d010a(0x3c8)),this[_0x5d010a(0x5b4)][_0x5d010a(0x5ab)](this[_0x5d010a(0x424)]+'\x20('+this[_0x5d010a(0x4d4)][_0x5d010a(0x3b3)]+_0x5d010a(0x6d1)+this[_0x5d010a(0x392)]),_0x4d1949;}catch(_0x1b1451){throw this['logger'][_0x5d010a(0x148)](this['instanceName']+'\x20('+this['instance'][_0x5d010a(0x3b3)]+_0x5d010a(0x357)+(_0x1b1451 instanceof Error?_0x1b1451[_0x5d010a(0x331)]:JSON['stringify'](_0x1b1451,null,0x2))),new m(_0x5d010a(0x605)+_0x1b1451['message']);}}async[a0_0x521bf9(0x21f)](_0x576622){const _0x1894a9=a0_0x521bf9;try{let _0x20b305=await this[_0x1894a9(0x431)][_0x1894a9(0x4cc)][_0x1894a9(0x5c2)](this['instance'][_0x1894a9(0x3b3)]),_0x2d4717=_0x576622[_0x1894a9(0x6ad)]?_0x20b305['customFields'][_0x1894a9(0x469)](_0x36cab9=>_0x36cab9[_0x1894a9(0x6ad)]===_0x576622[_0x1894a9(0x6ad)]):-0x1,_0x4db16b=!0x1,_0x152f51=_0x20b305['customFields']['some'](_0x2974d9=>_0x2974d9['order']===_0x576622[_0x1894a9(0x35c)]);if(_0x576622[_0x1894a9(0x327)]&&_0x2d4717>-0x1)_0x20b305['customFields'][_0x1894a9(0x4e5)](_0x2d4717,0x1),_0x4db16b=!0x0;else{if(_0x2d4717>-0x1){if(_0x20b305[_0x1894a9(0x599)]['some'](_0x2d6441=>_0x2d6441[_0x1894a9(0x423)]===_0x576622[_0x1894a9(0x423)]&&_0x2d6441[_0x1894a9(0x6ad)]!==_0x576622['_id']))throw new Error(_0x1894a9(0x708));let _0x5e3e5a=_0x20b305['customFields'][_0x2d4717];_0x576622['order']&&(_0x152f51||!Number[_0x1894a9(0x26a)](_0x576622['order']))&&(_0x5e3e5a[_0x1894a9(0x35c)]=_0x576622[_0x1894a9(0x35c)],_0x4db16b=!0x0),_0x576622[_0x1894a9(0x423)]&&(_0x5e3e5a['name']=_0x576622[_0x1894a9(0x423)]);}else{if(_0x20b305[_0x1894a9(0x599)][_0x1894a9(0x399)](_0x50a529=>_0x50a529[_0x1894a9(0x423)]===_0x576622[_0x1894a9(0x423)]&&_0x50a529[_0x1894a9(0x6ad)]!==_0x576622[_0x1894a9(0x6ad)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x20b305[_0x1894a9(0x599)][_0x1894a9(0x330)]({'_id':_0x576622['_id']||new ne['default'][(_0x1894a9(0x543))][(_0x1894a9(0x65e))]()[_0x1894a9(0x172)](),'order':_0x576622[_0x1894a9(0x35c)],'name':_0x576622[_0x1894a9(0x423)]}),_0x4db16b=!0x0;}}if(_0x4db16b){_0x20b305[_0x1894a9(0x599)][_0x1894a9(0x198)]((_0x45f104,_0x59d6d9)=>_0x45f104[_0x1894a9(0x35c)]>_0x59d6d9[_0x1894a9(0x35c)]?0x1:_0x59d6d9[_0x1894a9(0x35c)]>_0x45f104['order']?-0x1:0x0);for(let _0x5a6c47=0x0;_0x5a6c47<_0x20b305[_0x1894a9(0x599)]['length'];_0x5a6c47++)_0x20b305['customFields'][_0x5a6c47]['order']=_0x5a6c47+0x1;}let _0x59d525=await this[_0x1894a9(0x431)][_0x1894a9(0x4cc)]['update'](_0x20b305,this[_0x1894a9(0x4d4)][_0x1894a9(0x3b3)]);return this['AutomateSystem']=_0x59d525,this['logger'][_0x1894a9(0x5ab)](this['instanceName']+'\x20('+this[_0x1894a9(0x4d4)]['wuid']+_0x1894a9(0x25a)),this[_0x1894a9(0x5b4)][_0x1894a9(0x5ab)](this[_0x1894a9(0x424)]+'\x20('+this[_0x1894a9(0x4d4)][_0x1894a9(0x3b3)]+_0x1894a9(0x6d1)+this[_0x1894a9(0x392)]),_0x59d525;}catch(_0x13bdcc){throw this[_0x1894a9(0x5b4)][_0x1894a9(0x148)](this[_0x1894a9(0x424)]+'\x20('+this[_0x1894a9(0x4d4)][_0x1894a9(0x3b3)]+_0x1894a9(0x2f4)+(_0x13bdcc instanceof Error?_0x13bdcc[_0x1894a9(0x331)]:JSON[_0x1894a9(0x62e)](_0x13bdcc,null,0x2))),new m(_0x1894a9(0x512)+_0x13bdcc[_0x1894a9(0x331)]);}}async['updateFlowConfig'](_0x5ad327){const _0x32b9be=a0_0x521bf9;try{let _0x88e200=await this['repository'][_0x32b9be(0x4cc)]['findOrCreate'](this['instance'][_0x32b9be(0x3b3)]);if(!_0x88e200)throw new Error(_0x32b9be(0x6b4));let _0x5128a8={'_id':_0x88e200[_0x32b9be(0x6ad)],'flowConfig':{'enabled':_0x5ad327[_0x32b9be(0x62b)]??_0x88e200[_0x32b9be(0x3ad)][_0x32b9be(0x62b)],'ignoreGroups':_0x5ad327[_0x32b9be(0x60f)]??_0x88e200[_0x32b9be(0x3ad)][_0x32b9be(0x60f)],'prefixCommand':_0x5ad327['prefixCommand']??_0x88e200[_0x32b9be(0x3ad)][_0x32b9be(0x1ff)],'stopConversation':_0x5ad327[_0x32b9be(0x33c)]??_0x88e200['flowConfig'][_0x32b9be(0x33c)],'stopMinutes':_0x5ad327[_0x32b9be(0x438)]??_0x88e200[_0x32b9be(0x3ad)]['stopMinutes'],'stopWhenYouSendMsg':_0x5ad327[_0x32b9be(0x201)]??_0x88e200['flowConfig'][_0x32b9be(0x201)]}},_0x45ea85=await this[_0x32b9be(0x431)]['automateSystem']['update'](_0x5128a8,this[_0x32b9be(0x4d4)]['wuid']);return this[_0x32b9be(0x392)]=_0x45ea85,this[_0x32b9be(0x5b4)]['verbose'](this[_0x32b9be(0x424)]+'\x20('+this[_0x32b9be(0x4d4)][_0x32b9be(0x3b3)]+_0x32b9be(0x3c8)),this[_0x32b9be(0x5b4)]['verbose'](this['instanceName']+'\x20('+this[_0x32b9be(0x4d4)][_0x32b9be(0x3b3)]+_0x32b9be(0x6d1)+this[_0x32b9be(0x392)]),setTimeout(()=>this[_0x32b9be(0x27d)](),0x7d0),_0x45ea85;}catch(_0x3e4b9d){throw this[_0x32b9be(0x5b4)]['error'](this['instanceName']+'\x20('+this[_0x32b9be(0x4d4)][_0x32b9be(0x3b3)]+_0x32b9be(0x571)+(_0x3e4b9d instanceof Error?_0x3e4b9d[_0x32b9be(0x331)]:JSON[_0x32b9be(0x62e)](_0x3e4b9d,null,0x2))),new m(_0x32b9be(0x353)+_0x3e4b9d[_0x32b9be(0x331)]);}}async['getAutomateSystem'](){const _0x366b9a=a0_0x521bf9;try{let _0x7ddc=await this[_0x366b9a(0x431)][_0x366b9a(0x4cc)][_0x366b9a(0x5c2)](this[_0x366b9a(0x4d4)][_0x366b9a(0x3b3)]);return this[_0x366b9a(0x392)]=_0x7ddc,this[_0x366b9a(0x5b4)][_0x366b9a(0x5ab)](this[_0x366b9a(0x424)]+'\x20('+this['instance'][_0x366b9a(0x3b3)]+_0x366b9a(0x5d1)),this[_0x366b9a(0x5b4)][_0x366b9a(0x5ab)](this['AutomateSystem']),_0x7ddc;}catch(_0x49a777){throw this[_0x366b9a(0x5b4)][_0x366b9a(0x148)](this['instanceName']+'\x20('+this['instance'][_0x366b9a(0x3b3)]+_0x366b9a(0x288)+(_0x49a777 instanceof Error?_0x49a777[_0x366b9a(0x331)]:JSON[_0x366b9a(0x62e)](_0x49a777,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x49a777[_0x366b9a(0x331)]);}}async['setRestartTimer'](){const _0x14dc4e=a0_0x521bf9;this[_0x14dc4e(0x4a2)]&&clearTimeout(this[_0x14dc4e(0x4a2)]),this['timerId']=setTimeout(()=>{const _0x1dda77=_0x14dc4e;this[_0x1dda77(0x2be)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0xb0744d=a0_0x521bf9;Date[_0xb0744d(0x15d)]()-this[_0xb0744d(0x2b6)]>=0x1d4c0&&(this[_0xb0744d(0x5b4)]['verbose'](this[_0xb0744d(0x424)]+'\x20('+this[_0xb0744d(0x4d4)][_0xb0744d(0x3b3)]+_0xb0744d(0x448)),this[_0xb0744d(0x491)]=null,this[_0xb0744d(0x2b6)]=0x0,this[_0xb0744d(0x705)]=0x0,await this[_0xb0744d(0x27d)]());}async[a0_0x521bf9(0x27d)](){const _0x35c38d=a0_0x521bf9;let _0x45f8ad=()=>{const _0x4ddf70=a0_0x4ad4;this[_0x4ddf70(0x5b4)]['verbose'](this[_0x4ddf70(0x424)]+'\x20('+this[_0x4ddf70(0x4d4)][_0x4ddf70(0x3b3)]+_0x4ddf70(0x279)+this[_0x4ddf70(0x491)]+_0x4ddf70(0x239));},_0xedb8f2=async()=>{const _0xe4c886=a0_0x4ad4;this[_0xe4c886(0x5b4)][_0xe4c886(0x5ab)](this[_0xe4c886(0x424)]+'\x20('+this[_0xe4c886(0x4d4)][_0xe4c886(0x3b3)]+_0xe4c886(0x29b));let _0x4cd12b=Date[_0xe4c886(0x15d)]()-0xc*0x3c*0x3c*0x3e8,_0x2ec199={'where':{'status':{'$in':[_0xe4c886(0x65d),_0xe4c886(0x630)]},'$or':[{'when':{'$lte':Date[_0xe4c886(0x15d)](),'$gte':_0x4cd12b}},{'when':0x0}]}};return await this[_0xe4c886(0x431)][_0xe4c886(0x550)][_0xe4c886(0x375)](_0x2ec199,this[_0xe4c886(0x4d4)][_0xe4c886(0x3b3)]);},_0x8d4312=async _0x4fa546=>{const _0x2fd990=a0_0x4ad4;for(let _0x272443 of _0x4fa546){let _0x20e9ea={'_id':_0x272443[_0x2fd990(0x6ad)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2fd990(0x15d)]()-0x1770}}]},_0x1bada2={'startSend':Date[_0x2fd990(0x15d)]()};if(!await this[_0x2fd990(0x431)][_0x2fd990(0x550)][_0x2fd990(0x56c)](_0x20e9ea,_0x1bada2,this['instance'][_0x2fd990(0x3b3)]))return;if(!this[_0x2fd990(0x5ca)]){this[_0x2fd990(0x5b4)][_0x2fd990(0x5ab)](this[_0x2fd990(0x424)]+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x272443[_0x2fd990(0x50c)]===_0x2fd990(0x158)&&!this[_0x2fd990(0x392)]?.[_0x2fd990(0x3ad)]['enabled']){this['logger']['error'](this[_0x2fd990(0x424)]+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x272443[_0x2fd990(0x68c)]||_0x272443['remoteJidsRemaining'][_0x2fd990(0x4a0)]===0x0)&&(_0x272443=await this[_0x2fd990(0x431)]['scheduleMessage'][_0x2fd990(0x192)](_0x272443['_id'],{'status':_0x2fd990(0x630),'remoteJidsRemaining':[..._0x272443[_0x2fd990(0x4f2)]]},this['instance'][_0x2fd990(0x3b3)]));for(let _0x355721 of _0x272443[_0x2fd990(0x68c)]){if(await this[_0x2fd990(0x15b)](),this[_0x2fd990(0x2b6)]=Date[_0x2fd990(0x15d)](),_0x272443[_0x2fd990(0x5b8)][_0x2fd990(0x399)](_0x137c46=>_0x137c46[_0x2fd990(0x6cd)]===_0x355721)){this[_0x2fd990(0x5b4)][_0x2fd990(0x5ab)](this['instanceName']+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x355721+_0x2fd990(0x6aa));continue;}if(!this[_0x2fd990(0x5ca)]){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2fd990(0x3b3)]+_0x2fd990(0x4b2));break;}if(!this['processingScheduleMessageId']){this[_0x2fd990(0x5b4)][_0x2fd990(0x5ab)](this[_0x2fd990(0x424)]+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+_0x2fd990(0x728)+_0x272443[_0x2fd990(0x6ad)]+_0x2fd990(0x604));break;}if(_0x272443['type']===_0x2fd990(0x158)&&!this[_0x2fd990(0x392)]?.[_0x2fd990(0x3ad)][_0x2fd990(0x62b)]){this[_0x2fd990(0x5b4)][_0x2fd990(0x148)](this[_0x2fd990(0x424)]+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0xbeb75c={'remoteJid':_0x355721,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x458737=null;try{let _0x1d1a93=await this['SendScheduleMessage'](_0x355721,_0x272443);_0xbeb75c[_0x2fd990(0x148)]=_0x1d1a93[_0x2fd990(0x148)],_0xbeb75c['id']=_0x1d1a93[_0x2fd990(0x148)]?null:_0x1d1a93['id'],_0xbeb75c[_0x2fd990(0x2f2)]=_0x1d1a93[_0x2fd990(0x148)]?_0x1d1a93[_0x2fd990(0x432)]?_0x1d1a93[_0x2fd990(0x432)]['toString']():'':null;let _0x19b628={'$push':{'messagesSend':_0xbeb75c},'$pull':{'remoteJidsRemaining':_0x355721}},_0x1f4aa9=_0x272443[_0x2fd990(0x6ad)];if(_0x458737=await this['repository']['scheduleMessage'][_0x2fd990(0x192)](_0x1f4aa9,_0x19b628,this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]),_0x1d1a93[_0x2fd990(0x148)])continue;let _0x1d3275=this['getDelay'](_0x272443[_0x2fd990(0x1e7)],_0x272443['delaySecMax']);await this[_0x2fd990(0x31f)](_0x1d3275);}catch(_0x39554d){this[_0x2fd990(0x5b4)]['error'](this[_0x2fd990(0x424)]+'\x20('+this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]+_0x2fd990(0x2eb)+_0x355721+':\x20'+(_0x39554d instanceof Error?_0x39554d[_0x2fd990(0x331)]:JSON['stringify'](_0x39554d,null,0x2))),_0xbeb75c[_0x2fd990(0x148)]=!0x0,_0xbeb75c[_0x2fd990(0x2f2)]=_0x39554d[_0x2fd990(0x331)];let _0x206dc6={'$push':{'messagesSend':_0xbeb75c},'$pull':{'remoteJidsRemaining':_0x355721}},_0x960ba7=_0x272443[_0x2fd990(0x6ad)];_0x458737=await this[_0x2fd990(0x431)]['scheduleMessage'][_0x2fd990(0x192)](_0x960ba7,_0x206dc6,this[_0x2fd990(0x4d4)][_0x2fd990(0x3b3)]);}finally{if(_0x458737&&_0x458737[_0x2fd990(0x26d)]==='stopped'){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2fd990(0x4d4)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x272443[_0x2fd990(0x6ad)]+_0x2fd990(0x73c));break;}}}let _0x4f1600=await this[_0x2fd990(0x431)][_0x2fd990(0x550)][_0x2fd990(0x625)](_0x272443[_0x2fd990(0x6ad)],this['instance'][_0x2fd990(0x3b3)]);if(_0x4f1600['remoteJidsRemaining'][_0x2fd990(0x4a0)]===0x0&&_0x4f1600[_0x2fd990(0x26d)]!==_0x2fd990(0x37f)){let _0x39b4c3={'$set':{'status':_0x2fd990(0x74c)}},_0x2eb002=_0x4f1600[_0x2fd990(0x6ad)];await this[_0x2fd990(0x431)][_0x2fd990(0x550)]['updateOneById'](_0x2eb002,_0x39b4c3,this['instance'][_0x2fd990(0x3b3)]);}await new Promise(_0x21ec2e=>setTimeout(_0x21ec2e,0x1388));}},_0x16a317=async()=>{const _0x4c23ac=a0_0x4ad4;let _0x294b4e={'where':{'status':_0x4c23ac(0x65d),'when':{'$gt':Date[_0x4c23ac(0x15d)]()}}},_0x3ca2d8=await this[_0x4c23ac(0x431)]['scheduleMessage'][_0x4c23ac(0x1f2)](_0x294b4e,this[_0x4c23ac(0x4d4)][_0x4c23ac(0x3b3)]);_0x3ca2d8&&_0x3ca2d8[_0x4c23ac(0x298)]-Date[_0x4c23ac(0x15d)]()<=0x5265c00?this[_0x4c23ac(0x705)]=_0x3ca2d8[_0x4c23ac(0x298)]-Date[_0x4c23ac(0x15d)]():this[_0x4c23ac(0x705)]=(0x3c+Math['floor'](Math[_0x4c23ac(0x643)]()*0x3c))*0x3c*0x3e8,this[_0x4c23ac(0x705)]=Math[_0x4c23ac(0x3a4)](this[_0x4c23ac(0x705)],0x7d0);let _0x2b367d=Math[_0x4c23ac(0x723)](this['delayMessage']/0xea60);if(_0x3ca2d8){let _0x32ee5a=new Date(_0x3ca2d8['when'])[_0x4c23ac(0x2ce)]();this[_0x4c23ac(0x5b4)][_0x4c23ac(0x5ab)](this[_0x4c23ac(0x424)]+'\x20('+this[_0x4c23ac(0x4d4)]['wuid']+_0x4c23ac(0x589)+_0x32ee5a+_0x4c23ac(0x296)+_0x2b367d+'\x20minutos');}else this[_0x4c23ac(0x5b4)]['verbose'](this[_0x4c23ac(0x424)]+'\x20('+this[_0x4c23ac(0x4d4)][_0x4c23ac(0x3b3)]+_0x4c23ac(0x726)+_0x2b367d+_0x4c23ac(0x600));setTimeout(()=>this[_0x4c23ac(0x27d)](),this[_0x4c23ac(0x705)]);};if(this[_0x35c38d(0x491)]){await this[_0x35c38d(0x15b)](),_0x45f8ad();return;}if(!this['isConnected']){this[_0x35c38d(0x5b4)]['verbose'](this[_0x35c38d(0x424)]+'\x20('+this['instance'][_0x35c38d(0x3b3)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x35c38d(0x491)]=null,this[_0x35c38d(0x2b6)]=0x0,this[_0x35c38d(0x705)]=0x0;return;}try{let _0x2cefd6=await _0xedb8f2();_0x2cefd6[_0x35c38d(0x4a0)]===0x0?this['logger'][_0x35c38d(0x5ab)](this['instanceName']+'\x20('+this[_0x35c38d(0x4d4)][_0x35c38d(0x3b3)]+_0x35c38d(0x3e5)):(this[_0x35c38d(0x491)]=_0x2cefd6[0x0][_0x35c38d(0x6ad)],await _0x8d4312(_0x2cefd6)),await _0x16a317(),this[_0x35c38d(0x491)]=null;}catch(_0x473396){this[_0x35c38d(0x5b4)][_0x35c38d(0x148)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x473396 instanceof Error?_0x473396['message']:JSON[_0x35c38d(0x62e)](_0x473396,null,0x2)));}}[a0_0x521bf9(0x203)](_0x4c9c10,_0x535b70){const _0x12be89=a0_0x521bf9;return _0x4c9c10=Math[_0x12be89(0x3a4)](0.5,_0x4c9c10),_0x535b70=Math['min'](Math['max'](0x3,_0x535b70),0x78),Math[_0x12be89(0x5f2)](Math[_0x12be89(0x643)]()*(_0x535b70-_0x4c9c10+0x1)+_0x4c9c10)*0x3e8;}['sleep'](_0x340c2d){return new Promise(_0x58f4bb=>setTimeout(_0x58f4bb,_0x340c2d));}async[a0_0x521bf9(0x143)](_0x4a220a){const _0x40e0ef=a0_0x521bf9;if(!this[_0x40e0ef(0x392)]&&(await this[_0x40e0ef(0x556)](),!this['AutomateSystem']))return null;_0x4a220a=this[_0x40e0ef(0x60c)](_0x4a220a);let _0x300574=await this['repository'][_0x40e0ef(0x5d6)][_0x40e0ef(0x1f2)]({'where':{'_id':_0x4a220a}},this['instance'][_0x40e0ef(0x3b3)]),_0x428752={};if(_0x300574&&_0x300574[_0x40e0ef(0x4b6)]){let _0x3c623f=_0x300574[_0x40e0ef(0x4b6)];typeof _0x3c623f[_0x40e0ef(0x4d1)]==_0x40e0ef(0x202)&&(_0x428752[_0x40e0ef(0x4d1)]=_0x3c623f[_0x40e0ef(0x4d1)]),typeof _0x3c623f[_0x40e0ef(0x626)]=='string'&&(_0x428752['nomecompleto']=_0x3c623f[_0x40e0ef(0x626)]),typeof _0x3c623f[_0x40e0ef(0x238)]=='string'&&(_0x428752[_0x40e0ef(0x238)]=_0x3c623f[_0x40e0ef(0x238)]),typeof _0x3c623f['cpf']==_0x40e0ef(0x202)&&(_0x428752[_0x40e0ef(0x29d)]=_0x3c623f[_0x40e0ef(0x29d)]),typeof _0x3c623f[_0x40e0ef(0x26d)]==_0x40e0ef(0x202)&&(_0x428752[_0x40e0ef(0x26d)]=_0x3c623f[_0x40e0ef(0x26d)]),typeof _0x3c623f[_0x40e0ef(0x3f1)]==_0x40e0ef(0x202)&&(_0x428752[_0x40e0ef(0x3f1)]=_0x3c623f[_0x40e0ef(0x3f1)]),typeof _0x3c623f[_0x40e0ef(0x47e)]==_0x40e0ef(0x202)&&(_0x428752[_0x40e0ef(0x47e)]=_0x3c623f[_0x40e0ef(0x47e)]),Array[_0x40e0ef(0x2f5)](_0x3c623f[_0x40e0ef(0x1e8)])&&(_0x428752[_0x40e0ef(0x1e8)]=_0x3c623f[_0x40e0ef(0x1e8)][_0x40e0ef(0x1d7)](',\x20'));}return _0x300574&&_0x300574[_0x40e0ef(0x4b6)]&&_0x300574[_0x40e0ef(0x4b6)][_0x40e0ef(0x599)]&&_0x300574[_0x40e0ef(0x4b6)][_0x40e0ef(0x599)][_0x40e0ef(0x592)](_0x47e6e0=>{const _0x5bce92=_0x40e0ef;let _0x3a2bb6=this[_0x5bce92(0x392)]?.['customFields'][_0x5bce92(0x375)](_0xf05be8=>_0xf05be8['_id']===_0x47e6e0[_0x5bce92(0x6ad)]);_0x3a2bb6&&(_0x428752[_0x3a2bb6[_0x5bce92(0x423)]]=_0x47e6e0['value']);}),_0x428752;}async[a0_0x521bf9(0x66f)](_0x3dc78c,_0x476952){const _0x4d5fce=a0_0x521bf9;let _0x416249=await this[_0x4d5fce(0x143)](_0x476952);return this[_0x4d5fce(0x5af)](_0x3dc78c,_0x416249);}async[a0_0x521bf9(0x1e6)](_0x3ec7e9){const _0x156345=a0_0x521bf9;try{if(this[_0x156345(0x5b4)]['verbose'](this[_0x156345(0x424)]+'\x20('+this['instance']['wuid']+_0x156345(0x18e)),_0x3ec7e9[_0x156345(0x327)]&&_0x3ec7e9[_0x156345(0x6ad)]){if(this[_0x156345(0x491)]===_0x3ec7e9[_0x156345(0x6ad)][_0x156345(0x172)]())throw new Error(_0x156345(0x249));let _0x32d0ab=await this[_0x156345(0x431)][_0x156345(0x550)][_0x156345(0x636)](_0x3ec7e9['_id'],this[_0x156345(0x4d4)]['wuid']);return setTimeout(()=>this[_0x156345(0x27d)](),0x7d0),_0x32d0ab;}let _0x14c3a6;if(_0x3ec7e9['_id']&&(_0x14c3a6=await this[_0x156345(0x431)]['scheduleMessage']['findById'](_0x3ec7e9[_0x156345(0x6ad)],this[_0x156345(0x4d4)][_0x156345(0x3b3)])),_0x14c3a6){let _0x40aec6;if(this[_0x156345(0x491)]===_0x14c3a6[_0x156345(0x6ad)][_0x156345(0x172)]())_0x40aec6={'$set':{'status':_0x3ec7e9[_0x156345(0x26d)]}};else{let {_id:_0x3f6952,..._0x208099}=_0x3ec7e9;_0x40aec6={'$set':_0x208099};}let _0x5ce0f6=await this[_0x156345(0x431)]['scheduleMessage'][_0x156345(0x192)](_0x3ec7e9[_0x156345(0x6ad)],_0x40aec6,this['instance'][_0x156345(0x3b3)]);return setTimeout(()=>this[_0x156345(0x27d)](),0x7d0),_0x5ce0f6;}else{_0x3ec7e9['owner']=this[_0x156345(0x4d4)][_0x156345(0x3b3)];let _0x326004=await this[_0x156345(0x431)][_0x156345(0x550)][_0x156345(0x2b0)](_0x3ec7e9,this[_0x156345(0x4d4)][_0x156345(0x3b3)]);return setTimeout(()=>this[_0x156345(0x27d)](),0x7d0),_0x326004;}}catch(_0x2c8cf5){throw this[_0x156345(0x5b4)][_0x156345(0x148)](this['instanceName']+'\x20('+this['instance'][_0x156345(0x3b3)]+_0x156345(0x45d)+(_0x2c8cf5 instanceof Error?_0x2c8cf5[_0x156345(0x331)]:JSON[_0x156345(0x62e)](_0x2c8cf5,null,0x2))),new m(_0x156345(0x280)+_0x2c8cf5[_0x156345(0x331)]);}}async[a0_0x521bf9(0x5b3)](){const _0x4cd2ea=a0_0x521bf9;try{return await this[_0x4cd2ea(0x431)][_0x4cd2ea(0x550)]['find']({'where':{}},this['instance'][_0x4cd2ea(0x3b3)]);}catch(_0x51d1b1){throw this[_0x4cd2ea(0x5b4)]['error'](this[_0x4cd2ea(0x424)]+'\x20('+this[_0x4cd2ea(0x4d4)][_0x4cd2ea(0x3b3)]+_0x4cd2ea(0x741)+(_0x51d1b1 instanceof Error?_0x51d1b1[_0x4cd2ea(0x331)]:JSON[_0x4cd2ea(0x62e)](_0x51d1b1,null,0x2))),new m(_0x4cd2ea(0x280)+_0x51d1b1['message']);}}async[a0_0x521bf9(0x2db)](){const _0x5084a5=a0_0x521bf9;try{let _0x271f0d={'status':_0x5084a5(0x74c)},_0x1cf646=await this[_0x5084a5(0x431)][_0x5084a5(0x550)][_0x5084a5(0x255)](_0x271f0d,this[_0x5084a5(0x4d4)][_0x5084a5(0x3b3)]);if(!_0x1cf646[_0x5084a5(0x148)])this[_0x5084a5(0x5b4)][_0x5084a5(0x5ab)](this[_0x5084a5(0x424)]+'\x20('+this[_0x5084a5(0x4d4)][_0x5084a5(0x3b3)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x1cf646['error'][_0x5084a5(0x331)]||_0x5084a5(0x735));return this[_0x5084a5(0x5b3)]();}catch(_0x16a631){throw this[_0x5084a5(0x5b4)]['error'](this[_0x5084a5(0x424)]+'\x20('+this['instance'][_0x5084a5(0x3b3)]+_0x5084a5(0x460)+(_0x16a631 instanceof Error?_0x16a631[_0x5084a5(0x331)]:JSON[_0x5084a5(0x62e)](_0x16a631,null,0x2))),new m(_0x5084a5(0x280)+_0x16a631['message']);}}async[a0_0x521bf9(0x74e)](_0x2c9fea,_0x3fc473){const _0x82a724=a0_0x521bf9;try{if(_0x3fc473[_0x82a724(0x50c)]==='flow'&&!this[_0x82a724(0x392)]?.[_0x82a724(0x3ad)]['enabled'])return this[_0x82a724(0x5b4)][_0x82a724(0x148)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x82a724(0x542)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x3fc473[_0x82a724(0x50c)]){case _0x82a724(0x44e):return await this[_0x82a724(0x11f)](_0x3fc473,_0x2c9fea);case _0x82a724(0x4f8):return await this['scheduleSendMedia'](_0x3fc473,_0x2c9fea);case'audio':return await this[_0x82a724(0x48f)](_0x3fc473,_0x2c9fea);case _0x82a724(0x158):let _0x1c4a3c=new Pe();return _0x1c4a3c[_0x82a724(0x423)]=_0x3fc473[_0x82a724(0x176)],_0x1c4a3c['remoteJid']=_0x2c9fea,await this[_0x82a724(0x31c)](_0x1c4a3c);break;default:return this[_0x82a724(0x5b4)][_0x82a724(0x148)](this['instanceName']+'\x20('+this['instance'][_0x82a724(0x3b3)]+_0x82a724(0x6e5)+_0x3fc473[_0x82a724(0x50c)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x1139bb){return this[_0x82a724(0x5b4)][_0x82a724(0x148)](this[_0x82a724(0x424)]+'\x20('+this['instance'][_0x82a724(0x3b3)]+_0x82a724(0x17e)+(_0x1139bb instanceof Error?_0x1139bb['message']:JSON[_0x82a724(0x62e)](_0x1139bb,null,0x2))),{'error':!0x0,'detail':_0x1139bb['message']};}}[a0_0x521bf9(0x745)](_0x268a09){const _0x5689bd=a0_0x521bf9;let _0x56269b=_0x268a09['split']('|'),_0x257558=Math[_0x5689bd(0x5f2)](Math[_0x5689bd(0x643)]()*_0x56269b[_0x5689bd(0x4a0)]);return _0x56269b[_0x257558][_0x5689bd(0x51c)]();}async[a0_0x521bf9(0x11f)](_0x173d7d,_0x3e4f3b){const _0x59ddae=a0_0x521bf9;if(this['logger']['verbose'](this[_0x59ddae(0x424)]+'\x20('+this[_0x59ddae(0x4d4)][_0x59ddae(0x3b3)]+_0x59ddae(0x200)),!_0x173d7d['message'][_0x59ddae(0x44e)]||_0x173d7d[_0x59ddae(0x331)][_0x59ddae(0x44e)][_0x59ddae(0x4a0)]===0x0)return{'error':!0x0,'detail':_0x59ddae(0x43e)};let _0x5a70ca=this[_0x59ddae(0x745)](_0x173d7d[_0x59ddae(0x331)][_0x59ddae(0x44e)]),_0x16c77b=await this[_0x59ddae(0x66f)](_0x5a70ca,_0x3e4f3b),_0x47bf59={'number':_0x3e4f3b,'options':{'delay':_0x173d7d[_0x59ddae(0x331)][_0x59ddae(0x5c6)]},'textMessage':{'text':_0x16c77b}},_0x350c23=null;try{let _0x2c9f60=await this[_0x59ddae(0x167)](_0x47bf59);if(_0x2c9f60&&_0x2c9f60[_0x59ddae(0x26d)])return{'error':!0x1,'id':_0x2c9f60[_0x59ddae(0x4d2)]['id']};_0x350c23=JSON[_0x59ddae(0x62e)](_0x2c9f60),this['logger'][_0x59ddae(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x59ddae(0x6d1)+_0x350c23);}catch(_0x2dd2d7){this[_0x59ddae(0x5b4)]['error'](this[_0x59ddae(0x424)]+'\x20('+this[_0x59ddae(0x4d4)][_0x59ddae(0x3b3)]+_0x59ddae(0x309)+(_0x2dd2d7 instanceof Error?_0x2dd2d7[_0x59ddae(0x331)]:JSON[_0x59ddae(0x62e)](_0x2dd2d7,null,0x2))),_0x350c23=_0x2dd2d7[_0x59ddae(0x331)];}if(_0x350c23)return{'error':!0x0,'detail':(typeof _0x350c23==_0x59ddae(0x541)?JSON[_0x59ddae(0x62e)](_0x350c23,null,0x2):_0x350c23)[_0x59ddae(0x27b)](/[\[\]{}\n]/g,'\x20')[_0x59ddae(0x27b)](/  +/g,'\x20')};}async[a0_0x521bf9(0x6ae)](_0x3e184c,_0x4ead45){const _0x4a8a02=a0_0x521bf9;this[_0x4a8a02(0x5b4)][_0x4a8a02(0x5ab)](this['instanceName']+'\x20('+this[_0x4a8a02(0x4d4)][_0x4a8a02(0x3b3)]+'):\x20Enviando\x20mídia');let _0x33beb6;if(_0x3e184c[_0x4a8a02(0x331)][_0x4a8a02(0x44e)]&&_0x3e184c['message'][_0x4a8a02(0x44e)]['length']>0x0){let _0x2159f3=this['getRandomText'](_0x3e184c[_0x4a8a02(0x331)][_0x4a8a02(0x44e)]);_0x33beb6=await this[_0x4a8a02(0x66f)](_0x2159f3,_0x4ead45);}let _0x1dca6d={'number':_0x4ead45,'options':{'delay':_0x3e184c[_0x4a8a02(0x331)]['delay']},'mediaMessage':{'mediatype':_0x3e184c[_0x4a8a02(0x331)]['mediatype'],'caption':_0x33beb6,'media':_0x3e184c[_0x4a8a02(0x331)][_0x4a8a02(0x402)]}},_0x89564=null;try{let _0x2a425c=await this[_0x4a8a02(0x504)](_0x1dca6d);if(_0x2a425c&&_0x2a425c[_0x4a8a02(0x26d)])return{'error':!0x1,'id':_0x2a425c[_0x4a8a02(0x4d2)]['id']};_0x89564=JSON[_0x4a8a02(0x62e)](_0x2a425c),this['logger']['verbose'](this[_0x4a8a02(0x424)]+'\x20('+this[_0x4a8a02(0x4d4)][_0x4a8a02(0x3b3)]+_0x4a8a02(0x6d1)+_0x89564);}catch(_0x4ff1b2){this[_0x4a8a02(0x5b4)][_0x4a8a02(0x148)](this[_0x4a8a02(0x424)]+'\x20('+this[_0x4a8a02(0x4d4)][_0x4a8a02(0x3b3)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4ff1b2 instanceof Error?_0x4ff1b2[_0x4a8a02(0x331)]:JSON[_0x4a8a02(0x62e)](_0x4ff1b2,null,0x2))),_0x89564=_0x4ff1b2['message'];}if(_0x89564)return{'error':!0x0,'detail':(typeof _0x89564==_0x4a8a02(0x541)?JSON[_0x4a8a02(0x62e)](_0x89564,null,0x2):_0x89564)[_0x4a8a02(0x27b)](/[\[\]{}\n]/g,'\x20')[_0x4a8a02(0x27b)](/  +/g,'\x20')};}async[a0_0x521bf9(0x48f)](_0x3974f6,_0x4895b0){const _0x2bf9ee=a0_0x521bf9;this['logger'][_0x2bf9ee(0x5ab)](this[_0x2bf9ee(0x424)]+'\x20('+this[_0x2bf9ee(0x4d4)][_0x2bf9ee(0x3b3)]+_0x2bf9ee(0x673));let _0x1d9d24={'number':_0x4895b0,'options':{'delay':_0x3974f6[_0x2bf9ee(0x331)][_0x2bf9ee(0x5c6)]},'audioMessage':{'audio':_0x3974f6['message'][_0x2bf9ee(0x402)]}},_0x20059c=null;try{let _0x3f24f9=await this[_0x2bf9ee(0x664)](_0x1d9d24);if(_0x3f24f9&&_0x3f24f9[_0x2bf9ee(0x26d)])return{'error':!0x1,'id':_0x3f24f9[_0x2bf9ee(0x4d2)]['id']};_0x20059c=JSON[_0x2bf9ee(0x62e)](_0x3f24f9),this[_0x2bf9ee(0x5b4)][_0x2bf9ee(0x5ab)](this['instanceName']+'\x20('+this[_0x2bf9ee(0x4d4)]['wuid']+_0x2bf9ee(0x6d1)+_0x20059c);}catch(_0x25bfec){this[_0x2bf9ee(0x5b4)]['error'](this[_0x2bf9ee(0x424)]+'\x20('+this['instance']['wuid']+_0x2bf9ee(0x6b3)+(_0x25bfec instanceof Error?_0x25bfec[_0x2bf9ee(0x331)]:JSON[_0x2bf9ee(0x62e)](_0x25bfec,null,0x2))),_0x20059c=_0x25bfec[_0x2bf9ee(0x331)];}if(_0x20059c)return{'error':!0x0,'detail':(typeof _0x20059c=='object'?JSON[_0x2bf9ee(0x62e)](_0x20059c,null,0x2):_0x20059c)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2bf9ee(0x27b)](/  +/g,'\x20')};}},xt=class c{constructor(_0x7add11,_0x1e7516,_0x438c97){const _0x264ad3=a0_0x521bf9;this[_0x264ad3(0x6fc)]=_0x7add11,this[_0x264ad3(0x57b)]=_0x1e7516,this['repository']=_0x438c97,this['db']={},this[_0x264ad3(0x26e)]={},this['logger']=new v(c[_0x264ad3(0x423)]),this[_0x264ad3(0x603)]={},(this[_0x264ad3(0x219)](),this[_0x264ad3(0x32b)](),Object['assign'](this['db'],_0x1e7516[_0x264ad3(0x51f)]('DATABASE')),Object[_0x264ad3(0x1cc)](this['redis'],_0x1e7516[_0x264ad3(0x51f)](_0x264ad3(0x4d9))),this[_0x264ad3(0x6d0)]=this['db']['ENABLED']?this[_0x264ad3(0x431)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x264ad3(0x28e)]+_0x264ad3(0x68a)):void 0x0,this['cache']=this[_0x264ad3(0x26e)][_0x264ad3(0x47a)]?new oe(this[_0x264ad3(0x26e)]):void 0x0);}async[a0_0x521bf9(0x415)](_0xf654b6){const _0x31d293=a0_0x521bf9;if(_0xf654b6&&!this['waInstances'][_0xf654b6])throw new L(_0x31d293(0x274)+_0xf654b6+_0x31d293(0x25c));let _0x32dfbc=[];for await(let [_0x1a0207,_0x6e6cbb]of Object[_0x31d293(0x1e4)](this[_0x31d293(0x603)]))if(_0x6e6cbb&&_0x6e6cbb['connectionStatus'][_0x31d293(0x2ff)]===_0x31d293(0x1f1)){let _0x3dd5a9=await this[_0x31d293(0x431)][_0x31d293(0x51a)]['find'](_0x1a0207);_0x32dfbc[_0x31d293(0x330)]({'instance':{'instanceName':_0x1a0207,'apikey':_0x3dd5a9[_0x31d293(0x270)],'owner':_0x6e6cbb[_0x31d293(0x3b3)],'profileName':await _0x6e6cbb[_0x31d293(0x51d)]()||_0x31d293(0x47f),'profilePictureUrl':_0x6e6cbb[_0x31d293(0x2f0)]}});}return _0x32dfbc[_0x31d293(0x375)](_0x47a207=>_0x47a207[_0x31d293(0x4d4)][_0x31d293(0x424)]===_0xf654b6)??_0x32dfbc;}async[a0_0x521bf9(0x2a1)](_0x4c3d5c){const _0xf7f41=a0_0x521bf9;if(this['db']['ENABLED']&&(await this[_0xf7f41(0x431)][_0xf7f41(0x231)][_0xf7f41(0x652)](),(await this['dbInstance'][_0xf7f41(0x3de)]())[_0xf7f41(0x4a0)]>0x0&&await this['dbInstance'][_0xf7f41(0x4b5)](_0x4c3d5c)),this[_0xf7f41(0x26e)]['ENABLED']){this[_0xf7f41(0x1cf)]['reference']=_0x4c3d5c,await this[_0xf7f41(0x1cf)][_0xf7f41(0x5a9)]();return;}}async[a0_0x521bf9(0x524)](){const _0x2352fa=a0_0x521bf9;await this[_0x2352fa(0x6a2)]();let _0x312588=async _0x436081=>{const _0x5c6fee=_0x2352fa;let _0x13e916=new fe(this['configService'],this[_0x5c6fee(0x6fc)],this[_0x5c6fee(0x431)]);_0x13e916[_0x5c6fee(0x424)]=_0x436081,await _0x13e916[_0x5c6fee(0x425)](),this[_0x5c6fee(0x603)][_0x436081]=_0x13e916;};try{if(this[_0x2352fa(0x26e)][_0x2352fa(0x47a)]){let _0x395946=await this['cache']['instanceKeys']();_0x395946?.[_0x2352fa(0x4a0)]>0x0&&_0x395946[_0x2352fa(0x592)](async _0x3c6e09=>await _0x312588(_0x3c6e09['split'](':')[0x1]));return;}if(this['db'][_0x2352fa(0x47a)]){await this['repository'][_0x2352fa(0x231)][_0x2352fa(0x652)]();let _0x49a90d=await this[_0x2352fa(0x6d0)]['collections']();_0x49a90d[_0x2352fa(0x4a0)]>0x0&&_0x49a90d[_0x2352fa(0x592)](async _0x3afdcb=>await _0x312588(_0x3afdcb['namespace'][_0x2352fa(0x27b)](/^[\w-]+\./,'')));return;}}catch(_0x24f222){this[_0x2352fa(0x5b4)][_0x2352fa(0x148)](_0x24f222);}}async[a0_0x521bf9(0x400)](){const _0x5eba28=a0_0x521bf9;let _0x2119df=await this[_0x5eba28(0x431)][_0x5eba28(0x51a)][_0x5eba28(0x160)](),_0x81e9c0=_0x2119df[_0x5eba28(0x125)](_0x26cd06=>!this[_0x5eba28(0x603)][_0x26cd06[_0x5eba28(0x6ad)]]&&(_0x26cd06[_0x5eba28(0x246)]||typeof _0x26cd06[_0x5eba28(0x246)]>'u'));_0x81e9c0[_0x5eba28(0x4a0)]>0x0&&await Promise[_0x5eba28(0x6c3)](_0x81e9c0[_0x5eba28(0x648)](async _0x469041=>{const _0x563660=_0x5eba28;let _0x58e14a={'online':!0x1,'lastDisconnect':Date[_0x563660(0x15d)]()};await this[_0x563660(0x431)][_0x563660(0x51a)][_0x563660(0x205)](_0x58e14a,_0x469041[_0x563660(0x6ad)]);}));let _0x4009df=Date[_0x5eba28(0x15d)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5012f4=_0x2119df[_0x5eba28(0x125)](_0x3be1be=>!this[_0x5eba28(0x603)][_0x3be1be['_id']]&&typeof _0x3be1be[_0x5eba28(0x3c5)]<'u'&&_0x3be1be[_0x5eba28(0x3c5)]<_0x4009df);_0x5012f4[_0x5eba28(0x4a0)]>0x0&&await Promise[_0x5eba28(0x6c3)](_0x5012f4[_0x5eba28(0x648)](async _0x30f525=>{}));}async[a0_0x521bf9(0x6a2)](){const _0x4d6a5b=a0_0x521bf9;try{let _0x2fe51e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x39a1af={'online':!0x1,'lastDisconnect':Date[_0x4d6a5b(0x15d)]()},_0x3986fb=await this[_0x4d6a5b(0x431)][_0x4d6a5b(0x51a)][_0x4d6a5b(0x675)](_0x2fe51e,_0x39a1af);console[_0x4d6a5b(0x1a3)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x3986fb[_0x4d6a5b(0x34b)]),await this['removeOlderDisconnectedInstances']();}catch(_0x12a8f3){console[_0x4d6a5b(0x148)](_0x4d6a5b(0x666),_0x12a8f3);}}async['removeOlderDisconnectedInstances'](){const _0x2dd4e6=a0_0x521bf9;try{let _0x400d5b={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x82b09d=await this['repository']['auth']['deleteMany'](_0x400d5b);console[_0x2dd4e6(0x1a3)](_0x2dd4e6(0x25d)+_0x82b09d[_0x2dd4e6(0x34b)]);}catch(_0x344602){console[_0x2dd4e6(0x148)](_0x2dd4e6(0x5d4),_0x344602);}}[a0_0x521bf9(0x219)](){const _0x145896=a0_0x521bf9;this[_0x145896(0x6fc)]['on']('remove.instance',async _0x5a955a=>{const _0x2cd3c2=_0x145896;try{this[_0x2cd3c2(0x603)][_0x5a955a]=void 0x0;}catch{}try{this[_0x2cd3c2(0x2a1)](_0x5a955a);}finally{this['logger'][_0x2cd3c2(0x3ed)](_0x2cd3c2(0x274)+_0x5a955a+_0x2cd3c2(0x476));}});}['noConnection'](){const _0x1c4dd1=a0_0x521bf9;this[_0x1c4dd1(0x6fc)]['on']('no.connection',async _0x439f82=>{const _0x1da1d7=_0x1c4dd1;try{this[_0x1da1d7(0x603)][_0x439f82]=void 0x0;}catch{}try{this[_0x1da1d7(0x2a1)](_0x439f82);}finally{this[_0x1da1d7(0x5b4)][_0x1da1d7(0x3ed)](_0x1da1d7(0x274)+_0x439f82+_0x1da1d7(0x5ce));}});}},Pt=class extends I{[a0_0x521bf9(0x2e2)](_0x3c3f79){return js(_0x3c3f79);}async['insert'](_0x36250a){const _0xc6a010=a0_0x521bf9;if(_0x36250a[_0xc6a010(0x4a0)]!==0x0)try{return{'insertCount':(await this[_0xc6a010(0x2e2)](_0x36250a[0x0][_0xc6a010(0x5e5)])[_0xc6a010(0x356)]([..._0x36250a]))[_0xc6a010(0x4a0)]};}catch(_0x20750d){return _0x20750d;}}async['find'](_0x43b221,_0x4d9319){const _0x29a075=a0_0x521bf9;try{let _0x4263bc=this[_0x29a075(0x2e2)](_0x4d9319),_0x528107=A(_0x43b221[_0x29a075(0x53c)]);return await _0x4263bc[_0x29a075(0x375)](_0x528107)[_0x29a075(0x198)]({'lastmsg':-0x1})[_0x29a075(0x4a1)](_0x43b221?.[_0x29a075(0x4a1)]??0x0)['lean']();}catch{return[];}}async['deleteAll'](_0x5a48e8,_0x4a1958){const _0x2282ef=a0_0x521bf9;try{return await this['getChatModelForOwner'](_0x4a1958)[_0x2282ef(0x255)]({..._0x5a48e8[_0x2282ef(0x53c)]}),[];}catch(_0x915da1){return{'error':_0x915da1?.[_0x2282ef(0x172)]()};}}async[a0_0x521bf9(0x1f2)](_0x183eb1,_0x3de644){const _0x42aece=a0_0x521bf9;try{let _0x22d46f=this[_0x42aece(0x2e2)](_0x3de644),_0x5a9fab=A(_0x183eb1[_0x42aece(0x53c)]);return await _0x22d46f[_0x42aece(0x1f2)](_0x5a9fab)[_0x42aece(0x3d9)]();}catch{return null;}}async[a0_0x521bf9(0x56c)](_0x502d01,_0x59440c,_0x7322ef,_0x51b15c,_0x716356=a0_0x521bf9(0x182)){const _0x494a20=a0_0x521bf9;try{let _0x3c9b8e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x51b15c},_0x296605=this[_0x494a20(0x2e2)](_0x7322ef),_0x297c08=A(_0x502d01['where']),_0x5ac1f8={};return _0x5ac1f8[_0x716356]=_0x59440c,await _0x296605['findOneAndUpdate'](_0x297c08,_0x5ac1f8,_0x3c9b8e);}catch(_0x3eda6d){return console[_0x494a20(0x148)](_0x3eda6d),null;}}async[a0_0x521bf9(0x567)](_0x1cd6f7){const _0x30d7cc=a0_0x521bf9;try{let _0x141e6f=this[_0x30d7cc(0x2e2)](_0x1cd6f7[0x0][_0x30d7cc(0x1ae)][_0x30d7cc(0x53c)][_0x30d7cc(0x5e5)]),_0x117584=_0x1cd6f7[_0x30d7cc(0x648)](_0x2d69d0=>({'updateOne':{'filter':{..._0x2d69d0['query'][_0x30d7cc(0x53c)]},'update':{'$set':_0x2d69d0['update']}}}));return(await _0x141e6f[_0x30d7cc(0x108)](_0x117584))[_0x30d7cc(0x230)];}catch(_0x51151b){return console[_0x30d7cc(0x148)](_0x51151b),0x0;}}async[a0_0x521bf9(0x356)](_0x1cb2f7,_0xd74792){const _0x6b8aee=a0_0x521bf9;if(!Array[_0x6b8aee(0x2f5)](_0x1cb2f7)||_0x1cb2f7[_0x6b8aee(0x4a0)]===0x0)throw new Error(_0x6b8aee(0x5bc));try{return(await this[_0x6b8aee(0x2e2)](_0xd74792)[_0x6b8aee(0x356)](_0x1cb2f7))['length'];}catch(_0x595f98){throw console[_0x6b8aee(0x148)](_0x6b8aee(0x1a5),_0x595f98),_0x595f98;}}async['incrementIsValidAttempts'](_0x2d7a62,_0x2172b4){const _0x2fc818=a0_0x521bf9;try{await this['getChatModelForOwner'](_0x2172b4)[_0x2fc818(0x56c)]({'_id':_0x2d7a62},{'$inc':{'isValidAttempts':0x1}});}catch(_0x399a43){throw console[_0x2fc818(0x148)]('Erro\x20ao\x20incrementar\x20isValidAttempts:',_0x399a43),_0x399a43;}}async[a0_0x521bf9(0x4c2)](_0x21125e,_0x3cec08){const _0x136589=a0_0x521bf9;try{await this[_0x136589(0x2e2)](_0x3cec08)[_0x136589(0x636)]({'_id':_0x21125e});}catch(_0x47f273){throw console[_0x136589(0x148)](_0x136589(0x22f),_0x47f273),_0x47f273;}}},_t=class extends I{[a0_0x521bf9(0x370)](_0x2709bc){return ua(_0x2709bc);}async[a0_0x521bf9(0x56c)](_0x2b30ce,_0x288c22,_0x3d7e21,_0x3ba09a){const _0x392711=a0_0x521bf9;try{let _0x1d3bdf={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3ba09a},_0x47dd73=this[_0x392711(0x370)](_0x3d7e21),_0x1eb2f8=A(_0x2b30ce[_0x392711(0x53c)]);return await _0x47dd73[_0x392711(0x5da)](_0x1eb2f8,{'$set':_0x288c22},_0x1d3bdf);}catch(_0x3ff2d4){return console[_0x392711(0x148)](_0x3ff2d4),null;}}async[a0_0x521bf9(0x375)](_0x3b2ee7,_0x24b63c){const _0x3fe06f=a0_0x521bf9;try{let _0x578a8e=this[_0x3fe06f(0x370)](_0x24b63c),_0x3ff9dc=A(_0x3b2ee7[_0x3fe06f(0x53c)]);return await _0x578a8e[_0x3fe06f(0x375)](_0x3ff9dc);}catch(_0x4c1350){console[_0x3fe06f(0x148)](_0x4c1350);}}async['delete'](_0x13afa1,_0x16a430){const _0x11b0bd=a0_0x521bf9;try{let _0xa49249=this[_0x11b0bd(0x370)](_0x16a430),_0x443e95=A(_0x13afa1[_0x11b0bd(0x53c)]);await _0xa49249['deleteMany'](_0x443e95);}catch(_0x1bdca4){console[_0x11b0bd(0x148)](_0x1bdca4);}}async[a0_0x521bf9(0x74a)](_0x42e1ab){const _0x419b2c=a0_0x521bf9;try{return await this[_0x419b2c(0x370)](_0x42e1ab)[_0x419b2c(0x32c)][_0x419b2c(0x14d)](),{'success':!0x0};}catch(_0x1b68b0){return console[_0x419b2c(0x148)](_0x1b68b0),{'success':!0x1,'error':_0x1b68b0};}}},$t=class{constructor(_0x2e0565){const _0x2b78d4=a0_0x521bf9;this[_0x2b78d4(0x3a5)]=_0x2e0565;}async['editChat']({instanceName:_0x34dfbb},_0xb1db5d){const _0x27e436=a0_0x521bf9;return await this[_0x27e436(0x3a5)]['waInstances'][_0x34dfbb][_0x27e436(0x738)](_0xb1db5d);}async['whatsappNumber']({instanceName:_0x3f955b},_0x38e5cd){const _0x36480d=a0_0x521bf9;return await this[_0x36480d(0x3a5)][_0x36480d(0x603)][_0x3f955b][_0x36480d(0x3dc)](_0x38e5cd);}async[a0_0x521bf9(0x144)]({instanceName:_0x2a80f8},_0x17bde1){const _0x59705b=a0_0x521bf9;return await this[_0x59705b(0x3a5)][_0x59705b(0x603)][_0x2a80f8]['importChats'](_0x17bde1);}async['readMessage']({instanceName:_0x10725d},_0x30efc6){const _0x245b87=a0_0x521bf9;return await this[_0x245b87(0x3a5)]['waInstances'][_0x10725d][_0x245b87(0x4cb)](_0x30efc6);}async['archiveChat']({instanceName:_0x1551df},_0x41ff0e){const _0x3ccd1d=a0_0x521bf9;return await this[_0x3ccd1d(0x3a5)][_0x3ccd1d(0x603)][_0x1551df][_0x3ccd1d(0x411)](_0x41ff0e);}async[a0_0x521bf9(0x593)]({instanceName:_0x1cc021},_0x4c1ec4){const _0x4e248b=a0_0x521bf9;return await this[_0x4e248b(0x3a5)][_0x4e248b(0x603)][_0x1cc021][_0x4e248b(0x593)](_0x4c1ec4);}async['fetchProfilePicture']({instanceName:_0x36abe7},_0x5cac4d){const _0x128c25=a0_0x521bf9;return await this[_0x128c25(0x3a5)][_0x128c25(0x603)][_0x36abe7][_0x128c25(0x70b)](_0x5cac4d[_0x128c25(0x33b)]);}async[a0_0x521bf9(0x5de)]({instanceName:_0xb10a7c},_0xd57f8c){const _0x56e178=a0_0x521bf9;return await this[_0x56e178(0x3a5)][_0x56e178(0x603)][_0xb10a7c][_0x56e178(0x5de)](_0xd57f8c[_0x56e178(0x33b)]);}async[a0_0x521bf9(0x1e0)]({instanceName:_0x458b57},_0x5b5883){const _0x5ccf64=a0_0x521bf9;return await this['waMonitor'][_0x5ccf64(0x603)][_0x458b57]['updatePresence'](_0x5b5883);}async[a0_0x521bf9(0x6a0)]({instanceName:_0x2da64d},_0x2a3502){const _0x3306d2=a0_0x521bf9;return await this[_0x3306d2(0x3a5)][_0x3306d2(0x603)][_0x2da64d]['fetchContacts'](_0x2a3502);}async[a0_0x521bf9(0x1e2)]({instanceName:_0x14e077},_0x4bd47b){const _0x46d5cb=a0_0x521bf9;return await this[_0x46d5cb(0x3a5)]['waInstances'][_0x14e077][_0x46d5cb(0x1e2)](_0x4bd47b);}async[a0_0x521bf9(0x210)]({instanceName:_0x51bc46},_0x165997){const _0x21dea6=a0_0x521bf9;return await this[_0x21dea6(0x3a5)]['waInstances'][_0x51bc46][_0x21dea6(0x210)](_0x165997);}async[a0_0x521bf9(0x243)]({instanceName:_0x4e9a65}){const _0x598e2e=a0_0x521bf9;return await this[_0x598e2e(0x3a5)][_0x598e2e(0x603)][_0x4e9a65][_0x598e2e(0x243)]();}async['fetchChats']({instanceName:_0x24f1bf}){const _0x93f5c2=a0_0x521bf9;return await this[_0x93f5c2(0x3a5)]['waInstances'][_0x24f1bf][_0x93f5c2(0x5a6)]();}async[a0_0x521bf9(0x656)]({instanceName:_0x263440}){const _0x7a872b=a0_0x521bf9;return await this['waMonitor'][_0x7a872b(0x603)][_0x263440][_0x7a872b(0x656)]();}async[a0_0x521bf9(0x601)]({instanceName:_0x1220b5},_0x1a7316){const _0x2fce6d=a0_0x521bf9;return await this[_0x2fce6d(0x3a5)]['waInstances'][_0x1220b5][_0x2fce6d(0x601)](_0x1a7316);}async[a0_0x521bf9(0x1af)]({instanceName:_0x48c0a4},_0x5d119c){const _0x867c2=a0_0x521bf9;return await this[_0x867c2(0x3a5)][_0x867c2(0x603)][_0x48c0a4][_0x867c2(0x1af)](_0x5d119c['number']);}async[a0_0x521bf9(0x1dc)]({instanceName:_0x48a76f},_0x571095){const _0x4d38c2=a0_0x521bf9;return await this[_0x4d38c2(0x3a5)][_0x4d38c2(0x603)][_0x48a76f][_0x4d38c2(0x1dc)](_0x571095['name']);}async[a0_0x521bf9(0x6b2)]({instanceName:_0x434e62},_0x15ff99){const _0x1aeb50=a0_0x521bf9;return await this['waMonitor'][_0x1aeb50(0x603)][_0x434e62][_0x1aeb50(0x6b2)](_0x15ff99[_0x1aeb50(0x26d)]);}async[a0_0x521bf9(0x4d6)]({instanceName:_0x2ef49c},_0x22796b){const _0x55984d=a0_0x521bf9;return await this[_0x55984d(0x3a5)][_0x55984d(0x603)][_0x2ef49c][_0x55984d(0x4d6)](_0x22796b[_0x55984d(0x500)]);}async[a0_0x521bf9(0x3fc)]({instanceName:_0xbefa32},_0x5e2fd8){const _0x3c3697=a0_0x521bf9;return await this[_0x3c3697(0x3a5)][_0x3c3697(0x603)][_0xbefa32][_0x3c3697(0x3fc)]();}},vs=require(a0_0x521bf9(0x5be)),kt=class c{constructor(_0x5a0f1c,_0x4eef6e,_0x1b0e67,_0x4f4917,_0x5cd1e8){const _0x4ba7ee=a0_0x521bf9;this[_0x4ba7ee(0x3a5)]=_0x5a0f1c,this[_0x4ba7ee(0x57b)]=_0x4eef6e,this[_0x4ba7ee(0x431)]=_0x1b0e67,this['eventEmitter']=_0x4f4917,this[_0x4ba7ee(0x193)]=_0x5cd1e8,this['logger']=new v(c[_0x4ba7ee(0x423)]);}async['createInstance']({instanceName:_0x41d6cd,apikey:_0x225b3c,number:_0x24b5a0,proxy:_0x272ef9=!0x0}){const _0x13474f=a0_0x521bf9;try{let _0xd55791=new fe(this[_0x13474f(0x57b)],this[_0x13474f(0x6fc)],this[_0x13474f(0x431)]);_0xd55791[_0x13474f(0x424)]=_0x41d6cd,this['waMonitor'][_0x13474f(0x603)][_0xd55791[_0x13474f(0x424)]]=_0xd55791;let _0x2b53b8={};_0x225b3c?(await this[_0x13474f(0x431)][_0x13474f(0x51a)][_0x13474f(0x205)]({'apikey':_0x225b3c},_0x41d6cd),_0x2b53b8[_0x13474f(0x270)]=_0x225b3c):_0x2b53b8=await this[_0x13474f(0x193)][_0x13474f(0x569)]({'instanceName':_0xd55791[_0x13474f(0x424)]});let _0x341db8;return await _0xd55791[_0x13474f(0x425)](_0x24b5a0,_0x272ef9),await(0x0,vs['delay'])(0x7d0),_0x341db8=_0xd55791[_0x13474f(0x1d5)],{'instance':{'instanceName':_0xd55791[_0x13474f(0x424)],'status':'created'},'hash':_0x2b53b8,'qrcode':_0x341db8};}catch(_0x5a1afb){this[_0x13474f(0x5b4)]['error'](_0x5a1afb);}}async[a0_0x521bf9(0x3b9)]({instanceName:_0x2818bb,number:_0x4755aa=null,proxy:_0xc46785=!0x0}){const _0x4a29f4=a0_0x521bf9;try{let _0x124867=this['waMonitor'][_0x4a29f4(0x603)][_0x2818bb];switch(_0x124867?.[_0x4a29f4(0x3a7)]?.['state']){case _0x4a29f4(0x6dd):return await _0x124867[_0x4a29f4(0x425)](_0x4755aa,_0xc46785),await(0x0,vs[_0x4a29f4(0x5c6)])(0x7d0),_0x124867[_0x4a29f4(0x1d5)];case _0x4a29f4(0x325):return _0x124867[_0x4a29f4(0x1d5)];default:return await this[_0x4a29f4(0x6f6)]({'instanceName':_0x2818bb});}}catch(_0x532486){this[_0x4a29f4(0x5b4)][_0x4a29f4(0x1a3)](_0x532486);}}async[a0_0x521bf9(0x6f6)]({instanceName:_0x5c6dae}){const _0x25ba21=a0_0x521bf9;let _0x1279ae=this[_0x25ba21(0x3a5)][_0x25ba21(0x603)][_0x5c6dae][_0x25ba21(0x3a7)],_0x4f7517=null;_0x1279ae[_0x25ba21(0x2ff)]===_0x25ba21(0x1f1)&&_0x5c6dae&&(_0x4f7517=await this['waMonitor'][_0x25ba21(0x415)](_0x5c6dae));let _0x4540f9=null;return _0x1279ae[_0x25ba21(0x2ff)]===_0x25ba21(0x325)&&_0x5c6dae&&(_0x4540f9=this[_0x25ba21(0x3a5)][_0x25ba21(0x603)][_0x5c6dae][_0x25ba21(0x1d5)]),{'instance':_0x5c6dae,'connectionStatus':_0x1279ae,'instanceInfo':_0x4f7517,'qrcode':_0x4540f9};}async[a0_0x521bf9(0x11b)]({instanceName:_0x4081bb}){const _0x9ca7e6=a0_0x521bf9;try{return this[_0x9ca7e6(0x3a5)][_0x9ca7e6(0x603)][_0x4081bb]?.['client']?.['ws']?.[_0x9ca7e6(0x6dd)](),{'status':_0x9ca7e6(0x63c),'error':!0x1,'response':{'message':_0x9ca7e6(0x5b0)}};}catch(_0x657625){this[_0x9ca7e6(0x5b4)][_0x9ca7e6(0x148)](_0x657625);}}async[a0_0x521bf9(0x585)]({instanceName:_0x5be297}){const _0x96bb4e=a0_0x521bf9;return _0x5be297?this[_0x96bb4e(0x3a5)][_0x96bb4e(0x415)](_0x5be297):this['waMonitor'][_0x96bb4e(0x415)]();}async[a0_0x521bf9(0x6b8)]({instanceName:_0x1dc2db}){const _0x57f8df=a0_0x521bf9;try{return await this[_0x57f8df(0x3a5)][_0x57f8df(0x603)][_0x1dc2db]?.[_0x57f8df(0x736)]?.[_0x57f8df(0x6b8)](_0x57f8df(0x384)+_0x1dc2db),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x5a478d){throw new O(_0x5a478d[_0x57f8df(0x172)]());}}async[a0_0x521bf9(0x5a5)]({instanceName:_0x3ec164}){const _0x5aeb7d=a0_0x521bf9;if((await this[_0x5aeb7d(0x6f6)]({'instanceName':_0x3ec164}))[_0x5aeb7d(0x3a7)][_0x5aeb7d(0x2ff)]===_0x5aeb7d(0x1f1))throw new m([_0x5aeb7d(0x256),_0x5aeb7d(0x689)]);try{return delete this[_0x5aeb7d(0x3a5)]['waInstances'][_0x3ec164],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2a46ab){throw new m(_0x2a46ab['toString']());}}},Z=require(a0_0x521bf9(0x346)),Lt=class{constructor(_0x36924c){const _0x33af05=a0_0x521bf9;this[_0x33af05(0x3a5)]=_0x36924c;}async[a0_0x521bf9(0x64a)]({instanceName:_0x591bbb},_0x36948d){const _0x5bf3d6=a0_0x521bf9;return await this['waMonitor'][_0x5bf3d6(0x603)][_0x591bbb][_0x5bf3d6(0x167)](_0x36948d);}async[a0_0x521bf9(0x6df)]({instanceName:_0x1deb42},_0x34f750){const _0x1952e9=a0_0x521bf9;return await this['waMonitor'][_0x1952e9(0x603)][_0x1deb42][_0x1952e9(0x66a)](_0x34f750);}async[a0_0x521bf9(0x709)]({instanceName:_0x13bd26},_0x3e5d3c){const _0x50471f=a0_0x521bf9;if((0x0,Z['isBase64'])(_0x3e5d3c?.[_0x50471f(0x504)]?.['media'])&&!_0x3e5d3c?.[_0x50471f(0x504)]?.[_0x50471f(0x128)])throw new m(_0x50471f(0x41e));if((0x0,Z[_0x50471f(0x126)])(_0x3e5d3c?.['mediaMessage']?.[_0x50471f(0x4f8)])||(0x0,Z[_0x50471f(0x71a)])(_0x3e5d3c?.[_0x50471f(0x504)]?.['media']))return await this['waMonitor'][_0x50471f(0x603)][_0x13bd26]['mediaMessage'](_0x3e5d3c);throw new m(_0x50471f(0x677));}async[a0_0x521bf9(0x5d8)]({instanceName:_0x300c0a},_0x3eb902){const _0x3d8704=a0_0x521bf9;if((0x0,Z['isURL'])(_0x3eb902['stickerMessage']['image'])||(0x0,Z[_0x3d8704(0x71a)])(_0x3eb902[_0x3d8704(0x335)][_0x3d8704(0x473)]))return await this[_0x3d8704(0x3a5)][_0x3d8704(0x603)][_0x300c0a][_0x3d8704(0x162)](_0x3eb902);throw new m(_0x3d8704(0x677));}async[a0_0x521bf9(0x277)]({instanceName:_0x2568c6},_0x3e4b59){const _0x5e1608=a0_0x521bf9;if((0x0,Z[_0x5e1608(0x126)])(_0x3e4b59[_0x5e1608(0x2fd)][_0x5e1608(0x4c5)])||(0x0,Z[_0x5e1608(0x71a)])(_0x3e4b59['audioMessage'][_0x5e1608(0x4c5)]))return await this[_0x5e1608(0x3a5)]['waInstances'][_0x2568c6][_0x5e1608(0x664)](_0x3e4b59);throw new m(_0x5e1608(0x677));}async[a0_0x521bf9(0x683)]({instanceName:_0x24c28b},_0x12c353){const _0x320606=a0_0x521bf9;if((0x0,Z[_0x320606(0x71a)])(_0x12c353[_0x320606(0x16b)]['mediaMessage']?.['media'])&&!_0x12c353[_0x320606(0x16b)][_0x320606(0x504)]?.[_0x320606(0x128)])throw new m(_0x320606(0x41e));return await this[_0x320606(0x3a5)]['waInstances'][_0x24c28b]['buttonMessage'](_0x12c353);}async['sendLocation']({instanceName:_0x4d8cbd},_0x47cd11){const _0x29b96a=a0_0x521bf9;return await this[_0x29b96a(0x3a5)][_0x29b96a(0x603)][_0x4d8cbd][_0x29b96a(0x155)](_0x47cd11);}async[a0_0x521bf9(0x6de)]({instanceName:_0x28c06c},_0xacd0d5){const _0xd46985=a0_0x521bf9;return await this['waMonitor']['waInstances'][_0x28c06c][_0xd46985(0x295)](_0xacd0d5);}async[a0_0x521bf9(0x22a)]({instanceName:_0x1c9674},_0xfda488){const _0x561645=a0_0x521bf9;return await this[_0x561645(0x3a5)]['waInstances'][_0x1c9674]['listMessage'](_0xfda488);}async[a0_0x521bf9(0x304)]({instanceName:_0x199299},_0x4cb1e8){const _0x15a6d2=a0_0x521bf9;return await this[_0x15a6d2(0x3a5)]['waInstances'][_0x199299][_0x15a6d2(0x3df)](_0x4cb1e8);}async[a0_0x521bf9(0x5a8)]({instanceName:_0x340d86},_0x10d64a){const _0x95cac2=a0_0x521bf9;if(!_0x10d64a[_0x95cac2(0x1b2)][_0x95cac2(0x468)][_0x95cac2(0x29f)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x95cac2(0x3a5)]['waInstances'][_0x340d86]['reactionMessage'](_0x10d64a);}async[a0_0x521bf9(0x3bf)]({instanceName:_0x145c6e},_0x95c95c){const _0x4e6a77=a0_0x521bf9;return await this[_0x4e6a77(0x3a5)]['waInstances'][_0x145c6e][_0x4e6a77(0x3f4)](_0x95c95c);}},Er=require(a0_0x521bf9(0x328)),Ns=require('uuid'),Ft=class c{constructor(_0x4fdbd7,_0x4c0123,_0x494b16){const _0x1a711c=a0_0x521bf9;this['configService']=_0x4fdbd7,this['waMonitor']=_0x4c0123,this[_0x1a711c(0x431)]=_0x494b16,this[_0x1a711c(0x5b4)]=new v(c[_0x1a711c(0x423)]);}async[a0_0x521bf9(0x2c7)](_0xf4f96e){const _0x3cabb6=a0_0x521bf9;let _0x356921=this[_0x3cabb6(0x57b)][_0x3cabb6(0x51f)](_0x3cabb6(0x36f))['JWT'],_0x3b0ab0=(0x0,Er[_0x3cabb6(0x4b3)])({'instanceName':_0xf4f96e['instanceName'],'apiName':ze,'tokenId':(0x0,Ns['v4'])()},_0x356921[_0x3cabb6(0x2a2)],{'expiresIn':_0x356921[_0x3cabb6(0x209)],'encoding':_0x3cabb6(0x437),'subject':_0x3cabb6(0x314)}),_0x59ee09=await this[_0x3cabb6(0x431)][_0x3cabb6(0x51a)][_0x3cabb6(0x205)]({'jwt':_0x3b0ab0},_0xf4f96e[_0x3cabb6(0x424)]);if(_0x59ee09[_0x3cabb6(0x148)])throw this[_0x3cabb6(0x5b4)][_0x3cabb6(0x148)]({'localError':c[_0x3cabb6(0x423)]+_0x3cabb6(0x11a),'error':_0x59ee09['error']}),new m(_0x3cabb6(0x446),_0x59ee09[_0x3cabb6(0x148)]?.['toString']());return{'jwt':_0x3b0ab0};}async['apikey'](_0xc7d106){const _0x1dc4a3=a0_0x521bf9;let _0x1bd2b9=(0x0,Ns['v4'])()[_0x1dc4a3(0x65a)](),_0x6ad269=await this['repository'][_0x1dc4a3(0x51a)]['create']({'apikey':_0x1bd2b9},_0xc7d106[_0x1dc4a3(0x424)]);if(_0x6ad269['error'])throw this[_0x1dc4a3(0x5b4)]['error']({'localError':c[_0x1dc4a3(0x423)]+_0x1dc4a3(0x11a),'error':_0x6ad269['error']}),new m(_0x1dc4a3(0x446),_0x6ad269['error']?.[_0x1dc4a3(0x172)]());return{'apikey':_0x1bd2b9};}async[a0_0x521bf9(0x569)](_0x355640){const _0x201aa0=a0_0x521bf9;let _0x15ac31=this[_0x201aa0(0x57b)][_0x201aa0(0x51f)](_0x201aa0(0x36f));return await this[_0x15ac31[_0x201aa0(0x157)]](_0x355640);}},Ut=class{constructor(_0x1e87e4){this['waMonitor']=_0x1e87e4;}async[a0_0x521bf9(0x22d)](_0x7a6b79,_0x25d813){const _0x3199e2=a0_0x521bf9;return await this[_0x3199e2(0x3a5)]['waInstances'][_0x7a6b79[_0x3199e2(0x424)]][_0x3199e2(0x22d)](_0x25d813);}async[a0_0x521bf9(0x4ea)](_0x2fe648,_0x4901a9){const _0x5f0636=a0_0x521bf9;return await this['waMonitor'][_0x5f0636(0x603)][_0x2fe648[_0x5f0636(0x424)]][_0x5f0636(0x4ea)](_0x4901a9);}async[a0_0x521bf9(0x1b5)](_0x18adbc,_0x259917){const _0x32bb60=a0_0x521bf9;return await this[_0x32bb60(0x3a5)]['waInstances'][_0x18adbc['instanceName']][_0x32bb60(0x1b5)](_0x259917);}async[a0_0x521bf9(0x519)](_0x5cb722,_0x41f78b){const _0x2e2b8d=a0_0x521bf9;return await this[_0x2e2b8d(0x3a5)]['waInstances'][_0x5cb722['instanceName']][_0x2e2b8d(0x519)](_0x41f78b);}async[a0_0x521bf9(0x293)](_0x27b07b,_0x56f053){const _0x32fe33=a0_0x521bf9;return await this[_0x32fe33(0x3a5)][_0x32fe33(0x603)][_0x27b07b[_0x32fe33(0x424)]][_0x32fe33(0x293)](_0x56f053);}async[a0_0x521bf9(0x581)](_0x4b4a85,_0x7b6995){const _0x223488=a0_0x521bf9;return await this['waMonitor'][_0x223488(0x603)][_0x4b4a85[_0x223488(0x424)]][_0x223488(0x38b)](_0x7b6995);}async[a0_0x521bf9(0x5f4)](_0x4342c6){const _0x2256f9=a0_0x521bf9;return await this[_0x2256f9(0x3a5)]['waInstances'][_0x4342c6['instanceName']][_0x2256f9(0x5f4)]();}async[a0_0x521bf9(0x3db)](_0xf3afda,_0xf3a5f8){const _0x3bee8e=a0_0x521bf9;return await this[_0x3bee8e(0x3a5)][_0x3bee8e(0x603)][_0xf3afda[_0x3bee8e(0x424)]][_0x3bee8e(0x3db)](_0xf3a5f8);}async['joinGroup'](_0x46aa8b,_0x4c1786){const _0x5b2b89=a0_0x521bf9;return await this[_0x5b2b89(0x3a5)][_0x5b2b89(0x603)][_0x46aa8b[_0x5b2b89(0x424)]][_0x5b2b89(0x5cd)](_0x4c1786);}async[a0_0x521bf9(0x171)](_0x5eea2b,_0x4fa5df){const _0x16406b=a0_0x521bf9;return await this['waMonitor'][_0x16406b(0x603)][_0x5eea2b[_0x16406b(0x424)]][_0x16406b(0x171)](_0x4fa5df);}async[a0_0x521bf9(0x2e3)](_0x21e278,_0x101134){const _0x2a3c9b=a0_0x521bf9;return await this[_0x2a3c9b(0x3a5)]['waInstances'][_0x21e278[_0x2a3c9b(0x424)]][_0x2a3c9b(0x2e3)](_0x101134);}async[a0_0x521bf9(0x496)](_0x5b64f4,_0xac0883){const _0x25316e=a0_0x521bf9;return await this[_0x25316e(0x3a5)][_0x25316e(0x603)][_0x5b64f4[_0x25316e(0x424)]][_0x25316e(0x405)](_0xac0883);}async['toggleEphemeral'](_0x411ceb,_0xe0da91){const _0x216f36=a0_0x521bf9;return await this[_0x216f36(0x3a5)]['waInstances'][_0x411ceb[_0x216f36(0x424)]][_0x216f36(0x5e7)](_0xe0da91);}async['leaveGroup'](_0xdfd2ab,_0x358222){const _0x4cde92=a0_0x521bf9;return await this['waMonitor'][_0x4cde92(0x603)][_0xdfd2ab[_0x4cde92(0x424)]]['leaveGroup'](_0x358222);}},Jt=class{constructor(_0x3aa0ef){this['waMonitor']=_0x3aa0ef;}[a0_0x521bf9(0x205)](_0x121210,_0x557ab3){const _0x1408cb=a0_0x521bf9;return this[_0x1408cb(0x3a5)]['waInstances'][_0x121210[_0x1408cb(0x424)]][_0x1408cb(0x111)](_0x557ab3);}async['find'](_0x11b361){const _0x5b18fc=a0_0x521bf9;try{return await this[_0x5b18fc(0x3a5)]['waInstances'][_0x11b361[_0x5b18fc(0x424)]][_0x5b18fc(0x5ac)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x521bf9(0x453)),jt=class{constructor(_0x3a2720){const _0x4f61d8=a0_0x521bf9;this[_0x4f61d8(0x3a5)]=_0x3a2720;}async[a0_0x521bf9(0x1e6)](_0x38e9a3,_0x2f8c02){const _0x431a8b=a0_0x521bf9;return await this['waMonitor'][_0x431a8b(0x603)][_0x38e9a3[_0x431a8b(0x424)]]['editScheduleMessage'](_0x2f8c02);}async[a0_0x521bf9(0x5b3)](_0x47ff00){const _0x394e97=a0_0x521bf9;return await this[_0x394e97(0x3a5)]['waInstances'][_0x47ff00[_0x394e97(0x424)]][_0x394e97(0x5b3)]();}async[a0_0x521bf9(0x2db)](_0x2954d7){const _0x223b6b=a0_0x521bf9;return await this[_0x223b6b(0x3a5)][_0x223b6b(0x603)][_0x2954d7['instanceName']][_0x223b6b(0x2db)]();}async['getAutomateSystem'](_0x2f99e5){const _0x3e6016=a0_0x521bf9;return await this[_0x3e6016(0x3a5)][_0x3e6016(0x603)][_0x2f99e5[_0x3e6016(0x424)]][_0x3e6016(0x556)]();}async['updateAgent'](_0x2d994c,_0x506aa8){const _0x48d236=a0_0x521bf9;return await this[_0x48d236(0x3a5)]['waInstances'][_0x2d994c[_0x48d236(0x424)]][_0x48d236(0x358)](_0x506aa8);}async[a0_0x521bf9(0x21f)](_0x226601,_0x6e5441){const _0x5870e2=a0_0x521bf9;return await this[_0x5870e2(0x3a5)][_0x5870e2(0x603)][_0x226601[_0x5870e2(0x424)]][_0x5870e2(0x21f)](_0x6e5441);}async[a0_0x521bf9(0x339)](_0x1d4047,_0x3b74ee){const _0x23b056=a0_0x521bf9;return await this[_0x23b056(0x3a5)][_0x23b056(0x603)][_0x1d4047[_0x23b056(0x424)]]['updateFlowConfig'](_0x3b74ee);}async['startFlow'](_0x160914,_0x5431aa){const _0x4c618f=a0_0x521bf9;return await this[_0x4c618f(0x3a5)]['waInstances'][_0x160914[_0x4c618f(0x424)]][_0x4c618f(0x31c)](_0x5431aa);}async['getConversation'](_0x46d5a3,_0x121116){const _0x452571=a0_0x521bf9;return await this[_0x452571(0x3a5)][_0x452571(0x603)][_0x46d5a3[_0x452571(0x424)]]['getConversation'](_0x121116);}async[a0_0x521bf9(0x4f5)](_0x316423,_0x5eabb4){const _0x49ab33=a0_0x521bf9;return await this[_0x49ab33(0x3a5)]['waInstances'][_0x316423[_0x49ab33(0x424)]][_0x49ab33(0x4f5)](_0x5eabb4);}async[a0_0x521bf9(0x671)](_0x307477,_0x222f41){const _0x26932a=a0_0x521bf9;return await this['waMonitor'][_0x26932a(0x603)][_0x307477[_0x26932a(0x424)]][_0x26932a(0x671)](_0x222f41);}async[a0_0x521bf9(0x45a)](_0x632133,_0x1a9c14){const _0x344068=a0_0x521bf9;return await this['waMonitor'][_0x344068(0x603)][_0x632133[_0x344068(0x424)]][_0x344068(0x45a)](_0x1a9c14);}async[a0_0x521bf9(0x316)](_0x5bf47d,_0x109089){const _0x25173f=a0_0x521bf9;return await this[_0x25173f(0x3a5)][_0x25173f(0x603)][_0x5bf47d[_0x25173f(0x424)]][_0x25173f(0x316)](_0x109089[_0x25173f(0x423)]);}async[a0_0x521bf9(0x55e)](_0x3cb8f7,_0x34c82d){const _0x2920ed=a0_0x521bf9;return await this[_0x2920ed(0x3a5)][_0x2920ed(0x603)][_0x3cb8f7['instanceName']][_0x2920ed(0x55e)](_0x34c82d);}async['editFlow'](_0x48db88,_0x252291){const _0x4ff4c6=a0_0x521bf9;return await this[_0x4ff4c6(0x3a5)]['waInstances'][_0x48db88[_0x4ff4c6(0x424)]][_0x4ff4c6(0x397)](_0x252291);}async['editFlowBlock'](_0x58aeba,_0x43805e){const _0x2c3c2d=a0_0x521bf9;return await this[_0x2c3c2d(0x3a5)][_0x2c3c2d(0x603)][_0x58aeba[_0x2c3c2d(0x424)]][_0x2c3c2d(0x426)](_0x43805e);}async[a0_0x521bf9(0x698)](_0x47fa86,_0x474223){const _0x4974b9=a0_0x521bf9;return await this[_0x4974b9(0x3a5)]['waInstances'][_0x47fa86['instanceName']][_0x4974b9(0x698)](_0x474223);}async['editFlowGroup'](_0x1fe468,_0x2ff9a5){const _0x24b040=a0_0x521bf9;return await this['waMonitor']['waInstances'][_0x1fe468[_0x24b040(0x424)]]['editFlowGroup'](_0x2ff9a5);}async[a0_0x521bf9(0x19e)](_0x38d28a,_0x5be42e){const _0x2e586=a0_0x521bf9;return await this[_0x2e586(0x3a5)][_0x2e586(0x603)][_0x38d28a[_0x2e586(0x424)]][_0x2e586(0x19e)](_0x5be42e);}async['editFlowVaredit'](_0x119c52,_0x10fd5d){const _0x5e9872=a0_0x521bf9;return await this[_0x5e9872(0x3a5)][_0x5e9872(0x603)][_0x119c52[_0x5e9872(0x424)]][_0x5e9872(0x268)](_0x10fd5d);}async[a0_0x521bf9(0x10d)](_0x4ee302,_0x4c0d0e){const _0x244bc0=a0_0x521bf9;return await this[_0x244bc0(0x3a5)][_0x244bc0(0x603)][_0x4ee302[_0x244bc0(0x424)]][_0x244bc0(0x10d)](_0x4c0d0e);}async[a0_0x521bf9(0x493)](_0x2419d8,_0x5be1b1){const _0x51223f=a0_0x521bf9;return await this['waMonitor'][_0x51223f(0x603)][_0x2419d8['instanceName']][_0x51223f(0x493)](_0x5be1b1[_0x51223f(0x423)]);}async['allFlows'](_0x53bc57){const _0x5f417e=a0_0x521bf9;return await this[_0x5f417e(0x3a5)]['waInstances'][_0x53bc57[_0x5f417e(0x424)]][_0x5f417e(0x3fe)]();}},qt=class{constructor(_0x45f4dc){const _0x74fe50=a0_0x521bf9;this[_0x74fe50(0x2a3)]=_0x45f4dc;}async['createWebhook'](_0x59f4bd,_0x499555){const _0x5580d3=a0_0x521bf9;return this['webhookService'][_0x5580d3(0x205)](_0x59f4bd,_0x499555);}async[a0_0x521bf9(0x5ac)](_0xde306){const _0x4c185f=a0_0x521bf9;return this['webhookService'][_0x4c185f(0x375)](_0xde306);}},Vt=class extends I{constructor(_0xb41892,_0x498522){const _0x2ea277=a0_0x521bf9;super(_0x498522),this[_0x2ea277(0x2d6)]=_0xb41892,this['configService']=_0x498522;}async[a0_0x521bf9(0x205)](_0x5c027f,_0x3056ce){const _0x40f3fa=a0_0x521bf9;try{return this['dbSettings'][_0x40f3fa(0x47a)]?{'insertCount':(await this[_0x40f3fa(0x2d6)][_0x40f3fa(0x701)]({'_id':_0x3056ce},{..._0x5c027f},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x3e3344){return _0x3e3344;}}async['delete'](_0xd4f07d){const _0x3ecb59=a0_0x521bf9;try{if(this[_0x3ecb59(0x344)][_0x3ecb59(0x47a)]){await this[_0x3ecb59(0x2d6)][_0x3ecb59(0x636)]({'_id':_0xd4f07d});return;}}catch(_0x5d33e4){return{'error':_0x5d33e4};}}async['find'](_0x7dafc1){const _0x3dcc80=a0_0x521bf9;try{if(this[_0x3dcc80(0x344)]['ENABLED'])return await this[_0x3dcc80(0x2d6)][_0x3dcc80(0x1f2)]({'_id':_0x7dafc1});}catch{return{};}}},Bt=class extends I{constructor(_0x2ef9b7,_0x3320b1){const _0x3a99d4=a0_0x521bf9;super(_0x3320b1),this[_0x3a99d4(0x2e5)]=_0x2ef9b7,this[_0x3a99d4(0x57b)]=_0x3320b1,this[_0x3a99d4(0x51a)]=_0x3320b1['get']('AUTHENTICATION');}async['create'](_0xc60e6f,_0x55c35d){const _0x4500bc=a0_0x521bf9;try{if(this[_0x4500bc(0x344)][_0x4500bc(0x47a)])return{'insertCount':(await this[_0x4500bc(0x2e5)][_0x4500bc(0x56c)]({'_id':_0x55c35d},{'$set':{..._0xc60e6f}},{'upsert':!0x0}))[_0x4500bc(0x230)]};}catch(_0x33d7fd){return{'error':_0x33d7fd};}}async['updateAll'](_0x2cd4eb,_0x3c9782){const _0x4555eb=a0_0x521bf9;try{if(this[_0x4555eb(0x344)][_0x4555eb(0x47a)])return{'insertCount':(await this[_0x4555eb(0x2e5)][_0x4555eb(0x567)](_0x2cd4eb,{'$set':_0x3c9782},{'upsert':!0x1}))[_0x4555eb(0x230)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x4ed212){return{'error':_0x4ed212};}}async[a0_0x521bf9(0x255)](_0x5a8492){const _0x5440f4=a0_0x521bf9;try{if(this[_0x5440f4(0x344)][_0x5440f4(0x47a)])return{'insertCount':(await this[_0x5440f4(0x2e5)][_0x5440f4(0x255)](_0x5a8492))[_0x5440f4(0x544)]};throw new Error(_0x5440f4(0x275));}catch(_0x3210c2){return{'error':_0x3210c2};}}async['delete'](_0x30aa25){const _0x57f2c3=a0_0x521bf9;try{if(this['dbSettings'][_0x57f2c3(0x47a)]){await this[_0x57f2c3(0x2e5)][_0x57f2c3(0x636)]({'_id':_0x30aa25});return;}}catch(_0x4e4d81){return{'error':_0x4e4d81};}}async[a0_0x521bf9(0x375)](_0x3729ba){const _0x2f8e15=a0_0x521bf9;try{if(this[_0x2f8e15(0x344)][_0x2f8e15(0x47a)])return await this[_0x2f8e15(0x2e5)]['findOne']({'_id':_0x3729ba});}catch{return{};}}async[a0_0x521bf9(0x160)](){const _0x54f76c=a0_0x521bf9;try{if(this[_0x54f76c(0x344)][_0x54f76c(0x47a)])return await this['authModel'][_0x54f76c(0x375)]();}catch{return[];}}},Gt=class extends I{[a0_0x521bf9(0x436)](_0xd0d15c){return ta(_0xd0d15c);}async['copyDataToNewModel'](_0x1586b1){const _0x40c432=a0_0x521bf9;try{let _0xf85f90=sa,_0x17d0fe=this[_0x40c432(0x436)](_0x1586b1),_0x393477=await _0xf85f90[_0x40c432(0x375)]({'owner':_0x1586b1})['lean'](),_0x53e512=[],_0x183001=[];for(let _0x52100f of _0x393477)await _0x17d0fe['findById'](_0x52100f['_id'])[_0x40c432(0x3d9)]()||(_0x53e512[_0x40c432(0x330)](_0x52100f),_0x183001['push'](_0x52100f[_0x40c432(0x6ad)]));return _0x53e512[_0x40c432(0x4a0)]>0x0&&await _0x17d0fe[_0x40c432(0x356)](_0x53e512,{'ordered':!0x1}),{'success':!0x0};}catch(_0x16b46e){return console['error'](_0x40c432(0x72f),_0x16b46e),{'success':!0x1,'error':_0x16b46e};}}async[a0_0x521bf9(0x327)](_0x16c65d,_0x43b34d){const _0x43bc5b=a0_0x521bf9;try{let _0x20d066=this[_0x43bc5b(0x436)](_0x43b34d),_0x280d51=A(_0x16c65d['where']);return{'deletedCount':(await _0x20d066[_0x43bc5b(0x255)](_0x280d51))[_0x43bc5b(0x544)]};}catch(_0x5f4393){return{'error':_0x5f4393?.[_0x43bc5b(0x172)]()};}}async[a0_0x521bf9(0x636)](_0x6506c0,_0x5b03be){const _0x24ea24=a0_0x521bf9;try{let _0x2c37af=this[_0x24ea24(0x436)](_0x5b03be),_0x383595=A(_0x6506c0[_0x24ea24(0x53c)]);return{'deletedCount':(await _0x2c37af['deleteOne'](_0x383595))[_0x24ea24(0x544)]};}catch(_0x10e77f){return{'error':_0x10e77f?.[_0x24ea24(0x172)]()};}}async[a0_0x521bf9(0x56c)](_0x1bf581,_0x55e092,_0x385273){const _0x322327=a0_0x521bf9;try{return await this[_0x322327(0x436)](_0x385273)[_0x322327(0x6c4)](_0x1bf581,_0x55e092,{'new':!0x0});}catch(_0xd00364){return console['error'](_0x322327(0x121),_0xd00364),null;}}async['createAndSave'](_0x3da1ca,_0x333625){const _0x4e6a09=a0_0x521bf9;try{let _0x384ae7=this[_0x4e6a09(0x436)](_0x333625);return await new _0x384ae7(_0x3da1ca)[_0x4e6a09(0x43c)]();}catch(_0x57f637){return console[_0x4e6a09(0x148)](_0x4e6a09(0x53a),_0x57f637),null;}}async['updateMany'](_0x22a118,_0x1d2bd6,_0xf2dc63){const _0x51990f=a0_0x521bf9;try{return{'modifiedCount':(await this[_0x51990f(0x436)](_0xf2dc63)['updateMany'](_0x22a118,{'$set':_0x1d2bd6}))[_0x51990f(0x230)]};}catch(_0x4a28bf){return console[_0x51990f(0x148)](_0x51990f(0x42a),_0x4a28bf),{'error':_0x4a28bf};}}async[a0_0x521bf9(0x160)](_0x47cff9,_0xab5803){const _0x3900c0=a0_0x521bf9;try{let _0x1f553f=this['getFlowModelForOwner'](_0xab5803),_0x15295d=A(_0x47cff9['where']);return await _0x1f553f['find'](_0x15295d)[_0x3900c0(0x4a1)](_0x47cff9?.['limit']??0x0)[_0x3900c0(0x3d9)]();}catch{return[];}}async[a0_0x521bf9(0x1f2)](_0x29c58d,_0x2b1eb2){const _0x7f8f3=a0_0x521bf9;try{let _0x59d6f7=this['getFlowModelForOwner'](_0x2b1eb2),_0x78a636=A(_0x29c58d[_0x7f8f3(0x53c)]);return await _0x59d6f7[_0x7f8f3(0x1f2)](_0x78a636)[_0x7f8f3(0x3d9)]();}catch{return null;}}async[a0_0x521bf9(0x74a)](_0x4cbedf){const _0x43e06f=a0_0x521bf9;try{return await this['getFlowModelForOwner'](_0x4cbedf)[_0x43e06f(0x32c)]['drop'](),{'success':!0x0};}catch(_0xf8a97b){return console['error'](_0xf8a97b),{'success':!0x1,'error':_0xf8a97b};}}},Wt=class extends I{['getConversationModelForOwner'](_0xcebe4e){return ra(_0xcebe4e);}async[a0_0x521bf9(0x4a9)](_0x3b1045){const _0x387147=a0_0x521bf9;try{let _0x1f5997=oa,_0x1af58a=this[_0x387147(0x36d)](_0x3b1045),_0x2719c2=await _0x1f5997['find']({'owner':_0x3b1045})[_0x387147(0x3d9)](),_0x33e376=[],_0x1f0fba=[];for(let _0x101fdc of _0x2719c2)await _0x1af58a[_0x387147(0x625)](_0x101fdc[_0x387147(0x6ad)])[_0x387147(0x3d9)]()||(_0x33e376[_0x387147(0x330)](_0x101fdc),_0x1f0fba['push'](_0x101fdc[_0x387147(0x6ad)]));return _0x33e376[_0x387147(0x4a0)]>0x0&&await _0x1af58a['insertMany'](_0x33e376,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2306cd){return console[_0x387147(0x148)](_0x387147(0x72f),_0x2306cd),{'success':!0x1,'error':_0x2306cd};}}async['insert'](_0x170d85){const _0x1ee76e=a0_0x521bf9;if(_0x170d85[_0x1ee76e(0x4a0)]!==0x0)try{return{'insertCount':(await this[_0x1ee76e(0x36d)](_0x170d85[0x0][_0x1ee76e(0x5e5)])[_0x1ee76e(0x356)]([..._0x170d85]))[_0x1ee76e(0x4a0)]};}catch(_0x4ad5cc){return _0x4ad5cc;}}async[a0_0x521bf9(0x327)](_0x585238,_0x3010bb){const _0x55b633=a0_0x521bf9;try{let _0x3d53b0=this[_0x55b633(0x36d)](_0x3010bb),_0x2314f0=A(_0x585238[_0x55b633(0x53c)]);return{'deletedCount':(await _0x3d53b0[_0x55b633(0x255)](_0x2314f0))['deletedCount']};}catch(_0x5d6db2){return{'error':_0x5d6db2?.['toString']()};}}async[a0_0x521bf9(0x636)](_0x5c3ac0,_0x52fbf2){const _0x3f8ccd=a0_0x521bf9;try{let _0x3f1720=this[_0x3f8ccd(0x36d)](_0x52fbf2),_0x3f4664=A(_0x5c3ac0[_0x3f8ccd(0x53c)]);return{'deletedCount':(await _0x3f1720[_0x3f8ccd(0x636)](_0x3f4664))['deletedCount']};}catch(_0x1bfaae){return{'error':_0x1bfaae?.[_0x3f8ccd(0x172)]()};}}async[a0_0x521bf9(0x343)](_0x4fdbb7,_0x3abd85){const _0x2c56ef=a0_0x521bf9;try{if(_0x4fdbb7[_0x2c56ef(0x4a0)]===0x0)return;let _0x270e42=this[_0x2c56ef(0x36d)](_0x3abd85),_0x5d34fa=_0x4fdbb7['map'](_0x573180=>({'updateOne':{'filter':{'name':_0x573180[_0x2c56ef(0x423)],'owner':_0x3abd85},'update':{..._0x573180}}})),{modifiedCount:_0x22823a}=await _0x270e42['bulkWrite'](_0x5d34fa);return{'insertCount':_0x22823a};}catch{return;}}async[a0_0x521bf9(0x567)](_0x422c1b,_0x3998e2,_0x55e417){const _0x3929fa=a0_0x521bf9;try{return{'modifiedCount':(await this[_0x3929fa(0x36d)](_0x55e417)[_0x3929fa(0x567)](_0x422c1b,{'$set':_0x3998e2}))['modifiedCount']};}catch(_0x39db9c){return console[_0x3929fa(0x148)](_0x3929fa(0x742),_0x39db9c),{'error':_0x39db9c};}}async[a0_0x521bf9(0x56c)](_0x44c803,_0x17ee79,_0x47b6db){const _0x5a8fa8=a0_0x521bf9;try{return await this[_0x5a8fa8(0x36d)](_0x47b6db)[_0x5a8fa8(0x5da)]({'_id':_0x44c803},{'$set':_0x17ee79},{'new':!0x0,'upsert':!0x0})[_0x5a8fa8(0x3d9)]();}catch(_0x2cd820){return console['error'](_0x2cd820),null;}}async[a0_0x521bf9(0x375)](_0x59aa37,_0x5ef073){const _0x194f4a=a0_0x521bf9;try{return await this[_0x194f4a(0x36d)](_0x5ef073)[_0x194f4a(0x375)](_0x59aa37)[_0x194f4a(0x198)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0xdca4ff,_0x3f428d){const _0x52459f=a0_0x521bf9;try{return await this[_0x52459f(0x36d)](_0x3f428d)[_0x52459f(0x1f2)]({..._0xdca4ff[_0x52459f(0x53c)]})[_0x52459f(0x3d9)]();}catch{return null;}}async['deleteAll'](_0x3f66ac){const _0x28243a=a0_0x521bf9;try{return await this['getConversationModelForOwner'](_0x3f66ac)[_0x28243a(0x32c)][_0x28243a(0x14d)](),{'success':!0x0};}catch(_0x121477){return console['error'](_0x121477),{'success':!0x1,'error':_0x121477};}}},zt=class extends I{[a0_0x521bf9(0x4ec)](_0x2cae61){return na(_0x2cae61);}async['copyDataToNewModel'](_0x3e3c1b){const _0x5a4ef4=a0_0x521bf9;try{let _0x52830b=ca,_0x3e0037=this[_0x5a4ef4(0x4ec)](_0x3e3c1b),_0x5f3054=await _0x52830b['find']({'owner':_0x3e3c1b})[_0x5a4ef4(0x3d9)](),_0xf0f591=[],_0x13acaf=[];for(let _0x4faa9e of _0x5f3054)await _0x3e0037['findById'](_0x4faa9e['_id'])[_0x5a4ef4(0x3d9)]()||(_0xf0f591['push'](_0x4faa9e),_0x13acaf[_0x5a4ef4(0x330)](_0x4faa9e[_0x5a4ef4(0x6ad)]));return _0xf0f591['length']>0x0&&await _0x3e0037['insertMany'](_0xf0f591,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3bba2f){return console['error'](_0x5a4ef4(0x72f),_0x3bba2f),{'success':!0x1,'error':_0x3bba2f};}}async[a0_0x521bf9(0x2b0)](_0x40b39a,_0x34f43c){const _0x1690cb=a0_0x521bf9;try{let _0x115b2a=this['getScheduleMessageModelForOwner'](_0x34f43c);return await new _0x115b2a(_0x40b39a)['save']();}catch(_0x12a29f){return console[_0x1690cb(0x148)](_0x1690cb(0x53a),_0x12a29f),null;}}async['deleteOne'](_0x4ac53c,_0x515880){const _0x1330e8=a0_0x521bf9;try{return await this['getScheduleMessageModelForOwner'](_0x515880)[_0x1330e8(0x3e4)](_0x4ac53c),{};}catch(_0xf4a104){return{'error':_0xf4a104?.['toString']()};}}async[a0_0x521bf9(0x56c)](_0x16601e,_0x5ed95f,_0x87ad79){const _0x1b8fb6=a0_0x521bf9;try{return await this[_0x1b8fb6(0x4ec)](_0x87ad79)[_0x1b8fb6(0x5da)](_0x16601e,{'$set':_0x5ed95f},{'new':!0x0})['lean']();}catch(_0x419781){return console[_0x1b8fb6(0x148)](_0x1b8fb6(0x507),_0x419781),null;}}async[a0_0x521bf9(0x192)](_0x1dbe1d,_0x3209f3,_0x476ee7){const _0x1988ff=a0_0x521bf9;try{return await this[_0x1988ff(0x4ec)](_0x476ee7)[_0x1988ff(0x6c4)](_0x1dbe1d,_0x3209f3,{'new':!0x0})[_0x1988ff(0x3d9)]();}catch(_0x2057cd){return console[_0x1988ff(0x148)](_0x1988ff(0x507),_0x2057cd),null;}}async['find'](_0x54089d,_0x4260ff){const _0xe30ec0=a0_0x521bf9;try{return await this[_0xe30ec0(0x4ec)](_0x4260ff)[_0xe30ec0(0x375)](_0x54089d[_0xe30ec0(0x53c)])[_0xe30ec0(0x4a1)](_0x54089d?.[_0xe30ec0(0x4a1)]??0x0)['sort']({'when':0x1})[_0xe30ec0(0x3d9)]();}catch{return[];}}async['findOne'](_0xdde0e8,_0x408328){const _0x2cba58=a0_0x521bf9;try{return await this[_0x2cba58(0x4ec)](_0x408328)['findOne'](_0xdde0e8[_0x2cba58(0x53c)])[_0x2cba58(0x198)]({'when':0x1})[_0x2cba58(0x3d9)]();}catch{return null;}}async[a0_0x521bf9(0x625)](_0x43e4db,_0x1ba897){const _0x25c3b8=a0_0x521bf9;try{return await this[_0x25c3b8(0x4ec)](_0x1ba897)[_0x25c3b8(0x625)](_0x43e4db)[_0x25c3b8(0x3d9)]();}catch{return null;}}async['deleteMany'](_0x1cb76d,_0x4406de){const _0x42118d=a0_0x521bf9;try{return{'deletedCount':(await this[_0x42118d(0x4ec)](_0x4406de)[_0x42118d(0x255)](_0x1cb76d))[_0x42118d(0x544)]};}catch(_0x59d61e){return console['error'](_0x42118d(0x48d),_0x59d61e),{'error':_0x59d61e};}}async[a0_0x521bf9(0x74a)](_0x5d522b){const _0x369140=a0_0x521bf9;try{return await this[_0x369140(0x4ec)](_0x5d522b)[_0x369140(0x32c)][_0x369140(0x14d)](),{'success':!0x0};}catch(_0x3704b7){return console[_0x369140(0x148)](_0x3704b7),{'success':!0x1,'error':_0x3704b7};}}},Ht=class extends I{async['update'](_0x12f6c8,_0x520d4b){const _0x226c7a=a0_0x521bf9;try{if(this[_0x226c7a(0x344)][_0x226c7a(0x47a)]){let _0xfe2897=await _e[_0x226c7a(0x5da)]({'_id':_0x520d4b},{'$set':_0x12f6c8},{'new':!0x0});return console['log'](_0x226c7a(0x349),_0xfe2897),_0xfe2897;}}catch(_0x9f15ff){throw console[_0x226c7a(0x148)](_0x226c7a(0x517),_0x9f15ff),_0x9f15ff;}}async[a0_0x521bf9(0x5c2)](_0x11c996){const _0x1fcebd=a0_0x521bf9;try{let _0x578208=await _e['findById'](_0x11c996);return _0x578208||(_0x578208=new _e({'_id':_0x11c996}),await _0x578208['save']()),_0x578208;}catch(_0x4b702a){return console[_0x1fcebd(0x148)](_0x1fcebd(0x46e),_0x4b702a),null;}}},wo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Vt(Qs,b),Mo=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x521bf9(0x531)]()),B=new xt(Zt,b,ce),Oo=new Ft(b,B,ce),Io=new Jt(B),ps=new qt(Io),T=new jt(B),re=new kt(B,b,ce,Zt,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x521bf9(0x2ea)](a0_0x521bf9(0x2ae));var gg=require(a0_0x521bf9(0x6fb)),Rs=require('fs'),Cr=R(require('https')),Mr=R(require(a0_0x521bf9(0x2ee))),ve=class c{static #e;static set[a0_0x521bf9(0x467)](_0x56ede9){this.#e=_0x56ede9;}static get[a0_0x521bf9(0x465)](){const _0x3ea6e3=a0_0x521bf9;let {FULLCHAIN:_0x2aabac,PRIVKEY:_0x83bf82}=b[_0x3ea6e3(0x51f)](_0x3ea6e3(0x62d));return Cr[_0x3ea6e3(0x10a)]({'cert':(0x0,Rs[_0x3ea6e3(0x178)])(_0x2aabac),'key':(0x0,Rs['readFileSync'])(_0x83bf82)},c.#e);}static get[a0_0x521bf9(0x2ee)](){return Mr['createServer'](c.#e);}},ue=R(require('fs')),Or=R(require(a0_0x521bf9(0x164))),Ne=R(require('axios')),Te=R(require(a0_0x521bf9(0x247))),Ae=require(a0_0x521bf9(0x11d));function Do(){const _0x3c0bc0=a0_0x521bf9;B['loadInstance']();let _0x45e873=Te[_0x3c0bc0(0x733)][_0x3c0bc0(0x1d7)](__dirname,_0x3c0bc0(0x31e));Ar(_0x45e873);}var Ar=_0x482b76=>{const _0x2a56dc=a0_0x521bf9;let _0x171b25=ue[_0x2a56dc(0x733)]['readdirSync'](_0x482b76),_0x5f0abe=0xc*0x3c*0x3c*0x3e8,_0xbc9f24=0x2*0x3c*0x3c*0x3e8,_0xab8a37=new Date()['getTime']();_0x171b25[_0x2a56dc(0x592)](_0xe51f73=>{const _0x5dea80=_0x2a56dc;let _0x427717=Te[_0x5dea80(0x733)][_0x5dea80(0x1d7)](_0x482b76,_0xe51f73),_0x358ac9=ue[_0x5dea80(0x733)][_0x5dea80(0x2b3)](_0x427717)['birthtime'][_0x5dea80(0x156)]();_0xab8a37-_0x358ac9>_0x5f0abe&&(ue[_0x5dea80(0x733)][_0x5dea80(0x2b1)](_0x427717),console[_0x5dea80(0x1a3)](_0x5dea80(0x4de)+_0xe51f73));}),setTimeout(()=>Ar(_0x482b76),_0xbc9f24);};function xo(){const _0x1991b3=a0_0x521bf9;let _0x197f1f=new v(_0x1991b3(0x1df)),_0x502ff9=(0x0,de[_0x1991b3(0x733)])();_0x502ff9[_0x1991b3(0x62c)]((0x0,Tr[_0x1991b3(0x733)])({'origin'(_0x28f74c,_0x39597b){const _0x526b09=_0x1991b3;let {ORIGIN:_0x3711d5}=b[_0x526b09(0x51f)]('CORS');return _0x28f74c||(_0x28f74c='*'),_0x3711d5[_0x526b09(0x317)]('*')!==-0x1||_0x3711d5[_0x526b09(0x317)](_0x28f74c)!==-0x1?_0x39597b(null,!0x0):_0x39597b(new Error(_0x526b09(0x211)));},'methods':[...b[_0x1991b3(0x51f)]('CORS')[_0x1991b3(0x136)]],'credentials':b['get'](_0x1991b3(0x67c))[_0x1991b3(0x5d3)]}),(0x0,de[_0x1991b3(0x646)])({'extended':!0x0,'limit':_0x1991b3(0x6ce)}),(0x0,de[_0x1991b3(0x12e)])({'limit':_0x1991b3(0x6ce)})),_0x502ff9[_0x1991b3(0x62c)]((_0x275f59,_0x1984da,_0x12c439)=>{const _0x15c224=_0x1991b3;_0x275f59[_0x15c224(0x247)]['startsWith'](_0x15c224(0x4bb))?_0x12c439():(0x0,Rr[_0x15c224(0x733)])()(_0x275f59,_0x1984da,_0x12c439);}),_0x502ff9[_0x1991b3(0x3dd)](_0x1991b3(0x4cd),_0x1991b3(0x332)),_0x502ff9['set']('views',(0x0,As[_0x1991b3(0x1d7)])(ae,_0x1991b3(0x57d))),_0x502ff9['use'](de[_0x1991b3(0x733)][_0x1991b3(0x4fe)]((0x0,As[_0x1991b3(0x1d7)])(ae,_0x1991b3(0x188)))),_0x502ff9[_0x1991b3(0x62c)]((_0x5ac1ad,_0x2075b6,_0x1108b5)=>{const _0x5d3b84=_0x1991b3;let _0x272afc=_0x2075b6[_0x5d3b84(0x73d)];_0x2075b6[_0x5d3b84(0x73d)]=function(_0x23026f){const _0x271a71=_0x5d3b84;if(_0x5ac1ad['query'][_0x271a71(0x5a3)]===_0x271a71(0x629)||_0x5ac1ad['headers'][_0x271a71(0x6a5)]===_0x271a71(0x629)){let _0xcaa401=JSON[_0x271a71(0x564)](_0x23026f);_0x23026f=JSON[_0x271a71(0x62e)](_0x437e19(_0xcaa401));}return _0x272afc[_0x271a71(0x215)](_0x2075b6,[_0x23026f]);},_0x1108b5();}),_0x502ff9[_0x1991b3(0x62c)]('/',vt),_0x502ff9[_0x1991b3(0x62c)]((_0x4a2fb6,_0x44e947,_0x5afd3a,_0x4a9711)=>{const _0x4792ff=_0x1991b3;if(_0x4a2fb6)return _0x5afd3a['status'](_0x4a2fb6[_0x4792ff(0x26d)]||0x1f4)[_0x4792ff(0x12e)](_0x4a2fb6);},(_0x42977d,_0x36d1aa,_0x5445ad)=>{const _0x36fd75=_0x1991b3;let {method:_0x5e2fb6,url:_0x399271}=_0x42977d;_0x36d1aa[_0x36fd75(0x26d)](0x194)[_0x36fd75(0x12e)]({'status':0x194,'message':_0x36fd75(0x5bb)+_0x5e2fb6['toUpperCase']()+'\x20'+_0x399271,'error':_0x36fd75(0x1dd)}),_0x5445ad();});let _0x437e19=(_0x2f0f0a,_0x32bfd1=_0x1991b3(0x37d))=>{const _0x56a893=_0x1991b3;let _0x5005d1=(_0x245426,_0x3636b2=null,_0x254b28=!0x1)=>{const _0x540ec1=a0_0x4ad4;let _0x26e03b={};return Object['keys'](_0x245426)[_0x540ec1(0x592)](_0x52118d=>{const _0x5e2ad7=_0x540ec1;let _0x22b51e=_0x245426[_0x52118d],_0x371de4=''+_0x32bfd1+_0x52118d;_0x3636b2&&!_0x254b28&&(_0x371de4=_0x3636b2+'.'+_0x52118d),!_0x22b51e&&_0x22b51e!==0x0&&_0x22b51e!==!0x1||typeof _0x22b51e>'u'?_0x26e03b[_0x371de4]=null:typeof _0x22b51e!=_0x5e2ad7(0x541)&&!Array[_0x5e2ad7(0x2f5)](_0x22b51e)?_0x26e03b[_0x371de4]=_0x22b51e:typeof _0x22b51e==_0x5e2ad7(0x541)&&!Array['isArray'](_0x22b51e)?_0x26e03b=Object['assign'](_0x26e03b,_0x5005d1(_0x22b51e,_0x371de4)):Array[_0x5e2ad7(0x2f5)](_0x22b51e)&&(typeof _0x22b51e[0x0]==_0x5e2ad7(0x541)?(_0x26e03b[_0x371de4]=[],_0x22b51e[_0x5e2ad7(0x592)](_0x5ad7f4=>{_0x26e03b[_0x371de4]['push'](_0x5005d1(_0x5ad7f4,_0x371de4,!0x0));})):_0x26e03b[_0x371de4]=_0x22b51e);}),_0x26e03b;};return Array[_0x56a893(0x2f5)](_0x2f0f0a)?_0x2f0f0a[_0x56a893(0x648)](_0x1c94c3=>_0x5005d1(_0x1c94c3)):typeof _0x2f0f0a==_0x56a893(0x541)&&_0x2f0f0a!==null?_0x5005d1(_0x2f0f0a):{};},_0x134cbe=b[_0x1991b3(0x51f)]('SERVER');ve['app']=_0x502ff9;let _0x2ebba5=ve[_0x134cbe[_0x1991b3(0x157)]],_0xb558c2='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2ebba5[_0x1991b3(0x464)](_0x134cbe[_0x1991b3(0x149)],()=>{const _0x5749a7=_0x1991b3;_0x197f1f['log'](_0xb558c2),_0x197f1f['log'](_0x134cbe[_0x5749a7(0x157)][_0x5749a7(0x65a)]()+_0x5749a7(0x1f3)+_0x134cbe[_0x5749a7(0x149)]);}),Do(),Us();}var Po=a0_0x521bf9(0x676),_o=Te[a0_0x521bf9(0x733)]['join'](__dirname,a0_0x521bf9(0x5dc)),Re=null;function $o(){return new Promise((_0x35d8b1,_0xb367f4)=>{const _0x47b3a8=a0_0x4ad4;ue[_0x47b3a8(0x733)][_0x47b3a8(0x478)](_o,_0x47b3a8(0x5fd),(_0x1f21fd,_0x4119b4)=>{const _0x4acfa5=_0x47b3a8;if(_0x1f21fd){Re=_0x1f21fd,_0x35d8b1();return;}Or[_0x4acfa5(0x733)][_0x4acfa5(0x564)](_0x4119b4)[_0x4acfa5(0x21c)]['url']===Po?(Re=null,_0x35d8b1()):(Re=new Error(_0x4acfa5(0x235)),_0x35d8b1());});});}async function ko(){const _0x3264bd=a0_0x521bf9;try{await $o(),await Os();}catch(_0x44bba9){console[_0x3264bd(0x148)](_0x3264bd(0x31b)+_0x44bba9),process[_0x3264bd(0x34c)](0x1);}}ko();async function Ir(){const _0x232f3e=a0_0x521bf9;let _0xc96dd7;try{_0xc96dd7=(await Ne[_0x232f3e(0x733)]['get']('https://jsonip.com'))[_0x232f3e(0x23d)]['ip'];}catch(_0x24ff1a){console['error'](_0x24ff1a);try{_0xc96dd7=(await Ne[_0x232f3e(0x733)][_0x232f3e(0x51f)](_0x232f3e(0x747)))[_0x232f3e(0x23d)]['ip'];}catch(_0x1d7266){console[_0x232f3e(0x148)](_0x1d7266);try{_0xc96dd7=(await Ne[_0x232f3e(0x733)][_0x232f3e(0x51f)](_0x232f3e(0x2b2)))['data'][_0x232f3e(0x29f)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x141c24){return console['error'](_0x141c24),!0x1;}}}return _0xc96dd7;}var vr=0x0;async function Lo(){const _0x43a8be=a0_0x521bf9;let _0x4796b5=await new oe(b[_0x43a8be(0x51f)](_0x43a8be(0x4d9)))[_0x43a8be(0x72d)]();return console[_0x43a8be(0x1a3)]('instancias:\x20',_0x4796b5[_0x43a8be(0x4a0)]),_0x4796b5[_0x43a8be(0x4a0)];}function Fo(_0x251982){const _0x27f918=a0_0x521bf9;let _0x1bd262=_0x251982['get'](_0x27f918(0x1df))[_0x27f918(0x634)],_0x37a8c5=_0x251982[_0x27f918(0x51f)]('SSL_CONF'),_0x25113a;if(_0x1bd262){let _0x2f38fb=_0x1bd262[_0x27f918(0x29f)](/\/\/(.*?)\./);_0x2f38fb&&_0x2f38fb[0x1]&&(_0x25113a=_0x2f38fb[0x1]);}if(!_0x25113a&&_0x37a8c5&&_0x37a8c5['FULLCHAIN']){let _0x23a1b9=_0x37a8c5[_0x27f918(0x4ed)][_0x27f918(0x70e)]('/'),_0x25b0fc=_0x23a1b9[_0x23a1b9['length']-0x2];if(_0x25b0fc){let _0x38f35f=_0x25b0fc[_0x27f918(0x70e)]('.');_0x38f35f[_0x27f918(0x4a0)]>0x2&&(_0x25113a=_0x38f35f[0x0]);}}return _0x25113a;}var Ms=Fo(b);async function Uo(){const _0x340230=a0_0x521bf9;let _0x5ded4b=b[_0x340230(0x51f)](_0x340230(0x4d9)),_0x2c1504=b['get'](_0x340230(0x36f))['API_KEY'][_0x340230(0x284)],_0x53473d=b[_0x340230(0x51f)](_0x340230(0x62d)),_0x3fd5de=await Ir(),_0x54d60f=b['get'](_0x340230(0x1df))[_0x340230(0x149)],_0x31cdfc=b['get']('SERVER')[_0x340230(0x634)];try{let _0x2a2296={'ip':_0x3fd5de||null,'redis_enable':_0x5ded4b?.[_0x340230(0x47a)]||null,'apikey':_0x2c1504||null,'ssl':_0x53473d?.['PRIVKEY']||null,'lastupdate':Dr||null,'port':_0x54d60f||null,'gitInstallError':Re?.[_0x340230(0x331)]||null,'url':_0x31cdfc||null};if(console['log'](_0x340230(0x35e),_0x2a2296['ip']),_0x5ded4b&&_0x5ded4b[_0x340230(0x47a)]){let _0x55a99f=await Lo();_0x2a2296[_0x340230(0x185)]=_0x55a99f||null;}for(let _0x2dd6bb in _0x2a2296)_0x2a2296['hasOwnProperty'](_0x2dd6bb)&&_0x2dd6bb!=='ip'&&(_0x2a2296[_0x2dd6bb]=JSON[_0x340230(0x62e)](_0x2a2296[_0x2dd6bb]));return(await Ne[_0x340230(0x733)][_0x340230(0x1d9)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x2a2296))['data'];}catch(_0x1cc262){return console[_0x340230(0x148)](_0x1cc262),!0x1;}}var Ts=!0x1,Dr=0x21d,Jo=0x3,Nr=0x1b7740;async function Os(){const _0x35e970=a0_0x521bf9;if(!await Ir())return console['error'](_0x35e970(0x3e6)),'NO_IP';let _0x51529b=await Uo();if(_0x51529b){if(_0x51529b[_0x35e970(0x2fb)][_0x35e970(0x5ae)]===!0x0){b[_0x35e970(0x51f)]('SSL_CONF')[_0x35e970(0x3c7)]['includes']('<subdomain>')&&_0x51529b[_0x35e970(0x2fb)]['subdomain']&&(await Vo(_0x51529b['response'][_0x35e970(0x263)],qo),await Bo(_0x35e970(0x4c6),_0x51529b[_0x35e970(0x2fb)]['subdomain']),console[_0x35e970(0x1a3)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>Wo(),0x2710)),Re===null&&_0x51529b[_0x35e970(0x2fb)][_0x35e970(0x586)]-Dr>0x0&&await jo(),Ts||(Ts=!0x0,xo());let _0x80b206=0x24*0x3c*0x3c,_0x5a8c9e=_0x51529b[_0x35e970(0x2fb)][_0x35e970(0x10e)]>_0x80b206?_0x80b206:_0x51529b[_0x35e970(0x2fb)][_0x35e970(0x10e)],_0x429663=Number(_0x5a8c9e);if(isNaN(_0x429663)){console['error'](_0x35e970(0x730));return;}let _0x2f93c3=Math['floor'](_0x429663/0xe10),_0xe05628=Math['floor'](_0x429663%0xe10/0x3c),_0x5a7fb6=new Date(Date[_0x35e970(0x15d)]()+_0x429663*0x3e8);setTimeout(Os,_0x429663*0x3e8);let _0x22d5ac=_0x41a7d6=>_0x41a7d6[_0x35e970(0x172)]()[_0x35e970(0x1a7)](0x2,'0'),_0x531f0b=_0x35e970(0x3e8)+_0x22d5ac(_0x2f93c3)+_0x35e970(0x443)+_0x22d5ac(_0xe05628)+_0x35e970(0x452)+_0x22d5ac(_0x5a7fb6[_0x35e970(0x229)]())+':'+_0x22d5ac(_0x5a7fb6[_0x35e970(0x3bd)]())+'.';console[_0x35e970(0x1a3)](_0x531f0b);}else return console[_0x35e970(0x1a3)](_0x35e970(0x1a8)),Ts&&(console['log'](_0x35e970(0x5fc)),process[_0x35e970(0x34c)]()),_0x35e970(0x2b8);}else{if(vr++,vr<Jo)console[_0x35e970(0x1a3)](_0x35e970(0x63a)+Nr/0xea60+'\x20minutos...'),setTimeout(Os,Nr);else return console['error'](_0x35e970(0x1da)),'SERVER_OFFLINE';}}async function jo(){const _0x1e728a=a0_0x521bf9;console[_0x1e728a(0x1a3)](_0x1e728a(0x46d));let _0xaf87e9=(0x0,Ae[_0x1e728a(0x14e)])(_0x1e728a(0x31d),{'shell':!0x0});_0xaf87e9[_0x1e728a(0x56e)]['on'](_0x1e728a(0x23d),_0x42605d=>{const _0x2b7915=_0x1e728a;console['log'](_0x2b7915(0x39b)+_0x42605d);}),_0xaf87e9[_0x1e728a(0x285)]['on'](_0x1e728a(0x23d),_0x13a8c3=>{const _0x149988=_0x1e728a;console[_0x149988(0x148)]('Erro\x20de\x20atualização:\x20'+_0x13a8c3);}),_0xaf87e9['on'](_0x1e728a(0x34c),_0x1c0335=>{const _0x1bba9c=_0x1e728a;_0x1c0335!==0x0?console[_0x1bba9c(0x148)](_0x1bba9c(0x2f9)+_0x1c0335):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x1bba9c(0x34c)](),0x2710);});}var qo=Te[a0_0x521bf9(0x733)][a0_0x521bf9(0x1d7)](__dirname,'env.yml');async function Vo(_0xd89daa,_0x3454f8){const _0x16964c=a0_0x521bf9;let _0x41912c=Go();_0xd89daa=_0xd89daa[_0x16964c(0x27b)]('.uazapi.dev','');try{let _0x150e1d=ue[_0x16964c(0x733)]['readFileSync'](_0x3454f8,_0x16964c(0x437));_0x150e1d=_0x150e1d[_0x16964c(0x27b)](/<apikey>/,_0x41912c),_0x150e1d=_0x150e1d[_0x16964c(0x27b)](/<subdomain>/g,_0xd89daa),ue[_0x16964c(0x733)]['writeFileSync'](_0x3454f8,_0x150e1d,_0x16964c(0x437)),console['log'](_0x16964c(0x54a));}catch(_0x281692){console[_0x16964c(0x148)](_0x16964c(0x29c),_0x281692);}}function Bo(_0x5376ad,_0x1d5c94){return new Promise((_0x1ca962,_0x4307b2)=>{const _0x4fd78a=a0_0x4ad4;let _0x235970=(0x0,Ae['spawn'])(_0x4fd78a(0x563),['certonly',_0x4fd78a(0x608),'-m',_0x5376ad,_0x4fd78a(0x2d3),'-d',_0x1d5c94]);_0x235970[_0x4fd78a(0x56e)]['on'](_0x4fd78a(0x23d),_0x34b788=>{const _0x34b2cd=_0x4fd78a;console[_0x34b2cd(0x1a3)](_0x34b2cd(0x4b7)+_0x34b788[_0x34b2cd(0x172)]());}),_0x235970[_0x4fd78a(0x285)]['on'](_0x4fd78a(0x23d),_0x2cf20a=>{const _0x59d330=_0x4fd78a;console['error'](_0x59d330(0x711)+_0x2cf20a[_0x59d330(0x172)]());}),_0x235970['on'](_0x4fd78a(0x6dd),_0x3a4dad=>{const _0x1c566e=_0x4fd78a;_0x3a4dad!==0x0?(console['error'](_0x1c566e(0x17b)+_0x3a4dad),_0x4307b2(_0x1c566e(0x17b)+_0x3a4dad)):(console[_0x1c566e(0x1a3)]('Certbot\x20executado\x20com\x20sucesso.'),_0x1ca962());});});}function Go(_0x51c09e=0x32){const _0x88b69=a0_0x521bf9;let _0x1e06dc=_0x88b69(0x716),_0x284e4f='';for(let _0x3504fa=0x0;_0x3504fa<_0x51c09e;_0x3504fa++)_0x284e4f+=_0x1e06dc[_0x88b69(0x2b7)](Math[_0x88b69(0x5f2)](Math[_0x88b69(0x643)]()*_0x1e06dc[_0x88b69(0x4a0)]));return _0x284e4f;}function Wo(){const _0x70f32c=a0_0x521bf9;(0x0,Ae[_0x70f32c(0x39e)])(_0x70f32c(0x6fe),(_0x5f3b3d,_0x8c9fc4,_0x1f7b98)=>{const _0x2c99f7=_0x70f32c;if(_0x5f3b3d){console['error'](_0x2c99f7(0x195)+_0x5f3b3d);return;}if(_0x1f7b98){console[_0x2c99f7(0x148)](_0x2c99f7(0x631)+_0x1f7b98);return;}console[_0x2c99f7(0x1a3)](_0x2c99f7(0x141)+_0x8c9fc4);});}0x0&&(module[a0_0x521bf9(0x10b)]={'subdomain':subdomain});