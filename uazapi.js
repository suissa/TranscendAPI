const a0_0x10d060=a0_0x434c;(function(_0x238014,_0x472092){const _0x72e84e=a0_0x434c,_0x31fdaf=_0x238014();while(!![]){try{const _0x1925d6=-parseInt(_0x72e84e(0x29b))/0x1*(-parseInt(_0x72e84e(0x57d))/0x2)+parseInt(_0x72e84e(0x555))/0x3*(parseInt(_0x72e84e(0x33e))/0x4)+parseInt(_0x72e84e(0x536))/0x5+parseInt(_0x72e84e(0x5b9))/0x6*(parseInt(_0x72e84e(0x305))/0x7)+-parseInt(_0x72e84e(0x2f6))/0x8*(-parseInt(_0x72e84e(0x187))/0x9)+-parseInt(_0x72e84e(0x3fc))/0xa+-parseInt(_0x72e84e(0x43f))/0xb;if(_0x1925d6===_0x472092)break;else _0x31fdaf['push'](_0x31fdaf['shift']());}catch(_0x2b72a1){_0x31fdaf['push'](_0x31fdaf['shift']());}}}(a0_0x25e7,0x9eaa6));var xr=Object[a0_0x10d060(0x2ec)],Ie=Object[a0_0x10d060(0x470)],Pr=Object[a0_0x10d060(0x5cf)],_r=Object[a0_0x10d060(0x696)],$r=Object['getPrototypeOf'],kr=Object[a0_0x10d060(0x431)][a0_0x10d060(0x6e5)],Lr=(_0x1f4562,_0x264deb)=>{for(var _0x2cde70 in _0x264deb)Ie(_0x1f4562,_0x2cde70,{'get':_0x264deb[_0x2cde70],'enumerable':!0x0});},Ds=(_0x58dca2,_0x310de3,_0x1718ac,_0x347e3f)=>{const _0x4eec17=a0_0x10d060;if(_0x310de3&&typeof _0x310de3==_0x4eec17(0x74d)||typeof _0x310de3=='function'){for(let _0x43ac35 of _r(_0x310de3))!kr[_0x4eec17(0x36f)](_0x58dca2,_0x43ac35)&&_0x43ac35!==_0x1718ac&&Ie(_0x58dca2,_0x43ac35,{'get':()=>_0x310de3[_0x43ac35],'enumerable':!(_0x347e3f=Pr(_0x310de3,_0x43ac35))||_0x347e3f[_0x4eec17(0x72a)]});}return _0x58dca2;},R=(_0x1b6536,_0x4ffb70,_0x39dc33)=>(_0x39dc33=_0x1b6536!=null?xr($r(_0x1b6536)):{},Ds(_0x4ffb70||!_0x1b6536||!_0x1b6536[a0_0x10d060(0x260)]?Ie(_0x39dc33,a0_0x10d060(0x6bb),{'value':_0x1b6536,'enumerable':!0x0}):_0x39dc33,_0x1b6536)),Fr=_0x9bce=>Ds(Ie({},a0_0x10d060(0x260),{'value':!0x0}),_0x9bce),zo={};function a0_0x434c(_0x13c8c3,_0x1981d9){const _0x25e766=a0_0x25e7();return a0_0x434c=function(_0x434cfc,_0x503e6){_0x434cfc=_0x434cfc-0x133;let _0x210954=_0x25e766[_0x434cfc];return _0x210954;},a0_0x434c(_0x13c8c3,_0x1981d9);}Lr(zo,{'subdomain':()=>vs}),module['exports']=Fr(zo);var Rr=R(require(a0_0x10d060(0x454))),Ps=require('fs'),_s=require(a0_0x10d060(0x6be)),$s=require(a0_0x10d060(0x4b0)),De=require(a0_0x10d060(0x4b0)),ae=process['cwd'](),me=(0x0,De[a0_0x10d060(0x535)])(ae,a0_0x10d060(0x621)),xs=(0x0,De[a0_0x10d060(0x535)])(ae,a0_0x10d060(0x46c)),ji=(0x0,De[a0_0x10d060(0x535)])(ae,'store',a0_0x10d060(0x51f)),Yt=class{constructor(){const _0x259b11=a0_0x10d060;this[_0x259b11(0x5fe)]();}[a0_0x10d060(0x5a9)](_0x1dd523){const _0x2cabfb=a0_0x10d060;return this[_0x2cabfb(0x46d)][_0x1dd523];}[a0_0x10d060(0x5fe)](){const _0x398be2=a0_0x10d060;this['env']=process['env']?.[_0x398be2(0x3e9)]!==_0x398be2(0x21f)?this['envYaml']():this[_0x398be2(0x1eb)](),process[_0x398be2(0x46d)]?.['DOCKER_ENV']===_0x398be2(0x21f)&&(this['env'][_0x398be2(0x49e)]['TYPE']='http',this[_0x398be2(0x46d)]['SERVER']['PORT']=Number['parseInt'](process['env']?.[_0x398be2(0x36c)]??_0x398be2(0x5c6)));}[a0_0x10d060(0x1f4)](){const _0x2740ee=a0_0x10d060;return(0x0,_s[_0x2740ee(0x400)])((0x0,Ps[_0x2740ee(0x2ed)])((0x0,$s[_0x2740ee(0x535)])(xs,_0x2740ee(0x35f)),{'encoding':_0x2740ee(0x21d)}));}[a0_0x10d060(0x1eb)](){const _0x2b2c9f=a0_0x10d060;return{'SERVER':{'TYPE':process[_0x2b2c9f(0x46d)]['SERVER_TYPE'],'PORT':Number[_0x2b2c9f(0x6db)](process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x36c)]),'URL':process[_0x2b2c9f(0x46d)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x5d3)][_0x2b2c9f(0x503)](','),'METHODS':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x2e3)][_0x2b2c9f(0x503)](','),'CREDENTIALS':process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x17b)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x2b2c9f(0x46d)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x758)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x2b2c9f(0x537)])?Number[_0x2b2c9f(0x6db)](process['env'][_0x2b2c9f(0x537)]):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x2b2c9f(0x21f),'CONTACTS':process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x231)]===_0x2b2c9f(0x21f),'CHATS':process[_0x2b2c9f(0x46d)]?.['STORE_CHATS']===_0x2b2c9f(0x21f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x1ba)],'PORT':Number[_0x2b2c9f(0x6db)](process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x1ba)]),'USER':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x58d)],'PASSWORD':process[_0x2b2c9f(0x46d)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x698)],'DB_PREFIX_NAME':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x351)]},'ENABLED':process['env']?.[_0x2b2c9f(0x5b6)]===_0x2b2c9f(0x21f)},'REDIS':{'ENABLED':process['env']?.[_0x2b2c9f(0x429)]===_0x2b2c9f(0x21f),'URI':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x531)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x6b4)]||_0x2b2c9f(0x346)},'LOG':{'LEVEL':process[_0x2b2c9f(0x46d)]?.['LOG_LEVEL'][_0x2b2c9f(0x503)](','),'COLOR':process['env']?.[_0x2b2c9f(0x150)]===_0x2b2c9f(0x21f)},'AUTHENTICATION':{'TYPE':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x6ca)],'API_KEY':{'KEY':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x235)]},'JWT':{'EXPIRIN_IN':Number[_0x2b2c9f(0x15c)](process[_0x2b2c9f(0x46d)]?.[_0x2b2c9f(0x714)])?Number[_0x2b2c9f(0x6db)](process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x714)]):0xe10,'SECRET':process[_0x2b2c9f(0x46d)][_0x2b2c9f(0x599)]}}};}},b=new Yt(),Tr=R(require(a0_0x10d060(0x321))),pe=R(require(a0_0x10d060(0x2a4))),Os=require(a0_0x10d060(0x4b0)),Xt=R(require(a0_0x10d060(0x484))),Zt=(_0x1f0abf=>(_0x1f0abf[a0_0x10d060(0x53c)]=a0_0x10d060(0x55c),_0x1f0abf[a0_0x10d060(0x73c)]='\x1b[34m',_0x1f0abf[a0_0x10d060(0x4f3)]=a0_0x10d060(0x20a),_0x1f0abf[a0_0x10d060(0x1a8)]=a0_0x10d060(0x732),_0x1f0abf[a0_0x10d060(0x14b)]=a0_0x10d060(0x5e1),_0x1f0abf[a0_0x10d060(0x67e)]='\x1b[37m',_0x1f0abf[a0_0x10d060(0x674)]='\x1b[30m',_0x1f0abf))(Zt||{}),ks=(_0x2296aa=>(_0x2296aa[a0_0x10d060(0x53c)]='\x1b[32m%s\x1b[0m',_0x2296aa[a0_0x10d060(0x674)]=a0_0x10d060(0x676),_0x2296aa[a0_0x10d060(0x73c)]='\x1b[34m%s\x1b[0m',_0x2296aa[a0_0x10d060(0x4f3)]=a0_0x10d060(0x521),_0x2296aa[a0_0x10d060(0x1a8)]=a0_0x10d060(0x1af),_0x2296aa[a0_0x10d060(0x14b)]=a0_0x10d060(0x600),_0x2296aa[a0_0x10d060(0x67e)]=a0_0x10d060(0x419),_0x2296aa))(ks||{}),Ls=(_0x407b73=>(_0x407b73[a0_0x10d060(0x53c)]=a0_0x10d060(0x53c),_0x407b73[a0_0x10d060(0x4f3)]=a0_0x10d060(0x4f3),_0x407b73['INFO']='INFO',_0x407b73[a0_0x10d060(0x674)]=a0_0x10d060(0x674),_0x407b73[a0_0x10d060(0x1a8)]='ERROR',_0x407b73[a0_0x10d060(0x14b)]='DEBUG',_0x407b73[a0_0x10d060(0x67e)]=a0_0x10d060(0x67e),_0x407b73))(Ls||{}),Fs=(_0x331f94=>(_0x331f94[a0_0x10d060(0x53c)]=a0_0x10d060(0x779),_0x331f94[a0_0x10d060(0x73c)]=a0_0x10d060(0x414),_0x331f94[a0_0x10d060(0x4f3)]='\x1b[43m',_0x331f94[a0_0x10d060(0x674)]=a0_0x10d060(0x6f9),_0x331f94[a0_0x10d060(0x1a8)]=a0_0x10d060(0x40c),_0x331f94[a0_0x10d060(0x14b)]='\x1b[46m',_0x331f94['VERBOSE']=a0_0x10d060(0x299),_0x331f94))(Fs||{}),v=class{constructor(_0x1e6046='Logger'){const _0x4435d4=a0_0x10d060;this[_0x4435d4(0x6ef)]=_0x1e6046,this[_0x4435d4(0x401)]=b;}[a0_0x10d060(0x27c)](_0x54912f){const _0xf20c86=a0_0x10d060;this[_0xf20c86(0x6ef)]=_0x54912f;}['console'](_0x5cceae,_0x542057){const _0xbb529c=a0_0x10d060;let _0x1a2cb6=[];this[_0xbb529c(0x401)][_0xbb529c(0x5a9)]('LOG')['LEVEL'][_0xbb529c(0x311)](_0x19b8e0=>_0x1a2cb6[_0xbb529c(0x549)](Ls[_0x19b8e0]));let _0x4dca5a=typeof _0x5cceae;_0x1a2cb6['includes'](_0x542057)&&(b['get']('LOG')[_0xbb529c(0x595)]?(console['log'](_0xbb529c(0x62d)+ks[_0x542057],_0xbb529c(0x41d),(0x0,Xt[_0xbb529c(0x6bb)])()[_0xbb529c(0x149)](_0xbb529c(0x224)),_0xbb529c(0x3e7),Zt[_0x542057]+Fs[_0x542057]+_0xbb529c(0x62d),_0x542057+_0xbb529c(0x143),_0xbb529c(0x635),this[_0xbb529c(0x6ef)]+_0xbb529c(0x3e7),Zt[_0x542057],_0x4dca5a!==_0xbb529c(0x74d)?_0x5cceae:'','\x1b[0m'),_0x4dca5a===_0xbb529c(0x74d)&&console[_0xbb529c(0x30d)](_0x5cceae,'\x0a')):console[_0xbb529c(0x30d)]((0x0,Xt['default'])()[_0xbb529c(0x149)]('HH:mm:ss'),_0x542057+'\x20',''+this[_0xbb529c(0x6ef)],_0x5cceae));}['log'](_0x46ba13){const _0x5af68a=a0_0x10d060;this[_0x5af68a(0x5ac)](_0x46ba13,_0x5af68a(0x53c));}[a0_0x10d060(0x327)](_0x38eb5c){const _0x4396e1=a0_0x10d060;this[_0x4396e1(0x5ac)](_0x38eb5c,_0x4396e1(0x73c));}[a0_0x10d060(0x65c)](_0x3d7e5c){const _0x56aa81=a0_0x10d060;this['console'](_0x3d7e5c,_0x56aa81(0x4f3));}[a0_0x10d060(0x22d)](_0x4626c8){const _0x2d2837=a0_0x10d060;this[_0x2d2837(0x5ac)](_0x4626c8,_0x2d2837(0x1a8));}['verbose'](_0x216fe3){const _0x5e60ae=a0_0x10d060;this[_0x5e60ae(0x5ac)](_0x216fe3,_0x5e60ae(0x67e));}[a0_0x10d060(0x42f)](_0x28b4e7){const _0xb28529=a0_0x10d060;this[_0xb28529(0x5ac)](_0x28b4e7,_0xb28529(0x14b));}[a0_0x10d060(0x55f)](_0x325501){const _0x3ba6e0=a0_0x10d060;this[_0x3ba6e0(0x5ac)](_0x325501,'DARK');}};function Us(){const _0x5a401c=a0_0x10d060;process['on'](_0x5a401c(0x2a7),(_0x89b68f,_0x3febc5)=>{const _0x4dbe77=_0x5a401c;new v('uncaughtException')['error']({'origin':_0x3febc5,'stderr':process[_0x4dbe77(0x1e7)]['fd'],'error':_0x89b68f});}),process['on'](_0x5a401c(0x654),(_0xb4e553,_0x4a10e7)=>{const _0x20fcb8=_0x5a401c;new v(_0x20fcb8(0x654))[_0x20fcb8(0x22d)]({'origin':_0x4a10e7,'stderr':process[_0x20fcb8(0x1e7)]['fd'],'error':_0xb4e553});});}var Js=R(require(a0_0x10d060(0x56c))),es=new Js['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require('mongoose'),ts=R(require(a0_0x10d060(0x56d))),Ur=new v('Db\x20Connection'),V=b['get'](a0_0x10d060(0x569)),N=V[a0_0x10d060(0x1f8)]?V['CONNECTION'][a0_0x10d060(0x491)]?ts[a0_0x10d060(0x6bb)][a0_0x10d060(0x624)](V[a0_0x10d060(0x709)][a0_0x10d060(0x491)],{'dbName':V[a0_0x10d060(0x709)][a0_0x10d060(0x313)]+a0_0x10d060(0x52d)}):ts[a0_0x10d060(0x6bb)][a0_0x10d060(0x624)](a0_0x10d060(0x5d9)+V[a0_0x10d060(0x709)]['HOST']+':'+V[a0_0x10d060(0x709)][a0_0x10d060(0x4ac)]+a0_0x10d060(0x216),{'user':V[a0_0x10d060(0x709)]['USER'],'pass':V['CONNECTION'][a0_0x10d060(0x2a5)],'dbName':V[a0_0x10d060(0x709)][a0_0x10d060(0x313)]+a0_0x10d060(0x52d)}):null;V[a0_0x10d060(0x1f8)]&&Ur[a0_0x10d060(0x327)]('ON\x20-\x20dbName:\x20'+N['$dbName']);var Jr=new xe[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),jr=new xe[(a0_0x10d060(0x5ee))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),js=_0xec04cc=>{const _0x52b53f=a0_0x10d060;let _0x4bfd16='z_'+_0xec04cc+_0x52b53f(0x21c);return N?.['model'](_0x52b53f(0x5a4),qr,_0x4bfd16);},qs=require('mongoose'),Vr=new qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x15f402=>{const _0x5ca773=a0_0x10d060;let _0x34a12f='z_'+_0x15f402+_0x5ca773(0x636);return N?.[_0x5ca773(0x279)]('ContactModel',Vr,_0x34a12f);},Bs=require(a0_0x10d060(0x56d)),Br=new Bs[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x5a4ac6=>{const _0x22c6ee=a0_0x10d060;let _0xd2abcf='z_'+_0x5a4ac6+_0x22c6ee(0x601);return N?.['model'](_0x22c6ee(0x376),Br,_0xd2abcf);},Ws=require(a0_0x10d060(0x56d)),ss=class{},Gr=new Ws[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.['model'](ss['name'],Gr,'authentication'),Hs=require('mongoose'),as=class{},Ks=new Hs[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre'](a0_0x10d060(0x2e4),function(_0x1f04e0){const _0x814aac=a0_0x10d060;delete this[_0x814aac(0x2ad)],delete this['flowIgnoreGroups'],delete this[_0x814aac(0x4c1)],delete this[_0x814aac(0x6f0)],delete this[_0x814aac(0x720)],_0x1f04e0();});var Qs=N?.[a0_0x10d060(0x279)](as[a0_0x10d060(0x4b9)],Ks,a0_0x10d060(0x426)),P=require('mongoose'),Pe=class{},Ys=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),rs=new P[(a0_0x10d060(0x5ee))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x10d060(0x77e)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x10d060(0x215)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x10d060(0x164)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new P[(a0_0x10d060(0x5ee))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new P[(a0_0x10d060(0x5ee))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new P[(a0_0x10d060(0x5ee))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new P[(a0_0x10d060(0x5ee))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ls=new P[(a0_0x10d060(0x5ee))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),os=class{},us=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1da80b=a0_0x10d060;return'!cmd_'+Math['random']()[_0x1da80b(0x6d4)](0x24)[_0x1da80b(0x5ea)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ls],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]}});us[a0_0x10d060(0x30f)](a0_0x10d060(0x2e4),function(_0x53cdb3){const _0x4dc137=a0_0x10d060;let _0x3b759e=new Set(),_0x562567=new Set(this[_0x4dc137(0x495)]?.[_0x4dc137(0x606)](_0x10b203=>_0x10b203[_0x4dc137(0x4b9)])),_0x8c4c23=JSON[_0x4dc137(0x49d)](this),_0x1257dc=/{{(?!_)([^}]*)}}/g,_0x3d532c;for(;(_0x3d532c=_0x1257dc[_0x4dc137(0x3c1)](_0x8c4c23))!==null;)_0x562567[_0x4dc137(0x4e7)](_0x3d532c[0x1])||_0x3b759e['add'](_0x3d532c[0x1]);_0x3b759e[_0x4dc137(0x318)]>0x0?(console[_0x4dc137(0x65c)](_0x4dc137(0x507),Array[_0x4dc137(0x228)](_0x3b759e)),this[_0x4dc137(0x456)]=Array['from'](_0x3b759e)):this[_0x4dc137(0x456)]=[],_0x53cdb3();});function a0_0x25e7(){const _0xbdf72f=['):\x20Deletando\x20conversa...','scheduleNextCheck','):\x20','deleteMessageForEveryone','\x1b[1m','startFlow','restartInstance','toDataURL','notify','toggleEphemeral','https','wuid','\x1b[33m\x1b[1m','_Contacts','MESSAGES_UPDATE','updateStopChat','modifiedCount','groups.update','role','replace','):\x20Error\x20processing\x20conditions:\x20','sort','CREDENTIALS','No\x20response\x20received:','enabled','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','apply','):\x20Edit\x20schedule\x20message...','Cannot\x20','archive','processvaredits','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','groupJid','drop','editFlowVaredit','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','processgoToFlow','displayName','.error','label','boolean','finish','unhandledRejection','paused','\x5cd+','integer','Types','):\x20atualização\x20chat:\x20','):\x20Enviando\x20mídia','nome','warn','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','charAt','Erro\x20ao\x20normalizar\x20a\x20mensagem:','bearer','resetReconnectionVariables','group-participants.update','groups','capitalizedWords','lastBlockId','getAllData','AutomateSystem','host','jsonwebtoken','mediaSticker','findAndReplace','quoted','messaging-history.set','Número:\x20','readFile','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','getFlowModelForOwner','everyOne','getContentType','DARK','Error\x20updating\x20profile\x20picture','\x1b[30m%s\x1b[0m','updateGParticipate','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Unknown\x20message\x20type\x20or\x20empty\x20message','Failed\x20to\x20get\x20IP\x20from\x20','expression','hGetAll','findById','VERBOSE','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','reconnectTimestamps','redisEnv','SECRET','):\x20Criou\x20conversa\x20no\x20startFlow:','Erro\x20ao\x20editar\x20a\x20conversa:\x20','TEXT','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','SSL_CONF','endSession','PENDING','close','folder','nextBlock:','updateCustomFields','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','mimetype','joinGroup','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','findChats','):\x20newFirstValue\x20após\x20replaceVariables:','getOwnPropertyNames','command','DATABASE_CONNECTION_URI','CHATS_DELETE','@broadcast','apiName','g-t','verify','content-type','listMessage','Image\x20path:\x20','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Erro\x20ao\x20deletar\x20mensagens:','):\x20Editando\x20edição\x20do\x20fluxo...','getBase64FromMediaMessage','substring','Variável\x20não\x20encontrada!','^\x5cd+','unlinkSync','bulkWrite','test','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20durante\x20a\x20atualização:\x20','qrcode','subject','assign','numbers','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','API\x20Key\x20inválida.','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','REDIS_PREFIX_KEY','REDIS','copyDataToNewModel','metadata','saveCreds','.jpg','sendDataWebhook','default','video','createWebhook','js-yaml','OrAnd','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','messageTimestamp','remove.instance','\x20adicionado\x20ao\x20chat\x20','https://','connectToWhatsapp','end','waInstances','Hash\x20to\x20image\x20name:\x20','editFlowVariable','AUTHENTICATION_TYPE','addReplyOption','choices','webhookMap','Not\x20Found','Parando\x20aplicação...','send','remoteJidsRemaining','updateMissingLabels','createProxyConfig','toString','getConversationModelForOwner','connectedName','qrCode','Label\x20','lastMessage','Erro\x20ao\x20aplicar\x20varedit:\x20','parseInt','recording','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','\x20-\x20ON:\x20','upperCase','rowId','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','updateChatWithMessage','createGroup','hasOwnProperty','):\x20nextBlock.uazapi.name','audio/mp4','updateProfilePicture','readMessageBot','):\x20Editando\x20bloco...','status@broadcast','AddChatLabel','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','keep-alive','context','flowStopConversation','optionName','and','Module\x20-\x20ON','apirequest','$addToSet','unavailable','API_KEY','repository','\x1b[40m','):\x20conversation.lastInteraction:\x20','$pull','replyOption','Type\x20not\x20found','delay','):\x20Enviando\x20texto','Error\x20updating\x20message\x20status:','reactionMessage','editflowblock','/message','fullName','contacts.update','variablesToObject','scheduleSendAudio','poll','CONNECTION','pino','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','arraybuffer','chats.set','CONTACTS_SET','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','collection','editFlowCondition','Instance\x20ID:','AUTHENTICATION_JWT_EXPIRIN_IN','FlowModel','stopIfLastReturnedError','saveVariable','order','emit','):\x20Não\x20achou\x20nenhum\x20flow','insert','Reinicialização\x20iniciada:\x20','Profile\x20not\x20found','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','findConversation','flowStopMinutes','StartBot','groupName','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','/*.json','stanzaId','\x20não\x20encontrado','type','getFlow','getChatModelForOwner','enumerable','success','ButtonsMessage','lastReceivedMessage','endsWith','replaceOne','):\x20Iniciando\x20bot...','toFile','\x1b[31m','labelId','local_map','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','userDevicesCache','The\x20global\x20api\x20key\x20must\x20be\x20set','writeData',',\x20valor\x20passado:\x20\x22','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','inner','INFO','waitingMenu_id','Fluxo\x20não\x20encontrado','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','utf8','groupId','scheduleSendText','proxy-agent','views','request\x20received\x20in\x20deleteFlow','jsonschema','waitingMenu_text','value','connecting','updateStatusPrivacy','BufferJSON','Database\x20is\x20not\x20enabled','object','updateConversation','conditions','mediaMessage','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','release','composing','editedMessage','contactsArrayMessage','waitingMenu_replyOptions','matchRegex','SSL_CONF_FULLCHAIN','address','findAndReplaceRegex','participant','not_announcement','createInstance','):\x20Enviando\x20localização','Flow\x20already\x20exists','replyOptions','.ogg','):\x20isVote:\x20','connectionClosed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20this.processingScheduleMessageId:\x20','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','state','Erro\x20ao\x20buscar\x20conversa:\x20','contact','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Audio\x20is\x20url','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','The\x20property\x20cannot\x20be\x20empty','request\x20received\x20in\x20editFlowvariable','viewOnceMessageV2Extension','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','protocol','getLabelModelForOwner','application/json','next_groupId','delAll','ObjectId','Error\x20change\x20group\x20description','\x1b[42m','send.message','Subscribed\x20Events:','.ogv','.xls','list','groupInviteCode','updateReplyOption','announce','audioMessage','GROUP_PARTICIPANTS_UPDATE','class-validator','findAll','generate','getRandomText','decryptPollVote','connect','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','MAX_RECONNECT_ATTEMPTS','.ppt','/wa-connection-update','The\x20instance\x20needs\x20to\x20be\x20disconnected','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','http','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','\x20\x1b[0m','):\x20Comando\x20desconhecido:\x20','.txt','jid','\x5c$&','toBRL','format','pollUpdateMessage','DEBUG','):\x20Buscando\x20conversa...','checkAndRestartProcess','instanceCount','updateProfileName','LOG_COLOR','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Error\x20status:','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','https://api.elevenlabs.io/v1/text-to-speech/','https://api.ipify.org?format=json','/media/','\x20chats\x20de\x20','Authentication\x20error','stopConversation','Message\x20not\x20found','isInteger','sections','delaySecMin','leadInfo.desativadoFluxoAte','groupHandler','/wa-chats','Mensagem\x20não\x20suportada','findGroupInfo','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','updateMessage','removeChatLabel','pairingCode','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','expiration',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','addChatLabel','findIndex','Desconectado,\x20parando\x20execução.','/chat','CHATS_UPSERT','\x20inseridos\x20no\x20banco\x20de\x20dados...','leaveGroup','minutesToClose','selectableCount','):\x20Entrou\x20na\x20função\x20goToFlow','updateMany','QRCODE_UPDATED','bateu\x20events','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','protocolMessage','CORS_CREDENTIALS','STORE','reorderBlocks','replaceVariablesInObject','open','min','key','qrcode.updated','mentions','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Erro\x20inesperado\x20em\x20processvaredits:\x20','setting','281538cRCfzE','lowerCase','RECONNECT_TIME_FRAME','pt-BR','toBrazilianNumberFormat','client','URL:','notEmpty','lastInteraction','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','removeProfilePicture','testProxy','backgroundColor','setNewValue','temp-','Error\x20creating\x20group','goNextblock','findOne','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','fetchChats','floor','evaluateCondition','copyBlock','delaySecMax','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','sendMessage','Error\x20updating\x20profile\x20status','Deleted\x20','updateLastSeenPrivacy','processPollUpdateMessage','condition','No\x20invite\x20code','ERROR','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','GROUPS_UPSERT','videoMessage','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','pollCreationMessage','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','\x1b[31m%s\x1b[0m','CONNECTION_UPDATE','editChat','\x20minutos','picture','encoding','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','privacySettings','deleteDoneMessages','replaceVariables','SEND_MESSAGE','DATABASE_CONNECTION_HOST','unlocked','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','website','):\x20conversation.status:\x20','sendWhatsAppAudio','validate','statusMessage','certonly','subdomain','when','url','):\x20Query\x20params:','editflowgroup','syscall','Comando\x20desconhecido','apiResponse','/automate','Unable\x20to\x20leave\x20the\x20group','labels.edit','archived','.\x20Pulando.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','convertaudio','findOrCreate','):\x20tem\x20blocks','groups_ignore','toLowerCase','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','^\x5cd+([-]\x5cd+)*@g.us$','Unauthorized','):\x20Falha\x20ao\x20deletar\x20mensagem.','menuType','loggedOut','editflowvariable','createServer','stopMinutes','phoneNumber','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','https://uazapi-plugin.bubbleapps.io/?url=','buttonText','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','scheduleSendMedia','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','stderr','originalUrl','Flow\x20não\x20encontrado','buttonId','envProcess','@s.whatsapp.net','subjectTime','updateFlowConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Error\x20in\x20markMessageAsRead:','connectedClient','options','connectionUpdate','envYaml','fetchProfilePicture','/exit','fetchLatestBaileysVersion','ENABLED','processUazapi','isRunning','removeInstance','Nenhum\x20chat\x20encontrado\x20para\x20editar.','getClient','Temp\x20audio\x20created','editFlow','):\x20Bloco\x20copiado:\x20','random','updateGParticipant','whatsappNumber','setHeader','realVariables','updateGroupsAddPrivacy','statusJidList','Output\x20path:\x20','CONTACTS_UPDATE','\x1b[33m','\x20is\x20already\x20in\x20use.','spawn','deleteFlow','deleteAll','cwd','Telefone:\x20','Error\x20updating\x20privacy\x20settings','view\x20engine','):\x20Conversa\x20inserida\x20com\x20sucesso.','FlowController','Selecione','?authSource=admin&readPreference=primary&directConnection=true','saveTextReply','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','_Chats','utf-8','responsavelid','true','sign','):\x20Enviando\x20áudio','delayMessage','Instance\x20\x22','DD/MM\x20HH:mm:ss','splice','):\x20transformedCustomFieldVariables','font','from','isArray','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','editFlowReply','errors','error','allContacts','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','static','STORE_CONTACTS','out','fromMe','https://uazapi-plugin.bubbleapps.io/','AUTHENTICATION_API_KEY','toArray','):\x20newSecondValue\x20após\x20replaceVariables:','request\x20received\x20in\x20updateFlowConfig','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','redirect','includes','):\x20Ignoring\x20group\x20messages.','none','Instância:\x20','media','.pptx','equal','video-cover.png','headerString','_activatedCount','/wa-groups','output','LICENSE_INVALID','):\x20teve\x20mudanças\x20chat.name:\x20','request\x20received\x20in\x20starFlow','update','/webhook','checkAndUpdateChatStatus','menuExpiredMessage','profile','updateOne','messages.set','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','chats.update','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','createConversationforStartFlow','EMAIL','audio','http://checkip.dyndns.org','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','request\x20received\x20in\x20deleteDoneMessages','_error','messageId','verbose','__esModule','KEY','ProxyAgent','Erro\x20ao\x20configurar\x20proxy:\x20','contains','code','CONTACTS_UPSERT','Instance\x20Key\x20from\x20DB:','NextBlock','sendButtons','archiveChat','sendText','):\x20alterando\x20this.AutomateSystem','STATUS_INSTANCE','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','owner','insertMany','getProfileName','noConnection','Erro\x20ao\x20importar\x20chats:','\x22,\x20valor\x20a\x20substituir:\x20\x22','pollCreationMessageV2','goToFlow','document','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','model','conversation','\x20minutos...','setContext','flowConversation','Font\x20is\x20required','now','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','menuMessage','replaceVariablesChat','editFlowGroup','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','PRIVKEY','allflows','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Router','shift','text','\x20minutos.\x20Será\x20às\x20','fetchStatus','Group\x20not\x20found','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','lastmsg','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','waitingForReplyMenu','errno','eventHandler','request\x20received\x20in\x20scheduleMessage','urlOrBase64','getScheduleMessage','sleep','\x1b[47m','created','268SNyZAW','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','routerPath','Getting\x20profile\x20with\x20jid:\x20','trim','getMessage','base64','Falta\x20informação\x20para\x20a\x20chamada\x20API','express','PASSWORD','dropCollection','uncaughtException','add','action','GUARD','limit','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','flowActive','toLocaleString','longitude','request\x20received\x20in\x20deleteConversation','Imagem\x20não\x20encontrada','username','):\x20Entrou\x20na\x20função\x20saveReply','chatLog','):\x20delete\x20=\x20true','messagesSend','lastCondition','PLAYED','FlowRouter','getMIMEType','group\x20ignored','waitingMenu_ExpiredMessage','contactHandle','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','.xlsx','connectionStatus','json','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20expirationTime:\x20','createFlow','localWebhook','updateMissingCustomFields','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','isBusiness','CHATS_SET','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Error\x20updating\x20participants','messages','):\x20Buscando\x20todos\x20os\x20fluxos...','description','Error\x20fetching\x20and\x20updating\x20profile:\x20','round','GROUPS_UPDATE','\x20não\x20encontrado\x20para\x20atualização.','sendMenu','PRESENCE_UPDATE','createflow','sharp','header','stopWhenYouSendMsg','app','sendList','editOperator','groupDesc','chats.upsert','@ffmpeg-installer/ffmpeg','conversationTimestamp','query','/instance/fetchInstances','g.us','CORS_METHODS','save','groupSetting','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Error\x20updating\x20profile\x20name','Error\x20fetching\x20group','E-mail:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','rm\x20-rf\x20','create','readFileSync','https://jsonip.com','Erro\x20ao\x20atualizar\x20AutomateSystem:','toUpperCase','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','createSectionsFromValues','./.git/config','DELIVERY_ACK','processConditions','128vTiytl','blocks','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Missing\x20global\x20api\x20key','port','maxActives','^\x5cd+[\x5c.@\x5cw-]+','indexOf','desativadoFluxoAte','buttons','instance','method','unreadcount','interval\x20não\x20é\x20um\x20número','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','7HsUtZr','notas','scheduleMessage','post','AUTHENTICATION','label_jid','labels.association','fetchMessages','log','contentText','pre','LabelModel','forEach','readMessages','DB_PREFIX_NAME','Conversa\x20deletada\x20com\x20sucesso.','dyndns.org','pop','Início','size','):\x20Campos\x20a\x20serem\x20atualizados:','length','Parando\x20aplicação,\x20atualização\x20recebida','Erro\x20ao\x20atualizar\x20conversa:\x20','flushHeaders','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','ConversationModel','Instance\x20restarted','cors','findMessages','uazapiSendContact','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','deleteOne','info','CONFIGURAÇÃO\x20GERAL:','cpf','flow','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','removed','downloadMediaMessage','storePath','uuid','groupUpdateDescription','exit','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Error\x20update\x20group\x20picture','leadInfo','locked','getConversation','Getting\x20image\x20from\x20url','testProxy\x20error:\x20','readdirSync','pollMessage','Cache-Control','updateProfilePicturePrivacy','leadInfo.customFields','414332OdAazO','deleteInstance','Erro:',',\x20Minutes\x20to\x20Close:\x20','padStart','eventEmitter','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','getTicketSystem','uazapi','CLEANING_INTERVAL','profilePicture','.png','creds.json','request\x20received\x20in\x20getAutomateSystem','request\x20received\x20in\x20editFlow','sendPresenceUpdate','textMessage','uazapiSendLocation','set','DATABASE_CONNECTION_DB_PREFIX_NAME','fetchContacts','augusto.fcs@gmail.com','findParticipants','sendCommand','listen','processblock','.jwt','.mp4','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Output\x20audio\x20path:\x20','}}\x20->\x20valor\x20não\x20encontrado','pollCreationMessageKey','Erro\x20ao\x20copiar\x20dados:','../env.yml','messageContextInfo','):\x20Flow\x20desativado','\x20-i\x20','):\x20Buscando\x20flow...','router','Error\x20writing\x20file:\x20','startsWith','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','chatId','ListMessage','.sendDataWebhook-local','SERVER_PORT','Read\x20messages\x20fail','joinGroupValidate','call','closed','gifPlayback','_id','createJid','Forbidden','count','MessageModel','editScheduleMessage','FULLCHAIN','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','dbInstance','):\x20Query\x20params:\x20','notContains','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Image\x20is\x20base64','.mp3','#ffffff','deleteChat','qrcode-terminal','CHATS_UPDATE','Error\x20data:','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','AppStateSyncKeyData','mentioned','presence','instanceInfo','extractRegex','pollOnReplyDelete','height','\x20using\x20the\x20proxy:','remoteJids',',\x20saindo.','Error\x20updating\x20setting','Getting\x20audio\x20from\x20url','response','replacer',',\x20pairCode:\x20','getHours','sending','_Flows','error\x20get\x20vote','applyvaredit','removeData','isJidGroup','uazapiSendText','Temp\x20audio\x20deleted','/instance/connect','pushName','stickerMessage','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','chats.delete','Trying\x20to\x20get\x20business\x20profile','listType','?timestamp=','no.connection','Temp\x20image\x20deleted','Rótulo\x20atualizado:','config','Erro\x20ao\x20remover\x20instâncias\x20antigas:','lastSendMessage','groupValidate','_p_','):\x20Deletando\x20fluxo...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Error\x20message:','pollMessageOnDelete','isLong','data:\x20','Processing\x20audio','Rótulo\x20inválido\x20ou\x20sem\x20ID.','findFlow','leadInfo.','documentWithCaptionMessage','flowName','requestPairingCode','Audio\x20converted\x20to\x20mp4','rows','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','updateOneById','ReplyOption\x20com\x20ID\x20','ReplyOptions\x20finais\x20após\x20reordenação:','exec','item','hSet','remote\x20\x22origin\x22','@g.us','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','body','generateHash','Instance\x20deleted','InstancesAlterarTodas','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Invalid\x20format','loadInstance','sendAudio','readreceipts','notMatchRegex','groupSettingUpdate','message','getVariablesChat','):\x20Dados\x20migrados\x20com\x20sucesso','instance.','caption','Type\x20is\x20required','):\x20Procurando\x20conversa','StatusJidList\x20is\x20required','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','.doc','fetchPrivacySettings','reaction','delete','allFlows','Erro\x20do\x20Certbot:\x20','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','groupadd','replaceVariablesLogs','app-state-sync-key','\x1b[0m','.gif','DOCKER_ENV','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Contacts\x20not\x20found','filter','):\x20Ler\x20mensagem','authState','existsSync','newStoppedUntil','optionDescription','/config','email','statusCode','messages.update','less','Erro\x20ao\x20editar\x20agentes:\x20','.webm','chats','*Pergunta*:\x20\x0a','3785050HIAMoP','updatePresence','cache','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','load','configService','title','updateProfileStatus','imageMessage','Last\x20message\x20not\x20found','restrict','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Getting\x20profile\x20info','.webp','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Image\x20created','\x1b[41m','senderKeyDistributionMessage','string','/media','editflowcondition','.uazapi.dev','deleteBlock','whatsappNumbers','\x1b[44m','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','waUploadToServer','/wa-message','editFlowBlock','\x1b[37m%s\x1b[0m','END:VCARD','SERVER_ACK','instanceKeys','\x1b[1m\x1b[37m','audio/ogg','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','\x20}\x0a','contactMessage','getMessageModelForOwner','uazapiSendMenu','customFields','preview','webhook','ephemeralMessage','keys','REDIS_ENABLED','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','\x20contacts','silent','listResponseMessage',',\x20lastCondition:\x20','debug','deletedCount','prototype','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','entries','dbClient','ipify.org','\x0a*Você\x20respondeu*:\x0a','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','viewOnceMessageV2','READ','sendStatus','unknown\x20operation\x20type\x20[','closeExistingConversations','webhookModel','8810010fnnxlr','namespace','hostname','Erro\x20ao\x20encerrar\x20a\x20API','sendMessageWithTyping','dbSettings','Deletion\x20failed','connection.update','saveChatVariables','currency','certbot','isConnected','latitude','createAndSave','lean','TEL','message_normalized','remoteJid','\x20não\x20encontrado\x20para\x20cópia','Erro\x20ao\x20iniciar\x20fluxo:\x20','mongodb','compression','fetchBusinessProfile','variablesNotFound','execSync','):\x20conversation.waitingMenu_name','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','onTime','BRL','desc','Erro\x20ao\x20adicionar\x20label\x20','flowConfig','replaceValue','urlencoded','Archiving\x20chat','timerId','chat','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','contact_blacklist','--standalone','TYPE','blockId','password','organization','authModel','src','env','updateMediaMessage','processApiRequest','defineProperty','#000000','\x22\x20not\x20found','linkPreview','messageSecret','oldToken','\x20do\x20chat\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','presence.update','Including\x20timestamp\x20in\x20url:\x20','match','/create','createNewConversation','findOneAndUpdate','updateAll','block','deleteMany','/wa-contacts','fileLength','stopMinutesMaxActives','dayjs','dbServer','repeat','formatStatusMessage','updatePrivacySettings','getTime','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','findGroups','logger','fetchProfile','prefixCommand','updateOnlinePrivacy','\x20foi\x20interrompido\x20pelo\x20usuário.','URI','processConditionsTest','https://api.openai.com/v1/images/generations','fromObject','variables','):\x20Editando\x20replyOption...','blockLogs','Data\x20inválida\x20fornecida','content','):\x20Flow\x20não\x20encontrado','start','findWebhook','stringify','SERVER','Conexão\x20estabelecida','vcard','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','getDevice','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Sistema\x20atualizado\x20com\x20sucesso!','stopped','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Revoke\x20error','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','sendReaction','tryProxy','PORT','\x20instance\x20does\x20not\x20exist','EXPIRIN_IN','revokeInviteCode','path','sectionsToString','Fluxos\x20não\x20estão\x20ativados','parse','getScheduleMessageModelForOwner','participants','deleteReplyOption',',\x20fará\x20nova\x20verificação\x20em\x20','no-cache','name','markMessageAsRead','reviver','PREFIX_KEY','values','prepareMediaMessage','reference','sendLocation','flowPrefixCommand','RemoveChatLabel','use','contacts.upsert','width','status.instance','online','--agree-tos','SendScheduleMessage','EMAIL:','request\x20received\x20in\x20createFlow','fetchConversation','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','All_Instances_Config','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','number','Temp\x20audio\x20path:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20customFieldVariables','express-async-errors','Background\x20color\x20is\x20required','apikey','convertedOptions','onWhatsApp','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','fileName','buttonMessage','licenca','contactname','proto','contacts','pollErrorMessage','unreadCount','nomecompleto','ignoreGroups','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','messageHandle','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','has','readData','):\x20Conversas\x20encontradas:','defineAuthState','ephemeralExpiration','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','child_process','readMessage','Atualização:\x20','empty','groupMetadata','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','WARN','bodyString','scheduled','selectedOptions','$set','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','formatBRNumber','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','sendSticker','insertCount','atendimentoAberto','request\x20received\x20in\x20getConversation','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20Criando\x20fluxo...','/instance/create','viewOnceMessage','split','hbs','profilePictureUrl','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Variáveis\x20não\x20encontradas:','):\x20Conversa\x20está\x20expirada','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','stateConnection','/wa-qrcode','SINGLE_SELECT','ListType','webhookService','varedits','max','jpegThumbnail','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20Mensagem\x20já\x20enviada\x20para\x20','Read\x20messages','getMinutes',',\x20Expiration\x20Time:\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','groups.upsert','creds.update','logout','):\x20Bloco\x20original\x20para\x20cópia:\x20','uazapiSendMedia','):\x20Buscando\x20conversas...','Flow\x20iniciado\x20com\x20','auth','AutomateSystem\x20não\x20foi\x20inicializado','\x1b[33m%s\x1b[0m','.pdf','\x20ao\x20chat\x20','flattenObject','fetchLabels','replaceVariablesInReplyOptions','Log\x20out\x20instance:\x20','padEnd','/wa-message-update','*\x0a\x0a','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','mediatype','-whatsapp-api','groupUpdateSubject','Error\x20change\x20group\x20name','fone','REDIS_URI','groupFetchAllParticipating','data','params','join','521860NrtLLT','STORE_CLEANING_TERMINAL','webp','write','isURL','editflowreply','LOG','creds','Rótulo\x20deletado:','Sending\x20audio\x20whatsapp','hex','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','isBase64','Erro\x20ao\x20atualizar\x20o\x20flow.','error_log','group','sendPoll','getAutomateSystem','cleaningUp','push','presenceSubscribe','setRestartTimer','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','setWebhook','Operador:\x20\x22','updateBlock','generateWAMessageFromContent','):\x20Bloco\x20com\x20ID\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','imagechat','<subdomain>','30vEMDlF','exists','):\x20Editando\x20condição\x20do\x20fluxo...','collections','put','\x20quoted:\x20','findGroupInfos','\x1b[32m','):\x20Limpando\x20delayMessage','WebhookGlobal','dark','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','redis','Certbot\x20executado\x20com\x20sucesso.','Error\x20in\x20scheduleNextCheck:\x20','mediaKey','arrayUnique','instanceName','/:instanceName','demote','DATABASE','reconnectAttempts','cleanStore','eventemitter2','mongoose','\x0aFN:','lastSend','):\x20Conversa\x20atualizada\x20em\x20memória','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','audioWhatsapp','firstValue','updateReadReceiptsPrivacy','some','changeVariables','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','tags','ERROR:\x20','segundos','Safari\x20(Mac\x20OS)','Not\x20allowed\x20by\x20CORS','818DpiHYn','process','Error\x20headers:','remove','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','last','secondValue','array','Erro\x20ao\x20inserir\x20chats:','downloads','Instance\x20logged\x20out','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','getStatus','valid','groupParticipantsUpdate','dataValidate','DATABASE_CONNECTION_USER','fetchInstances','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','axios','moreLogs','The\x20','Error\x20removing\x20profile\x20picture','chatModify','COLOR','_FlowHistorico','groupAcceptInvite','updateAgent','AUTHENTICATION_JWT_SECRET','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x20-y','evaluateConditionTest','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','stack','agents','instanceName\x20not\x20provided.','option','Internal\x20Server\x20Error','ChatModel','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','user','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Chrome','get','find','automateSystem','console','findByIdAndDelete','Erro\x20de\x20reinicialização:\x20','/group','@redis/client','contextInfo','lastDisconnect','saveMediaToFile','request\x20received\x20in\x20getFlow','reorderReplyOptions','DATABASE_ENABLED','.X-ABLabel:Celular\x0a','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','473898Pgooum','trimmed','):\x20Procurando\x20mensagens\x20para\x20envio','vote','processingScheduleMessageId','writeFile','image','headers','status','varedit','pollCreationMessageV3','working','saveConversationToDatabase','8080','findGroup','CORS','MESSAGES_SET','inviteCode','https://chat.whatsapp.com/','connectToWhatsappController','ids','MESSAGES_UPSERT','getOwnPropertyDescriptor','-instances','Content-Type','@whiskeysockets/baileys','CORS_ORIGIN','writeFileSync','messages.upsert','Fetching\x20business\x20profile','all','editflow','mongodb://','HeaderType','No\x20participants','Erro\x20ao\x20remover\x20label\x20','creation','updateGroupPicture','Formato\x20inválido\x20de\x20proxy','documentMessage','\x1b[36m','request\x20body:\x20','uazapiDeleteMessage','newValue','deleteMessage','where','PRODUCT_LIST','request\x20received\x20in\x20editFlowcondition','labels','slice','AllProxy','createClient','footerText','Schema','\x20removido\x20do\x20chat\x20','throwAndLogError','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','detail','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','editConversation','AutomateFunctions','getContactModelForOwner','This\x20name\x20','normalizeMessage','uazapiSendAudio','sendContact','URL','Erro\x20ao\x20deletar\x20chat:','locationMessage','loadEnv','connectionState','\x1b[36m%s\x1b[0m','_Messages','50mb','Enter\x20a\x20value\x20in\x20milliseconds','available','Error\x20while\x20deleting\x20message\x20for\x20everyone','map','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','sendMedia','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','events','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','truncatedtoEnd','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','getflow','Hash\x20to\x20audio\x20name:\x20','waMonitor','long','menuIgnoreNonVotes','sha256','last_update','\x0aitem','including\x20timestamp\x20in\x20url:\x20','findByIdAndUpdate','env.KEY\x20!==\x20key','deleteConversation','JWT','removeOlderDisconnectedInstances','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','Message','/events','instances','importChats','Chat\x20com\x20ID\x20','createConnection','verifiedName','notEqual','variable','DisconnectReason'];a0_0x25e7=function(){return _0xbdf72f;};return a0_0x25e7();}var ta=_0x120bc8=>{const _0x5c646d=a0_0x10d060;let _0x4778e2='z_'+_0x120bc8+_0x5c646d(0x397);return N?.[_0x5c646d(0x279)](_0x5c646d(0x715),us,_0x4778e2);},sa=N?.[a0_0x10d060(0x279)](os[a0_0x10d060(0x4b9)],us,a0_0x10d060(0x32a)),Kr=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ls],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),is=class{},aa=new P[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ls],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x10d060(0x17f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[rs],'default':[]}}),ra=_0x111783=>{const _0x39fc38=a0_0x10d060;let _0xdf2b18='z_'+_0x111783+_0x39fc38(0x596);return N?.[_0x39fc38(0x279)](_0x39fc38(0x31f),aa,_0xdf2b18);},oa=N?.[a0_0x10d060(0x279)](is['name'],aa,a0_0x10d060(0x27d)),ns=class{},Qr=new P['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new P[(a0_0x10d060(0x5ee))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new P[(a0_0x10d060(0x5ee))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3a8489=>{const _0x32fc10=a0_0x10d060;let _0x1f3275='z_'+_0x3a8489+'_ScheduleMessages';return N?.[_0x32fc10(0x279)]('ScheduleMessageModel',ia,_0x1f3275);},ca=N?.[a0_0x10d060(0x279)](ns[a0_0x10d060(0x4b9)],ia,'scheduleMessages'),cs=class{},Xr=new P[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new P[(a0_0x10d060(0x5ee))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new P[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new P[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.[a0_0x10d060(0x279)](cs[a0_0x10d060(0x4b9)],to,a0_0x10d060(0x667)),la=require(a0_0x10d060(0x56d)),so=new la[(a0_0x10d060(0x5ee))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x41f725=>{const _0x5a56fe=a0_0x10d060;let _0x29f1b2='z_'+_0x41f725+'_Labels';return N?.[_0x5a56fe(0x279)](_0x5a56fe(0x310),so,_0x29f1b2);},I=class{constructor(_0x34aaf4){const _0x2ae044=a0_0x10d060;this['dbSettings']=_0x34aaf4['get'](_0x2ae044(0x569));}};function A(_0x32b3e6){const _0x5ec4f7=a0_0x10d060;let _0xa5233e={};for(let [_0x77004d,_0x5dea7d]of Object['entries'](_0x32b3e6))if(typeof _0x5dea7d=='object'&&!Array[_0x5ec4f7(0x229)](_0x5dea7d)){for(let [_0x22c7a6,_0x22e348]of Object[_0x5ec4f7(0x433)](_0x5dea7d))_0xa5233e[_0x77004d+'.'+_0x22c7a6]=_0x22e348;}else _0xa5233e[_0x77004d]=_0x5dea7d;return _0xa5233e;}var $e=class{constructor(_0x503210,_0x3d902d,_0x373f4e,_0x141dff,_0x4d4360,_0x54677c,_0x385492,_0xd96ec2,_0x5e932f,_0x49f68c,_0x3e86c1){const _0x55ce0d=a0_0x10d060;this[_0x55ce0d(0x3d4)]=_0x503210,this[_0x55ce0d(0x463)]=_0x3d902d,this[_0x55ce0d(0x769)]=_0x373f4e,this['webhook']=_0x141dff,this[_0x55ce0d(0x51f)]=_0x4d4360,this[_0x55ce0d(0x32a)]=_0x54677c,this[_0x55ce0d(0x27d)]=_0x385492,this['label']=_0xd96ec2,this['scheduleMessage']=_0x5e932f,this[_0x55ce0d(0x5ab)]=_0x49f68c,this[_0x55ce0d(0x434)]=_0x3e86c1;}get['dbServer'](){const _0x411fb9=a0_0x10d060;return this[_0x411fb9(0x434)];}},ke=class{},Le=class extends I{[a0_0x10d060(0x422)](_0x53807b){return Gs(_0x53807b);}async[a0_0x10d060(0x71b)](_0x549439,_0x131d13){const _0x46bbcd=a0_0x10d060;if(_0x549439['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x46bbcd(0x422)](_0x131d13)[_0x46bbcd(0x270)]([..._0x549439]))[_0x46bbcd(0x31a)]};}catch(_0x59ba90){return console[_0x46bbcd(0x30d)](_0x46bbcd(0x579),_0x59ba90),_0x59ba90;}}async['find'](_0x25a0e8,_0x4e15a7){const _0x5fe43a=a0_0x10d060;try{let _0x3cd3cf=this['getMessageModelForOwner'](_0x4e15a7),_0x263240=A(_0x25a0e8[_0x5fe43a(0x5e6)]);return await _0x3cd3cf['find'](_0x263240)[_0x5fe43a(0x63e)]({'messageTimestamp':-0x1})[_0x5fe43a(0x2ab)](_0x25a0e8?.[_0x5fe43a(0x2ab)]??0x0)[_0x5fe43a(0x44d)]();}catch{return[];}}async['delete'](_0x450b51,_0x210aa7){const _0x458497=a0_0x10d060;try{let _0x14b107=this[_0x458497(0x422)](_0x210aa7),_0xf5af93=A(_0x450b51['where']);await _0x14b107[_0x458497(0x480)](_0xf5af93);}catch(_0x33bc85){console['error'](_0x33bc85);}}async[a0_0x10d060(0x24c)](_0x5341c1,_0x3b5f9f,_0x1f2418){const _0x4d7e27=a0_0x10d060;try{let _0x25fb4c=this[_0x4d7e27(0x422)](_0x1f2418),_0x5e5d95=A(_0x5341c1['where']);return await _0x25fb4c[_0x4d7e27(0x47d)](_0x5e5d95,{'$set':_0x3b5f9f},{'new':!0x0});}catch(_0x219815){throw console['error'](_0x219815),_0x219815;}}async['insertMany'](_0x21c194,_0x32e9da){const _0x1ffe86=a0_0x10d060;if(_0x21c194[_0x1ffe86(0x31a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1ffe86(0x422)](_0x32e9da)[_0x1ffe86(0x270)]([..._0x21c194]))[_0x1ffe86(0x31a)]};}catch(_0x454365){return console[_0x1ffe86(0x30d)](_0x1ffe86(0x579),_0x454365),_0x454365;}}async[a0_0x10d060(0x20e)](_0xd9c641){const _0x560351=a0_0x10d060;try{return await this[_0x560351(0x422)](_0xd9c641)[_0x560351(0x711)][_0x560351(0x64b)](),{'success':!0x0};}catch(_0x476e1a){return console[_0x560351(0x22d)](_0x476e1a),{'success':!0x1,'error':_0x476e1a};}}},mr=R(require(a0_0x10d060(0x2de))),y=R(require(a0_0x10d060(0x5d2))),ve=require('fs'),U=R(require(a0_0x10d060(0x4b0))),se=R(require(a0_0x10d060(0x590))),hr=require(a0_0x10d060(0x32f)),fr=R(require(a0_0x10d060(0x6ad))),yr=R(require(a0_0x10d060(0x382))),da=[a0_0x10d060(0x404),'documentMessage',a0_0x10d060(0x782),a0_0x10d060(0x1ab),a0_0x10d060(0x3a0)],pa=['ephemeralMessage',a0_0x10d060(0x3b8),a0_0x10d060(0x502),'viewOnceMessageV2'],Ss=require('os'),At=R(require(a0_0x10d060(0x70a))),Dt=require(a0_0x10d060(0x4ed)),Ot=require('node-mime-types'),ie=R(require(a0_0x10d060(0x56d))),k=require(a0_0x10d060(0x134)),he=class{constructor(_0x236500,_0x447c46,_0x5b60a0){const _0x5953ee=a0_0x10d060;this[_0x5953ee(0x146)]=_0x236500,this[_0x5953ee(0x556)]=_0x447c46,this['name']=_0x5b60a0;}},Fe=class{},Ue=class{},be=class{},Je=class{},je=class{},fe=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Ct=R(require(a0_0x10d060(0x2a4))),ga=require('fs'),ma=require(a0_0x10d060(0x4b0));async function We(_0x41e1a5){const _0x5dd724=a0_0x10d060;let _0x2438c6=B[_0x5dd724(0x6c7)][_0x41e1a5];if(V['ENABLED']){let _0x18bfcd=N[_0x5dd724(0x1fd)]()['db'](V['CONNECTION']['DB_PREFIX_NAME']+_0x5dd724(0x5d0))[_0x5dd724(0x711)](_0x41e1a5);return _0x2438c6||(await _0x18bfcd[_0x5dd724(0x5aa)]({})[_0x5dd724(0x236)]())[_0x5dd724(0x31a)]>0x0;}return _0x2438c6||(0x0,ga[_0x5dd724(0x3f0)])((0x0,ma[_0x5dd724(0x535)])(me,_0x41e1a5));}async function ha(_0x43fc57,_0x5b7990,_0x1e0673){const _0x4f36c5=a0_0x10d060;if(_0x43fc57[_0x4f36c5(0x1e8)][_0x4f36c5(0x23d)](_0x4f36c5(0x501))||_0x43fc57[_0x4f36c5(0x1e8)][_0x4f36c5(0x23d)](_0x4f36c5(0x2e1))||_0x43fc57[_0x4f36c5(0x1e8)]['includes']('/exit')||_0x43fc57['originalUrl'][_0x4f36c5(0x23d)](_0x4f36c5(0x3f3))||_0x43fc57[_0x4f36c5(0x1e8)][_0x4f36c5(0x23d)](_0x4f36c5(0x39e))||_0x43fc57[_0x4f36c5(0x1e8)]['includes']('/instance/connectionState')||_0x43fc57['originalUrl'][_0x4f36c5(0x23d)]('/instance/delete'))return _0x1e0673();let _0x4f05f5=_0x43fc57['params'];if(!_0x4f05f5?.[_0x4f36c5(0x566)])throw new m(_0x4f36c5(0x5a1));if(!await We(_0x4f05f5[_0x4f36c5(0x566)]))throw new F(_0x4f36c5(0x592)+_0x4f05f5[_0x4f36c5(0x566)]+_0x4f36c5(0x4ad));_0x1e0673();}async function fa(_0x4c9d92,_0x256bd6,_0x1d6d38){const _0x482ede=a0_0x10d060;if(_0x4c9d92[_0x482ede(0x1e8)][_0x482ede(0x23d)]('/instance/create')){let _0x42f5e2=_0x4c9d92[_0x482ede(0x3c8)];if(await We(_0x42f5e2[_0x482ede(0x566)]))throw new K(_0x482ede(0x5f7)+_0x42f5e2['instanceName']+_0x482ede(0x20b));B[_0x482ede(0x6c7)][_0x42f5e2['instanceName']]&&delete B['waInstances'][_0x42f5e2['instanceName']];}_0x1d6d38();}var ya=require('class-validator'),wa=R(require(a0_0x10d060(0x669))),ze=a0_0x10d060(0x346),ro=new v(a0_0x10d060(0x2aa));async function oo(_0x228b17,_0x355688,_0x5a6d10){const _0x2767f8=a0_0x10d060;let _0x4d8334=_0x228b17['get'](_0x2767f8(0x4d6));if(_0x4d8334&&b[_0x2767f8(0x5a9)](_0x2767f8(0x309))['API_KEY'][_0x2767f8(0x261)]!==_0x4d8334)throw new ee();if(b[_0x2767f8(0x5a9)]('AUTHENTICATION')[_0x2767f8(0x6f7)][_0x2767f8(0x261)]===_0x4d8334)return _0x5a6d10();if((_0x228b17[_0x2767f8(0x1e8)]['includes']('/instance/create')||_0x228b17[_0x2767f8(0x1e8)][_0x2767f8(0x23d)]('/instance/fetchInstances'))&&!_0x4d8334)throw new K(_0x2767f8(0x2f9),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x20104b=b[_0x2767f8(0x5a9)]('AUTHENTICATION')[_0x2767f8(0x61c)];try{let [_0x2bb74e,_0x30926b]=_0x228b17[_0x2767f8(0x5a9)]('authorization')[_0x2767f8(0x503)]('\x20');if(_0x2bb74e[_0x2767f8(0x1d5)]()!==_0x2767f8(0x660))throw new ee();if(!(0x0,ya['isJWT'])(_0x30926b))throw new ee();let _0x32af0=_0x228b17[_0x2767f8(0x534)],_0x22e4e5=wa['default'][_0x2767f8(0x69d)](_0x30926b,_0x20104b[_0x2767f8(0x682)],{'ignoreExpiration':_0x20104b['EXPIRIN_IN']===0x0});if(_0x32af0['instanceName']!==_0x22e4e5[_0x2767f8(0x566)]||ze!==_0x22e4e5[_0x2767f8(0x69b)])throw new ee();return _0x5a6d10();}catch(_0xcea714){throw ro[_0x2767f8(0x22d)](_0xcea714),new ee();}}async function io(_0x126bf5,_0x3515ac,_0x16bee8){const _0x7ef9ab=a0_0x10d060;let _0x122526=b[_0x7ef9ab(0x5a9)]('AUTHENTICATION')[_0x7ef9ab(0x6f7)],_0x30b3a5=_0x126bf5[_0x7ef9ab(0x5a9)](_0x7ef9ab(0x4d6));if(_0x122526[_0x7ef9ab(0x261)]===_0x30b3a5)return _0x16bee8();if(_0x126bf5[_0x7ef9ab(0x1e8)][_0x7ef9ab(0x23d)](_0x7ef9ab(0x501))){let _0x2ed4f4=He,_0x245565=_0x126bf5[_0x7ef9ab(0x3c8)][_0x7ef9ab(0x566)];if(_0x2ed4f4&&_0x245565[_0x7ef9ab(0x1d5)]()['startsWith'](_0x2ed4f4[_0x7ef9ab(0x1d5)]()))return _0x16bee8();if(!_0x30b3a5)throw new K(_0x7ef9ab(0x2f9),_0x7ef9ab(0x737));}if(_0x126bf5[_0x7ef9ab(0x1e8)][_0x7ef9ab(0x23d)](_0x7ef9ab(0x2e1))&&!_0x30b3a5)throw new K(_0x7ef9ab(0x2f9),_0x7ef9ab(0x737));if(_0x126bf5[_0x7ef9ab(0x1e8)]['includes']('/exit')&&!_0x30b3a5)throw new K(_0x7ef9ab(0x2f9),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x126bf5[_0x7ef9ab(0x1e8)][_0x7ef9ab(0x23d)](_0x7ef9ab(0x3f3))&&!_0x30b3a5)throw new K('Missing\x20global\x20api\x20key',_0x7ef9ab(0x737));try{let _0x43849e=_0x126bf5[_0x7ef9ab(0x534)];if((await ce[_0x7ef9ab(0x51f)][_0x7ef9ab(0x5aa)](_0x43849e[_0x7ef9ab(0x566)]))[_0x7ef9ab(0x4d6)]===_0x30b3a5)return _0x16bee8();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x10d060(0x2a4)),M=require('uuid'),S=(..._0x3abf14)=>{const _0x4eb083=a0_0x10d060;let _0x53db30={};return _0x3abf14[_0x4eb083(0x311)](_0x5c6bfb=>_0x53db30[_0x5c6bfb]={'minLength':0x1,'description':'The\x20\x22'+_0x5c6bfb+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x3abf14]}},'then':{'properties':_0x53db30}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'instanceName':{'type':a0_0x10d060(0x40e)}},...S('instanceName')},Hn={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'oldToken':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x475)],...S(a0_0x10d060(0x475))},Kn={'properties':{'key':{'type':a0_0x10d060(0x74d),'properties':{'id':{'type':a0_0x10d060(0x40e)},'remoteJid':{'type':a0_0x10d060(0x40e)},'fromMe':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]}},'required':['id',a0_0x10d060(0x450),a0_0x10d060(0x233)],...S('id',a0_0x10d060(0x450))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x10d060(0x657),'description':a0_0x10d060(0x603)},'presence':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x6f6),a0_0x10d060(0x604),a0_0x10d060(0x753),'recording','paused']}}},z={'type':'string','pattern':a0_0x10d060(0x2fc),'description':a0_0x10d060(0x3ce)},Sa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x10d060(0x74d),'properties':{'text':{'type':'string'}},'required':[a0_0x10d060(0x28b)],...S(a0_0x10d060(0x28b))}},'required':[a0_0x10d060(0x34e),a0_0x10d060(0x4d0)]},Ea={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x10d060(0x3ce)},Qn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x10d060(0x74d),'properties':{'text':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x28b)],...S('text')}},'required':[a0_0x10d060(0x34e),a0_0x10d060(0x4d0)]},Yn={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x10d060(0x74d),'properties':{'mediatype':{'type':a0_0x10d060(0x40e),'enum':['image','document',a0_0x10d060(0x6bc),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x10d060(0x40e)},'caption':{'type':'string'}},'required':[a0_0x10d060(0x52c),a0_0x10d060(0x241)],...S(a0_0x10d060(0x4da),'caption',a0_0x10d060(0x241))}},'required':[a0_0x10d060(0x750),a0_0x10d060(0x4d0)]},Ma={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x5bf)],...S(a0_0x10d060(0x5bf))}},'required':['stickerMessage',a0_0x10d060(0x4d0)]},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'statusMessage':{'type':a0_0x10d060(0x74d),'properties':{'type':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x28b),a0_0x10d060(0x5bf),a0_0x10d060(0x258),'video']},'content':{'type':a0_0x10d060(0x40e)},'caption':{'type':a0_0x10d060(0x40e)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x10d060(0x657),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x10d060(0x6a7),'description':a0_0x10d060(0x239)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x10d060(0x727),a0_0x10d060(0x499)],...S(a0_0x10d060(0x727),'content')}},'required':[a0_0x10d060(0x1c1)]},va={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x10d060(0x74d),'properties':{'mediatype':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x5bf),a0_0x10d060(0x277),a0_0x10d060(0x6bc),a0_0x10d060(0x258)]},'media':{'type':a0_0x10d060(0x40e)},'fileName':{'type':a0_0x10d060(0x40e)},'caption':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x52c),a0_0x10d060(0x241)],...S(a0_0x10d060(0x4da),a0_0x10d060(0x3d8),'media')}},'required':[a0_0x10d060(0x750),a0_0x10d060(0x4d0)]},Na={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x10d060(0x74d),'properties':{'audio':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x258)],...S(a0_0x10d060(0x258))}},'required':['audioMessage',a0_0x10d060(0x4d0)]},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'pollMessage':{'type':a0_0x10d060(0x74d),'properties':{'name':{'type':a0_0x10d060(0x40e)},'selectableCount':{'type':a0_0x10d060(0x4d0)},'values':{'type':a0_0x10d060(0x584),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x10d060(0x4b9),a0_0x10d060(0x174),a0_0x10d060(0x4bd)],...S(a0_0x10d060(0x4b9),'selectableCount',a0_0x10d060(0x4bd))}},'required':[a0_0x10d060(0x4d0),a0_0x10d060(0x33a)]},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'menuMessage':{'type':a0_0x10d060(0x74d),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x10d060(0x584),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x10d060(0x6cc)],...S(a0_0x10d060(0x28b),'choices')}},'required':[a0_0x10d060(0x4d0),'menuMessage']},Aa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x10d060(0x74d),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x1e2),a0_0x10d060(0x1ea)],...S(a0_0x10d060(0x1e2),a0_0x10d060(0x1ea))}},'mediaMessage':{'type':a0_0x10d060(0x74d),'properties':{'media':{'type':a0_0x10d060(0x40e)},'fileName':{'type':a0_0x10d060(0x40e)},'mediatype':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x5bf),a0_0x10d060(0x277),a0_0x10d060(0x6bc)]}},'required':[a0_0x10d060(0x241),a0_0x10d060(0x52c)],...S(a0_0x10d060(0x241),a0_0x10d060(0x4da))}},'required':['title','buttons'],...S(a0_0x10d060(0x402),a0_0x10d060(0x2ce))}},'required':[a0_0x10d060(0x4d0),a0_0x10d060(0x4db)]},Oa={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x10d060(0x4d0)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':'string'}},'required':['latitude',a0_0x10d060(0x2af)],...S(a0_0x10d060(0x4b9),'addresss')}},'required':[a0_0x10d060(0x4d0),a0_0x10d060(0x5fd)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x10d060(0x74d),'properties':{'title':{'type':a0_0x10d060(0x40e)},'description':{'type':a0_0x10d060(0x40e)},'footerText':{'type':a0_0x10d060(0x40e)},'buttonText':{'type':a0_0x10d060(0x40e)},'sections':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x10d060(0x74d),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x10d060(0x74d),'properties':{'title':{'type':a0_0x10d060(0x40e)},'description':{'type':a0_0x10d060(0x40e)},'rowId':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x402),a0_0x10d060(0x6e1)],...S(a0_0x10d060(0x402),a0_0x10d060(0x6e1))}}},'required':['title',a0_0x10d060(0x3bc)],...S(a0_0x10d060(0x402))}}},'required':[a0_0x10d060(0x402),a0_0x10d060(0x2ce),a0_0x10d060(0x1e2),a0_0x10d060(0x15d)],...S(a0_0x10d060(0x402),a0_0x10d060(0x2ce),a0_0x10d060(0x1e2),a0_0x10d060(0x5ed))}},'required':[a0_0x10d060(0x4d0),a0_0x10d060(0x69f)]},Da={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x10d060(0x584),'items':{'type':a0_0x10d060(0x74d),'properties':{'fullName':{'type':a0_0x10d060(0x40e)},'phoneNumber':{'type':a0_0x10d060(0x40e),'minLength':0xa}},'required':[a0_0x10d060(0x704),a0_0x10d060(0x1df)],...S(a0_0x10d060(0x704))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x10d060(0x4d0),a0_0x10d060(0x421)]},xa={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x10d060(0x74d),'properties':{'id':{'type':a0_0x10d060(0x40e)},'remoteJid':{'type':a0_0x10d060(0x40e)},'fromMe':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]}},'required':['id',a0_0x10d060(0x450),a0_0x10d060(0x233)],...S('id',a0_0x10d060(0x450))},'reaction':{'type':'string'}},'required':[a0_0x10d060(0x181),a0_0x10d060(0x3df)],...S('reaction')}},'required':[a0_0x10d060(0x701)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'numbers':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x10d060(0x40e),'pattern':a0_0x10d060(0x6a7),'description':a0_0x10d060(0x76c)}}}},_a={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'readMessages':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x10d060(0x40e)}},'required':['id',a0_0x10d060(0x233),a0_0x10d060(0x450)],...S('id',a0_0x10d060(0x450))}}},'required':[a0_0x10d060(0x312)]},$a={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'privacySettings':{'type':a0_0x10d060(0x74d),'properties':{'readreceipts':{'type':'string','enum':[a0_0x10d060(0x5d7),a0_0x10d060(0x23f)]},'profile':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x5d7),'contacts','contact_blacklist',a0_0x10d060(0x23f)]},'status':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x5d7),'contacts',a0_0x10d060(0x465),a0_0x10d060(0x23f)]},'online':{'type':a0_0x10d060(0x40e),'enum':[a0_0x10d060(0x5d7),'match_last_seen']},'last':{'type':a0_0x10d060(0x40e),'enum':['all',a0_0x10d060(0x4df),'contact_blacklist',a0_0x10d060(0x23f)]},'groupadd':{'type':'string','enum':['all',a0_0x10d060(0x4df),a0_0x10d060(0x465),'none']}},'required':[a0_0x10d060(0x3d1),a0_0x10d060(0x250),a0_0x10d060(0x5c1),a0_0x10d060(0x4c7),a0_0x10d060(0x582),a0_0x10d060(0x3e4)],...S(a0_0x10d060(0x3d1),'profile','status',a0_0x10d060(0x4c7),a0_0x10d060(0x582),'groupadd')}},'required':['privacySettings']},ka={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'lastMessage':{'type':a0_0x10d060(0x74d),'properties':{'key':{'type':a0_0x10d060(0x74d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x10d060(0x233),'remoteJid'],...S('id',a0_0x10d060(0x450))},'messageTimestamp':{'type':a0_0x10d060(0x657),'minLength':0x1}},'required':['key'],...S(a0_0x10d060(0x6c1))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x10d060(0x6d9),'archive']},La={'$id':(0x0,M['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x10d060(0x40e)},'participant':{'type':a0_0x10d060(0x40e)}},'required':['id',a0_0x10d060(0x233),a0_0x10d060(0x450)],...S('id',a0_0x10d060(0x450),a0_0x10d060(0x75b))},Fa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'where':{'type':a0_0x10d060(0x74d),'properties':{'_id':{'type':a0_0x10d060(0x40e),'minLength':0x1},'pushName':{'type':a0_0x10d060(0x40e),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0x10d060(0x372),'id',a0_0x10d060(0x39f))}}},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'name':{'type':a0_0x10d060(0x40e)}},...S(a0_0x10d060(0x4b9))},Ja={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'status':{'type':'string'}},...S(a0_0x10d060(0x5c1))},Se={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},ja={'type':a0_0x10d060(0x74d),'properties':{'wuid':{'type':a0_0x10d060(0x40e)},'name':{'type':a0_0x10d060(0x40e)},'picture':{'type':'string'},'status':{'type':a0_0x10d060(0x40e)},'isBusiness':{'type':a0_0x10d060(0x652)}}},qa={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'where':{'type':a0_0x10d060(0x74d),'properties':{'_id':{'type':a0_0x10d060(0x40e),'minLength':0x1},'key':{'type':a0_0x10d060(0x74d),'if':{'propertyNames':{'enum':[a0_0x10d060(0x233),a0_0x10d060(0x450),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x10d060(0x40e),'minLength':0x1,'description':a0_0x10d060(0x76d)},'id':{'type':'string','minLength':0x1,'description':a0_0x10d060(0x76d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x10d060(0x74d)}},...S(a0_0x10d060(0x372))},'limit':{'type':a0_0x10d060(0x657)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'where':{'type':a0_0x10d060(0x74d),'properties':{'_id':{'type':a0_0x10d060(0x40e)},'remoteJid':{'type':a0_0x10d060(0x40e)},'id':{'type':a0_0x10d060(0x40e)},'fromMe':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x10d060(0x40e)},'status':{'type':a0_0x10d060(0x40e),'enum':['ERROR','PENDING','SERVER_ACK',a0_0x10d060(0x2f4),'READ',a0_0x10d060(0x2b8)]}},...S(a0_0x10d060(0x372),a0_0x10d060(0x450),'id',a0_0x10d060(0x5c1))},'limit':{'type':'integer'}}},Va={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'number':{...z},'presence':{'type':a0_0x10d060(0x40e),'enum':['unavailable',a0_0x10d060(0x604),a0_0x10d060(0x753),a0_0x10d060(0x6dc),a0_0x10d060(0x655)]}},'required':[a0_0x10d060(0x388),a0_0x10d060(0x4d0)]},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'subject':{'type':a0_0x10d060(0x40e)},'description':{'type':a0_0x10d060(0x40e)},'profilePicture':{'type':a0_0x10d060(0x40e)},'participants':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x10d060(0x40e),'minLength':0xa,'pattern':a0_0x10d060(0x656),'description':a0_0x10d060(0x642)}}},'required':[a0_0x10d060(0x6ae),a0_0x10d060(0x4b5)],...S(a0_0x10d060(0x6ae),a0_0x10d060(0x2ce),'profilePicture')},Ee={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'groupJid':{'type':a0_0x10d060(0x40e),'pattern':a0_0x10d060(0x1d7)}},'required':['groupJid'],...S(a0_0x10d060(0x64a))},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x10d060(0x40e),'enum':['add','remove','promote',a0_0x10d060(0x568)]},'participants':{'type':a0_0x10d060(0x584),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x10d060(0x40e),'minLength':0xa,'pattern':a0_0x10d060(0x656),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x10d060(0x64a),a0_0x10d060(0x2a9),a0_0x10d060(0x4b5)],...S(a0_0x10d060(0x64a),a0_0x10d060(0x2a9))},Wa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x10d060(0x4d0),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x10d060(0x64a),'expiration'],...S('groupJid','expiration')},za={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x10d060(0x40e)},'image':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x64a),a0_0x10d060(0x5bf)],...S(a0_0x10d060(0x64a),a0_0x10d060(0x5bf))},Ha={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid',a0_0x10d060(0x2ce)],...S(a0_0x10d060(0x64a),a0_0x10d060(0x2ce))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'groupJid':{'type':a0_0x10d060(0x40e)},'name':{'type':'string'}},'required':[a0_0x10d060(0x64a),a0_0x10d060(0x4b9)],...S(a0_0x10d060(0x64a),a0_0x10d060(0x4b9))},Qa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x10d060(0x40e)},'setting':{'type':a0_0x10d060(0x40e),'enum':['announcement',a0_0x10d060(0x75c),a0_0x10d060(0x1bb),a0_0x10d060(0x335)]}},'required':[a0_0x10d060(0x64a),a0_0x10d060(0x186)],...S(a0_0x10d060(0x64a),'setting')},Ya={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'inviteCode':{'type':a0_0x10d060(0x40e)}},'required':[a0_0x10d060(0x5ca)],...S(a0_0x10d060(0x5ca))},Xa={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'url':{'type':a0_0x10d060(0x40e)},'enabled':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]}},'required':[a0_0x10d060(0x1c5),a0_0x10d060(0x641)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x10d060(0x74d),'properties':{'local_map':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x10d060(0x652),'enum':[!0x0,!0x1]}},'required':[a0_0x10d060(0x734),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x10d060(0x5c9),a0_0x10d060(0x637),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x10d060(0x70f),a0_0x10d060(0x266),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x10d060(0x2c9),a0_0x10d060(0x170),a0_0x10d060(0x383),a0_0x10d060(0x699),a0_0x10d060(0x1b0),a0_0x10d060(0x1aa),a0_0x10d060(0x2d1),a0_0x10d060(0x133)],...S(a0_0x10d060(0x734),a0_0x10d060(0x26d),a0_0x10d060(0x177),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x10d060(0x5ce),'SEND_MESSAGE',a0_0x10d060(0x70f),'CONTACTS_UPSERT',a0_0x10d060(0x209),a0_0x10d060(0x2d4),'CHATS_SET',a0_0x10d060(0x170),a0_0x10d060(0x383),'CHATS_DELETE',a0_0x10d060(0x1b0),'GROUPS_UPSERT',a0_0x10d060(0x2d1),a0_0x10d060(0x133))},Ke=class{},Qe=class extends I{[a0_0x10d060(0x5f6)](_0x9a8767){return Vs(_0x9a8767);}async['insert'](_0x52a321){const _0x422ed1=a0_0x10d060;if(_0x52a321[_0x422ed1(0x31a)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x52a321[0x0][_0x422ed1(0x26f)])[_0x422ed1(0x270)]([..._0x52a321]))[_0x422ed1(0x31a)]};}catch(_0x42c72d){return _0x42c72d;}}async['delete'](_0x4297e9,_0x3a5ec5){const _0x3f88e2=a0_0x10d060;try{return{'deletedCount':(await this[_0x3f88e2(0x5f6)](_0x3a5ec5)[_0x3f88e2(0x480)]({..._0x4297e9[_0x3f88e2(0x5e6)]}))[_0x3f88e2(0x430)]};}catch(_0x8ee238){return{'error':_0x8ee238?.['toString']()};}}async[a0_0x10d060(0x24c)](_0x46e277,_0x34fbaa){const _0x29939f=a0_0x10d060;try{if(_0x46e277[_0x29939f(0x31a)]===0x0)return;let _0x37efe0=this[_0x29939f(0x5f6)](_0x34fbaa),_0x5e0219=_0x46e277[_0x29939f(0x606)](_0x3135b8=>({'updateOne':{'filter':{'_id':_0x3135b8[_0x29939f(0x372)],'owner':_0x34fbaa},'update':{..._0x3135b8}}})),{modifiedCount:_0x538820}=await _0x37efe0[_0x29939f(0x6a9)](_0x5e0219);return{'insertCount':_0x538820};}catch{return;}}async[a0_0x10d060(0x5aa)](_0x41d85f,_0x41e5a1){const _0x318867=a0_0x10d060;try{let _0x46e81f=this[_0x318867(0x5f6)](_0x41e5a1),_0xb026ff=A(_0x41d85f[_0x318867(0x5e6)]);return await _0x46e81f[_0x318867(0x5aa)](_0xb026ff)['limit'](_0x41d85f?.[_0x318867(0x2ab)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x5d9391,_0x1b89bd){const _0x385a8e=a0_0x10d060;try{let _0x32a87f=this['getContactModelForOwner'](_0x1b89bd),_0x4c503e=A(_0x5d9391[_0x385a8e(0x5e6)]);return await _0x32a87f[_0x385a8e(0x198)](_0x4c503e)['lean']();}catch{return null;}}async[a0_0x10d060(0x20e)](_0xae4c24){const _0x34c11c=a0_0x10d060;try{return await this[_0x34c11c(0x5f6)](_0xae4c24)['collection'][_0x34c11c(0x64b)](),{'success':!0x0};}catch(_0x577584){return console[_0x34c11c(0x22d)](_0x577584),{'success':!0x1,'error':_0x577584};}}},Ye=require(a0_0x10d060(0x746)),cc=require('express-async-errors'),ds=new v('Validate'),j=class{[a0_0x10d060(0x29e)](_0x4f83aa,_0x38ac19=!0x0){const _0x2fdac8=a0_0x10d060;let _0x63f7d6='/'+_0x4f83aa;return _0x38ac19&&(_0x63f7d6+=_0x2fdac8(0x567)),_0x63f7d6;}async['dataValidate'](_0xefa72f){const _0x319ed7=a0_0x10d060;let {request:_0x7b4641,schema:_0x23a82e,ClassRef:_0x19ed3e,execute:_0x5a573b}=_0xefa72f,_0x1909ee=new _0x19ed3e(),_0x2904cc=_0x7b4641[_0x319ed7(0x3c8)],_0x554243=_0x7b4641[_0x319ed7(0x534)];_0x7b4641?.[_0x319ed7(0x2e0)]&&Object['keys'](_0x7b4641['query'])['length']>0x0&&Object['assign'](_0x554243,_0x7b4641[_0x319ed7(0x2e0)]),_0x7b4641[_0x319ed7(0x1e8)][_0x319ed7(0x23d)]('/instance/create')&&Object[_0x319ed7(0x6af)](_0x554243,_0x2904cc),Object[_0x319ed7(0x6af)](_0x1909ee,_0x2904cc);let _0x37815c=_0x23a82e?(0x0,Ye['validate'])(_0x1909ee,_0x23a82e):{'valid':!0x0,'errors':[]};if(!_0x37815c[_0x319ed7(0x58a)]){let _0x2490a5=_0x37815c['errors']['map'](({property:_0x26c557,stack:_0x18bd0d,schema:_0x5cfd9c})=>{const _0x1ef816=_0x319ed7;let _0x385ecf;return _0x5cfd9c['description']?_0x385ecf=_0x5cfd9c[_0x1ef816(0x2ce)]:_0x385ecf=_0x18bd0d[_0x1ef816(0x63c)](_0x1ef816(0x3d7),''),{'property':_0x26c557[_0x1ef816(0x63c)]('instance.',''),'message':_0x385ecf};});throw ds[_0x319ed7(0x22d)]([..._0x2490a5]),new m(..._0x2490a5);}return await _0x5a573b(_0x554243,_0x1909ee);}async[a0_0x10d060(0x3ac)](_0xa4aae){const _0x3c1f4f=a0_0x10d060;let {request:_0x467068,ClassRef:_0x3bb551,schema:_0xeaae2d,execute:_0x65fef7}=_0xa4aae,_0x1c7610=_0x467068[_0x3c1f4f(0x2e0)];if(!_0x1c7610?.[_0x3c1f4f(0x64a)])throw new m(_0x3c1f4f(0x2ea),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x9af6a3=_0x467068[_0x3c1f4f(0x534)],_0x1afb2b=_0x467068[_0x3c1f4f(0x3c8)],_0x11d6f0=new _0x3bb551();Object[_0x3c1f4f(0x6af)](_0x1afb2b,_0x1c7610),Object[_0x3c1f4f(0x6af)](_0x11d6f0,_0x1afb2b);let _0x56f9ad=(0x0,Ye[_0x3c1f4f(0x1c0)])(_0x11d6f0,_0xeaae2d);if(!_0x56f9ad[_0x3c1f4f(0x58a)]){let _0x1a23fd=_0x56f9ad[_0x3c1f4f(0x22c)][_0x3c1f4f(0x606)](({property:_0x156daf,stack:_0x165602,schema:_0x419065})=>{const _0x3c2779=_0x3c1f4f;let _0x2e5a54;return _0x419065[_0x3c2779(0x2ce)]?_0x2e5a54=_0x419065[_0x3c2779(0x2ce)]:_0x2e5a54=_0x165602[_0x3c2779(0x63c)](_0x3c2779(0x3d7),''),{'property':_0x156daf[_0x3c2779(0x63c)](_0x3c2779(0x3d7),''),'message':_0x2e5a54};});throw ds[_0x3c1f4f(0x22d)]([..._0x1a23fd]),new m(..._0x1a23fd);}return await _0x65fef7(_0x9af6a3,_0x11d6f0);}async[a0_0x10d060(0x36e)](_0xdf63e7){const _0x582554=a0_0x10d060;let {request:_0x3042d6,ClassRef:_0x531a81,schema:_0x178cb2,execute:_0x3c0cf0}=_0xdf63e7,_0x7cc7af=_0x3042d6[_0x582554(0x3c8)];if(!_0x7cc7af?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x582554(0x2c7));let _0x352ded=_0x3042d6[_0x582554(0x534)],_0x3640f3=_0x3042d6['body'],_0x16a4d6=new _0x531a81();Object[_0x582554(0x6af)](_0x3640f3,_0x7cc7af),Object[_0x582554(0x6af)](_0x16a4d6,_0x3640f3);let _0x4c2a62=(0x0,Ye[_0x582554(0x1c0)])(_0x16a4d6,_0x178cb2);if(!_0x4c2a62[_0x582554(0x58a)]){let _0x30f3af=_0x4c2a62[_0x582554(0x22c)][_0x582554(0x606)](({property:_0x2150e6,stack:_0xdfab37,schema:_0x4a548f})=>{const _0x152540=_0x582554;let _0x800335;return _0x4a548f[_0x152540(0x2ce)]?_0x800335=_0x4a548f['description']:_0x800335=_0xdfab37[_0x152540(0x63c)](_0x152540(0x3d7),''),{'property':_0x2150e6[_0x152540(0x63c)](_0x152540(0x3d7),''),'message':_0x800335};});throw ds[_0x582554(0x22d)]([..._0x30f3af]),new m(..._0x30f3af);}return await _0x3c0cf0(_0x352ded,_0x16a4d6);}},E=class{},Cc=new v('ChatRouter'),Xe=class extends j{constructor(..._0x13545f){const _0x4f40f6=a0_0x10d060;super(),this[_0x4f40f6(0x364)]=(0x0,Za[_0x4f40f6(0x289)])(),this['router']['post'](this[_0x4f40f6(0x29e)](_0x4f40f6(0x3fd)),..._0x13545f,async(_0x228720,_0x2df256)=>{const _0x55731=_0x4f40f6;let _0xffc5da=await this[_0x55731(0x58c)]({'request':_0x228720,'schema':Va,'ClassRef':Fe,'execute':(_0x4a4a68,_0x1ed4af)=>D[_0x55731(0x3fd)](_0x4a4a68,_0x1ed4af)});return _0x2df256[_0x55731(0x5c1)](0xc9)[_0x55731(0x2c1)](_0xffc5da);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x413)),..._0x13545f,async(_0x274b40,_0x5816fa)=>{const _0x399bb1=_0x4f40f6;let _0x4d93d4=await this['dataValidate']({'request':_0x274b40,'schema':Pa,'ClassRef':Ue,'execute':(_0x482286,_0x3546ed)=>D['whatsappNumber'](_0x482286,_0x3546ed)});return _0x5816fa[_0x399bb1(0x5c1)](0xc9)[_0x399bb1(0x2c1)](_0x4d93d4);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x1b1)),..._0x13545f,async(_0xf67bf6,_0x6ce01f)=>{const _0x12e6e6=_0x4f40f6;let _0x40d17c=await this['dataValidate']({'request':_0xf67bf6,'schema':C,'ClassRef':E,'execute':(_0xd621cb,_0x2a2640)=>D['editChat'](_0xd621cb,_0x2a2640)});return _0x6ce01f['status'](0xc9)[_0x12e6e6(0x2c1)](_0x40d17c);})['put'](this[_0x4f40f6(0x29e)](_0x4f40f6(0x4ba)),..._0x13545f,async(_0x67e54f,_0x2c62a1)=>{const _0x407de8=_0x4f40f6;let _0x41faab=await this['dataValidate']({'request':_0x67e54f,'schema':_a,'ClassRef':qe,'execute':(_0x46cef5,_0x180470)=>D[_0x407de8(0x4ee)](_0x46cef5,_0x180470)});return _0x2c62a1[_0x407de8(0x5c1)](0xc9)['json'](_0x41faab);})[_0x4f40f6(0x559)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x26a)),..._0x13545f,async(_0x401cf4,_0xb81445)=>{const _0x21fed5=_0x4f40f6;let _0x537557=await this[_0x21fed5(0x58c)]({'request':_0x401cf4,'schema':ka,'ClassRef':Ve,'execute':(_0x1bae55,_0x3a5556)=>D[_0x21fed5(0x26a)](_0x1bae55,_0x3a5556)});return _0xb81445[_0x21fed5(0x5c1)](0xc9)[_0x21fed5(0x2c1)](_0x537557);})[_0x4f40f6(0x3e0)](this['routerPath'](_0x4f40f6(0x62c)),..._0x13545f,async(_0x153bee,_0x2d21a0)=>{const _0x3ac07c=_0x4f40f6;let _0x1c9623=await this[_0x3ac07c(0x58c)]({'request':_0x153bee,'schema':La,'ClassRef':Ge,'execute':(_0x48ef63,_0x54433e)=>D[_0x3ac07c(0x5e5)](_0x48ef63,_0x54433e)});return _0x2d21a0[_0x3ac07c(0x5c1)](0xc9)[_0x3ac07c(0x2c1)](_0x1c9623);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)]('fetchProfilePictureUrl'),..._0x13545f,async(_0x4b86d7,_0x323fbb)=>{const _0x2890dc=_0x4f40f6;let _0x2f0f71=await this[_0x2890dc(0x58c)]({'request':_0x4b86d7,'schema':Se,'ClassRef':be,'execute':(_0x15d470,_0x253b48)=>D[_0x2890dc(0x1f5)](_0x15d470,_0x253b48)});return _0x323fbb['status'](0xc8)[_0x2890dc(0x2c1)](_0x2f0f71);})[_0x4f40f6(0x308)](this['routerPath'](_0x4f40f6(0x48d)),..._0x13545f,async(_0x55e90e,_0x2e13d2)=>{const _0x5d712c=_0x4f40f6;let _0x3f478a=await this[_0x5d712c(0x58c)]({'request':_0x55e90e,'schema':ja,'ClassRef':be,'execute':(_0x56dbba,_0x4afb74)=>D[_0x5d712c(0x48d)](_0x56dbba,_0x4afb74)});return _0x2e13d2[_0x5d712c(0x5c1)](0xc8)[_0x5d712c(0x2c1)](_0x3f478a);})[_0x4f40f6(0x308)](this['routerPath']('findContacts'),..._0x13545f,async(_0x4f508c,_0x4a88f3)=>{const _0x472ad7=_0x4f40f6;let _0x2476a4=await this[_0x472ad7(0x58c)]({'request':_0x4f508c,'schema':Fa,'ClassRef':Ke,'execute':(_0x246d11,_0x588709)=>D[_0x472ad7(0x352)](_0x246d11,_0x588709)});return _0x4a88f3[_0x472ad7(0x5c1)](0xc8)[_0x472ad7(0x2c1)](_0x2476a4);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x6a4)),..._0x13545f,async(_0x3edf05,_0x2a881e)=>{const _0x3bba67=_0x4f40f6;let _0x1249a0=await this['dataValidate']({'request':_0x3edf05,'schema':null,'ClassRef':Object,'execute':(_0x55c9a1,_0x3e234a)=>D[_0x3bba67(0x6a4)](_0x55c9a1,_0x3e234a)});return _0x2a881e[_0x3bba67(0x5c1)](0xc9)['json'](_0x1249a0);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x322)),..._0x13545f,async(_0x3751a6,_0x31ca70)=>{const _0x23a1ea=_0x4f40f6;let _0x563ebc=await this[_0x23a1ea(0x58c)]({'request':_0x3751a6,'schema':qa,'ClassRef':ke,'execute':(_0x445bce,_0x5d70d8)=>D[_0x23a1ea(0x30c)](_0x445bce,_0x5d70d8)});return _0x31ca70['status'](0xc8)['json'](_0x563ebc);})[_0x4f40f6(0x5a9)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x694)),..._0x13545f,async(_0x3eb9bf,_0xe44c24)=>{const _0x5b5515=_0x4f40f6;let _0x287857=await this['dataValidate']({'request':_0x3eb9bf,'schema':null,'ClassRef':E,'execute':_0x2229bc=>D['fetchChats'](_0x2229bc)});return _0xe44c24[_0x5b5515(0x5c1)](0xc8)[_0x5b5515(0x2c1)](_0x287857);})[_0x4f40f6(0x5a9)](this[_0x4f40f6(0x29e)]('findLabels'),..._0x13545f,async(_0x2089c2,_0x1796f5)=>{const _0x35c6dc=_0x4f40f6;let _0x2d4a23=await this[_0x35c6dc(0x58c)]({'request':_0x2089c2,'schema':null,'ClassRef':E,'execute':_0x437c06=>D[_0x35c6dc(0x525)](_0x437c06)});return _0x1796f5[_0x35c6dc(0x5c1)](0xc8)['json'](_0x2d4a23);})[_0x4f40f6(0x559)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x622)),..._0x13545f,async(_0x400c7e,_0x25e34b)=>{const _0x1bf875=_0x4f40f6;let _0x136bb4=await this[_0x1bf875(0x58c)]({'request':_0x400c7e,'schema':null,'ClassRef':Array,'execute':(_0x3385f8,_0x482a55)=>D[_0x1bf875(0x622)](_0x3385f8,_0x482a55)});return _0x25e34b['status'](0xc8)[_0x1bf875(0x2c1)](_0x136bb4);})[_0x4f40f6(0x5a9)](this['routerPath'](_0x4f40f6(0x3de)),..._0x13545f,async(_0x3b15c5,_0x3e8778)=>{const _0x427ac2=_0x4f40f6;let _0x2c76f6=await this['dataValidate']({'request':_0x3b15c5,'schema':null,'ClassRef':E,'execute':_0x49be56=>D['fetchPrivacySettings'](_0x49be56)});return _0x3e8778[_0x427ac2(0x5c1)](0xc8)['json'](_0x2c76f6);})[_0x4f40f6(0x559)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x488)),..._0x13545f,async(_0x536022,_0xba889d)=>{const _0x5d59be=_0x4f40f6;let _0x4b9337=await this[_0x5d59be(0x58c)]({'request':_0x536022,'schema':$a,'ClassRef':Be,'execute':(_0x431cd4,_0x29b67c)=>D[_0x5d59be(0x488)](_0x431cd4,_0x29b67c)});return _0xba889d[_0x5d59be(0x5c1)](0xc9)[_0x5d59be(0x2c1)](_0x4b9337);})['post'](this[_0x4f40f6(0x29e)](_0x4f40f6(0x455)),..._0x13545f,async(_0x21b9d8,_0x5daaf5)=>{const _0x9ffdaf=_0x4f40f6;let _0x280f9d=await this[_0x9ffdaf(0x58c)]({'request':_0x21b9d8,'schema':Se,'ClassRef':fe,'execute':(_0x24c1e3,_0x190bbc)=>D[_0x9ffdaf(0x455)](_0x24c1e3,_0x190bbc)});return _0x5daaf5['status'](0xc8)[_0x9ffdaf(0x2c1)](_0x280f9d);})[_0x4f40f6(0x308)](this['routerPath'](_0x4f40f6(0x14f)),..._0x13545f,async(_0x281e02,_0x1bdd76)=>{const _0x224875=_0x4f40f6;let _0x1a7b5a=await this[_0x224875(0x58c)]({'request':_0x281e02,'schema':Ua,'ClassRef':Je,'execute':(_0x23d686,_0x186933)=>D[_0x224875(0x14f)](_0x23d686,_0x186933)});return _0x1bdd76[_0x224875(0x5c1)](0xc8)[_0x224875(0x2c1)](_0x1a7b5a);})[_0x4f40f6(0x308)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x403)),..._0x13545f,async(_0x3e4d23,_0x489a03)=>{const _0x3a92d9=_0x4f40f6;let _0x30bf83=await this['dataValidate']({'request':_0x3e4d23,'schema':Ja,'ClassRef':je,'execute':(_0x2339b9,_0x5f5509)=>D['updateProfileStatus'](_0x2339b9,_0x5f5509)});return _0x489a03[_0x3a92d9(0x5c1)](0xc8)[_0x3a92d9(0x2c1)](_0x30bf83);})[_0x4f40f6(0x559)](this[_0x4f40f6(0x29e)]('updateProfilePicture'),..._0x13545f,async(_0x4d47d8,_0x13d220)=>{const _0x3e6961=_0x4f40f6;let _0x2635bd=await this[_0x3e6961(0x58c)]({'request':_0x4d47d8,'schema':Se,'ClassRef':fe,'execute':(_0x360e7c,_0x646729)=>D['updateProfilePicture'](_0x360e7c,_0x646729)});return _0x13d220[_0x3e6961(0x5c1)](0xc8)['json'](_0x2635bd);})[_0x4f40f6(0x3e0)](this[_0x4f40f6(0x29e)](_0x4f40f6(0x191)),..._0x13545f,async(_0xa018bd,_0x16bbfd)=>{const _0x5177ec=_0x4f40f6;let _0x445283=await this[_0x5177ec(0x58c)]({'request':_0xa018bd,'schema':Se,'ClassRef':fe,'execute':(_0x1661ec,_0x235b15)=>D[_0x5177ec(0x191)](_0x1661ec,_0x235b15)});return _0x16bbfd[_0x5177ec(0x5c1)](0xc8)['json'](_0x445283);});}},er=require(a0_0x10d060(0x2a4)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x48c753){const _0x58992e=a0_0x10d060;super(),this[_0x58992e(0x364)]=(0x0,er[_0x58992e(0x289)])(),this['router'][_0x58992e(0x308)](this[_0x58992e(0x29e)](_0x58992e(0x2ec)),..._0x48c753,async(_0x50c871,_0x26b9fe)=>{const _0x2ad02d=_0x58992e;let _0x413ef2=await this[_0x2ad02d(0x58c)]({'request':_0x50c871,'schema':Ba,'ClassRef':Ze,'execute':(_0x37d05f,_0x26c1b3)=>J['createGroup'](_0x37d05f,_0x26c1b3)});_0x26b9fe[_0x2ad02d(0x5c1)](0xc9)[_0x2ad02d(0x2c1)](_0x413ef2);})['put'](this[_0x58992e(0x29e)]('updateGroupPicture'),..._0x48c753,async(_0x22306,_0x135de9)=>{const _0x2a28bb=_0x58992e;let _0x16a6a8=await this[_0x2a28bb(0x3ac)]({'request':_0x22306,'schema':za,'ClassRef':et,'execute':(_0x4e51c1,_0x5f1895)=>J['updateGroupPicture'](_0x4e51c1,_0x5f1895)});_0x135de9[_0x2a28bb(0x5c1)](0xc9)['json'](_0x16a6a8);})['put'](this[_0x58992e(0x29e)](_0x58992e(0x2dc)),..._0x48c753,async(_0x50b1c7,_0x36921f)=>{const _0xed9ac0=_0x58992e;let _0x16ff4f=await this['groupValidate']({'request':_0x50b1c7,'schema':Ha,'ClassRef':tt,'execute':(_0xfc7f76,_0x58abef)=>J[_0xed9ac0(0x2dc)](_0xfc7f76,_0x58abef)});_0x36921f[_0xed9ac0(0x5c1)](0xc9)[_0xed9ac0(0x2c1)](_0x16ff4f);})[_0x58992e(0x559)](this['routerPath']('groupName'),..._0x48c753,async(_0x438ad1,_0x2eaffe)=>{const _0x29969d=_0x58992e;let _0x341d3f=await this['groupValidate']({'request':_0x438ad1,'schema':Ka,'ClassRef':st,'execute':(_0xf48dd2,_0x5c7a9a)=>J[_0x29969d(0x722)](_0xf48dd2,_0x5c7a9a)});_0x2eaffe['status'](0xc9)[_0x29969d(0x2c1)](_0x341d3f);})[_0x58992e(0x559)](this['routerPath']('groupSetting'),..._0x48c753,async(_0x3b59ff,_0x80d1e3)=>{const _0x7ec414=_0x58992e;let _0x5f1169=await this[_0x7ec414(0x3ac)]({'request':_0x3b59ff,'schema':Qa,'ClassRef':at,'execute':(_0x23d4ce,_0x2d979c)=>J[_0x7ec414(0x2e5)](_0x23d4ce,_0x2d979c)});_0x80d1e3[_0x7ec414(0x5c1)](0xc9)['json'](_0x5f1169);})[_0x58992e(0x559)](this['routerPath']('toggleEphemeral'),..._0x48c753,async(_0x4d2eac,_0x2cc776)=>{const _0xf53819=_0x58992e;let _0x3ff580=await this[_0xf53819(0x3ac)]({'request':_0x4d2eac,'schema':Wa,'ClassRef':it,'execute':(_0x57b190,_0x1adef2)=>J[_0xf53819(0x632)](_0x57b190,_0x1adef2)});_0x2cc776[_0xf53819(0x5c1)](0xc9)[_0xf53819(0x2c1)](_0x3ff580);})['get'](this[_0x58992e(0x29e)](_0x58992e(0x55b)),..._0x48c753,async(_0x3703f2,_0xf95f24)=>{const _0x5af6b5=_0x58992e;let _0x31b57b=await this[_0x5af6b5(0x3ac)]({'request':_0x3703f2,'schema':Ee,'ClassRef':Y,'execute':(_0x3202b1,_0x303977)=>J[_0x5af6b5(0x163)](_0x3202b1,_0x303977)});_0xf95f24[_0x5af6b5(0x5c1)](0xc8)[_0x5af6b5(0x2c1)](_0x31b57b);})['get'](this[_0x58992e(0x29e)](_0x58992e(0x48b)),..._0x48c753,async(_0x51b3a6,_0x37297f)=>{const _0x40b8ab=_0x58992e;let _0x4169cf=await this[_0x40b8ab(0x58c)]({'request':_0x51b3a6,'schema':C,'ClassRef':E,'execute':_0x5b4714=>J[_0x40b8ab(0x48b)](_0x5b4714)});_0x37297f[_0x40b8ab(0x5c1)](0xc8)['json'](_0x4169cf);})['get'](this[_0x58992e(0x29e)]('participants'),..._0x48c753,async(_0x11d2ce,_0x2ff24d)=>{const _0x23dc5b=_0x58992e;let _0x814809=await this[_0x23dc5b(0x3ac)]({'request':_0x11d2ce,'schema':Ee,'ClassRef':Y,'execute':(_0x43e1b7,_0x2686d1)=>J[_0x23dc5b(0x354)](_0x43e1b7,_0x2686d1)});_0x2ff24d[_0x23dc5b(0x5c1)](0xc8)[_0x23dc5b(0x2c1)](_0x814809);})['get'](this[_0x58992e(0x29e)](_0x58992e(0x5ca)),..._0x48c753,async(_0x3f43a1,_0x2709b4)=>{const _0x2086a0=_0x58992e;let _0x2fc88a=await this[_0x2086a0(0x3ac)]({'request':_0x3f43a1,'schema':Ee,'ClassRef':Y,'execute':(_0x31d875,_0x3de03b)=>J[_0x2086a0(0x5ca)](_0x31d875,_0x3de03b)});_0x2709b4[_0x2086a0(0x5c1)](0xc8)[_0x2086a0(0x2c1)](_0x2fc88a);})[_0x58992e(0x559)](this['routerPath']('joinGroup'),..._0x48c753,async(_0x4d756e,_0x32c15f)=>{const _0x5a2f9f=_0x58992e;let _0x2b0fd9=await this[_0x5a2f9f(0x36e)]({'request':_0x4d756e,'schema':Ya,'ClassRef':rt,'execute':(_0x20e8e1,_0x579202)=>J['joinGroup'](_0x20e8e1,_0x579202)});_0x32c15f[_0x5a2f9f(0x5c1)](0xc9)[_0x5a2f9f(0x2c1)](_0x2b0fd9);})[_0x58992e(0x559)](this['routerPath'](_0x58992e(0x4af)),..._0x48c753,async(_0xa64ff2,_0x2c8cae)=>{const _0x56e294=_0x58992e;let _0x4e637a=await this['groupValidate']({'request':_0xa64ff2,'schema':Ee,'ClassRef':Y,'execute':(_0x4ab2da,_0x4cf9a6)=>J['revokeInviteCode'](_0x4ab2da,_0x4cf9a6)});_0x2c8cae[_0x56e294(0x5c1)](0xc9)[_0x56e294(0x2c1)](_0x4e637a);})[_0x58992e(0x559)](this[_0x58992e(0x29e)]('updateParticipant'),..._0x48c753,async(_0x3b6853,_0x40bd3e)=>{const _0x2cb38e=_0x58992e;let _0x531503=await this['groupValidate']({'request':_0x3b6853,'schema':Ga,'ClassRef':ot,'execute':(_0x17f55a,_0x4d42e2)=>J[_0x2cb38e(0x677)](_0x17f55a,_0x4d42e2)});_0x40bd3e[_0x2cb38e(0x5c1)](0xc9)[_0x2cb38e(0x2c1)](_0x531503);})['delete'](this[_0x58992e(0x29e)]('leaveGroup'),..._0x48c753,async(_0x151d43,_0x48036a)=>{const _0x59f117=_0x58992e;let _0x20e960=await this[_0x59f117(0x3ac)]({'request':_0x151d43,'schema':{},'ClassRef':Y,'execute':(_0x50b9da,_0x2aeca7)=>J[_0x59f117(0x172)](_0x50b9da,_0x2aeca7)});_0x48036a[_0x59f117(0x5c1)](0xc8)[_0x59f117(0x2c1)](_0x20e960);});}},tr=require(a0_0x10d060(0x2a4)),ct=class extends j{constructor(_0x38e7a3,..._0x85b012){const _0x211c3e=a0_0x10d060;super(),this['configService']=_0x38e7a3,this[_0x211c3e(0x364)]=(0x0,tr[_0x211c3e(0x289)])();let _0xa168f5=_0x38e7a3[_0x211c3e(0x5a9)](_0x211c3e(0x309));this[_0x211c3e(0x364)][_0x211c3e(0x308)](_0x211c3e(0x47b),..._0x85b012,async(_0x4c1032,_0x37011f)=>{const _0x16d081=_0x211c3e;let {instanceName:_0x53957b,apikey:_0x57efc1,number:_0x49fa32}=_0x4c1032['body'],_0x2f328c=await le['createInstance']({'instanceName':_0x53957b,'apikey':_0x57efc1,'number':_0x49fa32});return _0x37011f[_0x16d081(0x5c1)](0xc9)[_0x16d081(0x2c1)](_0x2f328c);})[_0x211c3e(0x559)](this[_0x211c3e(0x29e)]('restart'),..._0x85b012,async(_0x59e1d1,_0x1db67e)=>{const _0x17a891=_0x211c3e;let _0x213c31=await this[_0x17a891(0x58c)]({'request':_0x59e1d1,'schema':C,'ClassRef':E,'execute':_0x245690=>le[_0x17a891(0x62f)](_0x245690)});return _0x1db67e[_0x17a891(0x5c1)](0xc8)[_0x17a891(0x2c1)](_0x213c31);})[_0x211c3e(0x5a9)](this[_0x211c3e(0x29e)](_0x211c3e(0x5ff)),..._0x85b012,async(_0x45ab4c,_0x4bb445)=>{const _0x445603=_0x211c3e;let _0x5b254e=await this[_0x445603(0x58c)]({'request':_0x45ab4c,'schema':C,'ClassRef':E,'execute':_0x13176c=>le[_0x445603(0x5ff)](_0x13176c)});return _0x4bb445[_0x445603(0x5c1)](0xc8)['json'](_0x5b254e);})[_0x211c3e(0x5a9)](this[_0x211c3e(0x29e)](_0x211c3e(0x58e),!0x1),..._0x85b012,async(_0x382c57,_0x5cf820)=>{const _0x68c57a=_0x211c3e;let _0x2b2d54=await this[_0x68c57a(0x58c)]({'request':_0x382c57,'schema':null,'ClassRef':E,'execute':_0x31cf8e=>le[_0x68c57a(0x58e)](_0x31cf8e)});return _0x5cf820['status'](0xc8)[_0x68c57a(0x2c1)](_0x2b2d54);})[_0x211c3e(0x3e0)](this[_0x211c3e(0x29e)](_0x211c3e(0x51a)),..._0x85b012,async(_0x79d4e7,_0x37c0bd)=>{const _0x90fb27=_0x211c3e;let _0x953818=await this[_0x90fb27(0x58c)]({'request':_0x79d4e7,'schema':C,'ClassRef':E,'execute':_0x4878ba=>le[_0x90fb27(0x51a)](_0x4878ba)});return _0x37c0bd[_0x90fb27(0x5c1)](0xc8)['json'](_0x953818);})['delete'](this[_0x211c3e(0x29e)]('delete'),..._0x85b012,async(_0x40e997,_0x241bd1)=>{const _0x591c6e=_0x211c3e;let _0x45f362=await this['dataValidate']({'request':_0x40e997,'schema':C,'ClassRef':E,'execute':_0x1dc79a=>le['deleteInstance'](_0x1dc79a)});return _0x241bd1[_0x591c6e(0x5c1)](0xc8)[_0x591c6e(0x2c1)](_0x45f362);});}},sr=require(a0_0x10d060(0x2a4)),ps=class{},W=class extends ps{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Me=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x552d45){const _0x49563d=a0_0x10d060;super(),this[_0x49563d(0x364)]=(0x0,sr[_0x49563d(0x289)])(),this[_0x49563d(0x364)]['post'](this['routerPath'](_0x49563d(0x26b)),..._0x552d45,async(_0x4b540f,_0x2de5fb)=>{const _0x485ed2=_0x49563d;let _0x585d55=await this[_0x485ed2(0x58c)]({'request':_0x4b540f,'schema':Sa,'ClassRef':lt,'execute':(_0x30e345,_0x2b32d3)=>G[_0x485ed2(0x26b)](_0x30e345,_0x2b32d3)});return _0x2de5fb['status'](0xc9)['json'](_0x585d55);})[_0x49563d(0x308)](this['routerPath']('sendMedia'),..._0x552d45,async(_0x4c7f2f,_0x33c315)=>{const _0x1b2d2d=_0x49563d;let _0x4148cf=await this[_0x1b2d2d(0x58c)]({'request':_0x4c7f2f,'schema':va,'ClassRef':Me,'execute':(_0x15dd1e,_0x9ffacd)=>G[_0x1b2d2d(0x608)](_0x15dd1e,_0x9ffacd)});return _0x33c315[_0x1b2d2d(0x5c1)](0xc9)[_0x1b2d2d(0x2c1)](_0x4148cf);})[_0x49563d(0x308)](this[_0x49563d(0x29e)](_0x49563d(0x2d3)),..._0x552d45,async(_0x322548,_0x330cdc)=>{const _0x126b44=_0x49563d;let _0x345806=await this[_0x126b44(0x58c)]({'request':_0x322548,'schema':Ta,'ClassRef':pt,'execute':(_0x47bc5b,_0x32cfc2)=>G['sendMenu'](_0x47bc5b,_0x32cfc2)});return _0x330cdc[_0x126b44(0x5c1)](0xc9)[_0x126b44(0x2c1)](_0x345806);})[_0x49563d(0x308)](this['routerPath'](_0x49563d(0x1bf)),..._0x552d45,async(_0x12ea74,_0x4c23a4)=>{const _0x12c5c1=_0x49563d;let _0x1650e7=await this[_0x12c5c1(0x58c)]({'request':_0x12ea74,'schema':Na,'ClassRef':Me,'execute':(_0x1e8d3d,_0x3a6986)=>G[_0x12c5c1(0x1bf)](_0x1e8d3d,_0x3a6986)});return _0x4c23a4[_0x12c5c1(0x5c1)](0xc9)[_0x12c5c1(0x2c1)](_0x1650e7);})['post'](this['routerPath'](_0x49563d(0x269)),..._0x552d45,async(_0x489898,_0x19c906)=>{const _0x1259e8=_0x49563d;let _0x36294c=await this['dataValidate']({'request':_0x489898,'schema':Aa,'ClassRef':mt,'execute':(_0x341964,_0x5984ba)=>G[_0x1259e8(0x269)](_0x341964,_0x5984ba)});return _0x19c906[_0x1259e8(0x5c1)](0xc9)[_0x1259e8(0x2c1)](_0x36294c);})[_0x49563d(0x308)](this['routerPath'](_0x49563d(0x4c0)),..._0x552d45,async(_0x48e5e2,_0x348063)=>{const _0x17094c=_0x49563d;let _0x37ea79=await this[_0x17094c(0x58c)]({'request':_0x48e5e2,'schema':Oa,'ClassRef':ht,'execute':(_0x31863b,_0x139363)=>G[_0x17094c(0x4c0)](_0x31863b,_0x139363)});return _0x348063[_0x17094c(0x5c1)](0xc9)[_0x17094c(0x2c1)](_0x37ea79);})[_0x49563d(0x308)](this[_0x49563d(0x29e)](_0x49563d(0x2da)),..._0x552d45,async(_0x4305b4,_0x23a988)=>{const _0x5672b0=_0x49563d;let _0xdb2066=await this[_0x5672b0(0x58c)]({'request':_0x4305b4,'schema':Ia,'ClassRef':ft,'execute':(_0x425027,_0x10a209)=>G[_0x5672b0(0x2da)](_0x425027,_0x10a209)});return _0x23a988[_0x5672b0(0x5c1)](0xc9)['json'](_0xdb2066);})[_0x49563d(0x308)](this['routerPath'](_0x49563d(0x5fa)),..._0x552d45,async(_0x2eb276,_0x334cca)=>{const _0x468345=_0x49563d;let _0x30ff63=await this[_0x468345(0x58c)]({'request':_0x2eb276,'schema':Da,'ClassRef':yt,'execute':(_0x397f53,_0x2f7d34)=>G[_0x468345(0x5fa)](_0x397f53,_0x2f7d34)});return _0x334cca[_0x468345(0x5c1)](0xc9)[_0x468345(0x2c1)](_0x30ff63);})[_0x49563d(0x308)](this[_0x49563d(0x29e)](_0x49563d(0x4aa)),..._0x552d45,async(_0x12c27f,_0x11f68f)=>{const _0x3eed81=_0x49563d;let _0x545e63=await this[_0x3eed81(0x58c)]({'request':_0x12c27f,'schema':xa,'ClassRef':wt,'execute':(_0x12e1d2,_0x1d7201)=>G[_0x3eed81(0x4aa)](_0x12e1d2,_0x1d7201)});return _0x11f68f[_0x3eed81(0x5c1)](0xc9)['json'](_0x545e63);})[_0x49563d(0x308)](this['routerPath'](_0x49563d(0x546)),..._0x552d45,async(_0x27df5d,_0x32974f)=>{const _0x306cba=_0x49563d;let _0x17b095=await this[_0x306cba(0x58c)]({'request':_0x27df5d,'schema':Ra,'ClassRef':dt,'execute':(_0xdcfdff,_0x41fba6)=>G['sendPoll'](_0xdcfdff,_0x41fba6)});return _0x32974f['status'](0xc9)[_0x306cba(0x2c1)](_0x17b095);})['post'](this[_0x49563d(0x29e)](_0x49563d(0x43b)),..._0x552d45,async(_0x225f98,_0x33d145)=>{const _0x31bc8d=_0x49563d;let _0x28bb92=await this['dataValidate']({'request':_0x225f98,'schema':Ca,'ClassRef':ut,'execute':(_0x2d2ec3,_0x41af50)=>G[_0x31bc8d(0x43b)](_0x2d2ec3,_0x41af50)});return _0x33d145[_0x31bc8d(0x5c1)](0xc9)[_0x31bc8d(0x2c1)](_0x28bb92);})[_0x49563d(0x308)](this[_0x49563d(0x29e)]('sendSticker'),..._0x552d45,async(_0x40fa39,_0x37c0b3)=>{const _0x99234f=_0x49563d;let _0x4b36c6=await this[_0x99234f(0x58c)]({'request':_0x40fa39,'schema':Ma,'ClassRef':gt,'execute':(_0x309501,_0x24cae3)=>G[_0x99234f(0x4fb)](_0x309501,_0x24cae3)});return _0x37c0b3[_0x99234f(0x5c1)](0xc9)[_0x99234f(0x2c1)](_0x4b36c6);});}},ar=require(a0_0x10d060(0x2a4)),St=class{},Et=class extends j{constructor(..._0x4f4725){const _0x46c2a9=a0_0x10d060;super(),this[_0x46c2a9(0x364)]=(0x0,ar['Router'])(),this[_0x46c2a9(0x364)][_0x46c2a9(0x308)](this[_0x46c2a9(0x29e)](_0x46c2a9(0x350)),..._0x4f4725,async(_0x3e457a,_0x4e330d)=>{const _0x50ce26=_0x46c2a9;let _0xb5360=await this[_0x50ce26(0x58c)]({'request':_0x3e457a,'schema':Xa,'ClassRef':St,'execute':(_0x19cf48,_0x939d99)=>gs[_0x50ce26(0x6bd)](_0x19cf48,_0x939d99)});_0x4e330d[_0x50ce26(0x5c1)](0xc9)['json'](_0xb5360);})[_0x46c2a9(0x5a9)](this[_0x46c2a9(0x29e)](_0x46c2a9(0x5aa)),..._0x4f4725,async(_0x2c4de1,_0x4191d1)=>{const _0x1c8dc8=_0x46c2a9;let _0x5e02ad=await this[_0x1c8dc8(0x58c)]({'request':_0x2c4de1,'schema':C,'ClassRef':E,'execute':_0x349743=>gs[_0x1c8dc8(0x49c)](_0x349743)});_0x4191d1[_0x1c8dc8(0x5c1)](0xc8)[_0x1c8dc8(0x2c1)](_0x5e02ad);});}},rr=require(a0_0x10d060(0x2a4)),h=new v(a0_0x10d060(0x2b9)),Mt=class extends j{constructor(..._0x83d163){const _0x40049e=a0_0x10d060;super(),this['router']=(0x0,rr[_0x40049e(0x289)])(),this[_0x40049e(0x364)][_0x40049e(0x308)](this[_0x40049e(0x29e)](_0x40049e(0x307)),..._0x83d163,async(_0x546bcb,_0x474d73)=>{const _0x3613dc=_0x40049e;let _0x4abf6c=_0x546bcb[_0x3613dc(0x3c8)];h[_0x3613dc(0x25f)](_0x3613dc(0x295)),h[_0x3613dc(0x25f)](_0x3613dc(0x5e2)),h['verbose'](_0x546bcb[_0x3613dc(0x3c8)]);let _0x172e34=await this[_0x3613dc(0x58c)]({'request':_0x546bcb,'schema':C,'ClassRef':E,'execute':_0x546fae=>T[_0x3613dc(0x377)](_0x546fae,_0x4abf6c)});_0x474d73[_0x3613dc(0x5c1)](0xc8)[_0x3613dc(0x2c1)](_0x172e34);})[_0x40049e(0x5a9)](this['routerPath'](_0x40049e(0x307)),..._0x83d163,async(_0xab5590,_0x40d670)=>{const _0x540a4f=_0x40049e;let _0x13d3ec=await this[_0x540a4f(0x58c)]({'request':_0xab5590,'schema':C,'ClassRef':E,'execute':_0x3a5e7e=>T[_0x540a4f(0x297)](_0x3a5e7e)});_0x40d670['status'](0xc8)[_0x540a4f(0x2c1)](_0x13d3ec);})[_0x40049e(0x3e0)](this[_0x40049e(0x29e)]('deleteDoneMessages'),..._0x83d163,async(_0x21dc7d,_0x56ea79)=>{const _0x34e4b3=_0x40049e;h[_0x34e4b3(0x25f)](_0x34e4b3(0x25c));let _0x303d00=await this[_0x34e4b3(0x58c)]({'request':_0x21dc7d,'schema':C,'ClassRef':E,'execute':_0x4d257f=>T[_0x34e4b3(0x1b7)](_0x4d257f)});_0x56ea79[_0x34e4b3(0x5c1)](0xc8)['json'](_0x303d00);})['post'](this[_0x40049e(0x29e)](_0x40049e(0x62e)),..._0x83d163,async(_0x31ebd9,_0x582e2b)=>{const _0x3bb42e=_0x40049e;let _0x503391=_0x31ebd9[_0x3bb42e(0x3c8)];h[_0x3bb42e(0x25f)](_0x3bb42e(0x24b)),h[_0x3bb42e(0x25f)](_0x3bb42e(0x5e2)),h['verbose'](_0x31ebd9[_0x3bb42e(0x3c8)]);let _0x1ee80b=await this['dataValidate']({'request':_0x31ebd9,'schema':C,'ClassRef':E,'execute':_0xafc1c5=>T[_0x3bb42e(0x62e)](_0xafc1c5,_0x503391)});_0x582e2b['status'](0xc8)[_0x3bb42e(0x2c1)](_0x1ee80b);})[_0x40049e(0x5a9)](this[_0x40049e(0x29e)]('getAutomateSystem'),..._0x83d163,async(_0x1cbd2e,_0x30f347)=>{const _0x2e8bc5=_0x40049e;h[_0x2e8bc5(0x25f)](_0x2e8bc5(0x34b));let _0x24bae7=await this[_0x2e8bc5(0x58c)]({'request':_0x1cbd2e,'schema':C,'ClassRef':E,'execute':_0x51ee1a=>T[_0x2e8bc5(0x547)](_0x51ee1a)});_0x30f347[_0x2e8bc5(0x5c1)](0xc8)['json'](_0x24bae7);})[_0x40049e(0x5a9)](this[_0x40049e(0x29e)](_0x40049e(0x345)),..._0x83d163,async(_0x3793b2,_0x43cd2b)=>{const _0x44a5e4=_0x40049e;h[_0x44a5e4(0x25f)](_0x44a5e4(0x609));let _0x372833=await this['dataValidate']({'request':_0x3793b2,'schema':C,'ClassRef':E,'execute':_0x3c85e8=>T[_0x44a5e4(0x547)](_0x3c85e8)});_0x43cd2b['status'](0xc8)[_0x44a5e4(0x2c1)](_0x372833);})[_0x40049e(0x308)](this['routerPath'](_0x40049e(0x598)),..._0x83d163,async(_0x47cb48,_0x6fc7a9)=>{const _0x515630=_0x40049e;let _0x3d8210=_0x47cb48[_0x515630(0x3c8)];h[_0x515630(0x25f)]('request\x20received\x20in\x20updateAgent'),h['verbose'](_0x515630(0x5e2)),h['verbose'](_0x47cb48['body']);let _0x486aa7=await this[_0x515630(0x58c)]({'request':_0x47cb48,'schema':C,'ClassRef':E,'execute':_0x58a406=>T[_0x515630(0x598)](_0x58a406,_0x3d8210)});_0x6fc7a9[_0x515630(0x5c1)](0xc8)[_0x515630(0x2c1)](_0x486aa7);})[_0x40049e(0x308)](this['routerPath'](_0x40049e(0x68d)),..._0x83d163,async(_0x1bc052,_0x5e1a6e)=>{const _0x385b84=_0x40049e;let _0x327a9b=_0x1bc052[_0x385b84(0x3c8)];h[_0x385b84(0x25f)]('request\x20received\x20in\x20updateCustomFields'),h['verbose']('request\x20body:\x20'),h[_0x385b84(0x25f)](_0x1bc052['body']);let _0x2df60a=await this[_0x385b84(0x58c)]({'request':_0x1bc052,'schema':C,'ClassRef':E,'execute':_0x13d8cb=>T[_0x385b84(0x68d)](_0x13d8cb,_0x327a9b)});_0x5e1a6e['status'](0xc8)[_0x385b84(0x2c1)](_0x2df60a);})['post'](this['routerPath'](_0x40049e(0x1ee)),..._0x83d163,async(_0x4b90b0,_0x4663cc)=>{const _0x4dd1e6=_0x40049e;let _0x3d4372=_0x4b90b0[_0x4dd1e6(0x3c8)];h[_0x4dd1e6(0x25f)](_0x4dd1e6(0x238)),h[_0x4dd1e6(0x25f)](_0x4dd1e6(0x5e2)),h[_0x4dd1e6(0x25f)](_0x4b90b0['body']);let _0xd83eb=await this[_0x4dd1e6(0x58c)]({'request':_0x4b90b0,'schema':C,'ClassRef':E,'execute':_0x32106c=>T[_0x4dd1e6(0x1ee)](_0x32106c,_0x3d4372)});_0x4663cc[_0x4dd1e6(0x5c1)](0xc8)[_0x4dd1e6(0x2c1)](_0xd83eb);})[_0x40049e(0x308)](this['routerPath'](_0x40049e(0x336)),..._0x83d163,async(_0x14d259,_0x227349)=>{const _0x63ca01=_0x40049e;let _0x484fc7=_0x14d259[_0x63ca01(0x3c8)];h[_0x63ca01(0x25f)](_0x63ca01(0x4fe)),h[_0x63ca01(0x25f)](_0x63ca01(0x5e2)),h['verbose'](_0x14d259[_0x63ca01(0x3c8)]);let _0x562d9e=await this[_0x63ca01(0x58c)]({'request':_0x14d259,'schema':C,'ClassRef':E,'execute':_0x1a1520=>T[_0x63ca01(0x336)](_0x1a1520,_0x484fc7)});_0x227349[_0x63ca01(0x5c1)](0xc8)[_0x63ca01(0x2c1)](_0x562d9e);})[_0x40049e(0x308)](this[_0x40049e(0x29e)]('fetchConversation'),..._0x83d163,async(_0x5ce72d,_0x5362a5)=>{const _0xbf040c=_0x40049e;let _0x151254=_0x5ce72d[_0xbf040c(0x3c8)];h[_0xbf040c(0x25f)]('request\x20received\x20in\x20fetchConversation'),h['verbose'](_0xbf040c(0x5e2)),h[_0xbf040c(0x25f)](_0x5ce72d[_0xbf040c(0x3c8)]);let _0x5498aa=await this[_0xbf040c(0x58c)]({'request':_0x5ce72d,'schema':C,'ClassRef':E,'execute':_0x4391b1=>T[_0xbf040c(0x4cc)](_0x4391b1,_0x151254)});_0x5362a5[_0xbf040c(0x5c1)](0xc8)['json'](_0x5498aa);})[_0x40049e(0x308)](this[_0x40049e(0x29e)]('editConversation'),..._0x83d163,async(_0x31cca8,_0x3516c3)=>{const _0xadb556=_0x40049e;let _0x40754d=_0x31cca8[_0xadb556(0x3c8)];h[_0xadb556(0x25f)]('request\x20received\x20in\x20editConversation'),h[_0xadb556(0x25f)](_0xadb556(0x5e2)),h[_0xadb556(0x25f)](_0x31cca8['body']);let _0x3a9b3c=await this[_0xadb556(0x58c)]({'request':_0x31cca8,'schema':C,'ClassRef':E,'execute':_0x491c1e=>T[_0xadb556(0x5f4)](_0x491c1e,_0x40754d)});_0x3516c3[_0xadb556(0x5c1)](0xc8)[_0xadb556(0x2c1)](_0x3a9b3c);})[_0x40049e(0x3e0)](this['routerPath'](_0x40049e(0x61b)),..._0x83d163,async(_0x30feb6,_0x1240ab)=>{const _0x490905=_0x40049e;let _0x2444dc=_0x30feb6['body'];h[_0x490905(0x25f)](_0x490905(0x2b0)),h[_0x490905(0x25f)](_0x490905(0x5e2)),h[_0x490905(0x25f)](_0x30feb6['body']);let _0x493902=await this[_0x490905(0x58c)]({'request':_0x30feb6,'schema':C,'ClassRef':E,'execute':_0x21eb1c=>T[_0x490905(0x61b)](_0x21eb1c,_0x2444dc)});_0x1240ab[_0x490905(0x5c1)](0xc8)['json'](_0x493902);})[_0x40049e(0x308)](this[_0x40049e(0x29e)](_0x40049e(0x2d5)),..._0x83d163,async(_0x4d2a25,_0x3e6943)=>{const _0x176efb=_0x40049e;let _0x26f364=_0x4d2a25[_0x176efb(0x3c8)];h[_0x176efb(0x25f)](_0x176efb(0x4cb)),h['verbose']('request\x20body:\x20'),h['verbose'](_0x4d2a25['body']);let _0x323efd=await this[_0x176efb(0x58c)]({'request':_0x4d2a25,'schema':C,'ClassRef':E,'execute':_0x4433a0=>T['createFlow'](_0x4433a0,_0x26f364)});_0x3e6943['status'](0xc8)[_0x176efb(0x2c1)](_0x323efd);})['post'](this['routerPath'](_0x40049e(0x5d8)),..._0x83d163,async(_0x5b2db3,_0x3c3664)=>{const _0x57a21b=_0x40049e;let _0x484b0e=_0x5b2db3['body'];h[_0x57a21b(0x25f)]('request\x20received\x20in\x20editFlow'),h[_0x57a21b(0x25f)](_0x57a21b(0x5e2)),h[_0x57a21b(0x25f)](_0x5b2db3[_0x57a21b(0x3c8)]),delete _0x484b0e['blocks'],delete _0x484b0e[_0x57a21b(0x495)],delete _0x484b0e[_0x57a21b(0x663)],delete _0x484b0e[_0x57a21b(0x74f)];let _0x123028=await this[_0x57a21b(0x58c)]({'request':_0x5b2db3,'schema':C,'ClassRef':E,'execute':_0x2f3e9c=>T[_0x57a21b(0x1ff)](_0x2f3e9c,_0x484b0e)});_0x3c3664[_0x57a21b(0x5c1)](0xc8)[_0x57a21b(0x2c1)](_0x123028);})[_0x40049e(0x308)](this['routerPath'](_0x40049e(0x702)),..._0x83d163,async(_0x358f78,_0x169fe3)=>{const _0x2a75b3=_0x40049e;let _0x56851a=_0x358f78['body'];h[_0x2a75b3(0x25f)](_0x2a75b3(0x34c)),h[_0x2a75b3(0x25f)](_0x2a75b3(0x5e2)),h['verbose'](_0x358f78[_0x2a75b3(0x3c8)]);let _0x485a87=await this['dataValidate']({'request':_0x358f78,'schema':C,'ClassRef':E,'execute':_0x3c8ed5=>T[_0x2a75b3(0x418)](_0x3c8ed5,_0x56851a)});_0x169fe3[_0x2a75b3(0x5c1)](0xc8)[_0x2a75b3(0x2c1)](_0x485a87);})[_0x40049e(0x308)](this[_0x40049e(0x29e)](_0x40049e(0x53b)),..._0x83d163,async(_0x347eca,_0x362d7f)=>{const _0x4388de=_0x40049e;let _0x269638=_0x347eca[_0x4388de(0x3c8)];h['verbose'](_0x4388de(0x34c)),h[_0x4388de(0x25f)](_0x4388de(0x5e2)),h[_0x4388de(0x25f)](_0x347eca['body']);let _0x15976f=await this[_0x4388de(0x58c)]({'request':_0x347eca,'schema':C,'ClassRef':E,'execute':_0x34c708=>T[_0x4388de(0x22b)](_0x34c708,_0x269638)});_0x362d7f['status'](0xc8)[_0x4388de(0x2c1)](_0x15976f);})['post'](this[_0x40049e(0x29e)]('editflowvaredit'),..._0x83d163,async(_0x2cc7fe,_0x2b4840)=>{const _0x19d14c=_0x40049e;let _0x545720=_0x2cc7fe[_0x19d14c(0x3c8)];h[_0x19d14c(0x25f)](_0x19d14c(0x34c)),h[_0x19d14c(0x25f)](_0x19d14c(0x5e2)),h['verbose'](_0x2cc7fe[_0x19d14c(0x3c8)]);let _0x41f493=await this[_0x19d14c(0x58c)]({'request':_0x2cc7fe,'schema':C,'ClassRef':E,'execute':_0x390091=>T[_0x19d14c(0x64c)](_0x390091,_0x545720)});_0x2b4840['status'](0xc8)['json'](_0x41f493);})[_0x40049e(0x308)](this[_0x40049e(0x29e)](_0x40049e(0x1c7)),..._0x83d163,async(_0x16cdd9,_0x4a2df5)=>{const _0x17ea42=_0x40049e;let _0x26f5f0=_0x16cdd9[_0x17ea42(0x3c8)];h[_0x17ea42(0x25f)]('request\x20received\x20in\x20editFlowgroup'),h['verbose'](_0x17ea42(0x5e2)),h['verbose'](_0x16cdd9['body']);let _0x105319=await this['dataValidate']({'request':_0x16cdd9,'schema':C,'ClassRef':E,'execute':_0x53408c=>T[_0x17ea42(0x283)](_0x53408c,_0x26f5f0)});_0x4a2df5[_0x17ea42(0x5c1)](0xc8)[_0x17ea42(0x2c1)](_0x105319);})['post'](this['routerPath'](_0x40049e(0x410)),..._0x83d163,async(_0x5a524a,_0x1e4d01)=>{const _0x82268c=_0x40049e;let _0x49af80=_0x5a524a[_0x82268c(0x3c8)];h[_0x82268c(0x25f)](_0x82268c(0x5e8)),h[_0x82268c(0x25f)]('request\x20body:\x20'),h[_0x82268c(0x25f)](_0x5a524a[_0x82268c(0x3c8)]);let _0xb1327b=await this[_0x82268c(0x58c)]({'request':_0x5a524a,'schema':C,'ClassRef':E,'execute':_0x27a853=>T['editFlowCondition'](_0x27a853,_0x49af80)});_0x1e4d01[_0x82268c(0x5c1)](0xc8)[_0x82268c(0x2c1)](_0xb1327b);})['post'](this[_0x40049e(0x29e)](_0x40049e(0x1dc)),..._0x83d163,async(_0x5dbec9,_0x5dae2a)=>{const _0x48f213=_0x40049e;let _0x1b781a=_0x5dbec9[_0x48f213(0x3c8)];h[_0x48f213(0x25f)](_0x48f213(0x76e)),h['verbose']('request\x20body:\x20'),h['verbose'](_0x5dbec9['body']);let _0x49919c=await this['dataValidate']({'request':_0x5dbec9,'schema':C,'ClassRef':E,'execute':_0x20b1fd=>T[_0x48f213(0x6c9)](_0x20b1fd,_0x1b781a)});_0x5dae2a[_0x48f213(0x5c1)](0xc8)[_0x48f213(0x2c1)](_0x49919c);})['post'](this[_0x40049e(0x29e)](_0x40049e(0x610)),..._0x83d163,async(_0x2a064d,_0x3155ab)=>{const _0x1edbaa=_0x40049e;let _0x1254c6=_0x2a064d[_0x1edbaa(0x3c8)];h[_0x1edbaa(0x25f)](_0x1edbaa(0x5b4)),h[_0x1edbaa(0x25f)](_0x1edbaa(0x5e2)),h['verbose'](_0x2a064d['body']);let _0x16dd46=await this[_0x1edbaa(0x58c)]({'request':_0x2a064d,'schema':C,'ClassRef':E,'execute':_0x45ab67=>T['getFlow'](_0x45ab67,_0x1254c6)});_0x3155ab[_0x1edbaa(0x5c1)](0xc8)[_0x1edbaa(0x2c1)](_0x16dd46);})['delete'](this[_0x40049e(0x29e)]('deleteflow'),..._0x83d163,async(_0x432dcf,_0x20f45e)=>{const _0x2f2287=_0x40049e;let _0x262816=_0x432dcf['body'];h['verbose'](_0x2f2287(0x745)),h['verbose'](_0x2f2287(0x5e2)),h[_0x2f2287(0x25f)](_0x432dcf[_0x2f2287(0x3c8)]);let _0x2aba2f=await this[_0x2f2287(0x58c)]({'request':_0x432dcf,'schema':C,'ClassRef':E,'execute':_0x205d2b=>T[_0x2f2287(0x20d)](_0x205d2b,_0x262816)});_0x20f45e['status'](0xc8)[_0x2f2287(0x2c1)](_0x2aba2f);})['get'](this[_0x40049e(0x29e)](_0x40049e(0x287)),..._0x83d163,async(_0x387891,_0x2c390d)=>{const _0x88255=_0x40049e;h[_0x88255(0x25f)]('request\x20received\x20in\x20allFlows');let _0x1fbd17=await this[_0x88255(0x58c)]({'request':_0x387891,'schema':C,'ClassRef':E,'execute':_0xee4c50=>T[_0x88255(0x3e1)](_0xee4c50)});_0x2c390d[_0x88255(0x5c1)](0xc8)['json'](_0x1fbd17);});}},cr=R(require(a0_0x10d060(0x4b0))),X={};function or(_0x36e70e,_0x4b67d7,_0x19bbf0,_0x51fc77){X[_0x36e70e]||(X[_0x36e70e]={}),X[_0x36e70e][_0x4b67d7]={'id':_0x4b67d7,'response':_0x19bbf0,'events':_0x51fc77};}function ir(_0x17a128,_0x5c3b81){!X[_0x17a128]||!X[_0x17a128][_0x5c3b81]||delete X[_0x17a128][_0x5c3b81];}function q(_0x2c52f5,_0x196f31,_0xc19871){const _0x3a5511=a0_0x10d060;if(!X[_0x2c52f5])return;let _0x2e1701=_0x3a5511(0x3b3)+JSON[_0x3a5511(0x49d)](_0xc19871)+'\x0a\x0a';Object['values'](X[_0x2c52f5])[_0x3a5511(0x311)](_0x12dc86=>{const _0x219311=_0x3a5511;_0x12dc86[_0x219311(0x60a)][_0x219311(0x23d)](_0x196f31)&&_0x12dc86[_0x219311(0x392)][_0x219311(0x539)](_0x2e1701);});}function nr(){const _0x15bf7f=a0_0x10d060;let _0x2c553d={};for(let _0x2e0dec in X)_0x2c553d[_0x2e0dec]=Object[_0x15bf7f(0x4bd)](X[_0x2e0dec])[_0x15bf7f(0x606)](_0x335180=>({'id':_0x335180['id'],'events':_0x335180[_0x15bf7f(0x60a)]}));return _0x2c553d;}var lr=require(a0_0x10d060(0x32f)),hs=require(a0_0x10d060(0x56d)),ms=class{},no=new hs[(a0_0x10d060(0x5ee))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs[(a0_0x10d060(0x5ee))]({'_id':{'type':String,'default':a0_0x10d060(0x3a9)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.[a0_0x10d060(0x279)](ms['name'],co,a0_0x10d060(0x4ce)),lo=cr['default'][a0_0x10d060(0x535)](__dirname,a0_0x10d060(0x586)),vt=(0x0,Ct[a0_0x10d060(0x289)])(),uo=b[a0_0x10d060(0x5a9)]('AUTHENTICATION')[a0_0x10d060(0x467)],te=[ha,fa,ba[uo]];vt['use'](a0_0x10d060(0x40f),Ct[a0_0x10d060(0x6bb)][a0_0x10d060(0x230)](lo))['get']('/events/:instance',async(_0x489efa,_0x5bb4d2)=>{const _0x4cd363=a0_0x10d060;console[_0x4cd363(0x30d)](_0x4cd363(0x178));let _0x356df4=_0x489efa[_0x4cd363(0x534)]['instance'],_0x4b0a98=(_0x489efa[_0x4cd363(0x2e0)][_0x4cd363(0x60a)]||'')[_0x4cd363(0x503)](','),_0x39f759=(0x0,lr['v4'])();console[_0x4cd363(0x30d)](_0x4cd363(0x713),_0x356df4),console[_0x4cd363(0x30d)](_0x4cd363(0x77b),_0x4b0a98);let _0xa87197=b[_0x4cd363(0x5a9)](_0x4cd363(0x309))[_0x4cd363(0x6f7)],_0x5d41dc=_0x489efa[_0x4cd363(0x2e0)][_0x4cd363(0x4d6)];if(console[_0x4cd363(0x30d)]('API\x20Key\x20from\x20Request:',_0x5d41dc),_0xa87197[_0x4cd363(0x261)]!==_0x5d41dc){console['log'](_0x4cd363(0x61a));try{let _0x28005f=await ce['auth'][_0x4cd363(0x5aa)](_0x356df4);if(console[_0x4cd363(0x30d)](_0x4cd363(0x267),_0x28005f),!_0x28005f||_0x28005f[_0x4cd363(0x4d6)]!==_0x5d41dc)return console[_0x4cd363(0x30d)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x5bb4d2['status'](0x191)['send'](_0x4cd363(0x6b2));}catch(_0x5c18bc){return console[_0x4cd363(0x22d)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5c18bc),_0x5bb4d2[_0x4cd363(0x5c1)](0x191)[_0x4cd363(0x6d0)](_0x4cd363(0x19f));}}if(!await We(_0x356df4))return _0x5bb4d2[_0x4cd363(0x5c1)](0x194)['send']('Instância\x20não\x20encontrada.');_0x5bb4d2[_0x4cd363(0x204)](_0x4cd363(0x5d1),'text/event-stream'),_0x5bb4d2[_0x4cd363(0x204)](_0x4cd363(0x33b),_0x4cd363(0x4b8)),_0x5bb4d2[_0x4cd363(0x204)]('Connection',_0x4cd363(0x6ee)),_0x5bb4d2[_0x4cd363(0x31d)]();let _0x488653=_0x4cd363(0x3b3)+JSON['stringify']({'info':_0x4cd363(0x49f)})+'\x0a\x0a';_0x5bb4d2['write'](_0x488653),or(_0x356df4,_0x39f759,_0x5bb4d2,_0x4b0a98),_0x489efa['on'](_0x4cd363(0x68a),()=>{const _0x57cc63=_0x4cd363;console[_0x57cc63(0x30d)]('Connection\x20closed\x20for\x20instance:\x20'+_0x356df4),ir(_0x356df4,_0x39f759);});}),vt[a0_0x10d060(0x5a9)]('/clients-info',(_0x5f1cb7,_0x5584f1)=>{let _0x594c92=nr();_0x5584f1['json'](_0x594c92);})[a0_0x10d060(0x5a9)]('/',(_0x31e594,_0x5ecdd3)=>{const _0x19e580=a0_0x10d060;let _0x4dc4c0=b[_0x19e580(0x5a9)]('SSL_CONF'),_0x4edfe9=_0x4dc4c0&&_0x4dc4c0['FULLCHAIN'][_0x19e580(0x503)]('/')[0x4];if(_0x4edfe9){let _0x45447a=encodeURIComponent(_0x19e580(0x6c4)+_0x4edfe9);_0x5ecdd3[_0x19e580(0x23c)](_0x19e580(0x1e1)+_0x45447a);}else _0x5ecdd3[_0x19e580(0x23c)](_0x19e580(0x234));})[a0_0x10d060(0x559)](a0_0x10d060(0x1f6),...te,async(_0x43898b,_0x89f41b)=>{const _0x108d0f=a0_0x10d060;try{console[_0x108d0f(0x30d)](_0x108d0f(0x1ae)),_0x89f41b[_0x108d0f(0x5c1)](0xc8)[_0x108d0f(0x2c1)]({'message':_0x108d0f(0x141)}),_0x89f41b['on'](_0x108d0f(0x653),()=>process[_0x108d0f(0x331)](0x0));}catch(_0x35639c){console[_0x108d0f(0x22d)](_0x108d0f(0x1d0),_0x35639c),_0x89f41b['status'](0x1f4)['json']({'message':_0x108d0f(0x442)});}})['put'](a0_0x10d060(0x3f3),...te,async(_0x40b6f7,_0x18fa2f)=>{const _0x2713bf=a0_0x10d060;try{let _0x569d94=_0x40b6f7[_0x2713bf(0x3c8)];await ye[_0x2713bf(0x251)]({},{'$set':_0x569d94},{'upsert':!0x0});let _0x6dc776=await ye[_0x2713bf(0x198)]();_0x18fa2f[_0x2713bf(0x2c1)](_0x6dc776);}catch(_0x538cca){_0x18fa2f[_0x2713bf(0x5c1)](0x190)[_0x2713bf(0x6d0)](_0x538cca['message']);}})[a0_0x10d060(0x5a9)](a0_0x10d060(0x3f3),...te,async(_0x394f78,_0x58b09d)=>{const _0x401402=a0_0x10d060;try{let _0x682357=await ye[_0x401402(0x198)]();if(!_0x682357)return _0x58b09d['json']({});_0x58b09d[_0x401402(0x2c1)](_0x682357);}catch(_0x5ab04f){_0x58b09d['status'](0x1f4)[_0x401402(0x6d0)](_0x5ab04f[_0x401402(0x3d4)]);}})[a0_0x10d060(0x4c3)]('/instance',new ct(b,...te)[a0_0x10d060(0x364)])[a0_0x10d060(0x4c3)](a0_0x10d060(0x703),new bt(...te)[a0_0x10d060(0x364)])[a0_0x10d060(0x4c3)](a0_0x10d060(0x16f),new Xe(...te)[a0_0x10d060(0x364)])['use'](a0_0x10d060(0x5af),new nt(...te)[a0_0x10d060(0x364)])[a0_0x10d060(0x4c3)](a0_0x10d060(0x24d),new Et(...te)[a0_0x10d060(0x364)])[a0_0x10d060(0x4c3)](a0_0x10d060(0x1cb),new Mt(...te)['router']);var m=class{constructor(..._0x17880b){const _0x56ef2e=a0_0x10d060;throw{'status':0x190,'error':'Bad\x20Request','message':_0x17880b[_0x56ef2e(0x31a)]>0x0?_0x17880b:void 0x0};}},ee=class{constructor(..._0x2f122c){const _0x2447e7=a0_0x10d060;throw{'status':0x191,'error':_0x2447e7(0x1d8),'message':_0x2f122c[_0x2447e7(0x31a)]>0x0?_0x2f122c:void 0x0};}},K=class{constructor(..._0xde27d8){const _0x5b1c84=a0_0x10d060;throw{'status':0x193,'error':_0x5b1c84(0x374),'message':_0xde27d8[_0x5b1c84(0x31a)]>0x0?_0xde27d8:void 0x0};}},F=class{constructor(..._0x121894){const _0x3aa4e1=a0_0x10d060;throw{'status':0x194,'error':_0x3aa4e1(0x6ce),'message':_0x121894[_0x3aa4e1(0x31a)]>0x0?_0x121894:void 0x0};}},O=class{constructor(..._0x304211){const _0xeb9956=a0_0x10d060;throw{'status':0x1f4,'error':_0xeb9956(0x5a3),'message':_0x304211[_0xeb9956(0x31a)]>0x0?_0x304211:void 0x0};}},ue=require(a0_0x10d060(0x5d2));async function fs(_0x33ec9c){const _0x3f698d=a0_0x10d060;let _0x5dbdfc=new v(fs[_0x3f698d(0x4b9)]),_0x54c625=N[_0x3f698d(0x1fd)](),_0x49dc1f=_0x54c625['db'](b[_0x3f698d(0x5a9)]('DATABASE')[_0x3f698d(0x709)][_0x3f698d(0x313)]+_0x3f698d(0x5d0))[_0x3f698d(0x711)](_0x33ec9c),_0x3873b7=async(_0x5f3a52,_0x1e856c)=>{const _0x138e02=_0x3f698d;try{return await _0x54c625['connect'](),await _0x49dc1f[_0x138e02(0x72f)]({'_id':_0x1e856c},JSON[_0x138e02(0x4b3)](JSON[_0x138e02(0x49d)](_0x5f3a52,ue['BufferJSON'][_0x138e02(0x393)])),{'upsert':!0x0});}catch{}},_0x28b671=async _0x24759d=>{const _0x5b048e=_0x3f698d;try{await _0x54c625[_0x5b048e(0x139)]();let _0x591597=await _0x49dc1f[_0x5b048e(0x198)]({'_id':_0x24759d}),_0x162fdd=JSON[_0x5b048e(0x49d)](_0x591597);return JSON[_0x5b048e(0x4b3)](_0x162fdd,ue[_0x5b048e(0x74b)]['reviver']);}catch{}},_0x4d3577=async _0x12b0f1=>{const _0x441606=_0x3f698d;try{return await _0x54c625[_0x441606(0x139)](),await _0x49dc1f[_0x441606(0x326)]({'_id':_0x12b0f1});}catch{}},_0x411250=await _0x28b671('creds')||(0x0,ue['initAuthCreds'])();return{'state':{'creds':_0x411250,'keys':{'get':async(_0xc80c0d,_0x5cba1c)=>{const _0x2742e3=_0x3f698d;let _0x3d803b={};return await Promise[_0x2742e3(0x5d7)](_0x5cba1c[_0x2742e3(0x606)](async _0x7bfc68=>{const _0x238753=_0x2742e3;let _0x2dd70f=await _0x28b671(_0xc80c0d+'-'+_0x7bfc68);_0xc80c0d==='app-state-sync-key'&&_0x2dd70f&&(_0x2dd70f=ue[_0x238753(0x4de)][_0x238753(0x61f)][_0x238753(0x386)][_0x238753(0x494)](_0x2dd70f)),_0x3d803b[_0x7bfc68]=_0x2dd70f;})),_0x3d803b;},'set':async _0x385945=>{let _0x5d702d=[];for(let _0x5df560 in _0x385945)for(let _0x172429 in _0x385945[_0x5df560]){let _0x253b29=_0x385945[_0x5df560][_0x172429],_0x26df10=_0x5df560+'-'+_0x172429;_0x5d702d['push'](_0x253b29?_0x3873b7(_0x253b29,_0x26df10):_0x4d3577(_0x26df10));}await Promise['all'](_0x5d702d);}}},'saveCreds':async()=>_0x3873b7(_0x411250,_0x3f698d(0x53d))};}var Es=R(require(a0_0x10d060(0x613))),Ms=R(require('node-cache')),Tt=require(a0_0x10d060(0x5d2)),ur=require(a0_0x10d060(0x5b0)),Rt=require(a0_0x10d060(0x5d2)),Nt;function po(_0x410281){const _0x3f5ee0=a0_0x10d060;return Nt||(Nt=(0x0,ur[_0x3f5ee0(0x5ec)])({'url':_0x410281[_0x3f5ee0(0x491)]}),Nt[_0x3f5ee0(0x139)]()),Nt;}var re=class c{constructor(_0x4a9b1a,_0x31b61a){const _0x3455b9=a0_0x10d060;this[_0x3455b9(0x681)]=_0x4a9b1a,this['instanceName']=_0x31b61a,this[_0x3455b9(0x48c)]=new v(c['name']),this[_0x3455b9(0x18c)]=po(_0x4a9b1a);}set[a0_0x10d060(0x4bf)](_0x17ca0d){const _0x20d5a9=a0_0x10d060;this[_0x20d5a9(0x566)]=_0x17ca0d;}async['instanceKeys'](){const _0x2bb83f=a0_0x10d060;try{return await this['client'][_0x2bb83f(0x355)]([_0x2bb83f(0x428),this['redisEnv'][_0x2bb83f(0x4bc)]+':*']);}catch(_0x33393){this['logger'][_0x2bb83f(0x22d)](_0x33393);}}async['writeData'](_0x303256,_0x52066e){const _0x31cf8c=a0_0x10d060;try{let _0x49b86f=JSON[_0x31cf8c(0x49d)](_0x52066e,Rt['BufferJSON']['replacer']);return await this['client'][_0x31cf8c(0x3c3)](this[_0x31cf8c(0x681)]['PREFIX_KEY']+':'+this[_0x31cf8c(0x566)],_0x303256,_0x49b86f);}catch(_0xcc72ff){this[_0x31cf8c(0x48c)][_0x31cf8c(0x22d)](_0xcc72ff);}}async[a0_0x10d060(0x666)](){const _0x4269e0=a0_0x10d060;try{let _0x46c89a=await this[_0x4269e0(0x18c)][_0x4269e0(0x67c)](this['redisEnv'][_0x4269e0(0x4bc)]+':'+this[_0x4269e0(0x566)]);if(_0x46c89a){for(let _0x40b67e in _0x46c89a)Object[_0x4269e0(0x431)][_0x4269e0(0x6e5)][_0x4269e0(0x36f)](_0x46c89a,_0x40b67e)&&(_0x46c89a[_0x40b67e]=JSON[_0x4269e0(0x4b3)](_0x46c89a[_0x40b67e],Rt[_0x4269e0(0x74b)][_0x4269e0(0x4bb)]));return _0x46c89a;}}catch(_0x39d4a0){this['logger']['error'](_0x39d4a0);}}async[a0_0x10d060(0x4e8)](_0x8009c0){const _0x4da665=a0_0x10d060;try{let _0x53d94e=await this[_0x4da665(0x18c)]['hGet'](this[_0x4da665(0x681)]['PREFIX_KEY']+':'+this[_0x4da665(0x566)],_0x8009c0);if(_0x53d94e)return JSON[_0x4da665(0x4b3)](_0x53d94e,Rt[_0x4da665(0x74b)]['reviver']);}catch(_0x18ff0c){this[_0x4da665(0x48c)]['error'](_0x18ff0c);}}async[a0_0x10d060(0x39a)](_0x4f2b3f){const _0x48bcd4=a0_0x10d060;try{return await this[_0x48bcd4(0x18c)]['hDel'](this[_0x48bcd4(0x681)][_0x48bcd4(0x4bc)]+':'+this[_0x48bcd4(0x566)],_0x4f2b3f);}catch(_0x19e0aa){this[_0x48bcd4(0x48c)][_0x48bcd4(0x22d)](_0x19e0aa);}}async[a0_0x10d060(0x776)](_0x2ebb48){const _0xd00c7=a0_0x10d060;try{return await this[_0xd00c7(0x18c)]['del'](_0x2ebb48||this[_0xd00c7(0x681)][_0xd00c7(0x4bc)]+':'+this[_0xd00c7(0x566)]);}catch(_0x3a3ed2){this[_0xd00c7(0x48c)][_0xd00c7(0x22d)](_0x3a3ed2);}}};async function ys(_0x30d4af,_0x369cf1){const _0x37518e=a0_0x10d060;let _0x2d3c6d=new v(ys[_0x37518e(0x4b9)]),_0x25750e=new re(_0x30d4af,_0x369cf1),_0x58c3d5=async(_0x4789e6,_0x1e9a4c)=>{const _0x3b49fb=_0x37518e;try{return await _0x25750e[_0x3b49fb(0x738)](_0x1e9a4c,_0x4789e6);}catch(_0x54ea41){return _0x2d3c6d[_0x3b49fb(0x22d)]({'localError':'writeData','error':_0x54ea41});}},_0x4890d2=async _0x14ac05=>{const _0xd6ea41=_0x37518e;try{return await _0x25750e[_0xd6ea41(0x4e8)](_0x14ac05);}catch(_0x1a4ba5){_0x2d3c6d[_0xd6ea41(0x22d)]({'readData':_0xd6ea41(0x738),'error':_0x1a4ba5});return;}},_0x329d30=async _0x39f070=>{const _0x7715af=_0x37518e;try{return await _0x25750e['removeData'](_0x39f070);}catch(_0x3c650c){_0x2d3c6d['error']({'readData':_0x7715af(0x39a),'error':_0x3c650c});}},_0xfb1e35=await _0x4890d2(_0x37518e(0x53d))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0xfb1e35,'keys':{'get':async(_0x509e8e,_0x3ff210)=>{const _0x13b006=_0x37518e;let _0x6bc01a={};return await Promise[_0x13b006(0x5d7)](_0x3ff210['map'](async _0xa6da11=>{const _0x259d43=_0x13b006;let _0x12f9b1=await _0x4890d2(_0x509e8e+'-'+_0xa6da11);_0x509e8e===_0x259d43(0x3e6)&&_0x12f9b1&&(_0x12f9b1=Tt['proto'][_0x259d43(0x61f)]['AppStateSyncKeyData'][_0x259d43(0x494)](_0x12f9b1)),_0x6bc01a[_0xa6da11]=_0x12f9b1;})),_0x6bc01a;},'set':async _0x2e2bcc=>{const _0x3ea618=_0x37518e;let _0x12536a=[];for(let _0x4839f2 in _0x2e2bcc)for(let _0x221213 in _0x2e2bcc[_0x4839f2]){let _0x54bddd=_0x2e2bcc[_0x4839f2][_0x221213],_0x9ec47b=_0x4839f2+'-'+_0x221213;_0x12536a['push'](_0x54bddd?await _0x58c3d5(_0x54bddd,_0x9ec47b):await _0x329d30(_0x9ec47b));}await Promise[_0x3ea618(0x5d7)](_0x12536a);}}},'saveCreds':async()=>await _0x58c3d5(_0xfb1e35,'creds')};}var L=R(require('fs')),Ce=require('uuid'),It=R(require(a0_0x10d060(0x2d6))),wr=require(a0_0x10d060(0x743)),go=a0_0x10d060(0x65d)['trim'](),ws=go[a0_0x10d060(0x503)]('\x0a')[a0_0x10d060(0x606)](_0x1f4342=>{const _0x12f056=a0_0x10d060;let _0x245100=_0x1f4342[_0x12f056(0x503)](':');return{'host':_0x245100[0x0],'port':_0x245100[0x1],'username':_0x245100[0x2],'password':_0x245100[0x3],'protocol':'http'};});function dr(){const _0x311646=a0_0x10d060;if(ws[_0x311646(0x31a)]===0x0)return null;let _0x2bcbc9=Math[_0x311646(0x19b)](Math['random']()*ws[_0x311646(0x31a)]);return ws[_0x2bcbc9];}function bs(_0x1e54f1){const _0x24d86e=a0_0x10d060;return _0x1e54f1&&_0x1e54f1[_0x24d86e(0x668)]&&_0x1e54f1[_0x24d86e(0x2fa)]&&_0x1e54f1[_0x24d86e(0x2b2)]&&_0x1e54f1[_0x24d86e(0x469)];}var br=a0_0x10d060(0x5a8),Cs,oe=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x551646=a0_0x10d060;let _0x505969=await ye[_0x551646(0x198)]();oe=_0x505969?.[_0x551646(0x55e)]??null,ho=_0x505969?.['DaysToDelete']??null,br=_0x505969?.[_0x551646(0x1f1)]??'Chrome',Cs=_0x505969?.[_0x551646(0x6d6)]??vs??'uazapi',Sr=_0x505969?.[_0x551646(0x5eb)]??!0x1,console[_0x551646(0x30d)](_0x551646(0x328)),console[_0x551646(0x30d)](_0x505969);}async function yo(){await fo();}yo();function $(_0x39b77b){const _0x46acc2=a0_0x10d060;if(_0x39b77b['viewOnceMessage']||_0x39b77b[_0x46acc2(0x439)]){let _0x599c70=_0x39b77b[_0x46acc2(0x502)]?_0x39b77b['viewOnceMessage']['message']:_0x39b77b[_0x46acc2(0x439)]['message'];return(0x0,y[_0x46acc2(0x673)])(_0x599c70);}return _0x39b77b[_0x46acc2(0x5c3)]?_0x46acc2(0x5c3):_0x39b77b['pollCreationMessageV2']?'pollCreationMessageV2':_0x39b77b['viewOnceMessageV2Extension']?_0x46acc2(0x76f):(0x0,y[_0x46acc2(0x673)])(_0x39b77b);}var gr={},we=class c{constructor(_0x21dd34,_0x3ce221,_0x5a53b4){const _0x11a1c7=a0_0x10d060;this['configService']=_0x21dd34,this[_0x11a1c7(0x343)]=_0x3ce221,this['repository']=_0x5a53b4,this[_0x11a1c7(0x667)]=null,this['logger']=new v(c[_0x11a1c7(0x4b9)]),this['instance']={},this['localWebhook']={},this['stateConnection']={'state':'close'},this['storePath']=(0x0,U[_0x11a1c7(0x535)])(ae,_0x11a1c7(0x586)),this['msgRetryCounterCache']=new Ms['default'](),this['userDevicesCache']=new Ms[(_0x11a1c7(0x6bb))](),this[_0x11a1c7(0x688)]=!0x1,this['webhookMap']={'status.instance':_0x11a1c7(0x13d),'qrcode.updated':_0x11a1c7(0x50b),'messages.upsert':'/wa-message','messages.update':_0x11a1c7(0x529),'send.message':_0x11a1c7(0x417),'group.upsert':_0x11a1c7(0x247),'group.update':'/wa-groups','group-participants.update':_0x11a1c7(0x247),'connection.update':_0x11a1c7(0x13d),'messages.set':_0x11a1c7(0x417),'contacts.set':_0x11a1c7(0x481),'contacts.upsert':_0x11a1c7(0x481),'contacts.update':_0x11a1c7(0x481),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x11a1c7(0x161),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x11a1c7(0x56a)]=0x0,this['reconnectTimestamps']=[],this[_0x11a1c7(0x13b)]=0xf,this[_0x11a1c7(0x189)]=0x7530,this[_0x11a1c7(0x1fa)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x25aec1,_0x4a89e6)=>{const _0x235772=_0x11a1c7;let _0x3b7c96=[];for await(let _0x5f9670 of _0x25aec1)_0x3b7c96[_0x235772(0x549)]({'_id':_0x5f9670['id'],'owner':this[_0x235772(0x300)][_0x235772(0x634)],'group':_0x5f9670['id'][_0x235772(0x72e)](_0x235772(0x3c5)),'name':_0x5f9670['name']||_0x5f9670['displayName']||null,'contactname':null,'lastmsg':_0x5f9670[_0x235772(0x2df)]&&_0x5f9670[_0x235772(0x2df)][_0x235772(0x6d4)]()[_0x235772(0x31a)]<0xd?_0x5f9670[_0x235772(0x2df)]*0x3e8:_0x5f9670[_0x235772(0x2df)]||null,'archived':_0x5f9670[_0x235772(0x1ce)]||!0x1,'unreadcount':_0x5f9670[_0x235772(0x4e1)]||0x0});this[_0x235772(0x6ba)]('chats.upsert',_0x3b7c96);},'chats.update':async(_0x465167,_0x2fedca)=>{const _0x503849=_0x11a1c7;for(let _0x83b464 of _0x465167){let _0xfcb70={'_id':_0x83b464['id'],'owner':this['instance'][_0x503849(0x634)],'group':_0x83b464['id']['endsWith']('@g.us'),'name':_0x83b464['name']||_0x83b464['displayName'],'archived':_0x83b464[_0x503849(0x1ce)],'ephemeralExpiration':_0x83b464[_0x503849(0x4eb)]},_0x2248f1=!0x1,_0x4b06c6={};_0xfcb70[_0x503849(0x1ce)]!=null&&(this[_0x503849(0x48c)][_0x503849(0x25f)](this[_0x503849(0x566)]+'\x20('+this[_0x503849(0x300)][_0x503849(0x634)]+_0x503849(0x70c)+_0x83b464[_0x503849(0x1ce)]),_0x2248f1=!0x0,_0x4b06c6['archived']=_0x83b464[_0x503849(0x1ce)]),_0x83b464[_0x503849(0x4b9)]!=null&&(this['logger'][_0x503849(0x25f)](this[_0x503849(0x566)]+'\x20('+this[_0x503849(0x300)]['wuid']+_0x503849(0x24a)+_0x83b464[_0x503849(0x4b9)]),_0x2248f1=!0x0,_0x4b06c6['name']=_0x83b464['name']),_0x83b464['displayName']!=null&&(this[_0x503849(0x48c)][_0x503849(0x25f)](this[_0x503849(0x566)]+'\x20('+this[_0x503849(0x300)][_0x503849(0x634)]+_0x503849(0x324)+_0x83b464[_0x503849(0x64f)]),_0x2248f1=!0x0,_0x4b06c6[_0x503849(0x4b9)]=_0x83b464[_0x503849(0x64f)]),_0x83b464['ephemeralExpiration']!=null&&(this[_0x503849(0x48c)][_0x503849(0x25f)](this[_0x503849(0x566)]+'\x20('+this[_0x503849(0x300)][_0x503849(0x634)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x83b464[_0x503849(0x4eb)]),_0x2248f1=!0x0,_0x4b06c6[_0x503849(0x4eb)]=_0x83b464[_0x503849(0x4eb)]);let _0x5a05e2;_0x2248f1&&(_0x5a05e2=await this[_0x503849(0x6f8)][_0x503849(0x463)][_0x503849(0x251)]({'where':{'_id':_0x83b464['id']}},_0x4b06c6,this['instance'][_0x503849(0x634)])),_0x5a05e2&&q(this[_0x503849(0x566)],_0x503849(0x3fa),{'chat':_0x5a05e2});}},'chats.delete':async _0x1ddcea=>{const _0x3d0475=_0x11a1c7;this[_0x3d0475(0x6ba)](_0x3d0475(0x3a2),[..._0x1ddcea]);}},this['contactHandle']={'contacts.upsert':async(_0x50c784,_0xe625e3)=>{const _0x189b4d=_0x11a1c7;let _0x9470d6=await this[_0x189b4d(0x6f8)]['contact']['find']({'where':{}},this[_0x189b4d(0x300)][_0x189b4d(0x634)]),_0x49ba52=[];for await(let _0xb5fa10 of _0x50c784)_0x9470d6[_0x189b4d(0x5aa)](_0x30448d=>_0x30448d[_0x189b4d(0x372)]===_0xb5fa10['id'])||_0x49ba52[_0x189b4d(0x549)]({'_id':_0xb5fa10['id'],'pushName':_0xb5fa10?.[_0x189b4d(0x4b9)]||_0xb5fa10?.[_0x189b4d(0x625)],'owner':this['instance'][_0x189b4d(0x634)]});this[_0x189b4d(0x6ba)]('contacts.upsert',_0x49ba52),await this['repository'][_0x189b4d(0x769)][_0x189b4d(0x71b)](_0x49ba52);},'contacts.update':async(_0x3d4985,_0x2f796e)=>{const _0x1829bb=_0x11a1c7;let _0x246d26=[];for await(let _0x4df28e of _0x3d4985)_0x246d26[_0x1829bb(0x549)]({'_id':_0x4df28e['id'],'pushName':_0x4df28e?.[_0x1829bb(0x4b9)]??_0x4df28e?.[_0x1829bb(0x625)],'owner':this['instance'][_0x1829bb(0x634)]});this['sendDataWebhook']('contacts.update',_0x246d26);}},this[_0x11a1c7(0x4e5)]={'messaging-history.set':async({messages:_0xd89abd,chats:_0x2a1652,isLatest:_0x3d38b},_0x3a7713)=>{const _0x29b9b7=_0x11a1c7;if(_0x3d38b){let _0x3423e0=await Promise[_0x29b9b7(0x5d7)](_0x2a1652[_0x29b9b7(0x606)](async _0x2bec95=>({'_id':_0x2bec95['id'],'owner':this[_0x29b9b7(0x300)]['wuid'],'group':_0x2bec95['id']['endsWith']('@g.us'),'name':_0x2bec95['name']||_0x2bec95[_0x29b9b7(0x64f)]||null,'contactname':null,'lastmsg':_0x2bec95[_0x29b9b7(0x2df)]&&_0x2bec95[_0x29b9b7(0x2df)][_0x29b9b7(0x6d4)]()[_0x29b9b7(0x31a)]<0xd?_0x2bec95[_0x29b9b7(0x2df)]*0x3e8:_0x2bec95[_0x29b9b7(0x2df)]||null,'archived':_0x2bec95[_0x29b9b7(0x1ce)]||!0x1,'unreadcount':_0x2bec95[_0x29b9b7(0x4e1)]||0x0})));this[_0x29b9b7(0x6ba)](_0x29b9b7(0x70e),_0x3423e0),await this['upsertChats'](_0x3423e0,_0x3a7713);}let _0x4235e8=[],_0x3be17e=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3990ae]of Object[_0x29b9b7(0x433)](_0xd89abd)){if(_0x3990ae[_0x29b9b7(0x3d4)]?.[_0x29b9b7(0x17a)]||_0x3990ae[_0x29b9b7(0x3d4)]?.['senderKeyDistributionMessage']||!_0x3990ae[_0x29b9b7(0x3d4)]||_0x3990ae[_0x29b9b7(0x181)][_0x29b9b7(0x450)]===_0x29b9b7(0x6eb)||(Es['default'][_0x29b9b7(0x3b2)](_0x3990ae?.[_0x29b9b7(0x6c1)])&&(_0x3990ae[_0x29b9b7(0x6c1)]=_0x3990ae[_0x29b9b7(0x6c1)]?.['toNumber']()),_0x3990ae[_0x29b9b7(0x6c1)]&&_0x3990ae[_0x29b9b7(0x6c1)][_0x29b9b7(0x6d4)]()['length']<0xd&&(_0x3990ae['messageTimestamp']=_0x3990ae[_0x29b9b7(0x6c1)]*0x3e8),_0x3990ae[_0x29b9b7(0x6c1)]<_0x3be17e))continue;let {message_normalized:_0x1b9b82}=this[_0x29b9b7(0x5f8)](_0x3990ae[_0x29b9b7(0x3d4)],$(_0x3990ae[_0x29b9b7(0x3d4)]),null);Object[_0x29b9b7(0x428)](_0x1b9b82)[_0x29b9b7(0x31a)]>0x0&&_0x4235e8[_0x29b9b7(0x549)]({'_id':_0x3990ae[_0x29b9b7(0x181)]['id'],'key':_0x3990ae['key'],'pushName':_0x3990ae[_0x29b9b7(0x39f)],'participant':_0x3990ae[_0x29b9b7(0x75b)],'message':{..._0x3990ae[_0x29b9b7(0x3d4)]},'messageType':$(_0x3990ae[_0x29b9b7(0x3d4)]),'message_normalized':{'key':_0x3990ae[_0x29b9b7(0x181)],'pushName':_0x3990ae['pushName'],'messageTimestamp':_0x3990ae[_0x29b9b7(0x6c1)],..._0x1b9b82},'messageTimestamp':_0x3990ae[_0x29b9b7(0x6c1)],'owner':this[_0x29b9b7(0x300)][_0x29b9b7(0x634)]});}_0x3a7713[_0x29b9b7(0x1f8)]&&_0x4235e8[_0x29b9b7(0x31a)]>0x0&&(this[_0x29b9b7(0x48c)][_0x29b9b7(0x25f)](this[_0x29b9b7(0x566)]+'\x20('+this[_0x29b9b7(0x300)][_0x29b9b7(0x634)]+_0x29b9b7(0x62b)+_0x4235e8[_0x29b9b7(0x31a)]+'\x20mensagens\x20de\x20'+this[_0x29b9b7(0x300)][_0x29b9b7(0x634)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x29b9b7(0x6f8)][_0x29b9b7(0x3d4)][_0x29b9b7(0x71b)]([..._0x4235e8],this[_0x29b9b7(0x300)][_0x29b9b7(0x634)])),this['sendDataWebhook'](_0x29b9b7(0x252),[..._0x4235e8]),_0xd89abd=void 0x0;},'messages.upsert':async({messages:_0x5f2c7f,type:_0x408d0a},_0x3c7276)=>{const _0x2fb045=_0x11a1c7;let _0x80561c=_0x5f2c7f[0x0];if(_0x408d0a!==_0x2fb045(0x631)||!_0x80561c?.['message']||_0x80561c['message']?.[_0x2fb045(0x17a)]||_0x80561c[_0x2fb045(0x3d4)][_0x2fb045(0x40d)]||_0x80561c['key'][_0x2fb045(0x450)]==='status@broadcast')return;let _0x1e9ca8=null,_0x212760=null;try{_0x1e9ca8=await this[_0x2fb045(0x1a5)](_0x80561c),_0x212760=_0x1e9ca8?_0x1e9ca8[_0x2fb045(0x535)](','):null;}catch(_0x6c4a9b){this[_0x2fb045(0x48c)][_0x2fb045(0x25f)](this[_0x2fb045(0x566)]+'\x20('+this[_0x2fb045(0x300)]['wuid']+_0x2fb045(0x62b)+(_0x6c4a9b instanceof Error?_0x6c4a9b[_0x2fb045(0x3d4)]:JSON['stringify'](_0x6c4a9b,null,0x2))),_0x212760=_0x2fb045(0x398);}if(this[_0x2fb045(0x18c)][_0x2fb045(0x34d)](_0x2fb045(0x6f6)),Es[_0x2fb045(0x6bb)]['isLong'](_0x80561c[_0x2fb045(0x6c1)])&&(_0x80561c[_0x2fb045(0x6c1)]=_0x80561c[_0x2fb045(0x6c1)]?.['toNumber']()),this[_0x2fb045(0x2c5)]?.[_0x2fb045(0x1d4)]&&_0x80561c[_0x2fb045(0x181)][_0x2fb045(0x450)][_0x2fb045(0x23d)](_0x2fb045(0x3c5))){this[_0x2fb045(0x48c)][_0x2fb045(0x25f)](_0x2fb045(0x2bb));return;}_0x80561c[_0x2fb045(0x6c1)]&&_0x80561c[_0x2fb045(0x6c1)]['toString']()[_0x2fb045(0x31a)]<0xd&&(_0x80561c[_0x2fb045(0x6c1)]=_0x80561c[_0x2fb045(0x6c1)]*0x3e8);let _0x22c3b3=_0x80561c['message'],{messageContent:_0x228930,message_normalized:_0x4b57c9}=this[_0x2fb045(0x5f8)](_0x22c3b3,$(_0x80561c[_0x2fb045(0x3d4)]),_0x212760);_0x228930||console[_0x2fb045(0x22d)](_0x2fb045(0x162));let _0x823488={'_id':_0x80561c[_0x2fb045(0x181)]['id'],'key':_0x80561c[_0x2fb045(0x181)],'pushName':_0x80561c[_0x2fb045(0x39f)],'message':{..._0x80561c[_0x2fb045(0x3d4)]},'messageType':$(_0x80561c[_0x2fb045(0x3d4)]),'message_normalized':{'key':_0x80561c[_0x2fb045(0x181)],'pushName':_0x80561c[_0x2fb045(0x39f)],'messageTimestamp':_0x80561c[_0x2fb045(0x6c1)],'source':(0x0,y[_0x2fb045(0x4a2)])(_0x80561c[_0x2fb045(0x181)]['id']),..._0x4b57c9},'messageTimestamp':_0x80561c[_0x2fb045(0x6c1)],'owner':this['instance']['wuid'],'source':(0x0,y[_0x2fb045(0x4a2)])(_0x80561c[_0x2fb045(0x181)]['id'])};this[_0x2fb045(0x48c)]['log'](_0x823488),await this[_0x2fb045(0x6f8)][_0x2fb045(0x3d4)][_0x2fb045(0x71b)]([_0x823488],this[_0x2fb045(0x300)]['wuid']),this[_0x2fb045(0x6ba)]('messages.upsert',_0x823488),q(this['instanceName'],_0x2fb045(0x2cc),{'message':_0x823488}),_0x80561c[_0x2fb045(0x181)][_0x2fb045(0x450)]!=='status@broadcast'&&await this[_0x2fb045(0x6e3)](_0x3c7276,_0x823488,'MESSAGES_UPSERT');},'messages.update':async(_0x5b51c2,_0x230dc0)=>{const _0x17e15f=_0x11a1c7;let _0x504f57={0x0:_0x17e15f(0x1a8),0x1:_0x17e15f(0x689),0x2:_0x17e15f(0x41b),0x3:_0x17e15f(0x2f4),0x4:_0x17e15f(0x43a),0x5:_0x17e15f(0x2b8)};for await(let {key:_0x145586,update:_0x1fc2ed}of _0x5b51c2){if(this['localWebhook']?.[_0x17e15f(0x1d4)]&&_0x145586[_0x17e15f(0x450)][_0x17e15f(0x23d)](_0x17e15f(0x3c5))){this[_0x17e15f(0x48c)][_0x17e15f(0x25f)](_0x17e15f(0x2bb));return;}if(_0x145586['remoteJid']!==_0x17e15f(0x6eb)){let _0x3d31d4=Date['now'](),_0x15d388;_0x1fc2ed[_0x17e15f(0x3d4)]===null&&_0x1fc2ed[_0x17e15f(0x5c1)]===void 0x0?_0x15d388='DELETED':_0x15d388=_0x504f57[_0x1fc2ed[_0x17e15f(0x5c1)]];let _0x550d35=_0x145586[_0x17e15f(0x450)]['replace'](/:\d{1,2}@/g,'@'),_0x2718f4={..._0x145586,'remoteJid':_0x550d35,'status':_0x15d388,'datetime':_0x3d31d4,'owner':this[_0x17e15f(0x300)]['wuid']};this['sendDataWebhook'](_0x17e15f(0x3f6),_0x2718f4),await this['updateMessage'](_0x145586,_0x2718f4);}}},'labels.association':async({type:_0x2a6137,association:_0xc596c2})=>{const _0x5cc580=_0x11a1c7;if(_0xc596c2['type']===_0x5cc580(0x30a))switch(_0x2a6137){case _0x5cc580(0x2a8):console['log'](_0xc596c2),await this[_0x5cc580(0x6f8)][_0x5cc580(0x463)][_0x5cc580(0x251)]({'where':{'_id':_0xc596c2['chatId']}},{'labels':_0xc596c2['labelId']},this[_0x5cc580(0x300)][_0x5cc580(0x634)],void 0x0,_0x5cc580(0x6f5));break;case _0x5cc580(0x580):console[_0x5cc580(0x30d)](_0xc596c2),await this[_0x5cc580(0x6f8)][_0x5cc580(0x463)][_0x5cc580(0x251)]({'where':{'_id':_0xc596c2[_0x5cc580(0x369)]}},{'labels':_0xc596c2[_0x5cc580(0x733)]},this[_0x5cc580(0x300)][_0x5cc580(0x634)],void 0x0,_0x5cc580(0x6fb));break;default:console['error'](_0x5cc580(0x43c)+_0x2a6137+']');}},'labels.edit':async _0x1e773c=>{const _0x52ca42=_0x11a1c7;if(!_0x1e773c||!_0x1e773c['id']){console['error'](_0x52ca42(0x3b5));return;}let _0x4319a0={'_id':_0x1e773c['id'],'color':_0x1e773c?.['color'],'name':_0x1e773c?.[_0x52ca42(0x4b9)],'owner':this[_0x52ca42(0x300)][_0x52ca42(0x634)]};await this['repository'][_0x52ca42(0x651)][_0x52ca42(0x251)]({'where':{'_id':_0x1e773c['id']}},_0x4319a0,this[_0x52ca42(0x300)]['wuid']),console[_0x52ca42(0x30d)](_0x52ca42(0x3a8),_0x1e773c),_0x1e773c['deleted']&&(await this['repository'][_0x52ca42(0x651)][_0x52ca42(0x3e0)]({'where':{'_id':_0x1e773c['id']}},this[_0x52ca42(0x300)][_0x52ca42(0x634)]),console['log'](_0x52ca42(0x53e),_0x1e773c['id']));}},this[_0x11a1c7(0x160)]={'groups.upsert':_0x5c1075=>{const _0x1bb4e9=_0x11a1c7;this[_0x1bb4e9(0x6ba)]('groups.upsert',_0x5c1075);},'groups.update':_0x2785d8=>{const _0x33c22c=_0x11a1c7;this[_0x33c22c(0x6ba)]('groups.update',_0x2785d8);},'group-participants.update':_0x2ddaba=>{const _0x491b58=_0x11a1c7;this[_0x491b58(0x6ba)](_0x491b58(0x662),_0x2ddaba);}},this[_0x11a1c7(0x1a5)]=async _0x597244=>{const _0x51e979=_0x11a1c7;if(_0x597244[_0x51e979(0x3d4)]?.[_0x51e979(0x14a)]){let _0xa3ffab=await this[_0x51e979(0x2a1)](_0x597244[_0x51e979(0x3d4)][_0x51e979(0x14a)][_0x51e979(0x35d)],!0x0);if(_0xa3ffab){let _0x4b858e=_0xa3ffab['key'][_0x51e979(0x233)]?this[_0x51e979(0x300)]['wuid']+'@s.whatsapp.net':_0xa3ffab[_0x51e979(0x181)][_0x51e979(0x75b)]||_0xa3ffab[_0x51e979(0x181)][_0x51e979(0x450)],_0x3ab08c=_0xa3ffab['key']['id'],_0x100077=_0xa3ffab['message'],_0x37558c=Buffer[_0x51e979(0x228)](_0x100077[_0x51e979(0x360)][_0x51e979(0x474)][_0x51e979(0x6d4)](_0x51e979(0x540)),_0x51e979(0x540)),_0x3420fa=(0x0,y[_0x51e979(0x138)])(_0x597244[_0x51e979(0x3d4)][_0x51e979(0x14a)]['vote'],{'pollCreatorJid':_0x4b858e,'pollMsgId':_0x3ab08c,'pollEncKey':_0x37558c,'voterJid':_0x597244[_0x51e979(0x181)][_0x51e979(0x233)]?this['instance'][_0x51e979(0x634)]+_0x51e979(0x1ec):_0x597244['key'][_0x51e979(0x450)][_0x51e979(0x72e)](_0x51e979(0x2e2))?_0x597244[_0x51e979(0x181)][_0x51e979(0x75b)]:_0x597244[_0x51e979(0x181)]['remoteJid']}),_0x2733a5=[],_0x59a0f4=_0x3420fa[_0x51e979(0x4f6)][_0x51e979(0x606)](_0xed861b=>Buffer[_0x51e979(0x228)](_0xed861b)[_0x51e979(0x6d4)](_0x51e979(0x540)));for(let {optionName:_0x56abd0}of _0x100077[_0x51e979(0x1ad)]?.[_0x51e979(0x1f2)]||_0x100077[_0x51e979(0x5c3)]?.[_0x51e979(0x1f2)]||_0x100077[_0x51e979(0x275)]?.[_0x51e979(0x1f2)])_0x59a0f4['indexOf']((0x0,y[_0x51e979(0x615)])(Buffer[_0x51e979(0x228)](_0x56abd0))[_0x51e979(0x6d4)](_0x51e979(0x540)))>-0x1&&_0x2733a5[_0x51e979(0x549)](_0x56abd0);return _0x2733a5;}}return null;},this[_0x11a1c7(0x5f8)]=(_0x5114c4,_0x511c4a,_0x3f2931)=>{const _0x149d99=_0x11a1c7;try{let _0x11226e=_0x511c4a?_0x5114c4[_0x511c4a]:void 0x0,_0x806515={},_0x919b6e=null,_0x2b1518=null,_0x35b31b=null;if(_0x5114c4[_0x149d99(0x439)]?(_0x511c4a=$(_0x5114c4[_0x149d99(0x439)][_0x149d99(0x3d4)]),_0x11226e=_0x5114c4[_0x149d99(0x439)][_0x149d99(0x3d4)][_0x511c4a]):_0x5114c4['viewOnceMessageV2Extension']?(_0x511c4a=$(_0x5114c4[_0x149d99(0x76f)][_0x149d99(0x3d4)]),_0x11226e=_0x5114c4[_0x149d99(0x76f)][_0x149d99(0x3d4)][_0x511c4a]):_0x5114c4[_0x149d99(0x502)]?(_0x511c4a=$(_0x5114c4[_0x149d99(0x502)][_0x149d99(0x3d4)]),_0x11226e=_0x5114c4[_0x149d99(0x502)][_0x149d99(0x3d4)][_0x511c4a]):_0x5114c4['ephemeralMessage']?(_0x511c4a=$(_0x5114c4['message'][_0x149d99(0x427)][_0x149d99(0x3d4)]),_0x11226e=_0x5114c4[_0x149d99(0x3d4)][_0x149d99(0x427)][_0x149d99(0x3d4)][_0x511c4a]):_0x5114c4[_0x149d99(0x754)]?.['message']?.['protocolMessage']?.[_0x149d99(0x754)]?(_0x511c4a=$(_0x5114c4[_0x149d99(0x754)]['message'][_0x149d99(0x17a)][_0x149d99(0x754)]),_0x919b6e=_0x5114c4[_0x149d99(0x754)][_0x149d99(0x3d4)][_0x149d99(0x17a)]['key']['id'],_0x11226e=_0x5114c4[_0x149d99(0x754)][_0x149d99(0x3d4)][_0x149d99(0x17a)][_0x149d99(0x754)][_0x511c4a]):_0x11226e=_0x5114c4[_0x511c4a],!_0x511c4a||!_0x11226e)return console[_0x149d99(0x22d)](_0x149d99(0x679),_0x5114c4),{'messageType':_0x511c4a,'messageContent':_0x11226e,'message_normalized':{}};_0x5114c4[_0x511c4a]?.['contextInfo']?.['stanzaId']&&_0x5114c4[_0x511c4a]?.[_0x149d99(0x5b1)]?.['quotedMessage']&&(_0x2b1518=_0x5114c4[_0x511c4a][_0x149d99(0x5b1)][_0x149d99(0x725)]),_0x5114c4[_0x149d99(0x701)]&&(_0x35b31b=_0x5114c4['reactionMessage'][_0x149d99(0x181)]['id']);let _0x2fe114;if(_0x11226e&&typeof _0x11226e=='object'&&_0x149d99(0x35d)in _0x11226e&&({pollCreationMessageKey:_0x2fe114}=_0x11226e),_0x511c4a===_0x149d99(0x3b8)){let _0x368b3a=_0x11226e?.[_0x149d99(0x3d4)]?.[_0x149d99(0x5e0)];_0x368b3a&&(_0x11226e=_0x368b3a);}if(_0x511c4a===_0x149d99(0x1ad)||_0x511c4a===_0x149d99(0x275)||_0x511c4a===_0x149d99(0x5c3)){let _0x18d67c=_0x11226e[_0x149d99(0x1f2)][_0x149d99(0x606)](_0x1f0474=>_0x1f0474[_0x149d99(0x6f1)])[_0x149d99(0x535)]('|');_0x806515['convertedOptions']=_0x18d67c;}let _0x46d7a4=_0x11226e[_0x149d99(0x4b9)]||_0x11226e[_0x149d99(0x3d8)]||_0x11226e[_0x149d99(0x27a)]||_0x11226e[_0x149d99(0x64f)];if(_0x511c4a===_0x149d99(0x69f)){_0x46d7a4=(_0x11226e[_0x149d99(0x402)]||'')+'\x0a'+(_0x11226e[_0x149d99(0x2ce)]||'')+'\x0a'+(_0x11226e[_0x149d99(0x5ed)]||'');let _0x55f681=this[_0x149d99(0x4b1)](_0x11226e['sections']);_0x806515[_0x149d99(0x4d7)]=_0x55f681;}if(_0x511c4a===_0x149d99(0x42d)&&(_0x3f2931=_0x11226e[_0x149d99(0x402)]),_0x11226e['vcard']){let _0x59a6ba=this['formatVCard'](JSON['stringify'](_0x11226e[_0x149d99(0x4a0)],null,0x2));_0x46d7a4=_0x46d7a4+'\x0a'+_0x59a6ba;}if(_0x11226e){let {sections:_0x4316ef,listType:_0x4d3198,displayName:_0x5330dd,vcard:_0x4192d9,contactVcard:_0x258ec3,name:_0x51cd2e,caption:_0x2ea21a,conversation:_0x3c66df,pollCreationMessageKey:_0x56b87c,footerText:_0x349dc7,contentText:_0x154312,pageCount:_0x37c873,headerType:_0x38a7ee,isAvatar:_0x2967bf,isAnimated:_0x33a400,fallbackLc:_0x3ef797,fallbackLg:_0x1f5cdc,namespace:_0x469555,elementName:_0x49d030,localizableParams:_0x4c41ce,viewOnce:_0x5d3528,height:_0x451a53,width:_0x471e4a,key:_0x486505,firstScanLength:_0xe1954,firstScanSidecar:_0x16291a,gifPlayback:_0x42c5a2,gifAttribution:_0x4d5262,midQualityFileSha256:_0x5b6256,scansSidecar:_0x4342b3,streamingSidecar:_0x2ee220,thumbnailHeight:_0x444263,thumbnailWidth:_0x1bdbd7,thumbnailEncSha256:_0x17060c,thumbnailDirectPath:_0x35dd76,canonicalUrl:_0x5af83e,matchedText:_0x58c7a4,previewType:_0x50191e,thumbnailSha256:_0x26f8a1,deviceListMetadataVersion:_0x44d59c,inviteLinkGroupTypeV2:_0x435cdd,interactiveAnnotations:_0x341dc8,scanLengths:_0x5a66a1,jpegThumbnail:_0x422bb3,url:_0x421aab,mediaKeyTimestamp:_0x55b581,waveform:_0x5bb04a,stickerSentTs:_0x4a173a,firstFrameLength:_0x19471a,fileEncSha256:_0x8ec20,contextInfo:_0x2585c9,firstFrameSidecar:_0x15b328,directPath:_0x219bd4,fileSha256:_0x1f7fc0,mediaKey:_0x233814,senderTimestampMs:_0x16d479,..._0xe6b26b}=_0x11226e;(_0x511c4a===_0x149d99(0x69f)||_0x511c4a===_0x149d99(0x42d))&&(delete _0xe6b26b[_0x149d99(0x402)],delete _0xe6b26b[_0x149d99(0x2ce)]),typeof _0x11226e=='string'?_0x806515={'text':_0x11226e,'type':_0x511c4a||_0x149d99(0x27a),..._0x919b6e&&{'edited':_0x919b6e},..._0x2b1518&&{'quoted':_0x2b1518},..._0x35b31b&&{'reaction':_0x35b31b}}:_0x806515={'text':_0x46d7a4,..._0xe6b26b,..._0x511c4a===_0x149d99(0x14a)?{'poll_id':_0x11226e[_0x149d99(0x35d)]['id'],'quoted':_0x11226e[_0x149d99(0x35d)]['id'],'vote':_0x3f2931}:{},..._0x511c4a==='listResponseMessage'?{'vote':_0x3f2931}:{},'type':_0x511c4a,..._0x919b6e&&{'edited':_0x919b6e},..._0x2b1518&&{'quoted':_0x2b1518},..._0x35b31b&&{'reaction':_0x35b31b},...(_0x511c4a===_0x149d99(0x1ad)||_0x511c4a==='pollCreationMessageV2'||_0x511c4a===_0x149d99(0x5c3)||_0x511c4a===_0x149d99(0x69f))&&{'convertedOptions':_0x806515[_0x149d99(0x4d7)]}};}return{'messageType':_0x511c4a,'messageContent':_0x11226e,'message_normalized':_0x806515};}catch(_0x38d04e){console[_0x149d99(0x22d)](_0x149d99(0x65f),_0x38d04e);}},this['processingScheduleMessageId']=null,this['lastSend']=0x0,this[_0x11a1c7(0x462)]=null,(this[_0x11a1c7(0x56b)](),this[_0x11a1c7(0x300)][_0x11a1c7(0x6ad)]={'count':0x0});}set['instanceName'](_0x90331f){const _0x5e5b2e=a0_0x10d060;if(!_0x90331f){this[_0x5e5b2e(0x300)][_0x5e5b2e(0x4b9)]=(0x0,hr['v4'])();return;}this[_0x5e5b2e(0x300)][_0x5e5b2e(0x4b9)]=_0x90331f,this[_0x5e5b2e(0x6ba)](_0x5e5b2e(0x4c6),{'instance':this[_0x5e5b2e(0x300)][_0x5e5b2e(0x4b9)],'status':_0x5e5b2e(0x29a)});}get['instanceName'](){const _0x5a751e=a0_0x10d060;return this[_0x5a751e(0x300)][_0x5a751e(0x4b9)];}get[a0_0x10d060(0x634)](){const _0x115b37=a0_0x10d060;return this[_0x115b37(0x300)]['wuid'];}async[a0_0x10d060(0x271)](){const _0x3cbdc1=a0_0x10d060;let _0x52ec58=this['client'][_0x3cbdc1(0x5a6)]?.[_0x3cbdc1(0x4b9)]??this['client'][_0x3cbdc1(0x5a6)]?.[_0x3cbdc1(0x625)];if(!_0x52ec58){if(this[_0x3cbdc1(0x401)][_0x3cbdc1(0x5a9)](_0x3cbdc1(0x569))['ENABLED']){let _0x394f9e=await N[_0x3cbdc1(0x1fd)]()['db'](this['configService']['get'](_0x3cbdc1(0x569))['CONNECTION']['DB_PREFIX_NAME']+_0x3cbdc1(0x5d0))[_0x3cbdc1(0x711)](this[_0x3cbdc1(0x566)])[_0x3cbdc1(0x198)]({'_id':_0x3cbdc1(0x53d)});if(_0x394f9e){let _0x403592=JSON[_0x3cbdc1(0x4b3)](JSON[_0x3cbdc1(0x49d)](_0x394f9e),y['BufferJSON'][_0x3cbdc1(0x4bb)]);_0x52ec58=_0x403592['me']?.[_0x3cbdc1(0x4b9)]||_0x403592['me']?.['verifiedName'];}}else{if((0x0,ve['existsSync'])((0x0,U[_0x3cbdc1(0x535)])(me,this[_0x3cbdc1(0x566)],_0x3cbdc1(0x34a)))){let _0x5147cc=JSON['parse']((0x0,ve[_0x3cbdc1(0x2ed)])((0x0,U[_0x3cbdc1(0x535)])(me,this[_0x3cbdc1(0x566)],_0x3cbdc1(0x34a)),{'encoding':'utf-8'}));_0x52ec58=_0x5147cc['me']?.[_0x3cbdc1(0x4b9)]||_0x5147cc['me']?.['verifiedName'];}}}return _0x52ec58;}get[a0_0x10d060(0x505)](){const _0x3db64b=a0_0x10d060;return this[_0x3db64b(0x300)][_0x3db64b(0x505)];}get[a0_0x10d060(0x6d7)](){const _0x2daf79=a0_0x10d060;return{'pairingCode':this[_0x2daf79(0x300)][_0x2daf79(0x6ad)]?.[_0x2daf79(0x167)],'code':this[_0x2daf79(0x300)][_0x2daf79(0x6ad)]?.['code'],'base64':this['instance'][_0x2daf79(0x6ad)]?.[_0x2daf79(0x2a2)]};}async['loadWebhook'](){const _0x132dfb=a0_0x10d060;let _0x2c8c40=await this['repository'][_0x132dfb(0x426)][_0x132dfb(0x5aa)](this[_0x132dfb(0x566)]);this[_0x132dfb(0x2c5)][_0x132dfb(0x1c5)]=_0x2c8c40?.['url'],this[_0x132dfb(0x2c5)][_0x132dfb(0x641)]=_0x2c8c40?.[_0x132dfb(0x641)],this['localWebhook']['local_map']=_0x2c8c40?.['local_map'],this[_0x132dfb(0x2c5)]['STATUS_INSTANCE']=_0x2c8c40?.['STATUS_INSTANCE'],this[_0x132dfb(0x2c5)][_0x132dfb(0x177)]=_0x2c8c40?.['QRCODE_UPDATED'],this[_0x132dfb(0x2c5)][_0x132dfb(0x1b9)]=_0x2c8c40?.[_0x132dfb(0x1b9)],this[_0x132dfb(0x2c5)]['MESSAGES_UPSERT']=_0x2c8c40?.['MESSAGES_UPSERT'],this[_0x132dfb(0x2c5)]['MESSAGES_UPDATE']=_0x2c8c40?.[_0x132dfb(0x637)],this['localWebhook'][_0x132dfb(0x1aa)]=_0x2c8c40?.[_0x132dfb(0x1aa)],this['localWebhook'][_0x132dfb(0x2d1)]=_0x2c8c40?.[_0x132dfb(0x2d1)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x2c8c40?.[_0x132dfb(0x133)],this[_0x132dfb(0x2c5)][_0x132dfb(0x2c9)]=_0x2c8c40?.['CHATS_SET'],this[_0x132dfb(0x2c5)]['CHATS_UPSERT']=_0x2c8c40?.[_0x132dfb(0x170)],this[_0x132dfb(0x2c5)]['CHATS_UPDATE']=_0x2c8c40?.[_0x132dfb(0x383)],this[_0x132dfb(0x2c5)][_0x132dfb(0x699)]=_0x2c8c40?.[_0x132dfb(0x699)],this[_0x132dfb(0x2c5)]['CONTACTS_SET']=_0x2c8c40?.[_0x132dfb(0x70f)],this[_0x132dfb(0x2c5)][_0x132dfb(0x266)]=_0x2c8c40?.[_0x132dfb(0x266)],this[_0x132dfb(0x2c5)][_0x132dfb(0x209)]=_0x2c8c40?.[_0x132dfb(0x209)],this['localWebhook'][_0x132dfb(0x2d4)]=_0x2c8c40?.[_0x132dfb(0x2d4)],this[_0x132dfb(0x2c5)]['MESSAGES_SET']=_0x2c8c40?.[_0x132dfb(0x5c9)],this[_0x132dfb(0x2c5)]['CONNECTION_UPDATE']=_0x2c8c40?.[_0x132dfb(0x1b0)],this[_0x132dfb(0x2c5)]['groups_ignore']=_0x2c8c40?.[_0x132dfb(0x1d4)];}async['setWebhook'](_0x3165ba){const _0x58c2b7=a0_0x10d060;let _0x4aa282=[_0x58c2b7(0x372),_0x58c2b7(0x1c5),'enabled',_0x58c2b7(0x734),_0x58c2b7(0x26d),_0x58c2b7(0x177),_0x58c2b7(0x637),_0x58c2b7(0x5ce),'SEND_MESSAGE',_0x58c2b7(0x1aa),_0x58c2b7(0x2d1),_0x58c2b7(0x133),'CHATS_SET',_0x58c2b7(0x170),_0x58c2b7(0x383),_0x58c2b7(0x699),'CONTACTS_SET','CONTACTS_UPSERT',_0x58c2b7(0x209),_0x58c2b7(0x2d4),_0x58c2b7(0x5c9),_0x58c2b7(0x1b0),'groups_ignore'],_0x376153={};return _0x4aa282['forEach'](_0x215040=>{_0x3165ba[_0x215040]!==void 0x0&&(_0x376153[_0x215040]=_0x3165ba[_0x215040]);}),await this[_0x58c2b7(0x6f8)][_0x58c2b7(0x426)][_0x58c2b7(0x2ec)](_0x376153,this[_0x58c2b7(0x566)]),Object[_0x58c2b7(0x6af)](this[_0x58c2b7(0x2c5)],_0x376153),await this['repository'][_0x58c2b7(0x426)][_0x58c2b7(0x5aa)](this[_0x58c2b7(0x566)]);}async[a0_0x10d060(0x49c)](){const _0x30fc93=a0_0x10d060;return await this[_0x30fc93(0x6f8)][_0x30fc93(0x426)][_0x30fc93(0x5aa)](this[_0x30fc93(0x566)]);}async['sendDataWebhook'](_0x58b3d0,_0x38f60c){const _0x2d1f23=a0_0x10d060;let _0x2337d0=_0x58b3d0[_0x2d1f23(0x63c)](/[\.-]/gm,'_')['toUpperCase'](),_0x37fedb=this[_0x2d1f23(0x2c5)]['enabled']&&(0x0,k[_0x2d1f23(0x53a)])(this['localWebhook'][_0x2d1f23(0x1c5)])?this[_0x2d1f23(0x2c5)][_0x2d1f23(0x1c5)]+(this['localWebhook'][_0x2d1f23(0x734)]?this[_0x2d1f23(0x6cd)][_0x58b3d0]:''):null,_0x413d34=this[_0x2d1f23(0x2c5)][_0x2337d0],_0x1d9d62=oe&&oe[_0x2d1f23(0x641)]&&(0x0,k[_0x2d1f23(0x53a)])(oe[_0x2d1f23(0x1c5)])?oe[_0x2d1f23(0x1c5)]+(oe[_0x2d1f23(0x734)]?this['webhookMap'][_0x58b3d0]:''):null,_0x2d837f=oe?oe[_0x2337d0]:null;if(_0x413d34&&_0x37fedb)try{await se[_0x2d1f23(0x6bb)][_0x2d1f23(0x2ec)]({'baseURL':_0x37fedb})[_0x2d1f23(0x308)]('',{'event':_0x58b3d0,'instance':this[_0x2d1f23(0x300)][_0x2d1f23(0x4b9)],'data':_0x38f60c}),this['logger'][_0x2d1f23(0x30d)](_0x2d1f23(0x253)+_0x58b3d0+':\x20'+_0x37fedb);}catch(_0x3dc3cb){this[_0x2d1f23(0x48c)][_0x2d1f23(0x22d)](this[_0x2d1f23(0x566)]+'\x20('+this[_0x2d1f23(0x300)][_0x2d1f23(0x634)]+'):\x20'+{'local':c[_0x2d1f23(0x4b9)]+_0x2d1f23(0x36b),'message':_0x3dc3cb?.['message'],'hostName':_0x3dc3cb?.[_0x2d1f23(0x441)],'syscall':_0x3dc3cb?.[_0x2d1f23(0x1c8)],'code':_0x3dc3cb?.[_0x2d1f23(0x265)],'error':_0x3dc3cb?.[_0x2d1f23(0x293)],'stack':_0x3dc3cb?.[_0x2d1f23(0x59f)],'name':_0x3dc3cb?.[_0x2d1f23(0x4b9)]});}if(_0x2d837f&&_0x1d9d62)try{await se[_0x2d1f23(0x6bb)][_0x2d1f23(0x2ec)]({'baseURL':_0x1d9d62})[_0x2d1f23(0x308)]('',{'event':_0x58b3d0,'instance':this[_0x2d1f23(0x300)][_0x2d1f23(0x4b9)],'data':_0x38f60c}),this['logger'][_0x2d1f23(0x30d)](_0x2d1f23(0x13a)+_0x58b3d0+':\x20'+_0x1d9d62);}catch(_0x447e1d){this['logger'][_0x2d1f23(0x22d)](this[_0x2d1f23(0x566)]+'\x20('+this['instance'][_0x2d1f23(0x634)]+'):\x20'+{'local':c[_0x2d1f23(0x4b9)]+'.sendDataWebhook-global','message':_0x447e1d?.['message'],'hostName':_0x447e1d?.[_0x2d1f23(0x441)],'syscall':_0x447e1d?.[_0x2d1f23(0x1c8)],'code':_0x447e1d?.[_0x2d1f23(0x265)],'error':_0x447e1d?.[_0x2d1f23(0x293)],'stack':_0x447e1d?.[_0x2d1f23(0x59f)],'name':_0x447e1d?.[_0x2d1f23(0x4b9)]});}}async[a0_0x10d060(0x1f3)]({qr:_0x469547,connection:_0x2bc765,lastDisconnect:_0x36962d}){const _0x1cf12f=a0_0x10d060;if(_0x469547){if(this[_0x1cf12f(0x300)]['qrcode'][_0x1cf12f(0x375)]===mo)return this[_0x1cf12f(0x6ba)](_0x1cf12f(0x182),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':y[_0x1cf12f(0x628)]['badSession']}),this[_0x1cf12f(0x50a)]={'state':'refused','statusReason':y[_0x1cf12f(0x628)][_0x1cf12f(0x763)]},this[_0x1cf12f(0x6ba)]('connection.update',{'instance':this['instance'][_0x1cf12f(0x4b9)],...this['stateConnection']}),this['sendDataWebhook'](_0x1cf12f(0x4c6),{'instance':this['instance'][_0x1cf12f(0x4b9)],'status':_0x1cf12f(0x32c)}),this['repository'][_0x1cf12f(0x51f)][_0x1cf12f(0x2ec)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1cf12f(0x27f)]()},this['instance'][_0x1cf12f(0x4b9)]),this[_0x1cf12f(0x688)]=!0x0,this[_0x1cf12f(0x343)][_0x1cf12f(0x719)](_0x1cf12f(0x3a6),this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)]);this['instance'][_0x1cf12f(0x6ad)][_0x1cf12f(0x375)]++;let _0xca7ac7={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1cf12f(0x380),'dark':_0x1cf12f(0x471)}};fr['default'][_0x1cf12f(0x630)](_0x469547,_0xca7ac7,(_0x44b1da,_0xd763e5)=>{const _0x5eaf86=_0x1cf12f;if(_0x44b1da){this[_0x5eaf86(0x48c)][_0x5eaf86(0x22d)](this[_0x5eaf86(0x566)]+'\x20('+this[_0x5eaf86(0x300)]['wuid']+_0x5eaf86(0x4a9)+(_0x44b1da instanceof Error?_0x44b1da[_0x5eaf86(0x3d4)]:JSON['stringify'](_0x44b1da,null,0x2)));return;}this[_0x5eaf86(0x300)][_0x5eaf86(0x6ad)][_0x5eaf86(0x2a2)]=_0xd763e5,this[_0x5eaf86(0x300)][_0x5eaf86(0x6ad)][_0x5eaf86(0x265)]=_0x469547,this[_0x5eaf86(0x6ba)](_0x5eaf86(0x182),{'qrcode':{'instance':this[_0x5eaf86(0x300)]['name'],'pairingCode':this[_0x5eaf86(0x300)][_0x5eaf86(0x6ad)]['pairingCode'],'code':_0x469547,'base64':_0xd763e5}});}),this['phoneNumber']?this[_0x1cf12f(0x300)][_0x1cf12f(0x6ad)][_0x1cf12f(0x167)]=await this[_0x1cf12f(0x18c)][_0x1cf12f(0x3ba)](this['phoneNumber']):this[_0x1cf12f(0x300)][_0x1cf12f(0x6ad)][_0x1cf12f(0x167)]=null,yr[_0x1cf12f(0x6bb)][_0x1cf12f(0x136)](_0x469547,{'small':!0x0},_0x592708=>this['logger']['log']('\x0a{\x20instance:\x20'+this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)]+',\x20qrcodeCount:\x20'+this[_0x1cf12f(0x300)][_0x1cf12f(0x6ad)]['count']+_0x1cf12f(0x394)+this['instance']['qrcode'][_0x1cf12f(0x167)]+_0x1cf12f(0x420)+_0x592708));}if(_0x2bc765&&(this['stateConnection']={'state':_0x2bc765,'statusReason':_0x36962d?.[_0x1cf12f(0x22d)]?.[_0x1cf12f(0x248)]?.[_0x1cf12f(0x3f5)]??0xc8},this[_0x1cf12f(0x6ba)](_0x1cf12f(0x446),{'instance':this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)],...this[_0x1cf12f(0x50a)]})),_0x2bc765==='close'){if(this[_0x1cf12f(0x56a)]++,this[_0x1cf12f(0x680)][_0x1cf12f(0x549)](Date[_0x1cf12f(0x27f)]()),this['reconnectTimestamps']=this[_0x1cf12f(0x680)]['filter'](_0x269ffc=>Date[_0x1cf12f(0x27f)]()-_0x269ffc<this[_0x1cf12f(0x189)]),_0x36962d[_0x1cf12f(0x22d)]?.[_0x1cf12f(0x248)]?.[_0x1cf12f(0x3f5)]!==y[_0x1cf12f(0x628)][_0x1cf12f(0x1db)]&&this['reconnectTimestamps']['length']<=this[_0x1cf12f(0x13b)])await this['connectToWhatsapp']();else{this['sendDataWebhook'](_0x1cf12f(0x4c6),{'instance':this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)],'status':'removed'}),this[_0x1cf12f(0x44a)]=!0x1,this[_0x1cf12f(0x6f8)][_0x1cf12f(0x426)]['delete'](this[_0x1cf12f(0x566)]),this[_0x1cf12f(0x6f8)][_0x1cf12f(0x51f)][_0x1cf12f(0x2ec)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1cf12f(0x27f)]()},this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)]);try{this['logger'][_0x1cf12f(0x25f)](this[_0x1cf12f(0x566)]+'\x20('+this[_0x1cf12f(0x300)][_0x1cf12f(0x634)]+_0x1cf12f(0x2e6));let _0xc9b192=await this[_0x1cf12f(0x6f8)]['message']['deleteAll'](this[_0x1cf12f(0x300)][_0x1cf12f(0x634)]);_0xc9b192[_0x1cf12f(0x72b)]?this['logger'][_0x1cf12f(0x25f)](this[_0x1cf12f(0x566)]+'\x20('+this[_0x1cf12f(0x300)][_0x1cf12f(0x634)]+_0x1cf12f(0x168)):console['error'](_0x1cf12f(0x42a),_0xc9b192[_0x1cf12f(0x22d)]);}catch(_0x445778){console[_0x1cf12f(0x22d)](_0x1cf12f(0x512),_0x445778);}this[_0x1cf12f(0x222)]!==null&&(this[_0x1cf12f(0x48c)][_0x1cf12f(0x25f)](this[_0x1cf12f(0x566)]+'\x20('+this[_0x1cf12f(0x300)]['wuid']+_0x1cf12f(0x55d)),clearInterval(this[_0x1cf12f(0x222)]),this['delayMessage']=null),this[_0x1cf12f(0x48c)]['verbose'](this[_0x1cf12f(0x566)]+'\x20('+this[_0x1cf12f(0x300)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x1cf12f(0x667)]=null,this[_0x1cf12f(0x343)][_0x1cf12f(0x719)](_0x1cf12f(0x6c2),this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)],_0x1cf12f(0x73b)),this['client']?.['ws']?.[_0x1cf12f(0x68a)](),this['client'][_0x1cf12f(0x6c6)](new Error('Close\x20connection'));}}if(_0x2bc765===_0x1cf12f(0x17f)){this['resetReconnectionVariables'],this[_0x1cf12f(0x300)][_0x1cf12f(0x634)]=this[_0x1cf12f(0x18c)][_0x1cf12f(0x5a6)]['id'][_0x1cf12f(0x63c)](/:\d+/,'')[_0x1cf12f(0x63c)](_0x1cf12f(0x1ec),''),this[_0x1cf12f(0x300)][_0x1cf12f(0x505)]=(await this[_0x1cf12f(0x348)](this[_0x1cf12f(0x300)][_0x1cf12f(0x634)]+_0x1cf12f(0x1ec)))['profilePictureUrl'],this['repository'][_0x1cf12f(0x51f)][_0x1cf12f(0x2ec)]({'online':!0x0,'owner':this[_0x1cf12f(0x300)][_0x1cf12f(0x634)],'lastDisconnect':null},this['instance'][_0x1cf12f(0x4b9)]);let _0x20289e=_0x1cf12f(0x66e)+this[_0x1cf12f(0x300)][_0x1cf12f(0x634)],_0x3d60a7=0x28,_0x12363e=Math[_0x1cf12f(0x19b)]((_0x3d60a7-_0x20289e[_0x1cf12f(0x31a)])/0x2),_0x316e7d='\x20'[_0x1cf12f(0x486)](_0x12363e),_0x5ecd10='CONECTADO\x20À\x20UAZAPI',_0x3b1926=_0x1cf12f(0x240)+this[_0x1cf12f(0x300)][_0x1cf12f(0x4b9)],_0xc59546=(''+_0x316e7d+_0x20289e+_0x316e7d)[_0x1cf12f(0x528)](_0x3d60a7,'\x20'),_0x487d93=(''+_0x316e7d+_0x5ecd10+_0x316e7d)[_0x1cf12f(0x528)](_0x3d60a7,'\x20'),_0x2a5492=(''+_0x316e7d+_0x3b1926+_0x316e7d)['padEnd'](_0x3d60a7,'\x20'),_0x51b198=Math[_0x1cf12f(0x510)](_0xc59546[_0x1cf12f(0x31a)],_0x487d93[_0x1cf12f(0x31a)],_0x2a5492[_0x1cf12f(0x31a)]),_0xba2e86=_0xc59546[_0x1cf12f(0x528)](_0x51b198,'\x20'),_0x207e66=_0x487d93[_0x1cf12f(0x528)](_0x51b198,'\x20'),_0x59e512=_0x2a5492[_0x1cf12f(0x528)](_0x51b198,'\x20');this[_0x1cf12f(0x48c)][_0x1cf12f(0x327)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x1cf12f(0x486)](_0x51b198)+_0x1cf12f(0x16b)+_0x207e66+_0x1cf12f(0x67f)+_0x59e512+_0x1cf12f(0x67f)+_0xba2e86+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x51b198)+'┘')[_0x1cf12f(0x63c)](/^ +/gm,'\x20\x20')),this[_0x1cf12f(0x5f5)](),this[_0x1cf12f(0x44a)]=!0x0;}}[a0_0x10d060(0x661)](){const _0x340803=a0_0x10d060;this[_0x340803(0x56a)]=0x0,this[_0x340803(0x680)]=[];}async[a0_0x10d060(0x2a1)](_0x412ccf,_0x4684d1=!0x1){const _0x10972c=a0_0x10d060;try{let _0x371860=await this['repository'][_0x10972c(0x3d4)][_0x10972c(0x5aa)]({'where':{'_id':_0x412ccf['id']}},this[_0x10972c(0x300)][_0x10972c(0x634)]);return _0x4684d1?_0x371860[0x0]:_0x371860[0x0][_0x10972c(0x3d4)];}catch{return{'conversation':''};}}[a0_0x10d060(0x56b)](){const _0x5911a4=a0_0x10d060;let _0x27d1fe=this[_0x5911a4(0x401)][_0x5911a4(0x5a9)](_0x5911a4(0x17c)),_0x242905=this['configService'][_0x5911a4(0x5a9)](_0x5911a4(0x569));_0x27d1fe?.[_0x5911a4(0x347)]&&!_0x242905['ENABLED']&&setInterval(()=>{const _0x51c826=_0x5911a4;try{for(let [_0x2b90ef,_0x10b8ce]of Object['entries'](_0x27d1fe))_0x10b8ce===!0x0&&(0x0,Dt[_0x51c826(0x457)])(_0x51c826(0x2eb)+(0x0,U[_0x51c826(0x535)])(this[_0x51c826(0x32e)],_0x2b90ef['toLowerCase'](),this[_0x51c826(0x300)][_0x51c826(0x634)])+_0x51c826(0x724));}catch{}},(_0x27d1fe?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x10d060(0x4ea)](){const _0x47fbc0=a0_0x10d060;let _0x2aec31=this[_0x47fbc0(0x401)]['get'](_0x47fbc0(0x569)),_0x378413=this[_0x47fbc0(0x401)]['get']('REDIS');return _0x378413?.[_0x47fbc0(0x1f8)]?await ys(_0x378413,this[_0x47fbc0(0x300)][_0x47fbc0(0x4b9)]):_0x2aec31[_0x47fbc0(0x1f8)]?await fs(this['instance']['name']):await(0x0,y['useMultiFileAuthState'])((0x0,U[_0x47fbc0(0x535)])(me,this[_0x47fbc0(0x300)][_0x47fbc0(0x4b9)]));}async[a0_0x10d060(0x5f5)](){const _0x2c647e=a0_0x10d060;let _0x202ea4=()=>Math['floor'](Math[_0x2c647e(0x201)]()*0x2711)+0x7d0,_0x191429=async()=>{const _0x1f2f46=_0x2c647e;if(!this[_0x1f2f46(0x44a)]){this['logger']['verbose'](_0x1f2f46(0x16e)),this[_0x1f2f46(0x1fa)]=!0x1;return;}if(this[_0x1f2f46(0x300)][_0x1f2f46(0x634)]&&this[_0x1f2f46(0x667)]&&this[_0x1f2f46(0x222)]!==null&&this[_0x1f2f46(0x222)]!==void 0x0){let _0x49044e=Math[_0x1f2f46(0x2d0)](this[_0x1f2f46(0x222)]/0xea60);this[_0x1f2f46(0x48c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1f2f46(0x634)]+_0x1f2f46(0x179)+_0x49044e+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x1f2f46(0x1fa)]=!0x1;return;}else this[_0x1f2f46(0x300)][_0x1f2f46(0x634)]&&(this[_0x1f2f46(0x48c)][_0x1f2f46(0x25f)](this[_0x1f2f46(0x566)]+'\x20('+this[_0x1f2f46(0x300)][_0x1f2f46(0x634)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x1f2f46(0x48c)]['verbose'](this[_0x1f2f46(0x566)]+'\x20('+this[_0x1f2f46(0x300)][_0x1f2f46(0x634)]+_0x1f2f46(0x3d6)),this['AutomateSystem']||await this[_0x1f2f46(0x547)](),(this[_0x1f2f46(0x222)]===null||this['delayMessage']===void 0x0)&&await this[_0x1f2f46(0x62a)]());if(this['isRunning']){let _0x26dbe2=_0x202ea4();this['logger'][_0x1f2f46(0x25f)](this[_0x1f2f46(0x566)]+_0x1f2f46(0x16a)+_0x26dbe2/0x3e8+'\x20segundos'),setTimeout(_0x191429,_0x26dbe2);}};if(this[_0x2c647e(0x1fa)])return;this[_0x2c647e(0x1fa)]=!0x0;let _0xc22d9a=_0x202ea4();setTimeout(_0x191429,_0xc22d9a);}async['testProxy'](_0x6e8835,_0xa5a603,_0x5c3276,_0x2d0c11,_0x1e7ed4){const _0x1ac0c7=a0_0x10d060;this[_0x1ac0c7(0x48c)]['verbose']('requested\x20testProxy');try{let _0x54149b={'host':_0x6e8835,'port':parseInt(_0xa5a603),'protocol':_0x5c3276};_0x2d0c11&&_0x1e7ed4&&(_0x54149b={..._0x54149b,'auth':{'username':_0x2d0c11,'password':_0x1e7ed4}});let _0x54b3cd=[_0x1ac0c7(0x2ee),_0x1ac0c7(0x156),_0x1ac0c7(0x259)];for(let _0x3ac14f of _0x54b3cd)try{let _0x3fce10=await se[_0x1ac0c7(0x6bb)][_0x1ac0c7(0x5a9)](_0x3ac14f,{'proxy':_0x54149b}),_0x10c0ee;return _0x3ac14f[_0x1ac0c7(0x23d)]('jsonip.com')||_0x3ac14f[_0x1ac0c7(0x23d)](_0x1ac0c7(0x435))?_0x10c0ee=_0x3fce10[_0x1ac0c7(0x533)]['ip']:_0x3ac14f[_0x1ac0c7(0x23d)](_0x1ac0c7(0x315))&&(_0x10c0ee=_0x3fce10[_0x1ac0c7(0x533)][_0x1ac0c7(0x47a)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger'][_0x1ac0c7(0x25f)]('testProxy\x20response\x20from\x20'+_0x3ac14f+':\x20'+_0x10c0ee),!0x0;}catch(_0x5af4af){this[_0x1ac0c7(0x48c)][_0x1ac0c7(0x22d)](_0x1ac0c7(0x67a)+_0x3ac14f+_0x1ac0c7(0x38d)+_0x5af4af);}return!0x1;}catch(_0xc79c84){return this[_0x1ac0c7(0x48c)][_0x1ac0c7(0x22d)](_0x1ac0c7(0x338)+_0xc79c84),_0xc79c84[_0x1ac0c7(0x392)]?(this['logger'][_0x1ac0c7(0x22d)](_0x1ac0c7(0x384)+_0xc79c84[_0x1ac0c7(0x392)][_0x1ac0c7(0x533)]),this['logger'][_0x1ac0c7(0x22d)](_0x1ac0c7(0x153)+_0xc79c84[_0x1ac0c7(0x392)][_0x1ac0c7(0x5c1)]),this[_0x1ac0c7(0x48c)][_0x1ac0c7(0x22d)](_0x1ac0c7(0x57f)+_0xc79c84[_0x1ac0c7(0x392)][_0x1ac0c7(0x5c0)])):_0xc79c84['request']?this[_0x1ac0c7(0x48c)][_0x1ac0c7(0x22d)](_0x1ac0c7(0x640)+_0xc79c84['request']):this['logger'][_0x1ac0c7(0x22d)](_0x1ac0c7(0x3b0)+_0xc79c84['message']),!0x1;}}async['tryProxy'](_0x2c7d8d){const _0x3eba03=a0_0x10d060;if(console[_0x3eba03(0x30d)](_0x3eba03(0x4ab)),await this[_0x3eba03(0x192)](_0x2c7d8d['host'],_0x2c7d8d[_0x3eba03(0x2fa)],_0x2c7d8d[_0x3eba03(0x772)],_0x2c7d8d[_0x3eba03(0x2b2)],_0x2c7d8d[_0x3eba03(0x469)])){console[_0x3eba03(0x30d)](_0x3eba03(0x5c4));let _0x67dd31=_0x2c7d8d[_0x3eba03(0x772)]+'://'+_0x2c7d8d[_0x3eba03(0x668)]+':'+_0x2c7d8d[_0x3eba03(0x2fa)];return _0x2c7d8d[_0x3eba03(0x2b2)]&&_0x2c7d8d[_0x3eba03(0x469)]&&(_0x67dd31=_0x2c7d8d[_0x3eba03(0x2b2)]+':'+_0x2c7d8d[_0x3eba03(0x469)]+'@'+_0x67dd31),this[_0x3eba03(0x6f8)][_0x3eba03(0x51f)][_0x3eba03(0x2ec)]({'proxy':_0x67dd31},this[_0x3eba03(0x300)][_0x3eba03(0x4b9)]),{'agent':new wr[(_0x3eba03(0x262))](_0x67dd31)};}return null;}['createProxyConfig'](_0x23d342){const _0x55c4b8=a0_0x10d060;let _0x542e3c=_0x23d342[_0x55c4b8(0x503)](':');if(_0x542e3c[_0x55c4b8(0x31a)]!==0x4)throw new Error(_0x55c4b8(0x5df));return{'host':_0x542e3c[0x0],'port':_0x542e3c[0x1],'username':_0x542e3c[0x2],'password':_0x542e3c[0x3],'protocol':'http'};}async['connectToWhatsapp'](_0x4cf09c,_0x568d04=!0x0){const _0x2669bc=a0_0x10d060;try{let _0x20097c={},_0x37724a=0x0;if(Sr&&_0x568d04){let _0x4b1be2;try{let _0x9077bd=(await this[_0x2669bc(0x6f8)]['auth'][_0x2669bc(0x5aa)](this[_0x2669bc(0x566)]))['proxy'];for(_0x9077bd&&(_0x4b1be2=this['createProxyConfig'](_0x9077bd)),_0x9077bd&&bs(_0x4b1be2)&&(_0x20097c=await this['tryProxy'](_0x4b1be2),_0x20097c&&_0x37724a++);!_0x20097c&&_0x37724a<0x3;){let _0x3281c5=dr();if(_0x3281c5){if(_0x4b1be2=this[_0x2669bc(0x6d3)](_0x3281c5[_0x2669bc(0x668)]+':'+_0x3281c5[_0x2669bc(0x2fa)]+':'+_0x3281c5['username']+':'+_0x3281c5['password']),bs(_0x4b1be2)){if(_0x20097c=await this[_0x2669bc(0x4ab)](_0x4b1be2),_0x20097c)break;}else this['logger']['error']('Configuração\x20de\x20proxy\x20inválida\x20gerada.');}_0x37724a++;}}catch(_0x2518eb){this[_0x2669bc(0x48c)]['error'](_0x2669bc(0x263)+_0x2518eb),_0x20097c={};}!_0x20097c&&_0x37724a>=0x3&&(this['logger']['warn']('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x20097c={});}this['loadWebhook'](),this['instance'][_0x2669bc(0x3ef)]=await this[_0x2669bc(0x4ea)]();let {version:_0x7b3529}=await(0x0,y[_0x2669bc(0x1f7)])(),_0x543660=[Cs,br,(0x0,Ss[_0x2669bc(0x752)])()];console[_0x2669bc(0x30d)](_0x2669bc(0x1f2)),console[_0x2669bc(0x30d)](_0x20097c);let _0x13c0da={..._0x20097c,'auth':{'creds':this['instance']['authState'][_0x2669bc(0x767)][_0x2669bc(0x53d)],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this['instance'][_0x2669bc(0x3ef)][_0x2669bc(0x767)][_0x2669bc(0x428)],(0x0,At[_0x2669bc(0x6bb)])({'level':_0x2669bc(0x22d)}))},'logger':(0x0,At[_0x2669bc(0x6bb)])({'level':_0x2669bc(0x22d)}),'printQRInTerminal':!0x1,'browser':_0x4cf09c?[_0x2669bc(0x57b),Cs,(0x0,Ss[_0x2669bc(0x752)])()]:_0x543660,'version':_0x7b3529,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x125046=>await this[_0x2669bc(0x2a1)](_0x125046),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2669bc(0x736)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x505086=>(_0x505086[_0x2669bc(0x69f)]?.[_0x2669bc(0x3a4)]==y[_0x2669bc(0x4de)][_0x2669bc(0x61f)][_0x2669bc(0x36a)][_0x2669bc(0x50d)][_0x2669bc(0x5e7)]&&(_0x505086=JSON[_0x2669bc(0x4b3)](JSON[_0x2669bc(0x49d)](_0x505086)),_0x505086['listMessage'][_0x2669bc(0x3a4)]=y['proto'][_0x2669bc(0x61f)]['ListMessage'][_0x2669bc(0x50d)][_0x2669bc(0x50c)]),_0x505086)};return this[_0x2669bc(0x688)]=!0x1,this[_0x2669bc(0x18c)]=(0x0,y[_0x2669bc(0x6bb)])(_0x13c0da),this[_0x2669bc(0x294)](),this[_0x2669bc(0x1df)]=_0x4cf09c,this[_0x2669bc(0x18c)];}catch(_0x2f978b){throw this[_0x2669bc(0x48c)][_0x2669bc(0x22d)](this[_0x2669bc(0x566)]+'\x20('+this[_0x2669bc(0x300)][_0x2669bc(0x634)]+_0x2669bc(0x62b)+(_0x2f978b instanceof Error?_0x2f978b[_0x2669bc(0x3d4)]:JSON[_0x2669bc(0x49d)](_0x2f978b,null,0x2))),new O(_0x2f978b?.[_0x2669bc(0x6d4)]());}}[a0_0x10d060(0x294)](){const _0x3fbd19=a0_0x10d060;this['client']['ev'][_0x3fbd19(0x57e)](_0x55c8ed=>{const _0x52cf56=_0x3fbd19;if(!this[_0x52cf56(0x688)]){let _0x1cde23=this[_0x52cf56(0x401)][_0x52cf56(0x5a9)](_0x52cf56(0x569));if(_0x55c8ed[_0x52cf56(0x1cd)]){let _0x5d207c=_0x55c8ed[_0x52cf56(0x1cd)];this[_0x52cf56(0x4e5)][_0x52cf56(0x1cd)](_0x5d207c);}if(_0x55c8ed['labels.association']){let _0x1b95fb=_0x55c8ed['labels.association'];this[_0x52cf56(0x4e5)][_0x52cf56(0x30b)](_0x1b95fb);}if(_0x55c8ed[_0x52cf56(0x446)]&&this['connectionUpdate'](_0x55c8ed[_0x52cf56(0x446)]),_0x55c8ed[_0x52cf56(0x519)]&&this[_0x52cf56(0x300)][_0x52cf56(0x3ef)][_0x52cf56(0x6b8)](),_0x55c8ed['messaging-history.set']){let _0x123060=_0x55c8ed[_0x52cf56(0x66d)];this['messageHandle']['messaging-history.set'](_0x123060,_0x1cde23);}if(_0x55c8ed[_0x52cf56(0x5d5)]){let _0x39e017=_0x55c8ed['messages.upsert'];this['messageHandle'][_0x52cf56(0x5d5)](_0x39e017,_0x1cde23);}if(_0x55c8ed[_0x52cf56(0x3f6)]){let _0x357b5a=_0x55c8ed[_0x52cf56(0x3f6)];_0x357b5a[_0x52cf56(0x311)](_0x4b5a8c=>{const _0x476b1b=_0x52cf56;if(gr[_0x4b5a8c[_0x476b1b(0x181)]['id']]){this[_0x476b1b(0x18c)]['ev'][_0x476b1b(0x719)](_0x476b1b(0x5d5),{'messages':[_0x4b5a8c],'type':_0x476b1b(0x631)}),delete gr[_0x4b5a8c[_0x476b1b(0x181)]['id']];return;}}),this[_0x52cf56(0x4e5)]['messages.update'](_0x357b5a,_0x1cde23);}if(_0x55c8ed['presence.update']){let _0x13ed2c=_0x55c8ed[_0x52cf56(0x478)];if(this['localWebhook']?.[_0x52cf56(0x1d4)]&&_0x13ed2c['id'][_0x52cf56(0x23d)](_0x52cf56(0x3c5)))return;this[_0x52cf56(0x6ba)]('presence.update',_0x13ed2c);}if(!this['localWebhook']?.[_0x52cf56(0x1d4)]){if(_0x55c8ed[_0x52cf56(0x518)]){let _0x33098e=_0x55c8ed[_0x52cf56(0x518)];this[_0x52cf56(0x160)][_0x52cf56(0x518)](_0x33098e);}if(_0x55c8ed['groups.update']){let _0x39420c=_0x55c8ed[_0x52cf56(0x63a)];this[_0x52cf56(0x160)]['groups.update'](_0x39420c);}if(_0x55c8ed['group-participants.update']){let _0xac83ea=_0x55c8ed[_0x52cf56(0x662)];this[_0x52cf56(0x160)][_0x52cf56(0x662)](_0xac83ea);}}if(_0x55c8ed[_0x52cf56(0x2dd)]){let _0x361fb2=_0x55c8ed['chats.upsert'];this['chatHandle'][_0x52cf56(0x2dd)](_0x361fb2,_0x1cde23);}if(_0x55c8ed[_0x52cf56(0x254)]){let _0x29c56e=_0x55c8ed[_0x52cf56(0x254)];this['chatHandle']['chats.update'](_0x29c56e,_0x1cde23);}if(_0x55c8ed[_0x52cf56(0x3a2)]){let _0x2a674f=_0x55c8ed['chats.delete'];this['chatHandle'][_0x52cf56(0x3a2)](_0x2a674f);}if(_0x55c8ed[_0x52cf56(0x4c4)]){let _0x2c3a82=_0x55c8ed[_0x52cf56(0x4c4)];this[_0x52cf56(0x2bd)][_0x52cf56(0x4c4)](_0x2c3a82,_0x1cde23);}if(_0x55c8ed[_0x52cf56(0x705)]){let _0x370c98=_0x55c8ed[_0x52cf56(0x705)];this['contactHandle'][_0x52cf56(0x705)](_0x370c98,_0x1cde23);}}});}[a0_0x10d060(0x4f9)](_0x3e26db){let _0x194356=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x3e26db);if(_0x194356&&_0x194356[0x1]==='55'){let _0x155e29=_0x194356[0x2],_0x3c299d=_0x194356[0x3],_0xfb1c6c=_0x194356[0x4];if(_0x155e29>='31'&&_0x3c299d==='9')return _0x194356[0x1]+_0x155e29+_0xfb1c6c;}return _0x3e26db;}[a0_0x10d060(0x373)](_0x460909){const _0x5579a8=a0_0x10d060;return _0x460909[_0x5579a8(0x23d)](_0x5579a8(0x3c5))||_0x460909[_0x5579a8(0x23d)](_0x5579a8(0x1ec))||_0x460909[_0x5579a8(0x23d)](_0x5579a8(0x69a))?_0x460909:(_0x460909=_0x460909?.[_0x5579a8(0x63c)](/\s/g,'')['replace'](/\+/g,'')[_0x5579a8(0x63c)](/\(/g,'')[_0x5579a8(0x63c)](/\)/g,'')[_0x5579a8(0x503)](/\:/)[0x0][_0x5579a8(0x503)]('@')[0x0],_0x460909[_0x5579a8(0x31a)]>=0x12?(_0x460909=_0x460909['replace'](/[^\d-]/g,''),_0x460909+_0x5579a8(0x3c5)):(_0x460909=_0x460909[_0x5579a8(0x63c)](/\D/g,''),this[_0x5579a8(0x4f9)](_0x460909)+_0x5579a8(0x1ec)));}async[a0_0x10d060(0x3fd)](_0x4485e8){const _0x390ca5=a0_0x10d060;let _0x21d455=this[_0x390ca5(0x373)](_0x4485e8['number']),_0x40d33f=(await this[_0x390ca5(0x203)]({'numbers':[_0x21d455]}))[0x0];if(!_0x40d33f[_0x390ca5(0x556)]&&!(0x0,y[_0x390ca5(0x39b)])(_0x40d33f[_0x390ca5(0x146)]))throw new m(_0x40d33f);let _0xe0a9e6=(0x0,y['isJidGroup'])(_0x21d455)?_0x21d455:_0x40d33f[_0x390ca5(0x146)];if((0x0,y[_0x390ca5(0x39b)])(_0xe0a9e6))try{await this[_0x390ca5(0x18c)][_0x390ca5(0x4f1)](_0xe0a9e6);}catch{throw new F(_0x390ca5(0x28e));}try{return await this['client'][_0x390ca5(0x54a)](_0xe0a9e6),await this[_0x390ca5(0x18c)][_0x390ca5(0x34d)](_0x4485e8[_0x390ca5(0x388)],_0x21d455),{'status':0xc8,'presence':_0x4485e8[_0x390ca5(0x388)]};}catch(_0x31a5b4){throw new m(_0x31a5b4[_0x390ca5(0x6d4)]());}}async[a0_0x10d060(0x348)](_0xdf8dcb){const _0x7ecab3=a0_0x10d060;let _0x585200=this[_0x7ecab3(0x373)](_0xdf8dcb);try{return{'wuid':_0x585200,'profilePictureUrl':await this['client'][_0x7ecab3(0x505)](_0x585200,_0x7ecab3(0x5bf))};}catch{return{'wuid':_0x585200,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x398232,_0x1fec39,_0x2e5338){const _0xff4f0d=a0_0x10d060;_0x2e5338||(_0x2e5338={});let _0x48d17c=(await this[_0xff4f0d(0x203)]({'numbers':[_0x398232]}))[0x0];if(!_0x48d17c[_0xff4f0d(0x556)]&&!(0x0,y[_0xff4f0d(0x39b)])(_0x48d17c[_0xff4f0d(0x146)])&&!_0x48d17c[_0xff4f0d(0x146)][_0xff4f0d(0x23d)](_0xff4f0d(0x69a)))throw new m(_0x48d17c);let _0xd54403=_0x48d17c[_0xff4f0d(0x146)];try{_0x2e5338?.[_0xff4f0d(0x6fe)]&&(await this[_0xff4f0d(0x18c)]['presenceSubscribe'](_0xd54403),await this['client'][_0xff4f0d(0x34d)](_0x2e5338?.[_0xff4f0d(0x388)]??'composing',_0xd54403),await(0x0,y[_0xff4f0d(0x6fe)])(_0x2e5338[_0xff4f0d(0x6fe)]),await this[_0xff4f0d(0x18c)]['sendPresenceUpdate'](_0xff4f0d(0x655),_0xd54403));let _0xb6ff96=_0x2e5338?.[_0xff4f0d(0x473)]!=!0x1?void 0x0:!0x1,_0x9d6d30;if(_0x2e5338?.[_0xff4f0d(0x66c)]){let _0x1d53a9=_0x2e5338?.['quoted'],_0x4deb1b=_0x1d53a9?.[_0xff4f0d(0x3d4)]?_0x1d53a9:await this[_0xff4f0d(0x2a1)](_0x1d53a9[_0xff4f0d(0x181)],!0x0);if(!_0x4deb1b)throw _0xff4f0d(0x15b);_0x9d6d30=_0x4deb1b;}let _0x1f3697;if((0x0,y[_0xff4f0d(0x39b)])(_0xd54403))try{let _0x2e2580=await this[_0xff4f0d(0x18c)]['groupMetadata'](_0xd54403);if(!_0x2e2580)throw new F('Group\x20not\x20found');_0x2e5338?.[_0xff4f0d(0x183)]&&(_0x2e5338[_0xff4f0d(0x183)]?.[_0xff4f0d(0x672)]?_0x1f3697=_0x2e2580['participants']['map'](_0x24bf83=>_0x24bf83['id']):_0x2e5338['mentions']?.[_0xff4f0d(0x387)]?.[_0xff4f0d(0x31a)]&&(_0x1f3697=_0x2e5338[_0xff4f0d(0x183)]['mentioned'][_0xff4f0d(0x606)](_0x35cbea=>{const _0x2729ae=_0xff4f0d;let _0x33fb6f=this['createJid'](_0x35cbea);return(0x0,y[_0x2729ae(0x39b)])(_0x33fb6f)?null:_0x33fb6f;})));}catch{throw new F(_0xff4f0d(0x28e));}let _0x2a1512=await((async()=>{const _0x1810aa=_0xff4f0d;let _0x3f8f85={'quoted':_0x9d6d30};if(!_0x1fec39[_0x1810aa(0x258)]&&!_0x1fec39[_0x1810aa(0x708)]&&!_0x1fec39['sticker']&&!_0x1fec39[_0x1810aa(0x27a)]&&_0xd54403!=='status@broadcast'&&!_0x1fec39[_0x1810aa(0x258)])return await this[_0x1810aa(0x18c)][_0x1810aa(0x1a1)](_0xd54403,{'forward':{'key':{'remoteJid':this[_0x1810aa(0x300)][_0x1810aa(0x634)],'fromMe':!0x0},'message':_0x1fec39},'mentions':_0x1f3697},_0x3f8f85);if(_0x1fec39[_0x1810aa(0x27a)]){let _0x167266=_0x1fec39[_0x1810aa(0x27a)];return _0x2e5338?.[_0x1810aa(0x576)]&&(_0x167266=await this[_0x1810aa(0x282)](_0x167266,_0xd54403)),await this[_0x1810aa(0x18c)][_0x1810aa(0x1a1)](_0xd54403,{'text':_0x167266,'mentions':_0x1f3697,'linkPreview':_0xb6ff96},_0x3f8f85);}return _0xd54403===_0x1810aa(0x6eb)?await this[_0x1810aa(0x18c)][_0x1810aa(0x1a1)](_0xd54403,_0x1fec39[_0x1810aa(0x5c1)][_0x1810aa(0x499)],{'backgroundColor':_0x1fec39[_0x1810aa(0x5c1)][_0x1810aa(0x5a2)][_0x1810aa(0x193)],'font':_0x1fec39[_0x1810aa(0x5c1)][_0x1810aa(0x5a2)]['font'],'statusJidList':_0x1fec39[_0x1810aa(0x5c1)]['option'][_0x1810aa(0x207)]}):await this[_0x1810aa(0x18c)]['sendMessage'](_0xd54403,_0x1fec39,_0x3f8f85);})()),{message_normalized:_0x30ed97}=this['normalizeMessage'](_0x2a1512[_0xff4f0d(0x3d4)],$(_0x2a1512[_0xff4f0d(0x3d4)]),null),_0x32e8ba={'_id':_0x2a1512[_0xff4f0d(0x181)]['id'],'key':_0x2a1512[_0xff4f0d(0x181)],'pushName':_0x2a1512[_0xff4f0d(0x39f)],'message':{..._0x2a1512[_0xff4f0d(0x3d4)]},'messageType':$(_0x2a1512[_0xff4f0d(0x3d4)]),'message_normalized':{'key':_0x2a1512[_0xff4f0d(0x181)],'pushName':_0x2a1512[_0xff4f0d(0x39f)],'messageTimestamp':_0x2a1512[_0xff4f0d(0x6c1)]&&_0x2a1512['messageTimestamp'][_0xff4f0d(0x6d4)]()['length']<0xd?_0x2a1512['messageTimestamp']*0x3e8:_0x2a1512[_0xff4f0d(0x6c1)]||null,'source':(0x0,y[_0xff4f0d(0x4a2)])(_0x2a1512[_0xff4f0d(0x181)]['id']),..._0x30ed97},'messageTimestamp':_0x2a1512[_0xff4f0d(0x6c1)]&&_0x2a1512[_0xff4f0d(0x6c1)][_0xff4f0d(0x6d4)]()[_0xff4f0d(0x31a)]<0xd?_0x2a1512[_0xff4f0d(0x6c1)]*0x3e8:_0x2a1512[_0xff4f0d(0x6c1)]||null,'owner':this[_0xff4f0d(0x300)][_0xff4f0d(0x634)],'source':(0x0,y[_0xff4f0d(0x4a2)])(_0x2a1512['key']['id'])};return this['logger'][_0xff4f0d(0x30d)](_0x32e8ba),this[_0xff4f0d(0x6ba)](_0xff4f0d(0x77a),_0x32e8ba),q(this[_0xff4f0d(0x566)],_0xff4f0d(0x2cc),{'message':_0x32e8ba}),this[_0xff4f0d(0x6e3)](this[_0xff4f0d(0x401)]['get'](_0xff4f0d(0x569)),_0x32e8ba,_0xff4f0d(0x1b9)),await this[_0xff4f0d(0x6f8)]['message'][_0xff4f0d(0x71b)]([_0x32e8ba],this[_0xff4f0d(0x300)][_0xff4f0d(0x634)]),_0x2a1512;}catch(_0x3342e5){throw this[_0xff4f0d(0x48c)][_0xff4f0d(0x22d)](this[_0xff4f0d(0x566)]+'\x20('+this['instance'][_0xff4f0d(0x634)]+_0xff4f0d(0x62b)+_0x3342e5[_0xff4f0d(0x6d4)]()),new m(_0x3342e5['toString']());}}get['connectionStatus'](){const _0x39ddcb=a0_0x10d060;return this[_0x39ddcb(0x50a)];}async['textMessage'](_0x597fef){const _0xb93be=a0_0x10d060;let _0x4e61c7=pr,_0x50bfca=He;return _0x50bfca&&this['instanceName'][_0xb93be(0x1d5)]()[_0xb93be(0x23d)](_0x50bfca[_0xb93be(0x1d5)]())&&(_0x597fef[_0xb93be(0x34e)][_0xb93be(0x28b)]+='\x0a\x0a'+_0x4e61c7),await this['sendMessageWithTyping'](_0x597fef[_0xb93be(0x4d0)],{'conversation':_0x597fef[_0xb93be(0x34e)][_0xb93be(0x28b)]},_0x597fef?.['options']);}async[a0_0x10d060(0x487)](_0x551d22){const _0x323fe1=a0_0x10d060;if(!_0x551d22[_0x323fe1(0x727)])throw new m(_0x323fe1(0x3d9));if(!_0x551d22[_0x323fe1(0x499)])throw new m('Content\x20is\x20required');if(_0x551d22[_0x323fe1(0x22e)]){let _0x504fbf=await this[_0x323fe1(0x6f8)][_0x323fe1(0x769)][_0x323fe1(0x5aa)]({'where':{}},this['instance'][_0x323fe1(0x634)]);if(!_0x504fbf['length'])throw new m(_0x323fe1(0x3ec));_0x551d22['statusJidList']=_0x504fbf[_0x323fe1(0x3ed)](_0x3a7f55=>_0x3a7f55[_0x323fe1(0x39f)])[_0x323fe1(0x606)](_0x5b2a7a=>_0x5b2a7a[_0x323fe1(0x372)]);}if(!_0x551d22[_0x323fe1(0x207)]?.[_0x323fe1(0x31a)]&&!_0x551d22[_0x323fe1(0x22e)])throw new m(_0x323fe1(0x3db));if(_0x551d22[_0x323fe1(0x727)]===_0x323fe1(0x28b)){if(!_0x551d22['backgroundColor'])throw new m(_0x323fe1(0x4d5));if(!_0x551d22[_0x323fe1(0x227)])throw new m(_0x323fe1(0x27e));return{'content':{'text':_0x551d22[_0x323fe1(0x499)]},'option':{'backgroundColor':_0x551d22[_0x323fe1(0x193)],'font':_0x551d22['font'],'statusJidList':_0x551d22[_0x323fe1(0x207)]}};}if(_0x551d22['type']==='image')return{'content':{'image':{'url':_0x551d22[_0x323fe1(0x499)]},'caption':_0x551d22[_0x323fe1(0x3d8)]},'option':{'statusJidList':_0x551d22[_0x323fe1(0x207)]}};if(_0x551d22['type']===_0x323fe1(0x6bc))return{'content':{'video':{'url':_0x551d22[_0x323fe1(0x499)]},'caption':_0x551d22[_0x323fe1(0x3d8)]},'option':{'statusJidList':_0x551d22[_0x323fe1(0x207)]}};if(_0x551d22['type']==='audio'){this[_0x323fe1(0x48c)]['verbose']('Type\x20defined\x20as\x20audio'),this[_0x323fe1(0x48c)][_0x323fe1(0x25f)](_0x323fe1(0x3b4));let _0x489b2c=await this[_0x323fe1(0x1d1)](_0x551d22['content']);if(typeof _0x489b2c=='string'){this[_0x323fe1(0x48c)][_0x323fe1(0x25f)]('Audio\x20processed');let _0x5937e8=L[_0x323fe1(0x2ed)](_0x489b2c)[_0x323fe1(0x6d4)](_0x323fe1(0x2a2)),_0x50263f={'content':{'audio':Buffer[_0x323fe1(0x228)](_0x5937e8,_0x323fe1(0x2a2)),'ptt':!0x0,'mimetype':_0x323fe1(0x6e7)},'option':{'statusJidList':_0x551d22['statusJidList']}};return L['unlinkSync'](_0x489b2c),_0x50263f;}else throw new O(_0x489b2c);}throw new m(_0x323fe1(0x6fd));}async['statusMessage'](_0x3214b5){const _0x228658=a0_0x10d060;return await this['sendMessageWithTyping'](_0x228658(0x6eb),{'status':await this[_0x228658(0x487)](_0x3214b5['statusMessage'])});}async[a0_0x10d060(0x4be)](_0x1e9b7b){const _0x3535d4=a0_0x10d060;try{let _0x151530=await(0x0,y['prepareWAMessageMedia'])({[_0x1e9b7b[_0x3535d4(0x52c)]]:(0x0,k[_0x3535d4(0x53a)])(_0x1e9b7b[_0x3535d4(0x241)])?{'url':_0x1e9b7b[_0x3535d4(0x241)]}:Buffer[_0x3535d4(0x228)](_0x1e9b7b[_0x3535d4(0x241)],_0x3535d4(0x2a2))},{'upload':this[_0x3535d4(0x18c)][_0x3535d4(0x416)]}),_0x1c551d=_0x1e9b7b[_0x3535d4(0x52c)]+_0x3535d4(0x61f);if(_0x1e9b7b['mediatype']===_0x3535d4(0x277)&&!_0x1e9b7b[_0x3535d4(0x4da)]){let _0x16fe5f=new RegExp(/.*\/(.+?)\./)[_0x3535d4(0x3c1)](_0x1e9b7b['media']);_0x1e9b7b[_0x3535d4(0x4da)]=_0x16fe5f?_0x16fe5f[0x1]:null;}let _0x3bf723=(0x0,k[_0x3535d4(0x53a)])(_0x1e9b7b['media'])?_0x1e9b7b[_0x3535d4(0x241)]['split']('?')[0x0]:_0x1e9b7b[_0x3535d4(0x241)];this[_0x3535d4(0x48c)][_0x3535d4(0x25f)]('URL\x20limpa:\x20'+_0x3bf723);let _0x3d92b3;(0x0,k[_0x3535d4(0x53a)])(_0x1e9b7b[_0x3535d4(0x241)])?_0x3d92b3=(0x0,Ot['getMIMEType'])(_0x3bf723):_0x1e9b7b[_0x3535d4(0x4da)]&&_0x1e9b7b[_0x3535d4(0x4da)][_0x3535d4(0x23d)]('.')?_0x3d92b3=(0x0,Ot['getMIMEType'])(_0x1e9b7b[_0x3535d4(0x4da)]):_0x3d92b3=(0x0,Ot[_0x3535d4(0x2ba)])(_0x1e9b7b[_0x3535d4(0x241)]);let _0x5349c3=pr,_0x35ae8d=He;return _0x35ae8d&&this[_0x3535d4(0x566)]['toLowerCase']()[_0x3535d4(0x23d)](_0x35ae8d['toLowerCase']())&&(_0x1e9b7b['caption']+='\x0a\x0a'+_0x5349c3),_0x151530[_0x1c551d]['caption']=_0x1e9b7b?.[_0x3535d4(0x3d8)],_0x151530[_0x1c551d][_0x3535d4(0x68f)]=_0x3d92b3,_0x151530[_0x1c551d]['fileName']=_0x1e9b7b[_0x3535d4(0x4da)],_0x1e9b7b[_0x3535d4(0x52c)]===_0x3535d4(0x6bc)&&(_0x151530[_0x1c551d][_0x3535d4(0x511)]=Uint8Array['from']((0x0,ve['readFileSync'])((0x0,U[_0x3535d4(0x535)])(process[_0x3535d4(0x20f)](),_0x3535d4(0x244)))),_0x151530[_0x1c551d][_0x3535d4(0x371)]=!0x1),(0x0,y[_0x3535d4(0x550)])('',{[_0x1c551d]:{..._0x151530[_0x1c551d]}},{'userJid':this[_0x3535d4(0x300)]['wuid']});}catch(_0x19727c){throw this['logger'][_0x3535d4(0x22d)](this[_0x3535d4(0x566)]+'\x20('+this[_0x3535d4(0x300)][_0x3535d4(0x634)]+'):\x20'+(_0x19727c instanceof Error?_0x19727c[_0x3535d4(0x3d4)]:JSON['stringify'](_0x19727c,null,0x2))),new O(_0x19727c?.['toString']()||_0x19727c);}}async[a0_0x10d060(0x750)](_0x305d17){const _0x1f407d=a0_0x10d060;let _0x3ac4c7=await this[_0x1f407d(0x4be)](_0x305d17['mediaMessage']);return await this[_0x1f407d(0x443)](_0x305d17['number'],{..._0x3ac4c7[_0x1f407d(0x3d4)]},_0x305d17?.['options']);}async['convertToWebP'](_0x1d745c,_0x218389){const _0x3f5fa5=a0_0x10d060;try{this['logger'][_0x3f5fa5(0x25f)](_0x3f5fa5(0x771));let _0x34ac69,_0x48484e=_0x218389+'-'+new Date()[_0x3f5fa5(0x489)]();this['logger']['verbose'](_0x3f5fa5(0x6c8)+_0x48484e);let _0x5b3992=''+(0x0,U[_0x3f5fa5(0x535)])(this[_0x3f5fa5(0x32e)],_0x48484e+_0x3f5fa5(0x409));if(this[_0x3f5fa5(0x48c)][_0x3f5fa5(0x25f)](_0x3f5fa5(0x208)+_0x5b3992),(0x0,k[_0x3f5fa5(0x542)])(_0x1d745c)){this[_0x3f5fa5(0x48c)][_0x3f5fa5(0x25f)](_0x3f5fa5(0x37e));let _0x1c4ca7=_0x1d745c[_0x3f5fa5(0x63c)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5451e0=Buffer['from'](_0x1c4ca7,_0x3f5fa5(0x2a2));_0x34ac69=''+(0x0,U['join'])(this['storePath'],_0x3f5fa5(0x195)+_0x48484e+'.png'),this[_0x3f5fa5(0x48c)][_0x3f5fa5(0x25f)](_0x3f5fa5(0x6a0)+_0x34ac69),await(0x0,It[_0x3f5fa5(0x6bb)])(_0x5451e0)[_0x3f5fa5(0x731)](_0x34ac69),this['logger'][_0x3f5fa5(0x25f)](_0x3f5fa5(0x40b));}else{this[_0x3f5fa5(0x48c)]['verbose']('Image\x20is\x20url');let _0x51fb30=new Date()[_0x3f5fa5(0x489)](),_0x4379c0=_0x1d745c+_0x3f5fa5(0x3a5)+_0x51fb30;this[_0x3f5fa5(0x48c)]['verbose'](_0x3f5fa5(0x618)+_0x4379c0);let _0x1e60c0=await se[_0x3f5fa5(0x6bb)][_0x3f5fa5(0x5a9)](_0x4379c0,{'responseType':_0x3f5fa5(0x70d)});this['logger'][_0x3f5fa5(0x25f)](_0x3f5fa5(0x337));let _0x586735=Buffer[_0x3f5fa5(0x228)](_0x1e60c0[_0x3f5fa5(0x533)],'binary');_0x34ac69=''+(0x0,U[_0x3f5fa5(0x535)])(this[_0x3f5fa5(0x32e)],_0x3f5fa5(0x195)+_0x48484e+_0x3f5fa5(0x349)),this[_0x3f5fa5(0x48c)][_0x3f5fa5(0x25f)](_0x3f5fa5(0x6a0)+_0x34ac69),await(0x0,It['default'])(_0x586735)['toFile'](_0x34ac69),this[_0x3f5fa5(0x48c)]['verbose'](_0x3f5fa5(0x40b));}return await(0x0,It[_0x3f5fa5(0x6bb)])(_0x34ac69)[_0x3f5fa5(0x538)]()[_0x3f5fa5(0x731)](_0x5b3992),this['logger'][_0x3f5fa5(0x25f)]('Image\x20converted\x20to\x20WebP'),L[_0x3f5fa5(0x6a8)](_0x34ac69),this['logger']['verbose'](_0x3f5fa5(0x3a7)),_0x5b3992;}catch(_0xf4f33d){console[_0x3f5fa5(0x22d)](_0x3f5fa5(0x25b),_0xf4f33d instanceof Error?_0xf4f33d[_0x3f5fa5(0x3d4)]:JSON[_0x3f5fa5(0x49d)](_0xf4f33d,null,0x2));}}async[a0_0x10d060(0x66a)](_0x2985f){const _0x3c837e=a0_0x10d060;let _0x321aec=await this['convertToWebP'](_0x2985f[_0x3c837e(0x3a0)]['image'],_0x2985f[_0x3c837e(0x4d0)]),_0x287643=await this[_0x3c837e(0x443)](_0x2985f[_0x3c837e(0x4d0)],{'sticker':{'url':_0x321aec}},_0x2985f?.[_0x3c837e(0x1f2)]);return L['unlinkSync'](_0x321aec),this['logger'][_0x3c837e(0x25f)]('Converted\x20image\x20deleted'),_0x287643;}async[a0_0x10d060(0x572)](_0x1183e7){const _0x367cc6=a0_0x10d060;if(this['logger'][_0x367cc6(0x25f)](_0x367cc6(0x53f)),!_0x1183e7[_0x367cc6(0x1f2)]?.[_0x367cc6(0x1b4)]&&_0x1183e7[_0x367cc6(0x1f2)]?.[_0x367cc6(0x1b4)]!==!0x1&&(_0x1183e7[_0x367cc6(0x1f2)]['encoding']=!0x0),_0x1183e7[_0x367cc6(0x1f2)]?.[_0x367cc6(0x1b4)]){let _0x32af72=await this[_0x367cc6(0x1d1)](_0x1183e7[_0x367cc6(0x782)][_0x367cc6(0x258)]);if(typeof _0x32af72=='string'){let _0x56ea46=L[_0x367cc6(0x2ed)](_0x32af72)[_0x367cc6(0x6d4)](_0x367cc6(0x2a2)),_0x4c015e=this[_0x367cc6(0x443)](_0x1183e7['number'],{'audio':Buffer[_0x367cc6(0x228)](_0x56ea46,_0x367cc6(0x2a2)),'ptt':!0x0,'mimetype':_0x367cc6(0x6e7)},{'presence':_0x367cc6(0x6dc),'delay':_0x1183e7?.['options']?.[_0x367cc6(0x6fe)]});return L[_0x367cc6(0x6a8)](_0x32af72),this[_0x367cc6(0x48c)]['verbose']('Converted\x20audio\x20deleted'),_0x4c015e;}else throw new O(_0x32af72);}return await this[_0x367cc6(0x443)](_0x1183e7[_0x367cc6(0x4d0)],{'audio':(0x0,k[_0x367cc6(0x53a)])(_0x1183e7[_0x367cc6(0x782)][_0x367cc6(0x258)])?{'url':_0x1183e7[_0x367cc6(0x782)][_0x367cc6(0x258)]}:Buffer[_0x367cc6(0x228)](_0x1183e7[_0x367cc6(0x782)][_0x367cc6(0x258)],_0x367cc6(0x2a2)),'ptt':!0x0,'mimetype':'audio/aac'},{'presence':_0x367cc6(0x6dc),'delay':_0x1183e7?.[_0x367cc6(0x1f2)]?.[_0x367cc6(0x6fe)]});}async[a0_0x10d060(0x1d1)](_0x7718e0){const _0x30e38f=a0_0x10d060;this['logger'][_0x30e38f(0x25f)](_0x30e38f(0x3b4));let _0x120897,_0x29fe55,_0x2c9417=(0x0,Ce['v4'])();if(this[_0x30e38f(0x48c)][_0x30e38f(0x25f)](_0x30e38f(0x611)+_0x2c9417),(0x0,k['isURL'])(_0x7718e0)){this[_0x30e38f(0x48c)][_0x30e38f(0x25f)](_0x30e38f(0x76b)),_0x29fe55=''+(0x0,U['join'])(this[_0x30e38f(0x32e)],_0x2c9417+_0x30e38f(0x359)),_0x120897=''+(0x0,U[_0x30e38f(0x535)])(this[_0x30e38f(0x32e)],_0x30e38f(0x195)+_0x2c9417+_0x30e38f(0x37f)),this[_0x30e38f(0x48c)][_0x30e38f(0x25f)](_0x30e38f(0x35b)+_0x29fe55),this[_0x30e38f(0x48c)][_0x30e38f(0x25f)](_0x30e38f(0x4d1)+_0x120897);let _0x43d608=new Date()['getTime'](),_0x51739f=_0x7718e0+_0x30e38f(0x3a5)+_0x43d608;this[_0x30e38f(0x48c)][_0x30e38f(0x25f)](_0x30e38f(0x479)+_0x51739f);let _0x31cf5c=await se[_0x30e38f(0x6bb)][_0x30e38f(0x5a9)](_0x51739f,{'responseType':'arraybuffer'});this[_0x30e38f(0x48c)]['verbose'](_0x30e38f(0x391)),L[_0x30e38f(0x5d4)](_0x120897,_0x31cf5c['data']);}else{this['logger']['verbose']('Audio\x20is\x20base64'),_0x29fe55=''+(0x0,U['join'])(this[_0x30e38f(0x32e)],_0x2c9417+_0x30e38f(0x359)),_0x120897=''+(0x0,U[_0x30e38f(0x535)])(this[_0x30e38f(0x32e)],_0x30e38f(0x195)+_0x2c9417+'.mp3'),this['logger'][_0x30e38f(0x25f)](_0x30e38f(0x35b)+_0x29fe55),this[_0x30e38f(0x48c)]['verbose'](_0x30e38f(0x4d1)+_0x120897);let _0x17ee0a=Buffer[_0x30e38f(0x228)](_0x7718e0,'base64');L['writeFileSync'](_0x120897,_0x17ee0a),this['logger']['verbose'](_0x30e38f(0x1fe));}return this[_0x30e38f(0x48c)][_0x30e38f(0x25f)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x50f90b,_0x5df9e8)=>{const _0x122558=_0x30e38f;(0x0,Dt[_0x122558(0x3c1)])(mr[_0x122558(0x6bb)][_0x122558(0x4b0)]+_0x122558(0x362)+_0x120897+_0x122558(0x407)+_0x29fe55+_0x122558(0x59c),_0x1a4012=>{const _0x686a4e=_0x122558;L[_0x686a4e(0x6a8)](_0x120897),this[_0x686a4e(0x48c)]['verbose'](_0x686a4e(0x39d)),_0x1a4012&&_0x5df9e8(_0x1a4012),this['logger'][_0x686a4e(0x25f)](_0x686a4e(0x3bb)),_0x50f90b(_0x29fe55);});});}async[a0_0x10d060(0x4db)](_0x758011){const _0x339918=a0_0x10d060;let _0x17b6d1={},_0x293a5f=_0x339918(0x685);if(_0x758011['buttonMessage']?.['mediaMessage']){_0x293a5f=_0x758011[_0x339918(0x4db)][_0x339918(0x750)]?.[_0x339918(0x52c)][_0x339918(0x2f0)]()??_0x339918(0x685),_0x17b6d1[_0x339918(0x564)]=_0x293a5f[_0x339918(0x1d5)]()+_0x339918(0x61f);let _0x4407a4=await this['prepareMediaMessage'](_0x758011[_0x339918(0x4db)]['mediaMessage']);_0x17b6d1[_0x339918(0x3d4)]=_0x4407a4['message'][_0x17b6d1[_0x339918(0x564)]],_0x17b6d1['contentText']='*'+_0x758011['buttonMessage']['title']+_0x339918(0x52a)+_0x758011[_0x339918(0x4db)][_0x339918(0x2ce)];}let _0x2b03a9={'text':_0x758011[_0x339918(0x4db)]['buttons'][_0x339918(0x606)](_0xa2d5df=>_0xa2d5df[_0x339918(0x1e2)]),'ids':_0x758011[_0x339918(0x4db)]['buttons'][_0x339918(0x606)](_0x5d6d8f=>_0x5d6d8f['buttonId'])};if(!(0x0,k[_0x339918(0x565)])(_0x2b03a9[_0x339918(0x28b)])||!(0x0,k[_0x339918(0x565)])(_0x2b03a9[_0x339918(0x5cd)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this['sendMessageWithTyping'](_0x758011[_0x339918(0x4d0)],{'buttonsMessage':{'text':_0x17b6d1?.[_0x339918(0x564)]?void 0x0:_0x758011[_0x339918(0x4db)][_0x339918(0x402)],'contentText':_0x17b6d1?.[_0x339918(0x30e)]??_0x758011['buttonMessage']['description'],'footerText':_0x758011[_0x339918(0x4db)]?.[_0x339918(0x5ed)],'buttons':_0x758011[_0x339918(0x4db)][_0x339918(0x2ff)][_0x339918(0x606)](_0x176488=>({'buttonText':{'displayText':_0x176488[_0x339918(0x1e2)]},'buttonId':_0x176488['buttonId'],'type':0x1})),'headerType':y[_0x339918(0x4de)][_0x339918(0x61f)][_0x339918(0x72c)][_0x339918(0x5da)][_0x293a5f],[_0x17b6d1?.[_0x339918(0x564)]]:_0x17b6d1?.[_0x339918(0x3d4)]}},_0x758011?.['options']);}async['locationMessage'](_0x35ffbc){const _0x557f42=a0_0x10d060;return await this[_0x557f42(0x443)](_0x35ffbc[_0x557f42(0x4d0)],{'locationMessage':{'degreesLatitude':_0x35ffbc['locationMessage'][_0x557f42(0x44b)],'degreesLongitude':_0x35ffbc[_0x557f42(0x5fd)][_0x557f42(0x2af)],'name':_0x35ffbc[_0x557f42(0x5fd)]?.['name'],'address':_0x35ffbc[_0x557f42(0x5fd)]?.[_0x557f42(0x759)]}},_0x35ffbc?.[_0x557f42(0x1f2)]);}async[a0_0x10d060(0x421)](_0x35837f){const _0x36de69=a0_0x10d060;let _0x5719a8={},_0x386a25=_0x51c59a=>{const _0x483391=a0_0x434c;let _0x24eff4='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x51c59a['fullName']+_0x483391(0x56e)+_0x51c59a[_0x483391(0x704)]+'\x0a';_0x51c59a[_0x483391(0x46a)]&&(_0x24eff4+='ORG:'+_0x51c59a['organization']+';\x0a'),_0x51c59a[_0x483391(0x3f4)]&&(_0x24eff4+=_0x483391(0x4ca)+_0x51c59a[_0x483391(0x3f4)]+'\x0a'),_0x51c59a[_0x483391(0x1c5)]&&(_0x24eff4+=_0x483391(0x18d)+_0x51c59a[_0x483391(0x1c5)]+'\x0a');let _0x43aec2='';return _0x51c59a[_0x483391(0x1df)]&&_0x51c59a[_0x483391(0x1df)][_0x483391(0x503)]('|')['forEach']((_0x2e2ede,_0x449579)=>{const _0x10e9c9=_0x483391;let _0x101809=this[_0x10e9c9(0x373)](_0x2e2ede)[_0x10e9c9(0x63c)](_0x10e9c9(0x1ec),'');_0x43aec2+=_0x10e9c9(0x3c2)+(_0x449579+0x1)+'.TEL;waid='+_0x101809+':'+_0x2e2ede+_0x10e9c9(0x617)+(_0x449579+0x1)+_0x10e9c9(0x5b7);}),_0x24eff4+=_0x43aec2+_0x483391(0x41a),_0x24eff4;};return _0x35837f[_0x36de69(0x421)][_0x36de69(0x31a)]===0x1?_0x5719a8[_0x36de69(0x421)]={'displayName':_0x35837f['contactMessage'][0x0][_0x36de69(0x704)],'vcard':_0x386a25(_0x35837f[_0x36de69(0x421)][0x0])}:_0x5719a8[_0x36de69(0x755)]={'displayName':_0x35837f['contactMessage'][_0x36de69(0x31a)]+_0x36de69(0x42b),'contacts':_0x35837f[_0x36de69(0x421)]['map'](_0x26b346=>({'displayName':_0x26b346['fullName'],'vcard':_0x386a25(_0x26b346)}))},await this['sendMessageWithTyping'](_0x35837f[_0x36de69(0x4d0)],{..._0x5719a8},_0x35837f?.['options']);}async[a0_0x10d060(0x701)](_0x1680e2){const _0x596a14=a0_0x10d060;return await this[_0x596a14(0x443)](_0x1680e2[_0x596a14(0x701)][_0x596a14(0x181)][_0x596a14(0x450)],{'reactionMessage':{'key':_0x1680e2['reactionMessage'][_0x596a14(0x181)],'text':_0x1680e2[_0x596a14(0x701)][_0x596a14(0x3df)]}});}async['whatsappNumber'](_0x525026){const _0x5630c9=a0_0x10d060;let _0xbbd17e=[];for await(let _0x555f16 of _0x525026[_0x5630c9(0x6b0)]){let _0x410674=this[_0x5630c9(0x373)](_0x555f16),_0x277fd0=!0x1;try{if((0x0,y[_0x5630c9(0x39b)])(_0x410674)){let _0x57260f=await this['findGroup']({'groupJid':_0x410674},'inner');_0xbbd17e[_0x5630c9(0x549)](new he(_0x57260f[_0x5630c9(0x6b7)]['id'],!!_0x57260f?.[_0x5630c9(0x6b7)]['id'],_0x57260f?.[_0x5630c9(0x6b7)]['subject'])),_0x277fd0=!!_0x57260f?.[_0x5630c9(0x6b7)]['id'];}else{let _0x30b5b1=(await this['client'][_0x5630c9(0x4d8)](_0x410674))[0x0];_0xbbd17e[_0x5630c9(0x549)](new he(_0x30b5b1['jid'],_0x30b5b1[_0x5630c9(0x556)])),_0x277fd0=_0x30b5b1['exists'];}}catch{await this[_0x5630c9(0x24e)](_0x410674,_0x277fd0),_0xbbd17e['push'](new he(_0x555f16,!0x1));}}return _0xbbd17e;}async[a0_0x10d060(0x24e)](_0x22ec44,_0x5a21e7){const _0x528403=a0_0x10d060;try{await this[_0x528403(0x6f8)][_0x528403(0x463)][_0x528403(0x198)]({'where':{'_id':_0x22ec44,'imported':!0x0}},this[_0x528403(0x300)][_0x528403(0x634)])&&(_0x5a21e7||(await this[_0x528403(0x6f8)][_0x528403(0x463)][_0x528403(0x381)](_0x22ec44,this[_0x528403(0x300)][_0x528403(0x634)]),console[_0x528403(0x30d)](_0x528403(0x623)+_0x22ec44+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x137e5e){console[_0x528403(0x22d)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x137e5e);}}async[a0_0x10d060(0x4ba)](_0x16b816){const _0x90dbdb=a0_0x10d060;try{let _0x1a00b3=_0x16b816[_0x90dbdb(0x312)]['filter'](_0x215f7a=>(0x0,y[_0x90dbdb(0x39b)])(_0x215f7a[_0x90dbdb(0x450)])||(0x0,y['isJidUser'])(_0x215f7a[_0x90dbdb(0x450)]))['map'](_0x1df4f9=>({'remoteJid':_0x1df4f9[_0x90dbdb(0x450)],'fromMe':_0x1df4f9[_0x90dbdb(0x233)],'id':_0x1df4f9['id']}));await this[_0x90dbdb(0x18c)][_0x90dbdb(0x312)](_0x1a00b3);let _0x14b3f9=_0x1a00b3[_0x90dbdb(0x606)](_0x464535=>this[_0x90dbdb(0x165)](_0x464535,{'status':_0x90dbdb(0x43a),'owner':this[_0x90dbdb(0x300)]['wuid']})),_0x3da6c0=_0x1a00b3[_0x90dbdb(0x606)](_0x8c5649=>this[_0x90dbdb(0x6f8)][_0x90dbdb(0x463)][_0x90dbdb(0x251)]({'where':{'_id':_0x8c5649['remoteJid']}},{'unreadcount':0x0},this[_0x90dbdb(0x300)][_0x90dbdb(0x634)])),[_0x574f45,_0x459041]=await Promise[_0x90dbdb(0x5d7)]([Promise['all'](_0x14b3f9),Promise['all'](_0x3da6c0)]);return _0x459041[_0x90dbdb(0x3ed)](_0x917870=>_0x917870!==null)[_0x90dbdb(0x311)](_0x335414=>{const _0x1e785f=_0x90dbdb;q(this[_0x1e785f(0x566)],_0x1e785f(0x3fa),{'chat':_0x335414});}),{'message':_0x90dbdb(0x514),'read':_0x90dbdb(0x72b)};}catch(_0x4d6ed2){throw console['error'](_0x90dbdb(0x1f0),_0x4d6ed2),new O(_0x90dbdb(0x36d),_0x4d6ed2['toString']());}}async['getLastMessage'](_0x2336d3){const _0x457b15=a0_0x10d060;let _0x27b408=await this[_0x457b15(0x30c)]({'where':{'key':{'remoteJid':_0x2336d3}}}),_0x50ff89=_0x27b408[_0x457b15(0x316)]();for(let _0x5f3965 of _0x27b408)_0x5f3965[_0x457b15(0x6c1)]>=_0x50ff89[_0x457b15(0x6c1)]&&(_0x50ff89=_0x5f3965);return _0x50ff89;}async[a0_0x10d060(0x26a)](_0x31db09){const _0x188427=a0_0x10d060;this['logger']['verbose'](_0x188427(0x461));try{let _0x493ec1=_0x31db09[_0x188427(0x6d9)],_0x597470=_0x31db09['chat'];if(!_0x493ec1&&_0x597470?_0x493ec1=await this['getLastMessage'](_0x597470):(_0x493ec1=_0x31db09[_0x188427(0x6d9)],_0x493ec1[_0x188427(0x6c1)]=_0x493ec1?.[_0x188427(0x6c1)]??Date[_0x188427(0x27f)](),_0x597470=_0x493ec1?.[_0x188427(0x181)]?.[_0x188427(0x450)]),!_0x493ec1||Object[_0x188427(0x428)](_0x493ec1)[_0x188427(0x31a)]===0x0)throw new F(_0x188427(0x405));await this['client'][_0x188427(0x594)]({'archive':_0x31db09['archive'],'lastMessages':[_0x493ec1]},this[_0x188427(0x373)](_0x597470));let _0x1a8c65=await this[_0x188427(0x6f8)][_0x188427(0x463)][_0x188427(0x251)]({'where':{'_id':_0x493ec1?.['key']?.[_0x188427(0x450)]}},{'archived':_0x31db09['archive']},this[_0x188427(0x300)][_0x188427(0x634)]);return _0x1a8c65&&q(this[_0x188427(0x566)],_0x188427(0x3fa),{'chat':_0x1a8c65}),{'chatId':_0x597470,'archived':_0x31db09[_0x188427(0x646)]};}catch(_0x3a3517){throw new O({'archived':!0x1,'message':[_0x188427(0x6c0),_0x3a3517[_0x188427(0x6d4)]()]});}}async['deleteMessage'](_0xf0bd83){const _0x1d4bdc=a0_0x10d060;try{let _0x6051dd=await this['client']['sendMessage'](_0xf0bd83[_0x1d4bdc(0x450)],{'delete':_0xf0bd83});try{let _0x20272a=await this[_0x1d4bdc(0x165)](_0xf0bd83,{'status':'DELETED','owner':this['instance']['wuid']});this[_0x1d4bdc(0x48c)][_0x1d4bdc(0x25f)](this[_0x1d4bdc(0x566)]+'\x20('+this[_0x1d4bdc(0x300)]['wuid']+'):\x20updateResult:'+_0x20272a);}catch(_0x77f87f){console['error'](_0x1d4bdc(0x700),_0x77f87f);}return _0x6051dd;}catch(_0x2cf972){throw new O(_0x1d4bdc(0x605),_0x2cf972?.[_0x1d4bdc(0x6d4)]());}}async[a0_0x10d060(0x6a4)](_0x55944f){const _0xa94ebe=a0_0x10d060;try{let _0x2623f9=_0x55944f?.[_0xa94ebe(0x3d4)]?_0x55944f:await this[_0xa94ebe(0x2a1)](_0x55944f[_0xa94ebe(0x181)],!0x0);for(let _0x222f15 of pa)_0x2623f9[_0xa94ebe(0x3d4)][_0x222f15]&&(_0x2623f9[_0xa94ebe(0x3d4)]=_0x2623f9[_0xa94ebe(0x3d4)][_0x222f15]['message']);let _0x5d5dad,_0xf26e00;for(let _0x2dff98 of da)if(_0x5d5dad=_0x2623f9[_0xa94ebe(0x3d4)][_0x2dff98],_0x5d5dad){_0xf26e00=_0x2dff98;break;}if(!_0x5d5dad)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x5d5dad[_0xa94ebe(0x564)]==_0xa94ebe(0x74d)&&(_0x2623f9[_0xa94ebe(0x3d4)]=JSON[_0xa94ebe(0x4b3)](JSON[_0xa94ebe(0x49d)](_0x2623f9[_0xa94ebe(0x3d4)])));let _0x3a2679=await(0x0,y[_0xa94ebe(0x32d)])({'key':_0x2623f9?.['key'],'message':_0x2623f9?.[_0xa94ebe(0x3d4)]},'buffer',{},{'logger':(0x0,At[_0xa94ebe(0x6bb)])({'level':_0xa94ebe(0x42c)}),'reuploadRequest':this[_0xa94ebe(0x18c)][_0xa94ebe(0x46e)]});if(!(_0x3a2679 instanceof Buffer))throw new Error(_0xa94ebe(0x190));let _0x53d433=this[_0xa94ebe(0x401)][_0xa94ebe(0x5a9)](_0xa94ebe(0x569)),_0x1aaa83,_0x155151;if(_0x5d5dad[_0xa94ebe(0x4da)])_0x1aaa83=_0x5d5dad['fileName'];else{let _0x4709a2=_0x5d5dad[_0xa94ebe(0x68f)]?.[_0xa94ebe(0x47a)](/\/(\w+)/),_0x529b61=_0x4709a2?_0x4709a2[0x1]:null;if(!_0x529b61)throw new Error(_0xa94ebe(0x1bc));_0x1aaa83=(0x0,Ce['v4'])()+'.'+_0x529b61;}_0xf26e00==='audioMessage'&&_0x5d5dad[_0xa94ebe(0x68f)]===_0xa94ebe(0x41e)?(_0x1aaa83=(0x0,Ce['v4'])()+_0xa94ebe(0x761),_0x155151='/media/'+await this[_0xa94ebe(0x1d1)](_0x3a2679[_0xa94ebe(0x6d4)]('base64'))):(await this[_0xa94ebe(0x5b3)](_0x3a2679,_0x1aaa83),_0x155151='/media/'+_0x1aaa83);let _0x5047da=this[_0xa94ebe(0x401)][_0xa94ebe(0x5a9)](_0xa94ebe(0x49e))[_0xa94ebe(0x5fb)];if(!_0x5047da){let _0x4b39a5=this[_0xa94ebe(0x401)]['get'](_0xa94ebe(0x687));_0x5047da=_0xa94ebe(0x6c4)+(_0x4b39a5&&_0x4b39a5[_0xa94ebe(0x378)]['split']('/')[0x4]);}_0x155151=''+_0x5047da+_0x155151;let _0x333f69=0xc*0x3c*0x3c*0x3e8,_0x31abe6={'where':{'_id':_0x2623f9[_0xa94ebe(0x181)]['id']}},_0x473335={'message_normalized.fileUrl':_0x155151,'message_normalized.expires_fileUrl':Date[_0xa94ebe(0x27f)]()+_0x333f69};try{let _0x50e691=await this[_0xa94ebe(0x6f8)][_0xa94ebe(0x3d4)][_0xa94ebe(0x24c)](_0x31abe6,_0x473335,this[_0xa94ebe(0x300)][_0xa94ebe(0x634)]);_0x50e691&&q(this[_0xa94ebe(0x566)],_0xa94ebe(0x2cc),{'message':_0x50e691});}catch(_0x477789){this['logger'][_0xa94ebe(0x22d)](this[_0xa94ebe(0x566)]+'\x20('+this[_0xa94ebe(0x300)][_0xa94ebe(0x634)]+_0xa94ebe(0x62b)+(_0x477789 instanceof Error?_0x477789['message']:JSON[_0xa94ebe(0x49d)](_0x477789,null,0x2)));}return{'mediaType':_0xf26e00,'fileName':_0x5d5dad[_0xa94ebe(0x4da)],'caption':_0x5d5dad[_0xa94ebe(0x3d8)],'size':{'fileLength':_0x5d5dad[_0xa94ebe(0x482)],'height':_0x5d5dad[_0xa94ebe(0x38c)],'width':_0x5d5dad[_0xa94ebe(0x4c5)]},'mimetype':_0x5d5dad[_0xa94ebe(0x68f)],'base64':_0x3a2679[_0xa94ebe(0x6d4)](_0xa94ebe(0x2a2)),'fileUrl':_0x155151,'expires_fileUrl':Date[_0xa94ebe(0x27f)]()+_0x333f69};}catch(_0x153296){throw this['logger'][_0xa94ebe(0x22d)](this['instanceName']+'\x20('+this[_0xa94ebe(0x300)][_0xa94ebe(0x634)]+_0xa94ebe(0x62b)+(_0x153296 instanceof Error?_0x153296[_0xa94ebe(0x3d4)]:JSON[_0xa94ebe(0x49d)](_0x153296,null,0x2))),new m(_0x153296[_0xa94ebe(0x6d4)]());}}async[a0_0x10d060(0x5b3)](_0x5c6b92,_0x2018ab){const _0x4080f3=a0_0x10d060;let _0x1de542=U[_0x4080f3(0x6bb)]['join'](__dirname,'downloads');L[_0x4080f3(0x3f0)](_0x1de542)||L['mkdirSync'](_0x1de542,{'recursive':!0x0});let _0x44a75d=U[_0x4080f3(0x6bb)][_0x4080f3(0x535)](_0x1de542,_0x2018ab);return new Promise((_0x1a3d28,_0x3cd0dc)=>{const _0x3c2fbd=_0x4080f3;L[_0x3c2fbd(0x5be)](_0x44a75d,_0x5c6b92,_0x22d428=>{const _0x1612fb=_0x3c2fbd;_0x22d428?(this['logger'][_0x1612fb(0x22d)](_0x1612fb(0x365)+(_0x22d428 instanceof Error?_0x22d428[_0x1612fb(0x3d4)]:JSON['stringify'](_0x22d428,null,0x2))),_0x3cd0dc(_0x22d428)):(this[_0x1612fb(0x48c)][_0x1612fb(0x30d)]('File\x20written\x20to\x20path:\x20'+_0x44a75d),_0x1a3d28(_0x44a75d));});});}async[a0_0x10d060(0x352)](_0x1d8e48){const _0x7f19cd=a0_0x10d060;return await this[_0x7f19cd(0x6f8)][_0x7f19cd(0x769)]['find'](_0x1d8e48,this['instance']['wuid']);}async[a0_0x10d060(0x525)](){const _0x1bbad1=a0_0x10d060;return await this[_0x1bbad1(0x6f8)][_0x1bbad1(0x651)]['find']({'where':{}},this[_0x1bbad1(0x300)][_0x1bbad1(0x634)]);}async['fetchMessages'](_0x3765b9){const _0x12df7b=a0_0x10d060;return await this['repository'][_0x12df7b(0x3d4)]['find'](_0x3765b9,this['instance'][_0x12df7b(0x634)]);}async[a0_0x10d060(0x19a)](){const _0x2a7385=a0_0x10d060;return this[_0x2a7385(0x6f8)]['chat'][_0x2a7385(0x6d2)](this[_0x2a7385(0x300)][_0x2a7385(0x634)]),this[_0x2a7385(0x6f8)][_0x2a7385(0x463)]['updateMissingTags'](this[_0x2a7385(0x300)][_0x2a7385(0x634)]),this[_0x2a7385(0x6f8)][_0x2a7385(0x463)][_0x2a7385(0x2c6)](this[_0x2a7385(0x300)][_0x2a7385(0x634)]),await this[_0x2a7385(0x6f8)][_0x2a7385(0x463)][_0x2a7385(0x5aa)]({'where':{}},this[_0x2a7385(0x300)][_0x2a7385(0x634)]);}async['importChats'](_0x1175cc){const _0x4041f3=a0_0x10d060;try{if(!Array[_0x4041f3(0x229)](_0x1175cc)||_0x1175cc['length']===0x0)throw new Error(_0x4041f3(0x278));let _0x136689=[],_0x1777e3=[];for(let _0x8a1b2 of _0x1175cc){if(_0x8a1b2['_id'])_0x8a1b2['_id']=this[_0x4041f3(0x373)](_0x8a1b2['_id']);else continue;await this['repository']['chat'][_0x4041f3(0x198)]({'where':{'_id':_0x8a1b2[_0x4041f3(0x372)]}},this[_0x4041f3(0x300)][_0x4041f3(0x634)])?_0x1777e3['push']({'_id':_0x8a1b2[_0x4041f3(0x372)],'leadInfo':_0x8a1b2[_0x4041f3(0x334)],'owner':this[_0x4041f3(0x300)][_0x4041f3(0x634)]}):_0x136689['push']({'_id':_0x8a1b2[_0x4041f3(0x372)],'owner':this[_0x4041f3(0x300)][_0x4041f3(0x634)],'leadInfo':_0x8a1b2[_0x4041f3(0x334)]});}return _0x1777e3[_0x4041f3(0x31a)]>0x0&&await this['repository'][_0x4041f3(0x463)][_0x4041f3(0x176)](_0x1777e3[_0x4041f3(0x606)](_0x2a730c=>({'query':{'where':{'_id':_0x2a730c[_0x4041f3(0x372)],'owner':this[_0x4041f3(0x300)][_0x4041f3(0x634)]}},'update':_0x2a730c}))),_0x136689[_0x4041f3(0x31a)]>0x0&&await this[_0x4041f3(0x6f8)][_0x4041f3(0x463)]['insertMany'](_0x136689,this[_0x4041f3(0x300)][_0x4041f3(0x634)]),{'updated':_0x1777e3[_0x4041f3(0x31a)],'inserted':_0x136689[_0x4041f3(0x31a)]};}catch(_0x5243da){throw console['error'](_0x4041f3(0x273),_0x5243da),_0x5243da;}}async['fetchPrivacySettings'](){const _0x131739=a0_0x10d060;return await this[_0x131739(0x18c)]['fetchPrivacySettings']();}async[a0_0x10d060(0x488)](_0x8c87a9){const _0x2347d8=a0_0x10d060;try{return await this[_0x2347d8(0x18c)][_0x2347d8(0x574)](_0x8c87a9['privacySettings'][_0x2347d8(0x3d1)]),await this[_0x2347d8(0x18c)][_0x2347d8(0x33c)](_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x250)]),await this[_0x2347d8(0x18c)][_0x2347d8(0x74a)](_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x5c1)]),await this['client'][_0x2347d8(0x48f)](_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x4c7)]),await this[_0x2347d8(0x18c)][_0x2347d8(0x1a4)](_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x582)]),await this[_0x2347d8(0x18c)][_0x2347d8(0x206)](_0x8c87a9[_0x2347d8(0x1b6)]['groupadd']),this[_0x2347d8(0x18c)]?.['ws']?.[_0x2347d8(0x68a)](),{'update':_0x2347d8(0x72b),'data':{'readreceipts':_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x3d1)],'profile':_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x250)],'status':_0x8c87a9[_0x2347d8(0x1b6)]['status'],'online':_0x8c87a9['privacySettings'][_0x2347d8(0x4c7)],'last':_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x582)],'groupadd':_0x8c87a9[_0x2347d8(0x1b6)][_0x2347d8(0x3e4)]}};}catch(_0x23a041){throw new O(_0x2347d8(0x211),_0x23a041[_0x2347d8(0x6d4)]());}}async['fetchProfile2'](_0x3dcea0){const _0x2ea01f=a0_0x10d060;let _0x75cca7=_0x3dcea0?this['createJid'](_0x3dcea0):this['client']?.['user']?.['id'];this[_0x2ea01f(0x48c)]['verbose'](_0x2ea01f(0x29f)+_0x75cca7);try{if(this[_0x2ea01f(0x48c)][_0x2ea01f(0x25f)](_0x2ea01f(0x408)),_0x3dcea0){let _0x1f17ff=(await this['whatsappNumber']({'numbers':[_0x75cca7]}))?.['shift'](),_0x4b2eb6=await this[_0x2ea01f(0x348)](_0x1f17ff?.[_0x2ea01f(0x146)]),_0x496eb3=await this[_0x2ea01f(0x589)](_0x1f17ff?.[_0x2ea01f(0x146)]),_0x445e73=await this['fetchBusinessProfile'](_0x1f17ff?.['jid']);return{'wuid':_0x1f17ff?.[_0x2ea01f(0x146)]||_0x75cca7,'name':_0x1f17ff?.[_0x2ea01f(0x4b9)],'numberExists':_0x1f17ff?.['exists'],'picture':_0x4b2eb6?.[_0x2ea01f(0x505)],'status':_0x496eb3?.[_0x2ea01f(0x5c1)],'isBusiness':_0x445e73['isBusiness'],'email':_0x445e73?.['email'],'description':_0x445e73?.[_0x2ea01f(0x2ce)],'website':_0x445e73?.[_0x2ea01f(0x1bd)]?.[_0x2ea01f(0x28a)]()};}}catch{return this[_0x2ea01f(0x48c)][_0x2ea01f(0x25f)](_0x2ea01f(0x71d)),{'wuid':_0x75cca7,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x10d060(0x48d)](_0x40f084){const _0x19c922=a0_0x10d060;let _0x2c6c1d=(_0x40f084?this[_0x19c922(0x373)](_0x40f084):this[_0x19c922(0x18c)]?.[_0x19c922(0x5a6)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x19c922(0x48c)][_0x19c922(0x25f)](_0x19c922(0x22a)+_0x2c6c1d);let _0x1ff849=await this[_0x19c922(0x6f8)][_0x19c922(0x769)][_0x19c922(0x198)]({'where':{'_id':_0x2c6c1d}},this[_0x19c922(0x300)][_0x19c922(0x634)]),_0x5d9b7e=_0x1ff849?_0x1ff849[_0x19c922(0x39f)]:null;try{let _0x3b9717=(await this['whatsappNumber']({'numbers':[_0x2c6c1d]}))?.['shift'](),_0x26fafc=await this[_0x19c922(0x348)](_0x3b9717?.[_0x19c922(0x146)]),_0x15531b=await this[_0x19c922(0x589)](_0x3b9717?.[_0x19c922(0x146)]),_0x3a87cd=await this[_0x19c922(0x455)](_0x3b9717?.[_0x19c922(0x146)]),_0x1c95aa={'imagechat':_0x26fafc?.['profilePictureUrl'],'contactname':_0x5d9b7e||null,'status':_0x15531b?.[_0x19c922(0x5c1)],'isBusiness':_0x3a87cd['isBusiness'],'email':_0x3a87cd?.[_0x19c922(0x3f4)],'description':_0x3a87cd?.[_0x19c922(0x2ce)],'website':_0x3a87cd?.['website']?.['shift'](),'lastcache':Date[_0x19c922(0x27f)]()},_0x3d90ab=await this[_0x19c922(0x6f8)][_0x19c922(0x463)][_0x19c922(0x251)]({'where':{'_id':_0x2c6c1d}},_0x1c95aa,this['instance']['wuid']),_0xe0804e={'owner':this[_0x19c922(0x300)]['wuid'],'_id':_0x2c6c1d,'profilePictureUrl':_0x26fafc?.['profilePictureUrl'],'status':_0x15531b?.[_0x19c922(0x5c1)]};return this[_0x19c922(0x6f8)][_0x19c922(0x769)][_0x19c922(0x24c)]([_0xe0804e],this['instance'][_0x19c922(0x634)]),_0x3d90ab&&q(this[_0x19c922(0x566)],'chats',{'chat':_0x3d90ab}),{'wuid':_0x3b9717?.[_0x19c922(0x146)]||_0x2c6c1d,'name':_0x3b9717?.[_0x19c922(0x4b9)],'numberExists':_0x3b9717?.[_0x19c922(0x556)],'picture':_0x26fafc?.['profilePictureUrl'],'status':_0x15531b?.[_0x19c922(0x5c1)],'isBusiness':_0x3a87cd[_0x19c922(0x2c8)],'email':_0x3a87cd?.[_0x19c922(0x3f4)],'description':_0x3a87cd?.[_0x19c922(0x2ce)],'website':_0x3a87cd?.[_0x19c922(0x1bd)]?.[_0x19c922(0x28a)]()};}catch(_0x1582f7){return this[_0x19c922(0x48c)][_0x19c922(0x22d)](_0x19c922(0x2cf)+(_0x1582f7 instanceof Error?_0x1582f7[_0x19c922(0x3d4)]:JSON[_0x19c922(0x49d)](_0x1582f7,null,0x2))),{};}}async[a0_0x10d060(0x455)](_0x430ec8){const _0x66f154=a0_0x10d060;this['logger'][_0x66f154(0x25f)](_0x66f154(0x5d6));try{let _0x5154e9=_0x430ec8?this[_0x66f154(0x373)](_0x430ec8):this['instance'][_0x66f154(0x634)],_0x4541da=await this[_0x66f154(0x18c)]['getBusinessProfile'](_0x5154e9);return this[_0x66f154(0x48c)][_0x66f154(0x25f)](_0x66f154(0x3a3)),_0x4541da?(this[_0x66f154(0x48c)][_0x66f154(0x25f)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x4541da}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x5154e9]}))?.['shift']()};}catch(_0x30ba56){throw new O('Error\x20updating\x20profile\x20name',_0x30ba56[_0x66f154(0x6d4)]());}}async[a0_0x10d060(0x589)](_0x63ff8e){const _0x536278=a0_0x10d060;let _0x4d5234=this[_0x536278(0x373)](_0x63ff8e);try{return{'wuid':_0x4d5234,'status':(await this[_0x536278(0x18c)][_0x536278(0x28d)](_0x4d5234))?.[_0x536278(0x5c1)]};}catch{return{'wuid':_0x4d5234,'status':null};}}async[a0_0x10d060(0x14f)](_0x4613eb){const _0x7b148a=a0_0x10d060;try{return await this[_0x7b148a(0x18c)][_0x7b148a(0x14f)](_0x4613eb),{'update':_0x7b148a(0x72b)};}catch(_0x1b5b75){throw new O(_0x7b148a(0x2e7),_0x1b5b75[_0x7b148a(0x6d4)]());}}async['updateProfileStatus'](_0x294294){const _0x4dbc3f=a0_0x10d060;try{return await this[_0x4dbc3f(0x18c)][_0x4dbc3f(0x403)](_0x294294),{'update':'success'};}catch(_0x39f25a){throw new O(_0x4dbc3f(0x1a2),_0x39f25a[_0x4dbc3f(0x6d4)]());}}async[a0_0x10d060(0x6e8)](_0x3b2788){const _0x29079c=a0_0x10d060;try{let _0x2b6097;if((0x0,k['isURL'])(_0x3b2788)){let _0x5f3fda=new Date()['getTime'](),_0x3111e7=_0x3b2788+'?timestamp='+_0x5f3fda;_0x2b6097=(await se['default'][_0x29079c(0x5a9)](_0x3111e7,{'responseType':_0x29079c(0x70d)}))[_0x29079c(0x533)];}else{if((0x0,k[_0x29079c(0x542)])(_0x3b2788))_0x2b6097=Buffer[_0x29079c(0x228)](_0x3b2788,_0x29079c(0x2a2));else throw new m(_0x29079c(0x2f1));}return await this[_0x29079c(0x18c)][_0x29079c(0x6e8)](this[_0x29079c(0x300)]['wuid'],_0x2b6097),{'update':_0x29079c(0x72b)};}catch(_0x516c1d){throw new O(_0x29079c(0x675),_0x516c1d[_0x29079c(0x6d4)]());}}async[a0_0x10d060(0x191)](){const _0x26a1c9=a0_0x10d060;try{return await this['client'][_0x26a1c9(0x191)](this['instance'][_0x26a1c9(0x634)]),{'update':'success'};}catch(_0x8a539d){throw new O(_0x26a1c9(0x593),_0x8a539d['toString']());}}async[a0_0x10d060(0x6e4)](_0x2098c7){const _0x35bbe6=a0_0x10d060;try{let _0x4edd40=_0x2098c7[_0x35bbe6(0x4b5)][_0x35bbe6(0x606)](_0x360038=>this['createJid'](_0x360038)),{id:_0x44bca4}=await this[_0x35bbe6(0x18c)]['groupCreate'](_0x2098c7[_0x35bbe6(0x6ae)],_0x4edd40);return _0x2098c7?.[_0x35bbe6(0x2ce)]&&await this['client'][_0x35bbe6(0x330)](_0x44bca4,_0x2098c7[_0x35bbe6(0x2ce)]),{'metadata':await this[_0x35bbe6(0x18c)]['groupMetadata'](_0x44bca4)};}catch(_0x19dd68){throw this[_0x35bbe6(0x48c)][_0x35bbe6(0x22d)](this[_0x35bbe6(0x566)]+'\x20('+this[_0x35bbe6(0x300)]['wuid']+_0x35bbe6(0x62b)+(_0x19dd68 instanceof Error?_0x19dd68[_0x35bbe6(0x3d4)]:JSON['stringify'](_0x19dd68,null,0x2))),new O(_0x35bbe6(0x196),_0x19dd68[_0x35bbe6(0x6d4)]());}}async[a0_0x10d060(0x5de)](_0x5e9c1f){const _0x330548=a0_0x10d060;try{let _0x46a489;if((0x0,k['isURL'])(_0x5e9c1f[_0x330548(0x5bf)])){let _0x419ddc=new Date()[_0x330548(0x489)](),_0x2b41f9=_0x5e9c1f['image']+'?timestamp='+_0x419ddc;_0x46a489=(await se[_0x330548(0x6bb)]['get'](_0x2b41f9,{'responseType':_0x330548(0x70d)}))[_0x330548(0x533)];}else{if((0x0,k[_0x330548(0x542)])(_0x5e9c1f['image']))_0x46a489=Buffer[_0x330548(0x228)](_0x5e9c1f[_0x330548(0x5bf)],_0x330548(0x2a2));else throw new m(_0x330548(0x2f1));}return await this[_0x330548(0x18c)][_0x330548(0x6e8)](_0x5e9c1f[_0x330548(0x64a)],_0x46a489),{'update':'success'};}catch(_0x5703ea){throw new O(_0x330548(0x333),_0x5703ea[_0x330548(0x6d4)]());}}async[a0_0x10d060(0x5c7)](_0x161969,_0x1ae940=a0_0x10d060(0x232)){const _0x58e0d5=a0_0x10d060;try{let _0x5316e0=await this[_0x58e0d5(0x18c)][_0x58e0d5(0x4f1)](_0x161969['groupJid']),_0x3d93cf=null;try{_0x3d93cf=(await this['profilePicture'](_0x161969[_0x58e0d5(0x64a)]))['profilePictureUrl'];}catch(_0x262810){this[_0x58e0d5(0x48c)][_0x58e0d5(0x25f)](this[_0x58e0d5(0x566)]+'\x20('+this[_0x58e0d5(0x300)][_0x58e0d5(0x634)]+_0x58e0d5(0x670)+_0x161969[_0x58e0d5(0x64a)]+':\x20'+(_0x262810 instanceof Error?_0x262810[_0x58e0d5(0x3d4)]:JSON[_0x58e0d5(0x49d)](_0x262810,null,0x2)));}let _0x46bb5b=await this[_0x58e0d5(0x6f8)][_0x58e0d5(0x463)]['updateOne']({'where':{'_id':_0x161969[_0x58e0d5(0x64a)]}},{'imagechat':_0x3d93cf,'name':_0x5316e0[_0x58e0d5(0x6ae)],'group_size':_0x5316e0[_0x58e0d5(0x318)],'group_announce':_0x5316e0[_0x58e0d5(0x781)],'lastcache':Date['now']()},this[_0x58e0d5(0x300)][_0x58e0d5(0x634)]);return _0x46bb5b&&q(this[_0x58e0d5(0x566)],_0x58e0d5(0x3fa),{'chat':_0x46bb5b}),{'metadata':_0x5316e0,'image':_0x3d93cf};}catch(_0x5ddbcc){if(_0x1ae940==='inner')return;throw new F('Error\x20fetching\x20group',_0x5ddbcc['toString']());}}async[a0_0x10d060(0x2dc)](_0x60097f){const _0x5b2fcd=a0_0x10d060;try{return await this[_0x5b2fcd(0x18c)][_0x5b2fcd(0x330)](_0x60097f[_0x5b2fcd(0x64a)],_0x60097f[_0x5b2fcd(0x2ce)]),{'update':_0x5b2fcd(0x72b)};}catch(_0x1b2c6c){throw new O(_0x5b2fcd(0x778),_0x1b2c6c['toString']());}}async[a0_0x10d060(0x722)](_0xa82a16){const _0x38f872=a0_0x10d060;try{return await this[_0x38f872(0x18c)][_0x38f872(0x52e)](_0xa82a16['groupJid'],_0xa82a16[_0x38f872(0x4b9)]),{'update':'success'};}catch(_0x4ac6f3){throw new O(_0x38f872(0x52f),_0x4ac6f3['toString']());}}async[a0_0x10d060(0x2e5)](_0x3e010c){const _0x1214b6=a0_0x10d060;try{return await this[_0x1214b6(0x18c)][_0x1214b6(0x3d3)](_0x3e010c['groupJid'],_0x3e010c[_0x1214b6(0x186)]),{'update':'success'};}catch(_0x581685){throw new O('Error\x20change\x20group\x20setting',_0x581685['toString']());}}async[a0_0x10d060(0x48b)](){const _0x2b10c6=a0_0x10d060;try{let _0x3f4440=[],_0x7624ac=await this[_0x2b10c6(0x18c)][_0x2b10c6(0x532)](),_0x308ee9=Object[_0x2b10c6(0x4bd)](_0x7624ac),_0x5eb313=_0x308ee9[_0x2b10c6(0x3ed)](_0x289a55=>(0x0,y[_0x2b10c6(0x39b)])(_0x289a55?.['id']))[_0x2b10c6(0x606)](async _0x260ab9=>{const _0x3f2778=_0x2b10c6;try{return await this[_0x3f2778(0x18c)]['profilePictureUrl'](_0x260ab9['id'],_0x3f2778(0x425));}catch(_0x4d97f5){return this['logger'][_0x3f2778(0x25f)](this[_0x3f2778(0x566)]+'\x20('+this[_0x3f2778(0x300)][_0x3f2778(0x634)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x260ab9['id']+':\x20'+(_0x4d97f5 instanceof Error?_0x4d97f5[_0x3f2778(0x3d4)]:JSON[_0x3f2778(0x49d)](_0x4d97f5,null,0x2))),null;}}),_0x163fca=await Promise[_0x2b10c6(0x5d7)](_0x5eb313);for(let _0x373061=0x0;_0x373061<_0x308ee9[_0x2b10c6(0x31a)];_0x373061++){let _0x41f53d=_0x308ee9[_0x373061];(0x0,y[_0x2b10c6(0x39b)])(_0x41f53d?.['id'])&&_0x3f4440[_0x2b10c6(0x549)]({'groupJid':_0x41f53d?.['id'],'subject':_0x41f53d?.[_0x2b10c6(0x6ae)],'subjectOwner':_0x41f53d?.['subjectOwner']?.[_0x2b10c6(0x503)]('@')[0x0],'subjectTime':_0x41f53d?.[_0x2b10c6(0x1ed)],'size':_0x41f53d?.[_0x2b10c6(0x4b5)]?.[_0x2b10c6(0x31a)],'owner':_0x41f53d?.[_0x2b10c6(0x26f)]?.['split']('@')[0x0],'creation':_0x41f53d?.[_0x2b10c6(0x5dd)],'desc':_0x41f53d?.[_0x2b10c6(0x45c)],'restrict':_0x41f53d?.[_0x2b10c6(0x406)],'announce':_0x41f53d?.['announce'],'image':_0x163fca[_0x373061]});}return _0x3f4440;}catch(_0x1942c8){throw new F(_0x2b10c6(0x2e8),_0x1942c8[_0x2b10c6(0x6d4)]());}}async[a0_0x10d060(0x5ca)](_0x4368cf){const _0x36b711=a0_0x10d060;try{let _0x4bf817=await this[_0x36b711(0x18c)][_0x36b711(0x77f)](_0x4368cf['groupJid']);return{'inviteUrl':_0x36b711(0x5cb)+_0x4bf817,'inviteCode':_0x4bf817};}catch(_0x227de3){throw new F(_0x36b711(0x1a7),_0x227de3[_0x36b711(0x6d4)]());}}async[a0_0x10d060(0x4af)](_0x2631f0){const _0x102b37=a0_0x10d060;try{let _0x4b7cf0=await this[_0x102b37(0x18c)]['groupRevokeInvite'](_0x2631f0[_0x102b37(0x64a)]);return{'revoked':!0x0,'inviteUrl':_0x102b37(0x5cb)+_0x4b7cf0,'inviteCode':_0x4b7cf0};}catch(_0x2ebd41){throw new F(_0x102b37(0x4a7),_0x2ebd41['toString']());}}async['joinGroup'](_0x244fbc){const _0x747f5a=a0_0x10d060;try{if((0x0,k[_0x747f5a(0x53a)])(_0x244fbc[_0x747f5a(0x5ca)]))var _0x1d1590=_0x244fbc[_0x747f5a(0x5ca)][_0x747f5a(0x503)]('/')[0x3];else var _0x1d1590=_0x244fbc[_0x747f5a(0x5ca)];let _0x5598a7=await this[_0x747f5a(0x18c)][_0x747f5a(0x597)](_0x1d1590);return this[_0x747f5a(0x48c)][_0x747f5a(0x25f)](this[_0x747f5a(0x566)]+'\x20('+this[_0x747f5a(0x300)][_0x747f5a(0x634)]+'):\x20'+_0x5598a7),{'join':!0x0,'inviteCode':_0x1d1590,'groupJid':_0x5598a7};}catch(_0x18425a){throw new F(_0x747f5a(0x29c),_0x18425a[_0x747f5a(0x6d4)]());}}async[a0_0x10d060(0x354)](_0x3e3047){const _0x50800f=a0_0x10d060;try{return{'participants':(await this[_0x50800f(0x18c)][_0x50800f(0x4f1)](_0x3e3047[_0x50800f(0x64a)]))[_0x50800f(0x4b5)]};}catch(_0x3fc225){throw new F(_0x50800f(0x5db),_0x3fc225[_0x50800f(0x6d4)]());}}async[a0_0x10d060(0x202)](_0x19d23a){const _0x36e25e=a0_0x10d060;try{let _0x31ec0e=_0x19d23a[_0x36e25e(0x4b5)][_0x36e25e(0x606)](_0x2a1984=>this[_0x36e25e(0x373)](_0x2a1984));return{'updateParticipants':await this[_0x36e25e(0x18c)][_0x36e25e(0x58b)](_0x19d23a[_0x36e25e(0x64a)],_0x31ec0e,_0x19d23a['action'])};}catch(_0x12f5e2){throw new m(_0x36e25e(0x2cb),_0x12f5e2[_0x36e25e(0x6d4)]());}}async[a0_0x10d060(0x632)](_0x89c65a){const _0x25363c=a0_0x10d060;try{let _0x1ef9fd=await this[_0x25363c(0x18c)]['groupToggleEphemeral'](_0x89c65a[_0x25363c(0x64a)],_0x89c65a[_0x25363c(0x169)]);return{'success':!0x0};}catch(_0x2ec67c){throw new m(_0x25363c(0x390),_0x2ec67c['toString']());}}async[a0_0x10d060(0x172)](_0xc53a8e){const _0x3eb518=a0_0x10d060;try{return await this[_0x3eb518(0x18c)]['groupLeave'](_0xc53a8e[_0x3eb518(0x64a)]),{'groupJid':_0xc53a8e[_0x3eb518(0x64a)],'leave':!0x0};}catch(_0x13e628){throw new m(_0x3eb518(0x1cc),_0x13e628['toString']());}}async[a0_0x10d060(0x33a)](_0x5b6ade){const _0x33aece=a0_0x10d060;return await this['sendMessageWithTyping'](_0x5b6ade[_0x33aece(0x4d0)],{'poll':{'name':_0x5b6ade[_0x33aece(0x33a)]?.['name'],'selectableCount':_0x5b6ade[_0x33aece(0x33a)]['selectableCount'],'values':_0x5b6ade[_0x33aece(0x33a)][_0x33aece(0x4bd)]}},_0x5b6ade?.[_0x33aece(0x1f2)]);}async[a0_0x10d060(0x69f)](_0x45b680){const _0x4fd797=a0_0x10d060;return await this['sendMessageWithTyping'](_0x45b680[_0x4fd797(0x4d0)],{'listMessage':{'title':_0x45b680[_0x4fd797(0x69f)][_0x4fd797(0x402)],'description':_0x45b680['listMessage'][_0x4fd797(0x2ce)],'buttonText':_0x45b680[_0x4fd797(0x69f)]?.[_0x4fd797(0x1e2)],'footerText':_0x45b680[_0x4fd797(0x69f)]?.[_0x4fd797(0x5ed)],'sections':_0x45b680[_0x4fd797(0x69f)][_0x4fd797(0x15d)],'listType':0x2}},_0x45b680?.['options']);}async[a0_0x10d060(0x281)](_0x429659){const _0x4151a3=a0_0x10d060;let _0xe68b3f;if(_0x429659[_0x4151a3(0x281)][_0x4151a3(0x727)]===_0x4151a3(0x77e)){let _0x53e48d=_0x429659['menuMessage'][_0x4151a3(0x28b)][_0x4151a3(0x2fd)]('\x0a'),_0x51752a='',_0x1298b9='';_0x53e48d!==-0x1?(_0x51752a=_0x429659['menuMessage'][_0x4151a3(0x28b)][_0x4151a3(0x6a5)](0x0,_0x53e48d)[_0x4151a3(0x2a0)](),_0x1298b9=_0x429659[_0x4151a3(0x281)][_0x4151a3(0x28b)]['substring'](_0x53e48d+0x1)):_0x1298b9=_0x429659['menuMessage'][_0x4151a3(0x28b)];let _0x2f1494=this[_0x4151a3(0x2f2)](_0x429659[_0x4151a3(0x281)][_0x4151a3(0x6cc)]);_0xe68b3f={'listMessage':{'title':_0x51752a,'description':_0x1298b9,'buttonText':_0x429659['menuMessage'][_0x4151a3(0x1e2)]||_0x4151a3(0x215),'footerText':_0x429659['menuMessage'][_0x4151a3(0x5ed)],'sections':_0x2f1494,'listType':0x2}};}else{if(_0x429659[_0x4151a3(0x281)][_0x4151a3(0x727)]===_0x4151a3(0x708)){let _0x200453=_0x429659[_0x4151a3(0x281)][_0x4151a3(0x6cc)][_0x4151a3(0x3ed)](_0x3823f0=>!(_0x3823f0[_0x4151a3(0x366)]('[')&&_0x3823f0[_0x4151a3(0x72e)](']')))[_0x4151a3(0x606)](_0x3f14d6=>_0x3f14d6['split']('\x0a')[0x0]);_0xe68b3f={'poll':{'name':_0x429659[_0x4151a3(0x281)]['text'],'selectableCount':_0x429659[_0x4151a3(0x281)][_0x4151a3(0x174)]||0x1,'values':_0x200453}};}}return await this[_0x4151a3(0x443)](_0x429659[_0x4151a3(0x4d0)],_0xe68b3f,_0x429659?.[_0x4151a3(0x1f2)]);}[a0_0x10d060(0x2f2)](_0x5a114a){const _0x1b0810=a0_0x10d060;let _0x533f10=[],_0x339de0={'rows':[]};return _0x5a114a[_0x1b0810(0x311)](_0xf315c8=>{const _0x1f21aa=_0x1b0810;if(_0xf315c8[_0x1f21aa(0x366)]('[')&&_0xf315c8['endsWith'](']'))_0x339de0[_0x1f21aa(0x3bc)]['length']>0x0&&_0x533f10[_0x1f21aa(0x549)](_0x339de0),_0x339de0={'title':_0xf315c8['slice'](0x1,-0x1),'rows':[]};else{let _0x144f09=_0xf315c8[_0x1f21aa(0x503)]('\x0a')[_0x1f21aa(0x606)](_0x423381=>_0x423381['trim']()),_0x1aa726=_0x144f09[0x0],_0x21ef97=_0x144f09[0x1]||null,_0x59e75b=_0x144f09[0x2]||_0x1aa726;_0x339de0['rows'][_0x1f21aa(0x549)]({'title':_0x1aa726,'description':_0x21ef97,'rowId':_0x59e75b});}}),_0x339de0[_0x1b0810(0x3bc)][_0x1b0810(0x31a)]>0x0&&_0x533f10[_0x1b0810(0x549)](_0x339de0),_0x533f10;}async[a0_0x10d060(0x165)](_0x335c96,_0x1607b5){const _0x14c1ba=a0_0x10d060;if(await this['getMessage'](_0x335c96,!0x0)){let _0x5c317e={'where':{'_id':_0x335c96['id']}},_0x15e3d8={'status':[_0x1607b5[_0x14c1ba(0x5c1)]][0x0]};try{let _0x230ca7=await this['repository']['message'][_0x14c1ba(0x24c)](_0x5c317e,_0x15e3d8,this['instance'][_0x14c1ba(0x634)]);_0x230ca7&&q(this['instanceName'],_0x14c1ba(0x2cc),{'message':_0x230ca7});}catch{}}}[a0_0x10d060(0x4b1)](_0xdf22f6){const _0x51f509=a0_0x10d060;let _0x4054be=[];return _0xdf22f6[_0x51f509(0x311)](_0x7d4e89=>{const _0x25ae0e=_0x51f509;_0x7d4e89[_0x25ae0e(0x402)]&&_0x4054be[_0x25ae0e(0x549)]('['+_0x7d4e89[_0x25ae0e(0x402)]+']'),_0x7d4e89[_0x25ae0e(0x3bc)][_0x25ae0e(0x311)](_0x124677=>{const _0xbcd2aa=_0x25ae0e;let _0x379524=_0x124677[_0xbcd2aa(0x402)];_0x124677[_0xbcd2aa(0x2ce)]&&(_0x379524+='\x0a'+_0x124677[_0xbcd2aa(0x2ce)]),_0x379524+='\x0a'+_0x124677['rowId'],_0x4054be['push'](_0x379524);});}),_0x4054be[_0x51f509(0x535)]('|');}['formatVCard'](_0x236b43){const _0x2abd13=a0_0x10d060;let _0x2c215d=_0x236b43[_0x2abd13(0x63c)](/\\n/g,'\x0a')['split']('\x0a')[_0x2abd13(0x3ed)](_0x14c29f=>_0x14c29f[_0x2abd13(0x23d)](_0x2abd13(0x44e))||_0x14c29f['includes'](_0x2abd13(0x257))),_0x1d79f8='';return _0x2c215d[_0x2abd13(0x311)](_0x284624=>{const _0x3aceeb=_0x2abd13;let _0x21495d=/TEL(?:.*):(.+)/,_0x1f9a12=/EMAIL(?:.*):(.+)/,_0x56a017=_0x284624[_0x3aceeb(0x47a)](_0x21495d),_0x3b5e85=_0x284624['match'](_0x1f9a12);if(_0x56a017){let _0x859d0d=_0x56a017[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x3aceeb(0x2a0)]();_0x1d79f8+=_0x3aceeb(0x210)+_0x859d0d+'\x0a';}else{if(_0x3b5e85){let _0x5e260a=_0x3b5e85[0x1][_0x3aceeb(0x2a0)]();_0x1d79f8+=_0x3aceeb(0x2e9)+_0x5e260a+'\x0a';}}}),_0x1d79f8[_0x2abd13(0x2a0)]();}async[a0_0x10d060(0x6e3)](_0x33d3cb,_0xed51e9,_0x3f8c3c){const _0x2dcdc0=a0_0x10d060;if(!_0x33d3cb['ENABLED'])return;let _0x228a36=_0xed51e9[_0x2dcdc0(0x181)][_0x2dcdc0(0x450)][_0x2dcdc0(0x63c)](/:\d{1,2}@/g,'@'),_0x36419c=_0xed51e9[_0x2dcdc0(0x181)][_0x2dcdc0(0x233)],_0x13a52d=_0x228a36[_0x2dcdc0(0x72e)](_0x2dcdc0(0x3c5)),_0x3cabb5=_0xed51e9['message_normalized']?.[_0x2dcdc0(0x28b)]||_0xed51e9[_0x2dcdc0(0x44f)]?.[_0x2dcdc0(0x3d8)]||_0xed51e9[_0x2dcdc0(0x44f)]?.[_0x2dcdc0(0x5bc)]||_0xed51e9[_0x2dcdc0(0x44f)]?.[_0x2dcdc0(0x4b9)],_0x2a4c31={'lastmsg':_0xed51e9[_0x2dcdc0(0x6c1)]||Date[_0x2dcdc0(0x27f)](),'imported':!0x1,'unreadcount':_0x36419c?0x0:0x1,..._0x36419c||_0x13a52d?{}:{'name':_0xed51e9[_0x2dcdc0(0x39f)]},..._0x13a52d?{'group':_0x13a52d}:{}};if(_0x3f8c3c===_0x2dcdc0(0x5ce)&&_0x36419c&&this[_0x2dcdc0(0x667)]?.[_0x2dcdc0(0x45e)]['enabled']&&!_0x3cabb5[_0x2dcdc0(0x366)](this[_0x2dcdc0(0x667)]?.['flowConfig']['prefixCommand'])){let _0x2dc975=(this[_0x2dcdc0(0x667)]?.['flowConfig'][_0x2dcdc0(0x2d8)]||0x5)*0xea60,_0x44bb41=Date[_0x2dcdc0(0x27f)]()+_0x2dc975;_0x2a4c31[_0x2dcdc0(0x15f)]=_0x44bb41,this[_0x2dcdc0(0x48c)][_0x2dcdc0(0x25f)](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)]+_0x2dcdc0(0x3a1)+_0x44bb41+'.');}let _0x553eed=await this[_0x2dcdc0(0x6f8)][_0x2dcdc0(0x463)][_0x2dcdc0(0x251)]({'where':{'_id':_0x228a36}},_0x2a4c31,this['instance'][_0x2dcdc0(0x634)],{'new':!0x0,'upsert':!0x0});if(!_0x13a52d&&(!_0x553eed?.[_0x2dcdc0(0x334)]||!_0x553eed[_0x2dcdc0(0x334)][_0x2dcdc0(0x65b)])&&_0xed51e9[_0x2dcdc0(0x39f)]&&!_0x36419c&&await this[_0x2dcdc0(0x6f8)][_0x2dcdc0(0x463)][_0x2dcdc0(0x251)]({'where':{'_id':_0x228a36}},{'leadInfo':{'nome':_0xed51e9['pushName']}},this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)],{'new':!0x0,'upsert':!0x1}),_0x553eed)q(this['instanceName'],'chats',{'chat':_0x553eed});else{this[_0x2dcdc0(0x48c)]['error'](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)]+_0x2dcdc0(0x71e));return;}if(!this['AutomateSystem']?.[_0x2dcdc0(0x45e)][_0x2dcdc0(0x641)])return this[_0x2dcdc0(0x48c)][_0x2dcdc0(0x25f)](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)]+_0x2dcdc0(0x361)),null;if(_0x553eed['_id'][_0x2dcdc0(0x23d)]('@g.us')&&this[_0x2dcdc0(0x667)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x2dcdc0(0x48c)][_0x2dcdc0(0x25f)](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)]['wuid']+_0x2dcdc0(0x23e)),null;if(_0x553eed[_0x2dcdc0(0x334)]){if(_0x553eed[_0x2dcdc0(0x334)]['desativadoFluxoAte']===0x0||_0x553eed['leadInfo'][_0x2dcdc0(0x4fd)])return this[_0x2dcdc0(0x48c)][_0x2dcdc0(0x25f)](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)]+_0x2dcdc0(0x54c)+_0x228a36+_0x2dcdc0(0x38f)),null;if(_0x553eed[_0x2dcdc0(0x334)][_0x2dcdc0(0x2fe)]>Date['now']()&&!_0xed51e9[_0x2dcdc0(0x44f)]?.['vote'])return this[_0x2dcdc0(0x48c)][_0x2dcdc0(0x25f)](this[_0x2dcdc0(0x566)]+'\x20('+this[_0x2dcdc0(0x300)][_0x2dcdc0(0x634)]+_0x2dcdc0(0x4e6)+new Date(_0x553eed['leadInfo'][_0x2dcdc0(0x2fe)])[_0x2dcdc0(0x2ae)]()+',\x20saindo.'),null;}this['logger']['verbose'](this[_0x2dcdc0(0x566)]+'\x20('+this['instance'][_0x2dcdc0(0x634)]+_0x2dcdc0(0x60b)),this[_0x2dcdc0(0x721)](_0x3f8c3c,_0xed51e9);}async['upsertChats'](_0xb709a4,_0x1009c6){const _0x5c3eb1=a0_0x10d060;if(_0x1009c6[_0x5c3eb1(0x1f8)]){let _0x30fd5a=_0xb709a4[_0x5c3eb1(0x606)](async _0x1a345b=>{const _0x4db736=_0x5c3eb1;try{let _0x4c45c2={'_id':_0x1a345b[_0x4db736(0x372)],'owner':_0x1a345b[_0x4db736(0x26f)],'lastcache':0x0};if(_0x1a345b[_0x4db736(0x545)]!==null&&(_0x4c45c2[_0x4db736(0x545)]=_0x1a345b[_0x4db736(0x545)]),_0x1a345b[_0x4db736(0x4b9)]!==null&&(_0x4c45c2[_0x4db736(0x4b9)]=_0x1a345b[_0x4db736(0x4b9)]),_0x1a345b['contactname']!==null&&(_0x4c45c2[_0x4db736(0x4dd)]=_0x1a345b['contactname']),_0x1a345b[_0x4db736(0x553)]!==null&&(_0x4c45c2[_0x4db736(0x553)]=_0x1a345b[_0x4db736(0x553)]),_0x1a345b[_0x4db736(0x553)]===null&&(_0x4c45c2[_0x4db736(0x553)]=_0x4db736(0x2b1)),_0x1a345b[_0x4db736(0x290)]!==null&&(_0x4c45c2[_0x4db736(0x290)]=_0x1a345b[_0x4db736(0x290)]),_0x1a345b[_0x4db736(0x1ce)]!==null&&(_0x4c45c2[_0x4db736(0x1ce)]=_0x1a345b[_0x4db736(0x1ce)]),_0x1a345b[_0x4db736(0x302)]!==null&&(_0x4c45c2[_0x4db736(0x302)]=_0x1a345b[_0x4db736(0x302)]),Object['keys'](_0x4c45c2)['length']>0x0)return await this[_0x4db736(0x6f8)][_0x4db736(0x463)][_0x4db736(0x251)]({'where':{'_id':_0x1a345b[_0x4db736(0x372)]}},_0x4c45c2,this[_0x4db736(0x300)][_0x4db736(0x634)]);}catch(_0x41399d){return console[_0x4db736(0x22d)](_0x4db736(0x5b8)+_0x1a345b[_0x4db736(0x372)]+':',_0x41399d),null;}}),_0x142e44=(await Promise[_0x5c3eb1(0x5d7)](_0x30fd5a))['filter'](_0x534d0a=>_0x534d0a!==null)['length'];this[_0x5c3eb1(0x48c)][_0x5c3eb1(0x25f)](this[_0x5c3eb1(0x566)]+'\x20('+this[_0x5c3eb1(0x300)][_0x5c3eb1(0x634)]+_0x5c3eb1(0x62b)+_0x142e44+_0x5c3eb1(0x158)+this[_0x5c3eb1(0x300)][_0x5c3eb1(0x634)]+_0x5c3eb1(0x171));}}async[a0_0x10d060(0x6e9)](_0x4fda43){const _0x478d8f=a0_0x10d060;this[_0x478d8f(0x48c)]['verbose'](this[_0x478d8f(0x566)]+'\x20('+this[_0x478d8f(0x300)]['wuid']+_0x478d8f(0x3ee));let _0x8d9fd5={'readMessages':[{'remoteJid':_0x4fda43[_0x478d8f(0x2b4)]['lastReceivedMessage'][_0x478d8f(0x181)]['remoteJid'],'fromMe':_0x4fda43['chatLog']['lastReceivedMessage'][_0x478d8f(0x181)][_0x478d8f(0x233)],'id':_0x4fda43[_0x478d8f(0x2b4)][_0x478d8f(0x72d)][_0x478d8f(0x181)]['id']}]};await this[_0x478d8f(0x4ba)](_0x8d9fd5);}async[a0_0x10d060(0x721)](_0x37f595,_0x3eee0c){const _0x42691a=a0_0x10d060;try{let {key:_0x2306dc,message_normalized:_0xfda279}=_0x3eee0c,_0x445355=_0xfda279,_0x509c57=_0xfda279[_0x42691a(0x28b)]||_0xfda279['caption']||_0xfda279[_0x42691a(0x5bc)]||_0xfda279[_0x42691a(0x4b9)],_0x117ac4=_0x2306dc[_0x42691a(0x450)],_0x50a062;if(_0x445355['key'][_0x42691a(0x233)]&&_0x509c57[_0x42691a(0x2a0)]()!==this[_0x42691a(0x667)]?.[_0x42691a(0x45e)][_0x42691a(0x15a)][_0x42691a(0x2a0)]())return this[_0x42691a(0x48c)][_0x42691a(0x25f)](this[_0x42691a(0x566)]+'\x20('+this[_0x42691a(0x300)][_0x42691a(0x634)]+_0x42691a(0x3eb)),null;if(_0x445355[_0x42691a(0x181)][_0x42691a(0x233)]&&_0x509c57['trim']()===this[_0x42691a(0x667)]?.[_0x42691a(0x45e)][_0x42691a(0x15a)][_0x42691a(0x2a0)]()){this[_0x42691a(0x48c)]['verbose'](this[_0x42691a(0x566)]+'\x20('+this['instance'][_0x42691a(0x634)]+_0x42691a(0x385));let _0x58ae45=await this[_0x42691a(0x6f8)][_0x42691a(0x27d)][_0x42691a(0x5aa)]({'remoteJid':_0x117ac4,'status':_0x42691a(0x17f)},this[_0x42691a(0x300)]['wuid']);this['logger'][_0x42691a(0x25f)](this['instanceName']+'\x20('+this[_0x42691a(0x300)][_0x42691a(0x634)]+_0x42691a(0x4e9)+_0x58ae45);let _0x3318cc=Date[_0x42691a(0x27f)](),_0x329ef0;return this[_0x42691a(0x667)]?.['flowConfig'][_0x42691a(0x1de)]===0x0?_0x329ef0={'stoppedUntil':_0x3318cc+0x7591f6200}:_0x329ef0={'stoppedUntil':_0x3318cc+this[_0x42691a(0x667)]?.[_0x42691a(0x45e)][_0x42691a(0x1de)]*0x3c*0x3e8},this[_0x42691a(0x48c)][_0x42691a(0x25f)](this[_0x42691a(0x566)]+'\x20('+this[_0x42691a(0x300)]['wuid']+_0x42691a(0x319)+_0x329ef0),this[_0x42691a(0x638)](_0x50a062,_0x329ef0['stoppedUntil']),null;}if(_0x509c57&&_0x509c57['startsWith'](this[_0x42691a(0x667)]?.[_0x42691a(0x45e)][_0x42691a(0x48e)])&&_0x509c57[_0x42691a(0x31a)]>0x4){let _0xb02448=await this[_0x42691a(0x6f8)][_0x42691a(0x32a)][_0x42691a(0x198)]({'where':{'startCommandWord':_0x509c57}},this['instance'][_0x42691a(0x634)]);if(this[_0x42691a(0x48c)]['verbose'](this[_0x42691a(0x566)]+'\x20('+this[_0x42691a(0x300)][_0x42691a(0x634)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0xb02448)_0x50a062=await this[_0x42691a(0x47c)](_0xb02448,_0x445355['key'],_0x445355);else return this[_0x42691a(0x48c)][_0x42691a(0x25f)](this['instanceName']+'\x20('+this[_0x42691a(0x300)][_0x42691a(0x634)]+_0x42691a(0x552)),null;}else _0x50a062=await this[_0x42691a(0x71f)](_0x117ac4,_0x445355);if(_0x50a062){this[_0x42691a(0x48c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x42691a(0x634)]+_0x42691a(0x4d2)),!_0x2306dc[_0x42691a(0x233)]&&_0x50a062[_0x42691a(0x312)]&&this[_0x42691a(0x6e9)](_0x50a062);let _0x139c66=await this[_0x42691a(0x268)](_0x50a062);_0x139c66&&await this[_0x42691a(0x357)](_0x50a062,_0x139c66);}}catch(_0x230800){this['logger'][_0x42691a(0x22d)](this['instanceName']+'\x20('+this[_0x42691a(0x300)]['wuid']+_0x42691a(0x60c)+(_0x230800 instanceof Error?_0x230800[_0x42691a(0x3d4)]:JSON[_0x42691a(0x49d)](_0x230800,null,0x2)));}}[a0_0x10d060(0x524)](_0x40ed9b,_0x399903='',_0x3b0df3={},_0x5a775f=!0x0){const _0x3c7364=a0_0x10d060;for(let _0x1745cd in _0x40ed9b){let _0x37b582=_0x5a775f?'_'+_0x1745cd:''+_0x399903+_0x1745cd;typeof _0x40ed9b[_0x1745cd]==_0x3c7364(0x74d)&&_0x40ed9b[_0x1745cd]!==null?this[_0x3c7364(0x524)](_0x40ed9b[_0x1745cd],_0x37b582+'.',_0x3b0df3,!0x1):_0x3b0df3[_0x37b582]=String(_0x40ed9b[_0x1745cd]);}return _0x3b0df3;}[a0_0x10d060(0x706)](_0x2109bd){const _0x3b5736=a0_0x10d060;let _0x2c4dcd={};for(let _0x3c4769 of _0x2109bd)typeof _0x3c4769[_0x3b5736(0x4b9)]==_0x3b5736(0x40e)&&typeof _0x3c4769[_0x3b5736(0x748)]==_0x3b5736(0x40e)&&(_0x2c4dcd[_0x3c4769[_0x3b5736(0x4b9)]]=_0x3c4769[_0x3b5736(0x748)]);return _0x2c4dcd;}async[a0_0x10d060(0x268)](_0x3d2303){const _0xaeac91=a0_0x10d060;if(!this[_0xaeac91(0x667)]?.['flowConfig']['enabled']||_0x3d2303[_0xaeac91(0x5c1)]!==_0xaeac91(0x17f)&&_0x3d2303[_0xaeac91(0x73d)]==='')return null;let _0x402c5a=_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x665)]||_0xaeac91(0x49b);typeof _0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x2b7)]>'u'&&(_0x3d2303['chatLog'][_0xaeac91(0x2b7)]=!0x0);let _0x91fbae=_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x2b7)];this[_0xaeac91(0x48c)][_0xaeac91(0x25f)](this['instanceName']+'\x20('+this[_0xaeac91(0x300)][_0xaeac91(0x634)]+'):\x20lastBlockId:\x20'+_0x402c5a+_0xaeac91(0x42e)+_0x91fbae);let _0xfdf1d3=_0x402c5a==='start'?_0x3d2303['blocks'][_0xaeac91(0x5aa)](_0x7a71cf=>_0x7a71cf[_0xaeac91(0x727)]===_0xaeac91(0x49b)):_0x3d2303[_0xaeac91(0x2f7)][_0xaeac91(0x5aa)](_0x406834=>_0x406834[_0xaeac91(0x372)][_0xaeac91(0x6d4)]()===_0x402c5a['toString']());if(!_0xfdf1d3)return this['logger']['error'](this[_0xaeac91(0x566)]+'\x20('+this[_0xaeac91(0x300)][_0xaeac91(0x634)]+_0xaeac91(0x459)+_0x402c5a),null;let _0x39b1d0={'_pushName':_0x3d2303['chatLog']['lastReceivedMessage'][_0xaeac91(0x39f)],..._0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x205)]},_0x596225=null;if(_0x3d2303[_0xaeac91(0x73d)]){let _0x9f885a=_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x72d)][_0xaeac91(0x5bc)],_0x3acad5=_0x3d2303[_0xaeac91(0x756)][_0xaeac91(0x5aa)](_0xec5ae=>_0xec5ae['option']===_0x9f885a);if(_0x3acad5){let _0x1f2d9e=_0x3acad5[_0xaeac91(0x775)];if(_0x596225=_0x3d2303[_0xaeac91(0x2f7)]['find'](_0x48d5b0=>_0x48d5b0[_0xaeac91(0x741)]===_0x1f2d9e&&_0x48d5b0[_0xaeac91(0x718)]===0x1),_0xfdf1d3[_0xaeac91(0x346)]['pollOnReplyDelete']){let _0x30ef66={'id':_0x3d2303['waitingMenu_id'],'remoteJid':_0x3d2303[_0xaeac91(0x450)],'fromMe':!0x0};await this[_0xaeac91(0x5e5)](_0x30ef66);}if(_0xfdf1d3[_0xaeac91(0x346)][_0xaeac91(0x38b)]&&_0xfdf1d3[_0xaeac91(0x346)][_0xaeac91(0x3b1)]&&_0xfdf1d3[_0xaeac91(0x346)][_0xaeac91(0x1da)]===_0xaeac91(0x708)){let _0x5eb66f={'number':_0x3d2303[_0xaeac91(0x450)],'options':{'delay':0x0},'textMessage':{'text':_0xaeac91(0x3fb)+_0x3d2303['waitingMenu_text']+_0xaeac91(0x436)+_0x9f885a}};await this[_0xaeac91(0x34e)](_0x5eb66f);}_0x3d2303['status']=_0xaeac91(0x17f),_0x3d2303[_0xaeac91(0x73d)]='',_0x3d2303['waitingMenu_text']='',_0x3d2303[_0xaeac91(0x756)]=[];}else{this[_0xaeac91(0x48c)][_0xaeac91(0x25f)](this[_0xaeac91(0x566)]+'\x20('+this[_0xaeac91(0x300)][_0xaeac91(0x634)]+_0xaeac91(0x280));let _0x21d1fe={'activatedCount':_0x3d2303['chatLog'][_0xaeac91(0x497)][_0xaeac91(0x3ed)](_0x26f339=>String(_0x26f339[_0xaeac91(0x468)])===String(_0x402c5a))['length'],'moreLogs':[_0xaeac91(0x692)]};if(_0xfdf1d3[_0xaeac91(0x346)][_0xaeac91(0x4e0)]){let _0x121d7d={'number':_0x3d2303[_0xaeac91(0x450)],'options':{'delay':0x0},'textMessage':{'text':_0xfdf1d3['uazapi'][_0xaeac91(0x4e0)]}};await this['textMessage'](_0x121d7d);}if(_0xfdf1d3['maxActives']!==void 0x0&&_0x21d1fe['activatedCount']>=_0xfdf1d3[_0xaeac91(0x2fb)]){let _0x4f9d71=Date[_0xaeac91(0x27f)](),_0x662b47=_0xfdf1d3[_0xaeac91(0x483)]??0xa;isNaN(_0x662b47)&&(_0x662b47=0xa);let _0x39b86a=_0x4f9d71+_0x662b47*0x3c*0x3e8;_0x21d1fe[_0xaeac91(0x3f1)]=_0x39b86a,_0x21d1fe[_0xaeac91(0x591)][_0xaeac91(0x549)](_0xaeac91(0x571)),this[_0xaeac91(0x638)](_0x3d2303,_0x39b86a),_0x3d2303[_0xaeac91(0x73d)]='',_0x3d2303[_0xaeac91(0x747)]='',_0x3d2303['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x3d2303,_0xfdf1d3,_0x21d1fe,!0x0),null;}}if(_0x91fbae&&_0xfdf1d3[_0xaeac91(0x775)]&&!_0x3d2303[_0xaeac91(0x73d)]){let _0x1744dd=_0x3d2303[_0xaeac91(0x2f7)][_0xaeac91(0x3ed)](_0x49a61b=>_0x49a61b[_0xaeac91(0x741)][_0xaeac91(0x6d4)]()===_0xfdf1d3[_0xaeac91(0x775)][_0xaeac91(0x6d4)]())[_0xaeac91(0x63e)]((_0x1043ad,_0x1d41d8)=>_0x1043ad['order']-_0x1d41d8[_0xaeac91(0x718)]);_0x1744dd['length']>0x0&&(_0x596225=_0x1744dd[0x0]);}if(!_0x596225){let _0x1c1574=_0xfdf1d3[_0xaeac91(0x741)],_0x4b0a50=_0x3d2303[_0xaeac91(0x2f7)]['filter'](_0xf9986e=>_0xf9986e[_0xaeac91(0x741)]===_0x1c1574&&_0xf9986e[_0xaeac91(0x718)]>_0xfdf1d3['order'])[_0xaeac91(0x63e)]((_0x35daf4,_0x853fa3)=>_0x35daf4[_0xaeac91(0x718)]-_0x853fa3[_0xaeac91(0x718)]);_0x4b0a50[_0xaeac91(0x31a)]>0x0&&(_0x596225=_0x4b0a50[0x0]);}if(!_0x596225)return _0x3d2303['status']=_0xaeac91(0x370),null;_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x205)]=_0x39b1d0;let _0x17ea37=JSON['parse'](JSON[_0xaeac91(0x49d)](_0x596225));return this[_0xaeac91(0x17e)](_0x17ea37,_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x205)]),_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x665)]=_0x17ea37['_id'],_0x3d2303[_0xaeac91(0x2b4)][_0xaeac91(0x2b7)]=!0x0,_0x17ea37;}[a0_0x10d060(0x1b8)](_0x27de03,_0x344a85){const _0x100560=a0_0x10d060;return _0x27de03[_0x100560(0x63c)](/\{\{([^}]+)\}\}/g,(_0x5f151e,_0x51d6c4)=>_0x344a85[_0x51d6c4]||'');}[a0_0x10d060(0x17e)](_0x350f7b,_0x308c5d){const _0x356367=a0_0x10d060;for(let _0x38f1e2 in _0x350f7b)typeof _0x350f7b[_0x38f1e2]==_0x356367(0x40e)?_0x350f7b[_0x38f1e2]=this[_0x356367(0x1b8)](_0x350f7b[_0x38f1e2],_0x308c5d):typeof _0x350f7b[_0x38f1e2]==_0x356367(0x74d)&&this[_0x356367(0x17e)](_0x350f7b[_0x38f1e2],_0x308c5d);}async[a0_0x10d060(0x197)](_0x412547,_0x39dd9a){const _0x30267b=a0_0x10d060;let _0x36ed03=_0x39dd9a[_0x30267b(0x372)];if(_0x412547[_0x30267b(0x2b4)]&&_0x412547[_0x30267b(0x2b4)]['blockLogs']){let _0xaee6c9=_0x412547['chatLog'][_0x30267b(0x497)][_0x30267b(0x3ed)](_0x2564cf=>String(_0x2564cf[_0x30267b(0x468)])===String(_0x36ed03))[_0x30267b(0x316)]();if(_0xaee6c9&&_0xaee6c9['error']&&_0x39dd9a[_0x30267b(0x716)])return _0x412547[_0x30267b(0x5c1)]=_0x30267b(0x370),await this[_0x30267b(0x5c5)](_0x412547),null;}if(_0x39dd9a[_0x30267b(0x727)]==='uazapi'&&_0x39dd9a[_0x30267b(0x346)]['command']===_0x30267b(0x546)&&_0x412547[_0x30267b(0x73d)])return _0x412547[_0x30267b(0x2b4)][_0x30267b(0x665)]=_0x36ed03,await this['saveConversationToDatabase'](_0x412547),null;let _0x4d1085=await this[_0x30267b(0x268)](_0x412547);if(_0x412547[_0x30267b(0x2b4)]&&_0x412547[_0x30267b(0x2b4)][_0x30267b(0x497)]){let _0x3501bc=_0x412547[_0x30267b(0x2b4)][_0x30267b(0x497)][_0x30267b(0x3ed)](_0x430442=>String(_0x430442[_0x30267b(0x468)])===String(_0x36ed03))[_0x30267b(0x31a)];if(_0x39dd9a[_0x30267b(0x2fb)]!==void 0x0&&_0x3501bc>=_0x39dd9a[_0x30267b(0x2fb)]){let _0x218429=Date[_0x30267b(0x27f)](),_0x3e58c6=_0x39dd9a[_0x30267b(0x483)]??0xa;isNaN(_0x3e58c6)&&(_0x3e58c6=0xa);let _0x39fce6=_0x218429+_0x3e58c6*0x3c*0x3e8,_0x40033c={'newStoppedUntil':_0x39fce6};return this[_0x30267b(0x638)](_0x412547,_0x39fce6),this['updateConversation'](_0x412547,_0x39dd9a,_0x40033c,!0x0),null;}}_0x4d1085&&_0x4d1085[_0x30267b(0x727)]!==_0x30267b(0x2e4)&&await this[_0x30267b(0x357)](_0x412547,_0x4d1085),_0x4d1085||await this['saveConversationToDatabase'](_0x412547),_0x4d1085&&_0x4d1085['type']===_0x30267b(0x2e4)&&(_0x412547[_0x30267b(0x2b4)][_0x30267b(0x665)]=_0x36ed03,await this[_0x30267b(0x5c5)](_0x412547));}async[a0_0x10d060(0x357)](_0x53e243,_0x45e8da){const _0x1641d7=a0_0x10d060;try{let _0x5ad9df=_0x45e8da[_0x1641d7(0x727)];this[_0x1641d7(0x48c)]['verbose'](this[_0x1641d7(0x566)]+'\x20('+this[_0x1641d7(0x300)]['wuid']+'):\x20Going\x20to\x20'+_0x5ad9df);let _0x4da9be={'uazapi':()=>this[_0x1641d7(0x1f9)](_0x53e243,_0x45e8da),'save':()=>this[_0x1641d7(0x217)](_0x53e243,_0x45e8da),'stop':()=>this[_0x1641d7(0x15a)](_0x53e243,_0x45e8da),'condition':()=>this[_0x1641d7(0x2f5)](_0x53e243,_0x45e8da),'varedit':()=>this[_0x1641d7(0x647)](_0x53e243,_0x45e8da),'apirequest':()=>this[_0x1641d7(0x46f)](_0x53e243,_0x45e8da),'goToFlow':()=>this['processgoToFlow'](_0x53e243,_0x45e8da)}[_0x5ad9df];_0x4da9be&&await _0x4da9be();}catch(_0x57807f){this[_0x1641d7(0x48c)][_0x1641d7(0x22d)](this[_0x1641d7(0x566)]+'\x20('+this[_0x1641d7(0x300)][_0x1641d7(0x634)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x57807f instanceof Error?_0x57807f[_0x1641d7(0x3d4)]:JSON[_0x1641d7(0x49d)](_0x57807f,null,0x2)));}}async[a0_0x10d060(0x64e)](_0x440a24,_0x2331af){const _0x4bc484=a0_0x10d060;if(this[_0x4bc484(0x48c)][_0x4bc484(0x25f)](this['instanceName']+'\x20('+this['instance'][_0x4bc484(0x634)]+_0x4bc484(0x175)),!_0x440a24||!_0x2331af)return this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4bc484(0x634)]+_0x4bc484(0x1e6)),null;await this[_0x4bc484(0x74e)](_0x440a24,_0x2331af,{},!0x0,!0x0),console[_0x4bc484(0x30d)](_0x4bc484(0x68c)),console[_0x4bc484(0x30d)](_0x2331af);let _0x4d1c15=_0x2331af[_0x4bc484(0x276)];console[_0x4bc484(0x30d)]('flowname:\x20',_0x4d1c15),_0x440a24=await this['createConversationforgoToFlow'](_0x4d1c15,_0x440a24[_0x4bc484(0x450)],_0x440a24[_0x4bc484(0x2b4)]['realVariables']),this['logger'][_0x4bc484(0x25f)](this[_0x4bc484(0x566)]+'\x20('+this[_0x4bc484(0x300)]['wuid']+_0x4bc484(0x3ea));let _0x2f2769=await this[_0x4bc484(0x268)](_0x440a24);_0x2f2769&&await this[_0x4bc484(0x357)](_0x440a24,_0x2f2769);}async['createConversationforgoToFlow'](_0x38cc8a,_0x585828,_0x14bb0e){const _0x2b8855=a0_0x10d060;this[_0x2b8855(0x48c)][_0x2b8855(0x25f)](this[_0x2b8855(0x566)]+'\x20('+this[_0x2b8855(0x300)][_0x2b8855(0x634)]+_0x2b8855(0x577));try{if(_0x38cc8a=await this[_0x2b8855(0x6f8)][_0x2b8855(0x32a)][_0x2b8855(0x198)]({'where':{'name':_0x38cc8a}},this[_0x2b8855(0x300)]['wuid']),!_0x38cc8a)return this[_0x2b8855(0x48c)][_0x2b8855(0x22d)](this[_0x2b8855(0x566)]+'\x20('+this[_0x2b8855(0x300)]['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x3f983d=require(_0x2b8855(0x453))[_0x2b8855(0x777)],_0x174b66=Date[_0x2b8855(0x27f)](),_0x280b47='start',_0x424f9d={},_0x38b96f={},_0x233dd9={..._0x38cc8a,'chatLog':null},_0x1e2412={'lastReceivedMessage':_0x424f9d,'lastSendMessage':_0x38b96f,'lastBlockId':_0x280b47,'lastCondition':!0x0,'realVariables':_0x14bb0e};_0x233dd9[_0x2b8855(0x2b4)]=_0x1e2412,_0x233dd9[_0x2b8855(0x2b4)][_0x2b8855(0x205)]={..._0x14bb0e},delete _0x233dd9[_0x2b8855(0x372)],_0x233dd9[_0x2b8855(0x372)]=new _0x3f983d(),_0x233dd9[_0x2b8855(0x18f)]=_0x174b66,_0x233dd9[_0x2b8855(0x5c1)]='open',_0x233dd9[_0x2b8855(0x450)]=_0x585828;let _0x21a664=await this[_0x2b8855(0x6f8)]['flowConversation'][_0x2b8855(0x251)](_0x233dd9[_0x2b8855(0x372)],_0x233dd9,this['instance'][_0x2b8855(0x634)]);return this[_0x2b8855(0x48c)][_0x2b8855(0x25f)](this['instanceName']+'\x20('+this[_0x2b8855(0x300)][_0x2b8855(0x634)]+_0x2b8855(0x213)),_0x21a664?_0x233dd9:null;}catch(_0x2132c6){throw this[_0x2b8855(0x48c)][_0x2b8855(0x22d)](this['instanceName']+'\x20('+this[_0x2b8855(0x300)]['wuid']+_0x2b8855(0x344)+(_0x2132c6 instanceof Error?_0x2132c6[_0x2b8855(0x3d4)]:JSON[_0x2b8855(0x49d)](_0x2132c6,null,0x2))),new m(_0x2132c6['message']);}}async[a0_0x10d060(0x46f)](_0x421748,_0x5ed8b5){const _0xb3ac8c=a0_0x10d060;let _0x52bae7,_0x3f1181;try{let _0xefb0b8=_0x5ed8b5[_0xb3ac8c(0x6f4)];if(!_0xefb0b8||!_0xefb0b8['url']||!_0xefb0b8[_0xb3ac8c(0x301)])throw new Error(_0xb3ac8c(0x2a3));let _0x563429;(['https://api.openai.com/v1/audio/speech',_0xb3ac8c(0x493),_0xb3ac8c(0x155)]['some'](_0x1aed06=>_0xefb0b8[_0xb3ac8c(0x1c5)]['includes'](_0x1aed06))||_0xefb0b8['requestFile'])&&(_0x563429=_0xb3ac8c(0x70d));let _0xe81a0b={'method':_0xefb0b8[_0xb3ac8c(0x301)],'url':_0xefb0b8[_0xb3ac8c(0x1c5)],'headers':_0xefb0b8[_0xb3ac8c(0x2d7)]||{},'data':_0xefb0b8[_0xb3ac8c(0x3c8)]||{},..._0x563429&&{'responseType':_0x563429}},_0x55c79d=await(0x0,se[_0xb3ac8c(0x6bb)])(_0xe81a0b),_0x5a91a8=_0x55c79d[_0xb3ac8c(0x5c0)][_0xb3ac8c(0x69e)];if(_0x5a91a8&&_0x5a91a8[_0xb3ac8c(0x23d)](_0xb3ac8c(0x774))){_0x52bae7=_0x55c79d[_0xb3ac8c(0x533)];let _0x3ffff3=_0x421748[_0xb3ac8c(0x2b4)][_0xb3ac8c(0x205)],_0x5c1b22=this['flattenObject'](_0x52bae7);return Object[_0xb3ac8c(0x6af)](_0x3ffff3,_0x5c1b22),_0x421748[_0xb3ac8c(0x2b4)][_0xb3ac8c(0x205)]=_0x3ffff3,_0x3f1181={'error':!0x1,'apiResponse':_0x52bae7},this[_0xb3ac8c(0x74e)](_0x421748,_0x5ed8b5,_0x3f1181),_0x52bae7;}if(_0x5a91a8&&(_0x5a91a8['includes']('application/octet-stream')||_0x5a91a8[_0xb3ac8c(0x23d)](_0xb3ac8c(0x5bf))||_0x5a91a8[_0xb3ac8c(0x23d)](_0xb3ac8c(0x258))||_0x5a91a8['includes'](_0xb3ac8c(0x6bc)))){this[_0xb3ac8c(0x48c)][_0xb3ac8c(0x25f)](this[_0xb3ac8c(0x566)]+'\x20('+this['instance'][_0xb3ac8c(0x634)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x5a91a8);let _0x5b53fe=(0x0,Ce['v4'])(),_0x4a6b8='',_0x1dfe47={'image/jpeg':_0xb3ac8c(0x6b9),'image/png':_0xb3ac8c(0x349),'image/gif':_0xb3ac8c(0x3e8),'image/webp':_0xb3ac8c(0x409),'image/svg+xml':'.svg','audio/mpeg':_0xb3ac8c(0x37f),'audio/ogg':_0xb3ac8c(0x761),'audio/wav':'.wav','video/mp4':_0xb3ac8c(0x359),'video/webm':_0xb3ac8c(0x3f9),'video/ogg':_0xb3ac8c(0x77c),'text/plain':_0xb3ac8c(0x145),'application/pdf':_0xb3ac8c(0x522),'application/msword':_0xb3ac8c(0x3dd),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0xb3ac8c(0x77d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0xb3ac8c(0x2bf),'application/vnd.ms-powerpoint':_0xb3ac8c(0x13c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0xb3ac8c(0x242)};_0x1dfe47[_0x5a91a8]?(_0x4a6b8=_0x1dfe47[_0x5a91a8],this['logger'][_0xb3ac8c(0x25f)](this[_0xb3ac8c(0x566)]+'\x20('+this[_0xb3ac8c(0x300)][_0xb3ac8c(0x634)]+_0xb3ac8c(0x6e2)+_0x4a6b8)):(_0x4a6b8=_0xb3ac8c(0x650),this['logger']['verbose'](this[_0xb3ac8c(0x566)]+'\x20('+this[_0xb3ac8c(0x300)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x4a6b8)),_0x5b53fe+=_0x4a6b8,this[_0xb3ac8c(0x48c)][_0xb3ac8c(0x25f)](this[_0xb3ac8c(0x566)]+'\x20('+this[_0xb3ac8c(0x300)][_0xb3ac8c(0x634)]+_0xb3ac8c(0x152)+_0x5b53fe);let _0x5c2caa=this[_0xb3ac8c(0x401)]['get'](_0xb3ac8c(0x49e))['URL'];if(!_0x5c2caa){let _0x4ef82e=this['configService'][_0xb3ac8c(0x5a9)]('SSL_CONF');_0x5c2caa=_0xb3ac8c(0x6c4)+(_0x4ef82e&&_0x4ef82e[_0xb3ac8c(0x378)][_0xb3ac8c(0x503)]('/')[0x4]);}let _0x336a1f=Buffer['from'](_0x55c79d['data']);await this[_0xb3ac8c(0x5b3)](_0x336a1f,_0x5b53fe);let _0x2c13af=_0xb3ac8c(0x157)+_0x5b53fe;_0x2c13af=''+_0x5c2caa+_0x2c13af,_0x52bae7={'fileUrl':_0x2c13af},_0x421748[_0xb3ac8c(0x2b4)][_0xb3ac8c(0x205)]['fileUrl']=_0x2c13af;let _0x1ac4b6=_0x421748[_0xb3ac8c(0x2b4)]['realVariables'],_0xa2dcf6=this[_0xb3ac8c(0x524)](_0x52bae7);return Object[_0xb3ac8c(0x6af)](_0x1ac4b6,_0xa2dcf6),_0x421748['chatLog'][_0xb3ac8c(0x205)]=_0x1ac4b6,_0x3f1181={'error':!0x1,'apiResponse':{'fileUrl':_0x2c13af}},this[_0xb3ac8c(0x74e)](_0x421748,_0x5ed8b5,_0x3f1181),_0x52bae7;}}catch(_0x2a930b){console[_0xb3ac8c(0x22d)](_0xb3ac8c(0x4d9),_0x2a930b),_0x2a930b[_0xb3ac8c(0x392)]&&(_0x52bae7=_0x2a930b['response'][_0xb3ac8c(0x533)]);let _0x1c4419=_0x421748['chatLog']['realVariables'],_0xaf6479=this[_0xb3ac8c(0x524)](_0x52bae7);return Object[_0xb3ac8c(0x6af)](_0x1c4419,_0xaf6479),_0x421748['chatLog'][_0xb3ac8c(0x205)]=_0x1c4419,_0x3f1181={'error':!0x0,'errorLog':_0x2a930b[_0xb3ac8c(0x6d4)](),'apiResponse':_0x52bae7},this[_0xb3ac8c(0x74e)](_0x421748,_0x5ed8b5,_0x3f1181),{'success':!0x1};}}[a0_0x10d060(0x399)](_0x45ce10,_0xd6b60b){const _0x1c37e9=a0_0x10d060;let _0x2837d6=_0xad8649=>{const _0x165a85=a0_0x434c;let _0x2737b1=_0xad8649['replace'](/[^0-9.,-]/g,'')[_0x165a85(0x63c)](',','.'),_0x31d33f=parseFloat(_0x2737b1);return isNaN(_0x31d33f)?null:_0x31d33f;},_0x50be8a=_0xd6b60b[_0x1c37e9(0x573)],_0x416f33=_0xd6b60b[_0x1c37e9(0x583)];typeof _0x50be8a==_0x1c37e9(0x40e)&&(_0x50be8a=this[_0x1c37e9(0x1b8)](_0x50be8a,_0x45ce10[_0x1c37e9(0x2b4)]['realVariables'])??''),typeof _0x416f33==_0x1c37e9(0x40e)&&(_0x416f33=this[_0x1c37e9(0x1b8)](_0x416f33,_0x45ce10['chatLog'][_0x1c37e9(0x205)])??'');let _0x174ccf=null;if(!_0xd6b60b['editOperator'])return null;switch(this['logger'][_0x1c37e9(0x25f)](this['instanceName']+'\x20('+this[_0x1c37e9(0x300)]['wuid']+_0x1c37e9(0x695)+_0x50be8a),this[_0x1c37e9(0x48c)][_0x1c37e9(0x25f)](this['instanceName']+'\x20('+this[_0x1c37e9(0x300)][_0x1c37e9(0x634)]+_0x1c37e9(0x237)+_0x416f33),_0xd6b60b['editOperator']){case'+':case'-':case'*':case'/':let _0x2982fd=_0x2837d6(_0x50be8a||'0'),_0xf6b245=_0x2837d6(_0x416f33||'0');if(_0x2982fd===null)return null;switch(_0xd6b60b[_0x1c37e9(0x2db)]){case'+':_0x174ccf=_0x2982fd+(_0xf6b245??0x0);break;case'-':_0x174ccf=_0x2982fd-(_0xf6b245??0x0);break;case'*':_0x174ccf=_0x2982fd*(_0xf6b245??0x1);break;case'/':_0xf6b245!==0x0&&(_0x174ccf=_0x2982fd/(_0xf6b245??0x1));break;}break;case _0x1c37e9(0x66b):case'findAndReplaceRegex':let _0x25eda6=_0x416f33,_0x5d6e70=_0xd6b60b[_0x1c37e9(0x45f)];if(typeof _0x5d6e70=='string'&&(_0x5d6e70=this[_0x1c37e9(0x1b8)](_0x5d6e70,_0x45ce10[_0x1c37e9(0x2b4)][_0x1c37e9(0x205)])??''),_0x25eda6&&_0x5d6e70!==void 0x0){let _0x5085a9=_0xd6b60b[_0x1c37e9(0x2db)]==='findAndReplace'?new RegExp(_0x25eda6[_0x1c37e9(0x63c)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1c37e9(0x147)),'g'):new RegExp(_0x25eda6,'g');_0x174ccf=_0x50be8a[_0x1c37e9(0x63c)](_0x5085a9,_0x5d6e70);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x1c37e9(0x194):_0x174ccf=_0x416f33;break;case _0x1c37e9(0x38a):let _0x5977d7=_0x50be8a[_0x1c37e9(0x47a)](new RegExp(_0x416f33||''));_0x174ccf=_0x5977d7?_0x5977d7[0x0]:'';break;case'truncatedto':_0x174ccf=_0x50be8a[_0x1c37e9(0x5ea)](0x0,parseInt(_0x416f33||'0'));break;case _0x1c37e9(0x60d):let _0x5bce69=parseInt(_0x416f33||'0');_0x174ccf=_0x50be8a[_0x1c37e9(0x5ea)](_0x50be8a[_0x1c37e9(0x31a)]-_0x5bce69);break;case _0x1c37e9(0x18b):let _0x592782=_0x2837d6(_0x50be8a),_0x3224e7=parseInt(_0x416f33||'0');_0x3224e7=Math['abs'](_0x3224e7),_0x592782!==null?_0x174ccf=_0x592782['toLocaleString'](_0x1c37e9(0x18a),{'minimumFractionDigits':_0x3224e7,'maximumFractionDigits':_0x3224e7}):(console[_0x1c37e9(0x65c)](_0x1c37e9(0x76a)+_0x50be8a),_0x174ccf=null);break;case _0x1c37e9(0x148):let _0x33691a=_0x2837d6(_0x50be8a);_0x33691a!==null?_0x174ccf=_0x33691a[_0x1c37e9(0x2ae)](_0x1c37e9(0x18a),{'style':_0x1c37e9(0x448),'currency':_0x1c37e9(0x45b)}):(console[_0x1c37e9(0x65c)](_0x1c37e9(0x517)+_0x50be8a),_0x174ccf=null);break;case _0x1c37e9(0x6e0):_0x174ccf=_0x50be8a[_0x1c37e9(0x2f0)]();break;case'lowerCase':_0x174ccf=_0x50be8a[_0x1c37e9(0x1d5)]();break;case _0x1c37e9(0x664):_0x174ccf=_0x50be8a[_0x1c37e9(0x503)]('\x20')[_0x1c37e9(0x606)](_0x553f6c=>_0x553f6c['charAt'](0x0)[_0x1c37e9(0x2f0)]()+_0x553f6c['slice'](0x1)[_0x1c37e9(0x1d5)]())[_0x1c37e9(0x535)]('\x20');break;case _0x1c37e9(0x5ba):_0x174ccf=_0x50be8a[_0x1c37e9(0x2a0)]();break;default:_0x174ccf=_0x50be8a;}return _0x174ccf!==null?_0x174ccf[_0x1c37e9(0x6d4)]():null;}async[a0_0x10d060(0x647)](_0x3bfe74,_0x3b8ecd){const _0x276ddd=a0_0x10d060;try{let _0x238606=_0x3bfe74['varedits']?.[_0x276ddd(0x3ed)](_0x5eee73=>_0x5eee73['blockId']===_0x3b8ecd[_0x276ddd(0x372)]?.[_0x276ddd(0x6d4)]())||[],_0x7a3392=_0x3b8ecd[_0x276ddd(0x717)],_0x40b44e=null,_0x2b1da5=[],_0x1752b0=_0x3bfe74['chatLog'][_0x276ddd(0x205)][_0x7a3392];_0x2b1da5[_0x276ddd(0x549)]('Valor\x20inicial:\x20\x22'+_0x1752b0+'\x22');for(let _0x1c0c4e of _0x238606){_0x1c0c4e[_0x276ddd(0x573)]=_0x1752b0,_0x40b44e=_0x1c0c4e[_0x276ddd(0x573)];let _0x428b12;try{_0x428b12=this[_0x276ddd(0x399)](_0x3bfe74,_0x1c0c4e);}catch(_0x22087b){console[_0x276ddd(0x22d)](_0x276ddd(0x6da)+_0x22087b[_0x276ddd(0x3d4)]);continue;}if(_0x428b12!==null){let _0x51966b=_0x276ddd(0x54e)+_0x1c0c4e['editOperator']+'\x22',_0x595908=['toBRL',_0x276ddd(0x6e0),_0x276ddd(0x188),'capitalizedWords',_0x276ddd(0x5ba)];_0x1c0c4e[_0x276ddd(0x2db)]==='findAndReplace'||_0x1c0c4e[_0x276ddd(0x2db)]===_0x276ddd(0x75a)?_0x51966b+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x1c0c4e[_0x276ddd(0x583)]+_0x276ddd(0x274)+_0x1c0c4e[_0x276ddd(0x45f)]+'\x22':!_0x595908[_0x276ddd(0x23d)](_0x1c0c4e['editOperator'])&&_0x1c0c4e[_0x276ddd(0x583)]!==null&&_0x1c0c4e[_0x276ddd(0x583)]!==void 0x0&&(_0x51966b+=_0x276ddd(0x739)+_0x1c0c4e[_0x276ddd(0x583)]+'\x22'),_0x51966b+=',\x20resultado:\x20'+_0x428b12+'.',_0x2b1da5[_0x276ddd(0x549)](_0x51966b);}_0x428b12!==null&&(_0x1752b0=_0x428b12);}if(_0x3bfe74[_0x276ddd(0x2b4)]['realVariables']&&_0x3b8ecd[_0x276ddd(0x717)]){_0x3bfe74['chatLog'][_0x276ddd(0x205)][_0x3b8ecd['saveVariable']]=_0x1752b0;let _0x21943b={'variable':_0x3b8ecd[_0x276ddd(0x717)],'oldValue':_0x40b44e,'newValue':_0x1752b0,'moreLogs':_0x2b1da5};try{this[_0x276ddd(0x74e)](_0x3bfe74,_0x3b8ecd,_0x21943b);}catch(_0x3018b5){console[_0x276ddd(0x22d)](_0x276ddd(0x31c)+_0x3018b5[_0x276ddd(0x3d4)]);}}return _0x7a3392;}catch(_0x58566d){return console['error'](_0x276ddd(0x185)+_0x58566d['message']),null;}}async['processConditions'](_0x4d8584,_0x13df1f){const _0x48dcc9=a0_0x10d060;try{let _0x565990=[],_0x4bf789=_0x4d8584[_0x48dcc9(0x74f)]['filter'](_0x2e1f5a=>_0x2e1f5a[_0x48dcc9(0x468)]===_0x13df1f['_id']['toString']()),_0x2cc9ca=null,_0x5c27f4=!0x1;for(let _0x9d6d4b of _0x4bf789){let _0x2d35af=this[_0x48dcc9(0x19c)](_0x4d8584,_0x9d6d4b);_0x565990[_0x48dcc9(0x549)]('Primeiro\x20Valor:\x20'+_0x9d6d4b['firstValue']+',\x20Comparador:\x20'+_0x9d6d4b[_0x48dcc9(0x67b)]+',\x20Segundo\x20Valor:\x20'+_0x9d6d4b[_0x48dcc9(0x583)]+',\x20Resultado:\x20'+_0x2d35af),_0x2cc9ca===null?_0x2cc9ca=_0x2d35af:_0x9d6d4b[_0x48dcc9(0x6bf)]==='and'?(_0x2cc9ca=_0x2cc9ca&&_0x2d35af,_0x2d35af||(_0x5c27f4=!0x0)):_0x9d6d4b[_0x48dcc9(0x6bf)]==='or'&&(_0x5c27f4||(_0x2cc9ca=_0x2cc9ca||_0x2d35af));}_0x2cc9ca===null&&(_0x2cc9ca=!0x0);let _0x1ed345={'moreLogs':_0x565990};_0x4d8584[_0x48dcc9(0x2b4)][_0x48dcc9(0x2b7)]=_0x2cc9ca,await this['updateConversation'](_0x4d8584,_0x13df1f,_0x1ed345);}catch(_0x1ecc91){this[_0x48dcc9(0x48c)][_0x48dcc9(0x22d)](this[_0x48dcc9(0x566)]+'\x20('+this[_0x48dcc9(0x300)][_0x48dcc9(0x634)]+_0x48dcc9(0x63d)+(_0x1ecc91 instanceof Error?_0x1ecc91[_0x48dcc9(0x3d4)]:JSON['stringify'](_0x1ecc91,null,0x2)));}}[a0_0x10d060(0x19c)](_0x4d9d92,_0x5bd201){const _0x5b9e7c=a0_0x10d060;let _0x135f1c=_0x5bd201['firstValue'],_0x5ed68f=_0x5bd201[_0x5b9e7c(0x583)];typeof _0x135f1c==_0x5b9e7c(0x40e)&&(_0x135f1c=this[_0x5b9e7c(0x1b8)](_0x135f1c,_0x4d9d92[_0x5b9e7c(0x2b4)][_0x5b9e7c(0x205)])??''),typeof _0x5ed68f==_0x5b9e7c(0x40e)&&(_0x5ed68f=this[_0x5b9e7c(0x1b8)](_0x5ed68f,_0x4d9d92['chatLog']['realVariables'])??'');try{switch(_0x5bd201['expression']){case _0x5b9e7c(0x243):return _0x135f1c===_0x5ed68f;case _0x5b9e7c(0x626):return _0x135f1c!==_0x5ed68f;case _0x5b9e7c(0x264):return _0x135f1c[_0x5b9e7c(0x23d)](_0x5ed68f);case _0x5b9e7c(0x37c):return!_0x135f1c[_0x5b9e7c(0x23d)](_0x5ed68f);case'greater':return parseFloat(_0x135f1c)>parseFloat(_0x5ed68f);case'less':return parseFloat(_0x135f1c)<parseFloat(_0x5ed68f);case _0x5b9e7c(0x18e):return _0x135f1c!=='';case _0x5b9e7c(0x4f0):return _0x135f1c==='';case _0x5b9e7c(0x757):return new RegExp(_0x5ed68f)[_0x5b9e7c(0x6aa)](_0x135f1c);case'notMatchRegex':return!new RegExp(_0x5ed68f)[_0x5b9e7c(0x6aa)](_0x135f1c);default:return!0x1;}}catch(_0x334799){return console['error'](_0x5b9e7c(0x3cc)+_0x334799),!0x1;}}[a0_0x10d060(0x492)](_0x315e9e){const _0x250039=a0_0x10d060;let _0x39f6de=!0x0,_0x57a162=null;for(let _0x17d8df of _0x315e9e){let _0x150f14=this[_0x250039(0x59d)](_0x17d8df);if(_0x57a162==='or'&&_0x150f14){_0x39f6de=!0x0;break;}if(_0x57a162==='and'&&!_0x150f14){_0x39f6de=!0x1;break;}_0x57a162=_0x17d8df[_0x250039(0x6bf)];}return _0x39f6de;}[a0_0x10d060(0x59d)](_0x20e4a7){const _0x5cd48a=a0_0x10d060;let _0xff5b2d=_0x20e4a7[_0x5cd48a(0x573)],_0x485190=_0x20e4a7['secondValue'];try{switch(_0x20e4a7[_0x5cd48a(0x67b)]){case'equal':return String(_0xff5b2d)===String(_0x485190);case'notEqual':return String(_0xff5b2d)!==String(_0x485190);case _0x5cd48a(0x264):return String(_0xff5b2d)[_0x5cd48a(0x23d)](String(_0x485190));case _0x5cd48a(0x37c):return!String(_0xff5b2d)[_0x5cd48a(0x23d)](String(_0x485190));case'greater':return parseFloat(String(_0xff5b2d))>parseFloat(String(_0x485190));case _0x5cd48a(0x3f7):return parseFloat(String(_0xff5b2d))<parseFloat(String(_0x485190));case'notEmpty':return String(_0xff5b2d)!=='';case _0x5cd48a(0x4f0):return String(_0xff5b2d)==='';case'matchRegex':return new RegExp(String(_0x485190))[_0x5cd48a(0x6aa)](String(_0xff5b2d));case _0x5cd48a(0x3d2):return!new RegExp(String(_0x485190))['test'](String(_0xff5b2d));default:return!0x1;}}catch(_0x283570){return console[_0x5cd48a(0x22d)](_0x5cd48a(0x3cc)+_0x283570),!0x1;}}async[a0_0x10d060(0x217)](_0xdc345a,_0x49e747){const _0x2199b1=a0_0x10d060;if(this[_0x2199b1(0x48c)][_0x2199b1(0x25f)](this[_0x2199b1(0x566)]+'\x20('+this[_0x2199b1(0x300)][_0x2199b1(0x634)]+_0x2199b1(0x2b3)),!_0xdc345a||!_0x49e747)return this[_0x2199b1(0x48c)][_0x2199b1(0x22d)](this[_0x2199b1(0x566)]+'\x20('+this[_0x2199b1(0x300)][_0x2199b1(0x634)]+_0x2199b1(0x1e6)),null;let _0x525865=_0x49e747[_0x2199b1(0x717)],_0x5565ab=_0xdc345a[_0x2199b1(0x2b4)][_0x2199b1(0x72d)][_0x2199b1(0x28b)]||_0xdc345a['chatLog'][_0x2199b1(0x72d)][_0x2199b1(0x3d8)]||_0xdc345a[_0x2199b1(0x2b4)]['lastReceivedMessage']['vote'];try{_0xdc345a['chatLog']['realVariables']||(_0xdc345a[_0x2199b1(0x2b4)][_0x2199b1(0x205)]={});let _0x1f67e9=_0xdc345a[_0x2199b1(0x2b4)]['realVariables'][_0x525865];_0xdc345a[_0x2199b1(0x2b4)][_0x2199b1(0x205)][_0x525865]=_0x5565ab;let _0x200d57={'variable':_0x525865,'oldValue':_0x1f67e9,'newValue':_0x5565ab};this['updateConversation'](_0xdc345a,_0x49e747,_0x200d57),this[_0x2199b1(0x48c)][_0x2199b1(0x25f)](this['instanceName']+'\x20('+this[_0x2199b1(0x300)][_0x2199b1(0x634)]+_0x2199b1(0x570));}catch(_0x36f1a1){let _0x242b9d={'error':!0x0,'errorLog':_0x36f1a1[_0x2199b1(0x6d4)]()};return this[_0x2199b1(0x74e)](_0xdc345a,_0x49e747,_0x242b9d),this[_0x2199b1(0x48c)]['error'](this[_0x2199b1(0x566)]+'\x20('+this[_0x2199b1(0x300)]['wuid']+_0x2199b1(0x6ac)+(_0x36f1a1 instanceof Error?_0x36f1a1[_0x2199b1(0x3d4)]:JSON[_0x2199b1(0x49d)](_0x36f1a1,null,0x2))),null;}}async['stopConversation'](_0x7af2,_0xfb5a0){const _0x4b1a4d=a0_0x10d060;if(this[_0x4b1a4d(0x48c)][_0x4b1a4d(0x25f)](this[_0x4b1a4d(0x566)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x7af2||!_0xfb5a0)return this[_0x4b1a4d(0x48c)][_0x4b1a4d(0x22d)](this[_0x4b1a4d(0x566)]+'\x20('+this[_0x4b1a4d(0x300)][_0x4b1a4d(0x634)]+_0x4b1a4d(0x1e6)),null;let _0x40e89c=Date[_0x4b1a4d(0x27f)](),_0x56f407=parseInt(_0xfb5a0['stopMinutes'],0xa);if(isNaN(_0x56f407))return this[_0x4b1a4d(0x48c)]['error'](this[_0x4b1a4d(0x566)]+'\x20('+this[_0x4b1a4d(0x300)][_0x4b1a4d(0x634)]+_0x4b1a4d(0x142)),null;let _0x254a2a={'newStoppedUntil':_0x40e89c+_0x56f407*0x3c*0x3e8};return await this[_0x4b1a4d(0x74e)](_0x7af2,_0xfb5a0,_0x254a2a,!0x0),null;}async[a0_0x10d060(0x1f9)](_0x4b9543,_0x558178){const _0xe99da8=a0_0x10d060;try{switch(_0x558178['uazapi'][_0xe99da8(0x697)]){case _0xe99da8(0x26b):await this[_0xe99da8(0x39c)](_0x4b9543,_0x558178);break;case _0xe99da8(0x608):await this[_0xe99da8(0x51c)](_0x4b9543,_0x558178);break;case _0xe99da8(0x4c0):await this[_0xe99da8(0x34f)](_0x4b9543,_0x558178);break;case _0xe99da8(0x3d0):await this[_0xe99da8(0x5f9)](_0x4b9543,_0x558178);break;case'sendContact':await this[_0xe99da8(0x323)](_0x4b9543,_0x558178);break;case'sendPoll':await this[_0xe99da8(0x423)](_0x4b9543,_0x558178);break;case _0xe99da8(0x2d3):await this[_0xe99da8(0x423)](_0x4b9543,_0x558178);break;case _0xe99da8(0x5e5):await this[_0xe99da8(0x5e3)](_0x4b9543,_0x558178);break;default:this[_0xe99da8(0x48c)]['error'](this[_0xe99da8(0x566)]+'\x20('+this[_0xe99da8(0x300)][_0xe99da8(0x634)]+_0xe99da8(0x144)+_0x558178['uazapi'][_0xe99da8(0x697)]);}}catch(_0x40db81){this[_0xe99da8(0x48c)][_0xe99da8(0x22d)](this[_0xe99da8(0x566)]+'\x20('+this[_0xe99da8(0x300)][_0xe99da8(0x634)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x40db81 instanceof Error?_0x40db81[_0xe99da8(0x3d4)]:JSON[_0xe99da8(0x49d)](_0x40db81,null,0x2)));}}async[a0_0x10d060(0x74e)](_0x4f67b1,_0x2b7041,_0x3af27c,_0x4ee451=!0x1,_0x2b0e61=!0x1){const _0x321dae=a0_0x10d060;_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x497)]||(_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x497)]=[]);let _0x18d937=(_0x4f67b1[_0x321dae(0x2b4)]['blockLogs']?.[_0x321dae(0x31a)]??0x0)+0x1,_0x3f658d=_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x497)][_0x321dae(0x3ed)](_0x13f045=>String(_0x13f045[_0x321dae(0x468)])===String(_0x2b7041[_0x321dae(0x372)]))[_0x321dae(0x31a)]+0x1,_0xde39e4=_0x3af27c?.[_0x321dae(0x45a)]??Date[_0x321dae(0x27f)](),_0x5f3d44=_0x3af27c?.[_0x321dae(0x22d)]?_0x3af27c['errorLog']??_0x3af27c['error'][_0x321dae(0x6d4)]():void 0x0,_0x407461={'onTime':_0xde39e4,'blockId':_0x2b7041[_0x321dae(0x372)],'order':_0x18d937,'activatedCount':_0x3f658d,'error':_0x3af27c?.[_0x321dae(0x22d)]??!0x1,'messageId':_0x3af27c?.[_0x321dae(0x25e)],'apiResponse':_0x3af27c?.[_0x321dae(0x1ca)],'apiResponseString':_0x3af27c?.['apiResponse']?JSON['stringify'](_0x3af27c?.['apiResponse']):void 0x0,'variable':_0x3af27c?.[_0x321dae(0x627)],'oldValue':_0x3af27c?.['oldValue'],'newValue':_0x3af27c?.[_0x321dae(0x5e4)],'newStoppedUntil':_0x3af27c?.['newStoppedUntil'],'moreLogs':_0x3af27c?.[_0x321dae(0x591)],'errorLog':_0x5f3d44};if(_0x3af27c[_0x321dae(0x591)]&&_0x3af27c[_0x321dae(0x591)][_0x321dae(0x31a)]>0x0){let _0x16c9b9=_0x3af27c['moreLogs']['map'](_0x58df96=>this['replaceVariablesLogs'](_0x58df96,_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x205)]));_0x407461[_0x321dae(0x591)]=_0x16c9b9;}_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x205)]||(_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x205)]={}),_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x205)][_0x321dae(0x246)]=String(_0x3f658d),_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x205)][_0x321dae(0x25d)]=String(_0x3af27c[_0x321dae(0x22d)]??!0x1),_0x4f67b1['chatLog']['blockLogs']['push'](_0x407461),_0x4f67b1['chatLog'][_0x321dae(0x665)]=_0x2b7041[_0x321dae(0x372)][_0x321dae(0x6d4)](),_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x3ab)]&&(_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x3ab)]=_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x3ab)]),_0x4f67b1[_0x321dae(0x2b4)]['lastReceivedMessage']&&(_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x72d)]=_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x72d)]),_0x4f67b1['chatLog'][_0x321dae(0x2b7)]&&(_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x2b7)]=_0x4f67b1[_0x321dae(0x2b4)][_0x321dae(0x2b7)]),_0x2b0e61&&(_0x4f67b1[_0x321dae(0x5c1)]=_0x321dae(0x370)),_0x4ee451?this[_0x321dae(0x5c5)](_0x4f67b1):this[_0x321dae(0x197)](_0x4f67b1,_0x2b7041);}[a0_0x10d060(0x3e5)](_0x2e18ab,_0x3d0523){const _0x13bde6=a0_0x10d060;return _0x2e18ab['replace'](/\{\{([^}]+)\}\}/g,(_0x91317d,_0x2a0189)=>_0x3d0523[_0x2a0189]?'{{'+_0x2a0189+'}}\x20->\x20\x22'+_0x3d0523[_0x2a0189]+'\x22':'{{'+_0x2a0189+_0x13bde6(0x35c));}async[a0_0x10d060(0x5c5)](_0x4f594e){const _0x458137=a0_0x10d060;try{let _0x3d4b2a=Object['entries'](_0x4f594e[_0x458137(0x2b4)]['realVariables'])[_0x458137(0x606)](([_0xe13838,_0x36ba29])=>({'name':_0xe13838,'value':_0x36ba29})),_0x4245e7={'status':_0x4f594e[_0x458137(0x5c1)],'blocks':_0x4f594e['blocks'],'waitingMenu_id':_0x4f594e[_0x458137(0x73d)],'waitingMenu_text':_0x4f594e[_0x458137(0x747)],'waitingMenu_replyOptions':_0x4f594e['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x4f594e[_0x458137(0x2b4)]['lastBlockId'],'lastSendMessage':_0x4f594e[_0x458137(0x2b4)][_0x458137(0x3ab)],'lastReceivedMessage':_0x4f594e['chatLog']['lastReceivedMessage'],'lastCondition':_0x4f594e[_0x458137(0x2b4)][_0x458137(0x2b7)],'chatVariables':_0x3d4b2a,'realVariables':_0x4f594e[_0x458137(0x2b4)][_0x458137(0x205)],'blockLogs':_0x4f594e['chatLog']['blockLogs']}},_0x1d6e32=await this[_0x458137(0x6f8)][_0x458137(0x27d)]['updateOne'](_0x4f594e[_0x458137(0x372)],_0x4245e7,this[_0x458137(0x300)][_0x458137(0x634)]);if(_0x1d6e32){this[_0x458137(0x48c)][_0x458137(0x25f)](this[_0x458137(0x566)]+'\x20('+this['instance']['wuid']+_0x458137(0x1a9)+_0x1d6e32[_0x458137(0x372)]);try{let _0x3d3058=[_0x458137(0x65b),_0x458137(0x4e2),'email','cpf','status',_0x458137(0x306),_0x458137(0x21e),_0x458137(0x578)];if(!this[_0x458137(0x667)]&&(await this[_0x458137(0x547)](),!this[_0x458137(0x667)]))throw new Error(_0x458137(0x520));let _0x99d141=this['AutomateSystem']?.['customFields']['map'](_0x2b16a4=>_0x2b16a4['name']),_0x32b2a7={};Object['entries'](_0x4f594e[_0x458137(0x2b4)][_0x458137(0x205)])[_0x458137(0x311)](([_0x5dac10,_0x1cb560])=>{const _0x2948ce=_0x458137;_0x3d3058['includes'](_0x5dac10)&&(_0x5dac10===_0x2948ce(0x578)&&typeof _0x1cb560==_0x2948ce(0x40e)?_0x32b2a7[_0x5dac10]=_0x1cb560[_0x2948ce(0x503)](',')['map'](_0x5a47f7=>_0x5a47f7[_0x2948ce(0x2a0)]())['filter'](_0x23c329=>_0x23c329!==''):_0x32b2a7[_0x5dac10]=_0x1cb560);});let _0x48f703=_0x4f594e[_0x458137(0x2b4)][_0x458137(0x497)][_0x4f594e[_0x458137(0x2b4)][_0x458137(0x497)][_0x458137(0x31a)]-0x1];if(_0x48f703){let _0x59dd04=_0x48f703[_0x458137(0x3f1)];_0x59dd04!==void 0x0&&(_0x32b2a7[_0x458137(0x2fe)]=_0x59dd04[_0x458137(0x6d4)]());}let _0x18e931=_0x3d4b2a['filter'](_0x270635=>_0x99d141['includes'](_0x270635[_0x458137(0x4b9)]));this[_0x458137(0x48c)]['verbose'](this[_0x458137(0x566)]+'\x20('+this[_0x458137(0x300)][_0x458137(0x634)]+'):\x20leadInfoVariables'),this[_0x458137(0x48c)][_0x458137(0x25f)](_0x32b2a7),this[_0x458137(0x48c)][_0x458137(0x25f)](this[_0x458137(0x566)]+'\x20('+this[_0x458137(0x300)]['wuid']+_0x458137(0x4d3)),this[_0x458137(0x48c)][_0x458137(0x25f)](_0x18e931);let _0x5e9cc4=_0x18e931[_0x458137(0x606)](_0x3f8659=>{const _0x4740ab=_0x458137;let _0x58fb9d=this[_0x4740ab(0x667)]?.[_0x4740ab(0x424)]['find'](_0xf51d80=>_0xf51d80[_0x4740ab(0x4b9)]===_0x3f8659[_0x4740ab(0x4b9)]);if(!_0x58fb9d)throw new Error(_0x4740ab(0x464)+_0x3f8659['name']);return{'_id':_0x58fb9d[_0x4740ab(0x372)],'value':_0x3f8659[_0x4740ab(0x748)]};});this[_0x458137(0x48c)]['verbose'](this[_0x458137(0x566)]+'\x20('+this[_0x458137(0x300)][_0x458137(0x634)]+_0x458137(0x226)),this['logger'][_0x458137(0x25f)](_0x5e9cc4),await this[_0x458137(0x447)](_0x4f594e['remoteJid'],_0x32b2a7,_0x5e9cc4);}catch(_0xc9ebff){this[_0x458137(0x48c)][_0x458137(0x22d)](this[_0x458137(0x566)]+'\x20('+this[_0x458137(0x300)]['wuid']+_0x458137(0x1d6)+(_0xc9ebff instanceof Error?_0xc9ebff[_0x458137(0x3d4)]:JSON[_0x458137(0x49d)](_0xc9ebff,null,0x2)));}}else this[_0x458137(0x48c)]['error'](this[_0x458137(0x566)]+'\x20('+this[_0x458137(0x300)][_0x458137(0x634)]+_0x458137(0x325));}catch(_0x1d8da7){this[_0x458137(0x48c)][_0x458137(0x22d)](this[_0x458137(0x566)]+'\x20('+this['instance'][_0x458137(0x634)]+_0x458137(0x560)+(_0x1d8da7 instanceof Error?_0x1d8da7[_0x458137(0x3d4)]:JSON['stringify'](_0x1d8da7,null,0x2)));}}async[a0_0x10d060(0x447)](_0x321444,_0x4d9d12,_0x1bb8f6){const _0x18376d=a0_0x10d060;try{let _0x1823bf={'leadInfo.leadnome':_0x4d9d12[_0x18376d(0x65b)],'leadInfo.nomecompleto':_0x4d9d12[_0x18376d(0x4e2)],'leadInfo.email':_0x4d9d12[_0x18376d(0x3f4)],'leadInfo.cpf':_0x4d9d12[_0x18376d(0x329)],'leadInfo.status':_0x4d9d12['status'],'leadInfo.notas':_0x4d9d12['notas'],'leadInfo.responsavelid':_0x4d9d12[_0x18376d(0x21e)],'leadInfo.tags':_0x4d9d12[_0x18376d(0x578)],'leadInfo.customFields':_0x1bb8f6};if(_0x18376d(0x2fe)in _0x4d9d12){let _0x3be514=_0x4d9d12['desativadoFluxoAte'];_0x1823bf[_0x18376d(0x15f)]=_0x3be514?Number(_0x3be514):null;}let _0x421d92=await this['repository'][_0x18376d(0x463)][_0x18376d(0x251)]({'where':{'_id':_0x321444}},_0x1823bf,this['instance'][_0x18376d(0x634)]);_0x421d92?(this['logger'][_0x18376d(0x25f)](this[_0x18376d(0x566)]+'\x20('+this[_0x18376d(0x300)]['wuid']+_0x18376d(0x70b)+_0x421d92['_id']),q(this['instanceName'],_0x18376d(0x3fa),{'chat':_0x421d92})):this[_0x18376d(0x48c)][_0x18376d(0x22d)](this[_0x18376d(0x566)]+'\x20('+this[_0x18376d(0x300)][_0x18376d(0x634)]+_0x18376d(0x22f));}catch(_0x2e6f8c){this['logger'][_0x18376d(0x22d)](this[_0x18376d(0x566)]+'\x20('+this[_0x18376d(0x300)][_0x18376d(0x634)]+_0x18376d(0x1ac)+(_0x2e6f8c instanceof Error?_0x2e6f8c[_0x18376d(0x3d4)]:JSON[_0x18376d(0x49d)](_0x2e6f8c,null,0x2)));}}async['updateStopChat'](_0xe82f04,_0x34e7d2){const _0x23c0b1=a0_0x10d060;this['logger'][_0x23c0b1(0x25f)](this[_0x23c0b1(0x566)]+'\x20('+this[_0x23c0b1(0x300)]['wuid']+_0x23c0b1(0x659)+_0x34e7d2);try{let _0x1f9762=await this['repository'][_0x23c0b1(0x463)][_0x23c0b1(0x251)]({'where':{'_id':_0xe82f04[_0x23c0b1(0x450)]}},{'leadInfo.desativadoFluxoAte':_0x34e7d2},this[_0x23c0b1(0x300)][_0x23c0b1(0x634)]);this[_0x23c0b1(0x48c)]['verbose'](this[_0x23c0b1(0x566)]+'\x20('+this[_0x23c0b1(0x300)][_0x23c0b1(0x634)]+_0x23c0b1(0x437)+_0xe82f04[_0x23c0b1(0x372)]),this[_0x23c0b1(0x48c)]['verbose'](this[_0x23c0b1(0x566)]+'\x20('+this[_0x23c0b1(0x300)][_0x23c0b1(0x634)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x1f9762,null,0x2)),_0x1f9762&&q(this[_0x23c0b1(0x566)],_0x23c0b1(0x3fa),{'chat':_0x1f9762});}catch(_0x62e0ee){this['logger'][_0x23c0b1(0x22d)](this['instanceName']+'\x20('+this[_0x23c0b1(0x300)][_0x23c0b1(0x634)]+_0x23c0b1(0x710)+(_0x62e0ee instanceof Error?_0x62e0ee[_0x23c0b1(0x3d4)]:JSON[_0x23c0b1(0x49d)](_0x62e0ee,null,0x2)));}}async[a0_0x10d060(0x3b6)](_0x20a82b){const _0x3b0e94=a0_0x10d060;try{this[_0x3b0e94(0x48c)]['verbose'](this['instanceName']+'\x20('+this[_0x3b0e94(0x300)]['wuid']+'):\x20Buscando\x20flow...');let _0x501dc5=_0x20a82b[_0x3b0e94(0x63c)](/\D/g,''),_0x4f1884=await this[_0x3b0e94(0x6f8)][_0x3b0e94(0x32a)][_0x3b0e94(0x198)]({'where':{'testingWith':_0x501dc5}},this[_0x3b0e94(0x300)]['wuid']);return _0x4f1884||(this[_0x3b0e94(0x48c)][_0x3b0e94(0x25f)](this[_0x3b0e94(0x566)]+'\x20('+this[_0x3b0e94(0x300)][_0x3b0e94(0x634)]+_0x3b0e94(0x691)),_0x4f1884=await this[_0x3b0e94(0x6f8)][_0x3b0e94(0x32a)][_0x3b0e94(0x198)]({'where':{'default':!0x0}},this[_0x3b0e94(0x300)]['wuid'])),_0x4f1884||(this[_0x3b0e94(0x48c)][_0x3b0e94(0x25f)](this[_0x3b0e94(0x566)]+'\x20('+this[_0x3b0e94(0x300)][_0x3b0e94(0x634)]+_0x3b0e94(0x71a)),null);}catch(_0x2036f5){return this['logger'][_0x3b0e94(0x22d)](this[_0x3b0e94(0x566)]+'\x20('+this[_0x3b0e94(0x300)][_0x3b0e94(0x634)]+_0x3b0e94(0x25a)+(_0x2036f5 instanceof Error?_0x2036f5[_0x3b0e94(0x3d4)]:JSON[_0x3b0e94(0x49d)](_0x2036f5,null,0x2))),null;}}async[a0_0x10d060(0x71f)](_0x6601ff,_0xbde348){const _0x308702=a0_0x10d060;try{let _0x3ee187=!!_0xbde348[_0x308702(0x5bc)],_0x1b2ca5=_0xbde348[_0x308702(0x66c)],_0x4eee93=null;if(this[_0x308702(0x48c)]['verbose'](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+_0x308702(0x762)+_0x3ee187+_0x308702(0x55a)+_0x1b2ca5),_0x3ee187){this['logger'][_0x308702(0x25f)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+_0x308702(0x64d));let _0x2c0c0a={'where':{'remoteJid':_0x6601ff,'waitingMenu_id':_0x1b2ca5}};if(_0x4eee93=await this[_0x308702(0x6f8)][_0x308702(0x27d)][_0x308702(0x198)](_0x2c0c0a,this['instance'][_0x308702(0x634)]),!_0x4eee93)return this[_0x308702(0x48c)][_0x308702(0x25f)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)]['wuid']+'):\x20não\x20encontrou'),null;let _0x54349e=Date[_0x308702(0x27f)](),_0x96dd14=_0x4eee93?.[_0x308702(0x173)]||0x0,_0x1d370e=_0x54349e-_0x96dd14*0x3c*0x3e8;if(_0x4eee93[_0x308702(0x18f)]<_0x1d370e){this[_0x308702(0x48c)]['verbose'](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+_0x308702(0x288));let _0x23e4e4={'number':_0x4eee93[_0x308702(0x450)],'options':{'delay':0x0},'textMessage':{'text':_0x4eee93[_0x308702(0x2bc)]}};await this['textMessage'](_0x23e4e4);let _0x4f5c04={'status':_0x308702(0x370),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x308702(0x6f8)][_0x308702(0x27d)][_0x308702(0x251)](_0x4eee93[_0x308702(0x372)],_0x4f5c04,this[_0x308702(0x300)][_0x308702(0x634)]),null;}return _0x4eee93['lastInteraction']=Date[_0x308702(0x27f)](),_0x4eee93['chatLog'][_0x308702(0x72d)]=_0xbde348,_0x4eee93;}else{this[_0x308702(0x48c)]['verbose'](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+'):\x20'+this[_0x308702(0x300)]['wuid']+_0x308702(0x6de)),this[_0x308702(0x48c)]['verbose'](this[_0x308702(0x566)]+'\x20('+this['instance'][_0x308702(0x634)]+_0x308702(0x3da));let _0xe1837a={'where':{'remoteJid':_0x6601ff,'status':_0x308702(0x17f)}};if(_0x4eee93=await this[_0x308702(0x6f8)][_0x308702(0x27d)][_0x308702(0x198)](_0xe1837a,this[_0x308702(0x300)][_0x308702(0x634)]),!_0x4eee93){let _0x315b07=await this[_0x308702(0x3b6)](_0x6601ff);if(_0x315b07&&(_0x4eee93=await this['createNewConversation'](_0x315b07,_0xbde348[_0x308702(0x181)],_0xbde348)),!_0x4eee93)return null;}let _0x1dd788=Date[_0x308702(0x27f)](),_0x44c034=_0x4eee93?.[_0x308702(0x173)]||0x0,_0x437877=_0x1dd788-_0x44c034*0x3c*0x3e8;if(this[_0x308702(0x48c)][_0x308702(0x25f)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+'):\x20Current\x20Time:\x20'+_0x1dd788+_0x308702(0x341)+_0x44c034+_0x308702(0x516)+_0x437877),this[_0x308702(0x48c)][_0x308702(0x25f)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger']['verbose'](this[_0x308702(0x566)]+'\x20('+this['instance']['wuid']+_0x308702(0x6fa)+_0x4eee93[_0x308702(0x18f)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+_0x308702(0x2c3)+_0x437877),_0x4eee93[_0x308702(0x18f)]<_0x437877){this[_0x308702(0x48c)][_0x308702(0x25f)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)]['wuid']+_0x308702(0x508));let _0xfb7928=await this[_0x308702(0x3b6)](_0x6601ff);if(_0xfb7928===null)return null;_0x4eee93&&await this['repository'][_0x308702(0x27d)]['updateOne'](_0x4eee93[_0x308702(0x372)],{'status':_0x308702(0x370)},this['instance']['wuid']),_0x4eee93=await this[_0x308702(0x47c)](_0xfb7928,_0xbde348['key'],_0xbde348);}return _0x4eee93['lastInteraction']=_0x1dd788,_0x4eee93['chatLog'][_0x308702(0x72d)]=_0xbde348,_0x4eee93;}}catch(_0x367429){return this[_0x308702(0x48c)][_0x308702(0x22d)](this[_0x308702(0x566)]+'\x20('+this[_0x308702(0x300)][_0x308702(0x634)]+_0x308702(0x60f)+(_0x367429 instanceof Error?_0x367429['message']:JSON[_0x308702(0x49d)](_0x367429,null,0x2))),null;}}async['createNewConversation'](_0x915ce0,_0xfc2eb1,_0x330b99){const _0x30c90d=a0_0x10d060;this['logger']['verbose'](this[_0x30c90d(0x566)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x564dac=require('mongodb')[_0x30c90d(0x777)],_0x522233=Date[_0x30c90d(0x27f)](),_0x1173a3=_0x30c90d(0x49b),_0x3716a8=_0xfc2eb1[_0x30c90d(0x233)]?null:_0x330b99,_0x4b11db=_0xfc2eb1[_0x30c90d(0x233)]?_0x330b99:null,_0x2e5eba=_0xfc2eb1[_0x30c90d(0x450)];await this[_0x30c90d(0x43d)](_0x2e5eba);let _0xb1e82={..._0x915ce0,'chatLog':null},_0x2d4a0b=await this[_0x30c90d(0x706)](_0xb1e82[_0x30c90d(0x495)]),_0x5dec7b=await this['getVariablesChat'](_0x2e5eba),_0x4b8ebb={..._0x2d4a0b,..._0x5dec7b,'_remoteJid':_0x2e5eba},_0x4aeb2b={'lastReceivedMessage':_0x3716a8,'lastSendMessage':_0x4b11db,'lastBlockId':_0x1173a3,'lastCondition':!0x0,'realVariables':_0x4b8ebb};_0xb1e82['chatLog']=_0x4aeb2b,delete _0xb1e82['_id'],_0xb1e82[_0x30c90d(0x372)]=new _0x564dac(),_0xb1e82[_0x30c90d(0x18f)]=_0x522233,_0xb1e82['status']=_0x30c90d(0x17f),_0xb1e82['remoteJid']=_0x2e5eba;let _0x35a926=await this['repository']['flowConversation']['updateOne'](_0xb1e82['_id'],_0xb1e82,this[_0x30c90d(0x300)]['wuid']);return this['logger'][_0x30c90d(0x25f)](this[_0x30c90d(0x566)]+'\x20('+this['instance'][_0x30c90d(0x634)]+_0x30c90d(0x213)),_0x35a926?_0xb1e82:null;}catch(_0x2f30ba){return this[_0x30c90d(0x48c)][_0x30c90d(0x22d)](this[_0x30c90d(0x566)]+'\x20('+this['instance'][_0x30c90d(0x634)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2f30ba instanceof Error?_0x2f30ba[_0x30c90d(0x3d4)]:JSON['stringify'](_0x2f30ba,null,0x2))),_0x2f30ba;}}async['uazapiSendText'](_0x2be99e,_0x167a99){const _0x2303fc=a0_0x10d060;let _0x220e8e=_0x2be99e[_0x2303fc(0x450)];_0x167a99[_0x2303fc(0x346)][_0x2303fc(0x450)]&&_0x167a99['uazapi'][_0x2303fc(0x450)]['trim']()!==''&&(_0x220e8e=_0x167a99[_0x2303fc(0x346)][_0x2303fc(0x450)][_0x2303fc(0x2a0)]()),this[_0x2303fc(0x48c)]['verbose'](this[_0x2303fc(0x566)]+'\x20('+this[_0x2303fc(0x300)][_0x2303fc(0x634)]+_0x2303fc(0x6ff));let _0x53e86f={'number':_0x220e8e,'options':{'delay':_0x167a99['uazapi'][_0x2303fc(0x6fe)]},'textMessage':{'text':_0x167a99[_0x2303fc(0x346)][_0x2303fc(0x28b)]}};try{let _0x2412d0=await this['textMessage'](_0x53e86f);if(_0x2412d0){let _0x3c42c7={'_id':_0x2412d0[_0x2303fc(0x181)]['id'],'_fromMe':_0x2412d0['key'][_0x2303fc(0x233)],'_remoteJid':_0x2412d0[_0x2303fc(0x181)][_0x2303fc(0x450)]};_0x2be99e['chatLog'][_0x2303fc(0x665)]=_0x167a99['_id'][_0x2303fc(0x6d4)]();let {message_normalized:_0x102ec3}=this['normalizeMessage'](_0x2412d0[_0x2303fc(0x3d4)],$(_0x2412d0[_0x2303fc(0x3d4)]),null);_0x2be99e[_0x2303fc(0x2b4)][_0x2303fc(0x3ab)]=await _0x102ec3;let _0x40dd2c={'messageId':_0x2412d0[_0x2303fc(0x181)]['id']},_0x14e174=_0x2be99e['chatLog'][_0x2303fc(0x205)];Object[_0x2303fc(0x6af)](_0x14e174,_0x3c42c7),_0x2be99e[_0x2303fc(0x2b4)]['realVariables']=_0x14e174,this[_0x2303fc(0x74e)](_0x2be99e,_0x167a99,_0x40dd2c);}else{let _0x453bdc={'error':!0x0};this['updateConversation'](_0x2be99e,_0x167a99,_0x453bdc),this['logger'][_0x2303fc(0x22d)](this[_0x2303fc(0x566)]+'\x20('+this[_0x2303fc(0x300)][_0x2303fc(0x634)]+_0x2303fc(0x432));}}catch(_0x12f0e1){let _0x379c51={'error':!0x0,'errorLog':_0x12f0e1[_0x2303fc(0x6d4)]()};this[_0x2303fc(0x74e)](_0x2be99e,_0x167a99,_0x379c51),this['logger'][_0x2303fc(0x22d)](this[_0x2303fc(0x566)]+'\x20('+this['instance']['wuid']+_0x2303fc(0x764)+(_0x12f0e1 instanceof Error?_0x12f0e1[_0x2303fc(0x3d4)]:JSON[_0x2303fc(0x49d)](_0x12f0e1,null,0x2)));}}async['uazapiSendMedia'](_0x4bf069,_0x31f5fe){const _0x109ee7=a0_0x10d060;let _0x3018ac=_0x4bf069[_0x109ee7(0x450)];_0x31f5fe['uazapi'][_0x109ee7(0x450)]&&_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x450)][_0x109ee7(0x2a0)]()!==''&&(_0x3018ac=_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x450)][_0x109ee7(0x2a0)]()),this[_0x109ee7(0x48c)]['verbose'](this[_0x109ee7(0x566)]+'\x20('+this[_0x109ee7(0x300)][_0x109ee7(0x634)]+_0x109ee7(0x65a));let _0x40d53d={'number':_0x3018ac,'options':{'delay':_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x6fe)]},'mediaMessage':{'mediatype':_0x31f5fe[_0x109ee7(0x346)]['mediatype'],'caption':_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x3d8)],'media':_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x241)],'fileName':_0x31f5fe[_0x109ee7(0x346)][_0x109ee7(0x4da)]}};try{let _0x1ba517=await this[_0x109ee7(0x750)](_0x40d53d);if(_0x1ba517){let _0x12479b={'_id':_0x1ba517[_0x109ee7(0x181)]['id'],'_fromMe':_0x1ba517[_0x109ee7(0x181)]['fromMe'],'_remoteJid':_0x1ba517[_0x109ee7(0x181)][_0x109ee7(0x450)]};_0x4bf069[_0x109ee7(0x2b4)][_0x109ee7(0x665)]=_0x31f5fe[_0x109ee7(0x372)][_0x109ee7(0x6d4)]();let {message_normalized:_0x546fca}=this[_0x109ee7(0x5f8)](_0x1ba517[_0x109ee7(0x3d4)],$(_0x1ba517[_0x109ee7(0x3d4)]),null);_0x4bf069[_0x109ee7(0x2b4)][_0x109ee7(0x3ab)]=await _0x546fca;let _0x2cbbc0={'messageId':_0x1ba517[_0x109ee7(0x181)]['id']},_0x3f1dfa=_0x4bf069[_0x109ee7(0x2b4)]['realVariables'];Object['assign'](_0x3f1dfa,_0x12479b),_0x4bf069[_0x109ee7(0x2b4)][_0x109ee7(0x205)]=_0x3f1dfa,this[_0x109ee7(0x74e)](_0x4bf069,_0x31f5fe,_0x2cbbc0);}else{let _0x529d89={'error':!0x0};this['updateConversation'](_0x4bf069,_0x31f5fe,_0x529d89),this[_0x109ee7(0x48c)][_0x109ee7(0x22d)](this[_0x109ee7(0x566)]+'\x20('+this[_0x109ee7(0x300)][_0x109ee7(0x634)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x218505){let _0x522afe={'error':!0x0,'errorLog':_0x218505[_0x109ee7(0x6d4)]()};this[_0x109ee7(0x74e)](_0x4bf069,_0x31f5fe,_0x522afe),this[_0x109ee7(0x48c)][_0x109ee7(0x22d)](this['instanceName']+'\x20('+this[_0x109ee7(0x300)][_0x109ee7(0x634)]+_0x109ee7(0x588)+(_0x218505 instanceof Error?_0x218505[_0x109ee7(0x3d4)]:JSON[_0x109ee7(0x49d)](_0x218505,null,0x2)));}}async[a0_0x10d060(0x34f)](_0x295f53,_0x189f8e){const _0x4da9db=a0_0x10d060;let _0x571a05=_0x295f53[_0x4da9db(0x450)];_0x189f8e[_0x4da9db(0x346)]['remoteJid']&&_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x450)][_0x4da9db(0x2a0)]()!==''&&(_0x571a05=_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x450)][_0x4da9db(0x2a0)]()),this[_0x4da9db(0x48c)][_0x4da9db(0x25f)](this[_0x4da9db(0x566)]+'\x20('+this[_0x4da9db(0x300)][_0x4da9db(0x634)]+_0x4da9db(0x75e));let _0xb1ce0c={'number':_0x571a05,'options':{'delay':_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x6fe)]},'locationMessage':{'name':_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x4b9)],'address':_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x759)],'latitude':_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x44b)],'longitude':_0x189f8e[_0x4da9db(0x346)][_0x4da9db(0x2af)]}};try{let _0x1248a2=await this[_0x4da9db(0x5fd)](_0xb1ce0c);if(_0x1248a2){let _0x13c2b8={'_id':_0x1248a2[_0x4da9db(0x181)]['id'],'_fromMe':_0x1248a2[_0x4da9db(0x181)]['fromMe'],'_remoteJid':_0x1248a2[_0x4da9db(0x181)]['remoteJid']};_0x295f53[_0x4da9db(0x2b4)]['lastBlockId']=_0x189f8e['_id']['toString']();let {message_normalized:_0x4a960a}=this[_0x4da9db(0x5f8)](_0x1248a2[_0x4da9db(0x3d4)],$(_0x1248a2[_0x4da9db(0x3d4)]),null);_0x295f53[_0x4da9db(0x2b4)][_0x4da9db(0x3ab)]=await _0x4a960a;let _0x37f675={'messageId':_0x1248a2[_0x4da9db(0x181)]['id']},_0x15252d=_0x295f53[_0x4da9db(0x2b4)][_0x4da9db(0x205)];Object[_0x4da9db(0x6af)](_0x15252d,_0x13c2b8),_0x295f53[_0x4da9db(0x2b4)]['realVariables']=_0x15252d,this[_0x4da9db(0x74e)](_0x295f53,_0x189f8e,_0x37f675);}else{let _0x5c6b89={'error':!0x0};this[_0x4da9db(0x74e)](_0x295f53,_0x189f8e,_0x5c6b89),this[_0x4da9db(0x48c)][_0x4da9db(0x22d)](this[_0x4da9db(0x566)]+'\x20('+this[_0x4da9db(0x300)][_0x4da9db(0x634)]+_0x4da9db(0x1ef));}}catch(_0x51193b){let _0x42a118={'error':!0x0,'errorLog':_0x51193b['toString']()};this['updateConversation'](_0x295f53,_0x189f8e,_0x42a118),this['logger'][_0x4da9db(0x22d)](this['instanceName']+'\x20('+this['instance'][_0x4da9db(0x634)]+_0x4da9db(0x4a1)+(_0x51193b instanceof Error?_0x51193b[_0x4da9db(0x3d4)]:JSON['stringify'](_0x51193b,null,0x2)));}}async[a0_0x10d060(0x5f9)](_0x172ade,_0x243efb){const _0x2471af=a0_0x10d060;let _0x40f718=_0x172ade[_0x2471af(0x450)];_0x243efb[_0x2471af(0x346)][_0x2471af(0x450)]&&_0x243efb[_0x2471af(0x346)][_0x2471af(0x450)][_0x2471af(0x2a0)]()!==''&&(_0x40f718=_0x243efb[_0x2471af(0x346)]['remoteJid'][_0x2471af(0x2a0)]()),this[_0x2471af(0x48c)]['verbose'](this[_0x2471af(0x566)]+'\x20('+this[_0x2471af(0x300)]['wuid']+_0x2471af(0x221));let _0x324558={'number':_0x40f718,'options':{'delay':_0x243efb[_0x2471af(0x346)][_0x2471af(0x6fe)]},'audioMessage':{'audio':_0x243efb['uazapi'][_0x2471af(0x258)]}};try{let _0x586850=await this[_0x2471af(0x572)](_0x324558);if(_0x586850){let _0x4ac0ce={'_id':_0x586850[_0x2471af(0x181)]['id'],'_fromMe':_0x586850['key'][_0x2471af(0x233)],'_remoteJid':_0x586850['key'][_0x2471af(0x450)]};_0x172ade[_0x2471af(0x2b4)][_0x2471af(0x665)]=_0x243efb[_0x2471af(0x372)]['toString']();let {message_normalized:_0x85b901}=this[_0x2471af(0x5f8)](_0x586850[_0x2471af(0x3d4)],$(_0x586850['message']),null);_0x172ade[_0x2471af(0x2b4)]['lastSendMessage']=await _0x85b901;let _0x2af809={'messageId':_0x586850[_0x2471af(0x181)]['id']},_0x45e742=_0x172ade['chatLog'][_0x2471af(0x205)];Object[_0x2471af(0x6af)](_0x45e742,_0x4ac0ce),_0x172ade[_0x2471af(0x2b4)][_0x2471af(0x205)]=_0x45e742,this['updateConversation'](_0x172ade,_0x243efb,_0x2af809);}else{let _0x39ebb4={'error':!0x0};this['updateConversation'](_0x172ade,_0x243efb,_0x39ebb4),this[_0x2471af(0x48c)][_0x2471af(0x22d)](this[_0x2471af(0x566)]+'\x20('+this[_0x2471af(0x300)][_0x2471af(0x634)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x492a4b){let _0x5b7a31={'error':!0x0,'errorLog':_0x492a4b[_0x2471af(0x6d4)]()};this['updateConversation'](_0x172ade,_0x243efb,_0x5b7a31),this[_0x2471af(0x48c)][_0x2471af(0x22d)](this[_0x2471af(0x566)]+'\x20('+this[_0x2471af(0x300)][_0x2471af(0x634)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x492a4b instanceof Error?_0x492a4b[_0x2471af(0x3d4)]:JSON[_0x2471af(0x49d)](_0x492a4b,null,0x2)));}}async[a0_0x10d060(0x323)](_0x537403,_0x17d3db){const _0x3b7289=a0_0x10d060;let _0x558391=_0x537403[_0x3b7289(0x450)];_0x17d3db[_0x3b7289(0x346)][_0x3b7289(0x450)]&&_0x17d3db[_0x3b7289(0x346)][_0x3b7289(0x450)][_0x3b7289(0x2a0)]()!==''&&(_0x558391=_0x17d3db['uazapi'][_0x3b7289(0x450)][_0x3b7289(0x2a0)]()),this[_0x3b7289(0x48c)][_0x3b7289(0x25f)](this['instanceName']+'\x20('+this[_0x3b7289(0x300)][_0x3b7289(0x634)]+'):\x20Enviando\x20contato');let _0x4e8819={'number':_0x558391,'options':{'delay':_0x17d3db['uazapi']['delay']},'contactMessage':[{'fullName':_0x17d3db['uazapi'][_0x3b7289(0x704)],'phoneNumber':_0x17d3db[_0x3b7289(0x346)][_0x3b7289(0x1df)]}]};try{let _0x4f6830=await this[_0x3b7289(0x421)](_0x4e8819);if(_0x4f6830){let _0x3ee748={'_id':_0x4f6830[_0x3b7289(0x181)]['id'],'_fromMe':_0x4f6830[_0x3b7289(0x181)][_0x3b7289(0x233)],'_remoteJid':_0x4f6830[_0x3b7289(0x181)][_0x3b7289(0x450)]};_0x537403[_0x3b7289(0x2b4)][_0x3b7289(0x665)]=_0x17d3db['_id'][_0x3b7289(0x6d4)]();let {message_normalized:_0x52dc8a}=this[_0x3b7289(0x5f8)](_0x4f6830[_0x3b7289(0x3d4)],$(_0x4f6830['message']),null);_0x537403['chatLog'][_0x3b7289(0x3ab)]=await _0x52dc8a;let _0x339490={'messageId':_0x4f6830['key']['id']},_0x1981c9=_0x537403['chatLog'][_0x3b7289(0x205)];Object[_0x3b7289(0x6af)](_0x1981c9,_0x3ee748),_0x537403[_0x3b7289(0x2b4)][_0x3b7289(0x205)]=_0x1981c9,this[_0x3b7289(0x74e)](_0x537403,_0x17d3db,_0x339490);}else{let _0x40948d={'error':!0x0};this[_0x3b7289(0x74e)](_0x537403,_0x17d3db,_0x40948d),this[_0x3b7289(0x48c)][_0x3b7289(0x22d)](this[_0x3b7289(0x566)]+'\x20('+this[_0x3b7289(0x300)][_0x3b7289(0x634)]+_0x3b7289(0x29d));}}catch(_0x5a759d){let _0xa7ca1f={'error':!0x0,'errorLog':_0x5a759d[_0x3b7289(0x6d4)]()};this[_0x3b7289(0x74e)](_0x537403,_0x17d3db,_0xa7ca1f),this[_0x3b7289(0x48c)][_0x3b7289(0x22d)](this[_0x3b7289(0x566)]+'\x20('+this[_0x3b7289(0x300)]['wuid']+_0x3b7289(0x59e)+(_0x5a759d instanceof Error?_0x5a759d[_0x3b7289(0x3d4)]:JSON['stringify'](_0x5a759d,null,0x2)));}}[a0_0x10d060(0x526)](_0x132819,_0x3571c2){const _0x378b76=a0_0x10d060;for(let _0x51cb20 of _0x132819)_0x51cb20[_0x378b76(0x5a2)]&&(_0x51cb20['option']=this['replaceVariables'](_0x51cb20[_0x378b76(0x5a2)],_0x3571c2)),_0x51cb20[_0x378b76(0x3f2)]&&(_0x51cb20[_0x378b76(0x3f2)]=this[_0x378b76(0x1b8)](_0x51cb20[_0x378b76(0x3f2)],_0x3571c2));}async[a0_0x10d060(0x423)](_0x16b881,_0x4a7027){const _0x423583=a0_0x10d060;let _0x56e80a=_0x16b881[_0x423583(0x450)];_0x4a7027['uazapi']['remoteJid']&&_0x4a7027[_0x423583(0x346)][_0x423583(0x450)][_0x423583(0x2a0)]()!==''&&(_0x56e80a=_0x4a7027[_0x423583(0x346)][_0x423583(0x450)]['trim']()),this[_0x423583(0x48c)][_0x423583(0x25f)](this[_0x423583(0x566)]+'\x20('+this[_0x423583(0x300)][_0x423583(0x634)]+'):\x20Enviando\x20enquete');let _0x4d2d10=_0x16b881['replyOptions'][_0x423583(0x3ed)](_0x45e2fe=>_0x45e2fe[_0x423583(0x468)]===_0x4a7027[_0x423583(0x372)])[_0x423583(0x63e)]((_0x54d28d,_0x51815b)=>_0x54d28d[_0x423583(0x718)]-_0x51815b['order']);this['replaceVariablesInReplyOptions'](_0x4d2d10,_0x16b881['chatLog'][_0x423583(0x205)]);let _0x378080=_0x4d2d10[_0x423583(0x606)](_0x4f34b7=>_0x4f34b7[_0x423583(0x5a2)]),_0x422c8f={'number':_0x56e80a,'menuMessage':{'type':_0x4a7027[_0x423583(0x346)]['menuType']||_0x423583(0x708),'text':_0x4a7027[_0x423583(0x346)][_0x423583(0x28b)]||_0x4a7027[_0x423583(0x346)][_0x423583(0x4b9)],'footerText':_0x4a7027[_0x423583(0x346)]['footerText'],'buttonText':_0x4a7027[_0x423583(0x346)]['buttonText'],'selectableCount':0x1,'choices':_0x378080},'options':{'delay':_0x4a7027[_0x423583(0x346)][_0x423583(0x6fe)]}};try{let _0x1f2949=await this[_0x423583(0x281)](_0x422c8f);if(_0x1f2949){let _0x121cdf={'_id':_0x1f2949[_0x423583(0x181)]['id'],'_fromMe':_0x1f2949[_0x423583(0x181)][_0x423583(0x233)],'_remoteJid':_0x1f2949[_0x423583(0x181)][_0x423583(0x450)]};_0x4a7027[_0x423583(0x346)][_0x423583(0x614)]===!0x0&&(_0x16b881[_0x423583(0x5c1)]=_0x423583(0x292),this['logger'][_0x423583(0x25f)](this[_0x423583(0x566)]+'\x20('+this['instance'][_0x423583(0x634)]+_0x423583(0x1be)+_0x16b881[_0x423583(0x5c1)])),this['logger'][_0x423583(0x25f)](this[_0x423583(0x566)]+'\x20('+this[_0x423583(0x300)][_0x423583(0x634)]+_0x423583(0x6e6)+(_0x4a7027[_0x423583(0x346)][_0x423583(0x4b9)]||_0x4a7027[_0x423583(0x346)][_0x423583(0x28b)])),_0x16b881[_0x423583(0x73d)]=_0x1f2949[_0x423583(0x181)]['id'],_0x16b881[_0x423583(0x747)]=_0x4a7027['uazapi'][_0x423583(0x4b9)]||_0x4a7027[_0x423583(0x346)][_0x423583(0x28b)],_0x16b881[_0x423583(0x756)]=_0x4d2d10,_0x4a7027[_0x423583(0x346)][_0x423583(0x24f)]&&(_0x16b881[_0x423583(0x2bc)]=_0x4a7027[_0x423583(0x346)][_0x423583(0x24f)]),this[_0x423583(0x48c)]['verbose'](this[_0x423583(0x566)]+'\x20('+this['instance'][_0x423583(0x634)]+_0x423583(0x458)+_0x16b881[_0x423583(0x747)]),_0x16b881[_0x423583(0x2b4)]['lastBlockId']=_0x4a7027['_id'][_0x423583(0x6d4)]();let {message_normalized:_0x11ddab}=this['normalizeMessage'](_0x1f2949[_0x423583(0x3d4)],$(_0x1f2949['message']),null);_0x16b881[_0x423583(0x2b4)]['lastSendMessage']=await _0x11ddab;let _0x552054={'messageId':_0x1f2949[_0x423583(0x181)]['id']},_0x78211b=_0x16b881[_0x423583(0x2b4)][_0x423583(0x205)];Object['assign'](_0x78211b,_0x121cdf),_0x16b881[_0x423583(0x2b4)][_0x423583(0x205)]=_0x78211b,this[_0x423583(0x74e)](_0x16b881,_0x4a7027,_0x552054);}else{let _0x178953={'error':!0x0};this[_0x423583(0x74e)](_0x16b881,_0x4a7027,_0x178953),this[_0x423583(0x48c)][_0x423583(0x22d)](this[_0x423583(0x566)]+'\x20('+this[_0x423583(0x300)][_0x423583(0x634)]+_0x423583(0x60e));}}catch(_0x3b3c10){let _0x3a6036={'error':!0x0,'errorLog':_0x3b3c10 instanceof Error?_0x3b3c10[_0x423583(0x3d4)]:JSON['stringify'](_0x3b3c10,null,0x2)};this[_0x423583(0x74e)](_0x16b881,_0x4a7027,_0x3a6036),this[_0x423583(0x48c)][_0x423583(0x22d)](this[_0x423583(0x566)]+'\x20('+this['instance']['wuid']+_0x423583(0x28f)+(_0x3b3c10 instanceof Error?_0x3b3c10[_0x423583(0x3d4)]:JSON['stringify'](_0x3b3c10,null,0x2)));}}async['uazapiDeleteMessage'](_0x26bcac,_0x21788b){const _0x3d86cc=a0_0x10d060;this['logger'][_0x3d86cc(0x25f)](this[_0x3d86cc(0x566)]+'\x20('+this['instance'][_0x3d86cc(0x634)]+'):\x20Deletando\x20mensagem');let _0x2f11fe=_0x26bcac[_0x3d86cc(0x2b4)][_0x3d86cc(0x497)]['find'](_0x1ae57d=>_0x1ae57d[_0x3d86cc(0x468)]['toString']()===_0x21788b['uazapi'][_0x3d86cc(0x468)][_0x3d86cc(0x6d4)]()),_0x23a09d={'id':_0x2f11fe[_0x3d86cc(0x25e)],'remoteJid':_0x2f11fe['remoteJid'],'fromMe':_0x2f11fe[_0x3d86cc(0x233)]};try{let _0x14e3b5=await this[_0x3d86cc(0x5e5)](_0x23a09d);if(_0x14e3b5){_0x26bcac[_0x3d86cc(0x2b4)][_0x3d86cc(0x665)]=_0x21788b[_0x3d86cc(0x372)][_0x3d86cc(0x6d4)]();let {message_normalized:_0x12096f}=this[_0x3d86cc(0x5f8)](_0x14e3b5[_0x3d86cc(0x3d4)],$(_0x14e3b5[_0x3d86cc(0x3d4)]),null);_0x26bcac[_0x3d86cc(0x2b4)][_0x3d86cc(0x3ab)]=await _0x12096f;let _0x538ce0={};this['updateConversation'](_0x26bcac,_0x21788b,_0x538ce0);}else{let _0x3a6dc2={'error':!0x0};this['updateConversation'](_0x26bcac,_0x21788b,_0x3a6dc2),this[_0x3d86cc(0x48c)][_0x3d86cc(0x22d)](this[_0x3d86cc(0x566)]+'\x20('+this[_0x3d86cc(0x300)]['wuid']+_0x3d86cc(0x1d9));}}catch(_0x3024cb){let _0x362004={'error':!0x0,'errorLog':_0x3024cb instanceof Error?_0x3024cb['message']:JSON[_0x3d86cc(0x49d)](_0x3024cb,null,0x2)};this[_0x3d86cc(0x74e)](_0x26bcac,_0x21788b,_0x362004),this[_0x3d86cc(0x48c)][_0x3d86cc(0x22d)](this['instanceName']+'\x20('+this[_0x3d86cc(0x300)][_0x3d86cc(0x634)]+_0x3d86cc(0x2c2)+(_0x3024cb instanceof Error?_0x3024cb['message']:JSON['stringify'](_0x3024cb,null,0x2)));}}async[a0_0x10d060(0x2c4)](_0x447249){const _0x7d6fa=a0_0x10d060;try{if(this[_0x7d6fa(0x48c)][_0x7d6fa(0x25f)](this['instanceName']+'\x20('+this[_0x7d6fa(0x300)][_0x7d6fa(0x634)]+_0x7d6fa(0x500)),await this[_0x7d6fa(0x6f8)][_0x7d6fa(0x32a)]['findOne']({'where':{'name':_0x447249['name']}},this[_0x7d6fa(0x300)][_0x7d6fa(0x634)]))return{'message':_0x7d6fa(0x75f)};_0x447249[_0x7d6fa(0x6bb)]===!0x0&&await this[_0x7d6fa(0x6f8)][_0x7d6fa(0x32a)][_0x7d6fa(0x176)]({},{'default':!0x1},this['instance'][_0x7d6fa(0x634)]);let _0x1826fd=new ie[(_0x7d6fa(0x658))][(_0x7d6fa(0x777))](),_0x3e3272={'_id':_0x1826fd,'default':!0x0,'title':_0x7d6fa(0x317),'x':0x0,'y':0x0},_0x5c026d={'_id':new ie[(_0x7d6fa(0x658))][(_0x7d6fa(0x777))](),'order':0x1,'groupId':_0x1826fd[_0x7d6fa(0x6d4)](),'type':'start'},_0x1b466e={'_id':new ie[(_0x7d6fa(0x658))][(_0x7d6fa(0x777))](),'owner':this[_0x7d6fa(0x300)]['wuid'],'name':_0x447249['name'],'groups':[_0x3e3272],'blocks':[_0x5c026d],..._0x447249};return _0x1b466e=await this[_0x7d6fa(0x6f8)][_0x7d6fa(0x32a)][_0x7d6fa(0x44c)](_0x1b466e,this['instance'][_0x7d6fa(0x634)]),_0x1b466e;}catch(_0x18ce11){throw this[_0x7d6fa(0x48c)][_0x7d6fa(0x22d)](this[_0x7d6fa(0x566)]+'\x20('+this[_0x7d6fa(0x300)][_0x7d6fa(0x634)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20'+(_0x18ce11 instanceof Error?_0x18ce11[_0x7d6fa(0x3d4)]:JSON[_0x7d6fa(0x49d)](_0x18ce11,null,0x2))),new m(_0x7d6fa(0x61e)+_0x18ce11);}}async['deleteFlow'](_0x1c9f24){const _0x4c6b47=a0_0x10d060;try{return this[_0x4c6b47(0x48c)][_0x4c6b47(0x25f)](this[_0x4c6b47(0x566)]+'\x20('+this['instance']['wuid']+_0x4c6b47(0x3ae)),await this['repository'][_0x4c6b47(0x32a)][_0x4c6b47(0x326)]({'where':{'name':_0x1c9f24}},this['instance'][_0x4c6b47(0x634)]);}catch(_0x13e752){return this[_0x4c6b47(0x48c)]['error'](this['instanceName']+'\x20('+this[_0x4c6b47(0x300)][_0x4c6b47(0x634)]+_0x4c6b47(0x21b)+(_0x13e752 instanceof Error?_0x13e752['message']:JSON[_0x4c6b47(0x49d)](_0x13e752,null,0x2))),{'message':_0x4c6b47(0x48a)+_0x13e752};}}async[a0_0x10d060(0x728)](_0x13e6a2){const _0x177acb=a0_0x10d060;try{this[_0x177acb(0x48c)][_0x177acb(0x25f)](this[_0x177acb(0x566)]+'\x20('+this['instance'][_0x177acb(0x634)]+_0x177acb(0x363));let _0x1cac52=await this[_0x177acb(0x6f8)][_0x177acb(0x32a)][_0x177acb(0x198)]({'where':{'name':_0x13e6a2}},this[_0x177acb(0x300)][_0x177acb(0x634)]);if(!_0x1cac52)throw new Error('Flow\x20não\x20encontrado');if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x3cb163=this[_0x177acb(0x667)]?.[_0x177acb(0x424)]['map'](_0x24b68c=>_0x24b68c['name']),_0x239f65=[_0x177acb(0x65b),_0x177acb(0x4e2),_0x177acb(0x3f4),'cpf','status',_0x177acb(0x306),_0x177acb(0x21e),_0x177acb(0x578)];_0x1cac52[_0x177acb(0x495)]=_0x1cac52[_0x177acb(0x495)]['filter'](_0x4ca268=>!(_0x4ca268[_0x177acb(0x68b)]===_0x177acb(0x334)||_0x4ca268[_0x177acb(0x334)])),_0x239f65[_0x177acb(0x311)](_0x4da57a=>{const _0x5d329f=_0x177acb;_0x1cac52[_0x5d329f(0x495)][_0x5d329f(0x549)]({'folder':_0x5d329f(0x334),'name':_0x4da57a,'value':'','doc':'','leadInfo':!0x0});}),_0x3cb163['forEach'](_0x6f974e=>{const _0x13ea12=_0x177acb;let _0x142209=_0x1cac52['variables']['findIndex'](_0x364bdd=>_0x364bdd[_0x13ea12(0x4b9)]===_0x6f974e);_0x142209===-0x1?_0x1cac52['variables'][_0x13ea12(0x549)]({'folder':_0x13ea12(0x334),'name':_0x6f974e,'value':'','doc':'','leadInfo':!0x0}):(_0x1cac52[_0x13ea12(0x495)][_0x142209][_0x13ea12(0x68b)]=_0x13ea12(0x334),_0x1cac52[_0x13ea12(0x495)][_0x142209]['leadInfo']=!0x0);}),_0x1cac52[_0x177acb(0x2f7)]&&_0x1cac52[_0x177acb(0x2f7)][_0x177acb(0x31a)]>0x0&&_0x1cac52[_0x177acb(0x2f7)]['forEach'](_0x167ad0=>{const _0x18b0d6=_0x177acb;_0x167ad0['groupId']&&_0x167ad0[_0x18b0d6(0x775)]&&_0x167ad0[_0x18b0d6(0x741)]===_0x167ad0['next_groupId']&&(_0x167ad0[_0x18b0d6(0x775)]=null);});let _0x32fde2=await this[_0x177acb(0x6f8)][_0x177acb(0x32a)][_0x177acb(0x251)](_0x1cac52[_0x177acb(0x372)],_0x1cac52,this[_0x177acb(0x300)][_0x177acb(0x634)]);if(!_0x32fde2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x32fde2;}catch(_0x55c9d5){throw this[_0x177acb(0x48c)][_0x177acb(0x22d)](this[_0x177acb(0x566)]+'\x20('+this[_0x177acb(0x300)][_0x177acb(0x634)]+_0x177acb(0x285)+(_0x55c9d5 instanceof Error?_0x55c9d5[_0x177acb(0x3d4)]:JSON['stringify'](_0x55c9d5,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x55c9d5);}}async[a0_0x10d060(0x3e1)](){const _0x538018=a0_0x10d060;try{return this[_0x538018(0x48c)][_0x538018(0x25f)](this[_0x538018(0x566)]+'\x20('+this['instance']['wuid']+_0x538018(0x2cd)),await this[_0x538018(0x6f8)][_0x538018(0x32a)][_0x538018(0x135)]({'where':{}},this[_0x538018(0x300)][_0x538018(0x634)]);}catch(_0x398578){return this[_0x538018(0x48c)]['error'](this[_0x538018(0x566)]+'\x20('+this[_0x538018(0x300)][_0x538018(0x634)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x398578 instanceof Error?_0x398578['message']:JSON[_0x538018(0x49d)](_0x398578,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x398578};}}async[a0_0x10d060(0x1ff)](_0x3db544){const _0x357ea6=a0_0x10d060;try{this[_0x357ea6(0x48c)][_0x357ea6(0x25f)](this[_0x357ea6(0x566)]+'\x20('+this[_0x357ea6(0x300)][_0x357ea6(0x634)]+'):\x20Alterando\x20fluxo...');let _0x595d76=await this['repository'][_0x357ea6(0x32a)]['findOne']({'where':{'name':_0x3db544[_0x357ea6(0x4b9)]}},this[_0x357ea6(0x300)]['wuid']);return _0x595d76?(_0x3db544[_0x357ea6(0x6bb)]===!0x0&&await this[_0x357ea6(0x6f8)][_0x357ea6(0x32a)][_0x357ea6(0x176)]({},{'default':!0x1},this[_0x357ea6(0x300)][_0x357ea6(0x634)]),await this[_0x357ea6(0x6f8)][_0x357ea6(0x32a)][_0x357ea6(0x251)](_0x595d76[_0x357ea6(0x372)],_0x3db544,this[_0x357ea6(0x300)][_0x357ea6(0x634)])):{'message':_0x357ea6(0x73e)};}catch(_0x28567a){throw this['logger'][_0x357ea6(0x22d)](this[_0x357ea6(0x566)]+'\x20('+this[_0x357ea6(0x300)][_0x357ea6(0x634)]+_0x357ea6(0x41f)+(_0x28567a instanceof Error?_0x28567a[_0x357ea6(0x3d4)]:JSON[_0x357ea6(0x49d)](_0x28567a,null,0x2))),new m(_0x357ea6(0x4a8)+(_0x28567a instanceof Error?_0x28567a[_0x357ea6(0x3d4)]:JSON[_0x357ea6(0x49d)](_0x28567a,null,0x2)));}}async[a0_0x10d060(0x418)](_0x14a809){const _0x483097=a0_0x10d060;try{this[_0x483097(0x48c)]['verbose'](this[_0x483097(0x566)]+'\x20('+this[_0x483097(0x300)][_0x483097(0x634)]+_0x483097(0x6ea));let _0x47b51f=await this[_0x483097(0x6f8)][_0x483097(0x32a)][_0x483097(0x198)]({'where':{'name':_0x14a809['name']}},this[_0x483097(0x300)][_0x483097(0x634)]);_0x47b51f||this[_0x483097(0x5f0)](_0x483097(0x1e9));let {block:_0x335fc9}=_0x14a809;_0x335fc9?.['copy']?this[_0x483097(0x19d)](_0x47b51f,_0x14a809):_0x335fc9?.[_0x483097(0x3e0)]?this[_0x483097(0x412)](_0x47b51f,_0x14a809):_0x335fc9['_id']?await this['updateBlock'](_0x47b51f,_0x14a809):this['addBlock'](_0x47b51f,_0x14a809);let _0x45a349=await this[_0x483097(0x6f8)][_0x483097(0x32a)][_0x483097(0x251)](_0x47b51f['_id'],_0x47b51f,this[_0x483097(0x300)]['wuid']);if(!_0x45a349)throw new Error(_0x483097(0x543));return _0x45a349;}catch(_0x163854){this[_0x483097(0x5f0)](_0x483097(0x3cd)+_0x163854);}}async['copyBlock'](_0x3cd3f1,_0x455a4e){const _0x3b2d9f=a0_0x10d060;let _0x4e67b4=_0x455a4e[_0x3b2d9f(0x47f)][_0x3b2d9f(0x372)],_0x838c54=_0x3cd3f1[_0x3b2d9f(0x2f7)][_0x3b2d9f(0x5aa)](_0x64197d=>_0x64197d[_0x3b2d9f(0x372)][_0x3b2d9f(0x6d4)]()===_0x4e67b4);if(!_0x838c54){this['logger'][_0x3b2d9f(0x22d)](this[_0x3b2d9f(0x566)]+'\x20('+this[_0x3b2d9f(0x300)][_0x3b2d9f(0x634)]+_0x3b2d9f(0x551)+_0x4e67b4+_0x3b2d9f(0x451));return;}this[_0x3b2d9f(0x48c)][_0x3b2d9f(0x25f)](this[_0x3b2d9f(0x566)]+'\x20('+this['instance'][_0x3b2d9f(0x634)]+_0x3b2d9f(0x51b)+JSON[_0x3b2d9f(0x49d)](_0x838c54));let _0x4142f4=JSON['parse'](JSON['stringify'](_0x838c54));_0x4142f4[_0x3b2d9f(0x372)]=new ie['default'][(_0x3b2d9f(0x658))][(_0x3b2d9f(0x777))](),this[_0x3b2d9f(0x48c)][_0x3b2d9f(0x25f)](this[_0x3b2d9f(0x566)]+'\x20('+this['instance'][_0x3b2d9f(0x634)]+_0x3b2d9f(0x200)+JSON[_0x3b2d9f(0x49d)](_0x4142f4)),_0x3cd3f1[_0x3b2d9f(0x2f7)][_0x3b2d9f(0x549)](_0x4142f4),this[_0x3b2d9f(0x17d)](_0x3cd3f1[_0x3b2d9f(0x2f7)],_0x4142f4['groupId']);}['throwAndLogError'](_0x2c4aa8){const _0x54e994=a0_0x10d060;throw this['logger'][_0x54e994(0x22d)](this['instanceName']+'\x20('+this[_0x54e994(0x300)][_0x54e994(0x634)]+'):\x20'+_0x2c4aa8),new m(_0x2c4aa8);}[a0_0x10d060(0x412)](_0x233462,_0x317921){const _0x570dac=a0_0x10d060;let {block:_0x3dd4e4}=_0x317921;if(_0x3dd4e4[_0x570dac(0x727)]==='start'){this[_0x570dac(0x5f0)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x3dd4e4[_0x570dac(0x372)]){this[_0x570dac(0x5f0)](_0x570dac(0x154));return;}let _0x6f445d=_0x233462[_0x570dac(0x2f7)][_0x570dac(0x5aa)](_0x496185=>_0x496185[_0x570dac(0x372)][_0x570dac(0x6d4)]()===_0x317921[_0x570dac(0x47f)][_0x570dac(0x372)]['toString']());if(!_0x6f445d){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x3dd4e4[_0x570dac(0x372)]+_0x570dac(0x726));return;}_0x233462[_0x570dac(0x2f7)]=_0x233462[_0x570dac(0x2f7)]['filter'](_0x1b7147=>_0x1b7147[_0x570dac(0x372)][_0x570dac(0x6d4)]()!==_0x317921[_0x570dac(0x47f)][_0x570dac(0x372)][_0x570dac(0x6d4)]()),_0x233462[_0x570dac(0x74f)]=_0x233462[_0x570dac(0x74f)][_0x570dac(0x3ed)](_0x139183=>_0x139183[_0x570dac(0x468)]!==_0x3dd4e4[_0x570dac(0x372)][_0x570dac(0x6d4)]()),_0x233462[_0x570dac(0x50f)]=_0x233462[_0x570dac(0x50f)][_0x570dac(0x3ed)](_0x5ee47c=>_0x5ee47c[_0x570dac(0x468)]!==_0x3dd4e4['_id'][_0x570dac(0x6d4)]()),_0x233462[_0x570dac(0x760)]=_0x233462[_0x570dac(0x760)][_0x570dac(0x3ed)](_0x389a45=>_0x389a45[_0x570dac(0x468)]!==_0x3dd4e4[_0x570dac(0x372)][_0x570dac(0x6d4)]()),this[_0x570dac(0x17d)](_0x233462[_0x570dac(0x2f7)],_0x6f445d[_0x570dac(0x741)]);}async[a0_0x10d060(0x54f)](_0x4d4fa6,_0x1fc623){const _0xb10b93=a0_0x10d060;let _0x5b1238=_0x4d4fa6[_0xb10b93(0x2f7)][_0xb10b93(0x16d)](_0x35ade2=>_0x35ade2['_id']['toString']()===_0x1fc623[_0xb10b93(0x47f)][_0xb10b93(0x372)]['toString']());if(this[_0xb10b93(0x48c)][_0xb10b93(0x25f)](this[_0xb10b93(0x566)]+'\x20('+this[_0xb10b93(0x300)]['wuid']+_0xb10b93(0x73f)+_0x5b1238),_0x5b1238===-0x1){this[_0xb10b93(0x48c)][_0xb10b93(0x25f)]('Bloco\x20com\x20ID\x20'+_0x1fc623['block'][_0xb10b93(0x372)]+_0xb10b93(0x2d2));return;}if(_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x727)]===_0xb10b93(0x49b)){let _0xc7e654=Object[_0xb10b93(0x428)](_0x1fc623[_0xb10b93(0x47f)]);if(_0xc7e654['length']>0x2||_0xc7e654['length']===0x2&&!_0xc7e654['includes'](_0xb10b93(0x775))){this['throwAndLogError'](_0xb10b93(0x686));return;}}let _0x1c52c1=_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x741)];for(let _0x2e97b7 in _0x1fc623[_0xb10b93(0x47f)])_0x1fc623[_0xb10b93(0x47f)][_0xb10b93(0x6e5)](_0x2e97b7)&&(_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0x2e97b7]=_0x1fc623[_0xb10b93(0x47f)][_0x2e97b7]);if(this[_0xb10b93(0x48c)]['verbose'](this[_0xb10b93(0x566)]+'\x20('+this[_0xb10b93(0x300)][_0xb10b93(0x634)]+_0xb10b93(0x5f3)+JSON[_0xb10b93(0x49d)](_0x4d4fa6['blocks'][_0x5b1238])),_0x4d4fa6['blocks'][_0x5b1238]['apirequest']&&'header'in _0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238]['apirequest']){this[_0xb10b93(0x48c)][_0xb10b93(0x25f)](this['instanceName']+'\x20('+this[_0xb10b93(0x300)][_0xb10b93(0x634)]+_0xb10b93(0x40a));let _0x3cc7bd=JSON['stringify'](_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)]['header'],null,0x1);_0x3cc7bd[_0xb10b93(0x31a)]>0x2&&(_0x3cc7bd=_0x3cc7bd[_0xb10b93(0x6a5)](0x1,_0x3cc7bd[_0xb10b93(0x31a)]-0x1)[_0xb10b93(0x2a0)]()),_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)][_0xb10b93(0x245)]=_0x3cc7bd;}if(_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)]&&_0xb10b93(0x3c8)in _0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)]){this[_0xb10b93(0x48c)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xb10b93(0x6ed));let _0x5b42ea=JSON['stringify'](_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)]['body'],null,0x1);_0x5b42ea['length']>0x2&&(_0x5b42ea=_0x5b42ea[_0xb10b93(0x6a5)](0x1,_0x5b42ea[_0xb10b93(0x31a)]-0x1)['trim']()),_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x6f4)][_0xb10b93(0x4f4)]=_0x5b42ea;}let _0x1d663b=_0x4d4fa6[_0xb10b93(0x2f7)][_0x5b1238][_0xb10b93(0x741)];_0x1c52c1!==_0x1d663b?(this[_0xb10b93(0x17d)](_0x4d4fa6['blocks'],_0x1c52c1),this[_0xb10b93(0x17d)](_0x4d4fa6[_0xb10b93(0x2f7)],_0x1d663b)):this[_0xb10b93(0x17d)](_0x4d4fa6[_0xb10b93(0x2f7)],_0x1c52c1);}['addBlock'](_0x4e5161,_0x52a5d0){const _0x14a440=a0_0x10d060;if(_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x727)]==='start'){this[_0x14a440(0x5f0)](_0x14a440(0x37d));return;}if(_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x6f4)]&&_0x14a440(0x2d7)in _0x52a5d0['block'][_0x14a440(0x6f4)]){this[_0x14a440(0x48c)][_0x14a440(0x25f)](this[_0x14a440(0x566)]+'\x20('+this[_0x14a440(0x300)][_0x14a440(0x634)]+_0x14a440(0x40a));let _0x54ca02=JSON[_0x14a440(0x49d)](_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x6f4)][_0x14a440(0x2d7)],null,0x1);_0x54ca02['length']>0x2&&(_0x54ca02=_0x54ca02[_0x14a440(0x6a5)](0x1,_0x54ca02[_0x14a440(0x31a)]-0x1)[_0x14a440(0x2a0)]()),_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x6f4)][_0x14a440(0x245)]=_0x54ca02;}_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x6f4)]&&_0x14a440(0x3c8)in _0x52a5d0['block'][_0x14a440(0x6f4)]&&(this[_0x14a440(0x48c)][_0x14a440(0x25f)](this['instanceName']+'\x20('+this['instance'][_0x14a440(0x634)]+_0x14a440(0x6ed)),_0x52a5d0[_0x14a440(0x47f)]['apirequest'][_0x14a440(0x4f4)]=JSON[_0x14a440(0x49d)](_0x52a5d0[_0x14a440(0x47f)]['apirequest']['body'],null,0x1)[_0x14a440(0x2a0)]()),_0x4e5161['blocks'][_0x14a440(0x549)](_0x52a5d0[_0x14a440(0x47f)]),this['reorderBlocks'](_0x4e5161[_0x14a440(0x2f7)],_0x52a5d0[_0x14a440(0x47f)][_0x14a440(0x741)]);}['reorderBlocks'](_0x250c9e,_0x3ed0ee){const _0x9871eb=a0_0x10d060;let _0x214520=_0x250c9e[_0x9871eb(0x3ed)](_0x47ef7a=>_0x47ef7a['groupId']===_0x3ed0ee);_0x214520[_0x9871eb(0x63e)]((_0x3e2809,_0x5c530e)=>_0x3e2809[_0x9871eb(0x718)]-_0x5c530e['order']),_0x214520[_0x9871eb(0x311)]((_0x5ba2a2,_0x3d362b)=>_0x5ba2a2[_0x9871eb(0x718)]=_0x3d362b+0x1);}async[a0_0x10d060(0x22b)](_0x39b8ba){const _0xb62063=a0_0x10d060;try{if(this[_0xb62063(0x48c)][_0xb62063(0x25f)](this[_0xb62063(0x566)]+'\x20('+this['instance']['wuid']+_0xb62063(0x496)),!_0x39b8ba||!_0x39b8ba['replyOption']){this['throwAndLogError'](_0xb62063(0x498));return;}let _0x208a38=await this[_0xb62063(0x6f8)][_0xb62063(0x32a)][_0xb62063(0x198)]({'where':{'name':_0x39b8ba[_0xb62063(0x4b9)]}},this[_0xb62063(0x300)]['wuid']);_0x208a38||this[_0xb62063(0x5f0)](_0xb62063(0x1e9));let {replyOption:_0x23cd08}=_0x39b8ba;_0x23cd08?.[_0xb62063(0x3e0)]?(this[_0xb62063(0x4b6)](_0x208a38,_0x39b8ba),this[_0xb62063(0x5b5)](_0x208a38[_0xb62063(0x760)],_0x39b8ba['replyOption'][_0xb62063(0x468)])):_0x23cd08[_0xb62063(0x372)]?(await this[_0xb62063(0x780)](_0x208a38,_0x39b8ba),this[_0xb62063(0x5b5)](_0x208a38[_0xb62063(0x760)],_0x39b8ba[_0xb62063(0x6fc)]['blockId'])):(this[_0xb62063(0x6cb)](_0x208a38,_0x39b8ba),this[_0xb62063(0x5b5)](_0x208a38['replyOptions'],_0x39b8ba[_0xb62063(0x6fc)][_0xb62063(0x468)]));let _0x5514e2=await this['repository'][_0xb62063(0x32a)][_0xb62063(0x251)](_0x208a38[_0xb62063(0x372)],_0x208a38,this[_0xb62063(0x300)][_0xb62063(0x634)]);if(!_0x5514e2)throw new Error(_0xb62063(0x543));return _0x5514e2;}catch(_0x58ce8d){this[_0xb62063(0x5f0)](_0xb62063(0x438)+_0x58ce8d);}}[a0_0x10d060(0x5b5)](_0x3c6cb0,_0x5c59a5){const _0x554873=a0_0x10d060;console[_0x554873(0x30d)](_0x554873(0x4ff),_0x5c59a5),_0x3c6cb0[_0x554873(0x311)](_0xa7ca02=>{const _0x469e4d=_0x554873;_0xa7ca02['blockId']===_0x5c59a5&&_0xa7ca02['order']===void 0x0&&(_0xa7ca02[_0x469e4d(0x718)]=0x270f);});let _0x42a161=_0x3c6cb0[_0x554873(0x3ed)](_0xac7687=>_0xac7687[_0x554873(0x468)]===_0x5c59a5);_0x42a161[_0x554873(0x63e)]((_0x3e52a0,_0x105e06)=>_0x3e52a0['order']-_0x105e06[_0x554873(0x718)]),_0x42a161[_0x554873(0x311)]((_0x102643,_0x32aea7)=>{_0x102643['order']=_0x32aea7+0x1;}),_0x3c6cb0[_0x554873(0x311)](_0x259248=>{const _0x5ddd29=_0x554873;if(_0x259248['blockId']===_0x5c59a5){let _0x5a811e=_0x42a161[_0x5ddd29(0x5aa)](_0x249d06=>_0x249d06[_0x5ddd29(0x372)]&&_0x259248[_0x5ddd29(0x372)]&&_0x249d06[_0x5ddd29(0x372)][_0x5ddd29(0x6d4)]()===_0x259248[_0x5ddd29(0x372)][_0x5ddd29(0x6d4)]());_0x5a811e&&(_0x259248[_0x5ddd29(0x718)]=_0x5a811e[_0x5ddd29(0x718)]);}}),console['log'](_0x554873(0x3c0),_0x3c6cb0);}['deleteReplyOption'](_0x5b8ece,_0x52c2d2){const _0x102147=a0_0x10d060;let {replyOption:_0x477afa}=_0x52c2d2;if(!_0x477afa[_0x102147(0x372)]){this['throwAndLogError'](_0x102147(0x59a));return;}if(!_0x5b8ece['replyOptions'][_0x102147(0x5aa)](_0x48e3f5=>_0x48e3f5[_0x102147(0x372)][_0x102147(0x6d4)]()===_0x52c2d2[_0x102147(0x6fc)][_0x102147(0x372)][_0x102147(0x6d4)]())){this[_0x102147(0x5f0)](_0x102147(0x3bf)+_0x477afa[_0x102147(0x372)]+_0x102147(0x726));return;}_0x5b8ece['replyOptions']=_0x5b8ece[_0x102147(0x760)][_0x102147(0x3ed)](_0x406bfb=>_0x406bfb[_0x102147(0x372)][_0x102147(0x6d4)]()!==_0x52c2d2[_0x102147(0x6fc)][_0x102147(0x372)][_0x102147(0x6d4)]());}async[a0_0x10d060(0x780)](_0x31f6ac,_0x1ca008){const _0xadf161=a0_0x10d060;let _0x17cefd=_0x31f6ac[_0xadf161(0x760)]['findIndex'](_0xb42689=>_0xb42689[_0xadf161(0x372)]['toString']()===_0x1ca008['replyOption'][_0xadf161(0x372)][_0xadf161(0x6d4)]());if(_0x17cefd===-0x1){this[_0xadf161(0x5f0)]('ReplyOption\x20com\x20ID\x20'+_0x1ca008[_0xadf161(0x6fc)][_0xadf161(0x372)]+_0xadf161(0x2d2));return;}for(let _0x1b6a37 in _0x1ca008[_0xadf161(0x6fc)])_0x1ca008[_0xadf161(0x6fc)]['hasOwnProperty'](_0x1b6a37)&&(_0x31f6ac[_0xadf161(0x760)][_0x17cefd][_0x1b6a37]=_0x1ca008[_0xadf161(0x6fc)][_0x1b6a37]);}[a0_0x10d060(0x6cb)](_0x5a6986,_0x50e1dc){const _0x5c4d1e=a0_0x10d060;_0x5a6986[_0x5c4d1e(0x760)][_0x5c4d1e(0x549)](_0x50e1dc['replyOption']);}async['editFlowGroup'](_0x2273ba){const _0x4258b4=a0_0x10d060;this[_0x4258b4(0x48c)][_0x4258b4(0x25f)](this[_0x4258b4(0x566)]+'\x20('+this[_0x4258b4(0x300)][_0x4258b4(0x634)]+_0x4258b4(0x2be)+_0x2273ba);try{this['logger'][_0x4258b4(0x25f)](this[_0x4258b4(0x566)]+'\x20('+this['instance'][_0x4258b4(0x634)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x123890=await this[_0x4258b4(0x6f8)][_0x4258b4(0x32a)]['findOne']({'where':{'name':_0x2273ba['name']}},this[_0x4258b4(0x300)][_0x4258b4(0x634)]);if(!_0x123890)throw new Error(_0x4258b4(0x1e9));if(_0x2273ba['group']&&_0x2273ba[_0x4258b4(0x545)]?.[_0x4258b4(0x3e0)]===!0x0){if(this[_0x4258b4(0x48c)][_0x4258b4(0x25f)](this['instanceName']+'\x20('+this[_0x4258b4(0x300)][_0x4258b4(0x634)]+_0x4258b4(0x2b5)),_0x2273ba[_0x4258b4(0x545)][_0x4258b4(0x6bb)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x123890[_0x4258b4(0x2f7)][_0x4258b4(0x575)](_0x3de1e1=>_0x3de1e1['groupId'][_0x4258b4(0x6d4)]()===_0x2273ba[_0x4258b4(0x545)][_0x4258b4(0x372)]))return this[_0x4258b4(0x48c)][_0x4258b4(0x25f)](this[_0x4258b4(0x566)]+'\x20('+this[_0x4258b4(0x300)]['wuid']+_0x4258b4(0x1d3)),{'message':_0x4258b4(0x678)};_0x123890[_0x4258b4(0x663)]=_0x123890[_0x4258b4(0x663)]['filter'](_0x168f73=>_0x168f73[_0x4258b4(0x372)][_0x4258b4(0x6d4)]()!==_0x2273ba[_0x4258b4(0x545)][_0x4258b4(0x372)]);}else{if(_0x2273ba[_0x4258b4(0x545)]){if(_0x2273ba[_0x4258b4(0x545)][_0x4258b4(0x6bb)]===!0x0)return{'message':_0x4258b4(0x3c7)};if(_0x2273ba[_0x4258b4(0x545)]['_id']){let _0x1a7458=_0x123890['groups'][_0x4258b4(0x5aa)](_0x435f76=>_0x435f76[_0x4258b4(0x372)]['toString']()===_0x2273ba[_0x4258b4(0x545)][_0x4258b4(0x372)]);_0x1a7458&&(_0x2273ba[_0x4258b4(0x545)]['x']<0x0&&(_0x2273ba[_0x4258b4(0x545)]['x']=0x0),_0x2273ba[_0x4258b4(0x545)]['y']<0x0&&(_0x2273ba['group']['y']=0x0),Object['assign'](_0x1a7458,_0x2273ba[_0x4258b4(0x545)]));}else _0x123890[_0x4258b4(0x663)][_0x4258b4(0x549)](_0x2273ba['group']);}}let _0x457f91=await this[_0x4258b4(0x6f8)][_0x4258b4(0x32a)]['updateOne'](_0x123890[_0x4258b4(0x372)],_0x123890,this[_0x4258b4(0x300)][_0x4258b4(0x634)]);if(!_0x457f91)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x457f91;}catch(_0x241c7c){throw this[_0x4258b4(0x48c)][_0x4258b4(0x22d)](this[_0x4258b4(0x566)]+'\x20('+this['instance']['wuid']+_0x4258b4(0x2ac)+(_0x241c7c instanceof Error?_0x241c7c[_0x4258b4(0x3d4)]:JSON[_0x4258b4(0x49d)](_0x241c7c,null,0x2))),new m(_0x4258b4(0x607)+(_0x241c7c instanceof Error?_0x241c7c[_0x4258b4(0x3d4)]:JSON[_0x4258b4(0x49d)](_0x241c7c,null,0x2)));}}async[a0_0x10d060(0x712)](_0xf097f1){const _0x2bd417=a0_0x10d060;try{this[_0x2bd417(0x48c)][_0x2bd417(0x25f)](this['instanceName']+'\x20('+this[_0x2bd417(0x300)]['wuid']+_0x2bd417(0x557));let _0xd121b8=await this[_0x2bd417(0x6f8)][_0x2bd417(0x32a)][_0x2bd417(0x198)]({'where':{'name':_0xf097f1['name']}},this[_0x2bd417(0x300)]['wuid']);if(!_0xd121b8)throw new Error('Flow\x20não\x20encontrado');let _0x1af547=!0x1;if(_0xf097f1[_0x2bd417(0x1a6)]?.[_0x2bd417(0x3e0)]===!0x0)_0xd121b8['conditions']=_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x3ed)](_0x3c6264=>_0x3c6264&&_0xf097f1[_0x2bd417(0x1a6)]&&_0x3c6264[_0x2bd417(0x372)]&&_0xf097f1[_0x2bd417(0x1a6)][_0x2bd417(0x372)]&&_0x3c6264[_0x2bd417(0x372)]['toString']()!==_0xf097f1[_0x2bd417(0x1a6)][_0x2bd417(0x372)][_0x2bd417(0x6d4)]()),_0x1af547=!0x0;else{let _0x468c2f=_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x5aa)](_0x3b6c17=>_0x3b6c17&&_0xf097f1[_0x2bd417(0x1a6)]&&_0x3b6c17[_0x2bd417(0x372)]&&_0xf097f1[_0x2bd417(0x1a6)][_0x2bd417(0x372)]&&_0x3b6c17[_0x2bd417(0x372)][_0x2bd417(0x6d4)]()===_0xf097f1['condition'][_0x2bd417(0x372)][_0x2bd417(0x6d4)]());_0x468c2f?(_0x1af547=_0x468c2f['order']!==_0xf097f1['condition'][_0x2bd417(0x718)],Object[_0x2bd417(0x6af)](_0x468c2f,_0xf097f1[_0x2bd417(0x1a6)])):(_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x549)](_0xf097f1[_0x2bd417(0x1a6)]),_0x1af547=!0x0);}if(_0x1af547){_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x63e)]((_0x3a0f60,_0x354d91)=>_0x3a0f60[_0x2bd417(0x718)]>_0x354d91[_0x2bd417(0x718)]?0x1:_0x354d91['order']>_0x3a0f60['order']?-0x1:0x0);for(let _0x5b90fb=0x0;_0x5b90fb<_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x31a)];_0x5b90fb++)_0xd121b8[_0x2bd417(0x74f)][_0x5b90fb]['order']=_0x5b90fb+0x1;_0xd121b8[_0x2bd417(0x74f)][_0x2bd417(0x31a)]>0x0&&(_0xd121b8['conditions'][0x0]['OrAnd']=_0x2bd417(0x6f2));}let _0x17087b=await this['repository'][_0x2bd417(0x32a)][_0x2bd417(0x251)](_0xd121b8[_0x2bd417(0x372)],_0xd121b8,this['instance']['wuid']);if(!_0x17087b)throw new Error(_0x2bd417(0x543));return _0x17087b;}catch(_0x1f079a){throw this['logger'][_0x2bd417(0x22d)](this['instanceName']+'\x20('+this[_0x2bd417(0x300)][_0x2bd417(0x634)]+_0x2bd417(0x3e3)+(_0x1f079a instanceof Error?_0x1f079a['message']:JSON[_0x2bd417(0x49d)](_0x1f079a,null,0x2))),new Error(_0x2bd417(0x581)+(_0x1f079a instanceof Error?_0x1f079a[_0x2bd417(0x3d4)]:JSON[_0x2bd417(0x49d)](_0x1f079a,null,0x2)));}}async['editFlowVaredit'](_0x5ee06d){const _0x5e4bb8=a0_0x10d060;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5e4bb8(0x6a3));let _0x4387f6=await this[_0x5e4bb8(0x6f8)][_0x5e4bb8(0x32a)][_0x5e4bb8(0x198)]({'where':{'name':_0x5ee06d[_0x5e4bb8(0x4b9)]}},this[_0x5e4bb8(0x300)]['wuid']);if(!_0x4387f6)throw new Error('Flow\x20não\x20encontrado');let _0x1d4220=!0x1;if(_0x5ee06d[_0x5e4bb8(0x5c2)]?.[_0x5e4bb8(0x3e0)]===!0x0)_0x4387f6[_0x5e4bb8(0x50f)]=_0x4387f6['varedits']['filter'](_0x21b0a1=>_0x21b0a1&&_0x5ee06d[_0x5e4bb8(0x5c2)]&&_0x21b0a1[_0x5e4bb8(0x372)]&&_0x5ee06d[_0x5e4bb8(0x5c2)][_0x5e4bb8(0x372)]&&_0x21b0a1[_0x5e4bb8(0x372)]['toString']()!==_0x5ee06d['varedit']['_id'][_0x5e4bb8(0x6d4)]()),_0x1d4220=!0x0;else{let _0x6bf1c=_0x4387f6['varedits'][_0x5e4bb8(0x5aa)](_0x5b3a6c=>_0x5b3a6c&&_0x5ee06d[_0x5e4bb8(0x5c2)]&&_0x5b3a6c[_0x5e4bb8(0x372)]&&_0x5ee06d[_0x5e4bb8(0x5c2)][_0x5e4bb8(0x372)]&&_0x5b3a6c['_id']['toString']()===_0x5ee06d[_0x5e4bb8(0x5c2)][_0x5e4bb8(0x372)][_0x5e4bb8(0x6d4)]());_0x6bf1c?(_0x1d4220=_0x6bf1c[_0x5e4bb8(0x718)]!==_0x5ee06d['varedit']['order'],Object[_0x5e4bb8(0x6af)](_0x6bf1c,_0x5ee06d[_0x5e4bb8(0x5c2)])):(_0x4387f6[_0x5e4bb8(0x50f)]['push'](_0x5ee06d[_0x5e4bb8(0x5c2)]),_0x1d4220=!0x0);}if(_0x1d4220){_0x4387f6[_0x5e4bb8(0x50f)][_0x5e4bb8(0x63e)]((_0x42e6d5,_0x2230cc)=>_0x42e6d5['order']>_0x2230cc['order']?0x1:_0x2230cc[_0x5e4bb8(0x718)]>_0x42e6d5[_0x5e4bb8(0x718)]?-0x1:0x0);for(let _0x439380=0x0;_0x439380<_0x4387f6[_0x5e4bb8(0x50f)][_0x5e4bb8(0x31a)];_0x439380++)_0x4387f6[_0x5e4bb8(0x50f)][_0x439380][_0x5e4bb8(0x718)]=_0x439380+0x1;}let _0x4fcae4=await this[_0x5e4bb8(0x6f8)][_0x5e4bb8(0x32a)][_0x5e4bb8(0x251)](_0x4387f6[_0x5e4bb8(0x372)],_0x4387f6,this[_0x5e4bb8(0x300)][_0x5e4bb8(0x634)]);if(!_0x4fcae4)throw new Error(_0x5e4bb8(0x543));return _0x4fcae4;}catch(_0x34127f){throw this['logger'][_0x5e4bb8(0x22d)](this[_0x5e4bb8(0x566)]+'\x20('+this[_0x5e4bb8(0x300)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x34127f instanceof Error?_0x34127f[_0x5e4bb8(0x3d4)]:JSON[_0x5e4bb8(0x49d)](_0x34127f,null,0x2))),new m(_0x5e4bb8(0x581)+(_0x34127f instanceof Error?_0x34127f[_0x5e4bb8(0x3d4)]:JSON[_0x5e4bb8(0x49d)](_0x34127f,null,0x2)));}}async[a0_0x10d060(0x6c9)](_0x52d5ac){const _0x262f70=a0_0x10d060;try{this[_0x262f70(0x48c)][_0x262f70(0x25f)](this[_0x262f70(0x566)]+'\x20('+this[_0x262f70(0x300)][_0x262f70(0x634)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x18ec08=await this[_0x262f70(0x6f8)][_0x262f70(0x32a)]['findOne']({'where':{'name':_0x52d5ac[_0x262f70(0x4b9)]}},this[_0x262f70(0x300)][_0x262f70(0x634)]);if(!_0x18ec08)throw new Error(_0x262f70(0x1e9));_0x52d5ac['variable'][_0x262f70(0x4b9)]=_0x52d5ac[_0x262f70(0x627)][_0x262f70(0x4b9)][_0x262f70(0x2a0)](),_0x52d5ac[_0x262f70(0x627)][_0x262f70(0x4b9)]['startsWith']('_')&&(_0x52d5ac['variable'][_0x262f70(0x4b9)]=_0x52d5ac[_0x262f70(0x627)][_0x262f70(0x4b9)][_0x262f70(0x6a5)](0x1)),_0x52d5ac['variable'][_0x262f70(0x4b9)]=_0x52d5ac[_0x262f70(0x627)]['name'][_0x262f70(0x2a0)]();let _0x311d22=_0x18ec08[_0x262f70(0x495)][_0x262f70(0x5aa)](_0x49a171=>_0x49a171[_0x262f70(0x4b9)]===_0x52d5ac['variable'][_0x262f70(0x4b9)]);if(_0x311d22?.[_0x262f70(0x334)]===!0x0)throw new Error(_0x262f70(0x68e));if(_0x52d5ac[_0x262f70(0x627)]?.[_0x262f70(0x3e0)]===!0x0){if(!_0x311d22)return{'message':_0x262f70(0x6a6)};_0x18ec08[_0x262f70(0x495)]=_0x18ec08[_0x262f70(0x495)][_0x262f70(0x3ed)](_0x13d02d=>_0x13d02d[_0x262f70(0x4b9)]!==_0x52d5ac[_0x262f70(0x627)][_0x262f70(0x4b9)]);}else _0x311d22?Object[_0x262f70(0x6af)](_0x311d22,_0x52d5ac['variable']):_0x18ec08['variables']['push'](_0x52d5ac[_0x262f70(0x627)]);let _0x5599e4=await this[_0x262f70(0x6f8)][_0x262f70(0x32a)][_0x262f70(0x251)](_0x18ec08[_0x262f70(0x372)],_0x18ec08,this[_0x262f70(0x300)][_0x262f70(0x634)]);if(!_0x5599e4)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5599e4;}catch(_0x4c6107){throw this[_0x262f70(0x48c)][_0x262f70(0x22d)](this[_0x262f70(0x566)]+'\x20('+this[_0x262f70(0x300)][_0x262f70(0x634)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x4c6107 instanceof Error?_0x4c6107['message']:JSON[_0x262f70(0x49d)](_0x4c6107,null,0x2))),new m(_0x262f70(0x5a5)+(_0x4c6107 instanceof Error?_0x4c6107['message']:JSON['stringify'](_0x4c6107,null,0x2)));}}async[a0_0x10d060(0x62e)](_0x5dd8df){const _0x2837c7=a0_0x10d060;let _0x21c922=null;try{if(!this['AutomateSystem']?.[_0x2837c7(0x45e)][_0x2837c7(0x641)])throw new m(_0x2837c7(0x4b2));this[_0x2837c7(0x48c)][_0x2837c7(0x25f)](this[_0x2837c7(0x566)]+'\x20('+this[_0x2837c7(0x300)][_0x2837c7(0x634)]+_0x2837c7(0x730));let _0x28e054=(await this['whatsappNumber']({'numbers':[_0x5dd8df[_0x2837c7(0x450)]]}))[0x0];if(!_0x28e054['exists']&&!(0x0,y[_0x2837c7(0x39b)])(_0x28e054[_0x2837c7(0x146)])&&!_0x28e054[_0x2837c7(0x146)][_0x2837c7(0x23d)]('@broadcast'))throw _0x21c922=JSON['stringify'](_0x28e054,null,0x2),new m(_0x28e054);let _0x232652=await this[_0x2837c7(0x6f8)]['flow'][_0x2837c7(0x198)]({'where':{'name':_0x5dd8df[_0x2837c7(0x4b9)]}},this[_0x2837c7(0x300)][_0x2837c7(0x634)]);if(!_0x232652)return this[_0x2837c7(0x48c)]['error'](this[_0x2837c7(0x566)]+'\x20('+this[_0x2837c7(0x300)][_0x2837c7(0x634)]+_0x2837c7(0x49a)),{'message':_0x2837c7(0x1e9)};let _0x28fe9d=await this[_0x2837c7(0x256)](_0x232652,_0x28e054['jid'],_0x5dd8df[_0x2837c7(0x576)]);if(_0x28fe9d){this[_0x2837c7(0x48c)][_0x2837c7(0x25f)](this[_0x2837c7(0x566)]+'\x20('+this[_0x2837c7(0x300)][_0x2837c7(0x634)]+_0x2837c7(0x683));let _0x2621b8=await this[_0x2837c7(0x268)](_0x28fe9d);return _0x2621b8&&await this['processblock'](_0x28fe9d,_0x2621b8),{'message':_0x2837c7(0x51e)+_0x5dd8df[_0x2837c7(0x450)]};}}catch(_0x36f7dc){if(this[_0x2837c7(0x48c)]['error'](this[_0x2837c7(0x566)]+'\x20('+this['instance'][_0x2837c7(0x634)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x36f7dc instanceof Error?_0x36f7dc[_0x2837c7(0x3d4)]:JSON[_0x2837c7(0x49d)](_0x36f7dc,null,0x2))),_0x21c922=_0x36f7dc instanceof Error?_0x36f7dc[_0x2837c7(0x3d4)]:JSON[_0x2837c7(0x49d)](_0x36f7dc,null,0x2),_0x21c922)throw new m(_0x2837c7(0x452)+_0x21c922);}}async['closeExistingConversations'](_0x137601){const _0x266b5e=a0_0x10d060;try{let _0x45c8ed={'remoteJid':_0x137601,'status':_0x266b5e(0x17f)},_0x43c77b={'status':_0x266b5e(0x370)},_0x3abc7e=await this[_0x266b5e(0x6f8)][_0x266b5e(0x27d)][_0x266b5e(0x176)](_0x45c8ed,_0x43c77b,this[_0x266b5e(0x300)][_0x266b5e(0x634)]);return this['logger'][_0x266b5e(0x25f)](this[_0x266b5e(0x566)]+'\x20('+this[_0x266b5e(0x300)][_0x266b5e(0x634)]+_0x266b5e(0x368)),_0x3abc7e;}catch(_0x2a9358){throw this[_0x266b5e(0x48c)][_0x266b5e(0x22d)](this['instanceName']+'\x20('+this['instance'][_0x266b5e(0x634)]+_0x266b5e(0x541)+_0x2a9358[_0x266b5e(0x3d4)]),_0x2a9358;}}async[a0_0x10d060(0x256)](_0x231f5e,_0x15a8d6,_0x20e706){const _0x31775b=a0_0x10d060;this[_0x31775b(0x48c)][_0x31775b(0x25f)](this[_0x31775b(0x566)]+'\x20('+this[_0x31775b(0x300)][_0x31775b(0x634)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x15a8d6);try{let _0x18350c=require(_0x31775b(0x453))[_0x31775b(0x777)],_0x13aaf8=Date[_0x31775b(0x27f)](),_0x23bdaa='start',_0x201f6a={},_0x29dc8b={},_0x130720={..._0x231f5e,'chatLog':null},_0x5d8bb3=await this['variablesToObject'](_0x130720[_0x31775b(0x495)]),_0x3d80e1=await this[_0x31775b(0x3d5)](_0x15a8d6),_0x1f655d={..._0x5d8bb3,..._0x3d80e1,'_remoteJid':_0x15a8d6},_0x11a689={'lastReceivedMessage':_0x201f6a,'lastSendMessage':_0x29dc8b,'lastBlockId':_0x23bdaa,'lastCondition':!0x0,'realVariables':_0x1f655d};_0x130720['chatLog']=_0x11a689,_0x130720[_0x31775b(0x2b4)]['realVariables']={..._0x1f655d,..._0x20e706},delete _0x130720['_id'],_0x130720[_0x31775b(0x372)]=new _0x18350c(),_0x130720[_0x31775b(0x18f)]=_0x13aaf8,_0x130720[_0x31775b(0x5c1)]=_0x31775b(0x17f),_0x130720[_0x31775b(0x450)]=_0x15a8d6;let _0x5a6233=await this[_0x31775b(0x6f8)][_0x31775b(0x27d)][_0x31775b(0x251)](_0x130720[_0x31775b(0x372)],_0x130720,this[_0x31775b(0x300)]['wuid']);return this['logger'][_0x31775b(0x25f)](this[_0x31775b(0x566)]+'\x20('+this[_0x31775b(0x300)][_0x31775b(0x634)]+_0x31775b(0x213)),_0x5a6233?_0x130720:null;}catch(_0x191ead){throw this[_0x31775b(0x48c)][_0x31775b(0x22d)](this[_0x31775b(0x566)]+'\x20('+this[_0x31775b(0x300)][_0x31775b(0x634)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x191ead instanceof Error?_0x191ead['message']:JSON['stringify'](_0x191ead,null,0x2))),new m(_0x191ead[_0x31775b(0x3d4)]);}}async['getConversation'](_0x13df3e){const _0xf07f8=a0_0x10d060;try{this[_0xf07f8(0x48c)]['verbose'](this[_0xf07f8(0x566)]+'\x20('+this['instance'][_0xf07f8(0x634)]+_0xf07f8(0x14c)),this[_0xf07f8(0x48c)][_0xf07f8(0x25f)](this[_0xf07f8(0x566)]+'\x20('+this[_0xf07f8(0x300)]['wuid']+_0xf07f8(0x37b)+_0x13df3e);let _0x118590={'where':{'_id':_0x13df3e}};return await this[_0xf07f8(0x6f8)][_0xf07f8(0x27d)][_0xf07f8(0x198)](_0x118590,this[_0xf07f8(0x300)][_0xf07f8(0x634)]);}catch(_0x201022){throw this[_0xf07f8(0x48c)]['error'](this[_0xf07f8(0x566)]+'\x20('+this[_0xf07f8(0x300)]['wuid']+_0xf07f8(0x2ca)+(_0x201022 instanceof Error?_0x201022[_0xf07f8(0x3d4)]:JSON[_0xf07f8(0x49d)](_0x201022,null,0x2))),new m(_0xf07f8(0x768)+_0x201022[_0xf07f8(0x3d4)]);}}async[a0_0x10d060(0x4cc)](_0x569a03){const _0x52735f=a0_0x10d060;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x52735f(0x300)][_0x52735f(0x634)]+_0x52735f(0x51d)),await this[_0x52735f(0x6f8)][_0x52735f(0x27d)][_0x52735f(0x5aa)](_0x569a03,this[_0x52735f(0x300)][_0x52735f(0x634)]);}catch(_0x5f47d5){throw this[_0x52735f(0x48c)][_0x52735f(0x22d)](this[_0x52735f(0x566)]+'\x20('+this[_0x52735f(0x300)][_0x52735f(0x634)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x5f47d5 instanceof Error?_0x5f47d5[_0x52735f(0x3d4)]:JSON[_0x52735f(0x49d)](_0x5f47d5,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x5f47d5[_0x52735f(0x3d4)]);}}async['deleteConversation'](_0x23ffe0){const _0x1dd768=a0_0x10d060;try{return this[_0x1dd768(0x48c)]['verbose'](this['instanceName']+'\x20('+this[_0x1dd768(0x300)][_0x1dd768(0x634)]+_0x1dd768(0x629)),this[_0x1dd768(0x48c)][_0x1dd768(0x25f)](this[_0x1dd768(0x566)]+'\x20('+this[_0x1dd768(0x300)][_0x1dd768(0x634)]+_0x1dd768(0x1c6)+_0x23ffe0),(await this['repository']['flowConversation']['deleteOne']({'where':{'_id':_0x23ffe0}},this[_0x1dd768(0x300)][_0x1dd768(0x634)]))[_0x1dd768(0x430)]===0x0?{'message':_0x1dd768(0x284)}:{'message':_0x1dd768(0x314)};}catch(_0x3ccf61){throw this[_0x1dd768(0x48c)][_0x1dd768(0x22d)](this['instanceName']+'\x20('+this[_0x1dd768(0x300)][_0x1dd768(0x634)]+_0x1dd768(0x199)+(_0x3ccf61 instanceof Error?_0x3ccf61[_0x1dd768(0x3d4)]:JSON['stringify'](_0x3ccf61,null,0x2))),new m(_0x1dd768(0x4f2)+_0x3ccf61[_0x1dd768(0x3d4)]);}}async[a0_0x10d060(0x5f4)](_0x26dfa4){const _0x5dc2b2=a0_0x10d060;try{let {_id:_0x3b7a33,chatLog:_0x2c93a0,status:_0x5614fb}=_0x26dfa4;if(!_0x3b7a33)return{'message':_0x5dc2b2(0x509)};let _0x3ae3df={};if(_0x5614fb!==void 0x0&&(_0x3ae3df[_0x5dc2b2(0x5c1)]=_0x5614fb),Object[_0x5dc2b2(0x428)](_0x3ae3df)[_0x5dc2b2(0x31a)]===0x0)return{'message':_0x5dc2b2(0x6b3)};let _0x499305=await this[_0x5dc2b2(0x6f8)][_0x5dc2b2(0x27d)][_0x5dc2b2(0x251)](_0x3b7a33,_0x3ae3df,this[_0x5dc2b2(0x300)][_0x5dc2b2(0x634)]);return _0x499305||{'message':_0x5dc2b2(0x4f8)};}catch(_0x5b4524){throw this[_0x5dc2b2(0x48c)][_0x5dc2b2(0x22d)](this[_0x5dc2b2(0x566)]+'\x20('+this[_0x5dc2b2(0x300)][_0x5dc2b2(0x634)]+_0x5dc2b2(0x151)+(_0x5b4524 instanceof Error?_0x5b4524['message']:JSON[_0x5dc2b2(0x49d)](_0x5b4524,null,0x2))),new m(_0x5dc2b2(0x684)+_0x5b4524[_0x5dc2b2(0x3d4)]);}}async[a0_0x10d060(0x1b1)](_0x3ec19e){const _0x5baf45=a0_0x10d060;try{_0x3ec19e[_0x5baf45(0x372)]=this[_0x5baf45(0x373)](_0x3ec19e[_0x5baf45(0x372)]);let {_id:_0x177fbf,leadInfo:_0x2840ca}=_0x3ec19e;if(!_0x177fbf)throw new Error(_0x5baf45(0x649));let _0x4d78a8=(_0x41c838,_0x2525af,_0x1319dd)=>{const _0x1d62fe=_0x5baf45;_0x1319dd[_0x1d62fe(0x311)](_0x4f4d2e=>{const _0x30f973=_0x1d62fe;_0x41c838[_0x4f4d2e]!==void 0x0&&(_0x2525af[_0x30f973(0x3b7)+_0x4f4d2e]=_0x41c838[_0x4f4d2e]);});},_0x2103b8={};if(_0x4d78a8(_0x2840ca,_0x2103b8,[_0x5baf45(0x65b),_0x5baf45(0x4e2),'email','cpf',_0x5baf45(0x5c1),'notas','tags','atendimentoAberto','responsavelid']),Array['isArray'](_0x2840ca[_0x5baf45(0x424)])&&(_0x2103b8[_0x5baf45(0x33d)]=_0x2840ca[_0x5baf45(0x424)]['map'](_0x576817=>({'_id':_0x576817[_0x5baf45(0x372)],'value':_0x576817[_0x5baf45(0x748)]}))),_0x3ec19e['leadInfo'][_0x5baf45(0x2fe)]!==void 0x0&&(_0x2103b8[_0x5baf45(0x15f)]=Number(_0x3ec19e[_0x5baf45(0x334)][_0x5baf45(0x2fe)])),_0x3ec19e['unreadcount']!==void 0x0&&(_0x2103b8[_0x5baf45(0x302)]=Number(_0x3ec19e[_0x5baf45(0x302)])),Object[_0x5baf45(0x428)](_0x2103b8)['length']===0x0)throw new Error(_0x5baf45(0x6b3));let _0x40ea48=await this['repository'][_0x5baf45(0x463)][_0x5baf45(0x198)]({'where':{'_id':_0x3ec19e[_0x5baf45(0x372)]}},this[_0x5baf45(0x300)][_0x5baf45(0x634)]);if(!_0x40ea48){let _0x42a0c2=(await this['whatsappNumber']({'numbers':[_0x3ec19e['_id']]}))[0x0];if(!_0x42a0c2[_0x5baf45(0x556)]&&!(0x0,y['isJidGroup'])(_0x42a0c2[_0x5baf45(0x146)])&&!_0x42a0c2[_0x5baf45(0x146)]['includes'](_0x5baf45(0x69a)))throw new m(_0x42a0c2);_0x3ec19e[_0x5baf45(0x372)]=_0x42a0c2[_0x5baf45(0x146)];}if(_0x3ec19e['labels']!==void 0x0){let _0xd5afc0=await this[_0x5baf45(0x6f8)][_0x5baf45(0x651)][_0x5baf45(0x5aa)]({'where':{}},this[_0x5baf45(0x300)][_0x5baf45(0x634)]),_0x415a05=new Set(_0x40ea48[_0x5baf45(0x5e9)]||[]),_0x53c8cb=new Set(_0x3ec19e[_0x5baf45(0x5e9)]),_0x14478e=new Set(_0xd5afc0['map'](_0x180eee=>_0x180eee['_id'])),_0x3ce77a=[..._0x53c8cb][_0x5baf45(0x3ed)](_0x466b25=>!_0x415a05[_0x5baf45(0x4e7)](_0x466b25)&&_0x14478e[_0x5baf45(0x4e7)](_0x466b25)),_0x4f7125=[..._0x415a05][_0x5baf45(0x3ed)](_0x25c091=>!_0x53c8cb[_0x5baf45(0x4e7)](_0x25c091));for(let _0x2f922b of _0x3ce77a)await this[_0x5baf45(0x6ec)](_0x2f922b,_0x3ec19e[_0x5baf45(0x372)]),_0x415a05['add'](_0x2f922b);for(let _0x4582e3 of _0x4f7125)await this[_0x5baf45(0x4c2)](_0x4582e3,_0x3ec19e[_0x5baf45(0x372)]),_0x415a05[_0x5baf45(0x3e0)](_0x4582e3);_0x2103b8['labels']=[..._0x415a05];}let _0x163a46=await this['repository'][_0x5baf45(0x463)][_0x5baf45(0x251)]({'where':{'_id':_0x3ec19e[_0x5baf45(0x372)]}},_0x2103b8,this[_0x5baf45(0x300)][_0x5baf45(0x634)]);return _0x163a46&&q(this[_0x5baf45(0x566)],'chats',{'chat':_0x163a46}),_0x163a46?(this['logger'][_0x5baf45(0x25f)](this[_0x5baf45(0x566)]+'\x20('+this[_0x5baf45(0x300)][_0x5baf45(0x634)]+_0x5baf45(0x62b)+JSON[_0x5baf45(0x49d)](_0x163a46,null,0x2)),_0x163a46):{'message':_0x5baf45(0x1fc)};}catch(_0x3f24da){throw this['logger'][_0x5baf45(0x22d)](this[_0x5baf45(0x566)]+'\x20('+this[_0x5baf45(0x300)][_0x5baf45(0x634)]+_0x5baf45(0x6b1)+(_0x3f24da instanceof Error?_0x3f24da[_0x5baf45(0x3d4)]:JSON[_0x5baf45(0x49d)](_0x3f24da,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x3f24da[_0x5baf45(0x3d4)]);}}async[a0_0x10d060(0x6ec)](_0x39e1bb,_0x506b1f){const _0x296871=a0_0x10d060;try{await this[_0x296871(0x18c)][_0x296871(0x16c)](_0x506b1f,_0x39e1bb),console[_0x296871(0x30d)]('Label\x20'+_0x39e1bb+_0x296871(0x6c3)+_0x506b1f+'\x20com\x20sucesso.');}catch(_0x5114e4){console[_0x296871(0x22d)](_0x296871(0x45d)+_0x39e1bb+_0x296871(0x523)+_0x506b1f+':',_0x5114e4);}}async[a0_0x10d060(0x4c2)](_0x5bad95,_0xbf93a4){const _0x1418b9=a0_0x10d060;try{await this[_0x1418b9(0x18c)][_0x1418b9(0x166)](_0xbf93a4,_0x5bad95),console[_0x1418b9(0x30d)](_0x1418b9(0x6d8)+_0x5bad95+_0x1418b9(0x5ef)+_0xbf93a4+'\x20com\x20sucesso.');}catch(_0x1f18da){console['error'](_0x1418b9(0x5dc)+_0x5bad95+_0x1418b9(0x476)+_0xbf93a4+':',_0x1f18da);}}async[a0_0x10d060(0x598)](_0x3cc43f){const _0x55e179=a0_0x10d060;try{let _0x56789b=await this[_0x55e179(0x6f8)]['automateSystem']['findOrCreate'](this[_0x55e179(0x300)]['wuid']),_0xc1bc6=_0x3cc43f[_0x55e179(0x372)]?_0x56789b[_0x55e179(0x5a0)]['findIndex'](_0x2e4b92=>_0x2e4b92[_0x55e179(0x372)]===_0x3cc43f[_0x55e179(0x372)]):-0x1;if(_0x3cc43f[_0x55e179(0x3e0)]&&_0xc1bc6>-0x1)_0x56789b[_0x55e179(0x5a0)][_0x55e179(0x225)](_0xc1bc6,0x1);else{if(_0xc1bc6>-0x1){let _0x25fa8d=_0x56789b[_0x55e179(0x5a0)][_0xc1bc6];_0x3cc43f['fone']&&(_0x25fa8d['fone']=_0x3cc43f[_0x55e179(0x530)]),_0x3cc43f[_0x55e179(0x4b9)]&&(_0x25fa8d[_0x55e179(0x4b9)]=_0x3cc43f['name']),_0x3cc43f['email']&&(_0x25fa8d[_0x55e179(0x3f4)]=_0x3cc43f[_0x55e179(0x3f4)]),_0x3cc43f['role']&&(_0x25fa8d['role']=_0x3cc43f[_0x55e179(0x63b)]);}else _0x56789b['agents'][_0x55e179(0x549)]({'_id':_0x3cc43f[_0x55e179(0x372)]||new ie[(_0x55e179(0x6bb))][(_0x55e179(0x658))][(_0x55e179(0x777))]()[_0x55e179(0x6d4)](),'fone':_0x3cc43f[_0x55e179(0x530)],'name':_0x3cc43f[_0x55e179(0x4b9)],'email':_0x3cc43f[_0x55e179(0x3f4)],'role':_0x3cc43f[_0x55e179(0x63b)]});}let _0x5c8b26={'agents':_0x56789b[_0x55e179(0x5a0)]},_0x50be83=await this[_0x55e179(0x6f8)]['automateSystem'][_0x55e179(0x24c)](_0x5c8b26,this[_0x55e179(0x300)][_0x55e179(0x634)]);return this[_0x55e179(0x667)]=_0x50be83,this[_0x55e179(0x48c)][_0x55e179(0x25f)](this[_0x55e179(0x566)]+'\x20('+this[_0x55e179(0x300)][_0x55e179(0x634)]+_0x55e179(0x26c)),this[_0x55e179(0x48c)][_0x55e179(0x25f)](this[_0x55e179(0x566)]+'\x20('+this[_0x55e179(0x300)][_0x55e179(0x634)]+'):\x20'+this[_0x55e179(0x667)]),_0x50be83;}catch(_0x38aa7c){throw this[_0x55e179(0x48c)][_0x55e179(0x22d)](this[_0x55e179(0x566)]+'\x20('+this[_0x55e179(0x300)][_0x55e179(0x634)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x38aa7c instanceof Error?_0x38aa7c['message']:JSON[_0x55e179(0x49d)](_0x38aa7c,null,0x2))),new m(_0x55e179(0x3f8)+_0x38aa7c[_0x55e179(0x3d4)]);}}async[a0_0x10d060(0x68d)](_0x226d84){const _0x5003a1=a0_0x10d060;try{let _0x2d4ab5=await this['repository']['automateSystem'][_0x5003a1(0x1d2)](this['instance']['wuid']),_0x131823=_0x226d84[_0x5003a1(0x372)]?_0x2d4ab5['customFields'][_0x5003a1(0x16d)](_0x4fe449=>_0x4fe449['_id']===_0x226d84[_0x5003a1(0x372)]):-0x1,_0x14d5a7=!0x1,_0x5e1aa3=_0x2d4ab5['customFields'][_0x5003a1(0x575)](_0x5a6715=>_0x5a6715['order']===_0x226d84['order']);if(_0x226d84[_0x5003a1(0x3e0)]&&_0x131823>-0x1)_0x2d4ab5['customFields']['splice'](_0x131823,0x1),_0x14d5a7=!0x0;else{if(_0x131823>-0x1){if(_0x2d4ab5['customFields']['some'](_0x197fc1=>_0x197fc1[_0x5003a1(0x4b9)]===_0x226d84[_0x5003a1(0x4b9)]&&_0x197fc1[_0x5003a1(0x372)]!==_0x226d84[_0x5003a1(0x372)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x5f003a=_0x2d4ab5[_0x5003a1(0x424)][_0x131823];_0x226d84['order']&&(_0x5e1aa3||!Number['isInteger'](_0x226d84[_0x5003a1(0x718)]))&&(_0x5f003a[_0x5003a1(0x718)]=_0x226d84['order'],_0x14d5a7=!0x0),_0x226d84['name']&&(_0x5f003a[_0x5003a1(0x4b9)]=_0x226d84[_0x5003a1(0x4b9)]);}else{if(_0x2d4ab5[_0x5003a1(0x424)][_0x5003a1(0x575)](_0x525bd1=>_0x525bd1[_0x5003a1(0x4b9)]===_0x226d84[_0x5003a1(0x4b9)]&&_0x525bd1[_0x5003a1(0x372)]!==_0x226d84[_0x5003a1(0x372)]))throw new Error(_0x5003a1(0x26e));_0x2d4ab5[_0x5003a1(0x424)][_0x5003a1(0x549)]({'_id':_0x226d84[_0x5003a1(0x372)]||new ie[(_0x5003a1(0x6bb))][(_0x5003a1(0x658))][(_0x5003a1(0x777))]()[_0x5003a1(0x6d4)](),'order':_0x226d84['order'],'name':_0x226d84['name']}),_0x14d5a7=!0x0;}}if(_0x14d5a7){_0x2d4ab5[_0x5003a1(0x424)][_0x5003a1(0x63e)]((_0x41d0ad,_0x2c7613)=>_0x41d0ad[_0x5003a1(0x718)]>_0x2c7613[_0x5003a1(0x718)]?0x1:_0x2c7613['order']>_0x41d0ad[_0x5003a1(0x718)]?-0x1:0x0);for(let _0x1b457f=0x0;_0x1b457f<_0x2d4ab5[_0x5003a1(0x424)][_0x5003a1(0x31a)];_0x1b457f++)_0x2d4ab5[_0x5003a1(0x424)][_0x1b457f][_0x5003a1(0x718)]=_0x1b457f+0x1;}let _0x3c22b4=await this['repository']['automateSystem'][_0x5003a1(0x24c)](_0x2d4ab5,this['instance'][_0x5003a1(0x634)]);return this['AutomateSystem']=_0x3c22b4,this[_0x5003a1(0x48c)][_0x5003a1(0x25f)](this[_0x5003a1(0x566)]+'\x20('+this[_0x5003a1(0x300)][_0x5003a1(0x634)]+_0x5003a1(0x6ab)),this[_0x5003a1(0x48c)]['verbose'](this['instanceName']+'\x20('+this[_0x5003a1(0x300)][_0x5003a1(0x634)]+'):\x20'+this[_0x5003a1(0x667)]),_0x3c22b4;}catch(_0x1764e1){throw this[_0x5003a1(0x48c)][_0x5003a1(0x22d)](this[_0x5003a1(0x566)]+'\x20('+this[_0x5003a1(0x300)][_0x5003a1(0x634)]+_0x5003a1(0x32b)+(_0x1764e1 instanceof Error?_0x1764e1[_0x5003a1(0x3d4)]:JSON[_0x5003a1(0x49d)](_0x1764e1,null,0x2))),new m(_0x5003a1(0x3ff)+_0x1764e1[_0x5003a1(0x3d4)]);}}async[a0_0x10d060(0x1ee)](_0x19e308){const _0x4a7609=a0_0x10d060;try{let _0x569cb0=await this[_0x4a7609(0x6f8)][_0x4a7609(0x5ab)]['findOrCreate'](this[_0x4a7609(0x300)]['wuid']);if(!_0x569cb0)throw new Error(_0x4a7609(0x4cd));let _0x5694c2={'_id':_0x569cb0[_0x4a7609(0x372)],'flowConfig':{'enabled':_0x19e308[_0x4a7609(0x641)]??_0x569cb0[_0x4a7609(0x45e)]['enabled'],'ignoreGroups':_0x19e308[_0x4a7609(0x4e3)]??_0x569cb0[_0x4a7609(0x45e)][_0x4a7609(0x4e3)],'prefixCommand':_0x19e308[_0x4a7609(0x48e)]??_0x569cb0[_0x4a7609(0x45e)]['prefixCommand'],'stopConversation':_0x19e308['stopConversation']??_0x569cb0[_0x4a7609(0x45e)]['stopConversation'],'stopMinutes':_0x19e308[_0x4a7609(0x1de)]??_0x569cb0[_0x4a7609(0x45e)]['stopMinutes'],'stopWhenYouSendMsg':_0x19e308[_0x4a7609(0x2d8)]??_0x569cb0[_0x4a7609(0x45e)][_0x4a7609(0x2d8)]}},_0x360853=await this[_0x4a7609(0x6f8)][_0x4a7609(0x5ab)]['update'](_0x5694c2,this[_0x4a7609(0x300)][_0x4a7609(0x634)]);return this[_0x4a7609(0x667)]=_0x360853,this[_0x4a7609(0x48c)][_0x4a7609(0x25f)](this[_0x4a7609(0x566)]+'\x20('+this[_0x4a7609(0x300)][_0x4a7609(0x634)]+_0x4a7609(0x26c)),this['logger'][_0x4a7609(0x25f)](this[_0x4a7609(0x566)]+'\x20('+this[_0x4a7609(0x300)][_0x4a7609(0x634)]+_0x4a7609(0x62b)+this[_0x4a7609(0x667)]),setTimeout(()=>this[_0x4a7609(0x62a)](),0x7d0),_0x360853;}catch(_0x4d9259){throw this['logger']['error'](this[_0x4a7609(0x566)]+'\x20('+this[_0x4a7609(0x300)][_0x4a7609(0x634)]+_0x4a7609(0x1a0)+(_0x4d9259 instanceof Error?_0x4d9259[_0x4a7609(0x3d4)]:JSON[_0x4a7609(0x49d)](_0x4d9259,null,0x2))),new m(_0x4a7609(0x648)+_0x4d9259[_0x4a7609(0x3d4)]);}}async[a0_0x10d060(0x547)](){const _0x2bdfad=a0_0x10d060;try{let _0x424fdf=await this[_0x2bdfad(0x6f8)][_0x2bdfad(0x5ab)][_0x2bdfad(0x1d2)](this[_0x2bdfad(0x300)][_0x2bdfad(0x634)]);return this[_0x2bdfad(0x667)]=_0x424fdf,this[_0x2bdfad(0x48c)][_0x2bdfad(0x25f)](this[_0x2bdfad(0x566)]+'\x20('+this[_0x2bdfad(0x300)][_0x2bdfad(0x634)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x2bdfad(0x48c)][_0x2bdfad(0x25f)](this[_0x2bdfad(0x667)]),_0x424fdf;}catch(_0x4545dd){throw this[_0x2bdfad(0x48c)][_0x2bdfad(0x22d)](this[_0x2bdfad(0x566)]+'\x20('+this[_0x2bdfad(0x300)][_0x2bdfad(0x634)]+_0x2bdfad(0x4e4)+(_0x4545dd instanceof Error?_0x4545dd[_0x2bdfad(0x3d4)]:JSON[_0x2bdfad(0x49d)](_0x4545dd,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4545dd[_0x2bdfad(0x3d4)]);}}async[a0_0x10d060(0x54b)](){const _0x265e3d=a0_0x10d060;this['timerId']&&clearTimeout(this['timerId']),this[_0x265e3d(0x462)]=setTimeout(()=>{const _0x4c2a40=_0x265e3d;this[_0x4c2a40(0x14d)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x10d060(0x14d)](){const _0xf0042b=a0_0x10d060;Date['now']()-this[_0xf0042b(0x56f)]>=0x1d4c0&&(this[_0xf0042b(0x48c)]['verbose'](this[_0xf0042b(0x566)]+'\x20('+this[_0xf0042b(0x300)][_0xf0042b(0x634)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['processingScheduleMessageId']=null,this[_0xf0042b(0x56f)]=0x0,this[_0xf0042b(0x222)]=0x0,await this[_0xf0042b(0x62a)]());}async[a0_0x10d060(0x62a)](){const _0x131e4e=a0_0x10d060;let _0x4d3d4b=()=>{const _0x8a9dc3=a0_0x434c;this['logger'][_0x8a9dc3(0x25f)](this[_0x8a9dc3(0x566)]+'\x20('+this[_0x8a9dc3(0x300)][_0x8a9dc3(0x634)]+_0x8a9dc3(0x765)+this['processingScheduleMessageId']+'\x20saindo\x20da\x20função');},_0x5dc9b0=async()=>{const _0x57023e=a0_0x434c;this[_0x57023e(0x48c)]['verbose'](this[_0x57023e(0x566)]+'\x20('+this['instance'][_0x57023e(0x634)]+_0x57023e(0x5bb));let _0x52f494=Date[_0x57023e(0x27f)]()-0xc*0x3c*0x3c*0x3e8,_0x4e3efa={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x57023e(0x27f)](),'$gte':_0x52f494}},{'when':0x0}]}};return await this['repository']['scheduleMessage'][_0x57023e(0x5aa)](_0x4e3efa,this['instance'][_0x57023e(0x634)]);},_0x4af4ea=async _0x2c3a26=>{const _0x6299e4=a0_0x434c;for(let _0x352872 of _0x2c3a26){let _0xd64ce={'_id':_0x352872['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x6299e4(0x27f)]()-0x1770}}]},_0x27ee6c={'startSend':Date['now']()};if(!await this[_0x6299e4(0x6f8)][_0x6299e4(0x307)][_0x6299e4(0x251)](_0xd64ce,_0x27ee6c,this[_0x6299e4(0x300)]['wuid']))return;if(!this[_0x6299e4(0x44a)]){this[_0x6299e4(0x48c)][_0x6299e4(0x25f)](this[_0x6299e4(0x566)]+'\x20('+this[_0x6299e4(0x300)][_0x6299e4(0x634)]+_0x6299e4(0x304));break;}if(_0x352872[_0x6299e4(0x727)]==='flow'&&!this[_0x6299e4(0x667)]?.[_0x6299e4(0x45e)][_0x6299e4(0x641)]){this[_0x6299e4(0x48c)][_0x6299e4(0x22d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x6299e4(0x693));continue;}(!_0x352872[_0x6299e4(0x6d1)]||_0x352872[_0x6299e4(0x6d1)]['length']===0x0)&&(_0x352872=await this[_0x6299e4(0x6f8)]['scheduleMessage']['updateOneById'](_0x352872[_0x6299e4(0x372)],{'status':_0x6299e4(0x396),'remoteJidsRemaining':[..._0x352872[_0x6299e4(0x38e)]]},this['instance'][_0x6299e4(0x634)]));for(let _0x529a9a of _0x352872[_0x6299e4(0x6d1)]){if(await this[_0x6299e4(0x54b)](),this[_0x6299e4(0x56f)]=Date[_0x6299e4(0x27f)](),_0x352872[_0x6299e4(0x2b6)][_0x6299e4(0x575)](_0x16d92b=>_0x16d92b[_0x6299e4(0x450)]===_0x529a9a)){this[_0x6299e4(0x48c)][_0x6299e4(0x25f)](this[_0x6299e4(0x566)]+'\x20('+this[_0x6299e4(0x300)][_0x6299e4(0x634)]+_0x6299e4(0x513)+_0x529a9a+_0x6299e4(0x1cf));continue;}if(!this[_0x6299e4(0x44a)]){this[_0x6299e4(0x48c)][_0x6299e4(0x25f)](this['instanceName']+'\x20('+this[_0x6299e4(0x300)][_0x6299e4(0x634)]+_0x6299e4(0x219));break;}if(!this[_0x6299e4(0x5bd)]){this[_0x6299e4(0x48c)]['verbose'](this[_0x6299e4(0x566)]+'\x20('+this[_0x6299e4(0x300)]['wuid']+_0x6299e4(0x770)+_0x352872[_0x6299e4(0x372)]+_0x6299e4(0x490));break;}if(_0x352872[_0x6299e4(0x727)]===_0x6299e4(0x32a)&&!this[_0x6299e4(0x667)]?.[_0x6299e4(0x45e)][_0x6299e4(0x641)]){this[_0x6299e4(0x48c)][_0x6299e4(0x22d)](this[_0x6299e4(0x566)]+'\x20('+this[_0x6299e4(0x300)]['wuid']+_0x6299e4(0x693));break;}let _0x3d9726={'remoteJid':_0x529a9a,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x6299e4(0x27f)]()},_0x592f21=null;try{let _0x3f479c=await this[_0x6299e4(0x4c9)](_0x529a9a,_0x352872);_0x3d9726[_0x6299e4(0x22d)]=_0x3f479c[_0x6299e4(0x22d)],_0x3d9726['id']=_0x3f479c['error']?null:_0x3f479c['id'],_0x3d9726[_0x6299e4(0x544)]=_0x3f479c['error']?_0x3f479c[_0x6299e4(0x5f2)]?_0x3f479c[_0x6299e4(0x5f2)][_0x6299e4(0x6d4)]():'':null;let _0x55e898={'$push':{'messagesSend':_0x3d9726},'$pull':{'remoteJidsRemaining':_0x529a9a}},_0x1b8938=_0x352872[_0x6299e4(0x372)];if(_0x592f21=await this[_0x6299e4(0x6f8)][_0x6299e4(0x307)]['updateOneById'](_0x1b8938,_0x55e898,this['instance']['wuid']),_0x3f479c[_0x6299e4(0x22d)])continue;let _0x5b5e12=this['getDelay'](_0x352872[_0x6299e4(0x15e)],_0x352872[_0x6299e4(0x19e)]);await this[_0x6299e4(0x298)](_0x5b5e12);}catch(_0x2b0f5f){this[_0x6299e4(0x48c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x6299e4(0x634)]+_0x6299e4(0x367)+_0x529a9a+':\x20'+(_0x2b0f5f instanceof Error?_0x2b0f5f[_0x6299e4(0x3d4)]:JSON[_0x6299e4(0x49d)](_0x2b0f5f,null,0x2))),_0x3d9726[_0x6299e4(0x22d)]=!0x0,_0x3d9726[_0x6299e4(0x544)]=_0x2b0f5f[_0x6299e4(0x3d4)];let _0x13b5af={'$push':{'messagesSend':_0x3d9726},'$pull':{'remoteJidsRemaining':_0x529a9a}},_0x4057c5=_0x352872[_0x6299e4(0x372)];_0x592f21=await this['repository'][_0x6299e4(0x307)][_0x6299e4(0x3be)](_0x4057c5,_0x13b5af,this[_0x6299e4(0x300)][_0x6299e4(0x634)]);}finally{if(_0x592f21&&_0x592f21[_0x6299e4(0x5c1)]===_0x6299e4(0x4a5)){this[_0x6299e4(0x48c)][_0x6299e4(0x25f)](this[_0x6299e4(0x566)]+'\x20('+this[_0x6299e4(0x300)][_0x6299e4(0x634)]+_0x6299e4(0x770)+_0x352872[_0x6299e4(0x372)]+_0x6299e4(0x5f1));break;}}}let _0x4b3c74=await this[_0x6299e4(0x6f8)]['scheduleMessage'][_0x6299e4(0x67d)](_0x352872[_0x6299e4(0x372)],this[_0x6299e4(0x300)][_0x6299e4(0x634)]);if(_0x4b3c74[_0x6299e4(0x6d1)][_0x6299e4(0x31a)]===0x0&&_0x4b3c74[_0x6299e4(0x5c1)]!=='stopped'){let _0x5b3c36={'$set':{'status':'done'}},_0x3900b0=_0x4b3c74['_id'];await this[_0x6299e4(0x6f8)]['scheduleMessage'][_0x6299e4(0x3be)](_0x3900b0,_0x5b3c36,this['instance'][_0x6299e4(0x634)]);}await new Promise(_0x1af51b=>setTimeout(_0x1af51b,0x1388));}},_0x1b6add=async()=>{const _0x4d04eb=a0_0x434c;let _0x451f7e={'where':{'status':_0x4d04eb(0x4f5),'when':{'$gt':Date[_0x4d04eb(0x27f)]()}}},_0xd74fe7=await this[_0x4d04eb(0x6f8)]['scheduleMessage'][_0x4d04eb(0x198)](_0x451f7e,this[_0x4d04eb(0x300)]['wuid']);_0xd74fe7&&_0xd74fe7['when']-Date['now']()<=0x5265c00?this[_0x4d04eb(0x222)]=_0xd74fe7[_0x4d04eb(0x1c4)]-Date[_0x4d04eb(0x27f)]():this['delayMessage']=(0x3c+Math[_0x4d04eb(0x19b)](Math[_0x4d04eb(0x201)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math['max'](this[_0x4d04eb(0x222)],0x7d0);let _0x555729=Math[_0x4d04eb(0x2d0)](this[_0x4d04eb(0x222)]/0xea60);if(_0xd74fe7){let _0x38c4ca=new Date(_0xd74fe7[_0x4d04eb(0x1c4)])[_0x4d04eb(0x2ae)]();this['logger'][_0x4d04eb(0x25f)](this[_0x4d04eb(0x566)]+'\x20('+this['instance']['wuid']+_0x4d04eb(0x415)+_0x38c4ca+_0x4d04eb(0x4b7)+_0x555729+_0x4d04eb(0x1b2));}else this[_0x4d04eb(0x48c)][_0x4d04eb(0x25f)](this[_0x4d04eb(0x566)]+'\x20('+this[_0x4d04eb(0x300)][_0x4d04eb(0x634)]+_0x4d04eb(0x35a)+_0x555729+_0x4d04eb(0x1b2));setTimeout(()=>this['scheduleNextCheck'](),this['delayMessage']);};if(this[_0x131e4e(0x5bd)]){await this[_0x131e4e(0x54b)](),_0x4d3d4b();return;}if(!this['isConnected']){this[_0x131e4e(0x48c)]['verbose'](this[_0x131e4e(0x566)]+'\x20('+this[_0x131e4e(0x300)][_0x131e4e(0x634)]+_0x131e4e(0x4a6)),this[_0x131e4e(0x5bd)]=null,this[_0x131e4e(0x56f)]=0x0,this[_0x131e4e(0x222)]=0x0;return;}try{let _0x1f2723=await _0x5dc9b0();_0x1f2723['length']===0x0?this['logger']['verbose'](this[_0x131e4e(0x566)]+'\x20('+this[_0x131e4e(0x300)][_0x131e4e(0x634)]+_0x131e4e(0x4a3)):(this[_0x131e4e(0x5bd)]=_0x1f2723[0x0][_0x131e4e(0x372)],await _0x4af4ea(_0x1f2723)),await _0x1b6add(),this[_0x131e4e(0x5bd)]=null;}catch(_0x12945c){this[_0x131e4e(0x48c)][_0x131e4e(0x22d)](_0x131e4e(0x563)+(_0x12945c instanceof Error?_0x12945c[_0x131e4e(0x3d4)]:JSON[_0x131e4e(0x49d)](_0x12945c,null,0x2)));}}['getDelay'](_0x1fdb8a,_0x2da9c6){const _0x299eee=a0_0x10d060;return _0x1fdb8a=Math[_0x299eee(0x510)](0.5,_0x1fdb8a),_0x2da9c6=Math[_0x299eee(0x180)](Math[_0x299eee(0x510)](0x3,_0x2da9c6),0x78),Math[_0x299eee(0x19b)](Math['random']()*(_0x2da9c6-_0x1fdb8a+0x1)+_0x1fdb8a)*0x3e8;}[a0_0x10d060(0x298)](_0x41fe50){return new Promise(_0x18ac7f=>setTimeout(_0x18ac7f,_0x41fe50));}async['getVariablesChat'](_0x239e6b){const _0xee31ca=a0_0x10d060;if(!this[_0xee31ca(0x667)]&&(await this[_0xee31ca(0x547)](),!this[_0xee31ca(0x667)]))return null;_0x239e6b=this[_0xee31ca(0x373)](_0x239e6b);let _0xc84f42=await this[_0xee31ca(0x6f8)]['chat']['findOne']({'where':{'_id':_0x239e6b}},this[_0xee31ca(0x300)][_0xee31ca(0x634)]),_0x5c1c1d={};if(_0xc84f42&&_0xc84f42[_0xee31ca(0x334)]){let _0x5a9c53=_0xc84f42[_0xee31ca(0x334)];typeof _0x5a9c53[_0xee31ca(0x65b)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x65b)]=_0x5a9c53[_0xee31ca(0x65b)]),typeof _0x5a9c53[_0xee31ca(0x4e2)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x4e2)]=_0x5a9c53['nomecompleto']),typeof _0x5a9c53[_0xee31ca(0x3f4)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x3f4)]=_0x5a9c53[_0xee31ca(0x3f4)]),typeof _0x5a9c53[_0xee31ca(0x329)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x329)]=_0x5a9c53[_0xee31ca(0x329)]),typeof _0x5a9c53[_0xee31ca(0x5c1)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x5c1)]=_0x5a9c53[_0xee31ca(0x5c1)]),typeof _0x5a9c53[_0xee31ca(0x306)]==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x306)]=_0x5a9c53['notas']),typeof _0x5a9c53['responsavelid']==_0xee31ca(0x40e)&&(_0x5c1c1d[_0xee31ca(0x21e)]=_0x5a9c53[_0xee31ca(0x21e)]),Array['isArray'](_0x5a9c53[_0xee31ca(0x578)])&&(_0x5c1c1d[_0xee31ca(0x578)]=_0x5a9c53[_0xee31ca(0x578)]['join'](',\x20'));}return _0xc84f42&&_0xc84f42[_0xee31ca(0x334)]&&_0xc84f42[_0xee31ca(0x334)][_0xee31ca(0x424)]&&_0xc84f42[_0xee31ca(0x334)]['customFields'][_0xee31ca(0x311)](_0x2b9cf7=>{const _0x2abc14=_0xee31ca;let _0x4bb6b1=this[_0x2abc14(0x667)]?.[_0x2abc14(0x424)][_0x2abc14(0x5aa)](_0x264126=>_0x264126[_0x2abc14(0x372)]===_0x2b9cf7[_0x2abc14(0x372)]);_0x4bb6b1&&(_0x5c1c1d[_0x4bb6b1[_0x2abc14(0x4b9)]]=_0x2b9cf7[_0x2abc14(0x748)]);}),_0x5c1c1d;}async[a0_0x10d060(0x282)](_0x3eb815,_0x251f57){const _0x4d1815=a0_0x10d060;let _0x142cc1=await this['getVariablesChat'](_0x251f57);return this[_0x4d1815(0x1b8)](_0x3eb815,_0x142cc1);}async[a0_0x10d060(0x377)](_0x27bbea){const _0x4af019=a0_0x10d060;try{if(this[_0x4af019(0x48c)]['verbose'](this[_0x4af019(0x566)]+'\x20('+this[_0x4af019(0x300)][_0x4af019(0x634)]+_0x4af019(0x644)),_0x27bbea[_0x4af019(0x3e0)]&&_0x27bbea[_0x4af019(0x372)]){if(this[_0x4af019(0x5bd)]===_0x27bbea[_0x4af019(0x372)]['toString']())throw new Error(_0x4af019(0x23b));let _0x58faef=await this[_0x4af019(0x6f8)][_0x4af019(0x307)][_0x4af019(0x326)](_0x27bbea['_id'],this['instance'][_0x4af019(0x634)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x58faef;}let _0x2c6f31;if(_0x27bbea[_0x4af019(0x372)]&&(_0x2c6f31=await this['repository']['scheduleMessage'][_0x4af019(0x67d)](_0x27bbea[_0x4af019(0x372)],this[_0x4af019(0x300)][_0x4af019(0x634)])),_0x2c6f31){let _0x2fb8fa;if(this[_0x4af019(0x5bd)]===_0x2c6f31[_0x4af019(0x372)][_0x4af019(0x6d4)]())_0x2fb8fa={'$set':{'status':_0x27bbea['status']}};else{let {_id:_0x43d6ec,..._0x203fd1}=_0x27bbea;_0x2fb8fa={'$set':_0x203fd1};}let _0xc64755=await this[_0x4af019(0x6f8)][_0x4af019(0x307)][_0x4af019(0x3be)](_0x27bbea['_id'],_0x2fb8fa,this[_0x4af019(0x300)][_0x4af019(0x634)]);return setTimeout(()=>this[_0x4af019(0x62a)](),0x7d0),_0xc64755;}else{_0x27bbea[_0x4af019(0x26f)]=this[_0x4af019(0x300)]['wuid'];let _0x18b192=await this[_0x4af019(0x6f8)]['scheduleMessage'][_0x4af019(0x44c)](_0x27bbea,this['instance'][_0x4af019(0x634)]);return setTimeout(()=>this[_0x4af019(0x62a)](),0x7d0),_0x18b192;}}catch(_0x400ac8){throw this[_0x4af019(0x48c)][_0x4af019(0x22d)](this[_0x4af019(0x566)]+'\x20('+this[_0x4af019(0x300)][_0x4af019(0x634)]+_0x4af019(0x766)+(_0x400ac8 instanceof Error?_0x400ac8['message']:JSON[_0x4af019(0x49d)](_0x400ac8,null,0x2))),new m(_0x4af019(0x340)+_0x400ac8[_0x4af019(0x3d4)]);}}async[a0_0x10d060(0x297)](){const _0x361beb=a0_0x10d060;try{return await this[_0x361beb(0x6f8)]['scheduleMessage'][_0x361beb(0x5aa)]({'where':{}},this[_0x361beb(0x300)]['wuid']);}catch(_0x2235b5){throw this[_0x361beb(0x48c)][_0x361beb(0x22d)](this[_0x361beb(0x566)]+'\x20('+this[_0x361beb(0x300)][_0x361beb(0x634)]+_0x361beb(0x723)+(_0x2235b5 instanceof Error?_0x2235b5[_0x361beb(0x3d4)]:JSON[_0x361beb(0x49d)](_0x2235b5,null,0x2))),new m(_0x361beb(0x340)+_0x2235b5[_0x361beb(0x3d4)]);}}async['deleteDoneMessages'](){const _0x1ab16c=a0_0x10d060;try{let _0x36b9fb={'status':'done'},_0x4925bc=await this[_0x1ab16c(0x6f8)]['scheduleMessage'][_0x1ab16c(0x480)](_0x36b9fb,this[_0x1ab16c(0x300)][_0x1ab16c(0x634)]);if(!_0x4925bc[_0x1ab16c(0x22d)])this[_0x1ab16c(0x48c)][_0x1ab16c(0x25f)](this[_0x1ab16c(0x566)]+'\x20('+this[_0x1ab16c(0x300)]['wuid']+_0x1ab16c(0x332));else throw new Error(_0x4925bc[_0x1ab16c(0x22d)]['message']||_0x1ab16c(0x291));return this['getScheduleMessage']();}catch(_0x2072b2){throw this[_0x1ab16c(0x48c)]['error'](this[_0x1ab16c(0x566)]+'\x20('+this['instance'][_0x1ab16c(0x634)]+_0x1ab16c(0x506)+(_0x2072b2 instanceof Error?_0x2072b2[_0x1ab16c(0x3d4)]:JSON[_0x1ab16c(0x49d)](_0x2072b2,null,0x2))),new m(_0x1ab16c(0x340)+_0x2072b2[_0x1ab16c(0x3d4)]);}}async[a0_0x10d060(0x4c9)](_0x3c7dcb,_0x5bfbb6){const _0xdaea73=a0_0x10d060;try{if(_0x5bfbb6[_0xdaea73(0x727)]==='flow'&&!this['AutomateSystem']?.[_0xdaea73(0x45e)][_0xdaea73(0x641)])return this[_0xdaea73(0x48c)]['error'](this[_0xdaea73(0x566)]+'\x20('+this[_0xdaea73(0x300)][_0xdaea73(0x634)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0xdaea73(0x4b2)};switch(_0x5bfbb6[_0xdaea73(0x727)]){case _0xdaea73(0x28b):return await this['scheduleSendText'](_0x5bfbb6,_0x3c7dcb);case _0xdaea73(0x241):return await this[_0xdaea73(0x1e4)](_0x5bfbb6,_0x3c7dcb);case'audio':return await this[_0xdaea73(0x707)](_0x5bfbb6,_0x3c7dcb);case _0xdaea73(0x32a):let _0x1f36f8=new Pe();return _0x1f36f8[_0xdaea73(0x4b9)]=_0x5bfbb6[_0xdaea73(0x3b9)],_0x1f36f8[_0xdaea73(0x450)]=_0x3c7dcb,await this[_0xdaea73(0x62e)](_0x1f36f8);break;default:return this[_0xdaea73(0x48c)]['error'](this[_0xdaea73(0x566)]+'\x20('+this[_0xdaea73(0x300)][_0xdaea73(0x634)]+'):\x20Comando\x20desconhecido:\x20'+_0x5bfbb6[_0xdaea73(0x727)]),{'error':!0x0,'detail':_0xdaea73(0x1c9)};}}catch(_0x4d4f0a){return this[_0xdaea73(0x48c)][_0xdaea73(0x22d)](this[_0xdaea73(0x566)]+'\x20('+this['instance']['wuid']+_0xdaea73(0x73a)+(_0x4d4f0a instanceof Error?_0x4d4f0a[_0xdaea73(0x3d4)]:JSON[_0xdaea73(0x49d)](_0x4d4f0a,null,0x2))),{'error':!0x0,'detail':_0x4d4f0a[_0xdaea73(0x3d4)]};}}[a0_0x10d060(0x137)](_0x7b125f){const _0x367476=a0_0x10d060;let _0x3dd2ae=_0x7b125f[_0x367476(0x503)]('|'),_0x5dd69d=Math[_0x367476(0x19b)](Math[_0x367476(0x201)]()*_0x3dd2ae[_0x367476(0x31a)]);return _0x3dd2ae[_0x5dd69d][_0x367476(0x2a0)]();}async[a0_0x10d060(0x742)](_0x82005e,_0x5c1d0c){const _0x1c5fbf=a0_0x10d060;if(this[_0x1c5fbf(0x48c)][_0x1c5fbf(0x25f)](this[_0x1c5fbf(0x566)]+'\x20('+this['instance'][_0x1c5fbf(0x634)]+_0x1c5fbf(0x6ff)),!_0x82005e['message'][_0x1c5fbf(0x28b)]||_0x82005e[_0x1c5fbf(0x3d4)]['text'][_0x1c5fbf(0x31a)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x2e5e6c=this[_0x1c5fbf(0x137)](_0x82005e[_0x1c5fbf(0x3d4)][_0x1c5fbf(0x28b)]),_0x283a46=await this['replaceVariablesChat'](_0x2e5e6c,_0x5c1d0c),_0x344c7e={'number':_0x5c1d0c,'options':{'delay':_0x82005e[_0x1c5fbf(0x3d4)][_0x1c5fbf(0x6fe)]},'textMessage':{'text':_0x283a46}},_0x5e7fcd=null;try{let _0x54b632=await this['textMessage'](_0x344c7e);if(_0x54b632&&_0x54b632[_0x1c5fbf(0x5c1)])return{'error':!0x1,'id':_0x54b632['key']['id']};_0x5e7fcd=JSON[_0x1c5fbf(0x49d)](_0x54b632),this[_0x1c5fbf(0x48c)]['verbose'](this['instanceName']+'\x20('+this[_0x1c5fbf(0x300)][_0x1c5fbf(0x634)]+_0x1c5fbf(0x62b)+_0x5e7fcd);}catch(_0x590fc5){this[_0x1c5fbf(0x48c)]['error'](this[_0x1c5fbf(0x566)]+'\x20('+this[_0x1c5fbf(0x300)][_0x1c5fbf(0x634)]+_0x1c5fbf(0x255)+(_0x590fc5 instanceof Error?_0x590fc5[_0x1c5fbf(0x3d4)]:JSON[_0x1c5fbf(0x49d)](_0x590fc5,null,0x2))),_0x5e7fcd=_0x590fc5['message'];}if(_0x5e7fcd)return{'error':!0x0,'detail':(typeof _0x5e7fcd==_0x1c5fbf(0x74d)?JSON[_0x1c5fbf(0x49d)](_0x5e7fcd,null,0x2):_0x5e7fcd)[_0x1c5fbf(0x63c)](/[\[\]{}\n]/g,'\x20')[_0x1c5fbf(0x63c)](/  +/g,'\x20')};}async[a0_0x10d060(0x1e4)](_0x5c5261,_0x32f116){const _0x5ee99b=a0_0x10d060;this[_0x5ee99b(0x48c)][_0x5ee99b(0x25f)](this['instanceName']+'\x20('+this[_0x5ee99b(0x300)]['wuid']+_0x5ee99b(0x65a));let _0x4f42c1;if(_0x5c5261['message'][_0x5ee99b(0x28b)]&&_0x5c5261['message'][_0x5ee99b(0x28b)][_0x5ee99b(0x31a)]>0x0){let _0x473ffa=this['getRandomText'](_0x5c5261[_0x5ee99b(0x3d4)][_0x5ee99b(0x28b)]);_0x4f42c1=await this[_0x5ee99b(0x282)](_0x473ffa,_0x32f116);}let _0x1ec055={'number':_0x32f116,'options':{'delay':_0x5c5261[_0x5ee99b(0x3d4)]['delay']},'mediaMessage':{'mediatype':_0x5c5261[_0x5ee99b(0x3d4)][_0x5ee99b(0x52c)],'caption':_0x4f42c1,'media':_0x5c5261[_0x5ee99b(0x3d4)][_0x5ee99b(0x296)]}},_0xe6542f=null;try{let _0x52846b=await this[_0x5ee99b(0x750)](_0x1ec055);if(_0x52846b&&_0x52846b[_0x5ee99b(0x5c1)])return{'error':!0x1,'id':_0x52846b[_0x5ee99b(0x181)]['id']};_0xe6542f=JSON[_0x5ee99b(0x49d)](_0x52846b),this[_0x5ee99b(0x48c)][_0x5ee99b(0x25f)](this[_0x5ee99b(0x566)]+'\x20('+this['instance'][_0x5ee99b(0x634)]+'):\x20'+_0xe6542f);}catch(_0x10a96c){this[_0x5ee99b(0x48c)]['error'](this[_0x5ee99b(0x566)]+'\x20('+this[_0x5ee99b(0x300)][_0x5ee99b(0x634)]+_0x5ee99b(0x59b)+(_0x10a96c instanceof Error?_0x10a96c[_0x5ee99b(0x3d4)]:JSON[_0x5ee99b(0x49d)](_0x10a96c,null,0x2))),_0xe6542f=_0x10a96c[_0x5ee99b(0x3d4)];}if(_0xe6542f)return{'error':!0x0,'detail':(typeof _0xe6542f=='object'?JSON['stringify'](_0xe6542f,null,0x2):_0xe6542f)[_0x5ee99b(0x63c)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x10d060(0x707)](_0x4ac9ef,_0x3facd9){const _0x144027=a0_0x10d060;this['logger'][_0x144027(0x25f)](this[_0x144027(0x566)]+'\x20('+this['instance']['wuid']+_0x144027(0x221));let _0x2ba449={'number':_0x3facd9,'options':{'delay':_0x4ac9ef[_0x144027(0x3d4)][_0x144027(0x6fe)]},'audioMessage':{'audio':_0x4ac9ef[_0x144027(0x3d4)][_0x144027(0x296)]}},_0x13aad5=null;try{let _0x595081=await this[_0x144027(0x572)](_0x2ba449);if(_0x595081&&_0x595081[_0x144027(0x5c1)])return{'error':!0x1,'id':_0x595081[_0x144027(0x181)]['id']};_0x13aad5=JSON[_0x144027(0x49d)](_0x595081),this['logger'][_0x144027(0x25f)](this[_0x144027(0x566)]+'\x20('+this['instance'][_0x144027(0x634)]+_0x144027(0x62b)+_0x13aad5);}catch(_0x22e3cd){this['logger'][_0x144027(0x22d)](this[_0x144027(0x566)]+'\x20('+this['instance'][_0x144027(0x634)]+_0x144027(0x3af)+(_0x22e3cd instanceof Error?_0x22e3cd[_0x144027(0x3d4)]:JSON[_0x144027(0x49d)](_0x22e3cd,null,0x2))),_0x13aad5=_0x22e3cd[_0x144027(0x3d4)];}if(_0x13aad5)return{'error':!0x0,'detail':(typeof _0x13aad5==_0x144027(0x74d)?JSON[_0x144027(0x49d)](_0x13aad5,null,0x2):_0x13aad5)[_0x144027(0x63c)](/[\[\]{}\n]/g,'\x20')[_0x144027(0x63c)](/  +/g,'\x20')};}},xt=class c{constructor(_0xdc5b59,_0x303bec,_0x2960ee){const _0x294d93=a0_0x10d060;this[_0x294d93(0x343)]=_0xdc5b59,this['configService']=_0x303bec,this[_0x294d93(0x6f8)]=_0x2960ee,this['db']={},this[_0x294d93(0x561)]={},this[_0x294d93(0x48c)]=new v(c[_0x294d93(0x4b9)]),this['waInstances']={},(this[_0x294d93(0x1fb)](),this[_0x294d93(0x272)](),Object[_0x294d93(0x6af)](this['db'],_0x303bec[_0x294d93(0x5a9)](_0x294d93(0x569))),Object['assign'](this[_0x294d93(0x561)],_0x303bec['get'](_0x294d93(0x6b5))),this[_0x294d93(0x37a)]=this['db']['ENABLED']?this['repository'][_0x294d93(0x485)]?.['db'](this['db'][_0x294d93(0x709)]['DB_PREFIX_NAME']+_0x294d93(0x5d0)):void 0x0,this[_0x294d93(0x3fe)]=this[_0x294d93(0x561)][_0x294d93(0x1f8)]?new re(this['redis']):void 0x0);}async[a0_0x10d060(0x389)](_0x31e6ab){const _0x49d0d2=a0_0x10d060;if(_0x31e6ab&&!this[_0x49d0d2(0x6c7)][_0x31e6ab])throw new F(_0x49d0d2(0x223)+_0x31e6ab+_0x49d0d2(0x472));let _0x432a1e=[];for await(let [_0x16e785,_0x22a809]of Object[_0x49d0d2(0x433)](this[_0x49d0d2(0x6c7)]))if(_0x22a809&&_0x22a809[_0x49d0d2(0x2c0)][_0x49d0d2(0x767)]==='open'){let _0x1b24c4=await this[_0x49d0d2(0x6f8)][_0x49d0d2(0x51f)][_0x49d0d2(0x5aa)](_0x16e785);_0x432a1e[_0x49d0d2(0x549)]({'instance':{'instanceName':_0x16e785,'apikey':_0x1b24c4[_0x49d0d2(0x4d6)],'owner':_0x22a809[_0x49d0d2(0x634)],'profileName':await _0x22a809[_0x49d0d2(0x271)]()||'not\x20loaded','profilePictureUrl':_0x22a809[_0x49d0d2(0x505)]}});}return _0x432a1e[_0x49d0d2(0x5aa)](_0x5bb9bf=>_0x5bb9bf[_0x49d0d2(0x300)][_0x49d0d2(0x566)]===_0x31e6ab)??_0x432a1e;}async['cleaningUp'](_0x2df82d){const _0x22ff1b=a0_0x10d060;if(this['db']['ENABLED']&&(await this[_0x22ff1b(0x6f8)][_0x22ff1b(0x485)]['connect'](),(await this['dbInstance'][_0x22ff1b(0x558)]())[_0x22ff1b(0x31a)]>0x0&&await this[_0x22ff1b(0x37a)][_0x22ff1b(0x2a6)](_0x2df82d)),this[_0x22ff1b(0x561)]['ENABLED']){this['cache'][_0x22ff1b(0x4bf)]=_0x2df82d,await this[_0x22ff1b(0x3fe)][_0x22ff1b(0x776)]();return;}}async[a0_0x10d060(0x3cf)](){const _0x15ec12=a0_0x10d060;await this['InstancesAlterarTodas']();let _0xc7146=async _0x147bbb=>{const _0x342f44=a0_0x434c;let _0x172e47=new we(this[_0x342f44(0x401)],this[_0x342f44(0x343)],this[_0x342f44(0x6f8)]);_0x172e47[_0x342f44(0x566)]=_0x147bbb,await _0x172e47[_0x342f44(0x6c5)](),this[_0x342f44(0x6c7)][_0x147bbb]=_0x172e47;};try{if(this['redis'][_0x15ec12(0x1f8)]){let _0x2dd8fb=await this['cache'][_0x15ec12(0x41c)]();_0x2dd8fb?.[_0x15ec12(0x31a)]>0x0&&_0x2dd8fb[_0x15ec12(0x311)](async _0x5e6ecf=>await _0xc7146(_0x5e6ecf['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x15ec12(0x6f8)][_0x15ec12(0x485)][_0x15ec12(0x139)]();let _0x64a9aa=await this['dbInstance'][_0x15ec12(0x558)]();_0x64a9aa[_0x15ec12(0x31a)]>0x0&&_0x64a9aa[_0x15ec12(0x311)](async _0x109eed=>await _0xc7146(_0x109eed[_0x15ec12(0x440)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x500465){this[_0x15ec12(0x48c)][_0x15ec12(0x22d)](_0x500465);}}async['InstancesAsDisconnectedX'](){const _0x7f0fac=a0_0x10d060;let _0x2a0868=await this[_0x7f0fac(0x6f8)][_0x7f0fac(0x51f)][_0x7f0fac(0x135)](),_0x21ff59=_0x2a0868[_0x7f0fac(0x3ed)](_0x4d7b7b=>!this['waInstances'][_0x4d7b7b[_0x7f0fac(0x372)]]&&(_0x4d7b7b[_0x7f0fac(0x4c7)]||typeof _0x4d7b7b[_0x7f0fac(0x4c7)]>'u'));_0x21ff59[_0x7f0fac(0x31a)]>0x0&&await Promise[_0x7f0fac(0x5d7)](_0x21ff59[_0x7f0fac(0x606)](async _0x3cce98=>{const _0x538141=_0x7f0fac;let _0x479150={'online':!0x1,'lastDisconnect':Date[_0x538141(0x27f)]()};await this[_0x538141(0x6f8)][_0x538141(0x51f)][_0x538141(0x2ec)](_0x479150,_0x3cce98[_0x538141(0x372)]);}));let _0x4db432=Date[_0x7f0fac(0x27f)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1627c5=_0x2a0868[_0x7f0fac(0x3ed)](_0x3a3b2a=>!this[_0x7f0fac(0x6c7)][_0x3a3b2a[_0x7f0fac(0x372)]]&&typeof _0x3a3b2a[_0x7f0fac(0x5b2)]<'u'&&_0x3a3b2a['lastDisconnect']<_0x4db432);_0x1627c5[_0x7f0fac(0x31a)]>0x0&&await Promise[_0x7f0fac(0x5d7)](_0x1627c5[_0x7f0fac(0x606)](async _0x158c18=>{}));}async[a0_0x10d060(0x3cb)](){const _0x2e97bd=a0_0x10d060;try{let _0x12d185={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x551e72={'online':!0x1,'lastDisconnect':Date[_0x2e97bd(0x27f)]()},_0x3d3931=await this[_0x2e97bd(0x6f8)][_0x2e97bd(0x51f)][_0x2e97bd(0x47e)](_0x12d185,_0x551e72);console['log'](_0x2e97bd(0x751)+_0x3d3931[_0x2e97bd(0x4fc)]),await this['removeOlderDisconnectedInstances']();}catch(_0x494473){console[_0x2e97bd(0x22d)](_0x2e97bd(0x1b5),_0x494473);}}async[a0_0x10d060(0x61d)](){const _0xfc27ec=a0_0x10d060;try{let _0x135f25={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x407042=await this['repository'][_0xfc27ec(0x51f)][_0xfc27ec(0x480)](_0x135f25);console['log'](_0xfc27ec(0x379)+_0x407042['insertCount']);}catch(_0x43a83f){console['error'](_0xfc27ec(0x3aa),_0x43a83f);}}[a0_0x10d060(0x1fb)](){const _0x565f26=a0_0x10d060;this['eventEmitter']['on'](_0x565f26(0x6c2),async _0x30df91=>{const _0x489940=_0x565f26;try{this['waInstances'][_0x30df91]=void 0x0;}catch{}try{this[_0x489940(0x548)](_0x30df91);}finally{this['logger'][_0x489940(0x65c)](_0x489940(0x223)+_0x30df91+'\x22\x20-\x20REMOVED');}});}[a0_0x10d060(0x272)](){const _0x4d5cf4=a0_0x10d060;this[_0x4d5cf4(0x343)]['on']('no.connection',async _0xf202d5=>{const _0x119347=_0x4d5cf4;try{this[_0x119347(0x6c7)][_0xf202d5]=void 0x0;}catch{}try{this[_0x119347(0x548)](_0xf202d5);}finally{this[_0x119347(0x48c)]['warn'](_0x119347(0x223)+_0xf202d5+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Pt=class extends I{[a0_0x10d060(0x729)](_0x41e932){return js(_0x41e932);}async['insert'](_0x487e40){const _0x424b60=a0_0x10d060;if(_0x487e40[_0x424b60(0x31a)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x487e40[0x0]['owner'])[_0x424b60(0x270)]([..._0x487e40]))[_0x424b60(0x31a)]};}catch(_0x2495fa){return _0x2495fa;}}async[a0_0x10d060(0x5aa)](_0x3f43fc,_0x1378f7){const _0x789b94=a0_0x10d060;try{let _0x1eedea=this[_0x789b94(0x729)](_0x1378f7),_0x253281=A(_0x3f43fc[_0x789b94(0x5e6)]);return await _0x1eedea['find'](_0x253281)[_0x789b94(0x63e)]({'lastmsg':-0x1})['limit'](_0x3f43fc?.[_0x789b94(0x2ab)]??0x0)[_0x789b94(0x44d)]();}catch{return[];}}async['deleteAll'](_0x260f08,_0x1e6244){const _0x3573bd=a0_0x10d060;try{return await this[_0x3573bd(0x729)](_0x1e6244)[_0x3573bd(0x480)]({..._0x260f08[_0x3573bd(0x5e6)]}),[];}catch(_0x4ed050){return{'error':_0x4ed050?.[_0x3573bd(0x6d4)]()};}}async['findOne'](_0x284bd4,_0x266933){const _0x29e5d7=a0_0x10d060;try{let _0x32f55b=this[_0x29e5d7(0x729)](_0x266933),_0x33d16b=A(_0x284bd4[_0x29e5d7(0x5e6)]);return await _0x32f55b['findOne'](_0x33d16b)[_0x29e5d7(0x44d)]();}catch{return null;}}async[a0_0x10d060(0x251)](_0x28f8cc,_0x2e8328,_0x477837,_0x645f83,_0x4d8b38=a0_0x10d060(0x4f7)){const _0xf920e5=a0_0x10d060;try{let _0x537025={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x645f83},_0xd77d04=this['getChatModelForOwner'](_0x477837),_0x43cff9=A(_0x28f8cc[_0xf920e5(0x5e6)]),_0x55bd34={};return _0x55bd34[_0x4d8b38]=_0x2e8328,await _0xd77d04[_0xf920e5(0x47d)](_0x43cff9,_0x55bd34,_0x537025);}catch(_0x2359f8){return console['error'](_0x2359f8),null;}}async['updateMany'](_0x19c635){const _0x48f352=a0_0x10d060;try{let _0x20bb04=this[_0x48f352(0x729)](_0x19c635[0x0][_0x48f352(0x2e0)][_0x48f352(0x5e6)][_0x48f352(0x26f)]),_0x5e90b5=_0x19c635[_0x48f352(0x606)](_0x1c0dd9=>({'updateOne':{'filter':{..._0x1c0dd9[_0x48f352(0x2e0)][_0x48f352(0x5e6)]},'update':{'$set':_0x1c0dd9['update']}}}));return(await _0x20bb04[_0x48f352(0x6a9)](_0x5e90b5))[_0x48f352(0x639)];}catch(_0x5f4e39){return console[_0x48f352(0x22d)](_0x5f4e39),0x0;}}async[a0_0x10d060(0x6d2)](_0x3dcac0){const _0x13c8ff=a0_0x10d060;try{let _0x480349=this[_0x13c8ff(0x729)](_0x3dcac0),_0x28889e={'labels':{'$exists':!0x1}},_0x1eb2d4={'$set':{'labels':[]}};return(await _0x480349[_0x13c8ff(0x176)](_0x28889e,_0x1eb2d4))[_0x13c8ff(0x639)];}catch(_0x374fb3){return console[_0x13c8ff(0x22d)](_0x374fb3),0x0;}}async['updateMissingTags'](_0x429b45){const _0x422d92=a0_0x10d060;try{let _0x20aaec=this[_0x422d92(0x729)](_0x429b45),_0x28e1f9={'leadInfo.tags':{'$exists':!0x1}},_0x1e8d1d={'$set':{'leadInfo.tags':[]}};return(await _0x20aaec['updateMany'](_0x28e1f9,_0x1e8d1d))[_0x422d92(0x639)];}catch(_0x369a05){return console['error'](_0x369a05),0x0;}}async[a0_0x10d060(0x2c6)](_0x734ef5){const _0x28caa1=a0_0x10d060;try{let _0x2f5c52=this[_0x28caa1(0x729)](_0x734ef5),_0x5ee7af={'leadInfo.customFields':{'$exists':!0x1}},_0x4cb873={'$set':{'leadInfo.customFields':[]}};return(await _0x2f5c52[_0x28caa1(0x176)](_0x5ee7af,_0x4cb873))[_0x28caa1(0x639)];}catch(_0x3d9f83){return console[_0x28caa1(0x22d)](_0x3d9f83),0x0;}}async[a0_0x10d060(0x270)](_0x2ddf1e,_0x46a180){const _0x3444d6=a0_0x10d060;if(!Array[_0x3444d6(0x229)](_0x2ddf1e)||_0x2ddf1e['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x46a180)[_0x3444d6(0x270)](_0x2ddf1e))[_0x3444d6(0x31a)];}catch(_0x390e6e){throw console[_0x3444d6(0x22d)](_0x3444d6(0x585),_0x390e6e),_0x390e6e;}}async['deleteChat'](_0x16fc2e,_0x3bd1db){const _0x4cb754=a0_0x10d060;try{await this[_0x4cb754(0x729)](_0x3bd1db)['deleteOne']({'_id':_0x16fc2e});}catch(_0x499ba1){throw console[_0x4cb754(0x22d)](_0x4cb754(0x5fc),_0x499ba1),_0x499ba1;}}},_t=class extends I{[a0_0x10d060(0x773)](_0x107ec1){return ua(_0x107ec1);}async[a0_0x10d060(0x251)](_0x4edfc8,_0x7f160,_0x43b0eb,_0x21559e){const _0x231021=a0_0x10d060;try{let _0x2f2f06={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x21559e},_0x2b139d=this[_0x231021(0x773)](_0x43b0eb),_0x55479a=A(_0x4edfc8[_0x231021(0x5e6)]);return await _0x2b139d['findOneAndUpdate'](_0x55479a,{'$set':_0x7f160},_0x2f2f06);}catch(_0x3673dc){return console['error'](_0x3673dc),null;}}async['find'](_0x295202,_0x40409e){const _0x3e338c=a0_0x10d060;try{let _0x28381d=this[_0x3e338c(0x773)](_0x40409e),_0xbb02d=A(_0x295202[_0x3e338c(0x5e6)]);return await _0x28381d['find'](_0xbb02d);}catch(_0x874ea4){console[_0x3e338c(0x22d)](_0x874ea4);}}async[a0_0x10d060(0x3e0)](_0x2e48a5,_0x30c211){const _0x2419b8=a0_0x10d060;try{let _0x59e040=this[_0x2419b8(0x773)](_0x30c211),_0x15ef47=A(_0x2e48a5[_0x2419b8(0x5e6)]);await _0x59e040['deleteMany'](_0x15ef47);}catch(_0x1456b8){console['error'](_0x1456b8);}}async[a0_0x10d060(0x20e)](_0x2afab0){const _0x6d53a3=a0_0x10d060;try{return await this[_0x6d53a3(0x773)](_0x2afab0)['collection'][_0x6d53a3(0x64b)](),{'success':!0x0};}catch(_0x2afed3){return console['error'](_0x2afed3),{'success':!0x1,'error':_0x2afed3};}}},$t=class{constructor(_0x314736){const _0x6f6f26=a0_0x10d060;this[_0x6f6f26(0x612)]=_0x314736;}async[a0_0x10d060(0x1b1)]({instanceName:_0x1c880d},_0xb3785d){const _0x1a33ec=a0_0x10d060;return await this[_0x1a33ec(0x612)]['waInstances'][_0x1c880d][_0x1a33ec(0x1b1)](_0xb3785d);}async['whatsappNumber']({instanceName:_0x457328},_0x4b77be){const _0x3dca90=a0_0x10d060;return await this[_0x3dca90(0x612)][_0x3dca90(0x6c7)][_0x457328]['whatsappNumber'](_0x4b77be);}async[a0_0x10d060(0x622)]({instanceName:_0x16aa44},_0xdc00d0){const _0x5d6a6a=a0_0x10d060;return await this[_0x5d6a6a(0x612)]['waInstances'][_0x16aa44]['importChats'](_0xdc00d0);}async['readMessage']({instanceName:_0xeb644c},_0x1be628){const _0x207514=a0_0x10d060;return await this[_0x207514(0x612)][_0x207514(0x6c7)][_0xeb644c]['markMessageAsRead'](_0x1be628);}async[a0_0x10d060(0x26a)]({instanceName:_0xc7dc9d},_0x395973){const _0x57e3f0=a0_0x10d060;return await this[_0x57e3f0(0x612)][_0x57e3f0(0x6c7)][_0xc7dc9d][_0x57e3f0(0x26a)](_0x395973);}async[a0_0x10d060(0x5e5)]({instanceName:_0x349623},_0x39eed0){const _0x44659e=a0_0x10d060;return await this['waMonitor'][_0x44659e(0x6c7)][_0x349623][_0x44659e(0x5e5)](_0x39eed0);}async[a0_0x10d060(0x1f5)]({instanceName:_0x3ce1eb},_0x498418){const _0x341d98=a0_0x10d060;return await this[_0x341d98(0x612)]['waInstances'][_0x3ce1eb][_0x341d98(0x348)](_0x498418['number']);}async[a0_0x10d060(0x48d)]({instanceName:_0x1720cd},_0x3db5a9){const _0x1dfe04=a0_0x10d060;return await this[_0x1dfe04(0x612)][_0x1dfe04(0x6c7)][_0x1720cd][_0x1dfe04(0x48d)](_0x3db5a9[_0x1dfe04(0x4d0)]);}async[a0_0x10d060(0x3fd)]({instanceName:_0x2dd77b},_0x29e67d){const _0xd51e8b=a0_0x10d060;return await this[_0xd51e8b(0x612)][_0xd51e8b(0x6c7)][_0x2dd77b][_0xd51e8b(0x3fd)](_0x29e67d);}async[a0_0x10d060(0x352)]({instanceName:_0xd06bac},_0x2d42dd){const _0xc66477=a0_0x10d060;return await this[_0xc66477(0x612)]['waInstances'][_0xd06bac][_0xc66477(0x352)](_0x2d42dd);}async[a0_0x10d060(0x6a4)]({instanceName:_0x54cae1},_0x4ac636){const _0x24b326=a0_0x10d060;return await this[_0x24b326(0x612)][_0x24b326(0x6c7)][_0x54cae1][_0x24b326(0x6a4)](_0x4ac636);}async[a0_0x10d060(0x30c)]({instanceName:_0x1adbb7},_0x1632e3){const _0x4e457e=a0_0x10d060;return await this['waMonitor'][_0x4e457e(0x6c7)][_0x1adbb7]['fetchMessages'](_0x1632e3);}async[a0_0x10d060(0x525)]({instanceName:_0x73c823}){const _0xd18398=a0_0x10d060;return await this[_0xd18398(0x612)]['waInstances'][_0x73c823][_0xd18398(0x525)]();}async[a0_0x10d060(0x19a)]({instanceName:_0x56f8c6}){const _0xd60a1=a0_0x10d060;return await this['waMonitor'][_0xd60a1(0x6c7)][_0x56f8c6][_0xd60a1(0x19a)]();}async[a0_0x10d060(0x3de)]({instanceName:_0x1ed582}){const _0x531c1f=a0_0x10d060;return await this[_0x531c1f(0x612)]['waInstances'][_0x1ed582][_0x531c1f(0x3de)]();}async['updatePrivacySettings']({instanceName:_0x530041},_0x56ad6f){const _0x48f0ee=a0_0x10d060;return await this[_0x48f0ee(0x612)][_0x48f0ee(0x6c7)][_0x530041][_0x48f0ee(0x488)](_0x56ad6f);}async[a0_0x10d060(0x455)]({instanceName:_0x614e22},_0x416f1f){const _0x2ccd93=a0_0x10d060;return await this[_0x2ccd93(0x612)][_0x2ccd93(0x6c7)][_0x614e22][_0x2ccd93(0x455)](_0x416f1f['number']);}async[a0_0x10d060(0x14f)]({instanceName:_0x3dbdd7},_0x4e67c3){const _0x56774b=a0_0x10d060;return await this[_0x56774b(0x612)]['waInstances'][_0x3dbdd7][_0x56774b(0x14f)](_0x4e67c3[_0x56774b(0x4b9)]);}async['updateProfileStatus']({instanceName:_0x23ff93},_0x1e69a8){const _0x1fe8f4=a0_0x10d060;return await this[_0x1fe8f4(0x612)]['waInstances'][_0x23ff93][_0x1fe8f4(0x403)](_0x1e69a8[_0x1fe8f4(0x5c1)]);}async[a0_0x10d060(0x6e8)]({instanceName:_0x4e33a2},_0x25906f){const _0x582600=a0_0x10d060;return await this[_0x582600(0x612)]['waInstances'][_0x4e33a2][_0x582600(0x6e8)](_0x25906f[_0x582600(0x1b3)]);}async['removeProfilePicture']({instanceName:_0x59e78f},_0x2fd898){return await this['waMonitor']['waInstances'][_0x59e78f]['removeProfilePicture']();}},Ns=require(a0_0x10d060(0x5d2)),kt=class c{constructor(_0x2b0f52,_0x3af8e3,_0x405496,_0x523e40,_0x4fc4ef){const _0x2a4615=a0_0x10d060;this[_0x2a4615(0x612)]=_0x2b0f52,this[_0x2a4615(0x401)]=_0x3af8e3,this[_0x2a4615(0x6f8)]=_0x405496,this[_0x2a4615(0x343)]=_0x523e40,this['authService']=_0x4fc4ef,this[_0x2a4615(0x48c)]=new v(c[_0x2a4615(0x4b9)]);}async[a0_0x10d060(0x75d)]({instanceName:_0x8ac255,apikey:_0x31de9a,number:_0x29d588,proxy:_0x22dfd7=!0x0}){const _0x18c7dd=a0_0x10d060;try{let _0xdbeca0=new we(this[_0x18c7dd(0x401)],this['eventEmitter'],this[_0x18c7dd(0x6f8)]);_0xdbeca0[_0x18c7dd(0x566)]=_0x8ac255,this[_0x18c7dd(0x612)]['waInstances'][_0xdbeca0[_0x18c7dd(0x566)]]=_0xdbeca0;let _0x1e0f78={};_0x31de9a?(await this[_0x18c7dd(0x6f8)][_0x18c7dd(0x51f)]['create']({'apikey':_0x31de9a},_0x8ac255),_0x1e0f78['apikey']=_0x31de9a):_0x1e0f78=await this['authService'][_0x18c7dd(0x3c9)]({'instanceName':_0xdbeca0['instanceName']});let _0x5cebc4;return await _0xdbeca0[_0x18c7dd(0x6c5)](_0x29d588,_0x22dfd7),await(0x0,Ns[_0x18c7dd(0x6fe)])(0x7d0),_0x5cebc4=_0xdbeca0[_0x18c7dd(0x6d7)],{'instance':{'instanceName':_0xdbeca0[_0x18c7dd(0x566)],'status':_0x18c7dd(0x29a)},'hash':_0x1e0f78,'qrcode':_0x5cebc4};}catch(_0x18b1d0){this[_0x18c7dd(0x48c)][_0x18c7dd(0x22d)](_0x18b1d0);}}async[a0_0x10d060(0x5cc)]({instanceName:_0x24ac9c,number:_0x5427b2=null,proxy:_0xdd1284=!0x0}){const _0x19374a=a0_0x10d060;try{let _0x147729=this['waMonitor'][_0x19374a(0x6c7)][_0x24ac9c];switch(_0x147729?.['connectionStatus']?.[_0x19374a(0x767)]){case _0x19374a(0x68a):return await _0x147729[_0x19374a(0x6c5)](_0x5427b2,_0xdd1284),await(0x0,Ns[_0x19374a(0x6fe)])(0x7d0),_0x147729[_0x19374a(0x6d7)];case _0x19374a(0x749):return _0x147729[_0x19374a(0x6d7)];default:return await this[_0x19374a(0x5ff)]({'instanceName':_0x24ac9c});}}catch(_0x2e3041){this[_0x19374a(0x48c)][_0x19374a(0x30d)](_0x2e3041);}}async[a0_0x10d060(0x5ff)]({instanceName:_0x5b462b}){const _0x1b7a71=a0_0x10d060;let _0x169024=this['waMonitor'][_0x1b7a71(0x6c7)][_0x5b462b]['connectionStatus'],_0x230a49=null;_0x169024[_0x1b7a71(0x767)]===_0x1b7a71(0x17f)&&_0x5b462b&&(_0x230a49=await this['waMonitor'][_0x1b7a71(0x389)](_0x5b462b));let _0x3ba985=null;return _0x169024['state']===_0x1b7a71(0x749)&&_0x5b462b&&(_0x3ba985=this[_0x1b7a71(0x612)]['waInstances'][_0x5b462b][_0x1b7a71(0x6d7)]),{'instance':_0x5b462b,'connectionStatus':_0x169024,'instanceInfo':_0x230a49,'qrcode':_0x3ba985};}async[a0_0x10d060(0x62f)]({instanceName:_0x29751a}){const _0x256786=a0_0x10d060;try{return this[_0x256786(0x612)][_0x256786(0x6c7)][_0x29751a]?.['client']?.['ws']?.[_0x256786(0x68a)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x256786(0x320)}};}catch(_0x7917ff){this[_0x256786(0x48c)][_0x256786(0x22d)](_0x7917ff);}}async[a0_0x10d060(0x58e)]({instanceName:_0x1d5c92}){const _0x420725=a0_0x10d060;return _0x1d5c92?this[_0x420725(0x612)][_0x420725(0x389)](_0x1d5c92):this['waMonitor'][_0x420725(0x389)]();}async[a0_0x10d060(0x51a)]({instanceName:_0x39c408}){const _0x238eac=a0_0x10d060;try{return await this['waMonitor'][_0x238eac(0x6c7)][_0x39c408]?.[_0x238eac(0x18c)]?.[_0x238eac(0x51a)](_0x238eac(0x527)+_0x39c408),{'error':!0x1,'message':_0x238eac(0x587)};}catch(_0x5c9b1a){throw new O(_0x5c9b1a[_0x238eac(0x6d4)]());}}async[a0_0x10d060(0x33f)]({instanceName:_0x3d5f83}){const _0x24a700=a0_0x10d060;if((await this[_0x24a700(0x5ff)]({'instanceName':_0x3d5f83}))[_0x24a700(0x2c0)]['state']===_0x24a700(0x17f))throw new m([_0x24a700(0x445),_0x24a700(0x13e)]);try{return delete this[_0x24a700(0x612)][_0x24a700(0x6c7)][_0x3d5f83],{'error':!0x1,'message':_0x24a700(0x3ca)};}catch(_0x3e94b7){throw new m(_0x3e94b7[_0x24a700(0x6d4)]());}}},Z=require(a0_0x10d060(0x134)),Lt=class{constructor(_0x2045f2){const _0x53d6c7=a0_0x10d060;this[_0x53d6c7(0x612)]=_0x2045f2;}async['sendText']({instanceName:_0x1db57e},_0x257192){const _0x185797=a0_0x10d060;return await this['waMonitor'][_0x185797(0x6c7)][_0x1db57e]['textMessage'](_0x257192);}async[a0_0x10d060(0x2d3)]({instanceName:_0x355381},_0x10b617){const _0x5a3a90=a0_0x10d060;return await this[_0x5a3a90(0x612)][_0x5a3a90(0x6c7)][_0x355381][_0x5a3a90(0x281)](_0x10b617);}async[a0_0x10d060(0x608)]({instanceName:_0xc989a8},_0x35cad6){const _0x48a9b3=a0_0x10d060;if((0x0,Z['isBase64'])(_0x35cad6?.[_0x48a9b3(0x750)]?.[_0x48a9b3(0x241)])&&!_0x35cad6?.[_0x48a9b3(0x750)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z['isURL'])(_0x35cad6?.[_0x48a9b3(0x750)]?.[_0x48a9b3(0x241)])||(0x0,Z['isBase64'])(_0x35cad6?.[_0x48a9b3(0x750)]?.['media']))return await this[_0x48a9b3(0x612)][_0x48a9b3(0x6c7)][_0xc989a8][_0x48a9b3(0x750)](_0x35cad6);throw new m(_0x48a9b3(0x58f));}async[a0_0x10d060(0x4fb)]({instanceName:_0x49fa17},_0xdeac24){const _0x4d33bd=a0_0x10d060;if((0x0,Z[_0x4d33bd(0x53a)])(_0xdeac24[_0x4d33bd(0x3a0)]['image'])||(0x0,Z[_0x4d33bd(0x542)])(_0xdeac24[_0x4d33bd(0x3a0)][_0x4d33bd(0x5bf)]))return await this[_0x4d33bd(0x612)]['waInstances'][_0x49fa17][_0x4d33bd(0x66a)](_0xdeac24);throw new m(_0x4d33bd(0x58f));}async[a0_0x10d060(0x1bf)]({instanceName:_0x145d63},_0x50562f){const _0x4084b3=a0_0x10d060;if((0x0,Z['isURL'])(_0x50562f['audioMessage'][_0x4084b3(0x258)])||(0x0,Z[_0x4084b3(0x542)])(_0x50562f[_0x4084b3(0x782)][_0x4084b3(0x258)]))return await this[_0x4084b3(0x612)]['waInstances'][_0x145d63][_0x4084b3(0x572)](_0x50562f);throw new m(_0x4084b3(0x58f));}async[a0_0x10d060(0x269)]({instanceName:_0x46d260},_0x3f1d19){const _0xed25ba=a0_0x10d060;if((0x0,Z['isBase64'])(_0x3f1d19['buttonMessage'][_0xed25ba(0x750)]?.[_0xed25ba(0x241)])&&!_0x3f1d19[_0xed25ba(0x4db)][_0xed25ba(0x750)]?.[_0xed25ba(0x4da)])throw new m(_0xed25ba(0x1e5));return await this[_0xed25ba(0x612)][_0xed25ba(0x6c7)][_0x46d260][_0xed25ba(0x4db)](_0x3f1d19);}async[a0_0x10d060(0x4c0)]({instanceName:_0x2bafc7},_0x259622){const _0x5bbb8c=a0_0x10d060;return await this[_0x5bbb8c(0x612)][_0x5bbb8c(0x6c7)][_0x2bafc7]['locationMessage'](_0x259622);}async[a0_0x10d060(0x546)]({instanceName:_0x4eb1e3},_0x1ac7f0){const _0x179d75=a0_0x10d060;return await this[_0x179d75(0x612)][_0x179d75(0x6c7)][_0x4eb1e3][_0x179d75(0x33a)](_0x1ac7f0);}async[a0_0x10d060(0x2da)]({instanceName:_0xd671e},_0x2e5a89){const _0x66086b=a0_0x10d060;return await this[_0x66086b(0x612)][_0x66086b(0x6c7)][_0xd671e][_0x66086b(0x69f)](_0x2e5a89);}async[a0_0x10d060(0x5fa)]({instanceName:_0x3a3bfa},_0x5339dd){const _0x6d2005=a0_0x10d060;return await this[_0x6d2005(0x612)]['waInstances'][_0x3a3bfa]['contactMessage'](_0x5339dd);}async[a0_0x10d060(0x4aa)]({instanceName:_0x4bef35},_0x1afe93){const _0x14bce7=a0_0x10d060;if(!_0x1afe93['reactionMessage'][_0x14bce7(0x3df)][_0x14bce7(0x47a)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x14bce7(0x184));return await this['waMonitor']['waInstances'][_0x4bef35][_0x14bce7(0x701)](_0x1afe93);}async[a0_0x10d060(0x43b)]({instanceName:_0x13ab55},_0x542aa7){const _0x198384=a0_0x10d060;return await this[_0x198384(0x612)]['waInstances'][_0x13ab55][_0x198384(0x1c1)](_0x542aa7);}},Er=require(a0_0x10d060(0x669)),Rs=require(a0_0x10d060(0x32f)),Ft=class c{constructor(_0x39893c,_0x2719d7,_0x22e69c){const _0xe870cd=a0_0x10d060;this[_0xe870cd(0x401)]=_0x39893c,this['waMonitor']=_0x2719d7,this[_0xe870cd(0x6f8)]=_0x22e69c,this['logger']=new v(c[_0xe870cd(0x4b9)]);}async['jwt'](_0x18455d){const _0x1549c8=a0_0x10d060;let _0x24ab41=this[_0x1549c8(0x401)][_0x1549c8(0x5a9)]('AUTHENTICATION')[_0x1549c8(0x61c)],_0x4c1aeb=(0x0,Er[_0x1549c8(0x220)])({'instanceName':_0x18455d['instanceName'],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x24ab41[_0x1549c8(0x682)],{'expiresIn':_0x24ab41[_0x1549c8(0x4ae)],'encoding':'utf8','subject':_0x1549c8(0x69c)}),_0x4a5db8=await this[_0x1549c8(0x6f8)]['auth'][_0x1549c8(0x2ec)]({'jwt':_0x4c1aeb},_0x18455d[_0x1549c8(0x566)]);if(_0x4a5db8[_0x1549c8(0x22d)])throw this[_0x1549c8(0x48c)][_0x1549c8(0x22d)]({'localError':c[_0x1549c8(0x4b9)]+'.jwt','error':_0x4a5db8['error']}),new m(_0x1549c8(0x159),_0x4a5db8[_0x1549c8(0x22d)]?.['toString']());return{'jwt':_0x4c1aeb};}async['apikey'](_0x3329c7){const _0x42eedf=a0_0x10d060;let _0x2d5b12=(0x0,Rs['v4'])()[_0x42eedf(0x2f0)](),_0x449c3a=await this['repository'][_0x42eedf(0x51f)][_0x42eedf(0x2ec)]({'apikey':_0x2d5b12},_0x3329c7[_0x42eedf(0x566)]);if(_0x449c3a['error'])throw this['logger'][_0x42eedf(0x22d)]({'localError':c['name']+_0x42eedf(0x358),'error':_0x449c3a['error']}),new m(_0x42eedf(0x159),_0x449c3a[_0x42eedf(0x22d)]?.[_0x42eedf(0x6d4)]());return{'apikey':_0x2d5b12};}async[a0_0x10d060(0x3c9)](_0x12eaea){const _0xc61cfc=a0_0x10d060;let _0x1b0980=this[_0xc61cfc(0x401)][_0xc61cfc(0x5a9)]('AUTHENTICATION');return await this[_0x1b0980[_0xc61cfc(0x467)]](_0x12eaea);}},Ut=class{constructor(_0x12533b){const _0x3c58bd=a0_0x10d060;this[_0x3c58bd(0x612)]=_0x12533b;}async['createGroup'](_0x519524,_0x3bc7ab){const _0x3f0856=a0_0x10d060;return await this['waMonitor']['waInstances'][_0x519524[_0x3f0856(0x566)]][_0x3f0856(0x6e4)](_0x3bc7ab);}async[a0_0x10d060(0x5de)](_0x26f834,_0xaf3e5){const _0x3f803c=a0_0x10d060;return await this['waMonitor']['waInstances'][_0x26f834[_0x3f803c(0x566)]][_0x3f803c(0x5de)](_0xaf3e5);}async['groupDesc'](_0x1b0e25,_0x5d8dca){const _0x2dfb70=a0_0x10d060;return await this[_0x2dfb70(0x612)][_0x2dfb70(0x6c7)][_0x1b0e25[_0x2dfb70(0x566)]][_0x2dfb70(0x2dc)](_0x5d8dca);}async[a0_0x10d060(0x722)](_0xf4370c,_0x18b3a5){const _0xfd1373=a0_0x10d060;return await this[_0xfd1373(0x612)][_0xfd1373(0x6c7)][_0xf4370c[_0xfd1373(0x566)]][_0xfd1373(0x722)](_0x18b3a5);}async[a0_0x10d060(0x2e5)](_0x4fe741,_0x39eac6){const _0x8269d1=a0_0x10d060;return await this['waMonitor'][_0x8269d1(0x6c7)][_0x4fe741[_0x8269d1(0x566)]][_0x8269d1(0x2e5)](_0x39eac6);}async[a0_0x10d060(0x163)](_0x1d341a,_0x391d93){const _0x10b51d=a0_0x10d060;return await this[_0x10b51d(0x612)][_0x10b51d(0x6c7)][_0x1d341a[_0x10b51d(0x566)]][_0x10b51d(0x5c7)](_0x391d93);}async['findGroups'](_0x10616d){const _0x478377=a0_0x10d060;return await this[_0x478377(0x612)][_0x478377(0x6c7)][_0x10616d[_0x478377(0x566)]][_0x478377(0x48b)]();}async[a0_0x10d060(0x5ca)](_0x2c983c,_0xf02a2a){const _0x56876e=a0_0x10d060;return await this[_0x56876e(0x612)][_0x56876e(0x6c7)][_0x2c983c[_0x56876e(0x566)]][_0x56876e(0x5ca)](_0xf02a2a);}async[a0_0x10d060(0x690)](_0x303291,_0x174e28){const _0x2d0cad=a0_0x10d060;return await this['waMonitor'][_0x2d0cad(0x6c7)][_0x303291[_0x2d0cad(0x566)]][_0x2d0cad(0x690)](_0x174e28);}async[a0_0x10d060(0x4af)](_0x4821f1,_0x1b6a79){const _0x567869=a0_0x10d060;return await this[_0x567869(0x612)][_0x567869(0x6c7)][_0x4821f1['instanceName']]['revokeInviteCode'](_0x1b6a79);}async[a0_0x10d060(0x354)](_0x5d92d5,_0x2b5550){const _0x2e209e=a0_0x10d060;return await this[_0x2e209e(0x612)][_0x2e209e(0x6c7)][_0x5d92d5[_0x2e209e(0x566)]][_0x2e209e(0x354)](_0x2b5550);}async['updateGParticipate'](_0xd1a6ac,_0x2f899e){const _0x21a2a5=a0_0x10d060;return await this['waMonitor']['waInstances'][_0xd1a6ac['instanceName']][_0x21a2a5(0x202)](_0x2f899e);}async[a0_0x10d060(0x632)](_0x26d07e,_0xd23fb5){return await this['waMonitor']['waInstances'][_0x26d07e['instanceName']]['toggleEphemeral'](_0xd23fb5);}async[a0_0x10d060(0x172)](_0x311e53,_0x3cefa7){const _0x3e4b3c=a0_0x10d060;return await this[_0x3e4b3c(0x612)]['waInstances'][_0x311e53[_0x3e4b3c(0x566)]][_0x3e4b3c(0x172)](_0x3cefa7);}},Jt=class{constructor(_0x329b6a){const _0x2b7038=a0_0x10d060;this[_0x2b7038(0x612)]=_0x329b6a;}[a0_0x10d060(0x2ec)](_0x200939,_0x1da1b8){const _0x3e6142=a0_0x10d060;return this[_0x3e6142(0x612)]['waInstances'][_0x200939[_0x3e6142(0x566)]][_0x3e6142(0x54d)](_0x1da1b8);}async[a0_0x10d060(0x5aa)](_0x8ce792){const _0x4575ef=a0_0x10d060;try{return await this[_0x4575ef(0x612)][_0x4575ef(0x6c7)][_0x8ce792[_0x4575ef(0x566)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x10d060(0x214)),jt=class{constructor(_0x2c4fdc){const _0x41d384=a0_0x10d060;this[_0x41d384(0x612)]=_0x2c4fdc;}async[a0_0x10d060(0x377)](_0xfa1c53,_0x533e23){const _0x3885c5=a0_0x10d060;return await this[_0x3885c5(0x612)][_0x3885c5(0x6c7)][_0xfa1c53[_0x3885c5(0x566)]][_0x3885c5(0x377)](_0x533e23);}async[a0_0x10d060(0x297)](_0x6567df){const _0x426a86=a0_0x10d060;return await this[_0x426a86(0x612)]['waInstances'][_0x6567df[_0x426a86(0x566)]]['getScheduleMessage']();}async[a0_0x10d060(0x1b7)](_0x40499a){const _0x34a82d=a0_0x10d060;return await this[_0x34a82d(0x612)]['waInstances'][_0x40499a[_0x34a82d(0x566)]][_0x34a82d(0x1b7)]();}async[a0_0x10d060(0x547)](_0x6ef271){const _0x4adcd8=a0_0x10d060;return await this[_0x4adcd8(0x612)][_0x4adcd8(0x6c7)][_0x6ef271['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0x5a82b7,_0x43e330){const _0x4fab66=a0_0x10d060;return await this[_0x4fab66(0x612)]['waInstances'][_0x5a82b7[_0x4fab66(0x566)]]['updateAgent'](_0x43e330);}async[a0_0x10d060(0x68d)](_0x4c6b6d,_0x456822){const _0x35634c=a0_0x10d060;return await this[_0x35634c(0x612)][_0x35634c(0x6c7)][_0x4c6b6d['instanceName']][_0x35634c(0x68d)](_0x456822);}async[a0_0x10d060(0x1ee)](_0x52ad6e,_0x1d086e){const _0x592ccd=a0_0x10d060;return await this[_0x592ccd(0x612)][_0x592ccd(0x6c7)][_0x52ad6e[_0x592ccd(0x566)]][_0x592ccd(0x1ee)](_0x1d086e);}async[a0_0x10d060(0x62e)](_0x58c1b3,_0x2643f7){const _0x4ae627=a0_0x10d060;return await this[_0x4ae627(0x612)][_0x4ae627(0x6c7)][_0x58c1b3[_0x4ae627(0x566)]][_0x4ae627(0x62e)](_0x2643f7);}async['getConversation'](_0xa496f9,_0x3fdb93){const _0x46067f=a0_0x10d060;return await this[_0x46067f(0x612)]['waInstances'][_0xa496f9[_0x46067f(0x566)]][_0x46067f(0x336)](_0x3fdb93);}async[a0_0x10d060(0x4cc)](_0x1bbf0c,_0x2fff37){const _0x30ba48=a0_0x10d060;return await this[_0x30ba48(0x612)][_0x30ba48(0x6c7)][_0x1bbf0c[_0x30ba48(0x566)]]['fetchConversation'](_0x2fff37);}async[a0_0x10d060(0x5f4)](_0x4d4a75,_0x1ca321){const _0x37f832=a0_0x10d060;return await this['waMonitor'][_0x37f832(0x6c7)][_0x4d4a75[_0x37f832(0x566)]][_0x37f832(0x5f4)](_0x1ca321);}async[a0_0x10d060(0x61b)](_0x204b53,_0x1bbb9f){const _0x585e88=a0_0x10d060;return await this[_0x585e88(0x612)][_0x585e88(0x6c7)][_0x204b53[_0x585e88(0x566)]][_0x585e88(0x61b)](_0x1bbb9f);}async[a0_0x10d060(0x728)](_0x5a1d08,_0x347d78){const _0x39d6b6=a0_0x10d060;return await this['waMonitor']['waInstances'][_0x5a1d08['instanceName']]['getFlow'](_0x347d78[_0x39d6b6(0x4b9)]);}async['createFlow'](_0x155a13,_0x1142d8){const _0x2fbe6c=a0_0x10d060;return await this[_0x2fbe6c(0x612)][_0x2fbe6c(0x6c7)][_0x155a13[_0x2fbe6c(0x566)]][_0x2fbe6c(0x2c4)](_0x1142d8);}async['editFlow'](_0x52e291,_0x1cd9cd){const _0x21ee69=a0_0x10d060;return await this[_0x21ee69(0x612)][_0x21ee69(0x6c7)][_0x52e291[_0x21ee69(0x566)]][_0x21ee69(0x1ff)](_0x1cd9cd);}async[a0_0x10d060(0x418)](_0x1e9a82,_0x48fb70){const _0x545aaf=a0_0x10d060;return await this['waMonitor'][_0x545aaf(0x6c7)][_0x1e9a82[_0x545aaf(0x566)]][_0x545aaf(0x418)](_0x48fb70);}async[a0_0x10d060(0x22b)](_0x3c91fc,_0x31cfd7){const _0x4ddd7d=a0_0x10d060;return await this['waMonitor']['waInstances'][_0x3c91fc[_0x4ddd7d(0x566)]][_0x4ddd7d(0x22b)](_0x31cfd7);}async[a0_0x10d060(0x283)](_0x5dd71d,_0x518a5f){const _0x3ddb6f=a0_0x10d060;return await this[_0x3ddb6f(0x612)][_0x3ddb6f(0x6c7)][_0x5dd71d[_0x3ddb6f(0x566)]][_0x3ddb6f(0x283)](_0x518a5f);}async[a0_0x10d060(0x712)](_0x9da2e8,_0x48c2ed){const _0x362e0b=a0_0x10d060;return await this[_0x362e0b(0x612)]['waInstances'][_0x9da2e8[_0x362e0b(0x566)]]['editFlowCondition'](_0x48c2ed);}async[a0_0x10d060(0x64c)](_0x2a0248,_0x2e9bd7){const _0x22861b=a0_0x10d060;return await this[_0x22861b(0x612)][_0x22861b(0x6c7)][_0x2a0248[_0x22861b(0x566)]][_0x22861b(0x64c)](_0x2e9bd7);}async[a0_0x10d060(0x6c9)](_0x568098,_0x4de627){const _0x1034e1=a0_0x10d060;return await this[_0x1034e1(0x612)]['waInstances'][_0x568098[_0x1034e1(0x566)]][_0x1034e1(0x6c9)](_0x4de627);}async[a0_0x10d060(0x20d)](_0x2e78d5,_0x3810bd){const _0x1baf00=a0_0x10d060;return await this[_0x1baf00(0x612)][_0x1baf00(0x6c7)][_0x2e78d5[_0x1baf00(0x566)]][_0x1baf00(0x20d)](_0x3810bd[_0x1baf00(0x4b9)]);}async[a0_0x10d060(0x3e1)](_0x50bc1a){const _0x556fcf=a0_0x10d060;return await this['waMonitor'][_0x556fcf(0x6c7)][_0x50bc1a[_0x556fcf(0x566)]][_0x556fcf(0x3e1)]();}},qt=class{constructor(_0x3d04eb){const _0x49517f=a0_0x10d060;this[_0x49517f(0x50e)]=_0x3d04eb;}async[a0_0x10d060(0x6bd)](_0x4c3cb2,_0x1f3162){const _0xeadf32=a0_0x10d060;return this[_0xeadf32(0x50e)][_0xeadf32(0x2ec)](_0x4c3cb2,_0x1f3162);}async['findWebhook'](_0x4d47a9){const _0x2df8f0=a0_0x10d060;return this[_0x2df8f0(0x50e)][_0x2df8f0(0x5aa)](_0x4d47a9);}},Vt=class extends I{constructor(_0x3520fb,_0x310cc2){super(_0x310cc2),this['webhookModel']=_0x3520fb,this['configService']=_0x310cc2;}async[a0_0x10d060(0x2ec)](_0x391ad3,_0x2f7719){const _0x74f216=a0_0x10d060;try{return this[_0x74f216(0x444)][_0x74f216(0x1f8)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x2f7719},{..._0x391ad3},{'upsert':!0x0}))[_0x74f216(0x639)]}:{'insertCount':0x1};}catch(_0x5410d4){return _0x5410d4;}}async['delete'](_0x16be76){const _0x517c56=a0_0x10d060;try{if(this[_0x517c56(0x444)][_0x517c56(0x1f8)]){await this['webhookModel']['deleteOne']({'_id':_0x16be76});return;}}catch(_0x217323){return{'error':_0x217323};}}async[a0_0x10d060(0x5aa)](_0x258df7){const _0x112c8d=a0_0x10d060;try{if(this[_0x112c8d(0x444)][_0x112c8d(0x1f8)])return await this[_0x112c8d(0x43e)][_0x112c8d(0x198)]({'_id':_0x258df7});}catch{return{};}}},Bt=class extends I{constructor(_0x48e2aa,_0x394ec0){const _0x3d2643=a0_0x10d060;super(_0x394ec0),this[_0x3d2643(0x46b)]=_0x48e2aa,this[_0x3d2643(0x401)]=_0x394ec0,this[_0x3d2643(0x51f)]=_0x394ec0[_0x3d2643(0x5a9)](_0x3d2643(0x309));}async['create'](_0x12b51f,_0x56de96){const _0xc95c83=a0_0x10d060;try{if(this['dbSettings'][_0xc95c83(0x1f8)])return{'insertCount':(await this[_0xc95c83(0x46b)][_0xc95c83(0x251)]({'_id':_0x56de96},{'$set':{..._0x12b51f}},{'upsert':!0x0}))[_0xc95c83(0x639)]};}catch(_0x50f875){return{'error':_0x50f875};}}async['updateAll'](_0x3f0613,_0xb486f9){const _0x2237ca=a0_0x10d060;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this['authModel'][_0x2237ca(0x176)](_0x3f0613,{'$set':_0xb486f9},{'upsert':!0x1}))[_0x2237ca(0x639)]};throw new Error(_0x2237ca(0x74c));}catch(_0x35c749){return{'error':_0x35c749};}}async[a0_0x10d060(0x480)](_0x44f50f){const _0x460ca3=a0_0x10d060;try{if(this[_0x460ca3(0x444)][_0x460ca3(0x1f8)])return{'insertCount':(await this[_0x460ca3(0x46b)][_0x460ca3(0x480)](_0x44f50f))[_0x460ca3(0x430)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x1bd16f){return{'error':_0x1bd16f};}}async[a0_0x10d060(0x3e0)](_0x359491){const _0xf5af7b=a0_0x10d060;try{if(this[_0xf5af7b(0x444)][_0xf5af7b(0x1f8)]){await this['authModel'][_0xf5af7b(0x326)]({'_id':_0x359491});return;}}catch(_0x2c5bc9){return{'error':_0x2c5bc9};}}async[a0_0x10d060(0x5aa)](_0x4b60e6){const _0x25677b=a0_0x10d060;try{if(this[_0x25677b(0x444)]['ENABLED'])return await this['authModel'][_0x25677b(0x198)]({'_id':_0x4b60e6});}catch{return{};}}async[a0_0x10d060(0x135)](){const _0x30b9be=a0_0x10d060;try{if(this[_0x30b9be(0x444)][_0x30b9be(0x1f8)])return await this[_0x30b9be(0x46b)]['find']();}catch{return[];}}},Gt=class extends I{[a0_0x10d060(0x671)](_0x3cd099){return ta(_0x3cd099);}async[a0_0x10d060(0x6b6)](_0x299921){const _0x388f8d=a0_0x10d060;try{let _0x3d3a82=sa,_0x577a7a=this['getFlowModelForOwner'](_0x299921),_0x20f5f3=await _0x3d3a82[_0x388f8d(0x5aa)]({'owner':_0x299921})[_0x388f8d(0x44d)](),_0xb5022c=[],_0x41b63a=[];for(let _0x2dae31 of _0x20f5f3)await _0x577a7a['findById'](_0x2dae31[_0x388f8d(0x372)])[_0x388f8d(0x44d)]()||(_0xb5022c[_0x388f8d(0x549)](_0x2dae31),_0x41b63a['push'](_0x2dae31['_id']));return _0xb5022c[_0x388f8d(0x31a)]>0x0&&await _0x577a7a[_0x388f8d(0x270)](_0xb5022c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5d8eaa){return console[_0x388f8d(0x22d)](_0x388f8d(0x35e),_0x5d8eaa),{'success':!0x1,'error':_0x5d8eaa};}}async[a0_0x10d060(0x3e0)](_0x21c410,_0x238440){const _0x3f49c9=a0_0x10d060;try{let _0x18e529=this['getFlowModelForOwner'](_0x238440),_0x46a8e0=A(_0x21c410[_0x3f49c9(0x5e6)]);return{'deletedCount':(await _0x18e529['deleteMany'](_0x46a8e0))[_0x3f49c9(0x430)]};}catch(_0x3ee4c5){return{'error':_0x3ee4c5?.[_0x3f49c9(0x6d4)]()};}}async[a0_0x10d060(0x326)](_0x122c63,_0x10a4e0){const _0x6a9380=a0_0x10d060;try{let _0x97d878=this['getFlowModelForOwner'](_0x10a4e0),_0x878524=A(_0x122c63[_0x6a9380(0x5e6)]);return{'deletedCount':(await _0x97d878[_0x6a9380(0x326)](_0x878524))['deletedCount']};}catch(_0x5e38ba){return{'error':_0x5e38ba?.[_0x6a9380(0x6d4)]()};}}async['updateOne'](_0xa875ce,_0x567101,_0x5215e4){const _0x35032e=a0_0x10d060;try{return await this[_0x35032e(0x671)](_0x5215e4)[_0x35032e(0x619)](_0xa875ce,_0x567101,{'new':!0x0});}catch(_0x5606c5){return console[_0x35032e(0x22d)](_0x35032e(0x21a),_0x5606c5),null;}}async[a0_0x10d060(0x44c)](_0xf80c5c,_0x30279b){try{let _0x2d9fb6=this['getFlowModelForOwner'](_0x30279b);return await new _0x2d9fb6(_0xf80c5c)['save']();}catch(_0x22209a){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x22209a),null;}}async[a0_0x10d060(0x176)](_0x3cb306,_0x49f88d,_0x6a8349){const _0x33e998=a0_0x10d060;try{return{'modifiedCount':(await this[_0x33e998(0x671)](_0x6a8349)['updateMany'](_0x3cb306,{'$set':_0x49f88d}))['modifiedCount']};}catch(_0xc14991){return console[_0x33e998(0x22d)](_0x33e998(0x6a1),_0xc14991),{'error':_0xc14991};}}async[a0_0x10d060(0x135)](_0x31f947,_0xd9795b){const _0x4d496a=a0_0x10d060;try{let _0x1db7d3=this[_0x4d496a(0x671)](_0xd9795b),_0x1bb565=A(_0x31f947[_0x4d496a(0x5e6)]);return await _0x1db7d3[_0x4d496a(0x5aa)](_0x1bb565)[_0x4d496a(0x2ab)](_0x31f947?.[_0x4d496a(0x2ab)]??0x0)[_0x4d496a(0x44d)]();}catch{return[];}}async[a0_0x10d060(0x198)](_0x1206b3,_0x1bc909){const _0x5146da=a0_0x10d060;try{let _0x131ec7=this[_0x5146da(0x671)](_0x1bc909),_0x3afad4=A(_0x1206b3[_0x5146da(0x5e6)]);return await _0x131ec7['findOne'](_0x3afad4)[_0x5146da(0x44d)]();}catch{return null;}}async[a0_0x10d060(0x20e)](_0x134b16){const _0x1fd9e4=a0_0x10d060;try{return await this[_0x1fd9e4(0x671)](_0x134b16)[_0x1fd9e4(0x711)][_0x1fd9e4(0x64b)](),{'success':!0x0};}catch(_0x356ec5){return console[_0x1fd9e4(0x22d)](_0x356ec5),{'success':!0x1,'error':_0x356ec5};}}},Wt=class extends I{[a0_0x10d060(0x6d5)](_0x163add){return ra(_0x163add);}async['copyDataToNewModel'](_0x152efc){const _0x410bdc=a0_0x10d060;try{let _0x840c2e=oa,_0xf41762=this[_0x410bdc(0x6d5)](_0x152efc),_0x4daef1=await _0x840c2e[_0x410bdc(0x5aa)]({'owner':_0x152efc})[_0x410bdc(0x44d)](),_0xfb054d=[],_0x26ad9b=[];for(let _0x315a8c of _0x4daef1)await _0xf41762[_0x410bdc(0x67d)](_0x315a8c[_0x410bdc(0x372)])[_0x410bdc(0x44d)]()||(_0xfb054d[_0x410bdc(0x549)](_0x315a8c),_0x26ad9b[_0x410bdc(0x549)](_0x315a8c[_0x410bdc(0x372)]));return _0xfb054d[_0x410bdc(0x31a)]>0x0&&await _0xf41762[_0x410bdc(0x270)](_0xfb054d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x56faf7){return console[_0x410bdc(0x22d)](_0x410bdc(0x35e),_0x56faf7),{'success':!0x1,'error':_0x56faf7};}}async[a0_0x10d060(0x71b)](_0xed58f0){const _0x1d4aa4=a0_0x10d060;if(_0xed58f0[_0x1d4aa4(0x31a)]!==0x0)try{return{'insertCount':(await this[_0x1d4aa4(0x6d5)](_0xed58f0[0x0][_0x1d4aa4(0x26f)])[_0x1d4aa4(0x270)]([..._0xed58f0]))[_0x1d4aa4(0x31a)]};}catch(_0x294113){return _0x294113;}}async[a0_0x10d060(0x3e0)](_0x160c2,_0x2a2171){const _0x5129f0=a0_0x10d060;try{let _0x18c876=this[_0x5129f0(0x6d5)](_0x2a2171),_0x107776=A(_0x160c2['where']);return{'deletedCount':(await _0x18c876[_0x5129f0(0x480)](_0x107776))[_0x5129f0(0x430)]};}catch(_0xb72213){return{'error':_0xb72213?.['toString']()};}}async['deleteOne'](_0x2e8762,_0x147d39){const _0x4f473c=a0_0x10d060;try{let _0x40bd95=this[_0x4f473c(0x6d5)](_0x147d39),_0x1d170b=A(_0x2e8762[_0x4f473c(0x5e6)]);return{'deletedCount':(await _0x40bd95[_0x4f473c(0x326)](_0x1d170b))['deletedCount']};}catch(_0x2de19f){return{'error':_0x2de19f?.['toString']()};}}async[a0_0x10d060(0x24c)](_0x4ce4a5,_0x798f19){const _0x1f455f=a0_0x10d060;try{if(_0x4ce4a5[_0x1f455f(0x31a)]===0x0)return;let _0x404990=this[_0x1f455f(0x6d5)](_0x798f19),_0x238e3e=_0x4ce4a5[_0x1f455f(0x606)](_0x156d89=>({'updateOne':{'filter':{'name':_0x156d89['name'],'owner':_0x798f19},'update':{..._0x156d89}}})),{modifiedCount:_0x1b3aec}=await _0x404990[_0x1f455f(0x6a9)](_0x238e3e);return{'insertCount':_0x1b3aec};}catch{return;}}async[a0_0x10d060(0x176)](_0x49bbae,_0x3c0653,_0x5579e3){const _0x1095b7=a0_0x10d060;try{return{'modifiedCount':(await this[_0x1095b7(0x6d5)](_0x5579e3)[_0x1095b7(0x176)](_0x49bbae,{'$set':_0x3c0653}))[_0x1095b7(0x639)]};}catch(_0x2a1a5b){return console['error'](_0x1095b7(0x31e),_0x2a1a5b),{'error':_0x2a1a5b};}}async['updateOne'](_0x320549,_0x47e620,_0x5c1d84){const _0x221928=a0_0x10d060;try{return await this[_0x221928(0x6d5)](_0x5c1d84)[_0x221928(0x47d)]({'_id':_0x320549},{'$set':_0x47e620},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3347cf){return console[_0x221928(0x22d)](_0x3347cf),null;}}async[a0_0x10d060(0x5aa)](_0x29463c,_0x139e7f){const _0x40c790=a0_0x10d060;try{return await this[_0x40c790(0x6d5)](_0x139e7f)[_0x40c790(0x5aa)](_0x29463c)[_0x40c790(0x63e)]({'lastInteraction':-0x1})[_0x40c790(0x44d)]();}catch{return[];}}async[a0_0x10d060(0x198)](_0x340d41,_0x32d4ec){const _0x286eb1=a0_0x10d060;try{return await this[_0x286eb1(0x6d5)](_0x32d4ec)['findOne']({..._0x340d41['where']})[_0x286eb1(0x44d)]();}catch{return null;}}async[a0_0x10d060(0x20e)](_0x301926){const _0x4d745d=a0_0x10d060;try{return await this[_0x4d745d(0x6d5)](_0x301926)[_0x4d745d(0x711)][_0x4d745d(0x64b)](),{'success':!0x0};}catch(_0xb53d0c){return console[_0x4d745d(0x22d)](_0xb53d0c),{'success':!0x1,'error':_0xb53d0c};}}},zt=class extends I{['getScheduleMessageModelForOwner'](_0x1ebc34){return na(_0x1ebc34);}async['copyDataToNewModel'](_0x5779f4){const _0xc95143=a0_0x10d060;try{let _0x4bbac4=ca,_0x2b0153=this['getScheduleMessageModelForOwner'](_0x5779f4),_0x2a4ce0=await _0x4bbac4[_0xc95143(0x5aa)]({'owner':_0x5779f4})[_0xc95143(0x44d)](),_0x2ba88e=[],_0x18f05b=[];for(let _0x2b896e of _0x2a4ce0)await _0x2b0153[_0xc95143(0x67d)](_0x2b896e[_0xc95143(0x372)])[_0xc95143(0x44d)]()||(_0x2ba88e[_0xc95143(0x549)](_0x2b896e),_0x18f05b[_0xc95143(0x549)](_0x2b896e[_0xc95143(0x372)]));return _0x2ba88e[_0xc95143(0x31a)]>0x0&&await _0x2b0153[_0xc95143(0x270)](_0x2ba88e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1994d2){return console['error'](_0xc95143(0x35e),_0x1994d2),{'success':!0x1,'error':_0x1994d2};}}async['createAndSave'](_0x2f9355,_0x12977f){const _0x493158=a0_0x10d060;try{let _0x29593b=this[_0x493158(0x4b4)](_0x12977f);return await new _0x29593b(_0x2f9355)[_0x493158(0x2e4)]();}catch(_0x56da54){return console['error'](_0x493158(0x735),_0x56da54),null;}}async[a0_0x10d060(0x326)](_0x602a00,_0x1a790d){const _0x1c92cf=a0_0x10d060;try{return await this[_0x1c92cf(0x4b4)](_0x1a790d)[_0x1c92cf(0x5ad)](_0x602a00),{};}catch(_0x3df3b9){return{'error':_0x3df3b9?.[_0x1c92cf(0x6d4)]()};}}async[a0_0x10d060(0x251)](_0x34732b,_0x1d3307,_0xa81a77){const _0x320bab=a0_0x10d060;try{return await this[_0x320bab(0x4b4)](_0xa81a77)[_0x320bab(0x47d)](_0x34732b,{'$set':_0x1d3307},{'new':!0x0})[_0x320bab(0x44d)]();}catch(_0x4e9691){return console[_0x320bab(0x22d)](_0x320bab(0x4cf),_0x4e9691),null;}}async['updateOneById'](_0x2b5a6b,_0x101872,_0x246932){const _0x488bee=a0_0x10d060;try{return await this[_0x488bee(0x4b4)](_0x246932)[_0x488bee(0x619)](_0x2b5a6b,_0x101872,{'new':!0x0})[_0x488bee(0x44d)]();}catch(_0x1480b8){return console[_0x488bee(0x22d)](_0x488bee(0x4cf),_0x1480b8),null;}}async['find'](_0x2dea88,_0x4dace){const _0x1ba90f=a0_0x10d060;try{return await this[_0x1ba90f(0x4b4)](_0x4dace)[_0x1ba90f(0x5aa)](_0x2dea88[_0x1ba90f(0x5e6)])[_0x1ba90f(0x2ab)](_0x2dea88?.[_0x1ba90f(0x2ab)]??0x0)[_0x1ba90f(0x63e)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x10d060(0x198)](_0x4bf336,_0x3b0511){const _0x355fdb=a0_0x10d060;try{return await this[_0x355fdb(0x4b4)](_0x3b0511)[_0x355fdb(0x198)](_0x4bf336[_0x355fdb(0x5e6)])[_0x355fdb(0x63e)]({'when':0x1})[_0x355fdb(0x44d)]();}catch{return null;}}async[a0_0x10d060(0x67d)](_0x196968,_0x392402){const _0x17fa9c=a0_0x10d060;try{return await this[_0x17fa9c(0x4b4)](_0x392402)[_0x17fa9c(0x67d)](_0x196968)[_0x17fa9c(0x44d)]();}catch{return null;}}async[a0_0x10d060(0x480)](_0x42b361,_0x2b9678){const _0x2b077e=a0_0x10d060;try{return{'deletedCount':(await this[_0x2b077e(0x4b4)](_0x2b9678)[_0x2b077e(0x480)](_0x42b361))[_0x2b077e(0x430)]};}catch(_0x183d53){return console[_0x2b077e(0x22d)](_0x2b077e(0x6a2),_0x183d53),{'error':_0x183d53};}}async['deleteAll'](_0x2f2e31){const _0x4068fa=a0_0x10d060;try{return await this[_0x4068fa(0x4b4)](_0x2f2e31)[_0x4068fa(0x711)][_0x4068fa(0x64b)](),{'success':!0x0};}catch(_0x102e09){return console[_0x4068fa(0x22d)](_0x102e09),{'success':!0x1,'error':_0x102e09};}}},Ht=class extends I{async['update'](_0x584ea6,_0xf8437e){const _0x54688f=a0_0x10d060;try{if(this['dbSettings']['ENABLED']){let _0x78814=await _e[_0x54688f(0x47d)]({'_id':_0xf8437e},{'$set':_0x584ea6},{'new':!0x0});return console[_0x54688f(0x30d)]('Resultado\x20da\x20atualização:',_0x78814),_0x78814;}}catch(_0x1138f1){throw console[_0x54688f(0x22d)](_0x54688f(0x2ef),_0x1138f1),_0x1138f1;}}async[a0_0x10d060(0x1d2)](_0x39afd3){const _0xea6436=a0_0x10d060;try{let _0x1939e7=await _e['findById'](_0x39afd3);return _0x1939e7||(_0x1939e7=new _e({'_id':_0x39afd3}),await _0x1939e7[_0xea6436(0x2e4)]()),_0x1939e7;}catch(_0x1be010){return console[_0xea6436(0x22d)](_0xea6436(0x477),_0x1be010),null;}}},wo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Mo=new Vt(Qs,b),Co=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Mo,Co,vo,Ro,No,To,Ao,N?.[a0_0x10d060(0x1fd)]()),B=new xt(es,b,ce),Oo=new Ft(b,B,ce),Io=new Jt(B),gs=new qt(Io),T=new jt(B),le=new kt(B,b,ce,es,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo['info'](a0_0x10d060(0x6f3));var gg=require(a0_0x10d060(0x4d4)),Ts=require('fs'),Mr=R(require(a0_0x10d060(0x633))),Cr=R(require(a0_0x10d060(0x140))),Ne=class c{static #e;static set[a0_0x10d060(0x2d9)](_0x568a4c){this.#e=_0x568a4c;}static get[a0_0x10d060(0x633)](){const _0x38abbd=a0_0x10d060;let {FULLCHAIN:_0x512d01,PRIVKEY:_0x46a883}=b['get']('SSL_CONF');return Mr[_0x38abbd(0x1dd)]({'cert':(0x0,Ts[_0x38abbd(0x2ed)])(_0x512d01),'key':(0x0,Ts[_0x38abbd(0x2ed)])(_0x46a883)},c.#e);}static get[a0_0x10d060(0x140)](){const _0x1acd6e=a0_0x10d060;return Cr[_0x1acd6e(0x1dd)](c.#e);}},de=R(require('fs')),Or=R(require('ini')),Re=R(require(a0_0x10d060(0x590))),Ae=R(require(a0_0x10d060(0x4b0))),Oe=require(a0_0x10d060(0x4ed));function Do(){const _0x490f5f=a0_0x10d060;B[_0x490f5f(0x3cf)]();let _0xcad71a=Ae[_0x490f5f(0x6bb)][_0x490f5f(0x535)](__dirname,_0x490f5f(0x586));Ar(_0xcad71a);}var Ar=_0x59cd92=>{const _0x46546e=a0_0x10d060;let _0x5bef2e=de[_0x46546e(0x6bb)][_0x46546e(0x339)](_0x59cd92),_0x34399c=0xc*0x3c*0x3c*0x3e8,_0xc5148b=0x2*0x3c*0x3c*0x3e8,_0x95c5de=new Date()[_0x46546e(0x489)]();_0x5bef2e[_0x46546e(0x311)](_0x245566=>{const _0x1819a9=_0x46546e;let _0x56906e=Ae[_0x1819a9(0x6bb)][_0x1819a9(0x535)](_0x59cd92,_0x245566),_0x5c0b2e=de[_0x1819a9(0x6bb)]['statSync'](_0x56906e)['birthtime']['getTime']();_0x95c5de-_0x5c0b2e>_0x34399c&&(de['default'][_0x1819a9(0x6a8)](_0x56906e),console[_0x1819a9(0x30d)](_0x1819a9(0x1a3)+_0x245566));}),setTimeout(()=>Ar(_0x59cd92),_0xc5148b);};function xo(){const _0x3bf38e=a0_0x10d060;let _0xfb7599=new v(_0x3bf38e(0x49e)),_0x25c80e=(0x0,pe[_0x3bf38e(0x6bb)])();_0x25c80e[_0x3bf38e(0x4c3)]((0x0,Tr[_0x3bf38e(0x6bb)])({'origin'(_0x5420a8,_0x36e813){const _0x1282f5=_0x3bf38e;let {ORIGIN:_0x18538b}=b[_0x1282f5(0x5a9)](_0x1282f5(0x5c8));return _0x5420a8||(_0x5420a8='*'),_0x18538b['indexOf']('*')!==-0x1||_0x18538b[_0x1282f5(0x2fd)](_0x5420a8)!==-0x1?_0x36e813(null,!0x0):_0x36e813(new Error(_0x1282f5(0x57c)));},'methods':[...b[_0x3bf38e(0x5a9)]('CORS')['METHODS']],'credentials':b['get']('CORS')[_0x3bf38e(0x63f)]}),(0x0,pe[_0x3bf38e(0x460)])({'extended':!0x0,'limit':_0x3bf38e(0x602)}),(0x0,pe[_0x3bf38e(0x2c1)])({'limit':_0x3bf38e(0x602)})),_0x25c80e[_0x3bf38e(0x4c3)]((_0x7d0e3d,_0x1c75e3,_0x484ed7)=>{const _0x2526e4=_0x3bf38e;_0x7d0e3d[_0x2526e4(0x4b0)][_0x2526e4(0x366)](_0x2526e4(0x620))?_0x484ed7():(0x0,Rr[_0x2526e4(0x6bb)])()(_0x7d0e3d,_0x1c75e3,_0x484ed7);}),_0x25c80e[_0x3bf38e(0x350)](_0x3bf38e(0x212),_0x3bf38e(0x504)),_0x25c80e[_0x3bf38e(0x350)](_0x3bf38e(0x744),(0x0,Os[_0x3bf38e(0x535)])(ae,_0x3bf38e(0x744))),_0x25c80e['use'](pe[_0x3bf38e(0x6bb)][_0x3bf38e(0x230)]((0x0,Os[_0x3bf38e(0x535)])(ae,'public'))),_0x25c80e[_0x3bf38e(0x4c3)]((_0x1b16a7,_0x4ad198,_0x5fde0)=>{const _0x250a8e=_0x3bf38e;let _0x5a0085=_0x4ad198[_0x250a8e(0x6d0)];_0x4ad198[_0x250a8e(0x6d0)]=function(_0x16eea1){const _0x52e630=_0x250a8e;if(_0x1b16a7['query']['convert']===_0x52e630(0x21f)||_0x1b16a7['headers'][_0x52e630(0x346)]===_0x52e630(0x21f)){let _0x10e3fe=JSON[_0x52e630(0x4b3)](_0x16eea1);_0x16eea1=JSON[_0x52e630(0x49d)](_0x141c9e(_0x10e3fe));}return _0x5a0085[_0x52e630(0x643)](_0x4ad198,[_0x16eea1]);},_0x5fde0();}),_0x25c80e[_0x3bf38e(0x4c3)]('/',vt),_0x25c80e[_0x3bf38e(0x4c3)]((_0x161f62,_0x5ba3cd,_0x1cc64c,_0x535efb)=>{const _0x39f2a3=_0x3bf38e;if(_0x161f62)return _0x1cc64c['status'](_0x161f62[_0x39f2a3(0x5c1)]||0x1f4)['json'](_0x161f62);},(_0x3c5cd6,_0xd333b5,_0x208274)=>{const _0x34e339=_0x3bf38e;let {method:_0x39ae4e,url:_0x39abb2}=_0x3c5cd6;_0xd333b5['status'](0x194)['json']({'status':0x194,'message':_0x34e339(0x645)+_0x39ae4e[_0x34e339(0x2f0)]()+'\x20'+_0x39abb2,'error':_0x34e339(0x6ce)}),_0x208274();});let _0x141c9e=(_0x2b911c,_0x525910=_0x3bf38e(0x3ad))=>{const _0xe63232=_0x3bf38e;let _0x5d80bb=(_0x4818d4,_0xb80557=null,_0x14ae37=!0x1)=>{const _0x33eaf3=a0_0x434c;let _0x22ae9f={};return Object[_0x33eaf3(0x428)](_0x4818d4)['forEach'](_0x5aac3d=>{const _0x24f1a5=_0x33eaf3;let _0x1297e2=_0x4818d4[_0x5aac3d],_0x1b568c=''+_0x525910+_0x5aac3d;_0xb80557&&!_0x14ae37&&(_0x1b568c=_0xb80557+'.'+_0x5aac3d),!_0x1297e2&&_0x1297e2!==0x0&&_0x1297e2!==!0x1||typeof _0x1297e2>'u'?_0x22ae9f[_0x1b568c]=null:typeof _0x1297e2!=_0x24f1a5(0x74d)&&!Array[_0x24f1a5(0x229)](_0x1297e2)?_0x22ae9f[_0x1b568c]=_0x1297e2:typeof _0x1297e2==_0x24f1a5(0x74d)&&!Array[_0x24f1a5(0x229)](_0x1297e2)?_0x22ae9f=Object[_0x24f1a5(0x6af)](_0x22ae9f,_0x5d80bb(_0x1297e2,_0x1b568c)):Array['isArray'](_0x1297e2)&&(typeof _0x1297e2[0x0]==_0x24f1a5(0x74d)?(_0x22ae9f[_0x1b568c]=[],_0x1297e2[_0x24f1a5(0x311)](_0x54a45d=>{const _0x56f41c=_0x24f1a5;_0x22ae9f[_0x1b568c][_0x56f41c(0x549)](_0x5d80bb(_0x54a45d,_0x1b568c,!0x0));})):_0x22ae9f[_0x1b568c]=_0x1297e2);}),_0x22ae9f;};return Array['isArray'](_0x2b911c)?_0x2b911c[_0xe63232(0x606)](_0x115a36=>_0x5d80bb(_0x115a36)):typeof _0x2b911c=='object'&&_0x2b911c!==null?_0x5d80bb(_0x2b911c):{};},_0x46bbb3=b[_0x3bf38e(0x5a9)](_0x3bf38e(0x49e));Ne['app']=_0x25c80e;let _0x3bcdbc=Ne[_0x46bbb3['TYPE']],_0x22c0df=_0x3bf38e(0x23a);_0x3bcdbc[_0x3bf38e(0x356)](_0x46bbb3['PORT'],()=>{const _0x4e157b=_0x3bf38e;_0xfb7599[_0x4e157b(0x30d)](_0x22c0df),_0xfb7599[_0x4e157b(0x30d)](_0x46bbb3[_0x4e157b(0x467)][_0x4e157b(0x2f0)]()+_0x4e157b(0x6df)+_0x46bbb3[_0x4e157b(0x4ac)]);}),Do(),Us();}var Po='https://github.com/uazapi/uazapi.git',_o=Ae['default']['join'](__dirname,a0_0x10d060(0x2f3)),Te=null;function $o(){return new Promise((_0x5acbb2,_0x381a7d)=>{const _0x308fda=a0_0x434c;de[_0x308fda(0x6bb)][_0x308fda(0x66f)](_o,_0x308fda(0x21d),(_0x570e65,_0x4329e9)=>{const _0x3d8da0=_0x308fda;if(_0x570e65){Te=_0x570e65,_0x5acbb2();return;}Or[_0x3d8da0(0x6bb)]['parse'](_0x4329e9)[_0x3d8da0(0x3c4)][_0x3d8da0(0x1c5)]===Po?(Te=null,_0x5acbb2()):(Te=new Error(_0x3d8da0(0x4fa)),_0x5acbb2());});});}async function ko(){const _0x3a7053=a0_0x10d060;try{await $o(),await Is();}catch(_0x5ed59c){console[_0x3a7053(0x22d)](_0x3a7053(0x3dc)+_0x5ed59c),process[_0x3a7053(0x331)](0x1);}}ko();async function Ir(){const _0x287c5c=a0_0x10d060;let _0x3f3973;try{_0x3f3973=(await Re[_0x287c5c(0x6bb)][_0x287c5c(0x5a9)](_0x287c5c(0x2ee)))[_0x287c5c(0x533)]['ip'];}catch(_0x29eafb){console[_0x287c5c(0x22d)](_0x29eafb);try{_0x3f3973=(await Re['default']['get'](_0x287c5c(0x156)))[_0x287c5c(0x533)]['ip'];}catch(_0x9eeb62){console['error'](_0x9eeb62);try{_0x3f3973=(await Re[_0x287c5c(0x6bb)][_0x287c5c(0x5a9)](_0x287c5c(0x259)))[_0x287c5c(0x533)][_0x287c5c(0x47a)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x33e7d4){return console['error'](_0x33e7d4),!0x1;}}}return _0x3f3973;}var vr=0x0;async function Lo(){const _0x31c83b=a0_0x10d060;let _0x2b817d=await new re(b[_0x31c83b(0x5a9)](_0x31c83b(0x6b5)))['instanceKeys']();return console[_0x31c83b(0x30d)]('instancias:\x20',_0x2b817d[_0x31c83b(0x31a)]),_0x2b817d[_0x31c83b(0x31a)];}function Fo(_0x19af29){const _0x3a71c0=a0_0x10d060;let _0x598959=_0x19af29[_0x3a71c0(0x5a9)](_0x3a71c0(0x49e))[_0x3a71c0(0x5fb)],_0x17a6df=_0x19af29[_0x3a71c0(0x5a9)](_0x3a71c0(0x687)),_0x1b33cd;if(_0x598959){let _0x8ab7e7=_0x598959[_0x3a71c0(0x47a)](/\/\/(.*?)\./);_0x8ab7e7&&_0x8ab7e7[0x1]&&(_0x1b33cd=_0x8ab7e7[0x1]);}if(!_0x1b33cd&&_0x17a6df&&_0x17a6df[_0x3a71c0(0x378)]){let _0x50e4b4=_0x17a6df[_0x3a71c0(0x378)]['split']('/'),_0x60e98c=_0x50e4b4[_0x50e4b4[_0x3a71c0(0x31a)]-0x2];if(_0x60e98c){let _0x31502a=_0x60e98c[_0x3a71c0(0x503)]('.');_0x31502a[_0x3a71c0(0x31a)]>0x2&&(_0x1b33cd=_0x31502a[0x0]);}}return _0x1b33cd;}var vs=Fo(b);async function Uo(){const _0x4dc6ab=a0_0x10d060;let _0x213725=b[_0x4dc6ab(0x5a9)]('REDIS'),_0xd4071b=b['get'](_0x4dc6ab(0x309))['API_KEY'][_0x4dc6ab(0x261)],_0x256c46=b['get']('SSL_CONF'),_0x226819=await Ir(),_0x358fb6=b[_0x4dc6ab(0x5a9)](_0x4dc6ab(0x49e))[_0x4dc6ab(0x4ac)],_0xeec8c1=b[_0x4dc6ab(0x5a9)](_0x4dc6ab(0x49e))['URL'];try{let _0x400f7c={'ip':_0x226819||null,'redis_enable':_0x213725?.[_0x4dc6ab(0x1f8)]||null,'apikey':_0xd4071b||null,'ssl':_0x256c46?.[_0x4dc6ab(0x286)]||null,'lastupdate':Dr||null,'port':_0x358fb6||null,'gitInstallError':Te?.[_0x4dc6ab(0x3d4)]||null,'url':_0xeec8c1||null};if(console[_0x4dc6ab(0x30d)]('ip:\x20',_0x400f7c['ip']),_0x213725&&_0x213725['ENABLED']){let _0x2d2041=await Lo();_0x400f7c[_0x4dc6ab(0x14e)]=_0x2d2041||null;}for(let _0x3ac243 in _0x400f7c)_0x400f7c[_0x4dc6ab(0x6e5)](_0x3ac243)&&_0x3ac243!=='ip'&&(_0x400f7c[_0x3ac243]=JSON[_0x4dc6ab(0x49d)](_0x400f7c[_0x3ac243]));return(await Re[_0x4dc6ab(0x6bb)][_0x4dc6ab(0x308)](_0x4dc6ab(0x2f8),_0x400f7c))[_0x4dc6ab(0x533)];}catch(_0x4dda90){return console[_0x4dc6ab(0x22d)](_0x4dda90),!0x1;}}var As=!0x1,Dr=0x21f,Jo=0x3,Nr=0x1b7740;async function Is(){const _0x3dd2ce=a0_0x10d060;if(!await Ir())return console[_0x3dd2ce(0x22d)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),'NO_IP';let _0x25da13=await Uo();if(_0x25da13){if(_0x25da13[_0x3dd2ce(0x392)][_0x3dd2ce(0x4dc)]===!0x0){b[_0x3dd2ce(0x5a9)]('SSL_CONF')[_0x3dd2ce(0x286)][_0x3dd2ce(0x23d)](_0x3dd2ce(0x554))&&_0x25da13[_0x3dd2ce(0x392)][_0x3dd2ce(0x1c3)]&&(await Vo(_0x25da13[_0x3dd2ce(0x392)][_0x3dd2ce(0x1c3)],qo),await Bo(_0x3dd2ce(0x353),_0x25da13[_0x3dd2ce(0x392)][_0x3dd2ce(0x1c3)]),console[_0x3dd2ce(0x30d)](_0x3dd2ce(0x1e0)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x25da13['response'][_0x3dd2ce(0x616)]-Dr>0x0&&await jo(),As||(As=!0x0,xo());let _0x580817=0x24*0x3c*0x3c,_0x4fabd5=_0x25da13[_0x3dd2ce(0x392)][_0x3dd2ce(0x57a)]>_0x580817?_0x580817:_0x25da13[_0x3dd2ce(0x392)]['segundos'],_0x3ba7ff=Number(_0x4fabd5);if(isNaN(_0x3ba7ff)){console[_0x3dd2ce(0x22d)](_0x3dd2ce(0x303));return;}let _0x22bc0e=Math[_0x3dd2ce(0x19b)](_0x3ba7ff/0xe10),_0x313fee=Math[_0x3dd2ce(0x19b)](_0x3ba7ff%0xe10/0x3c),_0xd8e10b=new Date(Date[_0x3dd2ce(0x27f)]()+_0x3ba7ff*0x3e8);setTimeout(Is,_0x3ba7ff*0x3e8);let _0x16b2c4=_0x38a275=>_0x38a275[_0x3dd2ce(0x6d4)]()[_0x3dd2ce(0x342)](0x2,'0'),_0x514998=_0x3dd2ce(0x52b)+_0x16b2c4(_0x22bc0e)+'\x20horas\x20e\x20'+_0x16b2c4(_0x313fee)+_0x3dd2ce(0x28c)+_0x16b2c4(_0xd8e10b[_0x3dd2ce(0x395)]())+':'+_0x16b2c4(_0xd8e10b[_0x3dd2ce(0x515)]())+'.';console[_0x3dd2ce(0x30d)](_0x514998);}else return console[_0x3dd2ce(0x30d)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),As&&(console['log'](_0x3dd2ce(0x4ec)),process[_0x3dd2ce(0x331)]()),_0x3dd2ce(0x249);}else{if(vr++,vr<Jo)console['log'](_0x3dd2ce(0x6dd)+Nr/0xea60+_0x3dd2ce(0x27b)),setTimeout(Is,Nr);else return console['error'](_0x3dd2ce(0x1e3)),'SERVER_OFFLINE';}}async function jo(){const _0x5784db=a0_0x10d060;console[_0x5784db(0x30d)](_0x5784db(0x31b));let _0xc655e9=(0x0,Oe[_0x5784db(0x20c)])(_0x5784db(0x5a7),{'shell':!0x0});_0xc655e9['stdout']['on'](_0x5784db(0x533),_0x45a543=>{const _0x4626a7=_0x5784db;console[_0x4626a7(0x30d)](_0x4626a7(0x4ef)+_0x45a543);}),_0xc655e9[_0x5784db(0x1e7)]['on'](_0x5784db(0x533),_0x29788e=>{const _0x3caa9d=_0x5784db;console[_0x3caa9d(0x22d)]('Erro\x20de\x20atualização:\x20'+_0x29788e);}),_0xc655e9['on'](_0x5784db(0x331),_0x4d11fd=>{const _0x2e52ef=_0x5784db;_0x4d11fd!==0x0?console[_0x2e52ef(0x22d)](_0x2e52ef(0x218)+_0x4d11fd):console[_0x2e52ef(0x30d)](_0x2e52ef(0x4a4)),console[_0x2e52ef(0x30d)](_0x2e52ef(0x6cf)),setTimeout(()=>process[_0x2e52ef(0x331)](),0x2710);});}var qo=Ae[a0_0x10d060(0x6bb)][a0_0x10d060(0x535)](__dirname,'env.yml');async function Vo(_0x142143,_0x5440a2){const _0x1970ca=a0_0x10d060;let _0x1d286b=Go();_0x142143=_0x142143['replace'](_0x1970ca(0x411),'');try{let _0x31ad9a=de['default']['readFileSync'](_0x5440a2,_0x1970ca(0x740));_0x31ad9a=_0x31ad9a['replace'](/<apikey>/,_0x1d286b),_0x31ad9a=_0x31ad9a[_0x1970ca(0x63c)](/<subdomain>/g,_0x142143),de[_0x1970ca(0x6bb)]['writeFileSync'](_0x5440a2,_0x31ad9a,_0x1970ca(0x740)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x4dfc31){console['error'](_0x1970ca(0x13f),_0x4dfc31);}}function Bo(_0x34c3c6,_0x3a6dd8){return new Promise((_0x1a06ae,_0x130727)=>{const _0x56dd56=a0_0x434c;let _0x2e598e=(0x0,Oe[_0x56dd56(0x20c)])(_0x56dd56(0x449),[_0x56dd56(0x1c2),_0x56dd56(0x466),'-m',_0x34c3c6,_0x56dd56(0x4c8),'-d',_0x3a6dd8]);_0x2e598e['stdout']['on'](_0x56dd56(0x533),_0x5c5409=>{const _0x40a764=_0x56dd56;console['log']('Certbot:\x20'+_0x5c5409[_0x40a764(0x6d4)]());}),_0x2e598e[_0x56dd56(0x1e7)]['on'](_0x56dd56(0x533),_0x5248b1=>{const _0x558699=_0x56dd56;console[_0x558699(0x22d)](_0x558699(0x3e2)+_0x5248b1[_0x558699(0x6d4)]());}),_0x2e598e['on'](_0x56dd56(0x68a),_0x9aeaa1=>{const _0x1ccd26=_0x56dd56;_0x9aeaa1!==0x0?(console[_0x1ccd26(0x22d)](_0x1ccd26(0x3bd)+_0x9aeaa1),_0x130727(_0x1ccd26(0x3bd)+_0x9aeaa1)):(console['log'](_0x1ccd26(0x562)),_0x1a06ae());});});}function Go(_0x24d7ae=0x32){const _0x3ca009=a0_0x10d060;let _0x5e75d3=_0x3ca009(0x3c6),_0x7bcd9f='';for(let _0x34c543=0x0;_0x34c543<_0x24d7ae;_0x34c543++)_0x7bcd9f+=_0x5e75d3[_0x3ca009(0x65e)](Math[_0x3ca009(0x19b)](Math['random']()*_0x5e75d3[_0x3ca009(0x31a)]));return _0x7bcd9f;}function Wo(){const _0xe768c=a0_0x10d060;(0x0,Oe[_0xe768c(0x3c1)])('shutdown\x20-r\x20now',(_0x58a155,_0x17ad2e,_0x131953)=>{const _0x4987dd=_0xe768c;if(_0x58a155){console['error']('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x58a155);return;}if(_0x131953){console[_0x4987dd(0x22d)](_0x4987dd(0x5ae)+_0x131953);return;}console[_0x4987dd(0x30d)](_0x4987dd(0x71c)+_0x17ad2e);});}0x0&&(module['exports']={'subdomain':subdomain});