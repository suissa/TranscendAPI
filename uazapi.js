const a0_0x2aad5a=a0_0x50e5;(function(_0x585179,_0x18e318){const _0x53aee5=a0_0x50e5,_0x200dae=_0x585179();while(!![]){try{const _0x535cbd=-parseInt(_0x53aee5(0x2b3))/0x1*(parseInt(_0x53aee5(0x1d0))/0x2)+-parseInt(_0x53aee5(0x5a3))/0x3*(-parseInt(_0x53aee5(0x4a5))/0x4)+parseInt(_0x53aee5(0x324))/0x5*(parseInt(_0x53aee5(0x422))/0x6)+parseInt(_0x53aee5(0x598))/0x7*(-parseInt(_0x53aee5(0x29a))/0x8)+parseInt(_0x53aee5(0x29d))/0x9*(-parseInt(_0x53aee5(0x592))/0xa)+-parseInt(_0x53aee5(0x49b))/0xb*(-parseInt(_0x53aee5(0x4bd))/0xc)+parseInt(_0x53aee5(0x447))/0xd;if(_0x535cbd===_0x18e318)break;else _0x200dae['push'](_0x200dae['shift']());}catch(_0x15e263){_0x200dae['push'](_0x200dae['shift']());}}}(a0_0x7188,0x5568a));var Uo=Object[a0_0x2aad5a(0x6c2)],Bs=Object[a0_0x2aad5a(0x168)],Vo=Object[a0_0x2aad5a(0x1d6)],jo=Object[a0_0x2aad5a(0x5bc)],Bo=Object[a0_0x2aad5a(0x1ee)],Fo=Object[a0_0x2aad5a(0x2ce)][a0_0x2aad5a(0x6e9)],Jo=(_0x55a3b1,_0x1fb229,_0x226fda,_0x2fa16e)=>{const _0x1014bb=a0_0x2aad5a;if(_0x1fb229&&typeof _0x1fb229==_0x1014bb(0x3a6)||typeof _0x1fb229==_0x1014bb(0x5f8)){for(let _0x18a823 of jo(_0x1fb229))!Fo['call'](_0x55a3b1,_0x18a823)&&_0x18a823!==_0x226fda&&Bs(_0x55a3b1,_0x18a823,{'get':()=>_0x1fb229[_0x18a823],'enumerable':!(_0x2fa16e=Vo(_0x1fb229,_0x18a823))||_0x2fa16e['enumerable']});}return _0x55a3b1;},T=(_0xada1a,_0x25b04e,_0xe369c7)=>(_0xe369c7=_0xada1a!=null?Uo(Bo(_0xada1a)):{},Jo(_0x25b04e||!_0xada1a||!_0xada1a[a0_0x2aad5a(0x3c7)]?Bs(_0xe369c7,'default',{'value':_0xada1a,'enumerable':!0x0}):_0xe369c7,_0xada1a)),Do=T(require(a0_0x2aad5a(0x39b))),Js=require('fs'),Gs=require(a0_0x2aad5a(0x193)),qs=require(a0_0x2aad5a(0x736)),Ue=require(a0_0x2aad5a(0x736)),Y=process['cwd'](),j=(0x0,Ue[a0_0x2aad5a(0x4c3)])(Y,a0_0x2aad5a(0x710)),Fs=(0x0,Ue[a0_0x2aad5a(0x4c3)])(Y,a0_0x2aad5a(0x53a)),es=(0x0,Ue['join'])(Y,a0_0x2aad5a(0x629),a0_0x2aad5a(0x1ca)),Ws=require(a0_0x2aad5a(0x2c4)),ts=class{constructor(){const _0x11b6de=a0_0x2aad5a;this[_0x11b6de(0x6a7)]();}['get'](_0xcf3cb8){const _0x2ae0f5=a0_0x2aad5a;return this[_0x2ae0f5(0x4b4)][_0xcf3cb8];}[a0_0x2aad5a(0x6a7)](){const _0x49d162=a0_0x2aad5a;this[_0x49d162(0x4b4)]=process['env']?.[_0x49d162(0x1ce)]!=='true'?this[_0x49d162(0x20f)]():this[_0x49d162(0x3ed)](),this[_0x49d162(0x4b4)]['PRODUCTION']=process[_0x49d162(0x4b4)]?.['NODE_ENV']==='PROD',process[_0x49d162(0x4b4)]?.[_0x49d162(0x1ce)]===_0x49d162(0x3bd)&&(this[_0x49d162(0x4b4)][_0x49d162(0x614)][_0x49d162(0x4de)]='http',this[_0x49d162(0x4b4)][_0x49d162(0x614)][_0x49d162(0x4df)]=Number['parseInt'](process[_0x49d162(0x4b4)]?.[_0x49d162(0x4ce)]??'8080'));}['envYaml'](){const _0x34e1e6=a0_0x2aad5a;return(0x0,Gs[_0x34e1e6(0x294)])((0x0,Js['readFileSync'])((0x0,qs[_0x34e1e6(0x4c3)])(Fs,_0x34e1e6(0x320)),{'encoding':'utf-8'}));}[a0_0x2aad5a(0x3ed)](){const _0x1d5015=a0_0x2aad5a;return{'SERVER':{'TYPE':process['env'][_0x1d5015(0x22e)],'PORT':Number[_0x1d5015(0x5c3)](process[_0x1d5015(0x4b4)][_0x1d5015(0x4ce)])},'CORS':{'ORIGIN':process[_0x1d5015(0x4b4)][_0x1d5015(0x605)][_0x1d5015(0x210)](','),'METHODS':process[_0x1d5015(0x4b4)][_0x1d5015(0x37e)][_0x1d5015(0x210)](','),'CREDENTIALS':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x543)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x606)],'FULLCHAIN':process['env']?.[_0x1d5015(0x551)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1d5015(0x2ca)](process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x377)])?Number[_0x1d5015(0x5c3)](process[_0x1d5015(0x4b4)][_0x1d5015(0x377)]):void 0x0,'MESSAGES':process[_0x1d5015(0x4b4)]?.['STORE_MESSAGE']===_0x1d5015(0x3bd),'CONTACTS':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x558)]===_0x1d5015(0x3bd),'CHATS':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x25a)]===_0x1d5015(0x3bd)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x354)],'PORT':Number['parseInt'](process['env']?.[_0x1d5015(0x354)]),'USER':process['env'][_0x1d5015(0x481)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x1d5015(0x4b4)][_0x1d5015(0x1d2)],'DB_PREFIX_NAME':process[_0x1d5015(0x4b4)][_0x1d5015(0x618)]},'ENABLED':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x312)]===_0x1d5015(0x3bd)},'REDIS':{'ENABLED':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x3ca)]===_0x1d5015(0x3bd),'URI':process[_0x1d5015(0x4b4)][_0x1d5015(0x1af)],'PREFIX_KEY':process[_0x1d5015(0x4b4)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x281)]['split'](','),'COLOR':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x707)]===_0x1d5015(0x3bd)},'DEL_INSTANCE':(0x0,Ws['isBooleanString'])(process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x494)])?process['env'][_0x1d5015(0x494)]===_0x1d5015(0x3bd):Number[_0x1d5015(0x5c3)](process[_0x1d5015(0x4b4)][_0x1d5015(0x494)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x1d5015(0x4b4)]['WEBHOOK_MAP']?process['env'][_0x1d5015(0x1c0)]===_0x1d5015(0x3bd):!0x1,'GLOBAL':{'URL':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x367)],'ENABLED':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x701)]===_0x1d5015(0x3bd)},'EVENTS':{'STATUS_INSTANCE':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x21c)]===_0x1d5015(0x3bd),'QRCODE_UPDATED':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x552)]==='true','MESSAGES_SET':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x6bd)]===_0x1d5015(0x3bd),'MESSAGES_UPSERT':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x31c)]==='true','MESSAGES_UPDATE':process['env']?.[_0x1d5015(0x4f3)]===_0x1d5015(0x3bd),'SEND_MESSAGE':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x62e)]===_0x1d5015(0x3bd),'CONTACTS_SET':process['env']?.[_0x1d5015(0x6b3)]===_0x1d5015(0x3bd),'CONTACTS_UPDATE':process['env']?.[_0x1d5015(0x517)]===_0x1d5015(0x3bd),'CONTACTS_UPSERT':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x18e)]===_0x1d5015(0x3bd),'PRESENCE_UPDATE':process['env']?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x1d5015(0x3bd),'CHATS_SET':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x526)]===_0x1d5015(0x3bd),'CHATS_UPDATE':process['env']?.[_0x1d5015(0x257)]===_0x1d5015(0x3bd),'CHATS_UPSERT':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x67c)]===_0x1d5015(0x3bd),'CHATS_DELETE':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x636)]==='true','CONNECTION_UPDATE':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x597)]===_0x1d5015(0x3bd),'GROUPS_UPSERT':process[_0x1d5015(0x4b4)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x1d5015(0x3bd),'GROUP_UPDATE':process['env']?.[_0x1d5015(0x2d6)]==='true','GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x1d5015(0x3b5)]===_0x1d5015(0x3bd),'NEW_JWT_TOKEN':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x71c)]===_0x1d5015(0x3bd)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x1d5015(0x4b4)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x1d5015(0x20c),'NAME':process['env']?.[_0x1d5015(0x277)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x1d5015(0x5c3)](process['env'][_0x1d5015(0x51c)])||0x5},'TRIAL_AD':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x2cc)],'TRIAL_INSTANCE_NAME':process['env']?.['TRIAL_INSTANCE_NAME'],'AUTOUPDATE':process['env']?.['AUTOUPDATE']===_0x1d5015(0x3bd),'PHONE':process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x50b)],'AUTHENTICATION':{'TYPE':process[_0x1d5015(0x4b4)][_0x1d5015(0x379)],'API_KEY':{'KEY':process[_0x1d5015(0x4b4)][_0x1d5015(0x67e)]},'JWT':{'EXPIRIN_IN':Number[_0x1d5015(0x2ca)](process[_0x1d5015(0x4b4)]?.[_0x1d5015(0x3f3)])?Number[_0x1d5015(0x5c3)](process['env'][_0x1d5015(0x3f3)]):0xe10,'SECRET':process[_0x1d5015(0x4b4)][_0x1d5015(0x282)]}}};}},y=new ts(),Po=T(require(a0_0x2aad5a(0x74a))),me=T(require('express')),ks=require('path'),ss=T(require(a0_0x2aad5a(0x2c2))),as=(_0x5e280f=>(_0x5e280f[a0_0x2aad5a(0x750)]=a0_0x2aad5a(0x1b3),_0x5e280f[a0_0x2aad5a(0x46d)]='\x1b[34m',_0x5e280f[a0_0x2aad5a(0x5d9)]=a0_0x2aad5a(0x2a2),_0x5e280f[a0_0x2aad5a(0x6a0)]=a0_0x2aad5a(0x49f),_0x5e280f[a0_0x2aad5a(0x30a)]=a0_0x2aad5a(0x5a6),_0x5e280f[a0_0x2aad5a(0x1bf)]='\x1b[37m',_0x5e280f[a0_0x2aad5a(0x65d)]='\x1b[30m',_0x5e280f))(as||{}),Hs=(_0x3e22af=>(_0x3e22af['LOG']='\x1b[32m%s\x1b[0m',_0x3e22af['DARK']=a0_0x2aad5a(0x53e),_0x3e22af[a0_0x2aad5a(0x46d)]='\x1b[34m%s\x1b[0m',_0x3e22af[a0_0x2aad5a(0x5d9)]=a0_0x2aad5a(0x167),_0x3e22af[a0_0x2aad5a(0x6a0)]=a0_0x2aad5a(0x3ae),_0x3e22af[a0_0x2aad5a(0x30a)]='\x1b[36m%s\x1b[0m',_0x3e22af[a0_0x2aad5a(0x1bf)]='\x1b[37m%s\x1b[0m',_0x3e22af))(Hs||{}),Ks=(_0x5d52b3=>(_0x5d52b3[a0_0x2aad5a(0x750)]=a0_0x2aad5a(0x750),_0x5d52b3['WARN']=a0_0x2aad5a(0x5d9),_0x5d52b3[a0_0x2aad5a(0x46d)]=a0_0x2aad5a(0x46d),_0x5d52b3[a0_0x2aad5a(0x65d)]='DARK',_0x5d52b3[a0_0x2aad5a(0x6a0)]=a0_0x2aad5a(0x6a0),_0x5d52b3[a0_0x2aad5a(0x30a)]=a0_0x2aad5a(0x30a),_0x5d52b3[a0_0x2aad5a(0x1bf)]=a0_0x2aad5a(0x1bf),_0x5d52b3))(Ks||{}),zs=(_0x16adff=>(_0x16adff['LOG']=a0_0x2aad5a(0x62f),_0x16adff[a0_0x2aad5a(0x46d)]='\x1b[44m',_0x16adff[a0_0x2aad5a(0x5d9)]='\x1b[43m',_0x16adff[a0_0x2aad5a(0x65d)]=a0_0x2aad5a(0x576),_0x16adff[a0_0x2aad5a(0x6a0)]=a0_0x2aad5a(0x738),_0x16adff[a0_0x2aad5a(0x30a)]=a0_0x2aad5a(0x2e7),_0x16adff[a0_0x2aad5a(0x1bf)]=a0_0x2aad5a(0x2b9),_0x16adff))(zs||{}),C=class{constructor(_0x46690b=a0_0x2aad5a(0x3dd)){const _0x3ab591=a0_0x2aad5a;this['context']=_0x46690b,this[_0x3ab591(0x231)]=y;}[a0_0x2aad5a(0x303)](_0x50a9dc){this['context']=_0x50a9dc;}[a0_0x2aad5a(0x403)](_0xd7e785,_0x9abe8a){const _0x3a065a=a0_0x2aad5a;let _0x11229b=[];this['configService'][_0x3a065a(0x6e1)](_0x3a065a(0x750))[_0x3a065a(0x708)][_0x3a065a(0x44d)](_0xd1bbe=>_0x11229b[_0x3a065a(0x338)](Ks[_0xd1bbe]));let _0x543b45=typeof _0xd7e785;_0x11229b['includes'](_0x9abe8a)&&(y[_0x3a065a(0x6e1)](_0x3a065a(0x750))['COLOR']?(console[_0x3a065a(0x4d0)]('\x1b[1m'+Hs[_0x9abe8a],'\x1b[1m\x1b[37m',(0x0,ss['default'])()[_0x3a065a(0x73a)]('DD/MM\x20HH:mm:ss'),_0x3a065a(0x358),as[_0x9abe8a]+zs[_0x9abe8a]+_0x3a065a(0x627),_0x9abe8a+_0x3a065a(0x2ea),_0x3a065a(0x6ac),this[_0x3a065a(0x242)]+_0x3a065a(0x358),as[_0x9abe8a],_0x543b45!==_0x3a065a(0x3a6)?_0xd7e785:'',_0x3a065a(0x358)),_0x543b45===_0x3a065a(0x3a6)&&console[_0x3a065a(0x4d0)](_0xd7e785,'\x0a')):console[_0x3a065a(0x4d0)]((0x0,ss[_0x3a065a(0x433)])()[_0x3a065a(0x73a)]('HH:mm:ss'),_0x9abe8a+'\x20',''+this[_0x3a065a(0x242)],_0xd7e785));}[a0_0x2aad5a(0x4d0)](_0x3a80ca){const _0x48ca0a=a0_0x2aad5a;this[_0x48ca0a(0x403)](_0x3a80ca,'LOG');}[a0_0x2aad5a(0x400)](_0x576743){const _0x313cd5=a0_0x2aad5a;this[_0x313cd5(0x403)](_0x576743,'INFO');}['warn'](_0x37eb2f){const _0x1b9073=a0_0x2aad5a;this[_0x1b9073(0x403)](_0x37eb2f,'WARN');}[a0_0x2aad5a(0x5ee)](_0xdf9bf9){const _0x24582a=a0_0x2aad5a;this[_0x24582a(0x403)](_0xdf9bf9,_0x24582a(0x6a0));}['verbose'](_0x68b88b){const _0x2a59fe=a0_0x2aad5a;this[_0x2a59fe(0x403)](_0x68b88b,_0x2a59fe(0x1bf));}[a0_0x2aad5a(0x388)](_0x3d2796){const _0x527198=a0_0x2aad5a;this[_0x527198(0x403)](_0x3d2796,_0x527198(0x30a));}[a0_0x2aad5a(0x2cf)](_0x90b8c5){const _0xc980d0=a0_0x2aad5a;this['console'](_0x90b8c5,_0xc980d0(0x65d));}};function Qs(){const _0x8621ee=a0_0x2aad5a;process['on'](_0x8621ee(0x500),(_0x316b44,_0x2ae04e)=>{const _0x14f102=_0x8621ee;new C('uncaughtException')[_0x14f102(0x5ee)]({'origin':_0x2ae04e,'stderr':process['stderr']['fd'],'error':_0x316b44});}),process['on'](_0x8621ee(0x65f),(_0x31a540,_0x2ee6a3)=>{const _0x35b007=_0x8621ee;new C(_0x35b007(0x65f))[_0x35b007(0x5ee)]({'origin':_0x2ee6a3,'stderr':process[_0x35b007(0x59b)]['fd'],'error':_0x31a540});});}var Ys=T(require(a0_0x2aad5a(0x4af))),os=new Ys['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),le=require(a0_0x2aad5a(0x736)),he=require('fs'),is=require('path'),B=class{constructor(_0x1ac9a4){const _0x42ed0d=a0_0x2aad5a;this['storePath']=(0x0,is[_0x42ed0d(0x4c3)])(Y,_0x42ed0d(0x629)),this[_0x42ed0d(0x5ff)]=_0x334f33=>{const _0x562954=_0x42ed0d;(0x0,he[_0x562954(0x5eb)])(_0x334f33['path'])||(0x0,he['mkdirSync'])(_0x334f33[_0x562954(0x736)],{'recursive':!0x0});try{return(0x0,he[_0x562954(0x4cb)])((0x0,is[_0x562954(0x4c3)])(_0x334f33['path'],_0x334f33[_0x562954(0x4fa)]+_0x562954(0x649)),JSON[_0x562954(0x318)]({..._0x334f33[_0x562954(0x368)]}),{'encoding':_0x562954(0x6d0)}),{'message':_0x562954(0x4a6)};}finally{_0x334f33[_0x562954(0x368)]=void 0x0;}},this[_0x42ed0d(0x522)]=_0x1ac9a4[_0x42ed0d(0x6e1)](_0x42ed0d(0x553));}[a0_0x2aad5a(0x253)](_0x81bce9,_0x48e862=!0x1){const _0x18f330=a0_0x2aad5a;throw new Error(_0x18f330(0x37a));}['find'](_0x30dfa1){const _0x374973=a0_0x2aad5a;throw new Error(_0x374973(0x37a));}[a0_0x2aad5a(0x1d1)](_0x9fe72,_0x2cb9cd){const _0x2dd597=a0_0x2aad5a;throw new Error(_0x2dd597(0x37a));}},oe=require('fs'),Ve=class{},je=class extends B{constructor(_0x3c031e,_0x1e3d02){const _0x3b3515=a0_0x2aad5a;super(_0x1e3d02),this['messageModel']=_0x3c031e,this[_0x3b3515(0x231)]=_0x1e3d02;}async['insert'](_0x52534f,_0x2f4b16=!0x1){const _0x1a5b73=a0_0x2aad5a;if(_0x52534f[_0x1a5b73(0x24d)]!==0x0)try{return this['dbSettings'][_0x1a5b73(0x569)]&&_0x2f4b16?{'insertCount':(await this[_0x1a5b73(0x2fa)]['insertMany']([..._0x52534f]))[_0x1a5b73(0x24d)]}:_0x2f4b16?(_0x52534f[_0x1a5b73(0x44d)](_0x268a49=>this[_0x1a5b73(0x5ff)]({'path':(0x0,le[_0x1a5b73(0x4c3)])(this['storePath'],_0x1a5b73(0x568),_0x268a49[_0x1a5b73(0x458)]),'fileName':_0x268a49[_0x1a5b73(0x655)]['id'],'data':_0x268a49})),{'insertCount':_0x52534f[_0x1a5b73(0x24d)]}):{'insertCount':0x0};}catch(_0x24c2aa){return console[_0x1a5b73(0x4d0)](_0x1a5b73(0x722),_0x24c2aa),_0x24c2aa;}finally{_0x52534f=void 0x0;}}async['find'](_0x504bc3){const _0x3fcb65=a0_0x2aad5a;try{if(this[_0x3fcb65(0x522)][_0x3fcb65(0x569)]){if(_0x504bc3?.[_0x3fcb65(0x48b)]?.[_0x3fcb65(0x655)]){for(let [_0x21f484,_0x4d210a]of Object[_0x3fcb65(0x268)](_0x504bc3[_0x3fcb65(0x48b)]['key']))_0x504bc3[_0x3fcb65(0x48b)]['key.'+_0x21f484]=_0x4d210a;delete _0x504bc3?.[_0x3fcb65(0x48b)]?.['key'];}return await this[_0x3fcb65(0x2fa)][_0x3fcb65(0x2f0)]({..._0x504bc3['where']})[_0x3fcb65(0x6e2)]({'messageTimestamp':-0x1})['limit'](_0x504bc3?.[_0x3fcb65(0x25e)]??0x0);}let _0x3ea3a9=[];if(_0x504bc3?.['where']?.[_0x3fcb65(0x655)]?.['id'])_0x3ea3a9[_0x3fcb65(0x338)](JSON[_0x3fcb65(0x1aa)]((0x0,oe[_0x3fcb65(0x34d)])((0x0,le[_0x3fcb65(0x4c3)])(this['storePath'],_0x3fcb65(0x568),_0x504bc3['where'][_0x3fcb65(0x458)],_0x504bc3[_0x3fcb65(0x48b)][_0x3fcb65(0x655)]['id']+_0x3fcb65(0x649)),{'encoding':_0x3fcb65(0x6d0)})));else{let _0x1e96ef=(0x0,oe[_0x3fcb65(0x660)])((0x0,le[_0x3fcb65(0x4c3)])(this[_0x3fcb65(0x715)],'messages',_0x504bc3[_0x3fcb65(0x48b)][_0x3fcb65(0x458)]),{'encoding':_0x3fcb65(0x6d0)});for await(let _0x289800 of _0x1e96ef)_0x289800[_0x3fcb65(0x50e)]()&&_0x3ea3a9[_0x3fcb65(0x338)](JSON[_0x3fcb65(0x1aa)]((0x0,oe['readFileSync'])((0x0,le[_0x3fcb65(0x4c3)])(this['storePath'],_0x3fcb65(0x568),_0x504bc3[_0x3fcb65(0x48b)][_0x3fcb65(0x458)],_0x289800['name']),{'encoding':_0x3fcb65(0x6d0)})));}return _0x3ea3a9[_0x3fcb65(0x6e2)]((_0x1f6995,_0x135d33)=>_0x135d33[_0x3fcb65(0x37c)]-_0x1f6995[_0x3fcb65(0x37c)])[_0x3fcb65(0x259)](0x0,_0x504bc3?.[_0x3fcb65(0x25e)]??_0x3ea3a9[_0x3fcb65(0x24d)]);}catch{return[];}}async[a0_0x2aad5a(0x1d1)](_0x28fbe8){const _0x37725b=a0_0x2aad5a;try{if(this[_0x37725b(0x522)][_0x37725b(0x569)])await this[_0x37725b(0x2fa)]['deleteMany']({..._0x28fbe8['where']});else{let {owner:_0x5d38bf}=_0x28fbe8[_0x37725b(0x48b)];(0x0,oe[_0x37725b(0x6ca)])((0x0,le['join'])(this[_0x37725b(0x715)],_0x37725b(0x568),_0x5d38bf))[_0x37725b(0x44d)](_0x291853=>{const _0x55ad11=_0x37725b;let _0xe5f246=(0x0,le[_0x55ad11(0x4c3)])(this[_0x55ad11(0x715)],'messages',_0x5d38bf,_0x291853);(0x0,oe[_0x55ad11(0x183)])(_0xe5f246);});}}catch(_0x5c27bc){console[_0x37725b(0x5ee)](_0x5c27bc);}}async[a0_0x2aad5a(0x5ea)](_0x44fada,_0x6a54c0){const _0x20d286=a0_0x2aad5a;try{let _0x4a7e7f=null;if(this['dbSettings'][_0x20d286(0x569)])return _0x4a7e7f=await this[_0x20d286(0x2fa)]['findOneAndUpdate']({..._0x44fada['where']},{'$set':_0x6a54c0},{'new':!0x0}),_0x4a7e7f;}catch(_0x577bd0){throw console['error'](_0x577bd0),_0x577bd0;}}async[a0_0x2aad5a(0x3e4)](_0x282ee5,_0x7ac8fb=!0x1){const _0xc82464=a0_0x2aad5a;if(_0x282ee5[_0xc82464(0x24d)]!==0x0)try{return this[_0xc82464(0x522)][_0xc82464(0x569)]&&_0x7ac8fb?{'insertCount':(await this[_0xc82464(0x2fa)][_0xc82464(0x3e4)]([..._0x282ee5]))[_0xc82464(0x24d)]}:_0x7ac8fb?(_0x282ee5[_0xc82464(0x44d)](_0x57242a=>this[_0xc82464(0x5ff)]({'path':(0x0,le[_0xc82464(0x4c3)])(this[_0xc82464(0x715)],_0xc82464(0x568),_0x57242a[_0xc82464(0x458)]),'fileName':_0x57242a['key']['id'],'data':_0x57242a})),{'insertCount':_0x282ee5[_0xc82464(0x24d)]}):{'insertCount':0x0};}catch(_0x57fb61){return console[_0xc82464(0x4d0)](_0xc82464(0x722),_0x57fb61),_0x57fb61;}finally{_0x282ee5=void 0x0;}}},se=require('fs'),uo=T(require(a0_0x2aad5a(0x58c))),w=T(require('@whiskeysockets/baileys')),_e=require('fs'),$=T(require(a0_0x2aad5a(0x736))),ue=T(require('axios')),po=require(a0_0x2aad5a(0x6c7)),go=T(require('qrcode')),mo=T(require(a0_0x2aad5a(0x5d2))),Xs=[a0_0x2aad5a(0x207),'documentMessage',a0_0x2aad5a(0x6a8),'videoMessage',a0_0x2aad5a(0x1dd)],Zs=['ephemeralMessage','documentWithCaptionMessage',a0_0x2aad5a(0x536),a0_0x2aad5a(0x228)],ho=require('os'),kt=T(require(a0_0x2aad5a(0x533))),Vt=require(a0_0x2aad5a(0x515)),Ns=require(a0_0x2aad5a(0x223)),Be=require('mongoose'),rs=T(require(a0_0x2aad5a(0x719))),ea=new C(a0_0x2aad5a(0x1e4)),q=y[a0_0x2aad5a(0x6e1)]('DATABASE'),M=q[a0_0x2aad5a(0x569)]?q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x51f)]?rs[a0_0x2aad5a(0x433)]['createConnection'](q[a0_0x2aad5a(0x322)]['URI'],{'dbName':q['CONNECTION'][a0_0x2aad5a(0x1bb)]+a0_0x2aad5a(0x718)}):rs[a0_0x2aad5a(0x433)][a0_0x2aad5a(0x5d4)](a0_0x2aad5a(0x669)+q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x1f8)]+':'+q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x4df)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x2fc)],'pass':q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x484)],'dbName':q[a0_0x2aad5a(0x322)][a0_0x2aad5a(0x1bb)]+a0_0x2aad5a(0x718)}):null;q['ENABLED']&&ea[a0_0x2aad5a(0x400)](a0_0x2aad5a(0x50d)+M[a0_0x2aad5a(0x199)]);async function Go(){const _0x26343a=a0_0x2aad5a;await I[_0x26343a(0x3d4)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I[_0x26343a(0x3d4)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I['updateMany']({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0x2aad5a(0x25b),()=>{const _0x25a05c=a0_0x2aad5a;I&&Go()['catch'](_0x46ebcf=>ea[_0x25a05c(0x5ee)](_0x25a05c(0x2c5)+_0x46ebcf));});var ns=class{},qo=new Be[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new Be[(a0_0x2aad5a(0x513))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ho=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Wo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=M?.[a0_0x2aad5a(0x42b)](ns[a0_0x2aad5a(0x72c)],Ho,a0_0x2aad5a(0x3ea)),ta=require(a0_0x2aad5a(0x719)),cs=class{},Ko=new ta[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x2aad5a(0x42b)](cs[a0_0x2aad5a(0x72c)],Ko,'contacts'),O=require('mongoose'),sa=new O['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ls=new O[(a0_0x2aad5a(0x513))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new O[(a0_0x2aad5a(0x513))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x2aad5a(0x687)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),aa=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oa=new O['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Qo=new O[(a0_0x2aad5a(0x513))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ia=new O[(a0_0x2aad5a(0x513))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':oa,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),hs=new O[(a0_0x2aad5a(0x513))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ra=new O[(a0_0x2aad5a(0x513))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),us=class{},na=new O[(a0_0x2aad5a(0x513))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2ba714=a0_0x2aad5a;return'!cmd_'+Math[_0x2ba714(0x71e)]()[_0x2ba714(0x52a)](0x24)[_0x2ba714(0x6dd)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[hs],'variablesNotFound':{'type':[String]},'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]}});na['pre'](a0_0x2aad5a(0x24b),function(_0x138f71){const _0x5428ac=a0_0x2aad5a;let _0x45c9fd=new Set(),_0x4757eb=new Set(this[_0x5428ac(0x57f)]?.[_0x5428ac(0x30e)](_0x2e1246=>_0x2e1246['name'])),_0x2ec421=JSON[_0x5428ac(0x318)](this),_0x33421b=/{{(?!_)([^}]*)}}/g,_0x21800a;for(;(_0x21800a=_0x33421b['exec'](_0x2ec421))!==null;)_0x4757eb[_0x5428ac(0x331)](_0x21800a[0x1])||_0x45c9fd['add'](_0x21800a[0x1]);_0x45c9fd['size']>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x5428ac(0x317)](_0x45c9fd)),this[_0x5428ac(0x260)]=Array[_0x5428ac(0x317)](_0x45c9fd)):this[_0x5428ac(0x260)]=[],_0x138f71();});var D=M?.['model'](us[a0_0x2aad5a(0x72c)],na,a0_0x2aad5a(0x341)),Yo=new O[(a0_0x2aad5a(0x513))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[hs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qo]},{'_id':!0x1}),ds=class{},Xo=new O[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[hs],'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[ls],'default':[]},'chatLog':Yo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2aad5a(0x40f)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[ls],'default':[]}}),F=M?.[a0_0x2aad5a(0x42b)](ds['name'],Xo,'flowConversation'),ps=class{},Zo=new O['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ei=new O[(a0_0x2aad5a(0x513))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.[a0_0x2aad5a(0x42b)](ps[a0_0x2aad5a(0x72c)],ei,a0_0x2aad5a(0x224)),gs=class{},ti=new O[(a0_0x2aad5a(0x513))]({'name':{'type':String},'requests':[oa],'owner':{'type':String}}),en=M?.[a0_0x2aad5a(0x42b)](gs[a0_0x2aad5a(0x72c)],ti,a0_0x2aad5a(0x6ed)),ms=class{},si=new O[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ai=new O[(a0_0x2aad5a(0x513))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),oi=new O[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ii=new O[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[oi]},'customFields':{'type':[si]},'flowConfig':{'type':ai,'default':{}}}),ie=M?.[a0_0x2aad5a(0x42b)](ms[a0_0x2aad5a(0x72c)],ii,a0_0x2aad5a(0x17e)),be=T(require(a0_0x2aad5a(0x719))),k=require(a0_0x2aad5a(0x2c4)),fe=class{constructor(_0x339f45,_0x242d96,_0x372b11){const _0x4ddf04=a0_0x2aad5a;this[_0x4ddf04(0x202)]=_0x339f45,this[_0x4ddf04(0x725)]=_0x242d96,this[_0x4ddf04(0x72c)]=_0x372b11;}},Je=class{},Ge=class{},Ce=class{},qe=class{},We=class{},we=class{},He=class{},Ke=class{},ze=class{},Qe=class{},Pt=T(require('express')),ca=require('fs'),la=require(a0_0x2aad5a(0x736));async function Ye(_0x10eb4c){const _0x2a9d2e=a0_0x2aad5a;let _0x582cce=J['waInstances'][_0x10eb4c];if(q['ENABLED']){let _0x328402=M['getClient']()['db'](q[_0x2a9d2e(0x322)][_0x2a9d2e(0x1bb)]+_0x2a9d2e(0x3d7))[_0x2a9d2e(0x574)](_0x10eb4c);return _0x582cce||(await _0x328402[_0x2a9d2e(0x2f0)]({})[_0x2a9d2e(0x483)]())['length']>0x0;}return _0x582cce||(0x0,ca[_0x2a9d2e(0x5eb)])((0x0,la['join'])(j,_0x10eb4c));}async function fs(_0x47bf36,_0x22e48e,_0x2b618a){const _0x166a91=a0_0x2aad5a;if(_0x47bf36[_0x166a91(0x6f8)][_0x166a91(0x5a9)](_0x166a91(0x68c))||_0x47bf36[_0x166a91(0x6f8)][_0x166a91(0x5a9)](_0x166a91(0x1cd))||_0x47bf36[_0x166a91(0x6f8)][_0x166a91(0x5a9)](_0x166a91(0x2e3)))return _0x2b618a();let _0x5d7ae2=_0x47bf36[_0x166a91(0x4a2)];if(!_0x5d7ae2?.[_0x166a91(0x3d1)])throw new g('instanceName\x20not\x20provided.');if(!await Ye(_0x5d7ae2['instanceName']))throw new x(_0x166a91(0x1a2)+_0x5d7ae2[_0x166a91(0x3d1)]+'\x20instance\x20does\x20not\x20exist');_0x2b618a();}async function ua(_0x57be1e,_0x5d5407,_0x14477e){const _0x16f306=a0_0x2aad5a;if(_0x57be1e[_0x16f306(0x6f8)][_0x16f306(0x5a9)]('/instance/create')){let _0x18d159=_0x57be1e[_0x16f306(0x561)];if(await Ye(_0x18d159[_0x16f306(0x3d1)]))throw new re(_0x16f306(0x284)+_0x18d159[_0x16f306(0x3d1)]+_0x16f306(0x5df));J['waInstances'][_0x18d159[_0x16f306(0x3d1)]]&&delete J['waInstances'][_0x18d159[_0x16f306(0x3d1)]];}_0x14477e();}var da=require(a0_0x2aad5a(0x2c4)),pa=T(require('jsonwebtoken')),Xe=a0_0x2aad5a(0x20c),ni=new C(a0_0x2aad5a(0x3cb));async function ci(_0x363eb2,_0x2f31ac,_0x244bd8){const _0x286a97=a0_0x2aad5a;let _0x1885c1=_0x363eb2[_0x286a97(0x6e1)]('apikey');if(_0x1885c1&&y[_0x286a97(0x6e1)](_0x286a97(0x17a))[_0x286a97(0x34a)]['KEY']!==_0x1885c1)throw new ne();if(y[_0x286a97(0x6e1)](_0x286a97(0x17a))[_0x286a97(0x34a)][_0x286a97(0x499)]===_0x1885c1)return _0x244bd8();if((_0x363eb2[_0x286a97(0x6f8)][_0x286a97(0x5a9)]('/instance/create')||_0x363eb2['originalUrl']['includes']('/instance/fetchInstances'))&&!_0x1885c1)throw new re(_0x286a97(0x48a),_0x286a97(0x631));let _0x2fdf30=y[_0x286a97(0x6e1)]('AUTHENTICATION')[_0x286a97(0x727)];try{let [_0x27c4b4,_0x4c2556]=_0x363eb2[_0x286a97(0x6e1)](_0x286a97(0x4f4))[_0x286a97(0x210)]('\x20');if(_0x27c4b4[_0x286a97(0x2d9)]()!==_0x286a97(0x343))throw new ne();if(!(0x0,da[_0x286a97(0x22f)])(_0x4c2556))throw new ne();let _0x4d9fd3=_0x363eb2[_0x286a97(0x4a2)],_0x1a229b=pa[_0x286a97(0x433)]['verify'](_0x4c2556,_0x2fdf30[_0x286a97(0x256)],{'ignoreExpiration':_0x2fdf30[_0x286a97(0x38c)]===0x0});if(_0x4d9fd3['instanceName']!==_0x1a229b['instanceName']||Xe!==_0x1a229b[_0x286a97(0x665)])throw new ne();return _0x244bd8();}catch(_0x216915){throw ni[_0x286a97(0x5ee)](_0x216915),new ne();}}async function li(_0x25f0a8,_0x19bbbd,_0x7d04a4){const _0x5dfe72=a0_0x2aad5a;let _0x11f98e=y[_0x5dfe72(0x6e1)](_0x5dfe72(0x17a))['API_KEY'],_0x2422a2=_0x25f0a8[_0x5dfe72(0x6e1)](_0x5dfe72(0x177));if(_0x11f98e[_0x5dfe72(0x499)]===_0x2422a2)return _0x7d04a4();if(_0x25f0a8[_0x5dfe72(0x6f8)][_0x5dfe72(0x5a9)](_0x5dfe72(0x68c))){let _0x827ae1=y['get'](_0x5dfe72(0x427)),_0x3f2aef=_0x25f0a8[_0x5dfe72(0x561)]['instanceName'];if(_0x827ae1&&_0x3f2aef[_0x5dfe72(0x2d9)]()[_0x5dfe72(0x4e1)](_0x827ae1[_0x5dfe72(0x2d9)]()))return _0x7d04a4();if(!_0x2422a2)throw new re('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x25f0a8[_0x5dfe72(0x6f8)][_0x5dfe72(0x5a9)]('/instance/fetchInstances')&&!_0x2422a2)throw new re(_0x5dfe72(0x48a),_0x5dfe72(0x631));if(_0x25f0a8[_0x5dfe72(0x6f8)][_0x5dfe72(0x5a9)](_0x5dfe72(0x2e3))&&!_0x2422a2)throw new re('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0xb625a0=_0x25f0a8[_0x5dfe72(0x4a2)];if((await de[_0x5dfe72(0x1ca)][_0x5dfe72(0x2f0)](_0xb625a0['instanceName']))[_0x5dfe72(0x177)]===_0x2422a2)return _0x7d04a4();}catch{}throw new ne();}var ga={'jwt':ci,'apikey':li},Ka=require(a0_0x2aad5a(0x756)),E=require('uuid'),S=(..._0x3ab62f)=>{const _0x1a7a2b=a0_0x2aad5a;let _0x34255a={};return _0x3ab62f[_0x1a7a2b(0x44d)](_0x103750=>_0x34255a[_0x103750]={'minLength':0x1,'description':_0x1a7a2b(0x71f)+_0x103750+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x3ab62f]}},'then':{'properties':_0x34255a}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...S(a0_0x2aad5a(0x3d1))},ma={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x2aad5a(0x60e)],...S('oldToken')},wn={'properties':{'key':{'type':a0_0x2aad5a(0x3a6),'properties':{'id':{'type':a0_0x2aad5a(0x1e7)},'remoteJid':{'type':a0_0x2aad5a(0x1e7)},'fromMe':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x2aad5a(0x5e4)],...S('id',a0_0x2aad5a(0x261))},'message':{'type':'object'}}},X={'properties':{'delay':{'type':'integer','description':a0_0x2aad5a(0x3a9)},'presence':{'type':a0_0x2aad5a(0x1e7),'enum':[a0_0x2aad5a(0x672),a0_0x2aad5a(0x61a),'composing',a0_0x2aad5a(0x2b4),'paused']}}},Z={'type':'string','pattern':a0_0x2aad5a(0x2ec),'description':a0_0x2aad5a(0x4e5)},ha={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'options':{...X},'textMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'text':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x410)],...S(a0_0x2aad5a(0x410))}},'required':[a0_0x2aad5a(0x4b8),'number']},fa={'type':a0_0x2aad5a(0x1e7),'pattern':a0_0x2aad5a(0x594),'description':a0_0x2aad5a(0x4e5)},yn={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...fa},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x410)],...S('text')}},'required':[a0_0x2aad5a(0x4b8),a0_0x2aad5a(0x1eb)]},bn={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...fa},'options':{...X},'mediaMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'mediatype':{'type':a0_0x2aad5a(0x1e7),'enum':['image',a0_0x2aad5a(0x3de),a0_0x2aad5a(0x2a6),a0_0x2aad5a(0x74d)]},'media':{'type':'string'},'fileName':{'type':a0_0x2aad5a(0x1e7)},'caption':{'type':'string'}},'required':[a0_0x2aad5a(0x69f),'media'],...S(a0_0x2aad5a(0x4fa),'caption',a0_0x2aad5a(0x254))}},'required':[a0_0x2aad5a(0x632),a0_0x2aad5a(0x1eb)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'options':{...X},'stickerMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'image':{'type':'string'}},'required':[a0_0x2aad5a(0x2c8)],...S(a0_0x2aad5a(0x2c8))}},'required':[a0_0x2aad5a(0x1dd),'number']},ya={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'statusMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'type':{'type':'string','enum':[a0_0x2aad5a(0x410),a0_0x2aad5a(0x2c8),a0_0x2aad5a(0x74d),a0_0x2aad5a(0x2a6)]},'content':{'type':a0_0x2aad5a(0x1e7)},'caption':{'type':a0_0x2aad5a(0x1e7)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x2aad5a(0x416),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x1e7),'pattern':a0_0x2aad5a(0x74e),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]}},'required':['type',a0_0x2aad5a(0x3cf)],...S(a0_0x2aad5a(0x740),a0_0x2aad5a(0x3cf))}},'required':[a0_0x2aad5a(0x564)]},ba={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'options':{...X},'mediaMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'mediatype':{'type':a0_0x2aad5a(0x1e7),'enum':['image',a0_0x2aad5a(0x3de),a0_0x2aad5a(0x2a6),a0_0x2aad5a(0x74d)]},'media':{'type':'string'},'fileName':{'type':a0_0x2aad5a(0x1e7)},'caption':{'type':'string'}},'required':[a0_0x2aad5a(0x69f),a0_0x2aad5a(0x254)],...S(a0_0x2aad5a(0x4fa),'caption','media')}},'required':[a0_0x2aad5a(0x632),a0_0x2aad5a(0x1eb)]},Sa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'options':{...X},'audioMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'audio':{'type':'string'}},'required':[a0_0x2aad5a(0x74d)],...S(a0_0x2aad5a(0x74d))}},'required':[a0_0x2aad5a(0x6a8),a0_0x2aad5a(0x1eb)]},Ea={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'name':{'type':a0_0x2aad5a(0x1e7)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x2aad5a(0x4f2),'values'],...S(a0_0x2aad5a(0x72c),a0_0x2aad5a(0x4f2),a0_0x2aad5a(0x346))}},'required':[a0_0x2aad5a(0x1eb),'pollMessage']},va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'buttonMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'title':{'type':a0_0x2aad5a(0x1e7)},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x3a6),'properties':{'buttonText':{'type':a0_0x2aad5a(0x1e7)},'buttonId':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x2f9),a0_0x2aad5a(0x5c8)],...S(a0_0x2aad5a(0x2f9),a0_0x2aad5a(0x5c8))}},'mediaMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x2aad5a(0x1e7),'enum':['image','document','video']}},'required':['media',a0_0x2aad5a(0x69f)],...S(a0_0x2aad5a(0x254),a0_0x2aad5a(0x4fa))}},'required':['title',a0_0x2aad5a(0x4b0)],...S(a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x2c9))}},'required':['number',a0_0x2aad5a(0x2c0)]},Na={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x2aad5a(0x1e7)},'address':{'type':'string'}},'required':[a0_0x2aad5a(0x1bc),a0_0x2aad5a(0x306)],...S(a0_0x2aad5a(0x72c),a0_0x2aad5a(0x6dc))}},'required':[a0_0x2aad5a(0x1eb),a0_0x2aad5a(0x2d2)]},Ca={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'options':{...X},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x2aad5a(0x1e7)},'description':{'type':a0_0x2aad5a(0x1e7)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x2aad5a(0x1e7)},'sections':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x3a6),'properties':{'title':{'type':a0_0x2aad5a(0x1e7)},'rows':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x2aad5a(0x1e7)},'description':{'type':a0_0x2aad5a(0x1e7)},'rowId':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x2c9),'rowId'],...S(a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x2c9),a0_0x2aad5a(0x3b7))}}},'required':[a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x745)],...S('title')}}},'required':[a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x2c9),a0_0x2aad5a(0x2f9),a0_0x2aad5a(0x365)],...S(a0_0x2aad5a(0x5b7),a0_0x2aad5a(0x2c9),a0_0x2aad5a(0x2f9),a0_0x2aad5a(0x68d))}},'required':[a0_0x2aad5a(0x1eb),a0_0x2aad5a(0x2de)]},Ta={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'contactMessage':{'type':a0_0x2aad5a(0x6fd),'items':{'type':a0_0x2aad5a(0x3a6),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x2aad5a(0x1e7),'minLength':0xa}},'required':['fullName',a0_0x2aad5a(0x537)],...S(a0_0x2aad5a(0x509))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2aad5a(0x1eb),a0_0x2aad5a(0x2c6)]},Ma={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'key':{'type':a0_0x2aad5a(0x3a6),'properties':{'id':{'type':a0_0x2aad5a(0x1e7)},'remoteJid':{'type':a0_0x2aad5a(0x1e7)},'fromMe':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2aad5a(0x261),a0_0x2aad5a(0x5e4)],...S('id','remoteJid')},'reaction':{'type':a0_0x2aad5a(0x1e7)}},'required':['key',a0_0x2aad5a(0x445)],...S('reaction')}},'required':[a0_0x2aad5a(0x70b)]},Ra={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'numbers':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x1e7),'pattern':'^\x5cd+','description':a0_0x2aad5a(0x6f2)}}}},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'readMessages':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2aad5a(0x1e7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2aad5a(0x1e7)}},'required':['id',a0_0x2aad5a(0x5e4),'remoteJid'],...S('id',a0_0x2aad5a(0x261))}}},'required':[a0_0x2aad5a(0x4dc)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'privacySettings':{'type':a0_0x2aad5a(0x3a6),'properties':{'readreceipts':{'type':a0_0x2aad5a(0x1e7),'enum':['all',a0_0x2aad5a(0x467)]},'profile':{'type':a0_0x2aad5a(0x1e7),'enum':[a0_0x2aad5a(0x56f),a0_0x2aad5a(0x33a),a0_0x2aad5a(0x295),'none']},'status':{'type':a0_0x2aad5a(0x1e7),'enum':['all',a0_0x2aad5a(0x33a),a0_0x2aad5a(0x295),a0_0x2aad5a(0x467)]},'online':{'type':a0_0x2aad5a(0x1e7),'enum':['all',a0_0x2aad5a(0x5b6)]},'last':{'type':a0_0x2aad5a(0x1e7),'enum':[a0_0x2aad5a(0x56f),a0_0x2aad5a(0x33a),a0_0x2aad5a(0x295),a0_0x2aad5a(0x467)]},'groupadd':{'type':a0_0x2aad5a(0x1e7),'enum':[a0_0x2aad5a(0x56f),a0_0x2aad5a(0x33a),a0_0x2aad5a(0x295),a0_0x2aad5a(0x467)]}},'required':[a0_0x2aad5a(0x523),a0_0x2aad5a(0x304),a0_0x2aad5a(0x1a9),'online',a0_0x2aad5a(0x56d),a0_0x2aad5a(0x3b3)],...S('readreceipts',a0_0x2aad5a(0x304),a0_0x2aad5a(0x1a9),a0_0x2aad5a(0x503),'last',a0_0x2aad5a(0x3b3))}},'required':[a0_0x2aad5a(0x302)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'lastMessage':{'type':a0_0x2aad5a(0x3a6),'properties':{'key':{'type':a0_0x2aad5a(0x3a6),'properties':{'id':{'type':a0_0x2aad5a(0x1e7)},'remoteJid':{'type':a0_0x2aad5a(0x1e7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x2aad5a(0x5e4),a0_0x2aad5a(0x261)],...S('id','remoteJid')},'messageTimestamp':{'type':a0_0x2aad5a(0x416),'minLength':0x1}},'required':[a0_0x2aad5a(0x655)],...S(a0_0x2aad5a(0x37c))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2aad5a(0x6e8),a0_0x2aad5a(0x686)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2aad5a(0x1e7)},'participant':{'type':a0_0x2aad5a(0x1e7)}},'required':['id',a0_0x2aad5a(0x5e4),a0_0x2aad5a(0x261)],...S('id',a0_0x2aad5a(0x261),a0_0x2aad5a(0x3cd))},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'where':{'type':a0_0x2aad5a(0x3a6),'properties':{'_id':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1},'pushName':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1},'id':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1}},...S(a0_0x2aad5a(0x2c1),'id','pushName')}}},_a={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'name':{'type':a0_0x2aad5a(0x1e7)}},...S(a0_0x2aad5a(0x72c))},xa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'status':{'type':a0_0x2aad5a(0x1e7)}},...S(a0_0x2aad5a(0x1a9))},Te={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x2aad5a(0x1e7)},'picture':{'type':a0_0x2aad5a(0x1e7)}}},$a={'type':a0_0x2aad5a(0x3a6),'properties':{'wuid':{'type':a0_0x2aad5a(0x1e7)},'name':{'type':a0_0x2aad5a(0x1e7)},'picture':{'type':a0_0x2aad5a(0x1e7)},'status':{'type':a0_0x2aad5a(0x1e7)},'isBusiness':{'type':a0_0x2aad5a(0x469)}}},ka={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'where':{'type':a0_0x2aad5a(0x3a6),'properties':{'_id':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1},'key':{'type':a0_0x2aad5a(0x3a6),'if':{'propertyNames':{'enum':['fromMe',a0_0x2aad5a(0x261),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x2aad5a(0x1e7),'minLength':0x1,'description':a0_0x2aad5a(0x424)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2aad5a(0x3a6)}},...S('_id')},'limit':{'type':a0_0x2aad5a(0x416)}}},La={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'where':{'type':a0_0x2aad5a(0x3a6),'properties':{'_id':{'type':a0_0x2aad5a(0x1e7)},'remoteJid':{'type':a0_0x2aad5a(0x1e7)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x2aad5a(0x1e7)},'status':{'type':a0_0x2aad5a(0x1e7),'enum':[a0_0x2aad5a(0x6a0),a0_0x2aad5a(0x4f6),a0_0x2aad5a(0x5fa),a0_0x2aad5a(0x45e),a0_0x2aad5a(0x5dc),'PLAYED']}},...S(a0_0x2aad5a(0x2c1),a0_0x2aad5a(0x261),'id',a0_0x2aad5a(0x1a9))},'limit':{'type':a0_0x2aad5a(0x416)}}},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'number':{...Z},'presence':{'type':'string','enum':[a0_0x2aad5a(0x672),a0_0x2aad5a(0x61a),'composing',a0_0x2aad5a(0x2b4),'paused']}},'required':[a0_0x2aad5a(0x419),a0_0x2aad5a(0x1eb)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'subject':{'type':a0_0x2aad5a(0x1e7)},'description':{'type':a0_0x2aad5a(0x1e7)},'profilePicture':{'type':a0_0x2aad5a(0x1e7)},'participants':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x1e7),'minLength':0xa,'pattern':a0_0x2aad5a(0x3f6),'description':a0_0x2aad5a(0x5e1)}}},'required':[a0_0x2aad5a(0x28d),a0_0x2aad5a(0x171)],...S('subject',a0_0x2aad5a(0x2c9),a0_0x2aad5a(0x37b))},Me={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2aad5a(0x1e7),'pattern':a0_0x2aad5a(0x35a)}},'required':[a0_0x2aad5a(0x73c)],...S(a0_0x2aad5a(0x73c))},ja={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':a0_0x2aad5a(0x1e7)},'action':{'type':a0_0x2aad5a(0x1e7),'enum':['add',a0_0x2aad5a(0x54e),a0_0x2aad5a(0x275),a0_0x2aad5a(0x62c)]},'participants':{'type':a0_0x2aad5a(0x6fd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aad5a(0x1e7),'minLength':0xa,'pattern':a0_0x2aad5a(0x3f6),'description':a0_0x2aad5a(0x5e1)}}},'required':['groupJid',a0_0x2aad5a(0x27d),a0_0x2aad5a(0x171)],...S('groupJid',a0_0x2aad5a(0x27d))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':a0_0x2aad5a(0x1e7)},'expiration':{'type':a0_0x2aad5a(0x1eb),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2aad5a(0x73c),a0_0x2aad5a(0x225)],...S(a0_0x2aad5a(0x73c),a0_0x2aad5a(0x225))},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x73c),a0_0x2aad5a(0x2c8)],...S('groupJid',a0_0x2aad5a(0x2c8))},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x73c),a0_0x2aad5a(0x2c9)],...S(a0_0x2aad5a(0x73c),a0_0x2aad5a(0x2c9))},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':a0_0x2aad5a(0x1e7)},'name':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x73c),a0_0x2aad5a(0x72c)],...S(a0_0x2aad5a(0x73c),a0_0x2aad5a(0x72c))},qa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'groupJid':{'type':a0_0x2aad5a(0x1e7)},'setting':{'type':a0_0x2aad5a(0x1e7),'enum':['announcement',a0_0x2aad5a(0x247),'unlocked',a0_0x2aad5a(0x547)]}},'required':[a0_0x2aad5a(0x73c),a0_0x2aad5a(0x391)],...S(a0_0x2aad5a(0x73c),a0_0x2aad5a(0x391))},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x2aad5a(0x3a6),'properties':{'inviteCode':{'type':a0_0x2aad5a(0x1e7)}},'required':[a0_0x2aad5a(0x46c)],...S(a0_0x2aad5a(0x46c))},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x2aad5a(0x1e7)},'enabled':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]}},'required':['url',a0_0x2aad5a(0x667)]},Sn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2aad5a(0x469),'enum':[!0x0,!0x1]}},'required':[a0_0x2aad5a(0x59a),a0_0x2aad5a(0x72a),a0_0x2aad5a(0x1b5),'MESSAGES_SET',a0_0x2aad5a(0x34f),a0_0x2aad5a(0x1ae),a0_0x2aad5a(0x2cb),a0_0x2aad5a(0x221),a0_0x2aad5a(0x29e),a0_0x2aad5a(0x55a),a0_0x2aad5a(0x2df),a0_0x2aad5a(0x68b),a0_0x2aad5a(0x4b2),'CHATS_UPDATE',a0_0x2aad5a(0x56e),a0_0x2aad5a(0x496),a0_0x2aad5a(0x41c),'GROUPS_UPDATE',a0_0x2aad5a(0x3f2)],...S(a0_0x2aad5a(0x59a),a0_0x2aad5a(0x72a),a0_0x2aad5a(0x1b5),a0_0x2aad5a(0x5e2),a0_0x2aad5a(0x34f),'MESSAGES_UPSERT',a0_0x2aad5a(0x2cb),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x2aad5a(0x2df),a0_0x2aad5a(0x68b),a0_0x2aad5a(0x4b2),a0_0x2aad5a(0x726),a0_0x2aad5a(0x56e),'CONNECTION_UPDATE',a0_0x2aad5a(0x41c),a0_0x2aad5a(0x40b),'GROUP_PARTICIPANTS_UPDATE')},Ae=require('fs'),Re=require(a0_0x2aad5a(0x736)),Ze=class{},et=class extends B{constructor(_0x187bec,_0x4195a2){const _0x285fe3=a0_0x2aad5a;super(_0x4195a2),this[_0x285fe3(0x1c2)]=_0x187bec,this[_0x285fe3(0x231)]=_0x4195a2;}async[a0_0x2aad5a(0x253)](_0x23f6bb,_0x1137e1=!0x1){const _0x57609f=a0_0x2aad5a;if(_0x23f6bb[_0x57609f(0x24d)]!==0x0)try{return this[_0x57609f(0x522)][_0x57609f(0x569)]&&_0x1137e1?{'insertCount':(await this[_0x57609f(0x1c2)][_0x57609f(0x3e4)]([..._0x23f6bb]))['length']}:(_0x23f6bb[_0x57609f(0x44d)](_0x2a01eb=>{const _0xbf8fb8=_0x57609f;this['writeStore']({'path':(0x0,Re[_0xbf8fb8(0x4c3)])(this['storePath'],_0xbf8fb8(0x33a),_0x2a01eb['owner']),'fileName':_0x2a01eb['id'],'data':_0x2a01eb});}),{'insertCount':_0x23f6bb['length']});}catch(_0x2eed6a){return _0x2eed6a;}finally{_0x23f6bb=void 0x0;}}async[a0_0x2aad5a(0x1d1)](_0x397ae2){const _0x3c50ef=a0_0x2aad5a;try{return this['dbSettings'][_0x3c50ef(0x569)]?await this['contactModel'][_0x3c50ef(0x56c)]({..._0x397ae2[_0x3c50ef(0x48b)]}):{'deleted':{'contact':_0x397ae2['where']['id']}};}catch(_0x37a793){return{'error':_0x37a793?.[_0x3c50ef(0x52a)]()};}}async[a0_0x2aad5a(0x5ea)](_0x17fe36,_0x49cb34,_0x565b2e=!0x1){const _0x9a8dae=a0_0x2aad5a;try{if(_0x17fe36[_0x9a8dae(0x24d)]===0x0)return;if(this[_0x9a8dae(0x522)][_0x9a8dae(0x569)]&&_0x565b2e){let _0x1dfe5b=_0x17fe36['map'](_0x5d0136=>({'updateOne':{'filter':{'id':_0x5d0136['id'],'owner':_0x49cb34},'update':{..._0x5d0136},'upsert':!0x0}})),{nModified:_0x60fee3}=await this[_0x9a8dae(0x1c2)]['bulkWrite'](_0x1dfe5b);return{'insertCount':_0x60fee3};}}catch{return;}}async['find'](_0x465677){const _0x2f0b8a=a0_0x2aad5a;try{if(this[_0x2f0b8a(0x522)][_0x2f0b8a(0x569)])return await this[_0x2f0b8a(0x1c2)][_0x2f0b8a(0x2f0)]({..._0x465677[_0x2f0b8a(0x48b)]});let _0x5422c3=[];if(_0x465677?.['where']?.['id'])_0x5422c3['push'](JSON['parse']((0x0,Ae[_0x2f0b8a(0x34d)])((0x0,Re[_0x2f0b8a(0x4c3)])(this[_0x2f0b8a(0x715)],_0x2f0b8a(0x33a),_0x465677[_0x2f0b8a(0x48b)][_0x2f0b8a(0x458)],_0x465677[_0x2f0b8a(0x48b)]['id']+_0x2f0b8a(0x649)),{'encoding':_0x2f0b8a(0x6d0)})));else{let _0x48678d=(0x0,Ae[_0x2f0b8a(0x660)])((0x0,Re[_0x2f0b8a(0x4c3)])(this[_0x2f0b8a(0x715)],_0x2f0b8a(0x33a),_0x465677[_0x2f0b8a(0x48b)][_0x2f0b8a(0x458)]),{'encoding':_0x2f0b8a(0x6d0)});for await(let _0x243cbe of _0x48678d)_0x243cbe[_0x2f0b8a(0x50e)]()&&_0x5422c3[_0x2f0b8a(0x338)](JSON[_0x2f0b8a(0x1aa)]((0x0,Ae[_0x2f0b8a(0x34d)])((0x0,Re[_0x2f0b8a(0x4c3)])(this['storePath'],_0x2f0b8a(0x33a),_0x465677[_0x2f0b8a(0x48b)]['owner'],_0x243cbe[_0x2f0b8a(0x72c)]),{'encoding':_0x2f0b8a(0x6d0)})));}return _0x5422c3;}catch{return[];}}},tt=require(a0_0x2aad5a(0x301)),Mn=require(a0_0x2aad5a(0x454)),ws=new C(a0_0x2aad5a(0x488)),L=class{constructor(){}['routerPath'](_0x314c73,_0x37aafd=!0x0){const _0xff5af=a0_0x2aad5a;let _0x26ea27='/'+_0x314c73;return _0x37aafd&&(_0x26ea27+=_0xff5af(0x4ff)),_0x26ea27;}async['dataValidate'](_0x3b0399){const _0x59af98=a0_0x2aad5a;let {request:_0x52c0b6,schema:_0xbae26e,ClassRef:_0x94b3e8,execute:_0x215235}=_0x3b0399,_0x476b54=new _0x94b3e8(),_0x3b9498=_0x52c0b6[_0x59af98(0x561)],_0x43f457=_0x52c0b6['params'];_0x52c0b6?.[_0x59af98(0x33c)]&&Object[_0x59af98(0x3e1)](_0x52c0b6[_0x59af98(0x33c)])[_0x59af98(0x24d)]>0x0&&Object['assign'](_0x43f457,_0x52c0b6['query']),_0x52c0b6['originalUrl'][_0x59af98(0x5a9)]('/instance/create')&&Object[_0x59af98(0x1ed)](_0x43f457,_0x3b9498),Object['assign'](_0x476b54,_0x3b9498);let _0x3f364f=_0xbae26e?(0x0,tt['validate'])(_0x476b54,_0xbae26e):{'valid':!0x0,'errors':[]};if(!_0x3f364f[_0x59af98(0x2e8)]){let _0x4ca2e9=_0x3f364f['errors'][_0x59af98(0x30e)](({property:_0x4c68e1,stack:_0x824bbf,schema:_0x294f82})=>{const _0x242edc=_0x59af98;let _0x2dc8fa;return _0x294f82[_0x242edc(0x2c9)]?_0x2dc8fa=_0x294f82[_0x242edc(0x2c9)]:_0x2dc8fa=_0x824bbf[_0x242edc(0x436)](_0x242edc(0x5ed),''),{'property':_0x4c68e1[_0x242edc(0x436)](_0x242edc(0x5ed),''),'message':_0x2dc8fa};});throw ws['error']([..._0x4ca2e9]),new g(..._0x4ca2e9);}return await _0x215235(_0x43f457,_0x476b54);}async[a0_0x2aad5a(0x4f0)](_0x35c5e8){const _0x5e97e0=a0_0x2aad5a;let {request:_0x542a37,ClassRef:_0x463ff0,schema:_0x932bf5,execute:_0x36f13e}=_0x35c5e8,_0x505441=_0x542a37[_0x5e97e0(0x33c)];if(!_0x505441?.[_0x5e97e0(0x73c)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x5e97e0(0x498));let _0x2dcd22=_0x542a37[_0x5e97e0(0x4a2)],_0x3497eb=_0x542a37[_0x5e97e0(0x561)],_0x3d90b2=new _0x463ff0();Object[_0x5e97e0(0x1ed)](_0x3497eb,_0x505441),Object[_0x5e97e0(0x1ed)](_0x3d90b2,_0x3497eb);let _0x1f55a9=(0x0,tt[_0x5e97e0(0x71d)])(_0x3d90b2,_0x932bf5);if(!_0x1f55a9[_0x5e97e0(0x2e8)]){let _0x14f5fd=_0x1f55a9[_0x5e97e0(0x691)]['map'](({property:_0x37c3c2,stack:_0x5465a4,schema:_0x419705})=>{const _0x208d11=_0x5e97e0;let _0x1c58ec;return _0x419705[_0x208d11(0x2c9)]?_0x1c58ec=_0x419705[_0x208d11(0x2c9)]:_0x1c58ec=_0x5465a4[_0x208d11(0x436)](_0x208d11(0x5ed),''),{'property':_0x37c3c2['replace'](_0x208d11(0x5ed),''),'message':_0x1c58ec};});throw ws['error']([..._0x14f5fd]),new g(..._0x14f5fd);}return await _0x36f13e(_0x2dcd22,_0x3d90b2);}async[a0_0x2aad5a(0x5b2)](_0x559ab3){const _0x35eb47=a0_0x2aad5a;let {request:_0x40dfd8,ClassRef:_0x57ddf1,schema:_0x55a28c,execute:_0x4a0d86}=_0x559ab3,_0x2551be=_0x40dfd8[_0x35eb47(0x561)];if(!_0x2551be?.[_0x35eb47(0x46c)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x1406c4=_0x40dfd8[_0x35eb47(0x4a2)],_0x2213f1=_0x40dfd8['body'],_0x5af40c=new _0x57ddf1();Object[_0x35eb47(0x1ed)](_0x2213f1,_0x2551be),Object['assign'](_0x5af40c,_0x2213f1);let _0x41ed3b=(0x0,tt[_0x35eb47(0x71d)])(_0x5af40c,_0x55a28c);if(!_0x41ed3b[_0x35eb47(0x2e8)]){let _0x10011e=_0x41ed3b['errors'][_0x35eb47(0x30e)](({property:_0x156f09,stack:_0x47da75,schema:_0x4bfcc0})=>{const _0x3088c2=_0x35eb47;let _0xc1a316;return _0x4bfcc0[_0x3088c2(0x2c9)]?_0xc1a316=_0x4bfcc0[_0x3088c2(0x2c9)]:_0xc1a316=_0x47da75[_0x3088c2(0x436)](_0x3088c2(0x5ed),''),{'property':_0x156f09[_0x3088c2(0x436)](_0x3088c2(0x5ed),''),'message':_0xc1a316};});throw ws[_0x35eb47(0x5ee)]([..._0x10011e]),new g(..._0x10011e);}return await _0x4a0d86(_0x1406c4,_0x5af40c);}},Ie=require(a0_0x2aad5a(0x736)),De=require('fs'),st=class{},at=class extends B{constructor(_0x12a1df,_0x3c21d2){const _0xf617c5=a0_0x2aad5a;super(_0x3c21d2),this[_0xf617c5(0x204)]=_0x12a1df,this[_0xf617c5(0x231)]=_0x3c21d2;}async[a0_0x2aad5a(0x253)](_0x583c2d,_0x2e5359){const _0x41c807=a0_0x2aad5a;if(_0x583c2d[_0x41c807(0x24d)]!==0x0)try{if(this['dbSettings'][_0x41c807(0x569)]&&_0x2e5359)return{'insertCount':(await this[_0x41c807(0x204)][_0x41c807(0x3e4)]([..._0x583c2d]))[_0x41c807(0x24d)]};_0x583c2d[_0x41c807(0x44d)](_0x428ff1=>{const _0xca2f89=_0x41c807;this['writeStore']({'path':(0x0,Ie[_0xca2f89(0x4c3)])(this[_0xca2f89(0x715)],_0xca2f89(0x23b),_0x428ff1[_0xca2f89(0x458)]),'fileName':_0x428ff1['id'],'data':_0x428ff1});});}catch(_0x156c14){return _0x156c14;}}async[a0_0x2aad5a(0x2f0)](_0x1094cd){const _0x197cb5=a0_0x2aad5a;try{if(this[_0x197cb5(0x522)][_0x197cb5(0x569)])return await this[_0x197cb5(0x204)][_0x197cb5(0x2f0)]({..._0x1094cd['where']})[_0x197cb5(0x6e2)]({'datetime':-0x1})[_0x197cb5(0x25e)](_0x1094cd?.['limit']??0x0);let _0x113290=[];if(_0x1094cd?.['where']?.['id'])_0x113290['push'](JSON[_0x197cb5(0x1aa)]((0x0,De[_0x197cb5(0x34d)])((0x0,Ie[_0x197cb5(0x4c3)])(this[_0x197cb5(0x715)],_0x197cb5(0x23b),_0x1094cd[_0x197cb5(0x48b)]['owner'],_0x1094cd[_0x197cb5(0x48b)]['id']+_0x197cb5(0x649)),{'encoding':_0x197cb5(0x6d0)})));else{let _0xcd5572=(0x0,De[_0x197cb5(0x660)])((0x0,Ie[_0x197cb5(0x4c3)])(this[_0x197cb5(0x715)],_0x197cb5(0x23b),_0x1094cd['where'][_0x197cb5(0x458)]),{'encoding':'utf-8'});for await(let _0x411fef of _0xcd5572)_0x411fef[_0x197cb5(0x50e)]()&&_0x113290['push'](JSON[_0x197cb5(0x1aa)]((0x0,De[_0x197cb5(0x34d)])((0x0,Ie['join'])(this[_0x197cb5(0x715)],'message-up',_0x1094cd['where'][_0x197cb5(0x458)],_0x411fef['name']),{'encoding':_0x197cb5(0x6d0)})));}return _0x113290[_0x197cb5(0x6e2)]((_0x39f2af,_0x587384)=>_0x587384[_0x197cb5(0x744)]-_0x39f2af['datetime'])[_0x197cb5(0x259)](0x0,_0x1094cd?.[_0x197cb5(0x25e)]??_0x113290['length']);}catch{return[];}}async['delete'](_0xcafa37){const _0x33f2bd=a0_0x2aad5a;try{if(this[_0x33f2bd(0x522)][_0x33f2bd(0x569)])return await this[_0x33f2bd(0x204)]['deleteMany']({..._0xcafa37[_0x33f2bd(0x48b)]});}catch(_0x3c6ba9){return console[_0x33f2bd(0x5ee)]('Falha\x20ao\x20deletar\x20mensagens:',_0x3c6ba9),_0x3c6ba9;}}},b=class{},ot=class extends L{constructor(..._0x263e88){const _0x7680c7=a0_0x2aad5a;super(),this[_0x7680c7(0x673)]=(0x0,Ka[_0x7680c7(0x2b8)])(),this[_0x7680c7(0x673)][_0x7680c7(0x59d)](this[_0x7680c7(0x3be)](_0x7680c7(0x4a1)),..._0x263e88,async(_0x2abaeb,_0x3f2e67)=>{const _0x585d88=_0x7680c7;let _0x41c536=await this['dataValidate']({'request':_0x2abaeb,'schema':Ua,'ClassRef':Je,'execute':(_0x3ca60b,_0x5d91dc)=>P['updatePresence'](_0x3ca60b,_0x5d91dc)});return _0x3f2e67[_0x585d88(0x1a9)](0xc9)['json'](_0x41c536);})['post'](this[_0x7680c7(0x3be)](_0x7680c7(0x165)),..._0x263e88,async(_0x28e49d,_0x56e1b2)=>{const _0x4a5754=_0x7680c7;let _0xd8e1eb=await this[_0x4a5754(0x28c)]({'request':_0x28e49d,'schema':Ra,'ClassRef':Ge,'execute':(_0x3024d2,_0x5824fc)=>P[_0x4a5754(0x4e6)](_0x3024d2,_0x5824fc)});return _0x56e1b2['status'](0xc9)[_0x4a5754(0x647)](_0xd8e1eb);})[_0x7680c7(0x59d)](this[_0x7680c7(0x3be)](_0x7680c7(0x66d)),..._0x263e88,async(_0x4d9718,_0x5783ff)=>{const _0x5f1006=_0x7680c7;let _0x25f8c3=await this[_0x5f1006(0x28c)]({'request':_0x4d9718,'schema':v,'ClassRef':b,'execute':(_0x28da63,_0x183728)=>P['editChat'](_0x28da63,_0x183728)});return _0x5783ff['status'](0xc9)[_0x5f1006(0x647)](_0x25f8c3);})[_0x7680c7(0x34c)](this['routerPath'](_0x7680c7(0x4bc)),..._0x263e88,async(_0x36690f,_0x5d54e5)=>{const _0xd40438=_0x7680c7;let _0x60e8e3=await this['dataValidate']({'request':_0x36690f,'schema':Aa,'ClassRef':He,'execute':(_0x2202d4,_0x3d2309)=>P[_0xd40438(0x528)](_0x2202d4,_0x3d2309)});return _0x5d54e5[_0xd40438(0x1a9)](0xc9)[_0xd40438(0x647)](_0x60e8e3);})[_0x7680c7(0x34c)](this[_0x7680c7(0x3be)](_0x7680c7(0x42c)),..._0x263e88,async(_0x3bb7cf,_0x35118e)=>{const _0x512188=_0x7680c7;let _0x4ea5c0=await this[_0x512188(0x28c)]({'request':_0x3bb7cf,'schema':Da,'ClassRef':Ke,'execute':(_0x55c5a0,_0xeaafef)=>P['archiveChat'](_0x55c5a0,_0xeaafef)});return _0x35118e[_0x512188(0x1a9)](0xc9)['json'](_0x4ea5c0);})[_0x7680c7(0x1d1)](this[_0x7680c7(0x3be)](_0x7680c7(0x6cf)),..._0x263e88,async(_0x174d5d,_0x280751)=>{const _0x33b820=_0x7680c7;let _0x597f21=await this[_0x33b820(0x28c)]({'request':_0x174d5d,'schema':Pa,'ClassRef':Qe,'execute':(_0x30571f,_0x1975f9)=>P[_0x33b820(0x4b5)](_0x30571f,_0x1975f9)});return _0x280751[_0x33b820(0x1a9)](0xc9)['json'](_0x597f21);})[_0x7680c7(0x59d)](this[_0x7680c7(0x3be)](_0x7680c7(0x5c9)),..._0x263e88,async(_0xc2c1a4,_0x30e947)=>{const _0xa5539b=_0x7680c7;let _0x43c29c=await this[_0xa5539b(0x28c)]({'request':_0xc2c1a4,'schema':Te,'ClassRef':Ce,'execute':(_0x546b90,_0x339435)=>P['fetchProfilePicture'](_0x546b90,_0x339435)});return _0x30e947[_0xa5539b(0x1a9)](0xc8)[_0xa5539b(0x647)](_0x43c29c);})[_0x7680c7(0x59d)](this[_0x7680c7(0x3be)]('fetchProfile'),..._0x263e88,async(_0x19f54f,_0x4188d8)=>{const _0x538916=_0x7680c7;let _0x30c2bf=await this[_0x538916(0x28c)]({'request':_0x19f54f,'schema':$a,'ClassRef':Ce,'execute':(_0x46d979,_0x240551)=>P['fetchProfile'](_0x46d979,_0x240551)});return _0x4188d8[_0x538916(0x1a9)](0xc8)[_0x538916(0x647)](_0x30c2bf);})['post'](this[_0x7680c7(0x3be)]('findContacts'),..._0x263e88,async(_0x230961,_0x5c80fc)=>{const _0x28374b=_0x7680c7;let _0x525a4f=await this[_0x28374b(0x28c)]({'request':_0x230961,'schema':Oa,'ClassRef':Ze,'execute':(_0x5a6097,_0x56bc25)=>P['fetchContacts'](_0x5a6097,_0x56bc25)});return _0x5c80fc[_0x28374b(0x1a9)](0xc8)[_0x28374b(0x647)](_0x525a4f);})['post'](this['routerPath']('getBase64FromMediaMessage'),..._0x263e88,async(_0xb1288c,_0x494fc5)=>{const _0x2bbf61=_0x7680c7;let _0x361b76=await this['dataValidate']({'request':_0xb1288c,'schema':null,'ClassRef':Object,'execute':(_0x36b90d,_0x31c1e8)=>P[_0x2bbf61(0x504)](_0x36b90d,_0x31c1e8)});return _0x494fc5[_0x2bbf61(0x1a9)](0xc9)['json'](_0x361b76);})[_0x7680c7(0x59d)](this[_0x7680c7(0x3be)](_0x7680c7(0x3bb)),..._0x263e88,async(_0x73ffac,_0x27374a)=>{const _0x2269ff=_0x7680c7;let _0x57b39c=await this[_0x2269ff(0x28c)]({'request':_0x73ffac,'schema':ka,'ClassRef':Ve,'execute':(_0x43e0f8,_0x583cce)=>P[_0x2269ff(0x5aa)](_0x43e0f8,_0x583cce)});return _0x27374a[_0x2269ff(0x1a9)](0xc8)[_0x2269ff(0x647)](_0x57b39c);})['post'](this[_0x7680c7(0x3be)]('findStatusMessage'),..._0x263e88,async(_0x1fb57b,_0x2c41aa)=>{const _0x3bc60b=_0x7680c7;let _0xa03967=await this['dataValidate']({'request':_0x1fb57b,'schema':La,'ClassRef':st,'execute':(_0x6c7365,_0x14483c)=>P[_0x3bc60b(0x5fb)](_0x6c7365,_0x14483c)});return _0x2c41aa[_0x3bc60b(0x1a9)](0xc8)[_0x3bc60b(0x647)](_0xa03967);})['get'](this[_0x7680c7(0x3be)](_0x7680c7(0x1a5)),..._0x263e88,async(_0x5b4b6b,_0x8235a8)=>{const _0x10ea0f=_0x7680c7;let _0x4c5f14=await this[_0x10ea0f(0x28c)]({'request':_0x5b4b6b,'schema':null,'ClassRef':b,'execute':_0x100ba4=>P[_0x10ea0f(0x3e3)](_0x100ba4)});return _0x8235a8[_0x10ea0f(0x1a9)](0xc8)['json'](_0x4c5f14);})[_0x7680c7(0x6e1)](this[_0x7680c7(0x3be)]('fetchPrivacySettings'),..._0x263e88,async(_0x315664,_0x1a6a0b)=>{const _0x38f0a0=_0x7680c7;let _0xa08a57=await this[_0x38f0a0(0x28c)]({'request':_0x315664,'schema':null,'ClassRef':b,'execute':_0x18f04b=>P[_0x38f0a0(0x60c)](_0x18f04b)});return _0x1a6a0b[_0x38f0a0(0x1a9)](0xc8)[_0x38f0a0(0x647)](_0xa08a57);})['put'](this['routerPath'](_0x7680c7(0x6b4)),..._0x263e88,async(_0x40e844,_0x19dec3)=>{const _0x396fe3=_0x7680c7;let _0x4c697e=await this[_0x396fe3(0x28c)]({'request':_0x40e844,'schema':Ia,'ClassRef':ze,'execute':(_0x3c7b9c,_0x343164)=>P[_0x396fe3(0x6b4)](_0x3c7b9c,_0x343164)});return _0x19dec3['status'](0xc9)[_0x396fe3(0x647)](_0x4c697e);})[_0x7680c7(0x59d)](this['routerPath']('fetchBusinessProfile'),..._0x263e88,async(_0x274552,_0x511404)=>{const _0xc13b0c=_0x7680c7;let _0x28aeb3=await this[_0xc13b0c(0x28c)]({'request':_0x274552,'schema':Te,'ClassRef':we,'execute':(_0x481386,_0x14a493)=>P[_0xc13b0c(0x2ad)](_0x481386,_0x14a493)});return _0x511404[_0xc13b0c(0x1a9)](0xc8)[_0xc13b0c(0x647)](_0x28aeb3);})[_0x7680c7(0x59d)](this[_0x7680c7(0x3be)](_0x7680c7(0x5ba)),..._0x263e88,async(_0x2bb8d7,_0x33067a)=>{const _0x2e286d=_0x7680c7;let _0xd0b530=await this[_0x2e286d(0x28c)]({'request':_0x2bb8d7,'schema':_a,'ClassRef':qe,'execute':(_0x20a2db,_0x116bea)=>P[_0x2e286d(0x5ba)](_0x20a2db,_0x116bea)});return _0x33067a[_0x2e286d(0x1a9)](0xc8)[_0x2e286d(0x647)](_0xd0b530);})['post'](this[_0x7680c7(0x3be)](_0x7680c7(0x1fb)),..._0x263e88,async(_0x374b4c,_0xc7a016)=>{const _0x4bbe54=_0x7680c7;let _0x27de59=await this[_0x4bbe54(0x28c)]({'request':_0x374b4c,'schema':xa,'ClassRef':We,'execute':(_0x307878,_0x1d671d)=>P['updateProfileStatus'](_0x307878,_0x1d671d)});return _0xc7a016[_0x4bbe54(0x1a9)](0xc8)[_0x4bbe54(0x647)](_0x27de59);})[_0x7680c7(0x34c)](this['routerPath'](_0x7680c7(0x3a3)),..._0x263e88,async(_0x234861,_0x1e275f)=>{const _0x234219=_0x7680c7;let _0x299ca1=await this[_0x234219(0x28c)]({'request':_0x234861,'schema':Te,'ClassRef':we,'execute':(_0x563573,_0x2567b8)=>P[_0x234219(0x3a3)](_0x563573,_0x2567b8)});return _0x1e275f[_0x234219(0x1a9)](0xc8)[_0x234219(0x647)](_0x299ca1);})['delete'](this[_0x7680c7(0x3be)](_0x7680c7(0x240)),..._0x263e88,async(_0x606d7d,_0x35427d)=>{const _0x3131ad=_0x7680c7;let _0x237846=await this[_0x3131ad(0x28c)]({'request':_0x606d7d,'schema':Te,'ClassRef':we,'execute':(_0x24e39c,_0x3b0b34)=>P[_0x3131ad(0x240)](_0x24e39c,_0x3b0b34)});return _0x35427d[_0x3131ad(0x1a9)](0xc8)[_0x3131ad(0x647)](_0x237846);});}},za=require('express'),it=class{},rt=class{},nt=class{},ct=class{},lt=class{},ee=class{},ut=class{},dt=class extends ee{},pt=class extends ee{},gt=class extends L{constructor(..._0x1cfae8){const _0x50ca0d=a0_0x2aad5a;super(),this['router']=(0x0,za[_0x50ca0d(0x2b8)])(),this['router'][_0x50ca0d(0x59d)](this[_0x50ca0d(0x3be)]('create'),..._0x1cfae8,async(_0x12d86f,_0x47398e)=>{const _0xeccb49=_0x50ca0d;let _0x35fd94=await this[_0xeccb49(0x28c)]({'request':_0x12d86f,'schema':Va,'ClassRef':it,'execute':(_0x5346b3,_0x564c60)=>V['createGroup'](_0x5346b3,_0x564c60)});_0x47398e[_0xeccb49(0x1a9)](0xc9)[_0xeccb49(0x647)](_0x35fd94);})[_0x50ca0d(0x34c)](this['routerPath'](_0x50ca0d(0x1c9)),..._0x1cfae8,async(_0x33b6df,_0x4599e9)=>{const _0x154ddd=_0x50ca0d;let _0x70a6e5=await this['groupValidate']({'request':_0x33b6df,'schema':Fa,'ClassRef':rt,'execute':(_0x5f3213,_0x27229e)=>V['updateGroupPicture'](_0x5f3213,_0x27229e)});_0x4599e9[_0x154ddd(0x1a9)](0xc9)[_0x154ddd(0x647)](_0x70a6e5);})['put'](this[_0x50ca0d(0x3be)](_0x50ca0d(0x38e)),..._0x1cfae8,async(_0x244e78,_0xc78ae2)=>{const _0x46ea20=_0x50ca0d;let _0x32098b=await this[_0x46ea20(0x4f0)]({'request':_0x244e78,'schema':Ja,'ClassRef':nt,'execute':(_0xe29674,_0x4070b1)=>V[_0x46ea20(0x38e)](_0xe29674,_0x4070b1)});_0xc78ae2[_0x46ea20(0x1a9)](0xc9)[_0x46ea20(0x647)](_0x32098b);})[_0x50ca0d(0x34c)](this[_0x50ca0d(0x3be)](_0x50ca0d(0x674)),..._0x1cfae8,async(_0x1f4e69,_0x552123)=>{const _0x13a9d8=_0x50ca0d;let _0x4002c5=await this[_0x13a9d8(0x4f0)]({'request':_0x1f4e69,'schema':Ga,'ClassRef':ct,'execute':(_0x899a75,_0x9c36f7)=>V[_0x13a9d8(0x674)](_0x899a75,_0x9c36f7)});_0x552123['status'](0xc9)[_0x13a9d8(0x647)](_0x4002c5);})[_0x50ca0d(0x34c)](this[_0x50ca0d(0x3be)]('groupSetting'),..._0x1cfae8,async(_0x55580e,_0x4b8d8c)=>{const _0x3fe498=_0x50ca0d;let _0x538d0f=await this[_0x3fe498(0x4f0)]({'request':_0x55580e,'schema':qa,'ClassRef':lt,'execute':(_0x257006,_0x17e188)=>V[_0x3fe498(0x610)](_0x257006,_0x17e188)});_0x4b8d8c[_0x3fe498(0x1a9)](0xc9)[_0x3fe498(0x647)](_0x538d0f);})[_0x50ca0d(0x34c)](this[_0x50ca0d(0x3be)](_0x50ca0d(0x2e5)),..._0x1cfae8,async(_0x2ebba8,_0x17cb85)=>{const _0xb3b221=_0x50ca0d;let _0x593e84=await this[_0xb3b221(0x4f0)]({'request':_0x2ebba8,'schema':Ba,'ClassRef':pt,'execute':(_0x47c624,_0x30c050)=>V[_0xb3b221(0x2e5)](_0x47c624,_0x30c050)});_0x17cb85[_0xb3b221(0x1a9)](0xc9)['json'](_0x593e84);})[_0x50ca0d(0x6e1)](this[_0x50ca0d(0x3be)](_0x50ca0d(0x6a9)),..._0x1cfae8,async(_0x3799ce,_0x4b9aba)=>{const _0x152d46=_0x50ca0d;let _0x218a31=await this[_0x152d46(0x4f0)]({'request':_0x3799ce,'schema':Me,'ClassRef':ee,'execute':(_0x5bff02,_0x40c823)=>V[_0x152d46(0x26f)](_0x5bff02,_0x40c823)});_0x4b9aba[_0x152d46(0x1a9)](0xc8)[_0x152d46(0x647)](_0x218a31);})[_0x50ca0d(0x6e1)](this['routerPath'](_0x50ca0d(0x323)),..._0x1cfae8,async(_0x31f130,_0x1f297b)=>{const _0x169446=_0x50ca0d;let _0x401821=await this[_0x169446(0x28c)]({'request':_0x31f130,'schema':v,'ClassRef':b,'execute':_0x31e1ab=>V['findGroups'](_0x31e1ab)});_0x1f297b['status'](0xc8)[_0x169446(0x647)](_0x401821);})['get'](this[_0x50ca0d(0x3be)](_0x50ca0d(0x171)),..._0x1cfae8,async(_0x5e2116,_0x1bb534)=>{const _0x1ceeda=_0x50ca0d;let _0x241509=await this[_0x1ceeda(0x4f0)]({'request':_0x5e2116,'schema':Me,'ClassRef':ee,'execute':(_0x4011e9,_0x416d10)=>V[_0x1ceeda(0x3c3)](_0x4011e9,_0x416d10)});_0x1bb534['status'](0xc8)[_0x1ceeda(0x647)](_0x241509);})['get'](this['routerPath'](_0x50ca0d(0x46c)),..._0x1cfae8,async(_0xef1d25,_0x2afa73)=>{const _0x55afb2=_0x50ca0d;let _0x44a6ee=await this[_0x55afb2(0x4f0)]({'request':_0xef1d25,'schema':Me,'ClassRef':ee,'execute':(_0xf60518,_0x1e9fa5)=>V['inviteCode'](_0xf60518,_0x1e9fa5)});_0x2afa73['status'](0xc8)[_0x55afb2(0x647)](_0x44a6ee);})[_0x50ca0d(0x34c)](this['routerPath'](_0x50ca0d(0x386)),..._0x1cfae8,async(_0x15636a,_0x5888be)=>{const _0x26a952=_0x50ca0d;let _0x128dbb=await this[_0x26a952(0x5b2)]({'request':_0x15636a,'schema':Wa,'ClassRef':ut,'execute':(_0x2ebfd7,_0x15e20f)=>V[_0x26a952(0x386)](_0x2ebfd7,_0x15e20f)});_0x5888be['status'](0xc9)['json'](_0x128dbb);})[_0x50ca0d(0x34c)](this['routerPath'](_0x50ca0d(0x38d)),..._0x1cfae8,async(_0x3574e2,_0x5abbc2)=>{const _0x31b5b3=_0x50ca0d;let _0x4d6a89=await this[_0x31b5b3(0x4f0)]({'request':_0x3574e2,'schema':Me,'ClassRef':ee,'execute':(_0x2a18b0,_0x3f94cb)=>V[_0x31b5b3(0x38d)](_0x2a18b0,_0x3f94cb)});_0x5abbc2[_0x31b5b3(0x1a9)](0xc9)['json'](_0x4d6a89);})[_0x50ca0d(0x34c)](this[_0x50ca0d(0x3be)](_0x50ca0d(0x59c)),..._0x1cfae8,async(_0x5c7990,_0x41d0a5)=>{const _0x2e72a6=_0x50ca0d;let _0x1962c8=await this[_0x2e72a6(0x4f0)]({'request':_0x5c7990,'schema':ja,'ClassRef':dt,'execute':(_0x26b61a,_0x2d33e9)=>V['updateGParticipate'](_0x26b61a,_0x2d33e9)});_0x41d0a5[_0x2e72a6(0x1a9)](0xc9)[_0x2e72a6(0x647)](_0x1962c8);})['delete'](this['routerPath'](_0x50ca0d(0x693)),..._0x1cfae8,async(_0x587dc0,_0x51773f)=>{const _0x29ba60=_0x50ca0d;let _0x23a84d=await this[_0x29ba60(0x4f0)]({'request':_0x587dc0,'schema':{},'ClassRef':ee,'execute':(_0x51fe52,_0x51dda3)=>V[_0x29ba60(0x693)](_0x51fe52,_0x51dda3)});_0x51773f['status'](0xc8)[_0x29ba60(0x647)](_0x23a84d);});}},Xa=require(a0_0x2aad5a(0x756)),Pe=require(a0_0x2aad5a(0x6ea)),ys=require(a0_0x2aad5a(0x6c7)),Qa=require(a0_0x2aad5a(0x2c4)),Ya=T(require(a0_0x2aad5a(0x53f))),mt=class{},ht=class l{constructor(_0x4839ed,_0x363c8c,_0x395d30){const _0x272289=a0_0x2aad5a;this[_0x272289(0x231)]=_0x4839ed,this[_0x272289(0x5da)]=_0x363c8c,this[_0x272289(0x620)]=_0x395d30,this[_0x272289(0x697)]=new C(l[_0x272289(0x72c)]);}async[a0_0x2aad5a(0x716)](_0xe19185){const _0x26c973=a0_0x2aad5a;let _0x138c13=this[_0x26c973(0x231)][_0x26c973(0x6e1)](_0x26c973(0x17a))[_0x26c973(0x727)],_0x2fd54c=(0x0,Pe[_0x26c973(0x1c5)])({'instanceName':_0xe19185['instanceName'],'apiName':Xe,'tokenId':(0x0,ys['v4'])()},_0x138c13[_0x26c973(0x256)],{'expiresIn':_0x138c13[_0x26c973(0x38c)],'encoding':_0x26c973(0x366),'subject':_0x26c973(0x34b)}),_0x110e65=await this[_0x26c973(0x620)]['auth'][_0x26c973(0x6c2)]({'jwt':_0x2fd54c},_0xe19185[_0x26c973(0x3d1)]);if(_0x110e65[_0x26c973(0x5ee)])throw this[_0x26c973(0x697)][_0x26c973(0x5ee)]({'localError':l[_0x26c973(0x72c)]+_0x26c973(0x739),'error':_0x110e65[_0x26c973(0x5ee)]}),new g('Authentication\x20error',_0x110e65[_0x26c973(0x5ee)]?.[_0x26c973(0x52a)]());return{'jwt':_0x2fd54c};}async['apikey'](_0x524ca7){const _0x33b2b4=a0_0x2aad5a;let _0x5e8c70=(0x0,ys['v4'])()[_0x33b2b4(0x41e)](),_0x3f02e9=await this['repository']['auth'][_0x33b2b4(0x6c2)]({'apikey':_0x5e8c70},_0x524ca7[_0x33b2b4(0x3d1)]);if(_0x3f02e9[_0x33b2b4(0x5ee)])throw this[_0x33b2b4(0x697)][_0x33b2b4(0x5ee)]({'localError':l[_0x33b2b4(0x72c)]+_0x33b2b4(0x739),'error':_0x3f02e9[_0x33b2b4(0x5ee)]}),new g(_0x33b2b4(0x698),_0x3f02e9['error']?.[_0x33b2b4(0x52a)]());return{'apikey':_0x5e8c70};}async[a0_0x2aad5a(0x217)](_0x3fb8b7){const _0x4b2d1b=a0_0x2aad5a;let _0x2bceeb=this[_0x4b2d1b(0x231)][_0x4b2d1b(0x6e1)](_0x4b2d1b(0x17a));return await this[_0x2bceeb[_0x4b2d1b(0x4de)]](_0x3fb8b7);}async['refreshToken']({oldToken:_0x53ba77}){const _0x30c37a=a0_0x2aad5a;if(!(0x0,Qa[_0x30c37a(0x22f)])(_0x53ba77))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x56ac62=this[_0x30c37a(0x231)]['get'](_0x30c37a(0x17a))[_0x30c37a(0x727)],_0x22dcaa=(0x0,Pe[_0x30c37a(0x22b)])(_0x53ba77,_0x56ac62[_0x30c37a(0x256)],{'ignoreExpiration':!0x0}),_0x4fa9a5=await this[_0x30c37a(0x620)][_0x30c37a(0x1ca)][_0x30c37a(0x2f0)](_0x22dcaa['instanceName']),_0x59a717=(0x0,Pe[_0x30c37a(0x22b)])(_0x4fa9a5[_0x30c37a(0x716)],_0x56ac62['SECRET'],{'ignoreExpiration':!0x0});if(_0x22dcaa[_0x30c37a(0x212)]!==_0x59a717['tokenId'])throw new g(_0x30c37a(0x17f));let _0x2244a2={'jwt':(await this['jwt']({'instanceName':_0x22dcaa['instanceName']}))[_0x30c37a(0x716)],'instanceName':_0x22dcaa[_0x30c37a(0x3d1)]};try{let _0x162d21=await this['repository'][_0x30c37a(0x74c)][_0x30c37a(0x2f0)](_0x22dcaa[_0x30c37a(0x3d1)]);_0x162d21?.[_0x30c37a(0x667)]&&this[_0x30c37a(0x231)][_0x30c37a(0x6e1)](_0x30c37a(0x4ef))[_0x30c37a(0x28b)][_0x30c37a(0x5cd)]&&await Ya['default']['create']({'baseURL':_0x162d21['url']})['post']('',{'event':_0x30c37a(0x3b4),'instance':_0x22dcaa[_0x30c37a(0x3d1)],'data':_0x2244a2},{'params':{'owner':this['waMonitor'][_0x30c37a(0x519)][_0x22dcaa[_0x30c37a(0x3d1)]][_0x30c37a(0x743)]}});}catch(_0xdb8c20){this[_0x30c37a(0x697)][_0x30c37a(0x5ee)](_0xdb8c20);}return _0x2244a2;}catch(_0x4d50f0){throw this['logger'][_0x30c37a(0x5ee)]({'localError':l[_0x30c37a(0x72c)]+_0x30c37a(0x299),'error':_0x4d50f0}),new g('Invalid\x20\x22oldToken\x22');}}},ft=class extends L{constructor(_0x2ad76d,..._0x36c546){const _0x33f1ce=a0_0x2aad5a;super(),this[_0x33f1ce(0x231)]=_0x2ad76d,this[_0x33f1ce(0x673)]=(0x0,Xa[_0x33f1ce(0x2b8)])();let _0xde1bf3=_0x2ad76d['get'](_0x33f1ce(0x17a));this[_0x33f1ce(0x673)][_0x33f1ce(0x59d)](_0x33f1ce(0x66f),..._0x36c546,async(_0x1a0f7f,_0x167d38)=>{const _0x5325ef=_0x33f1ce;let {instanceName:_0x5ccb87,apikey:_0x10d5da}=_0x1a0f7f[_0x5325ef(0x561)],_0xa59e1c=await ce[_0x5325ef(0x1a6)]({'instanceName':_0x5ccb87,'apikey':_0x10d5da});return _0x167d38[_0x5325ef(0x1a9)](0xc9)[_0x5325ef(0x647)](_0xa59e1c);})[_0x33f1ce(0x34c)](this[_0x33f1ce(0x3be)](_0x33f1ce(0x43c)),..._0x36c546,async(_0x5bb794,_0x30d072)=>{const _0xb3539b=_0x33f1ce;let _0x2828b1=await this[_0xb3539b(0x28c)]({'request':_0x5bb794,'schema':v,'ClassRef':b,'execute':_0xb70691=>ce['restartInstance'](_0xb70691)});return _0x30d072['status'](0xc8)[_0xb3539b(0x647)](_0x2828b1);})[_0x33f1ce(0x6e1)](this[_0x33f1ce(0x3be)](_0x33f1ce(0x56b)),..._0x36c546,async(_0x212352,_0x20e479)=>{const _0x459505=_0x33f1ce;let _0x47a5e5=await this[_0x459505(0x28c)]({'request':_0x212352,'schema':v,'ClassRef':b,'execute':_0x13e891=>ce[_0x459505(0x31d)](_0x13e891)});return _0x20e479[_0x459505(0x1a9)](0xc8)[_0x459505(0x647)](_0x47a5e5);})[_0x33f1ce(0x6e1)](this['routerPath'](_0x33f1ce(0x3d2)),..._0x36c546,async(_0x40f31d,_0x252d8b)=>{const _0x454bad=_0x33f1ce;let _0x299e02=await this['dataValidate']({'request':_0x40f31d,'schema':v,'ClassRef':b,'execute':_0x568a25=>ce['connectionState'](_0x568a25)});return _0x252d8b[_0x454bad(0x1a9)](0xc8)[_0x454bad(0x647)](_0x299e02);})[_0x33f1ce(0x6e1)](this[_0x33f1ce(0x3be)](_0x33f1ce(0x63b),!0x1),..._0x36c546,async(_0xf3218c,_0x3d3ef5)=>{const _0x2d4ceb=_0x33f1ce;let _0x9165f8=await this[_0x2d4ceb(0x28c)]({'request':_0xf3218c,'schema':null,'ClassRef':b,'execute':_0x28cecf=>ce[_0x2d4ceb(0x63b)](_0x28cecf)});return _0x3d3ef5[_0x2d4ceb(0x1a9)](0xc8)[_0x2d4ceb(0x647)](_0x9165f8);})[_0x33f1ce(0x1d1)](this[_0x33f1ce(0x3be)]('logout'),..._0x36c546,async(_0x300707,_0x566e55)=>{const _0x4776c4=_0x33f1ce;let _0x5094b7=await this[_0x4776c4(0x28c)]({'request':_0x300707,'schema':v,'ClassRef':b,'execute':_0x4f521f=>ce[_0x4776c4(0x39a)](_0x4f521f)});return _0x566e55[_0x4776c4(0x1a9)](0xc8)[_0x4776c4(0x647)](_0x5094b7);})[_0x33f1ce(0x1d1)](this['routerPath'](_0x33f1ce(0x1d1)),..._0x36c546,async(_0x3025d6,_0x17d6b0)=>{const _0xc80781=_0x33f1ce;let _0x5961da=await this[_0xc80781(0x28c)]({'request':_0x3025d6,'schema':v,'ClassRef':b,'execute':_0x173b8b=>ce[_0xc80781(0x2ef)](_0x173b8b)});return _0x17d6b0['status'](0xc8)[_0xc80781(0x647)](_0x5961da);}),_0xde1bf3[_0x33f1ce(0x4de)]===_0x33f1ce(0x716)&&this['router'][_0x33f1ce(0x34c)](_0x33f1ce(0x31e),async(_0x1d4377,_0x7ebab3)=>{const _0x19b2b3=_0x33f1ce;let _0x3905a2=await this[_0x19b2b3(0x28c)]({'request':_0x1d4377,'schema':ma,'ClassRef':mt,'execute':(_0x523dc7,_0x2215d8)=>ce[_0x19b2b3(0x332)](_0x523dc7,_0x2215d8)});return _0x7ebab3[_0x19b2b3(0x1a9)](0xc9)['json'](_0x3905a2);});}},Za=require(a0_0x2aad5a(0x756)),bs=class{},z=class extends bs{},wt=class extends z{},yt=class extends z{},bt=class extends z{},Oe=class extends z{},St=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Ct=class extends z{},Tt=class{},Mt=class extends L{constructor(..._0x4bcb51){const _0x57b143=a0_0x2aad5a;super(),this[_0x57b143(0x673)]=(0x0,Za[_0x57b143(0x2b8)])(),this[_0x57b143(0x673)][_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x3d9)),..._0x4bcb51,async(_0x4d6718,_0x885759)=>{const _0x1ea44c=_0x57b143;let _0x481a64=await this['dataValidate']({'request':_0x4d6718,'schema':ha,'ClassRef':wt,'execute':(_0x7f3ce8,_0x427a67)=>K[_0x1ea44c(0x3d9)](_0x7f3ce8,_0x427a67)});return _0x885759[_0x1ea44c(0x1a9)](0xc9)[_0x1ea44c(0x647)](_0x481a64);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x5e5)),..._0x4bcb51,async(_0x12335f,_0x4d243e)=>{const _0x463bf7=_0x57b143;let _0x54947b=await this[_0x463bf7(0x28c)]({'request':_0x12335f,'schema':ba,'ClassRef':Oe,'execute':(_0x5e8ed6,_0x4d0ff9)=>K[_0x463bf7(0x5e5)](_0x5e8ed6,_0x4d0ff9)});return _0x4d243e[_0x463bf7(0x1a9)](0xc9)['json'](_0x54947b);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)]('sendWhatsAppAudio'),..._0x4bcb51,async(_0x249e28,_0x2d10fa)=>{const _0x5140c7=_0x57b143;let _0x20d783=await this[_0x5140c7(0x28c)]({'request':_0x249e28,'schema':Sa,'ClassRef':Oe,'execute':(_0x5c6ea0,_0x5ae804)=>K[_0x5140c7(0x41a)](_0x5c6ea0,_0x5ae804)});return _0x2d10fa[_0x5140c7(0x1a9)](0xc9)[_0x5140c7(0x647)](_0x20d783);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x311)),..._0x4bcb51,async(_0x200db3,_0x17abd8)=>{const _0x578722=_0x57b143;let _0xec07ae=await this[_0x578722(0x28c)]({'request':_0x200db3,'schema':va,'ClassRef':Et,'execute':(_0x1f0213,_0x2b54a4)=>K['sendButtons'](_0x1f0213,_0x2b54a4)});return _0x17abd8[_0x578722(0x1a9)](0xc9)['json'](_0xec07ae);})['post'](this['routerPath'](_0x57b143(0x73b)),..._0x4bcb51,async(_0x3298b4,_0x309b23)=>{const _0x57bfa1=_0x57b143;let _0x2bb101=await this['dataValidate']({'request':_0x3298b4,'schema':Na,'ClassRef':vt,'execute':(_0x4f1a58,_0x37bd28)=>K[_0x57bfa1(0x73b)](_0x4f1a58,_0x37bd28)});return _0x309b23[_0x57bfa1(0x1a9)](0xc9)['json'](_0x2bb101);})['post'](this[_0x57b143(0x3be)](_0x57b143(0x395)),..._0x4bcb51,async(_0x4945da,_0x1ed00b)=>{const _0x2f3f0c=_0x57b143;let _0x4c8455=await this[_0x2f3f0c(0x28c)]({'request':_0x4945da,'schema':Ca,'ClassRef':Nt,'execute':(_0x207f03,_0x1cde59)=>K[_0x2f3f0c(0x395)](_0x207f03,_0x1cde59)});return _0x1ed00b['status'](0xc9)[_0x2f3f0c(0x647)](_0x4c8455);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x232)),..._0x4bcb51,async(_0xf9fb02,_0x287ede)=>{const _0x2b8f0f=_0x57b143;let _0x494ffb=await this[_0x2b8f0f(0x28c)]({'request':_0xf9fb02,'schema':Ta,'ClassRef':Ct,'execute':(_0x4c6a7a,_0x128775)=>K[_0x2b8f0f(0x232)](_0x4c6a7a,_0x128775)});return _0x287ede[_0x2b8f0f(0x1a9)](0xc9)[_0x2b8f0f(0x647)](_0x494ffb);})[_0x57b143(0x59d)](this['routerPath'](_0x57b143(0x42e)),..._0x4bcb51,async(_0x22be3f,_0x5a2fac)=>{const _0x42121e=_0x57b143;let _0x315a40=await this[_0x42121e(0x28c)]({'request':_0x22be3f,'schema':Ma,'ClassRef':Tt,'execute':(_0x47cdf5,_0x32c211)=>K[_0x42121e(0x42e)](_0x47cdf5,_0x32c211)});return _0x5a2fac[_0x42121e(0x1a9)](0xc9)['json'](_0x315a40);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x2d1)),..._0x4bcb51,async(_0x4c5966,_0x26f522)=>{const _0x1c2b71=_0x57b143;let _0x562618=await this['dataValidate']({'request':_0x4c5966,'schema':Ea,'ClassRef':bt,'execute':(_0x534ae3,_0xf6f511)=>K[_0x1c2b71(0x2d1)](_0x534ae3,_0xf6f511)});return _0x26f522[_0x1c2b71(0x1a9)](0xc9)[_0x1c2b71(0x647)](_0x562618);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x52f)),..._0x4bcb51,async(_0x5ede92,_0x5e60ba)=>{const _0x464dac=_0x57b143;let _0x48fbd9=await this[_0x464dac(0x28c)]({'request':_0x5ede92,'schema':ya,'ClassRef':yt,'execute':(_0x51df8e,_0x524c41)=>K[_0x464dac(0x52f)](_0x51df8e,_0x524c41)});return _0x5e60ba[_0x464dac(0x1a9)](0xc9)[_0x464dac(0x647)](_0x48fbd9);})[_0x57b143(0x59d)](this[_0x57b143(0x3be)](_0x57b143(0x478)),..._0x4bcb51,async(_0x477f7d,_0x479f24)=>{const _0x25b92c=_0x57b143;let _0x589b09=await this[_0x25b92c(0x28c)]({'request':_0x477f7d,'schema':wa,'ClassRef':St,'execute':(_0x4310fe,_0x582710)=>K['sendSticker'](_0x4310fe,_0x582710)});return _0x479f24[_0x25b92c(0x1a9)](0xc9)[_0x25b92c(0x647)](_0x589b09);});}},eo=require(a0_0x2aad5a(0x756)),Rt=class extends L{constructor(..._0x2d4b6f){const _0x32f15a=a0_0x2aad5a;super(),this[_0x32f15a(0x673)]=(0x0,eo['Router'])(),this[_0x32f15a(0x673)]['get'](this[_0x32f15a(0x3be)](_0x32f15a(0x51d)),..._0x2d4b6f,(_0x3f96cb,_0x5f45c6)=>to['qrcode'](_0x3f96cb,_0x5f45c6));}},so=require(a0_0x2aad5a(0x756)),At=class{},It=class extends L{constructor(..._0x4174b0){const _0x528d93=a0_0x2aad5a;super(),this[_0x528d93(0x673)]=(0x0,so[_0x528d93(0x2b8)])(),this[_0x528d93(0x673)][_0x528d93(0x59d)](this[_0x528d93(0x3be)](_0x528d93(0x398)),..._0x4174b0,async(_0x4bb3ce,_0x1e60f9)=>{const _0x581e0f=_0x528d93;let _0x1a4dc3=await this[_0x581e0f(0x28c)]({'request':_0x4bb3ce,'schema':Ha,'ClassRef':At,'execute':(_0x2617ba,_0x307cdf)=>Ss[_0x581e0f(0x5f7)](_0x2617ba,_0x307cdf)});_0x1e60f9[_0x581e0f(0x1a9)](0xc9)['json'](_0x1a4dc3);})[_0x528d93(0x6e1)](this['routerPath'](_0x528d93(0x2f0)),..._0x4174b0,async(_0x3f42cb,_0x194c80)=>{const _0x526ef5=_0x528d93;let _0x16852e=await this[_0x526ef5(0x28c)]({'request':_0x3f42cb,'schema':v,'ClassRef':b,'execute':_0x235b5c=>Ss[_0x526ef5(0x612)](_0x235b5c)});_0x194c80[_0x526ef5(0x1a9)](0xc8)[_0x526ef5(0x647)](_0x16852e);});}},ao=require('express'),f=new C(a0_0x2aad5a(0x684)),Dt=class extends L{constructor(..._0x759d38){const _0xa9917c=a0_0x2aad5a;super(),this[_0xa9917c(0x673)]=(0x0,ao['Router'])(),this[_0xa9917c(0x673)][_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x480)),..._0x759d38,async(_0x3780ad,_0x481971)=>{const _0x372649=_0xa9917c;let _0xf0f6e1=_0x3780ad[_0x372649(0x561)];f[_0x372649(0x69e)](_0x372649(0x6e4)),f['verbose'](_0x372649(0x20d)),f[_0x372649(0x69e)](_0x3780ad[_0x372649(0x561)]);let _0x4d5ba0=await this[_0x372649(0x28c)]({'request':_0x3780ad,'schema':v,'ClassRef':b,'execute':_0x4b34b4=>R[_0x372649(0x2ee)](_0x4b34b4,_0xf0f6e1)});_0x481971[_0x372649(0x1a9)](0xc8)[_0x372649(0x647)](_0x4d5ba0);})[_0xa9917c(0x6e1)](this[_0xa9917c(0x3be)](_0xa9917c(0x480)),..._0x759d38,async(_0x447590,_0x374b97)=>{const _0x584c76=_0xa9917c;let _0xb629d9=await this[_0x584c76(0x28c)]({'request':_0x447590,'schema':v,'ClassRef':b,'execute':_0x28c4ee=>R[_0x584c76(0x6c4)](_0x28c4ee)});_0x374b97['status'](0xc8)['json'](_0xb629d9);})[_0xa9917c(0x1d1)](this['routerPath'](_0xa9917c(0x39f)),..._0x759d38,async(_0x3d4607,_0x2a220d)=>{const _0x32ea97=_0xa9917c;f[_0x32ea97(0x69e)](_0x32ea97(0x1b4));let _0x5c4580=await this[_0x32ea97(0x28c)]({'request':_0x3d4607,'schema':v,'ClassRef':b,'execute':_0x36b718=>R[_0x32ea97(0x39f)](_0x36b718)});_0x2a220d[_0x32ea97(0x1a9)](0xc8)[_0x32ea97(0x647)](_0x5c4580);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x3f4)),..._0x759d38,async(_0x2cb240,_0x230761)=>{const _0x1da7a4=_0xa9917c;let _0x201fd6=_0x2cb240['body'];f[_0x1da7a4(0x69e)](_0x1da7a4(0x206)),f[_0x1da7a4(0x69e)]('request\x20body:\x20'),f['verbose'](_0x2cb240['body']);let _0x5c8ffe=await this[_0x1da7a4(0x28c)]({'request':_0x2cb240,'schema':v,'ClassRef':b,'execute':_0x4d4f8f=>R[_0x1da7a4(0x3f4)](_0x4d4f8f,_0x201fd6)});_0x230761[_0x1da7a4(0x1a9)](0xc8)[_0x1da7a4(0x647)](_0x5c8ffe);})[_0xa9917c(0x6e1)](this[_0xa9917c(0x3be)](_0xa9917c(0x27c)),..._0x759d38,async(_0x1f5e52,_0x177ada)=>{const _0x40fb10=_0xa9917c;f['verbose'](_0x40fb10(0x24e));let _0x4ab643=await this['dataValidate']({'request':_0x1f5e52,'schema':v,'ClassRef':b,'execute':_0x48a791=>R[_0x40fb10(0x27c)](_0x48a791)});_0x177ada['status'](0xc8)[_0x40fb10(0x647)](_0x4ab643);})['get'](this[_0xa9917c(0x3be)](_0xa9917c(0x671)),..._0x759d38,async(_0x19f9e1,_0x54618b)=>{const _0xea18b4=_0xa9917c;f[_0xea18b4(0x69e)](_0xea18b4(0x359));let _0x2de850=await this[_0xea18b4(0x28c)]({'request':_0x19f9e1,'schema':v,'ClassRef':b,'execute':_0xe9354f=>R[_0xea18b4(0x27c)](_0xe9354f)});_0x54618b[_0xea18b4(0x1a9)](0xc8)[_0xea18b4(0x647)](_0x2de850);})['post'](this['routerPath'](_0xa9917c(0x69d)),..._0x759d38,async(_0x39fb14,_0x5c2d60)=>{const _0x3a59fa=_0xa9917c;let _0x72c6d9=_0x39fb14['body'];f[_0x3a59fa(0x69e)]('request\x20received\x20in\x20updateAgent'),f['verbose']('request\x20body:\x20'),f[_0x3a59fa(0x69e)](_0x39fb14[_0x3a59fa(0x561)]);let _0x2287a8=await this['dataValidate']({'request':_0x39fb14,'schema':v,'ClassRef':b,'execute':_0x444441=>R[_0x3a59fa(0x69d)](_0x444441,_0x72c6d9)});_0x5c2d60[_0x3a59fa(0x1a9)](0xc8)[_0x3a59fa(0x647)](_0x2287a8);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)]('updateCustomFields'),..._0x759d38,async(_0x1071f3,_0x4f9e13)=>{const _0x14692f=_0xa9917c;let _0x4aebac=_0x1071f3[_0x14692f(0x561)];f[_0x14692f(0x69e)]('request\x20received\x20in\x20updateCustomFields'),f[_0x14692f(0x69e)]('request\x20body:\x20'),f[_0x14692f(0x69e)](_0x1071f3[_0x14692f(0x561)]);let _0x5ebcbd=await this[_0x14692f(0x28c)]({'request':_0x1071f3,'schema':v,'ClassRef':b,'execute':_0x4da1a1=>R['updateCustomFields'](_0x4da1a1,_0x4aebac)});_0x4f9e13['status'](0xc8)[_0x14692f(0x647)](_0x5ebcbd);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x678)),..._0x759d38,async(_0x5cf9dc,_0x4e6701)=>{const _0x539b57=_0xa9917c;let _0x37f0da=_0x5cf9dc[_0x539b57(0x561)];f[_0x539b57(0x69e)](_0x539b57(0x1e6)),f[_0x539b57(0x69e)]('request\x20body:\x20'),f[_0x539b57(0x69e)](_0x5cf9dc[_0x539b57(0x561)]);let _0xb2f3d8=await this[_0x539b57(0x28c)]({'request':_0x5cf9dc,'schema':v,'ClassRef':b,'execute':_0x47e002=>R[_0x539b57(0x678)](_0x47e002,_0x37f0da)});_0x4e6701[_0x539b57(0x1a9)](0xc8)[_0x539b57(0x647)](_0xb2f3d8);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x6bc)),..._0x759d38,async(_0x34abc7,_0x44878a)=>{const _0x108185=_0xa9917c;let _0x1cf5bc=_0x34abc7[_0x108185(0x561)];f['verbose'](_0x108185(0x44e)),f[_0x108185(0x69e)](_0x108185(0x20d)),f[_0x108185(0x69e)](_0x34abc7[_0x108185(0x561)]);let _0x52cfb9=await this['dataValidate']({'request':_0x34abc7,'schema':v,'ClassRef':b,'execute':_0x20ce1b=>R[_0x108185(0x6bc)](_0x20ce1b,_0x1cf5bc)});_0x44878a[_0x108185(0x1a9)](0xc8)['json'](_0x52cfb9);})['post'](this[_0xa9917c(0x3be)](_0xa9917c(0x47f)),..._0x759d38,async(_0x2916a5,_0xe26bd5)=>{const _0x17f5b9=_0xa9917c;let _0xcf4eb7=_0x2916a5[_0x17f5b9(0x561)];f[_0x17f5b9(0x69e)]('request\x20received\x20in\x20fetchConversation'),f[_0x17f5b9(0x69e)](_0x17f5b9(0x20d)),f[_0x17f5b9(0x69e)](_0x2916a5[_0x17f5b9(0x561)]);let _0x2f0e23=await this[_0x17f5b9(0x28c)]({'request':_0x2916a5,'schema':v,'ClassRef':b,'execute':_0x549585=>R['fetchConversation'](_0x549585,_0xcf4eb7)});_0xe26bd5[_0x17f5b9(0x1a9)](0xc8)[_0x17f5b9(0x647)](_0x2f0e23);})['post'](this[_0xa9917c(0x3be)](_0xa9917c(0x75e)),..._0x759d38,async(_0x5b27d4,_0x33bbea)=>{const _0x3e9e68=_0xa9917c;let _0x12cab3=_0x5b27d4[_0x3e9e68(0x561)];f['verbose'](_0x3e9e68(0x296)),f[_0x3e9e68(0x69e)](_0x3e9e68(0x20d)),f[_0x3e9e68(0x69e)](_0x5b27d4['body']);let _0xe11ae1=await this[_0x3e9e68(0x28c)]({'request':_0x5b27d4,'schema':v,'ClassRef':b,'execute':_0x4afe71=>R[_0x3e9e68(0x75e)](_0x4afe71,_0x12cab3)});_0x33bbea[_0x3e9e68(0x1a9)](0xc8)['json'](_0xe11ae1);})[_0xa9917c(0x1d1)](this[_0xa9917c(0x3be)](_0xa9917c(0x1f3)),..._0x759d38,async(_0x55cdc3,_0x254b87)=>{const _0x392802=_0xa9917c;let _0x223395=_0x55cdc3['body'];f[_0x392802(0x69e)](_0x392802(0x203)),f[_0x392802(0x69e)](_0x392802(0x20d)),f['verbose'](_0x55cdc3[_0x392802(0x561)]);let _0x21bd26=await this[_0x392802(0x28c)]({'request':_0x55cdc3,'schema':v,'ClassRef':b,'execute':_0x4e1e0e=>R[_0x392802(0x1f3)](_0x4e1e0e,_0x223395)});_0x254b87[_0x392802(0x1a9)](0xc8)[_0x392802(0x647)](_0x21bd26);})[_0xa9917c(0x59d)](this['routerPath'](_0xa9917c(0x6a6)),..._0x759d38,async(_0x1856fd,_0x133ca9)=>{const _0xf67aac=_0xa9917c;let _0x2ae9ff=_0x1856fd[_0xf67aac(0x561)];f[_0xf67aac(0x69e)](_0xf67aac(0x634)),f[_0xf67aac(0x69e)](_0xf67aac(0x20d)),f[_0xf67aac(0x69e)](_0x1856fd[_0xf67aac(0x561)]);let _0x56a828=await this[_0xf67aac(0x28c)]({'request':_0x1856fd,'schema':v,'ClassRef':b,'execute':_0x340ae7=>R[_0xf67aac(0x4bf)](_0x340ae7,_0x2ae9ff)});_0x133ca9['status'](0xc8)['json'](_0x56a828);})['post'](this['routerPath'](_0xa9917c(0x36d)),..._0x759d38,async(_0x520470,_0xc1820a)=>{const _0x50e82f=_0xa9917c;let _0x592050=_0x520470['body'];f['verbose'](_0x50e82f(0x732)),f[_0x50e82f(0x69e)](_0x50e82f(0x20d)),f[_0x50e82f(0x69e)](_0x520470[_0x50e82f(0x561)]),delete _0x592050[_0x50e82f(0x16a)],delete _0x592050[_0x50e82f(0x57f)],delete _0x592050[_0x50e82f(0x69c)],delete _0x592050[_0x50e82f(0x353)];let _0x1a37ca=await this[_0x50e82f(0x28c)]({'request':_0x520470,'schema':v,'ClassRef':b,'execute':_0x34ceb9=>R[_0x50e82f(0x6ba)](_0x34ceb9,_0x592050)});_0xc1820a['status'](0xc8)[_0x50e82f(0x647)](_0x1a37ca);})['post'](this['routerPath'](_0xa9917c(0x58f)),..._0x759d38,async(_0x26da37,_0x37dcc9)=>{const _0x22c64e=_0xa9917c;let _0x33312a=_0x26da37[_0x22c64e(0x561)];f[_0x22c64e(0x69e)](_0x22c64e(0x732)),f[_0x22c64e(0x69e)](_0x22c64e(0x20d)),f['verbose'](_0x26da37[_0x22c64e(0x561)]);let _0x3c0be7=await this[_0x22c64e(0x28c)]({'request':_0x26da37,'schema':v,'ClassRef':b,'execute':_0x387fb9=>R[_0x22c64e(0x475)](_0x387fb9,_0x33312a)});_0x37dcc9[_0x22c64e(0x1a9)](0xc8)[_0x22c64e(0x647)](_0x3c0be7);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x4cf)),..._0x759d38,async(_0x1efd04,_0x89647)=>{const _0x482f3c=_0xa9917c;let _0x2534f5=_0x1efd04['body'];f[_0x482f3c(0x69e)](_0x482f3c(0x732)),f[_0x482f3c(0x69e)](_0x482f3c(0x20d)),f[_0x482f3c(0x69e)](_0x1efd04[_0x482f3c(0x561)]);let _0x1da715=await this[_0x482f3c(0x28c)]({'request':_0x1efd04,'schema':v,'ClassRef':b,'execute':_0x1218b6=>R[_0x482f3c(0x741)](_0x1218b6,_0x2534f5)});_0x89647[_0x482f3c(0x1a9)](0xc8)['json'](_0x1da715);})[_0xa9917c(0x59d)](this['routerPath'](_0xa9917c(0x75d)),..._0x759d38,async(_0x13b6c6,_0x3e509a)=>{const _0x26fcae=_0xa9917c;let _0x31b878=_0x13b6c6[_0x26fcae(0x561)];f[_0x26fcae(0x69e)](_0x26fcae(0x732)),f[_0x26fcae(0x69e)]('request\x20body:\x20'),f['verbose'](_0x13b6c6[_0x26fcae(0x561)]);let _0x43041e=await this['dataValidate']({'request':_0x13b6c6,'schema':v,'ClassRef':b,'execute':_0x18786f=>R['editFlowVaredit'](_0x18786f,_0x31b878)});_0x3e509a[_0x26fcae(0x1a9)](0xc8)['json'](_0x43041e);})[_0xa9917c(0x59d)](this[_0xa9917c(0x3be)](_0xa9917c(0x437)),..._0x759d38,async(_0x1ad076,_0x2318aa)=>{const _0x59e06d=_0xa9917c;let _0x196bf0=_0x1ad076[_0x59e06d(0x561)];f['verbose'](_0x59e06d(0x567)),f[_0x59e06d(0x69e)](_0x59e06d(0x20d)),f[_0x59e06d(0x69e)](_0x1ad076[_0x59e06d(0x561)]);let _0x13762e=await this[_0x59e06d(0x28c)]({'request':_0x1ad076,'schema':v,'ClassRef':b,'execute':_0x333746=>R[_0x59e06d(0x278)](_0x333746,_0x196bf0)});_0x2318aa[_0x59e06d(0x1a9)](0xc8)['json'](_0x13762e);})[_0xa9917c(0x59d)](this['routerPath'](_0xa9917c(0x1ac)),..._0x759d38,async(_0x2feaa4,_0xbcaa56)=>{const _0x56b055=_0xa9917c;let _0x4ba9c9=_0x2feaa4[_0x56b055(0x561)];f['verbose']('request\x20received\x20in\x20editFlowcondition'),f[_0x56b055(0x69e)](_0x56b055(0x20d)),f[_0x56b055(0x69e)](_0x2feaa4['body']);let _0x4207da=await this[_0x56b055(0x28c)]({'request':_0x2feaa4,'schema':v,'ClassRef':b,'execute':_0x49fd93=>R[_0x56b055(0x5b4)](_0x49fd93,_0x4ba9c9)});_0xbcaa56[_0x56b055(0x1a9)](0xc8)[_0x56b055(0x647)](_0x4207da);})['post'](this[_0xa9917c(0x3be)](_0xa9917c(0x1b7)),..._0x759d38,async(_0x1f86cb,_0x1f47b2)=>{const _0x59eed9=_0xa9917c;let _0x524555=_0x1f86cb[_0x59eed9(0x561)];f['verbose'](_0x59eed9(0x4ee)),f['verbose'](_0x59eed9(0x20d)),f[_0x59eed9(0x69e)](_0x1f86cb[_0x59eed9(0x561)]);let _0x3a9159=await this[_0x59eed9(0x28c)]({'request':_0x1f86cb,'schema':v,'ClassRef':b,'execute':_0x2b4918=>R[_0x59eed9(0x30c)](_0x2b4918,_0x524555)});_0x1f47b2[_0x59eed9(0x1a9)](0xc8)[_0x59eed9(0x647)](_0x3a9159);})[_0xa9917c(0x59d)](this['routerPath']('getflow'),..._0x759d38,async(_0x177683,_0x3e6413)=>{const _0x56e430=_0xa9917c;let _0x3d631c=_0x177683[_0x56e430(0x561)];f[_0x56e430(0x69e)](_0x56e430(0x1b8)),f[_0x56e430(0x69e)]('request\x20body:\x20'),f[_0x56e430(0x69e)](_0x177683[_0x56e430(0x561)]);let _0x493e03=await this[_0x56e430(0x28c)]({'request':_0x177683,'schema':v,'ClassRef':b,'execute':_0x12e7b7=>R[_0x56e430(0x23d)](_0x12e7b7,_0x3d631c)});_0x3e6413[_0x56e430(0x1a9)](0xc8)['json'](_0x493e03);})[_0xa9917c(0x1d1)](this['routerPath'](_0xa9917c(0x680)),..._0x759d38,async(_0xe0db7c,_0x5a5d3f)=>{const _0x33c877=_0xa9917c;let _0x5a63c4=_0xe0db7c[_0x33c877(0x561)];f['verbose'](_0x33c877(0x634)),f[_0x33c877(0x69e)]('request\x20body:\x20'),f[_0x33c877(0x69e)](_0xe0db7c[_0x33c877(0x561)]);let _0x51e86f=await this[_0x33c877(0x28c)]({'request':_0xe0db7c,'schema':v,'ClassRef':b,'execute':_0x2a02c8=>R[_0x33c877(0x440)](_0x2a02c8,_0x5a63c4)});_0x5a5d3f[_0x33c877(0x1a9)](0xc8)['json'](_0x51e86f);})[_0xa9917c(0x6e1)](this['routerPath'](_0xa9917c(0x21e)),..._0x759d38,async(_0x19b4e8,_0x4f8c93)=>{const _0x306c5a=_0xa9917c;f[_0x306c5a(0x69e)](_0x306c5a(0x369));let _0x11cb15=await this[_0x306c5a(0x28c)]({'request':_0x19b4e8,'schema':v,'ClassRef':b,'execute':_0x518a8c=>R[_0x306c5a(0x1e1)](_0x518a8c)});_0x4f8c93['status'](0xc8)[_0x306c5a(0x647)](_0x11cb15);});}},no=T(require(a0_0x2aad5a(0x736))),te={};function oo(_0x8d6708,_0x2d279d,_0xc1c960,_0x271a8b){te[_0x8d6708]||(te[_0x8d6708]={}),te[_0x8d6708][_0x2d279d]={'id':_0x2d279d,'response':_0xc1c960,'events':_0x271a8b};}function io(_0x1af127,_0x36f759){!te[_0x1af127]||!te[_0x1af127][_0x36f759]||delete te[_0x1af127][_0x36f759];}function G(_0x5c6c26,_0x2e563c,_0x56dc2a){const _0x2e70b1=a0_0x2aad5a;if(!te[_0x5c6c26])return;let _0x4bbc3a=_0x2e70b1(0x639)+JSON[_0x2e70b1(0x318)](_0x56dc2a)+'\x0a\x0a';Object[_0x2e70b1(0x346)](te[_0x5c6c26])['forEach'](_0x2cb3d5=>{const _0xe4de6e=_0x2e70b1;_0x2cb3d5[_0xe4de6e(0x4dd)][_0xe4de6e(0x5a9)](_0x2e563c)&&_0x2cb3d5['response'][_0xe4de6e(0x4c8)](_0x4bbc3a);});}function ro(){const _0x4723f9=a0_0x2aad5a;let _0x45cf45={};for(let _0x59319e in te)_0x45cf45[_0x59319e]=Object[_0x4723f9(0x346)](te[_0x59319e])['map'](_0x59f247=>({'id':_0x59f247['id'],'events':_0x59f247[_0x4723f9(0x4dd)]}));return _0x45cf45;}var co=require(a0_0x2aad5a(0x6c7)),ui=no['default'][a0_0x2aad5a(0x4c3)](__dirname,'downloads'),Ot=(0x0,Pt['Router'])(),di=y[a0_0x2aad5a(0x6e1)]('AUTHENTICATION')[a0_0x2aad5a(0x4de)],pe=[fs,ua,ga[di]];function a0_0x7188(){const _0x5d141e=['apiName','senderKeyDistributionMessage','enabled','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','mongodb://','Fetching\x20business\x20profile','scheduleSendText','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','editChat','expression','/create','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','getTicketSystem','unavailable','router','groupName','authService','Erro\x20ao\x20editar\x20o\x20bloco:\x20','spawn','updateFlowConfig','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','isURL','substring','WEBHOOK_EVENTS_CHATS_UPSERT','Atualização:\x20','AUTHENTICATION_API_KEY','LICENSE_INVALID','deleteflow','saveConversationToDatabase','formatVCard','waitingPoll_id','FlowRouter','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','archive','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Flow\x20already\x20exists','processPollUpdateMessage','reconnectAttempts','CHATS_SET','/instance/create','footerText','messageUpdate','padStart','padEnd','errors','processvaredits','leaveGroup','\x20}\x0a','messages.update','METHODS','logger','Authentication\x20error','Error\x20writing\x20file:\x20','numbers','redis','groups','updateAgent','verbose','mediatype','ERROR','CREDENTIALS','TEXT','groupMetadata','verifiedName','header','createflow','loadEnv','audioMessage','findGroupInfos','getProfileName','):\x20Conversa\x20está\x20expirada','\x1b[33m\x1b[1m','):\x20Criando\x20fluxo...','):\x20Limpando\x20AutomateSystem','indexOf','mimetype','linkPreview','text/event-stream','WEBHOOK_EVENTS_CONTACTS_SET','updatePrivacySettings','redisCache','uazapiSendMedia','updateOnlinePrivacy','findGroup','dropCollection','editFlow',',\x20lastCondition:\x20','getConversation','WEBHOOK_EVENTS_MESSAGES_SET','Converted\x20image\x20deleted','Content-Type','Getting\x20audio\x20from\x20url','delInstanceFiles','create','groups.update','getScheduleMessage','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Last\x20message\x20not\x20found','uuid','Getting\x20profile\x20with\x20jid:\x20',',\x20Comparador:\x20','readdirSync','stopMinutes','Temp\x20audio\x20created','/wa-groups','}}\x20->\x20valor\x20não\x20encontrado','deleteMessageForEveryone','utf-8','Getting\x20profile\x20info','stopIfLastReturnedError','then','statusCode','eventEmitter','loggedOut','setHeader','):\x20Ler\x20mensagem','replaceVariablesInReplyOptions','deleteBlock','fromObject','addresss','slice','arrayUnique','mediaSticker','createConversationforStartFlow','get','sort','-version','request\x20received\x20in\x20scheduleMessage','selectedOptions','makeCacheableSignalKeyStore','buffer','lastMessage','hasOwnProperty','jsonwebtoken','useMultiFileAuthState','findFlow','saveAPI','Button\x20texts\x20cannot\x20be\x20repeated','emit','contextInfo','announce','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Valor\x20de\x20find\x20ou\x20replace\x20ausente','FULLCHAIN','SUCCESS','toLocaleString','close','originalUrl','replyOptions','Error\x20change\x20group\x20description','):\x20Enviando\x20contato','Comando\x20desconhecido','array','max',',\x20Expiration\x20Time:\x20','CONFIG_SESSION_PHONE','WEBHOOK_GLOBAL_ENABLED','reviver','Sending\x20audio\x20whatsapp','AppStateSyncKeyData','end','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','LOG_COLOR','LEVEL','state','Log\x20out\x20instance:\x20','reactionMessage','Error\x20in\x20scheduleNextCheck:\x20','dbClient','out','charAt','instances','):\x20Campos\x20a\x20serem\x20atualizados:','fone','pollUpdateMessage','sending','storePath','jwt','):\x20Current\x20Time:\x20','-whatsapp-api','mongoose','NAME','Início','WEBHOOK_EVENTS_NEW_JWT_TOKEN','validate','random','The\x20\x22','flowIgnoreGroups','lowerCase','ERROR:\x20','match','Read\x20messages\x20fail','exists','CHATS_UPDATE','JWT','checkAndUpdateChats','addBlock','STATUS_INSTANCE','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','name','test','generateWAMessageFromContent','convertaudio','upperCase','Trying\x20to\x20get\x20business\x20profile','request\x20received\x20in\x20editFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','apiResponse','apply','path','http://checkip.dyndns.org','\x1b[41m','.jwt','format','sendLocation','groupJid','getTime','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','remote\x20\x22origin\x22','type','editFlowReply','Valor\x20inicial:\x20\x22','wuid','datetime','rows','pollCreationMessageKey','poll','and','notMatchRegex','cors','QRCODE','webhook','audio','^\x5cd+','groupHandler','LOG','/wa-connection-update','Error\x20fetching\x20group','DELETED','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Image\x20converted\x20to\x20WebP','express','metadata','organization','createNewConversation','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','email','editflowvaredit','editConversation','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','statSync','sudo\x20apt\x20install\x20-y\x20ffmpeg','flattenObject','pollCreationMessage','/chat','whatsappNumbers','):\x20debug\x20alterando\x20this.AutomateSystem','\x1b[33m%s\x1b[0m','defineProperty','picture','blocks','):\x20Procurando\x20conversa','conversationTimestamp','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','setNewValue','Profile\x20not\x20found',',\x20Resultado:\x20','participants','firstValue','Bloco\x20com\x20ID\x20','/message','updateCustomFields','isDirectory','apikey','uazapiSendPoll','editFlowVaredit','AUTHENTICATION','presenceSubscribe','lastBlockId',',\x20fará\x20nova\x20verificação\x20em\x20','AutomateSystem','Invalid\x20\x22oldToken\x22','chatLog','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','hDel','unlinkSync','connecting','/media/','imagechat','desc','\x20mensagens\x20de\x20','\x20horas\x20e\x20','AUTOUPDATE','cwd','backgroundColor','normalizeMessage','WEBHOOK_EVENTS_CONTACTS_UPSERT','Type\x20not\x20found','ORG:','/*.json','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','js-yaml','Erro\x20ao\x20instalar\x20','The\x20instance\x20is\x20already\x20connected','chat','WA\x20MODULE','/wa-chats','$dbName','filter','pollCreationMessageV3','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','URL','refused','LIMIT','value','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','The\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','contactname','findChats','createInstance','Instância:\x20','webhookModel','status','parse','Module\x20-\x20ON','editflowcondition','):\x20conversation.waitingPollname','MESSAGES_UPSERT','REDIS_URI','replaceVariables','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','closeExistingConversations','\x1b[32m','request\x20received\x20in\x20deleteDoneMessages','QRCODE_UPDATED','send','editflowvariable','request\x20received\x20in\x20getFlow','Close\x20connection','hGet','DB_PREFIX_NAME','latitude','Error\x20updating\x20profile\x20picture','stopped','VERBOSE','WEBHOOK_MAP','trimmed','contactModel','convertToWebP','):\x20Entrou\x20na\x20função\x20saveReply','sign','Full\x20file\x20path:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','CORS','updateGroupPicture','auth','lastSend','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','/instance/fetchInstances','DOCKER_ENV','):\x20não\x20encontrou','46114CNHtIQ','delete','DATABASE_CONNECTION_URI','notify','ip:\x20','\x0aFN:','getOwnPropertyDescriptor','documentWithCaptionMessage',',\x20valor\x20a\x20encontrar:\x20\x22','Type\x20is\x20required','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Revoke\x20error','replaceVariablesLogs','stickerMessage','\x20inseridos\x20no\x20banco\x20de\x20dados...','convert','getMinutes','allFlows','editedMessage','width','Db\x20Connection','next_groupId','request\x20received\x20in\x20updateFlowConfig','string','creds','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','use','number','Subscribed\x20Events:','assign','getPrototypeOf','matchRegex','Group\x20not\x20found','evaluateCondition','group','deleteConversation','):\x20Criando\x20nova\x20conversa','toBrazilianNumberFormat','msgRetryCounterCache','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','HOST','Content\x20is\x20required','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','updateProfileStatus','base64','Hash\x20to\x20audio\x20name:\x20','pop','noConnection','ini','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','jid','request\x20received\x20in\x20deleteConversation','messageUpModel','Error\x20in\x20markMessageAsRead:','request\x20received\x20in\x20starFlow','imageMessage','extractRegex','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Deleted\x20','no.connection','uazapi','request\x20body:\x20','\x20messages.update.','envYaml','split','sticker','tokenId','/instance','updateStopChat','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Comando\x20desconhecido:\x20','generateHash','CONECTADO\x20À\x20UAZAPI','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','SendScheduleMessage','WEBHOOK_EVENTS_STATUS_INSTANCE','RECONNECT_TIME_FRAME','allflows','Unauthorized','Telefone:\x20','CONTACTS_SET','Bad\x20Request','node-mime-types','scheduleMessages','expiration','\x20contacts','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','viewOnceMessageV2','@whiskeysockets/baileys','fetchProfilePicture','verify','getStatus','):\x20Flow\x20não\x20encontrado','SERVER_TYPE','isJWT','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','configService','sendContact','Image\x20is\x20base64','):\x20Buscando\x20flow...','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Error\x20processing\x20the\x20block:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','stopConversation','headerString','message','message-up','newStoppedUntil','getFlow','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','goNextblock','removeProfilePicture','messageId','context','processblock','BufferJSON',',\x20qrcodeCount:\x20','replaceOne','not_announcement','del','tags','customFields','save','hostname','length','request\x20received\x20in\x20getAutomateSystem','replacer','execSync','):\x20Iniciando\x20bot...','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','insert','media','start','SECRET','WEBHOOK_EVENTS_CHATS_UPDATE','\x20chats\x20de\x20','splice','STORE_CHATS','connected','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','isBase64','limit','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','variablesNotFound','remoteJid','option','binary','chats.set','isBusiness','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','address','entries','):\x20newFirstValue\x20após\x20replaceVariables:','userDevicesCache','readData','Original\x20filename:','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Conexão\x20estabelecida','findGroupInfo','isJidGroup','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','flowStopConversation','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','readMessageBot','promote','chatModel','CONFIG_SESSION_PHONE_NAME','editFlowGroup','/group','order','):\x20this.processingScheduleMessageId:\x20','getAutomateSystem','action','createGroup','audio/ogg;\x20codecs=opus','mentioned','LOG_LEVEL','AUTHENTICATION_JWT_SECRET','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','This\x20name\x20','reorderBlocks','Image\x20path:\x20','scheduleSendAudio',',\x20valor\x20passado:\x20\x22','evaluateConditionTest','flushHeaders','EVENTS','dataValidate','subject','fetchLatestBaileysVersion','Processing\x20audio','messaging-history.set','connectionUpdate','long','):\x20tem\x20blocks','load','contact_blacklist','request\x20received\x20in\x20editConversation','Número:\x20','NO_IP','.refreshToken','936FWxxkz','readFile','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','153477KNGorg','CONTACTS_UPSERT','bulkWrite','):\x20Editando\x20bloco...','notContains','\x1b[33m','errno','Erro\x20ao\x20buscar\x20conversa:\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','video','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','isArray','release','formatBRNumber','):\x20updateResult:','allContacts','fetchBusinessProfile','stateConnection','):\x20Editando\x20replyOption...','):\x20nextBlock.uazapi.name','currency','cleanStore','10ETGNjk','recording','):\x20Procurando\x20mensagens\x20para\x20envio','getContentType','lastReceivedMessage','Router','\x1b[47m','videoMessage','findAndReplaceRegex','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','atendimentoAberto','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','setWebhook','buttonMessage','_id','dayjs','less','class-validator','Erro\x20na\x20migração:','contactMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','image','description','isInteger','SEND_MESSAGE','TRIAL_AD','AutomateSystem\x20não\x20foi\x20inicializado','prototype','dark','instanceKeys','sendPoll','locationMessage','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','.ogg','uazapiSendLocation','WEBHOOK_EVENTS_GROUPS_UPDATE','):\x20Erro\x20ao\x20criar\x20fluxo\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','toLowerCase','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Conversa\x20deletada\x20com\x20sucesso.','height','listMessage','PRESENCE_UPDATE','varedits','urlOrBase64','authentication','/exit','presence.update','toggleEphemeral','):\x20Editando\x20condição\x20do\x20fluxo...','\x1b[46m','valid','updateBlock','\x20\x1b[0m','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','^\x5cd+[\x5c.@\x5cw-]+','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','editScheduleMessage','deleteInstance','find','stdout','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','trim','webp','optionDescription','/clients-info','Output\x20path:\x20','varedit','buttonText','messageModel','audioWhatsapp','USER','\x20foram\x20adicionados\x20\x22contactname\x22\x20','!stop','createServer','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','jsonschema','privacySettings','setContext','profile','Background\x20color\x20is\x20required','longitude','prepareMediaMessage','Forbidden','):\x20newSecondValue\x20após\x20replaceVariables:','DEBUG','prefixCommand','editFlowVariable','replaceValue','map','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','sendButtons','DATABASE_ENABLED',',\x20resultado:\x20','endSession','https://','editOperator','from','stringify','\x22\x20-\x20NOT\x20CONNECTION','fetchContacts','round','WEBHOOK_EVENTS_MESSAGES_UPSERT','connectToWhatsapp','/refreshToken','notas','../env.yml','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','CONNECTION','findGroups','410qaAtdn','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','updateMediaMessage','createJid','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','blockId','profilePictureUrl','\x22reaction\x22\x20must\x20be\x20an\x20emoji','@broadcast','authModel','groupId','updateOne','Falha\x20ao\x20deletar\x20mensagens\x20updates:','has','refreshToken','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','groupToggleEphemeral','_doc','):\x20Alterando\x20fluxo...','Button\x20IDs\x20cannot\x20be\x20repeated.','push','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','contacts','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','query','findByIdAndDelete','caption','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','$set','flow','documentMessage','bearer','50mb','repeat','values','lean','@redis/client','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','API_KEY','g-t','put','readFileSync','static','MESSAGES_UPDATE','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','licenca','replaceVariablesInObject','conditions','DATABASE_CONNECTION_HOST','Error\x20creating\x20group','false','process','\x1b[0m','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','^\x5cd+([-]\x5cd+)*@g.us$','getBusinessProfile','_error','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20não\x20encontrado','apirequest','):\x20Não\x20achou\x20nenhum\x20flow','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Operador:\x20\x22','findOneAndUpdate','contains','sections','utf8','WEBHOOK_GLOBAL_URL','data','request\x20received\x20in\x20allFlows','contact','Mensagem\x20não\x20suportada','fetchProfile2','editflow','app-state-sync-key','Media\x20folder\x20path:','AutomateFunctions','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','stack','addReplyOption','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','groupParticipantsUpdate','options','STORE_CLEANING_TERMINAL','):\x20alterando\x20this.AutomateSystem','AUTHENTICATION_TYPE','Method\x20not\x20implemented.','profilePicture','messageTimestamp','sendMessageWithTyping','CORS_METHODS','removeInstance','sha256','newValue','pushName','Error\x20removing\x20profile\x20picture','.png','Error\x20change\x20group\x20setting','joinGroup','modifiedCount','debug','views','\x20contatos\x20processados\x20com\x20imagens\x20e\x20status','namespace','EXPIRIN_IN','revokeInviteCode','groupDesc','replaceVariablesChat','\x20minutos...','setting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','REDIS','Sistema\x20atualizado\x20com\x20sucesso!','sendList','Type\x20defined\x20as\x20audio','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','set','audio/ogg','logout','compression','processingScheduleMessageId','Archiving\x20chat','):\x20isVote','deleteDoneMessages','pollMessage','not\x20loaded','leadInfo','updateProfilePicture','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','sendAudio','object','URL:','temp-','Enter\x20a\x20value\x20in\x20milliseconds','fetchProfile','syscall','ephemeralMessage',',\x20Segundo\x20Valor:\x20','\x1b[31m%s\x1b[0m','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','writeData','flowStopMinutes','bodyString','groupadd','new.jwt','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','unreadcount','rowId','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','removed','Output\x20audio\x20path:\x20','findMessages','moreLogs','true','routerPath','mentions','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Font\x20is\x20required','findParticipants','Erro\x20ao\x20editar\x20o\x20chat:\x20','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','localWebhook','__esModule','Hash\x20to\x20image\x20name:\x20','Error\x20updating\x20profile\x20name','REDIS_ENABLED','GUARD','Error\x20updating\x20privacy\x20settings','participant','messages.upsert','content','chats.update','instanceName','connectionState','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','updateMany','downloads','Error\x20updating\x20participants','-instances','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','sendText','groupUpdateDescription','convertedOptions','\x20install\x20error:\x20','Logger','document','sendDataWebhook','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','keys','render','fetchChats','insertMany','Instance\x20Key\x20from\x20DB:','pollCreationMessageV2','getRandomText','qrcode.updated','leadInfo.','chats','prepareWAMessageMedia','audio/mp4','envProcess','groupRevokeInvite','rm\x20-rf\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','inner','GROUP_PARTICIPANTS_UPDATE','AUTHENTICATION_JWT_EXPIRIN_IN','startFlow','Unable\x20to\x20leave\x20the\x20group','\x5cd+','processUazapi','groupInviteCode','delaySecMax','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','notEqual','isRunning','\x20contatos.','):\x20teve\x20mudanças\x20chat.archived:\x20','stopMinutesMaxActives','info','when','sendPresenceUpdate','console','exit','sem\x20texto\x20na\x20mensagem','):\x20Editando\x20edição\x20do\x20fluxo...','getVariablesChat','public','createClient','eventHandler','GROUPS_UPDATE','client','pre','Cache-Control','open','text','processConditions','File\x20written\x20to\x20path:\x20','Temp\x20image\x20deleted','closed','):\x20Enviando\x20mídia','integer','):\x20teve\x20mudanças\x20chat.displayName:\x20','contacts.upsert','presence','sendWhatsAppAudio','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','GROUPS_UPSERT','website','toUpperCase','\x20minutos.\x20Será\x20às\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','BRL','9942FjVyfY','processApiRequest','The\x20property\x20cannot\x20be\x20empty','updateGParticipate','?timestamp=','TRIAL_INSTANCE_NAME','Não\x20respondeu\x20com\x20a\x20enquete.','throwAndLogError','OrAnd','model','archiveChat','finish','sendReaction','gifPlayback',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','NextBlock','\x20inseridas\x20no\x20banco\x20de\x20dados...','default','Read\x20messages','desativadoFluxoAte','replace','editflowgroup','SSL_CONF','findAndReplace','chats.delete','):\x20Ignoring\x20group\x20messages.','restart','uazapiSendContact','findById','writeFile','deleteFlow','toNumber','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','status.instance','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','reaction','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','7851272MvIPZZ','waitingPoll_replyOptions','response','processConditionsTest','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','nextBlock:','forEach','request\x20received\x20in\x20getConversation','arraybuffer','STORE','):\x20Visualizando\x20AutomateSystem','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','updateGroupsAddPrivacy','express-async-errors','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','updateReadReceiptsPrivacy','The\x20instance\x20needs\x20to\x20be\x20disconnected','owner','):\x20Erro\x20durante\x20a\x20atualização:\x20','uazapiSendText','mongodb','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','archived','DELIVERY_ACK','headers','Not\x20is\x20business\x20profile','including\x20timestamp\x20in\x20url:\x20','getMessage','now','):\x20Deletando\x20mensagem','replyOption','Not\x20allowed\x20by\x20CORS','none','user','boolean','chats.upsert','scheduleSendMedia','inviteCode','INFO','getDelay','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','delAll','Erro:','command','API\x20Key\x20from\x20Request:','PLAYED','editFlowBlock','realVariables','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','sendSticker','):\x20Deletando\x20conversa...','floor','warn','abs','/wa-contacts','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','fetchConversation','scheduleMessage','DATABASE_CONNECTION_USER','findConversation','toArray','PASSWORD','Imagem\x20não\x20encontrada',',\x20saindo.','instance','Validate','getHours','Missing\x20global\x20api\x20key','where','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','contacts.update','Flow\x20não\x20encontrado','role','item','webhookService','statusJidList','.mp4','DEL_INSTANCE','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','CONNECTION_UPDATE','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','ex:\x20\x22groupJid=120362@g.us\x22','KEY','condition','946187gqyuuR','https://chat.whatsapp.com/','\x20saindo\x20da\x20função','reconnectTimestamps','\x1b[31m','webhookMap','updatePresence','params','cleaningUp','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','4daYKxZ','create\x20-\x20success','Types','output','notEmpty','proto','unreadCount','updateMessage','flowActive','font','eventemitter2','buttons','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','CHATS_UPSERT','FlowController','env','deleteMessage','groups_ignore','CLEANING_INTERVAL','textMessage','):\x20Buscando\x20conversa...','*Pergunta*:\x20\x0a','No\x20invite\x20code','markMessageAsRead','24AQWGXV','collections','createFlow','Erro\x20ao\x20iniciar\x20fluxo:\x20','lastSendMessage','count','join','g.us','):\x20Enviando\x20enquete','@g.us','mkdirSync','write','):\x20Going\x20to\x20','updateReplyOption','writeFileSync','rmSync','Erro\x20ao\x20editar\x20agentes:\x20','SERVER_PORT','editflowreply','log','END:VCARD','/events/:instance','qrCode','sendMessage','block','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','redis-server','removeData','):\x20Tentando\x20deletar\x20todas\x20os\x20contatos...','some','readMessages','events','TYPE','PORT','No\x20participants','startsWith','updateConversation','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','saveVariable','Invalid\x20format','whatsappNumber','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','getClient','updateStatusPrivacy','\x20não\x20encontrado\x20para\x20atualização.','EMAIL','paused','):\x20customFieldVariables','request\x20received\x20in\x20editFlowvariable','WEBHOOK','groupValidate','.\x20Código\x20de\x20saída\x20','selectableCount','WEBHOOK_EVENTS_MESSAGES_UPDATE','authorization','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','PENDING','Primeiro\x20Valor:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','pt-BR','fileName','ffmpeg','Erro\x20ao\x20editar\x20a\x20conversa:\x20','messages.set','ignoreGroups','/:instanceName','uncaughtException','Audio\x20is\x20base64','MAX_RECONNECT_ATTEMPTS','online','getBase64FromMediaMessage','greater','protocolMessage','Error\x20updating\x20profile\x20status','equal','fullName','call','PHONE','Converting\x20audio\x20to\x20mp4','ON\x20-\x20dbName:\x20','isFile','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','exec','uazapiSendAudio','isLong','Schema','shift','child_process','TEL','WEBHOOK_EVENTS_CONTACTS_UPDATE','/wa-qrcode','waInstances','Falta\x20informação\x20para\x20a\x20chamada\x20API','waitingPoll_name','QRCODE_LIMIT','qrcode','node-cache','URI','folder','delayMessage','dbSettings','readreceipts','isConnected','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','WEBHOOK_EVENTS_CHATS_SET','.X-ABLabel:Celular\x0a','readMessage','status@broadcast','toString','keep-alive','variable','groups.upsert','connection.update','sendStatus','.\x20Pulando.','Getting\x20image\x20from\x20url','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','pino','stanzaId','.TEL;waid=','viewOnceMessage','phoneNumber','findOne','Temp\x20audio\x20deleted','src','Instance\x20\x22','saveCreds','lastmsg','\x1b[30m%s\x1b[0m','axios','):\x20leadInfoVariables','hGetAll','performBulkUpdate','CORS_CREDENTIALS','leadInfo.desativadoFluxoAte','lastCondition','jpegThumbnail','locked','groupSettingUpdate','newName','/automate','Initial\x20__dirname:','\x20-\x20ON:\x20','empty','remove','StatusJidList\x20is\x20required','segundos','SSL_CONF_FULLCHAIN','WEBHOOK_EVENTS_QRCODE_UPDATED','DATABASE','chatHandle','agents','code','size','STORE_CONTACTS','scheduled','CONTACTS_UPDATE','Error\x20update\x20group\x20picture','formatStatusMessage','E-mail:\x20','updateProfilePicturePrivacy','vcard','No\x20join\x20group\x20invite\x20code\x20or\x20url','body','.webp','https://uazapi-plugin.bubbleapps.io/?url=','statusMessage','responsavelid','):\x20Edit\x20schedule\x20message...','request\x20received\x20in\x20editFlowgroup','messages','ENABLED','quoted','connect','deleteMany','last','CHATS_DELETE','all','ReplyOption\x20com\x20ID\x20','ObjectId','pollErrorMessage','creds.json','collection','blockLogs','\x1b[40m','#ffffff','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','remove.instance','quotedMessage','poll_id','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20conversation.lastInteraction:\x20','saveMediaToFile','variables','initAuthCreds','upsertChats','Erro\x20ao\x20atualizar\x20conversa:\x20','url','minutesToClose','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contactHandle','getDevice','ios','nomecompleto','API\x20Key\x20inválida.','processgoToFlow','@ffmpeg-installer/ffmpeg','composing','deleteOne','editflowblock','sharp','getMIMEType','240HSslgT','variablesToObject','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','updateChatWithMessage','activatedCount','WEBHOOK_EVENTS_CONNECTION_UPDATE','20125IinAKP','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','local_map','stderr','updateParticipant','post','dbServer','remoteJidsRemaining','):\x20Editando\x20variável\x20do\x20fluxo...','/events','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','1242597YwabOD','Erro\x20inesperado\x20em\x20processvaredits:\x20','conversation','\x1b[36m','findIndex','scheduleNextCheck','includes','fetchMessages','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x20install\x20output:\x20','http','\x20-y','delay','StartBot','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','joinGroupValidate','):\x20teve\x20mudanças\x20chat.name:\x20','editFlowCondition','defineAuthState','match_last_seen','title','messageHandle','Message','updateProfileName','--version','getOwnPropertyNames','):\x20Conversa\x20inserida\x20com\x20sucesso.','Instância\x20não\x20encontrada.','encoding','deleteReplyOption','Audio\x20processed','/wa-message','parseInt','onTime','updateLastSeenPrivacy','toFile','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','buttonId','fetchProfilePictureUrl','redisEnv','@s.whatsapp.net','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','NEW_JWT_TOKEN','):\x20Enviando\x20localização','lastInteraction','\x20minutos','success','qrcode-terminal','):\x20','createConnection','buttonsMessage','pollOnReplyDelete','cpf','mediaKey','WARN','waMonitor','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','READ','Image\x20created','maxActives','\x20is\x20already\x20in\x20use.','method','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','MESSAGES_SET','updateGParticipant','fromMe','sendMedia','delInstanceTime','resetReconnectionVariables','):\x20Deletados\x20','video-cover.png','update','existsSync','Error\x20updating\x20setting','instance.','error','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','DisconnectReason','findByIdAndUpdate','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','loadInstance','GLOBAL','Instance\x20deleted','createWebhook','function','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','SERVER_ACK','fetchStatusMessage','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','vote','groupUpdateSubject','writeStore','uazapiDeleteMessage','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','*\x0a\x0a','done','\x20segundos','CORS_ORIGIN','SSL_CONF_PRIVKEY','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','contactsArrayMessage','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','PREFIX_KEY','remoteJids','fetchPrivacySettings','hex','oldToken','getLastMessage','groupSetting','saveChatVariables','findWebhook','group\x20ignored','SERVER','instanceInfo','displayName','Error\x20fetching\x20and\x20updating\x20profile:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','Temp\x20audio\x20path:\x20','available','):\x20Query\x20params:','https://uazapi-plugin.bubbleapps.io/','subjectOwner','\x20contatos\x20inseridos','loadWebhook','repository','):\x20Erro\x20ao\x20editar\x20agentes:\x20','oldValue','capitalizedWords','urlencoded','dbInstance','Error\x20updating\x20message\x20status:','\x1b[1m','Message\x20not\x20found','store','):\x20Enviando\x20áudio','connectionStatus','demote','nome','WEBHOOK_EVENTS_SEND_MESSAGE','\x1b[42m','Audio\x20is\x20url','The\x20global\x20api\x20key\x20must\x20be\x20set','mediaMessage','Converted\x20audio\x20deleted','request\x20received\x20in\x20createFlow','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','WEBHOOK_EVENTS_CHATS_DELETE','app','applyvaredit','data:\x20','waUploadToServer','fetchInstances','Fluxos\x20não\x20estão\x20ativados','messageContextInfo','sendCommand','secondValue','groupCreate','https','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','changeVariables','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','ids','Instance\x20ID:','json','Error\x20change\x20group\x20name','.json','Falha\x20ao\x20deletar\x20contatos:','.sendDataWebhook-global','redirect','toBRL','Erro\x20de\x20atualização:\x20','group-participants.update','Internal\x20Server\x20Error','Not\x20Found','\x0a{\x20instance:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20transformedCustomFieldVariables','key','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','waMonit','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','created','endsWith','/webhook','flowConfig','DARK','android','unhandledRejection','opendirSync','Erro\x20ao\x20buscar\x20conversas:\x20','restartInstance','):\x20lastBlockId:\x20','authState'];a0_0x7188=function(){return _0x5d141e;};return a0_0x7188();}Ot[a0_0x2aad5a(0x1ea)]('/media',Pt[a0_0x2aad5a(0x433)][a0_0x2aad5a(0x34e)](ui))[a0_0x2aad5a(0x6e1)](a0_0x2aad5a(0x4d2),async(_0x5c6c76,_0x1682d9)=>{const _0x4bd9b3=a0_0x2aad5a;console[_0x4bd9b3(0x4d0)]('bateu\x20events');let _0x3d42d3=_0x5c6c76[_0x4bd9b3(0x4a2)][_0x4bd9b3(0x487)],_0x11b554=(_0x5c6c76[_0x4bd9b3(0x33c)]['events']||'')[_0x4bd9b3(0x210)](','),_0x10c1e3=(0x0,co['v4'])();console[_0x4bd9b3(0x4d0)](_0x4bd9b3(0x646),_0x3d42d3),console[_0x4bd9b3(0x4d0)](_0x4bd9b3(0x1ec),_0x11b554);let _0x977f6f=y[_0x4bd9b3(0x6e1)](_0x4bd9b3(0x17a))['API_KEY'],_0x2e5329=_0x5c6c76[_0x4bd9b3(0x33c)][_0x4bd9b3(0x177)];if(console['log'](_0x4bd9b3(0x473),_0x2e5329),_0x977f6f[_0x4bd9b3(0x499)]!==_0x2e5329){console[_0x4bd9b3(0x4d0)]('env.KEY\x20!==\x20key');try{let _0x4b3f35=await de[_0x4bd9b3(0x1ca)]['find'](_0x3d42d3);if(console['log'](_0x4bd9b3(0x3e5),_0x4b3f35),!_0x4b3f35||_0x4b3f35[_0x4bd9b3(0x177)]!==_0x2e5329)return console[_0x4bd9b3(0x4d0)](_0x4bd9b3(0x5c7)),_0x1682d9[_0x4bd9b3(0x1a9)](0x191)[_0x4bd9b3(0x1b6)](_0x4bd9b3(0x58a));}catch(_0x21c3c6){return console[_0x4bd9b3(0x5ee)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x21c3c6),_0x1682d9[_0x4bd9b3(0x1a9)](0x191)[_0x4bd9b3(0x1b6)](_0x4bd9b3(0x209));}}if(!await Ye(_0x3d42d3))return _0x1682d9[_0x4bd9b3(0x1a9)](0x194)[_0x4bd9b3(0x1b6)](_0x4bd9b3(0x5be));_0x1682d9[_0x4bd9b3(0x6d7)](_0x4bd9b3(0x6bf),_0x4bd9b3(0x6b2)),_0x1682d9[_0x4bd9b3(0x6d7)](_0x4bd9b3(0x40e),'no-cache'),_0x1682d9[_0x4bd9b3(0x6d7)]('Connection',_0x4bd9b3(0x52b)),_0x1682d9[_0x4bd9b3(0x28a)]();let _0x5cc04e=_0x4bd9b3(0x639)+JSON['stringify']({'info':_0x4bd9b3(0x26e)})+'\x0a\x0a';_0x1682d9[_0x4bd9b3(0x4c8)](_0x5cc04e),oo(_0x3d42d3,_0x10c1e3,_0x1682d9,_0x11b554),_0x5c6c76['on'](_0x4bd9b3(0x6f7),()=>{const _0x5dcb68=_0x4bd9b3;console[_0x5dcb68(0x4d0)]('Connection\x20closed\x20for\x20instance:\x20'+_0x3d42d3),io(_0x3d42d3,_0x10c1e3);});}),Ot['get'](a0_0x2aad5a(0x2f6),(_0x15eed2,_0x3182ab)=>{const _0x4c3005=a0_0x2aad5a;let _0x39aa2a=ro();_0x3182ab[_0x4c3005(0x647)](_0x39aa2a);})[a0_0x2aad5a(0x6e1)]('/',(_0x30fd50,_0x29033d)=>{const _0x507473=a0_0x2aad5a;let _0x443759=y[_0x507473(0x6e1)](_0x507473(0x438)),_0x516627=_0x443759&&_0x443759[_0x507473(0x6f4)][_0x507473(0x210)]('/')[0x4];if(_0x516627){let _0x204dc0=encodeURIComponent('https://'+_0x516627);_0x29033d[_0x507473(0x64c)](_0x507473(0x563)+_0x204dc0);}else _0x29033d[_0x507473(0x64c)](_0x507473(0x61c));})['put'](a0_0x2aad5a(0x2e3),...pe,async(_0x1b2607,_0x4e53a3)=>{const _0x5e93c2=a0_0x2aad5a;try{console[_0x5e93c2(0x4d0)](_0x5e93c2(0x3c1)),_0x4e53a3[_0x5e93c2(0x1a9)](0xc8)[_0x5e93c2(0x647)]({'message':_0x5e93c2(0x273)}),_0x4e53a3['on'](_0x5e93c2(0x42d),()=>process[_0x5e93c2(0x404)](0x0));}catch(_0x3a50e1){console[_0x5e93c2(0x5ee)](_0x5e93c2(0x685),_0x3a50e1),_0x4e53a3[_0x5e93c2(0x1a9)](0x1f4)[_0x5e93c2(0x647)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x2aad5a(0x1ea)](a0_0x2aad5a(0x213),new ft(y,...pe)[a0_0x2aad5a(0x673)],new Rt(fs)[a0_0x2aad5a(0x673)])[a0_0x2aad5a(0x1ea)](a0_0x2aad5a(0x174),new Mt(...pe)[a0_0x2aad5a(0x673)])['use'](a0_0x2aad5a(0x164),new ot(...pe)[a0_0x2aad5a(0x673)])['use'](a0_0x2aad5a(0x279),new gt(...pe)[a0_0x2aad5a(0x673)])[a0_0x2aad5a(0x1ea)](a0_0x2aad5a(0x65b),new It(...pe)['router'])[a0_0x2aad5a(0x1ea)](a0_0x2aad5a(0x54a),new Dt(...pe)[a0_0x2aad5a(0x673)]);var g=class{constructor(..._0x53607f){const _0x384a17=a0_0x2aad5a;throw{'status':0x190,'error':_0x384a17(0x222),'message':_0x53607f[_0x384a17(0x24d)]>0x0?_0x53607f:void 0x0};}},ne=class{constructor(..._0x5c6d6e){const _0x431e69=a0_0x2aad5a;throw{'status':0x191,'error':_0x431e69(0x21f),'message':_0x5c6d6e[_0x431e69(0x24d)]>0x0?_0x5c6d6e:void 0x0};}},re=class{constructor(..._0x426b33){const _0x12289a=a0_0x2aad5a;throw{'status':0x193,'error':_0x12289a(0x308),'message':_0x426b33[_0x12289a(0x24d)]>0x0?_0x426b33:void 0x0};}},x=class{constructor(..._0x4f43b1){const _0x244710=a0_0x2aad5a;throw{'status':0x194,'error':_0x244710(0x651),'message':_0x4f43b1[_0x244710(0x24d)]>0x0?_0x4f43b1:void 0x0};}},A=class{constructor(..._0x55124d){const _0x15878b=a0_0x2aad5a;throw{'status':0x1f4,'error':_0x15878b(0x650),'message':_0x55124d[_0x15878b(0x24d)]>0x0?_0x55124d:void 0x0};}},ge=require(a0_0x2aad5a(0x229));async function Es(_0x3d21f9){const _0x454c49=a0_0x2aad5a;let _0x5bfd14=new C(Es['name']),_0x1ae7f=M[_0x454c49(0x4e8)](),_0x40385b=_0x1ae7f['db'](y[_0x454c49(0x6e1)](_0x454c49(0x553))[_0x454c49(0x322)][_0x454c49(0x1bb)]+'-instances')[_0x454c49(0x574)](_0x3d21f9),_0x11f6d3=async(_0x192a57,_0x5afd16)=>{const _0x29e685=_0x454c49;try{return await _0x1ae7f[_0x29e685(0x56b)](),await _0x40385b[_0x29e685(0x246)]({'_id':_0x5afd16},JSON[_0x29e685(0x1aa)](JSON[_0x29e685(0x318)](_0x192a57,ge['BufferJSON'][_0x29e685(0x24f)])),{'upsert':!0x0});}catch{}},_0x1edb2c=async _0x4fcac5=>{const _0x3bca01=_0x454c49;try{await _0x1ae7f[_0x3bca01(0x56b)]();let _0x595b4f=await _0x40385b['findOne']({'_id':_0x4fcac5}),_0x53b691=JSON[_0x3bca01(0x318)](_0x595b4f);return JSON[_0x3bca01(0x1aa)](_0x53b691,ge[_0x3bca01(0x244)][_0x3bca01(0x702)]);}catch{}},_0x23442d=async _0x5e25db=>{const _0x394809=_0x454c49;try{return await _0x1ae7f[_0x394809(0x56b)](),await _0x40385b['deleteOne']({'_id':_0x5e25db});}catch{}},_0x3464b8=await _0x1edb2c(_0x454c49(0x1e8))||(0x0,ge['initAuthCreds'])();return{'state':{'creds':_0x3464b8,'keys':{'get':async(_0x18ab1b,_0x5b85f0)=>{const _0x5d43af=_0x454c49;let _0x366632={};return await Promise[_0x5d43af(0x56f)](_0x5b85f0[_0x5d43af(0x30e)](async _0x385f63=>{const _0x429633=_0x5d43af;let _0x298848=await _0x1edb2c(_0x18ab1b+'-'+_0x385f63);_0x18ab1b===_0x429633(0x36e)&&_0x298848&&(_0x298848=ge[_0x429633(0x4aa)][_0x429633(0x5b9)][_0x429633(0x704)][_0x429633(0x6db)](_0x298848)),_0x366632[_0x385f63]=_0x298848;})),_0x366632;},'set':async _0xec65b9=>{const _0x1d2f4b=_0x454c49;let _0x58c8fc=[];for(let _0x205f58 in _0xec65b9)for(let _0x516901 in _0xec65b9[_0x205f58]){let _0x53baa5=_0xec65b9[_0x205f58][_0x516901],_0x13b14b=_0x205f58+'-'+_0x516901;_0x58c8fc[_0x1d2f4b(0x338)](_0x53baa5?_0x11f6d3(_0x53baa5,_0x13b14b):_0x23442d(_0x13b14b));}await Promise['all'](_0x58c8fc);}}},'saveCreds':async()=>_0x11f6d3(_0x3464b8,'creds')};}var Cs=T(require(a0_0x2aad5a(0x292))),Ts=T(require(a0_0x2aad5a(0x51e))),$t=require(a0_0x2aad5a(0x229)),lo=require(a0_0x2aad5a(0x348)),xt=require('@whiskeysockets/baileys'),_t;function a0_0x50e5(_0x4ae14b,_0x4abf0c){const _0x71880=a0_0x7188();return a0_0x50e5=function(_0x50e596,_0x3e629a){_0x50e596=_0x50e596-0x15f;let _0x4cae49=_0x71880[_0x50e596];return _0x4cae49;},a0_0x50e5(_0x4ae14b,_0x4abf0c);}function pi(_0x3a04b7){const _0x2ce7c6=a0_0x2aad5a;return _t||(_t=(0x0,lo[_0x2ce7c6(0x409)])({'url':_0x3a04b7['URI']}),_t[_0x2ce7c6(0x56b)]()),_t;}var ye=class l{constructor(_0x241ce3,_0x415db2){const _0x2fe1a3=a0_0x2aad5a;this[_0x2fe1a3(0x5ca)]=_0x241ce3,this[_0x2fe1a3(0x3d1)]=_0x415db2,this[_0x2fe1a3(0x697)]=new C(l[_0x2fe1a3(0x72c)]),this[_0x2fe1a3(0x40c)]=pi(_0x241ce3);}set['reference'](_0xd3e6f6){const _0x5c4b3f=a0_0x2aad5a;this[_0x5c4b3f(0x3d1)]=_0xd3e6f6;}async['instanceKeys'](){const _0x348314=a0_0x2aad5a;try{return await this[_0x348314(0x40c)][_0x348314(0x63e)]([_0x348314(0x3e1),this[_0x348314(0x5ca)][_0x348314(0x60a)]+':*']);}catch(_0x38bfeb){this[_0x348314(0x697)][_0x348314(0x5ee)](_0x38bfeb);}}async[a0_0x2aad5a(0x3b0)](_0x12230d,_0x2ca3a1){const _0x25d934=a0_0x2aad5a;try{let _0x384ec1=JSON['stringify'](_0x2ca3a1,xt[_0x25d934(0x244)][_0x25d934(0x24f)]);return await this[_0x25d934(0x40c)]['hSet'](this[_0x25d934(0x5ca)]['PREFIX_KEY']+':'+this['instanceName'],_0x12230d,_0x384ec1);}catch(_0x9b5b0d){this[_0x25d934(0x697)]['error'](_0x9b5b0d);}}async['getAllData'](){const _0x558ec6=a0_0x2aad5a;try{let _0x2dd7e5=await this[_0x558ec6(0x40c)][_0x558ec6(0x541)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x558ec6(0x3d1)]);if(_0x2dd7e5){for(let _0x21ae85 in _0x2dd7e5)Object[_0x558ec6(0x2ce)][_0x558ec6(0x6e9)][_0x558ec6(0x50a)](_0x2dd7e5,_0x21ae85)&&(_0x2dd7e5[_0x21ae85]=JSON[_0x558ec6(0x1aa)](_0x2dd7e5[_0x21ae85],xt[_0x558ec6(0x244)][_0x558ec6(0x702)]));return _0x2dd7e5;}}catch(_0x12d967){this[_0x558ec6(0x697)][_0x558ec6(0x5ee)](_0x12d967);}}async[a0_0x2aad5a(0x26b)](_0x5d7401){const _0x380c48=a0_0x2aad5a;try{let _0x54f332=await this[_0x380c48(0x40c)][_0x380c48(0x1ba)](this[_0x380c48(0x5ca)][_0x380c48(0x60a)]+':'+this[_0x380c48(0x3d1)],_0x5d7401);if(_0x54f332)return JSON['parse'](_0x54f332,xt[_0x380c48(0x244)][_0x380c48(0x702)]);}catch(_0x506949){this[_0x380c48(0x697)][_0x380c48(0x5ee)](_0x506949);}}async[a0_0x2aad5a(0x4d9)](_0x413395){const _0xb82333=a0_0x2aad5a;try{return await this['client'][_0xb82333(0x182)](this[_0xb82333(0x5ca)][_0xb82333(0x60a)]+':'+this[_0xb82333(0x3d1)],_0x413395);}catch(_0x36b6f6){this[_0xb82333(0x697)]['error'](_0x36b6f6);}}async['delAll'](_0x3b00da){const _0x40592=a0_0x2aad5a;try{return await this['client'][_0x40592(0x248)](_0x3b00da||this['redisEnv']['PREFIX_KEY']+':'+this[_0x40592(0x3d1)]);}catch(_0x3a5c7a){this[_0x40592(0x697)][_0x40592(0x5ee)](_0x3a5c7a);}}};async function vs(_0x5974ef,_0xa49372){const _0x2136c4=a0_0x2aad5a;let _0x1b4d92=new C(vs['name']),_0x538448=new ye(_0x5974ef,_0xa49372),_0x225cac=async(_0x5e4184,_0x3e167c)=>{const _0x5a026e=a0_0x50e5;try{return await _0x538448[_0x5a026e(0x3b0)](_0x3e167c,_0x5e4184);}catch(_0x4d8b25){return _0x1b4d92[_0x5a026e(0x5ee)]({'localError':_0x5a026e(0x3b0),'error':_0x4d8b25});}},_0x30a30d=async _0x18fc25=>{const _0x281d85=a0_0x50e5;try{return await _0x538448[_0x281d85(0x26b)](_0x18fc25);}catch(_0xea5b80){_0x1b4d92[_0x281d85(0x5ee)]({'readData':_0x281d85(0x3b0),'error':_0xea5b80});return;}},_0x14afc0=async _0x475e09=>{const _0x337016=a0_0x50e5;try{return await _0x538448[_0x337016(0x4d9)](_0x475e09);}catch(_0x4e4213){_0x1b4d92['error']({'readData':_0x337016(0x4d9),'error':_0x4e4213});}},_0x2600b0=await _0x30a30d('creds')||(0x0,$t[_0x2136c4(0x580)])();return{'state':{'creds':_0x2600b0,'keys':{'get':async(_0x3c946e,_0x1a526d)=>{const _0x848484=_0x2136c4;let _0x3729c1={};return await Promise[_0x848484(0x56f)](_0x1a526d[_0x848484(0x30e)](async _0x51413b=>{const _0x2f467e=_0x848484;let _0x22575a=await _0x30a30d(_0x3c946e+'-'+_0x51413b);_0x3c946e===_0x2f467e(0x36e)&&_0x22575a&&(_0x22575a=$t[_0x2f467e(0x4aa)][_0x2f467e(0x5b9)][_0x2f467e(0x704)][_0x2f467e(0x6db)](_0x22575a)),_0x3729c1[_0x51413b]=_0x22575a;})),_0x3729c1;},'set':async _0x431ed9=>{const _0x22cf5e=_0x2136c4;let _0x104788=[];for(let _0x384b23 in _0x431ed9)for(let _0x2f43cf in _0x431ed9[_0x384b23]){let _0x44efc6=_0x431ed9[_0x384b23][_0x2f43cf],_0x19f0f0=_0x384b23+'-'+_0x2f43cf;_0x104788[_0x22cf5e(0x338)](_0x44efc6?await _0x225cac(_0x44efc6,_0x19f0f0):await _0x14afc0(_0x19f0f0));}await Promise[_0x22cf5e(0x56f)](_0x104788);}}},'saveCreds':async()=>await _0x225cac(_0x2600b0,_0x2136c4(0x1e8))};}var _=T(require('fs')),Lt=require('uuid'),Ut=T(require(a0_0x2aad5a(0x590)));function W(_0x5de261){const _0x1dc7d7=a0_0x2aad5a;if(_0x5de261[_0x1dc7d7(0x536)]||_0x5de261[_0x1dc7d7(0x228)]){let _0x55499d=_0x5de261[_0x1dc7d7(0x536)]?_0x5de261[_0x1dc7d7(0x536)]['message']:_0x5de261[_0x1dc7d7(0x228)][_0x1dc7d7(0x23a)];return(0x0,w[_0x1dc7d7(0x2b6)])(_0x55499d);}return _0x5de261[_0x1dc7d7(0x19b)]?_0x1dc7d7(0x19b):_0x5de261[_0x1dc7d7(0x3e6)]?_0x1dc7d7(0x3e6):(0x0,w[_0x1dc7d7(0x2b6)])(_0x5de261);}var Se=class l{constructor(_0x52da7e,_0xcd5b1f,_0x4dc300){const _0x2b0111=a0_0x2aad5a;this['configService']=_0x52da7e,this['eventEmitter']=_0xcd5b1f,this[_0x2b0111(0x620)]=_0x4dc300,this['AutomateSystem']=null,this[_0x2b0111(0x697)]=new C(l[_0x2b0111(0x72c)]),this[_0x2b0111(0x487)]={},this[_0x2b0111(0x3c6)]={},this[_0x2b0111(0x2ae)]={'state':_0x2b0111(0x6f7)},this[_0x2b0111(0x715)]=(0x0,$['join'])(Y,'downloads'),this['msgRetryCounterCache']=new Ts[(_0x2b0111(0x433))](),this[_0x2b0111(0x26a)]=new Ts[(_0x2b0111(0x433))](),this['endSession']=!0x1,this[_0x2b0111(0x4a0)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x2b0111(0x518),'messages.upsert':_0x2b0111(0x5c2),'messages.update':'/wa-message-update','send.message':_0x2b0111(0x5c2),'group.upsert':'/wa-groups','group.update':_0x2b0111(0x6cd),'group-participants.update':_0x2b0111(0x6cd),'connection.update':_0x2b0111(0x751),'messages.set':_0x2b0111(0x5c2),'contacts.set':_0x2b0111(0x47d),'contacts.upsert':_0x2b0111(0x47d),'contacts.update':_0x2b0111(0x47d),'presence.update':'/wa-presence','chats.set':_0x2b0111(0x198),'chats.update':_0x2b0111(0x198),'chats.upsert':_0x2b0111(0x198),'chats.delete':_0x2b0111(0x198)},this[_0x2b0111(0x68a)]=0x0,this[_0x2b0111(0x49e)]=[],this[_0x2b0111(0x502)]=0xf,this[_0x2b0111(0x21d)]=0x7530,this[_0x2b0111(0x3fc)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x530ca0,_0x5c9c7f)=>{const _0x2fb438=_0x2b0111;let _0x1eab09=await this['repository'][_0x2fb438(0x196)][_0x2fb438(0x2f0)]({'where':{'owner':this['instance'][_0x2fb438(0x743)]}}),_0x4864f4=[];for await(let _0x2a77d3 of _0x530ca0)_0x1eab09[_0x2fb438(0x2f0)](_0x390daa=>_0x390daa['id']===_0x2a77d3['id'])||_0x4864f4['push']({'id':_0x2a77d3['id'],'owner':this['instance']['wuid'],'group':_0x2a77d3['id'][_0x2fb438(0x65a)](_0x2fb438(0x4c6)),'name':_0x2a77d3[_0x2fb438(0x72c)]||_0x2a77d3['displayName']||null,'contactname':null,'lastmsg':_0x2a77d3[_0x2fb438(0x16c)]&&_0x2a77d3['conversationTimestamp'][_0x2fb438(0x52a)]()[_0x2fb438(0x24d)]<0xd?_0x2a77d3[_0x2fb438(0x16c)]*0x3e8:_0x2a77d3['conversationTimestamp']||null,'archived':_0x2a77d3[_0x2fb438(0x45d)]||!0x1,'unreadcount':_0x2a77d3['unreadCount']||0x0});await this[_0x2fb438(0x3df)](_0x2fb438(0x46a),_0x4864f4);},'chats.update':async(_0x22ee70,_0x34a613)=>{const _0x3aaf5f=_0x2b0111;for(let _0x55427d of _0x22ee70){let _0x12d421={'id':_0x55427d['id'],'owner':this[_0x3aaf5f(0x487)][_0x3aaf5f(0x743)],'group':_0x55427d['id']['endsWith'](_0x3aaf5f(0x4c6)),'name':_0x55427d[_0x3aaf5f(0x72c)]||_0x55427d[_0x3aaf5f(0x616)],'archived':_0x55427d[_0x3aaf5f(0x45d)]},_0x4c33e1=!0x1,_0xde16bf={'id':_0x55427d['id'],'owner':this[_0x3aaf5f(0x487)][_0x3aaf5f(0x743)]},_0x9da284={};_0x12d421['archived']!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3aaf5f(0x487)][_0x3aaf5f(0x743)]+_0x3aaf5f(0x3fe)+_0x55427d[_0x3aaf5f(0x45d)]),_0x4c33e1=!0x0,_0x9da284[_0x3aaf5f(0x45d)]=_0x55427d[_0x3aaf5f(0x45d)]),_0x55427d[_0x3aaf5f(0x72c)]!=null&&(this[_0x3aaf5f(0x697)][_0x3aaf5f(0x69e)](this['instanceName']+'\x20('+this[_0x3aaf5f(0x487)][_0x3aaf5f(0x743)]+_0x3aaf5f(0x5b3)+_0x55427d[_0x3aaf5f(0x72c)]),_0x4c33e1=!0x0,_0x9da284[_0x3aaf5f(0x72c)]=_0x55427d[_0x3aaf5f(0x72c)]),_0x55427d['displayName']!=null&&(this[_0x3aaf5f(0x697)][_0x3aaf5f(0x69e)](this['instanceName']+'\x20('+this[_0x3aaf5f(0x487)][_0x3aaf5f(0x743)]+_0x3aaf5f(0x417)+_0x55427d[_0x3aaf5f(0x616)]),_0x4c33e1=!0x0,_0x9da284['name']=_0x55427d[_0x3aaf5f(0x616)]);let _0x56960f;_0x4c33e1&&_0x34a613[_0x3aaf5f(0x569)]&&(_0x56960f=await I[_0x3aaf5f(0x363)](_0xde16bf,{'$set':_0x9da284},{'new':!0x0})),_0x56960f&&G(this[_0x3aaf5f(0x3d1)],'chats',{'chat':_0x56960f});}},'chats.delete':async _0x7d22e5=>{const _0x121517=_0x2b0111;await this[_0x121517(0x3df)](_0x121517(0x43a),[..._0x7d22e5]);}},this['contactHandle']={'contacts.upsert':async(_0x596a9c,_0x18b8ec)=>{const _0x1ac27d=_0x2b0111;let _0x16d6f4=_0x596a9c[_0x1ac27d(0x30e)](_0x815183=>({'id':_0x815183['id'],'pushName':_0x815183?.[_0x1ac27d(0x72c)]||_0x815183?.[_0x1ac27d(0x6a4)],'owner':this[_0x1ac27d(0x487)]['wuid']}));await this[_0x1ac27d(0x620)][_0x1ac27d(0x36a)][_0x1ac27d(0x253)](_0x16d6f4,_0x18b8ec[_0x1ac27d(0x569)]),this[_0x1ac27d(0x697)][_0x1ac27d(0x69e)](this[_0x1ac27d(0x3d1)]+'\x20('+this[_0x1ac27d(0x487)][_0x1ac27d(0x743)]+'):\x20'+_0x16d6f4[_0x1ac27d(0x24d)]+_0x1ac27d(0x61e));let _0x13c968=0x64,_0x2586f3=0xbb8,_0x3f8b26=0x0;for(let _0x3df3dd=0x0;_0x3df3dd<_0x596a9c[_0x1ac27d(0x24d)];_0x3df3dd+=_0x13c968){let _0x434743=_0x596a9c[_0x1ac27d(0x6dd)](_0x3df3dd,_0x3df3dd+_0x13c968),_0x43a57e=[];for(let _0x19e3f6 of _0x434743){let [_0x3f06e0,_0x34505f]=await Promise[_0x1ac27d(0x56f)]([this[_0x1ac27d(0x37b)](_0x19e3f6['id']),this[_0x1ac27d(0x22c)](_0x19e3f6['id'])]);_0x43a57e[_0x1ac27d(0x338)]({'id':_0x19e3f6['id'],'pushName':_0x19e3f6?.[_0x1ac27d(0x72c)]||_0x19e3f6?.[_0x1ac27d(0x6a4)],'owner':this[_0x1ac27d(0x487)][_0x1ac27d(0x743)],'profilePictureUrl':_0x3f06e0['profilePictureUrl'],'status':_0x34505f[_0x1ac27d(0x1a9)]});}await this[_0x1ac27d(0x620)][_0x1ac27d(0x36a)][_0x1ac27d(0x5ea)](_0x43a57e,this[_0x1ac27d(0x487)][_0x1ac27d(0x743)],_0x18b8ec['ENABLED']),_0x3f8b26+=_0x43a57e[_0x1ac27d(0x24d)],await new Promise(_0xac4301=>setTimeout(_0xac4301,_0x2586f3));}this[_0x1ac27d(0x697)][_0x1ac27d(0x69e)](this[_0x1ac27d(0x3d1)]+'\x20('+this['instance'][_0x1ac27d(0x743)]+_0x1ac27d(0x5d3)+_0x3f8b26+_0x1ac27d(0x38a)),await this[_0x1ac27d(0x3df)](_0x1ac27d(0x418),_0x596a9c),await this[_0x1ac27d(0x728)]();},'contacts.update':async(_0x3a6796,_0x4cba65)=>{const _0x357c55=_0x2b0111;let _0x3700a9=[];for await(let _0x38eee3 of _0x3a6796)_0x3700a9[_0x357c55(0x338)]({'id':_0x38eee3['id'],'pushName':_0x38eee3?.[_0x357c55(0x72c)]??_0x38eee3?.[_0x357c55(0x6a4)],'profilePictureUrl':(await this['profilePicture'](_0x38eee3['id']))['profilePictureUrl'],'owner':this[_0x357c55(0x487)]['wuid']});await this['sendDataWebhook'](_0x357c55(0x48d),_0x3700a9);}},this[_0x2b0111(0x5b8)]={'messaging-history.set':async({messages:_0x5e058a,chats:_0x4b8fe0,isLatest:_0x27ba38},_0x40fc52)=>{const _0x389b32=_0x2b0111;if(_0x27ba38){let _0x2a7dd9=await Promise['all'](_0x4b8fe0[_0x389b32(0x30e)](async _0x306093=>({'id':_0x306093['id'],'owner':this[_0x389b32(0x487)][_0x389b32(0x743)],'group':_0x306093['id'][_0x389b32(0x65a)]('@g.us'),'name':_0x306093[_0x389b32(0x72c)]||_0x306093['displayName']||null,'contactname':null,'imagechat':(await this[_0x389b32(0x37b)](_0x306093['id']))[_0x389b32(0x32a)],'lastmsg':_0x306093[_0x389b32(0x16c)]&&_0x306093[_0x389b32(0x16c)][_0x389b32(0x52a)]()[_0x389b32(0x24d)]<0xd?_0x306093['conversationTimestamp']*0x3e8:_0x306093[_0x389b32(0x16c)]||null,'archived':_0x306093[_0x389b32(0x45d)]||!0x1,'unreadcount':_0x306093[_0x389b32(0x4ab)]||0x0})));await this[_0x389b32(0x3df)](_0x389b32(0x264),_0x2a7dd9),await this[_0x389b32(0x581)](_0x2a7dd9,_0x40fc52),await this[_0x389b32(0x728)]();}let _0x3776a7=[],_0x202a2e=Date['now']()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x17fe68]of Object['entries'](_0x5e058a)){if(_0x17fe68[_0x389b32(0x23a)]?.[_0x389b32(0x506)]||_0x17fe68[_0x389b32(0x23a)]?.['senderKeyDistributionMessage']||!_0x17fe68[_0x389b32(0x23a)]||_0x17fe68[_0x389b32(0x655)]['remoteJid']===_0x389b32(0x529)||(Cs['default'][_0x389b32(0x512)](_0x17fe68?.[_0x389b32(0x37c)])&&(_0x17fe68[_0x389b32(0x37c)]=_0x17fe68[_0x389b32(0x37c)]?.[_0x389b32(0x441)]()),_0x17fe68[_0x389b32(0x37c)]&&_0x17fe68[_0x389b32(0x37c)][_0x389b32(0x52a)]()['length']<0xd&&(_0x17fe68[_0x389b32(0x37c)]=_0x17fe68[_0x389b32(0x37c)]*0x3e8),_0x17fe68[_0x389b32(0x37c)]<_0x202a2e))continue;let {message_normalized:_0x44ffee}=this[_0x389b32(0x18d)](_0x17fe68[_0x389b32(0x23a)],W(_0x17fe68[_0x389b32(0x23a)]),null);_0x3776a7[_0x389b32(0x338)]({'key':_0x17fe68[_0x389b32(0x655)],'pushName':_0x17fe68[_0x389b32(0x382)],'participant':_0x17fe68[_0x389b32(0x3cd)],'message':{..._0x17fe68[_0x389b32(0x23a)]},'messageType':W(_0x17fe68[_0x389b32(0x23a)]),'message_normalized':{'key':_0x17fe68[_0x389b32(0x655)],'pushName':_0x17fe68[_0x389b32(0x382)],'messageTimestamp':_0x17fe68['messageTimestamp'],..._0x44ffee},'messageTimestamp':_0x17fe68[_0x389b32(0x37c)],'owner':this['instance'][_0x389b32(0x743)]});}_0x40fc52[_0x389b32(0x569)]&&_0x3776a7[_0x389b32(0x24d)]>0x0&&(this[_0x389b32(0x697)][_0x389b32(0x69e)](this['instanceName']+'\x20('+this[_0x389b32(0x487)][_0x389b32(0x743)]+'):\x20'+_0x3776a7[_0x389b32(0x24d)]+_0x389b32(0x188)+this[_0x389b32(0x487)][_0x389b32(0x743)]+_0x389b32(0x432)),await this[_0x389b32(0x620)][_0x389b32(0x23a)]['insert']([..._0x3776a7],_0x40fc52['ENABLED'])),this[_0x389b32(0x3df)](_0x389b32(0x4fd),[..._0x3776a7]),_0x5e058a=void 0x0;},'messages.upsert':async({messages:_0x197d9d,type:_0x2710da},_0x150ab4)=>{const _0x2956fb=_0x2b0111;let _0x315375=_0x197d9d[0x0];if(_0x2710da!==_0x2956fb(0x1d3)||!_0x315375?.[_0x2956fb(0x23a)]||_0x315375['message']?.[_0x2956fb(0x506)]||_0x315375[_0x2956fb(0x23a)][_0x2956fb(0x666)]||_0x315375[_0x2956fb(0x655)][_0x2956fb(0x261)]==='status@broadcast')return;let _0x457c58=null,_0x2c37b3=null;try{_0x457c58=await this[_0x2956fb(0x689)](_0x315375),_0x2c37b3=_0x457c58?_0x457c58[_0x2956fb(0x4c3)](','):null;}catch(_0x4a836e){this[_0x2956fb(0x697)]['verbose'](this['instanceName']+'\x20('+this[_0x2956fb(0x487)][_0x2956fb(0x743)]+_0x2956fb(0x5d3)+_0x4a836e['message']),_0x2c37b3='error\x20get\x20vote';}if(this['client']['sendPresenceUpdate'](_0x2956fb(0x672)),Cs['default'][_0x2956fb(0x512)](_0x315375['messageTimestamp'])&&(_0x315375[_0x2956fb(0x37c)]=_0x315375[_0x2956fb(0x37c)]?.[_0x2956fb(0x441)]()),this['localWebhook']?.[_0x2956fb(0x4b6)]&&_0x315375[_0x2956fb(0x655)]['remoteJid'][_0x2956fb(0x5a9)]('@g.us')){this[_0x2956fb(0x697)][_0x2956fb(0x69e)](_0x2956fb(0x613));return;}_0x315375[_0x2956fb(0x37c)]&&_0x315375[_0x2956fb(0x37c)][_0x2956fb(0x52a)]()[_0x2956fb(0x24d)]<0xd&&(_0x315375['messageTimestamp']=_0x315375[_0x2956fb(0x37c)]*0x3e8);let _0x598a7a=_0x315375[_0x2956fb(0x23a)],{messageContent:_0x1dcae0,message_normalized:_0x33c408}=this[_0x2956fb(0x18d)](_0x598a7a,W(_0x315375[_0x2956fb(0x23a)]),_0x2c37b3);_0x1dcae0||console[_0x2956fb(0x5ee)](_0x2956fb(0x36b));let _0x33d97e={'key':_0x315375['key'],'pushName':_0x315375[_0x2956fb(0x382)],'message':{..._0x315375[_0x2956fb(0x23a)]},'messageType':W(_0x315375['message']),'message_normalized':{'key':_0x315375[_0x2956fb(0x655)],'pushName':_0x315375['pushName'],'messageTimestamp':_0x315375[_0x2956fb(0x37c)],'source':(0x0,w['getDevice'])(_0x315375[_0x2956fb(0x655)]['id']),..._0x33c408},'messageTimestamp':_0x315375[_0x2956fb(0x37c)],'owner':this[_0x2956fb(0x487)]['wuid']};this[_0x2956fb(0x697)]['log'](_0x33d97e),await this['repository']['message']['insert']([_0x33d97e],_0x150ab4[_0x2956fb(0x569)]),await this[_0x2956fb(0x3df)]('messages.upsert',_0x33d97e),G(this['instanceName'],_0x2956fb(0x568),{'message':_0x33d97e}),_0x315375[_0x2956fb(0x655)][_0x2956fb(0x261)]!==_0x2956fb(0x529)&&await this[_0x2956fb(0x595)](_0x150ab4,_0x33d97e,_0x2956fb(0x1ae));},'messages.update':async(_0x4ba7a9,_0x4dbe5b)=>{const _0x45f50b=_0x2b0111;let _0x302d83={0x0:'ERROR',0x1:_0x45f50b(0x4f6),0x2:'SERVER_ACK',0x3:_0x45f50b(0x45e),0x4:_0x45f50b(0x5dc),0x5:_0x45f50b(0x474)};for await(let {key:_0x287634,update:_0xa4459d}of _0x4ba7a9){if(this[_0x45f50b(0x3c6)]?.['groups_ignore']&&_0x287634[_0x45f50b(0x261)][_0x45f50b(0x5a9)](_0x45f50b(0x4c6))){this[_0x45f50b(0x697)]['verbose'](_0x45f50b(0x613));return;}if(_0x287634[_0x45f50b(0x261)]!=='status@broadcast'){let _0x5a59cb=Date[_0x45f50b(0x463)](),_0x3acaf6;_0xa4459d[_0x45f50b(0x23a)]===null&&_0xa4459d['status']===void 0x0?_0x3acaf6='DELETED':_0x3acaf6=_0x302d83[_0xa4459d[_0x45f50b(0x1a9)]];let _0x3cb5e8=_0x287634[_0x45f50b(0x261)]['replace'](/:\d{1,2}@/g,'@'),_0x269d7b={..._0x287634,'remoteJid':_0x3cb5e8,'status':_0x3acaf6,'datetime':_0x5a59cb,'owner':this[_0x45f50b(0x487)][_0x45f50b(0x743)]};await this[_0x45f50b(0x3df)](_0x45f50b(0x695),_0x269d7b),await this['repository'][_0x45f50b(0x68e)]['insert']([_0x269d7b],_0x4dbe5b[_0x45f50b(0x569)]),await this['updateMessage'](_0x287634,_0x3cb5e8,_0x269d7b);}}}},this[_0x2b0111(0x74f)]={'groups.upsert':_0x117630=>{const _0x24f8ee=_0x2b0111;this[_0x24f8ee(0x3df)]('groups.upsert',_0x117630);},'groups.update':_0x56009a=>{this['sendDataWebhook']('groups.update',_0x56009a);},'group-participants.update':_0x3fda80=>{const _0x50ea4e=_0x2b0111;this[_0x50ea4e(0x3df)]('group-participants.update',_0x3fda80);}},this['processPollUpdateMessage']=async _0x599d8b=>{const _0x2cb22c=_0x2b0111;if(_0x599d8b[_0x2cb22c(0x23a)]?.[_0x2cb22c(0x713)]){let _0x3db2fe=await this[_0x2cb22c(0x462)](_0x599d8b[_0x2cb22c(0x23a)][_0x2cb22c(0x713)][_0x2cb22c(0x746)],!0x0);if(_0x3db2fe){let _0x58d879=_0x3db2fe[_0x2cb22c(0x655)]['fromMe']?this[_0x2cb22c(0x487)][_0x2cb22c(0x743)]+_0x2cb22c(0x5cb):_0x3db2fe['key'][_0x2cb22c(0x3cd)]||_0x3db2fe[_0x2cb22c(0x655)][_0x2cb22c(0x261)],_0x49134e=_0x3db2fe['key']['id'],_0x5830ec=_0x3db2fe[_0x2cb22c(0x23a)],_0x266cc0=Buffer['from'](_0x5830ec[_0x2cb22c(0x63d)]['messageSecret']['toString'](_0x2cb22c(0x60d)),_0x2cb22c(0x60d)),_0xa0741b=(0x0,w['decryptPollVote'])(_0x599d8b[_0x2cb22c(0x23a)][_0x2cb22c(0x713)][_0x2cb22c(0x5fd)],{'pollCreatorJid':_0x58d879,'pollMsgId':_0x49134e,'pollEncKey':_0x266cc0,'voterJid':_0x599d8b[_0x2cb22c(0x655)][_0x2cb22c(0x5e4)]?this[_0x2cb22c(0x487)][_0x2cb22c(0x743)]+_0x2cb22c(0x5cb):_0x599d8b[_0x2cb22c(0x655)][_0x2cb22c(0x261)]['endsWith'](_0x2cb22c(0x4c4))?_0x599d8b[_0x2cb22c(0x655)][_0x2cb22c(0x3cd)]:_0x599d8b[_0x2cb22c(0x655)][_0x2cb22c(0x261)]}),_0x3d39f2=[],_0x4ae09e=_0xa0741b[_0x2cb22c(0x6e5)][_0x2cb22c(0x30e)](_0x11051c=>Buffer[_0x2cb22c(0x317)](_0x11051c)[_0x2cb22c(0x52a)](_0x2cb22c(0x60d)));for(let {optionName:_0x41a528}of _0x5830ec[_0x2cb22c(0x163)]?.[_0x2cb22c(0x376)]||_0x5830ec[_0x2cb22c(0x19b)]?.[_0x2cb22c(0x376)]||_0x5830ec[_0x2cb22c(0x3e6)]?.['options'])_0x4ae09e['indexOf']((0x0,w[_0x2cb22c(0x380)])(Buffer[_0x2cb22c(0x317)](_0x41a528))[_0x2cb22c(0x52a)](_0x2cb22c(0x60d)))>-0x1&&_0x3d39f2['push'](_0x41a528);return _0x3d39f2;}}return null;},this[_0x2b0111(0x18d)]=(_0x29737d,_0x83cd7f,_0x5a3bbe)=>{const _0x1f5831=_0x2b0111;let _0x34bb82=_0x83cd7f?_0x29737d[_0x83cd7f]:void 0x0,_0x5c46da={},_0x505535=null,_0x51c33c=null,_0x14321f=null;if(_0x29737d['viewOnceMessageV2']?_0x34bb82=_0x29737d['viewOnceMessageV2'][_0x1f5831(0x23a)][_0x83cd7f]:_0x29737d[_0x1f5831(0x536)]?_0x34bb82=_0x29737d['viewOnceMessage'][_0x1f5831(0x23a)][_0x83cd7f]:_0x29737d[_0x1f5831(0x3ac)]?_0x34bb82=_0x29737d['ephemeralMessage'][_0x1f5831(0x23a)][_0x83cd7f]:_0x29737d[_0x1f5831(0x1e2)]?.['message']?.[_0x1f5831(0x506)]?.['editedMessage']?(_0x505535=_0x29737d[_0x1f5831(0x1e2)]['message']['protocolMessage'][_0x1f5831(0x655)]['id'],_0x29737d[_0x1f5831(0x1e2)]['message'][_0x1f5831(0x506)][_0x1f5831(0x1e2)]['conversation']?_0x34bb82=_0x29737d['editedMessage'][_0x1f5831(0x23a)]['protocolMessage']['editedMessage']['conversation']:_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)][_0x1f5831(0x506)][_0x1f5831(0x1e2)][_0x1f5831(0x207)]?_0x34bb82=_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)]['protocolMessage'][_0x1f5831(0x1e2)][_0x1f5831(0x207)][_0x1f5831(0x33e)]:_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)][_0x1f5831(0x506)][_0x1f5831(0x1e2)][_0x1f5831(0x2ba)]?_0x34bb82=_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)]['protocolMessage'][_0x1f5831(0x1e2)]['videoMessage'][_0x1f5831(0x33e)]:_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)][_0x1f5831(0x506)]['editedMessage'][_0x1f5831(0x1d7)]?_0x34bb82=_0x29737d['editedMessage'][_0x1f5831(0x23a)]['protocolMessage']['editedMessage'][_0x1f5831(0x1d7)][_0x1f5831(0x23a)][_0x1f5831(0x342)][_0x1f5831(0x33e)]:_0x34bb82=_0x29737d[_0x1f5831(0x1e2)][_0x1f5831(0x23a)][_0x1f5831(0x506)][_0x1f5831(0x1e2)]):_0x34bb82=_0x29737d[_0x83cd7f],!_0x83cd7f||!_0x34bb82){console['error']('Unknown\x20message\x20type\x20encountered',_0x29737d);return;}_0x29737d[_0x83cd7f]?.[_0x1f5831(0x6f0)]?.['stanzaId']&&_0x29737d[_0x83cd7f]?.[_0x1f5831(0x6f0)]?.[_0x1f5831(0x57a)]&&(_0x51c33c=_0x29737d[_0x83cd7f]['contextInfo'][_0x1f5831(0x534)]),_0x29737d[_0x1f5831(0x70b)]&&(_0x14321f=_0x29737d[_0x1f5831(0x70b)][_0x1f5831(0x655)]['id']);let _0x527ded;if(_0x34bb82&&typeof _0x34bb82==_0x1f5831(0x3a6)&&_0x1f5831(0x746)in _0x34bb82&&({pollCreationMessageKey:_0x527ded}=_0x34bb82),_0x83cd7f===_0x1f5831(0x1d7)){let _0x1245fc=_0x34bb82?.[_0x1f5831(0x23a)]?.[_0x1f5831(0x342)];_0x1245fc&&(_0x34bb82=_0x1245fc);}if(_0x83cd7f===_0x1f5831(0x163)||_0x83cd7f===_0x1f5831(0x3e6)||_0x83cd7f===_0x1f5831(0x19b)){let _0x452033=_0x34bb82['options'][_0x1f5831(0x30e)](_0x27b956=>_0x27b956['optionName'])[_0x1f5831(0x4c3)]('|');_0x5c46da['convertedOptions']=_0x452033;}let _0x5e1320=_0x34bb82[_0x1f5831(0x72c)]||_0x34bb82[_0x1f5831(0x33e)]||_0x34bb82['conversation']||_0x34bb82['displayName'];if(_0x34bb82[_0x1f5831(0x55f)]){let _0xdc11cd=this['formatVCard'](JSON['stringify'](_0x34bb82[_0x1f5831(0x55f)],null,0x2));_0x5e1320=_0x5e1320+'\x0a'+_0xdc11cd;}if(_0x34bb82){let {displayName:_0x28780c,vcard:_0x1dd726,contactVcard:_0x271021,name:_0x1393dc,caption:_0x25da24,conversation:_0x5748aa,pollCreationMessageKey:_0x4888c6,footerText:_0x1863bb,contentText:_0x3e849d,pageCount:_0x465cc1,headerType:_0x306f06,isAvatar:_0x51698a,isAnimated:_0x4e8b6d,fallbackLc:_0x57a9d1,fallbackLg:_0x4ec441,namespace:_0x326a52,elementName:_0x4900f7,localizableParams:_0x5880ef,viewOnce:_0x1848d5,height:_0x22783d,width:_0x1b70e2,key:_0x1e6b51,firstScanLength:_0x31b4e4,firstScanSidecar:_0x9ae3d4,gifPlayback:_0x13dc8d,gifAttribution:_0x1ac835,midQualityFileSha256:_0x36c156,scansSidecar:_0xa99b6a,streamingSidecar:_0x48e932,thumbnailHeight:_0x444fe8,thumbnailWidth:_0x5a1f07,thumbnailEncSha256:_0x28b6a7,thumbnailDirectPath:_0x2f6221,canonicalUrl:_0x3c985c,matchedText:_0x162ca5,previewType:_0x26d359,thumbnailSha256:_0x261b36,deviceListMetadataVersion:_0x9500ca,inviteLinkGroupTypeV2:_0x4d06b4,interactiveAnnotations:_0x4c1844,scanLengths:_0x534ced,jpegThumbnail:_0x48d1cf,url:_0x38be57,mediaKeyTimestamp:_0x4ee909,waveform:_0x3c739d,stickerSentTs:_0x216eca,firstFrameLength:_0x240b6f,fileEncSha256:_0xd29445,contextInfo:_0x10854b,firstFrameSidecar:_0x4208a4,directPath:_0x3feecf,fileSha256:_0x475a6e,mediaKey:_0x245f85,senderTimestampMs:_0x1dcebc,..._0x1c24c3}=_0x34bb82;typeof _0x34bb82=='string'?_0x5c46da={'text':_0x34bb82,'type':_0x83cd7f||'conversation',..._0x505535&&{'edited':_0x505535},..._0x51c33c&&{'quoted':_0x51c33c},..._0x14321f&&{'reaction':_0x14321f}}:_0x5c46da={'text':_0x5e1320,..._0x1c24c3,..._0x83cd7f==='pollUpdateMessage'?{'poll_id':_0x34bb82['pollCreationMessageKey']['id'],'vote':_0x5a3bbe}:{},'type':_0x83cd7f,..._0x505535&&{'edited':_0x505535},..._0x51c33c&&{'quoted':_0x51c33c},..._0x14321f&&{'reaction':_0x14321f},...(_0x83cd7f===_0x1f5831(0x163)||_0x83cd7f===_0x1f5831(0x3e6)||_0x83cd7f===_0x1f5831(0x19b))&&{'convertedOptions':_0x5c46da[_0x1f5831(0x3db)]}};}return{'messageType':_0x83cd7f,'messageContent':_0x34bb82,'message_normalized':_0x5c46da};},this[_0x2b0111(0x39c)]=null,this['lastSend']=0x0,(this[_0x2b0111(0x2b2)](),this[_0x2b0111(0x487)][_0x2b0111(0x51d)]={'count':0x0});}set['instanceName'](_0x358e65){const _0x2c25ae=a0_0x2aad5a;if(!_0x358e65){this[_0x2c25ae(0x487)][_0x2c25ae(0x72c)]=(0x0,po['v4'])();return;}this[_0x2c25ae(0x487)][_0x2c25ae(0x72c)]=_0x358e65,this[_0x2c25ae(0x3df)](_0x2c25ae(0x443),{'instance':this[_0x2c25ae(0x487)][_0x2c25ae(0x72c)],'status':_0x2c25ae(0x659)});}get['instanceName'](){const _0x375f2a=a0_0x2aad5a;return this[_0x375f2a(0x487)][_0x375f2a(0x72c)];}get[a0_0x2aad5a(0x743)](){const _0x195940=a0_0x2aad5a;return this[_0x195940(0x487)][_0x195940(0x743)];}async[a0_0x2aad5a(0x6aa)](){const _0xc7fdb7=a0_0x2aad5a;let _0xb0c17=this['client']['user']?.['name']??this[_0xc7fdb7(0x40c)]['user']?.[_0xc7fdb7(0x6a4)];if(!_0xb0c17){if(this[_0xc7fdb7(0x231)]['get']('DATABASE')['ENABLED']){let _0x2b9bcb=await M['getClient']()['db'](this[_0xc7fdb7(0x231)][_0xc7fdb7(0x6e1)](_0xc7fdb7(0x553))[_0xc7fdb7(0x322)]['DB_PREFIX_NAME']+_0xc7fdb7(0x3d7))[_0xc7fdb7(0x574)](this[_0xc7fdb7(0x3d1)])[_0xc7fdb7(0x538)]({'_id':'creds'});if(_0x2b9bcb){let _0x448f5f=JSON[_0xc7fdb7(0x1aa)](JSON[_0xc7fdb7(0x318)](_0x2b9bcb),w[_0xc7fdb7(0x244)][_0xc7fdb7(0x702)]);_0xb0c17=_0x448f5f['me']?.[_0xc7fdb7(0x72c)]||_0x448f5f['me']?.[_0xc7fdb7(0x6a4)];}}else{if((0x0,_e[_0xc7fdb7(0x5eb)])((0x0,$[_0xc7fdb7(0x4c3)])(j,this[_0xc7fdb7(0x3d1)],_0xc7fdb7(0x573)))){let _0x5d7890=JSON['parse']((0x0,_e[_0xc7fdb7(0x34d)])((0x0,$[_0xc7fdb7(0x4c3)])(j,this[_0xc7fdb7(0x3d1)],_0xc7fdb7(0x573)),{'encoding':'utf-8'}));_0xb0c17=_0x5d7890['me']?.['name']||_0x5d7890['me']?.[_0xc7fdb7(0x6a4)];}}}return _0xb0c17;}get[a0_0x2aad5a(0x32a)](){const _0xda9585=a0_0x2aad5a;return this[_0xda9585(0x487)][_0xda9585(0x32a)];}get['qrCode'](){const _0xfe1bef=a0_0x2aad5a;return{'code':this['instance'][_0xfe1bef(0x51d)]?.[_0xfe1bef(0x556)],'base64':this[_0xfe1bef(0x487)]['qrcode']?.[_0xfe1bef(0x1fc)]};}async['loadWebhook'](){const _0x385daf=a0_0x2aad5a;let _0x512875=await this[_0x385daf(0x620)][_0x385daf(0x74c)][_0x385daf(0x2f0)](this['instanceName']);this[_0x385daf(0x3c6)][_0x385daf(0x583)]=_0x512875?.[_0x385daf(0x583)],this[_0x385daf(0x3c6)]['enabled']=_0x512875?.[_0x385daf(0x667)],this[_0x385daf(0x3c6)][_0x385daf(0x59a)]=_0x512875?.['local_map'],this[_0x385daf(0x3c6)]['STATUS_INSTANCE']=_0x512875?.[_0x385daf(0x72a)],this[_0x385daf(0x3c6)]['QRCODE_UPDATED']=_0x512875?.[_0x385daf(0x1b5)],this['localWebhook']['SEND_MESSAGE']=_0x512875?.[_0x385daf(0x2cb)],this[_0x385daf(0x3c6)][_0x385daf(0x1ae)]=_0x512875?.[_0x385daf(0x1ae)],this[_0x385daf(0x3c6)][_0x385daf(0x34f)]=_0x512875?.[_0x385daf(0x34f)],this['localWebhook'][_0x385daf(0x41c)]=_0x512875?.[_0x385daf(0x41c)],this[_0x385daf(0x3c6)][_0x385daf(0x40b)]=_0x512875?.['GROUPS_UPDATE'],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x512875?.[_0x385daf(0x3f2)],this[_0x385daf(0x3c6)][_0x385daf(0x68b)]=_0x512875?.[_0x385daf(0x68b)],this[_0x385daf(0x3c6)][_0x385daf(0x4b2)]=_0x512875?.['CHATS_UPSERT'],this[_0x385daf(0x3c6)][_0x385daf(0x726)]=_0x512875?.[_0x385daf(0x726)],this[_0x385daf(0x3c6)][_0x385daf(0x56e)]=_0x512875?.[_0x385daf(0x56e)],this[_0x385daf(0x3c6)]['CONTACTS_SET']=_0x512875?.['CONTACTS_SET'],this[_0x385daf(0x3c6)][_0x385daf(0x29e)]=_0x512875?.[_0x385daf(0x29e)],this['localWebhook'][_0x385daf(0x55a)]=_0x512875?.[_0x385daf(0x55a)],this[_0x385daf(0x3c6)][_0x385daf(0x2df)]=_0x512875?.['PRESENCE_UPDATE'],this['localWebhook'][_0x385daf(0x5e2)]=_0x512875?.[_0x385daf(0x5e2)],this['localWebhook'][_0x385daf(0x496)]=_0x512875?.[_0x385daf(0x496)],this[_0x385daf(0x3c6)][_0x385daf(0x4b6)]=_0x512875?.[_0x385daf(0x4b6)];}async[a0_0x2aad5a(0x2bf)](_0x2e92c1){const _0x5ea02c=a0_0x2aad5a;let _0x394204=[_0x5ea02c(0x2c1),_0x5ea02c(0x583),_0x5ea02c(0x667),'local_map',_0x5ea02c(0x72a),_0x5ea02c(0x1b5),_0x5ea02c(0x34f),'MESSAGES_UPSERT',_0x5ea02c(0x2cb),_0x5ea02c(0x41c),_0x5ea02c(0x40b),_0x5ea02c(0x3f2),_0x5ea02c(0x68b),_0x5ea02c(0x4b2),_0x5ea02c(0x726),_0x5ea02c(0x56e),_0x5ea02c(0x221),_0x5ea02c(0x29e),'CONTACTS_UPDATE',_0x5ea02c(0x2df),'MESSAGES_SET',_0x5ea02c(0x496),_0x5ea02c(0x4b6)],_0x2aeb79={};return _0x394204[_0x5ea02c(0x44d)](_0x303a86=>{_0x2e92c1[_0x303a86]!==void 0x0&&(_0x2aeb79[_0x303a86]=_0x2e92c1[_0x303a86]);}),await this[_0x5ea02c(0x620)][_0x5ea02c(0x74c)][_0x5ea02c(0x6c2)](_0x2aeb79,this[_0x5ea02c(0x3d1)]),Object['assign'](this['localWebhook'],_0x2aeb79),await this['repository']['webhook'][_0x5ea02c(0x2f0)](this[_0x5ea02c(0x3d1)]);}async[a0_0x2aad5a(0x612)](){const _0x441405=a0_0x2aad5a;return await this[_0x441405(0x620)]['webhook'][_0x441405(0x2f0)](this['instanceName']);}async[a0_0x2aad5a(0x3df)](_0x3504f0,_0x158988){const _0x5a0bec=a0_0x2aad5a;let _0x4255f5=this[_0x5a0bec(0x231)][_0x5a0bec(0x6e1)]('WEBHOOK'),_0x378e2d=_0x3504f0[_0x5a0bec(0x436)](/[\.-]/gm,'_')[_0x5a0bec(0x41e)](),_0x4782b7=this[_0x5a0bec(0x3c6)][_0x5a0bec(0x667)]&&(0x0,k[_0x5a0bec(0x67a)])(this[_0x5a0bec(0x3c6)]['url'])?this['localWebhook'][_0x5a0bec(0x583)]+(this['localWebhook']['local_map']?this[_0x5a0bec(0x4a0)][_0x3504f0]:''):null,_0x18e941=_0x4255f5?.[_0x5a0bec(0x5f5)],_0x1c1b4b=_0x18e941&&_0x18e941?.[_0x5a0bec(0x569)]&&(0x0,k[_0x5a0bec(0x67a)])(_0x18e941[_0x5a0bec(0x19d)])?_0x18e941['URL']+(_0x4255f5[_0x5a0bec(0x1c0)]?this[_0x5a0bec(0x4a0)][_0x3504f0]:''):null,_0x418e51=this[_0x5a0bec(0x3c6)][_0x378e2d],_0x54f2f5=_0x4255f5?.[_0x5a0bec(0x28b)]?.[_0x378e2d];if(_0x418e51&&_0x4782b7)try{await ue['default']['create']({'baseURL':_0x4782b7})[_0x5a0bec(0x59d)]('',{'event':_0x3504f0,'instance':this[_0x5a0bec(0x487)]['name'],'data':_0x158988}),this[_0x5a0bec(0x697)]['log']('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3504f0+':\x20'+_0x4782b7);}catch(_0x57f52c){this[_0x5a0bec(0x697)][_0x5a0bec(0x5ee)](this[_0x5a0bec(0x3d1)]+'\x20('+this[_0x5a0bec(0x487)][_0x5a0bec(0x743)]+'):\x20'+{'local':l[_0x5a0bec(0x72c)]+'.sendDataWebhook-local','message':_0x57f52c?.[_0x5a0bec(0x23a)],'hostName':_0x57f52c?.[_0x5a0bec(0x24c)],'syscall':_0x57f52c?.[_0x5a0bec(0x3ab)],'code':_0x57f52c?.[_0x5a0bec(0x556)],'error':_0x57f52c?.[_0x5a0bec(0x2a3)],'stack':_0x57f52c?.[_0x5a0bec(0x372)],'name':_0x57f52c?.['name']});}if(_0x54f2f5&&_0x1c1b4b)try{await ue[_0x5a0bec(0x433)][_0x5a0bec(0x6c2)]({'baseURL':_0x1c1b4b})[_0x5a0bec(0x59d)]('',{'event':_0x3504f0,'instance':this['instance'][_0x5a0bec(0x72c)],'data':_0x158988}),this[_0x5a0bec(0x697)][_0x5a0bec(0x4d0)](_0x5a0bec(0x2eb)+_0x3504f0+':\x20'+_0x1c1b4b);}catch(_0x486487){this[_0x5a0bec(0x697)][_0x5a0bec(0x5ee)](this[_0x5a0bec(0x3d1)]+'\x20('+this[_0x5a0bec(0x487)][_0x5a0bec(0x743)]+_0x5a0bec(0x5d3)+{'local':l[_0x5a0bec(0x72c)]+_0x5a0bec(0x64b),'message':_0x486487?.[_0x5a0bec(0x23a)],'hostName':_0x486487?.['hostname'],'syscall':_0x486487?.[_0x5a0bec(0x3ab)],'code':_0x486487?.[_0x5a0bec(0x556)],'error':_0x486487?.[_0x5a0bec(0x2a3)],'stack':_0x486487?.[_0x5a0bec(0x372)],'name':_0x486487?.['name']});}}async['connectionUpdate']({qr:_0x4781c6,connection:_0x1d78d9,lastDisconnect:_0x22b314}){const _0x536eb0=a0_0x2aad5a;if(_0x4781c6){if(this[_0x536eb0(0x487)][_0x536eb0(0x51d)][_0x536eb0(0x4c2)]===this[_0x536eb0(0x231)][_0x536eb0(0x6e1)](_0x536eb0(0x74b))[_0x536eb0(0x19f)])return this[_0x536eb0(0x3df)](_0x536eb0(0x3e8),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x536eb0(0x5f1)]['badSession']}),this[_0x536eb0(0x3df)](_0x536eb0(0x52e),{'instance':this[_0x536eb0(0x487)][_0x536eb0(0x72c)],'state':_0x536eb0(0x19e),'statusReason':w[_0x536eb0(0x5f1)]['connectionClosed']}),this[_0x536eb0(0x3df)](_0x536eb0(0x443),{'instance':this['instance'][_0x536eb0(0x72c)],'status':_0x536eb0(0x3b9)}),this[_0x536eb0(0x314)]=!0x0,this['eventEmitter'][_0x536eb0(0x6ef)](_0x536eb0(0x20b),this[_0x536eb0(0x487)][_0x536eb0(0x72c)]);this[_0x536eb0(0x487)][_0x536eb0(0x51d)][_0x536eb0(0x4c2)]++;let _0x518985={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x536eb0(0x577),'dark':'#000000'}};go[_0x536eb0(0x433)]['toDataURL'](_0x4781c6,_0x518985,(_0x213842,_0x520a07)=>{const _0x94a000=_0x536eb0;if(_0x213842){this[_0x94a000(0x697)][_0x94a000(0x5ee)](this['instanceName']+'\x20('+this[_0x94a000(0x487)][_0x94a000(0x743)]+_0x94a000(0x271)+_0x213842[_0x94a000(0x52a)]());return;}this[_0x94a000(0x487)]['qrcode'][_0x94a000(0x1fc)]=_0x520a07,this[_0x94a000(0x487)][_0x94a000(0x51d)][_0x94a000(0x556)]=_0x4781c6,this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x94a000(0x487)]['name'],'code':_0x4781c6,'base64':_0x520a07}});}),mo[_0x536eb0(0x433)]['generate'](_0x4781c6,{'small':!0x0},_0x26464d=>this['logger'][_0x536eb0(0x4d0)](_0x536eb0(0x652)+this[_0x536eb0(0x487)][_0x536eb0(0x72c)]+_0x536eb0(0x245)+this[_0x536eb0(0x487)]['qrcode']['count']+_0x536eb0(0x694)+_0x26464d));}if(_0x1d78d9&&(this[_0x536eb0(0x2ae)]={'state':_0x1d78d9,'statusReason':_0x22b314?.[_0x536eb0(0x5ee)]?.[_0x536eb0(0x4a8)]?.[_0x536eb0(0x6d4)]??0xc8},this[_0x536eb0(0x3df)]('connection.update',{'instance':this['instance'][_0x536eb0(0x72c)],...this[_0x536eb0(0x2ae)]})),_0x1d78d9==='close'){if(this['reconnectAttempts']++,this[_0x536eb0(0x49e)][_0x536eb0(0x338)](Date['now']()),this['reconnectTimestamps']=this[_0x536eb0(0x49e)][_0x536eb0(0x19a)](_0x52b60d=>Date[_0x536eb0(0x463)]()-_0x52b60d<this[_0x536eb0(0x21d)]),_0x22b314[_0x536eb0(0x5ee)]?.['output']?.['statusCode']!==w[_0x536eb0(0x5f1)][_0x536eb0(0x6d6)]&&this[_0x536eb0(0x49e)]['length']<=this['MAX_RECONNECT_ATTEMPTS'])await this['connectToWhatsapp']();else{this[_0x536eb0(0x3df)](_0x536eb0(0x443),{'instance':this['instance'][_0x536eb0(0x72c)],'status':_0x536eb0(0x3b9)}),this[_0x536eb0(0x524)]=!0x1;try{this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)]['wuid']+_0x536eb0(0x5a2));let _0x2a062e={'where':{'owner':this[_0x536eb0(0x487)][_0x536eb0(0x743)]}},_0x506f64=(await this['repository'][_0x536eb0(0x68e)][_0x536eb0(0x2f0)](_0x2a062e))[_0x536eb0(0x24d)];await this['repository'][_0x536eb0(0x68e)]['delete'](_0x2a062e),this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+_0x536eb0(0x5e8)+_0x506f64+_0x536eb0(0x20e));}catch(_0x92d6cc){console[_0x536eb0(0x5ee)](_0x536eb0(0x330),_0x92d6cc);}try{this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x3b84e9={'where':{'owner':this['instance']['wuid']}},_0x5bb76d=(await this['repository'][_0x536eb0(0x23a)][_0x536eb0(0x2f0)](_0x3b84e9))[_0x536eb0(0x24d)];await this[_0x536eb0(0x620)]['message'][_0x536eb0(0x1d1)](_0x3b84e9),this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+_0x536eb0(0x5e8)+_0x5bb76d+'\x20messages.');}catch(_0x13aa97){console[_0x536eb0(0x5ee)](_0x536eb0(0x397),_0x13aa97);}try{this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this['instanceName']+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+_0x536eb0(0x4da));let _0x2b8d45={'where':{'owner':this[_0x536eb0(0x487)][_0x536eb0(0x743)]}},_0xbbcfc3=(await this['repository'][_0x536eb0(0x36a)][_0x536eb0(0x2f0)](_0x2b8d45))[_0x536eb0(0x24d)];await this[_0x536eb0(0x620)][_0x536eb0(0x36a)][_0x536eb0(0x1d1)](_0x2b8d45),this['logger']['verbose'](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+'):\x20Deletados\x20'+_0xbbcfc3+_0x536eb0(0x3fd));}catch(_0x39421c){console[_0x536eb0(0x5ee)](_0x536eb0(0x64a),_0x39421c);}this['delayMessage']!==null&&(this['logger'][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x536eb0(0x521)]),this[_0x536eb0(0x521)]=null),this[_0x536eb0(0x697)][_0x536eb0(0x69e)](this[_0x536eb0(0x3d1)]+'\x20('+this[_0x536eb0(0x487)][_0x536eb0(0x743)]+_0x536eb0(0x6ae)),this[_0x536eb0(0x17e)]=null,this['eventEmitter']['emit'](_0x536eb0(0x579),this[_0x536eb0(0x487)][_0x536eb0(0x72c)],_0x536eb0(0x3f1)),this[_0x536eb0(0x40c)]?.['ws']?.[_0x536eb0(0x6f7)](),this[_0x536eb0(0x40c)][_0x536eb0(0x705)](new Error(_0x536eb0(0x1b9)));}}if(_0x1d78d9===_0x536eb0(0x40f)){this[_0x536eb0(0x5e7)],this[_0x536eb0(0x487)][_0x536eb0(0x743)]=this[_0x536eb0(0x40c)][_0x536eb0(0x468)]['id'][_0x536eb0(0x436)](/:\d+/,'')['replace'](_0x536eb0(0x5cb),''),this[_0x536eb0(0x487)][_0x536eb0(0x32a)]=(await this[_0x536eb0(0x37b)](this[_0x536eb0(0x487)][_0x536eb0(0x743)]+'@s.whatsapp.net'))['profilePictureUrl'];let _0x26fdf7=_0x536eb0(0x297)+this[_0x536eb0(0x487)][_0x536eb0(0x743)],_0x31a0de=0x28,_0x37a16f=Math[_0x536eb0(0x47a)]((_0x31a0de-_0x26fdf7[_0x536eb0(0x24d)])/0x2),_0x35e056='\x20'[_0x536eb0(0x345)](_0x37a16f),_0x1ac285=_0x536eb0(0x218),_0x246457=_0x536eb0(0x1a7)+this[_0x536eb0(0x487)][_0x536eb0(0x72c)],_0x439525=(''+_0x35e056+_0x26fdf7+_0x35e056)[_0x536eb0(0x690)](_0x31a0de,'\x20'),_0xafaf3e=(''+_0x35e056+_0x1ac285+_0x35e056)[_0x536eb0(0x690)](_0x31a0de,'\x20'),_0x541a13=(''+_0x35e056+_0x246457+_0x35e056)[_0x536eb0(0x690)](_0x31a0de,'\x20'),_0x173e67=Math[_0x536eb0(0x6fe)](_0x439525[_0x536eb0(0x24d)],_0xafaf3e[_0x536eb0(0x24d)],_0x541a13['length']),_0x514346=_0x439525[_0x536eb0(0x690)](_0x173e67,'\x20'),_0x239e23=_0xafaf3e['padEnd'](_0x173e67,'\x20'),_0x46aec1=_0x541a13['padEnd'](_0x173e67,'\x20');this['logger'][_0x536eb0(0x400)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x173e67)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x239e23+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x46aec1+_0x536eb0(0x1cc)+_0x514346+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x536eb0(0x345)](_0x173e67)+'┘')[_0x536eb0(0x436)](/^ +/gm,'\x20\x20')),this[_0x536eb0(0x370)](),this[_0x536eb0(0x524)]=!0x0;}}[a0_0x2aad5a(0x5e7)](){const _0x229ec2=a0_0x2aad5a;this[_0x229ec2(0x68a)]=0x0,this[_0x229ec2(0x49e)]=[];}async[a0_0x2aad5a(0x462)](_0x13aa7f,_0x14c708=!0x1){const _0x15c184=a0_0x2aad5a;try{let _0x4abd3a=await this['repository'][_0x15c184(0x23a)][_0x15c184(0x2f0)]({'where':{'owner':this[_0x15c184(0x487)][_0x15c184(0x743)],'key':{'id':_0x13aa7f['id']}}});return _0x14c708?_0x4abd3a[0x0]:_0x4abd3a[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x2aad5a(0x2b2)](){const _0x122319=a0_0x2aad5a;let _0x6c081e=this[_0x122319(0x231)][_0x122319(0x6e1)](_0x122319(0x450)),_0x58eaf9=this[_0x122319(0x231)][_0x122319(0x6e1)](_0x122319(0x553));_0x6c081e?.['CLEANING_INTERVAL']&&!_0x58eaf9[_0x122319(0x569)]&&setInterval(()=>{const _0x148565=_0x122319;try{for(let [_0x48a51c,_0x525314]of Object[_0x148565(0x268)](_0x6c081e))_0x525314===!0x0&&(0x0,Vt[_0x148565(0x250)])(_0x148565(0x3ef)+(0x0,$[_0x148565(0x4c3)])(this[_0x148565(0x715)],_0x48a51c[_0x148565(0x2d9)](),this[_0x148565(0x487)][_0x148565(0x743)])+_0x148565(0x191));}catch{}},(_0x6c081e?.[_0x122319(0x4b7)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x55d547=a0_0x2aad5a;let _0xc84f1e=this['configService']['get']('DATABASE'),_0x292683=this[_0x55d547(0x231)][_0x55d547(0x6e1)](_0x55d547(0x393));return _0x292683?.[_0x55d547(0x569)]?await vs(_0x292683,this[_0x55d547(0x487)][_0x55d547(0x72c)]):_0xc84f1e[_0x55d547(0x569)]?await Es(this[_0x55d547(0x487)]['name']):await(0x0,w[_0x55d547(0x6eb)])((0x0,$[_0x55d547(0x4c3)])(j,this[_0x55d547(0x487)]['name']));}async[a0_0x2aad5a(0x370)](){const _0x318888=a0_0x2aad5a;let _0x3c480f=()=>Math['floor'](Math[_0x318888(0x71e)]()*0x2711)+0x7d0,_0x536e6b=async()=>{const _0x1f921c=_0x318888;if(!this['isConnected']){this['logger'][_0x1f921c(0x69e)]('Desconectado,\x20parando\x20execução.'),this[_0x1f921c(0x3fc)]=!0x1;return;}if(this[_0x1f921c(0x487)][_0x1f921c(0x743)]&&this[_0x1f921c(0x17e)]&&this[_0x1f921c(0x521)]!==null&&this[_0x1f921c(0x521)]!==void 0x0){let _0x4c0474=Math[_0x1f921c(0x31b)](this['delayMessage']/0xea60);this[_0x1f921c(0x697)][_0x1f921c(0x69e)](this[_0x1f921c(0x3d1)]+'\x20('+this['instance'][_0x1f921c(0x743)]+_0x1f921c(0x2ed)+_0x4c0474+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x1f921c(0x3fc)]=!0x1;return;}else this[_0x1f921c(0x487)][_0x1f921c(0x743)]&&(this[_0x1f921c(0x697)][_0x1f921c(0x69e)](this[_0x1f921c(0x3d1)]+'\x20('+this[_0x1f921c(0x487)][_0x1f921c(0x743)]+_0x1f921c(0x361)),this[_0x1f921c(0x17e)]||await this['getAutomateSystem'](),(this['delayMessage']===null||this[_0x1f921c(0x521)]===void 0x0)&&await this[_0x1f921c(0x5a8)]());if(this[_0x1f921c(0x3fc)]){let _0x52d81d=_0x3c480f();this[_0x1f921c(0x697)][_0x1f921c(0x69e)](this['instanceName']+_0x1f921c(0x430)+_0x52d81d/0x3e8+_0x1f921c(0x604)),setTimeout(_0x536e6b,_0x52d81d);}};if(this[_0x318888(0x3fc)])return;this[_0x318888(0x3fc)]=!0x0;let _0x1cc27b=_0x3c480f();setTimeout(_0x536e6b,_0x1cc27b);}async[a0_0x2aad5a(0x31d)](){const _0x23a5dc=a0_0x2aad5a;try{this[_0x23a5dc(0x61f)](),this[_0x23a5dc(0x487)][_0x23a5dc(0x664)]=await this[_0x23a5dc(0x5b5)]();let {version:_0x4e9032}=await(0x0,w[_0x23a5dc(0x28e)])(),_0x43a60d=this[_0x23a5dc(0x231)][_0x23a5dc(0x6e1)](_0x23a5dc(0x700)),_0x1f7f7a=[_0x43a60d['CLIENT'],_0x43a60d[_0x23a5dc(0x71a)],(0x0,ho[_0x23a5dc(0x2a9)])()],_0x554941={'auth':{'creds':this[_0x23a5dc(0x487)]['authState'][_0x23a5dc(0x709)][_0x23a5dc(0x1e8)],'keys':(0x0,w[_0x23a5dc(0x6e6)])(this[_0x23a5dc(0x487)][_0x23a5dc(0x664)]['state'][_0x23a5dc(0x3e1)],(0x0,kt[_0x23a5dc(0x433)])({'level':_0x23a5dc(0x5ee)}))},'logger':(0x0,kt[_0x23a5dc(0x433)])({'level':_0x23a5dc(0x5ee)}),'printQRInTerminal':!0x1,'browser':_0x1f7f7a,'version':_0x4e9032,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x23a5dc(0x1f6)],'getMessage':async _0x46da92=>await this[_0x23a5dc(0x462)](_0x46da92),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x23a5dc(0x26a)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x8ab9b5=>(!!(_0x8ab9b5[_0x23a5dc(0x5d5)]||_0x8ab9b5[_0x23a5dc(0x2de)])&&(_0x8ab9b5={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x8ab9b5}}}),_0x8ab9b5)};return this[_0x23a5dc(0x314)]=!0x1,this['client']=(0x0,w['default'])(_0x554941),this[_0x23a5dc(0x40a)](),this[_0x23a5dc(0x40c)];}catch(_0x406614){throw this[_0x23a5dc(0x697)]['error'](this[_0x23a5dc(0x3d1)]+'\x20('+this[_0x23a5dc(0x487)][_0x23a5dc(0x743)]+_0x23a5dc(0x5d3)+_0x406614),new A(_0x406614?.[_0x23a5dc(0x52a)]());}}[a0_0x2aad5a(0x40a)](){const _0x4f2053=a0_0x2aad5a;this[_0x4f2053(0x40c)]['ev'][_0x4f2053(0x357)](_0x58d939=>{const _0x3efa85=_0x4f2053;if(!this[_0x3efa85(0x314)]){let _0x4b94f0=this[_0x3efa85(0x231)][_0x3efa85(0x6e1)](_0x3efa85(0x553));if(_0x58d939[_0x3efa85(0x52e)]&&this[_0x3efa85(0x291)](_0x58d939['connection.update']),_0x58d939['creds.update']&&this['instance'][_0x3efa85(0x664)][_0x3efa85(0x53c)](),_0x58d939[_0x3efa85(0x290)]){let _0xebd8f1=_0x58d939[_0x3efa85(0x290)];this[_0x3efa85(0x5b8)][_0x3efa85(0x290)](_0xebd8f1,_0x4b94f0);}if(_0x58d939[_0x3efa85(0x3ce)]){let _0x22c1d1=_0x58d939[_0x3efa85(0x3ce)];this[_0x3efa85(0x5b8)][_0x3efa85(0x3ce)](_0x22c1d1,_0x4b94f0);}if(_0x58d939[_0x3efa85(0x695)]){let _0x282073=_0x58d939[_0x3efa85(0x695)];this[_0x3efa85(0x5b8)]['messages.update'](_0x282073,_0x4b94f0);}if(_0x58d939['presence.update']){let _0x526969=_0x58d939['presence.update'];if(this['localWebhook']?.['groups_ignore']&&_0x526969['id']['includes']('@g.us'))return;this[_0x3efa85(0x3df)](_0x3efa85(0x2e4),_0x526969);}if(!this[_0x3efa85(0x3c6)]?.[_0x3efa85(0x4b6)]){if(_0x58d939[_0x3efa85(0x52d)]){let _0x33624f=_0x58d939[_0x3efa85(0x52d)];this['groupHandler']['groups.upsert'](_0x33624f);}if(_0x58d939[_0x3efa85(0x6c3)]){let _0x42afc8=_0x58d939[_0x3efa85(0x6c3)];this['groupHandler'][_0x3efa85(0x6c3)](_0x42afc8);}if(_0x58d939[_0x3efa85(0x64f)]){let _0x3a6704=_0x58d939[_0x3efa85(0x64f)];this[_0x3efa85(0x74f)][_0x3efa85(0x64f)](_0x3a6704);}}if(_0x58d939[_0x3efa85(0x46a)]){let _0x43f701=_0x58d939[_0x3efa85(0x46a)];this[_0x3efa85(0x554)][_0x3efa85(0x46a)](_0x43f701,_0x4b94f0);}if(_0x58d939['chats.update']){let _0x4db3f5=_0x58d939[_0x3efa85(0x3d0)];this[_0x3efa85(0x554)]['chats.update'](_0x4db3f5,_0x4b94f0);}if(_0x58d939[_0x3efa85(0x43a)]){let _0x214447=_0x58d939[_0x3efa85(0x43a)];this['chatHandle'][_0x3efa85(0x43a)](_0x214447);}if(_0x58d939[_0x3efa85(0x418)]){let _0x1012bf=_0x58d939[_0x3efa85(0x418)];this[_0x3efa85(0x586)][_0x3efa85(0x418)](_0x1012bf,_0x4b94f0);}if(_0x58d939[_0x3efa85(0x48d)]){let _0x5c8535=_0x58d939['contacts.update'];this[_0x3efa85(0x586)][_0x3efa85(0x48d)](_0x5c8535,_0x4b94f0);}}});}[a0_0x2aad5a(0x2aa)](_0x1a4c76){const _0x5ca5ab=a0_0x2aad5a;let _0x5b105b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5ca5ab(0x510)](_0x1a4c76);if(_0x5b105b&&_0x5b105b[0x1]==='55'){let _0x3a5ba8=_0x5b105b[0x2],_0x56e4c0=_0x5b105b[0x3],_0x215370=_0x5b105b[0x4];if(_0x3a5ba8>='31'&&_0x56e4c0==='9')return _0x5b105b[0x1]+_0x3a5ba8+_0x215370;}return _0x1a4c76;}['createJid'](_0x504708){const _0x4bc866=a0_0x2aad5a;return _0x504708[_0x4bc866(0x5a9)]('@g.us')||_0x504708[_0x4bc866(0x5a9)](_0x4bc866(0x5cb))||_0x504708[_0x4bc866(0x5a9)](_0x4bc866(0x32c))?_0x504708:(_0x504708=_0x504708?.['replace'](/\s/g,'')[_0x4bc866(0x436)](/\+/g,'')[_0x4bc866(0x436)](/\(/g,'')[_0x4bc866(0x436)](/\)/g,'')[_0x4bc866(0x210)](/\:/)[0x0]['split']('@')[0x0],_0x504708[_0x4bc866(0x24d)]>=0x12?(_0x504708=_0x504708[_0x4bc866(0x436)](/[^\d-]/g,''),_0x504708+_0x4bc866(0x4c6)):(_0x504708=_0x504708[_0x4bc866(0x436)](/\D/g,''),this[_0x4bc866(0x2aa)](_0x504708)+_0x4bc866(0x5cb)));}async[a0_0x2aad5a(0x4a1)](_0x2dda99){const _0x508f6f=a0_0x2aad5a;let _0x2725bd=this[_0x508f6f(0x327)](_0x2dda99[_0x508f6f(0x1eb)]),_0x2321e0=(await this[_0x508f6f(0x4e6)]({'numbers':[_0x2725bd]}))[0x0];if(!_0x2321e0[_0x508f6f(0x725)]&&!(0x0,w[_0x508f6f(0x270)])(_0x2321e0[_0x508f6f(0x202)]))throw new g(_0x2321e0);let _0x858192=(0x0,w[_0x508f6f(0x270)])(_0x2725bd)?_0x2725bd:_0x2321e0['jid'];if((0x0,w[_0x508f6f(0x270)])(_0x858192))try{await this[_0x508f6f(0x40c)]['groupMetadata'](_0x858192);}catch{throw new x(_0x508f6f(0x1f0));}try{return await this[_0x508f6f(0x40c)][_0x508f6f(0x17b)](_0x858192),await this['client'][_0x508f6f(0x402)](_0x2dda99[_0x508f6f(0x419)],_0x2725bd),{'status':0xc8,'presence':_0x2dda99[_0x508f6f(0x419)]};}catch(_0x43b729){throw new g(_0x43b729[_0x508f6f(0x52a)]());}}async['profilePicture'](_0x28be2d){const _0x18bd69=a0_0x2aad5a;let _0x37aab7=this[_0x18bd69(0x327)](_0x28be2d);try{return{'wuid':_0x37aab7,'profilePictureUrl':await this['client'][_0x18bd69(0x32a)](_0x37aab7,_0x18bd69(0x2c8))};}catch{return{'wuid':_0x37aab7,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x55a003,_0x117746,_0x2df88d){const _0x3bd325=a0_0x2aad5a;let _0x1aa043=(await this[_0x3bd325(0x4e6)]({'numbers':[_0x55a003]}))[0x0];if(!_0x1aa043['exists']&&!(0x0,w[_0x3bd325(0x270)])(_0x1aa043[_0x3bd325(0x202)])&&!_0x1aa043[_0x3bd325(0x202)][_0x3bd325(0x5a9)](_0x3bd325(0x32c)))throw new g(_0x1aa043);let _0x26ab7d=_0x1aa043[_0x3bd325(0x202)];try{_0x2df88d?.[_0x3bd325(0x5af)]&&(await this[_0x3bd325(0x40c)][_0x3bd325(0x17b)](_0x26ab7d),await this[_0x3bd325(0x40c)][_0x3bd325(0x402)](_0x2df88d?.['presence']??_0x3bd325(0x58d),_0x26ab7d),await(0x0,w[_0x3bd325(0x5af)])(_0x2df88d[_0x3bd325(0x5af)]),await this[_0x3bd325(0x40c)][_0x3bd325(0x402)](_0x3bd325(0x4ec),_0x26ab7d));let _0x31c3aa=_0x2df88d?.[_0x3bd325(0x6b1)]!=!0x1?void 0x0:!0x1,_0x47bddf;if(_0x2df88d?.['quoted']){let _0x238e50=_0x2df88d?.[_0x3bd325(0x56a)],_0x3d9b43=_0x238e50?.['message']?_0x238e50:await this[_0x3bd325(0x462)](_0x238e50[_0x3bd325(0x655)],!0x0);if(!_0x3d9b43)throw _0x3bd325(0x628);_0x47bddf=_0x3d9b43;}let _0x502b14;if((0x0,w[_0x3bd325(0x270)])(_0x26ab7d))try{let _0x12e24a=await this[_0x3bd325(0x40c)]['groupMetadata'](_0x26ab7d);if(!_0x12e24a)throw new x(_0x3bd325(0x1f0));_0x2df88d?.[_0x3bd325(0x3bf)]&&(_0x2df88d['mentions']?.['everyOne']?_0x502b14=_0x12e24a[_0x3bd325(0x171)]['map'](_0xf29527=>_0xf29527['id']):_0x2df88d['mentions']?.[_0x3bd325(0x280)]?.[_0x3bd325(0x24d)]&&(_0x502b14=_0x2df88d[_0x3bd325(0x3bf)]['mentioned'][_0x3bd325(0x30e)](_0x693564=>{const _0x567f52=_0x3bd325;let _0x5bc013=this[_0x567f52(0x327)](_0x693564);return(0x0,w[_0x567f52(0x270)])(_0x5bc013)?null:_0x5bc013;})));}catch{throw new x('Group\x20not\x20found');}let _0x5afb99=await((async()=>{const _0x563288=_0x3bd325;let _0x438ddf={'quoted':_0x47bddf};if(!_0x117746[_0x563288(0x74d)]&&!_0x117746[_0x563288(0x747)]&&!_0x117746[_0x563288(0x211)]&&!_0x117746[_0x563288(0x5a5)]&&_0x26ab7d!==_0x563288(0x529)&&!_0x117746[_0x563288(0x74d)])return await this['client'][_0x563288(0x4d4)](_0x26ab7d,{'forward':{'key':{'remoteJid':this[_0x563288(0x487)][_0x563288(0x743)],'fromMe':!0x0},'message':_0x117746},'mentions':_0x502b14},_0x438ddf);if(_0x117746[_0x563288(0x5a5)]){let _0x490ad6=_0x117746[_0x563288(0x5a5)];return _0x2df88d?.[_0x563288(0x643)]&&(_0x490ad6=await this[_0x563288(0x38f)](_0x490ad6,_0x26ab7d)),await this[_0x563288(0x40c)]['sendMessage'](_0x26ab7d,{'text':_0x490ad6,'mentions':_0x502b14,'linkPreview':_0x31c3aa},_0x438ddf);}return _0x26ab7d==='status@broadcast'?await this[_0x563288(0x40c)][_0x563288(0x4d4)](_0x26ab7d,_0x117746['status'][_0x563288(0x3cf)],{'backgroundColor':_0x117746['status'][_0x563288(0x262)]['backgroundColor'],'font':_0x117746[_0x563288(0x1a9)][_0x563288(0x262)][_0x563288(0x4ae)],'statusJidList':_0x117746['status'][_0x563288(0x262)][_0x563288(0x492)]}):await this[_0x563288(0x40c)][_0x563288(0x4d4)](_0x26ab7d,_0x117746,_0x438ddf);})()),{message_normalized:_0x5dedd7}=this[_0x3bd325(0x18d)](_0x5afb99[_0x3bd325(0x23a)],W(_0x5afb99[_0x3bd325(0x23a)]),null),_0x40ba7c={'key':_0x5afb99['key'],'pushName':_0x5afb99['pushName'],'message':{..._0x5afb99[_0x3bd325(0x23a)]},'messageType':W(_0x5afb99[_0x3bd325(0x23a)]),'message_normalized':{'key':_0x5afb99[_0x3bd325(0x655)],'pushName':_0x5afb99[_0x3bd325(0x382)],'messageTimestamp':_0x5afb99[_0x3bd325(0x37c)]&&_0x5afb99[_0x3bd325(0x37c)][_0x3bd325(0x52a)]()[_0x3bd325(0x24d)]<0xd?_0x5afb99[_0x3bd325(0x37c)]*0x3e8:_0x5afb99[_0x3bd325(0x37c)]||null,'source':(0x0,w[_0x3bd325(0x587)])(_0x5afb99[_0x3bd325(0x655)]['id']),..._0x5dedd7},'messageTimestamp':_0x5afb99[_0x3bd325(0x37c)]&&_0x5afb99[_0x3bd325(0x37c)]['toString']()[_0x3bd325(0x24d)]<0xd?_0x5afb99[_0x3bd325(0x37c)]*0x3e8:_0x5afb99[_0x3bd325(0x37c)]||null,'owner':this[_0x3bd325(0x487)][_0x3bd325(0x743)],'source':(0x0,w[_0x3bd325(0x587)])(_0x5afb99[_0x3bd325(0x655)]['id'])};return this[_0x3bd325(0x697)][_0x3bd325(0x4d0)](_0x40ba7c),await this[_0x3bd325(0x3df)]('send.message',_0x40ba7c),G(this[_0x3bd325(0x3d1)],_0x3bd325(0x568),{'message':_0x40ba7c}),this[_0x3bd325(0x595)](this['configService']['get'](_0x3bd325(0x553)),_0x40ba7c,'SEND_MESSAGE'),await this['repository'][_0x3bd325(0x23a)][_0x3bd325(0x253)]([_0x40ba7c],this[_0x3bd325(0x231)]['get'](_0x3bd325(0x553))[_0x3bd325(0x569)]),_0x5afb99;}catch(_0x1da248){throw this[_0x3bd325(0x697)]['error'](this[_0x3bd325(0x3d1)]+'\x20('+this[_0x3bd325(0x487)][_0x3bd325(0x743)]+_0x3bd325(0x5d3)+_0x1da248[_0x3bd325(0x52a)]()),new g(_0x1da248['toString']());}}get[a0_0x2aad5a(0x62b)](){const _0x472acb=a0_0x2aad5a;return this[_0x472acb(0x2ae)];}async['textMessage'](_0x30a3ae){const _0x37d526=a0_0x2aad5a;let _0x822e25=this[_0x37d526(0x231)][_0x37d526(0x6e1)](_0x37d526(0x2cc)),_0xe3e11f=this[_0x37d526(0x231)][_0x37d526(0x6e1)](_0x37d526(0x427));return _0xe3e11f&&this['instanceName'][_0x37d526(0x2d9)]()[_0x37d526(0x5a9)](_0xe3e11f['toLowerCase']())&&(_0x30a3ae[_0x37d526(0x4b8)][_0x37d526(0x410)]+='\x0a\x0a'+_0x822e25),await this[_0x37d526(0x37d)](_0x30a3ae['number'],{'conversation':_0x30a3ae[_0x37d526(0x4b8)][_0x37d526(0x410)]},_0x30a3ae?.['options']);}async[a0_0x2aad5a(0x55c)](_0x5e8120){const _0x29fc00=a0_0x2aad5a;if(!_0x5e8120[_0x29fc00(0x740)])throw new g(_0x29fc00(0x1d9));if(!_0x5e8120['content'])throw new g(_0x29fc00(0x1f9));if(_0x5e8120['allContacts']){let _0x50dcd1=await this[_0x29fc00(0x620)][_0x29fc00(0x36a)][_0x29fc00(0x2f0)]({'where':{'owner':this[_0x29fc00(0x487)][_0x29fc00(0x743)]}});if(!_0x50dcd1['length'])throw new g('Contacts\x20not\x20found');_0x5e8120[_0x29fc00(0x492)]=_0x50dcd1[_0x29fc00(0x19a)](_0x489827=>_0x489827[_0x29fc00(0x382)])[_0x29fc00(0x30e)](_0x114124=>_0x114124['id']);}if(!_0x5e8120['statusJidList']?.['length']&&!_0x5e8120[_0x29fc00(0x2ac)])throw new g(_0x29fc00(0x54f));if(_0x5e8120[_0x29fc00(0x740)]==='text'){if(!_0x5e8120[_0x29fc00(0x18c)])throw new g(_0x29fc00(0x305));if(!_0x5e8120['font'])throw new g(_0x29fc00(0x3c2));return{'content':{'text':_0x5e8120[_0x29fc00(0x3cf)]},'option':{'backgroundColor':_0x5e8120['backgroundColor'],'font':_0x5e8120[_0x29fc00(0x4ae)],'statusJidList':_0x5e8120['statusJidList']}};}if(_0x5e8120['type']==='image')return{'content':{'image':{'url':_0x5e8120[_0x29fc00(0x3cf)]},'caption':_0x5e8120[_0x29fc00(0x33e)]},'option':{'statusJidList':_0x5e8120['statusJidList']}};if(_0x5e8120['type']===_0x29fc00(0x2a6))return{'content':{'video':{'url':_0x5e8120[_0x29fc00(0x3cf)]},'caption':_0x5e8120[_0x29fc00(0x33e)]},'option':{'statusJidList':_0x5e8120[_0x29fc00(0x492)]}};if(_0x5e8120[_0x29fc00(0x740)]==='audio'){this[_0x29fc00(0x697)][_0x29fc00(0x69e)](_0x29fc00(0x396)),this[_0x29fc00(0x697)][_0x29fc00(0x69e)](_0x29fc00(0x28f));let _0x1866ae=await this['convertaudio'](_0x5e8120[_0x29fc00(0x3cf)]);if(typeof _0x1866ae==_0x29fc00(0x1e7)){this[_0x29fc00(0x697)][_0x29fc00(0x69e)](_0x29fc00(0x5c1));let _0x2b3610=_[_0x29fc00(0x34d)](_0x1866ae)[_0x29fc00(0x52a)](_0x29fc00(0x1fc)),_0x501e52={'content':{'audio':Buffer[_0x29fc00(0x317)](_0x2b3610,_0x29fc00(0x1fc)),'ptt':!0x0,'mimetype':_0x29fc00(0x3ec)},'option':{'statusJidList':_0x5e8120[_0x29fc00(0x492)]}};return _[_0x29fc00(0x183)](_0x1866ae),_0x501e52;}else throw new A(_0x1866ae);}throw new g(_0x29fc00(0x18f));}async[a0_0x2aad5a(0x564)](_0x351587){const _0x214ce4=a0_0x2aad5a;return await this[_0x214ce4(0x37d)](_0x214ce4(0x529),{'status':await this[_0x214ce4(0x55c)](_0x351587[_0x214ce4(0x564)])});}async['prepareMediaMessage'](_0x6eec52){const _0x5973da=a0_0x2aad5a;try{let _0x3025ac=await(0x0,w[_0x5973da(0x3eb)])({[_0x6eec52[_0x5973da(0x69f)]]:(0x0,k[_0x5973da(0x67a)])(_0x6eec52[_0x5973da(0x254)])?{'url':_0x6eec52[_0x5973da(0x254)]}:Buffer[_0x5973da(0x317)](_0x6eec52[_0x5973da(0x254)],_0x5973da(0x1fc))},{'upload':this['client'][_0x5973da(0x63a)]}),_0x3cfe52=_0x6eec52[_0x5973da(0x69f)]+_0x5973da(0x5b9);if(_0x6eec52[_0x5973da(0x69f)]===_0x5973da(0x3de)&&!_0x6eec52['fileName']){let _0x274d74=new RegExp(/.*\/(.+?)\./)[_0x5973da(0x510)](_0x6eec52[_0x5973da(0x254)]);_0x6eec52[_0x5973da(0x4fa)]=_0x274d74[0x1];}let _0x6d4933;(0x0,k[_0x5973da(0x67a)])(_0x6eec52[_0x5973da(0x254)])?_0x6d4933=(0x0,Ns[_0x5973da(0x591)])(_0x6eec52[_0x5973da(0x254)]):_0x6d4933=(0x0,Ns['getMIMEType'])(_0x6eec52[_0x5973da(0x4fa)]);let _0x152434=this[_0x5973da(0x231)][_0x5973da(0x6e1)](_0x5973da(0x2cc)),_0x14cf2d=this[_0x5973da(0x231)]['get'](_0x5973da(0x427));return _0x14cf2d&&this[_0x5973da(0x3d1)][_0x5973da(0x2d9)]()[_0x5973da(0x5a9)](_0x14cf2d[_0x5973da(0x2d9)]())&&(_0x6eec52['caption']+='\x0a\x0a'+_0x152434),_0x3025ac[_0x3cfe52][_0x5973da(0x33e)]=_0x6eec52?.['caption'],_0x3025ac[_0x3cfe52]['mimetype']=_0x6d4933,_0x3025ac[_0x3cfe52][_0x5973da(0x4fa)]=_0x6eec52[_0x5973da(0x4fa)],_0x6eec52['mediatype']===_0x5973da(0x2a6)&&(_0x3025ac[_0x3cfe52][_0x5973da(0x546)]=Uint8Array[_0x5973da(0x317)]((0x0,_e['readFileSync'])((0x0,$['join'])(process[_0x5973da(0x18b)](),_0x5973da(0x5e9)))),_0x3025ac[_0x3cfe52][_0x5973da(0x42f)]=!0x1),(0x0,w[_0x5973da(0x72e)])('',{[_0x3cfe52]:{..._0x3025ac[_0x3cfe52]}},{'userJid':this['instance']['wuid']});}catch(_0xa84bac){throw this[_0x5973da(0x697)][_0x5973da(0x5ee)](this['instanceName']+'\x20('+this[_0x5973da(0x487)]['wuid']+_0x5973da(0x5d3)+_0xa84bac),new A(_0xa84bac?.[_0x5973da(0x52a)]()||_0xa84bac);}}async['mediaMessage'](_0x2306d2){const _0x49c3ba=a0_0x2aad5a;let _0x36ed1f=await this['prepareMediaMessage'](_0x2306d2['mediaMessage']);return await this[_0x49c3ba(0x37d)](_0x2306d2['number'],{..._0x36ed1f['message']},_0x2306d2?.[_0x49c3ba(0x376)]);}async[a0_0x2aad5a(0x1c3)](_0x5a24df,_0x1ca713){const _0x5e116e=a0_0x2aad5a;try{this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x2db));let _0x418c22,_0x520bac=_0x1ca713+'-'+new Date()[_0x5e116e(0x73d)]();this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x3c8)+_0x520bac);let _0xf17561=''+(0x0,$[_0x5e116e(0x4c3)])(this[_0x5e116e(0x715)],_0x520bac+_0x5e116e(0x562));if(this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x2f7)+_0xf17561),(0x0,k[_0x5e116e(0x25d)])(_0x5a24df)){this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x233));let _0x3b3494=_0x5a24df[_0x5e116e(0x436)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1a74eb=Buffer[_0x5e116e(0x317)](_0x3b3494,'base64');_0x418c22=''+(0x0,$['join'])(this[_0x5e116e(0x715)],_0x5e116e(0x3a8)+_0x520bac+_0x5e116e(0x384)),this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x286)+_0x418c22),await(0x0,Ut['default'])(_0x1a74eb)[_0x5e116e(0x5c6)](_0x418c22),this['logger'][_0x5e116e(0x69e)]('Image\x20created');}else{this[_0x5e116e(0x697)][_0x5e116e(0x69e)]('Image\x20is\x20url');let _0x2dd89c=new Date()[_0x5e116e(0x73d)](),_0x61ecfc=_0x5a24df+_0x5e116e(0x426)+_0x2dd89c;this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x461)+_0x61ecfc);let _0x34665c=await ue[_0x5e116e(0x433)][_0x5e116e(0x6e1)](_0x61ecfc,{'responseType':'arraybuffer'});this['logger'][_0x5e116e(0x69e)](_0x5e116e(0x531));let _0x39635c=Buffer[_0x5e116e(0x317)](_0x34665c[_0x5e116e(0x368)],_0x5e116e(0x263));_0x418c22=''+(0x0,$[_0x5e116e(0x4c3)])(this[_0x5e116e(0x715)],_0x5e116e(0x3a8)+_0x520bac+_0x5e116e(0x384)),this['logger'][_0x5e116e(0x69e)](_0x5e116e(0x286)+_0x418c22),await(0x0,Ut[_0x5e116e(0x433)])(_0x39635c)[_0x5e116e(0x5c6)](_0x418c22),this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x5dd));}return await(0x0,Ut['default'])(_0x418c22)[_0x5e116e(0x2f4)]()[_0x5e116e(0x5c6)](_0xf17561),this['logger']['verbose'](_0x5e116e(0x755)),_[_0x5e116e(0x183)](_0x418c22),this[_0x5e116e(0x697)][_0x5e116e(0x69e)](_0x5e116e(0x413)),_0xf17561;}catch(_0x551aa0){console[_0x5e116e(0x5ee)](_0x5e116e(0x644),_0x551aa0);}}async[a0_0x2aad5a(0x6df)](_0x203c2c){const _0x1219a0=a0_0x2aad5a;let _0x35f003=await this[_0x1219a0(0x1c3)](_0x203c2c[_0x1219a0(0x1dd)]['image'],_0x203c2c[_0x1219a0(0x1eb)]),_0x2a6462=await this['sendMessageWithTyping'](_0x203c2c['number'],{'sticker':{'url':_0x35f003}},_0x203c2c?.[_0x1219a0(0x376)]);return _[_0x1219a0(0x183)](_0x35f003),this[_0x1219a0(0x697)]['verbose'](_0x1219a0(0x6be)),_0x2a6462;}async[a0_0x2aad5a(0x2fb)](_0x385e8e){const _0x1ddff9=a0_0x2aad5a;if(this['logger'][_0x1ddff9(0x69e)](_0x1ddff9(0x703)),!_0x385e8e['options']?.[_0x1ddff9(0x5bf)]&&_0x385e8e[_0x1ddff9(0x376)]?.[_0x1ddff9(0x5bf)]!==!0x1&&(_0x385e8e['options']['encoding']=!0x0),_0x385e8e[_0x1ddff9(0x376)]?.[_0x1ddff9(0x5bf)]){let _0x382d74=await this[_0x1ddff9(0x72f)](_0x385e8e[_0x1ddff9(0x6a8)][_0x1ddff9(0x74d)]);if(typeof _0x382d74==_0x1ddff9(0x1e7)){let _0x32273c=_[_0x1ddff9(0x34d)](_0x382d74)['toString'](_0x1ddff9(0x1fc)),_0x361d25=this[_0x1ddff9(0x37d)](_0x385e8e['number'],{'audio':Buffer[_0x1ddff9(0x317)](_0x32273c,_0x1ddff9(0x1fc)),'ptt':!0x0,'mimetype':_0x1ddff9(0x3ec)},{'presence':_0x1ddff9(0x2b4),'delay':_0x385e8e?.[_0x1ddff9(0x376)]?.['delay']});return _[_0x1ddff9(0x183)](_0x382d74),this[_0x1ddff9(0x697)]['verbose'](_0x1ddff9(0x633)),_0x361d25;}else throw new A(_0x382d74);}return await this[_0x1ddff9(0x37d)](_0x385e8e[_0x1ddff9(0x1eb)],{'audio':(0x0,k[_0x1ddff9(0x67a)])(_0x385e8e['audioMessage'][_0x1ddff9(0x74d)])?{'url':_0x385e8e['audioMessage'][_0x1ddff9(0x74d)]}:Buffer[_0x1ddff9(0x317)](_0x385e8e[_0x1ddff9(0x6a8)]['audio'],_0x1ddff9(0x1fc)),'ptt':!0x0,'mimetype':_0x1ddff9(0x27f)},{'presence':_0x1ddff9(0x2b4),'delay':_0x385e8e?.[_0x1ddff9(0x376)]?.[_0x1ddff9(0x5af)]});}async[a0_0x2aad5a(0x72f)](_0x14ced9){const _0x2cb31a=a0_0x2aad5a;this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x28f));let _0x26713f,_0x1825d2,_0x9dbcd8=(0x0,Lt['v4'])();if(this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x1fd)+_0x9dbcd8),(0x0,k[_0x2cb31a(0x67a)])(_0x14ced9)){this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x630)),_0x1825d2=''+(0x0,$[_0x2cb31a(0x4c3)])(this[_0x2cb31a(0x715)],_0x9dbcd8+_0x2cb31a(0x493)),_0x26713f=''+(0x0,$[_0x2cb31a(0x4c3)])(this['storePath'],_0x2cb31a(0x3a8)+_0x9dbcd8+'.mp3'),this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x3ba)+_0x1825d2),this[_0x2cb31a(0x697)]['verbose']('Temp\x20audio\x20path:\x20'+_0x26713f);let _0x3f5d36=new Date()[_0x2cb31a(0x73d)](),_0x4774ab=_0x14ced9+'?timestamp='+_0x3f5d36;this['logger']['verbose']('Including\x20timestamp\x20in\x20url:\x20'+_0x4774ab);let _0x4de230=await ue[_0x2cb31a(0x433)][_0x2cb31a(0x6e1)](_0x4774ab,{'responseType':_0x2cb31a(0x44f)});this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x6c0)),_['writeFileSync'](_0x26713f,_0x4de230[_0x2cb31a(0x368)]);}else{this[_0x2cb31a(0x697)]['verbose'](_0x2cb31a(0x501)),_0x1825d2=''+(0x0,$[_0x2cb31a(0x4c3)])(this[_0x2cb31a(0x715)],_0x9dbcd8+_0x2cb31a(0x493)),_0x26713f=''+(0x0,$[_0x2cb31a(0x4c3)])(this[_0x2cb31a(0x715)],_0x2cb31a(0x3a8)+_0x9dbcd8+'.mp3'),this['logger'][_0x2cb31a(0x69e)](_0x2cb31a(0x3ba)+_0x1825d2),this[_0x2cb31a(0x697)]['verbose'](_0x2cb31a(0x619)+_0x26713f);let _0x4498e9=Buffer['from'](_0x14ced9,_0x2cb31a(0x1fc));_[_0x2cb31a(0x4cb)](_0x26713f,_0x4498e9),this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x6cc));}return this[_0x2cb31a(0x697)][_0x2cb31a(0x69e)](_0x2cb31a(0x50c)),new Promise((_0x5e916f,_0x4075e3)=>{const _0x51671b=_0x2cb31a;(0x0,Vt[_0x51671b(0x510)])(uo[_0x51671b(0x433)][_0x51671b(0x736)]+'\x20-i\x20'+_0x26713f+_0x51671b(0x5fc)+_0x1825d2+_0x51671b(0x5ae),_0x5851d9=>{const _0x385e25=_0x51671b;_[_0x385e25(0x183)](_0x26713f),this[_0x385e25(0x697)][_0x385e25(0x69e)](_0x385e25(0x539)),_0x5851d9&&_0x4075e3(_0x5851d9),this[_0x385e25(0x697)][_0x385e25(0x69e)]('Audio\x20converted\x20to\x20mp4'),_0x5e916f(_0x1825d2);});});}async[a0_0x2aad5a(0x2c0)](_0x4003be){const _0x563bc3=a0_0x2aad5a;let _0x4fa4f7={},_0x89cc14='TEXT';if(_0x4003be[_0x563bc3(0x2c0)]?.[_0x563bc3(0x632)]){_0x89cc14=_0x4003be[_0x563bc3(0x2c0)][_0x563bc3(0x632)]?.[_0x563bc3(0x69f)][_0x563bc3(0x41e)]()??_0x563bc3(0x6a2),_0x4fa4f7[_0x563bc3(0x5d8)]=_0x89cc14[_0x563bc3(0x2d9)]()+_0x563bc3(0x5b9);let _0x4f341e=await this[_0x563bc3(0x307)](_0x4003be[_0x563bc3(0x2c0)]['mediaMessage']);_0x4fa4f7[_0x563bc3(0x23a)]=_0x4f341e[_0x563bc3(0x23a)][_0x4fa4f7['mediaKey']],_0x4fa4f7['contentText']='*'+_0x4003be['buttonMessage'][_0x563bc3(0x5b7)]+_0x563bc3(0x602)+_0x4003be[_0x563bc3(0x2c0)]['description'];}let _0x342b51={'text':_0x4003be[_0x563bc3(0x2c0)][_0x563bc3(0x4b0)][_0x563bc3(0x30e)](_0x59351c=>_0x59351c['buttonText']),'ids':_0x4003be['buttonMessage'][_0x563bc3(0x4b0)][_0x563bc3(0x30e)](_0x30fe8d=>_0x30fe8d['buttonId'])};if(!(0x0,k[_0x563bc3(0x6de)])(_0x342b51[_0x563bc3(0x410)])||!(0x0,k['arrayUnique'])(_0x342b51[_0x563bc3(0x645)]))throw new g(_0x563bc3(0x6ee),_0x563bc3(0x337));return await this[_0x563bc3(0x37d)](_0x4003be[_0x563bc3(0x1eb)],{'buttonsMessage':{'text':_0x4fa4f7?.[_0x563bc3(0x5d8)]?void 0x0:_0x4003be[_0x563bc3(0x2c0)][_0x563bc3(0x5b7)],'contentText':_0x4fa4f7?.['contentText']??_0x4003be[_0x563bc3(0x2c0)]['description'],'footerText':_0x4003be[_0x563bc3(0x2c0)]?.['footerText'],'buttons':_0x4003be['buttonMessage']['buttons'][_0x563bc3(0x30e)](_0x50facc=>({'buttonText':{'displayText':_0x50facc[_0x563bc3(0x2f9)]},'buttonId':_0x50facc[_0x563bc3(0x5c8)],'type':0x1})),'headerType':w[_0x563bc3(0x4aa)][_0x563bc3(0x5b9)]['ButtonsMessage']['HeaderType'][_0x89cc14],[_0x4fa4f7?.['mediaKey']]:_0x4fa4f7?.[_0x563bc3(0x23a)]}},_0x4003be?.[_0x563bc3(0x376)]);}async['locationMessage'](_0x62dace){const _0x24b4ad=a0_0x2aad5a;return await this[_0x24b4ad(0x37d)](_0x62dace[_0x24b4ad(0x1eb)],{'locationMessage':{'degreesLatitude':_0x62dace[_0x24b4ad(0x2d2)][_0x24b4ad(0x1bc)],'degreesLongitude':_0x62dace[_0x24b4ad(0x2d2)]['longitude'],'name':_0x62dace[_0x24b4ad(0x2d2)]?.[_0x24b4ad(0x72c)],'address':_0x62dace[_0x24b4ad(0x2d2)]?.['address']}},_0x62dace?.['options']);}async[a0_0x2aad5a(0x2de)](_0x4f60ee){const _0x1ea55b=a0_0x2aad5a;return await this[_0x1ea55b(0x37d)](_0x4f60ee['number'],{'listMessage':{'title':_0x4f60ee['listMessage'][_0x1ea55b(0x5b7)],'description':_0x4f60ee['listMessage'][_0x1ea55b(0x2c9)],'buttonText':_0x4f60ee['listMessage']?.['buttonText'],'footerText':_0x4f60ee['listMessage']?.['footerText'],'sections':_0x4f60ee[_0x1ea55b(0x2de)][_0x1ea55b(0x365)],'listType':0x1}},_0x4f60ee?.['options']);}async[a0_0x2aad5a(0x2c6)](_0x35d2f5){const _0x7265ae=a0_0x2aad5a;let _0x3de43e={},_0x4ec421=_0x80b30e=>{const _0x18da2a=a0_0x50e5;let _0x2b840b='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x80b30e['fullName']+_0x18da2a(0x1d5)+_0x80b30e[_0x18da2a(0x509)]+'\x0a';_0x80b30e[_0x18da2a(0x758)]&&(_0x2b840b+=_0x18da2a(0x190)+_0x80b30e[_0x18da2a(0x758)]+';\x0a'),_0x80b30e[_0x18da2a(0x75c)]&&(_0x2b840b+='EMAIL:'+_0x80b30e[_0x18da2a(0x75c)]+'\x0a'),_0x80b30e[_0x18da2a(0x583)]&&(_0x2b840b+=_0x18da2a(0x3a7)+_0x80b30e[_0x18da2a(0x583)]+'\x0a');let _0x22274c='';return _0x80b30e[_0x18da2a(0x537)]&&_0x80b30e[_0x18da2a(0x537)][_0x18da2a(0x210)]('|')[_0x18da2a(0x44d)]((_0x5a155f,_0x37f7c7)=>{const _0x192e24=_0x18da2a;let _0x177467=this[_0x192e24(0x327)](_0x5a155f)['replace']('@s.whatsapp.net','');_0x22274c+=_0x192e24(0x490)+(_0x37f7c7+0x1)+_0x192e24(0x535)+_0x177467+':'+_0x5a155f+'\x0aitem'+(_0x37f7c7+0x1)+_0x192e24(0x527);}),_0x2b840b+=_0x22274c+_0x18da2a(0x4d1),_0x2b840b;};return _0x35d2f5['contactMessage']['length']===0x1?_0x3de43e[_0x7265ae(0x2c6)]={'displayName':_0x35d2f5[_0x7265ae(0x2c6)][0x0][_0x7265ae(0x509)],'vcard':_0x4ec421(_0x35d2f5['contactMessage'][0x0])}:_0x3de43e[_0x7265ae(0x608)]={'displayName':_0x35d2f5[_0x7265ae(0x2c6)]['length']+_0x7265ae(0x226),'contacts':_0x35d2f5[_0x7265ae(0x2c6)][_0x7265ae(0x30e)](_0x1a594f=>({'displayName':_0x1a594f['fullName'],'vcard':_0x4ec421(_0x1a594f)}))},await this[_0x7265ae(0x37d)](_0x35d2f5[_0x7265ae(0x1eb)],{..._0x3de43e},_0x35d2f5?.[_0x7265ae(0x376)]);}async[a0_0x2aad5a(0x70b)](_0x2da7cd){const _0x51417a=a0_0x2aad5a;return await this['sendMessageWithTyping'](_0x2da7cd[_0x51417a(0x70b)][_0x51417a(0x655)][_0x51417a(0x261)],{'reactionMessage':{'key':_0x2da7cd[_0x51417a(0x70b)][_0x51417a(0x655)],'text':_0x2da7cd[_0x51417a(0x70b)][_0x51417a(0x445)]}});}async[a0_0x2aad5a(0x4e6)](_0x35fbe8){const _0xf7be62=a0_0x2aad5a;let _0x50a902=[];for await(let _0x376844 of _0x35fbe8[_0xf7be62(0x69a)]){let _0x3a8792=this[_0xf7be62(0x327)](_0x376844);if((0x0,w[_0xf7be62(0x270)])(_0x3a8792)){let _0x4a7bce=await this[_0xf7be62(0x6b8)]({'groupJid':_0x3a8792},'inner');_0x50a902[_0xf7be62(0x338)](new fe(_0x4a7bce['metadata']['id'],!!_0x4a7bce?.[_0xf7be62(0x757)]['id'],_0x4a7bce?.[_0xf7be62(0x757)][_0xf7be62(0x28d)]));}else try{let _0x2817eb=(await this[_0xf7be62(0x40c)]['onWhatsApp'](_0x3a8792))[0x0];_0x50a902[_0xf7be62(0x338)](new fe(_0x2817eb[_0xf7be62(0x202)],_0x2817eb[_0xf7be62(0x725)]));}catch{_0x50a902[_0xf7be62(0x338)](new fe(_0x376844,!0x1));}}return _0x50a902;}async['markMessageAsRead'](_0x337060){const _0x2fde41=a0_0x2aad5a;try{let _0x5ec80a=_0x337060[_0x2fde41(0x4dc)]['filter'](_0x3ec10c=>(0x0,w['isJidGroup'])(_0x3ec10c[_0x2fde41(0x261)])||(0x0,w['isJidUser'])(_0x3ec10c[_0x2fde41(0x261)]))[_0x2fde41(0x30e)](_0x1ad835=>({'remoteJid':_0x1ad835[_0x2fde41(0x261)],'fromMe':_0x1ad835[_0x2fde41(0x5e4)],'id':_0x1ad835['id']}));await this[_0x2fde41(0x40c)]['readMessages'](_0x5ec80a);let _0x28f313=_0x5ec80a['map'](_0x45620b=>this[_0x2fde41(0x4ac)](_0x45620b,_0x45620b[_0x2fde41(0x261)],{'status':_0x2fde41(0x5dc),'owner':this[_0x2fde41(0x487)][_0x2fde41(0x743)]})),_0x40d37a=_0x5ec80a[_0x2fde41(0x30e)](_0x80f328=>I[_0x2fde41(0x363)]({'id':_0x80f328[_0x2fde41(0x261)],'owner':this[_0x2fde41(0x487)][_0x2fde41(0x743)]},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x13be79,_0x508a1e]=await Promise[_0x2fde41(0x56f)]([Promise[_0x2fde41(0x56f)](_0x28f313),Promise[_0x2fde41(0x56f)](_0x40d37a)]);return _0x508a1e[_0x2fde41(0x19a)](_0x4d2e20=>_0x4d2e20!==null)[_0x2fde41(0x44d)](_0x51fae2=>{const _0x5092d2=_0x2fde41;G(this[_0x5092d2(0x3d1)],_0x5092d2(0x3ea),{'chat':_0x51fae2});}),{'message':_0x2fde41(0x434),'read':'success'};}catch(_0x441510){throw console[_0x2fde41(0x5ee)](_0x2fde41(0x205),_0x441510),new A(_0x2fde41(0x724),_0x441510[_0x2fde41(0x52a)]());}}async[a0_0x2aad5a(0x60f)](_0x448c75){const _0x1160b5=a0_0x2aad5a;let _0x42dbd7=await this[_0x1160b5(0x5aa)]({'where':{'key':{'remoteJid':_0x448c75},'owner':this[_0x1160b5(0x487)][_0x1160b5(0x72c)]}}),_0x41df96=_0x42dbd7[_0x1160b5(0x1fe)]();for(let _0x1c7580 of _0x42dbd7)_0x1c7580[_0x1160b5(0x37c)]>=_0x41df96[_0x1160b5(0x37c)]&&(_0x41df96=_0x1c7580);return _0x41df96;}async['archiveChat'](_0x1c0923){const _0x320faf=a0_0x2aad5a;this[_0x320faf(0x697)][_0x320faf(0x69e)](_0x320faf(0x39d));try{let _0x46de22=_0x1c0923['lastMessage'],_0x5389d4=_0x1c0923[_0x320faf(0x196)];if(!_0x46de22&&_0x5389d4?_0x46de22=await this[_0x320faf(0x60f)](_0x5389d4):(_0x46de22=_0x1c0923[_0x320faf(0x6e8)],_0x46de22['messageTimestamp']=_0x46de22?.[_0x320faf(0x37c)]??Date[_0x320faf(0x463)](),_0x5389d4=_0x46de22?.['key']?.[_0x320faf(0x261)]),!_0x46de22||Object['keys'](_0x46de22)['length']===0x0)throw new x(_0x320faf(0x6c6));await this[_0x320faf(0x40c)]['chatModify']({'archive':_0x1c0923[_0x320faf(0x686)],'lastMessages':[_0x46de22]},this[_0x320faf(0x327)](_0x5389d4));let _0x2b733d=await I[_0x320faf(0x363)]({'id':_0x46de22?.[_0x320faf(0x655)]?.[_0x320faf(0x261)],'owner':this['instance'][_0x320faf(0x743)]},{'$set':{'archived':_0x1c0923[_0x320faf(0x686)]}},{'new':!0x0});return _0x2b733d&&G(this[_0x320faf(0x3d1)],'chats',{'chat':_0x2b733d}),{'chatId':_0x5389d4,'archived':_0x1c0923[_0x320faf(0x686)]};}catch(_0x143d39){throw new A({'archived':!0x1,'message':[_0x320faf(0x2bc),_0x143d39[_0x320faf(0x52a)]()]});}}async[a0_0x2aad5a(0x4b5)](_0x305a34){const _0x5157aa=a0_0x2aad5a;try{let _0x511643=await this[_0x5157aa(0x40c)][_0x5157aa(0x4d4)](_0x305a34[_0x5157aa(0x261)],{'delete':_0x305a34});try{let _0x5211d1=await this['updateMessage'](_0x305a34,_0x305a34[_0x5157aa(0x261)],{'status':_0x5157aa(0x753),'owner':this['instance'][_0x5157aa(0x743)]});this[_0x5157aa(0x697)][_0x5157aa(0x69e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5157aa(0x2ab)+_0x5211d1);}catch(_0x26f910){console[_0x5157aa(0x5ee)](_0x5157aa(0x626),_0x26f910);}return _0x511643;}catch(_0x7a16b3){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x7a16b3?.[_0x5157aa(0x52a)]());}}async['getBase64FromMediaMessage'](_0x471496){const _0x383452=a0_0x2aad5a;try{let _0x4e6149=_0x471496?.[_0x383452(0x23a)]?_0x471496:await this[_0x383452(0x462)](_0x471496[_0x383452(0x655)],!0x0);for(let _0x53d55e of Zs)_0x4e6149[_0x383452(0x23a)][_0x53d55e]&&(_0x4e6149[_0x383452(0x23a)]=_0x4e6149[_0x383452(0x23a)][_0x53d55e][_0x383452(0x23a)]);let _0x652dc,_0x5d8cc4;for(let _0x376a73 of Xs)if(_0x652dc=_0x4e6149[_0x383452(0x23a)][_0x376a73],_0x652dc){_0x5d8cc4=_0x376a73;break;}if(!_0x652dc)throw _0x383452(0x3a4);typeof _0x652dc[_0x383452(0x5d8)]==_0x383452(0x3a6)&&(_0x4e6149[_0x383452(0x23a)]=JSON['parse'](JSON[_0x383452(0x318)](_0x4e6149[_0x383452(0x23a)])));let _0x345a96=await(0x0,w['downloadMediaMessage'])({'key':_0x4e6149?.['key'],'message':_0x4e6149?.['message']},_0x383452(0x6e7),{},{'logger':(0x0,kt[_0x383452(0x433)])({'level':_0x383452(0x5ee)}),'reuploadRequest':this['client'][_0x383452(0x326)]});if(!(_0x345a96 instanceof Buffer))throw new Error(_0x383452(0x310));let _0x18d97b=this['configService'][_0x383452(0x6e1)](_0x383452(0x553)),_0x15bb46,_0x417ad3;if(_0x652dc['fileName'])_0x15bb46=_0x652dc['fileName'];else{let _0x37d861=_0x652dc[_0x383452(0x6b0)]?.[_0x383452(0x723)](/\/(\w+)/),_0x5437f4=_0x37d861?_0x37d861[0x1]:null;if(!_0x5437f4)throw new Error(_0x383452(0x2d8));_0x15bb46=(0x0,Lt['v4'])()+'.'+_0x5437f4;}_0x5d8cc4===_0x383452(0x6a8)&&_0x652dc['mimetype']===_0x383452(0x399)?(_0x15bb46=(0x0,Lt['v4'])()+_0x383452(0x2d4),_0x417ad3=_0x383452(0x185)+await this[_0x383452(0x72f)](_0x345a96[_0x383452(0x52a)](_0x383452(0x1fc)))):(await this[_0x383452(0x57e)](_0x345a96,_0x15bb46),_0x417ad3=_0x383452(0x185)+_0x15bb46);let _0x1d0f95=this[_0x383452(0x231)][_0x383452(0x6e1)]('SSL_CONF'),_0x2662bd=this[_0x383452(0x231)][_0x383452(0x6e1)](_0x383452(0x614))[_0x383452(0x4df)],_0x4b8ecd=_0x1d0f95&&_0x1d0f95['FULLCHAIN'][_0x383452(0x210)]('/')[0x4];_0x2662bd===0x1bb&&(_0x417ad3=''+(_0x383452(0x315)+_0x4b8ecd)+_0x417ad3);let _0x5b662c=0xc*0x3c*0x3c*0x3e8;if(_0x18d97b[_0x383452(0x569)]){let _0x505b42={'where':{'key':{'id':_0x4e6149[_0x383452(0x655)]['id'],'remoteJid':_0x4e6149[_0x383452(0x655)]['remoteJid'],'fromMe':_0x4e6149[_0x383452(0x655)][_0x383452(0x5e4)]},'owner':this[_0x383452(0x487)][_0x383452(0x743)]}};_0x4e6149[_0x383452(0x655)][_0x383452(0x261)][_0x383452(0x65a)](_0x383452(0x4c6))&&(_0x505b42[_0x383452(0x48b)][_0x383452(0x655)][_0x383452(0x3cd)]=_0x4e6149[_0x383452(0x655)][_0x383452(0x3cd)]);let _0x1259c4={'message_normalized.fileUrl':_0x417ad3,'message_normalized.expires_fileUrl':Date[_0x383452(0x463)]()+_0x5b662c};try{let _0x31b8c6=await this[_0x383452(0x620)][_0x383452(0x23a)][_0x383452(0x5ea)](_0x505b42,_0x1259c4);_0x31b8c6&&G(this[_0x383452(0x3d1)],_0x383452(0x568),{'message':_0x31b8c6});}catch{}}return{'mediaType':_0x5d8cc4,'fileName':_0x652dc[_0x383452(0x4fa)],'caption':_0x652dc['caption'],'size':{'fileLength':_0x652dc['fileLength'],'height':_0x652dc[_0x383452(0x2dd)],'width':_0x652dc[_0x383452(0x1e3)]},'mimetype':_0x652dc[_0x383452(0x6b0)],'base64':_0x345a96[_0x383452(0x52a)](_0x383452(0x1fc)),'fileUrl':_0x417ad3,'expires_fileUrl':Date['now']()+_0x5b662c};}catch(_0x2224e5){throw this['logger'][_0x383452(0x5ee)](this['instanceName']+'\x20('+this[_0x383452(0x487)][_0x383452(0x743)]+_0x383452(0x5d3)+_0x2224e5),new g(_0x2224e5[_0x383452(0x52a)]());}}async['saveMediaToFile'](_0x443ab0,_0x291cf3){const _0xa35e38=a0_0x2aad5a;console[_0xa35e38(0x4d0)](_0xa35e38(0x54b),__dirname),console['log'](_0xa35e38(0x26c),_0x291cf3);let _0x1456e6=$[_0xa35e38(0x433)][_0xa35e38(0x4c3)](__dirname,'downloads');console[_0xa35e38(0x4d0)](_0xa35e38(0x36f),_0x1456e6),_[_0xa35e38(0x5eb)](_0x1456e6)||(this[_0xa35e38(0x697)]['log'](_0xa35e38(0x455)),_[_0xa35e38(0x4c7)](_0x1456e6,{'recursive':!0x0}));let _0x41c4d7=$[_0xa35e38(0x433)][_0xa35e38(0x4c3)](_0x1456e6,_0x291cf3);return console[_0xa35e38(0x4d0)](_0xa35e38(0x1c6),_0x41c4d7),new Promise((_0x2868f2,_0x11a308)=>{const _0x2b79d8=_0xa35e38;_[_0x2b79d8(0x43f)](_0x41c4d7,_0x443ab0,_0xb0f68f=>{const _0xd324b3=_0x2b79d8;_0xb0f68f?(this['logger']['error'](_0xd324b3(0x699)+_0xb0f68f[_0xd324b3(0x23a)]),_0x11a308(_0xb0f68f)):(this[_0xd324b3(0x697)][_0xd324b3(0x4d0)](_0xd324b3(0x412)+_0x41c4d7),_0x2868f2(_0x41c4d7));});});}async[a0_0x2aad5a(0x31a)](_0x5005e2){const _0x204524=a0_0x2aad5a;return _0x5005e2?.[_0x204524(0x48b)]?_0x5005e2['where'][_0x204524(0x458)]=this['instance'][_0x204524(0x743)]:_0x5005e2={'where':{'owner':this['instance'][_0x204524(0x743)]}},await this[_0x204524(0x620)][_0x204524(0x36a)]['find'](_0x5005e2);}async['fetchMessages'](_0x599a0e){const _0x43843c=a0_0x2aad5a;return _0x599a0e?.[_0x43843c(0x48b)]?_0x599a0e['where'][_0x43843c(0x458)]=this[_0x43843c(0x487)]['wuid']:_0x599a0e={'where':{'owner':this[_0x43843c(0x487)][_0x43843c(0x743)]},'limit':_0x599a0e?.[_0x43843c(0x25e)]},await this[_0x43843c(0x620)][_0x43843c(0x23a)][_0x43843c(0x2f0)](_0x599a0e);}async[a0_0x2aad5a(0x5fb)](_0x1b4665){const _0x5ea5a5=a0_0x2aad5a;return _0x1b4665?.[_0x5ea5a5(0x48b)]?_0x1b4665[_0x5ea5a5(0x48b)][_0x5ea5a5(0x458)]=this[_0x5ea5a5(0x487)][_0x5ea5a5(0x743)]:_0x1b4665={'where':{'owner':this[_0x5ea5a5(0x487)][_0x5ea5a5(0x743)]},'limit':_0x1b4665?.['limit']},await this[_0x5ea5a5(0x620)]['messageUpdate'][_0x5ea5a5(0x2f0)](_0x1b4665);}async[a0_0x2aad5a(0x3e3)](){const _0x2c551f=a0_0x2aad5a;return await this[_0x2c551f(0x620)][_0x2c551f(0x196)][_0x2c551f(0x2f0)]({'where':{'owner':this['instance'][_0x2c551f(0x743)]}});}async['fetchPrivacySettings'](){const _0x521a76=a0_0x2aad5a;return await this['client'][_0x521a76(0x60c)]();}async[a0_0x2aad5a(0x6b4)](_0x5e9e21){const _0x4f2c0d=a0_0x2aad5a;try{return await this['client'][_0x4f2c0d(0x456)](_0x5e9e21[_0x4f2c0d(0x302)]['readreceipts']),await this[_0x4f2c0d(0x40c)][_0x4f2c0d(0x55e)](_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x304)]),await this[_0x4f2c0d(0x40c)][_0x4f2c0d(0x4e9)](_0x5e9e21[_0x4f2c0d(0x302)]['status']),await this[_0x4f2c0d(0x40c)][_0x4f2c0d(0x6b7)](_0x5e9e21['privacySettings'][_0x4f2c0d(0x503)]),await this[_0x4f2c0d(0x40c)][_0x4f2c0d(0x5c5)](_0x5e9e21[_0x4f2c0d(0x302)]['last']),await this[_0x4f2c0d(0x40c)][_0x4f2c0d(0x453)](_0x5e9e21['privacySettings'][_0x4f2c0d(0x3b3)]),this[_0x4f2c0d(0x40c)]?.['ws']?.[_0x4f2c0d(0x6f7)](),{'update':_0x4f2c0d(0x5d1),'data':{'readreceipts':_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x523)],'profile':_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x304)],'status':_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x1a9)],'online':_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x503)],'last':_0x5e9e21[_0x4f2c0d(0x302)]['last'],'groupadd':_0x5e9e21[_0x4f2c0d(0x302)][_0x4f2c0d(0x3b3)]}};}catch(_0x1fbb4d){throw new A(_0x4f2c0d(0x3cc),_0x1fbb4d[_0x4f2c0d(0x52a)]());}}async[a0_0x2aad5a(0x36c)](_0x766b3d){const _0x508e09=a0_0x2aad5a;let _0x3ca898=_0x766b3d?this[_0x508e09(0x327)](_0x766b3d):this[_0x508e09(0x40c)]?.[_0x508e09(0x468)]?.['id'];this['logger'][_0x508e09(0x69e)](_0x508e09(0x6c8)+_0x3ca898);try{if(this[_0x508e09(0x697)][_0x508e09(0x69e)](_0x508e09(0x6d1)),_0x766b3d){let _0xd1605=(await this[_0x508e09(0x4e6)]({'numbers':[_0x3ca898]}))?.['shift'](),_0x541870=await this[_0x508e09(0x37b)](_0xd1605?.[_0x508e09(0x202)]),_0x2bb72c=await this[_0x508e09(0x22c)](_0xd1605?.[_0x508e09(0x202)]),_0x39913e=await this[_0x508e09(0x2ad)](_0xd1605?.[_0x508e09(0x202)]);return{'wuid':_0xd1605?.[_0x508e09(0x202)]||_0x3ca898,'name':_0xd1605?.[_0x508e09(0x72c)],'numberExists':_0xd1605?.[_0x508e09(0x725)],'picture':_0x541870?.['profilePictureUrl'],'status':_0x2bb72c?.['status'],'isBusiness':_0x39913e[_0x508e09(0x265)],'email':_0x39913e?.[_0x508e09(0x75c)],'description':_0x39913e?.[_0x508e09(0x2c9)],'website':_0x39913e?.['website']?.[_0x508e09(0x514)]()};}}catch{return this[_0x508e09(0x697)][_0x508e09(0x69e)](_0x508e09(0x16f)),{'wuid':_0x3ca898,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x1a2c6e){const _0x2f5e8c=a0_0x2aad5a;let _0x4f269c=_0x1a2c6e?this[_0x2f5e8c(0x327)](_0x1a2c6e):this[_0x2f5e8c(0x40c)]?.['user']?.['id'];this['logger'][_0x2f5e8c(0x69e)](_0x2f5e8c(0x754)+_0x4f269c);let _0x55cb9c=await Fe[_0x2f5e8c(0x538)]({'id':_0x4f269c}),_0x3c6823=_0x55cb9c?_0x55cb9c[_0x2f5e8c(0x382)]:null;try{let _0x32604f=(await this['whatsappNumber']({'numbers':[_0x4f269c]}))?.[_0x2f5e8c(0x514)](),_0x5d52a5=await this['profilePicture'](_0x32604f?.['jid']),_0x325ad1=await this['getStatus'](_0x32604f?.[_0x2f5e8c(0x202)]),_0x50a9e2=await this[_0x2f5e8c(0x2ad)](_0x32604f?.[_0x2f5e8c(0x202)]),_0x3c108f={'imagechat':_0x5d52a5?.['profilePictureUrl'],'contactname':_0x3c6823||null,'status':_0x325ad1?.[_0x2f5e8c(0x1a9)],'isBusiness':_0x50a9e2[_0x2f5e8c(0x265)],'email':_0x50a9e2?.[_0x2f5e8c(0x75c)],'description':_0x50a9e2?.['description'],'website':_0x50a9e2?.[_0x2f5e8c(0x41d)]?.['shift'](),'lastcache':Date[_0x2f5e8c(0x463)]()},_0x10780e=await I[_0x2f5e8c(0x363)]({'id':_0x4f269c,'owner':this[_0x2f5e8c(0x487)][_0x2f5e8c(0x743)]},{'$set':_0x3c108f,'$setOnInsert':{'name':_0x32604f?.[_0x2f5e8c(0x72c)]||null}},{'upsert':!0x0,'new':!0x0});return _0x10780e&&G(this[_0x2f5e8c(0x3d1)],_0x2f5e8c(0x3ea),{'chat':_0x10780e}),{'wuid':_0x32604f?.[_0x2f5e8c(0x202)]||_0x4f269c,'name':_0x32604f?.[_0x2f5e8c(0x72c)],'numberExists':_0x32604f?.[_0x2f5e8c(0x725)],'picture':_0x5d52a5?.['profilePictureUrl'],'status':_0x325ad1?.['status'],'isBusiness':_0x50a9e2[_0x2f5e8c(0x265)],'email':_0x50a9e2?.['email'],'description':_0x50a9e2?.[_0x2f5e8c(0x2c9)],'website':_0x50a9e2?.[_0x2f5e8c(0x41d)]?.[_0x2f5e8c(0x514)]()};}catch(_0x598021){return this[_0x2f5e8c(0x697)][_0x2f5e8c(0x5ee)](_0x2f5e8c(0x617)+_0x598021),{};}}async[a0_0x2aad5a(0x2ad)](_0x52540e){const _0x22b37d=a0_0x2aad5a;this[_0x22b37d(0x697)][_0x22b37d(0x69e)](_0x22b37d(0x66a));try{let _0x121e87=_0x52540e?this['createJid'](_0x52540e):this[_0x22b37d(0x487)][_0x22b37d(0x743)],_0x3457b6=await this[_0x22b37d(0x40c)][_0x22b37d(0x35b)](_0x121e87);return this[_0x22b37d(0x697)]['verbose'](_0x22b37d(0x731)),_0x3457b6?(this[_0x22b37d(0x697)][_0x22b37d(0x69e)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x3457b6}):{'isBusiness':!0x1,'message':_0x22b37d(0x460),...(await this[_0x22b37d(0x4e6)]({'numbers':[_0x121e87]}))?.['shift']()};}catch(_0x294733){throw new A(_0x22b37d(0x3c9),_0x294733[_0x22b37d(0x52a)]());}}async['getStatus'](_0x4de09b){const _0x31eef3=a0_0x2aad5a;let _0x3476cd=this[_0x31eef3(0x327)](_0x4de09b);try{return{'wuid':_0x3476cd,'status':(await this['client']['fetchStatus'](_0x3476cd))?.[_0x31eef3(0x1a9)]};}catch{return{'wuid':_0x3476cd,'status':null};}}async[a0_0x2aad5a(0x5ba)](_0x483f22){const _0x5e9280=a0_0x2aad5a;try{return await this[_0x5e9280(0x40c)][_0x5e9280(0x5ba)](_0x483f22),{'update':_0x5e9280(0x5d1)};}catch(_0x409453){throw new A(_0x5e9280(0x3c9),_0x409453[_0x5e9280(0x52a)]());}}async[a0_0x2aad5a(0x1fb)](_0x232469){const _0x2478f7=a0_0x2aad5a;try{return await this[_0x2478f7(0x40c)]['updateProfileStatus'](_0x232469),{'update':_0x2478f7(0x5d1)};}catch(_0x3607a7){throw new A(_0x2478f7(0x507),_0x3607a7['toString']());}}async[a0_0x2aad5a(0x3a3)](_0x28d03a){const _0x3981e7=a0_0x2aad5a;try{let _0x48a1f5;if((0x0,k[_0x3981e7(0x67a)])(_0x28d03a)){let _0x2a7929=new Date()[_0x3981e7(0x73d)](),_0x5b8358=_0x28d03a+_0x3981e7(0x426)+_0x2a7929;_0x48a1f5=(await ue['default']['get'](_0x5b8358,{'responseType':_0x3981e7(0x44f)}))[_0x3981e7(0x368)];}else{if((0x0,k[_0x3981e7(0x25d)])(_0x28d03a))_0x48a1f5=Buffer['from'](_0x28d03a,_0x3981e7(0x1fc));else throw new g(_0x3981e7(0x252));}return await this[_0x3981e7(0x40c)]['updateProfilePicture'](this[_0x3981e7(0x487)]['wuid'],_0x48a1f5),{'update':_0x3981e7(0x5d1)};}catch(_0x564543){throw new A(_0x3981e7(0x1bd),_0x564543['toString']());}}async[a0_0x2aad5a(0x240)](){const _0x2d07cb=a0_0x2aad5a;try{return await this[_0x2d07cb(0x40c)][_0x2d07cb(0x240)](this[_0x2d07cb(0x487)][_0x2d07cb(0x743)]),{'update':'success'};}catch(_0x598783){throw new A(_0x2d07cb(0x383),_0x598783[_0x2d07cb(0x52a)]());}}async[a0_0x2aad5a(0x27e)](_0x4fddae){const _0x74713f=a0_0x2aad5a;try{let _0x4eaf65=_0x4fddae[_0x74713f(0x171)]['map'](_0xe825c8=>this[_0x74713f(0x327)](_0xe825c8)),{id:_0x107db7}=await this[_0x74713f(0x40c)][_0x74713f(0x640)](_0x4fddae[_0x74713f(0x28d)],_0x4eaf65);return _0x4fddae?.[_0x74713f(0x2c9)]&&await this[_0x74713f(0x40c)][_0x74713f(0x3da)](_0x107db7,_0x4fddae[_0x74713f(0x2c9)]),{'metadata':await this[_0x74713f(0x40c)][_0x74713f(0x6a3)](_0x107db7)};}catch(_0x360b11){throw this[_0x74713f(0x697)][_0x74713f(0x5ee)](this[_0x74713f(0x3d1)]+'\x20('+this['instance']['wuid']+_0x74713f(0x5d3)+_0x360b11),new A(_0x74713f(0x355),_0x360b11['toString']());}}async['updateGroupPicture'](_0x115c14){const _0x5bf073=a0_0x2aad5a;try{let _0x2ab36b;if((0x0,k[_0x5bf073(0x67a)])(_0x115c14['image'])){let _0x30a632=new Date()[_0x5bf073(0x73d)](),_0x53a964=_0x115c14[_0x5bf073(0x2c8)]+_0x5bf073(0x426)+_0x30a632;_0x2ab36b=(await ue[_0x5bf073(0x433)]['get'](_0x53a964,{'responseType':'arraybuffer'}))[_0x5bf073(0x368)];}else{if((0x0,k['isBase64'])(_0x115c14[_0x5bf073(0x2c8)]))_0x2ab36b=Buffer['from'](_0x115c14[_0x5bf073(0x2c8)],_0x5bf073(0x1fc));else throw new g(_0x5bf073(0x252));}return await this[_0x5bf073(0x40c)][_0x5bf073(0x3a3)](_0x115c14[_0x5bf073(0x73c)],_0x2ab36b),{'update':_0x5bf073(0x5d1)};}catch(_0x1b612d){throw new A(_0x5bf073(0x55b),_0x1b612d[_0x5bf073(0x52a)]());}}async[a0_0x2aad5a(0x6b8)](_0x845a30,_0x25a896=a0_0x2aad5a(0x70e)){const _0x4b7408=a0_0x2aad5a;try{let _0x373481=await this[_0x4b7408(0x40c)][_0x4b7408(0x6a3)](_0x845a30[_0x4b7408(0x73c)]),_0x2b43b4=null;try{_0x2b43b4=await this['client']['profilePictureUrl'](_0x845a30[_0x4b7408(0x73c)],_0x4b7408(0x2c8));}catch(_0x4cae65){this[_0x4b7408(0x697)][_0x4b7408(0x69e)](this['instanceName']+'\x20('+this[_0x4b7408(0x487)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x845a30[_0x4b7408(0x73c)]+':\x20'+_0x4cae65[_0x4b7408(0x52a)]());}let _0x19373f=await I[_0x4b7408(0x363)]({'id':_0x845a30[_0x4b7408(0x73c)],'owner':this[_0x4b7408(0x487)][_0x4b7408(0x743)]},{'$set':{'imagechat':_0x2b43b4,'name':_0x373481[_0x4b7408(0x28d)],'group_size':_0x373481[_0x4b7408(0x557)],'group_announce':_0x373481[_0x4b7408(0x6f1)],'lastcache':Date['now']()}},{'new':!0x0,'upsert':!0x0});return _0x19373f&&G(this['instanceName'],_0x4b7408(0x3ea),{'chat':_0x19373f}),{'metadata':_0x373481,'image':_0x2b43b4};}catch(_0x422642){if(_0x25a896===_0x4b7408(0x3f1))return;throw new x(_0x4b7408(0x752),_0x422642['toString']());}}async[a0_0x2aad5a(0x38e)](_0x1d846b){const _0x51f677=a0_0x2aad5a;try{return await this[_0x51f677(0x40c)]['groupUpdateDescription'](_0x1d846b[_0x51f677(0x73c)],_0x1d846b[_0x51f677(0x2c9)]),{'update':_0x51f677(0x5d1)};}catch(_0x572973){throw new A(_0x51f677(0x6fa),_0x572973[_0x51f677(0x52a)]());}}async[a0_0x2aad5a(0x674)](_0x1f3347){const _0x5504e5=a0_0x2aad5a;try{return await this[_0x5504e5(0x40c)][_0x5504e5(0x5fe)](_0x1f3347[_0x5504e5(0x73c)],_0x1f3347[_0x5504e5(0x72c)]),{'update':'success'};}catch(_0x641db5){throw new A(_0x5504e5(0x648),_0x641db5[_0x5504e5(0x52a)]());}}async[a0_0x2aad5a(0x610)](_0xc2332c){const _0x1d42c1=a0_0x2aad5a;try{return await this[_0x1d42c1(0x40c)][_0x1d42c1(0x548)](_0xc2332c[_0x1d42c1(0x73c)],_0xc2332c[_0x1d42c1(0x391)]),{'update':_0x1d42c1(0x5d1)};}catch(_0x97daf8){throw new A(_0x1d42c1(0x385),_0x97daf8[_0x1d42c1(0x52a)]());}}async[a0_0x2aad5a(0x323)](){const _0x13105a=a0_0x2aad5a;try{let _0x4c4b74=[],_0x1eaae4=await this['client']['groupFetchAllParticipating'](),_0xa82ef9=Object[_0x13105a(0x346)](_0x1eaae4),_0x1710c7=_0xa82ef9['filter'](_0x41e4c9=>(0x0,w[_0x13105a(0x270)])(_0x41e4c9?.['id']))['map'](async _0x3880b4=>{const _0x38644f=_0x13105a;try{return await this[_0x38644f(0x40c)][_0x38644f(0x32a)](_0x3880b4['id'],_0x38644f(0x2c8));}catch(_0x13fc61){return this[_0x38644f(0x697)][_0x38644f(0x69e)](this[_0x38644f(0x3d1)]+'\x20('+this[_0x38644f(0x487)][_0x38644f(0x743)]+_0x38644f(0x1c7)+_0x3880b4['id']+':\x20'+_0x13fc61['toString']()),null;}}),_0x32b235=await Promise[_0x13105a(0x56f)](_0x1710c7);for(let _0x9e312=0x0;_0x9e312<_0xa82ef9[_0x13105a(0x24d)];_0x9e312++){let _0x3ccfa6=_0xa82ef9[_0x9e312];(0x0,w[_0x13105a(0x270)])(_0x3ccfa6?.['id'])&&_0x4c4b74[_0x13105a(0x338)]({'groupJid':_0x3ccfa6?.['id'],'subject':_0x3ccfa6?.[_0x13105a(0x28d)],'subjectOwner':_0x3ccfa6?.[_0x13105a(0x61d)]?.[_0x13105a(0x210)]('@')[0x0],'subjectTime':_0x3ccfa6?.['subjectTime'],'size':_0x3ccfa6?.[_0x13105a(0x171)]?.['length'],'owner':_0x3ccfa6?.[_0x13105a(0x458)]?.[_0x13105a(0x210)]('@')[0x0],'creation':_0x3ccfa6?.['creation'],'desc':_0x3ccfa6?.[_0x13105a(0x187)],'restrict':_0x3ccfa6?.['restrict'],'announce':_0x3ccfa6?.[_0x13105a(0x6f1)],'image':_0x32b235[_0x9e312]});}return _0x4c4b74;}catch(_0x804781){throw new x('Error\x20fetching\x20group',_0x804781[_0x13105a(0x52a)]());}}async['inviteCode'](_0x23f649){const _0x3beba2=a0_0x2aad5a;try{let _0x19f11f=await this[_0x3beba2(0x40c)][_0x3beba2(0x3f8)](_0x23f649['groupJid']);return{'inviteUrl':_0x3beba2(0x49c)+_0x19f11f,'inviteCode':_0x19f11f};}catch(_0x51163b){throw new x(_0x3beba2(0x4bb),_0x51163b[_0x3beba2(0x52a)]());}}async[a0_0x2aad5a(0x38d)](_0x255552){const _0xce8445=a0_0x2aad5a;try{let _0x4efdf6=await this['client'][_0xce8445(0x3ee)](_0x255552[_0xce8445(0x73c)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x4efdf6,'inviteCode':_0x4efdf6};}catch(_0x4d74e3){throw new x(_0xce8445(0x1db),_0x4d74e3[_0xce8445(0x52a)]());}}async[a0_0x2aad5a(0x386)](_0x1f430f){const _0x30ca29=a0_0x2aad5a;try{if((0x0,k[_0x30ca29(0x67a)])(_0x1f430f[_0x30ca29(0x46c)]))var _0x2610de=_0x1f430f[_0x30ca29(0x46c)][_0x30ca29(0x210)]('/')[0x3];else var _0x2610de=_0x1f430f[_0x30ca29(0x46c)];let _0x24091c=await this[_0x30ca29(0x40c)]['groupAcceptInvite'](_0x2610de);return this['logger']['verbose'](this[_0x30ca29(0x3d1)]+'\x20('+this[_0x30ca29(0x487)][_0x30ca29(0x743)]+_0x30ca29(0x5d3)+_0x24091c),{'join':!0x0,'inviteCode':_0x2610de,'groupJid':_0x24091c};}catch(_0x4c2ea8){throw new x(_0x30ca29(0x560),_0x4c2ea8[_0x30ca29(0x52a)]());}}async[a0_0x2aad5a(0x3c3)](_0x4e31c7){const _0x325024=a0_0x2aad5a;try{return{'participants':(await this['client']['groupMetadata'](_0x4e31c7[_0x325024(0x73c)]))[_0x325024(0x171)]};}catch(_0x224220){throw new x(_0x325024(0x4e0),_0x224220['toString']());}}async[a0_0x2aad5a(0x5e3)](_0x5d8315){const _0x54f2af=a0_0x2aad5a;try{let _0x156996=_0x5d8315[_0x54f2af(0x171)]['map'](_0xc736d0=>this[_0x54f2af(0x327)](_0xc736d0));return{'updateParticipants':await this['client'][_0x54f2af(0x375)](_0x5d8315[_0x54f2af(0x73c)],_0x156996,_0x5d8315[_0x54f2af(0x27d)])};}catch(_0x119fd7){throw new g(_0x54f2af(0x3d6),_0x119fd7[_0x54f2af(0x52a)]());}}async[a0_0x2aad5a(0x2e5)](_0x5e62a5){const _0x1312d5=a0_0x2aad5a;try{let _0x1d14cd=await this[_0x1312d5(0x40c)][_0x1312d5(0x334)](_0x5e62a5[_0x1312d5(0x73c)],_0x5e62a5[_0x1312d5(0x225)]);return{'success':!0x0};}catch(_0x4b0954){throw new g(_0x1312d5(0x5ec),_0x4b0954[_0x1312d5(0x52a)]());}}async[a0_0x2aad5a(0x693)](_0x2a46b3){const _0x24d862=a0_0x2aad5a;try{return await this['client']['groupLeave'](_0x2a46b3[_0x24d862(0x73c)]),{'groupJid':_0x2a46b3[_0x24d862(0x73c)],'leave':!0x0};}catch(_0x1d304f){throw new g(_0x24d862(0x3f5),_0x1d304f[_0x24d862(0x52a)]());}}async[a0_0x2aad5a(0x3a0)](_0x3d6090){const _0x330eb4=a0_0x2aad5a;return await this[_0x330eb4(0x37d)](_0x3d6090[_0x330eb4(0x1eb)],{'poll':{'name':_0x3d6090[_0x330eb4(0x3a0)]?.['name'],'selectableCount':_0x3d6090['pollMessage'][_0x330eb4(0x4f2)],'values':_0x3d6090[_0x330eb4(0x3a0)][_0x330eb4(0x346)]}},_0x3d6090?.[_0x330eb4(0x376)]);}async[a0_0x2aad5a(0x4ac)](_0x5e09c7,_0x1730fd,_0x5437be){const _0x4982ee=a0_0x2aad5a;if(await this[_0x4982ee(0x462)](_0x5e09c7,!0x0)){let _0x4ac622={'where':{'key':{'id':_0x5e09c7['id'],'remoteJid':_0x1730fd,'fromMe':_0x5e09c7[_0x4982ee(0x5e4)]},'owner':this[_0x4982ee(0x487)][_0x4982ee(0x743)]}},_0x434fb6={'status':[_0x5437be['status']][0x0]};try{let _0x630cf6=await this[_0x4982ee(0x620)][_0x4982ee(0x23a)][_0x4982ee(0x5ea)](_0x4ac622,_0x434fb6);_0x630cf6&&G(this['instanceName'],'messages',{'message':_0x630cf6});}catch{}}}[a0_0x2aad5a(0x682)](_0xca42b4){const _0x2ca381=a0_0x2aad5a;let _0x5acb4f=_0xca42b4[_0x2ca381(0x436)](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x1e8619=>_0x1e8619['includes'](_0x2ca381(0x516))||_0x1e8619[_0x2ca381(0x5a9)](_0x2ca381(0x4eb))),_0x3f55f0='';return _0x5acb4f[_0x2ca381(0x44d)](_0x20cd6c=>{const _0x7b9c00=_0x2ca381;let _0x487295=/TEL(?:.*):(.+)/,_0x4814b7=/EMAIL(?:.*):(.+)/,_0x520a10=_0x20cd6c['match'](_0x487295),_0x2fdc87=_0x20cd6c[_0x7b9c00(0x723)](_0x4814b7);if(_0x520a10){let _0x30ac76=_0x520a10[0x1][_0x7b9c00(0x436)](/-| |\+|\(|\)/g,'')['trim']();_0x3f55f0+=_0x7b9c00(0x220)+_0x30ac76+'\x0a';}else{if(_0x2fdc87){let _0x566224=_0x2fdc87[0x1]['trim']();_0x3f55f0+=_0x7b9c00(0x55d)+_0x566224+'\x0a';}}}),_0x3f55f0['trim']();}async[a0_0x2aad5a(0x595)](_0x2a8e10,_0x52b2e5,_0x160bb1){const _0x4a19bf=a0_0x2aad5a;let _0x2e2cf0=_0x52b2e5[_0x4a19bf(0x655)][_0x4a19bf(0x261)],_0x1dbe19=_0x52b2e5['key'][_0x4a19bf(0x5e4)],_0x503c0d=_0x2e2cf0[_0x4a19bf(0x65a)](_0x4a19bf(0x4c6));if(!_0x2a8e10['ENABLED'])return;let _0xde8ba4={'$set':{..._0x1dbe19?{'unreadcount':0x0,'lastmsg':_0x52b2e5[_0x4a19bf(0x37c)]||Date[_0x4a19bf(0x463)]()}:{'lastmsg':_0x52b2e5[_0x4a19bf(0x37c)]||Date[_0x4a19bf(0x463)]()},..._0x1dbe19||_0x503c0d?{}:{'name':_0x52b2e5[_0x4a19bf(0x382)]}},'$setOnInsert':{'group':_0x503c0d,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x1dbe19&&!_0x503c0d?{'leadInfo.nome':_0x52b2e5[_0x4a19bf(0x382)]}:{}},..._0x1dbe19?{}:{'$inc':{'unreadcount':0x1}}},_0x22b920={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x32abe7=await I[_0x4a19bf(0x363)]({'id':_0x2e2cf0,'owner':this[_0x4a19bf(0x487)][_0x4a19bf(0x743)]},_0xde8ba4,_0x22b920);if(_0x32abe7?(!_0x503c0d&&(!_0x32abe7[_0x4a19bf(0x3a2)]||!_0x32abe7['leadInfo'][_0x4a19bf(0x62d)])&&_0x52b2e5[_0x4a19bf(0x382)]&&!_0x1dbe19&&(_0xde8ba4={'$set':{'leadInfo.nome':_0x52b2e5[_0x4a19bf(0x382)]}},_0x32abe7=await I[_0x4a19bf(0x363)]({'id':_0x2e2cf0,'owner':this[_0x4a19bf(0x487)]['wuid']},_0xde8ba4,_0x22b920)),G(this['instanceName'],_0x4a19bf(0x3ea),{'chat':_0x32abe7})):this[_0x4a19bf(0x697)][_0x4a19bf(0x5ee)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4a19bf(0x50f)),!this[_0x4a19bf(0x17e)]?.['flowConfig']['enabled'])return this[_0x4a19bf(0x697)][_0x4a19bf(0x69e)](this[_0x4a19bf(0x3d1)]+'\x20('+this[_0x4a19bf(0x487)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x32abe7['id'][_0x4a19bf(0x5a9)](_0x4a19bf(0x4c6))&&this[_0x4a19bf(0x17e)]?.[_0x4a19bf(0x65c)][_0x4a19bf(0x4fe)]===!0x0)return this[_0x4a19bf(0x697)][_0x4a19bf(0x69e)](this[_0x4a19bf(0x3d1)]+'\x20('+this[_0x4a19bf(0x487)][_0x4a19bf(0x743)]+_0x4a19bf(0x43b)),null;if(_0x32abe7[_0x4a19bf(0x3a2)]){if(_0x32abe7['leadInfo'][_0x4a19bf(0x435)]===0x0||_0x32abe7[_0x4a19bf(0x3a2)]['atendimentoAberto'])return this['logger'][_0x4a19bf(0x69e)](this['instanceName']+'\x20('+this[_0x4a19bf(0x487)][_0x4a19bf(0x743)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x2e2cf0+_0x4a19bf(0x486)),null;if(_0x32abe7[_0x4a19bf(0x3a2)]['desativadoFluxoAte']>Date[_0x4a19bf(0x463)]())return this[_0x4a19bf(0x697)]['verbose'](this[_0x4a19bf(0x3d1)]+'\x20('+this['instance'][_0x4a19bf(0x743)]+_0x4a19bf(0x444)+new Date(_0x32abe7[_0x4a19bf(0x3a2)][_0x4a19bf(0x435)])[_0x4a19bf(0x6f6)]()+_0x4a19bf(0x486)),null;}this['logger'][_0x4a19bf(0x69e)](this[_0x4a19bf(0x3d1)]+'\x20('+this['instance'][_0x4a19bf(0x743)]+_0x4a19bf(0x5f3)),this[_0x4a19bf(0x5b0)](_0x160bb1,_0x52b2e5,this[_0x4a19bf(0x487)][_0x4a19bf(0x743)]);}async[a0_0x2aad5a(0x728)](){const _0x313a0e=a0_0x2aad5a;let _0x22d5f6=await this[_0x313a0e(0x620)][_0x313a0e(0x36a)][_0x313a0e(0x2f0)]({'where':{'owner':this[_0x313a0e(0x487)][_0x313a0e(0x743)]}}),_0x20d69b=0x0,_0x296fa1=[];for(let _0x5ea17b of _0x22d5f6)_0x296fa1[_0x313a0e(0x338)]({'updateOne':{'filter':{'id':_0x5ea17b['id'],'owner':this[_0x313a0e(0x487)]['wuid']},'update':{'$set':{'contactname':_0x5ea17b[_0x313a0e(0x382)]}}}}),_0x296fa1[_0x313a0e(0x24d)]===0x1f4&&(_0x20d69b+=await this[_0x313a0e(0x542)](_0x296fa1),_0x296fa1=[]);_0x296fa1[_0x313a0e(0x24d)]>0x0&&(_0x20d69b+=await this['performBulkUpdate'](_0x296fa1)),this[_0x313a0e(0x697)]['verbose'](this[_0x313a0e(0x3d1)]+'\x20('+this[_0x313a0e(0x487)][_0x313a0e(0x743)]+'):\x20'+_0x20d69b+_0x313a0e(0x258)+this[_0x313a0e(0x487)][_0x313a0e(0x743)]+_0x313a0e(0x2fd));}async[a0_0x2aad5a(0x542)](_0x144537){const _0x27c7a6=a0_0x2aad5a;return(await I['bulkWrite'](_0x144537))[_0x27c7a6(0x387)];}async[a0_0x2aad5a(0x581)](_0x54475c,_0x1176b7){const _0x5a8cd5=a0_0x2aad5a;if(_0x1176b7[_0x5a8cd5(0x569)]){let _0x149997=_0x54475c[_0x5a8cd5(0x30e)](async _0x1ff747=>{const _0x80a033=_0x5a8cd5;try{let _0x2051e5={'$set':{'id':_0x1ff747['id'],'owner':_0x1ff747[_0x80a033(0x458)],'lastcache':0x0}};if(_0x1ff747['group']!==null&&(_0x2051e5['$set'][_0x80a033(0x1f2)]=_0x1ff747[_0x80a033(0x1f2)]),_0x1ff747[_0x80a033(0x72c)]!==null&&(_0x2051e5[_0x80a033(0x340)][_0x80a033(0x72c)]=_0x1ff747[_0x80a033(0x72c)]),_0x1ff747[_0x80a033(0x1a4)]!==null&&(_0x2051e5[_0x80a033(0x340)]['contactname']=_0x1ff747['contactname']),_0x1ff747['imagechat']!==null&&(_0x2051e5[_0x80a033(0x340)]['imagechat']=_0x1ff747[_0x80a033(0x186)]),_0x1ff747[_0x80a033(0x186)]===null&&(_0x2051e5[_0x80a033(0x340)][_0x80a033(0x186)]=_0x80a033(0x485)),_0x1ff747['lastmsg']!==null&&(_0x2051e5[_0x80a033(0x340)][_0x80a033(0x53d)]=_0x1ff747[_0x80a033(0x53d)]),_0x1ff747[_0x80a033(0x45d)]!==null&&(_0x2051e5[_0x80a033(0x340)][_0x80a033(0x45d)]=_0x1ff747[_0x80a033(0x45d)]),_0x1ff747['unreadcount']!==null&&(_0x2051e5[_0x80a033(0x340)][_0x80a033(0x3b6)]=_0x1ff747[_0x80a033(0x3b6)]),Object[_0x80a033(0x3e1)](_0x2051e5[_0x80a033(0x340)])[_0x80a033(0x24d)]>0x0)return await I['findOneAndUpdate']({'id':_0x1ff747['id'],'owner':_0x1ff747[_0x80a033(0x458)]},_0x2051e5,{'new':!0x0,'upsert':!0x0});}catch(_0x1c061d){return console['error']('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x1ff747['id']+':',_0x1c061d),null;}}),_0x722314=(await Promise['all'](_0x149997))[_0x5a8cd5(0x19a)](_0x2e3f0b=>_0x2e3f0b!==null)[_0x5a8cd5(0x24d)];this[_0x5a8cd5(0x697)][_0x5a8cd5(0x69e)](this[_0x5a8cd5(0x3d1)]+'\x20('+this[_0x5a8cd5(0x487)][_0x5a8cd5(0x743)]+_0x5a8cd5(0x5d3)+_0x722314+_0x5a8cd5(0x258)+this[_0x5a8cd5(0x487)][_0x5a8cd5(0x743)]+_0x5a8cd5(0x1de));}}async[a0_0x2aad5a(0x274)](_0x448d3d){const _0x1caaaf=a0_0x2aad5a;this[_0x1caaaf(0x697)][_0x1caaaf(0x69e)](this['instanceName']+'\x20('+this[_0x1caaaf(0x487)][_0x1caaaf(0x743)]+_0x1caaaf(0x6d8));let _0x310b5d={'readMessages':[{'remoteJid':_0x448d3d[_0x1caaaf(0x180)][_0x1caaaf(0x2b7)][_0x1caaaf(0x655)][_0x1caaaf(0x261)],'fromMe':_0x448d3d[_0x1caaaf(0x180)][_0x1caaaf(0x2b7)]['key'][_0x1caaaf(0x5e4)],'id':_0x448d3d[_0x1caaaf(0x180)][_0x1caaaf(0x2b7)]['key']['id']}]};await this[_0x1caaaf(0x4bc)](_0x310b5d);}async['StartBot'](_0x5171ce,_0x32347a,_0x2564b7){const _0x1d24cb=a0_0x2aad5a;try{let {key:_0x37991c,message_normalized:_0x570f70}=_0x32347a,_0x258e77=_0x570f70,_0x54d9cd=_0x570f70[_0x1d24cb(0x410)]||_0x570f70['caption']||_0x570f70['vote']||_0x570f70[_0x1d24cb(0x72c)],_0x4f8db2=_0x37991c[_0x1d24cb(0x261)],_0x163397;if(_0x258e77['key'][_0x1d24cb(0x5e4)]&&_0x54d9cd['trim']()!==this[_0x1d24cb(0x17e)]?.['flowConfig'][_0x1d24cb(0x238)]['trim']())return this[_0x1d24cb(0x697)][_0x1d24cb(0x69e)](this['instanceName']+'\x20('+this['instance'][_0x1d24cb(0x743)]+_0x1d24cb(0x670)),null;if(_0x258e77[_0x1d24cb(0x655)][_0x1d24cb(0x5e4)]&&_0x54d9cd['trim']()===this[_0x1d24cb(0x17e)]?.[_0x1d24cb(0x65c)][_0x1d24cb(0x238)][_0x1d24cb(0x2f3)]()){this[_0x1d24cb(0x697)][_0x1d24cb(0x69e)](this[_0x1d24cb(0x3d1)]+'\x20('+this[_0x1d24cb(0x487)][_0x1d24cb(0x743)]+_0x1d24cb(0x47e));let _0x34aedd=await F[_0x1d24cb(0x2f0)]({'owner':_0x2564b7,'remoteJid':_0x4f8db2,'status':_0x1d24cb(0x40f)});this[_0x1d24cb(0x697)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1d24cb(0x743)]+'):\x20Conversas\x20encontradas:'+_0x34aedd);let _0x21a74e=Date[_0x1d24cb(0x463)](),_0x3d77fa;return this[_0x1d24cb(0x17e)]?.[_0x1d24cb(0x65c)][_0x1d24cb(0x6cb)]===0x0?_0x3d77fa={'stoppedUntil':_0x21a74e+0x7591f6200}:_0x3d77fa={'stoppedUntil':_0x21a74e+this[_0x1d24cb(0x17e)]?.[_0x1d24cb(0x65c)][_0x1d24cb(0x6cb)]*0x3c*0x3e8},this['logger'][_0x1d24cb(0x69e)](this['instanceName']+'\x20('+this['instance'][_0x1d24cb(0x743)]+_0x1d24cb(0x711)+_0x3d77fa),this['updateStopChat'](_0x163397,_0x3d77fa['stoppedUntil']),null;}if(_0x54d9cd&&_0x54d9cd[_0x1d24cb(0x4e1)](this[_0x1d24cb(0x17e)]?.['flowConfig']['prefixCommand'])&&_0x54d9cd[_0x1d24cb(0x24d)]>0x4){let _0x546be5=await D['findOne']({'owner':_0x2564b7,'startCommandWord':_0x54d9cd});if(this[_0x1d24cb(0x697)][_0x1d24cb(0x69e)](this['instanceName']+'\x20('+this[_0x1d24cb(0x487)][_0x1d24cb(0x743)]+_0x1d24cb(0x3f0)),_0x546be5)_0x163397=await this[_0x1d24cb(0x759)](_0x546be5,_0x258e77['key'],_0x258e77);else return this[_0x1d24cb(0x697)][_0x1d24cb(0x69e)](this['instanceName']+'\x20('+this[_0x1d24cb(0x487)][_0x1d24cb(0x743)]+_0x1d24cb(0x192)),null;}else _0x163397=await this[_0x1d24cb(0x482)](_0x2564b7,_0x4f8db2,_0x258e77);if(_0x163397){this[_0x1d24cb(0x697)][_0x1d24cb(0x69e)](this[_0x1d24cb(0x3d1)]+'\x20('+this[_0x1d24cb(0x487)][_0x1d24cb(0x743)]+_0x1d24cb(0x1b1)),!_0x37991c[_0x1d24cb(0x5e4)]&&_0x163397['readMessages']&&this['readMessageBot'](_0x163397);let _0x55db2e=await this[_0x1d24cb(0x431)](_0x163397);_0x55db2e&&await this[_0x1d24cb(0x243)](_0x163397,_0x55db2e,_0x163397[_0x1d24cb(0x261)]);}}catch(_0x1ec532){this[_0x1d24cb(0x697)][_0x1d24cb(0x5ee)](this[_0x1d24cb(0x3d1)]+'\x20('+this[_0x1d24cb(0x487)][_0x1d24cb(0x743)]+_0x1d24cb(0x266)+_0x1ec532);}}[a0_0x2aad5a(0x162)](_0x245858,_0x1bfe02='',_0x426edf={},_0x5eb458=!0x0){const _0x12d0c2=a0_0x2aad5a;for(let _0x4aed73 in _0x245858){let _0x5f2fdd=_0x5eb458?'_'+_0x4aed73:''+_0x1bfe02+_0x4aed73;typeof _0x245858[_0x4aed73]==_0x12d0c2(0x3a6)&&_0x245858[_0x4aed73]!==null?this[_0x12d0c2(0x162)](_0x245858[_0x4aed73],_0x5f2fdd+'.',_0x426edf,!0x1):_0x426edf[_0x5f2fdd]=String(_0x245858[_0x4aed73]);}return _0x426edf;}[a0_0x2aad5a(0x593)](_0x42d20b){const _0xf0ae73=a0_0x2aad5a;let _0x2b596a={};for(let _0x2862be of _0x42d20b)typeof _0x2862be['name']==_0xf0ae73(0x1e7)&&typeof _0x2862be[_0xf0ae73(0x1a0)]==_0xf0ae73(0x1e7)&&(_0x2b596a[_0x2862be['name']]=_0x2862be[_0xf0ae73(0x1a0)]);return _0x2b596a;}async[a0_0x2aad5a(0x431)](_0xd06ee0){const _0x4c54d5=a0_0x2aad5a;if(!this['AutomateSystem']?.['flowConfig'][_0x4c54d5(0x667)]||_0xd06ee0[_0x4c54d5(0x1a9)]!==_0x4c54d5(0x40f)&&_0xd06ee0['waitingPoll_id']==='')return null;let _0x4ced2a=_0xd06ee0[_0x4c54d5(0x180)][_0x4c54d5(0x17c)]||_0x4c54d5(0x255);typeof _0xd06ee0[_0x4c54d5(0x180)][_0x4c54d5(0x545)]>'u'&&(_0xd06ee0['chatLog']['lastCondition']=!0x0);let _0x56a65a=_0xd06ee0[_0x4c54d5(0x180)]['lastCondition'];this[_0x4c54d5(0x697)][_0x4c54d5(0x69e)](this[_0x4c54d5(0x3d1)]+'\x20('+this['instance'][_0x4c54d5(0x743)]+_0x4c54d5(0x663)+_0x4ced2a+_0x4c54d5(0x6bb)+_0x56a65a);let _0x97e06c=_0x4ced2a===_0x4c54d5(0x255)?_0xd06ee0[_0x4c54d5(0x16a)]['find'](_0x2c4e72=>_0x2c4e72[_0x4c54d5(0x740)]===_0x4c54d5(0x255)):_0xd06ee0[_0x4c54d5(0x16a)][_0x4c54d5(0x2f0)](_0x438c33=>_0x438c33[_0x4c54d5(0x2c1)][_0x4c54d5(0x52a)]()===_0x4ced2a[_0x4c54d5(0x52a)]());if(!_0x97e06c)return this[_0x4c54d5(0x697)][_0x4c54d5(0x5ee)](this['instanceName']+'\x20('+this[_0x4c54d5(0x487)]['wuid']+_0x4c54d5(0x658)+_0x4ced2a),null;let _0xcf6be3={'_pushName':_0xd06ee0[_0x4c54d5(0x180)][_0x4c54d5(0x2b7)]['pushName'],..._0xd06ee0[_0x4c54d5(0x180)][_0x4c54d5(0x476)]},_0x1494c0=null;if(_0xd06ee0['waitingPoll_id']){let _0x5992dc=_0xd06ee0['chatLog'][_0x4c54d5(0x2b7)][_0x4c54d5(0x5fd)],_0x410dde=_0xd06ee0[_0x4c54d5(0x448)][_0x4c54d5(0x2f0)](_0x10f2b1=>_0x10f2b1['option']===_0x5992dc);if(_0x410dde){let _0x258f26=_0x410dde[_0x4c54d5(0x1e5)];if(_0x1494c0=_0xd06ee0[_0x4c54d5(0x16a)][_0x4c54d5(0x2f0)](_0x45fc6f=>_0x45fc6f['groupId']===_0x258f26&&_0x45fc6f[_0x4c54d5(0x27a)]===0x1),_0x97e06c[_0x4c54d5(0x20c)][_0x4c54d5(0x5d6)]){let _0x221ff7={'id':_0xd06ee0['waitingPoll_id'],'remoteJid':_0xd06ee0[_0x4c54d5(0x261)],'fromMe':!0x0};await this[_0x4c54d5(0x4b5)](_0x221ff7);}if(_0x97e06c[_0x4c54d5(0x20c)][_0x4c54d5(0x5d6)]&&_0x97e06c[_0x4c54d5(0x20c)]['pollMessageOnDelete']){let _0x4eeb7b={'number':_0xd06ee0[_0x4c54d5(0x261)],'options':{'delay':0x0},'textMessage':{'text':_0x4c54d5(0x4ba)+_0xd06ee0[_0x4c54d5(0x51b)]+'\x0a*Você\x20respondeu*:\x0a'+_0x5992dc}};await this[_0x4c54d5(0x4b8)](_0x4eeb7b);}_0xd06ee0[_0x4c54d5(0x1a9)]=_0x4c54d5(0x40f),_0xd06ee0[_0x4c54d5(0x683)]='',_0xd06ee0[_0x4c54d5(0x51b)]='',_0xd06ee0[_0x4c54d5(0x448)]=[];}else{this[_0x4c54d5(0x697)][_0x4c54d5(0x69e)](this[_0x4c54d5(0x3d1)]+'\x20('+this[_0x4c54d5(0x487)][_0x4c54d5(0x743)]+_0x4c54d5(0x609));let _0x3a2402={'activatedCount':_0xd06ee0['chatLog'][_0x4c54d5(0x575)][_0x4c54d5(0x19a)](_0x5c1cb3=>String(_0x5c1cb3[_0x4c54d5(0x329)])===String(_0x4ced2a))[_0x4c54d5(0x24d)],'moreLogs':[_0x4c54d5(0x428)]};if(_0x97e06c[_0x4c54d5(0x20c)][_0x4c54d5(0x572)]){let _0x791ad7={'number':_0xd06ee0[_0x4c54d5(0x261)],'options':{'delay':0x0},'textMessage':{'text':_0x97e06c[_0x4c54d5(0x20c)]['pollErrorMessage']}};await this[_0x4c54d5(0x4b8)](_0x791ad7);}if(_0x97e06c[_0x4c54d5(0x5de)]!==void 0x0&&_0x3a2402[_0x4c54d5(0x596)]>=_0x97e06c[_0x4c54d5(0x5de)]){let _0x16927c=Date[_0x4c54d5(0x463)](),_0x50f84a=_0x97e06c[_0x4c54d5(0x3ff)]??0xa;isNaN(_0x50f84a)&&(_0x50f84a=0xa);let _0x157695=_0x16927c+_0x50f84a*0x3c*0x3e8;_0x3a2402[_0x4c54d5(0x23c)]=_0x157695,_0x3a2402['moreLogs'][_0x4c54d5(0x338)](_0x4c54d5(0x350)),this[_0x4c54d5(0x214)](_0xd06ee0,_0x157695),_0xd06ee0[_0x4c54d5(0x683)]='',_0xd06ee0['waitingPoll_name']='',_0xd06ee0['waitingPoll_replyOptions']=[];}return this[_0x4c54d5(0x4e2)](_0xd06ee0,_0x97e06c,_0x3a2402,!0x0),null;}}if(_0x56a65a&&_0x97e06c[_0x4c54d5(0x1e5)]&&!_0xd06ee0['waitingPoll_id']){let _0x1be579=_0xd06ee0[_0x4c54d5(0x16a)][_0x4c54d5(0x19a)](_0x39b69b=>_0x39b69b[_0x4c54d5(0x32e)]['toString']()===_0x97e06c['next_groupId'][_0x4c54d5(0x52a)]())['sort']((_0x33120a,_0x273013)=>_0x33120a[_0x4c54d5(0x27a)]-_0x273013[_0x4c54d5(0x27a)]);_0x1be579[_0x4c54d5(0x24d)]>0x0&&(_0x1494c0=_0x1be579[0x0]);}if(!_0x1494c0){let _0x1fc0e3=_0x97e06c['groupId'],_0x910e7b=_0xd06ee0[_0x4c54d5(0x16a)][_0x4c54d5(0x19a)](_0x5ed121=>_0x5ed121[_0x4c54d5(0x32e)]===_0x1fc0e3&&_0x5ed121[_0x4c54d5(0x27a)]>_0x97e06c[_0x4c54d5(0x27a)])[_0x4c54d5(0x6e2)]((_0x4c14b3,_0x332ba8)=>_0x4c14b3['order']-_0x332ba8['order']);_0x910e7b['length']>0x0&&(_0x1494c0=_0x910e7b[0x0]);}if(!_0x1494c0)return _0xd06ee0[_0x4c54d5(0x1a9)]=_0x4c54d5(0x414),null;_0xd06ee0['chatLog']['realVariables']=_0xcf6be3;let _0x1d9962=JSON[_0x4c54d5(0x1aa)](JSON[_0x4c54d5(0x318)](_0x1494c0));return this[_0x4c54d5(0x352)](_0x1d9962,_0xd06ee0['chatLog'][_0x4c54d5(0x476)]),_0xd06ee0[_0x4c54d5(0x180)][_0x4c54d5(0x17c)]=_0x1d9962[_0x4c54d5(0x2c1)],_0xd06ee0['chatLog'][_0x4c54d5(0x545)]=!0x0,_0x1d9962;}[a0_0x2aad5a(0x1b0)](_0x1c7560,_0x1ce289){return _0x1c7560['replace'](/\{\{([^}]+)\}\}/g,(_0x3a254d,_0x513e46)=>_0x1ce289[_0x513e46]||'');}[a0_0x2aad5a(0x352)](_0x48f911,_0x227b1a){const _0x5affa3=a0_0x2aad5a;for(let _0x447543 in _0x48f911)typeof _0x48f911[_0x447543]==_0x5affa3(0x1e7)?_0x48f911[_0x447543]=this['replaceVariables'](_0x48f911[_0x447543],_0x227b1a):typeof _0x48f911[_0x447543]=='object'&&this['replaceVariablesInObject'](_0x48f911[_0x447543],_0x227b1a);}async[a0_0x2aad5a(0x23f)](_0x297590,_0x80a2be){const _0x4f5d92=a0_0x2aad5a;let _0x52f73e=_0x80a2be[_0x4f5d92(0x2c1)];if(_0x297590['chatLog']&&_0x297590[_0x4f5d92(0x180)]['blockLogs']){let _0x20908a=_0x297590['chatLog'][_0x4f5d92(0x575)]['filter'](_0x10f485=>String(_0x10f485[_0x4f5d92(0x329)])===String(_0x52f73e))['pop']();if(_0x20908a&&_0x20908a['error']&&_0x80a2be[_0x4f5d92(0x6d2)])return _0x297590['status']=_0x4f5d92(0x414),await this[_0x4f5d92(0x681)](_0x297590),null;}if(_0x80a2be['type']===_0x4f5d92(0x20c)&&_0x80a2be[_0x4f5d92(0x20c)][_0x4f5d92(0x472)]===_0x4f5d92(0x2d1)&&_0x297590['waitingPoll_id'])return _0x297590[_0x4f5d92(0x180)][_0x4f5d92(0x17c)]=_0x52f73e,await this[_0x4f5d92(0x681)](_0x297590),null;let _0x17c283=await this[_0x4f5d92(0x431)](_0x297590);if(_0x297590[_0x4f5d92(0x180)]&&_0x297590[_0x4f5d92(0x180)][_0x4f5d92(0x575)]){let _0xc0719b=_0x297590['chatLog'][_0x4f5d92(0x575)][_0x4f5d92(0x19a)](_0x5cb591=>String(_0x5cb591['blockId'])===String(_0x52f73e))['length'];if(_0x80a2be[_0x4f5d92(0x5de)]!==void 0x0&&_0xc0719b>=_0x80a2be[_0x4f5d92(0x5de)]){let _0x1040d8=Date['now'](),_0x2ca9ca=_0x80a2be[_0x4f5d92(0x3ff)]??0xa;isNaN(_0x2ca9ca)&&(_0x2ca9ca=0xa);let _0x56bd8e=_0x1040d8+_0x2ca9ca*0x3c*0x3e8,_0x3a6371={'newStoppedUntil':_0x56bd8e};return this[_0x4f5d92(0x214)](_0x297590,_0x56bd8e),this[_0x4f5d92(0x4e2)](_0x297590,_0x80a2be,_0x3a6371,!0x0),null;}}_0x17c283&&_0x17c283['type']!==_0x4f5d92(0x24b)&&await this[_0x4f5d92(0x243)](_0x297590,_0x17c283,_0x297590['remoteJid']),_0x17c283||await this['saveConversationToDatabase'](_0x297590),_0x17c283&&_0x17c283['type']==='save'&&(_0x297590['chatLog'][_0x4f5d92(0x17c)]=_0x52f73e,await this[_0x4f5d92(0x681)](_0x297590));}async[a0_0x2aad5a(0x243)](_0x16349e,_0x1a86b9,_0x483aaa){const _0x52b4cb=a0_0x2aad5a;try{let _0x2ad70d=_0x1a86b9[_0x52b4cb(0x740)];this[_0x52b4cb(0x697)][_0x52b4cb(0x69e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x52b4cb(0x4c9)+_0x2ad70d);let _0x3ddebf={'uazapi':()=>this[_0x52b4cb(0x3f7)](_0x16349e,_0x1a86b9,_0x483aaa),'save':()=>this['saveTextReply'](_0x16349e,_0x1a86b9),'stop':()=>this[_0x52b4cb(0x238)](_0x16349e,_0x1a86b9),'condition':()=>this[_0x52b4cb(0x411)](_0x16349e,_0x1a86b9),'varedit':()=>this[_0x52b4cb(0x692)](_0x16349e,_0x1a86b9),'apirequest':()=>this[_0x52b4cb(0x423)](_0x16349e,_0x1a86b9),'goToFlow':()=>this[_0x52b4cb(0x58b)](_0x16349e,_0x1a86b9)}[_0x2ad70d];_0x3ddebf&&await _0x3ddebf();}catch(_0x46fe57){this[_0x52b4cb(0x697)][_0x52b4cb(0x5ee)](this[_0x52b4cb(0x3d1)]+'\x20('+this[_0x52b4cb(0x487)][_0x52b4cb(0x743)]+_0x52b4cb(0x236)+_0x46fe57);}}async[a0_0x2aad5a(0x58b)](_0x394df9,_0xdf95d8){const _0x57461e=a0_0x2aad5a;if(this[_0x57461e(0x697)]['verbose'](this[_0x57461e(0x3d1)]+'\x20('+this[_0x57461e(0x487)][_0x57461e(0x743)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x394df9||!_0xdf95d8)return this[_0x57461e(0x697)][_0x57461e(0x5ee)](this[_0x57461e(0x3d1)]+'\x20('+this['instance'][_0x57461e(0x743)]+_0x57461e(0x201)),null;await this['updateConversation'](_0x394df9,_0xdf95d8,{},!0x0,!0x0),console['log'](_0x57461e(0x44c)),console[_0x57461e(0x4d0)](_0xdf95d8);let _0x256fce=_0xdf95d8['goToFlow'];console[_0x57461e(0x4d0)]('flowname:\x20',_0x256fce),_0x394df9=await this['createConversationforgoToFlow'](_0x256fce,_0x394df9['remoteJid'],_0x394df9[_0x57461e(0x180)][_0x57461e(0x476)]),this[_0x57461e(0x697)][_0x57461e(0x69e)](this['instanceName']+'\x20('+this[_0x57461e(0x487)][_0x57461e(0x743)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x29058e=await this[_0x57461e(0x431)](_0x394df9);_0x29058e&&await this['processblock'](_0x394df9,_0x29058e,_0x394df9[_0x57461e(0x261)]);}async['createConversationforgoToFlow'](_0x957ddb,_0x1a76ec,_0x4a00d8){const _0x26374f=a0_0x2aad5a;this[_0x26374f(0x697)][_0x26374f(0x69e)](this[_0x26374f(0x3d1)]+'\x20('+this[_0x26374f(0x487)]['wuid']+_0x26374f(0x1f4));try{if(_0x957ddb=await D[_0x26374f(0x538)]({'owner':this[_0x26374f(0x487)][_0x26374f(0x743)],'name':_0x957ddb}),!_0x957ddb)return this[_0x26374f(0x697)][_0x26374f(0x5ee)](this[_0x26374f(0x3d1)]+'\x20('+this['instance'][_0x26374f(0x743)]+_0x26374f(0x22d)),null;let _0x1cb98f=require('mongodb')[_0x26374f(0x571)],_0x3a89b5=Date[_0x26374f(0x463)](),_0xa83579='start',_0x1de20b={},_0x412b94={},_0x3b4ef8={..._0x957ddb[_0x26374f(0x335)],'chatLog':null},_0x430f6c={'lastReceivedMessage':_0x1de20b,'lastSendMessage':_0x412b94,'lastBlockId':_0xa83579,'lastCondition':!0x0,'realVariables':_0x4a00d8};_0x3b4ef8['chatLog']=_0x430f6c,_0x3b4ef8['chatLog'][_0x26374f(0x476)]={..._0x4a00d8},delete _0x3b4ef8[_0x26374f(0x2c1)],_0x3b4ef8[_0x26374f(0x2c1)]=new _0x1cb98f(),_0x3b4ef8['lastInteraction']=_0x3a89b5,_0x3b4ef8[_0x26374f(0x1a9)]=_0x26374f(0x40f),_0x3b4ef8[_0x26374f(0x261)]=_0x1a76ec;let _0x575e92=await F[_0x26374f(0x6c2)](_0x3b4ef8);return this['logger'][_0x26374f(0x69e)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x575e92?_0x3b4ef8:null;}catch(_0x48f391){throw this[_0x26374f(0x697)]['error'](this[_0x26374f(0x3d1)]+'\x20('+this[_0x26374f(0x487)][_0x26374f(0x743)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x48f391),new g(_0x48f391[_0x26374f(0x23a)]);}}async[a0_0x2aad5a(0x423)](_0x40b366,_0x447a13){const _0x454ccf=a0_0x2aad5a;let _0x37fd16,_0x1b3070;try{let _0x5e6b5f=_0x447a13[_0x454ccf(0x35f)];if(!_0x5e6b5f||!_0x5e6b5f['url']||!_0x5e6b5f['method'])throw new Error(_0x454ccf(0x51a));let _0x2f8999={'method':_0x5e6b5f[_0x454ccf(0x5e0)],'url':_0x5e6b5f[_0x454ccf(0x583)],'headers':_0x5e6b5f['header']||{},'data':_0x5e6b5f[_0x454ccf(0x561)]||{}};_0x37fd16=(await(0x0,ue[_0x454ccf(0x433)])(_0x2f8999))[_0x454ccf(0x368)];let _0x2be721=_0x40b366[_0x454ccf(0x180)][_0x454ccf(0x476)],_0x404380=this[_0x454ccf(0x162)](_0x37fd16);return Object[_0x454ccf(0x1ed)](_0x2be721,_0x404380),_0x40b366[_0x454ccf(0x180)][_0x454ccf(0x476)]=_0x2be721,_0x1b3070={'error':!0x1,'apiResponse':_0x37fd16},this['updateConversation'](_0x40b366,_0x447a13,_0x1b3070),_0x37fd16;}catch(_0x9adfdc){console[_0x454ccf(0x5ee)](_0x454ccf(0x26d),_0x9adfdc),_0x9adfdc[_0x454ccf(0x449)]&&(_0x37fd16=_0x9adfdc[_0x454ccf(0x449)][_0x454ccf(0x368)]);let _0x5ea43c=_0x40b366[_0x454ccf(0x180)][_0x454ccf(0x476)],_0x445978=this[_0x454ccf(0x162)](_0x37fd16);return Object[_0x454ccf(0x1ed)](_0x5ea43c,_0x445978),_0x40b366['chatLog'][_0x454ccf(0x476)]=_0x5ea43c,_0x1b3070={'error':!0x0,'errorLog':_0x9adfdc[_0x454ccf(0x52a)](),'apiResponse':_0x37fd16},this['updateConversation'](_0x40b366,_0x447a13,_0x1b3070),{'success':!0x1};}}[a0_0x2aad5a(0x638)](_0x4267b7,_0x26351a){const _0x4366d1=a0_0x2aad5a;let _0xdab3db=_0x185399=>{const _0x4bd3d9=a0_0x50e5;let _0x3c2a09=_0x185399[_0x4bd3d9(0x436)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x581b8e=parseFloat(_0x3c2a09);return isNaN(_0x581b8e)?null:_0x581b8e;},_0x1741e9=_0x26351a[_0x4366d1(0x172)],_0x2256bb=_0x26351a[_0x4366d1(0x63f)];typeof _0x1741e9==_0x4366d1(0x1e7)&&(_0x1741e9=this[_0x4366d1(0x1b0)](_0x1741e9,_0x4267b7[_0x4366d1(0x180)][_0x4366d1(0x476)])??''),typeof _0x2256bb==_0x4366d1(0x1e7)&&(_0x2256bb=this[_0x4366d1(0x1b0)](_0x2256bb,_0x4267b7['chatLog'][_0x4366d1(0x476)])??'');let _0x3693d9=null;if(!_0x1741e9||!_0x26351a[_0x4366d1(0x316)])return null;switch(this['logger'][_0x4366d1(0x69e)](this[_0x4366d1(0x3d1)]+'\x20('+this[_0x4366d1(0x487)][_0x4366d1(0x743)]+_0x4366d1(0x269)+_0x1741e9),this[_0x4366d1(0x697)][_0x4366d1(0x69e)](this[_0x4366d1(0x3d1)]+'\x20('+this[_0x4366d1(0x487)][_0x4366d1(0x743)]+_0x4366d1(0x309)+_0x2256bb),_0x26351a[_0x4366d1(0x316)]){case'+':case'-':case'*':case'/':let _0xe7d88a=_0xdab3db(_0x1741e9),_0x4a9b20=_0xdab3db(_0x2256bb||'0');if(_0xe7d88a===null)return null;switch(_0x26351a[_0x4366d1(0x316)]){case'+':_0x3693d9=_0xe7d88a+(_0x4a9b20??0x0);break;case'-':_0x3693d9=_0xe7d88a-(_0x4a9b20??0x0);break;case'*':_0x3693d9=_0xe7d88a*(_0x4a9b20??0x1);break;case'/':_0x4a9b20!==0x0&&(_0x3693d9=_0xe7d88a/(_0x4a9b20??0x1));break;}break;case _0x4366d1(0x439):case _0x4366d1(0x2bb):let _0x2bfbb5=_0x2256bb,_0x457ec6=_0x26351a[_0x4366d1(0x30d)];if(typeof _0x457ec6==_0x4366d1(0x1e7)&&(_0x457ec6=this[_0x4366d1(0x1b0)](_0x457ec6,_0x4267b7[_0x4366d1(0x180)]['realVariables'])??''),_0x2bfbb5&&_0x457ec6!==void 0x0){let _0x4fb7bc=_0x26351a['editOperator']===_0x4366d1(0x439)?new RegExp(_0x2bfbb5['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x2bfbb5,'g');_0x3693d9=_0x1741e9[_0x4366d1(0x436)](_0x4fb7bc,_0x457ec6);}else console[_0x4366d1(0x47b)](_0x4366d1(0x6f3));break;case _0x4366d1(0x16e):_0x3693d9=_0x2256bb;break;case _0x4366d1(0x208):let _0x495591=_0x1741e9[_0x4366d1(0x723)](new RegExp(_0x2256bb||''));_0x3693d9=_0x495591?_0x495591[0x0]:'';break;case'truncatedto':_0x3693d9=_0x1741e9[_0x4366d1(0x6dd)](0x0,parseInt(_0x2256bb||'0'));break;case'truncatedtoEnd':let _0x68ca61=parseInt(_0x2256bb||'0');_0x3693d9=_0x1741e9[_0x4366d1(0x6dd)](_0x1741e9[_0x4366d1(0x24d)]-_0x68ca61);break;case _0x4366d1(0x1f5):let _0x2e1991=_0xdab3db(_0x1741e9),_0x4fc238=parseInt(_0x2256bb||'0');_0x4fc238=Math[_0x4366d1(0x47c)](_0x4fc238),_0x2e1991!==null?_0x3693d9=_0x2e1991[_0x4366d1(0x6f6)](_0x4366d1(0x4f9),{'minimumFractionDigits':_0x4fc238,'maximumFractionDigits':_0x4fc238}):(console[_0x4366d1(0x47b)](_0x4366d1(0x495)+_0x1741e9),_0x3693d9=null);break;case _0x4366d1(0x64d):let _0x12adc1=_0xdab3db(_0x1741e9);_0x12adc1!==null?_0x3693d9=_0x12adc1[_0x4366d1(0x6f6)](_0x4366d1(0x4f9),{'style':_0x4366d1(0x2b1),'currency':_0x4366d1(0x421)}):(console['warn'](_0x4366d1(0x4a4)+_0x1741e9),_0x3693d9=null);break;case _0x4366d1(0x730):_0x3693d9=_0x1741e9[_0x4366d1(0x41e)]();break;case _0x4366d1(0x721):_0x3693d9=_0x1741e9[_0x4366d1(0x2d9)]();break;case'capitalizedWords':_0x3693d9=_0x1741e9[_0x4366d1(0x210)]('\x20')[_0x4366d1(0x30e)](_0x40112a=>_0x40112a[_0x4366d1(0x70f)](0x0)[_0x4366d1(0x41e)]()+_0x40112a[_0x4366d1(0x6dd)](0x1)[_0x4366d1(0x2d9)]())[_0x4366d1(0x4c3)]('\x20');break;case _0x4366d1(0x1c1):_0x3693d9=_0x1741e9['trim']();break;default:_0x3693d9=_0x1741e9;}return _0x3693d9!==null?_0x3693d9[_0x4366d1(0x52a)]():null;}async[a0_0x2aad5a(0x692)](_0x5a508c,_0x227ee8){const _0x21ad75=a0_0x2aad5a;try{let _0x2682bd=_0x5a508c[_0x21ad75(0x2e0)]?.[_0x21ad75(0x19a)](_0xee2ade=>_0xee2ade[_0x21ad75(0x329)]===_0x227ee8['_id']?.[_0x21ad75(0x52a)]())||[],_0x4077ac=_0x227ee8[_0x21ad75(0x4e4)],_0x6bdaad=null,_0x1769a3=[],_0x3b0789=_0x5a508c[_0x21ad75(0x180)][_0x21ad75(0x476)][_0x4077ac];_0x1769a3['push'](_0x21ad75(0x742)+_0x3b0789+'\x22');for(let _0x1d9683 of _0x2682bd){_0x1d9683[_0x21ad75(0x172)]=_0x3b0789,_0x6bdaad=_0x1d9683[_0x21ad75(0x172)];let _0x13d4f7;try{_0x13d4f7=this['applyvaredit'](_0x5a508c,_0x1d9683);}catch(_0x1d46e9){console[_0x21ad75(0x5ee)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x1d46e9['message']);continue;}if(_0x13d4f7!==null){let _0x40915e=_0x21ad75(0x362)+_0x1d9683[_0x21ad75(0x316)]+'\x22',_0x4666f4=['toBRL',_0x21ad75(0x730),_0x21ad75(0x721),_0x21ad75(0x623),_0x21ad75(0x1c1)];_0x1d9683[_0x21ad75(0x316)]==='findAndReplace'||_0x1d9683[_0x21ad75(0x316)]===_0x21ad75(0x2bb)?_0x40915e+=_0x21ad75(0x1d8)+_0x1d9683[_0x21ad75(0x63f)]+_0x21ad75(0x5ab)+_0x1d9683[_0x21ad75(0x30d)]+'\x22':!_0x4666f4[_0x21ad75(0x5a9)](_0x1d9683[_0x21ad75(0x316)])&&_0x1d9683[_0x21ad75(0x63f)]!==null&&_0x1d9683[_0x21ad75(0x63f)]!==void 0x0&&(_0x40915e+=_0x21ad75(0x288)+_0x1d9683[_0x21ad75(0x63f)]+'\x22'),_0x40915e+=_0x21ad75(0x313)+_0x13d4f7+'.',_0x1769a3['push'](_0x40915e);}_0x13d4f7!==null&&(_0x3b0789=_0x13d4f7);}if(_0x5a508c[_0x21ad75(0x180)][_0x21ad75(0x476)]&&_0x227ee8[_0x21ad75(0x4e4)]){_0x5a508c['chatLog'][_0x21ad75(0x476)][_0x227ee8['saveVariable']]=_0x3b0789;let _0x2ca012={'variable':_0x227ee8['saveVariable'],'oldValue':_0x6bdaad,'newValue':_0x3b0789,'moreLogs':_0x1769a3};try{this[_0x21ad75(0x4e2)](_0x5a508c,_0x227ee8,_0x2ca012);}catch(_0x455074){console['error'](_0x21ad75(0x582)+_0x455074[_0x21ad75(0x23a)]);}}return _0x4077ac;}catch(_0x1225db){return console[_0x21ad75(0x5ee)](_0x21ad75(0x5a4)+_0x1225db[_0x21ad75(0x23a)]),null;}}async['processConditions'](_0x329896,_0x38cd6f){const _0x19db44=a0_0x2aad5a;try{let _0x9908e6=[],_0x3fe056=_0x329896[_0x19db44(0x353)][_0x19db44(0x19a)](_0x4c3f03=>_0x4c3f03[_0x19db44(0x329)]===_0x38cd6f[_0x19db44(0x2c1)][_0x19db44(0x52a)]()),_0x2fceed=null,_0x412045=!0x1;for(let _0x16d179 of _0x3fe056){let _0x2b5693=this['evaluateCondition'](_0x329896,_0x16d179);_0x9908e6[_0x19db44(0x338)](_0x19db44(0x4f7)+_0x16d179['firstValue']+_0x19db44(0x6c9)+_0x16d179[_0x19db44(0x66e)]+_0x19db44(0x3ad)+_0x16d179[_0x19db44(0x63f)]+_0x19db44(0x170)+_0x2b5693),_0x2fceed===null?_0x2fceed=_0x2b5693:_0x16d179['OrAnd']===_0x19db44(0x748)?(_0x2fceed=_0x2fceed&&_0x2b5693,_0x2b5693||(_0x412045=!0x0)):_0x16d179[_0x19db44(0x42a)]==='or'&&(_0x412045||(_0x2fceed=_0x2fceed||_0x2b5693));}_0x2fceed===null&&(_0x2fceed=!0x0);let _0x57d7dd={'moreLogs':_0x9908e6};_0x2fceed?(_0x329896['chatLog'][_0x19db44(0x545)]=!0x0,this[_0x19db44(0x4e2)](_0x329896,_0x38cd6f,_0x57d7dd)):(_0x329896['chatLog'][_0x19db44(0x545)]=!0x1,this[_0x19db44(0x4e2)](_0x329896,_0x38cd6f,_0x57d7dd));}catch(_0x1734fc){this['logger'][_0x19db44(0x5ee)](this[_0x19db44(0x3d1)]+'\x20('+this[_0x19db44(0x487)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+_0x1734fc);}}[a0_0x2aad5a(0x1f1)](_0x12998e,_0x5f51b3){const _0x49e1cc=a0_0x2aad5a;let _0x21b0c0=_0x5f51b3['firstValue'],_0x4a41fa=_0x5f51b3[_0x49e1cc(0x63f)];typeof _0x21b0c0=='string'&&(_0x21b0c0=this[_0x49e1cc(0x1b0)](_0x21b0c0,_0x12998e[_0x49e1cc(0x180)][_0x49e1cc(0x476)])??''),typeof _0x4a41fa==_0x49e1cc(0x1e7)&&(_0x4a41fa=this[_0x49e1cc(0x1b0)](_0x4a41fa,_0x12998e[_0x49e1cc(0x180)][_0x49e1cc(0x476)])??'');try{switch(_0x5f51b3[_0x49e1cc(0x66e)]){case _0x49e1cc(0x508):return _0x21b0c0===_0x4a41fa;case'notEqual':return _0x21b0c0!==_0x4a41fa;case _0x49e1cc(0x364):return _0x21b0c0[_0x49e1cc(0x5a9)](_0x4a41fa);case'notContains':return!_0x21b0c0[_0x49e1cc(0x5a9)](_0x4a41fa);case _0x49e1cc(0x505):return parseFloat(_0x21b0c0)>parseFloat(_0x4a41fa);case _0x49e1cc(0x2c3):return parseFloat(_0x21b0c0)<parseFloat(_0x4a41fa);case'notEmpty':return _0x21b0c0!=='';case _0x49e1cc(0x54d):return _0x21b0c0==='';case'matchRegex':return new RegExp(_0x4a41fa)[_0x49e1cc(0x72d)](_0x21b0c0);case'notMatchRegex':return!new RegExp(_0x4a41fa)['test'](_0x21b0c0);default:return!0x1;}}catch(_0x6846b9){return console[_0x49e1cc(0x5ee)](_0x49e1cc(0x3c0)+_0x6846b9),!0x1;}}[a0_0x2aad5a(0x44a)](_0x962d4b){const _0x4ede42=a0_0x2aad5a;let _0x402d51=!0x0,_0xb5577b=null;for(let _0x9484d3 of _0x962d4b){let _0xbc289c=this[_0x4ede42(0x289)](_0x9484d3);if(_0xb5577b==='or'&&_0xbc289c){_0x402d51=!0x0;break;}if(_0xb5577b===_0x4ede42(0x748)&&!_0xbc289c){_0x402d51=!0x1;break;}_0xb5577b=_0x9484d3[_0x4ede42(0x42a)];}return _0x402d51;}['evaluateConditionTest'](_0x4d9a13){const _0x3d19c0=a0_0x2aad5a;let _0x220071=_0x4d9a13[_0x3d19c0(0x172)],_0x2b9fbe=_0x4d9a13[_0x3d19c0(0x63f)];try{switch(_0x4d9a13[_0x3d19c0(0x66e)]){case _0x3d19c0(0x508):return String(_0x220071)===String(_0x2b9fbe);case _0x3d19c0(0x3fb):return String(_0x220071)!==String(_0x2b9fbe);case'contains':return String(_0x220071)[_0x3d19c0(0x5a9)](String(_0x2b9fbe));case _0x3d19c0(0x2a1):return!String(_0x220071)[_0x3d19c0(0x5a9)](String(_0x2b9fbe));case _0x3d19c0(0x505):return parseFloat(String(_0x220071))>parseFloat(String(_0x2b9fbe));case _0x3d19c0(0x2c3):return parseFloat(String(_0x220071))<parseFloat(String(_0x2b9fbe));case _0x3d19c0(0x4a9):return String(_0x220071)!=='';case _0x3d19c0(0x54d):return String(_0x220071)==='';case _0x3d19c0(0x1ef):return new RegExp(String(_0x2b9fbe))['test'](String(_0x220071));case _0x3d19c0(0x749):return!new RegExp(String(_0x2b9fbe))[_0x3d19c0(0x72d)](String(_0x220071));default:return!0x1;}}catch(_0x36272d){return console[_0x3d19c0(0x5ee)](_0x3d19c0(0x3c0)+_0x36272d),!0x1;}}async['saveTextReply'](_0x327ab0,_0x44132e){const _0x3a569c=a0_0x2aad5a;if(this[_0x3a569c(0x697)][_0x3a569c(0x69e)](this[_0x3a569c(0x3d1)]+'\x20('+this['instance'][_0x3a569c(0x743)]+_0x3a569c(0x1c4)),!_0x327ab0||!_0x44132e)return this[_0x3a569c(0x697)][_0x3a569c(0x5ee)](this['instanceName']+'\x20('+this[_0x3a569c(0x487)][_0x3a569c(0x743)]+_0x3a569c(0x201)),null;let _0x528fc8=_0x44132e['saveVariable'],_0xcbe1a9=_0x327ab0[_0x3a569c(0x180)][_0x3a569c(0x2b7)][_0x3a569c(0x410)]||_0x327ab0[_0x3a569c(0x180)]['lastReceivedMessage']['caption']||_0x327ab0['chatLog']['lastReceivedMessage']['vote'];try{_0x327ab0['chatLog'][_0x3a569c(0x476)]||(_0x327ab0[_0x3a569c(0x180)][_0x3a569c(0x476)]={});let _0x451b00=_0x327ab0[_0x3a569c(0x180)][_0x3a569c(0x476)][_0x528fc8];_0x327ab0[_0x3a569c(0x180)][_0x3a569c(0x476)][_0x528fc8]=_0xcbe1a9;let _0xe2343e={'variable':_0x528fc8,'oldValue':_0x451b00,'newValue':_0xcbe1a9};this['updateConversation'](_0x327ab0,_0x44132e,_0xe2343e),this['logger'][_0x3a569c(0x69e)](this[_0x3a569c(0x3d1)]+'\x20('+this['instance']['wuid']+_0x3a569c(0x57c));}catch(_0x42838d){let _0x51db6e={'error':!0x0,'errorLog':_0x42838d[_0x3a569c(0x52a)]()};return this['updateConversation'](_0x327ab0,_0x44132e,_0x51db6e),this[_0x3a569c(0x697)][_0x3a569c(0x5ee)](this[_0x3a569c(0x3d1)]+'\x20('+this[_0x3a569c(0x487)][_0x3a569c(0x743)]+_0x3a569c(0x459)+_0x42838d[_0x3a569c(0x23a)]),null;}}async[a0_0x2aad5a(0x238)](_0x26f421,_0x2cd624){const _0x2c7f55=a0_0x2aad5a;if(this[_0x2c7f55(0x697)]['verbose'](this[_0x2c7f55(0x3d1)]+'\x20('+this[_0x2c7f55(0x487)][_0x2c7f55(0x743)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x26f421||!_0x2cd624)return this['logger'][_0x2c7f55(0x5ee)](this[_0x2c7f55(0x3d1)]+'\x20('+this[_0x2c7f55(0x487)][_0x2c7f55(0x743)]+_0x2c7f55(0x201)),null;let _0x2d4b5f=Date[_0x2c7f55(0x463)](),_0xdfe46=parseInt(_0x2cd624[_0x2c7f55(0x6cb)],0xa);if(isNaN(_0xdfe46))return this[_0x2c7f55(0x697)][_0x2c7f55(0x5ee)](this['instanceName']+'\x20('+this['instance'][_0x2c7f55(0x743)]+_0x2c7f55(0x477)),null;let _0x311896={'newStoppedUntil':_0x2d4b5f+_0xdfe46*0x3c*0x3e8};return await this[_0x2c7f55(0x4e2)](_0x26f421,_0x2cd624,_0x311896,!0x0),null;}async[a0_0x2aad5a(0x3f7)](_0x22ce0b,_0x506ffa,_0x32e2a8){const _0x5e967b=a0_0x2aad5a;try{switch(_0x506ffa[_0x5e967b(0x20c)][_0x5e967b(0x472)]){case _0x5e967b(0x3d9):await this[_0x5e967b(0x45a)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case _0x5e967b(0x5e5):await this[_0x5e967b(0x6b6)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case _0x5e967b(0x73b):await this[_0x5e967b(0x2d5)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case _0x5e967b(0x3a5):await this[_0x5e967b(0x511)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case'sendContact':await this[_0x5e967b(0x43d)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case _0x5e967b(0x2d1):await this[_0x5e967b(0x178)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;case'deleteMessage':await this[_0x5e967b(0x600)](_0x22ce0b,_0x506ffa,_0x32e2a8);break;default:this[_0x5e967b(0x697)][_0x5e967b(0x5ee)](this[_0x5e967b(0x3d1)]+'\x20('+this['instance']['wuid']+_0x5e967b(0x216)+_0x506ffa[_0x5e967b(0x20c)][_0x5e967b(0x472)]);}}catch(_0x59648b){this[_0x5e967b(0x697)]['error'](this[_0x5e967b(0x3d1)]+'\x20('+this[_0x5e967b(0x487)][_0x5e967b(0x743)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x59648b);}}async[a0_0x2aad5a(0x4e2)](_0x2494f1,_0x36d05f,_0x4b882d,_0x5ccd32=!0x1,_0x44827d=!0x1){const _0xe7f5c3=a0_0x2aad5a;_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x575)]||(_0x2494f1['chatLog']['blockLogs']=[]);let _0x3d6fc7=(_0x2494f1[_0xe7f5c3(0x180)]['blockLogs']?.[_0xe7f5c3(0x24d)]??0x0)+0x1,_0x7e53e9=_0x2494f1['chatLog'][_0xe7f5c3(0x575)][_0xe7f5c3(0x19a)](_0x16be54=>String(_0x16be54['blockId'])===String(_0x36d05f[_0xe7f5c3(0x2c1)]))[_0xe7f5c3(0x24d)]+0x1,_0xbb0c3e=_0x4b882d?.[_0xe7f5c3(0x5c4)]??Date[_0xe7f5c3(0x463)](),_0x475545=_0x4b882d?.[_0xe7f5c3(0x5ee)]?_0x4b882d['errorLog']??_0x4b882d['error'][_0xe7f5c3(0x52a)]():void 0x0,_0x3f1587={'onTime':_0xbb0c3e,'blockId':_0x36d05f[_0xe7f5c3(0x2c1)],'order':_0x3d6fc7,'activatedCount':_0x7e53e9,'error':_0x4b882d?.[_0xe7f5c3(0x5ee)]??!0x1,'messageId':_0x4b882d?.[_0xe7f5c3(0x241)],'apiResponse':_0x4b882d?.[_0xe7f5c3(0x734)],'apiResponseString':_0x4b882d?.[_0xe7f5c3(0x734)]?JSON[_0xe7f5c3(0x318)](_0x4b882d?.[_0xe7f5c3(0x734)]):void 0x0,'variable':_0x4b882d?.[_0xe7f5c3(0x52c)],'oldValue':_0x4b882d?.[_0xe7f5c3(0x622)],'newValue':_0x4b882d?.[_0xe7f5c3(0x381)],'newStoppedUntil':_0x4b882d?.[_0xe7f5c3(0x23c)],'moreLogs':_0x4b882d?.['moreLogs'],'errorLog':_0x475545};if(_0x4b882d[_0xe7f5c3(0x3bc)]&&_0x4b882d[_0xe7f5c3(0x3bc)][_0xe7f5c3(0x24d)]>0x0){let _0x485882=_0x4b882d[_0xe7f5c3(0x3bc)]['map'](_0x5dca8a=>this[_0xe7f5c3(0x1dc)](_0x5dca8a,_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x476)]));_0x3f1587[_0xe7f5c3(0x3bc)]=_0x485882;}_0x2494f1['chatLog'][_0xe7f5c3(0x476)]||(_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x476)]={}),_0x2494f1['chatLog'][_0xe7f5c3(0x476)]['_activatedCount']=String(_0x7e53e9),_0x2494f1[_0xe7f5c3(0x180)]['realVariables'][_0xe7f5c3(0x35c)]=String(_0x4b882d['error']??!0x1),_0x2494f1[_0xe7f5c3(0x180)]['blockLogs'][_0xe7f5c3(0x338)](_0x3f1587),_0x2494f1[_0xe7f5c3(0x180)]['lastBlockId']=_0x36d05f[_0xe7f5c3(0x2c1)][_0xe7f5c3(0x52a)](),_0x2494f1['chatLog'][_0xe7f5c3(0x4c1)]&&(_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x4c1)]=_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x4c1)]),_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x2b7)]&&(_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x2b7)]=_0x2494f1['chatLog']['lastReceivedMessage']),_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x545)]&&(_0x2494f1['chatLog'][_0xe7f5c3(0x545)]=_0x2494f1[_0xe7f5c3(0x180)][_0xe7f5c3(0x545)]),_0x44827d&&(_0x2494f1[_0xe7f5c3(0x1a9)]=_0xe7f5c3(0x414)),_0x5ccd32?this[_0xe7f5c3(0x681)](_0x2494f1):this['goNextblock'](_0x2494f1,_0x36d05f);}[a0_0x2aad5a(0x1dc)](_0x2970f2,_0x5777aa){const _0x47db37=a0_0x2aad5a;return _0x2970f2[_0x47db37(0x436)](/\{\{([^}]+)\}\}/g,(_0x4b699e,_0x249bef)=>_0x5777aa[_0x249bef]?'{{'+_0x249bef+'}}\x20->\x20\x22'+_0x5777aa[_0x249bef]+'\x22':'{{'+_0x249bef+_0x47db37(0x6ce));}async[a0_0x2aad5a(0x681)](_0x305e8){const _0x1ca6e6=a0_0x2aad5a;try{let _0x53c278=Object[_0x1ca6e6(0x268)](_0x305e8['chatLog'][_0x1ca6e6(0x476)])['map'](([_0x2806da,_0x31bb03])=>({'name':_0x2806da,'value':_0x31bb03})),_0x3dc37b=await F[_0x1ca6e6(0x363)]({'_id':_0x305e8[_0x1ca6e6(0x2c1)]},{'$set':{'chatLog.lastBlockId':_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x17c)],'blocks':_0x305e8['blocks'],'chatLog.lastSendMessage':_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x4c1)],'chatLog.lastReceivedMessage':_0x305e8['chatLog'][_0x1ca6e6(0x2b7)],'chatLog.lastCondition':_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x545)],'chatLog.chatVariables':_0x53c278,'chatLog.realVariables':_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x476)],'status':_0x305e8[_0x1ca6e6(0x1a9)],'chatLog.blockLogs':_0x305e8['chatLog'][_0x1ca6e6(0x575)],'waitingPoll_id':_0x305e8['waitingPoll_id'],'waitingPoll_name':_0x305e8['waitingPoll_name'],'waitingPoll_replyOptions':_0x305e8['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x3dc37b){this[_0x1ca6e6(0x697)][_0x1ca6e6(0x69e)](this[_0x1ca6e6(0x3d1)]+'\x20('+this['instance'][_0x1ca6e6(0x743)]+_0x1ca6e6(0x75a)+_0x3dc37b[_0x1ca6e6(0x2c1)]);try{let _0x233f32=[_0x1ca6e6(0x62d),_0x1ca6e6(0x589),'email','cpf',_0x1ca6e6(0x1a9),_0x1ca6e6(0x31f),_0x1ca6e6(0x565),_0x1ca6e6(0x249)];if(!this[_0x1ca6e6(0x17e)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x1ca6e6(0x2cd));let _0x550c1e=this['AutomateSystem']?.[_0x1ca6e6(0x24a)][_0x1ca6e6(0x30e)](_0x4481ef=>_0x4481ef['name']),_0x26ea9b={};Object['entries'](_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x476)])[_0x1ca6e6(0x44d)](([_0x19835e,_0x2f3007])=>{const _0xc1e2bd=_0x1ca6e6;_0x233f32[_0xc1e2bd(0x5a9)](_0x19835e)&&(_0x19835e==='tags'&&typeof _0x2f3007=='string'?_0x26ea9b[_0x19835e]=_0x2f3007[_0xc1e2bd(0x210)](',')[_0xc1e2bd(0x30e)](_0x41a830=>_0x41a830['trim']())[_0xc1e2bd(0x19a)](_0x534deb=>_0x534deb!==''):_0x26ea9b[_0x19835e]=_0x2f3007);});let _0x3c3da5=_0x305e8[_0x1ca6e6(0x180)]['blockLogs'][_0x305e8[_0x1ca6e6(0x180)][_0x1ca6e6(0x575)][_0x1ca6e6(0x24d)]-0x1];if(_0x3c3da5){let _0x375d2c=_0x3c3da5['newStoppedUntil'];_0x375d2c!==void 0x0&&(_0x26ea9b['desativadoFluxoAte']=_0x375d2c['toString']());}let _0x64addb=_0x53c278['filter'](_0x2d48a8=>_0x550c1e[_0x1ca6e6(0x5a9)](_0x2d48a8[_0x1ca6e6(0x72c)]));this['logger'][_0x1ca6e6(0x69e)](this[_0x1ca6e6(0x3d1)]+'\x20('+this[_0x1ca6e6(0x487)][_0x1ca6e6(0x743)]+_0x1ca6e6(0x540)),this[_0x1ca6e6(0x697)][_0x1ca6e6(0x69e)](_0x26ea9b),this[_0x1ca6e6(0x697)][_0x1ca6e6(0x69e)](this['instanceName']+'\x20('+this[_0x1ca6e6(0x487)][_0x1ca6e6(0x743)]+_0x1ca6e6(0x4ed)),this[_0x1ca6e6(0x697)]['verbose'](_0x64addb);let _0x266058=_0x64addb['map'](_0x20efb5=>{const _0x1d8933=_0x1ca6e6;let _0xe69c92=this[_0x1d8933(0x17e)]?.['customFields'][_0x1d8933(0x2f0)](_0x40cc2a=>_0x40cc2a[_0x1d8933(0x72c)]===_0x20efb5[_0x1d8933(0x72c)]);if(!_0xe69c92)throw new Error(_0x1d8933(0x5f9)+_0x20efb5['name']);return{'_id':_0xe69c92[_0x1d8933(0x2c1)],'value':_0x20efb5['value']};});this[_0x1ca6e6(0x697)]['verbose'](this[_0x1ca6e6(0x3d1)]+'\x20('+this['instance'][_0x1ca6e6(0x743)]+_0x1ca6e6(0x654)),this['logger'][_0x1ca6e6(0x69e)](_0x266058),await this[_0x1ca6e6(0x611)](_0x305e8[_0x1ca6e6(0x261)],_0x26ea9b,_0x266058);}catch(_0x4e2191){this[_0x1ca6e6(0x697)]['error'](this[_0x1ca6e6(0x3d1)]+'\x20('+this[_0x1ca6e6(0x487)][_0x1ca6e6(0x743)]+_0x1ca6e6(0x706)+JSON[_0x1ca6e6(0x318)](_0x4e2191));}}else this[_0x1ca6e6(0x697)][_0x1ca6e6(0x5ee)](this['instanceName']+'\x20('+this[_0x1ca6e6(0x487)][_0x1ca6e6(0x743)]+_0x1ca6e6(0x219));}catch(_0x5c9f30){this['logger'][_0x1ca6e6(0x5ee)](this[_0x1ca6e6(0x3d1)]+'\x20('+this[_0x1ca6e6(0x487)][_0x1ca6e6(0x743)]+_0x1ca6e6(0x46f)+JSON['stringify'](_0x5c9f30));}}async[a0_0x2aad5a(0x611)](_0x49e8ee,_0x834fab,_0x3c17fc){const _0x2ddbeb=a0_0x2aad5a;try{let _0x2e5985={'leadInfo.leadnome':_0x834fab[_0x2ddbeb(0x62d)],'leadInfo.nomecompleto':_0x834fab[_0x2ddbeb(0x589)],'leadInfo.email':_0x834fab[_0x2ddbeb(0x75c)],'leadInfo.cpf':_0x834fab['cpf'],'leadInfo.status':_0x834fab[_0x2ddbeb(0x1a9)],'leadInfo.notas':_0x834fab[_0x2ddbeb(0x31f)],'leadInfo.responsavelid':_0x834fab[_0x2ddbeb(0x565)],'leadInfo.tags':_0x834fab[_0x2ddbeb(0x249)],'leadInfo.customFields':_0x3c17fc};if(_0x2ddbeb(0x435)in _0x834fab){let _0x45f3de=_0x834fab['desativadoFluxoAte'];_0x2e5985[_0x2ddbeb(0x544)]=_0x45f3de?Number(_0x45f3de):null;}let _0x161cee=await I[_0x2ddbeb(0x363)]({'id':_0x49e8ee,'owner':this[_0x2ddbeb(0x487)]['wuid']},{'$set':_0x2e5985},{'new':!0x0,'upsert':!0x0});_0x161cee?(this[_0x2ddbeb(0x697)][_0x2ddbeb(0x69e)](this[_0x2ddbeb(0x3d1)]+'\x20('+this['instance'][_0x2ddbeb(0x743)]+_0x2ddbeb(0x339)+_0x161cee[_0x2ddbeb(0x2c1)]),G(this['instanceName'],'chats',{'chat':_0x161cee})):this[_0x2ddbeb(0x697)][_0x2ddbeb(0x5ee)](this['instanceName']+'\x20('+this['instance'][_0x2ddbeb(0x743)]+_0x2ddbeb(0x635));}catch(_0x307bef){this[_0x2ddbeb(0x697)][_0x2ddbeb(0x5ee)](this[_0x2ddbeb(0x3d1)]+'\x20('+this['instance']['wuid']+_0x2ddbeb(0x446)+_0x307bef);}}async[a0_0x2aad5a(0x214)](_0x4be49b,_0x132e3a){const _0x4cd54e=a0_0x2aad5a;this[_0x4cd54e(0x697)][_0x4cd54e(0x69e)](this[_0x4cd54e(0x3d1)]+'\x20('+this[_0x4cd54e(0x487)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x132e3a);try{let _0x5a930f=await I[_0x4cd54e(0x363)]({'id':_0x4be49b[_0x4cd54e(0x261)],'owner':_0x4be49b[_0x4cd54e(0x458)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x132e3a}},{'new':!0x0});this['logger']['verbose'](this[_0x4cd54e(0x3d1)]+'\x20('+this[_0x4cd54e(0x487)][_0x4cd54e(0x743)]+_0x4cd54e(0x2be)+_0x4be49b[_0x4cd54e(0x2c1)]),this['logger'][_0x4cd54e(0x69e)](this[_0x4cd54e(0x3d1)]+'\x20('+this[_0x4cd54e(0x487)][_0x4cd54e(0x743)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x5a930f,null,0x2)),_0x5a930f&&G(this[_0x4cd54e(0x3d1)],_0x4cd54e(0x3ea),{'chat':_0x5a930f});}catch(_0x5c8c48){this[_0x4cd54e(0x697)][_0x4cd54e(0x5ee)](this[_0x4cd54e(0x3d1)]+'\x20('+this[_0x4cd54e(0x487)][_0x4cd54e(0x743)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x4cd54e(0x318)](_0x5c8c48));}}async[a0_0x2aad5a(0x6ec)](_0x430f30,_0x210069){const _0x89a849=a0_0x2aad5a;try{this[_0x89a849(0x697)]['verbose'](this[_0x89a849(0x3d1)]+'\x20('+this['instance'][_0x89a849(0x743)]+_0x89a849(0x234));let _0x1d58d5=_0x210069[_0x89a849(0x436)](/\D/g,''),_0x22741b=await D[_0x89a849(0x538)]({'owner':_0x430f30,'testingWith':_0x1d58d5});return _0x22741b||(this[_0x89a849(0x697)][_0x89a849(0x69e)](this[_0x89a849(0x3d1)]+'\x20('+this[_0x89a849(0x487)][_0x89a849(0x743)]+_0x89a849(0x4f8)),_0x22741b=await D[_0x89a849(0x538)]({'owner':_0x430f30,'default':!0x0})),_0x22741b||(this[_0x89a849(0x697)][_0x89a849(0x69e)](this[_0x89a849(0x3d1)]+'\x20('+this[_0x89a849(0x487)][_0x89a849(0x743)]+_0x89a849(0x360)),null);}catch(_0x3af2c5){return this[_0x89a849(0x697)]['error'](this[_0x89a849(0x3d1)]+'\x20('+this['instance']['wuid']+_0x89a849(0x215)+_0x3af2c5),null;}}async[a0_0x2aad5a(0x482)](_0x11aba3,_0xb7237f,_0xa81e0b){const _0x5a446a=a0_0x2aad5a;try{let _0x30abeb=!!_0xa81e0b[_0x5a446a(0x5fd)],_0x145f1c=_0xa81e0b[_0x5a446a(0x57b)],_0x3c9b15=null;if(this[_0x5a446a(0x697)]['verbose'](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)]['wuid']+_0x5a446a(0x39e)+_0x30abeb+_0x5a446a(0x57b)+_0x145f1c),_0x30abeb)return this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x374)),_0x3c9b15=await F[_0x5a446a(0x538)]({'owner':_0x11aba3,'remoteJid':_0xb7237f,'waitingPoll_id':_0x145f1c}),_0x3c9b15?(_0x3c9b15[_0x5a446a(0x5cf)]=Date[_0x5a446a(0x463)](),_0x3c9b15[_0x5a446a(0x180)]['lastReceivedMessage']=_0xa81e0b,_0x3c9b15):(this[_0x5a446a(0x697)]['verbose'](this['instanceName']+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x1cf)),null);{if(this['logger'][_0x5a446a(0x69e)](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x5d3)+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x3c5)),this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)]['wuid']+_0x5a446a(0x16b)),_0x3c9b15=await F[_0x5a446a(0x538)]({'owner':_0x11aba3,'remoteJid':_0xb7237f,'status':_0x5a446a(0x40f)}),!_0x3c9b15){let _0x362e53=await this[_0x5a446a(0x6ec)](_0x11aba3,_0xb7237f);if(_0x362e53&&(_0x3c9b15=await this['createNewConversation'](_0x362e53,_0xa81e0b[_0x5a446a(0x655)],_0xa81e0b)),!_0x3c9b15)return null;}let _0x508f5d=Date[_0x5a446a(0x463)](),_0x967f80=_0x3c9b15?.[_0x5a446a(0x584)]||0x0,_0x87474=_0x508f5d-_0x967f80*0x3c*0x3e8;if(this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this['instanceName']+'\x20('+this['instance'][_0x5a446a(0x743)]+_0x5a446a(0x717)+_0x508f5d+',\x20Minutes\x20to\x20Close:\x20'+_0x967f80+_0x5a446a(0x6ff)+_0x87474),this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x4e7)),this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x57d)+_0x3c9b15[_0x5a446a(0x5cf)]),this[_0x5a446a(0x697)]['verbose'](this[_0x5a446a(0x3d1)]+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+'):\x20expirationTime:\x20'+_0x87474),_0x3c9b15[_0x5a446a(0x5cf)]<_0x87474){this[_0x5a446a(0x697)][_0x5a446a(0x69e)](this['instanceName']+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x6ab));let _0x1556c5=await this[_0x5a446a(0x6ec)](_0x11aba3,_0xb7237f);if(_0x1556c5===null)return null;_0x3c9b15&&await F['updateOne']({'_id':_0x3c9b15[_0x5a446a(0x2c1)]},{'status':'closed'}),_0x3c9b15=await this[_0x5a446a(0x759)](_0x1556c5,_0xa81e0b[_0x5a446a(0x655)],_0xa81e0b);}return _0x3c9b15[_0x5a446a(0x5cf)]=_0x508f5d,_0x3c9b15[_0x5a446a(0x180)][_0x5a446a(0x2b7)]=_0xa81e0b,_0x3c9b15;}}catch(_0x4660da){return this[_0x5a446a(0x697)][_0x5a446a(0x5ee)](this['instanceName']+'\x20('+this[_0x5a446a(0x487)][_0x5a446a(0x743)]+_0x5a446a(0x5db)+_0x4660da),null;}}async['createNewConversation'](_0x3d60e2,_0x3ad18f,_0xf32074){const _0x12373c=a0_0x2aad5a;this[_0x12373c(0x697)][_0x12373c(0x69e)](this[_0x12373c(0x3d1)]+'\x20('+this[_0x12373c(0x487)][_0x12373c(0x743)]+_0x12373c(0x1f4));try{let _0x3141de=require(_0x12373c(0x45b))[_0x12373c(0x571)],_0x398896=Date['now'](),_0xdbdc76=_0x12373c(0x255),_0x250d77=_0x3ad18f[_0x12373c(0x5e4)]?null:_0xf32074,_0x2ba7a8=_0x3ad18f['fromMe']?_0xf32074:null,_0xfe0298=_0x3ad18f[_0x12373c(0x261)];await this['closeExistingConversations'](_0xfe0298);let _0x19b08e={..._0x3d60e2[_0x12373c(0x335)],'chatLog':null},_0x48e77a=await this[_0x12373c(0x593)](_0x19b08e[_0x12373c(0x57f)]),_0x31ab44=await this['getVariablesChat'](_0xfe0298),_0x599c31={..._0x48e77a,..._0x31ab44,'_remoteJid':_0xfe0298},_0xb47282={'lastReceivedMessage':_0x250d77,'lastSendMessage':_0x2ba7a8,'lastBlockId':_0xdbdc76,'lastCondition':!0x0,'realVariables':_0x599c31};_0x19b08e[_0x12373c(0x180)]=_0xb47282,delete _0x19b08e[_0x12373c(0x2c1)],_0x19b08e[_0x12373c(0x2c1)]=new _0x3141de(),_0x19b08e[_0x12373c(0x5cf)]=_0x398896,_0x19b08e['status']=_0x12373c(0x40f),_0x19b08e[_0x12373c(0x261)]=_0xfe0298;let _0x286a86=await F[_0x12373c(0x6c2)](_0x19b08e);return this[_0x12373c(0x697)][_0x12373c(0x69e)](this[_0x12373c(0x3d1)]+'\x20('+this['instance']['wuid']+_0x12373c(0x5bd)),_0x286a86?_0x19b08e:null;}catch(_0x2fc412){return this[_0x12373c(0x697)][_0x12373c(0x5ee)](this[_0x12373c(0x3d1)]+'\x20('+this[_0x12373c(0x487)][_0x12373c(0x743)]+_0x12373c(0x321)+_0x2fc412),_0x2fc412;}}async[a0_0x2aad5a(0x45a)](_0x1f3f98,_0xcf4c01,_0x45a9d2){const _0x5e50d8=a0_0x2aad5a;this['logger'][_0x5e50d8(0x69e)](this[_0x5e50d8(0x3d1)]+'\x20('+this[_0x5e50d8(0x487)]['wuid']+'):\x20Enviando\x20texto');let _0x48f757={'number':_0x45a9d2,'options':{'delay':_0xcf4c01[_0x5e50d8(0x20c)][_0x5e50d8(0x5af)]},'textMessage':{'text':_0xcf4c01[_0x5e50d8(0x20c)][_0x5e50d8(0x410)]}};try{let _0x1c5676=await this[_0x5e50d8(0x4b8)](_0x48f757);if(_0x1c5676){let _0x3addd0={'_id':_0x1c5676[_0x5e50d8(0x655)]['id'],'_fromMe':_0x1c5676[_0x5e50d8(0x655)][_0x5e50d8(0x5e4)],'_remoteJid':_0x1c5676['key'][_0x5e50d8(0x261)]};_0x1f3f98['chatLog']['lastBlockId']=_0xcf4c01[_0x5e50d8(0x2c1)][_0x5e50d8(0x52a)]();let {message_normalized:_0x2cdf04}=this[_0x5e50d8(0x18d)](_0x1c5676['message'],W(_0x1c5676['message']),null);_0x1f3f98[_0x5e50d8(0x180)][_0x5e50d8(0x4c1)]=await _0x2cdf04;let _0x1f46f2={'messageId':_0x1c5676[_0x5e50d8(0x655)]['id']},_0x1fcb88=_0x1f3f98[_0x5e50d8(0x180)][_0x5e50d8(0x476)];Object[_0x5e50d8(0x1ed)](_0x1fcb88,_0x3addd0),_0x1f3f98['chatLog'][_0x5e50d8(0x476)]=_0x1fcb88,this[_0x5e50d8(0x4e2)](_0x1f3f98,_0xcf4c01,_0x1f46f2);}else{let _0x15ff26={'error':!0x0};this['updateConversation'](_0x1f3f98,_0xcf4c01,_0x15ff26),this[_0x5e50d8(0x697)]['error'](this[_0x5e50d8(0x3d1)]+'\x20('+this[_0x5e50d8(0x487)][_0x5e50d8(0x743)]+_0x5e50d8(0x1f7));}}catch(_0x1b5ef7){let _0x3f730d={'error':!0x0,'errorLog':_0x1b5ef7[_0x5e50d8(0x52a)]()};this[_0x5e50d8(0x4e2)](_0x1f3f98,_0xcf4c01,_0x3f730d),this['logger']['error'](this[_0x5e50d8(0x3d1)]+'\x20('+this[_0x5e50d8(0x487)][_0x5e50d8(0x743)]+_0x5e50d8(0x656)+_0x1b5ef7[_0x5e50d8(0x52a)]());}}async['uazapiSendMedia'](_0x1753b0,_0x56a7f4,_0x2c9dc7){const _0x366df1=a0_0x2aad5a;this[_0x366df1(0x697)][_0x366df1(0x69e)](this[_0x366df1(0x3d1)]+'\x20('+this[_0x366df1(0x487)]['wuid']+_0x366df1(0x415));let _0x1f5400={'number':_0x2c9dc7,'options':{'delay':_0x56a7f4[_0x366df1(0x20c)][_0x366df1(0x5af)]},'mediaMessage':{'mediatype':_0x56a7f4['uazapi'][_0x366df1(0x69f)],'caption':_0x56a7f4[_0x366df1(0x20c)]['caption'],'media':_0x56a7f4['uazapi']['media']}};try{let _0x234063=await this['mediaMessage'](_0x1f5400);if(_0x234063){let _0x5ba3a8={'_id':_0x234063[_0x366df1(0x655)]['id'],'_fromMe':_0x234063['key'][_0x366df1(0x5e4)],'_remoteJid':_0x234063[_0x366df1(0x655)][_0x366df1(0x261)]};_0x1753b0[_0x366df1(0x180)][_0x366df1(0x17c)]=_0x56a7f4['_id'][_0x366df1(0x52a)]();let {message_normalized:_0x4769ca}=this['normalizeMessage'](_0x234063[_0x366df1(0x23a)],W(_0x234063[_0x366df1(0x23a)]),null);_0x1753b0['chatLog'][_0x366df1(0x4c1)]=await _0x4769ca;let _0x11cd64={'messageId':_0x234063[_0x366df1(0x655)]['id']},_0x32be2b=_0x1753b0[_0x366df1(0x180)]['realVariables'];Object[_0x366df1(0x1ed)](_0x32be2b,_0x5ba3a8),_0x1753b0[_0x366df1(0x180)][_0x366df1(0x476)]=_0x32be2b,this[_0x366df1(0x4e2)](_0x1753b0,_0x56a7f4,_0x11cd64);}else{let _0xbc6db3={'error':!0x0};this[_0x366df1(0x4e2)](_0x1753b0,_0x56a7f4,_0xbc6db3),this[_0x366df1(0x697)][_0x366df1(0x5ee)](this[_0x366df1(0x3d1)]+'\x20('+this[_0x366df1(0x487)][_0x366df1(0x743)]+_0x366df1(0x392));}}catch(_0x111b84){let _0x301b44={'error':!0x0,'errorLog':_0x111b84['toString']()};this[_0x366df1(0x4e2)](_0x1753b0,_0x56a7f4,_0x301b44),this[_0x366df1(0x697)][_0x366df1(0x5ee)](this[_0x366df1(0x3d1)]+'\x20('+this[_0x366df1(0x487)][_0x366df1(0x743)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x111b84['toString']());}}async['uazapiSendLocation'](_0x2fa3b2,_0x467a06,_0x45ca7b){const _0x151feb=a0_0x2aad5a;this['logger'][_0x151feb(0x69e)](this[_0x151feb(0x3d1)]+'\x20('+this[_0x151feb(0x487)][_0x151feb(0x743)]+_0x151feb(0x5ce));let _0x883a85={'number':_0x45ca7b,'options':{'delay':_0x467a06[_0x151feb(0x20c)][_0x151feb(0x5af)]},'locationMessage':{'name':_0x467a06[_0x151feb(0x20c)][_0x151feb(0x72c)],'address':_0x467a06[_0x151feb(0x20c)][_0x151feb(0x267)],'latitude':_0x467a06['uazapi'][_0x151feb(0x1bc)],'longitude':_0x467a06[_0x151feb(0x20c)][_0x151feb(0x306)]}};try{let _0x2f26d8=await this['locationMessage'](_0x883a85);if(_0x2f26d8){let _0xeb5e2f={'_id':_0x2f26d8['key']['id'],'_fromMe':_0x2f26d8[_0x151feb(0x655)][_0x151feb(0x5e4)],'_remoteJid':_0x2f26d8[_0x151feb(0x655)][_0x151feb(0x261)]};_0x2fa3b2[_0x151feb(0x180)][_0x151feb(0x17c)]=_0x467a06['_id']['toString']();let {message_normalized:_0x367bb8}=this[_0x151feb(0x18d)](_0x2f26d8[_0x151feb(0x23a)],W(_0x2f26d8[_0x151feb(0x23a)]),null);_0x2fa3b2['chatLog'][_0x151feb(0x4c1)]=await _0x367bb8;let _0x355454={'messageId':_0x2f26d8[_0x151feb(0x655)]['id']},_0x2caaf2=_0x2fa3b2[_0x151feb(0x180)][_0x151feb(0x476)];Object[_0x151feb(0x1ed)](_0x2caaf2,_0xeb5e2f),_0x2fa3b2[_0x151feb(0x180)][_0x151feb(0x476)]=_0x2caaf2,this[_0x151feb(0x4e2)](_0x2fa3b2,_0x467a06,_0x355454);}else{let _0xed6b0d={'error':!0x0};this[_0x151feb(0x4e2)](_0x2fa3b2,_0x467a06,_0xed6b0d),this[_0x151feb(0x697)][_0x151feb(0x5ee)](this['instanceName']+'\x20('+this[_0x151feb(0x487)][_0x151feb(0x743)]+_0x151feb(0x2a7));}}catch(_0x25a7c9){let _0x1bf7e0={'error':!0x0,'errorLog':_0x25a7c9[_0x151feb(0x52a)]()};this[_0x151feb(0x4e2)](_0x2fa3b2,_0x467a06,_0x1bf7e0),this[_0x151feb(0x697)]['error'](this[_0x151feb(0x3d1)]+'\x20('+this[_0x151feb(0x487)][_0x151feb(0x743)]+_0x151feb(0x333)+_0x25a7c9[_0x151feb(0x52a)]());}}async[a0_0x2aad5a(0x511)](_0x1447fd,_0x283b51,_0x548c08){const _0x324700=a0_0x2aad5a;this[_0x324700(0x697)]['verbose'](this[_0x324700(0x3d1)]+'\x20('+this[_0x324700(0x487)][_0x324700(0x743)]+_0x324700(0x62a));let _0x1dd0fc={'number':_0x548c08,'options':{'delay':_0x283b51['uazapi']['delay']},'audioMessage':{'audio':_0x283b51[_0x324700(0x20c)]['audio']}};try{let _0x507dd0=await this[_0x324700(0x2fb)](_0x1dd0fc);if(_0x507dd0){let _0x412bd4={'_id':_0x507dd0[_0x324700(0x655)]['id'],'_fromMe':_0x507dd0[_0x324700(0x655)][_0x324700(0x5e4)],'_remoteJid':_0x507dd0[_0x324700(0x655)][_0x324700(0x261)]};_0x1447fd[_0x324700(0x180)][_0x324700(0x17c)]=_0x283b51[_0x324700(0x2c1)][_0x324700(0x52a)]();let {message_normalized:_0x1074d0}=this[_0x324700(0x18d)](_0x507dd0[_0x324700(0x23a)],W(_0x507dd0[_0x324700(0x23a)]),null);_0x1447fd['chatLog'][_0x324700(0x4c1)]=await _0x1074d0;let _0xabacc8={'messageId':_0x507dd0[_0x324700(0x655)]['id']},_0x29d802=_0x1447fd[_0x324700(0x180)][_0x324700(0x476)];Object[_0x324700(0x1ed)](_0x29d802,_0x412bd4),_0x1447fd[_0x324700(0x180)]['realVariables']=_0x29d802,this[_0x324700(0x4e2)](_0x1447fd,_0x283b51,_0xabacc8);}else{let _0x116ae4={'error':!0x0};this[_0x324700(0x4e2)](_0x1447fd,_0x283b51,_0x116ae4),this[_0x324700(0x697)][_0x324700(0x5ee)](this[_0x324700(0x3d1)]+'\x20('+this[_0x324700(0x487)]['wuid']+_0x324700(0x4d7));}}catch(_0x3c7702){let _0x5bcacd={'error':!0x0,'errorLog':_0x3c7702[_0x324700(0x52a)]()};this[_0x324700(0x4e2)](_0x1447fd,_0x283b51,_0x5bcacd),this[_0x324700(0x697)][_0x324700(0x5ee)](this['instanceName']+'\x20('+this['instance'][_0x324700(0x743)]+_0x324700(0x733)+_0x3c7702[_0x324700(0x52a)]());}}async['uazapiSendContact'](_0x1a4e4e,_0x51ef35,_0x27ed20){const _0xcc84de=a0_0x2aad5a;this[_0xcc84de(0x697)][_0xcc84de(0x69e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcc84de(0x6fb));let _0x2f9c1a={'number':_0x27ed20,'options':{'delay':_0x51ef35[_0xcc84de(0x20c)]['delay']},'contactMessage':[{'fullName':_0x51ef35[_0xcc84de(0x20c)]['fullName'],'phoneNumber':_0x51ef35['uazapi']['phoneNumber']}]};try{let _0x2c6766=await this[_0xcc84de(0x2c6)](_0x2f9c1a);if(_0x2c6766){let _0x27b587={'_id':_0x2c6766[_0xcc84de(0x655)]['id'],'_fromMe':_0x2c6766[_0xcc84de(0x655)][_0xcc84de(0x5e4)],'_remoteJid':_0x2c6766[_0xcc84de(0x655)][_0xcc84de(0x261)]};_0x1a4e4e[_0xcc84de(0x180)][_0xcc84de(0x17c)]=_0x51ef35[_0xcc84de(0x2c1)][_0xcc84de(0x52a)]();let {message_normalized:_0x3dc428}=this[_0xcc84de(0x18d)](_0x2c6766[_0xcc84de(0x23a)],W(_0x2c6766[_0xcc84de(0x23a)]),null);_0x1a4e4e[_0xcc84de(0x180)]['lastSendMessage']=await _0x3dc428;let _0x1ffa2a={'messageId':_0x2c6766['key']['id']},_0x3861c5=_0x1a4e4e[_0xcc84de(0x180)][_0xcc84de(0x476)];Object[_0xcc84de(0x1ed)](_0x3861c5,_0x27b587),_0x1a4e4e[_0xcc84de(0x180)][_0xcc84de(0x476)]=_0x3861c5,this[_0xcc84de(0x4e2)](_0x1a4e4e,_0x51ef35,_0x1ffa2a);}else{let _0x2b1c3f={'error':!0x0};this[_0xcc84de(0x4e2)](_0x1a4e4e,_0x51ef35,_0x2b1c3f),this[_0xcc84de(0x697)][_0xcc84de(0x5ee)](this[_0xcc84de(0x3d1)]+'\x20('+this[_0xcc84de(0x487)][_0xcc84de(0x743)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x1bff7a){let _0xfd50d4={'error':!0x0,'errorLog':_0x1bff7a[_0xcc84de(0x52a)]()};this['updateConversation'](_0x1a4e4e,_0x51ef35,_0xfd50d4),this['logger'][_0xcc84de(0x5ee)](this[_0xcc84de(0x3d1)]+'\x20('+this[_0xcc84de(0x487)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0x1bff7a[_0xcc84de(0x52a)]());}}[a0_0x2aad5a(0x6d9)](_0x1719e4,_0x9d2496){const _0x4a2000=a0_0x2aad5a;for(let _0x19cc4a of _0x1719e4)_0x19cc4a['option']&&(_0x19cc4a['option']=this[_0x4a2000(0x1b0)](_0x19cc4a['option'],_0x9d2496)),_0x19cc4a[_0x4a2000(0x2f5)]&&(_0x19cc4a['optionDescription']=this['replaceVariables'](_0x19cc4a[_0x4a2000(0x2f5)],_0x9d2496));}async[a0_0x2aad5a(0x178)](_0x825d04,_0x67162b,_0x29af79){const _0x386c23=a0_0x2aad5a;this[_0x386c23(0x697)][_0x386c23(0x69e)](this[_0x386c23(0x3d1)]+'\x20('+this[_0x386c23(0x487)][_0x386c23(0x743)]+_0x386c23(0x4c5));let _0x418b65=_0x825d04['replyOptions']['filter'](_0x285ef1=>_0x285ef1[_0x386c23(0x329)]===_0x67162b[_0x386c23(0x2c1)]);this['replaceVariablesInReplyOptions'](_0x418b65,_0x825d04[_0x386c23(0x180)][_0x386c23(0x476)]);let _0x337512=_0x418b65[_0x386c23(0x30e)](_0x30138c=>_0x30138c[_0x386c23(0x262)]),_0x5e6358={'number':_0x29af79,'options':{'delay':_0x67162b[_0x386c23(0x20c)][_0x386c23(0x5af)]},'pollMessage':{'name':_0x67162b[_0x386c23(0x20c)][_0x386c23(0x72c)],'selectableCount':0x1,'values':_0x337512}};try{let _0x3298d5=await this[_0x386c23(0x3a0)](_0x5e6358);if(_0x3298d5){let _0x3df1c5={'_id':_0x3298d5[_0x386c23(0x655)]['id'],'_fromMe':_0x3298d5['key'][_0x386c23(0x5e4)],'_remoteJid':_0x3298d5[_0x386c23(0x655)][_0x386c23(0x261)]};this[_0x386c23(0x697)][_0x386c23(0x69e)](this[_0x386c23(0x3d1)]+'\x20('+this[_0x386c23(0x487)][_0x386c23(0x743)]+_0x386c23(0x2b0)+_0x67162b['uazapi'][_0x386c23(0x72c)]),_0x825d04[_0x386c23(0x683)]=_0x3298d5['key']['id'],_0x825d04['waitingPoll_name']=_0x67162b[_0x386c23(0x20c)][_0x386c23(0x72c)],_0x825d04[_0x386c23(0x448)]=_0x418b65,this[_0x386c23(0x697)][_0x386c23(0x69e)](this[_0x386c23(0x3d1)]+'\x20('+this['instance']['wuid']+_0x386c23(0x1ad)+_0x825d04[_0x386c23(0x51b)]),_0x825d04[_0x386c23(0x180)]['lastBlockId']=_0x67162b[_0x386c23(0x2c1)]['toString']();let {message_normalized:_0x49eb30}=this[_0x386c23(0x18d)](_0x3298d5[_0x386c23(0x23a)],W(_0x3298d5[_0x386c23(0x23a)]),null);_0x825d04[_0x386c23(0x180)][_0x386c23(0x4c1)]=await _0x49eb30;let _0x32e236={'messageId':_0x3298d5[_0x386c23(0x655)]['id']},_0x380291=_0x825d04['chatLog']['realVariables'];Object[_0x386c23(0x1ed)](_0x380291,_0x3df1c5),_0x825d04['chatLog']['realVariables']=_0x380291,this[_0x386c23(0x4e2)](_0x825d04,_0x67162b,_0x32e236);}else{let _0x1e1f39={'error':!0x0};this[_0x386c23(0x4e2)](_0x825d04,_0x67162b,_0x1e1f39),this[_0x386c23(0x697)][_0x386c23(0x5ee)](this[_0x386c23(0x3d1)]+'\x20('+this['instance'][_0x386c23(0x743)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x5474aa){let _0xa03d8e={'error':!0x0,'errorLog':_0x5474aa[_0x386c23(0x52a)]()};this['updateConversation'](_0x825d04,_0x67162b,_0xa03d8e),this[_0x386c23(0x697)][_0x386c23(0x5ee)](this[_0x386c23(0x3d1)]+'\x20('+this[_0x386c23(0x487)][_0x386c23(0x743)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0x5474aa[_0x386c23(0x52a)]());}}async['uazapiDeleteMessage'](_0x4ff854,_0x3bc4c3,_0x388242){const _0xb0ef57=a0_0x2aad5a;this['logger']['verbose'](this[_0xb0ef57(0x3d1)]+'\x20('+this[_0xb0ef57(0x487)]['wuid']+_0xb0ef57(0x464));let _0x5bffa7=_0x4ff854[_0xb0ef57(0x180)][_0xb0ef57(0x575)]['find'](_0x599087=>_0x599087[_0xb0ef57(0x329)][_0xb0ef57(0x52a)]()===_0x3bc4c3[_0xb0ef57(0x20c)]['blockId'][_0xb0ef57(0x52a)]()),_0x48dfe0={'id':_0x5bffa7[_0xb0ef57(0x241)],'remoteJid':_0x5bffa7[_0xb0ef57(0x261)],'fromMe':_0x5bffa7[_0xb0ef57(0x5e4)]};try{let _0x311da1=await this[_0xb0ef57(0x4b5)](_0x48dfe0);if(_0x311da1){_0x4ff854['chatLog'][_0xb0ef57(0x17c)]=_0x3bc4c3[_0xb0ef57(0x2c1)][_0xb0ef57(0x52a)]();let {message_normalized:_0x33636d}=this['normalizeMessage'](_0x311da1[_0xb0ef57(0x23a)],W(_0x311da1[_0xb0ef57(0x23a)]),null);_0x4ff854[_0xb0ef57(0x180)]['lastSendMessage']=await _0x33636d;let _0x365967={};this[_0xb0ef57(0x4e2)](_0x4ff854,_0x3bc4c3,_0x365967);}else{let _0x4a73c4={'error':!0x0};this[_0xb0ef57(0x4e2)](_0x4ff854,_0x3bc4c3,_0x4a73c4),this[_0xb0ef57(0x697)][_0xb0ef57(0x5ee)](this['instanceName']+'\x20('+this[_0xb0ef57(0x487)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x293b0b){let _0xb10e38={'error':!0x0,'errorLog':_0x293b0b[_0xb0ef57(0x52a)]()};this[_0xb0ef57(0x4e2)](_0x4ff854,_0x3bc4c3,_0xb10e38),this[_0xb0ef57(0x697)][_0xb0ef57(0x5ee)](this[_0xb0ef57(0x3d1)]+'\x20('+this[_0xb0ef57(0x487)][_0xb0ef57(0x743)]+_0xb0ef57(0x33f)+_0x293b0b[_0xb0ef57(0x52a)]());}}async[a0_0x2aad5a(0x4bf)](_0x520a77){const _0x146d33=a0_0x2aad5a;try{if(this[_0x146d33(0x697)][_0x146d33(0x69e)](this[_0x146d33(0x3d1)]+'\x20('+this['instance'][_0x146d33(0x743)]+_0x146d33(0x6ad)),await D[_0x146d33(0x538)]({'owner':this[_0x146d33(0x487)]['wuid'],'name':_0x520a77[_0x146d33(0x72c)]}))return{'message':_0x146d33(0x688)};_0x520a77['default']===!0x0&&await D['updateMany']({'owner':this[_0x146d33(0x487)][_0x146d33(0x743)]},{'default':!0x1});let _0x4881bb=new be['Types'][(_0x146d33(0x571))](),_0x45106e={'_id':_0x4881bb,'default':!0x0,'title':_0x146d33(0x71b),'x':0x0,'y':0x0},_0x206e73={'_id':new be['Types'][(_0x146d33(0x571))](),'order':0x1,'groupId':_0x4881bb[_0x146d33(0x52a)](),'type':_0x146d33(0x255)};return await D[_0x146d33(0x6c2)]({'owner':this['instance']['wuid'],'name':_0x520a77[_0x146d33(0x72c)],'groups':[_0x45106e],'blocks':[_0x206e73],..._0x520a77});}catch(_0x537016){throw this['logger'][_0x146d33(0x5ee)](this[_0x146d33(0x3d1)]+'\x20('+this[_0x146d33(0x487)][_0x146d33(0x743)]+_0x146d33(0x2d7)+_0x537016),new g(_0x146d33(0x3af)+_0x537016);}}async[a0_0x2aad5a(0x440)](_0x4d65a7){const _0x40f292=a0_0x2aad5a;try{return this[_0x40f292(0x697)][_0x40f292(0x69e)](this[_0x40f292(0x3d1)]+'\x20('+this[_0x40f292(0x487)]['wuid']+'):\x20Deletando\x20fluxo...'),await D[_0x40f292(0x58e)]({'owner':this[_0x40f292(0x487)][_0x40f292(0x743)],'name':_0x4d65a7});}catch(_0x5c7301){return this[_0x40f292(0x697)]['error'](this[_0x40f292(0x3d1)]+'\x20('+this[_0x40f292(0x487)]['wuid']+_0x40f292(0x325)+_0x5c7301),{'message':_0x40f292(0x3d8)+_0x5c7301};}}async['getFlow'](_0x4356e0){const _0x20e915=a0_0x2aad5a;try{this[_0x20e915(0x697)]['verbose'](this[_0x20e915(0x3d1)]+'\x20('+this['instance'][_0x20e915(0x743)]+_0x20e915(0x234));let _0x2480c1=await D[_0x20e915(0x538)]({'owner':this[_0x20e915(0x487)][_0x20e915(0x743)],'name':_0x4356e0});if(!_0x2480c1)throw new Error(_0x20e915(0x48e));if(!this['AutomateSystem']&&(await this[_0x20e915(0x27c)](),!this[_0x20e915(0x17e)]))return null;let _0x4aa701=this['AutomateSystem']?.[_0x20e915(0x24a)][_0x20e915(0x30e)](_0x1be783=>_0x1be783[_0x20e915(0x72c)]),_0x9d5762=[_0x20e915(0x62d),_0x20e915(0x589),_0x20e915(0x75c),_0x20e915(0x5d7),'status','notas',_0x20e915(0x565),_0x20e915(0x249)];return _0x2480c1['variables']=_0x2480c1['variables'][_0x20e915(0x19a)](_0x2a89d2=>!(_0x2a89d2[_0x20e915(0x520)]===_0x20e915(0x3a2)||_0x2a89d2[_0x20e915(0x3a2)])),_0x9d5762[_0x20e915(0x44d)](_0x2e4c0e=>{const _0x3a21d8=_0x20e915;_0x2480c1[_0x3a21d8(0x57f)][_0x3a21d8(0x338)]({'folder':_0x3a21d8(0x3a2),'name':_0x2e4c0e,'value':'','doc':'','leadInfo':!0x0});}),_0x4aa701[_0x20e915(0x44d)](_0x3cdbcd=>{const _0x48575f=_0x20e915;let _0x1bcfc5=_0x2480c1[_0x48575f(0x57f)]['findIndex'](_0x31ac72=>_0x31ac72['name']===_0x3cdbcd);_0x1bcfc5===-0x1?_0x2480c1[_0x48575f(0x57f)][_0x48575f(0x338)]({'folder':'leadInfo','name':_0x3cdbcd,'value':'','doc':'','leadInfo':!0x0}):(_0x2480c1[_0x48575f(0x57f)][_0x1bcfc5][_0x48575f(0x520)]=_0x48575f(0x3a2),_0x2480c1[_0x48575f(0x57f)][_0x1bcfc5]['leadInfo']=!0x0);}),await _0x2480c1[_0x20e915(0x24b)](),_0x2480c1;}catch(_0x3b52c7){throw this[_0x20e915(0x697)][_0x20e915(0x5ee)](this[_0x20e915(0x3d1)]+'\x20('+this[_0x20e915(0x487)][_0x20e915(0x743)]+_0x20e915(0x66c)+_0x3b52c7),new g(_0x20e915(0x349)+_0x3b52c7);}}async[a0_0x2aad5a(0x1e1)](){const _0x53161c=a0_0x2aad5a;try{return this[_0x53161c(0x697)][_0x53161c(0x69e)](this[_0x53161c(0x3d1)]+'\x20('+this['instance'][_0x53161c(0x743)]+_0x53161c(0x235)),await D[_0x53161c(0x2f0)]({'owner':this['instance']['wuid']});}catch(_0x174fa6){return this[_0x53161c(0x697)]['error'](this[_0x53161c(0x3d1)]+'\x20('+this['instance'][_0x53161c(0x743)]+_0x53161c(0x1a3)+_0x174fa6),{'message':_0x53161c(0x2c7)+_0x174fa6};}}async[a0_0x2aad5a(0x6ba)](_0x313833){const _0x512e47=a0_0x2aad5a;try{this['logger']['verbose'](this[_0x512e47(0x3d1)]+'\x20('+this['instance']['wuid']+_0x512e47(0x336));let _0x44f92d=await D[_0x512e47(0x538)]({'owner':this[_0x512e47(0x487)][_0x512e47(0x743)],'name':_0x313833['name']});if(!_0x44f92d)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x313833[_0x512e47(0x433)]===!0x0&&await D[_0x512e47(0x3d4)]({'owner':this[_0x512e47(0x487)]['wuid']},{'default':!0x1}),_0x313833[_0x512e47(0x549)]){if(await D[_0x512e47(0x538)]({'owner':this[_0x512e47(0x487)]['wuid'],'name':_0x313833['newName']}))return{'message':_0x512e47(0x25c)};_0x313833[_0x512e47(0x72c)]=_0x313833[_0x512e47(0x549)],delete _0x313833[_0x512e47(0x549)];}return await D['findByIdAndUpdate'](_0x44f92d[_0x512e47(0x2c1)],{'$set':_0x313833},{'new':!0x0});}catch(_0x50fe1c){throw this[_0x512e47(0x697)][_0x512e47(0x5ee)](this[_0x512e47(0x3d1)]+'\x20('+this[_0x512e47(0x487)]['wuid']+_0x512e47(0x497)+_0x50fe1c),new g('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+_0x50fe1c);}}async[a0_0x2aad5a(0x475)](_0x12f878){const _0x5d70be=a0_0x2aad5a;try{this['logger']['verbose'](this[_0x5d70be(0x3d1)]+'\x20('+this[_0x5d70be(0x487)]['wuid']+_0x5d70be(0x2a0));let _0x7a67cf={'owner':this[_0x5d70be(0x487)][_0x5d70be(0x743)],'name':_0x12f878[_0x5d70be(0x72c)]},_0x1acbfb=await D[_0x5d70be(0x538)](_0x7a67cf);_0x1acbfb||this[_0x5d70be(0x429)]('Flow\x20não\x20encontrado');let {block:_0x5ed714}=_0x12f878;return _0x5ed714?.[_0x5d70be(0x1d1)]?this[_0x5d70be(0x6da)](_0x1acbfb,_0x12f878):_0x5ed714['_id']?await this[_0x5d70be(0x2e9)](_0x1acbfb,_0x12f878):this[_0x5d70be(0x729)](_0x1acbfb,_0x12f878),await _0x1acbfb['save'](),_0x1acbfb;}catch(_0x3a9199){this['throwAndLogError'](_0x5d70be(0x676)+_0x3a9199);}}[a0_0x2aad5a(0x429)](_0x3719a1){const _0x269a37=a0_0x2aad5a;throw this[_0x269a37(0x697)][_0x269a37(0x5ee)](this[_0x269a37(0x3d1)]+'\x20('+this[_0x269a37(0x487)][_0x269a37(0x743)]+_0x269a37(0x5d3)+_0x3719a1),new g(_0x3719a1);}[a0_0x2aad5a(0x6da)](_0x45744e,_0x4d5c2a){const _0x25b9f4=a0_0x2aad5a;let {block:_0x1997bf}=_0x4d5c2a;if(_0x1997bf[_0x25b9f4(0x740)]===_0x25b9f4(0x255)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x1997bf[_0x25b9f4(0x2c1)]){this[_0x25b9f4(0x429)](_0x25b9f4(0x3e0));return;}let _0x2f658a=_0x45744e[_0x25b9f4(0x16a)]['find'](_0x3d1abb=>_0x3d1abb['_id'][_0x25b9f4(0x52a)]()===_0x4d5c2a['block'][_0x25b9f4(0x2c1)][_0x25b9f4(0x52a)]());if(!_0x2f658a){this['throwAndLogError'](_0x25b9f4(0x173)+_0x1997bf[_0x25b9f4(0x2c1)]+'\x20não\x20encontrado');return;}_0x45744e['blocks']=_0x45744e[_0x25b9f4(0x16a)][_0x25b9f4(0x19a)](_0x1637e9=>_0x1637e9[_0x25b9f4(0x2c1)][_0x25b9f4(0x52a)]()!==_0x4d5c2a['block'][_0x25b9f4(0x2c1)][_0x25b9f4(0x52a)]()),_0x45744e['conditions']=_0x45744e[_0x25b9f4(0x353)][_0x25b9f4(0x19a)](_0x59b609=>_0x59b609[_0x25b9f4(0x329)]!==_0x1997bf['_id'][_0x25b9f4(0x52a)]()),_0x45744e['varedits']=_0x45744e['varedits'][_0x25b9f4(0x19a)](_0x30c765=>_0x30c765['blockId']!==_0x1997bf[_0x25b9f4(0x2c1)]['toString']()),_0x45744e['replyOptions']=_0x45744e[_0x25b9f4(0x6f9)][_0x25b9f4(0x19a)](_0x2097c2=>_0x2097c2[_0x25b9f4(0x329)]!==_0x1997bf[_0x25b9f4(0x2c1)][_0x25b9f4(0x52a)]()),this[_0x25b9f4(0x285)](_0x45744e[_0x25b9f4(0x16a)],_0x2f658a['groupId']);}async['updateBlock'](_0x4c498b,_0x5bff71){const _0x3c5185=a0_0x2aad5a;let _0x46d61e=_0x4c498b[_0x3c5185(0x16a)][_0x3c5185(0x5a7)](_0x7ea6a4=>_0x7ea6a4['_id'][_0x3c5185(0x52a)]()===_0x5bff71['block'][_0x3c5185(0x2c1)][_0x3c5185(0x52a)]());if(this[_0x3c5185(0x697)][_0x3c5185(0x69e)](this[_0x3c5185(0x3d1)]+'\x20('+this[_0x3c5185(0x487)]['wuid']+_0x3c5185(0x679)+_0x46d61e),_0x46d61e===-0x1){this[_0x3c5185(0x697)]['verbose'](_0x3c5185(0x173)+_0x5bff71['block']['_id']+_0x3c5185(0x4ea));return;}if(_0x4c498b['blocks'][_0x46d61e][_0x3c5185(0x740)]===_0x3c5185(0x255)){let _0x4938a0=Object[_0x3c5185(0x3e1)](_0x5bff71['block']);if(_0x4938a0[_0x3c5185(0x24d)]>0x2||_0x4938a0['length']===0x2&&!_0x4938a0[_0x3c5185(0x5a9)](_0x3c5185(0x1e5))){this[_0x3c5185(0x429)](_0x3c5185(0x230));return;}}let _0x2ba4df=_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x32e)];for(let _0xc4dd44 in _0x5bff71[_0x3c5185(0x4d5)])_0x5bff71[_0x3c5185(0x4d5)][_0x3c5185(0x6e9)](_0xc4dd44)&&(_0x4c498b['blocks'][_0x46d61e][_0xc4dd44]=_0x5bff71[_0x3c5185(0x4d5)][_0xc4dd44]);if(this['logger'][_0x3c5185(0x69e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3c5185(0x2a5)+JSON[_0x3c5185(0x318)](_0x4c498b[_0x3c5185(0x16a)][_0x46d61e])),_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)]&&_0x3c5185(0x6a5)in _0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)]){this[_0x3c5185(0x697)][_0x3c5185(0x69e)](this[_0x3c5185(0x3d1)]+'\x20('+this[_0x3c5185(0x487)][_0x3c5185(0x743)]+_0x3c5185(0x525));let _0x43c285=JSON['stringify'](_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)][_0x3c5185(0x6a5)],null,0x1);_0x43c285[_0x3c5185(0x24d)]>0x2&&(_0x43c285=_0x43c285[_0x3c5185(0x67b)](0x1,_0x43c285[_0x3c5185(0x24d)]-0x1)[_0x3c5185(0x2f3)]()),_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)]['headerString']=_0x43c285;}if(_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)]&&_0x3c5185(0x561)in _0x4c498b['blocks'][_0x46d61e][_0x3c5185(0x35f)]){this[_0x3c5185(0x697)][_0x3c5185(0x69e)](this[_0x3c5185(0x3d1)]+'\x20('+this[_0x3c5185(0x487)][_0x3c5185(0x743)]+_0x3c5185(0x5cc));let _0x3dae76=JSON[_0x3c5185(0x318)](_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x35f)][_0x3c5185(0x561)],null,0x1);_0x3dae76[_0x3c5185(0x24d)]>0x2&&(_0x3dae76=_0x3dae76[_0x3c5185(0x67b)](0x1,_0x3dae76[_0x3c5185(0x24d)]-0x1)['trim']()),_0x4c498b['blocks'][_0x46d61e][_0x3c5185(0x35f)][_0x3c5185(0x3b2)]=_0x3dae76;}let _0x1a522f=_0x4c498b[_0x3c5185(0x16a)][_0x46d61e][_0x3c5185(0x32e)];_0x2ba4df!==_0x1a522f?(this[_0x3c5185(0x285)](_0x4c498b[_0x3c5185(0x16a)],_0x2ba4df),this[_0x3c5185(0x285)](_0x4c498b['blocks'],_0x1a522f)):this[_0x3c5185(0x285)](_0x4c498b[_0x3c5185(0x16a)],_0x2ba4df);}[a0_0x2aad5a(0x729)](_0x3d89c0,_0x5f755){const _0x1b3041=a0_0x2aad5a;if(_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x740)]==='start'){this[_0x1b3041(0x429)](_0x1b3041(0x4d6));return;}if(_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x35f)]&&_0x1b3041(0x6a5)in _0x5f755['block']['apirequest']){this[_0x1b3041(0x697)]['verbose'](this['instanceName']+'\x20('+this[_0x1b3041(0x487)]['wuid']+_0x1b3041(0x525));let _0x243ad7=JSON[_0x1b3041(0x318)](_0x5f755[_0x1b3041(0x4d5)]['apirequest'][_0x1b3041(0x6a5)],null,0x1);_0x243ad7[_0x1b3041(0x24d)]>0x2&&(_0x243ad7=_0x243ad7[_0x1b3041(0x67b)](0x1,_0x243ad7[_0x1b3041(0x24d)]-0x1)[_0x1b3041(0x2f3)]()),_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x35f)][_0x1b3041(0x239)]=_0x243ad7;}_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x35f)]&&'body'in _0x5f755['block']['apirequest']&&(this[_0x1b3041(0x697)][_0x1b3041(0x69e)](this[_0x1b3041(0x3d1)]+'\x20('+this[_0x1b3041(0x487)][_0x1b3041(0x743)]+_0x1b3041(0x5cc)),_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x35f)]['bodyString']=JSON['stringify'](_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x35f)][_0x1b3041(0x561)],null,0x1)[_0x1b3041(0x2f3)]()),_0x3d89c0[_0x1b3041(0x16a)]['push'](_0x5f755[_0x1b3041(0x4d5)]),this['reorderBlocks'](_0x3d89c0[_0x1b3041(0x16a)],_0x5f755[_0x1b3041(0x4d5)][_0x1b3041(0x32e)]);}['reorderBlocks'](_0x483d6a,_0x2e439c){const _0x2beb38=a0_0x2aad5a;let _0x1b0449=_0x483d6a[_0x2beb38(0x19a)](_0x1bb7cd=>_0x1bb7cd[_0x2beb38(0x32e)]===_0x2e439c);_0x1b0449[_0x2beb38(0x6e2)]((_0x41c01f,_0x3f9c0a)=>_0x41c01f['order']-_0x3f9c0a[_0x2beb38(0x27a)]),_0x1b0449[_0x2beb38(0x44d)]((_0x5036f4,_0x548cf6)=>_0x5036f4[_0x2beb38(0x27a)]=_0x548cf6+0x1);}async[a0_0x2aad5a(0x741)](_0x18ea6c){const _0x610ea2=a0_0x2aad5a;try{if(this[_0x610ea2(0x697)][_0x610ea2(0x69e)](this[_0x610ea2(0x3d1)]+'\x20('+this['instance'][_0x610ea2(0x743)]+_0x610ea2(0x2af)),!_0x18ea6c||!_0x18ea6c[_0x610ea2(0x465)]){this[_0x610ea2(0x429)]('Data\x20inválida\x20fornecida');return;}let _0x3cecf5={'owner':this[_0x610ea2(0x487)][_0x610ea2(0x743)],'name':_0x18ea6c[_0x610ea2(0x72c)]},_0x2e1e52=await D[_0x610ea2(0x538)](_0x3cecf5);_0x2e1e52||this[_0x610ea2(0x429)](_0x610ea2(0x48e));let {replyOption:_0x40e1f6}=_0x18ea6c;return _0x40e1f6?.[_0x610ea2(0x1d1)]?this[_0x610ea2(0x5c0)](_0x2e1e52,_0x18ea6c):_0x40e1f6[_0x610ea2(0x2c1)]?await this[_0x610ea2(0x4ca)](_0x2e1e52,_0x18ea6c):this[_0x610ea2(0x373)](_0x2e1e52,_0x18ea6c),await _0x2e1e52[_0x610ea2(0x24b)](),_0x2e1e52;}catch(_0x1d2fa1){this[_0x610ea2(0x429)](_0x610ea2(0x5ef)+_0x1d2fa1);}}[a0_0x2aad5a(0x5c0)](_0x4c1903,_0x33a065){const _0x418a91=a0_0x2aad5a;let {replyOption:_0x3056ee}=_0x33a065;if(!_0x3056ee[_0x418a91(0x2c1)]){this[_0x418a91(0x429)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4c1903[_0x418a91(0x6f9)][_0x418a91(0x2f0)](_0x373b14=>_0x373b14[_0x418a91(0x2c1)]['toString']()===_0x33a065[_0x418a91(0x465)][_0x418a91(0x2c1)][_0x418a91(0x52a)]())){this['throwAndLogError'](_0x418a91(0x570)+_0x3056ee[_0x418a91(0x2c1)]+_0x418a91(0x35e));return;}_0x4c1903['replyOptions']=_0x4c1903[_0x418a91(0x6f9)][_0x418a91(0x19a)](_0x4f1c44=>_0x4f1c44['_id'][_0x418a91(0x52a)]()!==_0x33a065[_0x418a91(0x465)][_0x418a91(0x2c1)][_0x418a91(0x52a)]());}async[a0_0x2aad5a(0x4ca)](_0x3686d2,_0x23804c){const _0x37ffbd=a0_0x2aad5a;let _0x3e1c11=_0x3686d2['replyOptions']['findIndex'](_0x166e32=>_0x166e32[_0x37ffbd(0x2c1)]['toString']()===_0x23804c[_0x37ffbd(0x465)][_0x37ffbd(0x2c1)][_0x37ffbd(0x52a)]());if(_0x3e1c11===-0x1){this[_0x37ffbd(0x429)](_0x37ffbd(0x570)+_0x23804c[_0x37ffbd(0x465)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x23d487 in _0x23804c[_0x37ffbd(0x465)])_0x23804c[_0x37ffbd(0x465)][_0x37ffbd(0x6e9)](_0x23d487)&&(_0x3686d2[_0x37ffbd(0x6f9)][_0x3e1c11][_0x23d487]=_0x23804c[_0x37ffbd(0x465)][_0x23d487]);}['addReplyOption'](_0x5a74aa,_0xc3df00){const _0x184cca=a0_0x2aad5a;_0x5a74aa['replyOptions'][_0x184cca(0x338)](_0xc3df00[_0x184cca(0x465)]);}async[a0_0x2aad5a(0x278)](_0x58cdbc){const _0x558b44=a0_0x2aad5a;this[_0x558b44(0x697)]['verbose'](this[_0x558b44(0x3d1)]+'\x20('+this[_0x558b44(0x487)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x58cdbc);try{this[_0x558b44(0x697)]['verbose'](this[_0x558b44(0x3d1)]+'\x20('+this[_0x558b44(0x487)][_0x558b44(0x743)]+_0x558b44(0x653));let _0x4fb3e7={'owner':this[_0x558b44(0x487)]['wuid'],'name':_0x58cdbc[_0x558b44(0x72c)]},_0x104770=await D[_0x558b44(0x538)](_0x4fb3e7);if(!_0x104770)throw new Error('Flow\x20não\x20encontrado');if(_0x58cdbc[_0x558b44(0x1f2)]&&_0x58cdbc[_0x558b44(0x1f2)]?.[_0x558b44(0x1d1)]===!0x0){if(this[_0x558b44(0x697)][_0x558b44(0x69e)](this[_0x558b44(0x3d1)]+'\x20('+this['instance']['wuid']+'):\x20delete\x20=\x20true'),_0x58cdbc[_0x558b44(0x1f2)][_0x558b44(0x433)]===!0x0)return{'message':_0x558b44(0x532)};if(_0x104770[_0x558b44(0x16a)]['some'](_0x3ad813=>_0x3ad813[_0x558b44(0x32e)][_0x558b44(0x52a)]()===_0x58cdbc[_0x558b44(0x1f2)][_0x558b44(0x2c1)]))return this[_0x558b44(0x697)][_0x558b44(0x69e)](this[_0x558b44(0x3d1)]+'\x20('+this['instance'][_0x558b44(0x743)]+_0x558b44(0x293)),{'message':_0x558b44(0x19c)};_0x104770[_0x558b44(0x69c)]=_0x104770[_0x558b44(0x69c)][_0x558b44(0x19a)](_0x4137ec=>_0x4137ec[_0x558b44(0x2c1)][_0x558b44(0x52a)]()!==_0x58cdbc[_0x558b44(0x1f2)][_0x558b44(0x2c1)]);}else{if(_0x58cdbc[_0x558b44(0x1f2)]){if(_0x58cdbc[_0x558b44(0x1f2)]['default']===!0x0)return{'message':_0x558b44(0x30f)};if(_0x58cdbc[_0x558b44(0x1f2)]['_id']){let _0x15203c=_0x104770[_0x558b44(0x69c)][_0x558b44(0x2f0)](_0x5579dc=>_0x5579dc['_id'][_0x558b44(0x52a)]()===_0x58cdbc[_0x558b44(0x1f2)][_0x558b44(0x2c1)]);_0x15203c&&(_0x58cdbc['group']['x']<0x0&&(_0x58cdbc[_0x558b44(0x1f2)]['x']=0x0),_0x58cdbc[_0x558b44(0x1f2)]['y']<0x0&&(_0x58cdbc[_0x558b44(0x1f2)]['y']=0x0),Object[_0x558b44(0x1ed)](_0x15203c,_0x58cdbc[_0x558b44(0x1f2)]));}else _0x104770[_0x558b44(0x69c)][_0x558b44(0x338)](_0x58cdbc[_0x558b44(0x1f2)]);}}return await _0x104770['save'](),_0x104770;}catch(_0x489a5c){throw this[_0x558b44(0x697)][_0x558b44(0x5ee)](this[_0x558b44(0x3d1)]+'\x20('+this[_0x558b44(0x487)][_0x558b44(0x743)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x489a5c),new g(_0x558b44(0x4b1)+_0x489a5c);}}async[a0_0x2aad5a(0x5b4)](_0x2f3bc1){const _0x72bf98=a0_0x2aad5a;try{this[_0x72bf98(0x697)]['verbose'](this[_0x72bf98(0x3d1)]+'\x20('+this[_0x72bf98(0x487)][_0x72bf98(0x743)]+_0x72bf98(0x2e6));let _0x5f2679={'owner':this[_0x72bf98(0x487)][_0x72bf98(0x743)],'name':_0x2f3bc1['name']},_0x32a959=await D[_0x72bf98(0x538)](_0x5f2679);if(!_0x32a959)throw new Error(_0x72bf98(0x48e));let _0x57b826=!0x1;if(_0x2f3bc1[_0x72bf98(0x49a)]?.[_0x72bf98(0x1d1)]===!0x0)_0x32a959[_0x72bf98(0x353)]=_0x32a959[_0x72bf98(0x353)]['filter'](_0x453d72=>_0x453d72&&_0x2f3bc1[_0x72bf98(0x49a)]&&_0x453d72[_0x72bf98(0x2c1)]&&_0x2f3bc1[_0x72bf98(0x49a)][_0x72bf98(0x2c1)]&&_0x453d72[_0x72bf98(0x2c1)][_0x72bf98(0x52a)]()!==_0x2f3bc1[_0x72bf98(0x49a)][_0x72bf98(0x2c1)][_0x72bf98(0x52a)]()),_0x57b826=!0x0;else{let _0x3c89dc=_0x32a959[_0x72bf98(0x353)][_0x72bf98(0x2f0)](_0x1d2413=>_0x1d2413&&_0x2f3bc1[_0x72bf98(0x49a)]&&_0x1d2413['_id']&&_0x2f3bc1[_0x72bf98(0x49a)][_0x72bf98(0x2c1)]&&_0x1d2413[_0x72bf98(0x2c1)]['toString']()===_0x2f3bc1[_0x72bf98(0x49a)][_0x72bf98(0x2c1)][_0x72bf98(0x52a)]());_0x3c89dc?(_0x57b826=_0x3c89dc['order']!==_0x2f3bc1[_0x72bf98(0x49a)][_0x72bf98(0x27a)],Object[_0x72bf98(0x1ed)](_0x3c89dc,_0x2f3bc1[_0x72bf98(0x49a)])):(_0x32a959[_0x72bf98(0x353)][_0x72bf98(0x338)](_0x2f3bc1[_0x72bf98(0x49a)]),_0x57b826=!0x0);}if(_0x57b826){_0x32a959[_0x72bf98(0x353)][_0x72bf98(0x6e2)]((_0x139e26,_0x48368f)=>_0x139e26[_0x72bf98(0x27a)]>_0x48368f['order']?0x1:_0x48368f[_0x72bf98(0x27a)]>_0x139e26[_0x72bf98(0x27a)]?-0x1:0x0);for(let _0x58a829=0x0;_0x58a829<_0x32a959[_0x72bf98(0x353)][_0x72bf98(0x24d)];_0x58a829++)_0x32a959['conditions'][_0x58a829][_0x72bf98(0x27a)]=_0x58a829+0x1;_0x32a959[_0x72bf98(0x353)][_0x72bf98(0x24d)]>0x0&&(_0x32a959[_0x72bf98(0x353)][0x0]['OrAnd']=_0x72bf98(0x748));}return await _0x32a959[_0x72bf98(0x24b)](),_0x32a959;}catch(_0x5d4549){throw this[_0x72bf98(0x697)][_0x72bf98(0x5ee)](this['instanceName']+'\x20('+this[_0x72bf98(0x487)][_0x72bf98(0x743)]+_0x72bf98(0x585)+_0x5d4549),new Error(_0x72bf98(0x73e)+_0x5d4549);}}async[a0_0x2aad5a(0x179)](_0xea59b1){const _0x3d1783=a0_0x2aad5a;try{this[_0x3d1783(0x697)][_0x3d1783(0x69e)](this[_0x3d1783(0x3d1)]+'\x20('+this[_0x3d1783(0x487)]['wuid']+_0x3d1783(0x406));let _0x500480={'owner':this['instance'][_0x3d1783(0x743)],'name':_0xea59b1[_0x3d1783(0x72c)]},_0xd94352=await D[_0x3d1783(0x538)](_0x500480);if(!_0xd94352)throw new Error('Flow\x20não\x20encontrado');let _0x134e9b=!0x1;if(_0xea59b1[_0x3d1783(0x2f8)]?.['delete']===!0x0)_0xd94352['varedits']=_0xd94352[_0x3d1783(0x2e0)][_0x3d1783(0x19a)](_0x5d5e93=>_0x5d5e93&&_0xea59b1['varedit']&&_0x5d5e93[_0x3d1783(0x2c1)]&&_0xea59b1['varedit'][_0x3d1783(0x2c1)]&&_0x5d5e93[_0x3d1783(0x2c1)][_0x3d1783(0x52a)]()!==_0xea59b1[_0x3d1783(0x2f8)][_0x3d1783(0x2c1)][_0x3d1783(0x52a)]()),_0x134e9b=!0x0;else{let _0x5c22b8=_0xd94352[_0x3d1783(0x2e0)][_0x3d1783(0x2f0)](_0xd4cd7=>_0xd4cd7&&_0xea59b1[_0x3d1783(0x2f8)]&&_0xd4cd7[_0x3d1783(0x2c1)]&&_0xea59b1[_0x3d1783(0x2f8)][_0x3d1783(0x2c1)]&&_0xd4cd7[_0x3d1783(0x2c1)][_0x3d1783(0x52a)]()===_0xea59b1[_0x3d1783(0x2f8)][_0x3d1783(0x2c1)][_0x3d1783(0x52a)]());_0x5c22b8?(_0x134e9b=_0x5c22b8[_0x3d1783(0x27a)]!==_0xea59b1[_0x3d1783(0x2f8)]['order'],Object[_0x3d1783(0x1ed)](_0x5c22b8,_0xea59b1['varedit'])):(_0xd94352[_0x3d1783(0x2e0)][_0x3d1783(0x338)](_0xea59b1[_0x3d1783(0x2f8)]),_0x134e9b=!0x0);}if(_0x134e9b){_0xd94352[_0x3d1783(0x2e0)][_0x3d1783(0x6e2)]((_0x4aa478,_0x51f838)=>_0x4aa478['order']>_0x51f838[_0x3d1783(0x27a)]?0x1:_0x51f838['order']>_0x4aa478['order']?-0x1:0x0);for(let _0x5bc146=0x0;_0x5bc146<_0xd94352['varedits'][_0x3d1783(0x24d)];_0x5bc146++)_0xd94352[_0x3d1783(0x2e0)][_0x5bc146][_0x3d1783(0x27a)]=_0x5bc146+0x1;}return await _0xd94352[_0x3d1783(0x24b)](),_0xd94352;}catch(_0x247c08){throw this[_0x3d1783(0x697)]['error'](this[_0x3d1783(0x3d1)]+'\x20('+this[_0x3d1783(0x487)][_0x3d1783(0x743)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x247c08),new g('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x247c08);}}async[a0_0x2aad5a(0x30c)](_0x5b06b0){const _0x3ff94c=a0_0x2aad5a;try{this['logger'][_0x3ff94c(0x69e)](this[_0x3ff94c(0x3d1)]+'\x20('+this[_0x3ff94c(0x487)][_0x3ff94c(0x743)]+_0x3ff94c(0x5a0));let _0x599bff={'owner':this[_0x3ff94c(0x487)][_0x3ff94c(0x743)],'name':_0x5b06b0[_0x3ff94c(0x72c)]},_0x13e8e2=await D[_0x3ff94c(0x538)](_0x599bff);if(!_0x13e8e2)throw new Error(_0x3ff94c(0x48e));_0x5b06b0[_0x3ff94c(0x52c)][_0x3ff94c(0x72c)]=_0x5b06b0[_0x3ff94c(0x52c)][_0x3ff94c(0x72c)][_0x3ff94c(0x2f3)](),_0x5b06b0['variable'][_0x3ff94c(0x72c)]['startsWith']('_')&&(_0x5b06b0[_0x3ff94c(0x52c)]['name']=_0x5b06b0[_0x3ff94c(0x52c)][_0x3ff94c(0x72c)][_0x3ff94c(0x67b)](0x1)),_0x5b06b0['variable'][_0x3ff94c(0x72c)]=_0x5b06b0['variable'][_0x3ff94c(0x72c)]['trim']();let _0x43f5a2=_0x13e8e2['variables'][_0x3ff94c(0x2f0)](_0x1dd8e3=>_0x1dd8e3[_0x3ff94c(0x72c)]===_0x5b06b0[_0x3ff94c(0x52c)][_0x3ff94c(0x72c)]);if(_0x43f5a2?.[_0x3ff94c(0x3a2)]===!0x0)throw new Error(_0x3ff94c(0x3d3));if(_0x5b06b0[_0x3ff94c(0x52c)]?.[_0x3ff94c(0x1d1)]===!0x0){if(!_0x43f5a2)return{'message':'Variável\x20não\x20encontrada!'};_0x13e8e2[_0x3ff94c(0x57f)]=_0x13e8e2[_0x3ff94c(0x57f)][_0x3ff94c(0x19a)](_0x15a6f3=>_0x15a6f3[_0x3ff94c(0x72c)]!==_0x5b06b0[_0x3ff94c(0x52c)][_0x3ff94c(0x72c)]);}else _0x43f5a2?Object[_0x3ff94c(0x1ed)](_0x43f5a2,_0x5b06b0[_0x3ff94c(0x52c)]):_0x13e8e2[_0x3ff94c(0x57f)][_0x3ff94c(0x338)](_0x5b06b0[_0x3ff94c(0x52c)]);return await _0x13e8e2[_0x3ff94c(0x24b)](),_0x13e8e2;}catch(_0x12ff35){throw this['logger']['error'](this[_0x3ff94c(0x3d1)]+'\x20('+this['instance'][_0x3ff94c(0x743)]+_0x3ff94c(0x300)+_0x12ff35),new g(_0x3ff94c(0x15f)+_0x12ff35);}}async['startFlow'](_0xfd4897){const _0x1ddd81=a0_0x2aad5a;try{if(!this[_0x1ddd81(0x17e)]?.['flowConfig'][_0x1ddd81(0x667)])throw new g(_0x1ddd81(0x63c));this[_0x1ddd81(0x697)]['verbose'](this[_0x1ddd81(0x3d1)]+'\x20('+this['instance'][_0x1ddd81(0x743)]+_0x1ddd81(0x251));let _0x59df79=(await this[_0x1ddd81(0x4e6)]({'numbers':[_0xfd4897[_0x1ddd81(0x261)]]}))[0x0];if(!_0x59df79[_0x1ddd81(0x725)]&&!(0x0,w[_0x1ddd81(0x270)])(_0x59df79[_0x1ddd81(0x202)])&&!_0x59df79[_0x1ddd81(0x202)][_0x1ddd81(0x5a9)](_0x1ddd81(0x32c)))throw new g(_0x59df79);let _0x51f951=await D[_0x1ddd81(0x538)]({'owner':this[_0x1ddd81(0x487)][_0x1ddd81(0x743)],'name':_0xfd4897[_0x1ddd81(0x72c)]});if(!_0x51f951)return this['logger'][_0x1ddd81(0x5ee)](this[_0x1ddd81(0x3d1)]+'\x20('+this['instance'][_0x1ddd81(0x743)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x1ddd81(0x48e)};let _0x3ebedc=await this[_0x1ddd81(0x6e0)](_0x51f951,_0x59df79[_0x1ddd81(0x202)],_0xfd4897[_0x1ddd81(0x643)]);if(_0x3ebedc){this[_0x1ddd81(0x697)]['verbose'](this[_0x1ddd81(0x3d1)]+'\x20('+this[_0x1ddd81(0x487)][_0x1ddd81(0x743)]+_0x1ddd81(0x420));let _0xb5acbc=await this[_0x1ddd81(0x431)](_0x3ebedc);return _0xb5acbc&&await this['processblock'](_0x3ebedc,_0xb5acbc,_0x3ebedc[_0x1ddd81(0x261)]),{'message':'Flow\x20iniciado\x20com\x20'+_0xfd4897[_0x1ddd81(0x261)]};}}catch(_0x369c08){if(this[_0x1ddd81(0x697)][_0x1ddd81(0x5ee)](this[_0x1ddd81(0x3d1)]+'\x20('+this[_0x1ddd81(0x487)][_0x1ddd81(0x743)]+_0x1ddd81(0x283)+_0x369c08),_0x369c08&&_0x369c08[_0x1ddd81(0x23a)]&&Array['isArray'](_0x369c08[_0x1ddd81(0x23a)])&&_0x369c08[_0x1ddd81(0x23a)][0x0]){let {jid:_0x10977b,exists:_0x3e3b2e}=_0x369c08[_0x1ddd81(0x23a)][0x0];}throw new g(_0x1ddd81(0x4c0)+_0x369c08[_0x1ddd81(0x23a)]);}}async[a0_0x2aad5a(0x1b2)](_0x594903){const _0x32f34c=a0_0x2aad5a;let _0x8677ef=await F[_0x32f34c(0x3d4)]({'owner':this[_0x32f34c(0x487)][_0x32f34c(0x743)],'remoteJid':_0x594903,'status':_0x32f34c(0x40f)},{'$set':{'status':_0x32f34c(0x414)}});return this[_0x32f34c(0x697)][_0x32f34c(0x69e)](this[_0x32f34c(0x3d1)]+'\x20('+this[_0x32f34c(0x487)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x8677ef;}async[a0_0x2aad5a(0x6e0)](_0x553236,_0x1b58a6,_0x2ff180){const _0x5e5322=a0_0x2aad5a;this['logger'][_0x5e5322(0x69e)](this[_0x5e5322(0x3d1)]+'\x20('+this[_0x5e5322(0x487)][_0x5e5322(0x743)]+_0x5e5322(0x1f4)),await this['closeExistingConversations'](_0x1b58a6);try{let _0x3e821d=require(_0x5e5322(0x45b))['ObjectId'],_0x29aedf=Date[_0x5e5322(0x463)](),_0x51c15e=_0x5e5322(0x255),_0x16b23e={},_0x349a05={},_0x50d321={..._0x553236[_0x5e5322(0x335)],'chatLog':null},_0x41bbf9=await this['variablesToObject'](_0x50d321[_0x5e5322(0x57f)]),_0x5b00d1=await this['getVariablesChat'](_0x1b58a6),_0x32456f={..._0x41bbf9,..._0x5b00d1,'_remoteJid':_0x1b58a6},_0x54209d={'lastReceivedMessage':_0x16b23e,'lastSendMessage':_0x349a05,'lastBlockId':_0x51c15e,'lastCondition':!0x0,'realVariables':_0x32456f};_0x50d321['chatLog']=_0x54209d,_0x50d321[_0x5e5322(0x180)][_0x5e5322(0x476)]={..._0x32456f,..._0x2ff180},delete _0x50d321['_id'],_0x50d321['_id']=new _0x3e821d(),_0x50d321[_0x5e5322(0x5cf)]=_0x29aedf,_0x50d321[_0x5e5322(0x1a9)]=_0x5e5322(0x40f),_0x50d321[_0x5e5322(0x261)]=_0x1b58a6;let _0x2db8eb=await F[_0x5e5322(0x6c2)](_0x50d321);return this['logger'][_0x5e5322(0x69e)](this['instanceName']+'\x20('+this[_0x5e5322(0x487)]['wuid']+_0x5e5322(0x5bd)),_0x2db8eb?_0x50d321:null;}catch(_0x3a525f){throw this[_0x5e5322(0x697)]['error'](this[_0x5e5322(0x3d1)]+'\x20('+this['instance'][_0x5e5322(0x743)]+_0x5e5322(0x321)+_0x3a525f),new g(_0x3a525f[_0x5e5322(0x23a)]);}}async['getConversation'](_0x597d63){const _0x58c906=a0_0x2aad5a;try{return this[_0x58c906(0x697)][_0x58c906(0x69e)](this[_0x58c906(0x3d1)]+'\x20('+this[_0x58c906(0x487)]['wuid']+_0x58c906(0x4b9)),this[_0x58c906(0x697)]['verbose'](this[_0x58c906(0x3d1)]+'\x20('+this[_0x58c906(0x487)][_0x58c906(0x743)]+_0x58c906(0x61b)+{'owner':this[_0x58c906(0x487)][_0x58c906(0x743)],'_id':_0x597d63}),await F[_0x58c906(0x538)]({'owner':this[_0x58c906(0x487)][_0x58c906(0x743)],'_id':_0x597d63});}catch(_0x1370e7){throw this[_0x58c906(0x697)][_0x58c906(0x5ee)](this['instanceName']+'\x20('+this[_0x58c906(0x487)][_0x58c906(0x743)]+_0x58c906(0x72b)+_0x1370e7),new g(_0x58c906(0x2a4)+_0x1370e7[_0x58c906(0x23a)]);}}async['fetchConversation'](_0x1951d8,_0x256320=0x64){const _0x345a7f=a0_0x2aad5a;try{this[_0x345a7f(0x697)][_0x345a7f(0x69e)](this[_0x345a7f(0x3d1)]+'\x20('+this[_0x345a7f(0x487)]['wuid']+'):\x20Buscando\x20conversas...');let _0x1d8ebb={..._0x1951d8,'owner':this['instance']['wuid']};return this[_0x345a7f(0x697)][_0x345a7f(0x69e)](_0x1d8ebb),await F[_0x345a7f(0x2f0)](_0x1d8ebb)[_0x345a7f(0x25e)](_0x256320)[_0x345a7f(0x6e2)]({'lastInteraction':-0x1});}catch(_0x56058b){throw this[_0x345a7f(0x697)][_0x345a7f(0x5ee)](this['instanceName']+'\x20('+this[_0x345a7f(0x487)][_0x345a7f(0x743)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x56058b),new g(_0x345a7f(0x661)+_0x56058b[_0x345a7f(0x23a)]);}}async['deleteConversation'](_0x2d5706){const _0x4e0e27=a0_0x2aad5a;try{return this[_0x4e0e27(0x697)][_0x4e0e27(0x69e)](this[_0x4e0e27(0x3d1)]+'\x20('+this[_0x4e0e27(0x487)][_0x4e0e27(0x743)]+_0x4e0e27(0x479)),this['logger'][_0x4e0e27(0x69e)](this[_0x4e0e27(0x3d1)]+'\x20('+this[_0x4e0e27(0x487)][_0x4e0e27(0x743)]+_0x4e0e27(0x61b)+{'owner':this['instance'][_0x4e0e27(0x743)],'_id':_0x2d5706}),(await F['deleteOne']({'owner':this['instance'][_0x4e0e27(0x743)],'_id':_0x2d5706}))['deletedCount']===0x0?{'message':_0x4e0e27(0x29c)}:{'message':_0x4e0e27(0x2dc)};}catch(_0xcbac11){throw this[_0x4e0e27(0x697)]['error'](this[_0x4e0e27(0x3d1)]+'\x20('+this[_0x4e0e27(0x487)][_0x4e0e27(0x743)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+_0xcbac11),new g(_0x4e0e27(0x1fa)+_0xcbac11[_0x4e0e27(0x23a)]);}}async[a0_0x2aad5a(0x75e)](_0x152172){const _0x2b5251=a0_0x2aad5a;try{let {_id:_0x435b90,chatLog:_0x3e7c95,status:_0x4113fa}=_0x152172;if(!_0x435b90)return{'message':_0x2b5251(0x599)};let _0x5c4e09={};if(_0x4113fa!==void 0x0&&(_0x5c4e09[_0x2b5251(0x1a9)]=_0x4113fa),Object['keys'](_0x5c4e09)['length']===0x0)return{'message':_0x2b5251(0x41b)};let _0x530428=this[_0x2b5251(0x487)][_0x2b5251(0x743)],_0x153a20=await F[_0x2b5251(0x363)]({'_id':_0x435b90,'owner':_0x530428},{'$set':_0x5c4e09},{'new':!0x0});return _0x153a20||{'message':_0x2b5251(0x35d)};}catch(_0x4914ee){throw this['logger'][_0x2b5251(0x5ee)](this[_0x2b5251(0x3d1)]+'\x20('+this[_0x2b5251(0x487)][_0x2b5251(0x743)]+_0x2b5251(0x6c5)+_0x4914ee),new g(_0x2b5251(0x4fc)+_0x4914ee[_0x2b5251(0x23a)]);}}async['editChat'](_0x2d48a1){const _0x369139=a0_0x2aad5a;try{_0x2d48a1['id']=this[_0x369139(0x327)](_0x2d48a1['id']);let {id:_0x447575,leadInfo:_0x12b013}=_0x2d48a1;if(!_0x447575)throw new Error(_0x369139(0x227));let _0x13190d=(_0x1b6a0c,_0x406313,_0x86949d)=>{const _0x5c4d05=_0x369139;_0x86949d[_0x5c4d05(0x44d)](_0x23b81a=>{const _0x46a8e9=_0x5c4d05;_0x1b6a0c[_0x23b81a]!==void 0x0&&(_0x406313[_0x46a8e9(0x3e9)+_0x23b81a]=_0x1b6a0c[_0x23b81a]);});},_0x36b54c={};if(_0x13190d(_0x12b013,_0x36b54c,[_0x369139(0x62d),_0x369139(0x589),'email','cpf','status',_0x369139(0x31f),_0x369139(0x249),_0x369139(0x2bd),'responsavelid']),Array['isArray'](_0x12b013[_0x369139(0x24a)])&&(_0x36b54c['leadInfo.customFields']=_0x12b013['customFields'][_0x369139(0x30e)](_0x6987dd=>({'_id':_0x6987dd['_id'],'value':_0x6987dd[_0x369139(0x1a0)]}))),_0x2d48a1[_0x369139(0x3a2)][_0x369139(0x435)]!==void 0x0&&(_0x36b54c['leadInfo.desativadoFluxoAte']=Number(_0x2d48a1['leadInfo']['desativadoFluxoAte'])),_0x2d48a1['unreadcount']!==void 0x0&&(_0x36b54c['unreadcount']=Number(_0x2d48a1[_0x369139(0x3b6)])),Object[_0x369139(0x3e1)](_0x36b54c)[_0x369139(0x24d)]===0x0)throw new Error(_0x369139(0x41b));let _0x23904f=this[_0x369139(0x487)][_0x369139(0x743)];if(!_0x23904f)throw new Error(_0x369139(0x371));if(!await I[_0x369139(0x538)]({'id':_0x2d48a1['id'],'owner':_0x23904f})){let _0x1b4444=(await this[_0x369139(0x4e6)]({'numbers':[_0x2d48a1['id']]}))[0x0];if(!_0x1b4444[_0x369139(0x725)]&&!(0x0,w[_0x369139(0x270)])(_0x1b4444[_0x369139(0x202)])&&!_0x1b4444[_0x369139(0x202)]['includes'](_0x369139(0x32c)))throw new g(_0x1b4444);_0x2d48a1['id']=_0x1b4444[_0x369139(0x202)];}let _0x5b241c=await I['findOneAndUpdate']({'id':_0x2d48a1['id'],'owner':_0x23904f},{'$set':_0x36b54c},{'new':!0x0,'upsert':!0x0});return _0x5b241c&&G(this[_0x369139(0x3d1)],_0x369139(0x3ea),{'chat':_0x5b241c}),_0x5b241c?(this[_0x369139(0x697)][_0x369139(0x69e)](this[_0x369139(0x3d1)]+'\x20('+this[_0x369139(0x487)][_0x369139(0x743)]+_0x369139(0x5d3)+_0x5b241c),_0x5b241c):{'message':_0x369139(0x237)};}catch(_0x261c68){throw this[_0x369139(0x697)][_0x369139(0x5ee)](this[_0x369139(0x3d1)]+'\x20('+this['instance']['wuid']+_0x369139(0x442)+_0x261c68),new g(_0x369139(0x3c4)+_0x261c68['message']);}}async[a0_0x2aad5a(0x69d)](_0x478373){const _0x36fff5=a0_0x2aad5a;let _0x269c05=this[_0x36fff5(0x487)][_0x36fff5(0x743)];try{let _0x207ec4=await ie[_0x36fff5(0x43e)](_0x269c05);_0x207ec4||(_0x207ec4=new ie({'_id':_0x269c05}),await _0x207ec4[_0x36fff5(0x24b)]());let _0x55db49=_0x478373[_0x36fff5(0x2c1)]?_0x207ec4[_0x36fff5(0x555)][_0x36fff5(0x5a7)](_0x5e4aca=>_0x5e4aca['_id']===_0x478373[_0x36fff5(0x2c1)]):-0x1;if(_0x478373[_0x36fff5(0x1d1)]&&_0x55db49>-0x1)_0x207ec4[_0x36fff5(0x555)][_0x36fff5(0x259)](_0x55db49,0x1);else{if(_0x55db49>-0x1){let _0x45df5d=_0x207ec4['agents'][_0x55db49];_0x478373[_0x36fff5(0x712)]&&(_0x45df5d[_0x36fff5(0x712)]=_0x478373[_0x36fff5(0x712)]),_0x478373['name']&&(_0x45df5d['name']=_0x478373[_0x36fff5(0x72c)]),_0x478373[_0x36fff5(0x75c)]&&(_0x45df5d[_0x36fff5(0x75c)]=_0x478373['email']),_0x478373['role']&&(_0x45df5d['role']=_0x478373[_0x36fff5(0x48f)]);}else _0x207ec4['agents'][_0x36fff5(0x338)]({'_id':_0x478373['_id']||new be[(_0x36fff5(0x433))][(_0x36fff5(0x4a7))][(_0x36fff5(0x571))]()[_0x36fff5(0x52a)](),'fone':_0x478373[_0x36fff5(0x712)],'name':_0x478373[_0x36fff5(0x72c)],'email':_0x478373['email'],'role':_0x478373[_0x36fff5(0x48f)]});}let _0x36683a=await _0x207ec4['save']();return this[_0x36fff5(0x17e)]=_0x36683a,this[_0x36fff5(0x697)]['verbose'](this[_0x36fff5(0x3d1)]+'\x20('+this[_0x36fff5(0x487)][_0x36fff5(0x743)]+_0x36fff5(0x378)),this[_0x36fff5(0x697)][_0x36fff5(0x69e)](this[_0x36fff5(0x3d1)]+'\x20('+this[_0x36fff5(0x487)]['wuid']+_0x36fff5(0x5d3)+this[_0x36fff5(0x17e)]),_0x36683a;}catch(_0x105267){throw this['logger'][_0x36fff5(0x5ee)](this[_0x36fff5(0x3d1)]+'\x20('+this[_0x36fff5(0x487)][_0x36fff5(0x743)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x105267),new g(_0x36fff5(0x4cd)+_0x105267['message']);}}async[a0_0x2aad5a(0x175)](_0x313fe5){const _0x2cb041=a0_0x2aad5a;let _0x2ebac9=this['instance']['wuid'];try{let _0x2f3c52=await ie['findById'](_0x2ebac9);_0x2f3c52||(_0x2f3c52=new ie({'_id':_0x2ebac9}),await _0x2f3c52[_0x2cb041(0x24b)]());let _0x33cbd6=_0x313fe5['_id']?_0x2f3c52[_0x2cb041(0x24a)]['findIndex'](_0x3623e2=>_0x3623e2[_0x2cb041(0x2c1)]===_0x313fe5[_0x2cb041(0x2c1)]):-0x1,_0x3cf156=!0x1,_0x5895bc=_0x2f3c52[_0x2cb041(0x24a)][_0x2cb041(0x4db)](_0x2193d6=>_0x2193d6[_0x2cb041(0x27a)]===_0x313fe5[_0x2cb041(0x27a)]);if(_0x313fe5['delete']&&_0x33cbd6>-0x1)_0x2f3c52['customFields'][_0x2cb041(0x259)](_0x33cbd6,0x1),_0x3cf156=!0x0;else{if(_0x33cbd6>-0x1){if(_0x2f3c52[_0x2cb041(0x24a)]['some'](_0x1f4de5=>_0x1f4de5[_0x2cb041(0x72c)]===_0x313fe5[_0x2cb041(0x72c)]&&_0x1f4de5[_0x2cb041(0x2c1)]!==_0x313fe5['_id']))throw new Error(_0x2cb041(0x1da));let _0x1a8bb8=_0x2f3c52[_0x2cb041(0x24a)][_0x33cbd6];_0x313fe5[_0x2cb041(0x27a)]&&(_0x5895bc||!Number[_0x2cb041(0x2ca)](_0x313fe5[_0x2cb041(0x27a)]))&&(_0x1a8bb8['order']=_0x313fe5[_0x2cb041(0x27a)],_0x3cf156=!0x0),_0x313fe5[_0x2cb041(0x72c)]&&(_0x1a8bb8['name']=_0x313fe5[_0x2cb041(0x72c)]);}else{if(_0x2f3c52[_0x2cb041(0x24a)]['some'](_0x5edf05=>_0x5edf05[_0x2cb041(0x72c)]===_0x313fe5[_0x2cb041(0x72c)]&&_0x5edf05[_0x2cb041(0x2c1)]!==_0x313fe5['_id']))throw new Error(_0x2cb041(0x1da));_0x2f3c52[_0x2cb041(0x24a)]['push']({'_id':_0x313fe5['_id']||new be['default'][(_0x2cb041(0x4a7))][(_0x2cb041(0x571))]()[_0x2cb041(0x52a)](),'order':_0x313fe5['order'],'name':_0x313fe5[_0x2cb041(0x72c)]}),_0x3cf156=!0x0;}}if(_0x3cf156){_0x2f3c52[_0x2cb041(0x24a)][_0x2cb041(0x6e2)]((_0x206a38,_0x41f5a1)=>_0x206a38['order']>_0x41f5a1['order']?0x1:_0x41f5a1['order']>_0x206a38[_0x2cb041(0x27a)]?-0x1:0x0);for(let _0x346941=0x0;_0x346941<_0x2f3c52[_0x2cb041(0x24a)][_0x2cb041(0x24d)];_0x346941++)_0x2f3c52['customFields'][_0x346941][_0x2cb041(0x27a)]=_0x346941+0x1;}let _0x45d9f2=await _0x2f3c52[_0x2cb041(0x24b)]();return this[_0x2cb041(0x17e)]=_0x45d9f2,this['logger'][_0x2cb041(0x69e)](this[_0x2cb041(0x3d1)]+'\x20('+this[_0x2cb041(0x487)][_0x2cb041(0x743)]+_0x2cb041(0x166)),this[_0x2cb041(0x697)][_0x2cb041(0x69e)](this[_0x2cb041(0x3d1)]+'\x20('+this[_0x2cb041(0x487)][_0x2cb041(0x743)]+_0x2cb041(0x5d3)+this[_0x2cb041(0x17e)]),_0x45d9f2;}catch(_0x14a71a){throw this['logger'][_0x2cb041(0x5ee)](this[_0x2cb041(0x3d1)]+'\x20('+this[_0x2cb041(0x487)][_0x2cb041(0x743)]+_0x2cb041(0x5b1)+_0x14a71a),new g('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x14a71a[_0x2cb041(0x23a)]);}}async[a0_0x2aad5a(0x678)](_0x5c23bd){const _0xbcfbfb=a0_0x2aad5a;let _0x2547c4=this[_0xbcfbfb(0x487)][_0xbcfbfb(0x743)];try{let _0x101c87=await ie[_0xbcfbfb(0x43e)](_0x2547c4);_0x101c87||(_0x101c87=new ie({'_id':_0x2547c4}),await _0x101c87[_0xbcfbfb(0x24b)]()),_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x667)]=_0x5c23bd?.[_0xbcfbfb(0x667)]!==void 0x0?_0x5c23bd?.['enabled']:_0x101c87['flowConfig'][_0xbcfbfb(0x667)],_0x101c87[_0xbcfbfb(0x65c)]['ignoreGroups']=_0x5c23bd?.[_0xbcfbfb(0x4fe)]!==void 0x0?_0x5c23bd?.['ignoreGroups']:_0x101c87[_0xbcfbfb(0x65c)]['ignoreGroups'],_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x30b)]=_0x5c23bd?.[_0xbcfbfb(0x30b)]??_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x30b)],_0x101c87['flowConfig'][_0xbcfbfb(0x238)]=_0x5c23bd?.[_0xbcfbfb(0x238)]??_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x238)],_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x6cb)]=_0x5c23bd?.['stopMinutes']??_0x101c87[_0xbcfbfb(0x65c)][_0xbcfbfb(0x6cb)];let _0x54a6ec=await _0x101c87[_0xbcfbfb(0x24b)]();return this[_0xbcfbfb(0x17e)]=_0x54a6ec,this[_0xbcfbfb(0x697)]['verbose'](this[_0xbcfbfb(0x3d1)]+'\x20('+this[_0xbcfbfb(0x487)][_0xbcfbfb(0x743)]+'):\x20alterando\x20this.AutomateSystem'),this[_0xbcfbfb(0x697)][_0xbcfbfb(0x69e)](this[_0xbcfbfb(0x3d1)]+'\x20('+this[_0xbcfbfb(0x487)]['wuid']+_0xbcfbfb(0x5d3)+this[_0xbcfbfb(0x17e)]),_0x54a6ec;}catch(_0x22509c){throw this[_0xbcfbfb(0x697)][_0xbcfbfb(0x5ee)](this[_0xbcfbfb(0x3d1)]+'\x20('+this[_0xbcfbfb(0x487)][_0xbcfbfb(0x743)]+_0xbcfbfb(0x621)+_0x22509c),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x22509c['message']);}}async[a0_0x2aad5a(0x27c)](){const _0x482957=a0_0x2aad5a;let _0x154111=this[_0x482957(0x487)]['wuid'];try{let _0x44d929=await ie['findById'](_0x154111);return _0x44d929||(_0x44d929=new ie({'_id':_0x154111})),_0x44d929[_0x482957(0x65c)]=_0x44d929[_0x482957(0x65c)]||{},_0x44d929[_0x482957(0x65c)][_0x482957(0x667)]===void 0x0&&(_0x44d929[_0x482957(0x65c)]['enabled']=!0x1),_0x44d929['flowConfig'][_0x482957(0x4fe)]===void 0x0&&(_0x44d929['flowConfig'][_0x482957(0x4fe)]=!0x0),_0x44d929[_0x482957(0x65c)][_0x482957(0x30b)]===void 0x0&&(_0x44d929[_0x482957(0x65c)][_0x482957(0x30b)]='!'),_0x44d929[_0x482957(0x65c)]['stopConversation']===void 0x0&&(_0x44d929['flowConfig'][_0x482957(0x238)]=_0x482957(0x2fe)),_0x44d929[_0x482957(0x65c)][_0x482957(0x6cb)]===void 0x0&&(_0x44d929[_0x482957(0x65c)][_0x482957(0x6cb)]=0x14),await _0x44d929['save'](),this[_0x482957(0x17e)]=_0x44d929,this[_0x482957(0x697)][_0x482957(0x69e)](this[_0x482957(0x3d1)]+'\x20('+this[_0x482957(0x487)][_0x482957(0x743)]+_0x482957(0x451)),this['logger']['verbose'](this[_0x482957(0x17e)]),_0x44d929;}catch(_0x4ec124){throw this['logger'][_0x482957(0x5ee)](this['instanceName']+'\x20('+this[_0x482957(0x487)][_0x482957(0x743)]+_0x482957(0x452)+_0x4ec124[_0x482957(0x23a)]),new g(_0x482957(0x642)+_0x4ec124[_0x482957(0x23a)]);}}async['scheduleNextCheck'](){const _0x388dc2=a0_0x2aad5a;let _0x52330e=()=>{const _0x39a819=a0_0x50e5;this['logger'][_0x39a819(0x69e)](this['instanceName']+'\x20('+this[_0x39a819(0x487)][_0x39a819(0x743)]+_0x39a819(0x27b)+this[_0x39a819(0x39c)]+_0x39a819(0x49d));},_0x5b7941=async()=>{const _0x1a855c=a0_0x50e5;this[_0x1a855c(0x697)]['verbose'](this['instanceName']+'\x20('+this[_0x1a855c(0x487)][_0x1a855c(0x743)]+_0x1a855c(0x2b5));let _0x2044ad=Date[_0x1a855c(0x463)]()-0xc*0x3c*0x3c*0x3e8;return await U[_0x1a855c(0x2f0)]({'owner':this[_0x1a855c(0x487)]['wuid'],'status':{'$in':[_0x1a855c(0x559),_0x1a855c(0x714)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x2044ad}},{'when':0x0}]});},_0x58a5e6=async _0x8dc00c=>{const _0x5eecc1=a0_0x50e5;for(let _0x298598 of _0x8dc00c){if(!await U[_0x5eecc1(0x363)]({'_id':_0x298598[_0x5eecc1(0x2c1)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date[_0x5eecc1(0x463)]()}}))return;if(!this[_0x5eecc1(0x524)]){this[_0x5eecc1(0x697)]['verbose'](this[_0x5eecc1(0x3d1)]+'\x20('+this[_0x5eecc1(0x487)][_0x5eecc1(0x743)]+_0x5eecc1(0x1e9));break;}(!_0x298598[_0x5eecc1(0x59f)]||_0x298598['remoteJidsRemaining']['length']===0x0)&&(_0x298598=await U[_0x5eecc1(0x5f2)](_0x298598[_0x5eecc1(0x2c1)],{'$set':{'status':_0x5eecc1(0x714),'remoteJidsRemaining':[..._0x298598[_0x5eecc1(0x60b)]]}},{'new':!0x0}));for(let _0x3d7453 of _0x298598[_0x5eecc1(0x59f)]){if(this[_0x5eecc1(0x1cb)]=Date[_0x5eecc1(0x463)](),_0x298598['messagesSend'][_0x5eecc1(0x4db)](_0x2c8be9=>_0x2c8be9[_0x5eecc1(0x261)]===_0x3d7453)){this['logger'][_0x5eecc1(0x69e)](this[_0x5eecc1(0x3d1)]+'\x20('+this[_0x5eecc1(0x487)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x3d7453+_0x5eecc1(0x530));continue;}try{let _0x44c83a=await this[_0x5eecc1(0x21b)](_0x3d7453,_0x298598),_0x185538={'remoteJid':_0x3d7453,'error':_0x44c83a[_0x5eecc1(0x5ee)],'id':_0x44c83a['id']||null,'error_log':_0x44c83a['error_log']||null,'log_timestamp':Date[_0x5eecc1(0x463)]()};if((await U[_0x5eecc1(0x5f2)](_0x298598[_0x5eecc1(0x2c1)],{'$push':{'messagesSend':_0x185538},'$pull':{'remoteJidsRemaining':_0x3d7453}},{'new':!0x0}))[_0x5eecc1(0x1a9)]==='stopped'){this[_0x5eecc1(0x697)][_0x5eecc1(0x69e)](this['instanceName']+'\x20('+this[_0x5eecc1(0x487)][_0x5eecc1(0x743)]+_0x5eecc1(0x44b)+_0x298598[_0x5eecc1(0x2c1)]+_0x5eecc1(0x668));break;}if(!this['isConnected']){this[_0x5eecc1(0x697)][_0x5eecc1(0x69e)](this[_0x5eecc1(0x3d1)]+'\x20('+this[_0x5eecc1(0x487)]['wuid']+_0x5eecc1(0x2f2));break;}if(!this[_0x5eecc1(0x39c)]){this[_0x5eecc1(0x697)][_0x5eecc1(0x69e)](this[_0x5eecc1(0x3d1)]+'\x20('+this[_0x5eecc1(0x487)][_0x5eecc1(0x743)]+_0x5eecc1(0x44b)+_0x298598[_0x5eecc1(0x2c1)]+_0x5eecc1(0x5f0));break;}let _0x16f75f=this[_0x5eecc1(0x46e)](_0x298598['delaySecMin'],_0x298598[_0x5eecc1(0x3f9)]);await this['sleep'](_0x16f75f);}catch(_0x4d3240){this[_0x5eecc1(0x697)][_0x5eecc1(0x5ee)](this['instanceName']+'\x20('+this['instance'][_0x5eecc1(0x743)]+_0x5eecc1(0x45c)+_0x3d7453+':\x20'+_0x4d3240[_0x5eecc1(0x23a)]);let _0x5d4a54={'remoteJid':_0x3d7453,'status':_0x5eecc1(0x5ee),'timestamp':Date[_0x5eecc1(0x463)](),'error':_0x4d3240[_0x5eecc1(0x23a)]};await U[_0x5eecc1(0x5f2)](_0x298598[_0x5eecc1(0x2c1)],{'$push':{'messagesSend':_0x5d4a54},'$pull':{'remoteJidsRemaining':_0x3d7453}},{'new':!0x0});}}let _0x19e1b8=await U['findById'](_0x298598['_id']);_0x19e1b8[_0x5eecc1(0x59f)][_0x5eecc1(0x24d)]===0x0&&_0x19e1b8[_0x5eecc1(0x1a9)]!==_0x5eecc1(0x1be)&&await U[_0x5eecc1(0x5f2)](_0x298598[_0x5eecc1(0x2c1)],{'$set':{'status':_0x5eecc1(0x603)}},{'new':!0x0}),await new Promise(_0xfb7bab=>setTimeout(_0xfb7bab,0x1388));}},_0x525f75=async()=>{const _0x5176ff=a0_0x50e5;let _0x41821f=await U[_0x5176ff(0x538)]({'owner':this[_0x5176ff(0x487)][_0x5176ff(0x743)],'status':'scheduled','when':{'$gt':Date[_0x5176ff(0x463)]()}})['sort']({'when':0x1});_0x41821f&&_0x41821f[_0x5176ff(0x401)]-Date['now']()<=0x5265c00?this[_0x5176ff(0x521)]=_0x41821f[_0x5176ff(0x401)]-Date[_0x5176ff(0x463)]():this['delayMessage']=(0x3c+Math[_0x5176ff(0x47a)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x5176ff(0x521)]=Math[_0x5176ff(0x6fe)](this[_0x5176ff(0x521)],0x7d0);let _0x503ffa=Math[_0x5176ff(0x31b)](this[_0x5176ff(0x521)]/0xea60);if(_0x41821f){let _0x45c0a8=new Date(_0x41821f[_0x5176ff(0x401)])[_0x5176ff(0x6f6)]();this[_0x5176ff(0x697)][_0x5176ff(0x69e)](this[_0x5176ff(0x3d1)]+'\x20('+this[_0x5176ff(0x487)][_0x5176ff(0x743)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x45c0a8+_0x5176ff(0x17d)+_0x503ffa+_0x5176ff(0x5d0));}else this[_0x5176ff(0x697)][_0x5176ff(0x69e)](this[_0x5176ff(0x3d1)]+'\x20('+this[_0x5176ff(0x487)][_0x5176ff(0x743)]+_0x5176ff(0x3b8)+_0x503ffa+_0x5176ff(0x5d0));setTimeout(()=>this[_0x5176ff(0x5a8)](),this['delayMessage']);};if(this[_0x388dc2(0x39c)]&&Date[_0x388dc2(0x463)]()-this['lastSend']<0x1d4c0){_0x52330e();return;}try{let _0x4ff225=await _0x5b7941();_0x4ff225['length']===0x0?this[_0x388dc2(0x697)][_0x388dc2(0x69e)](this[_0x388dc2(0x3d1)]+'\x20('+this[_0x388dc2(0x487)][_0x388dc2(0x743)]+_0x388dc2(0x75b)):(this[_0x388dc2(0x39c)]=_0x4ff225[0x0][_0x388dc2(0x2c1)],await _0x58a5e6(_0x4ff225)),await _0x525f75(),this['processingScheduleMessageId']=null;}catch(_0x384c66){this[_0x388dc2(0x697)][_0x388dc2(0x5ee)](_0x388dc2(0x70c)+_0x384c66[_0x388dc2(0x23a)]);}}[a0_0x2aad5a(0x46e)](_0x33c5fc,_0x2cdeaf){const _0x98d5bd=a0_0x2aad5a;return _0x33c5fc=Math[_0x98d5bd(0x6fe)](0.5,_0x33c5fc),_0x2cdeaf=Math['max'](0x3,_0x2cdeaf),Math[_0x98d5bd(0x47a)](Math[_0x98d5bd(0x71e)]()*(_0x2cdeaf-_0x33c5fc+0x1)+_0x33c5fc)*0x3e8;}['sleep'](_0x1801bf){return new Promise(_0x53ef35=>setTimeout(_0x53ef35,_0x1801bf));}async['getVariablesChat'](_0xcc69a5){const _0x528719=a0_0x2aad5a;if(!this[_0x528719(0x17e)]&&(await this[_0x528719(0x27c)](),!this[_0x528719(0x17e)]))return null;_0xcc69a5=this['createJid'](_0xcc69a5);let _0x5a202=await I[_0x528719(0x538)]({'id':_0xcc69a5,'owner':this[_0x528719(0x487)][_0x528719(0x743)]}),_0x21c59e={};if(_0x5a202&&_0x5a202[_0x528719(0x3a2)]){let _0xa18f38=_0x5a202[_0x528719(0x3a2)];typeof _0xa18f38[_0x528719(0x62d)]==_0x528719(0x1e7)&&(_0x21c59e[_0x528719(0x62d)]=_0xa18f38[_0x528719(0x62d)]),typeof _0xa18f38['nomecompleto']==_0x528719(0x1e7)&&(_0x21c59e[_0x528719(0x589)]=_0xa18f38[_0x528719(0x589)]),typeof _0xa18f38[_0x528719(0x75c)]==_0x528719(0x1e7)&&(_0x21c59e['email']=_0xa18f38[_0x528719(0x75c)]),typeof _0xa18f38[_0x528719(0x5d7)]==_0x528719(0x1e7)&&(_0x21c59e[_0x528719(0x5d7)]=_0xa18f38[_0x528719(0x5d7)]),typeof _0xa18f38['status']=='string'&&(_0x21c59e[_0x528719(0x1a9)]=_0xa18f38[_0x528719(0x1a9)]),typeof _0xa18f38[_0x528719(0x31f)]==_0x528719(0x1e7)&&(_0x21c59e[_0x528719(0x31f)]=_0xa18f38['notas']),typeof _0xa18f38[_0x528719(0x565)]==_0x528719(0x1e7)&&(_0x21c59e[_0x528719(0x565)]=_0xa18f38[_0x528719(0x565)]),Array[_0x528719(0x2a8)](_0xa18f38[_0x528719(0x249)])&&(_0x21c59e[_0x528719(0x249)]=_0xa18f38['tags'][_0x528719(0x4c3)](',\x20'));}return _0x5a202&&_0x5a202[_0x528719(0x3a2)]&&_0x5a202[_0x528719(0x3a2)]['customFields']&&_0x5a202['leadInfo'][_0x528719(0x24a)]['forEach'](_0x4b43ed=>{const _0x480e3b=_0x528719;let _0x5968e2=this[_0x480e3b(0x17e)]?.[_0x480e3b(0x24a)][_0x480e3b(0x2f0)](_0x31e318=>_0x31e318[_0x480e3b(0x2c1)]===_0x4b43ed[_0x480e3b(0x2c1)]);_0x5968e2&&(_0x21c59e[_0x5968e2[_0x480e3b(0x72c)]]=_0x4b43ed['value']);}),_0x21c59e;}async[a0_0x2aad5a(0x38f)](_0x36b69b,_0x2fd9be){const _0x3c6077=a0_0x2aad5a;let _0x515439=await this[_0x3c6077(0x407)](_0x2fd9be);return this[_0x3c6077(0x1b0)](_0x36b69b,_0x515439);}async[a0_0x2aad5a(0x2ee)](_0x2ec842){const _0x5b3a36=a0_0x2aad5a;try{if(this[_0x5b3a36(0x697)]['verbose'](this[_0x5b3a36(0x3d1)]+'\x20('+this[_0x5b3a36(0x487)][_0x5b3a36(0x743)]+_0x5b3a36(0x566)),_0x2ec842['delete']&&_0x2ec842[_0x5b3a36(0x2c1)]){if(this[_0x5b3a36(0x39c)]===_0x2ec842[_0x5b3a36(0x2c1)][_0x5b3a36(0x52a)]())throw new Error(_0x5b3a36(0x607));let _0x1de858=await U[_0x5b3a36(0x33d)](_0x2ec842[_0x5b3a36(0x2c1)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1de858;}let _0x263acf;if(_0x2ec842[_0x5b3a36(0x2c1)]&&(_0x263acf=await U[_0x5b3a36(0x538)]({'owner':this[_0x5b3a36(0x487)]['wuid'],'_id':_0x2ec842[_0x5b3a36(0x2c1)]})),_0x263acf){let _0x1329c5=_0x2ec842;this[_0x5b3a36(0x39c)]===_0x263acf[_0x5b3a36(0x2c1)]['toString']()&&(_0x1329c5={'status':_0x2ec842[_0x5b3a36(0x1a9)],'_id':_0x2ec842[_0x5b3a36(0x2c1)]});let _0x18a1f6=await U[_0x5b3a36(0x5f2)](_0x263acf['_id'],{'$set':_0x1329c5},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x18a1f6;}else{_0x2ec842['owner']=this[_0x5b3a36(0x487)]['wuid'];let _0x51ccdc=await new U(_0x2ec842)[_0x5b3a36(0x24b)]();return setTimeout(()=>this[_0x5b3a36(0x5a8)](),0x7d0),_0x51ccdc;}}catch(_0x46f864){throw this[_0x5b3a36(0x697)][_0x5b3a36(0x5ee)](this[_0x5b3a36(0x3d1)]+'\x20('+this[_0x5b3a36(0x487)][_0x5b3a36(0x743)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+_0x46f864),new g('Erro:'+_0x46f864[_0x5b3a36(0x23a)]);}}async[a0_0x2aad5a(0x6c4)](){const _0x367098=a0_0x2aad5a;try{return await U[_0x367098(0x2f0)]({'owner':this[_0x367098(0x487)][_0x367098(0x743)]})[_0x367098(0x6e2)]({'when':0x1});}catch(_0x21b5c9){throw this['logger']['error'](this[_0x367098(0x3d1)]+'\x20('+this['instance'][_0x367098(0x743)]+_0x367098(0x578)+_0x21b5c9),new g(_0x367098(0x471)+_0x21b5c9[_0x367098(0x23a)]);}}async[a0_0x2aad5a(0x39f)](){const _0x140001=a0_0x2aad5a;try{return await U['deleteMany']({'owner':this[_0x140001(0x487)][_0x140001(0x743)],'status':_0x140001(0x603)}),this[_0x140001(0x697)]['verbose'](this[_0x140001(0x3d1)]+'\x20('+this[_0x140001(0x487)][_0x140001(0x743)]+_0x140001(0x33b)),this[_0x140001(0x6c4)]();}catch(_0xf36c25){throw this[_0x140001(0x697)][_0x140001(0x5ee)](this[_0x140001(0x3d1)]+'\x20('+this[_0x140001(0x487)][_0x140001(0x743)]+_0x140001(0x23e)+_0xf36c25),new g('Erro:'+_0xf36c25[_0x140001(0x23a)]);}}async[a0_0x2aad5a(0x21b)](_0x20ac7a,_0x4973f1){const _0x587e63=a0_0x2aad5a;try{switch(_0x4973f1[_0x587e63(0x740)]){case'text':return await this[_0x587e63(0x66b)](_0x4973f1,_0x20ac7a);case _0x587e63(0x254):return await this[_0x587e63(0x46b)](_0x4973f1,_0x20ac7a);case _0x587e63(0x74d):return await this[_0x587e63(0x287)](_0x4973f1,_0x20ac7a);default:return this[_0x587e63(0x697)][_0x587e63(0x5ee)](this[_0x587e63(0x3d1)]+'\x20('+this[_0x587e63(0x487)][_0x587e63(0x743)]+'):\x20Comando\x20desconhecido:\x20'+_0x4973f1[_0x587e63(0x740)]),{'status':'error','detail':_0x587e63(0x6fc)};}}catch(_0xa425f7){return this[_0x587e63(0x697)]['error'](this['instanceName']+'\x20('+this['instance'][_0x587e63(0x743)]+_0x587e63(0x4e3)+_0xa425f7),{'status':'error','detail':_0xa425f7['message']};}}[a0_0x2aad5a(0x3e7)](_0x49f893){const _0x6be68a=a0_0x2aad5a;let _0x13ee03=_0x49f893[_0x6be68a(0x210)]('|'),_0x565d58=Math[_0x6be68a(0x47a)](Math[_0x6be68a(0x71e)]()*_0x13ee03[_0x6be68a(0x24d)]);return _0x13ee03[_0x565d58][_0x6be68a(0x2f3)]();}async['scheduleSendText'](_0xeee96d,_0x1992a3){const _0x20f01b=a0_0x2aad5a;if(this[_0x20f01b(0x697)][_0x20f01b(0x69e)](this[_0x20f01b(0x3d1)]+'\x20('+this[_0x20f01b(0x487)][_0x20f01b(0x743)]+'):\x20Enviando\x20texto'),!_0xeee96d[_0x20f01b(0x23a)][_0x20f01b(0x410)]||_0xeee96d['message'][_0x20f01b(0x410)][_0x20f01b(0x24d)]===0x0)return{'error':!0x0,'error_log':_0x20f01b(0x405)};let _0x2b7b68=this[_0x20f01b(0x3e7)](_0xeee96d['message'][_0x20f01b(0x410)]),_0xbb0fa=await this[_0x20f01b(0x38f)](_0x2b7b68,_0x1992a3),_0x2be354={'number':_0x1992a3,'options':{'delay':_0xeee96d[_0x20f01b(0x23a)][_0x20f01b(0x5af)]},'textMessage':{'text':_0xbb0fa}},_0x532571=null;try{let _0x224567=await this[_0x20f01b(0x4b8)](_0x2be354);if(_0x224567&&_0x224567[_0x20f01b(0x1a9)])return{'error':!0x1,'id':_0x224567[_0x20f01b(0x655)]['id']};_0x532571=JSON[_0x20f01b(0x318)](_0x224567),this[_0x20f01b(0x697)][_0x20f01b(0x69e)](this[_0x20f01b(0x3d1)]+'\x20('+this[_0x20f01b(0x487)]['wuid']+'):\x20'+_0x532571);}catch(_0x4d95c3){this[_0x20f01b(0x697)][_0x20f01b(0x5ee)](this[_0x20f01b(0x3d1)]+'\x20('+this['instance'][_0x20f01b(0x743)]+_0x20f01b(0x21a)+_0x4d95c3),_0x532571=_0x4d95c3[_0x20f01b(0x23a)];}if(_0x532571)return{'error':!0x0,'error_log':(typeof _0x532571==_0x20f01b(0x3a6)?JSON['stringify'](_0x532571,null,0x2):_0x532571)[_0x20f01b(0x436)](/[\[\]{}\n]/g,'\x20')[_0x20f01b(0x436)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x30cc26,_0x2a5cc9){const _0x380535=a0_0x2aad5a;this[_0x380535(0x697)][_0x380535(0x69e)](this[_0x380535(0x3d1)]+'\x20('+this[_0x380535(0x487)]['wuid']+_0x380535(0x415));let _0x1287d7;if(_0x30cc26['message'][_0x380535(0x410)]&&_0x30cc26[_0x380535(0x23a)][_0x380535(0x410)][_0x380535(0x24d)]>0x0){let _0x233ebc=this[_0x380535(0x3e7)](_0x30cc26[_0x380535(0x23a)][_0x380535(0x410)]);_0x1287d7=await this[_0x380535(0x38f)](_0x233ebc,_0x2a5cc9);}let _0x29a8e7={'number':_0x2a5cc9,'options':{'delay':_0x30cc26[_0x380535(0x23a)]['delay']},'mediaMessage':{'mediatype':_0x30cc26[_0x380535(0x23a)][_0x380535(0x69f)],'caption':_0x1287d7,'media':_0x30cc26[_0x380535(0x23a)][_0x380535(0x2e1)]}},_0x162f06=null;try{let _0x278f1e=await this[_0x380535(0x632)](_0x29a8e7);if(_0x278f1e&&_0x278f1e[_0x380535(0x1a9)])return{'error':!0x1,'id':_0x278f1e[_0x380535(0x655)]['id']};_0x162f06=JSON['stringify'](_0x278f1e),this[_0x380535(0x697)][_0x380535(0x69e)](this['instanceName']+'\x20('+this['instance'][_0x380535(0x743)]+'):\x20'+_0x162f06);}catch(_0x1378f0){this[_0x380535(0x697)][_0x380535(0x5ee)](this[_0x380535(0x3d1)]+'\x20('+this[_0x380535(0x487)][_0x380535(0x743)]+_0x380535(0x48c)+_0x1378f0['message']),_0x162f06=_0x1378f0[_0x380535(0x23a)];}if(_0x162f06)return{'error':!0x0,'error_log':(typeof _0x162f06=='object'?JSON['stringify'](_0x162f06,null,0x2):_0x162f06)['replace'](/[\[\]{}\n]/g,'\x20')[_0x380535(0x436)](/  +/g,'\x20')};}async[a0_0x2aad5a(0x287)](_0x1efb56,_0x19cc6d){const _0x110fa0=a0_0x2aad5a;this[_0x110fa0(0x697)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x110fa0(0x743)]+'):\x20Enviando\x20áudio');let _0x42e8d1={'number':_0x19cc6d,'options':{'delay':_0x1efb56['message']['delay']},'audioMessage':{'audio':_0x1efb56[_0x110fa0(0x23a)]['urlOrBase64']}},_0x1801d2=null;try{let _0x4fbea6=await this[_0x110fa0(0x2fb)](_0x42e8d1);if(_0x4fbea6&&_0x4fbea6[_0x110fa0(0x1a9)])return{'error':!0x1,'id':_0x4fbea6[_0x110fa0(0x655)]['id']};_0x1801d2=JSON[_0x110fa0(0x318)](_0x4fbea6),this[_0x110fa0(0x697)][_0x110fa0(0x69e)](this['instanceName']+'\x20('+this[_0x110fa0(0x487)][_0x110fa0(0x743)]+_0x110fa0(0x5d3)+_0x1801d2);}catch(_0x4bc8a1){this[_0x110fa0(0x697)]['error'](this[_0x110fa0(0x3d1)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:'+_0x4bc8a1),_0x1801d2=_0x4bc8a1[_0x110fa0(0x23a)];}if(_0x1801d2)return{'error':!0x0,'error_log':(typeof _0x1801d2==_0x110fa0(0x3a6)?JSON[_0x110fa0(0x318)](_0x1801d2,null,0x2):_0x1801d2)[_0x110fa0(0x436)](/[\[\]{}\n]/g,'\x20')[_0x110fa0(0x436)](/  +/g,'\x20')};}},Ee=require('path'),jt=class l{constructor(_0x3acf1b,_0x10d94b,_0x3e1e4f){const _0x10866b=a0_0x2aad5a;this['eventEmitter']=_0x3acf1b,this[_0x10866b(0x231)]=_0x10d94b,this[_0x10866b(0x620)]=_0x3e1e4f,this['db']={},this[_0x10866b(0x69b)]={},this[_0x10866b(0x697)]=new C(l[_0x10866b(0x72c)]),this[_0x10866b(0x519)]={},(this['removeInstance'](),this[_0x10866b(0x1ff)](),this[_0x10866b(0x6c1)](),Object[_0x10866b(0x1ed)](this['db'],_0x10d94b[_0x10866b(0x6e1)](_0x10866b(0x553))),Object[_0x10866b(0x1ed)](this[_0x10866b(0x69b)],_0x10d94b[_0x10866b(0x6e1)]('REDIS')),this[_0x10866b(0x625)]=this['db'][_0x10866b(0x569)]?this[_0x10866b(0x620)][_0x10866b(0x59e)]?.['db'](this['db'][_0x10866b(0x322)][_0x10866b(0x1bb)]+_0x10866b(0x3d7)):void 0x0,this[_0x10866b(0x6b5)]=this[_0x10866b(0x69b)][_0x10866b(0x569)]?new ye(this[_0x10866b(0x69b)]):void 0x0);}[a0_0x2aad5a(0x5e6)](_0x9fa7d2){const _0x3d5483=a0_0x2aad5a;let _0x103ef1=this[_0x3d5483(0x231)][_0x3d5483(0x6e1)](_0x3d5483(0x494));typeof _0x103ef1==_0x3d5483(0x1eb)&&_0x103ef1>0x0&&setTimeout(()=>{const _0x2c1abe=_0x3d5483;this['waInstances'][_0x9fa7d2]?.[_0x2c1abe(0x62b)]?.[_0x2c1abe(0x709)]!==_0x2c1abe(0x40f)&&delete this[_0x2c1abe(0x519)][_0x9fa7d2];},0x3e8*0x3c*_0x103ef1);}async[a0_0x2aad5a(0x615)](_0x4f3acb){const _0x489702=a0_0x2aad5a;if(_0x4f3acb&&!this[_0x489702(0x519)][_0x4f3acb])throw new x(_0x489702(0x53b)+_0x4f3acb+'\x22\x20not\x20found');let _0x23e7e8=[];for await(let [_0x4b4ec6,_0x38161b]of Object['entries'](this[_0x489702(0x519)]))if(_0x38161b&&_0x38161b[_0x489702(0x62b)]['state']===_0x489702(0x40f)){let _0x5bc939=await this[_0x489702(0x620)][_0x489702(0x1ca)][_0x489702(0x2f0)](_0x4b4ec6);_0x23e7e8['push']({'instance':{'instanceName':_0x4b4ec6,'apikey':_0x5bc939[_0x489702(0x177)],'owner':_0x38161b[_0x489702(0x743)],'profileName':await _0x38161b['getProfileName']()||_0x489702(0x3a1),'profilePictureUrl':_0x38161b[_0x489702(0x32a)]}});}return _0x23e7e8[_0x489702(0x2f0)](_0x29dffb=>_0x29dffb['instance'][_0x489702(0x3d1)]===_0x4f3acb)??_0x23e7e8;}[a0_0x2aad5a(0x6c1)](){setInterval(async()=>{const _0x4b7d7e=a0_0x50e5;if(this['db'][_0x4b7d7e(0x569)])(await this[_0x4b7d7e(0x625)]['collections']())[_0x4b7d7e(0x44d)](async _0x2f51f1=>{const _0x22bcf5=_0x4b7d7e;let _0x36e8d9=_0x2f51f1['namespace'][_0x22bcf5(0x436)](/^[\w-]+./,'');await this[_0x22bcf5(0x625)][_0x22bcf5(0x574)](_0x36e8d9)[_0x22bcf5(0x56c)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x8978cb=(0x0,se[_0x4b7d7e(0x660)])(j,{'encoding':_0x4b7d7e(0x6d0)});for await(let _0x1e1a42 of _0x8978cb)_0x1e1a42[_0x4b7d7e(0x176)]()&&(0x0,se[_0x4b7d7e(0x6ca)])((0x0,Ee['join'])(j,_0x1e1a42['name']),{'encoding':'utf-8'})[_0x4b7d7e(0x44d)](async _0x5164b5=>{const _0x3a5b0d=_0x4b7d7e;(_0x5164b5[_0x3a5b0d(0x723)](/^app.state.*/)||_0x5164b5['match'](/^session-.*/))&&(0x0,se[_0x3a5b0d(0x4cc)])((0x0,Ee[_0x3a5b0d(0x4c3)])(j,_0x1e1a42['name'],_0x5164b5),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x2aad5a(0x4a3)](_0x5a24e1){const _0x19b5e4=a0_0x2aad5a;this['db']['ENABLED']&&(await this[_0x19b5e4(0x620)][_0x19b5e4(0x59e)][_0x19b5e4(0x56b)](),(await this[_0x19b5e4(0x625)][_0x19b5e4(0x4be)]())[_0x19b5e4(0x24d)]>0x0&&await this[_0x19b5e4(0x625)][_0x19b5e4(0x6b9)](_0x5a24e1)),this[_0x19b5e4(0x69b)][_0x19b5e4(0x569)]&&(this[_0x19b5e4(0x6b5)]['reference']=_0x5a24e1,await this[_0x19b5e4(0x6b5)][_0x19b5e4(0x470)]()),!this['db']['ENABLED']&&!this['redis']['ENABLED']&&(0x0,se[_0x19b5e4(0x4cc)])((0x0,Ee['join'])(j,_0x5a24e1),{'recursive':!0x0,'force':!0x0});}async[a0_0x2aad5a(0x5f4)](){const _0x13941c=a0_0x2aad5a;let _0x2ed736=async _0x1664c1=>{const _0x558ec7=a0_0x50e5;let _0x302b5f=new Se(this[_0x558ec7(0x231)],this[_0x558ec7(0x6d5)],this[_0x558ec7(0x620)]);_0x302b5f[_0x558ec7(0x3d1)]=_0x1664c1,await _0x302b5f[_0x558ec7(0x31d)](),this[_0x558ec7(0x519)][_0x1664c1]=_0x302b5f;};try{if(this[_0x13941c(0x69b)][_0x13941c(0x569)]){let _0x28f9d6=await this['redisCache'][_0x13941c(0x2d0)]();_0x28f9d6?.[_0x13941c(0x24d)]>0x0&&_0x28f9d6['forEach'](async _0x3bac14=>await _0x2ed736(_0x3bac14[_0x13941c(0x210)](':')[0x1]));}if(this['db'][_0x13941c(0x569)]){await this[_0x13941c(0x620)][_0x13941c(0x59e)][_0x13941c(0x56b)]();let _0x191875=await this[_0x13941c(0x625)][_0x13941c(0x4be)]();_0x191875[_0x13941c(0x24d)]>0x0&&_0x191875[_0x13941c(0x44d)](async _0x464f49=>await _0x2ed736(_0x464f49[_0x13941c(0x38b)][_0x13941c(0x436)](/^[\w-]+\./,'')));return;}let _0x4f693f=(0x0,se[_0x13941c(0x660)])(j,{'encoding':'utf-8'});for await(let _0x2f5715 of _0x4f693f)if(_0x2f5715['isDirectory']()){if((0x0,se['readdirSync'])((0x0,Ee['join'])(j,_0x2f5715[_0x13941c(0x72c)]),{'encoding':_0x13941c(0x6d0)})[_0x13941c(0x24d)]===0x0){(0x0,se['rmSync'])((0x0,Ee[_0x13941c(0x4c3)])(j,_0x2f5715[_0x13941c(0x72c)]),{'recursive':!0x0,'force':!0x0});break;}await _0x2ed736(_0x2f5715[_0x13941c(0x72c)]);}}catch(_0xedf229){this['logger'][_0x13941c(0x5ee)](_0xedf229);}}[a0_0x2aad5a(0x37f)](){this['eventEmitter']['on']('remove.instance',async _0x5aef65=>{const _0x4441b0=a0_0x50e5;try{this[_0x4441b0(0x519)][_0x5aef65]=void 0x0;}catch{}try{this[_0x4441b0(0x4a3)](_0x5aef65);}finally{this[_0x4441b0(0x697)][_0x4441b0(0x47b)](_0x4441b0(0x53b)+_0x5aef65+'\x22\x20-\x20REMOVED');}});}[a0_0x2aad5a(0x1ff)](){const _0x35520a=a0_0x2aad5a;this[_0x35520a(0x6d5)]['on']('no.connection',async _0x54162f=>{const _0x314319=_0x35520a;try{this[_0x314319(0x519)][_0x54162f]=void 0x0,this[_0x314319(0x4a3)](_0x54162f);}catch(_0x1b98e1){this[_0x314319(0x697)][_0x314319(0x5ee)]({'localError':_0x314319(0x1ff),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x1b98e1});}finally{this[_0x314319(0x697)][_0x314319(0x47b)](_0x314319(0x53b)+_0x54162f+_0x314319(0x319));}});}},xe=require(a0_0x2aad5a(0x736)),ve=require('fs'),Bt=class extends B{constructor(_0x4e2f18,_0x485803){const _0x425122=a0_0x2aad5a;super(_0x485803),this[_0x425122(0x276)]=_0x4e2f18,this[_0x425122(0x231)]=_0x485803;}async[a0_0x2aad5a(0x253)](_0x1311f6,_0x4f45fa=!0x1){const _0x2efd31=a0_0x2aad5a;if(_0x1311f6['length']!==0x0)try{return this[_0x2efd31(0x522)]['ENABLED']&&_0x4f45fa?{'insertCount':(await this['chatModel'][_0x2efd31(0x3e4)]([..._0x1311f6]))['length']}:(_0x1311f6[_0x2efd31(0x44d)](_0x302c8a=>{const _0x2272e6=_0x2efd31;this[_0x2272e6(0x5ff)]({'path':(0x0,xe['join'])(this['storePath'],'chats',_0x302c8a[_0x2272e6(0x458)]),'fileName':_0x302c8a['id'],'data':_0x302c8a});}),{'insertCount':_0x1311f6[_0x2efd31(0x24d)]});}catch(_0x4c0c42){return _0x4c0c42;}finally{_0x1311f6=void 0x0;}}async[a0_0x2aad5a(0x2f0)](_0x156b80){const _0x17e6a2=a0_0x2aad5a;try{if(this['dbSettings'][_0x17e6a2(0x569)])return await this[_0x17e6a2(0x276)][_0x17e6a2(0x2f0)]({'owner':_0x156b80[_0x17e6a2(0x48b)][_0x17e6a2(0x458)]})[_0x17e6a2(0x6e2)]({'lastmsg':-0x1})[_0x17e6a2(0x25e)](_0x156b80?.[_0x17e6a2(0x25e)]??0x0)[_0x17e6a2(0x347)]();let _0x3c1c5f=[],_0x477d9e=(0x0,ve[_0x17e6a2(0x660)])((0x0,xe[_0x17e6a2(0x4c3)])(this[_0x17e6a2(0x715)],_0x17e6a2(0x3ea),_0x156b80[_0x17e6a2(0x48b)][_0x17e6a2(0x458)]));for await(let _0x53f2d0 of _0x477d9e)_0x53f2d0['isFile']()&&_0x3c1c5f[_0x17e6a2(0x338)](JSON['parse']((0x0,ve['readFileSync'])((0x0,xe[_0x17e6a2(0x4c3)])(this[_0x17e6a2(0x715)],'chats',_0x156b80[_0x17e6a2(0x48b)][_0x17e6a2(0x458)],_0x53f2d0['name']),{'encoding':_0x17e6a2(0x6d0)})));return _0x3c1c5f;}catch{return[];}}async[a0_0x2aad5a(0x1d1)](_0x846106){const _0x153155=a0_0x2aad5a;try{return this['dbSettings'][_0x153155(0x569)]?await this[_0x153155(0x276)][_0x153155(0x56c)]({..._0x846106[_0x153155(0x48b)]}):((0x0,ve[_0x153155(0x4cc)])((0x0,xe[_0x153155(0x4c3)])(this[_0x153155(0x715)],'chats',_0x846106[_0x153155(0x48b)][_0x153155(0x458)],_0x846106[_0x153155(0x48b)]['id']+'.josn'),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x846106[_0x153155(0x48b)]['id']}});}catch(_0x21d8d6){return{'error':_0x21d8d6?.[_0x153155(0x52a)]()};}}async[a0_0x2aad5a(0x538)](_0x597294){const _0x481ac2=a0_0x2aad5a;try{if(this['dbSettings'][_0x481ac2(0x569)])return await this[_0x481ac2(0x276)][_0x481ac2(0x538)]({'owner':_0x597294[_0x481ac2(0x48b)][_0x481ac2(0x458)]})['lean']();}catch{return null;}}async[a0_0x2aad5a(0x5ea)](_0x322a9a,_0x5edc88){const _0x4ef761=a0_0x2aad5a;try{this[_0x4ef761(0x522)]['ENABLED']&&await this[_0x4ef761(0x276)][_0x4ef761(0x32f)]({..._0x322a9a[_0x4ef761(0x48b)]},{'$set':_0x5edc88});}catch(_0x39c905){console[_0x4ef761(0x5ee)](_0x39c905);}}async[a0_0x2aad5a(0x3d4)](_0x25698,_0xd6f23f){const _0x7d1dc0=a0_0x2aad5a;try{if(this['dbSettings'][_0x7d1dc0(0x569)]){let _0x5f5c79=_0x25698['map']((_0x4d17e8,_0x447484)=>({'updateOne':{'filter':{..._0x4d17e8[_0x7d1dc0(0x48b)]},'update':{'$set':_0xd6f23f[_0x447484]}}}));await this['chatModel'][_0x7d1dc0(0x29f)](_0x5f5c79);}}catch(_0x57f97c){console['error'](_0x57f97c);}}},Ft=class{constructor(_0x17a904){const _0x17de16=a0_0x2aad5a;this[_0x17de16(0x5da)]=_0x17a904;}async[a0_0x2aad5a(0x66d)]({instanceName:_0x122605},_0xfe840b){const _0x28dfba=a0_0x2aad5a;return await this[_0x28dfba(0x5da)][_0x28dfba(0x519)][_0x122605][_0x28dfba(0x66d)](_0xfe840b);}async[a0_0x2aad5a(0x4e6)]({instanceName:_0x4c8c97},_0x436d33){const _0x5249ba=a0_0x2aad5a;return await this[_0x5249ba(0x5da)][_0x5249ba(0x519)][_0x4c8c97]['whatsappNumber'](_0x436d33);}async[a0_0x2aad5a(0x528)]({instanceName:_0x225dfe},_0x1e61b4){const _0xb40dac=a0_0x2aad5a;return await this[_0xb40dac(0x5da)][_0xb40dac(0x519)][_0x225dfe]['markMessageAsRead'](_0x1e61b4);}async[a0_0x2aad5a(0x42c)]({instanceName:_0x32761f},_0x559d14){const _0x56ca21=a0_0x2aad5a;return await this[_0x56ca21(0x5da)][_0x56ca21(0x519)][_0x32761f][_0x56ca21(0x42c)](_0x559d14);}async[a0_0x2aad5a(0x4b5)]({instanceName:_0x3c78d8},_0x55690d){const _0x2e64e9=a0_0x2aad5a;return await this[_0x2e64e9(0x5da)][_0x2e64e9(0x519)][_0x3c78d8][_0x2e64e9(0x4b5)](_0x55690d);}async[a0_0x2aad5a(0x22a)]({instanceName:_0x60e446},_0x308932){const _0x280405=a0_0x2aad5a;return await this['waMonitor'][_0x280405(0x519)][_0x60e446][_0x280405(0x37b)](_0x308932[_0x280405(0x1eb)]);}async[a0_0x2aad5a(0x3aa)]({instanceName:_0x43b8db},_0x199e92){const _0x3fc17e=a0_0x2aad5a;return await this[_0x3fc17e(0x5da)][_0x3fc17e(0x519)][_0x43b8db][_0x3fc17e(0x3aa)](_0x199e92[_0x3fc17e(0x1eb)]);}async[a0_0x2aad5a(0x4a1)]({instanceName:_0x3dfe56},_0xb421f1){const _0x4b0a75=a0_0x2aad5a;return await this[_0x4b0a75(0x5da)]['waInstances'][_0x3dfe56][_0x4b0a75(0x4a1)](_0xb421f1);}async['fetchContacts']({instanceName:_0x35ced8},_0xa3d650){const _0x53a752=a0_0x2aad5a;return await this[_0x53a752(0x5da)][_0x53a752(0x519)][_0x35ced8]['fetchContacts'](_0xa3d650);}async[a0_0x2aad5a(0x504)]({instanceName:_0x135b60},_0x530cae){const _0x4883d6=a0_0x2aad5a;return await this[_0x4883d6(0x5da)][_0x4883d6(0x519)][_0x135b60][_0x4883d6(0x504)](_0x530cae);}async[a0_0x2aad5a(0x5aa)]({instanceName:_0x5d876b},_0xb227ea){const _0x5e9626=a0_0x2aad5a;return await this['waMonitor'][_0x5e9626(0x519)][_0x5d876b][_0x5e9626(0x5aa)](_0xb227ea);}async[a0_0x2aad5a(0x5fb)]({instanceName:_0xca62fc},_0x286ff7){const _0x372d91=a0_0x2aad5a;return await this[_0x372d91(0x5da)][_0x372d91(0x519)][_0xca62fc]['fetchStatusMessage'](_0x286ff7);}async['fetchChats']({instanceName:_0x541101}){const _0x455073=a0_0x2aad5a;return await this['waMonitor']['waInstances'][_0x541101][_0x455073(0x3e3)]();}async['fetchPrivacySettings']({instanceName:_0x3793c2}){const _0x378bbd=a0_0x2aad5a;return await this['waMonitor'][_0x378bbd(0x519)][_0x3793c2]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x3519f6},_0xbdffae){const _0x242581=a0_0x2aad5a;return await this[_0x242581(0x5da)][_0x242581(0x519)][_0x3519f6][_0x242581(0x6b4)](_0xbdffae);}async['fetchBusinessProfile']({instanceName:_0x2982c1},_0x20085d){const _0x4d9b9c=a0_0x2aad5a;return await this[_0x4d9b9c(0x5da)][_0x4d9b9c(0x519)][_0x2982c1]['fetchBusinessProfile'](_0x20085d['number']);}async[a0_0x2aad5a(0x5ba)]({instanceName:_0x3cd3b5},_0x33b9d1){const _0x50c9c5=a0_0x2aad5a;return await this[_0x50c9c5(0x5da)][_0x50c9c5(0x519)][_0x3cd3b5][_0x50c9c5(0x5ba)](_0x33b9d1[_0x50c9c5(0x72c)]);}async[a0_0x2aad5a(0x1fb)]({instanceName:_0x37f57b},_0x455ea9){const _0xd338e5=a0_0x2aad5a;return await this[_0xd338e5(0x5da)][_0xd338e5(0x519)][_0x37f57b]['updateProfileStatus'](_0x455ea9[_0xd338e5(0x1a9)]);}async['updateProfilePicture']({instanceName:_0x11cd32},_0x27641b){const _0x4a9252=a0_0x2aad5a;return await this[_0x4a9252(0x5da)][_0x4a9252(0x519)][_0x11cd32]['updateProfilePicture'](_0x27641b[_0x4a9252(0x169)]);}async[a0_0x2aad5a(0x240)]({instanceName:_0xa0b046},_0xbf41a1){const _0x392de3=a0_0x2aad5a;return await this[_0x392de3(0x5da)][_0x392de3(0x519)][_0xa0b046]['removeProfilePicture']();}},Ms=require(a0_0x2aad5a(0x229)),Jt=class l{constructor(_0x35a67a,_0xde1c2f,_0x447dad,_0x1bfdb3,_0x49376f){const _0x235930=a0_0x2aad5a;this[_0x235930(0x5da)]=_0x35a67a,this[_0x235930(0x231)]=_0xde1c2f,this[_0x235930(0x620)]=_0x447dad,this[_0x235930(0x6d5)]=_0x1bfdb3,this['authService']=_0x49376f,this[_0x235930(0x697)]=new C(l[_0x235930(0x72c)]);}async[a0_0x2aad5a(0x1a6)]({instanceName:_0x13699e,apikey:_0x5b3c57}){const _0x63bd51=a0_0x2aad5a;let _0x492452=new Se(this['configService'],this[_0x63bd51(0x6d5)],this[_0x63bd51(0x620)]);_0x492452['instanceName']=_0x13699e,this['waMonitor']['waInstances'][_0x492452['instanceName']]=_0x492452,this[_0x63bd51(0x5da)]['delInstanceTime'](_0x492452[_0x63bd51(0x3d1)]);let _0xdbfcc1={};_0x5b3c57?(await this[_0x63bd51(0x620)][_0x63bd51(0x1ca)]['create']({'apikey':_0x5b3c57},_0x13699e),_0xdbfcc1['apikey']=_0x5b3c57):_0xdbfcc1=await this[_0x63bd51(0x675)]['generateHash']({'instanceName':_0x492452[_0x63bd51(0x3d1)]});let _0x225cea;return await _0x492452[_0x63bd51(0x31d)](),await(0x0,Ms[_0x63bd51(0x5af)])(0x7d0),_0x225cea=_0x492452['qrCode'],{'instance':{'instanceName':_0x492452[_0x63bd51(0x3d1)],'status':'created'},'hash':_0xdbfcc1,'qrcode':_0x225cea};}async[a0_0x2aad5a(0x31d)]({instanceName:_0x22743c}){const _0x3fb214=a0_0x2aad5a;try{let _0x33be06=this[_0x3fb214(0x5da)]['waInstances'][_0x22743c];switch(_0x33be06[_0x3fb214(0x62b)]?.['state']){case _0x3fb214(0x6f7):return await _0x33be06[_0x3fb214(0x31d)](),await(0x0,Ms[_0x3fb214(0x5af)])(0x7d0),_0x33be06[_0x3fb214(0x4d3)];case _0x3fb214(0x184):return _0x33be06[_0x3fb214(0x4d3)];default:return await this[_0x3fb214(0x3d2)]({'instanceName':_0x22743c});}}catch(_0x19bd3e){this['logger'][_0x3fb214(0x4d0)](_0x19bd3e);}}async[a0_0x2aad5a(0x3d2)]({instanceName:_0x429fcb}){const _0x3f94c3=a0_0x2aad5a;let _0x39917e=this[_0x3f94c3(0x5da)][_0x3f94c3(0x519)][_0x429fcb][_0x3f94c3(0x62b)],_0x17ee1d=null;_0x39917e[_0x3f94c3(0x709)]==='open'&&_0x429fcb&&(_0x17ee1d=await this[_0x3f94c3(0x5da)][_0x3f94c3(0x615)](_0x429fcb));let _0x3c57a8=null;return _0x39917e[_0x3f94c3(0x709)]==='connecting'&&_0x429fcb&&(_0x3c57a8=this['waMonitor'][_0x3f94c3(0x519)][_0x429fcb][_0x3f94c3(0x4d3)]),{'instance':_0x429fcb,'connectionStatus':_0x39917e,'instanceInfo':_0x17ee1d,'qrcode':_0x3c57a8};}async[a0_0x2aad5a(0x662)]({instanceName:_0x37b020}){const _0x22a88a=a0_0x2aad5a;try{return this[_0x22a88a(0x5da)][_0x22a88a(0x519)][_0x37b020]?.[_0x22a88a(0x40c)]?.['ws']?.[_0x22a88a(0x6f7)](),{'status':_0x22a88a(0x6f5),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x39e89e){this[_0x22a88a(0x697)][_0x22a88a(0x5ee)](_0x39e89e);}}async[a0_0x2aad5a(0x63b)]({instanceName:_0x57e78d}){const _0xbcd6b=a0_0x2aad5a;return _0x57e78d?this[_0xbcd6b(0x5da)][_0xbcd6b(0x615)](_0x57e78d):this[_0xbcd6b(0x5da)]['instanceInfo']();}async['logout']({instanceName:_0x1a7eae}){const _0x220c5d=a0_0x2aad5a;try{return await this[_0x220c5d(0x5da)][_0x220c5d(0x519)][_0x1a7eae]?.['client']?.[_0x220c5d(0x39a)](_0x220c5d(0x70a)+_0x1a7eae),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x101cf2){throw new A(_0x101cf2[_0x220c5d(0x52a)]());}}async[a0_0x2aad5a(0x2ef)]({instanceName:_0x167202}){const _0x2c1ed9=a0_0x2aad5a;if((await this[_0x2c1ed9(0x3d2)]({'instanceName':_0x167202}))[_0x2c1ed9(0x62b)][_0x2c1ed9(0x709)]==='open')throw new g(['Deletion\x20failed',_0x2c1ed9(0x457)]);try{return delete this[_0x2c1ed9(0x5da)]['waInstances'][_0x167202],{'error':!0x1,'message':_0x2c1ed9(0x5f6)};}catch(_0x147109){throw new g(_0x147109['toString']());}}async['refreshToken'](_0x1749e9,_0x5cd973){const _0x95ab80=a0_0x2aad5a;return await this[_0x95ab80(0x675)]['refreshToken'](_0x5cd973);}},ae=require(a0_0x2aad5a(0x2c4)),Gt=class{constructor(_0x35974c){this['waMonitor']=_0x35974c;}async['sendText']({instanceName:_0x50b748},_0x14ee66){const _0x340de9=a0_0x2aad5a;return await this['waMonitor']['waInstances'][_0x50b748][_0x340de9(0x4b8)](_0x14ee66);}async['sendMedia']({instanceName:_0x87a2ef},_0x58a3f9){const _0x155d29=a0_0x2aad5a;if((0x0,ae[_0x155d29(0x25d)])(_0x58a3f9?.[_0x155d29(0x632)]?.[_0x155d29(0x254)])&&!_0x58a3f9?.[_0x155d29(0x632)]?.[_0x155d29(0x4fa)])throw new g(_0x155d29(0x1a1));if((0x0,ae[_0x155d29(0x67a)])(_0x58a3f9?.['mediaMessage']?.['media'])||(0x0,ae[_0x155d29(0x25d)])(_0x58a3f9?.['mediaMessage']?.[_0x155d29(0x254)]))return await this[_0x155d29(0x5da)][_0x155d29(0x519)][_0x87a2ef]['mediaMessage'](_0x58a3f9);throw new g(_0x155d29(0x3fa));}async[a0_0x2aad5a(0x478)]({instanceName:_0x369ddf},_0x3df6c7){const _0x2dfa3f=a0_0x2aad5a;if((0x0,ae['isURL'])(_0x3df6c7[_0x2dfa3f(0x1dd)]['image'])||(0x0,ae[_0x2dfa3f(0x25d)])(_0x3df6c7[_0x2dfa3f(0x1dd)]['image']))return await this[_0x2dfa3f(0x5da)][_0x2dfa3f(0x519)][_0x369ddf][_0x2dfa3f(0x6df)](_0x3df6c7);throw new g(_0x2dfa3f(0x3fa));}async[a0_0x2aad5a(0x41a)]({instanceName:_0x5072ea},_0x41cf06){const _0x392688=a0_0x2aad5a;if((0x0,ae[_0x392688(0x67a)])(_0x41cf06[_0x392688(0x6a8)]['audio'])||(0x0,ae[_0x392688(0x25d)])(_0x41cf06[_0x392688(0x6a8)][_0x392688(0x74d)]))return await this[_0x392688(0x5da)][_0x392688(0x519)][_0x5072ea][_0x392688(0x2fb)](_0x41cf06);throw new g(_0x392688(0x3fa));}async[a0_0x2aad5a(0x311)]({instanceName:_0x32d6c0},_0xa82f81){const _0x5df4eb=a0_0x2aad5a;if((0x0,ae['isBase64'])(_0xa82f81[_0x5df4eb(0x2c0)][_0x5df4eb(0x632)]?.[_0x5df4eb(0x254)])&&!_0xa82f81[_0x5df4eb(0x2c0)][_0x5df4eb(0x632)]?.[_0x5df4eb(0x4fa)])throw new g(_0x5df4eb(0x1a1));return await this[_0x5df4eb(0x5da)][_0x5df4eb(0x519)][_0x32d6c0][_0x5df4eb(0x2c0)](_0xa82f81);}async[a0_0x2aad5a(0x73b)]({instanceName:_0x3c386e},_0x48285c){const _0x55f0a0=a0_0x2aad5a;return await this[_0x55f0a0(0x5da)]['waInstances'][_0x3c386e]['locationMessage'](_0x48285c);}async[a0_0x2aad5a(0x2d1)]({instanceName:_0x645062},_0x1c9205){const _0x572ddc=a0_0x2aad5a;return await this['waMonitor'][_0x572ddc(0x519)][_0x645062][_0x572ddc(0x3a0)](_0x1c9205);}async[a0_0x2aad5a(0x395)]({instanceName:_0x40d80c},_0x39553c){const _0xfeead8=a0_0x2aad5a;return await this[_0xfeead8(0x5da)]['waInstances'][_0x40d80c][_0xfeead8(0x2de)](_0x39553c);}async['sendContact']({instanceName:_0x5b06bc},_0x184260){const _0xad6864=a0_0x2aad5a;return await this[_0xad6864(0x5da)][_0xad6864(0x519)][_0x5b06bc][_0xad6864(0x2c6)](_0x184260);}async[a0_0x2aad5a(0x42e)]({instanceName:_0x23a8d8},_0x10640d){const _0x117744=a0_0x2aad5a;if(!_0x10640d[_0x117744(0x70b)]['reaction'][_0x117744(0x723)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x117744(0x32b));return await this[_0x117744(0x5da)][_0x117744(0x519)][_0x23a8d8][_0x117744(0x70b)](_0x10640d);}async[a0_0x2aad5a(0x52f)]({instanceName:_0x24029c},_0xde1c06){const _0x534e87=a0_0x2aad5a;return await this[_0x534e87(0x5da)][_0x534e87(0x519)][_0x24029c]['statusMessage'](_0xde1c06);}},qt=class{constructor(_0x41a891){const _0x163277=a0_0x2aad5a;this[_0x163277(0x5da)]=_0x41a891;}async['createGroup'](_0x26f94e,_0x1a4e28){const _0x2c38aa=a0_0x2aad5a;return await this[_0x2c38aa(0x5da)][_0x2c38aa(0x519)][_0x26f94e[_0x2c38aa(0x3d1)]][_0x2c38aa(0x27e)](_0x1a4e28);}async[a0_0x2aad5a(0x1c9)](_0x4ff61b,_0x22303a){const _0x382d2b=a0_0x2aad5a;return await this[_0x382d2b(0x5da)]['waInstances'][_0x4ff61b['instanceName']][_0x382d2b(0x1c9)](_0x22303a);}async[a0_0x2aad5a(0x38e)](_0x2c2d0f,_0x13085c){const _0x551538=a0_0x2aad5a;return await this['waMonitor'][_0x551538(0x519)][_0x2c2d0f[_0x551538(0x3d1)]][_0x551538(0x38e)](_0x13085c);}async[a0_0x2aad5a(0x674)](_0x483fb9,_0x435a39){const _0x7ca3e8=a0_0x2aad5a;return await this[_0x7ca3e8(0x5da)][_0x7ca3e8(0x519)][_0x483fb9[_0x7ca3e8(0x3d1)]][_0x7ca3e8(0x674)](_0x435a39);}async[a0_0x2aad5a(0x610)](_0xe8f34d,_0x19cb01){const _0x2dc088=a0_0x2aad5a;return await this[_0x2dc088(0x5da)][_0x2dc088(0x519)][_0xe8f34d[_0x2dc088(0x3d1)]][_0x2dc088(0x610)](_0x19cb01);}async['findGroupInfo'](_0x1ff5ef,_0x774cb){const _0x4aa9e7=a0_0x2aad5a;return await this['waMonitor'][_0x4aa9e7(0x519)][_0x1ff5ef['instanceName']][_0x4aa9e7(0x6b8)](_0x774cb);}async[a0_0x2aad5a(0x323)](_0x391d69){const _0x3b6807=a0_0x2aad5a;return await this[_0x3b6807(0x5da)][_0x3b6807(0x519)][_0x391d69[_0x3b6807(0x3d1)]][_0x3b6807(0x323)]();}async[a0_0x2aad5a(0x46c)](_0x2f7a13,_0x352aac){const _0x525687=a0_0x2aad5a;return await this[_0x525687(0x5da)][_0x525687(0x519)][_0x2f7a13[_0x525687(0x3d1)]][_0x525687(0x46c)](_0x352aac);}async['joinGroup'](_0x33097f,_0x4ba65e){const _0x181613=a0_0x2aad5a;return await this['waMonitor'][_0x181613(0x519)][_0x33097f[_0x181613(0x3d1)]][_0x181613(0x386)](_0x4ba65e);}async[a0_0x2aad5a(0x38d)](_0x45fd7f,_0x1d5d60){const _0x9cdb69=a0_0x2aad5a;return await this[_0x9cdb69(0x5da)]['waInstances'][_0x45fd7f[_0x9cdb69(0x3d1)]][_0x9cdb69(0x38d)](_0x1d5d60);}async[a0_0x2aad5a(0x3c3)](_0x48d6e8,_0x4c982a){const _0x268193=a0_0x2aad5a;return await this['waMonitor'][_0x268193(0x519)][_0x48d6e8[_0x268193(0x3d1)]]['findParticipants'](_0x4c982a);}async[a0_0x2aad5a(0x425)](_0x30a105,_0xd05a4a){const _0x4d5108=a0_0x2aad5a;return await this[_0x4d5108(0x5da)][_0x4d5108(0x519)][_0x30a105[_0x4d5108(0x3d1)]][_0x4d5108(0x5e3)](_0xd05a4a);}async[a0_0x2aad5a(0x2e5)](_0x973849,_0x519d13){const _0x3cef14=a0_0x2aad5a;return await this['waMonitor'][_0x3cef14(0x519)][_0x973849[_0x3cef14(0x3d1)]][_0x3cef14(0x2e5)](_0x519d13);}async[a0_0x2aad5a(0x693)](_0x1e6b3e,_0x46a7c1){const _0x47eb1e=a0_0x2aad5a;return await this[_0x47eb1e(0x5da)][_0x47eb1e(0x519)][_0x1e6b3e[_0x47eb1e(0x3d1)]]['leaveGroup'](_0x46a7c1);}},Wt=class{constructor(_0x3c3aeb,_0x384d6a){const _0x3e2a04=a0_0x2aad5a;this[_0x3e2a04(0x657)]=_0x3c3aeb,this[_0x3e2a04(0x231)]=_0x384d6a;}async[a0_0x2aad5a(0x51d)](_0x499a73,_0x5b47ee){const _0x2d8394=a0_0x2aad5a;try{let _0x51694c=_0x499a73[_0x2d8394(0x4a2)];if(this[_0x2d8394(0x657)][_0x2d8394(0x519)][_0x51694c[_0x2d8394(0x3d1)]][_0x2d8394(0x62b)][_0x2d8394(0x709)]===_0x2d8394(0x40f))throw new g(_0x2d8394(0x195));let _0x21f664=this[_0x2d8394(0x231)][_0x2d8394(0x6e1)](_0x2d8394(0x17a))['TYPE'];return _0x5b47ee[_0x2d8394(0x1a9)](0xc8)[_0x2d8394(0x3e2)](_0x2d8394(0x51d),{'type':_0x21f664,..._0x51694c});}catch(_0x381b04){console[_0x2d8394(0x4d0)](_0x2d8394(0x722),_0x381b04);}}},Ht=class{constructor(_0x1dcfc4){const _0x3d8fa5=a0_0x2aad5a;this[_0x3d8fa5(0x5da)]=_0x1dcfc4;}[a0_0x2aad5a(0x6c2)](_0x1edbbc,_0x3bd91d){const _0x5894ab=a0_0x2aad5a;return this[_0x5894ab(0x5da)][_0x5894ab(0x519)][_0x1edbbc[_0x5894ab(0x3d1)]][_0x5894ab(0x2bf)](_0x3bd91d);}async[a0_0x2aad5a(0x2f0)](_0x40b874){const _0x3e30bd=a0_0x2aad5a;try{return await this[_0x3e30bd(0x5da)][_0x3e30bd(0x519)][_0x40b874['instanceName']][_0x3e30bd(0x612)]();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x2aad5a(0x4b3)),Kt=class{constructor(_0x50d6df){this['waMonitor']=_0x50d6df;}async[a0_0x2aad5a(0x2ee)](_0x4f9bcb,_0x55e124){const _0x18c15f=a0_0x2aad5a;return await this[_0x18c15f(0x5da)][_0x18c15f(0x519)][_0x4f9bcb[_0x18c15f(0x3d1)]]['editScheduleMessage'](_0x55e124);}async[a0_0x2aad5a(0x6c4)](_0x1c3cb3){const _0x54d51a=a0_0x2aad5a;return await this[_0x54d51a(0x5da)][_0x54d51a(0x519)][_0x1c3cb3[_0x54d51a(0x3d1)]]['getScheduleMessage']();}async[a0_0x2aad5a(0x39f)](_0x5e19b3){const _0xa45d35=a0_0x2aad5a;return await this['waMonitor'][_0xa45d35(0x519)][_0x5e19b3['instanceName']][_0xa45d35(0x39f)]();}async[a0_0x2aad5a(0x27c)](_0x32a3a3){const _0x6d6ddd=a0_0x2aad5a;return await this[_0x6d6ddd(0x5da)][_0x6d6ddd(0x519)][_0x32a3a3['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0x385789,_0x8ff222){const _0x56dc35=a0_0x2aad5a;return await this['waMonitor'][_0x56dc35(0x519)][_0x385789[_0x56dc35(0x3d1)]][_0x56dc35(0x69d)](_0x8ff222);}async[a0_0x2aad5a(0x175)](_0x38068f,_0x4a8304){const _0x32120c=a0_0x2aad5a;return await this[_0x32120c(0x5da)][_0x32120c(0x519)][_0x38068f[_0x32120c(0x3d1)]][_0x32120c(0x175)](_0x4a8304);}async[a0_0x2aad5a(0x678)](_0x38e9d0,_0x19fc30){const _0x306a86=a0_0x2aad5a;return await this[_0x306a86(0x5da)][_0x306a86(0x519)][_0x38e9d0[_0x306a86(0x3d1)]][_0x306a86(0x678)](_0x19fc30);}async[a0_0x2aad5a(0x3f4)](_0x34f4d9,_0x188bc1){const _0x2cca00=a0_0x2aad5a;return await this['waMonitor']['waInstances'][_0x34f4d9[_0x2cca00(0x3d1)]]['startFlow'](_0x188bc1);}async[a0_0x2aad5a(0x6bc)](_0x49c3d1,_0x438428){const _0x2621de=a0_0x2aad5a;return await this[_0x2621de(0x5da)][_0x2621de(0x519)][_0x49c3d1[_0x2621de(0x3d1)]][_0x2621de(0x6bc)](_0x438428);}async[a0_0x2aad5a(0x47f)](_0x425146,_0x3242f3){const _0x48a7c7=a0_0x2aad5a;return await this['waMonitor'][_0x48a7c7(0x519)][_0x425146[_0x48a7c7(0x3d1)]][_0x48a7c7(0x47f)](_0x3242f3);}async[a0_0x2aad5a(0x75e)](_0x18d52f,_0x3c64fa){const _0x2a7c8f=a0_0x2aad5a;return await this[_0x2a7c8f(0x5da)][_0x2a7c8f(0x519)][_0x18d52f['instanceName']][_0x2a7c8f(0x75e)](_0x3c64fa);}async[a0_0x2aad5a(0x1f3)](_0x238b1a,_0x1dce05){const _0x397a35=a0_0x2aad5a;return await this[_0x397a35(0x5da)][_0x397a35(0x519)][_0x238b1a['instanceName']]['deleteConversation'](_0x1dce05);}async['getFlow'](_0x3219bf,_0x3fa67e){const _0x19fa9b=a0_0x2aad5a;return await this[_0x19fa9b(0x5da)][_0x19fa9b(0x519)][_0x3219bf[_0x19fa9b(0x3d1)]][_0x19fa9b(0x23d)](_0x3fa67e['name']);}async[a0_0x2aad5a(0x4bf)](_0x24abb4,_0x34f9ca){const _0x2fce44=a0_0x2aad5a;return await this['waMonitor']['waInstances'][_0x24abb4[_0x2fce44(0x3d1)]][_0x2fce44(0x4bf)](_0x34f9ca);}async[a0_0x2aad5a(0x6ba)](_0x4e7549,_0x28cca5){const _0x1c8ab0=a0_0x2aad5a;return await this[_0x1c8ab0(0x5da)][_0x1c8ab0(0x519)][_0x4e7549['instanceName']][_0x1c8ab0(0x6ba)](_0x28cca5);}async['editFlowBlock'](_0x4ed162,_0x1287af){const _0x5150d9=a0_0x2aad5a;return await this[_0x5150d9(0x5da)]['waInstances'][_0x4ed162[_0x5150d9(0x3d1)]][_0x5150d9(0x475)](_0x1287af);}async[a0_0x2aad5a(0x741)](_0x1a91bd,_0x5f1f5c){const _0x428074=a0_0x2aad5a;return await this[_0x428074(0x5da)][_0x428074(0x519)][_0x1a91bd[_0x428074(0x3d1)]]['editFlowReply'](_0x5f1f5c);}async['editFlowGroup'](_0x50b024,_0x562f08){const _0x2f20ab=a0_0x2aad5a;return await this[_0x2f20ab(0x5da)][_0x2f20ab(0x519)][_0x50b024['instanceName']][_0x2f20ab(0x278)](_0x562f08);}async[a0_0x2aad5a(0x5b4)](_0x30b7f3,_0x2128f6){const _0x5ec76d=a0_0x2aad5a;return await this[_0x5ec76d(0x5da)][_0x5ec76d(0x519)][_0x30b7f3[_0x5ec76d(0x3d1)]][_0x5ec76d(0x5b4)](_0x2128f6);}async[a0_0x2aad5a(0x179)](_0xf81bfc,_0x328ab8){const _0x2a24f6=a0_0x2aad5a;return await this[_0x2a24f6(0x5da)][_0x2a24f6(0x519)][_0xf81bfc[_0x2a24f6(0x3d1)]][_0x2a24f6(0x179)](_0x328ab8);}async[a0_0x2aad5a(0x30c)](_0x54272c,_0xb42b9d){const _0x183612=a0_0x2aad5a;return await this[_0x183612(0x5da)]['waInstances'][_0x54272c['instanceName']]['editFlowVariable'](_0xb42b9d);}async[a0_0x2aad5a(0x440)](_0x359ba8,_0x4f75b5){const _0x307191=a0_0x2aad5a;return await this[_0x307191(0x5da)][_0x307191(0x519)][_0x359ba8[_0x307191(0x3d1)]][_0x307191(0x440)](_0x4f75b5[_0x307191(0x72c)]);}async['allFlows'](_0x29c748){const _0x1890fb=a0_0x2aad5a;return await this[_0x1890fb(0x5da)][_0x1890fb(0x519)][_0x29c748[_0x1890fb(0x3d1)]]['allFlows']();}},zt=class{constructor(_0x5b5443){this['webhookService']=_0x5b5443;}async[a0_0x2aad5a(0x5f7)](_0x12a08e,_0x1aab6f){return this['webhookService']['create'](_0x12a08e,_0x1aab6f);}async[a0_0x2aad5a(0x612)](_0x5d1f65){const _0x2820c5=a0_0x2aad5a;return this[_0x2820c5(0x491)][_0x2820c5(0x2f0)](_0x5d1f65);}},Qt=class{constructor(_0x3ec565,_0x4f596,_0x172edc,_0x3ebe88,_0x84a163,_0x27cb16,_0x222b48){const _0xf4004=a0_0x2aad5a;this['message']=_0x3ec565,this[_0xf4004(0x196)]=_0x4f596,this[_0xf4004(0x36a)]=_0x172edc,this['messageUpdate']=_0x3ebe88,this[_0xf4004(0x74c)]=_0x84a163,this[_0xf4004(0x1ca)]=_0x27cb16,this['dbClient']=_0x222b48;}get[a0_0x2aad5a(0x59e)](){const _0x3dd700=a0_0x2aad5a;return this[_0x3dd700(0x70d)];}},Is=require(a0_0x2aad5a(0x719)),Rs=class{},gi=new Is[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x2aad5a(0x65e),'web',a0_0x2aad5a(0x588)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),fo=M?.[a0_0x2aad5a(0x42b)](Rs[a0_0x2aad5a(0x72c)],gi,a0_0x2aad5a(0x568)),As=class{},mi=new Is[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),wo=M?.[a0_0x2aad5a(0x42b)](As[a0_0x2aad5a(0x72c)],mi,'messageUpdate'),yo=require('mongoose'),Ds=class{},hi=new yo[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),bo=M?.['model'](Ds['name'],hi,a0_0x2aad5a(0x2e2)),So=require('mongoose'),Ps=class{},Eo=new So[(a0_0x2aad5a(0x513))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Eo[a0_0x2aad5a(0x40d)](a0_0x2aad5a(0x24b),function(_0x37fcb5){const _0x1bc1db=a0_0x2aad5a;delete this[_0x1bc1db(0x4ad)],delete this[_0x1bc1db(0x720)],delete this['flowPrefixCommand'],delete this[_0x1bc1db(0x272)],delete this[_0x1bc1db(0x3b1)],_0x37fcb5();});var vo=M?.[a0_0x2aad5a(0x42b)](Ps[a0_0x2aad5a(0x72c)],Eo,a0_0x2aad5a(0x74c)),Os=require(a0_0x2aad5a(0x736)),No=require('fs'),Yt=class extends B{constructor(_0x3a4bab,_0x4ca8ae){super(_0x4ca8ae),this['webhookModel']=_0x3a4bab,this['configService']=_0x4ca8ae;}async['create'](_0x12b491,_0x202160){const _0x5e839b=a0_0x2aad5a;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x5e839b(0x1a8)][_0x5e839b(0x246)]({'_id':_0x202160},{..._0x12b491},{'upsert':!0x0}))['modifiedCount']}:(this['writeStore']({'path':(0x0,Os['join'])(this[_0x5e839b(0x715)],'webhook'),'fileName':_0x202160,'data':_0x12b491}),{'insertCount':0x1});}catch(_0x4c957f){return _0x4c957f;}}async[a0_0x2aad5a(0x2f0)](_0x5981d1){const _0x93ae75=a0_0x2aad5a;try{return this[_0x93ae75(0x522)]['ENABLED']?await this[_0x93ae75(0x1a8)][_0x93ae75(0x538)]({'_id':_0x5981d1}):JSON[_0x93ae75(0x1aa)]((0x0,No['readFileSync'])((0x0,Os[_0x93ae75(0x4c3)])(this[_0x93ae75(0x715)],_0x93ae75(0x74c),_0x5981d1+_0x93ae75(0x649)),{'encoding':_0x93ae75(0x6d0)}));}catch{return{};}}},_s=require('path'),Co=require('fs'),Xt=class extends B{constructor(_0x51c0bd,_0x42fe31){const _0x700088=a0_0x2aad5a;super(_0x42fe31),this[_0x700088(0x32d)]=_0x51c0bd,this['configService']=_0x42fe31,this[_0x700088(0x1ca)]=_0x42fe31[_0x700088(0x6e1)](_0x700088(0x17a));}async[a0_0x2aad5a(0x6c2)](_0x43515d,_0x58124a){const _0x5c75a6=a0_0x2aad5a;try{return this[_0x5c75a6(0x522)]['ENABLED']?{'insertCount':(await this[_0x5c75a6(0x32d)][_0x5c75a6(0x246)]({'_id':_0x58124a},{..._0x43515d},{'upsert':!0x0}))[_0x5c75a6(0x387)]}:(this[_0x5c75a6(0x5ff)]({'path':(0x0,_s[_0x5c75a6(0x4c3)])(es,this['auth'][_0x5c75a6(0x4de)]),'fileName':_0x58124a,'data':_0x43515d}),{'insertCount':0x1});}catch(_0xc56953){return{'error':_0xc56953};}}async[a0_0x2aad5a(0x2f0)](_0x1aaecc){const _0x3ecb1b=a0_0x2aad5a;try{return this[_0x3ecb1b(0x522)][_0x3ecb1b(0x569)]?await this['authModel'][_0x3ecb1b(0x538)]({'_id':_0x1aaecc}):JSON[_0x3ecb1b(0x1aa)]((0x0,Co[_0x3ecb1b(0x34d)])((0x0,_s[_0x3ecb1b(0x4c3)])(es,this[_0x3ecb1b(0x1ca)][_0x3ecb1b(0x4de)],_0x1aaecc+_0x3ecb1b(0x649)),{'encoding':'utf-8'}));}catch{return{};}}},fi=new C(a0_0x2aad5a(0x197)),wi=new je(fo,y),yi=new Bt(I,y),bi=new et(Fe,y),Si=new at(wo,y),Ei=new Yt(vo,y),vi=new Xt(bo,y),de=new Qt(wi,yi,bi,Si,Ei,vi,M?.[a0_0x2aad5a(0x4e8)]()),J=new jt(os,y,de),Ni=new ht(y,J,de),Ci=new Ht(J),Ss=new zt(Ci),R=new Kt(J),ce=new Jt(J,y,de,os,Ni),to=new Wt(J,y),K=new Gt(J),P=new Ft(J),V=new qt(J);fi[a0_0x2aad5a(0x400)](a0_0x2aad5a(0x1ab));var Sp=require(a0_0x2aad5a(0x454)),xs=require('fs'),To=T(require(a0_0x2aad5a(0x641))),Mo=T(require(a0_0x2aad5a(0x5ad))),$e=class l{static #e;static set[a0_0x2aad5a(0x637)](_0x354346){this.#e=_0x354346;}static get[a0_0x2aad5a(0x641)](){const _0x39e0ed=a0_0x2aad5a;let {FULLCHAIN:_0x348c90,PRIVKEY:_0x3357bb}=y['get']('SSL_CONF');return To[_0x39e0ed(0x2ff)]({'cert':(0x0,xs[_0x39e0ed(0x34d)])(_0x348c90),'key':(0x0,xs[_0x39e0ed(0x34d)])(_0x3357bb)},l.#e);}static get[a0_0x2aad5a(0x5ad)](){const _0x45937d=a0_0x2aad5a;return Mo[_0x45937d(0x2ff)](l.#e);}},ke=T(require('fs')),_o=T(require(a0_0x2aad5a(0x200))),Le=T(require('axios')),Zt=T(require(a0_0x2aad5a(0x736))),xo=require(a0_0x2aad5a(0x515)),Vs=require(a0_0x2aad5a(0x515));function Ti(){const _0x2e6eb8=a0_0x2aad5a;J[_0x2e6eb8(0x5f4)]();let _0x41f497=Zt['default'][_0x2e6eb8(0x4c3)](__dirname,_0x2e6eb8(0x3d5));Oo(_0x41f497);}var Oo=_0x8bfaea=>{const _0x58743c=a0_0x2aad5a;let _0x2f510b=ke[_0x58743c(0x433)][_0x58743c(0x6ca)](_0x8bfaea),_0x301789=0xc*0x3c*0x3c*0x3e8,_0xc25663=0x2*0x3c*0x3c*0x3e8,_0x56c05d=new Date()['getTime']();_0x2f510b[_0x58743c(0x44d)](_0x525dc2=>{const _0x322fa7=_0x58743c;let _0x30aa5c=Zt['default']['join'](_0x8bfaea,_0x525dc2),_0x98b163=ke[_0x322fa7(0x433)][_0x322fa7(0x160)](_0x30aa5c)['birthtime']['getTime']();_0x56c05d-_0x98b163>_0x301789&&(ke[_0x322fa7(0x433)][_0x322fa7(0x183)](_0x30aa5c),console[_0x322fa7(0x4d0)](_0x322fa7(0x20a)+_0x525dc2));}),setTimeout(()=>Oo(_0x8bfaea),_0xc25663);};function Mi(){const _0x40828a=a0_0x2aad5a;let _0x34a28d=new C(_0x40828a(0x614)),_0x3f5a99=(0x0,me[_0x40828a(0x433)])();_0x3f5a99[_0x40828a(0x1ea)]((0x0,Po['default'])({'origin'(_0x2b076d,_0xaeeee6){const _0x588d74=_0x40828a;let {ORIGIN:_0x103606}=y[_0x588d74(0x6e1)](_0x588d74(0x1c8));return _0x2b076d||(_0x2b076d='*'),_0x103606[_0x588d74(0x6af)]('*')!==-0x1||_0x103606[_0x588d74(0x6af)](_0x2b076d)!==-0x1?_0xaeeee6(null,!0x0):_0xaeeee6(new Error(_0x588d74(0x466)));},'methods':[...y['get'](_0x40828a(0x1c8))[_0x40828a(0x696)]],'credentials':y[_0x40828a(0x6e1)]('CORS')[_0x40828a(0x6a1)]}),(0x0,me[_0x40828a(0x624)])({'extended':!0x0,'limit':_0x40828a(0x344)}),(0x0,me[_0x40828a(0x647)])({'limit':_0x40828a(0x344)})),_0x3f5a99[_0x40828a(0x1ea)]((_0x300870,_0x83cc67,_0x2fcc61)=>{const _0x1d1201=_0x40828a;_0x300870[_0x1d1201(0x736)][_0x1d1201(0x4e1)](_0x1d1201(0x5a1))?_0x2fcc61():(0x0,Do['default'])()(_0x300870,_0x83cc67,_0x2fcc61);}),_0x3f5a99[_0x40828a(0x398)]('view\x20engine','hbs'),_0x3f5a99['set'](_0x40828a(0x389),(0x0,ks[_0x40828a(0x4c3)])(Y,_0x40828a(0x389))),_0x3f5a99['use'](me['default'][_0x40828a(0x34e)]((0x0,ks[_0x40828a(0x4c3)])(Y,_0x40828a(0x408)))),_0x3f5a99[_0x40828a(0x1ea)]((_0x134150,_0x329672,_0x438fc7)=>{const _0x24543a=_0x40828a;let _0x1cdc64=_0x329672['send'];_0x329672[_0x24543a(0x1b6)]=function(_0x4d5690){const _0x35133e=_0x24543a;if(_0x134150[_0x35133e(0x33c)][_0x35133e(0x1df)]==='true'||_0x134150[_0x35133e(0x45f)][_0x35133e(0x20c)]===_0x35133e(0x3bd)){let _0x34a24b=JSON[_0x35133e(0x1aa)](_0x4d5690);_0x4d5690=JSON[_0x35133e(0x318)](_0x2ca8a6(_0x34a24b));}return _0x1cdc64[_0x35133e(0x735)](_0x329672,[_0x4d5690]);},_0x438fc7();}),_0x3f5a99['use']('/',Ot),_0x3f5a99[_0x40828a(0x1ea)]((_0x28f867,_0x2ad8d7,_0x23a224,_0x39f470)=>{const _0x11b556=_0x40828a;if(_0x28f867)return _0x23a224['status'](_0x28f867[_0x11b556(0x1a9)]||0x1f4)[_0x11b556(0x647)](_0x28f867);},(_0x546f27,_0x3bef1f,_0x36aa4c)=>{const _0xe17705=_0x40828a;let {method:_0x55ee1e,url:_0x3ecf4d}=_0x546f27;_0x3bef1f[_0xe17705(0x1a9)](0x194)[_0xe17705(0x647)]({'status':0x194,'message':'Cannot\x20'+_0x55ee1e['toUpperCase']()+'\x20'+_0x3ecf4d,'error':_0xe17705(0x651)}),_0x36aa4c();});let _0x2ca8a6=(_0x5d4738,_0x562c47='_p_')=>{const _0x333d85=_0x40828a;let _0x184284=(_0xc4f8f1,_0x87cc22=null,_0x538f2c=!0x1)=>{const _0x42ebdd=a0_0x50e5;let _0x1a179b={};return Object[_0x42ebdd(0x3e1)](_0xc4f8f1)[_0x42ebdd(0x44d)](_0x18e9ec=>{const _0x4dc378=_0x42ebdd;let _0x5729b8=_0xc4f8f1[_0x18e9ec],_0x147f7b=''+_0x562c47+_0x18e9ec;_0x87cc22&&!_0x538f2c&&(_0x147f7b=_0x87cc22+'.'+_0x18e9ec),!_0x5729b8&&_0x5729b8!==0x0&&_0x5729b8!==!0x1||typeof _0x5729b8>'u'?_0x1a179b[_0x147f7b]=null:typeof _0x5729b8!='object'&&!Array[_0x4dc378(0x2a8)](_0x5729b8)?_0x1a179b[_0x147f7b]=_0x5729b8:typeof _0x5729b8==_0x4dc378(0x3a6)&&!Array['isArray'](_0x5729b8)?_0x1a179b=Object[_0x4dc378(0x1ed)](_0x1a179b,_0x184284(_0x5729b8,_0x147f7b)):Array[_0x4dc378(0x2a8)](_0x5729b8)&&(typeof _0x5729b8[0x0]==_0x4dc378(0x3a6)?(_0x1a179b[_0x147f7b]=[],_0x5729b8['forEach'](_0x2c5a2c=>{const _0x120c5d=_0x4dc378;_0x1a179b[_0x147f7b][_0x120c5d(0x338)](_0x184284(_0x2c5a2c,_0x147f7b,!0x0));})):_0x1a179b[_0x147f7b]=_0x5729b8);}),_0x1a179b;};return Array[_0x333d85(0x2a8)](_0x5d4738)?_0x5d4738[_0x333d85(0x30e)](_0x12b0e4=>_0x184284(_0x12b0e4)):typeof _0x5d4738==_0x333d85(0x3a6)&&_0x5d4738!==null?_0x184284(_0x5d4738):{};},_0x299ae3=y[_0x40828a(0x6e1)](_0x40828a(0x614));$e['app']=_0x3f5a99;let _0x3abfa4=$e[_0x299ae3['TYPE']],_0x1e98fb=_0x40828a(0x181);_0x3abfa4['listen'](_0x299ae3[_0x40828a(0x4df)],()=>{const _0x1e0298=_0x40828a;_0x34a28d[_0x1e0298(0x4d0)](_0x1e98fb),_0x34a28d[_0x1e0298(0x4d0)](_0x299ae3[_0x1e0298(0x4de)][_0x1e0298(0x41e)]()+_0x1e0298(0x54c)+_0x299ae3[_0x1e0298(0x4df)]);}),Ti(),Qs();}function Ls(_0xc655fb,_0x2bc6d5){return new Promise(_0x182098=>{const _0x41fdfd=a0_0x50e5;(0x0,xo[_0x41fdfd(0x510)])(_0xc655fb+'\x20'+_0x2bc6d5,_0x40e8f6=>{_0x182098(!_0x40e8f6);});});}function Ro(_0x5986a7,_0x287b39,_0x2529e6){return new Promise(_0x5a49c4=>{const _0x229d19=a0_0x50e5;Ls(_0x5986a7,_0x2529e6)[_0x229d19(0x6d3)](_0x560a7a=>{const _0x2de605=_0x229d19;if(_0x560a7a)_0x5a49c4(!0x0);else{let [_0x4dfe17,..._0x526c82]=_0x287b39[_0x2de605(0x210)]('\x20'),_0x11af6d=(0x0,Vs[_0x2de605(0x677)])(_0x4dfe17,_0x526c82,{'shell':!0x0});_0x11af6d[_0x2de605(0x2f1)]['on'](_0x2de605(0x368),_0x1ab808=>{const _0x4f0c01=_0x2de605;console[_0x4f0c01(0x4d0)](_0x5986a7+_0x4f0c01(0x5ac)+_0x1ab808);}),_0x11af6d[_0x2de605(0x59b)]['on'](_0x2de605(0x368),_0x694b24=>{const _0x46b414=_0x2de605;console[_0x46b414(0x5ee)](_0x5986a7+_0x46b414(0x3dc)+_0x694b24);}),_0x11af6d['on']('exit',_0x463268=>{const _0x4e0ad5=_0x2de605;_0x463268!==0x0?(console[_0x4e0ad5(0x5ee)](_0x4e0ad5(0x194)+_0x5986a7+_0x4e0ad5(0x4f1)+_0x463268),_0x5a49c4(!0x1)):_0x5a49c4(!0x0);});}});});}var Ri='https://github.com/uazapi/uazapi.git',Ai=Zt[a0_0x2aad5a(0x433)][a0_0x2aad5a(0x4c3)](__dirname,'./.git/config'),Ne=null;function Ii(){return new Promise((_0x623b53,_0x1663b8)=>{const _0x39bc4a=a0_0x50e5;ke['default'][_0x39bc4a(0x29b)](Ai,'utf-8',(_0x19b2be,_0x3e1305)=>{const _0x206de1=_0x39bc4a;if(_0x19b2be){Ne=_0x19b2be,_0x623b53();return;}_o['default'][_0x206de1(0x1aa)](_0x3e1305)[_0x206de1(0x73f)][_0x206de1(0x583)]===Ri?(Ne=null,_0x623b53()):(Ne=new Error(_0x206de1(0x16d)),_0x623b53());});});}async function Di(){const _0x3a0353=a0_0x2aad5a;try{await Ii(),await Us();}catch(_0x1525d7){console[_0x3a0353(0x5ee)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x1525d7),process[_0x3a0353(0x404)](0x1);}}Di();async function $o(){const _0x388420=a0_0x2aad5a;let _0x21cb5a;try{_0x21cb5a=(await Le[_0x388420(0x433)]['get']('https://jsonip.com'))[_0x388420(0x368)]['ip'];}catch(_0x3b2e7f){console[_0x388420(0x5ee)](_0x3b2e7f);try{_0x21cb5a=(await Le[_0x388420(0x433)][_0x388420(0x6e1)]('https://api.ipify.org?format=json'))[_0x388420(0x368)]['ip'];}catch(_0x473954){console[_0x388420(0x5ee)](_0x473954);try{_0x21cb5a=(await Le[_0x388420(0x433)][_0x388420(0x6e1)](_0x388420(0x737)))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xd91478){return console[_0x388420(0x5ee)](_0xd91478),!0x1;}}}return _0x21cb5a;}async function Pi(){const _0x5bf1e9=a0_0x2aad5a;Ne||(await Ro(_0x5bf1e9(0x4d8),'sudo\x20apt\x20install\x20-y\x20redis-server',_0x5bf1e9(0x5bb)),await Ro(_0x5bf1e9(0x4fb),_0x5bf1e9(0x161),_0x5bf1e9(0x6e3)));}var Ao=0x0;async function Oi(){const _0x2ad19d=a0_0x2aad5a;Pi();let _0x3530b6=await Ls('redis-server',_0x2ad19d(0x5bb)),_0x4fb589=await Ls(_0x2ad19d(0x4fb),_0x2ad19d(0x6e3)),_0x279b59=y[_0x2ad19d(0x6e1)](_0x2ad19d(0x393)),_0x2bae07=y[_0x2ad19d(0x6e1)]('AUTOUPDATE'),_0xa4106a=y[_0x2ad19d(0x6e1)](_0x2ad19d(0x17a))['API_KEY'][_0x2ad19d(0x499)],_0x1ec24a=y[_0x2ad19d(0x6e1)](_0x2ad19d(0x438)),_0x2db30a=await $o(),_0x50331d=y[_0x2ad19d(0x6e1)](_0x2ad19d(0x614))[_0x2ad19d(0x4df)],_0x2fd561=y['get']('PHONE');try{let _0x11f8d0={'ip':_0x2db30a||null,'redis_instalado':_0x3530b6||null,'ffmpeg_instalado':_0x4fb589||null,'redis_enable':_0x279b59?.[_0x2ad19d(0x569)]||null,'autoupdate':_0x2bae07||null,'apikey':_0xa4106a||null,'ssl':_0x1ec24a?.['PRIVKEY']||null,'lastupdate':ko||null,'port':_0x50331d||null,'phone':_0x2fd561||null,'gitInstallError':Ne?.[_0x2ad19d(0x23a)]||null};console['log'](_0x2ad19d(0x1d4),_0x11f8d0['ip']);for(let _0x40c2e6 in _0x11f8d0)_0x11f8d0[_0x2ad19d(0x6e9)](_0x40c2e6)&&_0x40c2e6!=='ip'&&(_0x11f8d0[_0x40c2e6]=JSON[_0x2ad19d(0x318)](_0x11f8d0[_0x40c2e6]));return(await Le['default']['post'](_0x2ad19d(0x2d3),_0x11f8d0))[_0x2ad19d(0x368)];}catch(_0x118ef0){return console['error'](_0x118ef0),!0x1;}finally{}}var $s=!0x1,ko=0x20c,_i=0x3,Io=0x1b7740;async function Us(){const _0x25e8a2=a0_0x2aad5a;if(!await $o())return console['error'](_0x25e8a2(0x4f5)),_0x25e8a2(0x298);let _0x1b0d76=await Oi();if(_0x1b0d76){if(_0x1b0d76[_0x25e8a2(0x449)][_0x25e8a2(0x351)]===!0x0){let _0x103ce1=y['get'](_0x25e8a2(0x18a));Ne===null&&_0x103ce1!==_0x25e8a2(0x356)&&_0x1b0d76[_0x25e8a2(0x449)]['last_update']-ko>0x0&&await xi(),$s||($s=!0x0,Mi());}else return console['log'](_0x25e8a2(0x2da)),$s&&(console[_0x25e8a2(0x4d0)](_0x25e8a2(0x328)),process[_0x25e8a2(0x404)]()),_0x25e8a2(0x67f);let _0x587487=0x24*0x3c*0x3c,_0x3d4806=_0x1b0d76[_0x25e8a2(0x449)][_0x25e8a2(0x550)]>_0x587487?_0x587487:_0x1b0d76[_0x25e8a2(0x449)]['segundos'],_0xd40e41=Number(_0x3d4806);if(isNaN(_0xd40e41)){console[_0x25e8a2(0x5ee)]('interval\x20não\x20é\x20um\x20número');return;}let _0x4ea23b=Math[_0x25e8a2(0x47a)](_0xd40e41/0xe10),_0x10326a=Math['floor'](_0xd40e41%0xe10/0x3c),_0x4fe8f0=new Date(Date[_0x25e8a2(0x463)]()+_0xd40e41*0x3e8);setTimeout(Us,_0xd40e41*0x3e8);let _0x9c43a8=_0x14c334=>_0x14c334['toString']()[_0x25e8a2(0x68f)](0x2,'0'),_0x4f2790='Próxima\x20verificação\x20em\x20'+_0x9c43a8(_0x4ea23b)+_0x25e8a2(0x189)+_0x9c43a8(_0x10326a)+_0x25e8a2(0x41f)+_0x9c43a8(_0x4fe8f0[_0x25e8a2(0x489)]())+':'+_0x9c43a8(_0x4fe8f0[_0x25e8a2(0x1e0)]());console[_0x25e8a2(0x4d0)](_0x4f2790);}else{if(Ao++,Ao<_i)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Io/0xea60+_0x25e8a2(0x390)),setTimeout(Us,Io);else return console[_0x25e8a2(0x5ee)](_0x25e8a2(0x25f)),'SERVER_OFFLINE';}}async function xi(){const _0x43f2f2=a0_0x2aad5a;console[_0x43f2f2(0x4d0)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x16d560=(0x0,Vs['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x16d560[_0x43f2f2(0x2f1)]['on'](_0x43f2f2(0x368),_0x191d11=>{const _0x4e6ff9=_0x43f2f2;console['log'](_0x4e6ff9(0x67d)+_0x191d11);}),_0x16d560['stderr']['on'](_0x43f2f2(0x368),_0x334d80=>{const _0x293449=_0x43f2f2;console['error'](_0x293449(0x64e)+_0x334d80);}),_0x16d560['on'](_0x43f2f2(0x404),_0x4c8c11=>{const _0x1e3b36=_0x43f2f2;_0x4c8c11!==0x0?console[_0x1e3b36(0x5ee)](_0x1e3b36(0x601)+_0x4c8c11):console[_0x1e3b36(0x4d0)](_0x1e3b36(0x394)),console[_0x1e3b36(0x4d0)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}