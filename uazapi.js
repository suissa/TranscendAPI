const a0_0x3c6a8b=a0_0xccf1;(function(_0x4281ec,_0x1f6264){const _0x33a89a=a0_0xccf1,_0x2b5433=_0x4281ec();while(!![]){try{const _0x1cffb8=parseInt(_0x33a89a(0x6b0))/0x1*(-parseInt(_0x33a89a(0x25f))/0x2)+-parseInt(_0x33a89a(0x6a6))/0x3*(parseInt(_0x33a89a(0x59c))/0x4)+-parseInt(_0x33a89a(0x6ef))/0x5*(-parseInt(_0x33a89a(0x79f))/0x6)+-parseInt(_0x33a89a(0x129))/0x7+-parseInt(_0x33a89a(0x402))/0x8+parseInt(_0x33a89a(0x6bc))/0x9+-parseInt(_0x33a89a(0x299))/0xa*(-parseInt(_0x33a89a(0x388))/0xb);if(_0x1cffb8===_0x1f6264)break;else _0x2b5433['push'](_0x2b5433['shift']());}catch(_0x37ad1c){_0x2b5433['push'](_0x2b5433['shift']());}}}(a0_0x5cf2,0x653e8));var Jr=Object[a0_0x3c6a8b(0x748)],_e=Object['defineProperty'],Vr=Object[a0_0x3c6a8b(0x77e)],Br=Object[a0_0x3c6a8b(0x7bf)],Gr=Object[a0_0x3c6a8b(0x508)],Wr=Object[a0_0x3c6a8b(0x62c)][a0_0x3c6a8b(0x302)],zr=(_0x4a542d,_0x2594a0)=>{for(var _0x2d736a in _0x2594a0)_e(_0x4a542d,_0x2d736a,{'get':_0x2594a0[_0x2d736a],'enumerable':!0x0});},Fs=(_0x2b816e,_0x266a35,_0x184a26,_0xa0616f)=>{const _0x2e1d92=a0_0x3c6a8b;if(_0x266a35&&typeof _0x266a35==_0x2e1d92(0x26c)||typeof _0x266a35=='function'){for(let _0x289c01 of Br(_0x266a35))!Wr[_0x2e1d92(0x604)](_0x2b816e,_0x289c01)&&_0x289c01!==_0x184a26&&_e(_0x2b816e,_0x289c01,{'get':()=>_0x266a35[_0x289c01],'enumerable':!(_0xa0616f=Vr(_0x266a35,_0x289c01))||_0xa0616f[_0x2e1d92(0x2b8)]});}return _0x2b816e;},O=(_0x533ac2,_0x5ddb98,_0x2cc9c3)=>(_0x2cc9c3=_0x533ac2!=null?Jr(Gr(_0x533ac2)):{},Fs(_0x5ddb98||!_0x533ac2||!_0x533ac2[a0_0x3c6a8b(0x48b)]?_e(_0x2cc9c3,a0_0x3c6a8b(0x4f5),{'value':_0x533ac2,'enumerable':!0x0}):_0x2cc9c3,_0x533ac2)),Hr=_0x11a2da=>Fs(_e({},a0_0x3c6a8b(0x48b),{'value':!0x0}),_0x11a2da),ao={};zr(ao,{'subdomain':()=>Ds}),module[a0_0x3c6a8b(0x70c)]=Hr(ao);var kr=O(require('compression')),qs=require('fs'),Js=require(a0_0x3c6a8b(0x5e8)),Vs=require(a0_0x3c6a8b(0x1fd)),Pe=require(a0_0x3c6a8b(0x1fd)),ie=process['cwd'](),ge=(0x0,Pe[a0_0x3c6a8b(0x4a6)])(ie,'instances'),Us=(0x0,Pe[a0_0x3c6a8b(0x4a6)])(ie,a0_0x3c6a8b(0x17c)),Xo=(0x0,Pe[a0_0x3c6a8b(0x4a6)])(ie,'store','auth'),is=class{constructor(){const _0x6ea1a1=a0_0x3c6a8b;this[_0x6ea1a1(0x753)]();}[a0_0x3c6a8b(0x37f)](_0x498317){const _0x1aefb1=a0_0x3c6a8b;return this[_0x1aefb1(0x631)][_0x498317];}[a0_0x3c6a8b(0x753)](){const _0x4b556d=a0_0x3c6a8b;this[_0x4b556d(0x631)]=process['env']?.[_0x4b556d(0x663)]!==_0x4b556d(0x4d7)?this[_0x4b556d(0x761)]():this[_0x4b556d(0x496)](),process[_0x4b556d(0x631)]?.[_0x4b556d(0x663)]===_0x4b556d(0x4d7)&&(this[_0x4b556d(0x631)][_0x4b556d(0x734)][_0x4b556d(0x7ae)]=_0x4b556d(0x733),this[_0x4b556d(0x631)][_0x4b556d(0x734)]['PORT']=Number[_0x4b556d(0x79e)](process['env']?.['SERVER_PORT']??_0x4b556d(0x286)));}[a0_0x3c6a8b(0x761)](){const _0x52f512=a0_0x3c6a8b;return(0x0,Js[_0x52f512(0x6db)])((0x0,qs[_0x52f512(0x3c2)])((0x0,Vs[_0x52f512(0x4a6)])(Us,_0x52f512(0x37e)),{'encoding':_0x52f512(0x747)}));}[a0_0x3c6a8b(0x496)](){const _0x19236a=a0_0x3c6a8b;return{'SERVER':{'TYPE':process[_0x19236a(0x631)][_0x19236a(0x28e)],'PORT':Number[_0x19236a(0x79e)](process['env'][_0x19236a(0x5e6)]),'URL':process[_0x19236a(0x631)][_0x19236a(0x342)]},'CORS':{'ORIGIN':process[_0x19236a(0x631)][_0x19236a(0x468)][_0x19236a(0x176)](','),'METHODS':process[_0x19236a(0x631)][_0x19236a(0x32d)][_0x19236a(0x176)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x19236a(0x631)]?.[_0x19236a(0x252)],'FULLCHAIN':process[_0x19236a(0x631)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x19236a(0x21e)](process[_0x19236a(0x631)]?.[_0x19236a(0x1b4)])?Number[_0x19236a(0x79e)](process[_0x19236a(0x631)][_0x19236a(0x1b4)]):void 0x0,'MESSAGES':process[_0x19236a(0x631)]?.[_0x19236a(0x2af)]==='true','CONTACTS':process[_0x19236a(0x631)]?.[_0x19236a(0x12a)]==='true','CHATS':process[_0x19236a(0x631)]?.[_0x19236a(0x434)]===_0x19236a(0x4d7)},'DATABASE':{'CONNECTION':{'HOST':process[_0x19236a(0x631)]?.[_0x19236a(0x533)],'PORT':Number[_0x19236a(0x79e)](process[_0x19236a(0x631)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x19236a(0x631)][_0x19236a(0x64c)],'PASSWORD':process['env'][_0x19236a(0x5b0)],'URI':process[_0x19236a(0x631)][_0x19236a(0x1ce)],'DB_PREFIX_NAME':process['env'][_0x19236a(0x528)]},'ENABLED':process[_0x19236a(0x631)]?.[_0x19236a(0x3c7)]===_0x19236a(0x4d7)},'REDIS':{'ENABLED':process[_0x19236a(0x631)]?.[_0x19236a(0x219)]===_0x19236a(0x4d7),'URI':process['env'][_0x19236a(0x6e1)]||_0x19236a(0x6a3),'PREFIX_KEY':process[_0x19236a(0x631)][_0x19236a(0x208)]||_0x19236a(0x532)},'LOG':{'LEVEL':process[_0x19236a(0x631)]?.[_0x19236a(0x768)]['split'](','),'COLOR':process[_0x19236a(0x631)]?.[_0x19236a(0x4d4)]===_0x19236a(0x4d7)},'PROXY':Number[_0x19236a(0x79e)](process[_0x19236a(0x631)]?.[_0x19236a(0x4d5)]),'AUTHENTICATION':{'TYPE':process[_0x19236a(0x631)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x19236a(0x631)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x19236a(0x21e)](process[_0x19236a(0x631)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x19236a(0x79e)](process['env'][_0x19236a(0x47c)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new is(),Lr=O(require('cors')),he=O(require(a0_0x3c6a8b(0x312))),Ls=require(a0_0x3c6a8b(0x1fd)),os=O(require(a0_0x3c6a8b(0x6d0))),ns=(_0x2e17be=>(_0x2e17be[a0_0x3c6a8b(0x370)]=a0_0x3c6a8b(0x59f),_0x2e17be['INFO']=a0_0x3c6a8b(0x58b),_0x2e17be[a0_0x3c6a8b(0x783)]='\x1b[33m',_0x2e17be[a0_0x3c6a8b(0x4e4)]='\x1b[31m',_0x2e17be[a0_0x3c6a8b(0x1ba)]=a0_0x3c6a8b(0x3cf),_0x2e17be[a0_0x3c6a8b(0x6d8)]=a0_0x3c6a8b(0x621),_0x2e17be[a0_0x3c6a8b(0x4b5)]=a0_0x3c6a8b(0x719),_0x2e17be))(ns||{}),Bs=(_0x3f700a=>(_0x3f700a[a0_0x3c6a8b(0x370)]=a0_0x3c6a8b(0x149),_0x3f700a[a0_0x3c6a8b(0x4b5)]='\x1b[30m%s\x1b[0m',_0x3f700a[a0_0x3c6a8b(0x34f)]='\x1b[34m%s\x1b[0m',_0x3f700a[a0_0x3c6a8b(0x783)]='\x1b[33m%s\x1b[0m',_0x3f700a[a0_0x3c6a8b(0x4e4)]='\x1b[31m%s\x1b[0m',_0x3f700a['DEBUG']='\x1b[36m%s\x1b[0m',_0x3f700a[a0_0x3c6a8b(0x6d8)]='\x1b[37m%s\x1b[0m',_0x3f700a))(Bs||{}),Gs=(_0x39e9c4=>(_0x39e9c4['LOG']='LOG',_0x39e9c4[a0_0x3c6a8b(0x783)]=a0_0x3c6a8b(0x783),_0x39e9c4['INFO']=a0_0x3c6a8b(0x34f),_0x39e9c4[a0_0x3c6a8b(0x4b5)]='DARK',_0x39e9c4[a0_0x3c6a8b(0x4e4)]=a0_0x3c6a8b(0x4e4),_0x39e9c4[a0_0x3c6a8b(0x1ba)]=a0_0x3c6a8b(0x1ba),_0x39e9c4[a0_0x3c6a8b(0x6d8)]=a0_0x3c6a8b(0x6d8),_0x39e9c4))(Gs||{}),Ws=(_0xe8d0a4=>(_0xe8d0a4[a0_0x3c6a8b(0x370)]='\x1b[42m',_0xe8d0a4[a0_0x3c6a8b(0x34f)]='\x1b[44m',_0xe8d0a4[a0_0x3c6a8b(0x783)]='\x1b[43m',_0xe8d0a4[a0_0x3c6a8b(0x4b5)]=a0_0x3c6a8b(0x35b),_0xe8d0a4[a0_0x3c6a8b(0x4e4)]=a0_0x3c6a8b(0x451),_0xe8d0a4['DEBUG']=a0_0x3c6a8b(0x648),_0xe8d0a4[a0_0x3c6a8b(0x6d8)]=a0_0x3c6a8b(0x2bb),_0xe8d0a4))(Ws||{}),v=class{constructor(_0x2e65bc=a0_0x3c6a8b(0x449)){const _0x363fa8=a0_0x3c6a8b;this['context']=_0x2e65bc,this[_0x363fa8(0x305)]=b;}[a0_0x3c6a8b(0x534)](_0x394cc7){const _0x5a4274=a0_0x3c6a8b;this[_0x5a4274(0x134)]=_0x394cc7;}[a0_0x3c6a8b(0x2f0)](_0xc77ab7,_0x3af42a){const _0x1ff205=a0_0x3c6a8b;let _0x365152=[];this[_0x1ff205(0x305)][_0x1ff205(0x37f)](_0x1ff205(0x370))['LEVEL']['forEach'](_0x193fe4=>_0x365152[_0x1ff205(0x799)](Gs[_0x193fe4]));let _0xc752c6=typeof _0xc77ab7;_0x365152[_0x1ff205(0x612)](_0x3af42a)&&(b[_0x1ff205(0x37f)](_0x1ff205(0x370))[_0x1ff205(0x1f1)]?(console[_0x1ff205(0x1f7)](_0x1ff205(0x73f)+Bs[_0x3af42a],'\x1b[1m\x1b[37m',(0x0,os[_0x1ff205(0x4f5)])()[_0x1ff205(0x4a5)]('DD/MM\x20HH:mm:ss'),_0x1ff205(0x66d),ns[_0x3af42a]+Ws[_0x3af42a]+_0x1ff205(0x73f),_0x3af42a+_0x1ff205(0x33d),_0x1ff205(0x50b),this[_0x1ff205(0x134)]+_0x1ff205(0x66d),ns[_0x3af42a],_0xc752c6!==_0x1ff205(0x26c)?_0xc77ab7:'',_0x1ff205(0x66d)),_0xc752c6===_0x1ff205(0x26c)&&console[_0x1ff205(0x1f7)](_0xc77ab7,'\x0a')):console['log']((0x0,os[_0x1ff205(0x4f5)])()[_0x1ff205(0x4a5)](_0x1ff205(0x794)),_0x3af42a+'\x20',''+this[_0x1ff205(0x134)],_0xc77ab7));}['log'](_0x39d5f2){const _0x39b32d=a0_0x3c6a8b;this[_0x39b32d(0x2f0)](_0x39d5f2,_0x39b32d(0x370));}[a0_0x3c6a8b(0x198)](_0x259a9c){const _0x5c9a2=a0_0x3c6a8b;this[_0x5c9a2(0x2f0)](_0x259a9c,_0x5c9a2(0x34f));}['warn'](_0x32b082){const _0x5d36ba=a0_0x3c6a8b;this[_0x5d36ba(0x2f0)](_0x32b082,_0x5d36ba(0x783));}['error'](_0x4d99b4){const _0x3195e3=a0_0x3c6a8b;this[_0x3195e3(0x2f0)](_0x4d99b4,_0x3195e3(0x4e4));}[a0_0x3c6a8b(0x1a2)](_0x3fbc49){const _0x6d44ff=a0_0x3c6a8b;this[_0x6d44ff(0x2f0)](_0x3fbc49,_0x6d44ff(0x6d8));}['debug'](_0x3ff3b6){const _0x11ba1c=a0_0x3c6a8b;this[_0x11ba1c(0x2f0)](_0x3ff3b6,_0x11ba1c(0x1ba));}[a0_0x3c6a8b(0x1e2)](_0x166b96){const _0x4e34af=a0_0x3c6a8b;this[_0x4e34af(0x2f0)](_0x166b96,_0x4e34af(0x4b5));}};function zs(){const _0x24a59e=a0_0x3c6a8b;process['on'](_0x24a59e(0x66f),(_0x1af2b2,_0xf248ea)=>{const _0x1cc3b2=_0x24a59e;new v(_0x1cc3b2(0x66f))[_0x1cc3b2(0x426)]({'origin':_0xf248ea,'stderr':process[_0x1cc3b2(0x74a)]['fd'],'error':_0x1af2b2});}),process['on'](_0x24a59e(0x32e),(_0x3d5aa3,_0x319813)=>{const _0x505970=_0x24a59e;new v(_0x505970(0x32e))['error']({'origin':_0x319813,'stderr':process['stderr']['fd'],'error':_0x3d5aa3});});}var Hs=O(require(a0_0x3c6a8b(0x797))),cs=new Hs[(a0_0x3c6a8b(0x4f5))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ke=require(a0_0x3c6a8b(0x1fb)),Se=O(require(a0_0x3c6a8b(0x1fb))),$e=new v(a0_0x3c6a8b(0x23e)),$=b[a0_0x3c6a8b(0x37f)](a0_0x3c6a8b(0x570)),T=$['ENABLED']?$[a0_0x3c6a8b(0x122)]['URI']?Se[a0_0x3c6a8b(0x4f5)][a0_0x3c6a8b(0x3a0)]($['CONNECTION'][a0_0x3c6a8b(0x2c2)],{'dbName':$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x6b9)]+a0_0x3c6a8b(0x23f)}):Se['default'][a0_0x3c6a8b(0x3a0)](a0_0x3c6a8b(0x7e0)+$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x758)]+':'+$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x6ed)]+a0_0x3c6a8b(0x4f4),{'user':$['CONNECTION'][a0_0x3c6a8b(0x578)],'pass':$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x79c)],'dbName':$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x6b9)]+a0_0x3c6a8b(0x23f)}):null;$[a0_0x3c6a8b(0x619)]&&$e[a0_0x3c6a8b(0x198)](a0_0x3c6a8b(0x6d3)+T[a0_0x3c6a8b(0x120)]);var me=$[a0_0x3c6a8b(0x619)]?$['CONNECTION'][a0_0x3c6a8b(0x2c2)]?Se[a0_0x3c6a8b(0x4f5)][a0_0x3c6a8b(0x3a0)]($['CONNECTION'][a0_0x3c6a8b(0x2c2)],{'dbName':a0_0x3c6a8b(0x247)}):Se['default'][a0_0x3c6a8b(0x3a0)]('mongodb://'+$[a0_0x3c6a8b(0x122)]['HOST']+':'+$[a0_0x3c6a8b(0x122)]['PORT']+a0_0x3c6a8b(0x4f4),{'user':$[a0_0x3c6a8b(0x122)][a0_0x3c6a8b(0x578)],'pass':$[a0_0x3c6a8b(0x122)]['PASSWORD'],'dbName':a0_0x3c6a8b(0x683)}):null;me&&$e[a0_0x3c6a8b(0x198)](a0_0x3c6a8b(0x6d3)+me[a0_0x3c6a8b(0x120)]),process['on']('beforeExit',()=>{const _0x423c2c=a0_0x3c6a8b;T&&T[_0x423c2c(0x63a)](()=>{const _0x584064=_0x423c2c;$e[_0x584064(0x198)](_0x584064(0x236));}),me&&me['close'](()=>{const _0x111b40=_0x423c2c;$e[_0x111b40(0x198)](_0x111b40(0x6de));});});var Kr=new ke[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qr=new ke[(a0_0x3c6a8b(0x678))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Kr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Yr=new ke[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Ks=_0x467f97=>{const _0x23c62f=a0_0x3c6a8b;let _0x35c1f7='z_'+_0x467f97+_0x23c62f(0x274);return T?.['model'](_0x23c62f(0x707),Yr,_0x35c1f7);},Qs=require(a0_0x3c6a8b(0x1fb)),Xr=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x42a84a=>{const _0x1fc08f=a0_0x3c6a8b;let _0xeaa48='z_'+_0x42a84a+_0x1fc08f(0x18e);return T?.[_0x1fc08f(0x45d)](_0x1fc08f(0x159),Xr,_0xeaa48);},Xs=require(a0_0x3c6a8b(0x1fb)),ls=class{},Zr=new Xs[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=me?.[a0_0x3c6a8b(0x45d)](ls[a0_0x3c6a8b(0x4e1)],Zr,a0_0x3c6a8b(0x361)),ea=require(a0_0x3c6a8b(0x1fb)),ei=new ea[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ta=_0x9bf9f4=>{const _0x3f2423=a0_0x3c6a8b;let _0x26f7d0='z_'+_0x9bf9f4+_0x3f2423(0x67a);return T?.[_0x3f2423(0x45d)](_0x3f2423(0x284),ei,_0x26f7d0);},sa=require('mongoose'),us=class{},ti=new sa[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=T?.[a0_0x3c6a8b(0x45d)](us[a0_0x3c6a8b(0x4e1)],ti,a0_0x3c6a8b(0x479)),ra=require('mongoose'),ds=class{},ia=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia['pre'](a0_0x3c6a8b(0x41b),function(_0x3232a6){const _0x1b6bf8=a0_0x3c6a8b;delete this[_0x1b6bf8(0x74c)],delete this[_0x1b6bf8(0x698)],delete this[_0x1b6bf8(0x5ba)],delete this[_0x1b6bf8(0x647)],delete this[_0x1b6bf8(0x7d0)],_0x3232a6();});var oa=T?.['model'](ds[a0_0x3c6a8b(0x4e1)],ia,a0_0x3c6a8b(0x472)),k=require(a0_0x3c6a8b(0x1fb)),na=require(a0_0x3c6a8b(0x4a1)),Le=class{},ca=new k[(a0_0x3c6a8b(0x678))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ps=new k[(a0_0x3c6a8b(0x678))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new k[(a0_0x3c6a8b(0x678))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3c6a8b(0x512)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3c6a8b(0x795)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3c6a8b(0x495)},'pollErrorMessage':{'type':String,'default':a0_0x3c6a8b(0x6e4)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new k[(a0_0x3c6a8b(0x678))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),ri=new k[(a0_0x3c6a8b(0x678))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ua=new k[(a0_0x3c6a8b(0x678))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ws=new k[(a0_0x3c6a8b(0x678))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new k[(a0_0x3c6a8b(0x678))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),hs=class{},je=new k[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5d59fd=a0_0x3c6a8b;return _0x5d59fd(0x798)+Math[_0x5d59fd(0x5a6)]()[_0x5d59fd(0x341)](0x24)[_0x5d59fd(0x695)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]}});je[a0_0x3c6a8b(0x26b)](a0_0x3c6a8b(0x41b),function(_0x1d766c){const _0x4f2eb5=a0_0x3c6a8b;let _0xf6d11d=new Set(),_0xf952f6=new Set(this[_0x4f2eb5(0x5f1)]?.[_0x4f2eb5(0x177)](_0x1713b0=>_0x1713b0[_0x4f2eb5(0x4e1)])),_0x336ddd=JSON[_0x4f2eb5(0x6ab)](this),_0x23e701=/{{(?!_)([^}]*)}}/g,_0x2dc240;for(;(_0x2dc240=_0x23e701[_0x4f2eb5(0x5ab)](_0x336ddd))!==null;)_0xf952f6[_0x4f2eb5(0x1be)](_0x2dc240[0x1])||_0xf6d11d['add'](_0x2dc240[0x1]);_0xf6d11d['size']>0x0?(console[_0x4f2eb5(0x22b)](_0x4f2eb5(0x626),Array['from'](_0xf6d11d)),this[_0x4f2eb5(0x60b)]=Array[_0x4f2eb5(0x223)](_0xf6d11d)):this[_0x4f2eb5(0x60b)]=[],_0x1d766c();}),je[a0_0x3c6a8b(0x26b)](a0_0x3c6a8b(0x4f3),function(_0x280a87){const _0xeccd29=a0_0x3c6a8b;let _0x162dfb=this[_0xeccd29(0x1a9)]();if(_0x162dfb&&typeof _0x162dfb=='object'&&_0xeccd29(0x78f)in _0x162dfb){let _0x3f235d=_0x162dfb[_0xeccd29(0x78f)];if(_0x3f235d){let _0x1b64a1=new Set(),_0x317d3d=new Set(_0x3f235d[_0xeccd29(0x5f1)]?.[_0xeccd29(0x177)](_0x1f5461=>_0x1f5461['name'])),_0x7fe421=JSON[_0xeccd29(0x6ab)](_0x3f235d),_0x5a69e0=/{{(?!_)([^}]*)}}/g,_0x12e438;for(;(_0x12e438=_0x5a69e0['exec'](_0x7fe421))!==null;)_0x317d3d['has'](_0x12e438[0x1])||_0x1b64a1[_0xeccd29(0x69f)](_0x12e438[0x1]);_0x1b64a1[_0xeccd29(0x605)]>0x0?(console[_0xeccd29(0x22b)]('Variáveis\x20não\x20encontradas:',Array[_0xeccd29(0x223)](_0x1b64a1)),_0x3f235d[_0xeccd29(0x60b)]=Array['from'](_0x1b64a1)):_0x3f235d[_0xeccd29(0x60b)]=[],this['setUpdate']({'$set':_0x3f235d});}}_0x280a87();});var pa=_0x4235e3=>{const _0x5d6773=a0_0x3c6a8b;let _0x119cfb='z_'+_0x4235e3+_0x5d6773(0x4c4);return T?.[_0x5d6773(0x45d)](_0x5d6773(0x63e),je,_0x119cfb);},ha=T?.['model'](hs[a0_0x3c6a8b(0x4e1)],je,a0_0x3c6a8b(0x725)),ii=new k[(a0_0x3c6a8b(0x678))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ri]},{'_id':!0x1}),gs=class{},ga=new k[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]},'chatLog':ii,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3c6a8b(0x61e)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3c6a8b(0x495)},'waitingMenu_replyOptions':{'type':[ps],'default':[]}}),ma=_0x3c5b8e=>{const _0x170028=a0_0x3c6a8b;let _0x42f83b='z_'+_0x3c5b8e+_0x170028(0x497);return T?.['model'](_0x170028(0x632),ga,_0x42f83b);},fa=T?.['model'](gs[a0_0x3c6a8b(0x4e1)],ga,a0_0x3c6a8b(0x4d1)),ms=class{},oi=new k[(a0_0x3c6a8b(0x678))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new k[(a0_0x3c6a8b(0x678))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),wa=new k[(a0_0x3c6a8b(0x678))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x3c6a8b(0x46d)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[oi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x186eb9=>{const _0x34a120=a0_0x3c6a8b;let _0x76e968='z_'+_0x186eb9+'_ScheduleMessages';return T?.[_0x34a120(0x45d)](_0x34a120(0x3d8),wa,_0x76e968);},ba=T?.[a0_0x3c6a8b(0x45d)](ms[a0_0x3c6a8b(0x4e1)],wa,a0_0x3c6a8b(0x227)),fs=class{},ci=new k[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),li=new k[(a0_0x3c6a8b(0x678))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x3c6a8b(0x4ee)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ui=new k['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),di=new k[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ui]},'customFields':{'type':[ci]},'flowConfig':{'type':li,'default':{}}}),Fe=T?.[a0_0x3c6a8b(0x45d)](fs[a0_0x3c6a8b(0x4e1)],di,a0_0x3c6a8b(0x16e)),Sa=require(a0_0x3c6a8b(0x1fb)),pi=new Sa[(a0_0x3c6a8b(0x678))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x44a419=>{const _0xd16fb6=a0_0x3c6a8b;let _0xefe64b='z_'+_0x44a419+_0xd16fb6(0x642);return T?.[_0xd16fb6(0x45d)]('LabelModel',pi,_0xefe64b);},D=class{constructor(_0xb80224){const _0x39cdbc=a0_0x3c6a8b;this[_0x39cdbc(0x5ae)]=_0xb80224[_0x39cdbc(0x37f)]('DATABASE');}};function A(_0x10dc0a){const _0x234ec6=a0_0x3c6a8b;let _0x1eae08={};for(let [_0x26607e,_0x3ef8b6]of Object[_0x234ec6(0x4b9)](_0x10dc0a))if(typeof _0x3ef8b6==_0x234ec6(0x26c)&&!Array['isArray'](_0x3ef8b6)){for(let [_0x49c8a8,_0xd8a263]of Object[_0x234ec6(0x4b9)](_0x3ef8b6))_0x1eae08[_0x26607e+'.'+_0x49c8a8]=_0xd8a263;}else _0x1eae08[_0x26607e]=_0x3ef8b6;return _0x1eae08;}var Ue=class{constructor(_0x121074,_0x1d917c,_0x52c60b,_0x516fcc,_0x3d990c,_0x221703,_0x153db5,_0x4630e8,_0x160856,_0x2f134d,_0x2ff3db,_0x5820e9){const _0x58960c=a0_0x3c6a8b;this[_0x58960c(0x78c)]=_0x121074,this[_0x58960c(0x42a)]=_0x1d917c,this['contact']=_0x52c60b,this[_0x58960c(0x51e)]=_0x516fcc,this[_0x58960c(0x472)]=_0x3d990c,this[_0x58960c(0x6ad)]=_0x221703,this[_0x58960c(0x725)]=_0x153db5,this[_0x58960c(0x4d1)]=_0x4630e8,this['label']=_0x160856,this[_0x58960c(0x1b6)]=_0x2f134d,this[_0x58960c(0x2e5)]=_0x2ff3db,this[_0x58960c(0x740)]=_0x5820e9;}get[a0_0x3c6a8b(0x19d)](){const _0x29860b=a0_0x3c6a8b;return this[_0x29860b(0x740)];}},qe=class{},Je=class extends D{[a0_0x3c6a8b(0x6ac)](_0x2bf5b6){return ta(_0x2bf5b6);}async[a0_0x3c6a8b(0x2c8)](_0x4b225c,_0x2c2970){const _0x54064e=a0_0x3c6a8b;if(_0x4b225c[_0x54064e(0x3ca)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x54064e(0x6ac)](_0x2c2970)[_0x54064e(0x622)]([..._0x4b225c]))['length']};}catch(_0x1ca184){return _0x1ca184;}}async[a0_0x3c6a8b(0x217)](_0xa2d8ad,_0x2b4dd2){const _0x3ecae4=a0_0x3c6a8b;try{let _0x19b28a=this[_0x3ecae4(0x6ac)](_0x2b4dd2),_0x513e62=A(_0xa2d8ad['where']);return await _0x19b28a[_0x3ecae4(0x217)](_0x513e62)['sort']({'messageTimestamp':-0x1})[_0x3ecae4(0x15e)](_0xa2d8ad?.['limit']??0x0)[_0x3ecae4(0x463)]();}catch{return[];}}async[a0_0x3c6a8b(0x214)](_0x5f25ab,_0x319621){const _0x4ca4e3=a0_0x3c6a8b;try{let _0x1f7a2f=this[_0x4ca4e3(0x6ac)](_0x319621),_0xa06035=A(_0x5f25ab[_0x4ca4e3(0x178)]);await _0x1f7a2f[_0x4ca4e3(0x5f2)](_0xa06035);}catch(_0x27f338){console[_0x4ca4e3(0x426)](_0x27f338);}}async[a0_0x3c6a8b(0x5be)](_0x18faf8,_0x2abc1f,_0x3014cc){const _0x32ecfb=a0_0x3c6a8b;try{let _0x157446=this['getMessageModelForOwner'](_0x3014cc),_0x31f9db=A(_0x18faf8[_0x32ecfb(0x178)]);return await _0x157446['findOneAndUpdate'](_0x31f9db,{'$set':_0x2abc1f},{'new':!0x0});}catch(_0x599ab2){throw console['error'](_0x599ab2),_0x599ab2;}}async['insertMany'](_0x46bebf,_0x42c1d8){const _0x176bd6=a0_0x3c6a8b;if(_0x46bebf[_0x176bd6(0x3ca)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x42c1d8)[_0x176bd6(0x622)]([..._0x46bebf]))[_0x176bd6(0x3ca)]};}catch(_0x8025f7){return console[_0x176bd6(0x1f7)](_0x176bd6(0x368),_0x8025f7),_0x8025f7;}}async['deleteAll'](_0x717a2d){const _0x1c7947=a0_0x3c6a8b;try{return await this['getMessageModelForOwner'](_0x717a2d)[_0x1c7947(0x550)]['drop'](),{'success':!0x0};}catch(_0x28b8b6){return console['error'](_0x28b8b6),{'success':!0x1,'error':_0x28b8b6};}}},Rr=O(require('@ffmpeg-installer/ffmpeg')),m=O(require('@whiskeysockets/baileys')),Te=require('fs'),J=O(require(a0_0x3c6a8b(0x1fd))),Z=O(require(a0_0x3c6a8b(0x311))),Tr=require(a0_0x3c6a8b(0x4a1)),Or=O(require('qrcode')),Ar=O(require(a0_0x3c6a8b(0x3d5))),Ea=['imageMessage',a0_0x3c6a8b(0x79a),a0_0x3c6a8b(0x41a),'videoMessage',a0_0x3c6a8b(0x78e)],Ma=[a0_0x3c6a8b(0x599),'documentWithCaptionMessage','viewOnceMessage',a0_0x3c6a8b(0x3e9)],Ts=require('os'),Pt=O(require('pino')),jt=require(a0_0x3c6a8b(0x704)),$t=require(a0_0x3c6a8b(0x4e5)),le=O(require(a0_0x3c6a8b(0x1fb))),P=require('class-validator'),fe=class{constructor(_0x45cca1,_0x511471,_0x2e805b){const _0x40fe93=a0_0x3c6a8b;this[_0x40fe93(0x3a9)]=_0x45cca1,this['exists']=_0x511471,this[_0x40fe93(0x4e1)]=_0x2e805b;}},Ve=class{},Be=class{},Ce=class{},Ge=class{},We=class{},we=class{},ze=class{},He=class{},Ke=class{},Qe=class{},Ot=O(require(a0_0x3c6a8b(0x312))),va=require('fs'),Na=require(a0_0x3c6a8b(0x1fd));async function Ye(_0x30ece8){const _0x4a2cd4=a0_0x3c6a8b;let _0x1313f6=B['waInstances'][_0x30ece8];if($[_0x4a2cd4(0x619)]){let _0x46ac8c=T['getClient']()['db']($[_0x4a2cd4(0x122)][_0x4a2cd4(0x6b9)]+_0x4a2cd4(0x3f9))[_0x4a2cd4(0x550)](_0x30ece8);return _0x1313f6||(await _0x46ac8c['find']({})[_0x4a2cd4(0x7d2)]())[_0x4a2cd4(0x3ca)]>0x0;}return _0x1313f6||(0x0,va[_0x4a2cd4(0x454)])((0x0,Na[_0x4a2cd4(0x4a6)])(ge,_0x30ece8));}async function Ra(_0x1b1e97,_0xdc34cc,_0x2ad21a){const _0x5892af=a0_0x3c6a8b;if(_0x1b1e97[_0x5892af(0x17a)]['includes'](_0x5892af(0x1f6))||_0x1b1e97[_0x5892af(0x17a)]['includes'](_0x5892af(0x444))||_0x1b1e97[_0x5892af(0x17a)][_0x5892af(0x612)]('/exit')||_0x1b1e97[_0x5892af(0x17a)][_0x5892af(0x612)](_0x5892af(0x702))||_0x1b1e97['originalUrl']['includes'](_0x5892af(0x199))||_0x1b1e97[_0x5892af(0x17a)][_0x5892af(0x612)](_0x5892af(0x694))||_0x1b1e97['originalUrl']['includes']('/instance/delete'))return _0x2ad21a();let _0x2d43a0=_0x1b1e97[_0x5892af(0x36e)];if(!_0x2d43a0?.['instanceName'])throw new w('instanceName\x20not\x20provided.');if(!await Ye(_0x2d43a0['instanceName']))throw new L(_0x5892af(0x6e9)+_0x2d43a0[_0x5892af(0x38c)]+_0x5892af(0x1b0));_0x2ad21a();}async function Ta(_0x2a6712,_0x314c00,_0x24029e){const _0x42ebbc=a0_0x3c6a8b;if(_0x2a6712[_0x42ebbc(0x17a)][_0x42ebbc(0x612)](_0x42ebbc(0x1f6))){let _0x3c7479=_0x2a6712['body'];if(await Ye(_0x3c7479['instanceName']))throw new K(_0x42ebbc(0x538)+_0x3c7479[_0x42ebbc(0x38c)]+_0x42ebbc(0x6e8));B['waInstances'][_0x3c7479[_0x42ebbc(0x38c)]]&&delete B[_0x42ebbc(0x607)][_0x3c7479[_0x42ebbc(0x38c)]];}_0x24029e();}var Oa=require(a0_0x3c6a8b(0x188)),Aa=O(require(a0_0x3c6a8b(0x5ed))),Xe='uazapi',gi=new v('GUARD');function a0_0xccf1(_0x351b3c,_0x832c36){const _0x5cf227=a0_0x5cf2();return a0_0xccf1=function(_0xccf1fd,_0x14c200){_0xccf1fd=_0xccf1fd-0x119;let _0x2b904b=_0x5cf227[_0xccf1fd];return _0x2b904b;},a0_0xccf1(_0x351b3c,_0x832c36);}async function mi(_0x25d5ca,_0x6ca300,_0xfbfb7e){const _0x3cacdc=a0_0x3c6a8b;let _0x1e9487=_0x25d5ca['get'](_0x3cacdc(0x769));if(_0x1e9487&&b[_0x3cacdc(0x37f)](_0x3cacdc(0x555))['API_KEY'][_0x3cacdc(0x3bf)]!==_0x1e9487)throw new te();if(b['get'](_0x3cacdc(0x555))[_0x3cacdc(0x49f)][_0x3cacdc(0x3bf)]===_0x1e9487)return _0xfbfb7e();if((_0x25d5ca['originalUrl'][_0x3cacdc(0x612)](_0x3cacdc(0x1f6))||_0x25d5ca[_0x3cacdc(0x17a)][_0x3cacdc(0x612)](_0x3cacdc(0x444)))&&!_0x1e9487)throw new K(_0x3cacdc(0x61b),_0x3cacdc(0x526));let _0x28364a=b[_0x3cacdc(0x37f)](_0x3cacdc(0x555))[_0x3cacdc(0x57a)];try{let [_0x5cd068,_0x2eb823]=_0x25d5ca[_0x3cacdc(0x37f)](_0x3cacdc(0x514))[_0x3cacdc(0x176)]('\x20');if(_0x5cd068[_0x3cacdc(0x44f)]()!==_0x3cacdc(0x4b3))throw new te();if(!(0x0,Oa[_0x3cacdc(0x46e)])(_0x2eb823))throw new te();let _0x1c9921=_0x25d5ca['params'],_0x5c52b8=Aa[_0x3cacdc(0x4f5)][_0x3cacdc(0x5c3)](_0x2eb823,_0x28364a[_0x3cacdc(0x760)],{'ignoreExpiration':_0x28364a[_0x3cacdc(0x4f6)]===0x0});if(_0x1c9921[_0x3cacdc(0x38c)]!==_0x5c52b8[_0x3cacdc(0x38c)]||Xe!==_0x5c52b8[_0x3cacdc(0x518)])throw new te();return _0xfbfb7e();}catch(_0x305441){throw gi[_0x3cacdc(0x426)](_0x305441),new te();}}async function fi(_0x1c9c33,_0xfbb1c8,_0x3509f6){const _0x56f277=a0_0x3c6a8b;let _0x4f1a64=b['get']('AUTHENTICATION')['API_KEY'],_0x5a0d92=_0x1c9c33['get']('apikey');if(_0x4f1a64[_0x56f277(0x3bf)]===_0x5a0d92)return _0x3509f6();if(_0x1c9c33[_0x56f277(0x17a)][_0x56f277(0x612)]('/instance/create')){let _0x23a81c=Ze,_0x5f387f=_0x1c9c33[_0x56f277(0x43e)][_0x56f277(0x38c)];if(_0x23a81c&&_0x5f387f[_0x56f277(0x44f)]()[_0x56f277(0x615)](_0x23a81c[_0x56f277(0x44f)]()))return _0x3509f6();if(!_0x5a0d92)throw new K(_0x56f277(0x61b),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x1c9c33[_0x56f277(0x17a)][_0x56f277(0x612)](_0x56f277(0x444))&&!_0x5a0d92)throw new K('Missing\x20global\x20api\x20key',_0x56f277(0x526));if(_0x1c9c33[_0x56f277(0x17a)][_0x56f277(0x612)](_0x56f277(0x50e))&&!_0x5a0d92)throw new K('Missing\x20global\x20api\x20key',_0x56f277(0x526));if(_0x1c9c33[_0x56f277(0x17a)][_0x56f277(0x612)](_0x56f277(0x702))&&!_0x5a0d92)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0xef3fcb=_0x1c9c33[_0x56f277(0x36e)],_0x245834=await ue[_0x56f277(0x6ad)][_0x56f277(0x217)](_0xef3fcb[_0x56f277(0x38c)]);if(_0x245834&&_0x245834[_0x56f277(0x769)]===_0x5a0d92)return _0x3509f6();}catch{}throw new te();}function a0_0x5cf2(){const _0x27c658=['):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','segundos','Getting\x20image\x20from\x20url','longitude','header','LOG_LEVEL','apikey','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','FULLCHAIN','uazapiSendAudio','SUCCESS','encoding','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','findConversation','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','protocol','\x20segundos','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','setHeader','Group\x20not\x20found','address','messageId','^\x5cd+','Close\x20connection','):\x20Comando\x20desconhecido:\x20','request\x20received\x20in\x20editFlowgroup','scheduleSendMedia','getOwnPropertyDescriptor','AutomateSystem\x20não\x20foi\x20inicializado','getAllData','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','.X-ABLabel:Celular\x0a','WARN','logger','sendList','instanceKeys','evaluateConditionTest','markMessageAsRead','/wa-chats','all','notas','message','label_jid','stickerMessage','$set','Erro\x20ao\x20atualizar\x20o\x20flow.','width','pairingCode','.pptx','HH:mm:ss','Selecione','goNextblock','eventemitter2','!cmd_','push','documentMessage','proto','PASSWORD','chatLog','parseInt','4842444lpqfzi','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','request\x20received\x20in\x20getFlow','Instância\x20não\x20encontrada.','):\x20Enviando\x20contato','):\x20Flow\x20não\x20encontrado','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20conversation.waitingMenu_name','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','allflows','#83e421','@whiskeysockets/baileys','https-proxy-agent','getProfileName','mimetype','TYPE','\x20not\x20found,\x20retrying\x20in\x20','Conexão\x20estabelecida','description','mentions','sectionsToString','write','arraybuffer','mediatype','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','writeFileSync','all_member_add','newStoppedUntil','Image\x20created','cachedContact','setting','findAndReplace','getOwnPropertyNames','organization','Cached\x20audio\x20found,\x20returning\x20existing\x20file','greater','uazapiSendLocation','views','verifiedName','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','groups_ignore','no.connection','scheduleNextCheck','rm\x20-rf\x20','licenca','lastMessage','):\x20Current\x20Time:\x20','port','flowStopMinutes','fetchProfilePictureUrl','toArray','certonly','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','whatsappNumbers','importChats','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','cacheContactModel','findGroup','express-async-errors','Operador:\x20\x22','success','notify','Desconectado,\x20parando\x20execução.','sending','mongodb://','#000000','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','.svg','waitingMenu_id','spawn','announcement','):\x20Procurando\x20conversa','trim','):\x20Procurando\x20mensagens\x20para\x20envio','downloads','updateOne','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','/media/','image','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','isLong','lastReceivedMessage','$dbName','@s.whatsapp.net','CONNECTION','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20expirationTime:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','hex','):\x20Editando\x20variável\x20do\x20fluxo...','expiration','3016139ZTWnrK','STORE_CONTACTS','footerText','buttonId','normal','audioWhatsapp','findById','cleaningUp','Erro\x20ao\x20sincronizar\x20fluxos:\x20','repeat','authState','context','instanceInfo','messageSecret','Cache-Control','lastBlockId','writeFile','Types','chatId','QRCODE_UPDATED','getContentType','subjectTime','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','WebhookGlobal','isJidUser','):\x20Deletando\x20mensagem','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','):\x20não\x20encontrou','/wa-contacts','stdout','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Content\x20is\x20required','\x1b[32m%s\x1b[0m','Error\x20finding\x20many\x20contacts:','item','updateMissingEtiquetas','editConversation','messages','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','testProxy','not_announcement','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','ObjectId','fileName','groups.update','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','chats.upsert','ContactModel','textMessage','condition','connectionClosed','Erro\x20ao\x20importar\x20chats:','limit','sharePass','groupRequestParticipantsList','subdomain','inviteCodeDetails','\x20foi\x20interrompido\x20pelo\x20usuário.','replaceValue','privacySettings',':\x20Tentativa\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','deleteInstance','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','mediaMessage','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','.jwt','AutomateSystem','set','/*.json','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','instance','utf8','webhookService','delayChatLabel','split','map','where','):\x20Buscando\x20conversa...','originalUrl','Instance\x20deleted','src','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','sendMenu','groupLeave','isArray','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','removeInstance','#fe9dfe','initAuthCreds','CONNECTION_UPDATE','Error\x20removing\x20profile\x20picture','toBRL','class-validator','and','leaveGroup','allFlows','processgoToFlow','StartBot','_Contacts','No\x20participants','action','https://uazapi-plugin.bubbleapps.io/?url=','messageStubType','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','jsonschema','URL','flattenObject','Failed\x20to\x20find\x20chat\x20','info','/instance/connect','start','.TEL;waid=','):\x20teve\x20mudanças\x20chat.name:\x20','dbServer','remove.instance','birthtime','):\x20Entrou\x20na\x20função\x20saveReply','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','verbose','#fed428','secondValue','sleep','labels.association','gifPlayback','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','getUpdate',',\x20Minutes\x20to\x20Close:\x20','connectionUpdate','Not\x20Found','pollErrorMessage','stopped','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x20instance\x20does\x20not\x20exist','value','message_normalized','listResponseMessage','STORE_CLEANING_TERMINAL','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','scheduleMessage','groupadd','All_Instances_Config','Safari','DEBUG','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Conversa\x20está\x20expirada\x20-\x20voto','/wa-connection-update','has','isBase64','TEXT','optionName','findAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','g.us','key','waUploadToServer','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','copyBlock','#b4ebff','#d8e651','waitingMenu_replyOptions','request\x20received\x20in\x20updateFlowConfig','\x20saindo\x20da\x20função','DATABASE_CONNECTION_URI','updatePrivacySettings','#ffae04','request_time','/automate','):\x20isVote:\x20','connection.update','sendSticker','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','listMessage','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Enviando\x20mídia','groups','):\x20teve\x20mudanças\x20chat.displayName:\x20','created','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','\x20-\x20retornado:\x20','loadWebhook','groupJid','connectionState','dark','presence','fullName','goToFlow','Read\x20messages\x20fail','next_groupId','SERVER_ACK','labelId','eventHandler','shift','Hash\x20to\x20image\x20name:\x20','uazapiSendMenu','.xls','Número:\x20','phoneNumber','COLOR','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','groupCreate','color','replyOption','/instance/create','log','deleteflow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','statusMessage','mongoose','groupDesc','path','reconnectTimestamps','findContacts','processblock','flowname:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Validate','padEnd','\x20minutos.\x20Será\x20às\x20','variablesToObject','whatsappNumber','REDIS_PREFIX_KEY','authService','):\x20Erro\x20ao\x20buscar\x20conversas\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','cpf','\x20minutos','\x20tentativas:\x20remotejid=','audio/mp4','downloadMediaMessage','profilePictureUrl','Erro\x20ao\x20editar\x20o\x20chat:\x20','delete','modifiedCount','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','find','response','REDIS_ENABLED','toUpperCase','fileUrl','):\x20Edit\x20schedule\x20message...','getBase64FromMediaMessage','isInteger','fetchPrivacySettings','nome','output','editFlowReply','from','https://uazapi-plugin.bubbleapps.io/','round','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','scheduleMessages','contactname','updateConversation','Certbot\x20executado\x20com\x20sucesso.','warn','removeChatLabel','isListOfNumbers','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','wuid','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','group-participants.update','creds','findFlow','code','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Database\x20connection\x20closed.','messageType','findWebhook','readData','findOne','replaceVariablesChat','userDevicesCache','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Db\x20Connection','-whatsapp-api','unreadCount','cleanStore','fetchProfilePicture','CHATS_SET','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Unable\x20to\x20leave\x20the\x20group','deleteBlock','cachedData-whatsapp','remoteJid','getFlow','urlencoded','router','blockLogs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','ex:\x20\x22groupJid=120362@g.us\x22','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','AddChatLabel','DELIVERY_ACK','SSL_CONF_PRIVKEY','editFlowVaredit','integer','conversation','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','email','/events','desc','reviver','):\x20Enviando\x20áudio','values','processPollUpdateMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','1523260twLdkQ','#f64847','username','.ogg','Database\x20is\x20not\x20enabled','processUazapi','READ','send','rows','groupJoinApprovalMode','Error\x20change\x20group\x20name','pop','pre','object','contextInfo','video-cover.png','toLocaleString','owner','http://ipecho.net/plain','applyvaredit','assign','_Chats','protocolMessage','Rótulo\x20deletado:','ms\x20(Attempt\x20','messageContextInfo','when','Error\x20while\x20deleting\x20message\x20for\x20everyone','HttpsProxyAgent','https://chat.whatsapp.com/','execSync','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','command','updateOnlinePrivacy','fromObject','MessageModel','updateStopChat','8080','delay','padStart','@broadcast','\x22\x20-\x20NOT\x20CONNECTION','newValue','):\x20transformedCustomFieldVariables','mentioned','SERVER_TYPE','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20newFirstValue\x20após\x20replaceVariables:','redisEnv','fetchProfile','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Erro\x20ao\x20deletar\x20chat:','Error\x20change\x20group\x20description','base64','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','CONTACTS_SET','10Apamvl','updatePresence','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','scheduleSendText','.ogv','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','approve','localWebhook','mediaKey','replaceVariablesInObject','stopConversation','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','webhookMap','silent','unavailable','):\x20Flow\x20desativado','Início','SINGLE_SELECT','sendMedia','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','binary','group','STORE_MESSAGE','Audio\x20processed',',\x20qrcodeCount:\x20','request\x20received\x20in\x20deleteConversation','moreLogs','fetchLabels','request\x20received\x20in\x20editFlow','routerPath','RemoveChatLabel','enumerable','):\x20Limpando\x20delayMessage','findLabels','\x1b[47m','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','sendStatus','scheduleSendAudio','updateReplyOption','CHATS_UPSERT','URI','updateMany','File\x20written\x20to\x20path:\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','promote','audio/mpeg','insert','):\x20atualização\x20chat:\x20','video','minutesToClose','groupAcceptInvite','BufferJSON','editFlowCondition','#9ab6c1','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','buttonMessage','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','No\x20invite\x20code','Rótulo\x20atualizado:','REDIS','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','password','sha256','saveMediaToFile','):\x20Ler\x20mensagem','CORS','#92ceac','/webhook','throwAndLogError','pollMessage',']\x20(','#56ccb4','menuIgnoreNonVotes','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','automateSystem','Erro\x20ao\x20aplicar\x20varedit:\x20','sendContact','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','editflow','data','replaceVariables','_error','request\x20received\x20in\x20getConversation','Read\x20messages','Error\x20updating\x20profile\x20name','console','sendCommand','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','lastSendMessage','blocks','RECONNECT_TIME_FRAME','uazapiDeleteMessage','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','evaluateCondition','validate','Error\x20writing\x20file:\x20','type','groupMemberAddMode','contacts','createWebhook','admin_add','\x5cd+','stanzaId','hasOwnProperty','error_log','findMessages','configService','locationMessage','reorderBlocks','exit','Instance\x20\x22','inviteCode','contactMessage','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20Editando\x20replyOption...','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','now','order','axios','express','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','statSync','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','profile','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','createConversationforStartFlow','\x0aitem','MESSAGES_SET','audio/ogg','groupRequestParticipantsUpdate','joinGroupValidate','Error\x20update\x20group\x20picture','request\x20received\x20in\x20updateCustomFields','#ff9484','Erro\x20ao\x20copiar\x20dados:','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','checkAndRestartProcess','pollOnReplyDelete','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','.webm','updateChatWithMessage','pollCreationMessageV2','leadInfo.etiquetas','generateHash','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','imagechat','CORS_METHODS','unhandledRejection','groupId','splice','archived','deletedCount','readMessages','floor','\x20-\x20ON:\x20','off','):\x20Bloco\x20copiado:\x20','getDevice','createInstance','unlocked','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','authModel','\x20\x1b[0m','sendPoll','CLEANING_INTERVAL','getBusinessProfile','toString','SERVER_URL','readMessageBot','defineAuthState','\x20de\x20conectar\x20com\x20IP\x20extra.','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20customFieldVariables','getContactModelForOwner','Unauthorized','removeOlderDisconnectedInstances','demote','$pull','status@broadcast','crypto','INFO','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','MAX_RECONNECT_ATTEMPTS','indexOf','):\x20Criando\x20fluxo\x20regular...','connectToWhatsapp','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','sendText','findOrCreate','menuType','):\x20leadInfoVariables','\x1b[40m','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Parando\x20aplicação,\x20atualização\x20recebida','ButtonsMessage','Chrome','g-t','ContactsAndGroups','):\x20Deletando\x20fluxo...','updateFlowConfig','):\x20Conversa\x20atualizada\x20em\x20memória','hGetAll','Parando\x20aplicação...','replacer','ERROR:\x20','groupValidate','):\x20Going\x20to\x20','archive','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','addBlock','params','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','LOG','deleted','decryptPollVote','\x20Tentativa\x20de\x20reconexão\x20','Deletion\x20failed','groupBetterSetting','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','fetchLatestBaileysVersion','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','CHATS_UPDATE','conditions','startFlow','updateOneById','../env.yml','get','trimmed','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','finish','vcard','config','loggedOut','):\x20enviado\x20para\x20[','13462977gJNiYh','loadproxy','Rótulo\x20inválido\x20ou\x20sem\x20ID.','editChat','instanceName','http://ifconfig.me/ip','Error\x20in\x20chatModify\x20for\x20number\x20','isConnected','json','#6f7bcf',':\x20IP\x20configurado:\x20','redirect',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','@redis/client','delayMessage','hbs','archiveChat','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','https://jsonip.com','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','updateGroupsAddPrivacy','equal','getScheduleMessage','createConnection','addresss','lastSend','@g.us','delayChatLabel_MAX_RETRIES','varedits','):\x20Enviando\x20texto','addReplyOption','./.git/config','jid','fetchInstances','saveTextReply','uazapiSendText','deleteMessageForEveryone','truncatedto','options','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Visualizando\x20AutomateSystem','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Error\x20updating\x20message\x20status:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Module\x20-\x20ON','Router','groups.upsert','findGroupInfos','):\x20Editando\x20grupo\x20do\x20fluxo...','groupSetting','Temp\x20image\x20deleted','):\x20Criou\x20conversa\x20no\x20startFlow:','lastDisconnect','array','KEY','backgroundColor',',\x20fará\x20nova\x20verificação\x20em\x20','readFileSync','updateMessage','updateStatusPrivacy','use','deleteMessage','DATABASE_ENABLED','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','length','editflowblock','\x20-y','onWhatsApp','\x20attempts.','\x1b[36m','matchRegex','getConversation','instanceCount','media','stopMinutesMaxActives','qrcode-terminal','storePath','Imagem\x20não\x20encontrada','ScheduleMessageModel','resetReconnectionVariables','timeout','\x20after\x20','createClient','editFlowGroup','messageTimestamp','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x20->\x20NÃO\x20CORRESPONDE.','connectionStatus','sendButtons','):\x20Fluxos\x20não\x20estão\x20ativados','DisconnectReason','/message','isURL','events','connect','viewOnceMessageV2','Instância:\x20','substring','upperCase','request\x20received\x20in\x20scheduleMessage','HeaderType','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','contentText','composing','revokeInviteCode','.mp4','SERVER_OFFLINE','pictureUrl','available','synchronizeFlows','-instances','ChatRouter','replaceVariablesLogs','\x0aFN:','request\x20received\x20in\x20createFlow','Error\x20updating\x20setting','^\x5cd+[\x5c.@\x5cw-]+','chats.delete','InstancesAlterarTodas','3296632LWNqiN','InstancesAsDisconnectedX','SSL_CONF','Erro\x20ao\x20editar\x20agentes:\x20','ScheduleMessage','qrcode.updated','fone','):\x20Buscando\x20flow...','https://api.elevenlabs.io/v1/text-to-speech/','.png','/clients-info','contains','pollCreationMessageV3','isCommunity','requestPairingCode','):\x20Buscando\x20conversas...',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','reconnectAttempts','restrict','url','notEmpty','groupName','.\x20Pulando.','):\x20Query\x20params:\x20','audioMessage','save','method','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','updateCustomFields','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20conversation.lastInteraction:\x20','):\x20Não\x20achou\x20nenhum\x20flow','Converted\x20image\x20deleted','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','pollCreationMessageKey','AutomateFunctions','error','sem\x20texto\x20na\x20mensagem','subjectOwner','leadInfo.customFields','chat','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','text/event-stream','replaceOne','oldValue','\x20-i\x20','static','toFile','ignoreGroups','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','STORE_CHATS','Error\x20updating\x20privacy\x20settings','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20',',\x20valor\x20a\x20encontrar:\x20\x22','sendLocation','paused','conversationTimestamp','stateConnection','selectableCount','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','body','\x22\x20not\x20found','editScheduleMessage','menuExpiredMessage','?timestamp=','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','/instance/fetchInstances','Type\x20is\x20required','Log\x20out\x20instance:\x20','editflowreply','bateu\x20events','Logger','Fluxo\x20não\x20encontrado','editFlow','API\x20Key\x20from\x20Request:','request\x20received\x20in\x20deleteFlow','Subscribed\x20Events:','toLowerCase','https://api.ipify.org?format=json','\x1b[41m','Archiving\x20chat','metadata','existsSync','chats.set','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Campos\x20a\x20serem\x20atualizados:','title','lastUpdate','upsertChats','):\x20Error\x20processing\x20the\x20block:\x20','unreadcount','model','arrayUnique','mkdirSync','\x20minutos\x20verificará\x20novas\x20mensagens','/media','emit','lean','FlowController',',\x20Comparador:\x20','Valor\x20inicial:\x20\x22','Connection','CORS_ORIGIN','findParticipants','apply',',\x20Segundo\x20Valor:\x20','reference','scheduled','isJWT',',\x20pairCode:\x20','BRL','forEach','webhook','Erro\x20ao\x20editar\x20o\x20bloco:\x20','application/octet-stream','ultimaTentativaRemoteJid','not\x20loaded','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','updateParticipant','authentication','/wa-qrcode','agents','AUTHENTICATION_JWT_EXPIRIN_IN','number','remote\x20\x22origin\x22','):\x20Iniciando\x20bot...','valid','contacts.upsert','closed','nomecompleto','atendimentoAberto','profilePicture','Sistema\x20atualizado\x20com\x20sucesso!','redis','updateProfileStatus','getConversationModelForOwner','updateMissingLabels','__esModule','://','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','toDataURL','):\x20[messages.update]\x20group\x20ignored','chats','messages.update','Error\x20updating\x20cache\x20contact:','Message\x20not\x20found','changeVariables','Esse\x20fluxo\x20expirou','envProcess','_FlowHistorico','createRegularFlow','updateProfileName','\x20adicionado\x20ao\x20chat\x20','groupMetadata','dbInstance','):\x20Entrou\x20na\x20função\x20stop','Button\x20IDs\x20cannot\x20be\x20repeated.','API_KEY','chats.update','uuid','allContacts','setRestartTimeout','Contacts\x20not\x20found','format','join','):\x20Mensagem\x20já\x20enviada\x20para\x20','rowId','Business\x20profile\x20fetched','apirequest','less','noConnection','groupUpdateSubject','):\x20Buscando\x20todos\x20os\x20fluxos...','#ffffff','updateAgent','connectedClient','chatHandle','bearer','):\x20Error\x20processing\x20conditions:\x20','DARK','Comando\x20desconhecido','):\x20Ignoring\x20group\x20messages.','Error\x20updating\x20profile\x20picture','entries','findAndReplaceRegex','realVariables','sendDataWebhook','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','sendMessage','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','The\x20property\x20cannot\x20be\x20empty','\x20não\x20encontrado\x20para\x20atualização.','TEL','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','_Flows','saveConversationToDatabase','processing_id','pushName','keys','flowConfig','createJid','/wa-message','document','updateReadReceiptsPrivacy','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Atualização:\x20','drop','flowConversation','local_map','updateGParticipant','LOG_COLOR','PROXY','max','true','_activatedCount','state','deleteFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Error\x20change\x20group\x20setting','isBusiness','sections','choices','createNewConversation','name','createFlow','):\x20Enviando\x20localização','ERROR','node-mime-types','request\x20received\x20in\x20deleteDoneMessages','match','updateGroupPicture','Connection\x20closed\x20for\x20instance:\x20','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','updateMissingCustomFields','variable','locked','!stop','Image\x20is\x20url','delAll','#ffc5c7','findGroups','findOneAndUpdate','?authSource=admin&readPreference=primary&directConnection=true','default','EXPIRIN_IN','audio','string','min',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','removeData','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','createHash','URL:','content','preview','\x20removido\x20do\x20chat\x20','contactHandle','text','env.yml','height','process','senderKeyDistributionMessage','getPrototypeOf','messagesSend','logout','\x1b[33m\x1b[1m','fetchChats','errors','/exit','Chat\x20com\x20ID\x20','Telefone:\x20','createGroup','list','unlinkSync','authorization','SendScheduleMessage','Notifying\x20clients\x20for\x20chat:\x20','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','apiName','ReplyOption\x20com\x20ID\x20',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Processing\x20audio','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','ListType','cacheContact','content-type','Erro\x20do\x20Certbot:\x20','METHODS','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','messages.upsert','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','convertToWebP','The\x20global\x20api\x20key\x20must\x20be\x20set','GROUPS_UPSERT','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','participants','connectToWhatsappController','reactionMessage','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','/wa-groups','getMinutes','restartInstance','STATUS_INSTANCE','uazapi','DATABASE_CONNECTION_HOST','setContext','removed','leadInfo','replyOptions','This\x20name\x20','saveVariable','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','\x20}\x0a','option','):\x20Erro\x20ao\x20editar\x20agentes:\x20','CREDENTIALS','editflowvaredit','caption','createAndSave','Fluxos\x20não\x20estão\x20ativados','customFields','processConditions','CONTACTS_UPDATE','etiquetas','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Converting\x20image\x20to\x20WebP\x20to\x20sticker','instance.','waitingMenu_text','node-cache','writeData','):\x20Limpando\x20AutomateSystem','_id','latitude','collection','PREFIX_KEY','fetchBusinessProfile','sharp','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','AUTHENTICATION','recebido\x20de','sticker','FlowRouter','deleteAll','unknown\x20operation\x20type\x20[','MESSAGES_UPDATE','editOperator','lowerCase','CONTACTS_UPSERT','admin','loadInstance','capitalizedWords','delaySecMax','app-state-sync-key','fetchConversation','poll','urlOrBase64','Resultado\x20da\x20atualização:','parse','Background\x20color\x20is\x20required','flushHeaders','stopIfLastReturnedError','done','):\x20Deletando\x20conversa...','.wav','upsertedCount','DATABASE','Audio\x20converted\x20and\x20stored\x20in\x20cache','findGroupInfo','convertedOptions','qrcode','stopWhenYouSendMsg','formatVCard','creation','USER','maxActives','JWT','groupToggleEphemeral','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','getStatus','pt-BR',':\x20IP\x20funcionando!','\x20chats\x20de\x20','https://','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Mensagem\x20não\x20suportada','leadInfo.desativadoFluxoAte','contact','insertCount','statusJidList','Certbot:\x20','request\x20body:\x20','including\x20timestamp\x20in\x20url:\x20','\x1b[34m','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','copyDataToNewModel','sendAudio','reject','WA\x20MODULE','GROUPS_UPDATE','Error\x20updating\x20profile\x20status','contact_blacklist','qrCode','currency','website','fetchContacts','):\x20tem\x20blocks','ephemeralMessage','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','findAndUpdateCacheContact','16CKZDOS','updateMissingShareOwners','sendPresenceUpdate','\x1b[32m','request\x20received\x20in\x20updateAgent','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','waitingMenu_ExpiredMessage','http://icanhazip.com/','dataValidate','/chat','random','optionDescription','joinGroup','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','exec','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','pollMessageOnDelete','dbSettings','.ppt','DATABASE_CONNECTION_PASSWORD','data:\x20','getMessage','shareOwners','expression','PLAYED','\x20não\x20encontrado\x20para\x20cópia','client','remoteJidsRemaining','Flow\x20não\x20encontrado','flowPrefixCommand','vote','mongodb','replace','update','createSectionsFromValues','memberAddMode','):\x20teve\x20mudanças\x20chat.archived:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','verify','getClient','messageHandle','isJidGroup','joinApprovalMode','Error\x20occurred\x20while\x20archiving\x20chat:\x20','oldToken',',\x20saindo.','#64c4ff','#01d0e2','replaceVariablesInReplyOptions','menuMessage','blockId','groupParticipantsUpdate','readreceipts','.gif','request\x20received\x20in\x20editConversation','webp','importChatsBatch','updateAll','getHours','AppStateSyncKeyData','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','msgRetryCounterCache','Enter\x20a\x20value\x20in\x20milliseconds','updateGParticipate','generate','\x20mensagens\x20de\x20','DELETED','groupFetchAllParticipating','NextBlock','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','headers','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','--standalone','SERVER_PORT','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','js-yaml','Falha\x20após\x20várias\x20tentativas.','flowName','bodyString','sendReaction','jsonwebtoken','*Pergunta*:\x20\x0a','CHATS_DELETE','errorLog','variables','deleteMany','jwt','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Authentication\x20error','readMessage','lastCondition','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','sendWhatsAppAudio','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20newSecondValue\x20após\x20replaceVariables:','PRODUCT_LIST','imported','view\x20engine','):\x20','repository','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','Não\x20respondeu\x20com\x20a\x20enquete.','listType','call','size','dropCollection','waInstances','delayChatLabel_RETRY_DELAY_MS','sign','http://checkip.dyndns.org','variablesNotFound','test','Message','Label\x20','Image\x20path:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Bloco\x20com\x20ID\x20','includes','temp-','Image\x20is\x20base64','startsWith','):\x20Enviando\x20enquete','lastInteraction','responsavelid','ENABLED','extractMessageContent','Missing\x20global\x20api\x20key','keep-alive','user','open','updateMissingTags','recording','\x1b[37m','insertMany','Flow\x20iniciado\x20com\x20','boolean','endsWith','Variáveis\x20não\x20encontradas:','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','enabled','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','desativadoFluxoAte','deleteConversation','prototype','\x20e\x20ID=','stopMinutes','copy','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','env','ConversationModel','Error\x20fetching\x20group','error\x20get\x20vote','Erro\x20ao\x20remover\x20label\x20','quoted','webhookModel','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','createflow','close','remove','participant','50mb','FlowModel','getChatModelForOwner','contactsArrayMessage','pollCreationMessage','_Labels','makeCacheableSignalKeyStore','waMonitor','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','Failed\x20to\x20update\x20contact\x20profile\x20picture','flowStopConversation','\x1b[46m','host','eventEmitter','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','DATABASE_CONNECTION_USER','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Erro\x20ao\x20buscar\x20conversa:\x20','Invalid\x20format','announce','\x5c$&','Erro\x20ao\x20editar\x20a\x20conversa:\x20','remoteJids','http://ip-api.com/json','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Trying\x20to\x20get\x20business\x20profile','pollUpdateMessage','normalizeMessageContent','\x0a*Você\x20respondeu*:\x0a','groupHandler','generateWAMessageFromContent','Erro\x20ao\x20atualizar\x20AutomateSystem:','fetchMessages','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','getTicketSystem','PENDING','del','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','DOCKER_ENV','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','subject','fetchStatus','Error\x20creating\x20group','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','updateProfilePicturePrivacy','out','):\x20Conversas\x20encontradas:','Image\x20converted\x20to\x20WebP','\x1b[0m','lastmsg','uncaughtException','none','charAt','ephemeralExpiration','contacts.update','tags','reorderReplyOptions','presenceSubscribe','OrAnd','Schema','readdirSync','_Messages','findGroups2','\x20não\x20encontrado','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','toggleEphemeral','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','Not\x20is\x20business\x20profile','apiResponse','\x20quoted:\x20','cachedContacts-whatsapp','.error','processvaredits','post','deleteOne','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findByIdAndUpdate','Instance\x20Key\x20from\x20DB:','isRunning','LICENSE_INVALID','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Forbidden','getLabelModelForOwner','Erro\x20ao\x20deletar\x20mensagens:','query','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','/instance/connectionState','slice','):\x20nextBlock.uazapi.name','collections','flowIgnoreGroups','fromMe','Not\x20allowed\x20by\x20CORS','put','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x20horas\x20e\x20','convertaudio','add','notContains','groupRevokeInvite','online','redis://127.0.0.1:6379','request\x20received\x20in\x20starFlow','Erro:','557646GhIifM','linkPreview','ids','Erro\x20ao\x20buscar\x20conversas:\x20','\x20com\x20sucesso.','stringify','getMessageModelForOwner','auth','PRIVKEY','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','1BiauFM','.webp','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','buttonText','request\x20received\x20in\x20editFlowvariable','reaction','getFlowModelForOwner','\x20contacts','http://myexternalip.com/raw','DB_PREFIX_NAME','prepareMediaMessage','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','6586461VzyzMZ','updateProfilePicture','uazapiSendMedia','Primeiro\x20Valor:\x20','count','labels.edit','Error\x20getting\x20invite\x20code\x20info','sort','folder','Erro\x20ao\x20normalizar\x20a\x20mensagem:','picture','editFlowBlock','Fetching\x20business\x20profile','namespace','):\x20[messages.upsert]\x20group\x20ignored','label','request_method','):\x20Editando\x20condição\x20do\x20fluxo...','app','exists','dayjs','cache','getScheduleMessageModelForOwner','ON\x20-\x20dbName:\x20','getLastMessage','deleteDoneMessages','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','abs','VERBOSE','ip:\x20','@newsletter','load','groupUpdateDescription','formatStatusMessage','CacheContacts\x20database\x20connection\x20closed.','No\x20join\x20group\x20invite\x20code\x20or\x20url','bulkWrite','REDIS_URI','delaySecMin','status','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','displayName','buttons','closeExistingConversations','\x20is\x20already\x20in\x20use.','The\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','StatusJidList\x20is\x20required','\x20ao\x20chat\x20','PORT','removeProfilePicture','5Ibfnqi','NO_IP','ListMessage','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','status.instance','getAutomateSystem','.jpg','statusCode','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','varedit','GROUP_PARTICIPANTS_UPDATE','groupSettingUpdate','getflow','sendMessageWithTyping','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20conversation.status:\x20','shutdown\x20-r\x20now','listen','setWebhook','/config','addChatLabel','child_process','no-cache','getMIMEType','ChatModel','messaging-history.set','.mp3','interval\x20não\x20é\x20um\x20número','firstValue','exports','editFlowVariable',',\x20resultado:\x20','readFile','editedMessage','):\x20alterando\x20this.AutomateSystem','extractRegex','groupGetInviteInfo','findIndex','headerString','https','send.message','endSession','\x1b[30m','normalizeMessage','Instance\x20ID:','https://api.openai.com/v1/audio/speech','\x20minutos...','presence.update','env.KEY\x20!==\x20key',',\x20Resultado:\x20','SEND_MESSAGE','getTime','Reinicialização\x20iniciada:\x20','Chat\x20','flow','/wa-message-update','getVariablesChat','Font\x20is\x20required','some','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Erro\x20durante\x20a\x20atualização:\x20','.\x20Aguardando\x20antes\x20de\x20reconectar...','setNewValue','editflowcondition','.xlsx','formatBRNumber','\x20->\x20CONFIRMADO.','http','SERVER','Error\x20in\x20markMessageAsRead:','request\x20received\x20in\x20fetchConversation','Sending\x20audio\x20whatsapp','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','creds.json','Erro\x20ao\x20remover\x20instâncias\x20antigas:','^\x5cd+([-]\x5cd+)*@g.us$','\x22,\x20valor\x20a\x20substituir:\x20\x22','Cannot\x20','\x1b[1m','dbClient','uazapiSendContact','#9568cf','hGet','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','PRESENCE_UPDATE','createSharedFlow','utf-8','create','saveChatVariables','stderr','MESSAGES_UPSERT','flowActive','leadInfo.','API\x20Key\x20inválida.','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','truncatedtoEnd','prefixCommand','last','loadEnv','/instance','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','ini','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','HOST','getRandomText','checkAndUpdateChatStatus','font','Erro\x20de\x20reinicialização:\x20','inner','block','filter','SECRET','envYaml'];a0_0x5cf2=function(){return _0x27c658;};return a0_0x5cf2();}var Ia={'jwt':mi,'apikey':fi},ur=require('express'),E=require(a0_0x3c6a8b(0x4a1)),C=(..._0x597a62)=>{const _0x2d9190=a0_0x3c6a8b;let _0x3de747={};return _0x597a62[_0x2d9190(0x471)](_0x96bd0d=>_0x3de747[_0x96bd0d]={'minLength':0x1,'description':'The\x20\x22'+_0x96bd0d+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x597a62]}},'then':{'properties':_0x3de747}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'instanceName':{'type':a0_0x3c6a8b(0x4f8)}},...C(a0_0x3c6a8b(0x38c))},cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x3c6a8b(0x4f8)}},'required':['oldToken'],...C(a0_0x3c6a8b(0x5c9))},lc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x3c6a8b(0x4f8)},'remoteJid':{'type':a0_0x3c6a8b(0x4f8)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x3c6a8b(0x248),a0_0x3c6a8b(0x699)],...C('id','remoteJid')},'message':{'type':a0_0x3c6a8b(0x26c)}}},Q={'properties':{'delay':{'type':a0_0x3c6a8b(0x254),'description':a0_0x3c6a8b(0x5db)},'presence':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x2a7),a0_0x3c6a8b(0x3f7),a0_0x3c6a8b(0x3f2),a0_0x3c6a8b(0x620),'paused']}}},z={'type':a0_0x3c6a8b(0x4f8),'pattern':a0_0x3c6a8b(0x3ff),'description':a0_0x3c6a8b(0x64f)},xa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'text':{'type':a0_0x3c6a8b(0x4f8)}},'required':['text'],...C(a0_0x3c6a8b(0x503))}},'required':[a0_0x3c6a8b(0x15a),a0_0x3c6a8b(0x47d)]},Da={'type':a0_0x3c6a8b(0x4f8),'pattern':a0_0x3c6a8b(0x379),'description':a0_0x3c6a8b(0x64f)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...Da},'options':{...Q},'textMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'text':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x503)],...C('text')}},'required':[a0_0x3c6a8b(0x15a),'number']},dc={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...Da},'options':{...Q},'mediaMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'mediatype':{'type':a0_0x3c6a8b(0x4f8),'enum':['image',a0_0x3c6a8b(0x4cc),a0_0x3c6a8b(0x2ca),a0_0x3c6a8b(0x4f7)]},'media':{'type':'string'},'fileName':{'type':a0_0x3c6a8b(0x4f8)},'caption':{'type':a0_0x3c6a8b(0x4f8)}},'required':['mediatype',a0_0x3c6a8b(0x3d3)],...C('fileName',a0_0x3c6a8b(0x540),'media')}},'required':[a0_0x3c6a8b(0x16b),a0_0x3c6a8b(0x47d)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x11c)],...C('image')}},'required':[a0_0x3c6a8b(0x78e),a0_0x3c6a8b(0x47d)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x3c6a8b(0x503),'image',a0_0x3c6a8b(0x4f7),'video']},'content':{'type':a0_0x3c6a8b(0x4f8)},'caption':{'type':a0_0x3c6a8b(0x4f8)},'backgroundColor':{'type':a0_0x3c6a8b(0x4f8)},'font':{'type':a0_0x3c6a8b(0x254),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c6a8b(0x4f8),'pattern':a0_0x3c6a8b(0x779),'description':a0_0x3c6a8b(0x547)}},'allContacts':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}},'required':['type','content'],...C(a0_0x3c6a8b(0x2fb),a0_0x3c6a8b(0x4ff))}},'required':[a0_0x3c6a8b(0x1fa)]},$a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'mediatype':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x11c),a0_0x3c6a8b(0x4cc),'video',a0_0x3c6a8b(0x4f7)]},'media':{'type':a0_0x3c6a8b(0x4f8)},'fileName':{'type':a0_0x3c6a8b(0x4f8)},'caption':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x7b6),a0_0x3c6a8b(0x3d3)],...C(a0_0x3c6a8b(0x155),a0_0x3c6a8b(0x540),a0_0x3c6a8b(0x3d3))}},'required':['mediaMessage',a0_0x3c6a8b(0x47d)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'audio':{'type':'string'}},'required':['audio'],...C(a0_0x3c6a8b(0x4f7))}},'required':['audioMessage',a0_0x3c6a8b(0x47d)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'pollMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'name':{'type':a0_0x3c6a8b(0x4f8)},'selectableCount':{'type':a0_0x3c6a8b(0x47d)},'values':{'type':a0_0x3c6a8b(0x3be),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3c6a8b(0x4e1),a0_0x3c6a8b(0x43c),'values'],...C(a0_0x3c6a8b(0x4e1),a0_0x3c6a8b(0x43c),'values')}},'required':['number','pollMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'menuMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'text':{'type':a0_0x3c6a8b(0x4f8)},'choices':{'type':a0_0x3c6a8b(0x3be),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3c6a8b(0x503),a0_0x3c6a8b(0x4df)],...C('text','choices')}},'required':[a0_0x3c6a8b(0x47d),a0_0x3c6a8b(0x5ce)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x3c6a8b(0x4f8)},'description':{'type':a0_0x3c6a8b(0x4f8)},'footerText':{'type':'string'},'buttons':{'type':a0_0x3c6a8b(0x3be),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c6a8b(0x26c),'properties':{'buttonText':{'type':a0_0x3c6a8b(0x4f8)},'buttonId':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x6b3),a0_0x3c6a8b(0x12c)],...C(a0_0x3c6a8b(0x6b3),a0_0x3c6a8b(0x12c))}},'mediaMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'media':{'type':a0_0x3c6a8b(0x4f8)},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':[a0_0x3c6a8b(0x11c),a0_0x3c6a8b(0x4cc),a0_0x3c6a8b(0x2ca)]}},'required':[a0_0x3c6a8b(0x3d3),a0_0x3c6a8b(0x7b6)],...C('media',a0_0x3c6a8b(0x155))}},'required':[a0_0x3c6a8b(0x458),a0_0x3c6a8b(0x6e6)],...C(a0_0x3c6a8b(0x458),a0_0x3c6a8b(0x7b1))}},'required':[a0_0x3c6a8b(0x47d),a0_0x3c6a8b(0x2d1)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'latitude':{'type':a0_0x3c6a8b(0x47d)},'longitude':{'type':'number'},'name':{'type':a0_0x3c6a8b(0x4f8)},'address':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x54f),a0_0x3c6a8b(0x766)],...C(a0_0x3c6a8b(0x4e1),a0_0x3c6a8b(0x3a1))}},'required':[a0_0x3c6a8b(0x47d),'locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'title':{'type':'string'},'description':{'type':a0_0x3c6a8b(0x4f8)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x3c6a8b(0x4f8)},'sections':{'type':a0_0x3c6a8b(0x3be),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c6a8b(0x26c),'properties':{'title':{'type':a0_0x3c6a8b(0x4f8)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x3c6a8b(0x4f8)},'description':{'type':'string'},'rowId':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x458),a0_0x3c6a8b(0x4a8)],...C(a0_0x3c6a8b(0x458),a0_0x3c6a8b(0x4a8))}}},'required':['title','rows'],...C(a0_0x3c6a8b(0x458))}}},'required':[a0_0x3c6a8b(0x458),'description',a0_0x3c6a8b(0x6b3),'sections'],...C('title','description',a0_0x3c6a8b(0x6b3),a0_0x3c6a8b(0x12b))}},'required':['number','listMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x3c6a8b(0x3be),'items':{'type':a0_0x3c6a8b(0x26c),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x3c6a8b(0x1f0)],...C(a0_0x3c6a8b(0x1e4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x3c6a8b(0x47d),'contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'reactionMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'key':{'type':a0_0x3c6a8b(0x26c),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3c6a8b(0x4f8)},'fromMe':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3c6a8b(0x248),a0_0x3c6a8b(0x699)],...C('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x3c6a8b(0x1c5),a0_0x3c6a8b(0x6b5)],...C('reaction')}},'required':[a0_0x3c6a8b(0x52c)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'numbers':{'type':a0_0x3c6a8b(0x3be),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x3c6a8b(0x779),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'readMessages':{'type':a0_0x3c6a8b(0x3be),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x3c6a8b(0x4f8)},'fromMe':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3c6a8b(0x4f8)}},'required':['id',a0_0x3c6a8b(0x699),a0_0x3c6a8b(0x248)],...C('id',a0_0x3c6a8b(0x248))}}},'required':[a0_0x3c6a8b(0x333)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'privacySettings':{'type':a0_0x3c6a8b(0x26c),'properties':{'readreceipts':{'type':a0_0x3c6a8b(0x4f8),'enum':['all','none']},'profile':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x78a),a0_0x3c6a8b(0x2fd),'contact_blacklist',a0_0x3c6a8b(0x670)]},'status':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x78a),a0_0x3c6a8b(0x2fd),a0_0x3c6a8b(0x593),a0_0x3c6a8b(0x670)]},'online':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x78a),'match_last_seen']},'last':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x78a),a0_0x3c6a8b(0x2fd),a0_0x3c6a8b(0x593),'none']},'groupadd':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x78a),'contacts',a0_0x3c6a8b(0x593),a0_0x3c6a8b(0x670)]}},'required':[a0_0x3c6a8b(0x5d1),a0_0x3c6a8b(0x316),'status',a0_0x3c6a8b(0x6a2),a0_0x3c6a8b(0x752),a0_0x3c6a8b(0x1b7)],...C(a0_0x3c6a8b(0x5d1),'profile',a0_0x3c6a8b(0x6e3),a0_0x3c6a8b(0x6a2),a0_0x3c6a8b(0x752),a0_0x3c6a8b(0x1b7))}},'required':[a0_0x3c6a8b(0x165)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'lastMessage':{'type':a0_0x3c6a8b(0x26c),'properties':{'key':{'type':a0_0x3c6a8b(0x26c),'properties':{'id':{'type':a0_0x3c6a8b(0x4f8)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3c6a8b(0x699),a0_0x3c6a8b(0x248)],...C('id',a0_0x3c6a8b(0x248))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...C('messageTimestamp')},'archive':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}},'required':[a0_0x3c6a8b(0x7cd),a0_0x3c6a8b(0x36b)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'id':{'type':a0_0x3c6a8b(0x4f8)},'fromMe':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x3c6a8b(0x4f8)}},'required':['id',a0_0x3c6a8b(0x699),a0_0x3c6a8b(0x248)],...C('id',a0_0x3c6a8b(0x248),a0_0x3c6a8b(0x63c))},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x3c6a8b(0x4f8),'minLength':0x1},'pushName':{'type':a0_0x3c6a8b(0x4f8),'minLength':0x1},'id':{'type':a0_0x3c6a8b(0x4f8),'minLength':0x1}},...C(a0_0x3c6a8b(0x54e),'id','pushName')}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'name':{'type':a0_0x3c6a8b(0x4f8)}},...C('name')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'status':{'type':a0_0x3c6a8b(0x4f8)}},...C(a0_0x3c6a8b(0x6e3))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Xa={'type':a0_0x3c6a8b(0x26c),'properties':{'wuid':{'type':a0_0x3c6a8b(0x4f8)},'name':{'type':a0_0x3c6a8b(0x4f8)},'picture':{'type':a0_0x3c6a8b(0x4f8)},'status':{'type':'string'},'isBusiness':{'type':a0_0x3c6a8b(0x624)}}},Za={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'where':{'type':a0_0x3c6a8b(0x26c),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x3c6a8b(0x26c),'if':{'propertyNames':{'enum':[a0_0x3c6a8b(0x699),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3c6a8b(0x4f8),'minLength':0x1,'description':a0_0x3c6a8b(0x4c0)},'id':{'type':a0_0x3c6a8b(0x4f8),'minLength':0x1,'description':a0_0x3c6a8b(0x4c0)},'fromMe':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3c6a8b(0x26c)}},...C('_id')},'limit':{'type':a0_0x3c6a8b(0x254)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'where':{'type':a0_0x3c6a8b(0x26c),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x3c6a8b(0x4f8)},'id':{'type':a0_0x3c6a8b(0x4f8)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x3c6a8b(0x4f8)},'status':{'type':a0_0x3c6a8b(0x4f8),'enum':['ERROR',a0_0x3c6a8b(0x660),a0_0x3c6a8b(0x1e8),a0_0x3c6a8b(0x251),a0_0x3c6a8b(0x265),a0_0x3c6a8b(0x5b5)]}},...C(a0_0x3c6a8b(0x54e),a0_0x3c6a8b(0x248),'id',a0_0x3c6a8b(0x6e3))},'limit':{'type':a0_0x3c6a8b(0x254)}}},er={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'number':{...z},'presence':{'type':'string','enum':['unavailable',a0_0x3c6a8b(0x3f7),'composing',a0_0x3c6a8b(0x620),a0_0x3c6a8b(0x439)]}},'required':['presence',a0_0x3c6a8b(0x47d)]},tr={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'subject':{'type':a0_0x3c6a8b(0x4f8)},'description':{'type':a0_0x3c6a8b(0x4f8)},'profilePicture':{'type':a0_0x3c6a8b(0x4f8)},'participants':{'type':a0_0x3c6a8b(0x3be),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x3c6a8b(0x300),'description':a0_0x3c6a8b(0x244)}}},'required':[a0_0x3c6a8b(0x665),'participants'],...C('subject',a0_0x3c6a8b(0x7b1),'profilePicture')},Me={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':a0_0x3c6a8b(0x4f8),'pattern':a0_0x3c6a8b(0x73c)}},'required':[a0_0x3c6a8b(0x1e0)],...C(a0_0x3c6a8b(0x1e0))},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3c6a8b(0x4f8)},'action':{'type':'string','enum':[a0_0x3c6a8b(0x69f),a0_0x3c6a8b(0x63b),a0_0x3c6a8b(0x2c6),a0_0x3c6a8b(0x34b),a0_0x3c6a8b(0x58f),a0_0x3c6a8b(0x29f)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3c6a8b(0x4f8),'minLength':0xa,'pattern':a0_0x3c6a8b(0x300),'description':a0_0x3c6a8b(0x244)}}},'required':[a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x190),a0_0x3c6a8b(0x52a)],...C(a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x190))},ar={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':a0_0x3c6a8b(0x4f8)},'expiration':{'type':a0_0x3c6a8b(0x47d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x3c6a8b(0x128)],...C(a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x128))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x1e0),'image'],...C(a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x11c))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x7b1)],...C(a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x7b1))},or={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x3c6a8b(0x4f8)}},'required':['groupJid',a0_0x3c6a8b(0x4e1)],...C(a0_0x3c6a8b(0x1e0),'name')},nr={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':a0_0x3c6a8b(0x4f8)},'setting':{'type':a0_0x3c6a8b(0x4f8),'enum':[a0_0x3c6a8b(0x7e6),a0_0x3c6a8b(0x151),a0_0x3c6a8b(0x33a),a0_0x3c6a8b(0x4ed)]}},'required':[a0_0x3c6a8b(0x1e0),a0_0x3c6a8b(0x7bd)],...C(a0_0x3c6a8b(0x1e0),'setting')},cr={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'groupJid':{'type':a0_0x3c6a8b(0x4f8)},'restrict':{'type':a0_0x3c6a8b(0x624)},'announce':{'type':a0_0x3c6a8b(0x624)},'memberAddMode':{'type':a0_0x3c6a8b(0x624)},'joinApprovalMode':{'type':a0_0x3c6a8b(0x624)},'expiration':{'type':a0_0x3c6a8b(0x254),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x3c6a8b(0x4f8)},'image':{'type':a0_0x3c6a8b(0x4f8)}}},ys={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x3c6a8b(0x4f8)}},'required':[a0_0x3c6a8b(0x30a)],...C('inviteCode')},lr={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'url':{'type':a0_0x3c6a8b(0x4f8)},'enabled':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]}},'required':['url',a0_0x3c6a8b(0x628)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x3c6a8b(0x26c),'properties':{'local_map':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x3c6a8b(0x624),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x3c6a8b(0x4d2),a0_0x3c6a8b(0x531),a0_0x3c6a8b(0x13c),a0_0x3c6a8b(0x31a),'MESSAGES_UPDATE',a0_0x3c6a8b(0x74b),a0_0x3c6a8b(0x721),a0_0x3c6a8b(0x298),a0_0x3c6a8b(0x55e),a0_0x3c6a8b(0x545),'PRESENCE_UPDATE',a0_0x3c6a8b(0x243),a0_0x3c6a8b(0x2c1),a0_0x3c6a8b(0x37a),a0_0x3c6a8b(0x5ef),'CONNECTION_UPDATE',a0_0x3c6a8b(0x527),a0_0x3c6a8b(0x591),a0_0x3c6a8b(0x6f9)],...C('local_map',a0_0x3c6a8b(0x531),a0_0x3c6a8b(0x13c),a0_0x3c6a8b(0x31a),a0_0x3c6a8b(0x55b),'MESSAGES_UPSERT',a0_0x3c6a8b(0x721),a0_0x3c6a8b(0x298),a0_0x3c6a8b(0x55e),a0_0x3c6a8b(0x545),'PRESENCE_UPDATE',a0_0x3c6a8b(0x243),a0_0x3c6a8b(0x2c1),a0_0x3c6a8b(0x37a),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x3c6a8b(0x527),a0_0x3c6a8b(0x591),a0_0x3c6a8b(0x6f9))},et=class{},tt=class extends D{[a0_0x3c6a8b(0x348)](_0x217e6e){return Ys(_0x217e6e);}async['insert'](_0x10218f){const _0x1e543f=a0_0x3c6a8b;if(_0x10218f[_0x1e543f(0x3ca)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x10218f[0x0]['owner'])['insertMany']([..._0x10218f]))[_0x1e543f(0x3ca)]};}catch(_0x577da6){return _0x577da6;}}async[a0_0x3c6a8b(0x214)](_0x5702ec,_0x9d61c2){const _0x5435b5=a0_0x3c6a8b;try{return{'deletedCount':(await this[_0x5435b5(0x348)](_0x9d61c2)[_0x5435b5(0x5f2)]({..._0x5702ec[_0x5435b5(0x178)]}))[_0x5435b5(0x332)]};}catch(_0x477810){return{'error':_0x477810?.[_0x5435b5(0x341)]()};}}async[a0_0x3c6a8b(0x5be)](_0x5653ab,_0x3dd77d){const _0x225781=a0_0x3c6a8b;try{if(_0x5653ab['length']===0x0)return;let _0x55eb2f=this[_0x225781(0x348)](_0x3dd77d),_0x54c5f0=_0x5653ab['map'](_0x5457b0=>({'updateOne':{'filter':{'_id':_0x5457b0[_0x225781(0x54e)],'owner':_0x3dd77d},'update':{..._0x5457b0}}})),{modifiedCount:_0x1bf11c}=await _0x55eb2f[_0x225781(0x6e0)](_0x54c5f0);return{'insertCount':_0x1bf11c};}catch{return;}}async[a0_0x3c6a8b(0x217)](_0x4a968c,_0x1f4d3c){const _0x50e063=a0_0x3c6a8b;try{let _0x4d0398=this[_0x50e063(0x348)](_0x1f4d3c),_0xb93ca4=A(_0x4a968c[_0x50e063(0x178)]);return await _0x4d0398[_0x50e063(0x217)](_0xb93ca4)[_0x50e063(0x15e)](_0x4a968c?.[_0x50e063(0x15e)]??0x0)[_0x50e063(0x463)]();}catch{return[];}}async[a0_0x3c6a8b(0x23a)](_0x4b0758,_0x2d3739){const _0x2a9c86=a0_0x3c6a8b;try{let _0x464694=this[_0x2a9c86(0x348)](_0x2d3739),_0x43454f=A(_0x4b0758[_0x2a9c86(0x178)]);return await _0x464694[_0x2a9c86(0x23a)](_0x43454f)[_0x2a9c86(0x463)]();}catch{return null;}}async['deleteAll'](_0x58fb00){const _0x9bfd24=a0_0x3c6a8b;try{return await this[_0x9bfd24(0x348)](_0x58fb00)[_0x9bfd24(0x550)][_0x9bfd24(0x4d0)](),{'success':!0x0};}catch(_0x1b6176){return console[_0x9bfd24(0x426)](_0x1b6176),{'success':!0x1,'error':_0x1b6176};}}},st=require(a0_0x3c6a8b(0x194)),Ec=require(a0_0x3c6a8b(0x7da)),bs=new v(a0_0x3c6a8b(0x203)),V=class{['routerPath'](_0x446d30,_0x511540=!0x0){let _0x1d0a8c='/'+_0x446d30;return _0x511540&&(_0x1d0a8c+='/:instanceName'),_0x1d0a8c;}async[a0_0x3c6a8b(0x5a4)](_0xcabbef){const _0x41da8f=a0_0x3c6a8b;let {request:_0x1592ba,schema:_0x48556b,ClassRef:_0x2e427e,execute:_0x2c4a9c}=_0xcabbef,_0x4a5310=new _0x2e427e(),_0x188a18=_0x1592ba[_0x41da8f(0x43e)],_0x1bcf6e=_0x1592ba['params'];_0x1592ba?.[_0x41da8f(0x692)]&&Object[_0x41da8f(0x4c8)](_0x1592ba['query'])['length']>0x0&&Object[_0x41da8f(0x273)](_0x1bcf6e,_0x1592ba['query']),_0x1592ba['originalUrl'][_0x41da8f(0x612)](_0x41da8f(0x1f6))&&Object[_0x41da8f(0x273)](_0x1bcf6e,_0x188a18),Object[_0x41da8f(0x273)](_0x4a5310,_0x188a18);let _0x4e3cf0=_0x48556b?(0x0,st[_0x41da8f(0x2f9)])(_0x4a5310,_0x48556b):{'valid':!0x0,'errors':[]};if(!_0x4e3cf0[_0x41da8f(0x480)]){let _0x2bd20b=_0x4e3cf0[_0x41da8f(0x50d)][_0x41da8f(0x177)](({property:_0x5948ee,stack:_0x215e95,schema:_0x4b9743})=>{const _0x13489b=_0x41da8f;let _0x518c58;return _0x4b9743[_0x13489b(0x7b1)]?_0x518c58=_0x4b9743[_0x13489b(0x7b1)]:_0x518c58=_0x215e95[_0x13489b(0x5bd)](_0x13489b(0x549),''),{'property':_0x5948ee[_0x13489b(0x5bd)](_0x13489b(0x549),''),'message':_0x518c58};});throw bs[_0x41da8f(0x426)]([..._0x2bd20b]),new w(..._0x2bd20b);}return await _0x2c4a9c(_0x1bcf6e,_0x4a5310);}async[a0_0x3c6a8b(0x369)](_0x1441f2){const _0x324644=a0_0x3c6a8b;let {request:_0x46b0c1,ClassRef:_0x4185e1,schema:_0x3497b5,execute:_0x2ba34d}=_0x1441f2,_0xfc63f8=_0x46b0c1[_0x324644(0x692)];if(!_0xfc63f8?.[_0x324644(0x1e0)])throw new w(_0x324644(0x23d),_0x324644(0x24e));let _0x3cb945=_0x46b0c1['params'],_0x4bd436=_0x46b0c1[_0x324644(0x43e)],_0x18bbd4=new _0x4185e1();Object[_0x324644(0x273)](_0x4bd436,_0xfc63f8),Object[_0x324644(0x273)](_0x18bbd4,_0x4bd436);let _0x5d1f3f=(0x0,st[_0x324644(0x2f9)])(_0x18bbd4,_0x3497b5);if(!_0x5d1f3f[_0x324644(0x480)]){let _0x59fcd4=_0x5d1f3f['errors'][_0x324644(0x177)](({property:_0x20faa4,stack:_0x46f9e3,schema:_0x217038})=>{const _0x3375aa=_0x324644;let _0x4b69b4;return _0x217038[_0x3375aa(0x7b1)]?_0x4b69b4=_0x217038['description']:_0x4b69b4=_0x46f9e3[_0x3375aa(0x5bd)](_0x3375aa(0x549),''),{'property':_0x20faa4[_0x3375aa(0x5bd)]('instance.',''),'message':_0x4b69b4};});throw bs[_0x324644(0x426)]([..._0x59fcd4]),new w(..._0x59fcd4);}return await _0x2ba34d(_0x3cb945,_0x18bbd4);}async[a0_0x3c6a8b(0x31d)](_0x368177){const _0x10af39=a0_0x3c6a8b;let {request:_0x22a298,ClassRef:_0x5d04a6,schema:_0x1549f8,execute:_0xc412a7}=_0x368177,_0x45234e=_0x22a298[_0x10af39(0x43e)];if(!_0x45234e?.[_0x10af39(0x30a)])throw new w('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x10af39(0x68d));let _0x2c1efe=_0x22a298[_0x10af39(0x36e)],_0x188874=_0x22a298[_0x10af39(0x43e)],_0x51e315=new _0x5d04a6();Object[_0x10af39(0x273)](_0x188874,_0x45234e),Object['assign'](_0x51e315,_0x188874);let _0x167e22=(0x0,st[_0x10af39(0x2f9)])(_0x51e315,_0x1549f8);if(!_0x167e22[_0x10af39(0x480)]){let _0x3203d0=_0x167e22[_0x10af39(0x50d)][_0x10af39(0x177)](({property:_0xdc4bea,stack:_0x5d0760,schema:_0x2121d5})=>{const _0x1176a7=_0x10af39;let _0x7fa9b6;return _0x2121d5[_0x1176a7(0x7b1)]?_0x7fa9b6=_0x2121d5['description']:_0x7fa9b6=_0x5d0760[_0x1176a7(0x5bd)](_0x1176a7(0x549),''),{'property':_0xdc4bea[_0x1176a7(0x5bd)](_0x1176a7(0x549),''),'message':_0x7fa9b6};});throw bs[_0x10af39(0x426)]([..._0x3203d0]),new w(..._0x3203d0);}return await _0xc412a7(_0x2c1efe,_0x51e315);}},S=class{},Lc=new v(a0_0x3c6a8b(0x3fa)),at=class extends V{constructor(..._0x37c5b0){const _0x31f04e=a0_0x3c6a8b;super(),this['router']=(0x0,ur[_0x31f04e(0x3b6)])(),this[_0x31f04e(0x24b)][_0x31f04e(0x686)](this[_0x31f04e(0x2b6)](_0x31f04e(0x29a)),..._0x37c5b0,async(_0x98bc29,_0x31c84a)=>{const _0x2921d2=_0x31f04e;let _0x412930=await this[_0x2921d2(0x5a4)]({'request':_0x98bc29,'schema':er,'ClassRef':Ve,'execute':(_0x2cb5bf,_0x1705ac)=>_[_0x2921d2(0x29a)](_0x2cb5bf,_0x1705ac)});return _0x31c84a[_0x2921d2(0x6e3)](0xc9)['json'](_0x412930);})[_0x31f04e(0x686)](this[_0x31f04e(0x2b6)](_0x31f04e(0x7d5)),..._0x37c5b0,async(_0x38510a,_0x59d63d)=>{const _0x374ba6=_0x31f04e;let _0x3b9cbb=await this['dataValidate']({'request':_0x38510a,'schema':Ba,'ClassRef':Be,'execute':(_0x514903,_0x522552)=>_[_0x374ba6(0x207)](_0x514903,_0x522552)});return _0x59d63d[_0x374ba6(0x6e3)](0xc9)[_0x374ba6(0x390)](_0x3b9cbb);})[_0x31f04e(0x686)](this[_0x31f04e(0x2b6)](_0x31f04e(0x38b)),..._0x37c5b0,async(_0x11196d,_0x5b92f6)=>{const _0x25e00e=_0x31f04e;let _0x494dc8=await this[_0x25e00e(0x5a4)]({'request':_0x11196d,'schema':M,'ClassRef':S,'execute':(_0x458d3a,_0x3a9e08)=>_[_0x25e00e(0x38b)](_0x458d3a,_0x3a9e08)});return _0x5b92f6[_0x25e00e(0x6e3)](0xc9)[_0x25e00e(0x390)](_0x494dc8);})[_0x31f04e(0x69b)](this['routerPath'](_0x31f04e(0x788)),..._0x37c5b0,async(_0x2743ee,_0xf7cac3)=>{const _0x41d248=_0x31f04e;let _0x1d53b5=await this['dataValidate']({'request':_0x2743ee,'schema':Ga,'ClassRef':ze,'execute':(_0x229ea5,_0x11a299)=>_[_0x41d248(0x5f6)](_0x229ea5,_0x11a299)});return _0xf7cac3[_0x41d248(0x6e3)](0xc9)[_0x41d248(0x390)](_0x1d53b5);})['put'](this[_0x31f04e(0x2b6)]('archiveChat'),..._0x37c5b0,async(_0x59b3bd,_0x469a9a)=>{const _0x26e87c=_0x31f04e;let _0x5fa296=await this[_0x26e87c(0x5a4)]({'request':_0x59b3bd,'schema':za,'ClassRef':He,'execute':(_0x366896,_0x1a40cc)=>_[_0x26e87c(0x399)](_0x366896,_0x1a40cc)});return _0x469a9a[_0x26e87c(0x6e3)](0xc9)['json'](_0x5fa296);})['delete'](this['routerPath'](_0x31f04e(0x3ad)),..._0x37c5b0,async(_0x2ffa80,_0x58657a)=>{const _0x462ed4=_0x31f04e;let _0x13902e=await this[_0x462ed4(0x5a4)]({'request':_0x2ffa80,'schema':Ha,'ClassRef':Qe,'execute':(_0x42eba9,_0x409576)=>_[_0x462ed4(0x3c6)](_0x42eba9,_0x409576)});return _0x58657a[_0x462ed4(0x6e3)](0xc9)[_0x462ed4(0x390)](_0x13902e);})['post'](this[_0x31f04e(0x2b6)](_0x31f04e(0x7d1)),..._0x37c5b0,async(_0x238037,_0x5c42d8)=>{const _0x39bffd=_0x31f04e;let _0x22fd07=await this[_0x39bffd(0x5a4)]({'request':_0x238037,'schema':Ee,'ClassRef':Ce,'execute':(_0x3c3d96,_0x57d8a5)=>_[_0x39bffd(0x242)](_0x3c3d96,_0x57d8a5)});return _0x5c42d8[_0x39bffd(0x6e3)](0xc8)['json'](_0x22fd07);})['post'](this[_0x31f04e(0x2b6)]('fetchProfile'),..._0x37c5b0,async(_0x3b3c59,_0xedb5a7)=>{const _0x149b08=_0x31f04e;let _0x5d8903=await this[_0x149b08(0x5a4)]({'request':_0x3b3c59,'schema':Xa,'ClassRef':Ce,'execute':(_0x2a3e45,_0xc068cc)=>_[_0x149b08(0x292)](_0x2a3e45,_0xc068cc)});return _0xedb5a7[_0x149b08(0x6e3)](0xc8)['json'](_0x5d8903);})[_0x31f04e(0x686)](this['routerPath'](_0x31f04e(0x1ff)),..._0x37c5b0,async(_0x6a344e,_0x58a0a3)=>{const _0x4f23cd=_0x31f04e;let _0x349456=await this[_0x4f23cd(0x5a4)]({'request':_0x6a344e,'schema':Ka,'ClassRef':et,'execute':(_0x1db6bc,_0x21ec8f)=>_[_0x4f23cd(0x597)](_0x1db6bc,_0x21ec8f)});return _0x58a0a3['status'](0xc8)[_0x4f23cd(0x390)](_0x349456);})[_0x31f04e(0x686)](this[_0x31f04e(0x2b6)](_0x31f04e(0x21d)),..._0x37c5b0,async(_0x1d5ca3,_0x27c7e0)=>{const _0x96828=_0x31f04e;let _0x326908=await this[_0x96828(0x5a4)]({'request':_0x1d5ca3,'schema':null,'ClassRef':Object,'execute':(_0x5e36e0,_0x3803ef)=>_[_0x96828(0x21d)](_0x5e36e0,_0x3803ef)});return _0x27c7e0[_0x96828(0x6e3)](0xc9)['json'](_0x326908);})['post'](this['routerPath'](_0x31f04e(0x304)),..._0x37c5b0,async(_0x4bf9ec,_0x453c47)=>{const _0x5b34ce=_0x31f04e;let _0x5d8e7e=await this[_0x5b34ce(0x5a4)]({'request':_0x4bf9ec,'schema':Za,'ClassRef':qe,'execute':(_0x593ab7,_0x58d201)=>_[_0x5b34ce(0x65d)](_0x593ab7,_0x58d201)});return _0x453c47['status'](0xc8)[_0x5b34ce(0x390)](_0x5d8e7e);})['get'](this[_0x31f04e(0x2b6)]('findChats'),..._0x37c5b0,async(_0x554be0,_0x154a77)=>{const _0x50801e=_0x31f04e;let _0x56fc45=await this[_0x50801e(0x5a4)]({'request':_0x554be0,'schema':null,'ClassRef':S,'execute':_0x2aee89=>_[_0x50801e(0x50c)](_0x2aee89)});return _0x154a77[_0x50801e(0x6e3)](0xc8)[_0x50801e(0x390)](_0x56fc45);})['get'](this['routerPath'](_0x31f04e(0x2ba)),..._0x37c5b0,async(_0x8993d7,_0x3ec191)=>{const _0x1f280d=_0x31f04e;let _0x400533=await this['dataValidate']({'request':_0x8993d7,'schema':null,'ClassRef':S,'execute':_0x133a0a=>_[_0x1f280d(0x2b4)](_0x133a0a)});return _0x3ec191[_0x1f280d(0x6e3)](0xc8)[_0x1f280d(0x390)](_0x400533);})['put'](this['routerPath'](_0x31f04e(0x7d6)),..._0x37c5b0,async(_0x336dd9,_0x3b3406)=>{const _0x3492bf=_0x31f04e;let _0x496942=await this[_0x3492bf(0x5a4)]({'request':_0x336dd9,'schema':null,'ClassRef':Array,'execute':(_0x279e86,_0x212d31)=>_['importChats'](_0x279e86,_0x212d31)});return _0x3b3406[_0x3492bf(0x6e3)](0xc8)['json'](_0x496942);})[_0x31f04e(0x37f)](this[_0x31f04e(0x2b6)](_0x31f04e(0x21f)),..._0x37c5b0,async(_0x52f709,_0x5c20be)=>{const _0x40ad14=_0x31f04e;let _0x5f1cab=await this[_0x40ad14(0x5a4)]({'request':_0x52f709,'schema':null,'ClassRef':S,'execute':_0x1a99f9=>_[_0x40ad14(0x21f)](_0x1a99f9)});return _0x5c20be[_0x40ad14(0x6e3)](0xc8)[_0x40ad14(0x390)](_0x5f1cab);})[_0x31f04e(0x69b)](this['routerPath'](_0x31f04e(0x1cf)),..._0x37c5b0,async(_0x37d091,_0x3a0cbc)=>{const _0x4a0278=_0x31f04e;let _0x45aeda=await this[_0x4a0278(0x5a4)]({'request':_0x37d091,'schema':Wa,'ClassRef':Ke,'execute':(_0x89a5bd,_0x49c6e5)=>_['updatePrivacySettings'](_0x89a5bd,_0x49c6e5)});return _0x3a0cbc[_0x4a0278(0x6e3)](0xc9)[_0x4a0278(0x390)](_0x45aeda);})['post'](this[_0x31f04e(0x2b6)](_0x31f04e(0x552)),..._0x37c5b0,async(_0x297787,_0x338d63)=>{const _0x59f4d8=_0x31f04e;let _0x377e69=await this['dataValidate']({'request':_0x297787,'schema':Ee,'ClassRef':we,'execute':(_0x75baee,_0x42453d)=>_['fetchBusinessProfile'](_0x75baee,_0x42453d)});return _0x338d63[_0x59f4d8(0x6e3)](0xc8)[_0x59f4d8(0x390)](_0x377e69);})[_0x31f04e(0x686)](this[_0x31f04e(0x2b6)](_0x31f04e(0x499)),..._0x37c5b0,async(_0x2f2c47,_0x50d4ad)=>{const _0x13f5d9=_0x31f04e;let _0x27055e=await this['dataValidate']({'request':_0x2f2c47,'schema':Qa,'ClassRef':Ge,'execute':(_0x598f8d,_0x2a273d)=>_['updateProfileName'](_0x598f8d,_0x2a273d)});return _0x50d4ad[_0x13f5d9(0x6e3)](0xc8)[_0x13f5d9(0x390)](_0x27055e);})[_0x31f04e(0x686)](this['routerPath']('updateProfileStatus'),..._0x37c5b0,async(_0x4d0a9f,_0x581c76)=>{const _0x11e13b=_0x31f04e;let _0x2dde04=await this[_0x11e13b(0x5a4)]({'request':_0x4d0a9f,'schema':Ya,'ClassRef':We,'execute':(_0x1ac63a,_0x89149c)=>_[_0x11e13b(0x488)](_0x1ac63a,_0x89149c)});return _0x581c76[_0x11e13b(0x6e3)](0xc8)[_0x11e13b(0x390)](_0x2dde04);})[_0x31f04e(0x69b)](this['routerPath']('updateProfilePicture'),..._0x37c5b0,async(_0x32bf0e,_0x5d7107)=>{const _0x30a706=_0x31f04e;let _0x38d5cf=await this['dataValidate']({'request':_0x32bf0e,'schema':Ee,'ClassRef':we,'execute':(_0x15981d,_0x1e5ab2)=>_['updateProfilePicture'](_0x15981d,_0x1e5ab2)});return _0x5d7107[_0x30a706(0x6e3)](0xc8)[_0x30a706(0x390)](_0x38d5cf);})[_0x31f04e(0x214)](this[_0x31f04e(0x2b6)](_0x31f04e(0x6ee)),..._0x37c5b0,async(_0x5ea55c,_0x3ba246)=>{const _0x2f5a13=_0x31f04e;let _0x45692e=await this[_0x2f5a13(0x5a4)]({'request':_0x5ea55c,'schema':Ee,'ClassRef':we,'execute':(_0x24e452,_0x57ce2c)=>_['removeProfilePicture'](_0x24e452,_0x57ce2c)});return _0x3ba246[_0x2f5a13(0x6e3)](0xc8)[_0x2f5a13(0x390)](_0x45692e);});}},dr=require(a0_0x3c6a8b(0x312)),rt=class{},it=class{},ot=class{},nt=class{},ct=class{},lt=class{},Y=class{},ve=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends V{constructor(..._0x48b6fd){const _0x53fc1f=a0_0x3c6a8b;super(),this[_0x53fc1f(0x24b)]=(0x0,dr['Router'])(),this['router'][_0x53fc1f(0x686)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x748)),..._0x48b6fd,async(_0x535650,_0x468283)=>{const _0x5e9cdb=_0x53fc1f;let _0x384f53=await this[_0x5e9cdb(0x5a4)]({'request':_0x535650,'schema':tr,'ClassRef':rt,'execute':(_0x2c1efa,_0x4c8e9f)=>j['createGroup'](_0x2c1efa,_0x4c8e9f)});_0x468283[_0x5e9cdb(0x6e3)](0xc9)[_0x5e9cdb(0x390)](_0x384f53);})[_0x53fc1f(0x69b)](this['routerPath']('updateGroupPicture'),..._0x48b6fd,async(_0x2d2297,_0x3a8a7d)=>{let _0xdfb9be=await this['groupValidate']({'request':_0x2d2297,'schema':rr,'ClassRef':it,'execute':(_0x5d49ff,_0x46df56)=>j['updateGroupPicture'](_0x5d49ff,_0x46df56)});_0x3a8a7d['status'](0xc9)['json'](_0xdfb9be);})[_0x53fc1f(0x69b)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x1fc)),..._0x48b6fd,async(_0x2badbf,_0x5a3c21)=>{const _0x5c6b62=_0x53fc1f;let _0x4a7015=await this[_0x5c6b62(0x369)]({'request':_0x2badbf,'schema':ir,'ClassRef':ot,'execute':(_0x2a4c23,_0x170fda)=>j[_0x5c6b62(0x1fc)](_0x2a4c23,_0x170fda)});_0x5a3c21['status'](0xc9)['json'](_0x4a7015);})['put'](this['routerPath']('groupName'),..._0x48b6fd,async(_0x49ccb8,_0x13d649)=>{const _0x41310a=_0x53fc1f;let _0x3760f3=await this['groupValidate']({'request':_0x49ccb8,'schema':or,'ClassRef':nt,'execute':(_0x1fc048,_0x5c8587)=>j[_0x41310a(0x417)](_0x1fc048,_0x5c8587)});_0x13d649[_0x41310a(0x6e3)](0xc9)[_0x41310a(0x390)](_0x3760f3);})['put'](this['routerPath'](_0x53fc1f(0x375)),..._0x48b6fd,async(_0x2e6150,_0x36633c)=>{const _0x9f6212=_0x53fc1f;let _0x83c8e6=await this[_0x9f6212(0x369)]({'request':_0x2e6150,'schema':cr,'ClassRef':lt,'execute':(_0x498692,_0x4b9623)=>j[_0x9f6212(0x375)](_0x498692,_0x4b9623)});_0x36633c[_0x9f6212(0x6e3)](0xc9)['json'](_0x83c8e6);})['put'](this['routerPath']('groupSetting'),..._0x48b6fd,async(_0x1a11f0,_0x13cf61)=>{const _0x1d3367=_0x53fc1f;let _0x24cdd3=await this[_0x1d3367(0x369)]({'request':_0x1a11f0,'schema':nr,'ClassRef':ct,'execute':(_0x416679,_0x20cfe1)=>j[_0x1d3367(0x3ba)](_0x416679,_0x20cfe1)});_0x13cf61[_0x1d3367(0x6e3)](0xc9)['json'](_0x24cdd3);})[_0x53fc1f(0x69b)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x67e)),..._0x48b6fd,async(_0x2d1dac,_0x491bda)=>{const _0x4f2c19=_0x53fc1f;let _0x36a82e=await this[_0x4f2c19(0x369)]({'request':_0x2d1dac,'schema':ar,'ClassRef':dt,'execute':(_0x17ccbb,_0xc835bc)=>j[_0x4f2c19(0x67e)](_0x17ccbb,_0xc835bc)});_0x491bda[_0x4f2c19(0x6e3)](0xc9)[_0x4f2c19(0x390)](_0x36a82e);})[_0x53fc1f(0x37f)](this['routerPath'](_0x53fc1f(0x3b8)),..._0x48b6fd,async(_0xa76d8a,_0x1f8f0b)=>{const _0x1f0fe0=_0x53fc1f;let _0x57db0e=await this[_0x1f0fe0(0x369)]({'request':_0xa76d8a,'schema':Me,'ClassRef':Y,'execute':(_0x1e92c2,_0x24629d)=>j['findGroupInfo'](_0x1e92c2,_0x24629d)});_0x1f8f0b[_0x1f0fe0(0x6e3)](0xc8)[_0x1f0fe0(0x390)](_0x57db0e);})[_0x53fc1f(0x37f)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x4f2)),..._0x48b6fd,async(_0x312462,_0x2cea00)=>{const _0x5b0e06=_0x53fc1f;let _0x3e9cdd=await this['dataValidate']({'request':_0x312462,'schema':M,'ClassRef':S,'execute':_0x1fedc1=>j[_0x5b0e06(0x4f2)](_0x1fedc1)});_0x2cea00[_0x5b0e06(0x6e3)](0xc8)[_0x5b0e06(0x390)](_0x3e9cdd);})[_0x53fc1f(0x37f)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x52a)),..._0x48b6fd,async(_0x496a3c,_0xfaba18)=>{const _0x4b174e=_0x53fc1f;let _0x3e42b0=await this[_0x4b174e(0x369)]({'request':_0x496a3c,'schema':Me,'ClassRef':Y,'execute':(_0x1e0990,_0x127b39)=>j[_0x4b174e(0x469)](_0x1e0990,_0x127b39)});_0xfaba18[_0x4b174e(0x6e3)](0xc8)[_0x4b174e(0x390)](_0x3e42b0);})['get'](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x30a)),..._0x48b6fd,async(_0x245230,_0x413bb1)=>{const _0xa9449a=_0x53fc1f;let _0x3f8556=await this[_0xa9449a(0x369)]({'request':_0x245230,'schema':Me,'ClassRef':Y,'execute':(_0x1a00a8,_0x4308d9)=>j[_0xa9449a(0x30a)](_0x1a00a8,_0x4308d9)});_0x413bb1[_0xa9449a(0x6e3)](0xc8)[_0xa9449a(0x390)](_0x3f8556);})[_0x53fc1f(0x686)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x162)),..._0x48b6fd,async(_0x148833,_0x491622)=>{const _0x197cbb=_0x53fc1f;let _0x153894=await this['joinGroupValidate']({'request':_0x148833,'schema':ys,'ClassRef':ve,'execute':(_0x5eba27,_0x489b24)=>j[_0x197cbb(0x713)](_0x5eba27,_0x489b24)});_0x491622[_0x197cbb(0x6e3)](0xc9)[_0x197cbb(0x390)](_0x153894);})['put'](this[_0x53fc1f(0x2b6)]('joinGroup'),..._0x48b6fd,async(_0x17fedd,_0x4b0bd1)=>{const _0x1131d1=_0x53fc1f;let _0x21c541=await this['joinGroupValidate']({'request':_0x17fedd,'schema':ys,'ClassRef':ve,'execute':(_0x148e05,_0x350c33)=>j['joinGroup'](_0x148e05,_0x350c33)});_0x4b0bd1[_0x1131d1(0x6e3)](0xc9)[_0x1131d1(0x390)](_0x21c541);})[_0x53fc1f(0x69b)](this['routerPath']('revokeInviteCode'),..._0x48b6fd,async(_0x4ce52d,_0x76a904)=>{const _0x2fe26a=_0x53fc1f;let _0x140b66=await this[_0x2fe26a(0x369)]({'request':_0x4ce52d,'schema':Me,'ClassRef':Y,'execute':(_0x244f5a,_0x5306f1)=>j[_0x2fe26a(0x3f3)](_0x244f5a,_0x5306f1)});_0x76a904['status'](0xc9)[_0x2fe26a(0x390)](_0x140b66);})[_0x53fc1f(0x69b)](this[_0x53fc1f(0x2b6)](_0x53fc1f(0x478)),..._0x48b6fd,async(_0x383aa5,_0x5995ba)=>{const _0x5989f6=_0x53fc1f;let _0x30eb69=await this['groupValidate']({'request':_0x383aa5,'schema':sr,'ClassRef':ut,'execute':(_0x21c8ae,_0x2eafbd)=>j[_0x5989f6(0x5dc)](_0x21c8ae,_0x2eafbd)});_0x5995ba[_0x5989f6(0x6e3)](0xc9)[_0x5989f6(0x390)](_0x30eb69);})[_0x53fc1f(0x214)](this[_0x53fc1f(0x2b6)]('leaveGroup'),..._0x48b6fd,async(_0x224801,_0x4b189a)=>{const _0x51492d=_0x53fc1f;let _0x5d9b96=await this[_0x51492d(0x369)]({'request':_0x224801,'schema':{},'ClassRef':Y,'execute':(_0xda6924,_0x25f7a6)=>j[_0x51492d(0x18a)](_0xda6924,_0x25f7a6)});_0x4b189a[_0x51492d(0x6e3)](0xc8)[_0x51492d(0x390)](_0x5d9b96);});}},pr=require(a0_0x3c6a8b(0x312)),ht=class extends V{constructor(_0x30da20,..._0xacfdf5){const _0x396167=a0_0x3c6a8b;super(),this['configService']=_0x30da20,this[_0x396167(0x24b)]=(0x0,pr[_0x396167(0x3b6)])();let _0x42e769=_0x30da20[_0x396167(0x37f)](_0x396167(0x555));this[_0x396167(0x24b)][_0x396167(0x686)]('/create',..._0xacfdf5,async(_0x57da67,_0xa287a6)=>{const _0x56c087=_0x396167;let {instanceName:_0x255c23,apikey:_0x1830c3,number:_0x5aa740}=_0x57da67['body'],_0x38e7ea=await oe['createInstance']({'instanceName':_0x255c23,'apikey':_0x1830c3,'number':_0x5aa740});return _0xa287a6[_0x56c087(0x6e3)](0xc9)['json'](_0x38e7ea);})[_0x396167(0x69b)](this['routerPath']('restart'),..._0xacfdf5,async(_0x580388,_0x166dd3)=>{const _0xc03b04=_0x396167;let _0x57b19e=await this[_0xc03b04(0x5a4)]({'request':_0x580388,'schema':M,'ClassRef':S,'execute':_0x3360f3=>oe[_0xc03b04(0x530)](_0x3360f3)});return _0x166dd3[_0xc03b04(0x6e3)](0xc8)[_0xc03b04(0x390)](_0x57b19e);})['get'](this[_0x396167(0x2b6)](_0x396167(0x3e8)),..._0xacfdf5,async(_0x1234e9,_0x2b305b)=>{const _0x31e4ed=_0x396167;let _0x5bb6b0=await this[_0x31e4ed(0x5a4)]({'request':_0x1234e9,'schema':M,'ClassRef':S,'execute':_0x374536=>oe[_0x31e4ed(0x52b)](_0x374536)});return _0x2b305b['status'](0xc8)[_0x31e4ed(0x390)](_0x5bb6b0);})[_0x396167(0x37f)](this[_0x396167(0x2b6)](_0x396167(0x1e1)),..._0xacfdf5,async(_0x49f5b8,_0x11f249)=>{const _0x36d474=_0x396167;let _0xd3c9cc=await this['dataValidate']({'request':_0x49f5b8,'schema':M,'ClassRef':S,'execute':_0x3fced9=>oe[_0x36d474(0x1e1)](_0x3fced9)});return _0x11f249[_0x36d474(0x6e3)](0xc8)[_0x36d474(0x390)](_0xd3c9cc);})[_0x396167(0x37f)](this[_0x396167(0x2b6)](_0x396167(0x3aa),!0x1),..._0xacfdf5,async(_0x140866,_0x4e5cf6)=>{const _0x12893b=_0x396167;let _0x36735c=await this[_0x12893b(0x5a4)]({'request':_0x140866,'schema':null,'ClassRef':S,'execute':_0x3c042c=>oe[_0x12893b(0x3aa)](_0x3c042c)});return _0x4e5cf6[_0x12893b(0x6e3)](0xc8)[_0x12893b(0x390)](_0x36735c);})[_0x396167(0x214)](this[_0x396167(0x2b6)]('logout'),..._0xacfdf5,async(_0x54959a,_0xe06406)=>{const _0x51527e=_0x396167;let _0x49ae27=await this['dataValidate']({'request':_0x54959a,'schema':M,'ClassRef':S,'execute':_0x7f858=>oe[_0x51527e(0x50a)](_0x7f858)});return _0xe06406[_0x51527e(0x6e3)](0xc8)[_0x51527e(0x390)](_0x49ae27);})['delete'](this[_0x396167(0x2b6)](_0x396167(0x214)),..._0xacfdf5,async(_0x197ed1,_0x6dd8f5)=>{const _0x3ad6a4=_0x396167;let _0x8b0fb2=await this[_0x3ad6a4(0x5a4)]({'request':_0x197ed1,'schema':M,'ClassRef':S,'execute':_0xabeef4=>oe[_0x3ad6a4(0x169)](_0xabeef4)});return _0x6dd8f5[_0x3ad6a4(0x6e3)](0xc8)[_0x3ad6a4(0x390)](_0x8b0fb2);});}},hr=require(a0_0x3c6a8b(0x312)),Ss=class{},W=class extends Ss{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},Ne=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class{},vt=class extends V{constructor(..._0x5607ae){const _0x5e1225=a0_0x3c6a8b;super(),this['router']=(0x0,hr[_0x5e1225(0x3b6)])(),this[_0x5e1225(0x24b)][_0x5e1225(0x686)](this[_0x5e1225(0x2b6)](_0x5e1225(0x357)),..._0x5607ae,async(_0x18b909,_0x477ecf)=>{const _0x29feb0=_0x5e1225;let _0x4eb14d=await this[_0x29feb0(0x5a4)]({'request':_0x18b909,'schema':xa,'ClassRef':gt,'execute':(_0xeb7c63,_0x2fc3f8)=>G['sendText'](_0xeb7c63,_0x2fc3f8)});return _0x477ecf[_0x29feb0(0x6e3)](0xc9)['json'](_0x4eb14d);})[_0x5e1225(0x686)](this[_0x5e1225(0x2b6)]('sendMedia'),..._0x5607ae,async(_0x1eb5dc,_0x1614b4)=>{const _0x16f35a=_0x5e1225;let _0x1fef48=await this[_0x16f35a(0x5a4)]({'request':_0x1eb5dc,'schema':$a,'ClassRef':Ne,'execute':(_0x51d7a0,_0x59c3e9)=>G[_0x16f35a(0x2ab)](_0x51d7a0,_0x59c3e9)});return _0x1614b4['status'](0xc9)[_0x16f35a(0x390)](_0x1fef48);})['post'](this[_0x5e1225(0x2b6)](_0x5e1225(0x17e)),..._0x5607ae,async(_0x40e27e,_0x1c92b5)=>{const _0x521914=_0x5e1225;let _0x3b63c8=await this[_0x521914(0x5a4)]({'request':_0x40e27e,'schema':ja,'ClassRef':wt,'execute':(_0xdea92f,_0x49b6b9)=>G[_0x521914(0x17e)](_0xdea92f,_0x49b6b9)});return _0x1c92b5[_0x521914(0x6e3)](0xc9)[_0x521914(0x390)](_0x3b63c8);})['post'](this[_0x5e1225(0x2b6)](_0x5e1225(0x5f9)),..._0x5607ae,async(_0xdd7515,_0x437ae7)=>{const _0x131c8e=_0x5e1225;let _0x63d75d=await this[_0x131c8e(0x5a4)]({'request':_0xdd7515,'schema':ka,'ClassRef':Ne,'execute':(_0x544379,_0x477b23)=>G[_0x131c8e(0x5f9)](_0x544379,_0x477b23)});return _0x437ae7[_0x131c8e(0x6e3)](0xc9)[_0x131c8e(0x390)](_0x63d75d);})[_0x5e1225(0x686)](this[_0x5e1225(0x2b6)]('sendButtons'),..._0x5607ae,async(_0x2ce674,_0x5369bb)=>{const _0xf3e7dd=_0x5e1225;let _0x1b1cfb=await this[_0xf3e7dd(0x5a4)]({'request':_0x2ce674,'schema':Fa,'ClassRef':bt,'execute':(_0x590c33,_0x37618b)=>G['sendButtons'](_0x590c33,_0x37618b)});return _0x5369bb[_0xf3e7dd(0x6e3)](0xc9)[_0xf3e7dd(0x390)](_0x1b1cfb);})[_0x5e1225(0x686)](this['routerPath'](_0x5e1225(0x438)),..._0x5607ae,async(_0x1bd22b,_0x1327e8)=>{const _0x39f616=_0x5e1225;let _0x4eb347=await this[_0x39f616(0x5a4)]({'request':_0x1bd22b,'schema':Ua,'ClassRef':St,'execute':(_0x2411d9,_0x1c063c)=>G[_0x39f616(0x438)](_0x2411d9,_0x1c063c)});return _0x1327e8[_0x39f616(0x6e3)](0xc9)[_0x39f616(0x390)](_0x4eb347);})[_0x5e1225(0x686)](this[_0x5e1225(0x2b6)](_0x5e1225(0x785)),..._0x5607ae,async(_0x449b2f,_0x4b39f3)=>{const _0x1ebe64=_0x5e1225;let _0x42ea7e=await this['dataValidate']({'request':_0x449b2f,'schema':qa,'ClassRef':Ct,'execute':(_0x247f99,_0xe845ae)=>G[_0x1ebe64(0x785)](_0x247f99,_0xe845ae)});return _0x4b39f3['status'](0xc9)[_0x1ebe64(0x390)](_0x42ea7e);})[_0x5e1225(0x686)](this['routerPath'](_0x5e1225(0x2e7)),..._0x5607ae,async(_0x1420ee,_0x2d7627)=>{const _0x2b2e12=_0x5e1225;let _0x7177bd=await this[_0x2b2e12(0x5a4)]({'request':_0x1420ee,'schema':Ja,'ClassRef':Et,'execute':(_0x52e117,_0x2a31ec)=>G[_0x2b2e12(0x2e7)](_0x52e117,_0x2a31ec)});return _0x2d7627[_0x2b2e12(0x6e3)](0xc9)[_0x2b2e12(0x390)](_0x7177bd);})[_0x5e1225(0x686)](this[_0x5e1225(0x2b6)](_0x5e1225(0x5ec)),..._0x5607ae,async(_0x343f58,_0x183f13)=>{const _0x1851ef=_0x5e1225;let _0x3f3815=await this[_0x1851ef(0x5a4)]({'request':_0x343f58,'schema':Va,'ClassRef':Mt,'execute':(_0x126f39,_0x12f915)=>G[_0x1851ef(0x5ec)](_0x126f39,_0x12f915)});return _0x183f13[_0x1851ef(0x6e3)](0xc9)[_0x1851ef(0x390)](_0x3f3815);})[_0x5e1225(0x686)](this[_0x5e1225(0x2b6)](_0x5e1225(0x33e)),..._0x5607ae,async(_0x2d9cda,_0x5cce6e)=>{const _0x3778c8=_0x5e1225;let _0x5b760f=await this[_0x3778c8(0x5a4)]({'request':_0x2d9cda,'schema':La,'ClassRef':ft,'execute':(_0x5d8b87,_0x2d8db7)=>G[_0x3778c8(0x33e)](_0x5d8b87,_0x2d8db7)});return _0x5cce6e[_0x3778c8(0x6e3)](0xc9)[_0x3778c8(0x390)](_0x5b760f);})['post'](this[_0x5e1225(0x2b6)]('sendStatus'),..._0x5607ae,async(_0x41df08,_0x77015c)=>{const _0x24f7f8=_0x5e1225;let _0x28724a=await this['dataValidate']({'request':_0x41df08,'schema':Pa,'ClassRef':mt,'execute':(_0x52e6eb,_0x5f36a4)=>G[_0x24f7f8(0x2be)](_0x52e6eb,_0x5f36a4)});return _0x77015c[_0x24f7f8(0x6e3)](0xc9)['json'](_0x28724a);})[_0x5e1225(0x686)](this['routerPath'](_0x5e1225(0x1d5)),..._0x5607ae,async(_0x306e4a,_0x35d18c)=>{const _0x158354=_0x5e1225;let _0x2ba05a=await this[_0x158354(0x5a4)]({'request':_0x306e4a,'schema':_a,'ClassRef':yt,'execute':(_0x10e81c,_0x5c02d1)=>G[_0x158354(0x1d5)](_0x10e81c,_0x5c02d1)});return _0x35d18c[_0x158354(0x6e3)](0xc9)[_0x158354(0x390)](_0x2ba05a);});}},gr=require('express'),Nt=class{},Rt=class extends V{constructor(..._0xd41fda){const _0x177ae0=a0_0x3c6a8b;super(),this['router']=(0x0,gr['Router'])(),this[_0x177ae0(0x24b)][_0x177ae0(0x686)](this['routerPath'](_0x177ae0(0x16f)),..._0xd41fda,async(_0x5844b1,_0x1f2f86)=>{const _0x493ef4=_0x177ae0;let _0x1a1cf8=await this['dataValidate']({'request':_0x5844b1,'schema':lr,'ClassRef':Nt,'execute':(_0x5a55d7,_0x32d068)=>Cs['createWebhook'](_0x5a55d7,_0x32d068)});_0x1f2f86['status'](0xc9)[_0x493ef4(0x390)](_0x1a1cf8);})[_0x177ae0(0x37f)](this[_0x177ae0(0x2b6)]('find'),..._0xd41fda,async(_0x22cf4f,_0x457325)=>{const _0x1fb93a=_0x177ae0;let _0x1b3891=await this[_0x1fb93a(0x5a4)]({'request':_0x22cf4f,'schema':M,'ClassRef':S,'execute':_0x271251=>Cs[_0x1fb93a(0x238)](_0x271251)});_0x457325['status'](0xc8)['json'](_0x1b3891);});}},mr=require('express'),y=new v(a0_0x3c6a8b(0x558)),Tt=class extends V{constructor(..._0x4f970a){const _0x3f1ce7=a0_0x3c6a8b;super(),this[_0x3f1ce7(0x24b)]=(0x0,mr[_0x3f1ce7(0x3b6)])(),this[_0x3f1ce7(0x24b)]['post'](this['routerPath'](_0x3f1ce7(0x1b6)),..._0x4f970a,async(_0x4c008b,_0x1b1ba0)=>{const _0x21effc=_0x3f1ce7;let _0x452d1c=_0x4c008b[_0x21effc(0x43e)];y['verbose'](_0x21effc(0x3ed)),y[_0x21effc(0x1a2)](_0x21effc(0x589)),y[_0x21effc(0x1a2)](_0x4c008b[_0x21effc(0x43e)]);let _0x51885d=await this[_0x21effc(0x5a4)]({'request':_0x4c008b,'schema':M,'ClassRef':S,'execute':_0x15d517=>I[_0x21effc(0x440)](_0x15d517,_0x452d1c)});_0x1b1ba0['status'](0xc8)['json'](_0x51885d);})[_0x3f1ce7(0x37f)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x1b6)),..._0x4f970a,async(_0x917005,_0x2c70aa)=>{const _0xaedb52=_0x3f1ce7;let _0x32ab29=await this['dataValidate']({'request':_0x917005,'schema':M,'ClassRef':S,'execute':_0x2078bd=>I['getScheduleMessage'](_0x2078bd)});_0x2c70aa[_0xaedb52(0x6e3)](0xc8)['json'](_0x32ab29);})[_0x3f1ce7(0x214)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x6d5)),..._0x4f970a,async(_0x277647,_0xd0b3b4)=>{const _0x3bb41a=_0x3f1ce7;y[_0x3bb41a(0x1a2)](_0x3bb41a(0x4e6));let _0xd10073=await this[_0x3bb41a(0x5a4)]({'request':_0x277647,'schema':M,'ClassRef':S,'execute':_0x2ba608=>I[_0x3bb41a(0x6d5)](_0x2ba608)});_0xd0b3b4[_0x3bb41a(0x6e3)](0xc8)[_0x3bb41a(0x390)](_0xd10073);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x37c)),..._0x4f970a,async(_0x160705,_0x2a8a30)=>{const _0x400dc5=_0x3f1ce7;let _0x3a9b0d=_0x160705[_0x400dc5(0x43e)];y[_0x400dc5(0x1a2)](_0x400dc5(0x6a4)),y[_0x400dc5(0x1a2)]('request\x20body:\x20'),y[_0x400dc5(0x1a2)](_0x160705['body']);let _0x4fbd7f=await this[_0x400dc5(0x5a4)]({'request':_0x160705,'schema':M,'ClassRef':S,'execute':_0x137d03=>I[_0x400dc5(0x37c)](_0x137d03,_0x3a9b0d)});_0x2a8a30[_0x400dc5(0x6e3)](0xc8)[_0x400dc5(0x390)](_0x4fbd7f);})[_0x3f1ce7(0x37f)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x6f4)),..._0x4f970a,async(_0x2e1373,_0x5b53bf)=>{const _0x442fee=_0x3f1ce7;y[_0x442fee(0x1a2)]('request\x20received\x20in\x20getAutomateSystem');let _0x4cefdd=await this[_0x442fee(0x5a4)]({'request':_0x2e1373,'schema':M,'ClassRef':S,'execute':_0x11e1ae=>I['getAutomateSystem'](_0x11e1ae)});_0x5b53bf[_0x442fee(0x6e3)](0xc8)['json'](_0x4cefdd);})[_0x3f1ce7(0x37f)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x65f)),..._0x4f970a,async(_0x1b0efa,_0x3820c5)=>{const _0x37c39f=_0x3f1ce7;y[_0x37c39f(0x1a2)](_0x37c39f(0x2e8));let _0xf51649=await this[_0x37c39f(0x5a4)]({'request':_0x1b0efa,'schema':M,'ClassRef':S,'execute':_0x3d06fc=>I[_0x37c39f(0x6f4)](_0x3d06fc)});_0x3820c5[_0x37c39f(0x6e3)](0xc8)[_0x37c39f(0x390)](_0xf51649);})[_0x3f1ce7(0x686)](this['routerPath']('updateAgent'),..._0x4f970a,async(_0xac075c,_0x44bddd)=>{const _0x47faf8=_0x3f1ce7;let _0x5a0e1e=_0xac075c[_0x47faf8(0x43e)];y[_0x47faf8(0x1a2)](_0x47faf8(0x5a0)),y['verbose'](_0x47faf8(0x589)),y[_0x47faf8(0x1a2)](_0xac075c[_0x47faf8(0x43e)]);let _0x7e3ef1=await this['dataValidate']({'request':_0xac075c,'schema':M,'ClassRef':S,'execute':_0x5a025a=>I[_0x47faf8(0x4b0)](_0x5a025a,_0x5a0e1e)});_0x44bddd['status'](0xc8)[_0x47faf8(0x390)](_0x7e3ef1);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)]('updateCustomFields'),..._0x4f970a,async(_0xe567f3,_0x1f3cd2)=>{const _0x17a2ed=_0x3f1ce7;let _0x3405e1=_0xe567f3[_0x17a2ed(0x43e)];y['verbose'](_0x17a2ed(0x31f)),y['verbose'](_0x17a2ed(0x589)),y[_0x17a2ed(0x1a2)](_0xe567f3[_0x17a2ed(0x43e)]);let _0x3dae7d=await this[_0x17a2ed(0x5a4)]({'request':_0xe567f3,'schema':M,'ClassRef':S,'execute':_0x20c46b=>I[_0x17a2ed(0x41e)](_0x20c46b,_0x3405e1)});_0x1f3cd2[_0x17a2ed(0x6e3)](0xc8)[_0x17a2ed(0x390)](_0x3dae7d);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x363)),..._0x4f970a,async(_0x1355ec,_0x4a76c5)=>{const _0x2e6a43=_0x3f1ce7;let _0x3cb4ea=_0x1355ec[_0x2e6a43(0x43e)];y['verbose'](_0x2e6a43(0x1cc)),y[_0x2e6a43(0x1a2)](_0x2e6a43(0x589)),y[_0x2e6a43(0x1a2)](_0x1355ec[_0x2e6a43(0x43e)]);let _0x38b5cf=await this['dataValidate']({'request':_0x1355ec,'schema':M,'ClassRef':S,'execute':_0x5a638a=>I[_0x2e6a43(0x363)](_0x5a638a,_0x3cb4ea)});_0x4a76c5[_0x2e6a43(0x6e3)](0xc8)[_0x2e6a43(0x390)](_0x38b5cf);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x3d1)),..._0x4f970a,async(_0x13c9e3,_0x26d807)=>{const _0x23852c=_0x3f1ce7;let _0x19424a=_0x13c9e3[_0x23852c(0x43e)];y[_0x23852c(0x1a2)](_0x23852c(0x2ed)),y[_0x23852c(0x1a2)](_0x23852c(0x589)),y[_0x23852c(0x1a2)](_0x13c9e3[_0x23852c(0x43e)]);let _0x54b420=await this[_0x23852c(0x5a4)]({'request':_0x13c9e3,'schema':M,'ClassRef':S,'execute':_0xaa4728=>I['getConversation'](_0xaa4728,_0x19424a)});_0x26d807[_0x23852c(0x6e3)](0xc8)[_0x23852c(0x390)](_0x54b420);})['post'](this['routerPath'](_0x3f1ce7(0x564)),..._0x4f970a,async(_0x32da5f,_0x39fa26)=>{const _0x2b8b75=_0x3f1ce7;let _0x5367bc=_0x32da5f['body'];y[_0x2b8b75(0x1a2)](_0x2b8b75(0x736)),y[_0x2b8b75(0x1a2)](_0x2b8b75(0x589)),y['verbose'](_0x32da5f[_0x2b8b75(0x43e)]);let _0x2bca4c=await this[_0x2b8b75(0x5a4)]({'request':_0x32da5f,'schema':M,'ClassRef':S,'execute':_0x530cbe=>I[_0x2b8b75(0x564)](_0x530cbe,_0x5367bc)});_0x39fa26[_0x2b8b75(0x6e3)](0xc8)['json'](_0x2bca4c);})[_0x3f1ce7(0x686)](this['routerPath']('editConversation'),..._0x4f970a,async(_0x5a5d2a,_0x596a4a)=>{const _0x6b2a61=_0x3f1ce7;let _0x3c38a4=_0x5a5d2a[_0x6b2a61(0x43e)];y[_0x6b2a61(0x1a2)](_0x6b2a61(0x5d3)),y[_0x6b2a61(0x1a2)]('request\x20body:\x20'),y[_0x6b2a61(0x1a2)](_0x5a5d2a[_0x6b2a61(0x43e)]);let _0x324b98=await this['dataValidate']({'request':_0x5a5d2a,'schema':M,'ClassRef':S,'execute':_0x3e484c=>I[_0x6b2a61(0x14d)](_0x3e484c,_0x3c38a4)});_0x596a4a[_0x6b2a61(0x6e3)](0xc8)['json'](_0x324b98);})[_0x3f1ce7(0x214)](this[_0x3f1ce7(0x2b6)]('deleteConversation'),..._0x4f970a,async(_0x53e702,_0x473793)=>{const _0xe4280c=_0x3f1ce7;let _0x1923c3=_0x53e702['body'];y[_0xe4280c(0x1a2)](_0xe4280c(0x2b2)),y[_0xe4280c(0x1a2)](_0xe4280c(0x589)),y['verbose'](_0x53e702['body']);let _0x2c846f=await this[_0xe4280c(0x5a4)]({'request':_0x53e702,'schema':M,'ClassRef':S,'execute':_0x2e3ed0=>I['deleteConversation'](_0x2e3ed0,_0x1923c3)});_0x473793[_0xe4280c(0x6e3)](0xc8)[_0xe4280c(0x390)](_0x2c846f);})['post'](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x639)),..._0x4f970a,async(_0x3bb94c,_0x5d22da)=>{const _0x511801=_0x3f1ce7;let _0x324b06=_0x3bb94c[_0x511801(0x43e)];y[_0x511801(0x1a2)](_0x511801(0x3fd)),y[_0x511801(0x1a2)](_0x511801(0x589)),y[_0x511801(0x1a2)](_0x3bb94c[_0x511801(0x43e)]);let _0x27ccd9=await this[_0x511801(0x5a4)]({'request':_0x3bb94c,'schema':M,'ClassRef':S,'execute':_0x2707e2=>I[_0x511801(0x4e2)](_0x2707e2,_0x324b06)});_0x5d22da['status'](0xc8)[_0x511801(0x390)](_0x27ccd9);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x2e9)),..._0x4f970a,async(_0x128bcc,_0x2ca7fd)=>{const _0x2f9081=_0x3f1ce7;let _0x5407db=_0x128bcc[_0x2f9081(0x43e)];y[_0x2f9081(0x1a2)]('request\x20received\x20in\x20editFlow'),y[_0x2f9081(0x1a2)](_0x2f9081(0x589)),y['verbose'](_0x128bcc[_0x2f9081(0x43e)]),delete _0x5407db['blocks'],delete _0x5407db['variables'],delete _0x5407db['groups'],delete _0x5407db[_0x2f9081(0x37b)];let _0x5d7422=await this[_0x2f9081(0x5a4)]({'request':_0x128bcc,'schema':M,'ClassRef':S,'execute':_0x3c148e=>I[_0x2f9081(0x44b)](_0x3c148e,_0x5407db)});_0x2ca7fd['status'](0xc8)['json'](_0x5d7422);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x3cb)),..._0x4f970a,async(_0x415e99,_0x591cd4)=>{const _0x4e5d01=_0x3f1ce7;let _0x45f83b=_0x415e99[_0x4e5d01(0x43e)];y[_0x4e5d01(0x1a2)](_0x4e5d01(0x2b5)),y[_0x4e5d01(0x1a2)](_0x4e5d01(0x589)),y[_0x4e5d01(0x1a2)](_0x415e99['body']);let _0x3a590b=await this[_0x4e5d01(0x5a4)]({'request':_0x415e99,'schema':M,'ClassRef':S,'execute':_0x43f9d4=>I[_0x4e5d01(0x6c7)](_0x43f9d4,_0x45f83b)});_0x591cd4[_0x4e5d01(0x6e3)](0xc8)['json'](_0x3a590b);})['post'](this['routerPath'](_0x3f1ce7(0x447)),..._0x4f970a,async(_0x2466af,_0x575162)=>{const _0x10da72=_0x3f1ce7;let _0x21e5df=_0x2466af[_0x10da72(0x43e)];y['verbose'](_0x10da72(0x2b5)),y[_0x10da72(0x1a2)]('request\x20body:\x20'),y[_0x10da72(0x1a2)](_0x2466af[_0x10da72(0x43e)]);let _0x3356bc=await this[_0x10da72(0x5a4)]({'request':_0x2466af,'schema':M,'ClassRef':S,'execute':_0x3cc6e6=>I[_0x10da72(0x222)](_0x3cc6e6,_0x21e5df)});_0x575162[_0x10da72(0x6e3)](0xc8)[_0x10da72(0x390)](_0x3356bc);})['post'](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x53f)),..._0x4f970a,async(_0x162a92,_0x4c232b)=>{const _0x44ba4a=_0x3f1ce7;let _0x20bc15=_0x162a92[_0x44ba4a(0x43e)];y[_0x44ba4a(0x1a2)]('request\x20received\x20in\x20editFlow'),y[_0x44ba4a(0x1a2)](_0x44ba4a(0x589)),y[_0x44ba4a(0x1a2)](_0x162a92[_0x44ba4a(0x43e)]);let _0x24ea5b=await this[_0x44ba4a(0x5a4)]({'request':_0x162a92,'schema':M,'ClassRef':S,'execute':_0x16147d=>I[_0x44ba4a(0x253)](_0x16147d,_0x20bc15)});_0x4c232b['status'](0xc8)['json'](_0x24ea5b);})[_0x3f1ce7(0x686)](this[_0x3f1ce7(0x2b6)]('editflowgroup'),..._0x4f970a,async(_0x548565,_0x1719a4)=>{const _0x3eb076=_0x3f1ce7;let _0x94da2d=_0x548565[_0x3eb076(0x43e)];y[_0x3eb076(0x1a2)](_0x3eb076(0x77c)),y[_0x3eb076(0x1a2)]('request\x20body:\x20'),y[_0x3eb076(0x1a2)](_0x548565[_0x3eb076(0x43e)]);let _0x5fcc5=await this['dataValidate']({'request':_0x548565,'schema':M,'ClassRef':S,'execute':_0x31cecf=>I[_0x3eb076(0x3dd)](_0x31cecf,_0x94da2d)});_0x1719a4[_0x3eb076(0x6e3)](0xc8)[_0x3eb076(0x390)](_0x5fcc5);})['post'](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x72f)),..._0x4f970a,async(_0x288312,_0x579c72)=>{const _0x3dba29=_0x3f1ce7;let _0x5d05a3=_0x288312[_0x3dba29(0x43e)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x3dba29(0x1a2)](_0x3dba29(0x589)),y['verbose'](_0x288312[_0x3dba29(0x43e)]);let _0x208ece=await this[_0x3dba29(0x5a4)]({'request':_0x288312,'schema':M,'ClassRef':S,'execute':_0x3f81ae=>I[_0x3dba29(0x2ce)](_0x3f81ae,_0x5d05a3)});_0x579c72[_0x3dba29(0x6e3)](0xc8)[_0x3dba29(0x390)](_0x208ece);})['post'](this[_0x3f1ce7(0x2b6)]('editflowvariable'),..._0x4f970a,async(_0x4f051a,_0x3bb07f)=>{const _0x6e0c49=_0x3f1ce7;let _0x4710e9=_0x4f051a[_0x6e0c49(0x43e)];y[_0x6e0c49(0x1a2)](_0x6e0c49(0x6b4)),y[_0x6e0c49(0x1a2)](_0x6e0c49(0x589)),y[_0x6e0c49(0x1a2)](_0x4f051a['body']);let _0x3c5f18=await this[_0x6e0c49(0x5a4)]({'request':_0x4f051a,'schema':M,'ClassRef':S,'execute':_0x462ac5=>I[_0x6e0c49(0x70d)](_0x462ac5,_0x4710e9)});_0x3bb07f[_0x6e0c49(0x6e3)](0xc8)[_0x6e0c49(0x390)](_0x3c5f18);})[_0x3f1ce7(0x686)](this['routerPath'](_0x3f1ce7(0x6fb)),..._0x4f970a,async(_0x41db4f,_0x4a17f1)=>{const _0x40e067=_0x3f1ce7;let _0x1c1dc9=_0x41db4f[_0x40e067(0x43e)];y['verbose'](_0x40e067(0x7a1)),y[_0x40e067(0x1a2)]('request\x20body:\x20'),y[_0x40e067(0x1a2)](_0x41db4f[_0x40e067(0x43e)]);let _0x713748=await this[_0x40e067(0x5a4)]({'request':_0x41db4f,'schema':M,'ClassRef':S,'execute':_0x16cb42=>I[_0x40e067(0x249)](_0x16cb42,_0x1c1dc9)});_0x4a17f1[_0x40e067(0x6e3)](0xc8)['json'](_0x713748);})[_0x3f1ce7(0x214)](this[_0x3f1ce7(0x2b6)](_0x3f1ce7(0x1f8)),..._0x4f970a,async(_0x4960ad,_0x4c3f32)=>{const _0x17ec0a=_0x3f1ce7;let _0x27664f=_0x4960ad['body'];y[_0x17ec0a(0x1a2)](_0x17ec0a(0x44d)),y[_0x17ec0a(0x1a2)](_0x17ec0a(0x589)),y['verbose'](_0x4960ad[_0x17ec0a(0x43e)]);let _0x57e5eb=await this[_0x17ec0a(0x5a4)]({'request':_0x4960ad,'schema':M,'ClassRef':S,'execute':_0x4a263d=>I[_0x17ec0a(0x4da)](_0x4a263d,_0x27664f)});_0x4c3f32['status'](0xc8)[_0x17ec0a(0x390)](_0x57e5eb);})['get'](this['routerPath'](_0x3f1ce7(0x7a8)),..._0x4f970a,async(_0x3466fc,_0x16e1cc)=>{const _0xa5f99f=_0x3f1ce7;y[_0xa5f99f(0x1a2)]('request\x20received\x20in\x20allFlows');let _0x33ba8c=await this['dataValidate']({'request':_0x3466fc,'schema':M,'ClassRef':S,'execute':_0x4227c4=>I[_0xa5f99f(0x18b)](_0x4227c4)});_0x16e1cc[_0xa5f99f(0x6e3)](0xc8)['json'](_0x33ba8c);});}},br=O(require(a0_0x3c6a8b(0x1fd))),X={};function fr(_0x3fa695,_0x1c1a82,_0x5559ac,_0x2127d6){X[_0x3fa695]||(X[_0x3fa695]={}),X[_0x3fa695][_0x1c1a82]={'id':_0x1c1a82,'response':_0x5559ac,'events':_0x2127d6};}function wr(_0xd8d536,_0x5050be){!X[_0xd8d536]||!X[_0xd8d536][_0x5050be]||delete X[_0xd8d536][_0x5050be];}function q(_0x50ef65,_0x2756c4,_0x31f451){const _0x34c170=a0_0x3c6a8b;if(!X[_0x50ef65])return;let _0x1503e6=_0x34c170(0x5b1)+JSON[_0x34c170(0x6ab)](_0x31f451)+'\x0a\x0a';Object[_0x34c170(0x25c)](X[_0x50ef65])[_0x34c170(0x471)](_0x3f077f=>{const _0x4525a7=_0x34c170;_0x3f077f[_0x4525a7(0x3e7)]['includes'](_0x2756c4)&&_0x3f077f[_0x4525a7(0x218)]['write'](_0x1503e6);});}function yr(){const _0x4a9221=a0_0x3c6a8b;let _0x3676d0={};for(let _0x4716ad in X)_0x3676d0[_0x4716ad]=Object[_0x4a9221(0x25c)](X[_0x4716ad])[_0x4a9221(0x177)](_0x248a2d=>({'id':_0x248a2d['id'],'events':_0x248a2d['events']}));return _0x3676d0;}var Sr=require('uuid'),Ms=require(a0_0x3c6a8b(0x1fb)),Es=class{},wi=new Ms[(a0_0x3c6a8b(0x678))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yi=new Ms[(a0_0x3c6a8b(0x678))]({'_id':{'type':String,'default':a0_0x3c6a8b(0x385)},'WebhookGlobal':{'type':wi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=T?.[a0_0x3c6a8b(0x45d)](Es['name'],yi,a0_0x3c6a8b(0x1b8)),bi=br[a0_0x3c6a8b(0x4f5)]['join'](__dirname,a0_0x3c6a8b(0x7ea)),At=(0x0,Ot['Router'])(),Si=b[a0_0x3c6a8b(0x37f)](a0_0x3c6a8b(0x555))[a0_0x3c6a8b(0x7ae)],se=[Ra,Ta,Ia[Si]];At[a0_0x3c6a8b(0x3c5)](a0_0x3c6a8b(0x461),Ot[a0_0x3c6a8b(0x4f5)][a0_0x3c6a8b(0x430)](bi))[a0_0x3c6a8b(0x37f)]('/events/:instance',async(_0x2e3950,_0x579c16)=>{const _0x463ea4=a0_0x3c6a8b;console[_0x463ea4(0x1f7)](_0x463ea4(0x448));let _0x42a641=_0x2e3950['params'][_0x463ea4(0x172)],_0x55d46c=(_0x2e3950[_0x463ea4(0x692)][_0x463ea4(0x3e7)]||'')[_0x463ea4(0x176)](','),_0x312e0b=(0x0,Sr['v4'])();console[_0x463ea4(0x1f7)](_0x463ea4(0x71b),_0x42a641),console[_0x463ea4(0x1f7)](_0x463ea4(0x44e),_0x55d46c);let _0x2d644b=b['get'](_0x463ea4(0x555))[_0x463ea4(0x49f)],_0x5af620=_0x2e3950[_0x463ea4(0x692)][_0x463ea4(0x769)];if(console[_0x463ea4(0x1f7)](_0x463ea4(0x44c),_0x5af620),_0x2d644b[_0x463ea4(0x3bf)]!==_0x5af620){console[_0x463ea4(0x1f7)](_0x463ea4(0x71f));try{let _0x1234ff=await ue[_0x463ea4(0x6ad)][_0x463ea4(0x217)](_0x42a641);if(console[_0x463ea4(0x1f7)](_0x463ea4(0x68a),_0x1234ff),!_0x1234ff||_0x1234ff[_0x463ea4(0x769)]!==_0x5af620)return console[_0x463ea4(0x1f7)](_0x463ea4(0x6f7)),_0x579c16[_0x463ea4(0x6e3)](0x191)['send'](_0x463ea4(0x74e));}catch(_0x4c2843){return console[_0x463ea4(0x426)](_0x463ea4(0x738),_0x4c2843),_0x579c16[_0x463ea4(0x6e3)](0x191)[_0x463ea4(0x266)](_0x463ea4(0x1d8));}}if(!await Ye(_0x42a641))return _0x579c16['status'](0x194)['send'](_0x463ea4(0x7a2));_0x579c16[_0x463ea4(0x775)]('Content-Type',_0x463ea4(0x42c)),_0x579c16[_0x463ea4(0x775)](_0x463ea4(0x137),_0x463ea4(0x705)),_0x579c16[_0x463ea4(0x775)](_0x463ea4(0x467),_0x463ea4(0x61c)),_0x579c16[_0x463ea4(0x56a)]();let _0x200a33='data:\x20'+JSON[_0x463ea4(0x6ab)]({'info':_0x463ea4(0x7b0)})+'\x0a\x0a';_0x579c16[_0x463ea4(0x7b4)](_0x200a33),fr(_0x42a641,_0x312e0b,_0x579c16,_0x55d46c),_0x2e3950['on']('close',()=>{const _0x5da6b2=_0x463ea4;console[_0x5da6b2(0x1f7)](_0x5da6b2(0x4e9)+_0x42a641),wr(_0x42a641,_0x312e0b);});}),At['get'](a0_0x3c6a8b(0x40c),(_0x3a2654,_0xca44dd)=>{let _0x187470=yr();_0xca44dd['json'](_0x187470);})[a0_0x3c6a8b(0x37f)]('/',(_0x44a166,_0x4dfd91)=>{const _0x197c6c=a0_0x3c6a8b;let _0x46593e=b['get']('SERVER')[_0x197c6c(0x195)];if(_0x46593e){let _0x371d4b=encodeURIComponent(''+_0x46593e);_0x4dfd91['redirect'](_0x197c6c(0x191)+_0x371d4b);return;}let _0x1dd1b3=b[_0x197c6c(0x37f)](_0x197c6c(0x404)),_0x2d6301=_0x1dd1b3&&_0x1dd1b3[_0x197c6c(0x76b)][_0x197c6c(0x176)]('/')[0x4];if(_0x2d6301){let _0x1b15f2=encodeURIComponent(_0x197c6c(0x581)+_0x2d6301);_0x4dfd91[_0x197c6c(0x393)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x1b15f2);}else _0x4dfd91[_0x197c6c(0x393)](_0x197c6c(0x224));})[a0_0x3c6a8b(0x69b)](a0_0x3c6a8b(0x50e),...se,async(_0x1b160c,_0x165a77)=>{const _0x50082c=a0_0x3c6a8b;try{console['log'](_0x50082c(0x3ef)),_0x165a77[_0x50082c(0x6e3)](0xc8)[_0x50082c(0x390)]({'message':_0x50082c(0x29b)}),_0x165a77['on'](_0x50082c(0x383),()=>process[_0x50082c(0x308)](0x0));}catch(_0x2fd571){console[_0x50082c(0x426)](_0x50082c(0x33b),_0x2fd571),_0x165a77[_0x50082c(0x6e3)](0x1f4)[_0x50082c(0x390)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put']('/config',...se,async(_0x582d7b,_0x5b4297)=>{const _0xa12ea4=a0_0x3c6a8b;try{let _0x2c24df=_0x582d7b['body'];await ye[_0xa12ea4(0x119)]({},{'$set':_0x2c24df},{'upsert':!0x0});let _0x5729ea=await ye['findOne']();_0x5b4297[_0xa12ea4(0x390)](_0x5729ea);}catch(_0x524f84){_0x5b4297[_0xa12ea4(0x6e3)](0x190)['send'](_0x524f84[_0xa12ea4(0x78c)]);}})[a0_0x3c6a8b(0x37f)](a0_0x3c6a8b(0x702),...se,async(_0x170d18,_0x2798c6)=>{const _0x5726da=a0_0x3c6a8b;try{let _0x5f1dbf=await ye[_0x5726da(0x23a)]();if(!_0x5f1dbf)return _0x2798c6[_0x5726da(0x390)]({});_0x2798c6[_0x5726da(0x390)](_0x5f1dbf);}catch(_0x4bc03c){_0x2798c6[_0x5726da(0x6e3)](0x1f4)[_0x5726da(0x266)](_0x4bc03c[_0x5726da(0x78c)]);}})['use'](a0_0x3c6a8b(0x754),new ht(b,...se)[a0_0x3c6a8b(0x24b)])[a0_0x3c6a8b(0x3c5)](a0_0x3c6a8b(0x3e5),new vt(...se)['router'])['use'](a0_0x3c6a8b(0x5a5),new at(...se)[a0_0x3c6a8b(0x24b)])['use']('/group',new pt(...se)[a0_0x3c6a8b(0x24b)])[a0_0x3c6a8b(0x3c5)](a0_0x3c6a8b(0x2de),new Rt(...se)[a0_0x3c6a8b(0x24b)])[a0_0x3c6a8b(0x3c5)](a0_0x3c6a8b(0x1d2),new Tt(...se)['router']);var w=class{constructor(..._0x38b141){throw{'status':0x190,'error':'Bad\x20Request','message':_0x38b141['length']>0x0?_0x38b141:void 0x0};}},te=class{constructor(..._0x2d851b){const _0x46ede5=a0_0x3c6a8b;throw{'status':0x191,'error':_0x46ede5(0x349),'message':_0x2d851b[_0x46ede5(0x3ca)]>0x0?_0x2d851b:void 0x0};}},K=class{constructor(..._0x2bf2f2){const _0x38067b=a0_0x3c6a8b;throw{'status':0x193,'error':_0x38067b(0x68f),'message':_0x2bf2f2['length']>0x0?_0x2bf2f2:void 0x0};}},L=class{constructor(..._0x841f55){const _0x16dcfc=a0_0x3c6a8b;throw{'status':0x194,'error':_0x16dcfc(0x1ac),'message':_0x841f55[_0x16dcfc(0x3ca)]>0x0?_0x841f55:void 0x0};}},x=class{constructor(..._0x4e701d){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4e701d['length']>0x0?_0x4e701d:void 0x0};}},de=require('@whiskeysockets/baileys');async function vs(_0x475e45){const _0x5450ff=a0_0x3c6a8b;let _0x49aaf3=new v(vs[_0x5450ff(0x4e1)]),_0x34f3a9=T[_0x5450ff(0x5c4)](),_0x1c613f=_0x34f3a9['db'](b[_0x5450ff(0x37f)](_0x5450ff(0x570))[_0x5450ff(0x122)][_0x5450ff(0x6b9)]+_0x5450ff(0x3f9))[_0x5450ff(0x550)](_0x475e45),_0x4667da=async(_0x3697fa,_0x5e09bc)=>{const _0x55286f=_0x5450ff;try{return await _0x34f3a9['connect'](),await _0x1c613f['replaceOne']({'_id':_0x5e09bc},JSON['parse'](JSON[_0x55286f(0x6ab)](_0x3697fa,de[_0x55286f(0x2cd)][_0x55286f(0x367)])),{'upsert':!0x0});}catch{}},_0x3aaeb6=async _0x5b4d11=>{const _0x543f4f=_0x5450ff;try{await _0x34f3a9[_0x543f4f(0x3e8)]();let _0x2b6da2=await _0x1c613f[_0x543f4f(0x23a)]({'_id':_0x5b4d11}),_0x327baf=JSON[_0x543f4f(0x6ab)](_0x2b6da2);return JSON[_0x543f4f(0x568)](_0x327baf,de[_0x543f4f(0x2cd)][_0x543f4f(0x25a)]);}catch{}},_0x480643=async _0x56b69e=>{const _0x2ea30d=_0x5450ff;try{return await _0x34f3a9[_0x2ea30d(0x3e8)](),await _0x1c613f['deleteOne']({'_id':_0x56b69e});}catch{}},_0x1a7336=await _0x3aaeb6('creds')||(0x0,de[_0x5450ff(0x184)])();return{'state':{'creds':_0x1a7336,'keys':{'get':async(_0x1ee2b1,_0x24a03c)=>{const _0xadb06a=_0x5450ff;let _0x3166a6={};return await Promise[_0xadb06a(0x78a)](_0x24a03c[_0xadb06a(0x177)](async _0x529c44=>{const _0x488553=_0xadb06a;let _0x2e0b51=await _0x3aaeb6(_0x1ee2b1+'-'+_0x529c44);_0x1ee2b1===_0x488553(0x563)&&_0x2e0b51&&(_0x2e0b51=de['proto'][_0x488553(0x60d)][_0x488553(0x5d8)]['fromObject'](_0x2e0b51)),_0x3166a6[_0x529c44]=_0x2e0b51;})),_0x3166a6;},'set':async _0x40c379=>{const _0xefc238=_0x5450ff;let _0x4ecc59=[];for(let _0x2a96db in _0x40c379)for(let _0x44c838 in _0x40c379[_0x2a96db]){let _0x365010=_0x40c379[_0x2a96db][_0x44c838],_0x5ac781=_0x2a96db+'-'+_0x44c838;_0x4ecc59['push'](_0x365010?_0x4667da(_0x365010,_0x5ac781):_0x480643(_0x5ac781));}await Promise[_0xefc238(0x78a)](_0x4ecc59);}}},'saveCreds':async()=>_0x4667da(_0x1a7336,_0x5450ff(0x232))};}var Os=O(require('long')),As=O(require(a0_0x3c6a8b(0x54b))),Dt=require(a0_0x3c6a8b(0x7aa)),Cr=require(a0_0x3c6a8b(0x396)),xt=require(a0_0x3c6a8b(0x7aa)),It;function Ci(_0x1b258b){const _0x35826f=a0_0x3c6a8b;return It||(It=(0x0,Cr[_0x35826f(0x3dc)])({'url':_0x1b258b[_0x35826f(0x2c2)]}),It[_0x35826f(0x3e8)]()),It;}var ne=class c{constructor(_0x2a7277,_0x30b625){const _0x5c42c6=a0_0x3c6a8b;this[_0x5c42c6(0x291)]=_0x2a7277,this[_0x5c42c6(0x38c)]=_0x30b625,this[_0x5c42c6(0x784)]=new v(c[_0x5c42c6(0x4e1)]),this[_0x5c42c6(0x5b7)]=Ci(_0x2a7277);}set[a0_0x3c6a8b(0x46c)](_0x2b0abb){const _0x172655=a0_0x3c6a8b;this[_0x172655(0x38c)]=_0x2b0abb;}async[a0_0x3c6a8b(0x786)](){const _0x458522=a0_0x3c6a8b;try{return await this[_0x458522(0x5b7)][_0x458522(0x2f1)](['keys',this[_0x458522(0x291)]['PREFIX_KEY']+':*']);}catch(_0x3809f5){this[_0x458522(0x784)][_0x458522(0x426)](_0x3809f5);}}async[a0_0x3c6a8b(0x54c)](_0x1c97e4,_0x112853){const _0x462ad6=a0_0x3c6a8b;try{let _0x55987d=JSON[_0x462ad6(0x6ab)](_0x112853,xt['BufferJSON'][_0x462ad6(0x367)]);return await this[_0x462ad6(0x5b7)]['hSet'](this[_0x462ad6(0x291)][_0x462ad6(0x551)]+':'+this[_0x462ad6(0x38c)],_0x1c97e4,_0x55987d);}catch(_0x4013ac){this[_0x462ad6(0x784)][_0x462ad6(0x426)](_0x4013ac);}}async[a0_0x3c6a8b(0x780)](){const _0x4c71c8=a0_0x3c6a8b;try{let _0x3eddee=await this[_0x4c71c8(0x5b7)][_0x4c71c8(0x365)](this[_0x4c71c8(0x291)][_0x4c71c8(0x551)]+':'+this['instanceName']);if(_0x3eddee){for(let _0x3559d3 in _0x3eddee)Object[_0x4c71c8(0x62c)][_0x4c71c8(0x302)][_0x4c71c8(0x604)](_0x3eddee,_0x3559d3)&&(_0x3eddee[_0x3559d3]=JSON['parse'](_0x3eddee[_0x3559d3],xt['BufferJSON'][_0x4c71c8(0x25a)]));return _0x3eddee;}}catch(_0x7cc53e){this['logger']['error'](_0x7cc53e);}}async['readData'](_0xb8ef63){const _0x4c7901=a0_0x3c6a8b;try{let _0x3f4c9a=await this[_0x4c7901(0x5b7)][_0x4c7901(0x743)](this[_0x4c7901(0x291)][_0x4c7901(0x551)]+':'+this[_0x4c7901(0x38c)],_0xb8ef63);if(_0x3f4c9a)return JSON['parse'](_0x3f4c9a,xt['BufferJSON']['reviver']);}catch(_0x37bab3){this[_0x4c7901(0x784)]['error'](_0x37bab3);}}async[a0_0x3c6a8b(0x4fb)](_0x31fe30){const _0x17a728=a0_0x3c6a8b;try{return await this[_0x17a728(0x5b7)]['hDel'](this[_0x17a728(0x291)][_0x17a728(0x551)]+':'+this['instanceName'],_0x31fe30);}catch(_0x4045f5){this[_0x17a728(0x784)]['error'](_0x4045f5);}}async[a0_0x3c6a8b(0x4f0)](_0x3feb9f){const _0x488415=a0_0x3c6a8b;try{return await this['client'][_0x488415(0x661)](_0x3feb9f||this[_0x488415(0x291)][_0x488415(0x551)]+':'+this['instanceName']);}catch(_0x585268){this[_0x488415(0x784)][_0x488415(0x426)](_0x585268);}}};async function Ns(_0x21bc01,_0x217048){const _0x48569a=a0_0x3c6a8b;let _0x11c803=new v(Ns[_0x48569a(0x4e1)]),_0x27027a=new ne(_0x21bc01,_0x217048),_0x497704=async(_0x482708,_0x314593)=>{const _0x2db48c=_0x48569a;try{return await _0x27027a['writeData'](_0x314593,_0x482708);}catch(_0x3864de){return _0x11c803[_0x2db48c(0x426)]({'localError':'writeData','error':_0x3864de});}},_0x367bc=async _0x168371=>{const _0x1d80c6=_0x48569a;try{return await _0x27027a[_0x1d80c6(0x239)](_0x168371);}catch(_0xfbc2e3){_0x11c803['error']({'readData':_0x1d80c6(0x54c),'error':_0xfbc2e3});return;}},_0x4de42d=async _0x266007=>{const _0x32b9c6=_0x48569a;try{return await _0x27027a[_0x32b9c6(0x4fb)](_0x266007);}catch(_0x4cc842){_0x11c803[_0x32b9c6(0x426)]({'readData':_0x32b9c6(0x4fb),'error':_0x4cc842});}},_0x5a5a11=await _0x367bc(_0x48569a(0x232))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x5a5a11,'keys':{'get':async(_0x46cb0d,_0x192448)=>{const _0x44d3e3=_0x48569a;let _0x5adcec={};return await Promise[_0x44d3e3(0x78a)](_0x192448[_0x44d3e3(0x177)](async _0x2cd135=>{const _0x2b5375=_0x44d3e3;let _0x364dbe=await _0x367bc(_0x46cb0d+'-'+_0x2cd135);_0x46cb0d===_0x2b5375(0x563)&&_0x364dbe&&(_0x364dbe=Dt['proto']['Message'][_0x2b5375(0x5d8)][_0x2b5375(0x283)](_0x364dbe)),_0x5adcec[_0x2cd135]=_0x364dbe;})),_0x5adcec;},'set':async _0x28eb8a=>{const _0x555beb=_0x48569a;let _0xcce8fe=[];for(let _0x1aa241 in _0x28eb8a)for(let _0x3b3326 in _0x28eb8a[_0x1aa241]){let _0x13ec81=_0x28eb8a[_0x1aa241][_0x3b3326],_0x195403=_0x1aa241+'-'+_0x3b3326;_0xcce8fe[_0x555beb(0x799)](_0x13ec81?await _0x497704(_0x13ec81,_0x195403):await _0x4de42d(_0x195403));}await Promise['all'](_0xcce8fe);}}},'saveCreds':async()=>await _0x497704(_0x5a5a11,_0x48569a(0x232))};}var F=O(require('fs')),Re=require(a0_0x3c6a8b(0x4a1)),kt=O(require(a0_0x3c6a8b(0x553))),Lt=require(a0_0x3c6a8b(0x7ab)),Ei='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x3c6a8b(0x7e8)](),_t=Ei[a0_0x3c6a8b(0x176)]('\x0a')[a0_0x3c6a8b(0x177)](_0x51c581=>{const _0xddfe05=a0_0x3c6a8b;let _0x15fb88=_0x51c581[_0xddfe05(0x176)](':'),_0x301c4d={'host':_0x15fb88[0x0],'port':_0x15fb88[0x1],'protocol':'http'};return _0x15fb88['length']===0x4&&(_0x301c4d['username']=_0x15fb88[0x2],_0x301c4d['password']=_0x15fb88[0x3]),_0x301c4d;});function Er(_0x157385){const _0x963134=a0_0x3c6a8b;return _t[_0x963134(0x217)](_0x467903=>_0x467903[_0x963134(0x649)]===_0x157385)||null;}function Mr(){const _0x53f859=a0_0x3c6a8b;if(_t['length']===0x0)return null;let _0x4dd5fc=Math[_0x53f859(0x334)](Math[_0x53f859(0x5a6)]()*_t['length']);return _t[_0x4dd5fc];}function Rs(_0x3e9dbb){const _0x5cd15b=a0_0x3c6a8b;let _0x4aa50d=_0x31da3b=>typeof _0x31da3b==_0x5cd15b(0x4f8)&&_0x31da3b['length']>0x0,_0x343e05=_0x26f16b=>{let _0x4dbf6e=parseInt(_0x26f16b,0xa);return!isNaN(_0x4dbf6e)&&_0x4dbf6e>0x0&&_0x4dbf6e<=0xffff;},_0x1f9926=_0x21751c=>typeof _0x21751c==_0x5cd15b(0x4f8)&&_0x21751c['length']>0x0;return _0x3e9dbb&&_0x4aa50d(_0x3e9dbb[_0x5cd15b(0x649)])&&_0x343e05(_0x3e9dbb['port'])&&(!_0x3e9dbb[_0x5cd15b(0x261)]||_0x1f9926(_0x3e9dbb[_0x5cd15b(0x261)]))&&(!_0x3e9dbb[_0x5cd15b(0x2d8)]||_0x1f9926(_0x3e9dbb[_0x5cd15b(0x2d8)]))&&(_0x3e9dbb['protocol']===_0x5cd15b(0x733)||_0x3e9dbb[_0x5cd15b(0x772)]===_0x5cd15b(0x716));}var Is=require(a0_0x3c6a8b(0x34e)),xs=a0_0x3c6a8b(0x1b9),Ir,ce=null,vr=null,Ze=null,Mi=0x3,vi=null;async function Ni(){const _0x40a121=a0_0x3c6a8b;let _0x3c4d84=await ye['findOne']();ce=_0x3c4d84?.[_0x40a121(0x140)]??null,vi=_0x3c4d84?.['DaysToDelete']??null,xs=_0x3c4d84?.[_0x40a121(0x4b1)]??_0x40a121(0x35f),Ir=_0x3c4d84?.['connectedName']??Ds??_0x40a121(0x532),console[_0x40a121(0x1f7)]('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x3c4d84);}async function Ri(){await Ni();}Ri();var Nr={},ae={},be=class c{constructor(_0x10f858,_0x2d8867,_0x1f3a08){const _0x338937=a0_0x3c6a8b;this[_0x338937(0x305)]=_0x10f858,this[_0x338937(0x64a)]=_0x2d8867,this[_0x338937(0x600)]=_0x1f3a08,this[_0x338937(0x16e)]=null,this[_0x338937(0x784)]=new v(c[_0x338937(0x4e1)]),this['instance']={},this[_0x338937(0x2a0)]={},this[_0x338937(0x43b)]={'state':'close'},this[_0x338937(0x3d6)]=(0x0,J['join'])(ie,'downloads'),this[_0x338937(0x5da)]=new As['default'](),this[_0x338937(0x23c)]=new As[(_0x338937(0x4f5))](),this[_0x338937(0x718)]=!0x1,this[_0x338937(0x2a5)]={'status.instance':_0x338937(0x1bd),'connection.update':_0x338937(0x1bd),'qrcode.updated':_0x338937(0x47a),'messages.upsert':_0x338937(0x4cb),'send.message':_0x338937(0x4cb),'messages.update':_0x338937(0x726),'group.upsert':_0x338937(0x52e),'group.update':_0x338937(0x52e),'group-participants.update':_0x338937(0x52e),'messages.set':'/wa-all-message','contacts.set':_0x338937(0x145),'contacts.upsert':_0x338937(0x145),'contacts.update':_0x338937(0x145),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x338937(0x789),'chats.upsert':_0x338937(0x789),'chats.delete':_0x338937(0x789)},this[_0x338937(0x413)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x338937(0x68b)]=!0x1,this[_0x338937(0x4b2)]={'chats.upsert':async(_0x13273b,_0x565afc)=>{const _0x15586b=_0x338937;let _0x4eca84=[];for await(let _0x46d054 of _0x13273b)_0x4eca84['push']({'_id':_0x46d054['id'],'owner':this[_0x15586b(0x172)][_0x15586b(0x22f)],'group':_0x46d054['id'][_0x15586b(0x625)](_0x15586b(0x3a3)),'name':_0x46d054[_0x15586b(0x4e1)]||_0x46d054['displayName']||null,'contactname':null,'lastmsg':_0x46d054[_0x15586b(0x43a)]&&_0x46d054[_0x15586b(0x43a)][_0x15586b(0x341)]()[_0x15586b(0x3ca)]<0xd?_0x46d054[_0x15586b(0x43a)]*0x3e8:_0x46d054[_0x15586b(0x43a)]||null,'archived':_0x46d054[_0x15586b(0x331)]||!0x1,'unreadcount':_0x46d054['unreadCount']||0x0});this[_0x15586b(0x4bc)](_0x15586b(0x158),_0x4eca84);},'chats.update':async(_0x39a36e,_0x595d5d)=>{const _0x39c685=_0x338937;for(let _0x31ffa2 of _0x39a36e){let _0x4587e1={'_id':_0x31ffa2['id'],'owner':this['instance'][_0x39c685(0x22f)],'group':_0x31ffa2['id'][_0x39c685(0x625)](_0x39c685(0x3a3)),'name':_0x31ffa2[_0x39c685(0x4e1)]||_0x31ffa2[_0x39c685(0x6e5)],'archived':_0x31ffa2[_0x39c685(0x331)],'ephemeralExpiration':_0x31ffa2[_0x39c685(0x672)]},_0x1b8326=!0x1,_0x1284b7={};_0x4587e1[_0x39c685(0x331)]!=null&&(this[_0x39c685(0x784)][_0x39c685(0x1a2)](this[_0x39c685(0x38c)]+'\x20('+this[_0x39c685(0x172)]['wuid']+_0x39c685(0x5c1)+_0x31ffa2[_0x39c685(0x331)]),_0x1b8326=!0x0,_0x1284b7[_0x39c685(0x331)]=_0x31ffa2[_0x39c685(0x331)]),_0x31ffa2['name']!=null&&(this[_0x39c685(0x784)][_0x39c685(0x1a2)](this[_0x39c685(0x38c)]+'\x20('+this[_0x39c685(0x172)][_0x39c685(0x22f)]+_0x39c685(0x19c)+_0x31ffa2['name']),_0x1b8326=!0x0,_0x1284b7[_0x39c685(0x4e1)]=_0x31ffa2['name']),_0x31ffa2[_0x39c685(0x6e5)]!=null&&(this[_0x39c685(0x784)]['verbose'](this[_0x39c685(0x38c)]+'\x20('+this[_0x39c685(0x172)]['wuid']+_0x39c685(0x1db)+_0x31ffa2['displayName']),_0x1b8326=!0x0,_0x1284b7[_0x39c685(0x4e1)]=_0x31ffa2[_0x39c685(0x6e5)]);let _0x2b08ab;_0x1b8326&&(_0x2b08ab=await this['repository'][_0x39c685(0x42a)][_0x39c685(0x119)]({'where':{'_id':_0x31ffa2['id']}},_0x1284b7,this[_0x39c685(0x172)][_0x39c685(0x22f)])),_0x2b08ab&&q(this[_0x39c685(0x38c)],_0x39c685(0x490),{'chat':_0x2b08ab});}},'chats.delete':async _0x45f917=>{const _0x2d8a6f=_0x338937;this[_0x2d8a6f(0x4bc)](_0x2d8a6f(0x400),[..._0x45f917]);}},this[_0x338937(0x502)]={'contacts.upsert':async(_0x5121b7,_0x11f704)=>{const _0x3873ad=_0x338937;let _0x4b4063=await this[_0x3873ad(0x600)][_0x3873ad(0x585)][_0x3873ad(0x217)]({'where':{}},this[_0x3873ad(0x172)][_0x3873ad(0x22f)]),_0x3c9ed5=[];for await(let _0xeedee9 of _0x5121b7)_0x4b4063['find'](_0x468010=>_0x468010[_0x3873ad(0x54e)]===_0xeedee9['id'])||_0x3c9ed5[_0x3873ad(0x799)]({'_id':_0xeedee9['id'],'pushName':_0xeedee9?.['name']||_0xeedee9?.[_0x3873ad(0x7c5)],'owner':this[_0x3873ad(0x172)][_0x3873ad(0x22f)]});this[_0x3873ad(0x4bc)](_0x3873ad(0x481),_0x3c9ed5),await this[_0x3873ad(0x600)][_0x3873ad(0x585)][_0x3873ad(0x2c8)](_0x3c9ed5);},'contacts.update':async(_0x25df30,_0x1740b2)=>{const _0x79d46d=_0x338937;let _0x455aab=[];for await(let _0x2eb58c of _0x25df30)_0x455aab[_0x79d46d(0x799)]({'_id':_0x2eb58c['id'],'pushName':_0x2eb58c?.[_0x79d46d(0x4e1)]??_0x2eb58c?.[_0x79d46d(0x7c5)],'owner':this['instance'][_0x79d46d(0x22f)]});this[_0x79d46d(0x4bc)](_0x79d46d(0x673),_0x455aab);}},this[_0x338937(0x5c5)]={'messaging-history.set':async({messages:_0x548694,chats:_0x2f6f6a,isLatest:_0x63d9df},_0x483543)=>{const _0x1da179=_0x338937;if(_0x63d9df){let _0x5a388a=await Promise[_0x1da179(0x78a)](_0x2f6f6a[_0x1da179(0x177)](async _0x3275c4=>({'_id':_0x3275c4['id'],'owner':this['instance'][_0x1da179(0x22f)],'group':_0x3275c4['id'][_0x1da179(0x625)]('@g.us'),'name':_0x3275c4['name']||_0x3275c4[_0x1da179(0x6e5)]||null,'contactname':null,'lastmsg':_0x3275c4['conversationTimestamp']&&_0x3275c4['conversationTimestamp'][_0x1da179(0x341)]()['length']<0xd?_0x3275c4['conversationTimestamp']*0x3e8:_0x3275c4[_0x1da179(0x43a)]||null,'archived':_0x3275c4[_0x1da179(0x331)]||!0x1,'unreadcount':_0x3275c4[_0x1da179(0x240)]||0x0})));this[_0x1da179(0x4bc)](_0x1da179(0x455),_0x5a388a),await this[_0x1da179(0x45a)](_0x5a388a,_0x483543);}let _0x572ca4=[],_0x1df2e2=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x446c9c]of Object['entries'](_0x548694)){if(_0x446c9c[_0x1da179(0x78c)]?.[_0x1da179(0x275)]||_0x446c9c[_0x1da179(0x78c)]?.[_0x1da179(0x507)]||!_0x446c9c[_0x1da179(0x78c)]||_0x446c9c[_0x1da179(0x1c5)]['remoteJid']===_0x1da179(0x34d)||(Os[_0x1da179(0x4f5)][_0x1da179(0x11e)](_0x446c9c?.[_0x1da179(0x3de)])&&(_0x446c9c[_0x1da179(0x3de)]=_0x446c9c['messageTimestamp']?.['toNumber']()),_0x446c9c['messageTimestamp']&&_0x446c9c[_0x1da179(0x3de)][_0x1da179(0x341)]()['length']<0xd&&(_0x446c9c[_0x1da179(0x3de)]=_0x446c9c[_0x1da179(0x3de)]*0x3e8),_0x446c9c[_0x1da179(0x3de)]<_0x1df2e2))continue;let _0x491bc1=(0x0,m[_0x1da179(0x658)])(_0x446c9c[_0x1da179(0x78c)]),_0xc1d58a=(0x0,m[_0x1da179(0x13d)])(_0x491bc1),{message_normalized:_0xa59caf}=this[_0x1da179(0x71a)](_0x491bc1,_0xc1d58a,null);Object[_0x1da179(0x4c8)](_0xa59caf)['length']>0x0&&_0x572ca4[_0x1da179(0x799)]({'_id':_0x446c9c['key']['id'],'key':_0x446c9c[_0x1da179(0x1c5)],'pushName':_0x446c9c[_0x1da179(0x4c7)],'participant':_0x446c9c[_0x1da179(0x63c)],'message':_0x491bc1,'messageType':_0xc1d58a,'message_normalized':{'key':_0x446c9c[_0x1da179(0x1c5)],'pushName':_0x446c9c['pushName'],'messageTimestamp':_0x446c9c[_0x1da179(0x3de)],..._0xa59caf},'messageTimestamp':_0x446c9c['messageTimestamp'],'owner':this[_0x1da179(0x172)]['wuid']});}_0x483543[_0x1da179(0x619)]&&_0x572ca4['length']>0x0&&(this[_0x1da179(0x784)][_0x1da179(0x1a2)](this[_0x1da179(0x38c)]+'\x20('+this[_0x1da179(0x172)]['wuid']+_0x1da179(0x5ff)+_0x572ca4[_0x1da179(0x3ca)]+_0x1da179(0x5de)+this[_0x1da179(0x172)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x1da179(0x78c)]['insert']([..._0x572ca4],this[_0x1da179(0x172)][_0x1da179(0x22f)])),this[_0x1da179(0x4bc)]('messages.set',[..._0x572ca4]),_0x548694=void 0x0;},'messages.upsert':async({messages:_0x1499db,type:_0x31d6ee},_0x359f40)=>{const _0x4258b4=_0x338937;let _0x3b1811=_0x1499db[0x0],_0x2dbc7a=_0x3b1811['key']['id'],_0x1d1e97=_0x3b1811[_0x4258b4(0x192)]===0x2,_0x4d1b2b=0x6;if(this['localWebhook']?.[_0x4258b4(0x7c8)]&&_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)][_0x4258b4(0x612)](_0x4258b4(0x3a3))){this['logger'][_0x4258b4(0x1a2)](this['instanceName']+'\x20('+this[_0x4258b4(0x172)]['wuid']+_0x4258b4(0x6ca));return;}if(_0x1d1e97){if(ae[_0x2dbc7a]||(ae[_0x2dbc7a]=0x0),ae[_0x2dbc7a]++,this[_0x4258b4(0x784)][_0x4258b4(0x426)](this[_0x4258b4(0x38c)]+'\x20('+this[_0x4258b4(0x172)][_0x4258b4(0x22f)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)]+'\x20e\x20ID='+_0x2dbc7a+':\x20'+ae[_0x2dbc7a]+'/'+_0x4d1b2b),ae[_0x2dbc7a]>=_0x4d1b2b){this[_0x4258b4(0x784)][_0x4258b4(0x426)](this[_0x4258b4(0x38c)]+'\x20('+this[_0x4258b4(0x172)][_0x4258b4(0x22f)]+_0x4258b4(0x1b5)+_0x3b1811[_0x4258b4(0x1c5)]['remoteJid']+'\x20e\x20ID='+_0x2dbc7a+'.');let _0x3e484a={'key':{..._0x3b1811['key']},'message':{'conversation':_0x4258b4(0x601)+_0x2dbc7a+_0x4258b4(0x41d)}};_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)][_0x4258b4(0x612)](_0x4258b4(0x121))&&this[_0x4258b4(0x5b7)]['ev']['emit'](_0x4258b4(0x523),{'messages':[_0x3e484a],'type':_0x4258b4(0x7dd)}),delete ae[_0x2dbc7a];}}else ae[_0x2dbc7a]&&(this[_0x4258b4(0x784)][_0x4258b4(0x22b)](_0x4258b4(0x7a0)+ae[_0x2dbc7a]+_0x4258b4(0x20f)+_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)]+_0x4258b4(0x62d)+_0x2dbc7a),delete ae[_0x2dbc7a]);if(_0x31d6ee!=='notify'||!_0x3b1811?.['message']||_0x3b1811[_0x4258b4(0x78c)]?.[_0x4258b4(0x275)]||_0x3b1811[_0x4258b4(0x78c)]['senderKeyDistributionMessage']||_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)]==='status@broadcast')return;let _0x3f6ae1=null,_0x52f277=null;try{_0x3f6ae1=await this[_0x4258b4(0x25d)](_0x3b1811),_0x52f277=_0x3f6ae1?_0x3f6ae1[_0x4258b4(0x4a6)](','):null;}catch(_0x33be63){this[_0x4258b4(0x784)][_0x4258b4(0x1a2)](this[_0x4258b4(0x38c)]+'\x20('+this[_0x4258b4(0x172)][_0x4258b4(0x22f)]+'):\x20'+(_0x33be63 instanceof Error?_0x33be63[_0x4258b4(0x78c)]:JSON[_0x4258b4(0x6ab)](_0x33be63,null,0x2))),_0x52f277=_0x4258b4(0x634);}this[_0x4258b4(0x5b7)][_0x4258b4(0x59e)](_0x4258b4(0x2a7)),Os[_0x4258b4(0x4f5)][_0x4258b4(0x11e)](_0x3b1811[_0x4258b4(0x3de)])&&(_0x3b1811[_0x4258b4(0x3de)]=_0x3b1811[_0x4258b4(0x3de)]?.['toNumber']()),_0x3b1811['messageTimestamp']&&_0x3b1811['messageTimestamp'][_0x4258b4(0x341)]()['length']<0xd&&(_0x3b1811[_0x4258b4(0x3de)]=_0x3b1811[_0x4258b4(0x3de)]*0x3e8);let _0x3a0782=_0x3b1811[_0x4258b4(0x78c)],_0x59ca71=(0x0,m[_0x4258b4(0x658)])(_0x3a0782),_0x50b933=(0x0,m[_0x4258b4(0x13d)])(_0x59ca71),{messageContent:_0x288def,message_normalized:_0x4fac82}=this[_0x4258b4(0x71a)](_0x59ca71,_0x50b933,_0x52f277);_0x50b933==='protocolMessage'&&_0x288def?.[_0x4258b4(0x710)]&&(_0x50b933=_0x4258b4(0x710));let _0x4e6747,_0xc7832b=_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)][_0x4258b4(0x625)](_0x4258b4(0x3a3));if(_0x3b1811[_0x4258b4(0x1c5)]['fromMe'])_0x4e6747=this[_0x4258b4(0x172)]['profilePictureUrl'];else{let _0x508147=_0xc7832b?_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x63c)]:_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)];_0x4e6747=(await this['findAndUpdateCacheContact'](_0x508147,_0x3b1811[_0x4258b4(0x4c7)],!0x1))[_0x4258b4(0x7bc)][_0x4258b4(0x3f6)];}let _0xff4816={'_id':_0x3b1811[_0x4258b4(0x1c5)]['id'],'key':_0x3b1811[_0x4258b4(0x1c5)],'isGroup':_0xc7832b,'profilePictureUrl':_0x4e6747,'pushName':_0x3b1811['pushName'],'message':_0x59ca71,'messageType':_0x50b933,'message_normalized':{'key':_0x3b1811[_0x4258b4(0x1c5)],'pushName':_0x3b1811[_0x4258b4(0x4c7)],'messageTimestamp':_0x3b1811[_0x4258b4(0x3de)],'source':(0x0,m[_0x4258b4(0x338)])(_0x3b1811[_0x4258b4(0x1c5)]['id']),..._0x4fac82},'messageTimestamp':_0x3b1811[_0x4258b4(0x3de)],'owner':this[_0x4258b4(0x172)][_0x4258b4(0x22f)],'source':(0x0,m['getDevice'])(_0x3b1811[_0x4258b4(0x1c5)]['id'])};_0x288def||(console[_0x4258b4(0x426)](_0x4258b4(0x583)),this['logger']['error'](_0xff4816)),this[_0x4258b4(0x784)][_0x4258b4(0x1f7)](this[_0x4258b4(0x38c)]+'\x20('+this[_0x4258b4(0x172)]['wuid']+_0x4258b4(0x5ff)+(_0xff4816['key']?.[_0x4258b4(0x699)]?'enviado\x20para':_0x4258b4(0x556))+'\x20['+_0xff4816[_0x4258b4(0x1c5)]?.[_0x4258b4(0x248)]['replace'](_0x4258b4(0x121),'')+_0x4258b4(0x2e1)+_0xff4816[_0x4258b4(0x237)]+')'),_0xff4816[_0x4258b4(0x1b2)]?.[_0x4258b4(0x503)]&&this[_0x4258b4(0x784)][_0x4258b4(0x1f7)](_0x2dbc7a+':\x20'+_0xff4816[_0x4258b4(0x1b2)]?.[_0x4258b4(0x503)]),await this[_0x4258b4(0x600)][_0x4258b4(0x78c)][_0x4258b4(0x2c8)]([_0xff4816],this[_0x4258b4(0x172)]['wuid']),this[_0x4258b4(0x4bc)](_0x4258b4(0x523),_0xff4816),q(this['instanceName'],_0x4258b4(0x14e),{'message':_0xff4816}),_0x3b1811[_0x4258b4(0x1c5)][_0x4258b4(0x248)]!==_0x4258b4(0x34d)&&await this[_0x4258b4(0x327)](_0x359f40,_0xff4816,_0x4258b4(0x74b));},'messages.update':async(_0xbe45b9,_0x37f171)=>{const _0x164860=_0x338937;let _0x587ef5={0x0:'ERROR',0x1:'PENDING',0x2:_0x164860(0x1e8),0x3:_0x164860(0x251),0x4:_0x164860(0x265),0x5:_0x164860(0x5b5)};for await(let {key:_0x50b663,update:_0x5a8bf8}of _0xbe45b9){if(this[_0x164860(0x2a0)]?.[_0x164860(0x7c8)]&&_0x50b663['remoteJid'][_0x164860(0x612)](_0x164860(0x3a3))){this[_0x164860(0x784)]['verbose'](this[_0x164860(0x38c)]+'\x20('+this[_0x164860(0x172)][_0x164860(0x22f)]+_0x164860(0x48f));return;}if(_0x50b663[_0x164860(0x248)]!==_0x164860(0x34d)){let _0x760fed=Date['now'](),_0x50d462;_0x5a8bf8[_0x164860(0x78c)]===null&&_0x5a8bf8[_0x164860(0x6e3)]===void 0x0?_0x50d462=_0x164860(0x5df):_0x50d462=_0x587ef5[_0x5a8bf8[_0x164860(0x6e3)]];let _0x47f719=_0x50b663[_0x164860(0x248)][_0x164860(0x5bd)](/:\d{1,2}@/g,'@'),_0x5578b5={..._0x50b663,'remoteJid':_0x47f719,'status':_0x50d462,'datetime':_0x760fed,'owner':this[_0x164860(0x172)]['wuid']};this[_0x164860(0x4bc)](_0x164860(0x491),_0x5578b5),await this[_0x164860(0x3c3)](_0x50b663,_0x5578b5);}}},'labels.association':async({type:_0x1b2eb5,association:_0x2968a3})=>{const _0x37dd65=_0x338937;if(_0x2968a3[_0x37dd65(0x2fb)]===_0x37dd65(0x78d)){let _0x4dd46c,_0x4f1de2=0x0;for(;!_0x4dd46c&&_0x4f1de2<this['delayChatLabel_MAX_RETRIES'];)_0x4dd46c=await this[_0x37dd65(0x600)]['chat'][_0x37dd65(0x23a)]({'where':{'_id':_0x2968a3[_0x37dd65(0x13b)]}},this['instance']['wuid']),_0x4dd46c||(_0x4f1de2++,console[_0x37dd65(0x1f7)](_0x37dd65(0x724)+_0x2968a3[_0x37dd65(0x13b)]+_0x37dd65(0x7af)+this[_0x37dd65(0x608)]+_0x37dd65(0x277)+_0x4f1de2+'/'+this[_0x37dd65(0x3a4)]+')'),await this[_0x37dd65(0x175)](this[_0x37dd65(0x608)]));if(!_0x4dd46c){console['error'](_0x37dd65(0x197)+_0x2968a3[_0x37dd65(0x13b)]+_0x37dd65(0x3db)+this['delayChatLabel_MAX_RETRIES']+_0x37dd65(0x3ce));return;}switch(_0x1b2eb5){case _0x37dd65(0x69f):console[_0x37dd65(0x1f7)](_0x2968a3),await this['repository'][_0x37dd65(0x42a)][_0x37dd65(0x119)]({'where':{'_id':_0x2968a3['chatId']}},{'leadInfo.etiquetas':_0x2968a3[_0x37dd65(0x1e9)]},this[_0x37dd65(0x172)]['wuid'],void 0x0,'$addToSet');break;case'remove':console['log'](_0x2968a3),await this[_0x37dd65(0x600)][_0x37dd65(0x42a)][_0x37dd65(0x119)]({'where':{'_id':_0x2968a3[_0x37dd65(0x13b)]}},{'leadInfo.etiquetas':_0x2968a3[_0x37dd65(0x1e9)]},this[_0x37dd65(0x172)][_0x37dd65(0x22f)],void 0x0,_0x37dd65(0x34c));break;default:console[_0x37dd65(0x426)](_0x37dd65(0x55a)+_0x1b2eb5+']');}}},'labels.edit':async _0x197da4=>{const _0x17a3f2=_0x338937;if(!_0x197da4||!_0x197da4['id']){console['error'](_0x17a3f2(0x38a));return;}if(!_0x197da4[_0x17a3f2(0x371)]){let _0x3a59b1=[_0x17a3f2(0x320),_0x17a3f2(0x5cb),_0x17a3f2(0x1a3),'#dfaef0',_0x17a3f2(0x2cf),_0x17a3f2(0x2e2),_0x17a3f2(0x183),'#d3a91f',_0x17a3f2(0x391),_0x17a3f2(0x1ca),_0x17a3f2(0x5cc),_0x17a3f2(0x4f1),_0x17a3f2(0x2dd),_0x17a3f2(0x260),'#00a1f2',_0x17a3f2(0x7a9),_0x17a3f2(0x1d0),_0x17a3f2(0x1c9),'#9ba6ff',_0x17a3f2(0x742)],_0x158603;typeof _0x197da4[_0x17a3f2(0x1f4)]==_0x17a3f2(0x47d)&&_0x197da4['color']>=0x0&&_0x197da4['color']<_0x3a59b1[_0x17a3f2(0x3ca)]?_0x158603=_0x3a59b1[_0x197da4['color']]:(console[_0x17a3f2(0x426)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x197da4[_0x17a3f2(0x1f4)]),_0x158603=_0x17a3f2(0x7e1));let _0x32f314={'_id':_0x197da4['id'],'colorHex':_0x158603,'color':_0x197da4?.[_0x17a3f2(0x1f4)],'name':_0x197da4?.[_0x17a3f2(0x4e1)],'owner':this['instance'][_0x17a3f2(0x22f)]};await this[_0x17a3f2(0x600)][_0x17a3f2(0x6cb)][_0x17a3f2(0x119)]({'where':{'_id':_0x197da4['id']}},_0x32f314,this[_0x17a3f2(0x172)][_0x17a3f2(0x22f)]),console[_0x17a3f2(0x1f7)](_0x17a3f2(0x2d5),_0x197da4);}_0x197da4[_0x17a3f2(0x371)]&&(await this[_0x17a3f2(0x600)][_0x17a3f2(0x6cb)][_0x17a3f2(0x214)]({'where':{'_id':_0x197da4['id']}},this[_0x17a3f2(0x172)][_0x17a3f2(0x22f)]),console[_0x17a3f2(0x1f7)](_0x17a3f2(0x276),_0x197da4['id']));}},this['groupHandler']={'groups.upsert':_0x2d7a3b=>{const _0x5a297=_0x338937;this[_0x5a297(0x4bc)](_0x5a297(0x3b7),_0x2d7a3b);},'groups.update':_0x217cd1=>{const _0x18b428=_0x338937;this[_0x18b428(0x4bc)]('groups.update',_0x217cd1);},'group-participants.update':_0x26542e=>{const _0x45bf7d=_0x338937;this[_0x45bf7d(0x4bc)](_0x45bf7d(0x231),_0x26542e);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x338937(0x608)]=0x1388,this[_0x338937(0x25d)]=async _0x2d7b9e=>{const _0x54ac12=_0x338937;if(_0x2d7b9e[_0x54ac12(0x78c)]?.[_0x54ac12(0x657)]){let _0x568b2b=await this[_0x54ac12(0x5b2)](_0x2d7b9e['message']['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x568b2b){let _0x5d4684=_0x568b2b['key'][_0x54ac12(0x699)]?this['instance'][_0x54ac12(0x22f)]+_0x54ac12(0x121):_0x568b2b[_0x54ac12(0x1c5)]['participant']||_0x568b2b[_0x54ac12(0x1c5)][_0x54ac12(0x248)],_0x2be5cc=_0x568b2b[_0x54ac12(0x1c5)]['id'],_0x5245d3=_0x568b2b['message'],_0x27aa52=Buffer[_0x54ac12(0x223)](_0x5245d3[_0x54ac12(0x278)][_0x54ac12(0x136)][_0x54ac12(0x341)]('hex'),_0x54ac12(0x126)),_0x385e04=(0x0,m[_0x54ac12(0x372)])(_0x2d7b9e[_0x54ac12(0x78c)]['pollUpdateMessage'][_0x54ac12(0x5bb)],{'pollCreatorJid':_0x5d4684,'pollMsgId':_0x2be5cc,'pollEncKey':_0x27aa52,'voterJid':_0x2d7b9e[_0x54ac12(0x1c5)][_0x54ac12(0x699)]?this['instance'][_0x54ac12(0x22f)]+_0x54ac12(0x121):_0x2d7b9e['key'][_0x54ac12(0x248)]['endsWith'](_0x54ac12(0x1c4))?_0x2d7b9e['key'][_0x54ac12(0x63c)]:_0x2d7b9e[_0x54ac12(0x1c5)][_0x54ac12(0x248)]}),_0x2e724e=[],_0x33c447=_0x385e04['selectedOptions']['map'](_0x5bf602=>Buffer[_0x54ac12(0x223)](_0x5bf602)['toString'](_0x54ac12(0x126)));for(let {optionName:_0x175c79}of _0x5245d3[_0x54ac12(0x641)]?.['options']||_0x5245d3[_0x54ac12(0x40e)]?.[_0x54ac12(0x3af)]||_0x5245d3['pollCreationMessageV2']?.[_0x54ac12(0x3af)])_0x33c447[_0x54ac12(0x353)]((0x0,m['sha256'])(Buffer[_0x54ac12(0x223)](_0x175c79))[_0x54ac12(0x341)](_0x54ac12(0x126)))>-0x1&&_0x2e724e['push'](_0x175c79);return _0x2e724e;}}return null;},this[_0x338937(0x71a)]=(_0x4dabc0,_0x59a926,_0x857b75)=>{const _0x38c9ce=_0x338937;try{let _0x15d07f=_0x4dabc0?(0x0,m[_0x38c9ce(0x61a)])(_0x4dabc0)[_0x59a926]:void 0x0,_0x24cbbb={},_0x9634c1=null,_0xb5f27=null,_0x2ee534=null;_0x59a926===_0x38c9ce(0x275)&&_0x15d07f?.['editedMessage']&&(_0x59a926=(0x0,m[_0x38c9ce(0x13d)])(_0x15d07f[_0x38c9ce(0x710)]),_0x9634c1=_0x4dabc0[_0x38c9ce(0x275)][_0x38c9ce(0x1c5)]['id'],_0x15d07f=_0x4dabc0[_0x38c9ce(0x275)][_0x38c9ce(0x710)][_0x59a926]),_0x4dabc0[_0x59a926]?.[_0x38c9ce(0x26d)]?.[_0x38c9ce(0x301)]&&_0x4dabc0[_0x59a926]?.[_0x38c9ce(0x26d)]?.['quotedMessage']&&(_0xb5f27=_0x4dabc0[_0x59a926][_0x38c9ce(0x26d)][_0x38c9ce(0x301)]),_0x4dabc0['reactionMessage']&&(_0x2ee534=_0x4dabc0['reactionMessage'][_0x38c9ce(0x1c5)]['id']);let _0x182462;if(_0x15d07f&&typeof _0x15d07f==_0x38c9ce(0x26c)&&'pollCreationMessageKey'in _0x15d07f&&({pollCreationMessageKey:_0x182462}=_0x15d07f),_0x59a926==='pollCreationMessage'||_0x59a926===_0x38c9ce(0x328)||_0x59a926==='pollCreationMessageV3'){let _0x5374cc=_0x15d07f[_0x38c9ce(0x3af)][_0x38c9ce(0x177)](_0x37effd=>_0x37effd[_0x38c9ce(0x1c1)])['join']('|');_0x24cbbb[_0x38c9ce(0x573)]=_0x5374cc;}let _0xa3b9e3='';if(_0x15d07f&&(_0xa3b9e3+=_0x15d07f[_0x38c9ce(0x4e1)]?_0x15d07f['name']:'',_0xa3b9e3+=_0x15d07f['caption']?'\x20'+_0x15d07f[_0x38c9ce(0x540)]:'',_0xa3b9e3+=_0x15d07f['conversation']?'\x20'+_0x15d07f[_0x38c9ce(0x255)]:'',_0xa3b9e3+=_0x15d07f[_0x38c9ce(0x6e5)]?'\x20'+_0x15d07f['displayName']:''),_0x59a926===_0x38c9ce(0x1d7)){_0xa3b9e3=(_0x15d07f['title']||'')+'\x0a'+(_0x15d07f['description']||'')+'\x0a'+(_0x15d07f[_0x38c9ce(0x12b)]||'');let _0x35c2ff=this[_0x38c9ce(0x7b3)](_0x15d07f[_0x38c9ce(0x4de)]);_0x24cbbb[_0x38c9ce(0x573)]=_0x35c2ff;}if(_0x59a926===_0x38c9ce(0x1b3)&&(_0x857b75=_0x15d07f[_0x38c9ce(0x458)]),_0x15d07f&&_0x15d07f[_0x38c9ce(0x384)]){let _0x8adee5=this[_0x38c9ce(0x576)](JSON[_0x38c9ce(0x6ab)](_0x15d07f[_0x38c9ce(0x384)],null,0x2));_0xa3b9e3=_0xa3b9e3+'\x0a'+_0x8adee5;}if(_0x15d07f){let {sections:_0x28b96a,listType:_0x221075,displayName:_0x47219d,vcard:_0x3e90a3,contactVcard:_0x5f1adf,name:_0x2135c0,caption:_0x5ea824,conversation:_0x19250f,pollCreationMessageKey:_0x306e22,footerText:_0x4677d0,contentText:_0x36e7e0,pageCount:_0x396804,headerType:_0x23a44f,isAvatar:_0x29a091,isAnimated:_0x5b8e6f,fallbackLc:_0x2c1360,fallbackLg:_0x38b17c,namespace:_0x36b6ef,elementName:_0x971b1e,localizableParams:_0x4eb5f7,viewOnce:_0x5a581b,height:_0x41d371,width:_0x3bbf20,key:_0x2b915e,firstScanLength:_0x10637a,firstScanSidecar:_0x428fed,gifPlayback:_0x3eaa61,gifAttribution:_0x2394c9,midQualityFileSha256:_0x386858,scansSidecar:_0x419fd5,streamingSidecar:_0xc735e,thumbnailHeight:_0x36cc08,thumbnailWidth:_0x4f5d27,thumbnailEncSha256:_0x44762c,thumbnailDirectPath:_0x46a938,canonicalUrl:_0x2c4375,matchedText:_0x2c3498,previewType:_0x341223,thumbnailSha256:_0x10146a,deviceListMetadataVersion:_0x5e70ee,inviteLinkGroupTypeV2:_0x3b6e29,interactiveAnnotations:_0x5047de,scanLengths:_0x539f1c,jpegThumbnail:_0x45357a,url:_0x414ade,mediaKeyTimestamp:_0x9fd89c,waveform:_0x261377,stickerSentTs:_0x364b1f,firstFrameLength:_0x58d3c7,fileEncSha256:_0x42c85d,contextInfo:_0xd0697b,firstFrameSidecar:_0x3945a4,directPath:_0xa41c3c,fileSha256:_0x407337,mediaKey:_0x37f151,senderTimestampMs:_0x159a01,..._0x1d04d9}=_0x15d07f;(_0x59a926===_0x38c9ce(0x1d7)||_0x59a926==='listResponseMessage')&&(delete _0x1d04d9['title'],delete _0x1d04d9[_0x38c9ce(0x7b1)]),typeof _0x15d07f==_0x38c9ce(0x4f8)?_0x24cbbb={'text':_0x15d07f,'type':_0x59a926||'conversation',..._0x9634c1&&{'edited':_0x9634c1},..._0xb5f27&&{'quoted':_0xb5f27},..._0x2ee534&&{'reaction':_0x2ee534}}:_0x24cbbb={'text':_0xa3b9e3,..._0x1d04d9,..._0x59a926==='pollUpdateMessage'?{'poll_id':_0x15d07f[_0x38c9ce(0x424)]['id'],'quoted':_0x15d07f[_0x38c9ce(0x424)]['id'],'vote':_0x857b75}:{},..._0x59a926===_0x38c9ce(0x1b3)?{'vote':_0x857b75}:{},'type':_0x59a926,..._0x9634c1&&{'edited':_0x9634c1},..._0xb5f27&&{'quoted':_0xb5f27},..._0x2ee534&&{'reaction':_0x2ee534},...(_0x59a926===_0x38c9ce(0x641)||_0x59a926===_0x38c9ce(0x328)||_0x59a926===_0x38c9ce(0x40e)||_0x59a926===_0x38c9ce(0x1d7))&&{'convertedOptions':_0x24cbbb[_0x38c9ce(0x573)]}};}return{'messageType':_0x59a926,'messageContent':_0x15d07f,'message_normalized':_0x24cbbb};}catch(_0x1d1334){return console[_0x38c9ce(0x426)](_0x38c9ce(0x6c5),_0x1d1334),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x338937(0x241)](),this[_0x338937(0x172)][_0x338937(0x574)]={'count':0x0},this[_0x338937(0x172)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x41cf74){const _0x15ac9d=a0_0x3c6a8b;if(!_0x41cf74){this[_0x15ac9d(0x172)][_0x15ac9d(0x4e1)]=(0x0,Tr['v4'])();return;}this[_0x15ac9d(0x172)][_0x15ac9d(0x4e1)]=_0x41cf74,this[_0x15ac9d(0x4bc)](_0x15ac9d(0x6f3),{'instance':this[_0x15ac9d(0x172)]['name'],'status':_0x15ac9d(0x1dc)});}get['instanceName'](){return this['instance']['name'];}get[a0_0x3c6a8b(0x22f)](){const _0x3b9c82=a0_0x3c6a8b;return this[_0x3b9c82(0x172)][_0x3b9c82(0x22f)];}async['getProfileName'](){const _0x595754=a0_0x3c6a8b;let _0x141060=this[_0x595754(0x5b7)]['user']?.['name']??this['client'][_0x595754(0x61d)]?.[_0x595754(0x7c5)];if(!_0x141060){if(this['configService'][_0x595754(0x37f)](_0x595754(0x570))['ENABLED']){let _0x1310d5=await T[_0x595754(0x5c4)]()['db'](this['configService']['get']('DATABASE')['CONNECTION'][_0x595754(0x6b9)]+_0x595754(0x3f9))[_0x595754(0x550)](this[_0x595754(0x38c)])[_0x595754(0x23a)]({'_id':_0x595754(0x232)});if(_0x1310d5){let _0x2cf5e0=JSON[_0x595754(0x568)](JSON['stringify'](_0x1310d5),m[_0x595754(0x2cd)][_0x595754(0x25a)]);_0x141060=_0x2cf5e0['me']?.[_0x595754(0x4e1)]||_0x2cf5e0['me']?.[_0x595754(0x7c5)];}}else{if((0x0,Te[_0x595754(0x454)])((0x0,J[_0x595754(0x4a6)])(ge,this[_0x595754(0x38c)],_0x595754(0x73a)))){let _0x2df9ef=JSON[_0x595754(0x568)]((0x0,Te['readFileSync'])((0x0,J['join'])(ge,this['instanceName'],_0x595754(0x73a)),{'encoding':'utf-8'}));_0x141060=_0x2df9ef['me']?.[_0x595754(0x4e1)]||_0x2df9ef['me']?.[_0x595754(0x7c5)];}}}return _0x141060;}get['profilePictureUrl'](){const _0x1b3e95=a0_0x3c6a8b;return this[_0x1b3e95(0x172)][_0x1b3e95(0x212)];}get[a0_0x3c6a8b(0x594)](){const _0x31314c=a0_0x3c6a8b;return{'pairingCode':this[_0x31314c(0x172)][_0x31314c(0x574)]?.[_0x31314c(0x792)],'code':this['instance'][_0x31314c(0x574)]?.[_0x31314c(0x234)],'base64':this[_0x31314c(0x172)][_0x31314c(0x574)]?.[_0x31314c(0x296)]};}async[a0_0x3c6a8b(0x1df)](){const _0x358af2=a0_0x3c6a8b;let _0x157231=await this[_0x358af2(0x600)]['webhook']['find'](this[_0x358af2(0x38c)]);this[_0x358af2(0x2a0)][_0x358af2(0x415)]=_0x157231?.['url'],this[_0x358af2(0x2a0)][_0x358af2(0x628)]=_0x157231?.[_0x358af2(0x628)],this['localWebhook'][_0x358af2(0x4d2)]=_0x157231?.[_0x358af2(0x4d2)],this[_0x358af2(0x2a0)][_0x358af2(0x531)]=_0x157231?.[_0x358af2(0x531)],this[_0x358af2(0x2a0)][_0x358af2(0x13c)]=_0x157231?.[_0x358af2(0x13c)],this[_0x358af2(0x2a0)][_0x358af2(0x721)]=_0x157231?.[_0x358af2(0x721)],this[_0x358af2(0x2a0)]['MESSAGES_UPSERT']=_0x157231?.[_0x358af2(0x74b)],this[_0x358af2(0x2a0)][_0x358af2(0x55b)]=_0x157231?.['MESSAGES_UPDATE'],this[_0x358af2(0x2a0)][_0x358af2(0x527)]=_0x157231?.['GROUPS_UPSERT'],this[_0x358af2(0x2a0)][_0x358af2(0x591)]=_0x157231?.[_0x358af2(0x591)],this[_0x358af2(0x2a0)][_0x358af2(0x6f9)]=_0x157231?.[_0x358af2(0x6f9)],this['localWebhook'][_0x358af2(0x243)]=_0x157231?.[_0x358af2(0x243)],this[_0x358af2(0x2a0)][_0x358af2(0x2c1)]=_0x157231?.[_0x358af2(0x2c1)],this[_0x358af2(0x2a0)][_0x358af2(0x37a)]=_0x157231?.[_0x358af2(0x37a)],this[_0x358af2(0x2a0)][_0x358af2(0x5ef)]=_0x157231?.[_0x358af2(0x5ef)],this[_0x358af2(0x2a0)][_0x358af2(0x298)]=_0x157231?.['CONTACTS_SET'],this[_0x358af2(0x2a0)][_0x358af2(0x55e)]=_0x157231?.[_0x358af2(0x55e)],this[_0x358af2(0x2a0)][_0x358af2(0x545)]=_0x157231?.[_0x358af2(0x545)],this[_0x358af2(0x2a0)][_0x358af2(0x745)]=_0x157231?.['PRESENCE_UPDATE'],this[_0x358af2(0x2a0)][_0x358af2(0x31a)]=_0x157231?.[_0x358af2(0x31a)],this[_0x358af2(0x2a0)]['CONNECTION_UPDATE']=_0x157231?.['CONNECTION_UPDATE'],this[_0x358af2(0x2a0)][_0x358af2(0x7c8)]=_0x157231?.[_0x358af2(0x7c8)];}async[a0_0x3c6a8b(0x701)](_0x5797da){const _0x161b69=a0_0x3c6a8b;let _0xf32c5c=[_0x161b69(0x54e),'url',_0x161b69(0x628),_0x161b69(0x4d2),_0x161b69(0x531),'QRCODE_UPDATED',_0x161b69(0x55b),_0x161b69(0x74b),_0x161b69(0x721),_0x161b69(0x527),_0x161b69(0x591),_0x161b69(0x6f9),'CHATS_SET',_0x161b69(0x2c1),_0x161b69(0x37a),'CHATS_DELETE','CONTACTS_SET',_0x161b69(0x55e),_0x161b69(0x545),_0x161b69(0x745),'MESSAGES_SET',_0x161b69(0x185),_0x161b69(0x7c8)],_0x2597f5={};return _0xf32c5c[_0x161b69(0x471)](_0x6c9169=>{_0x5797da[_0x6c9169]!==void 0x0&&(_0x2597f5[_0x6c9169]=_0x5797da[_0x6c9169]);}),_0x2597f5['url']&&(_0x2597f5[_0x161b69(0x415)]=_0x2597f5['url'][_0x161b69(0x7e8)]()),await this[_0x161b69(0x600)]['webhook'][_0x161b69(0x748)](_0x2597f5,this[_0x161b69(0x38c)]),Object[_0x161b69(0x273)](this[_0x161b69(0x2a0)],_0x2597f5),await this[_0x161b69(0x600)][_0x161b69(0x472)][_0x161b69(0x217)](this[_0x161b69(0x38c)]);}async[a0_0x3c6a8b(0x238)](){const _0x1e2f74=a0_0x3c6a8b;return await this[_0x1e2f74(0x600)][_0x1e2f74(0x472)]['find'](this[_0x1e2f74(0x38c)]);}async[a0_0x3c6a8b(0x4bc)](_0x7c5b6d,_0x448e92){const _0x5f8f3=a0_0x3c6a8b;let _0x105571=_0x7c5b6d[_0x5f8f3(0x5bd)](/[\.-]/gm,'_')['toUpperCase'](),_0x30b86c=this[_0x5f8f3(0x2a0)][_0x5f8f3(0x628)]&&(0x0,P[_0x5f8f3(0x3e6)])(this['localWebhook'][_0x5f8f3(0x415)])?this[_0x5f8f3(0x2a0)][_0x5f8f3(0x415)]+(this['localWebhook'][_0x5f8f3(0x4d2)]?this['webhookMap'][_0x7c5b6d]:''):null,_0x38d4d1=this[_0x5f8f3(0x2a0)][_0x105571],_0x5d9fc1=ce&&ce[_0x5f8f3(0x628)]&&(0x0,P[_0x5f8f3(0x3e6)])(ce[_0x5f8f3(0x415)])?ce[_0x5f8f3(0x415)]+(ce['local_map']?this['webhookMap'][_0x7c5b6d]:''):null,_0x3e80b7=ce?ce[_0x105571]:null;if(_0x38d4d1&&_0x30b86c)try{await Z[_0x5f8f3(0x4f5)]['create']({'baseURL':_0x30b86c})[_0x5f8f3(0x686)]('',{'event':_0x7c5b6d,'instance':this[_0x5f8f3(0x172)]['name'],'apikey':this['instance'][_0x5f8f3(0x769)],'data':_0x448e92}),this[_0x5f8f3(0x784)][_0x5f8f3(0x1f7)](this['instanceName']+'\x20('+this[_0x5f8f3(0x172)]['wuid']+_0x5f8f3(0x7e2)+_0x7c5b6d+':\x20'+_0x30b86c);}catch{this[_0x5f8f3(0x784)]['error'](this[_0x5f8f3(0x38c)]+'\x20('+this[_0x5f8f3(0x172)]['wuid']+_0x5f8f3(0x456)+_0x7c5b6d+':\x20'+_0x30b86c);}if(_0x3e80b7&&_0x5d9fc1)try{await Z[_0x5f8f3(0x4f5)][_0x5f8f3(0x748)]({'baseURL':_0x5d9fc1})['post']('',{'event':_0x7c5b6d,'instance':this[_0x5f8f3(0x172)][_0x5f8f3(0x4e1)],'apikey':this['instance'][_0x5f8f3(0x769)],'data':_0x448e92}),this[_0x5f8f3(0x784)][_0x5f8f3(0x1f7)](this[_0x5f8f3(0x38c)]+'\x20('+this[_0x5f8f3(0x172)][_0x5f8f3(0x22f)]+_0x5f8f3(0x762)+_0x7c5b6d+':\x20'+_0x5d9fc1);}catch{this['logger'][_0x5f8f3(0x426)](this[_0x5f8f3(0x38c)]+'\x20('+this[_0x5f8f3(0x172)][_0x5f8f3(0x22f)]+_0x5f8f3(0x529)+_0x7c5b6d+':\x20'+_0x5d9fc1);}}async[a0_0x3c6a8b(0x1ab)]({qr:_0x241e71,connection:_0x35c492,lastDisconnect:_0x2ac4a9}){const _0x19e3f6=a0_0x3c6a8b;if(_0x241e71){if(this['instance'][_0x19e3f6(0x574)]['count']===Mi)return this[_0x19e3f6(0x4bc)](_0x19e3f6(0x407),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':m[_0x19e3f6(0x3e4)]['badSession']}),this[_0x19e3f6(0x43b)]={'state':'refused','statusReason':m[_0x19e3f6(0x3e4)][_0x19e3f6(0x15c)]},this[_0x19e3f6(0x4bc)](_0x19e3f6(0x1d4),{'instance':this[_0x19e3f6(0x172)]['name'],...this[_0x19e3f6(0x43b)]}),this[_0x19e3f6(0x4bc)](_0x19e3f6(0x6f3),{'instance':this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)],'status':_0x19e3f6(0x535)}),this[_0x19e3f6(0x600)][_0x19e3f6(0x6ad)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x19e3f6(0x30f)]()},this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)]),this[_0x19e3f6(0x718)]=!0x0,this[_0x19e3f6(0x64a)][_0x19e3f6(0x462)](_0x19e3f6(0x7c9),this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)]);this['instance'][_0x19e3f6(0x574)][_0x19e3f6(0x6c0)]++;let _0x170bec={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x19e3f6(0x4af),'dark':_0x19e3f6(0x7e1)}};Or['default'][_0x19e3f6(0x48e)](_0x241e71,_0x170bec,(_0x14497a,_0xf224b6)=>{const _0x561f27=_0x19e3f6;if(_0x14497a){this['logger']['error'](this[_0x561f27(0x38c)]+'\x20('+this[_0x561f27(0x172)][_0x561f27(0x22f)]+_0x561f27(0x35c)+(_0x14497a instanceof Error?_0x14497a['message']:JSON[_0x561f27(0x6ab)](_0x14497a,null,0x2)));return;}this['instance'][_0x561f27(0x574)][_0x561f27(0x296)]=_0xf224b6,this[_0x561f27(0x172)][_0x561f27(0x574)][_0x561f27(0x234)]=_0x241e71,this[_0x561f27(0x4bc)]('qrcode.updated',{'qrcode':{'instance':this[_0x561f27(0x172)]['name'],'pairingCode':this[_0x561f27(0x172)][_0x561f27(0x574)][_0x561f27(0x792)],'code':_0x241e71,'base64':_0xf224b6}});}),this[_0x19e3f6(0x1f0)]?(await(0x0,m[_0x19e3f6(0x287)])(0x7d0),this[_0x19e3f6(0x172)][_0x19e3f6(0x574)][_0x19e3f6(0x792)]=await this[_0x19e3f6(0x5b7)][_0x19e3f6(0x410)](this['phoneNumber'])):this['instance'][_0x19e3f6(0x574)][_0x19e3f6(0x792)]=null,Ar[_0x19e3f6(0x4f5)][_0x19e3f6(0x5dd)](_0x241e71,{'small':!0x0},_0x37a4be=>this[_0x19e3f6(0x784)][_0x19e3f6(0x1f7)]('\x0a{\x20instance:\x20'+this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)]+_0x19e3f6(0x2b1)+this[_0x19e3f6(0x172)][_0x19e3f6(0x574)]['count']+_0x19e3f6(0x46f)+this[_0x19e3f6(0x172)][_0x19e3f6(0x574)]['pairingCode']+_0x19e3f6(0x53b)+_0x37a4be));}if(_0x35c492&&(this[_0x19e3f6(0x43b)]={'state':_0x35c492,'statusReason':_0x2ac4a9?.[_0x19e3f6(0x426)]?.[_0x19e3f6(0x221)]?.['statusCode']??0xc8},this[_0x19e3f6(0x4bc)](_0x19e3f6(0x1d4),{'instance':this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)],...this[_0x19e3f6(0x43b)]})),_0x35c492==='close'){if(this[_0x19e3f6(0x413)]++,this['reconnectTimestamps'][_0x19e3f6(0x799)](Date[_0x19e3f6(0x30f)]()),this['reconnectTimestamps']=this[_0x19e3f6(0x1fe)][_0x19e3f6(0x75f)](_0x3736c5=>Date['now']()-_0x3736c5<this[_0x19e3f6(0x2f5)]),_0x2ac4a9[_0x19e3f6(0x426)]?.['output']?.[_0x19e3f6(0x6f6)]!==m[_0x19e3f6(0x3e4)][_0x19e3f6(0x386)]&&this[_0x19e3f6(0x1fe)][_0x19e3f6(0x3ca)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x19e3f6(0x1f7)](this[_0x19e3f6(0x38c)]+_0x19e3f6(0x373)+this[_0x19e3f6(0x413)]+'/'+this[_0x19e3f6(0x352)]+_0x19e3f6(0x72d)),console['log']('Tentando\x20reconectar...'),await this['connectToWhatsapp']();else{this[_0x19e3f6(0x4bc)](_0x19e3f6(0x6f3),{'instance':this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)],'status':_0x19e3f6(0x535)}),this[_0x19e3f6(0x172)][_0x19e3f6(0x406)]['isConnected']=!0x1,this[_0x19e3f6(0x600)][_0x19e3f6(0x472)][_0x19e3f6(0x214)](this[_0x19e3f6(0x38c)]),this['repository'][_0x19e3f6(0x6ad)][_0x19e3f6(0x748)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x19e3f6(0x30f)]()},this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)]);try{this[_0x19e3f6(0x784)]['verbose'](this[_0x19e3f6(0x38c)]+'\x20('+this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)]+_0x19e3f6(0x2ac));let _0x222ea3=await this['repository'][_0x19e3f6(0x78c)]['deleteAll'](this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)]);_0x222ea3[_0x19e3f6(0x7dc)]?this['logger']['verbose'](this[_0x19e3f6(0x38c)]+'\x20('+this[_0x19e3f6(0x172)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x19e3f6(0x426)](_0x19e3f6(0x1c7),_0x222ea3[_0x19e3f6(0x426)]);}catch(_0x12ee67){console[_0x19e3f6(0x426)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x12ee67);}this[_0x19e3f6(0x172)][_0x19e3f6(0x406)][_0x19e3f6(0x397)]!==null&&(this['logger'][_0x19e3f6(0x1a2)](this['instanceName']+'\x20('+this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)]+_0x19e3f6(0x2b9)),clearInterval(this['instance'][_0x19e3f6(0x406)][_0x19e3f6(0x397)]),this[_0x19e3f6(0x172)][_0x19e3f6(0x406)][_0x19e3f6(0x397)]=null),this[_0x19e3f6(0x784)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x19e3f6(0x22f)]+_0x19e3f6(0x54d)),this['AutomateSystem']=null,this['eventEmitter'][_0x19e3f6(0x462)](_0x19e3f6(0x19e),this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)],_0x19e3f6(0x75d)),this['client']?.['ws']?.[_0x19e3f6(0x63a)](),this[_0x19e3f6(0x5b7)]['end'](new Error(_0x19e3f6(0x77a)));}}if(_0x35c492===_0x19e3f6(0x61e)){this['client']['ev']['flush'](),this[_0x19e3f6(0x3d9)],this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)]=this[_0x19e3f6(0x5b7)][_0x19e3f6(0x61d)]['id'][_0x19e3f6(0x5bd)](/:\d+/,'')[_0x19e3f6(0x5bd)]('@s.whatsapp.net',''),this[_0x19e3f6(0x172)][_0x19e3f6(0x212)]=(await this[_0x19e3f6(0x485)](this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)]+_0x19e3f6(0x121)))[_0x19e3f6(0x212)],this[_0x19e3f6(0x600)][_0x19e3f6(0x6ad)][_0x19e3f6(0x748)]({'online':!0x0,'owner':this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)],'lastDisconnect':null},this[_0x19e3f6(0x172)][_0x19e3f6(0x4e1)]);let _0x57b795=_0x19e3f6(0x1ef)+this[_0x19e3f6(0x172)][_0x19e3f6(0x22f)],_0x366c79=0x28,_0x42651e=Math[_0x19e3f6(0x334)]((_0x366c79-_0x57b795[_0x19e3f6(0x3ca)])/0x2),_0x2aa787='\x20'[_0x19e3f6(0x132)](_0x42651e),_0x1edc5d='CONECTADO\x20À\x20UAZAPI',_0x4352c9=_0x19e3f6(0x3ea)+this[_0x19e3f6(0x172)]['name'],_0x4b1a2f=(''+_0x2aa787+_0x57b795+_0x2aa787)['padEnd'](_0x366c79,'\x20'),_0x44929b=(''+_0x2aa787+_0x1edc5d+_0x2aa787)['padEnd'](_0x366c79,'\x20'),_0x1ad3e0=(''+_0x2aa787+_0x4352c9+_0x2aa787)[_0x19e3f6(0x204)](_0x366c79,'\x20'),_0x2da615=Math[_0x19e3f6(0x4d6)](_0x4b1a2f['length'],_0x44929b[_0x19e3f6(0x3ca)],_0x1ad3e0[_0x19e3f6(0x3ca)]),_0x31eb09=_0x4b1a2f[_0x19e3f6(0x204)](_0x2da615,'\x20'),_0x1e0dd7=_0x44929b[_0x19e3f6(0x204)](_0x2da615,'\x20'),_0x330f26=_0x1ad3e0[_0x19e3f6(0x204)](_0x2da615,'\x20');this[_0x19e3f6(0x784)][_0x19e3f6(0x198)]((_0x19e3f6(0x24d)+'─'[_0x19e3f6(0x132)](_0x2da615)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1e0dd7+_0x19e3f6(0x2bd)+_0x330f26+_0x19e3f6(0x2bd)+_0x31eb09+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x19e3f6(0x132)](_0x2da615)+'┘')[_0x19e3f6(0x5bd)](/^ +/gm,'\x20\x20')),this[_0x19e3f6(0x425)](),this[_0x19e3f6(0x172)]['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x3c6a8b(0x3d9)](){const _0x313e09=a0_0x3c6a8b;this[_0x313e09(0x413)]=0x0,this[_0x313e09(0x1fe)]=[];}async[a0_0x3c6a8b(0x5b2)](_0x2418c0,_0x1acfb7=!0x1){const _0xaef1b7=a0_0x3c6a8b;try{let _0x29e122=await this[_0xaef1b7(0x600)]['message'][_0xaef1b7(0x217)]({'where':{'_id':_0x2418c0['id']}},this[_0xaef1b7(0x172)]['wuid']);return _0x1acfb7?_0x29e122[0x0]:_0x29e122[0x0][_0xaef1b7(0x78c)];}catch{return{'conversation':''};}}[a0_0x3c6a8b(0x241)](){const _0x6a0a34=a0_0x3c6a8b;let _0x1e3bf1=this[_0x6a0a34(0x305)][_0x6a0a34(0x37f)]('STORE'),_0x4fff20=this[_0x6a0a34(0x305)]['get']('DATABASE');_0x1e3bf1?.['CLEANING_INTERVAL']&&!_0x4fff20[_0x6a0a34(0x619)]&&setInterval(()=>{const _0xd0ca0c=_0x6a0a34;try{for(let [_0x43aed9,_0x2413e0]of Object[_0xd0ca0c(0x4b9)](_0x1e3bf1))_0x2413e0===!0x0&&(0x0,jt[_0xd0ca0c(0x27d)])(_0xd0ca0c(0x7cb)+(0x0,J[_0xd0ca0c(0x4a6)])(this[_0xd0ca0c(0x3d6)],_0x43aed9[_0xd0ca0c(0x44f)](),this[_0xd0ca0c(0x172)][_0xd0ca0c(0x22f)])+_0xd0ca0c(0x170));}catch{}},(_0x1e3bf1?.[_0x6a0a34(0x33f)]??0xe10)*0x3e8);}async[a0_0x3c6a8b(0x344)](){const _0xfb64e3=a0_0x3c6a8b;let _0x2454eb=this['configService']['get']('DATABASE'),_0x15d824=this['configService'][_0xfb64e3(0x37f)](_0xfb64e3(0x2d6));return _0x15d824?.[_0xfb64e3(0x619)]?await Ns(_0x15d824,this[_0xfb64e3(0x172)][_0xfb64e3(0x4e1)]):_0x2454eb[_0xfb64e3(0x619)]?await vs(this[_0xfb64e3(0x172)][_0xfb64e3(0x4e1)]):await(0x0,m['useMultiFileAuthState'])((0x0,J['join'])(ge,this[_0xfb64e3(0x172)][_0xfb64e3(0x4e1)]));}async['AutomateFunctions'](){const _0x4c7637=a0_0x3c6a8b;let _0x8df400=()=>Math[_0x4c7637(0x334)](Math['random']()*0x2711)+0x7d0,_0x134301=async()=>{const _0x5316e4=_0x4c7637;if(!this[_0x5316e4(0x172)][_0x5316e4(0x406)][_0x5316e4(0x38f)]){this['logger']['verbose'](_0x5316e4(0x7de)),this[_0x5316e4(0x68b)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x5316e4(0x16e)]&&this[_0x5316e4(0x172)][_0x5316e4(0x406)][_0x5316e4(0x397)]!==null&&this[_0x5316e4(0x172)][_0x5316e4(0x406)][_0x5316e4(0x397)]!==void 0x0){let _0x47fa0d=Math[_0x5316e4(0x225)](this[_0x5316e4(0x172)][_0x5316e4(0x406)]['delayMessage']/0xea60);this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5316e4(0x22f)]+_0x5316e4(0x157)+_0x47fa0d+_0x5316e4(0x460)),this[_0x5316e4(0x68b)]=!0x1;return;}else this[_0x5316e4(0x172)][_0x5316e4(0x22f)]&&(this[_0x5316e4(0x784)]['verbose'](this[_0x5316e4(0x38c)]+'\x20('+this[_0x5316e4(0x172)][_0x5316e4(0x22f)]+_0x5316e4(0x5a9)),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x5316e4(0x172)][_0x5316e4(0x406)][_0x5316e4(0x397)]===null||this[_0x5316e4(0x172)][_0x5316e4(0x406)]['delayMessage']===void 0x0)&&await this[_0x5316e4(0x7ca)]());if(this[_0x5316e4(0x68b)]){let _0x56aec3=_0x8df400();this[_0x5316e4(0x784)][_0x5316e4(0x1a2)](this[_0x5316e4(0x38c)]+_0x5316e4(0x394)+_0x56aec3/0x3e8+_0x5316e4(0x773)),setTimeout(_0x134301,_0x56aec3);}};if(this['isRunning'])return;this[_0x4c7637(0x68b)]=!0x0;let _0x10f122=_0x8df400();setTimeout(_0x134301,_0x10f122);}async[a0_0x3c6a8b(0x389)](_0x23bbde=0x0,_0x5b4125=!0x1){const _0x4edad8=a0_0x3c6a8b;try{let _0x14607b=this['configService'][_0x4edad8(0x37f)](_0x4edad8(0x4d5));if(_0x14607b!==0x1||typeof _0x14607b>'u'||_0x23bbde>=0x5)return this[_0x4edad8(0x784)][_0x4edad8(0x22b)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this[_0x4edad8(0x600)][_0x4edad8(0x6ad)][_0x4edad8(0x748)]({'ip':null},this[_0x4edad8(0x172)][_0x4edad8(0x4e1)]),{};this[_0x4edad8(0x784)][_0x4edad8(0x1a2)](this[_0x4edad8(0x38c)]+_0x4edad8(0x166)+(_0x23bbde+0x1)+_0x4edad8(0x345));let _0x1c50f1;if(!_0x5b4125){let _0x29fbb7=await this[_0x4edad8(0x600)][_0x4edad8(0x6ad)][_0x4edad8(0x217)](this['instanceName']);_0x29fbb7&&_0x29fbb7['ip']&&(_0x1c50f1=Er(_0x29fbb7['ip']));}if((!_0x1c50f1||!Rs(_0x1c50f1))&&(this['logger']['warn'](this[_0x4edad8(0x38c)]+_0x4edad8(0x51a)),_0x1c50f1=Mr()),_0x1c50f1&&Rs(_0x1c50f1)){let _0x58463a=_0x1c50f1['username']&&_0x1c50f1[_0x4edad8(0x2d8)]?_0x1c50f1[_0x4edad8(0x772)]+_0x4edad8(0x48c)+_0x1c50f1[_0x4edad8(0x261)]+':'+_0x1c50f1[_0x4edad8(0x2d8)]+'@'+_0x1c50f1[_0x4edad8(0x649)]+':'+_0x1c50f1[_0x4edad8(0x7cf)]:_0x1c50f1['protocol']+_0x4edad8(0x48c)+_0x1c50f1[_0x4edad8(0x649)]+':'+_0x1c50f1[_0x4edad8(0x7cf)];return await this[_0x4edad8(0x150)](_0x58463a,_0x1c50f1['host'])?(this[_0x4edad8(0x784)]['verbose'](this[_0x4edad8(0x38c)]+_0x4edad8(0x57f)),this[_0x4edad8(0x600)][_0x4edad8(0x6ad)][_0x4edad8(0x748)]({'ip':_0x1c50f1[_0x4edad8(0x649)]},this['instance'][_0x4edad8(0x4e1)]),{'agent':new Lt[(_0x4edad8(0x27b))](_0x58463a),'fetchAgent':new Lt[(_0x4edad8(0x27b))](_0x58463a)}):(this['logger'][_0x4edad8(0x22b)](this['instanceName']+_0x4edad8(0x4fa)),await(0x0,m[_0x4edad8(0x287)])(0xc8),this[_0x4edad8(0x389)](_0x23bbde+0x1,!0x0));}else return this[_0x4edad8(0x784)][_0x4edad8(0x22b)](this['instanceName']+_0x4edad8(0x412)),await(0x0,m['delay'])(0xc8),this[_0x4edad8(0x389)](_0x23bbde+0x1,!0x0);}catch(_0x81ace7){return this[_0x4edad8(0x784)][_0x4edad8(0x426)](this['instanceName']+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x81ace7[_0x4edad8(0x78c)]),{};}}async['testProxy'](_0x5a42a5,_0x14eab3){const _0x1bba57=a0_0x3c6a8b;let _0x9b4587=new Lt[(_0x1bba57(0x27b))](_0x5a42a5),_0x512de5=0x1388,_0x1a1add=[{'url':_0x1bba57(0x39b),'parse':_0x1df03e=>_0x1df03e['ip']},{'url':_0x1bba57(0x450),'parse':_0x5b1896=>_0x5b1896['ip']},{'url':_0x1bba57(0x60a),'parse':_0x17b8ef=>_0x17b8ef[_0x1bba57(0x4e7)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x11b761=>_0x11b761['ip']},{'url':_0x1bba57(0x38d),'parse':_0x1ec721=>_0x1ec721[_0x1bba57(0x7e8)]()},{'url':_0x1bba57(0x271),'parse':_0x358f76=>_0x358f76[_0x1bba57(0x7e8)]()},{'url':_0x1bba57(0x654),'parse':_0x30c146=>_0x30c146[_0x1bba57(0x692)]},{'url':_0x1bba57(0x6b8),'parse':_0x5b7d76=>_0x5b7d76['trim']()},{'url':_0x1bba57(0x5a3),'parse':_0x5c92ff=>_0x5c92ff['trim']()}],_0x55eb60=_0x1a1add[Math['floor'](Math['random']()*_0x1a1add[_0x1bba57(0x3ca)])];try{let _0x4bf7cd=await Z[_0x1bba57(0x4f5)][_0x1bba57(0x37f)](_0x55eb60[_0x1bba57(0x415)],{'httpsAgent':_0x9b4587,'timeout':_0x512de5}),_0x15800d=_0x55eb60[_0x1bba57(0x568)](_0x4bf7cd['data']);return _0x15800d===_0x14eab3?(this['logger'][_0x1bba57(0x1a2)](this[_0x1bba57(0x38c)]+':\x20IP\x20configurado:\x20'+_0x14eab3+_0x1bba57(0x1de)+_0x15800d+_0x1bba57(0x732)),!0x0):(this[_0x1bba57(0x784)]['error'](this[_0x1bba57(0x38c)]+_0x1bba57(0x392)+_0x14eab3+'\x20-\x20retornado:\x20'+_0x15800d+_0x1bba57(0x3e0)),!0x1);}catch(_0x26f89c){return this[_0x1bba57(0x784)][_0x1bba57(0x426)](this[_0x1bba57(0x38c)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x55eb60[_0x1bba57(0x415)]+':\x20'+_0x26f89c[_0x1bba57(0x78c)]),!0x1;}}async[a0_0x3c6a8b(0x355)](_0x7f9294){const _0x361e0a=a0_0x3c6a8b;try{_0x7f9294&&(_0x7f9294=_0x7f9294[_0x361e0a(0x5bd)](/\D/g,''));let _0x5639a6=await this[_0x361e0a(0x389)]();this[_0x361e0a(0x1df)](),this[_0x361e0a(0x172)]['apikey']=(await this['repository'][_0x361e0a(0x6ad)][_0x361e0a(0x217)](this['instance']['name']))[_0x361e0a(0x769)],this['instance'][_0x361e0a(0x133)]=await this[_0x361e0a(0x344)]();let {version:_0x175971}=await(0x0,m[_0x361e0a(0x378)])(),_0x3685a7=[Ir,xs,(0x0,Ts['release'])()],_0x161caf={..._0x5639a6,'auth':{'creds':this[_0x361e0a(0x172)][_0x361e0a(0x133)][_0x361e0a(0x4d9)]['creds'],'keys':(0x0,m[_0x361e0a(0x643)])(this[_0x361e0a(0x172)][_0x361e0a(0x133)][_0x361e0a(0x4d9)][_0x361e0a(0x4c8)],(0x0,Pt[_0x361e0a(0x4f5)])({'level':_0x361e0a(0x426)}))},'logger':(0x0,Pt['default'])({'level':_0x361e0a(0x426)}),'printQRInTerminal':!0x1,'browser':_0x7f9294?['Mac\x20OS',xs,(0x0,Ts['release'])()]:_0x3685a7,'version':_0x175971,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xd7464=>{const _0x5a4201=_0x361e0a;let _0x5b2133=_0xd7464[_0x5a4201(0x625)](_0x5a4201(0x6da)),_0x3132cc=this[_0x5a4201(0x2a0)]?.['groups_ignore']&&_0xd7464['endsWith'](_0x5a4201(0x3a3));return _0x5b2133||(0x0,m['isJidBroadcast'])(_0xd7464)||_0x3132cc;},'msgRetryCounterCache':this[_0x361e0a(0x5da)],'getMessage':async _0x3e43bd=>await this[_0x361e0a(0x5b2)](_0x3e43bd),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x361e0a(0x23c)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4211b5=>(_0x4211b5[_0x361e0a(0x1d7)]?.[_0x361e0a(0x603)]==m['proto'][_0x361e0a(0x60d)][_0x361e0a(0x6f1)][_0x361e0a(0x51d)][_0x361e0a(0x5fc)]&&(_0x4211b5=JSON[_0x361e0a(0x568)](JSON[_0x361e0a(0x6ab)](_0x4211b5)),_0x4211b5['listMessage'][_0x361e0a(0x603)]=m['proto'][_0x361e0a(0x60d)]['ListMessage'][_0x361e0a(0x51d)][_0x361e0a(0x2aa)]),_0x4211b5)};return this['endSession']=!0x1,this[_0x361e0a(0x5b7)]=(0x0,m['default'])(_0x161caf),this[_0x361e0a(0x1ea)](),this[_0x361e0a(0x1f0)]=_0x7f9294,this[_0x361e0a(0x5b7)];}catch(_0x39f5c6){throw this[_0x361e0a(0x784)][_0x361e0a(0x426)](this[_0x361e0a(0x38c)]+'\x20('+this[_0x361e0a(0x172)]['wuid']+'):\x20'+(_0x39f5c6 instanceof Error?_0x39f5c6['message']:JSON['stringify'](_0x39f5c6,null,0x2))),new x(_0x39f5c6?.[_0x361e0a(0x341)]());}}['eventHandler'](){const _0x232d41=a0_0x3c6a8b;this[_0x232d41(0x5b7)]['ev'][_0x232d41(0x506)](_0x5be152=>{const _0x10ff96=_0x232d41;if(!this[_0x10ff96(0x718)]){let _0x3df543=this['configService'][_0x10ff96(0x37f)](_0x10ff96(0x570));if(_0x5be152[_0x10ff96(0x6c1)]){let _0x33bb9e=_0x5be152[_0x10ff96(0x6c1)];this['messageHandle'][_0x10ff96(0x6c1)](_0x33bb9e);}if(_0x5be152[_0x10ff96(0x1a6)]){let _0x50a456=_0x5be152['labels.association'];this[_0x10ff96(0x5c5)][_0x10ff96(0x1a6)](_0x50a456);}if(_0x5be152['connection.update']&&this[_0x10ff96(0x1ab)](_0x5be152[_0x10ff96(0x1d4)]),_0x5be152['creds.update']&&this[_0x10ff96(0x172)][_0x10ff96(0x133)]['saveCreds'](),_0x5be152[_0x10ff96(0x708)]){let _0x5c88b3=_0x5be152[_0x10ff96(0x708)];this['messageHandle'][_0x10ff96(0x708)](_0x5c88b3,_0x3df543);}if(_0x5be152['messages.upsert']){let _0x167362=_0x5be152[_0x10ff96(0x523)];this[_0x10ff96(0x5c5)][_0x10ff96(0x523)](_0x167362,_0x3df543);}if(_0x5be152['messages.update']){let _0x10d21c=_0x5be152[_0x10ff96(0x491)];_0x10d21c['forEach'](_0x2e937c=>{const _0x5d4371=_0x10ff96;if(Nr[_0x2e937c['key']['id']]){this[_0x5d4371(0x5b7)]['ev'][_0x5d4371(0x462)](_0x5d4371(0x523),{'messages':[_0x2e937c],'type':_0x5d4371(0x7dd)}),delete Nr[_0x2e937c[_0x5d4371(0x1c5)]['id']];return;}}),this[_0x10ff96(0x5c5)][_0x10ff96(0x491)](_0x10d21c,_0x3df543);}if(_0x5be152[_0x10ff96(0x71e)]){let _0x4bf86c=_0x5be152['presence.update'];if(this[_0x10ff96(0x2a0)]?.[_0x10ff96(0x7c8)]&&_0x4bf86c['id'][_0x10ff96(0x612)](_0x10ff96(0x3a3)))return;this[_0x10ff96(0x4bc)](_0x10ff96(0x71e),_0x4bf86c);}if(!this[_0x10ff96(0x2a0)]?.[_0x10ff96(0x7c8)]){if(_0x5be152[_0x10ff96(0x3b7)]){let _0x1074ed=_0x5be152[_0x10ff96(0x3b7)];this[_0x10ff96(0x65a)][_0x10ff96(0x3b7)](_0x1074ed);}if(_0x5be152[_0x10ff96(0x156)]){let _0x2b206d=_0x5be152[_0x10ff96(0x156)];this[_0x10ff96(0x65a)]['groups.update'](_0x2b206d);}if(_0x5be152['group-participants.update']){let _0x101e59=_0x5be152[_0x10ff96(0x231)];this[_0x10ff96(0x65a)][_0x10ff96(0x231)](_0x101e59);}}if(_0x5be152[_0x10ff96(0x158)]){let _0x542ffe=_0x5be152[_0x10ff96(0x158)];this[_0x10ff96(0x4b2)][_0x10ff96(0x158)](_0x542ffe,_0x3df543);}if(_0x5be152[_0x10ff96(0x4a0)]){let _0x9c4195=_0x5be152['chats.update'];this[_0x10ff96(0x4b2)][_0x10ff96(0x4a0)](_0x9c4195,_0x3df543);}if(_0x5be152[_0x10ff96(0x400)]){let _0x581c93=_0x5be152[_0x10ff96(0x400)];this['chatHandle'][_0x10ff96(0x400)](_0x581c93);}if(_0x5be152[_0x10ff96(0x481)]){let _0xc392b4=_0x5be152[_0x10ff96(0x481)];this[_0x10ff96(0x502)][_0x10ff96(0x481)](_0xc392b4,_0x3df543);}if(_0x5be152[_0x10ff96(0x673)]){let _0x108a42=_0x5be152['contacts.update'];this[_0x10ff96(0x502)][_0x10ff96(0x673)](_0x108a42,_0x3df543);}}});}[a0_0x3c6a8b(0x175)](_0xf1b14e){return new Promise(_0x41435e=>setTimeout(_0x41435e,_0xf1b14e));}[a0_0x3c6a8b(0x731)](_0x18f21b){const _0x8dde5=a0_0x3c6a8b;let _0x27c126=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x8dde5(0x5ab)](_0x18f21b);if(_0x27c126&&_0x27c126[0x1]==='55'){let _0x1d7ae3=_0x27c126[0x2],_0x32be11=_0x27c126[0x3],_0x4f8892=_0x27c126[0x4];if(_0x1d7ae3>='31'&&_0x32be11==='9')return _0x27c126[0x1]+_0x1d7ae3+_0x4f8892;}return _0x18f21b;}[a0_0x3c6a8b(0x4ca)](_0xf97e70){const _0x218f47=a0_0x3c6a8b;return _0xf97e70[_0x218f47(0x612)](_0x218f47(0x3a3))||_0xf97e70[_0x218f47(0x612)]('@s.whatsapp.net')||_0xf97e70[_0x218f47(0x612)](_0x218f47(0x289))?_0xf97e70:(_0xf97e70=_0xf97e70?.['replace'](/\s/g,'')[_0x218f47(0x5bd)](/\+/g,'')[_0x218f47(0x5bd)](/\(/g,'')[_0x218f47(0x5bd)](/\)/g,'')[_0x218f47(0x176)](/\:/)[0x0][_0x218f47(0x176)]('@')[0x0],_0xf97e70[_0x218f47(0x3ca)]>=0x12?(_0xf97e70=_0xf97e70[_0x218f47(0x5bd)](/[^\d-]/g,''),_0xf97e70+_0x218f47(0x3a3)):(_0xf97e70=_0xf97e70[_0x218f47(0x5bd)](/\D/g,''),_0xf97e70+_0x218f47(0x121)));}async[a0_0x3c6a8b(0x29a)](_0x527fb4){const _0x4b588e=a0_0x3c6a8b;let _0x466995=this[_0x4b588e(0x4ca)](_0x527fb4[_0x4b588e(0x47d)]),_0x40ad7d=(await this[_0x4b588e(0x207)]({'numbers':[_0x466995]}))[0x0];if(!_0x40ad7d[_0x4b588e(0x6cf)]&&!(0x0,m[_0x4b588e(0x5c6)])(_0x40ad7d[_0x4b588e(0x3a9)]))throw new w(_0x40ad7d);let _0x339c5a=(0x0,m['isJidGroup'])(_0x466995)?_0x466995:_0x40ad7d['jid'];if((0x0,m[_0x4b588e(0x5c6)])(_0x339c5a))try{await this[_0x4b588e(0x5b7)][_0x4b588e(0x49b)](_0x339c5a);}catch{throw new L(_0x4b588e(0x776));}try{return await this['client'][_0x4b588e(0x676)](_0x339c5a),await this['client'][_0x4b588e(0x59e)](_0x527fb4[_0x4b588e(0x1e3)],_0x466995),{'status':0xc8,'presence':_0x527fb4[_0x4b588e(0x1e3)]};}catch(_0x5eb0c5){throw new w(_0x5eb0c5[_0x4b588e(0x341)]());}}async['findAndUpdateCacheContact'](_0x7741e5,_0x4ef433,_0x53fdf9){const _0x27d038=a0_0x3c6a8b;let _0x5e7631=await this['repository']['cacheContact'][_0x27d038(0x23a)]({'where':{'_id':_0x7741e5}}),_0x837315={'lastUpdate':Date[_0x27d038(0x30f)]()};if(_0x53fdf9||!_0x5e7631?.[_0x27d038(0x459)]||Date['now']()-_0x5e7631[_0x27d038(0x459)]>0x18*0x3c*0x3c*0x3e8)try{let _0x337628=(await this[_0x27d038(0x485)](_0x7741e5))[_0x27d038(0x212)];_0x837315['pictureUrl']=_0x337628;}catch(_0x36a8fc){console['error'](_0x27d038(0x646),_0x36a8fc);}return _0x4ef433&&_0x5e7631?.['name']!==_0x4ef433&&(_0x837315[_0x27d038(0x4e1)]=_0x4ef433),Object[_0x27d038(0x4c8)](_0x837315)['length']>0x1&&(_0x5e7631?await this[_0x27d038(0x600)][_0x27d038(0x51e)][_0x27d038(0x5be)]({'where':{'_id':_0x7741e5}},_0x837315):await this['repository'][_0x27d038(0x51e)][_0x27d038(0x2c8)]([{'_id':_0x7741e5,..._0x837315}]),_0x5e7631={..._0x5e7631,..._0x837315}),{'cachedContact':_0x5e7631};}async[a0_0x3c6a8b(0x485)](_0x49afa6){const _0x581a29=a0_0x3c6a8b;let _0x494b79=this[_0x581a29(0x4ca)](_0x49afa6);try{return{'wuid':_0x494b79,'profilePictureUrl':await this[_0x581a29(0x5b7)][_0x581a29(0x212)](_0x494b79,_0x581a29(0x11c))};}catch{return{'wuid':_0x494b79,'profilePictureUrl':null};}}async[a0_0x3c6a8b(0x6fc)](_0x3f4863,_0x3c3580,_0x24e2fa){const _0x18b02c=a0_0x3c6a8b;_0x24e2fa||(_0x24e2fa={});let _0x267055=(await this[_0x18b02c(0x207)]({'numbers':[_0x3f4863]}))[0x0];if(!_0x267055['exists']&&!(0x0,m[_0x18b02c(0x5c6)])(_0x267055[_0x18b02c(0x3a9)])&&!_0x267055[_0x18b02c(0x3a9)][_0x18b02c(0x612)](_0x18b02c(0x289)))throw new w(_0x267055);let _0x4b0af1=_0x267055[_0x18b02c(0x3a9)];try{if(_0x24e2fa?.[_0x18b02c(0x287)]){await this[_0x18b02c(0x5b7)][_0x18b02c(0x676)](_0x4b0af1),await this[_0x18b02c(0x5b7)][_0x18b02c(0x59e)](_0x24e2fa?.[_0x18b02c(0x1e3)]??_0x18b02c(0x3f2),_0x4b0af1);let _0x4b9ec0=Math[_0x18b02c(0x4f9)](_0x24e2fa[_0x18b02c(0x287)],0x2710);await(0x0,m[_0x18b02c(0x287)])(_0x4b9ec0),await this[_0x18b02c(0x5b7)][_0x18b02c(0x59e)](_0x18b02c(0x439),_0x4b0af1);}let _0x2f513e=_0x24e2fa?.[_0x18b02c(0x6a7)]!=!0x1?void 0x0:!0x1,_0x2f94e9;if(_0x24e2fa?.[_0x18b02c(0x636)]){let _0x109633=_0x24e2fa?.[_0x18b02c(0x636)],_0x3a42c6=_0x109633?.[_0x18b02c(0x78c)]?_0x109633:await this[_0x18b02c(0x5b2)](_0x109633[_0x18b02c(0x1c5)],!0x0);if(!_0x3a42c6)throw _0x18b02c(0x493);_0x2f94e9=_0x3a42c6;}let _0x458ce2;if((0x0,m[_0x18b02c(0x5c6)])(_0x4b0af1))try{let _0x580668=await this[_0x18b02c(0x5b7)][_0x18b02c(0x49b)](_0x4b0af1);if(!_0x580668)throw new L(_0x18b02c(0x776));_0x24e2fa?.['mentions']&&(_0x24e2fa[_0x18b02c(0x7b2)]?.['everyOne']?_0x458ce2=_0x580668[_0x18b02c(0x52a)]['map'](_0x39e42a=>_0x39e42a['id']):_0x24e2fa[_0x18b02c(0x7b2)]?.[_0x18b02c(0x28d)]?.[_0x18b02c(0x3ca)]&&(_0x458ce2=_0x24e2fa['mentions'][_0x18b02c(0x28d)][_0x18b02c(0x177)](_0x386659=>{const _0x4046a9=_0x18b02c;let _0x55fba3=this[_0x4046a9(0x4ca)](_0x386659);return(0x0,m[_0x4046a9(0x5c6)])(_0x55fba3)?null:_0x55fba3;})));}catch{throw new L(_0x18b02c(0x776));}let _0x186fb2=await((async()=>{const _0x29b426=_0x18b02c;let _0x4cd486={'quoted':_0x2f94e9};if(!_0x3c3580[_0x29b426(0x4f7)]&&!_0x3c3580[_0x29b426(0x565)]&&!_0x3c3580[_0x29b426(0x557)]&&!_0x3c3580[_0x29b426(0x255)]&&_0x4b0af1!==_0x29b426(0x34d)&&!_0x3c3580[_0x29b426(0x4f7)])return await this[_0x29b426(0x5b7)][_0x29b426(0x4be)](_0x4b0af1,{'forward':{'key':{'remoteJid':this[_0x29b426(0x172)][_0x29b426(0x22f)],'fromMe':!0x0},'message':_0x3c3580},'mentions':_0x458ce2},_0x4cd486);if(_0x3c3580['reactionMessage'])return await this[_0x29b426(0x5b7)][_0x29b426(0x4be)](_0x4b0af1,{'react':{'text':_0x3c3580['reactionMessage']['text'],'key':_0x3c3580[_0x29b426(0x52c)][_0x29b426(0x1c5)]}},_0x4cd486);if(_0x3c3580[_0x29b426(0x255)]){let _0x5f3688=_0x3c3580[_0x29b426(0x255)];return _0x24e2fa?.[_0x29b426(0x494)]&&(_0x5f3688=await this[_0x29b426(0x23b)](_0x5f3688,_0x4b0af1)),await this[_0x29b426(0x5b7)]['sendMessage'](_0x4b0af1,{'text':_0x5f3688,'mentions':_0x458ce2,'linkPreview':_0x2f513e},_0x4cd486);}return _0x4b0af1===_0x29b426(0x34d)?await this[_0x29b426(0x5b7)]['sendMessage'](_0x4b0af1,_0x3c3580['status'][_0x29b426(0x4ff)],{'backgroundColor':_0x3c3580[_0x29b426(0x6e3)][_0x29b426(0x53c)][_0x29b426(0x3c0)],'font':_0x3c3580[_0x29b426(0x6e3)][_0x29b426(0x53c)][_0x29b426(0x75b)],'statusJidList':_0x3c3580[_0x29b426(0x6e3)][_0x29b426(0x53c)][_0x29b426(0x587)]}):await this['client'][_0x29b426(0x4be)](_0x4b0af1,_0x3c3580,_0x4cd486);})()),_0x4a4c91=(0x0,m[_0x18b02c(0x658)])(_0x186fb2[_0x18b02c(0x78c)]),_0x209be9=(0x0,m[_0x18b02c(0x13d)])(_0x4a4c91),{message_normalized:_0x24c2c9}=this['normalizeMessage'](_0x4a4c91,_0x209be9,null),_0x4d7565={'_id':_0x186fb2[_0x18b02c(0x1c5)]['id'],'key':_0x186fb2[_0x18b02c(0x1c5)],'pushName':_0x186fb2[_0x18b02c(0x4c7)],'isGroup':_0x186fb2['key'][_0x18b02c(0x248)][_0x18b02c(0x625)](_0x18b02c(0x3a3)),'profilePictureUrl':this[_0x18b02c(0x172)][_0x18b02c(0x212)],'message':_0x4a4c91,'messageType':_0x209be9,'message_normalized':{'key':_0x186fb2[_0x18b02c(0x1c5)],'pushName':_0x186fb2['pushName'],'messageTimestamp':_0x186fb2['messageTimestamp']&&_0x186fb2[_0x18b02c(0x3de)][_0x18b02c(0x341)]()[_0x18b02c(0x3ca)]<0xd?_0x186fb2[_0x18b02c(0x3de)]*0x3e8:_0x186fb2[_0x18b02c(0x3de)]||null,'source':(0x0,m['getDevice'])(_0x186fb2[_0x18b02c(0x1c5)]['id']),..._0x24c2c9},'messageTimestamp':_0x186fb2['messageTimestamp']&&_0x186fb2[_0x18b02c(0x3de)][_0x18b02c(0x341)]()[_0x18b02c(0x3ca)]<0xd?_0x186fb2[_0x18b02c(0x3de)]*0x3e8:_0x186fb2['messageTimestamp']||null,'owner':this[_0x18b02c(0x172)]['wuid'],'source':(0x0,m[_0x18b02c(0x338)])(_0x186fb2[_0x18b02c(0x1c5)]['id'])};return this['logger'][_0x18b02c(0x22b)](this['instanceName']+'\x20('+this['instance'][_0x18b02c(0x22f)]+_0x18b02c(0x387)+_0x4d7565[_0x18b02c(0x1c5)]?.['remoteJid']['replace']('@s.whatsapp.net','')+_0x18b02c(0x2e1)+_0x4d7565[_0x18b02c(0x237)]+')'),_0x4d7565[_0x18b02c(0x1b2)]?.['text']&&this[_0x18b02c(0x784)][_0x18b02c(0x22b)](_0x4d7565[_0x18b02c(0x1b2)]?.[_0x18b02c(0x503)]),this[_0x18b02c(0x4bc)](_0x18b02c(0x717),_0x4d7565),q(this[_0x18b02c(0x38c)],'messages',{'message':_0x4d7565}),this['updateChatWithMessage'](this[_0x18b02c(0x305)][_0x18b02c(0x37f)](_0x18b02c(0x570)),_0x4d7565,_0x18b02c(0x721)),await this[_0x18b02c(0x600)][_0x18b02c(0x78c)][_0x18b02c(0x2c8)]([_0x4d7565],this[_0x18b02c(0x172)][_0x18b02c(0x22f)]),_0x186fb2;}catch(_0x4c62f8){throw this[_0x18b02c(0x784)][_0x18b02c(0x426)](this['instanceName']+'\x20('+this[_0x18b02c(0x172)][_0x18b02c(0x22f)]+_0x18b02c(0x5ff)+_0x4c62f8['toString']()),new w(_0x4c62f8[_0x18b02c(0x341)]());}}get[a0_0x3c6a8b(0x3e1)](){const _0x25dc8c=a0_0x3c6a8b;return this[_0x25dc8c(0x43b)];}async['textMessage'](_0x2c2455){const _0x1c0eac=a0_0x3c6a8b;let _0x27a820=vr,_0x11f3b6=Ze;return _0x11f3b6&&this[_0x1c0eac(0x38c)]['toLowerCase']()['includes'](_0x11f3b6[_0x1c0eac(0x44f)]())&&(_0x2c2455[_0x1c0eac(0x15a)]['text']+='\x0a\x0a'+_0x27a820),await this[_0x1c0eac(0x6fc)](_0x2c2455[_0x1c0eac(0x47d)],{'conversation':_0x2c2455[_0x1c0eac(0x15a)]['text']},_0x2c2455?.[_0x1c0eac(0x3af)]);}async[a0_0x3c6a8b(0x6dd)](_0x3dd140){const _0x2031b5=a0_0x3c6a8b;if(!_0x3dd140[_0x2031b5(0x2fb)])throw new w(_0x2031b5(0x445));if(!_0x3dd140[_0x2031b5(0x4ff)])throw new w(_0x2031b5(0x148));if(_0x3dd140[_0x2031b5(0x4a2)]){let _0x4d0738=await this['repository'][_0x2031b5(0x585)][_0x2031b5(0x217)]({'where':{}},this[_0x2031b5(0x172)]['wuid']);if(!_0x4d0738['length'])throw new w(_0x2031b5(0x4a4));_0x3dd140[_0x2031b5(0x587)]=_0x4d0738[_0x2031b5(0x75f)](_0x194ff0=>_0x194ff0[_0x2031b5(0x4c7)])[_0x2031b5(0x177)](_0x1b9bbb=>_0x1b9bbb[_0x2031b5(0x54e)]);}if(!_0x3dd140[_0x2031b5(0x587)]?.[_0x2031b5(0x3ca)]&&!_0x3dd140['allContacts'])throw new w(_0x2031b5(0x6eb));if(_0x3dd140[_0x2031b5(0x2fb)]===_0x2031b5(0x503)){if(!_0x3dd140[_0x2031b5(0x3c0)])throw new w(_0x2031b5(0x569));if(!_0x3dd140[_0x2031b5(0x75b)])throw new w(_0x2031b5(0x728));return{'content':{'text':_0x3dd140['content']},'option':{'backgroundColor':_0x3dd140['backgroundColor'],'font':_0x3dd140[_0x2031b5(0x75b)],'statusJidList':_0x3dd140[_0x2031b5(0x587)]}};}if(_0x3dd140['type']==='image')return{'content':{'image':{'url':_0x3dd140[_0x2031b5(0x4ff)]},'caption':_0x3dd140[_0x2031b5(0x540)]},'option':{'statusJidList':_0x3dd140[_0x2031b5(0x587)]}};if(_0x3dd140['type']===_0x2031b5(0x2ca))return{'content':{'video':{'url':_0x3dd140[_0x2031b5(0x4ff)]},'caption':_0x3dd140[_0x2031b5(0x540)]},'option':{'statusJidList':_0x3dd140[_0x2031b5(0x587)]}};if(_0x3dd140[_0x2031b5(0x2fb)]==='audio'){this[_0x2031b5(0x784)][_0x2031b5(0x1a2)]('Type\x20defined\x20as\x20audio'),this['logger'][_0x2031b5(0x1a2)](_0x2031b5(0x51b));let _0x5ee197=await this[_0x2031b5(0x69e)](_0x3dd140['content']);if(typeof _0x5ee197=='string'){this[_0x2031b5(0x784)][_0x2031b5(0x1a2)](_0x2031b5(0x2b0));let _0x4a1e99=F[_0x2031b5(0x3c2)](_0x5ee197)[_0x2031b5(0x341)](_0x2031b5(0x296));return{'content':{'audio':Buffer[_0x2031b5(0x223)](_0x4a1e99,_0x2031b5(0x296)),'ptt':!0x0,'mimetype':_0x2031b5(0x210)},'option':{'statusJidList':_0x3dd140['statusJidList']}};}else throw new x(_0x5ee197);}throw new w('Type\x20not\x20found');}async[a0_0x3c6a8b(0x1fa)](_0x3f1a14){const _0x24f72d=a0_0x3c6a8b;return await this[_0x24f72d(0x6fc)](_0x24f72d(0x34d),{'status':await this[_0x24f72d(0x6dd)](_0x3f1a14[_0x24f72d(0x1fa)])});}async[a0_0x3c6a8b(0x6ba)](_0x41e90a){const _0x24b91f=a0_0x3c6a8b;try{let _0x4b3237=await(0x0,m['prepareWAMessageMedia'])({[_0x41e90a[_0x24b91f(0x7b6)]]:(0x0,P[_0x24b91f(0x3e6)])(_0x41e90a['media'])?{'url':_0x41e90a[_0x24b91f(0x3d3)]}:Buffer[_0x24b91f(0x223)](_0x41e90a[_0x24b91f(0x3d3)],_0x24b91f(0x296))},{'upload':this[_0x24b91f(0x5b7)][_0x24b91f(0x1c6)]}),_0x339cee=_0x41e90a[_0x24b91f(0x7b6)]+_0x24b91f(0x60d);if(_0x41e90a[_0x24b91f(0x7b6)]===_0x24b91f(0x4cc)&&!_0x41e90a[_0x24b91f(0x155)]){let _0x47128f=new RegExp(/.*\/(.+?)\./)[_0x24b91f(0x5ab)](_0x41e90a['media']);_0x41e90a[_0x24b91f(0x155)]=_0x47128f?_0x47128f[0x1]:null;}let _0x5ec2bd=(0x0,P[_0x24b91f(0x3e6)])(_0x41e90a[_0x24b91f(0x3d3)])?_0x41e90a[_0x24b91f(0x3d3)][_0x24b91f(0x176)]('?')[0x0]:_0x41e90a[_0x24b91f(0x3d3)];this[_0x24b91f(0x784)][_0x24b91f(0x1a2)]('URL\x20limpa:\x20'+_0x5ec2bd);let _0x36318b;(0x0,P[_0x24b91f(0x3e6)])(_0x41e90a[_0x24b91f(0x3d3)])?_0x36318b=(0x0,$t[_0x24b91f(0x706)])(_0x5ec2bd):_0x41e90a[_0x24b91f(0x155)]&&_0x41e90a[_0x24b91f(0x155)][_0x24b91f(0x612)]('.')?_0x36318b=(0x0,$t[_0x24b91f(0x706)])(_0x41e90a['fileName']):_0x36318b=(0x0,$t[_0x24b91f(0x706)])(_0x41e90a[_0x24b91f(0x3d3)]);let _0x286782=vr,_0x536ec2=Ze;return _0x536ec2&&this[_0x24b91f(0x38c)]['toLowerCase']()[_0x24b91f(0x612)](_0x536ec2[_0x24b91f(0x44f)]())&&(_0x41e90a['caption']+='\x0a\x0a'+_0x286782),_0x4b3237[_0x339cee][_0x24b91f(0x540)]=_0x41e90a?.[_0x24b91f(0x540)],_0x4b3237[_0x339cee]['mimetype']=_0x36318b,_0x4b3237[_0x339cee][_0x24b91f(0x155)]=_0x41e90a[_0x24b91f(0x155)],_0x41e90a[_0x24b91f(0x7b6)]===_0x24b91f(0x2ca)&&(_0x4b3237[_0x339cee]['jpegThumbnail']=Uint8Array['from']((0x0,Te['readFileSync'])((0x0,J[_0x24b91f(0x4a6)])(process['cwd'](),_0x24b91f(0x26e)))),_0x4b3237[_0x339cee][_0x24b91f(0x1a7)]=!0x1),(0x0,m[_0x24b91f(0x65b)])('',{[_0x339cee]:{..._0x4b3237[_0x339cee]}},{'userJid':this[_0x24b91f(0x172)][_0x24b91f(0x22f)]});}catch(_0x5673c2){throw this[_0x24b91f(0x784)][_0x24b91f(0x426)](this[_0x24b91f(0x38c)]+'\x20('+this[_0x24b91f(0x172)][_0x24b91f(0x22f)]+_0x24b91f(0x5ff)+(_0x5673c2 instanceof Error?_0x5673c2[_0x24b91f(0x78c)]:JSON[_0x24b91f(0x6ab)](_0x5673c2,null,0x2))),new x(_0x5673c2?.['toString']()||_0x5673c2);}}async['mediaMessage'](_0x45416a){const _0x4482a5=a0_0x3c6a8b;let _0x3e4ad9=await this['prepareMediaMessage'](_0x45416a[_0x4482a5(0x16b)]);return await this['sendMessageWithTyping'](_0x45416a[_0x4482a5(0x47d)],{..._0x3e4ad9[_0x4482a5(0x78c)]},_0x45416a?.[_0x4482a5(0x3af)]);}async['convertToWebP'](_0x24f6d3,_0x5a84d4){const _0x3091c3=a0_0x3c6a8b;try{this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x548));let _0x5cb2cf,_0x436c23=_0x5a84d4+'-'+new Date()[_0x3091c3(0x722)]();this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x1ec)+_0x436c23);let _0x390f02=''+(0x0,J[_0x3091c3(0x4a6)])(this[_0x3091c3(0x3d6)],_0x436c23+_0x3091c3(0x6b1));if(this[_0x3091c3(0x784)][_0x3091c3(0x1a2)]('Output\x20path:\x20'+_0x390f02),(0x0,P['isBase64'])(_0x24f6d3)){this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x614));let _0x5efd68=_0x24f6d3[_0x3091c3(0x5bd)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1ae7e2=Buffer[_0x3091c3(0x223)](_0x5efd68,_0x3091c3(0x296));_0x5cb2cf=''+(0x0,J[_0x3091c3(0x4a6)])(this[_0x3091c3(0x3d6)],'temp-'+_0x436c23+_0x3091c3(0x40b)),this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x60f)+_0x5cb2cf),await(0x0,kt['default'])(_0x1ae7e2)['toFile'](_0x5cb2cf),this[_0x3091c3(0x784)]['verbose']('Image\x20created');}else{this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x4ef));let _0x33a6c0=new Date()[_0x3091c3(0x722)](),_0x3a05db=_0x24f6d3+_0x3091c3(0x442)+_0x33a6c0;this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x58a)+_0x3a05db);let _0x2dd1e0=await Z[_0x3091c3(0x4f5)]['get'](_0x3a05db,{'responseType':_0x3091c3(0x7b5)});this[_0x3091c3(0x784)]['verbose'](_0x3091c3(0x765));let _0x25fdd0=Buffer[_0x3091c3(0x223)](_0x2dd1e0[_0x3091c3(0x2ea)],_0x3091c3(0x2ad));_0x5cb2cf=''+(0x0,J['join'])(this[_0x3091c3(0x3d6)],_0x3091c3(0x613)+_0x436c23+_0x3091c3(0x40b)),this['logger'][_0x3091c3(0x1a2)](_0x3091c3(0x60f)+_0x5cb2cf),await(0x0,kt[_0x3091c3(0x4f5)])(_0x25fdd0)[_0x3091c3(0x431)](_0x5cb2cf),this['logger'][_0x3091c3(0x1a2)](_0x3091c3(0x7bb));}return await(0x0,kt['default'])(_0x5cb2cf)[_0x3091c3(0x5d4)]()['toFile'](_0x390f02),this['logger'][_0x3091c3(0x1a2)](_0x3091c3(0x66c)),F[_0x3091c3(0x513)](_0x5cb2cf),this[_0x3091c3(0x784)][_0x3091c3(0x1a2)](_0x3091c3(0x3bb)),_0x390f02;}catch(_0x418c28){console['error'](_0x3091c3(0x36f),_0x418c28 instanceof Error?_0x418c28['message']:JSON[_0x3091c3(0x6ab)](_0x418c28,null,0x2));}}async['mediaSticker'](_0x1b08d6){const _0x21b88f=a0_0x3c6a8b;let _0x7c6197=await this[_0x21b88f(0x525)](_0x1b08d6[_0x21b88f(0x78e)][_0x21b88f(0x11c)],_0x1b08d6[_0x21b88f(0x47d)]),_0x45e0e0=await this[_0x21b88f(0x6fc)](_0x1b08d6[_0x21b88f(0x47d)],{'sticker':{'url':_0x7c6197}},_0x1b08d6?.[_0x21b88f(0x3af)]);return F['unlinkSync'](_0x7c6197),this[_0x21b88f(0x784)]['verbose'](_0x21b88f(0x422)),_0x45e0e0;}async[a0_0x3c6a8b(0x12e)](_0x236be1){const _0x55feee=a0_0x3c6a8b;if(this[_0x55feee(0x784)][_0x55feee(0x1a2)](_0x55feee(0x737)),!_0x236be1[_0x55feee(0x3af)]?.[_0x55feee(0x76e)]&&_0x236be1[_0x55feee(0x3af)]?.[_0x55feee(0x76e)]!==!0x1&&(_0x236be1[_0x55feee(0x3af)][_0x55feee(0x76e)]=!0x0),_0x236be1[_0x55feee(0x3af)]?.[_0x55feee(0x76e)]){let _0x1a536e=await this[_0x55feee(0x69e)](_0x236be1[_0x55feee(0x41a)][_0x55feee(0x4f7)]);if(typeof _0x1a536e=='string'){let _0x118838=F['readFileSync'](_0x1a536e)[_0x55feee(0x341)](_0x55feee(0x296));return this[_0x55feee(0x6fc)](_0x236be1[_0x55feee(0x47d)],{'audio':Buffer[_0x55feee(0x223)](_0x118838,_0x55feee(0x296)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x236be1?.[_0x55feee(0x3af)]?.['delay']});}else throw new x(_0x1a536e);}return await this[_0x55feee(0x6fc)](_0x236be1[_0x55feee(0x47d)],{'audio':(0x0,P['isURL'])(_0x236be1[_0x55feee(0x41a)][_0x55feee(0x4f7)])?{'url':_0x236be1[_0x55feee(0x41a)][_0x55feee(0x4f7)]}:Buffer['from'](_0x236be1['audioMessage']['audio'],_0x55feee(0x296)),'ptt':!0x0,'mimetype':_0x55feee(0x2c7)},{'presence':'recording','delay':_0x236be1?.[_0x55feee(0x3af)]?.[_0x55feee(0x287)]});}async[a0_0x3c6a8b(0x69e)](_0x3cba35){const _0x3cd644=a0_0x3c6a8b;this[_0x3cd644(0x784)]['verbose'](_0x3cd644(0x51b));let _0x29e483=(0x0,P[_0x3cd644(0x3e6)])(_0x3cba35)?(0x0,Is[_0x3cd644(0x4fd)])('sha256')[_0x3cd644(0x5be)](_0x3cba35)['digest'](_0x3cd644(0x126)):(0x0,Is[_0x3cd644(0x4fd)])(_0x3cd644(0x2d9))['update'](_0x3cba35)['digest'](_0x3cd644(0x126)),_0x300de3=''+(0x0,J[_0x3cd644(0x4a6)])(this[_0x3cd644(0x3d6)],_0x29e483+_0x3cd644(0x3f4));if(F[_0x3cd644(0x454)](_0x300de3))return this['logger'][_0x3cd644(0x1a2)](_0x3cd644(0x7c1)),_0x300de3;let _0x43d064=''+(0x0,J[_0x3cd644(0x4a6)])(this[_0x3cd644(0x3d6)],'temp-'+(0x0,Re['v4'])()+_0x3cd644(0x709));if((0x0,P['isURL'])(_0x3cba35)){let _0x39ee4a=new Date()[_0x3cd644(0x722)](),_0x2e3f9c=_0x3cba35+'?timestamp='+_0x39ee4a,_0x451174=await Z['default']['get'](_0x2e3f9c,{'responseType':_0x3cd644(0x7b5)});F[_0x3cd644(0x7b8)](_0x43d064,_0x451174[_0x3cd644(0x2ea)]);}else{let _0x82b98a=Buffer['from'](_0x3cba35,_0x3cd644(0x296));F[_0x3cd644(0x7b8)](_0x43d064,_0x82b98a);}return new Promise((_0x7c554e,_0xd96e3b)=>{const _0x27ac6=_0x3cd644;(0x0,jt['exec'])(Rr[_0x27ac6(0x4f5)][_0x27ac6(0x1fd)]+_0x27ac6(0x42f)+_0x43d064+_0x27ac6(0x655)+_0x300de3+_0x27ac6(0x3cc),_0x3e00df=>{const _0x95c868=_0x27ac6;if(F[_0x95c868(0x513)](_0x43d064),_0x3e00df){this[_0x95c868(0x784)]['verbose']('Error\x20in\x20converting\x20audio'),_0xd96e3b(_0x3e00df);return;}this[_0x95c868(0x784)][_0x95c868(0x1a2)](_0x95c868(0x571)),_0x7c554e(_0x300de3);});});}async[a0_0x3c6a8b(0x2d1)](_0x518bda){const _0x57ba5d=a0_0x3c6a8b;let _0x220a25={},_0x1be9cc=_0x57ba5d(0x1c0);if(_0x518bda['buttonMessage']?.[_0x57ba5d(0x16b)]){_0x1be9cc=_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x16b)]?.[_0x57ba5d(0x7b6)][_0x57ba5d(0x21a)]()??_0x57ba5d(0x1c0),_0x220a25[_0x57ba5d(0x2a1)]=_0x1be9cc[_0x57ba5d(0x44f)]()+_0x57ba5d(0x60d);let _0x1649f=await this[_0x57ba5d(0x6ba)](_0x518bda[_0x57ba5d(0x2d1)]['mediaMessage']);_0x220a25[_0x57ba5d(0x78c)]=_0x1649f[_0x57ba5d(0x78c)][_0x220a25[_0x57ba5d(0x2a1)]],_0x220a25[_0x57ba5d(0x3f1)]='*'+_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x458)]+'*\x0a\x0a'+_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x7b1)];}let _0x3979ba={'text':_0x518bda['buttonMessage'][_0x57ba5d(0x6e6)][_0x57ba5d(0x177)](_0x1cb8ad=>_0x1cb8ad[_0x57ba5d(0x6b3)]),'ids':_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x6e6)][_0x57ba5d(0x177)](_0x51478b=>_0x51478b[_0x57ba5d(0x12c)])};if(!(0x0,P['arrayUnique'])(_0x3979ba['text'])||!(0x0,P[_0x57ba5d(0x45e)])(_0x3979ba[_0x57ba5d(0x6a8)]))throw new w('Button\x20texts\x20cannot\x20be\x20repeated',_0x57ba5d(0x49e));return await this[_0x57ba5d(0x6fc)](_0x518bda[_0x57ba5d(0x47d)],{'buttonsMessage':{'text':_0x220a25?.[_0x57ba5d(0x2a1)]?void 0x0:_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x458)],'contentText':_0x220a25?.['contentText']??_0x518bda[_0x57ba5d(0x2d1)][_0x57ba5d(0x7b1)],'footerText':_0x518bda['buttonMessage']?.['footerText'],'buttons':_0x518bda[_0x57ba5d(0x2d1)]['buttons'][_0x57ba5d(0x177)](_0x25de32=>({'buttonText':{'displayText':_0x25de32['buttonText']},'buttonId':_0x25de32[_0x57ba5d(0x12c)],'type':0x1})),'headerType':m[_0x57ba5d(0x79b)][_0x57ba5d(0x60d)][_0x57ba5d(0x35e)][_0x57ba5d(0x3ee)][_0x1be9cc],[_0x220a25?.[_0x57ba5d(0x2a1)]]:_0x220a25?.[_0x57ba5d(0x78c)]}},_0x518bda?.[_0x57ba5d(0x3af)]);}async['locationMessage'](_0x2287e7){const _0x6c6b31=a0_0x3c6a8b;return await this['sendMessageWithTyping'](_0x2287e7[_0x6c6b31(0x47d)],{'locationMessage':{'degreesLatitude':_0x2287e7[_0x6c6b31(0x306)][_0x6c6b31(0x54f)],'degreesLongitude':_0x2287e7[_0x6c6b31(0x306)][_0x6c6b31(0x766)],'name':_0x2287e7['locationMessage']?.[_0x6c6b31(0x4e1)],'address':_0x2287e7[_0x6c6b31(0x306)]?.[_0x6c6b31(0x777)]}},_0x2287e7?.[_0x6c6b31(0x3af)]);}async[a0_0x3c6a8b(0x30b)](_0x8a8616){const _0x53f669=a0_0x3c6a8b;let _0xa52497={},_0x845687=_0xe25edb=>{const _0xe3d0b1=a0_0xccf1;let _0x48a8e2=_0xe3d0b1(0x30c)+_0xe25edb['fullName']+_0xe3d0b1(0x3fc)+_0xe25edb[_0xe3d0b1(0x1e4)]+'\x0a';_0xe25edb[_0xe3d0b1(0x7c0)]&&(_0x48a8e2+='ORG:'+_0xe25edb[_0xe3d0b1(0x7c0)]+';\x0a'),_0xe25edb[_0xe3d0b1(0x257)]&&(_0x48a8e2+='EMAIL:'+_0xe25edb[_0xe3d0b1(0x257)]+'\x0a'),_0xe25edb[_0xe3d0b1(0x415)]&&(_0x48a8e2+=_0xe3d0b1(0x4fe)+_0xe25edb[_0xe3d0b1(0x415)]+'\x0a');let _0x3a1b4a='';return _0xe25edb[_0xe3d0b1(0x1f0)]&&_0xe25edb[_0xe3d0b1(0x1f0)][_0xe3d0b1(0x176)]('|')[_0xe3d0b1(0x471)]((_0x7a141d,_0xe97f03)=>{const _0x6c5a22=_0xe3d0b1;let _0x17a660=this[_0x6c5a22(0x4ca)](_0x7a141d)[_0x6c5a22(0x5bd)](_0x6c5a22(0x121),'');_0x3a1b4a+=_0x6c5a22(0x14b)+(_0xe97f03+0x1)+_0x6c5a22(0x19b)+_0x17a660+':'+_0x7a141d+_0x6c5a22(0x319)+(_0xe97f03+0x1)+_0x6c5a22(0x782);}),_0x48a8e2+=_0x3a1b4a+'END:VCARD',_0x48a8e2;};return _0x8a8616[_0x53f669(0x30b)][_0x53f669(0x3ca)]===0x1?_0xa52497[_0x53f669(0x30b)]={'displayName':_0x8a8616[_0x53f669(0x30b)][0x0][_0x53f669(0x1e4)],'vcard':_0x845687(_0x8a8616[_0x53f669(0x30b)][0x0])}:_0xa52497[_0x53f669(0x640)]={'displayName':_0x8a8616[_0x53f669(0x30b)][_0x53f669(0x3ca)]+_0x53f669(0x6b7),'contacts':_0x8a8616[_0x53f669(0x30b)]['map'](_0x468557=>({'displayName':_0x468557[_0x53f669(0x1e4)],'vcard':_0x845687(_0x468557)}))},await this[_0x53f669(0x6fc)](_0x8a8616[_0x53f669(0x47d)],{..._0xa52497},_0x8a8616?.['options']);}async[a0_0x3c6a8b(0x52c)](_0x342cc1){const _0x22fa18=a0_0x3c6a8b;return await this[_0x22fa18(0x6fc)](_0x342cc1[_0x22fa18(0x52c)][_0x22fa18(0x1c5)][_0x22fa18(0x248)],{'reactionMessage':{'key':_0x342cc1[_0x22fa18(0x52c)][_0x22fa18(0x1c5)],'text':_0x342cc1[_0x22fa18(0x52c)][_0x22fa18(0x6b5)]}});}async[a0_0x3c6a8b(0x207)](_0x4a7825){const _0x5b51a9=a0_0x3c6a8b;let _0x71a956=[];for await(let _0xda6d66 of _0x4a7825['numbers']){let _0x45fdc9=this['createJid'](_0xda6d66),_0x5cf50f=!0x1;try{if((0x0,m[_0x5b51a9(0x5c6)])(_0x45fdc9)){let _0x9b8217=await this[_0x5b51a9(0x7d9)]({'groupJid':_0x45fdc9},_0x5b51a9(0x75d));_0x71a956['push'](new fe(_0x9b8217[_0x5b51a9(0x453)]['id'],!!_0x9b8217?.[_0x5b51a9(0x453)]['id'],_0x9b8217?.[_0x5b51a9(0x453)][_0x5b51a9(0x665)])),_0x5cf50f=!!_0x9b8217?.[_0x5b51a9(0x453)]['id'];}else{let _0x386264=(await this['client'][_0x5b51a9(0x3cd)](_0x45fdc9))[0x0];_0x71a956[_0x5b51a9(0x799)](new fe(_0x386264['jid'],_0x386264[_0x5b51a9(0x6cf)])),_0x5cf50f=_0x386264[_0x5b51a9(0x6cf)];}}catch{await this[_0x5b51a9(0x75a)](_0x45fdc9,_0x5cf50f),_0x71a956[_0x5b51a9(0x799)](new fe(_0xda6d66,!0x1));}}return _0x71a956;}async['checkAndUpdateChatStatus'](_0x52408e,_0x42fa35){const _0x3e05a9=a0_0x3c6a8b;try{await this['repository'][_0x3e05a9(0x42a)][_0x3e05a9(0x23a)]({'where':{'_id':_0x52408e,'imported':!0x0}},this[_0x3e05a9(0x172)][_0x3e05a9(0x22f)])&&(_0x42fa35||(await this[_0x3e05a9(0x600)][_0x3e05a9(0x42a)]['deleteChat'](_0x52408e,this[_0x3e05a9(0x172)][_0x3e05a9(0x22f)]),console[_0x3e05a9(0x1f7)](_0x3e05a9(0x50f)+_0x52408e+_0x3e05a9(0x53a))));}catch(_0x5788fc){console[_0x3e05a9(0x426)](_0x3e05a9(0x125),_0x5788fc);}}async['markMessageAsRead'](_0x4f8d91){const _0x4b1f7f=a0_0x3c6a8b;try{let _0x1147b9=_0x4f8d91[_0x4b1f7f(0x333)][_0x4b1f7f(0x75f)](_0x48ab0d=>(0x0,m[_0x4b1f7f(0x5c6)])(_0x48ab0d[_0x4b1f7f(0x248)])||(0x0,m[_0x4b1f7f(0x141)])(_0x48ab0d[_0x4b1f7f(0x248)]))[_0x4b1f7f(0x177)](_0x5d6d5c=>({'remoteJid':_0x5d6d5c['remoteJid'],'fromMe':_0x5d6d5c['fromMe'],'id':_0x5d6d5c['id']}));await this[_0x4b1f7f(0x5b7)][_0x4b1f7f(0x333)](_0x1147b9);let _0x33a2a2=_0x1147b9['map'](_0x9315fe=>this[_0x4b1f7f(0x3c3)](_0x9315fe,{'status':_0x4b1f7f(0x265),'owner':this[_0x4b1f7f(0x172)][_0x4b1f7f(0x22f)]})),_0x168bff=_0x1147b9[_0x4b1f7f(0x177)](_0x58806d=>this['repository'][_0x4b1f7f(0x42a)][_0x4b1f7f(0x119)]({'where':{'_id':_0x58806d[_0x4b1f7f(0x248)]}},{'unreadcount':0x0},this[_0x4b1f7f(0x172)][_0x4b1f7f(0x22f)])),[_0x51df6b,_0xa42248]=await Promise[_0x4b1f7f(0x78a)]([Promise[_0x4b1f7f(0x78a)](_0x33a2a2),Promise[_0x4b1f7f(0x78a)](_0x168bff)]);return _0xa42248[_0x4b1f7f(0x75f)](_0x2c1c92=>_0x2c1c92!==null)['forEach'](_0x6871af=>{const _0x329951=_0x4b1f7f;q(this[_0x329951(0x38c)],'chats',{'chat':_0x6871af});}),{'message':_0x4b1f7f(0x2ee),'read':_0x4b1f7f(0x7dc)};}catch(_0x1926e5){throw console[_0x4b1f7f(0x426)](_0x4b1f7f(0x735),_0x1926e5),new x(_0x4b1f7f(0x1e6),_0x1926e5[_0x4b1f7f(0x341)]());}}async[a0_0x3c6a8b(0x6d4)](_0x11e6fe){const _0x18a566=a0_0x3c6a8b;let _0x2a0364={'where':{'key':{'remoteJid':_0x11e6fe}},'limit':0x1},_0xefc4cb=await this[_0x18a566(0x65d)](_0x2a0364);return _0xefc4cb||(console['error']('Last\x20message\x20not\x20found\x20for\x20number:',_0x11e6fe),null);}async[a0_0x3c6a8b(0x399)](_0xefe5be){const _0xa6b29b=a0_0x3c6a8b;this['logger']['verbose'](_0xa6b29b(0x452));try{let _0x20cd2=_0xefe5be[_0xa6b29b(0x7cd)],_0xd37054=_0xefe5be[_0xa6b29b(0x42a)];if(!_0x20cd2&&_0xd37054?_0x20cd2=await this['getLastMessage'](_0xd37054):(_0x20cd2=_0xefe5be[_0xa6b29b(0x7cd)],_0x20cd2[_0xa6b29b(0x3de)]=_0x20cd2?.[_0xa6b29b(0x3de)]??Date[_0xa6b29b(0x30f)](),_0xd37054=_0x20cd2?.[_0xa6b29b(0x1c5)]?.[_0xa6b29b(0x248)]),!_0x20cd2||Object[_0xa6b29b(0x4c8)](_0x20cd2)[_0xa6b29b(0x3ca)]===0x0)throw new L('Last\x20message\x20not\x20found');this['logger'][_0xa6b29b(0x1a2)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0xd37054);try{await this[_0xa6b29b(0x5b7)]['chatModify']({'archive':_0xefe5be[_0xa6b29b(0x36b)],'lastMessages':[_0x20cd2]},this[_0xa6b29b(0x4ca)](_0xd37054));}catch(_0x2a897c){this[_0xa6b29b(0x784)][_0xa6b29b(0x426)](_0xa6b29b(0x38e)+_0xd37054+':\x20'+_0x2a897c[_0xa6b29b(0x341)]());}this[_0xa6b29b(0x784)][_0xa6b29b(0x1a2)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xd37054);let _0x4d81b6=await this[_0xa6b29b(0x600)][_0xa6b29b(0x42a)][_0xa6b29b(0x119)]({'where':{'_id':_0x20cd2?.[_0xa6b29b(0x1c5)]?.[_0xa6b29b(0x248)]}},{'archived':_0xefe5be['archive']},this[_0xa6b29b(0x172)][_0xa6b29b(0x22f)]);return _0x4d81b6?(this['logger'][_0xa6b29b(0x1a2)](_0xa6b29b(0x516)+JSON[_0xa6b29b(0x6ab)](_0x4d81b6)),q(this[_0xa6b29b(0x38c)],_0xa6b29b(0x490),{'chat':_0x4d81b6})):this[_0xa6b29b(0x784)][_0xa6b29b(0x426)](_0xa6b29b(0x43d)+_0xd37054),{'chatId':_0xd37054,'archived':_0xefe5be[_0xa6b29b(0x36b)]};}catch(_0xd555c7){throw this[_0xa6b29b(0x784)]['error'](_0xa6b29b(0x5c8)+_0xd555c7[_0xa6b29b(0x341)]()),new x({'archived':!0x1,'message':[_0xa6b29b(0x322),_0xd555c7[_0xa6b29b(0x341)]()]});}}async[a0_0x3c6a8b(0x3c6)](_0x2ddf54){const _0x3c505b=a0_0x3c6a8b;try{let _0x3cab91=await this[_0x3c505b(0x5b7)][_0x3c505b(0x4be)](_0x2ddf54['remoteJid'],{'delete':_0x2ddf54});try{let _0xa194a5=await this[_0x3c505b(0x3c3)](_0x2ddf54,{'status':_0x3c505b(0x5df),'owner':this[_0x3c505b(0x172)][_0x3c505b(0x22f)]});this[_0x3c505b(0x784)][_0x3c505b(0x1a2)](this[_0x3c505b(0x38c)]+'\x20('+this['instance']['wuid']+'):\x20updateResult:'+_0xa194a5);}catch(_0x3bda1a){console[_0x3c505b(0x426)](_0x3c505b(0x3b3),_0x3bda1a);}return _0x3cab91;}catch(_0xab5756){throw new x(_0x3c505b(0x27a),_0xab5756?.[_0x3c505b(0x341)]());}}async['getBase64FromMediaMessage'](_0x3ad7a0){const _0x1462ac=a0_0x3c6a8b;try{let _0x2ca768=_0x3ad7a0?.[_0x1462ac(0x78c)]?_0x3ad7a0:await this[_0x1462ac(0x5b2)](_0x3ad7a0[_0x1462ac(0x1c5)],!0x0);for(let _0x3b10fc of Ma)_0x2ca768[_0x1462ac(0x78c)][_0x3b10fc]&&(_0x2ca768[_0x1462ac(0x78c)]=_0x2ca768[_0x1462ac(0x78c)][_0x3b10fc][_0x1462ac(0x78c)]);let _0x260cf4,_0x3629ea;for(let _0x5c4c72 of Ea)if(_0x260cf4=_0x2ca768[_0x1462ac(0x78c)][_0x5c4c72],_0x260cf4){_0x3629ea=_0x5c4c72;break;}if(!_0x260cf4)throw _0x1462ac(0x167);typeof _0x260cf4['mediaKey']==_0x1462ac(0x26c)&&(_0x2ca768[_0x1462ac(0x78c)]=JSON[_0x1462ac(0x568)](JSON[_0x1462ac(0x6ab)](_0x2ca768[_0x1462ac(0x78c)])));let _0x5e8c4a=await(0x0,m[_0x1462ac(0x211)])({'key':_0x2ca768?.[_0x1462ac(0x1c5)],'message':_0x2ca768?.[_0x1462ac(0x78c)]},'buffer',{},{'logger':(0x0,Pt[_0x1462ac(0x4f5)])({'level':_0x1462ac(0x2a6)}),'reuploadRequest':this[_0x1462ac(0x5b7)]['updateMediaMessage']});if(!(_0x5e8c4a instanceof Buffer))throw new Error(_0x1462ac(0x662));let _0x57c239=this[_0x1462ac(0x305)]['get']('DATABASE'),_0x57ae5e,_0x3c1e5a;if(_0x260cf4[_0x1462ac(0x155)])_0x57ae5e=_0x260cf4[_0x1462ac(0x155)];else{let _0x1d6ffa=_0x260cf4[_0x1462ac(0x7ad)]?.[_0x1462ac(0x4e7)](/\/(\w+)/),_0x4e2ef9=_0x1d6ffa?_0x1d6ffa[0x1]:null;if(!_0x4e2ef9)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x57ae5e=(0x0,Re['v4'])()+'.'+_0x4e2ef9;}_0x3629ea===_0x1462ac(0x41a)&&_0x260cf4[_0x1462ac(0x7ad)]===_0x1462ac(0x31b)?(_0x57ae5e=(0x0,Re['v4'])()+'.ogg',_0x3c1e5a=_0x1462ac(0x11b)+await this[_0x1462ac(0x69e)](_0x5e8c4a[_0x1462ac(0x341)]('base64'))):(await this[_0x1462ac(0x2da)](_0x5e8c4a,_0x57ae5e),_0x3c1e5a=_0x1462ac(0x11b)+_0x57ae5e);let _0x33d446=this[_0x1462ac(0x305)][_0x1462ac(0x37f)](_0x1462ac(0x734))['URL'];if(!_0x33d446){let _0x2cb68e=this[_0x1462ac(0x305)][_0x1462ac(0x37f)](_0x1462ac(0x404));_0x33d446=_0x1462ac(0x581)+(_0x2cb68e&&_0x2cb68e[_0x1462ac(0x76b)][_0x1462ac(0x176)]('/')[0x4]);}_0x3c1e5a=''+_0x33d446+_0x3c1e5a;let _0x32b876=0xc*0x3c*0x3c*0x3e8,_0x32eb4f={'where':{'_id':_0x2ca768['key']['id']}},_0x4b9e41={'message_normalized.fileUrl':_0x3c1e5a,'message_normalized.expires_fileUrl':Date[_0x1462ac(0x30f)]()+_0x32b876};try{let _0x3f847c=await this['repository'][_0x1462ac(0x78c)][_0x1462ac(0x5be)](_0x32eb4f,_0x4b9e41,this[_0x1462ac(0x172)][_0x1462ac(0x22f)]);_0x3f847c&&q(this[_0x1462ac(0x38c)],'messages',{'message':_0x3f847c});}catch(_0x5a091e){this[_0x1462ac(0x784)][_0x1462ac(0x426)](this[_0x1462ac(0x38c)]+'\x20('+this[_0x1462ac(0x172)]['wuid']+_0x1462ac(0x5ff)+(_0x5a091e instanceof Error?_0x5a091e[_0x1462ac(0x78c)]:JSON['stringify'](_0x5a091e,null,0x2)));}return{'mediaType':_0x3629ea,'fileName':_0x260cf4[_0x1462ac(0x155)],'caption':_0x260cf4[_0x1462ac(0x540)],'size':{'fileLength':_0x260cf4['fileLength'],'height':_0x260cf4[_0x1462ac(0x505)],'width':_0x260cf4[_0x1462ac(0x791)]},'mimetype':_0x260cf4['mimetype'],'base64':_0x5e8c4a[_0x1462ac(0x341)](_0x1462ac(0x296)),'fileUrl':_0x3c1e5a,'expires_fileUrl':Date[_0x1462ac(0x30f)]()+_0x32b876};}catch(_0x3db2ea){throw this[_0x1462ac(0x784)]['error'](this[_0x1462ac(0x38c)]+'\x20('+this[_0x1462ac(0x172)][_0x1462ac(0x22f)]+'):\x20'+(_0x3db2ea instanceof Error?_0x3db2ea[_0x1462ac(0x78c)]:JSON['stringify'](_0x3db2ea,null,0x2))),new w(_0x3db2ea[_0x1462ac(0x341)]());}}async['saveMediaToFile'](_0x1a8ab6,_0x8b319){const _0x53a16e=a0_0x3c6a8b;let _0x4d6da5=J[_0x53a16e(0x4f5)][_0x53a16e(0x4a6)](__dirname,_0x53a16e(0x7ea));F[_0x53a16e(0x454)](_0x4d6da5)||F[_0x53a16e(0x45f)](_0x4d6da5,{'recursive':!0x0});let _0x538c7a=J['default'][_0x53a16e(0x4a6)](_0x4d6da5,_0x8b319);return new Promise((_0x4cef0b,_0x300025)=>{const _0x32a238=_0x53a16e;F[_0x32a238(0x139)](_0x538c7a,_0x1a8ab6,_0x3bb182=>{const _0x470057=_0x32a238;_0x3bb182?(this[_0x470057(0x784)][_0x470057(0x426)](_0x470057(0x2fa)+(_0x3bb182 instanceof Error?_0x3bb182[_0x470057(0x78c)]:JSON[_0x470057(0x6ab)](_0x3bb182,null,0x2))),_0x300025(_0x3bb182)):(this['logger'][_0x470057(0x1f7)](_0x470057(0x2c4)+_0x538c7a),_0x4cef0b(_0x538c7a));});});}async[a0_0x3c6a8b(0x597)](_0x2aa439){const _0x38337d=a0_0x3c6a8b;return await this[_0x38337d(0x600)][_0x38337d(0x585)]['find'](_0x2aa439,this['instance'][_0x38337d(0x22f)]);}async[a0_0x3c6a8b(0x2b4)](){const _0x534dee=a0_0x3c6a8b;return await this['repository'][_0x534dee(0x6cb)]['find']({'where':{}},this['instance']['wuid']);}async[a0_0x3c6a8b(0x65d)](_0x541f17){const _0x116e44=a0_0x3c6a8b;return await this['repository'][_0x116e44(0x78c)][_0x116e44(0x217)](_0x541f17,this[_0x116e44(0x172)]['wuid']);}async['fetchChats'](){const _0x490cd2=a0_0x3c6a8b;return this[_0x490cd2(0x600)]['chat']['updateMissingLabels'](this[_0x490cd2(0x172)][_0x490cd2(0x22f)]),this[_0x490cd2(0x600)][_0x490cd2(0x42a)][_0x490cd2(0x14c)](this[_0x490cd2(0x172)]['wuid']),this[_0x490cd2(0x600)][_0x490cd2(0x42a)][_0x490cd2(0x61f)](this['instance']['wuid']),this['repository'][_0x490cd2(0x42a)][_0x490cd2(0x4eb)](this['instance'][_0x490cd2(0x22f)]),await this['repository'][_0x490cd2(0x42a)][_0x490cd2(0x217)]({'where':{}},this[_0x490cd2(0x172)][_0x490cd2(0x22f)]);}async['importChatsAntigo'](_0x164034){const _0x26438d=a0_0x3c6a8b;try{if(!Array[_0x26438d(0x180)](_0x164034)||_0x164034[_0x26438d(0x3ca)]===0x0)throw new Error(_0x26438d(0x202));let _0x1edcc2=[],_0x9bb108=[];for(let _0x51d57c of _0x164034){if(_0x51d57c[_0x26438d(0x54e)])_0x51d57c[_0x26438d(0x54e)]=this['createJid'](_0x51d57c[_0x26438d(0x54e)]);else continue;await this[_0x26438d(0x600)]['chat'][_0x26438d(0x23a)]({'where':{'_id':_0x51d57c[_0x26438d(0x54e)]}},this[_0x26438d(0x172)][_0x26438d(0x22f)])?_0x9bb108['push']({'_id':_0x51d57c[_0x26438d(0x54e)],'leadInfo':_0x51d57c['leadInfo'],'owner':this[_0x26438d(0x172)]['wuid']}):_0x1edcc2['push']({'_id':_0x51d57c[_0x26438d(0x54e)],'owner':this[_0x26438d(0x172)][_0x26438d(0x22f)],'leadInfo':_0x51d57c['leadInfo'],'imported':!0x0});}return _0x9bb108[_0x26438d(0x3ca)]>0x0&&await this[_0x26438d(0x600)]['chat'][_0x26438d(0x2c3)](_0x9bb108[_0x26438d(0x177)](_0x8d5ba8=>({'query':{'where':{'_id':_0x8d5ba8[_0x26438d(0x54e)],'owner':this['instance'][_0x26438d(0x22f)]}},'update':_0x8d5ba8}))),_0x1edcc2[_0x26438d(0x3ca)]>0x0&&await this[_0x26438d(0x600)][_0x26438d(0x42a)][_0x26438d(0x622)](_0x1edcc2,this[_0x26438d(0x172)][_0x26438d(0x22f)]),{'updated':_0x9bb108[_0x26438d(0x3ca)],'inserted':_0x1edcc2['length']};}catch(_0x550cb3){throw console[_0x26438d(0x426)](_0x26438d(0x15d),_0x550cb3),_0x550cb3;}}async[a0_0x3c6a8b(0x7d6)](_0x24ebf6){const _0x533aee=a0_0x3c6a8b;try{if(!Array[_0x533aee(0x180)](_0x24ebf6)||_0x24ebf6[_0x533aee(0x3ca)]===0x0)throw new Error(_0x533aee(0x202));let _0x33ac89=0x64,_0x430e7e=0x0;for(let _0x2b6e34=0x0;_0x2b6e34<_0x24ebf6[_0x533aee(0x3ca)];_0x2b6e34+=_0x33ac89){let _0x3c7757=_0x24ebf6[_0x533aee(0x695)](_0x2b6e34,_0x2b6e34+_0x33ac89),{updated:_0x2eda06}=await this['importChatsBatch'](_0x3c7757);_0x430e7e+=_0x2eda06;}return{'updated':_0x430e7e};}catch(_0x3aaf1e){throw console['error'](_0x533aee(0x15d),_0x3aaf1e),_0x3aaf1e;}}async[a0_0x3c6a8b(0x5d5)](_0x450340){const _0xf3e6e8=a0_0x3c6a8b;try{let _0xb01545=await this['repository'][_0xf3e6e8(0x6cb)][_0xf3e6e8(0x217)]({'where':{}},this['instance'][_0xf3e6e8(0x22f)]),_0x1c315d=new Set(_0xb01545[_0xf3e6e8(0x177)](_0x8f3c6b=>_0x8f3c6b[_0xf3e6e8(0x54e)])),_0x4b9a7c=[],_0x596ee6=[];for(let _0x9705ec of _0x450340){if(!_0x9705ec[_0xf3e6e8(0x54e)])continue;_0x9705ec[_0xf3e6e8(0x54e)]=this['createJid'](_0x9705ec[_0xf3e6e8(0x54e)]);let _0x2613f4=await this[_0xf3e6e8(0x600)]['chat']['findOne']({'where':{'_id':_0x9705ec[_0xf3e6e8(0x54e)]}},this[_0xf3e6e8(0x172)]['wuid']),_0x45b80c={};if(Object[_0xf3e6e8(0x4b9)](_0x9705ec[_0xf3e6e8(0x536)])[_0xf3e6e8(0x471)](([_0x1c4232,_0x560a56])=>{const _0x19db77=_0xf3e6e8;_0x45b80c[_0x19db77(0x74d)+_0x1c4232]=_0x560a56;}),_0x2613f4&&!_0x2613f4[_0xf3e6e8(0x5fd)]){let _0x63cf2c=(_0x9705ec[_0xf3e6e8(0x536)][_0xf3e6e8(0x546)]||[])['filter'](_0x219848=>_0x1c315d[_0xf3e6e8(0x1be)](_0x219848)),_0x237c69=new Set(_0x2613f4['leadInfo']['etiquetas']||[]),_0x340ca8=_0x63cf2c['filter'](_0x225289=>!_0x237c69[_0xf3e6e8(0x1be)](_0x225289)),_0x1c6425=[..._0x237c69][_0xf3e6e8(0x75f)](_0x34df0d=>!_0x63cf2c[_0xf3e6e8(0x612)](_0x34df0d));_0x596ee6[_0xf3e6e8(0x799)](..._0x340ca8[_0xf3e6e8(0x177)](_0x174280=>this[_0xf3e6e8(0x250)](_0x174280,_0x9705ec[_0xf3e6e8(0x54e)]))),_0x596ee6[_0xf3e6e8(0x799)](..._0x1c6425['map'](_0x3fce2f=>this['RemoveChatLabel'](_0x3fce2f,_0x9705ec['_id']))),_0x9705ec[_0xf3e6e8(0x536)][_0xf3e6e8(0x546)]=_0x63cf2c,_0x4b9a7c[_0xf3e6e8(0x799)]({'query':{'where':{'_id':_0x9705ec[_0xf3e6e8(0x54e)],'owner':this[_0xf3e6e8(0x172)][_0xf3e6e8(0x22f)]}},'update':_0x45b80c});}else _0x45b80c[_0xf3e6e8(0x5fd)]=!0x0,_0x4b9a7c['push']({'query':{'where':{'_id':_0x9705ec[_0xf3e6e8(0x54e)],'owner':this[_0xf3e6e8(0x172)][_0xf3e6e8(0x22f)]}},'update':_0x45b80c});}let _0x42a24a=await this[_0xf3e6e8(0x600)][_0xf3e6e8(0x42a)][_0xf3e6e8(0x2c3)](_0x4b9a7c);return await Promise[_0xf3e6e8(0x78a)](_0x596ee6),{'updated':_0x42a24a};}catch(_0x37cf6e){throw console['error'](_0xf3e6e8(0x15d),_0x37cf6e),_0x37cf6e;}}async['fetchPrivacySettings'](){const _0x22e11b=a0_0x3c6a8b;return await this[_0x22e11b(0x5b7)][_0x22e11b(0x21f)]();}async[a0_0x3c6a8b(0x1cf)](_0x489420){const _0x280315=a0_0x3c6a8b;try{return await this['client'][_0x280315(0x4cd)](_0x489420['privacySettings'][_0x280315(0x5d1)]),await this[_0x280315(0x5b7)][_0x280315(0x669)](_0x489420['privacySettings'][_0x280315(0x316)]),await this[_0x280315(0x5b7)][_0x280315(0x3c4)](_0x489420[_0x280315(0x165)][_0x280315(0x6e3)]),await this['client'][_0x280315(0x282)](_0x489420[_0x280315(0x165)]['online']),await this[_0x280315(0x5b7)]['updateLastSeenPrivacy'](_0x489420['privacySettings'][_0x280315(0x752)]),await this[_0x280315(0x5b7)][_0x280315(0x39d)](_0x489420[_0x280315(0x165)][_0x280315(0x1b7)]),this[_0x280315(0x5b7)]?.['ws']?.['close'](),{'update':_0x280315(0x7dc),'data':{'readreceipts':_0x489420[_0x280315(0x165)][_0x280315(0x5d1)],'profile':_0x489420[_0x280315(0x165)][_0x280315(0x316)],'status':_0x489420[_0x280315(0x165)][_0x280315(0x6e3)],'online':_0x489420['privacySettings']['online'],'last':_0x489420[_0x280315(0x165)]['last'],'groupadd':_0x489420[_0x280315(0x165)][_0x280315(0x1b7)]}};}catch(_0x4eefdd){throw new x(_0x280315(0x435),_0x4eefdd[_0x280315(0x341)]());}}async[a0_0x3c6a8b(0x292)](_0x3a0397){const _0x5d1ee5=a0_0x3c6a8b;let _0x2a1c37=(_0x3a0397?this[_0x5d1ee5(0x4ca)](_0x3a0397):this[_0x5d1ee5(0x5b7)]?.[_0x5d1ee5(0x61d)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x5d1ee5(0x784)][_0x5d1ee5(0x1a2)](_0x5d1ee5(0x58c)+_0x2a1c37);let _0x5a310b=await this[_0x5d1ee5(0x600)][_0x5d1ee5(0x585)]['findOne']({'where':{'_id':_0x2a1c37}},this[_0x5d1ee5(0x172)][_0x5d1ee5(0x22f)]),_0x973d51=_0x5a310b?_0x5a310b[_0x5d1ee5(0x4c7)]:null;try{let _0x2a889d=(await this[_0x5d1ee5(0x207)]({'numbers':[_0x2a1c37]}))?.[_0x5d1ee5(0x1eb)](),_0x24df14=(await this[_0x5d1ee5(0x59b)](_0x2a1c37,null,!0x1))['cachedContact'][_0x5d1ee5(0x3f6)],_0x30b091=await this[_0x5d1ee5(0x57d)](_0x2a889d?.['jid']),_0x2e7df7=await this[_0x5d1ee5(0x552)](_0x2a889d?.[_0x5d1ee5(0x3a9)]),_0x277fbd=(await this[_0x5d1ee5(0x59b)](_0x2a1c37,null,!0x1))[_0x5d1ee5(0x7bc)]['name'],_0x54f755=await this[_0x5d1ee5(0x600)][_0x5d1ee5(0x42a)]['findOne']({'where':{'_id':_0x2a1c37}},this[_0x5d1ee5(0x172)][_0x5d1ee5(0x22f)]),_0x941467={'imagechat':_0x24df14,'contactname':_0x973d51||null,'pushName':_0x277fbd,'status':_0x30b091?.[_0x5d1ee5(0x6e3)],'isBusiness':_0x2e7df7['isBusiness'],'email':_0x2e7df7?.[_0x5d1ee5(0x257)],'description':_0x2e7df7?.[_0x5d1ee5(0x7b1)],'website':_0x2e7df7?.[_0x5d1ee5(0x596)]?.[_0x5d1ee5(0x1eb)](),'lastcache':Date['now'](),'imported':!_0x54f755},_0x1bf912=await this['repository'][_0x5d1ee5(0x42a)][_0x5d1ee5(0x119)]({'where':{'_id':_0x2a1c37}},_0x941467,this[_0x5d1ee5(0x172)][_0x5d1ee5(0x22f)]),_0x2f534a={'owner':this['instance'][_0x5d1ee5(0x22f)],'_id':_0x2a1c37,'profilePictureUrl':_0x24df14,'status':_0x30b091?.[_0x5d1ee5(0x6e3)]};return this[_0x5d1ee5(0x600)][_0x5d1ee5(0x585)][_0x5d1ee5(0x5be)]([_0x2f534a],this[_0x5d1ee5(0x172)][_0x5d1ee5(0x22f)]),_0x1bf912&&q(this['instanceName'],_0x5d1ee5(0x490),{'chat':_0x1bf912}),{'wuid':_0x2a889d?.['jid']||_0x2a1c37,'name':_0x2a889d?.['name'],'pushName':_0x277fbd,'numberExists':_0x2a889d?.[_0x5d1ee5(0x6cf)],'picture':_0x24df14,'status':_0x30b091?.[_0x5d1ee5(0x6e3)],'isBusiness':_0x2e7df7[_0x5d1ee5(0x4dd)],'email':_0x2e7df7?.[_0x5d1ee5(0x257)],'description':_0x2e7df7?.[_0x5d1ee5(0x7b1)],'website':_0x2e7df7?.[_0x5d1ee5(0x596)]?.[_0x5d1ee5(0x1eb)]()};}catch(_0x20264d){return this[_0x5d1ee5(0x784)][_0x5d1ee5(0x426)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x20264d instanceof Error?_0x20264d[_0x5d1ee5(0x78c)]:JSON[_0x5d1ee5(0x6ab)](_0x20264d,null,0x2))),{};}}async['fetchBusinessProfile'](_0x37803b){const _0x48c360=a0_0x3c6a8b;this['logger'][_0x48c360(0x1a2)](_0x48c360(0x6c8));try{let _0xb168c1=_0x37803b?this[_0x48c360(0x4ca)](_0x37803b):this[_0x48c360(0x172)][_0x48c360(0x22f)],_0x370401=await this[_0x48c360(0x5b7)][_0x48c360(0x340)](_0xb168c1);return this[_0x48c360(0x784)][_0x48c360(0x1a2)](_0x48c360(0x656)),_0x370401?(this[_0x48c360(0x784)][_0x48c360(0x1a2)](_0x48c360(0x4a9)),{'isBusiness':!0x0,..._0x370401}):{'isBusiness':!0x1,'message':_0x48c360(0x680),...(await this[_0x48c360(0x207)]({'numbers':[_0xb168c1]}))?.[_0x48c360(0x1eb)]()};}catch(_0x15bdbd){throw new x('Error\x20updating\x20profile\x20name',_0x15bdbd[_0x48c360(0x341)]());}}async[a0_0x3c6a8b(0x57d)](_0x1194cc){const _0x262fcc=a0_0x3c6a8b;let _0x170ea9=this['createJid'](_0x1194cc);try{return{'wuid':_0x170ea9,'status':(await this[_0x262fcc(0x5b7)][_0x262fcc(0x666)](_0x170ea9))?.[_0x262fcc(0x6e3)]};}catch{return{'wuid':_0x170ea9,'status':null};}}async[a0_0x3c6a8b(0x499)](_0x5aebc7){const _0x48789d=a0_0x3c6a8b;try{return await this[_0x48789d(0x5b7)][_0x48789d(0x499)](_0x5aebc7),{'update':_0x48789d(0x7dc)};}catch(_0xa0ffce){throw new x(_0x48789d(0x2ef),_0xa0ffce[_0x48789d(0x341)]());}}async[a0_0x3c6a8b(0x488)](_0x3f6bec){const _0x20f867=a0_0x3c6a8b;try{return await this['client'][_0x20f867(0x488)](_0x3f6bec),{'update':_0x20f867(0x7dc)};}catch(_0x26e9d4){throw new x(_0x20f867(0x592),_0x26e9d4[_0x20f867(0x341)]());}}async[a0_0x3c6a8b(0x6bd)](_0x3ff8e3){const _0x22f1de=a0_0x3c6a8b;try{let _0x4c7b77;if((0x0,P['isURL'])(_0x3ff8e3)){let _0x4b7dca=new Date()[_0x22f1de(0x722)](),_0x7fb21=_0x3ff8e3+_0x22f1de(0x442)+_0x4b7dca;_0x4c7b77=(await Z[_0x22f1de(0x4f5)][_0x22f1de(0x37f)](_0x7fb21,{'responseType':_0x22f1de(0x7b5)}))[_0x22f1de(0x2ea)];}else{if((0x0,P[_0x22f1de(0x1bf)])(_0x3ff8e3))_0x4c7b77=Buffer[_0x22f1de(0x223)](_0x3ff8e3,_0x22f1de(0x296));else throw new w(_0x22f1de(0x22e));}return await this[_0x22f1de(0x5b7)][_0x22f1de(0x6bd)](this[_0x22f1de(0x172)]['wuid'],_0x4c7b77),{'update':_0x22f1de(0x7dc)};}catch(_0x4765f9){throw new x(_0x22f1de(0x4b8),_0x4765f9[_0x22f1de(0x341)]());}}async['removeProfilePicture'](){const _0x197f95=a0_0x3c6a8b;try{return await this['client']['removeProfilePicture'](this['instance'][_0x197f95(0x22f)]),{'update':_0x197f95(0x7dc)};}catch(_0x55da27){throw new x(_0x197f95(0x186),_0x55da27[_0x197f95(0x341)]());}}async['createGroup'](_0x2f74f0){const _0x2e8d95=a0_0x3c6a8b;try{let _0x4590a7=_0x2f74f0['participants'][_0x2e8d95(0x177)](_0x4ea584=>this[_0x2e8d95(0x4ca)](_0x4ea584)),{id:_0x24e7c8}=await this[_0x2e8d95(0x5b7)][_0x2e8d95(0x1f3)](_0x2f74f0[_0x2e8d95(0x665)],_0x4590a7);return _0x2f74f0?.['description']&&await this['client']['groupUpdateDescription'](_0x24e7c8,_0x2f74f0[_0x2e8d95(0x7b1)]),{'metadata':await this[_0x2e8d95(0x5b7)][_0x2e8d95(0x49b)](_0x24e7c8)};}catch(_0x54cf0e){throw this['logger']['error'](this[_0x2e8d95(0x38c)]+'\x20('+this[_0x2e8d95(0x172)][_0x2e8d95(0x22f)]+_0x2e8d95(0x5ff)+(_0x54cf0e instanceof Error?_0x54cf0e[_0x2e8d95(0x78c)]:JSON['stringify'](_0x54cf0e,null,0x2))),new x(_0x2e8d95(0x667),_0x54cf0e[_0x2e8d95(0x341)]());}}async[a0_0x3c6a8b(0x4e8)](_0x27849c){const _0x552ce2=a0_0x3c6a8b;try{let _0x3c670d;if((0x0,P[_0x552ce2(0x3e6)])(_0x27849c['image'])){let _0x5aa766=new Date()[_0x552ce2(0x722)](),_0x43593d=_0x27849c[_0x552ce2(0x11c)]+'?timestamp='+_0x5aa766;_0x3c670d=(await Z[_0x552ce2(0x4f5)][_0x552ce2(0x37f)](_0x43593d,{'responseType':_0x552ce2(0x7b5)}))[_0x552ce2(0x2ea)];}else{if((0x0,P['isBase64'])(_0x27849c[_0x552ce2(0x11c)]))_0x3c670d=Buffer[_0x552ce2(0x223)](_0x27849c['image'],_0x552ce2(0x296));else throw new w(_0x552ce2(0x22e));}return await this[_0x552ce2(0x5b7)][_0x552ce2(0x6bd)](_0x27849c[_0x552ce2(0x1e0)],_0x3c670d),{'update':_0x552ce2(0x7dc)};}catch(_0x4a62cb){throw new x(_0x552ce2(0x31e),_0x4a62cb['toString']());}}async['groupDesc'](_0x28b854){const _0x4bab59=a0_0x3c6a8b;try{return await this['client'][_0x4bab59(0x6dc)](_0x28b854['groupJid'],_0x28b854[_0x4bab59(0x7b1)]),{'update':_0x4bab59(0x7dc)};}catch(_0x539886){throw new x(_0x4bab59(0x295),_0x539886[_0x4bab59(0x341)]());}}async[a0_0x3c6a8b(0x417)](_0x156404){const _0x3cf4cd=a0_0x3c6a8b;try{return await this['client'][_0x3cf4cd(0x4ad)](_0x156404[_0x3cf4cd(0x1e0)],_0x156404['name']),{'update':_0x3cf4cd(0x7dc)};}catch(_0x1a923b){throw new x(_0x3cf4cd(0x269),_0x1a923b[_0x3cf4cd(0x341)]());}}async[a0_0x3c6a8b(0x67e)](_0x15e50f){const _0x38cba2=a0_0x3c6a8b;try{let _0x35246=await this[_0x38cba2(0x5b7)][_0x38cba2(0x57b)](_0x15e50f[_0x38cba2(0x1e0)],_0x15e50f[_0x38cba2(0x128)]);return{'success':!0x0};}catch(_0x2276c3){throw new w(_0x38cba2(0x3fe),_0x2276c3[_0x38cba2(0x341)]());}}async['groupSetting'](_0xcd9e7e){const _0x20da0d=a0_0x3c6a8b;try{return await this['client'][_0x20da0d(0x6fa)](_0xcd9e7e[_0x20da0d(0x1e0)],_0xcd9e7e[_0x20da0d(0x7bd)]),{'update':'success'};}catch(_0x3ff86d){throw new x(_0x20da0d(0x4dc),_0x3ff86d[_0x20da0d(0x341)]());}}async['groupBetterSetting'](_0x2d80d1){const _0x2b9893=a0_0x3c6a8b;try{if(_0x2d80d1[_0x2b9893(0x414)]===!0x0&&await this['client']['groupSettingUpdate'](_0x2d80d1[_0x2b9893(0x1e0)],_0x2b9893(0x4ed)),_0x2d80d1[_0x2b9893(0x414)]===!0x1&&await this[_0x2b9893(0x5b7)][_0x2b9893(0x6fa)](_0x2d80d1[_0x2b9893(0x1e0)],_0x2b9893(0x33a)),_0x2d80d1[_0x2b9893(0x650)]===!0x0&&await this[_0x2b9893(0x5b7)][_0x2b9893(0x6fa)](_0x2d80d1['groupJid'],_0x2b9893(0x7e6)),_0x2d80d1[_0x2b9893(0x650)]===!0x1&&await this[_0x2b9893(0x5b7)][_0x2b9893(0x6fa)](_0x2d80d1[_0x2b9893(0x1e0)],'not_announcement'),_0x2d80d1[_0x2b9893(0x5c0)]===!0x0&&await this['client'][_0x2b9893(0x2fc)](_0x2d80d1['groupJid'],_0x2b9893(0x7b9)),_0x2d80d1[_0x2b9893(0x5c0)]===!0x1&&await this[_0x2b9893(0x5b7)][_0x2b9893(0x2fc)](_0x2d80d1[_0x2b9893(0x1e0)],_0x2b9893(0x2ff)),_0x2d80d1['joinApprovalMode']===!0x0&&await this[_0x2b9893(0x5b7)][_0x2b9893(0x268)](_0x2d80d1[_0x2b9893(0x1e0)],'on'),_0x2d80d1[_0x2b9893(0x5c7)]===!0x1&&await this['client'][_0x2b9893(0x268)](_0x2d80d1[_0x2b9893(0x1e0)],_0x2b9893(0x336)),typeof _0x2d80d1[_0x2b9893(0x128)]<'u'&&_0x2d80d1[_0x2b9893(0x128)]!==null&&await this['client'][_0x2b9893(0x57b)](_0x2d80d1[_0x2b9893(0x1e0)],_0x2d80d1[_0x2b9893(0x128)]),_0x2d80d1[_0x2b9893(0x4e1)]&&await this['client'][_0x2b9893(0x4ad)](_0x2d80d1['groupJid'],_0x2d80d1[_0x2b9893(0x4e1)]),_0x2d80d1[_0x2b9893(0x7b1)]&&await this['client'][_0x2b9893(0x6dc)](_0x2d80d1[_0x2b9893(0x1e0)],_0x2d80d1[_0x2b9893(0x7b1)]),_0x2d80d1[_0x2b9893(0x11c)]){let _0x11174d;if((0x0,P[_0x2b9893(0x3e6)])(_0x2d80d1[_0x2b9893(0x11c)])){let _0x3fb861=new Date()[_0x2b9893(0x722)](),_0x5a753f=_0x2d80d1[_0x2b9893(0x11c)]+_0x2b9893(0x442)+_0x3fb861;_0x11174d=(await Z[_0x2b9893(0x4f5)][_0x2b9893(0x37f)](_0x5a753f,{'responseType':'arraybuffer'}))[_0x2b9893(0x2ea)];}else{if((0x0,P[_0x2b9893(0x1bf)])(_0x2d80d1[_0x2b9893(0x11c)]))_0x11174d=Buffer['from'](_0x2d80d1[_0x2b9893(0x11c)],'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client'][_0x2b9893(0x6bd)](_0x2d80d1[_0x2b9893(0x1e0)],_0x11174d);}return await this[_0x2b9893(0x7d9)]({'groupJid':_0x2d80d1[_0x2b9893(0x1e0)]},_0x2b9893(0x75d));}catch(_0x579b5c){throw new x(_0x2b9893(0x4dc),_0x579b5c[_0x2b9893(0x341)]());}}async[a0_0x3c6a8b(0x4d3)](_0x2cb151){const _0x501569=a0_0x3c6a8b;try{if(_0x2cb151['action']===_0x501569(0x29f)||_0x2cb151[_0x501569(0x190)]===_0x501569(0x58f)){let _0x43f25a=_0x2cb151[_0x501569(0x52a)][_0x501569(0x177)](_0xf63e18=>this['createJid'](_0xf63e18));await this['client'][_0x501569(0x31c)](_0x2cb151[_0x501569(0x1e0)],_0x43f25a,_0x2cb151[_0x501569(0x190)]);}else{let _0x420169=_0x2cb151[_0x501569(0x52a)]['map'](_0x4dd6a3=>this[_0x501569(0x4ca)](_0x4dd6a3));await this[_0x501569(0x5b7)][_0x501569(0x5d0)](_0x2cb151[_0x501569(0x1e0)],_0x420169,_0x2cb151[_0x501569(0x190)]);}return await this['findGroup']({'groupJid':_0x2cb151[_0x501569(0x1e0)]},_0x501569(0x75d));}catch(_0x6108b0){throw new w('Error\x20updating\x20participants',_0x6108b0[_0x501569(0x341)]());}}async[a0_0x3c6a8b(0x713)](_0x2907f6){const _0x480952=a0_0x3c6a8b;try{return await this[_0x480952(0x5b7)]['groupGetInviteInfo'](_0x2907f6[_0x480952(0x30a)]);}catch(_0x3db661){throw new x(_0x480952(0x6c2),_0x3db661['toString']());}}async[a0_0x3c6a8b(0x7d9)](_0x16fbeb,_0x2dbc56=a0_0x3c6a8b(0x66a)){const _0xb4c232=a0_0x3c6a8b;try{let _0x250f1f=await this['client'][_0xb4c232(0x49b)](_0x16fbeb[_0xb4c232(0x1e0)]),_0x1aa663=[];try{_0x1aa663=await this[_0xb4c232(0x5b7)][_0xb4c232(0x160)](_0x16fbeb[_0xb4c232(0x1e0)]);}catch(_0x556e2c){this[_0xb4c232(0x784)]['verbose'](this[_0xb4c232(0x38c)]+'\x20('+this[_0xb4c232(0x172)]['wuid']+_0xb4c232(0x2a4)+_0x16fbeb[_0xb4c232(0x1e0)]+':\x20'+(_0x556e2c instanceof Error?_0x556e2c[_0xb4c232(0x78c)]:JSON['stringify'](_0x556e2c,null,0x2)));}let _0xf4c508=null;try{_0xf4c508=(await this[_0xb4c232(0x59b)](_0x16fbeb['groupJid'],null,!0x0))['cachedContact'][_0xb4c232(0x3f6)];}catch(_0x1e0346){this[_0xb4c232(0x784)][_0xb4c232(0x1a2)](this[_0xb4c232(0x38c)]+'\x20('+this['instance'][_0xb4c232(0x22f)]+_0xb4c232(0x30e)+_0x16fbeb[_0xb4c232(0x1e0)]+':\x20'+(_0x1e0346 instanceof Error?_0x1e0346[_0xb4c232(0x78c)]:JSON['stringify'](_0x1e0346,null,0x2)));}let _0xfa8f85=_0x250f1f[_0xb4c232(0x52a)][_0xb4c232(0x177)](_0x7d453c=>_0x7d453c['id']),_0x22e53d=_0x1aa663[_0xb4c232(0x177)](_0x15f551=>_0x15f551[_0xb4c232(0x3a9)]),_0x1f6a21=await this['repository'][_0xb4c232(0x51e)]['findManyByIds']([..._0xfa8f85,..._0x22e53d]),_0x303811=_0x250f1f['participants'][_0xb4c232(0x177)](_0x4303ec=>{const _0x3ed14a=_0xb4c232;let _0x1b4c1e=_0x1f6a21['find'](_0x3cf71b=>_0x3cf71b[_0x3ed14a(0x54e)]===_0x4303ec['id']);return{'id':_0x4303ec['id'],'status':_0x4303ec[_0x3ed14a(0x55f)]?_0x4303ec['admin']:_0x3ed14a(0x12d),'pushName':_0x1b4c1e?.[_0x3ed14a(0x4e1)],'profilePictureUrl':_0x1b4c1e?.['pictureUrl']};}),_0x494d35=_0x1aa663[_0xb4c232(0x177)](_0x103aa4=>{const _0x228eee=_0xb4c232;let _0x2d975a=_0x1f6a21[_0x228eee(0x217)](_0x36b485=>_0x36b485['_id']===_0x103aa4['jid']);return{'id':_0x103aa4[_0x228eee(0x3a9)],'status':'awaitingApproval','pushName':_0x2d975a?.[_0x228eee(0x4e1)],'profilePictureUrl':_0x2d975a?.[_0x228eee(0x3f6)],'request_method':_0x103aa4[_0x228eee(0x6cc)],'request_time':_0x103aa4[_0x228eee(0x1d1)]};}),_0x4c2e0b=[..._0x303811,..._0x494d35];_0x250f1f[_0xb4c232(0x52a)]=_0x4c2e0b;let _0x59405f=await this['repository'][_0xb4c232(0x42a)]['updateOne']({'where':{'_id':_0x16fbeb['groupJid']}},{'imagechat':_0xf4c508,'name':_0x250f1f[_0xb4c232(0x665)],'group_size':_0x250f1f[_0xb4c232(0x605)],'group_announce':_0x250f1f[_0xb4c232(0x650)],'group_isCommunity':_0x250f1f[_0xb4c232(0x40f)],'lastcache':Date[_0xb4c232(0x30f)]()},this[_0xb4c232(0x172)]['wuid']);return _0x59405f&&q(this[_0xb4c232(0x38c)],_0xb4c232(0x490),{'chat':_0x59405f}),{'metadata':_0x250f1f,'image':_0xf4c508};}catch(_0x3306da){if(_0x2dbc56==='inner')return;throw new L('Error\x20fetching\x20group',_0x3306da['toString']());}}async[a0_0x3c6a8b(0x67b)](){const _0x96707f=a0_0x3c6a8b;try{let _0x28fe01=await this[_0x96707f(0x5b7)]['groupFetchAllParticipating'](),_0x2c4806=Object[_0x96707f(0x25c)](_0x28fe01)[_0x96707f(0x75f)](_0x4b34c2=>(0x0,m[_0x96707f(0x5c6)])(_0x4b34c2?.['id']))[_0x96707f(0x177)](async _0x47718f=>{const _0x3ab724=_0x96707f;try{let _0x447c8b=await this[_0x3ab724(0x5b7)]['profilePictureUrl'](_0x47718f['id'],'preview'),_0x14ff60=await this['findAndUpdateCacheContact'](_0x47718f['id'],_0x47718f[_0x3ab724(0x665)],!0x1),_0x33d4a6=_0x14ff60['cachedContact']['pictureUrl'],_0xed5595={'groupJid':_0x47718f?.['id'],'subject':_0x47718f?.[_0x3ab724(0x665)],'subjectOwner':_0x47718f?.['subjectOwner']?.[_0x3ab724(0x176)]('@')[0x0],'subjectTime':_0x47718f?.['subjectTime'],'size':_0x47718f?.[_0x3ab724(0x52a)]?.[_0x3ab724(0x3ca)],'owner':_0x47718f?.[_0x3ab724(0x270)]?.[_0x3ab724(0x176)]('@')[0x0],'creation':_0x47718f?.[_0x3ab724(0x577)],'desc':_0x47718f?.[_0x3ab724(0x259)],'restrict':_0x47718f?.[_0x3ab724(0x414)],'announce':_0x47718f?.['announce'],'image':_0x33d4a6,'isCommunity':_0x47718f?.[_0x3ab724(0x40f)],'joinApprovalMode':_0x47718f?.[_0x3ab724(0x5c7)],'memberCanAddParticipant':_0x47718f?.[_0x3ab724(0x5c0)]},_0x2d80d6=await this[_0x3ab724(0x600)][_0x3ab724(0x42a)][_0x3ab724(0x119)]({'where':{'_id':_0x47718f?.['id']}},{'imagechat':_0x14ff60[_0x3ab724(0x7bc)][_0x3ab724(0x3f6)],'name':_0x47718f?.[_0x3ab724(0x665)],'group_size':_0x47718f?.[_0x3ab724(0x605)],'group_announce':_0x47718f?.[_0x3ab724(0x650)],'group_isCommunity':_0x47718f?.[_0x3ab724(0x40f)],'lastcache':Date[_0x3ab724(0x30f)]()},this['instance'][_0x3ab724(0x22f)]);return _0x2d80d6&&q(this[_0x3ab724(0x38c)],'chats',{'chat':_0x2d80d6}),_0xed5595;}catch(_0x4fcf68){return this[_0x3ab724(0x784)][_0x3ab724(0x1a2)](this[_0x3ab724(0x38c)]+'\x20('+this[_0x3ab724(0x172)][_0x3ab724(0x22f)]+'):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20'+_0x47718f['id']+':\x20'+(_0x4fcf68 instanceof Error?_0x4fcf68[_0x3ab724(0x78c)]:JSON['stringify'](_0x4fcf68,null,0x2))),null;}}),_0x514470=(await Promise[_0x96707f(0x78a)](_0x2c4806))[_0x96707f(0x75f)](_0x34e457=>_0x34e457!==null);return console[_0x96707f(0x1f7)](_0x514470[_0x96707f(0x3ca)]+'\x20chats\x20foram\x20atualizados.'),_0x514470;}catch(_0x58afee){throw new L(_0x96707f(0x633),_0x58afee[_0x96707f(0x341)]());}}async[a0_0x3c6a8b(0x4f2)](){const _0x28e678=a0_0x3c6a8b;try{let _0x1ac830=[],_0x58b4d0=await this[_0x28e678(0x5b7)][_0x28e678(0x5e0)](),_0x4995eb=Object[_0x28e678(0x25c)](_0x58b4d0),_0x549119=_0x4995eb[_0x28e678(0x75f)](_0x4939b9=>(0x0,m[_0x28e678(0x5c6)])(_0x4939b9?.['id']))['map'](async _0x424efb=>{const _0x5e1e54=_0x28e678;try{return await this['client']['profilePictureUrl'](_0x424efb['id'],_0x5e1e54(0x500));}catch(_0x3287d3){return this[_0x5e1e54(0x784)][_0x5e1e54(0x1a2)](this['instanceName']+'\x20('+this['instance'][_0x5e1e54(0x22f)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x424efb['id']+':\x20'+(_0x3287d3 instanceof Error?_0x3287d3[_0x5e1e54(0x78c)]:JSON[_0x5e1e54(0x6ab)](_0x3287d3,null,0x2))),null;}}),_0xf0c65=await Promise[_0x28e678(0x78a)](_0x549119);for(let _0x9e764e=0x0;_0x9e764e<_0x4995eb['length'];_0x9e764e++){let _0x4b4dac=_0x4995eb[_0x9e764e];if((0x0,m[_0x28e678(0x5c6)])(_0x4b4dac?.['id'])){_0x1ac830[_0x28e678(0x799)]({'groupJid':_0x4b4dac?.['id'],'subject':_0x4b4dac?.[_0x28e678(0x665)],'subjectOwner':_0x4b4dac?.[_0x28e678(0x428)]?.[_0x28e678(0x176)]('@')[0x0],'subjectTime':_0x4b4dac?.[_0x28e678(0x13e)],'size':_0x4b4dac?.[_0x28e678(0x52a)]?.[_0x28e678(0x3ca)],'owner':_0x4b4dac?.[_0x28e678(0x270)]?.[_0x28e678(0x176)]('@')[0x0],'creation':_0x4b4dac?.[_0x28e678(0x577)],'desc':_0x4b4dac?.['desc'],'restrict':_0x4b4dac?.[_0x28e678(0x414)],'announce':_0x4b4dac?.[_0x28e678(0x650)],'image':_0xf0c65[_0x9e764e],'isCommunity':_0x4b4dac?.['isCommunity'],'joinApprovalMode':_0x4b4dac?.['joinApprovalMode'],'memberCanAddParticipant':_0x4b4dac?.[_0x28e678(0x5c0)]});let _0x5c0dc7=await this[_0x28e678(0x600)][_0x28e678(0x42a)]['updateOne']({'where':{'_id':_0x4b4dac?.['id']}},{'imagechat':_0xf0c65[_0x9e764e],'name':_0x4b4dac?.[_0x28e678(0x665)],'group_size':_0x4b4dac?.[_0x28e678(0x605)],'group_announce':_0x4b4dac?.[_0x28e678(0x650)],'group_isCommunity':_0x4b4dac?.[_0x28e678(0x40f)],'lastcache':Date[_0x28e678(0x30f)]()},this['instance'][_0x28e678(0x22f)]);_0x5c0dc7&&q(this[_0x28e678(0x38c)],_0x28e678(0x490),{'chat':_0x5c0dc7});}}return _0x1ac830;}catch(_0x2d595f){throw new L('Error\x20fetching\x20group',_0x2d595f['toString']());}}async['inviteCode'](_0x1ce40e){const _0x460f81=a0_0x3c6a8b;try{let _0x3eab9c=await this[_0x460f81(0x5b7)]['groupInviteCode'](_0x1ce40e['groupJid']);return{'inviteUrl':_0x460f81(0x27c)+_0x3eab9c,'inviteCode':_0x3eab9c};}catch(_0x4b55eb){throw new L(_0x460f81(0x2d4),_0x4b55eb[_0x460f81(0x341)]());}}async[a0_0x3c6a8b(0x3f3)](_0x363978){const _0x596229=a0_0x3c6a8b;try{let _0x45de40=await this[_0x596229(0x5b7)][_0x596229(0x6a1)](_0x363978[_0x596229(0x1e0)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x45de40,'inviteCode':_0x45de40};}catch(_0xc3d72e){throw new L('Revoke\x20error',_0xc3d72e[_0x596229(0x341)]());}}async[a0_0x3c6a8b(0x5a8)](_0x4bca9d){const _0x57ca7f=a0_0x3c6a8b;try{if((0x0,P[_0x57ca7f(0x3e6)])(_0x4bca9d['inviteCode']))var _0x10b4ca=_0x4bca9d[_0x57ca7f(0x30a)][_0x57ca7f(0x176)]('/')[0x3];else var _0x10b4ca=_0x4bca9d[_0x57ca7f(0x30a)];let _0x146eb=await this[_0x57ca7f(0x5b7)][_0x57ca7f(0x2cc)](_0x10b4ca);return this[_0x57ca7f(0x784)]['verbose'](this['instanceName']+'\x20('+this[_0x57ca7f(0x172)][_0x57ca7f(0x22f)]+_0x57ca7f(0x5ff)+_0x146eb),{'join':!0x0,'inviteCode':_0x10b4ca,'groupJid':_0x146eb};}catch(_0x272dab){throw new L(_0x57ca7f(0x6df),_0x272dab[_0x57ca7f(0x341)]());}}async[a0_0x3c6a8b(0x469)](_0x24eece){const _0x58ec00=a0_0x3c6a8b;try{return{'participants':(await this[_0x58ec00(0x5b7)]['groupMetadata'](_0x24eece[_0x58ec00(0x1e0)]))['participants']};}catch(_0x3b4f82){throw new L(_0x58ec00(0x18f),_0x3b4f82['toString']());}}async[a0_0x3c6a8b(0x18a)](_0x3a1835){const _0x2df2f1=a0_0x3c6a8b;try{return await this[_0x2df2f1(0x5b7)][_0x2df2f1(0x17f)](_0x3a1835[_0x2df2f1(0x1e0)]),{'groupJid':_0x3a1835['groupJid'],'leave':!0x0};}catch(_0x466b50){throw new w(_0x2df2f1(0x245),_0x466b50[_0x2df2f1(0x341)]());}}async[a0_0x3c6a8b(0x2e0)](_0x57614a){const _0x5bc0b8=a0_0x3c6a8b;return await this[_0x5bc0b8(0x6fc)](_0x57614a['number'],{'poll':{'name':_0x57614a['pollMessage']?.['name'],'selectableCount':_0x57614a['pollMessage'][_0x5bc0b8(0x43c)],'values':_0x57614a[_0x5bc0b8(0x2e0)][_0x5bc0b8(0x25c)]}},_0x57614a?.[_0x5bc0b8(0x3af)]);}async['listMessage'](_0x25d7bc){const _0x4a102d=a0_0x3c6a8b;return await this[_0x4a102d(0x6fc)](_0x25d7bc[_0x4a102d(0x47d)],{'listMessage':{'title':_0x25d7bc[_0x4a102d(0x1d7)][_0x4a102d(0x458)],'description':_0x25d7bc['listMessage'][_0x4a102d(0x7b1)],'buttonText':_0x25d7bc['listMessage']?.[_0x4a102d(0x6b3)],'footerText':_0x25d7bc[_0x4a102d(0x1d7)]?.['footerText'],'sections':_0x25d7bc['listMessage'][_0x4a102d(0x4de)],'listType':0x2}},_0x25d7bc?.[_0x4a102d(0x3af)]);}async[a0_0x3c6a8b(0x5ce)](_0xc78671){const _0x37de50=a0_0x3c6a8b;let _0x151feb;if(_0xc78671[_0x37de50(0x5ce)]['type']==='list'){let _0x1ce329=_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x503)]['indexOf']('\x0a'),_0xc79b52='',_0x455f77='';_0x1ce329!==-0x1?(_0xc79b52=_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x503)][_0x37de50(0x3eb)](0x0,_0x1ce329)[_0x37de50(0x7e8)](),_0x455f77=_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x503)][_0x37de50(0x3eb)](_0x1ce329+0x1)):_0x455f77=_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x503)];let _0x3e8918=_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x4df)]['filter'](_0x3aad18=>_0x3aad18[_0x37de50(0x7e8)]()!==''),_0x3ff3f8=this[_0x37de50(0x5bf)](_0x3e8918);_0x151feb={'listMessage':{'title':_0xc79b52,'description':_0x455f77,'buttonText':_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x6b3)]||_0x37de50(0x795),'footerText':_0xc78671[_0x37de50(0x5ce)]['footerText'],'sections':_0x3ff3f8,'listType':0x2}};}else{if(_0xc78671['menuMessage'][_0x37de50(0x2fb)]===_0x37de50(0x565)){let _0x32c835=_0xc78671[_0x37de50(0x5ce)]['choices']['filter'](_0x35773a=>!(_0x35773a[_0x37de50(0x615)]('[')&&_0x35773a[_0x37de50(0x625)](']'))&&_0x35773a[_0x37de50(0x7e8)]()!=='')[_0x37de50(0x177)](_0x285d18=>_0x285d18[_0x37de50(0x176)]('\x0a')[0x0]);_0x151feb={'poll':{'name':_0xc78671[_0x37de50(0x5ce)][_0x37de50(0x503)],'selectableCount':_0xc78671[_0x37de50(0x5ce)]['selectableCount']||0x1,'values':_0x32c835}};}}return await this['sendMessageWithTyping'](_0xc78671['number'],_0x151feb,_0xc78671?.[_0x37de50(0x3af)]);}[a0_0x3c6a8b(0x5bf)](_0x2d8e5f){const _0x20fc1d=a0_0x3c6a8b;let _0x2d7536=[],_0x4246d9={'rows':[]};return _0x2d8e5f[_0x20fc1d(0x471)](_0x3da389=>{const _0x20c940=_0x20fc1d;if(_0x3da389[_0x20c940(0x615)]('[')&&_0x3da389['endsWith'](']'))_0x4246d9[_0x20c940(0x267)][_0x20c940(0x3ca)]>0x0&&_0x2d7536['push'](_0x4246d9),_0x4246d9={'title':_0x3da389[_0x20c940(0x695)](0x1,-0x1),'rows':[]};else{let _0x301576=_0x3da389[_0x20c940(0x176)]('\x0a')[_0x20c940(0x177)](_0x45671d=>_0x45671d[_0x20c940(0x7e8)]()),_0x396203=_0x301576[0x0],_0x51001d=_0x301576[0x1]||null,_0x3dfcc6=_0x301576[0x2]||_0x396203;_0x4246d9['rows']['push']({'title':_0x396203,'description':_0x51001d,'rowId':_0x3dfcc6});}}),_0x4246d9[_0x20fc1d(0x267)]['length']>0x0&&_0x2d7536[_0x20fc1d(0x799)](_0x4246d9),_0x2d7536;}async[a0_0x3c6a8b(0x3c3)](_0x5b04c2,_0x22a158){const _0x15bf67=a0_0x3c6a8b;if(await this['getMessage'](_0x5b04c2,!0x0)){let _0x16bc75={'where':{'_id':_0x5b04c2['id']}},_0x1014cb={'status':[_0x22a158[_0x15bf67(0x6e3)]][0x0]};try{let _0x49e356=await this['repository'][_0x15bf67(0x78c)][_0x15bf67(0x5be)](_0x16bc75,_0x1014cb,this[_0x15bf67(0x172)][_0x15bf67(0x22f)]);_0x49e356&&q(this[_0x15bf67(0x38c)],_0x15bf67(0x14e),{'message':_0x49e356});}catch{}}}['sectionsToString'](_0x55b5a6){const _0x2f9444=a0_0x3c6a8b;let _0x57d766=[];return _0x55b5a6[_0x2f9444(0x471)](_0x5c0066=>{const _0x7363d5=_0x2f9444;_0x5c0066['title']&&_0x57d766[_0x7363d5(0x799)]('['+_0x5c0066[_0x7363d5(0x458)]+']'),_0x5c0066[_0x7363d5(0x267)][_0x7363d5(0x471)](_0x50957c=>{_0x57d766['push'](_0x50957c['title']);});}),_0x57d766[_0x2f9444(0x4a6)]('|');}[a0_0x3c6a8b(0x576)](_0x1d3481){const _0x24bcb8=a0_0x3c6a8b;let _0x21b9f1=_0x1d3481['replace'](/\\n/g,'\x0a')[_0x24bcb8(0x176)]('\x0a')['filter'](_0x215700=>_0x215700['includes'](_0x24bcb8(0x4c2))||_0x215700[_0x24bcb8(0x612)]('EMAIL')),_0x3d7d9a='';return _0x21b9f1['forEach'](_0x2f7bcb=>{const _0xf6d13c=_0x24bcb8;let _0x260d61=/TEL(?:.*):(.+)/,_0x2b549b=/EMAIL(?:.*):(.+)/,_0x3b93f2=_0x2f7bcb[_0xf6d13c(0x4e7)](_0x260d61),_0x1dcde0=_0x2f7bcb[_0xf6d13c(0x4e7)](_0x2b549b);if(_0x3b93f2){let _0x1ddb14=_0x3b93f2[0x1][_0xf6d13c(0x5bd)](/-| |\+|\(|\)/g,'')[_0xf6d13c(0x7e8)]();_0x3d7d9a+=_0xf6d13c(0x510)+_0x1ddb14+'\x0a';}else{if(_0x1dcde0){let _0x2716fa=_0x1dcde0[0x1][_0xf6d13c(0x7e8)]();_0x3d7d9a+='E-mail:\x20'+_0x2716fa+'\x0a';}}}),_0x3d7d9a[_0x24bcb8(0x7e8)]();}async[a0_0x3c6a8b(0x327)](_0x326a41,_0x408876,_0xe3b4){const _0x512ab8=a0_0x3c6a8b;if(!_0x326a41[_0x512ab8(0x619)])return;let _0x61cc5c=_0x408876[_0x512ab8(0x1c5)][_0x512ab8(0x248)]['replace'](/:\d{1,2}@/g,'@'),_0x365016=_0x408876['key'][_0x512ab8(0x699)],_0x5a21f3=_0x61cc5c['endsWith'](_0x512ab8(0x3a3)),_0xc265bc=_0x408876[_0x512ab8(0x1b2)]?.[_0x512ab8(0x503)]||_0x408876[_0x512ab8(0x1b2)]?.[_0x512ab8(0x540)]||_0x408876[_0x512ab8(0x1b2)]?.[_0x512ab8(0x5bb)]||_0x408876['message_normalized']?.[_0x512ab8(0x4e1)],_0x31523d={'lastmsg':_0x408876[_0x512ab8(0x3de)]||Date[_0x512ab8(0x30f)](),'unreadcount':_0x365016?0x0:0x1,..._0x365016||_0x5a21f3?{}:{'name':_0x408876[_0x512ab8(0x4c7)]},..._0x5a21f3?{'group':_0x5a21f3}:{},...!_0x365016&&!_0x5a21f3&&_0x408876[_0x512ab8(0x212)]?{'imagechat':_0x408876['profilePictureUrl']}:{}},_0x464394=await this[_0x512ab8(0x600)][_0x512ab8(0x42a)][_0x512ab8(0x119)]({'where':{'_id':_0x61cc5c}},_0x31523d,this[_0x512ab8(0x172)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x464394[_0x512ab8(0x5fd)]){let _0x32bf0a=await this[_0x512ab8(0x600)][_0x512ab8(0x6cb)]['find']({'where':{}},this[_0x512ab8(0x172)]['wuid']),_0x4dd301=new Set(_0x32bf0a[_0x512ab8(0x177)](_0x5d562b=>_0x5d562b[_0x512ab8(0x54e)])),_0xa4b78b=(_0x464394[_0x512ab8(0x536)]?.[_0x512ab8(0x546)]||[])[_0x512ab8(0x75f)](_0x4bb47b=>_0x4dd301[_0x512ab8(0x1be)](_0x4bb47b)),_0x101756={'leadInfo.etiquetas':_0xa4b78b,'imported':!0x1};_0x464394=await this['repository'][_0x512ab8(0x42a)][_0x512ab8(0x119)]({'where':{'_id':_0x61cc5c}},_0x101756,this['instance'][_0x512ab8(0x22f)]);for(let _0x24d978 of _0xa4b78b)await this['AddChatLabel'](_0x24d978,_0x61cc5c);}if(!_0x5a21f3&&(!_0x464394?.[_0x512ab8(0x536)]||!_0x464394['leadInfo'][_0x512ab8(0x220)])&&_0x408876['pushName']&&!_0x365016&&(_0x464394=await this[_0x512ab8(0x600)]['chat'][_0x512ab8(0x119)]({'where':{'_id':_0x61cc5c}},{'leadInfo.nome':_0x408876['pushName']},this[_0x512ab8(0x172)][_0x512ab8(0x22f)],{'new':!0x0,'upsert':!0x0})),_0xe3b4===_0x512ab8(0x74b)&&_0x365016&&this[_0x512ab8(0x16e)]?.[_0x512ab8(0x4c9)][_0x512ab8(0x628)]&&!_0xc265bc[_0x512ab8(0x615)](this[_0x512ab8(0x16e)]?.[_0x512ab8(0x4c9)][_0x512ab8(0x751)])){let _0x44794c=(this[_0x512ab8(0x16e)]?.[_0x512ab8(0x4c9)][_0x512ab8(0x575)]||0x5)*0xea60,_0x2d98f2=Date['now']()+_0x44794c;_0x464394?.[_0x512ab8(0x536)]?.[_0x512ab8(0x62a)]===0x0||(await this[_0x512ab8(0x600)][_0x512ab8(0x42a)][_0x512ab8(0x119)]({'where':{'_id':_0x61cc5c}},{'leadInfo.desativadoFluxoAte':_0x2d98f2},this['instance'][_0x512ab8(0x22f)],{'new':!0x0,'upsert':!0x1}),this[_0x512ab8(0x784)][_0x512ab8(0x1a2)](this[_0x512ab8(0x38c)]+'\x20('+this[_0x512ab8(0x172)]['wuid']+_0x512ab8(0x433)+_0x2d98f2+'.'));}if(_0x464394)q(this['instanceName'],_0x512ab8(0x490),{'chat':_0x464394});else{this['logger'][_0x512ab8(0x426)](this[_0x512ab8(0x38c)]+'\x20('+this[_0x512ab8(0x172)][_0x512ab8(0x22f)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x512ab8(0x16e)]?.[_0x512ab8(0x4c9)][_0x512ab8(0x628)])return this['logger'][_0x512ab8(0x1a2)](this[_0x512ab8(0x38c)]+'\x20('+this[_0x512ab8(0x172)]['wuid']+_0x512ab8(0x2a8)),null;if(_0x464394['_id']['includes']('@g.us')&&this[_0x512ab8(0x16e)]?.[_0x512ab8(0x4c9)][_0x512ab8(0x432)]===!0x0)return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x512ab8(0x172)][_0x512ab8(0x22f)]+_0x512ab8(0x4b7)),null;if(_0x464394[_0x512ab8(0x536)]){if(_0x464394[_0x512ab8(0x536)][_0x512ab8(0x62a)]===0x0||_0x464394[_0x512ab8(0x536)][_0x512ab8(0x484)])return this[_0x512ab8(0x784)][_0x512ab8(0x1a2)](this['instanceName']+'\x20('+this[_0x512ab8(0x172)]['wuid']+_0x512ab8(0x313)+_0x61cc5c+_0x512ab8(0x5ca)),null;if(_0x464394[_0x512ab8(0x536)][_0x512ab8(0x62a)]>Date[_0x512ab8(0x30f)]()&&!_0x408876['message_normalized']?.[_0x512ab8(0x5bb)])return this[_0x512ab8(0x784)][_0x512ab8(0x1a2)](this[_0x512ab8(0x38c)]+'\x20('+this[_0x512ab8(0x172)][_0x512ab8(0x22f)]+_0x512ab8(0x14f)+new Date(_0x464394[_0x512ab8(0x536)][_0x512ab8(0x62a)])[_0x512ab8(0x26f)]()+_0x512ab8(0x5ca)),null;}this[_0x512ab8(0x784)][_0x512ab8(0x1a2)](this[_0x512ab8(0x38c)]+'\x20('+this['instance'][_0x512ab8(0x22f)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0xe3b4,_0x408876);}async[a0_0x3c6a8b(0x45a)](_0x45722b,_0x49cf58){const _0x3d2dd8=a0_0x3c6a8b;if(_0x49cf58[_0x3d2dd8(0x619)]){let _0x5ce1ad=_0x45722b[_0x3d2dd8(0x177)](async _0x138068=>{const _0x318f92=_0x3d2dd8;try{let _0x4e51a8={'_id':_0x138068[_0x318f92(0x54e)],'owner':_0x138068[_0x318f92(0x270)],'lastcache':0x0};if(_0x138068[_0x318f92(0x2ae)]!==null&&(_0x4e51a8[_0x318f92(0x2ae)]=_0x138068[_0x318f92(0x2ae)]),_0x138068[_0x318f92(0x4e1)]!==null&&(_0x4e51a8[_0x318f92(0x4e1)]=_0x138068[_0x318f92(0x4e1)]),_0x138068[_0x318f92(0x228)]!==null&&(_0x4e51a8['contactname']=_0x138068[_0x318f92(0x228)]),_0x138068[_0x318f92(0x32c)]!==null&&(_0x4e51a8[_0x318f92(0x32c)]=_0x138068[_0x318f92(0x32c)]),_0x138068[_0x318f92(0x32c)]===null&&(_0x4e51a8[_0x318f92(0x32c)]=_0x318f92(0x3d7)),_0x138068[_0x318f92(0x66e)]!==null&&(_0x4e51a8['lastmsg']=_0x138068[_0x318f92(0x66e)]),_0x138068[_0x318f92(0x331)]!==null&&(_0x4e51a8[_0x318f92(0x331)]=_0x138068['archived']),_0x138068['unreadcount']!==null&&(_0x4e51a8['unreadcount']=_0x138068['unreadcount']),Object['keys'](_0x4e51a8)['length']>0x0)return await this['repository'][_0x318f92(0x42a)]['updateOne']({'where':{'_id':_0x138068[_0x318f92(0x54e)]}},_0x4e51a8,this['instance'][_0x318f92(0x22f)]);}catch(_0x4370a6){return console[_0x318f92(0x426)](_0x318f92(0x39a)+_0x138068[_0x318f92(0x54e)]+':',_0x4370a6),null;}}),_0x3a68ff=(await Promise[_0x3d2dd8(0x78a)](_0x5ce1ad))['filter'](_0xe91a21=>_0xe91a21!==null)[_0x3d2dd8(0x3ca)];this[_0x3d2dd8(0x784)][_0x3d2dd8(0x1a2)](this[_0x3d2dd8(0x38c)]+'\x20('+this['instance'][_0x3d2dd8(0x22f)]+'):\x20'+_0x3a68ff+_0x3d2dd8(0x580)+this[_0x3d2dd8(0x172)][_0x3d2dd8(0x22f)]+_0x3d2dd8(0x376));}}async[a0_0x3c6a8b(0x343)](_0x527400){const _0x327810=a0_0x3c6a8b;this[_0x327810(0x784)][_0x327810(0x1a2)](this[_0x327810(0x38c)]+'\x20('+this[_0x327810(0x172)][_0x327810(0x22f)]+_0x327810(0x2db));let _0x1855ef={'readMessages':[{'remoteJid':_0x527400[_0x327810(0x79d)][_0x327810(0x11f)][_0x327810(0x1c5)][_0x327810(0x248)],'fromMe':_0x527400[_0x327810(0x79d)][_0x327810(0x11f)]['key'][_0x327810(0x699)],'id':_0x527400['chatLog'][_0x327810(0x11f)][_0x327810(0x1c5)]['id']}]};await this[_0x327810(0x788)](_0x1855ef);}async[a0_0x3c6a8b(0x18d)](_0x506932,_0xb95781){const _0x4b2d3d=a0_0x3c6a8b;try{let {key:_0x2d8bdb,message_normalized:_0x53fe23}=_0xb95781,_0x3b814f=_0x53fe23,_0x51edb0=_0x53fe23['text']||_0x53fe23[_0x4b2d3d(0x540)]||_0x53fe23['vote']||_0x53fe23[_0x4b2d3d(0x4e1)],_0xfbfd71=_0x2d8bdb[_0x4b2d3d(0x248)],_0x424790;if(_0x3b814f[_0x4b2d3d(0x1c5)][_0x4b2d3d(0x699)]&&_0x51edb0[_0x4b2d3d(0x7e8)]()!==this[_0x4b2d3d(0x16e)]?.[_0x4b2d3d(0x4c9)]['stopConversation']['trim']())return this[_0x4b2d3d(0x784)][_0x4b2d3d(0x1a2)](this[_0x4b2d3d(0x38c)]+'\x20('+this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x3b814f[_0x4b2d3d(0x1c5)][_0x4b2d3d(0x699)]&&_0x51edb0['trim']()===this[_0x4b2d3d(0x16e)]?.[_0x4b2d3d(0x4c9)][_0x4b2d3d(0x2a3)][_0x4b2d3d(0x7e8)]()){this[_0x4b2d3d(0x784)][_0x4b2d3d(0x1a2)](this[_0x4b2d3d(0x38c)]+'\x20('+this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x1a8));let _0x580b81=await this['repository'][_0x4b2d3d(0x4d1)][_0x4b2d3d(0x217)]({'remoteJid':_0xfbfd71,'status':'open'},this['instance']['wuid']);this[_0x4b2d3d(0x784)][_0x4b2d3d(0x1a2)](this[_0x4b2d3d(0x38c)]+'\x20('+this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x66b)+_0x580b81);let _0x29ffcf=Date[_0x4b2d3d(0x30f)](),_0x5355bd;return this['AutomateSystem']?.[_0x4b2d3d(0x4c9)][_0x4b2d3d(0x62e)]===0x0?_0x5355bd={'stoppedUntil':_0x29ffcf+0x7591f6200}:_0x5355bd={'stoppedUntil':_0x29ffcf+this['AutomateSystem']?.[_0x4b2d3d(0x4c9)]['stopMinutes']*0x3c*0x3e8},this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x457)+_0x5355bd),this['updateStopChat'](_0x424790,_0x5355bd['stoppedUntil']),null;}if(_0x51edb0&&_0x51edb0['startsWith'](this[_0x4b2d3d(0x16e)]?.[_0x4b2d3d(0x4c9)][_0x4b2d3d(0x751)])&&_0x51edb0['length']>0x4){let _0x1fd7d2=await this[_0x4b2d3d(0x600)][_0x4b2d3d(0x725)]['findOne']({'where':{'startCommandWord':_0x51edb0}},this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]);if(this['logger'][_0x4b2d3d(0x1a2)](this[_0x4b2d3d(0x38c)]+'\x20('+this[_0x4b2d3d(0x172)][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x5fa)),_0x1fd7d2)_0x424790=await this[_0x4b2d3d(0x4e0)](_0x1fd7d2,_0x3b814f[_0x4b2d3d(0x1c5)],_0x3b814f);else return this[_0x4b2d3d(0x784)][_0x4b2d3d(0x1a2)](this[_0x4b2d3d(0x38c)]+'\x20('+this[_0x4b2d3d(0x172)]['wuid']+_0x4b2d3d(0x4bf)),null;}else _0x424790=await this[_0x4b2d3d(0x770)](_0xfbfd71,_0x3b814f);if(_0x424790){this[_0x4b2d3d(0x784)]['verbose'](this[_0x4b2d3d(0x38c)]+'\x20('+this['instance'][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x3b0)),!_0x2d8bdb[_0x4b2d3d(0x699)]&&_0x424790[_0x4b2d3d(0x333)]&&this['readMessageBot'](_0x424790);let _0x1545d9=await this['NextBlock'](_0x424790);_0x1545d9&&await this['processblock'](_0x424790,_0x1545d9);}}catch(_0x5419fe){this[_0x4b2d3d(0x784)]['error'](this[_0x4b2d3d(0x38c)]+'\x20('+this['instance'][_0x4b2d3d(0x22f)]+_0x4b2d3d(0x152)+(_0x5419fe instanceof Error?_0x5419fe[_0x4b2d3d(0x78c)]:JSON[_0x4b2d3d(0x6ab)](_0x5419fe,null,0x2)));}}[a0_0x3c6a8b(0x196)](_0x290ed0,_0x337b79='',_0x327df0={},_0x2028fb=!0x0){const _0x2d09c0=a0_0x3c6a8b;for(let _0x25284b in _0x290ed0){let _0x1ab450=_0x2028fb?'_'+_0x25284b:''+_0x337b79+_0x25284b;typeof _0x290ed0[_0x25284b]==_0x2d09c0(0x26c)&&_0x290ed0[_0x25284b]!==null?this[_0x2d09c0(0x196)](_0x290ed0[_0x25284b],_0x1ab450+'.',_0x327df0,!0x1):_0x327df0[_0x1ab450]=String(_0x290ed0[_0x25284b]);}return _0x327df0;}['variablesToObject'](_0x10f69b){const _0x56e00b=a0_0x3c6a8b;let _0x392a10={};for(let _0x1d215e of _0x10f69b)typeof _0x1d215e[_0x56e00b(0x4e1)]==_0x56e00b(0x4f8)&&typeof _0x1d215e[_0x56e00b(0x1b1)]==_0x56e00b(0x4f8)&&(_0x392a10[_0x1d215e[_0x56e00b(0x4e1)]]=_0x1d215e[_0x56e00b(0x1b1)]);return _0x392a10;}async[a0_0x3c6a8b(0x5e1)](_0x1e28c7){const _0x46de09=a0_0x3c6a8b;if(!this[_0x46de09(0x16e)]?.[_0x46de09(0x4c9)][_0x46de09(0x628)]||_0x1e28c7['status']!==_0x46de09(0x61e)&&_0x1e28c7[_0x46de09(0x7e4)]==='')return null;let _0xb25654=_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x138)]||'start';typeof _0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x5f7)]>'u'&&(_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x5f7)]=!0x0);let _0x4f7833=_0x1e28c7[_0x46de09(0x79d)]['lastCondition'];this['logger'][_0x46de09(0x1a2)](this[_0x46de09(0x38c)]+'\x20('+this[_0x46de09(0x172)][_0x46de09(0x22f)]+'):\x20lastBlockId:\x20'+_0xb25654+',\x20lastCondition:\x20'+_0x4f7833);let _0x48bfc6=_0xb25654===_0x46de09(0x19a)?_0x1e28c7[_0x46de09(0x2f4)]['find'](_0x4343cf=>_0x4343cf[_0x46de09(0x2fb)]===_0x46de09(0x19a)):_0x1e28c7[_0x46de09(0x2f4)][_0x46de09(0x217)](_0x30c404=>_0x30c404[_0x46de09(0x54e)][_0x46de09(0x341)]()===_0xb25654['toString']());if(!_0x48bfc6)return this['logger'][_0x46de09(0x426)](this[_0x46de09(0x38c)]+'\x20('+this['instance']['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0xb25654),null;let _0x265549={'_pushName':_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x11f)][_0x46de09(0x4c7)],..._0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x4bb)]},_0x5c1c0a=null;if(_0x1e28c7[_0x46de09(0x7e4)]){let _0x1aff09=_0x1e28c7['chatLog']['lastReceivedMessage'][_0x46de09(0x5bb)],_0x1c28f0=_0x1e28c7[_0x46de09(0x1cb)][_0x46de09(0x217)](_0x220ecc=>_0x220ecc['option']===_0x1aff09);if(_0x1c28f0){let _0x1618e1=_0x1c28f0[_0x46de09(0x1e7)];if(_0x5c1c0a=_0x1e28c7[_0x46de09(0x2f4)][_0x46de09(0x217)](_0x510bf9=>_0x510bf9['groupId']===_0x1618e1&&_0x510bf9['order']===0x1),_0x48bfc6[_0x46de09(0x532)]['pollOnReplyDelete']){let _0x471102={'id':_0x1e28c7[_0x46de09(0x7e4)],'remoteJid':_0x1e28c7[_0x46de09(0x248)],'fromMe':!0x0};await this[_0x46de09(0x3c6)](_0x471102);}if(_0x48bfc6[_0x46de09(0x532)][_0x46de09(0x324)]&&_0x48bfc6['uazapi'][_0x46de09(0x5ad)]&&_0x48bfc6['uazapi'][_0x46de09(0x359)]==='poll'){let _0x37fbfc={'number':_0x1e28c7['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x46de09(0x5ee)+_0x1e28c7[_0x46de09(0x54a)]+_0x46de09(0x659)+_0x1aff09}};await this[_0x46de09(0x15a)](_0x37fbfc);}_0x1e28c7[_0x46de09(0x6e3)]=_0x46de09(0x61e),_0x1e28c7[_0x46de09(0x7e4)]='',_0x1e28c7[_0x46de09(0x54a)]='',_0x1e28c7['waitingMenu_replyOptions']=[];}else{this[_0x46de09(0x784)][_0x46de09(0x1a2)](this['instanceName']+'\x20('+this[_0x46de09(0x172)]['wuid']+_0x46de09(0x27f));let _0x4255a5={'activatedCount':_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x24c)][_0x46de09(0x75f)](_0x11b770=>String(_0x11b770[_0x46de09(0x5cf)])===String(_0xb25654))['length'],'moreLogs':[_0x46de09(0x602)]};if(_0x48bfc6[_0x46de09(0x532)][_0x46de09(0x1ad)]){let _0x396e0b={'number':_0x1e28c7[_0x46de09(0x248)],'options':{'delay':0x0},'textMessage':{'text':_0x48bfc6[_0x46de09(0x532)][_0x46de09(0x1ad)]}};await this[_0x46de09(0x15a)](_0x396e0b);}if(_0x48bfc6['maxActives']!==void 0x0&&_0x4255a5['activatedCount']>=_0x48bfc6['maxActives']){let _0x224fb5=Date['now'](),_0x300af6=_0x48bfc6[_0x46de09(0x3d4)]??0xa;isNaN(_0x300af6)&&(_0x300af6=0xa);let _0x123007=_0x224fb5+_0x300af6*0x3c*0x3e8;_0x4255a5[_0x46de09(0x7ba)]=_0x123007,_0x4255a5['moreLogs'][_0x46de09(0x799)](_0x46de09(0x24f)),this['updateStopChat'](_0x1e28c7,_0x123007),_0x1e28c7[_0x46de09(0x7e4)]='',_0x1e28c7['waitingMenu_text']='',_0x1e28c7['waitingMenu_replyOptions']=[];}return this[_0x46de09(0x229)](_0x1e28c7,_0x48bfc6,_0x4255a5,!0x0),null;}}if(_0x4f7833&&_0x48bfc6[_0x46de09(0x1e7)]&&!_0x1e28c7[_0x46de09(0x7e4)]){let _0x1a7bee=_0x1e28c7['blocks'][_0x46de09(0x75f)](_0x51f2a3=>_0x51f2a3[_0x46de09(0x32f)][_0x46de09(0x341)]()===_0x48bfc6[_0x46de09(0x1e7)]['toString']())['sort']((_0x3b2346,_0x413b74)=>_0x3b2346[_0x46de09(0x310)]-_0x413b74['order']);_0x1a7bee['length']>0x0&&(_0x5c1c0a=_0x1a7bee[0x0]);}if(!_0x5c1c0a){let _0xf7a05=_0x48bfc6[_0x46de09(0x32f)],_0x5e5941=_0x1e28c7[_0x46de09(0x2f4)]['filter'](_0x2e3878=>_0x2e3878[_0x46de09(0x32f)]===_0xf7a05&&_0x2e3878[_0x46de09(0x310)]>_0x48bfc6[_0x46de09(0x310)])['sort']((_0x33a244,_0x19fa96)=>_0x33a244[_0x46de09(0x310)]-_0x19fa96[_0x46de09(0x310)]);_0x5e5941[_0x46de09(0x3ca)]>0x0&&(_0x5c1c0a=_0x5e5941[0x0]);}if(!_0x5c1c0a)return _0x1e28c7[_0x46de09(0x6e3)]=_0x46de09(0x482),null;_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x4bb)]=_0x265549;let _0x26760b=JSON[_0x46de09(0x568)](JSON['stringify'](_0x5c1c0a));return this[_0x46de09(0x2a2)](_0x26760b,_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x4bb)]),_0x1e28c7[_0x46de09(0x79d)][_0x46de09(0x138)]=_0x26760b[_0x46de09(0x54e)],_0x1e28c7['chatLog']['lastCondition']=!0x0,_0x26760b;}[a0_0x3c6a8b(0x2eb)](_0x3a5106,_0x145d6d){const _0x59b776=a0_0x3c6a8b;return _0x3a5106[_0x59b776(0x5bd)](/\{\{([^}]+)\}\}/g,(_0xb3e626,_0x1c5c7a)=>_0x145d6d[_0x1c5c7a]||'');}['replaceVariablesInObject'](_0x27a2ec,_0x100e15){const _0x276d3b=a0_0x3c6a8b;for(let _0x4f8af1 in _0x27a2ec)typeof _0x27a2ec[_0x4f8af1]==_0x276d3b(0x4f8)?_0x27a2ec[_0x4f8af1]=this[_0x276d3b(0x2eb)](_0x27a2ec[_0x4f8af1],_0x100e15):typeof _0x27a2ec[_0x4f8af1]=='object'&&this[_0x276d3b(0x2a2)](_0x27a2ec[_0x4f8af1],_0x100e15);}async[a0_0x3c6a8b(0x796)](_0x37383a,_0x1459a8){const _0x14a210=a0_0x3c6a8b;let _0x1b199d=_0x1459a8[_0x14a210(0x54e)];if(_0x37383a[_0x14a210(0x79d)]&&_0x37383a[_0x14a210(0x79d)][_0x14a210(0x24c)]){let _0x1bd96c=_0x37383a[_0x14a210(0x79d)][_0x14a210(0x24c)]['filter'](_0x3910b1=>String(_0x3910b1[_0x14a210(0x5cf)])===String(_0x1b199d))[_0x14a210(0x26a)]();if(_0x1bd96c&&_0x1bd96c[_0x14a210(0x426)]&&_0x1459a8[_0x14a210(0x56b)])return _0x37383a[_0x14a210(0x6e3)]=_0x14a210(0x482),await this['saveConversationToDatabase'](_0x37383a),null;}if(_0x1459a8['type']===_0x14a210(0x532)&&_0x1459a8[_0x14a210(0x532)][_0x14a210(0x281)]===_0x14a210(0x33e)&&_0x37383a[_0x14a210(0x7e4)])return _0x37383a[_0x14a210(0x79d)][_0x14a210(0x138)]=_0x1b199d,await this[_0x14a210(0x4c5)](_0x37383a),null;let _0x3b0811=await this[_0x14a210(0x5e1)](_0x37383a);if(_0x37383a[_0x14a210(0x79d)]&&_0x37383a[_0x14a210(0x79d)][_0x14a210(0x24c)]){let _0x1e22c3=_0x37383a['chatLog'][_0x14a210(0x24c)][_0x14a210(0x75f)](_0x189ce1=>String(_0x189ce1['blockId'])===String(_0x1b199d))[_0x14a210(0x3ca)];if(_0x1459a8[_0x14a210(0x579)]!==void 0x0&&_0x1e22c3>=_0x1459a8[_0x14a210(0x579)]){let _0x5d4762=Date['now'](),_0x3cdd46=_0x1459a8['stopMinutesMaxActives']??0xa;isNaN(_0x3cdd46)&&(_0x3cdd46=0xa);let _0x3badd6=_0x5d4762+_0x3cdd46*0x3c*0x3e8,_0x24bd2c={'newStoppedUntil':_0x3badd6};return this[_0x14a210(0x285)](_0x37383a,_0x3badd6),this[_0x14a210(0x229)](_0x37383a,_0x1459a8,_0x24bd2c,!0x0),null;}}_0x3b0811&&_0x3b0811[_0x14a210(0x2fb)]!==_0x14a210(0x41b)&&await this[_0x14a210(0x200)](_0x37383a,_0x3b0811),_0x3b0811||await this[_0x14a210(0x4c5)](_0x37383a),_0x3b0811&&_0x3b0811[_0x14a210(0x2fb)]==='save'&&(_0x37383a['chatLog'][_0x14a210(0x138)]=_0x1b199d,await this[_0x14a210(0x4c5)](_0x37383a));}async[a0_0x3c6a8b(0x200)](_0x66d3a5,_0x4c1220){const _0x552b6c=a0_0x3c6a8b;try{let _0x2c799c=_0x4c1220[_0x552b6c(0x2fb)];this[_0x552b6c(0x784)][_0x552b6c(0x1a2)](this[_0x552b6c(0x38c)]+'\x20('+this[_0x552b6c(0x172)][_0x552b6c(0x22f)]+_0x552b6c(0x36a)+_0x2c799c);let _0x5a0944={'uazapi':()=>this[_0x552b6c(0x264)](_0x66d3a5,_0x4c1220),'save':()=>this[_0x552b6c(0x3ab)](_0x66d3a5,_0x4c1220),'stop':()=>this['stopConversation'](_0x66d3a5,_0x4c1220),'condition':()=>this[_0x552b6c(0x544)](_0x66d3a5,_0x4c1220),'varedit':()=>this[_0x552b6c(0x685)](_0x66d3a5,_0x4c1220),'apirequest':()=>this['processApiRequest'](_0x66d3a5,_0x4c1220),'goToFlow':()=>this[_0x552b6c(0x18c)](_0x66d3a5,_0x4c1220)}[_0x2c799c];_0x5a0944&&await _0x5a0944();}catch(_0x3a450e){this['logger'][_0x552b6c(0x426)](this[_0x552b6c(0x38c)]+'\x20('+this[_0x552b6c(0x172)][_0x552b6c(0x22f)]+_0x552b6c(0x45b)+(_0x3a450e instanceof Error?_0x3a450e[_0x552b6c(0x78c)]:JSON[_0x552b6c(0x6ab)](_0x3a450e,null,0x2)));}}async['processgoToFlow'](_0x3f1c2d,_0xf8faa8){const _0x161826=a0_0x3c6a8b;if(this[_0x161826(0x784)][_0x161826(0x1a2)](this[_0x161826(0x38c)]+'\x20('+this[_0x161826(0x172)][_0x161826(0x22f)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x3f1c2d||!_0xf8faa8)return this[_0x161826(0x784)]['error'](this[_0x161826(0x38c)]+'\x20('+this['instance'][_0x161826(0x22f)]+_0x161826(0x72a)),null;await this[_0x161826(0x229)](_0x3f1c2d,_0xf8faa8,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x161826(0x1f7)](_0xf8faa8);let _0x384492=_0xf8faa8[_0x161826(0x1e5)];console[_0x161826(0x1f7)](_0x161826(0x201),_0x384492),_0x3f1c2d=await this['createConversationforgoToFlow'](_0x384492,_0x3f1c2d[_0x161826(0x248)],_0x3f1c2d['chatLog']['realVariables']),this[_0x161826(0x784)][_0x161826(0x1a2)](this[_0x161826(0x38c)]+'\x20('+this[_0x161826(0x172)]['wuid']+_0x161826(0x2bc));let _0x16f4ae=await this[_0x161826(0x5e1)](_0x3f1c2d);_0x16f4ae&&await this[_0x161826(0x200)](_0x3f1c2d,_0x16f4ae);}async['createConversationforgoToFlow'](_0x7c7ff8,_0x104e91,_0x1485ae){const _0x5aab89=a0_0x3c6a8b;this[_0x5aab89(0x784)][_0x5aab89(0x1a2)](this['instanceName']+'\x20('+this[_0x5aab89(0x172)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x7c7ff8=await this['repository'][_0x5aab89(0x725)][_0x5aab89(0x23a)]({'where':{'name':_0x7c7ff8}},this[_0x5aab89(0x172)][_0x5aab89(0x22f)]),!_0x7c7ff8)return this[_0x5aab89(0x784)][_0x5aab89(0x426)](this['instanceName']+'\x20('+this[_0x5aab89(0x172)]['wuid']+_0x5aab89(0x7a4)),null;let _0x9679a4=require(_0x5aab89(0x5bc))[_0x5aab89(0x154)],_0x1d81b0=Date[_0x5aab89(0x30f)](),_0x59b795=_0x5aab89(0x19a),_0x467194={},_0xbe285f={},_0x172c1a={..._0x7c7ff8,'chatLog':null},_0x4d7f3a={'lastReceivedMessage':_0x467194,'lastSendMessage':_0xbe285f,'lastBlockId':_0x59b795,'lastCondition':!0x0,'realVariables':_0x1485ae};_0x172c1a['chatLog']=_0x4d7f3a,_0x172c1a[_0x5aab89(0x79d)][_0x5aab89(0x4bb)]={..._0x1485ae},delete _0x172c1a[_0x5aab89(0x54e)],_0x172c1a[_0x5aab89(0x54e)]=new _0x9679a4(),_0x172c1a[_0x5aab89(0x617)]=_0x1d81b0,_0x172c1a[_0x5aab89(0x6e3)]='open',_0x172c1a[_0x5aab89(0x248)]=_0x104e91;let _0x5b626d=await this[_0x5aab89(0x600)]['flowConversation'][_0x5aab89(0x119)](_0x172c1a[_0x5aab89(0x54e)],_0x172c1a,this['instance'][_0x5aab89(0x22f)]);return this[_0x5aab89(0x784)]['verbose'](this[_0x5aab89(0x38c)]+'\x20('+this[_0x5aab89(0x172)][_0x5aab89(0x22f)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5b626d?_0x172c1a:null;}catch(_0x35e060){throw this[_0x5aab89(0x784)]['error'](this[_0x5aab89(0x38c)]+'\x20('+this[_0x5aab89(0x172)]['wuid']+_0x5aab89(0x554)+(_0x35e060 instanceof Error?_0x35e060[_0x5aab89(0x78c)]:JSON[_0x5aab89(0x6ab)](_0x35e060,null,0x2))),new w(_0x35e060[_0x5aab89(0x78c)]);}}async['processApiRequest'](_0x4e917f,_0x4cafd9){const _0x3172a5=a0_0x3c6a8b;let _0x50523f,_0x6681d1;try{let _0x56d299=_0x4cafd9[_0x3172a5(0x4aa)];if(!_0x56d299||!_0x56d299[_0x3172a5(0x415)]||!_0x56d299['method'])throw new Error(_0x3172a5(0x1bb));let _0x2b9815;([_0x3172a5(0x71c),'https://api.openai.com/v1/images/generations',_0x3172a5(0x40a)][_0x3172a5(0x729)](_0x356d99=>_0x56d299[_0x3172a5(0x415)][_0x3172a5(0x612)](_0x356d99))||_0x56d299['requestFile'])&&(_0x2b9815=_0x3172a5(0x7b5));let _0x37fb8e={'method':_0x56d299[_0x3172a5(0x41c)],'url':_0x56d299[_0x3172a5(0x415)],'headers':_0x56d299[_0x3172a5(0x767)]||{},'data':_0x56d299['body']||{},..._0x2b9815&&{'responseType':_0x2b9815}},_0x2c027c=await(0x0,Z['default'])(_0x37fb8e),_0x49dc76=_0x2c027c[_0x3172a5(0x5e3)][_0x3172a5(0x51f)];if(_0x49dc76&&_0x49dc76['includes']('application/json')){_0x50523f=_0x2c027c[_0x3172a5(0x2ea)];let _0x52a931=_0x4e917f[_0x3172a5(0x79d)]['realVariables'],_0x4f166c=this[_0x3172a5(0x196)](_0x50523f);return Object[_0x3172a5(0x273)](_0x52a931,_0x4f166c),_0x4e917f[_0x3172a5(0x79d)][_0x3172a5(0x4bb)]=_0x52a931,_0x6681d1={'error':!0x1,'apiResponse':_0x50523f},this[_0x3172a5(0x229)](_0x4e917f,_0x4cafd9,_0x6681d1),_0x50523f;}if(_0x49dc76&&(_0x49dc76[_0x3172a5(0x612)](_0x3172a5(0x474))||_0x49dc76[_0x3172a5(0x612)](_0x3172a5(0x11c))||_0x49dc76[_0x3172a5(0x612)](_0x3172a5(0x4f7))||_0x49dc76[_0x3172a5(0x612)](_0x3172a5(0x2ca)))){this[_0x3172a5(0x784)][_0x3172a5(0x1a2)](this[_0x3172a5(0x38c)]+'\x20('+this[_0x3172a5(0x172)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x49dc76);let _0x352ac5=(0x0,Re['v4'])(),_0x56bee3='',_0x3030e9={'image/jpeg':_0x3172a5(0x6f5),'image/png':'.png','image/gif':_0x3172a5(0x5d2),'image/webp':_0x3172a5(0x6b1),'image/svg+xml':_0x3172a5(0x7e3),'audio/mpeg':'.mp3','audio/ogg':_0x3172a5(0x262),'audio/wav':_0x3172a5(0x56e),'video/mp4':'.mp4','video/webm':_0x3172a5(0x326),'video/ogg':_0x3172a5(0x29d),'text/plain':'.txt','application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x3172a5(0x1ee),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3172a5(0x730),'application/vnd.ms-powerpoint':_0x3172a5(0x5af),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3172a5(0x793)};_0x3030e9[_0x49dc76]?(_0x56bee3=_0x3030e9[_0x49dc76],this['logger'][_0x3172a5(0x1a2)](this[_0x3172a5(0x38c)]+'\x20('+this['instance'][_0x3172a5(0x22f)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x56bee3)):(_0x56bee3=_0x3172a5(0x684),this[_0x3172a5(0x784)][_0x3172a5(0x1a2)](this[_0x3172a5(0x38c)]+'\x20('+this[_0x3172a5(0x172)][_0x3172a5(0x22f)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x56bee3)),_0x352ac5+=_0x56bee3,this[_0x3172a5(0x784)][_0x3172a5(0x1a2)](this[_0x3172a5(0x38c)]+'\x20('+this[_0x3172a5(0x172)][_0x3172a5(0x22f)]+_0x3172a5(0x39c)+_0x352ac5);let _0x31962d=this[_0x3172a5(0x305)][_0x3172a5(0x37f)](_0x3172a5(0x734))[_0x3172a5(0x195)];if(!_0x31962d){let _0x365893=this['configService'][_0x3172a5(0x37f)](_0x3172a5(0x404));_0x31962d='https://'+(_0x365893&&_0x365893['FULLCHAIN'][_0x3172a5(0x176)]('/')[0x4]);}let _0x1f4c66=Buffer[_0x3172a5(0x223)](_0x2c027c[_0x3172a5(0x2ea)]);await this[_0x3172a5(0x2da)](_0x1f4c66,_0x352ac5);let _0x483bdb=_0x3172a5(0x11b)+_0x352ac5;_0x483bdb=''+_0x31962d+_0x483bdb,_0x50523f={'fileUrl':_0x483bdb},_0x4e917f[_0x3172a5(0x79d)]['realVariables'][_0x3172a5(0x21b)]=_0x483bdb;let _0x36b735=_0x4e917f[_0x3172a5(0x79d)][_0x3172a5(0x4bb)],_0xcb2c02=this['flattenObject'](_0x50523f);return Object['assign'](_0x36b735,_0xcb2c02),_0x4e917f['chatLog']['realVariables']=_0x36b735,_0x6681d1={'error':!0x1,'apiResponse':{'fileUrl':_0x483bdb}},this[_0x3172a5(0x229)](_0x4e917f,_0x4cafd9,_0x6681d1),_0x50523f;}}catch(_0x214af5){console['error'](_0x3172a5(0x64b),_0x214af5),_0x214af5[_0x3172a5(0x218)]&&(_0x50523f=_0x214af5[_0x3172a5(0x218)][_0x3172a5(0x2ea)]);let _0x2b8f55=_0x4e917f[_0x3172a5(0x79d)][_0x3172a5(0x4bb)],_0x45745f=this['flattenObject'](_0x50523f);return Object[_0x3172a5(0x273)](_0x2b8f55,_0x45745f),_0x4e917f['chatLog'][_0x3172a5(0x4bb)]=_0x2b8f55,_0x6681d1={'error':!0x0,'errorLog':_0x214af5[_0x3172a5(0x341)](),'apiResponse':_0x50523f},this[_0x3172a5(0x229)](_0x4e917f,_0x4cafd9,_0x6681d1),{'success':!0x1};}}['applyvaredit'](_0x1d0fbd,_0x15e1e3){const _0x53abd7=a0_0x3c6a8b;let _0x2b4200=_0x2aca7d=>{const _0x3195b6=a0_0xccf1;let _0x5cf255=_0x2aca7d[_0x3195b6(0x5bd)](/[^0-9.,-]/g,'')[_0x3195b6(0x5bd)](',','.'),_0x31eff5=parseFloat(_0x5cf255);return isNaN(_0x31eff5)?null:_0x31eff5;},_0x37e896=_0x15e1e3['firstValue'],_0x3db32c=_0x15e1e3[_0x53abd7(0x1a4)];typeof _0x37e896==_0x53abd7(0x4f8)&&(_0x37e896=this[_0x53abd7(0x2eb)](_0x37e896,_0x1d0fbd[_0x53abd7(0x79d)][_0x53abd7(0x4bb)])??''),typeof _0x3db32c==_0x53abd7(0x4f8)&&(_0x3db32c=this[_0x53abd7(0x2eb)](_0x3db32c,_0x1d0fbd[_0x53abd7(0x79d)][_0x53abd7(0x4bb)])??'');let _0x2e53e3=null;if(!_0x15e1e3[_0x53abd7(0x55c)])return null;switch(this[_0x53abd7(0x784)]['verbose'](this['instanceName']+'\x20('+this[_0x53abd7(0x172)][_0x53abd7(0x22f)]+_0x53abd7(0x290)+_0x37e896),this['logger'][_0x53abd7(0x1a2)](this[_0x53abd7(0x38c)]+'\x20('+this[_0x53abd7(0x172)][_0x53abd7(0x22f)]+_0x53abd7(0x5fb)+_0x3db32c),_0x15e1e3[_0x53abd7(0x55c)]){case'+':case'-':case'*':case'/':let _0x45035c=_0x2b4200(_0x37e896||'0'),_0x25677e=_0x2b4200(_0x3db32c||'0');if(_0x45035c===null)return null;switch(_0x15e1e3[_0x53abd7(0x55c)]){case'+':_0x2e53e3=_0x45035c+(_0x25677e??0x0);break;case'-':_0x2e53e3=_0x45035c-(_0x25677e??0x0);break;case'*':_0x2e53e3=_0x45035c*(_0x25677e??0x1);break;case'/':_0x25677e!==0x0&&(_0x2e53e3=_0x45035c/(_0x25677e??0x1));break;}break;case _0x53abd7(0x7be):case _0x53abd7(0x4ba):let _0x656e86=_0x3db32c,_0x1784bb=_0x15e1e3['replaceValue'];if(typeof _0x1784bb==_0x53abd7(0x4f8)&&(_0x1784bb=this[_0x53abd7(0x2eb)](_0x1784bb,_0x1d0fbd[_0x53abd7(0x79d)][_0x53abd7(0x4bb)])??''),_0x656e86&&_0x1784bb!==void 0x0){let _0x14cbf7=_0x15e1e3[_0x53abd7(0x55c)]===_0x53abd7(0x7be)?new RegExp(_0x656e86['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x53abd7(0x651)),'g'):new RegExp(_0x656e86,'g');_0x2e53e3=_0x37e896[_0x53abd7(0x5bd)](_0x14cbf7,_0x1784bb);}else console[_0x53abd7(0x22b)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x53abd7(0x72e):_0x2e53e3=_0x3db32c;break;case _0x53abd7(0x712):let _0x49cd7c=_0x37e896[_0x53abd7(0x4e7)](new RegExp(_0x3db32c||''));_0x2e53e3=_0x49cd7c?_0x49cd7c[0x0]:'';break;case _0x53abd7(0x3ae):_0x2e53e3=_0x37e896[_0x53abd7(0x695)](0x0,parseInt(_0x3db32c||'0'));break;case _0x53abd7(0x750):let _0x4b58a9=parseInt(_0x3db32c||'0');_0x2e53e3=_0x37e896[_0x53abd7(0x695)](_0x37e896[_0x53abd7(0x3ca)]-_0x4b58a9);break;case'toBrazilianNumberFormat':let _0x450731=_0x2b4200(_0x37e896),_0x350223=parseInt(_0x3db32c||'0');_0x350223=Math[_0x53abd7(0x6d7)](_0x350223),_0x450731!==null?_0x2e53e3=_0x450731[_0x53abd7(0x26f)](_0x53abd7(0x57e),{'minimumFractionDigits':_0x350223,'maximumFractionDigits':_0x350223}):(console[_0x53abd7(0x22b)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x37e896),_0x2e53e3=null);break;case _0x53abd7(0x187):let _0xeef2c6=_0x2b4200(_0x37e896);_0xeef2c6!==null?_0x2e53e3=_0xeef2c6['toLocaleString'](_0x53abd7(0x57e),{'style':_0x53abd7(0x595),'currency':_0x53abd7(0x470)}):(console[_0x53abd7(0x22b)](_0x53abd7(0x52d)+_0x37e896),_0x2e53e3=null);break;case _0x53abd7(0x3ec):_0x2e53e3=_0x37e896[_0x53abd7(0x21a)]();break;case'lowerCase':_0x2e53e3=_0x37e896[_0x53abd7(0x44f)]();break;case _0x53abd7(0x561):_0x2e53e3=_0x37e896[_0x53abd7(0x176)]('\x20')[_0x53abd7(0x177)](_0x2ccb7e=>_0x2ccb7e['charAt'](0x0)[_0x53abd7(0x21a)]()+_0x2ccb7e['slice'](0x1)[_0x53abd7(0x44f)]())['join']('\x20');break;case _0x53abd7(0x380):_0x2e53e3=_0x37e896[_0x53abd7(0x7e8)]();break;default:_0x2e53e3=_0x37e896;}return _0x2e53e3!==null?_0x2e53e3[_0x53abd7(0x341)]():null;}async['processvaredits'](_0x364f24,_0x35ca9b){const _0x33a6bc=a0_0x3c6a8b;try{let _0x37c032=_0x364f24[_0x33a6bc(0x3a5)]?.[_0x33a6bc(0x75f)](_0x420a88=>_0x420a88[_0x33a6bc(0x5cf)]===_0x35ca9b[_0x33a6bc(0x54e)]?.[_0x33a6bc(0x341)]())||[],_0x5ac71b=_0x35ca9b[_0x33a6bc(0x539)],_0x106789=null,_0x3dee9e=[],_0x17d3c9=_0x364f24['chatLog'][_0x33a6bc(0x4bb)][_0x5ac71b];_0x3dee9e['push'](_0x33a6bc(0x466)+_0x17d3c9+'\x22');for(let _0x16c203 of _0x37c032){_0x16c203[_0x33a6bc(0x70b)]=_0x17d3c9,_0x106789=_0x16c203[_0x33a6bc(0x70b)];let _0xaa43b3;try{_0xaa43b3=this[_0x33a6bc(0x272)](_0x364f24,_0x16c203);}catch(_0x444efd){console[_0x33a6bc(0x426)](_0x33a6bc(0x2e6)+_0x444efd[_0x33a6bc(0x78c)]);continue;}if(_0xaa43b3!==null){let _0x2a0bf7=_0x33a6bc(0x7db)+_0x16c203[_0x33a6bc(0x55c)]+'\x22',_0x26f8c7=[_0x33a6bc(0x187),_0x33a6bc(0x3ec),_0x33a6bc(0x55d),_0x33a6bc(0x561),'trimmed'];_0x16c203[_0x33a6bc(0x55c)]===_0x33a6bc(0x7be)||_0x16c203['editOperator']===_0x33a6bc(0x4ba)?_0x2a0bf7+=_0x33a6bc(0x437)+_0x16c203['secondValue']+_0x33a6bc(0x73d)+_0x16c203[_0x33a6bc(0x164)]+'\x22':!_0x26f8c7[_0x33a6bc(0x612)](_0x16c203[_0x33a6bc(0x55c)])&&_0x16c203[_0x33a6bc(0x1a4)]!==null&&_0x16c203[_0x33a6bc(0x1a4)]!==void 0x0&&(_0x2a0bf7+=',\x20valor\x20passado:\x20\x22'+_0x16c203[_0x33a6bc(0x1a4)]+'\x22'),_0x2a0bf7+=_0x33a6bc(0x70e)+_0xaa43b3+'.',_0x3dee9e[_0x33a6bc(0x799)](_0x2a0bf7);}_0xaa43b3!==null&&(_0x17d3c9=_0xaa43b3);}if(_0x364f24['chatLog'][_0x33a6bc(0x4bb)]&&_0x35ca9b[_0x33a6bc(0x539)]){_0x364f24['chatLog'][_0x33a6bc(0x4bb)][_0x35ca9b[_0x33a6bc(0x539)]]=_0x17d3c9;let _0x92541f={'variable':_0x35ca9b['saveVariable'],'oldValue':_0x106789,'newValue':_0x17d3c9,'moreLogs':_0x3dee9e};try{this['updateConversation'](_0x364f24,_0x35ca9b,_0x92541f);}catch(_0x1f28c8){console[_0x33a6bc(0x426)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x1f28c8[_0x33a6bc(0x78c)]);}}return _0x5ac71b;}catch(_0x5c0583){return console[_0x33a6bc(0x426)](_0x33a6bc(0x20b)+_0x5c0583[_0x33a6bc(0x78c)]),null;}}async['processConditions'](_0x24c288,_0x2fa7c9){const _0xd18199=a0_0x3c6a8b;try{let _0x157d6c=[],_0x783689=_0x24c288['conditions'][_0xd18199(0x75f)](_0x426e5f=>_0x426e5f[_0xd18199(0x5cf)]===_0x2fa7c9[_0xd18199(0x54e)][_0xd18199(0x341)]()),_0x19d592=null,_0x3b9af4=!0x1;for(let _0x2c76d9 of _0x783689){let _0x5c0ea6=this[_0xd18199(0x2f8)](_0x24c288,_0x2c76d9);_0x157d6c[_0xd18199(0x799)](_0xd18199(0x6bf)+_0x2c76d9[_0xd18199(0x70b)]+_0xd18199(0x465)+_0x2c76d9[_0xd18199(0x5b4)]+_0xd18199(0x46b)+_0x2c76d9[_0xd18199(0x1a4)]+_0xd18199(0x720)+_0x5c0ea6),_0x19d592===null?_0x19d592=_0x5c0ea6:_0x2c76d9[_0xd18199(0x677)]===_0xd18199(0x189)?(_0x19d592=_0x19d592&&_0x5c0ea6,_0x5c0ea6||(_0x3b9af4=!0x0)):_0x2c76d9[_0xd18199(0x677)]==='or'&&(_0x3b9af4||(_0x19d592=_0x19d592||_0x5c0ea6));}_0x19d592===null&&(_0x19d592=!0x0);let _0x48714e={'moreLogs':_0x157d6c};_0x24c288[_0xd18199(0x79d)][_0xd18199(0x5f7)]=_0x19d592,await this[_0xd18199(0x229)](_0x24c288,_0x2fa7c9,_0x48714e);}catch(_0x517f33){this['logger'][_0xd18199(0x426)](this[_0xd18199(0x38c)]+'\x20('+this[_0xd18199(0x172)]['wuid']+_0xd18199(0x4b4)+(_0x517f33 instanceof Error?_0x517f33['message']:JSON[_0xd18199(0x6ab)](_0x517f33,null,0x2)));}}[a0_0x3c6a8b(0x2f8)](_0x40ec2d,_0x42d005){const _0x42757c=a0_0x3c6a8b;let _0x4251e8=_0x42d005[_0x42757c(0x70b)],_0x4d57c6=_0x42d005[_0x42757c(0x1a4)];typeof _0x4251e8==_0x42757c(0x4f8)&&(_0x4251e8=this[_0x42757c(0x2eb)](_0x4251e8,_0x40ec2d['chatLog']['realVariables'])??''),typeof _0x4d57c6==_0x42757c(0x4f8)&&(_0x4d57c6=this['replaceVariables'](_0x4d57c6,_0x40ec2d[_0x42757c(0x79d)][_0x42757c(0x4bb)])??'');try{switch(_0x42d005[_0x42757c(0x5b4)]){case _0x42757c(0x39e):return _0x4251e8===_0x4d57c6;case'notEqual':return _0x4251e8!==_0x4d57c6;case _0x42757c(0x40d):return this[_0x42757c(0x40d)](_0x4251e8,_0x4d57c6);case _0x42757c(0x6a0):return!this['contains'](_0x4251e8,_0x4d57c6);case _0x42757c(0x7c2):return parseFloat(_0x4251e8)>parseFloat(_0x4d57c6);case _0x42757c(0x4ab):return parseFloat(_0x4251e8)<parseFloat(_0x4d57c6);case _0x42757c(0x416):return _0x4251e8!=='';case'empty':return _0x4251e8==='';case'matchRegex':return new RegExp(_0x4d57c6)[_0x42757c(0x60c)](_0x4251e8);case'notMatchRegex':return!new RegExp(_0x4d57c6)[_0x42757c(0x60c)](_0x4251e8);default:return!0x1;}}catch(_0x4fe3ac){return console[_0x42757c(0x426)](_0x42757c(0x230)+_0x4fe3ac),!0x1;}}[a0_0x3c6a8b(0x40d)](_0x4dcd56,_0x1885be){const _0x5e1aca=a0_0x3c6a8b;if(_0x4dcd56===_0x1885be&&/^\d+$/[_0x5e1aca(0x60c)](_0x4dcd56))return!0x0;if(this[_0x5e1aca(0x22d)](_0x4dcd56)&&/^\d+$/[_0x5e1aca(0x60c)](_0x1885be)){let _0x5a4703=_0x4dcd56[_0x5e1aca(0x176)](',')[_0x5e1aca(0x177)](_0x74a0e0=>parseInt(_0x74a0e0['trim']())),_0x3daf9a=parseInt(_0x1885be);return _0x5a4703[_0x5e1aca(0x612)](_0x3daf9a);}return _0x4dcd56[_0x5e1aca(0x612)](_0x1885be);}[a0_0x3c6a8b(0x22d)](_0xce7716){const _0x41b1b5=a0_0x3c6a8b;return/^\d+(,\d+)*$/[_0x41b1b5(0x60c)](_0xce7716);}['processConditionsTest'](_0x498c75){const _0xc54095=a0_0x3c6a8b;let _0x368a4c=!0x0,_0x7e6be=null;for(let _0x113000 of _0x498c75){let _0x5e09cf=this['evaluateConditionTest'](_0x113000);if(_0x7e6be==='or'&&_0x5e09cf){_0x368a4c=!0x0;break;}if(_0x7e6be===_0xc54095(0x189)&&!_0x5e09cf){_0x368a4c=!0x1;break;}_0x7e6be=_0x113000['OrAnd'];}return _0x368a4c;}[a0_0x3c6a8b(0x787)](_0x2d5501){const _0x37aa59=a0_0x3c6a8b;let _0x3bb8dc=_0x2d5501[_0x37aa59(0x70b)],_0x426e6d=_0x2d5501[_0x37aa59(0x1a4)];try{switch(_0x2d5501[_0x37aa59(0x5b4)]){case'equal':return String(_0x3bb8dc)===String(_0x426e6d);case'notEqual':return String(_0x3bb8dc)!==String(_0x426e6d);case'contains':return String(_0x3bb8dc)[_0x37aa59(0x612)](String(_0x426e6d));case _0x37aa59(0x6a0):return!String(_0x3bb8dc)['includes'](String(_0x426e6d));case _0x37aa59(0x7c2):return parseFloat(String(_0x3bb8dc))>parseFloat(String(_0x426e6d));case'less':return parseFloat(String(_0x3bb8dc))<parseFloat(String(_0x426e6d));case'notEmpty':return String(_0x3bb8dc)!=='';case'empty':return String(_0x3bb8dc)==='';case _0x37aa59(0x3d0):return new RegExp(String(_0x426e6d))[_0x37aa59(0x60c)](String(_0x3bb8dc));case'notMatchRegex':return!new RegExp(String(_0x426e6d))[_0x37aa59(0x60c)](String(_0x3bb8dc));default:return!0x1;}}catch(_0x287e21){return console[_0x37aa59(0x426)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x287e21),!0x1;}}async[a0_0x3c6a8b(0x3ab)](_0x13b953,_0x52fea0){const _0xddfef6=a0_0x3c6a8b;if(this[_0xddfef6(0x784)][_0xddfef6(0x1a2)](this[_0xddfef6(0x38c)]+'\x20('+this[_0xddfef6(0x172)][_0xddfef6(0x22f)]+_0xddfef6(0x1a0)),!_0x13b953||!_0x52fea0)return this[_0xddfef6(0x784)][_0xddfef6(0x426)](this[_0xddfef6(0x38c)]+'\x20('+this['instance']['wuid']+_0xddfef6(0x72a)),null;let _0x4cd17e=_0x52fea0[_0xddfef6(0x539)],_0x345168=_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x11f)][_0xddfef6(0x503)]||_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x11f)][_0xddfef6(0x540)]||_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x11f)][_0xddfef6(0x5bb)];try{_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x4bb)]||(_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x4bb)]={});let _0x292d08=_0x13b953[_0xddfef6(0x79d)][_0xddfef6(0x4bb)][_0x4cd17e];_0x13b953['chatLog'][_0xddfef6(0x4bb)][_0x4cd17e]=_0x345168;let _0x2bfd66={'variable':_0x4cd17e,'oldValue':_0x292d08,'newValue':_0x345168};this['updateConversation'](_0x13b953,_0x52fea0,_0x2bfd66),this['logger'][_0xddfef6(0x1a2)](this[_0xddfef6(0x38c)]+'\x20('+this[_0xddfef6(0x172)]['wuid']+_0xddfef6(0x364));}catch(_0x2cfb75){let _0x3722cb={'error':!0x0,'errorLog':_0x2cfb75['toString']()};return this[_0xddfef6(0x229)](_0x13b953,_0x52fea0,_0x3722cb),this[_0xddfef6(0x784)][_0xddfef6(0x426)](this[_0xddfef6(0x38c)]+'\x20('+this['instance']['wuid']+_0xddfef6(0x72c)+(_0x2cfb75 instanceof Error?_0x2cfb75[_0xddfef6(0x78c)]:JSON['stringify'](_0x2cfb75,null,0x2))),null;}}async['stopConversation'](_0x33ec17,_0xccd94d){const _0x485def=a0_0x3c6a8b;if(this[_0x485def(0x784)][_0x485def(0x1a2)](this[_0x485def(0x38c)]+'\x20('+this[_0x485def(0x172)][_0x485def(0x22f)]+_0x485def(0x49d)),!_0x33ec17||!_0xccd94d)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x485def(0x172)][_0x485def(0x22f)]+_0x485def(0x72a)),null;let _0x3bc98d=Date['now'](),_0x247a87=parseInt(_0xccd94d[_0x485def(0x62e)],0xa);if(isNaN(_0x247a87))return this[_0x485def(0x784)][_0x485def(0x426)](this[_0x485def(0x38c)]+'\x20('+this[_0x485def(0x172)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x54715e={'newStoppedUntil':_0x3bc98d+_0x247a87*0x3c*0x3e8};return await this[_0x485def(0x229)](_0x33ec17,_0xccd94d,_0x54715e,!0x0),null;}async[a0_0x3c6a8b(0x264)](_0x29cbfd,_0x4f2818){const _0xcb3776=a0_0x3c6a8b;try{switch(_0x4f2818[_0xcb3776(0x532)][_0xcb3776(0x281)]){case'sendText':await this[_0xcb3776(0x3ac)](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x2ab):await this[_0xcb3776(0x6be)](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x438):await this[_0xcb3776(0x7c3)](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x58e):await this['uazapiSendAudio'](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x2e7):await this[_0xcb3776(0x741)](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x33e):await this['uazapiSendMenu'](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x17e):await this[_0xcb3776(0x1ed)](_0x29cbfd,_0x4f2818);break;case _0xcb3776(0x3c6):await this[_0xcb3776(0x2f6)](_0x29cbfd,_0x4f2818);break;default:this[_0xcb3776(0x784)][_0xcb3776(0x426)](this[_0xcb3776(0x38c)]+'\x20('+this['instance'][_0xcb3776(0x22f)]+'):\x20Comando\x20desconhecido:\x20'+_0x4f2818['uazapi'][_0xcb3776(0x281)]);}}catch(_0x5568a2){this['logger'][_0xcb3776(0x426)](this['instanceName']+'\x20('+this[_0xcb3776(0x172)]['wuid']+_0xcb3776(0x1f2)+(_0x5568a2 instanceof Error?_0x5568a2[_0xcb3776(0x78c)]:JSON[_0xcb3776(0x6ab)](_0x5568a2,null,0x2)));}}async[a0_0x3c6a8b(0x229)](_0x594a7b,_0x3c8d5d,_0x224964,_0x15fe2e=!0x1,_0x62eb8c=!0x1){const _0x248892=a0_0x3c6a8b;_0x594a7b[_0x248892(0x79d)][_0x248892(0x24c)]||(_0x594a7b[_0x248892(0x79d)][_0x248892(0x24c)]=[]);let _0x5b9785=(_0x594a7b[_0x248892(0x79d)][_0x248892(0x24c)]?.[_0x248892(0x3ca)]??0x0)+0x1,_0x11bfc5=_0x594a7b[_0x248892(0x79d)][_0x248892(0x24c)]['filter'](_0x31b2b4=>String(_0x31b2b4[_0x248892(0x5cf)])===String(_0x3c8d5d['_id']))[_0x248892(0x3ca)]+0x1,_0x8e89d6=_0x224964?.['onTime']??Date[_0x248892(0x30f)](),_0x1e2560=_0x224964?.[_0x248892(0x426)]?_0x224964[_0x248892(0x5f0)]??_0x224964[_0x248892(0x426)]['toString']():void 0x0,_0x455102={'onTime':_0x8e89d6,'blockId':_0x3c8d5d[_0x248892(0x54e)],'order':_0x5b9785,'activatedCount':_0x11bfc5,'error':_0x224964?.[_0x248892(0x426)]??!0x1,'messageId':_0x224964?.[_0x248892(0x778)],'apiResponse':_0x224964?.[_0x248892(0x681)],'apiResponseString':_0x224964?.[_0x248892(0x681)]?JSON[_0x248892(0x6ab)](_0x224964?.['apiResponse']):void 0x0,'variable':_0x224964?.[_0x248892(0x4ec)],'oldValue':_0x224964?.[_0x248892(0x42e)],'newValue':_0x224964?.[_0x248892(0x28b)],'newStoppedUntil':_0x224964?.[_0x248892(0x7ba)],'moreLogs':_0x224964?.[_0x248892(0x2b3)],'errorLog':_0x1e2560};if(_0x224964['moreLogs']&&_0x224964['moreLogs']['length']>0x0){let _0xe23d09=_0x224964[_0x248892(0x2b3)]['map'](_0x4cd4a5=>this[_0x248892(0x3fb)](_0x4cd4a5,_0x594a7b[_0x248892(0x79d)][_0x248892(0x4bb)]));_0x455102[_0x248892(0x2b3)]=_0xe23d09;}_0x594a7b[_0x248892(0x79d)]['realVariables']||(_0x594a7b[_0x248892(0x79d)][_0x248892(0x4bb)]={}),_0x594a7b[_0x248892(0x79d)][_0x248892(0x4bb)][_0x248892(0x4d8)]=String(_0x11bfc5),_0x594a7b['chatLog'][_0x248892(0x4bb)][_0x248892(0x2ec)]=String(_0x224964['error']??!0x1),_0x594a7b[_0x248892(0x79d)][_0x248892(0x24c)][_0x248892(0x799)](_0x455102),_0x594a7b[_0x248892(0x79d)][_0x248892(0x138)]=_0x3c8d5d['_id']['toString'](),_0x594a7b['chatLog'][_0x248892(0x2f3)]&&(_0x594a7b[_0x248892(0x79d)][_0x248892(0x2f3)]=_0x594a7b[_0x248892(0x79d)]['lastSendMessage']),_0x594a7b[_0x248892(0x79d)]['lastReceivedMessage']&&(_0x594a7b[_0x248892(0x79d)][_0x248892(0x11f)]=_0x594a7b[_0x248892(0x79d)][_0x248892(0x11f)]),_0x594a7b[_0x248892(0x79d)][_0x248892(0x5f7)]&&(_0x594a7b[_0x248892(0x79d)][_0x248892(0x5f7)]=_0x594a7b[_0x248892(0x79d)][_0x248892(0x5f7)]),_0x62eb8c&&(_0x594a7b['status']='closed'),_0x15fe2e?this['saveConversationToDatabase'](_0x594a7b):this[_0x248892(0x796)](_0x594a7b,_0x3c8d5d);}[a0_0x3c6a8b(0x3fb)](_0x4c88b4,_0x30420e){const _0x3128c1=a0_0x3c6a8b;return _0x4c88b4[_0x3128c1(0x5bd)](/\{\{([^}]+)\}\}/g,(_0x5cb092,_0x1720ae)=>_0x30420e[_0x1720ae]?'{{'+_0x1720ae+'}}\x20->\x20\x22'+_0x30420e[_0x1720ae]+'\x22':'{{'+_0x1720ae+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x3c6a8b(0x4c5)](_0x3c3924){const _0x2c9759=a0_0x3c6a8b;try{let _0x3ebfee=Object[_0x2c9759(0x4b9)](_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x4bb)])[_0x2c9759(0x177)](([_0x1f01cf,_0x54c217])=>({'name':_0x1f01cf,'value':_0x54c217})),_0x4de177={'status':_0x3c3924['status'],'blocks':_0x3c3924[_0x2c9759(0x2f4)],'waitingMenu_id':_0x3c3924[_0x2c9759(0x7e4)],'waitingMenu_text':_0x3c3924[_0x2c9759(0x54a)],'waitingMenu_replyOptions':_0x3c3924['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x3c3924[_0x2c9759(0x79d)]['lastBlockId'],'lastSendMessage':_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x2f3)],'lastReceivedMessage':_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x11f)],'lastCondition':_0x3c3924['chatLog'][_0x2c9759(0x5f7)],'chatVariables':_0x3ebfee,'realVariables':_0x3c3924['chatLog'][_0x2c9759(0x4bb)],'blockLogs':_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x24c)]}},_0x126046=await this[_0x2c9759(0x600)][_0x2c9759(0x4d1)]['updateOne'](_0x3c3924['_id'],_0x4de177,this[_0x2c9759(0x172)][_0x2c9759(0x22f)]);if(_0x126046){this['logger'][_0x2c9759(0x1a2)](this[_0x2c9759(0x38c)]+'\x20('+this['instance'][_0x2c9759(0x22f)]+_0x2c9759(0x315)+_0x126046[_0x2c9759(0x54e)]);try{let _0x220bad=['nome',_0x2c9759(0x483),_0x2c9759(0x257),_0x2c9759(0x20d),_0x2c9759(0x6e3),_0x2c9759(0x78b),_0x2c9759(0x618),_0x2c9759(0x674),'etiquetas'];if(!this[_0x2c9759(0x16e)]&&(await this[_0x2c9759(0x6f4)](),!this[_0x2c9759(0x16e)]))throw new Error(_0x2c9759(0x77f));let _0xdedefa=this[_0x2c9759(0x16e)]?.['customFields'][_0x2c9759(0x177)](_0x5c02c9=>_0x5c02c9[_0x2c9759(0x4e1)]),_0x5a2f60={};Object[_0x2c9759(0x4b9)](_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x4bb)])[_0x2c9759(0x471)](([_0x449b6a,_0x1eae67])=>{const _0xc3999=_0x2c9759;_0x220bad[_0xc3999(0x612)](_0x449b6a)&&(_0x449b6a==='tags'&&typeof _0x1eae67==_0xc3999(0x4f8)?_0x5a2f60[_0x449b6a]=_0x1eae67[_0xc3999(0x176)](',')['map'](_0x4a9925=>_0x4a9925[_0xc3999(0x7e8)]())[_0xc3999(0x75f)](_0x35329a=>_0x35329a!==''):_0x449b6a===_0xc3999(0x546)&&typeof _0x1eae67==_0xc3999(0x4f8)?_0x5a2f60[_0x449b6a]=_0x1eae67[_0xc3999(0x176)](',')[_0xc3999(0x177)](_0x3d9f56=>_0x3d9f56[_0xc3999(0x7e8)]())['filter'](_0x427840=>_0x427840!==''):_0x5a2f60[_0x449b6a]=_0x1eae67);});let _0x44595f=_0x3c3924[_0x2c9759(0x79d)][_0x2c9759(0x24c)][_0x3c3924[_0x2c9759(0x79d)]['blockLogs'][_0x2c9759(0x3ca)]-0x1];if(_0x44595f){let _0x112e98=_0x44595f[_0x2c9759(0x7ba)];_0x112e98!==void 0x0&&(_0x5a2f60[_0x2c9759(0x62a)]=_0x112e98['toString']());}let _0x561f1c=_0x3ebfee['filter'](_0x4afaf5=>_0xdedefa[_0x2c9759(0x612)](_0x4afaf5[_0x2c9759(0x4e1)]));this[_0x2c9759(0x784)][_0x2c9759(0x1a2)](this['instanceName']+'\x20('+this[_0x2c9759(0x172)][_0x2c9759(0x22f)]+_0x2c9759(0x35a)),this[_0x2c9759(0x784)][_0x2c9759(0x1a2)](_0x5a2f60),this[_0x2c9759(0x784)][_0x2c9759(0x1a2)](this[_0x2c9759(0x38c)]+'\x20('+this[_0x2c9759(0x172)][_0x2c9759(0x22f)]+_0x2c9759(0x347)),this[_0x2c9759(0x784)][_0x2c9759(0x1a2)](_0x561f1c);let _0x5f1111=_0x561f1c[_0x2c9759(0x177)](_0xcd327b=>{const _0x3249fa=_0x2c9759;let _0x34ded7=this[_0x3249fa(0x16e)]?.['customFields'][_0x3249fa(0x217)](_0x11f84d=>_0x11f84d['name']===_0xcd327b[_0x3249fa(0x4e1)]);if(!_0x34ded7)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0xcd327b[_0x3249fa(0x4e1)]);return{'_id':_0x34ded7['_id'],'value':_0xcd327b[_0x3249fa(0x1b1)]};});this[_0x2c9759(0x784)]['verbose'](this['instanceName']+'\x20('+this[_0x2c9759(0x172)]['wuid']+_0x2c9759(0x28c)),this[_0x2c9759(0x784)][_0x2c9759(0x1a2)](_0x5f1111),await this[_0x2c9759(0x749)](_0x3c3924[_0x2c9759(0x248)],_0x5a2f60,_0x5f1111);}catch(_0x50d869){this[_0x2c9759(0x784)][_0x2c9759(0x426)](this['instanceName']+'\x20('+this[_0x2c9759(0x172)][_0x2c9759(0x22f)]+_0x2c9759(0x771)+(_0x50d869 instanceof Error?_0x50d869['message']:JSON[_0x2c9759(0x6ab)](_0x50d869,null,0x2)));}}else this[_0x2c9759(0x784)][_0x2c9759(0x426)](this[_0x2c9759(0x38c)]+'\x20('+this['instance'][_0x2c9759(0x22f)]+_0x2c9759(0x3c8));}catch(_0x4bd99d){this['logger']['error'](this[_0x2c9759(0x38c)]+'\x20('+this['instance'][_0x2c9759(0x22f)]+_0x2c9759(0x5aa)+(_0x4bd99d instanceof Error?_0x4bd99d[_0x2c9759(0x78c)]:JSON[_0x2c9759(0x6ab)](_0x4bd99d,null,0x2)));}}async[a0_0x3c6a8b(0x749)](_0x5b15a7,_0x3443c3,_0xe64518){const _0x508d16=a0_0x3c6a8b;try{let _0x226be1={'leadInfo.leadnome':_0x3443c3[_0x508d16(0x220)],'leadInfo.nomecompleto':_0x3443c3[_0x508d16(0x483)],'leadInfo.email':_0x3443c3[_0x508d16(0x257)],'leadInfo.cpf':_0x3443c3[_0x508d16(0x20d)],'leadInfo.status':_0x3443c3[_0x508d16(0x6e3)],'leadInfo.notas':_0x3443c3[_0x508d16(0x78b)],'leadInfo.responsavelid':_0x3443c3['responsavelid'],'leadInfo.tags':_0x3443c3['tags'],'leadInfo.etiquetas':_0x3443c3[_0x508d16(0x546)],'leadInfo.customFields':_0xe64518},_0x3657c7=await this[_0x508d16(0x600)]['chat'][_0x508d16(0x23a)]({'where':{'_id':_0x5b15a7}},this[_0x508d16(0x172)][_0x508d16(0x22f)]),_0x2f073b=new Set(_0x3657c7[_0x508d16(0x536)]['etiquetas']||[]),_0x4aed3f=new Set(_0x3443c3['etiquetas']||[]),_0x394157=await this[_0x508d16(0x600)][_0x508d16(0x6cb)][_0x508d16(0x217)]({'where':{}},this['instance'][_0x508d16(0x22f)]),_0x4b5cbb=new Set(_0x394157[_0x508d16(0x177)](_0x283625=>_0x283625[_0x508d16(0x54e)])),_0xfed0d5=[..._0x4aed3f][_0x508d16(0x75f)](_0x5d061f=>!_0x2f073b['has'](_0x5d061f)&&_0x4b5cbb['has'](_0x5d061f)),_0x5b5577=[..._0x2f073b][_0x508d16(0x75f)](_0x1267b0=>!_0x4aed3f['has'](_0x1267b0));for(let _0x33072c of _0xfed0d5)await this[_0x508d16(0x250)](_0x33072c,_0x3657c7['_id']),_0x2f073b[_0x508d16(0x69f)](_0x33072c);for(let _0x3e0381 of _0x5b5577)await this[_0x508d16(0x2b7)](_0x3e0381,_0x3657c7['_id']),_0x2f073b[_0x508d16(0x214)](_0x3e0381);if(_0x508d16(0x62a)in _0x3443c3){let _0x5180d6=_0x3443c3[_0x508d16(0x62a)];_0x226be1[_0x508d16(0x584)]=_0x5180d6?Number(_0x5180d6):null;}let _0x3461e6=await this['repository'][_0x508d16(0x42a)][_0x508d16(0x119)]({'where':{'_id':_0x5b15a7}},_0x226be1,this['instance'][_0x508d16(0x22f)]);_0x3461e6?(this['logger'][_0x508d16(0x1a2)](this[_0x508d16(0x38c)]+'\x20('+this[_0x508d16(0x172)][_0x508d16(0x22f)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x3461e6[_0x508d16(0x54e)]),q(this['instanceName'],_0x508d16(0x490),{'chat':_0x3461e6})):this['logger'][_0x508d16(0x426)](this['instanceName']+'\x20('+this[_0x508d16(0x172)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0xc88012){this['logger'][_0x508d16(0x426)](this['instanceName']+'\x20('+this[_0x508d16(0x172)][_0x508d16(0x22f)]+_0x508d16(0x7b7)+(_0xc88012 instanceof Error?_0xc88012['message']:JSON[_0x508d16(0x6ab)](_0xc88012,null,0x2)));}}async[a0_0x3c6a8b(0x285)](_0x4a4faf,_0x15081b){const _0x5b41cb=a0_0x3c6a8b;this['logger']['verbose'](this[_0x5b41cb(0x38c)]+'\x20('+this[_0x5b41cb(0x172)][_0x5b41cb(0x22f)]+_0x5b41cb(0x2c9)+_0x15081b);try{let _0x13b995=await this[_0x5b41cb(0x600)][_0x5b41cb(0x42a)][_0x5b41cb(0x119)]({'where':{'_id':_0x4a4faf[_0x5b41cb(0x248)]}},{'leadInfo.desativadoFluxoAte':_0x15081b},this[_0x5b41cb(0x172)][_0x5b41cb(0x22f)]);this['logger'][_0x5b41cb(0x1a2)](this[_0x5b41cb(0x38c)]+'\x20('+this[_0x5b41cb(0x172)]['wuid']+_0x5b41cb(0x522)+_0x4a4faf[_0x5b41cb(0x54e)]),this[_0x5b41cb(0x784)][_0x5b41cb(0x1a2)](this[_0x5b41cb(0x38c)]+'\x20('+this['instance']['wuid']+_0x5b41cb(0x2c9)+JSON[_0x5b41cb(0x6ab)](_0x13b995,null,0x2)),_0x13b995&&q(this[_0x5b41cb(0x38c)],_0x5b41cb(0x490),{'chat':_0x13b995});}catch(_0x134669){this[_0x5b41cb(0x784)]['error'](this['instanceName']+'\x20('+this[_0x5b41cb(0x172)][_0x5b41cb(0x22f)]+_0x5b41cb(0x32b)+(_0x134669 instanceof Error?_0x134669['message']:JSON['stringify'](_0x134669,null,0x2)));}}async[a0_0x3c6a8b(0x233)](_0x259dea){const _0x1efd7f=a0_0x3c6a8b;try{this[_0x1efd7f(0x784)][_0x1efd7f(0x1a2)](this[_0x1efd7f(0x38c)]+'\x20('+this[_0x1efd7f(0x172)][_0x1efd7f(0x22f)]+_0x1efd7f(0x409));let _0x3f9acf=_0x259dea[_0x1efd7f(0x5bd)](/\D/g,''),_0x30e3a5=await this[_0x1efd7f(0x600)][_0x1efd7f(0x725)][_0x1efd7f(0x23a)]({'where':{'testingWith':_0x3f9acf}},this[_0x1efd7f(0x172)]['wuid']);return _0x30e3a5||(this[_0x1efd7f(0x784)]['verbose'](this[_0x1efd7f(0x38c)]+'\x20('+this[_0x1efd7f(0x172)][_0x1efd7f(0x22f)]+_0x1efd7f(0x3df)),_0x30e3a5=await this[_0x1efd7f(0x600)][_0x1efd7f(0x725)][_0x1efd7f(0x23a)]({'where':{'default':!0x0}},this[_0x1efd7f(0x172)][_0x1efd7f(0x22f)])),_0x30e3a5||(this[_0x1efd7f(0x784)][_0x1efd7f(0x1a2)](this['instanceName']+'\x20('+this[_0x1efd7f(0x172)][_0x1efd7f(0x22f)]+_0x1efd7f(0x421)),null);}catch(_0x273394){return this['logger'][_0x1efd7f(0x426)](this[_0x1efd7f(0x38c)]+'\x20('+this[_0x1efd7f(0x172)]['wuid']+_0x1efd7f(0x744)+(_0x273394 instanceof Error?_0x273394['message']:JSON[_0x1efd7f(0x6ab)](_0x273394,null,0x2))),null;}}async['findConversation'](_0x55de24,_0x56ce6a){const _0x1e63d8=a0_0x3c6a8b;try{let _0x384bb6=!!_0x56ce6a[_0x1e63d8(0x5bb)],_0x51c614=_0x56ce6a[_0x1e63d8(0x636)],_0x188af4=null;if(this[_0x1e63d8(0x784)]['verbose'](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x1d3)+_0x384bb6+_0x1e63d8(0x682)+_0x51c614),_0x384bb6){this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this[_0x1e63d8(0x38c)]+'\x20('+this[_0x1e63d8(0x172)]['wuid']+_0x1e63d8(0x1dd));let _0x326834={'where':{'remoteJid':_0x55de24,'waitingMenu_id':_0x51c614}};if(_0x188af4=await this[_0x1e63d8(0x600)][_0x1e63d8(0x4d1)][_0x1e63d8(0x23a)](_0x326834,this['instance'][_0x1e63d8(0x22f)]),!_0x188af4)return this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x144)),null;let _0x3ed30e=Date[_0x1e63d8(0x30f)](),_0xc73b58=_0x188af4?.['minutesToClose']||0x0,_0x2e8838=_0x3ed30e-_0xc73b58*0x3c*0x3e8;if(_0x188af4[_0x1e63d8(0x617)]<_0x2e8838){this['logger'][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)]['wuid']+_0x1e63d8(0x1bc));let _0x442e4a={'number':_0x188af4[_0x1e63d8(0x248)],'options':{'delay':0x0},'textMessage':{'text':_0x188af4[_0x1e63d8(0x5a2)]}};await this[_0x1e63d8(0x15a)](_0x442e4a);let _0x463274={'status':_0x1e63d8(0x482),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x1e63d8(0x600)][_0x1e63d8(0x4d1)][_0x1e63d8(0x119)](_0x188af4[_0x1e63d8(0x54e)],_0x463274,this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]),null;}return _0x188af4[_0x1e63d8(0x617)]=Date[_0x1e63d8(0x30f)](),_0x188af4[_0x1e63d8(0x79d)][_0x1e63d8(0x11f)]=_0x56ce6a,_0x188af4;}else{this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x5ff)+this[_0x1e63d8(0x172)]['wuid']+_0x1e63d8(0x5c2)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x7e7));let _0x3966bc={'where':{'remoteJid':_0x55de24,'status':_0x1e63d8(0x61e)}};if(_0x188af4=await this[_0x1e63d8(0x600)]['flowConversation']['findOne'](_0x3966bc,this[_0x1e63d8(0x172)]['wuid']),!_0x188af4){let _0x321805=await this['findFlow'](_0x55de24);if(_0x321805&&(_0x188af4=await this[_0x1e63d8(0x4e0)](_0x321805,_0x56ce6a[_0x1e63d8(0x1c5)],_0x56ce6a)),!_0x188af4)return null;}let _0x2afd5f=Date[_0x1e63d8(0x30f)](),_0x2043ca=_0x188af4?.[_0x1e63d8(0x2cb)]||0x0,_0x4c53f9=_0x2afd5f-_0x2043ca*0x3c*0x3e8;if(this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this[_0x1e63d8(0x38c)]+'\x20('+this[_0x1e63d8(0x172)]['wuid']+_0x1e63d8(0x7ce)+_0x2afd5f+_0x1e63d8(0x1aa)+_0x2043ca+',\x20Expiration\x20Time:\x20'+_0x4c53f9),this[_0x1e63d8(0x784)]['verbose'](this[_0x1e63d8(0x38c)]+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)]['wuid']+_0x1e63d8(0x420)+_0x188af4[_0x1e63d8(0x617)]),this['logger'][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x124)+_0x4c53f9),_0x188af4[_0x1e63d8(0x617)]<_0x4c53f9){this[_0x1e63d8(0x784)][_0x1e63d8(0x1a2)](this['instanceName']+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+'):\x20Conversa\x20está\x20expirada');let _0x305655=await this[_0x1e63d8(0x233)](_0x55de24);if(_0x305655===null)return null;_0x188af4&&await this[_0x1e63d8(0x600)][_0x1e63d8(0x4d1)][_0x1e63d8(0x119)](_0x188af4[_0x1e63d8(0x54e)],{'status':_0x1e63d8(0x482)},this['instance'][_0x1e63d8(0x22f)]),_0x188af4=await this['createNewConversation'](_0x305655,_0x56ce6a['key'],_0x56ce6a);}return _0x188af4['lastInteraction']=_0x2afd5f,_0x188af4[_0x1e63d8(0x79d)][_0x1e63d8(0x11f)]=_0x56ce6a,_0x188af4;}}catch(_0x4d1aee){return this[_0x1e63d8(0x784)]['error'](this[_0x1e63d8(0x38c)]+'\x20('+this[_0x1e63d8(0x172)][_0x1e63d8(0x22f)]+_0x1e63d8(0x1af)+(_0x4d1aee instanceof Error?_0x4d1aee['message']:JSON['stringify'](_0x4d1aee,null,0x2))),null;}}async[a0_0x3c6a8b(0x4e0)](_0x519d6e,_0x29b494,_0x4dce1f){const _0x514ca1=a0_0x3c6a8b;this[_0x514ca1(0x784)][_0x514ca1(0x1a2)](this[_0x514ca1(0x38c)]+'\x20('+this[_0x514ca1(0x172)][_0x514ca1(0x22f)]+_0x514ca1(0x2c5));try{let _0x3bdd62=require(_0x514ca1(0x5bc))[_0x514ca1(0x154)],_0x49a353=Date[_0x514ca1(0x30f)](),_0x521f25=_0x514ca1(0x19a),_0x4be04c=_0x29b494[_0x514ca1(0x699)]?null:_0x4dce1f,_0x620b05=_0x29b494['fromMe']?_0x4dce1f:null,_0x6666d4=_0x29b494['remoteJid'];await this[_0x514ca1(0x6e7)](_0x6666d4);let _0x39233f={..._0x519d6e,'chatLog':null},_0x4d9c11=await this[_0x514ca1(0x206)](_0x39233f['variables']),_0x359011=await this[_0x514ca1(0x727)](_0x6666d4),_0x59fab3={..._0x4d9c11,..._0x359011,'_remoteJid':_0x6666d4},_0x5ca5cd={'lastReceivedMessage':_0x4be04c,'lastSendMessage':_0x620b05,'lastBlockId':_0x521f25,'lastCondition':!0x0,'realVariables':_0x59fab3};_0x39233f[_0x514ca1(0x79d)]=_0x5ca5cd,delete _0x39233f[_0x514ca1(0x54e)],_0x39233f[_0x514ca1(0x54e)]=new _0x3bdd62(),_0x39233f['lastInteraction']=_0x49a353,_0x39233f[_0x514ca1(0x6e3)]=_0x514ca1(0x61e),_0x39233f[_0x514ca1(0x248)]=_0x6666d4;let _0x4ff2c0=await this['repository']['flowConversation'][_0x514ca1(0x119)](_0x39233f['_id'],_0x39233f,this[_0x514ca1(0x172)][_0x514ca1(0x22f)]);return this[_0x514ca1(0x784)][_0x514ca1(0x1a2)](this['instanceName']+'\x20('+this['instance'][_0x514ca1(0x22f)]+_0x514ca1(0x27e)),_0x4ff2c0?_0x39233f:null;}catch(_0xe5e0f1){return this[_0x514ca1(0x784)]['error'](this['instanceName']+'\x20('+this[_0x514ca1(0x172)]['wuid']+_0x514ca1(0x554)+(_0xe5e0f1 instanceof Error?_0xe5e0f1[_0x514ca1(0x78c)]:JSON['stringify'](_0xe5e0f1,null,0x2))),_0xe5e0f1;}}async['uazapiSendText'](_0x4ee0f7,_0x1368ff){const _0x5b667c=a0_0x3c6a8b;let _0x326b66=_0x4ee0f7[_0x5b667c(0x248)];_0x1368ff[_0x5b667c(0x532)]['remoteJid']&&_0x1368ff['uazapi']['remoteJid'][_0x5b667c(0x7e8)]()!==''&&(_0x326b66=_0x1368ff['uazapi']['remoteJid'][_0x5b667c(0x7e8)]()),this[_0x5b667c(0x784)][_0x5b667c(0x1a2)](this[_0x5b667c(0x38c)]+'\x20('+this[_0x5b667c(0x172)][_0x5b667c(0x22f)]+_0x5b667c(0x3a6));let _0x37abd2={'number':_0x326b66,'options':{'delay':_0x1368ff['uazapi'][_0x5b667c(0x287)]},'textMessage':{'text':_0x1368ff[_0x5b667c(0x532)][_0x5b667c(0x503)]}};try{let _0x17b4c7=await this[_0x5b667c(0x15a)](_0x37abd2);if(_0x17b4c7){let _0x31f2ef={'_id':_0x17b4c7[_0x5b667c(0x1c5)]['id'],'_fromMe':_0x17b4c7[_0x5b667c(0x1c5)]['fromMe'],'_remoteJid':_0x17b4c7[_0x5b667c(0x1c5)][_0x5b667c(0x248)]},_0x2eae29=(0x0,m[_0x5b667c(0x658)])(_0x17b4c7[_0x5b667c(0x78c)]),_0x18b010=(0x0,m['getContentType'])(_0x2eae29);_0x4ee0f7[_0x5b667c(0x79d)][_0x5b667c(0x138)]=_0x1368ff[_0x5b667c(0x54e)][_0x5b667c(0x341)]();let {message_normalized:_0xe055a2}=this[_0x5b667c(0x71a)](_0x2eae29,_0x18b010,null);_0x4ee0f7[_0x5b667c(0x79d)]['lastSendMessage']=await _0xe055a2;let _0x20eb0d={'messageId':_0x17b4c7['key']['id']},_0x3d78e2=_0x4ee0f7[_0x5b667c(0x79d)][_0x5b667c(0x4bb)];Object[_0x5b667c(0x273)](_0x3d78e2,_0x31f2ef),_0x4ee0f7['chatLog'][_0x5b667c(0x4bb)]=_0x3d78e2,this[_0x5b667c(0x229)](_0x4ee0f7,_0x1368ff,_0x20eb0d);}else{let _0xc3d07e={'error':!0x0};this[_0x5b667c(0x229)](_0x4ee0f7,_0x1368ff,_0xc3d07e),this[_0x5b667c(0x784)]['error'](this[_0x5b667c(0x38c)]+'\x20('+this[_0x5b667c(0x172)]['wuid']+_0x5b667c(0x147));}}catch(_0x126b39){let _0x137abf={'error':!0x0,'errorLog':_0x126b39['toString']()};this['updateConversation'](_0x4ee0f7,_0x1368ff,_0x137abf),this['logger'][_0x5b667c(0x426)](this[_0x5b667c(0x38c)]+'\x20('+this[_0x5b667c(0x172)][_0x5b667c(0x22f)]+_0x5b667c(0x1c3)+(_0x126b39 instanceof Error?_0x126b39[_0x5b667c(0x78c)]:JSON['stringify'](_0x126b39,null,0x2)));}}async[a0_0x3c6a8b(0x6be)](_0x4239e1,_0x5cfbb7){const _0x34be7f=a0_0x3c6a8b;let _0x5fb0bd=_0x4239e1[_0x34be7f(0x248)];_0x5cfbb7[_0x34be7f(0x532)]['remoteJid']&&_0x5cfbb7['uazapi'][_0x34be7f(0x248)][_0x34be7f(0x7e8)]()!==''&&(_0x5fb0bd=_0x5cfbb7[_0x34be7f(0x532)][_0x34be7f(0x248)][_0x34be7f(0x7e8)]()),this[_0x34be7f(0x784)][_0x34be7f(0x1a2)](this[_0x34be7f(0x38c)]+'\x20('+this['instance'][_0x34be7f(0x22f)]+_0x34be7f(0x1d9));let _0x54116d={'number':_0x5fb0bd,'options':{'delay':_0x5cfbb7[_0x34be7f(0x532)][_0x34be7f(0x287)]},'mediaMessage':{'mediatype':_0x5cfbb7[_0x34be7f(0x532)][_0x34be7f(0x7b6)],'caption':_0x5cfbb7[_0x34be7f(0x532)][_0x34be7f(0x540)],'media':_0x5cfbb7[_0x34be7f(0x532)]['media'],'fileName':_0x5cfbb7[_0x34be7f(0x532)]['fileName']}};try{let _0x149dbd=await this[_0x34be7f(0x16b)](_0x54116d);if(_0x149dbd){let _0x27a3a7={'_id':_0x149dbd[_0x34be7f(0x1c5)]['id'],'_fromMe':_0x149dbd['key'][_0x34be7f(0x699)],'_remoteJid':_0x149dbd[_0x34be7f(0x1c5)][_0x34be7f(0x248)]},_0x566e5a=(0x0,m['normalizeMessageContent'])(_0x149dbd['message']),_0x200e33=(0x0,m[_0x34be7f(0x13d)])(_0x566e5a);_0x4239e1['chatLog'][_0x34be7f(0x138)]=_0x5cfbb7[_0x34be7f(0x54e)]['toString']();let {message_normalized:_0x71b103}=this[_0x34be7f(0x71a)](_0x566e5a,_0x200e33,null);_0x4239e1[_0x34be7f(0x79d)][_0x34be7f(0x2f3)]=await _0x71b103;let _0x3b3c01={'messageId':_0x149dbd[_0x34be7f(0x1c5)]['id']},_0x53354f=_0x4239e1[_0x34be7f(0x79d)][_0x34be7f(0x4bb)];Object[_0x34be7f(0x273)](_0x53354f,_0x27a3a7),_0x4239e1[_0x34be7f(0x79d)][_0x34be7f(0x4bb)]=_0x53354f,this['updateConversation'](_0x4239e1,_0x5cfbb7,_0x3b3c01);}else{let _0x3686fb={'error':!0x0};this[_0x34be7f(0x229)](_0x4239e1,_0x5cfbb7,_0x3686fb),this[_0x34be7f(0x784)][_0x34be7f(0x426)](this[_0x34be7f(0x38c)]+'\x20('+this['instance'][_0x34be7f(0x22f)]+_0x34be7f(0x688));}}catch(_0x478106){let _0x51b518={'error':!0x0,'errorLog':_0x478106[_0x34be7f(0x341)]()};this['updateConversation'](_0x4239e1,_0x5cfbb7,_0x51b518),this[_0x34be7f(0x784)][_0x34be7f(0x426)](this['instanceName']+'\x20('+this[_0x34be7f(0x172)][_0x34be7f(0x22f)]+_0x34be7f(0x377)+(_0x478106 instanceof Error?_0x478106[_0x34be7f(0x78c)]:JSON['stringify'](_0x478106,null,0x2)));}}async[a0_0x3c6a8b(0x7c3)](_0x51c63d,_0x1064bc){const _0x57c631=a0_0x3c6a8b;let _0x38007d=_0x51c63d[_0x57c631(0x248)];_0x1064bc[_0x57c631(0x532)]['remoteJid']&&_0x1064bc[_0x57c631(0x532)][_0x57c631(0x248)]['trim']()!==''&&(_0x38007d=_0x1064bc['uazapi']['remoteJid']['trim']()),this[_0x57c631(0x784)][_0x57c631(0x1a2)](this[_0x57c631(0x38c)]+'\x20('+this[_0x57c631(0x172)][_0x57c631(0x22f)]+_0x57c631(0x4e3));let _0x155ac0={'number':_0x38007d,'options':{'delay':_0x1064bc['uazapi'][_0x57c631(0x287)]},'locationMessage':{'name':_0x1064bc[_0x57c631(0x532)][_0x57c631(0x4e1)],'address':_0x1064bc[_0x57c631(0x532)][_0x57c631(0x777)],'latitude':_0x1064bc['uazapi'][_0x57c631(0x54f)],'longitude':_0x1064bc[_0x57c631(0x532)][_0x57c631(0x766)]}};try{let _0x4c9653=await this[_0x57c631(0x306)](_0x155ac0);if(_0x4c9653){let _0x4fafc1={'_id':_0x4c9653[_0x57c631(0x1c5)]['id'],'_fromMe':_0x4c9653['key'][_0x57c631(0x699)],'_remoteJid':_0x4c9653[_0x57c631(0x1c5)][_0x57c631(0x248)]},_0x4b51ba=(0x0,m[_0x57c631(0x658)])(_0x4c9653[_0x57c631(0x78c)]),_0x2371c8=(0x0,m['getContentType'])(_0x4b51ba);_0x51c63d['chatLog'][_0x57c631(0x138)]=_0x1064bc[_0x57c631(0x54e)][_0x57c631(0x341)]();let {message_normalized:_0x4b3453}=this[_0x57c631(0x71a)](_0x4b51ba,_0x2371c8,null);_0x51c63d[_0x57c631(0x79d)][_0x57c631(0x2f3)]=await _0x4b3453;let _0x272a0c={'messageId':_0x4c9653[_0x57c631(0x1c5)]['id']},_0x401fc0=_0x51c63d[_0x57c631(0x79d)][_0x57c631(0x4bb)];Object['assign'](_0x401fc0,_0x4fafc1),_0x51c63d['chatLog'][_0x57c631(0x4bb)]=_0x401fc0,this[_0x57c631(0x229)](_0x51c63d,_0x1064bc,_0x272a0c);}else{let _0x2bd26e={'error':!0x0};this[_0x57c631(0x229)](_0x51c63d,_0x1064bc,_0x2bd26e),this[_0x57c631(0x784)][_0x57c631(0x426)](this['instanceName']+'\x20('+this['instance'][_0x57c631(0x22f)]+_0x57c631(0x4db));}}catch(_0x338ee8){let _0x25dba0={'error':!0x0,'errorLog':_0x338ee8[_0x57c631(0x341)]()};this[_0x57c631(0x229)](_0x51c63d,_0x1064bc,_0x25dba0),this['logger'][_0x57c631(0x426)](this['instanceName']+'\x20('+this[_0x57c631(0x172)][_0x57c631(0x22f)]+_0x57c631(0x1d6)+(_0x338ee8 instanceof Error?_0x338ee8[_0x57c631(0x78c)]:JSON[_0x57c631(0x6ab)](_0x338ee8,null,0x2)));}}async[a0_0x3c6a8b(0x76c)](_0x1efa54,_0x36b120){const _0x3c9fb6=a0_0x3c6a8b;let _0x557188=_0x1efa54[_0x3c9fb6(0x248)];_0x36b120[_0x3c9fb6(0x532)]['remoteJid']&&_0x36b120[_0x3c9fb6(0x532)][_0x3c9fb6(0x248)][_0x3c9fb6(0x7e8)]()!==''&&(_0x557188=_0x36b120['uazapi'][_0x3c9fb6(0x248)]['trim']()),this[_0x3c9fb6(0x784)][_0x3c9fb6(0x1a2)](this[_0x3c9fb6(0x38c)]+'\x20('+this[_0x3c9fb6(0x172)][_0x3c9fb6(0x22f)]+_0x3c9fb6(0x25b));let _0x259751={'number':_0x557188,'options':{'delay':_0x36b120[_0x3c9fb6(0x532)][_0x3c9fb6(0x287)]},'audioMessage':{'audio':_0x36b120[_0x3c9fb6(0x532)][_0x3c9fb6(0x4f7)]}};try{let _0x55efa4=await this[_0x3c9fb6(0x12e)](_0x259751);if(_0x55efa4){let _0x1c764c={'_id':_0x55efa4[_0x3c9fb6(0x1c5)]['id'],'_fromMe':_0x55efa4[_0x3c9fb6(0x1c5)]['fromMe'],'_remoteJid':_0x55efa4[_0x3c9fb6(0x1c5)][_0x3c9fb6(0x248)]},_0x2d9369=(0x0,m[_0x3c9fb6(0x658)])(_0x55efa4['message']),_0x29cb03=(0x0,m[_0x3c9fb6(0x13d)])(_0x2d9369);_0x1efa54['chatLog']['lastBlockId']=_0x36b120[_0x3c9fb6(0x54e)][_0x3c9fb6(0x341)]();let {message_normalized:_0x3d46f4}=this[_0x3c9fb6(0x71a)](_0x2d9369,_0x29cb03,null);_0x1efa54[_0x3c9fb6(0x79d)][_0x3c9fb6(0x2f3)]=await _0x3d46f4;let _0x5da780={'messageId':_0x55efa4[_0x3c9fb6(0x1c5)]['id']},_0x1b9f6a=_0x1efa54[_0x3c9fb6(0x79d)][_0x3c9fb6(0x4bb)];Object[_0x3c9fb6(0x273)](_0x1b9f6a,_0x1c764c),_0x1efa54[_0x3c9fb6(0x79d)][_0x3c9fb6(0x4bb)]=_0x1b9f6a,this[_0x3c9fb6(0x229)](_0x1efa54,_0x36b120,_0x5da780);}else{let _0x19e892={'error':!0x0};this['updateConversation'](_0x1efa54,_0x36b120,_0x19e892),this['logger'][_0x3c9fb6(0x426)](this[_0x3c9fb6(0x38c)]+'\x20('+this['instance'][_0x3c9fb6(0x22f)]+_0x3c9fb6(0x6fd));}}catch(_0x297b61){let _0x34c87e={'error':!0x0,'errorLog':_0x297b61[_0x3c9fb6(0x341)]()};this[_0x3c9fb6(0x229)](_0x1efa54,_0x36b120,_0x34c87e),this['logger'][_0x3c9fb6(0x426)](this['instanceName']+'\x20('+this['instance'][_0x3c9fb6(0x22f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x297b61 instanceof Error?_0x297b61['message']:JSON['stringify'](_0x297b61,null,0x2)));}}async[a0_0x3c6a8b(0x741)](_0x3a0297,_0xd50967){const _0x37d68d=a0_0x3c6a8b;let _0xb4338c=_0x3a0297[_0x37d68d(0x248)];_0xd50967[_0x37d68d(0x532)][_0x37d68d(0x248)]&&_0xd50967['uazapi'][_0x37d68d(0x248)]['trim']()!==''&&(_0xb4338c=_0xd50967['uazapi'][_0x37d68d(0x248)][_0x37d68d(0x7e8)]()),this[_0x37d68d(0x784)][_0x37d68d(0x1a2)](this[_0x37d68d(0x38c)]+'\x20('+this['instance']['wuid']+_0x37d68d(0x7a3));let _0x3a0cb4={'number':_0xb4338c,'options':{'delay':_0xd50967[_0x37d68d(0x532)]['delay']},'contactMessage':[{'fullName':_0xd50967['uazapi'][_0x37d68d(0x1e4)],'phoneNumber':_0xd50967[_0x37d68d(0x532)][_0x37d68d(0x1f0)]}]};try{let _0x1ac68e=await this[_0x37d68d(0x30b)](_0x3a0cb4);if(_0x1ac68e){let _0x37cc71={'_id':_0x1ac68e[_0x37d68d(0x1c5)]['id'],'_fromMe':_0x1ac68e[_0x37d68d(0x1c5)][_0x37d68d(0x699)],'_remoteJid':_0x1ac68e[_0x37d68d(0x1c5)][_0x37d68d(0x248)]},_0x115bac=(0x0,m[_0x37d68d(0x658)])(_0x1ac68e['message']),_0xa8688b=(0x0,m[_0x37d68d(0x13d)])(_0x115bac);_0x3a0297[_0x37d68d(0x79d)][_0x37d68d(0x138)]=_0xd50967['_id'][_0x37d68d(0x341)]();let {message_normalized:_0xa7356e}=this['normalizeMessage'](_0x115bac,_0xa8688b,null);_0x3a0297[_0x37d68d(0x79d)][_0x37d68d(0x2f3)]=await _0xa7356e;let _0x46a4fa={'messageId':_0x1ac68e[_0x37d68d(0x1c5)]['id']},_0x162646=_0x3a0297['chatLog']['realVariables'];Object['assign'](_0x162646,_0x37cc71),_0x3a0297[_0x37d68d(0x79d)]['realVariables']=_0x162646,this[_0x37d68d(0x229)](_0x3a0297,_0xd50967,_0x46a4fa);}else{let _0x307438={'error':!0x0};this[_0x37d68d(0x229)](_0x3a0297,_0xd50967,_0x307438),this['logger'][_0x37d68d(0x426)](this[_0x37d68d(0x38c)]+'\x20('+this[_0x37d68d(0x172)]['wuid']+_0x37d68d(0x226));}}catch(_0x482c26){let _0x4046f6={'error':!0x0,'errorLog':_0x482c26[_0x37d68d(0x341)]()};this['updateConversation'](_0x3a0297,_0xd50967,_0x4046f6),this[_0x37d68d(0x784)][_0x37d68d(0x426)](this[_0x37d68d(0x38c)]+'\x20('+this[_0x37d68d(0x172)][_0x37d68d(0x22f)]+_0x37d68d(0x356)+(_0x482c26 instanceof Error?_0x482c26[_0x37d68d(0x78c)]:JSON[_0x37d68d(0x6ab)](_0x482c26,null,0x2)));}}[a0_0x3c6a8b(0x5cd)](_0x1fffa0,_0x42b763){const _0x409e46=a0_0x3c6a8b;for(let _0x432e52 of _0x1fffa0)_0x432e52[_0x409e46(0x53c)]&&(_0x432e52[_0x409e46(0x53c)]=this[_0x409e46(0x2eb)](_0x432e52[_0x409e46(0x53c)],_0x42b763)),_0x432e52[_0x409e46(0x5a7)]&&(_0x432e52[_0x409e46(0x5a7)]=this['replaceVariables'](_0x432e52[_0x409e46(0x5a7)],_0x42b763));}async['uazapiSendMenu'](_0x723bd3,_0xdb9364){const _0x227912=a0_0x3c6a8b;let _0xbf6b2b=_0x723bd3[_0x227912(0x248)];_0xdb9364[_0x227912(0x532)][_0x227912(0x248)]&&_0xdb9364[_0x227912(0x532)][_0x227912(0x248)]['trim']()!==''&&(_0xbf6b2b=_0xdb9364[_0x227912(0x532)][_0x227912(0x248)]['trim']()),this['logger'][_0x227912(0x1a2)](this[_0x227912(0x38c)]+'\x20('+this[_0x227912(0x172)][_0x227912(0x22f)]+_0x227912(0x616));let _0x12b08b=_0x723bd3[_0x227912(0x537)]['filter'](_0x548666=>_0x548666[_0x227912(0x5cf)]===_0xdb9364['_id'])[_0x227912(0x6c3)]((_0x332878,_0x3c09ef)=>_0x332878['order']-_0x3c09ef[_0x227912(0x310)]);this[_0x227912(0x5cd)](_0x12b08b,_0x723bd3['chatLog']['realVariables']);let _0x1eaa3a=_0x12b08b['map'](_0x5a19ac=>_0x5a19ac[_0x227912(0x53c)]),_0x36acec={'number':_0xbf6b2b,'menuMessage':{'type':_0xdb9364['uazapi'][_0x227912(0x359)]||_0x227912(0x565),'text':_0xdb9364['uazapi'][_0x227912(0x503)]||_0xdb9364[_0x227912(0x532)][_0x227912(0x4e1)],'footerText':_0xdb9364[_0x227912(0x532)][_0x227912(0x12b)],'buttonText':_0xdb9364[_0x227912(0x532)][_0x227912(0x6b3)],'selectableCount':0x1,'choices':_0x1eaa3a},'options':{'delay':_0xdb9364[_0x227912(0x532)][_0x227912(0x287)]}};try{let _0x323702=await this['menuMessage'](_0x36acec);if(_0x323702){let _0x489e3e={'_id':_0x323702[_0x227912(0x1c5)]['id'],'_fromMe':_0x323702[_0x227912(0x1c5)][_0x227912(0x699)],'_remoteJid':_0x323702[_0x227912(0x1c5)][_0x227912(0x248)]};_0xdb9364['uazapi'][_0x227912(0x2e3)]===!0x0&&(_0x723bd3['status']='waitingForReplyMenu',this[_0x227912(0x784)][_0x227912(0x1a2)](this[_0x227912(0x38c)]+'\x20('+this[_0x227912(0x172)][_0x227912(0x22f)]+_0x227912(0x6fe)+_0x723bd3[_0x227912(0x6e3)])),this[_0x227912(0x784)][_0x227912(0x1a2)](this[_0x227912(0x38c)]+'\x20('+this[_0x227912(0x172)][_0x227912(0x22f)]+_0x227912(0x696)+(_0xdb9364[_0x227912(0x532)][_0x227912(0x4e1)]||_0xdb9364[_0x227912(0x532)][_0x227912(0x503)])),_0x723bd3[_0x227912(0x7e4)]=_0x323702[_0x227912(0x1c5)]['id'],_0x723bd3[_0x227912(0x54a)]=_0xdb9364[_0x227912(0x532)][_0x227912(0x4e1)]||_0xdb9364[_0x227912(0x532)][_0x227912(0x503)],_0x723bd3['waitingMenu_replyOptions']=_0x12b08b,_0xdb9364[_0x227912(0x532)][_0x227912(0x441)]&&(_0x723bd3[_0x227912(0x5a2)]=_0xdb9364[_0x227912(0x532)][_0x227912(0x441)]),this[_0x227912(0x784)][_0x227912(0x1a2)](this['instanceName']+'\x20('+this[_0x227912(0x172)]['wuid']+_0x227912(0x7a6)+_0x723bd3['waitingMenu_text']);let _0x5e5377=(0x0,m[_0x227912(0x658)])(_0x323702['message']),_0x2d71c7=(0x0,m[_0x227912(0x13d)])(_0x5e5377);_0x723bd3[_0x227912(0x79d)]['lastBlockId']=_0xdb9364[_0x227912(0x54e)][_0x227912(0x341)]();let {message_normalized:_0x4b579f}=this[_0x227912(0x71a)](_0x5e5377,_0x2d71c7,null);_0x723bd3[_0x227912(0x79d)]['lastSendMessage']=await _0x4b579f;let _0x32f704={'messageId':_0x323702['key']['id']},_0x581b89=_0x723bd3[_0x227912(0x79d)][_0x227912(0x4bb)];Object[_0x227912(0x273)](_0x581b89,_0x489e3e),_0x723bd3[_0x227912(0x79d)][_0x227912(0x4bb)]=_0x581b89,this[_0x227912(0x229)](_0x723bd3,_0xdb9364,_0x32f704);}else{let _0x8af39c={'error':!0x0};this[_0x227912(0x229)](_0x723bd3,_0xdb9364,_0x8af39c),this['logger'][_0x227912(0x426)](this['instanceName']+'\x20('+this[_0x227912(0x172)][_0x227912(0x22f)]+_0x227912(0x1f9));}}catch(_0x32a815){let _0x1c6647={'error':!0x0,'errorLog':_0x32a815 instanceof Error?_0x32a815[_0x227912(0x78c)]:JSON['stringify'](_0x32a815,null,0x2)};this[_0x227912(0x229)](_0x723bd3,_0xdb9364,_0x1c6647),this[_0x227912(0x784)][_0x227912(0x426)](this['instanceName']+'\x20('+this['instance'][_0x227912(0x22f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x32a815 instanceof Error?_0x32a815[_0x227912(0x78c)]:JSON['stringify'](_0x32a815,null,0x2)));}}async[a0_0x3c6a8b(0x2f6)](_0x44b3c2,_0x3cd732){const _0x161c09=a0_0x3c6a8b;this['logger'][_0x161c09(0x1a2)](this['instanceName']+'\x20('+this['instance'][_0x161c09(0x22f)]+_0x161c09(0x142));let _0x1a86b=_0x44b3c2[_0x161c09(0x79d)][_0x161c09(0x24c)][_0x161c09(0x217)](_0x5f05ad=>_0x5f05ad[_0x161c09(0x5cf)][_0x161c09(0x341)]()===_0x3cd732['uazapi']['blockId'][_0x161c09(0x341)]()),_0x3d978e={'id':_0x1a86b['messageId'],'remoteJid':_0x1a86b[_0x161c09(0x248)],'fromMe':_0x1a86b['fromMe']};try{let _0x179c57=await this['deleteMessage'](_0x3d978e);if(_0x179c57){let _0x5486a9=(0x0,m[_0x161c09(0x658)])(_0x179c57['message']),_0x2d3e29=(0x0,m[_0x161c09(0x13d)])(_0x5486a9);_0x44b3c2[_0x161c09(0x79d)][_0x161c09(0x138)]=_0x3cd732[_0x161c09(0x54e)][_0x161c09(0x341)]();let {message_normalized:_0x18b644}=this['normalizeMessage'](_0x5486a9,_0x2d3e29,null);_0x44b3c2[_0x161c09(0x79d)][_0x161c09(0x2f3)]=await _0x18b644;let _0x5bf277={};this[_0x161c09(0x229)](_0x44b3c2,_0x3cd732,_0x5bf277);}else{let _0x381f69={'error':!0x0};this['updateConversation'](_0x44b3c2,_0x3cd732,_0x381f69),this[_0x161c09(0x784)][_0x161c09(0x426)](this[_0x161c09(0x38c)]+'\x20('+this[_0x161c09(0x172)][_0x161c09(0x22f)]+_0x161c09(0x382));}}catch(_0x2762fa){let _0x2570da={'error':!0x0,'errorLog':_0x2762fa instanceof Error?_0x2762fa['message']:JSON['stringify'](_0x2762fa,null,0x2)};this['updateConversation'](_0x44b3c2,_0x3cd732,_0x2570da),this[_0x161c09(0x784)]['error'](this['instanceName']+'\x20('+this[_0x161c09(0x172)][_0x161c09(0x22f)]+_0x161c09(0x763)+(_0x2762fa instanceof Error?_0x2762fa[_0x161c09(0x78c)]:JSON[_0x161c09(0x6ab)](_0x2762fa,null,0x2)));}}async['createFlow'](_0x3838a3){const _0x59b27c=a0_0x3c6a8b;if(!_0x3838a3[_0x59b27c(0x4e1)])throw new w(_0x59b27c(0x293));if(await this[_0x59b27c(0x600)][_0x59b27c(0x725)][_0x59b27c(0x23a)]({'where':{'name':_0x3838a3[_0x59b27c(0x4e1)]}},this[_0x59b27c(0x172)][_0x59b27c(0x22f)]))throw new w(_0x59b27c(0x5e7));return'name'in _0x3838a3&&_0x59b27c(0x15f)in _0x3838a3&&_0x59b27c(0x270)in _0x3838a3&&Object[_0x59b27c(0x4c8)](_0x3838a3)[_0x59b27c(0x3ca)]===0x3?this[_0x59b27c(0x746)](_0x3838a3[_0x59b27c(0x270)],_0x3838a3[_0x59b27c(0x15f)],_0x3838a3[_0x59b27c(0x4e1)]):this[_0x59b27c(0x498)](_0x3838a3);}async[a0_0x3c6a8b(0x746)](_0x26adf8,_0x1c0ce1,_0x3e8b62){const _0x3bfc63=a0_0x3c6a8b;try{this['logger'][_0x3bfc63(0x1a2)](this[_0x3bfc63(0x38c)]+'\x20('+this[_0x3bfc63(0x172)][_0x3bfc63(0x22f)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x55eda3=await this['repository']['flow'][_0x3bfc63(0x23a)]({'where':{'name':_0x3e8b62,'sharePass':_0x1c0ce1}},_0x26adf8);if(!_0x55eda3)throw new w(_0x3bfc63(0x67f));let _0x228170={..._0x55eda3};return _0x228170[_0x3bfc63(0x270)]=this['instance'][_0x3bfc63(0x22f)],_0x228170['shareOwners']=Array['from'](new Set([..._0x55eda3['shareOwners']||[],_0x55eda3['owner'],this[_0x3bfc63(0x172)][_0x3bfc63(0x22f)]])),_0x55eda3[_0x3bfc63(0x5b3)]=_0x228170[_0x3bfc63(0x5b3)],await this[_0x3bfc63(0x600)][_0x3bfc63(0x725)][_0x3bfc63(0x119)](_0x55eda3[_0x3bfc63(0x54e)],{'shareOwners':_0x55eda3[_0x3bfc63(0x5b3)]},_0x55eda3[_0x3bfc63(0x270)]),_0x55eda3[_0x3bfc63(0x4f5)]===!0x0&&await this[_0x3bfc63(0x600)]['flow'][_0x3bfc63(0x2c3)]({},{'default':!0x1},this['instance']['wuid']),await this[_0x3bfc63(0x600)][_0x3bfc63(0x725)][_0x3bfc63(0x541)](_0x228170,this[_0x3bfc63(0x172)]['wuid']);}catch(_0x31cdb5){throw this[_0x3bfc63(0x784)]['error'](this[_0x3bfc63(0x38c)]+'\x20('+this[_0x3bfc63(0x172)][_0x3bfc63(0x22f)]+_0x3bfc63(0x381)+_0x31cdb5),new w(_0x3bfc63(0x68e)+_0x31cdb5);}}async['createRegularFlow'](_0x274a77){const _0x5a8d4f=a0_0x3c6a8b;try{this[_0x5a8d4f(0x784)]['verbose'](this[_0x5a8d4f(0x38c)]+'\x20('+this[_0x5a8d4f(0x172)][_0x5a8d4f(0x22f)]+_0x5a8d4f(0x354)),delete _0x274a77[_0x5a8d4f(0x5b3)],delete _0x274a77[_0x5a8d4f(0x15f)],delete _0x274a77[_0x5a8d4f(0x270)],_0x274a77[_0x5a8d4f(0x4f5)]===!0x0&&await this['repository'][_0x5a8d4f(0x725)]['updateMany']({},{'default':!0x1},this[_0x5a8d4f(0x172)]['wuid']);let _0x3d6f45=new le[(_0x5a8d4f(0x13a))][(_0x5a8d4f(0x154))](),_0x11bd94={'_id':_0x3d6f45,'default':!0x0,'title':_0x5a8d4f(0x2a9),'x':0x0,'y':0x0},_0xcf3fc2={'_id':new le[(_0x5a8d4f(0x13a))][(_0x5a8d4f(0x154))](),'order':0x1,'groupId':_0x3d6f45[_0x5a8d4f(0x341)](),'type':_0x5a8d4f(0x19a)},_0x4fff9a={'_id':new le['Types'][(_0x5a8d4f(0x154))](),'owner':this[_0x5a8d4f(0x172)][_0x5a8d4f(0x22f)],'name':_0x274a77['name'],'groups':[_0x11bd94],'blocks':[_0xcf3fc2],..._0x274a77};return await this['repository'][_0x5a8d4f(0x725)][_0x5a8d4f(0x541)](_0x4fff9a,this[_0x5a8d4f(0x172)]['wuid']);}catch(_0x5f2228){throw this['logger'][_0x5a8d4f(0x426)](this['instanceName']+'\x20('+this[_0x5a8d4f(0x172)][_0x5a8d4f(0x22f)]+_0x5a8d4f(0x11a)+_0x5f2228),new w(_0x5a8d4f(0x143)+_0x5f2228);}}async[a0_0x3c6a8b(0x3f8)](_0x15032b,_0x491227){const _0x4cd1ad=a0_0x3c6a8b;try{let _0x3cce8b=await this[_0x4cd1ad(0x600)][_0x4cd1ad(0x725)]['findOne']({'where':{'_id':_0x15032b}},_0x491227);if(_0x3cce8b&&_0x3cce8b[_0x4cd1ad(0x5b3)]){for(let _0x5ebd8f of _0x3cce8b[_0x4cd1ad(0x5b3)])if(_0x5ebd8f!==_0x491227){let _0x5b377a={..._0x3cce8b,'owner':_0x5ebd8f};await this[_0x4cd1ad(0x600)]['flow'][_0x4cd1ad(0x42d)](_0x15032b,_0x5b377a,_0x5ebd8f);}}}catch(_0x507f09){this[_0x4cd1ad(0x784)][_0x4cd1ad(0x426)](_0x4cd1ad(0x131)+_0x507f09);}}async['deleteFlow'](_0x2df053){const _0x18c9ee=a0_0x3c6a8b;try{this['logger'][_0x18c9ee(0x1a2)](this[_0x18c9ee(0x38c)]+'\x20('+this[_0x18c9ee(0x172)]['wuid']+_0x18c9ee(0x362));let _0x12bae7=await this[_0x18c9ee(0x600)][_0x18c9ee(0x725)][_0x18c9ee(0x23a)]({'where':{'name':_0x2df053}},this[_0x18c9ee(0x172)][_0x18c9ee(0x22f)]);if(_0x12bae7&&_0x12bae7[_0x18c9ee(0x5b3)]&&_0x12bae7[_0x18c9ee(0x5b3)][_0x18c9ee(0x3ca)]>0x1){for(let _0x2d0d15 of _0x12bae7[_0x18c9ee(0x5b3)])if(_0x2d0d15!==this[_0x18c9ee(0x172)][_0x18c9ee(0x22f)]){let _0xaf401d=await this[_0x18c9ee(0x600)]['flow'][_0x18c9ee(0x23a)]({'where':{'sharePass':_0x12bae7[_0x18c9ee(0x15f)]}},_0x2d0d15);_0xaf401d&&(_0xaf401d[_0x18c9ee(0x5b3)]=_0xaf401d[_0x18c9ee(0x5b3)]['filter'](_0x1c987e=>_0x1c987e!==_0x12bae7['owner']),await this[_0x18c9ee(0x600)][_0x18c9ee(0x725)]['updateOne'](_0xaf401d['_id'],{'shareOwners':_0xaf401d['shareOwners']},_0x2d0d15));}}return await this[_0x18c9ee(0x600)][_0x18c9ee(0x725)][_0x18c9ee(0x687)]({'where':{'name':_0x2df053}},this[_0x18c9ee(0x172)][_0x18c9ee(0x22f)]);}catch(_0x5bfc41){return this[_0x18c9ee(0x784)][_0x18c9ee(0x426)](this[_0x18c9ee(0x38c)]+'\x20('+this['instance']['wuid']+_0x18c9ee(0x3f0)+(_0x5bfc41 instanceof Error?_0x5bfc41['message']:JSON['stringify'](_0x5bfc41,null,0x2))),{'message':_0x18c9ee(0x3b4)+_0x5bfc41};}}async[a0_0x3c6a8b(0x249)](_0x3418f3){const _0x10bce6=a0_0x3c6a8b;try{this[_0x10bce6(0x784)][_0x10bce6(0x1a2)](this[_0x10bce6(0x38c)]+'\x20('+this[_0x10bce6(0x172)][_0x10bce6(0x22f)]+'):\x20Buscando\x20flow...');let _0x42e329=await this[_0x10bce6(0x600)][_0x10bce6(0x725)]['findOne']({'where':{'name':_0x3418f3}},this[_0x10bce6(0x172)][_0x10bce6(0x22f)]);if(!_0x42e329)throw new Error(_0x10bce6(0x5b9));if(!this['AutomateSystem']&&(await this[_0x10bce6(0x6f4)](),!this['AutomateSystem']))return null;let _0x1bb24c=this[_0x10bce6(0x16e)]?.[_0x10bce6(0x543)][_0x10bce6(0x177)](_0x3f9f09=>_0x3f9f09[_0x10bce6(0x4e1)]),_0x339d6d=['nome',_0x10bce6(0x483),_0x10bce6(0x257),_0x10bce6(0x20d),_0x10bce6(0x6e3),'notas','responsavelid',_0x10bce6(0x674),'etiquetas'];_0x42e329[_0x10bce6(0x5f1)]=_0x42e329['variables'][_0x10bce6(0x75f)](_0x106fb1=>!(_0x106fb1[_0x10bce6(0x6c4)]==='leadInfo'||_0x106fb1[_0x10bce6(0x536)])),_0x339d6d[_0x10bce6(0x471)](_0x21a5a7=>{const _0x142932=_0x10bce6;_0x42e329['variables'][_0x142932(0x799)]({'folder':_0x142932(0x536),'name':_0x21a5a7,'value':'','doc':'','leadInfo':!0x0});}),_0x1bb24c[_0x10bce6(0x471)](_0x2ce124=>{const _0x55f6cc=_0x10bce6;let _0x5a499a=_0x42e329[_0x55f6cc(0x5f1)][_0x55f6cc(0x714)](_0x5db59c=>_0x5db59c[_0x55f6cc(0x4e1)]===_0x2ce124);_0x5a499a===-0x1?_0x42e329[_0x55f6cc(0x5f1)]['push']({'folder':'leadInfo','name':_0x2ce124,'value':'','doc':'','leadInfo':!0x0}):(_0x42e329['variables'][_0x5a499a][_0x55f6cc(0x6c4)]=_0x55f6cc(0x536),_0x42e329[_0x55f6cc(0x5f1)][_0x5a499a][_0x55f6cc(0x536)]=!0x0);}),_0x42e329[_0x10bce6(0x2f4)]&&_0x42e329[_0x10bce6(0x2f4)][_0x10bce6(0x3ca)]>0x0&&_0x42e329[_0x10bce6(0x2f4)][_0x10bce6(0x471)](_0x46a40b=>{const _0x3b68d3=_0x10bce6;_0x46a40b[_0x3b68d3(0x32f)]&&_0x46a40b[_0x3b68d3(0x1e7)]&&_0x46a40b[_0x3b68d3(0x32f)]===_0x46a40b[_0x3b68d3(0x1e7)]&&(_0x46a40b[_0x3b68d3(0x1e7)]=null);});let _0x197fc3=await this[_0x10bce6(0x600)][_0x10bce6(0x725)]['updateOne'](_0x42e329[_0x10bce6(0x54e)],_0x42e329,this['instance'][_0x10bce6(0x22f)]);if(!_0x197fc3)throw new Error(_0x10bce6(0x790));return _0x197fc3;}catch(_0x18f8fa){throw this['logger'][_0x10bce6(0x426)](this[_0x10bce6(0x38c)]+'\x20('+this['instance'][_0x10bce6(0x22f)]+_0x10bce6(0x256)+(_0x18f8fa instanceof Error?_0x18f8fa[_0x10bce6(0x78c)]:JSON[_0x10bce6(0x6ab)](_0x18f8fa,null,0x2))),new w(_0x10bce6(0x346)+_0x18f8fa);}}async[a0_0x3c6a8b(0x18b)](){const _0x222a8d=a0_0x3c6a8b;try{return this[_0x222a8d(0x784)]['verbose'](this[_0x222a8d(0x38c)]+'\x20('+this[_0x222a8d(0x172)][_0x222a8d(0x22f)]+_0x222a8d(0x4ae)),await this[_0x222a8d(0x600)][_0x222a8d(0x725)][_0x222a8d(0x59d)](this['instance']['wuid']),await this['repository'][_0x222a8d(0x725)][_0x222a8d(0x1c2)]({'where':{}},this[_0x222a8d(0x172)]['wuid']);}catch(_0xff30d6){return this[_0x222a8d(0x784)][_0x222a8d(0x426)](this[_0x222a8d(0x38c)]+'\x20('+this[_0x222a8d(0x172)]['wuid']+_0x222a8d(0x436)+(_0xff30d6 instanceof Error?_0xff30d6[_0x222a8d(0x78c)]:JSON[_0x222a8d(0x6ab)](_0xff30d6,null,0x2))),{'message':_0x222a8d(0x25e)+_0xff30d6};}}async[a0_0x3c6a8b(0x44b)](_0x21ed26){const _0x45a192=a0_0x3c6a8b;try{this[_0x45a192(0x784)][_0x45a192(0x1a2)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Alterando\x20fluxo...');let _0xd4c915=await this['repository'][_0x45a192(0x725)]['findOne']({'where':{'name':_0x21ed26[_0x45a192(0x4e1)]}},this[_0x45a192(0x172)]['wuid']);if(!_0xd4c915)return{'message':_0x45a192(0x44a)};_0x21ed26[_0x45a192(0x4f5)]===!0x0&&await this[_0x45a192(0x600)][_0x45a192(0x725)][_0x45a192(0x2c3)]({},{'default':!0x1},this[_0x45a192(0x172)]['wuid']),delete _0x21ed26[_0x45a192(0x5b3)],delete _0x21ed26[_0x45a192(0x15f)];let _0x1b4f9c=await this[_0x45a192(0x600)][_0x45a192(0x725)]['updateOne'](_0xd4c915[_0x45a192(0x54e)],_0x21ed26,this[_0x45a192(0x172)][_0x45a192(0x22f)]);return _0x1b4f9c&&_0x1b4f9c[_0x45a192(0x5b3)]&&_0x1b4f9c[_0x45a192(0x5b3)]['length']>0x1&&this[_0x45a192(0x3f8)](_0x1b4f9c[_0x45a192(0x54e)],this[_0x45a192(0x172)]['wuid']),_0x1b4f9c;}catch(_0x15adf3){throw this[_0x45a192(0x784)][_0x45a192(0x426)](this[_0x45a192(0x38c)]+'\x20('+this[_0x45a192(0x172)][_0x45a192(0x22f)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x15adf3 instanceof Error?_0x15adf3['message']:JSON[_0x45a192(0x6ab)](_0x15adf3,null,0x2))),new w(_0x45a192(0x6bb)+(_0x15adf3 instanceof Error?_0x15adf3['message']:JSON[_0x45a192(0x6ab)](_0x15adf3,null,0x2)));}}async[a0_0x3c6a8b(0x6c7)](_0x2ccf6f){const _0x1bb77b=a0_0x3c6a8b;try{this[_0x1bb77b(0x784)][_0x1bb77b(0x1a2)](this[_0x1bb77b(0x38c)]+'\x20('+this['instance'][_0x1bb77b(0x22f)]+'):\x20Editando\x20bloco...');let _0x237b08=await this[_0x1bb77b(0x600)][_0x1bb77b(0x725)][_0x1bb77b(0x23a)]({'where':{'name':_0x2ccf6f['name']}},this['instance'][_0x1bb77b(0x22f)]);_0x237b08||this['throwAndLogError'](_0x1bb77b(0x5b9));let {block:_0x54d735}=_0x2ccf6f;_0x54d735?.[_0x1bb77b(0x62f)]?this[_0x1bb77b(0x1c8)](_0x237b08,_0x2ccf6f):_0x54d735?.[_0x1bb77b(0x214)]?this[_0x1bb77b(0x246)](_0x237b08,_0x2ccf6f):_0x54d735[_0x1bb77b(0x54e)]?await this['updateBlock'](_0x237b08,_0x2ccf6f):this[_0x1bb77b(0x36d)](_0x237b08,_0x2ccf6f);let _0x1ffba5=await this['repository'][_0x1bb77b(0x725)][_0x1bb77b(0x119)](_0x237b08['_id'],_0x237b08,this[_0x1bb77b(0x172)][_0x1bb77b(0x22f)]);if(_0x1ffba5&&_0x1ffba5[_0x1bb77b(0x5b3)]&&_0x1ffba5[_0x1bb77b(0x5b3)][_0x1bb77b(0x3ca)]>0x1&&this[_0x1bb77b(0x3f8)](_0x1ffba5[_0x1bb77b(0x54e)],this[_0x1bb77b(0x172)]['wuid']),!_0x1ffba5)throw new Error(_0x1bb77b(0x790));return _0x1ffba5;}catch(_0x50f20d){this['throwAndLogError'](_0x1bb77b(0x473)+_0x50f20d);}}async[a0_0x3c6a8b(0x1c8)](_0x5c0b12,_0x5ea581){const _0x2461f9=a0_0x3c6a8b;let _0x4f990f=_0x5ea581[_0x2461f9(0x75e)]['_id'],_0x3b780e=_0x5c0b12[_0x2461f9(0x2f4)][_0x2461f9(0x217)](_0x31bf3c=>_0x31bf3c[_0x2461f9(0x54e)][_0x2461f9(0x341)]()===_0x4f990f);if(!_0x3b780e){this[_0x2461f9(0x784)]['error'](this[_0x2461f9(0x38c)]+'\x20('+this[_0x2461f9(0x172)][_0x2461f9(0x22f)]+'):\x20Bloco\x20com\x20ID\x20'+_0x4f990f+_0x2461f9(0x5b6));return;}this[_0x2461f9(0x784)]['verbose'](this[_0x2461f9(0x38c)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x2461f9(0x6ab)](_0x3b780e));let _0x43f834=JSON[_0x2461f9(0x568)](JSON[_0x2461f9(0x6ab)](_0x3b780e));_0x43f834['_id']=new le[(_0x2461f9(0x4f5))][(_0x2461f9(0x13a))][(_0x2461f9(0x154))](),this[_0x2461f9(0x784)][_0x2461f9(0x1a2)](this[_0x2461f9(0x38c)]+'\x20('+this[_0x2461f9(0x172)][_0x2461f9(0x22f)]+_0x2461f9(0x337)+JSON[_0x2461f9(0x6ab)](_0x43f834)),_0x5c0b12[_0x2461f9(0x2f4)][_0x2461f9(0x799)](_0x43f834),this[_0x2461f9(0x307)](_0x5c0b12['blocks'],_0x43f834['groupId']);}['throwAndLogError'](_0x1c02d1){const _0x2b6c08=a0_0x3c6a8b;throw this[_0x2b6c08(0x784)]['error'](this[_0x2b6c08(0x38c)]+'\x20('+this[_0x2b6c08(0x172)]['wuid']+'):\x20'+_0x1c02d1),new w(_0x1c02d1);}[a0_0x3c6a8b(0x246)](_0x34de5a,_0x5d66fa){const _0x4c220e=a0_0x3c6a8b;let {block:_0x5a8182}=_0x5d66fa;if(_0x5a8182[_0x4c220e(0x2fb)]===_0x4c220e(0x19a)){this[_0x4c220e(0x2df)](_0x4c220e(0x76f));return;}if(!_0x5a8182[_0x4c220e(0x54e)]){this[_0x4c220e(0x2df)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x270577=_0x34de5a[_0x4c220e(0x2f4)][_0x4c220e(0x217)](_0x3b88b0=>_0x3b88b0[_0x4c220e(0x54e)][_0x4c220e(0x341)]()===_0x5d66fa['block'][_0x4c220e(0x54e)][_0x4c220e(0x341)]());if(!_0x270577){this[_0x4c220e(0x2df)](_0x4c220e(0x611)+_0x5a8182[_0x4c220e(0x54e)]+_0x4c220e(0x67c));return;}_0x34de5a[_0x4c220e(0x2f4)]=_0x34de5a[_0x4c220e(0x2f4)]['filter'](_0x4e69f3=>_0x4e69f3['_id'][_0x4c220e(0x341)]()!==_0x5d66fa[_0x4c220e(0x75e)]['_id'][_0x4c220e(0x341)]()),_0x34de5a[_0x4c220e(0x37b)]=_0x34de5a[_0x4c220e(0x37b)][_0x4c220e(0x75f)](_0x22cbaa=>_0x22cbaa[_0x4c220e(0x5cf)]!==_0x5a8182['_id'][_0x4c220e(0x341)]()),_0x34de5a[_0x4c220e(0x3a5)]=_0x34de5a[_0x4c220e(0x3a5)]['filter'](_0x2fd27e=>_0x2fd27e[_0x4c220e(0x5cf)]!==_0x5a8182[_0x4c220e(0x54e)]['toString']()),_0x34de5a[_0x4c220e(0x537)]=_0x34de5a[_0x4c220e(0x537)]['filter'](_0x17b28c=>_0x17b28c[_0x4c220e(0x5cf)]!==_0x5a8182[_0x4c220e(0x54e)][_0x4c220e(0x341)]()),this[_0x4c220e(0x307)](_0x34de5a[_0x4c220e(0x2f4)],_0x270577[_0x4c220e(0x32f)]);}async['updateBlock'](_0x3fc3c7,_0x545492){const _0x317cb5=a0_0x3c6a8b;let _0x750bfd=_0x3fc3c7[_0x317cb5(0x2f4)][_0x317cb5(0x714)](_0x513185=>_0x513185['_id'][_0x317cb5(0x341)]()===_0x545492[_0x317cb5(0x75e)][_0x317cb5(0x54e)]['toString']());if(this['logger'][_0x317cb5(0x1a2)](this[_0x317cb5(0x38c)]+'\x20('+this[_0x317cb5(0x172)][_0x317cb5(0x22f)]+_0x317cb5(0x36c)+_0x750bfd),_0x750bfd===-0x1){this[_0x317cb5(0x784)][_0x317cb5(0x1a2)](_0x317cb5(0x611)+_0x545492[_0x317cb5(0x75e)]['_id']+_0x317cb5(0x4c1));return;}if(_0x3fc3c7['blocks'][_0x750bfd][_0x317cb5(0x2fb)]==='start'){let _0x13b52f=Object[_0x317cb5(0x4c8)](_0x545492[_0x317cb5(0x75e)]);if(_0x13b52f[_0x317cb5(0x3ca)]>0x2||_0x13b52f[_0x317cb5(0x3ca)]===0x2&&!_0x13b52f['includes'](_0x317cb5(0x1e7))){this['throwAndLogError'](_0x317cb5(0x216));return;}}let _0x31777d=_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x32f)];for(let _0x1c9a1a in _0x545492[_0x317cb5(0x75e)])_0x545492['block'][_0x317cb5(0x302)](_0x1c9a1a)&&(_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x1c9a1a]=_0x545492[_0x317cb5(0x75e)][_0x1c9a1a]);if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x317cb5(0x22f)]+_0x317cb5(0x629)+JSON[_0x317cb5(0x6ab)](_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd])),_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd]['apirequest']&&'header'in _0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x4aa)]){this['logger']['verbose'](this[_0x317cb5(0x38c)]+'\x20('+this[_0x317cb5(0x172)][_0x317cb5(0x22f)]+_0x317cb5(0x28f));let _0x1a5856=JSON[_0x317cb5(0x6ab)](_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd]['apirequest']['header'],null,0x1);_0x1a5856['length']>0x2&&(_0x1a5856=_0x1a5856['substring'](0x1,_0x1a5856[_0x317cb5(0x3ca)]-0x1)[_0x317cb5(0x7e8)]()),_0x3fc3c7['blocks'][_0x750bfd][_0x317cb5(0x4aa)][_0x317cb5(0x715)]=_0x1a5856;}if(_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x4aa)]&&_0x317cb5(0x43e)in _0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x4aa)]){this[_0x317cb5(0x784)]['verbose'](this[_0x317cb5(0x38c)]+'\x20('+this['instance'][_0x317cb5(0x22f)]+_0x317cb5(0x2e4));let _0x3a3b90=JSON[_0x317cb5(0x6ab)](_0x3fc3c7['blocks'][_0x750bfd][_0x317cb5(0x4aa)]['body'],null,0x1);_0x3a3b90[_0x317cb5(0x3ca)]>0x2&&(_0x3a3b90=_0x3a3b90['substring'](0x1,_0x3a3b90['length']-0x1)[_0x317cb5(0x7e8)]()),_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x4aa)][_0x317cb5(0x5eb)]=_0x3a3b90;}let _0x3e8f9a=_0x3fc3c7[_0x317cb5(0x2f4)][_0x750bfd][_0x317cb5(0x32f)];_0x31777d!==_0x3e8f9a?(this[_0x317cb5(0x307)](_0x3fc3c7[_0x317cb5(0x2f4)],_0x31777d),this['reorderBlocks'](_0x3fc3c7['blocks'],_0x3e8f9a)):this[_0x317cb5(0x307)](_0x3fc3c7['blocks'],_0x31777d);}[a0_0x3c6a8b(0x36d)](_0x4009a2,_0x102f15){const _0x5987e9=a0_0x3c6a8b;if(_0x102f15['block'][_0x5987e9(0x2fb)]===_0x5987e9(0x19a)){this[_0x5987e9(0x2df)](_0x5987e9(0x630));return;}if(_0x102f15['block']['apirequest']&&'header'in _0x102f15['block'][_0x5987e9(0x4aa)]){this[_0x5987e9(0x784)][_0x5987e9(0x1a2)](this[_0x5987e9(0x38c)]+'\x20('+this[_0x5987e9(0x172)][_0x5987e9(0x22f)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x444535=JSON[_0x5987e9(0x6ab)](_0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)][_0x5987e9(0x767)],null,0x1);_0x444535[_0x5987e9(0x3ca)]>0x2&&(_0x444535=_0x444535[_0x5987e9(0x3eb)](0x1,_0x444535['length']-0x1)[_0x5987e9(0x7e8)]()),_0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)]['headerString']=_0x444535;}_0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)]&&_0x5987e9(0x43e)in _0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)]&&(this[_0x5987e9(0x784)][_0x5987e9(0x1a2)](this[_0x5987e9(0x38c)]+'\x20('+this['instance'][_0x5987e9(0x22f)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)][_0x5987e9(0x5eb)]=JSON['stringify'](_0x102f15[_0x5987e9(0x75e)][_0x5987e9(0x4aa)][_0x5987e9(0x43e)],null,0x1)[_0x5987e9(0x7e8)]()),_0x4009a2['blocks'][_0x5987e9(0x799)](_0x102f15[_0x5987e9(0x75e)]),this[_0x5987e9(0x307)](_0x4009a2['blocks'],_0x102f15[_0x5987e9(0x75e)]['groupId']);}[a0_0x3c6a8b(0x307)](_0x40e1e8,_0x1b63fa){const _0x4c2920=a0_0x3c6a8b;let _0x43c14c=_0x40e1e8[_0x4c2920(0x75f)](_0x1be3d6=>_0x1be3d6[_0x4c2920(0x32f)]===_0x1b63fa);_0x43c14c[_0x4c2920(0x6c3)]((_0x41366c,_0xd701c5)=>_0x41366c[_0x4c2920(0x310)]-_0xd701c5['order']),_0x43c14c[_0x4c2920(0x471)]((_0x370655,_0x3e7c33)=>_0x370655[_0x4c2920(0x310)]=_0x3e7c33+0x1);}async[a0_0x3c6a8b(0x222)](_0xdc2cea){const _0x46c3d1=a0_0x3c6a8b;try{if(this[_0x46c3d1(0x784)][_0x46c3d1(0x1a2)](this[_0x46c3d1(0x38c)]+'\x20('+this[_0x46c3d1(0x172)]['wuid']+_0x46c3d1(0x30d)),!_0xdc2cea||!_0xdc2cea[_0x46c3d1(0x1f5)]){this[_0x46c3d1(0x2df)]('Data\x20inválida\x20fornecida');return;}let _0xb15a7f=await this['repository'][_0x46c3d1(0x725)][_0x46c3d1(0x23a)]({'where':{'name':_0xdc2cea[_0x46c3d1(0x4e1)]}},this['instance'][_0x46c3d1(0x22f)]);_0xb15a7f||this['throwAndLogError'](_0x46c3d1(0x5b9));let {replyOption:_0x5cf6be}=_0xdc2cea;_0x5cf6be?.[_0x46c3d1(0x214)]?(this['deleteReplyOption'](_0xb15a7f,_0xdc2cea),this[_0x46c3d1(0x675)](_0xb15a7f[_0x46c3d1(0x537)],_0xdc2cea[_0x46c3d1(0x1f5)][_0x46c3d1(0x5cf)])):_0x5cf6be[_0x46c3d1(0x54e)]?(await this[_0x46c3d1(0x2c0)](_0xb15a7f,_0xdc2cea),this[_0x46c3d1(0x675)](_0xb15a7f['replyOptions'],_0xdc2cea[_0x46c3d1(0x1f5)]['blockId'])):(this['addReplyOption'](_0xb15a7f,_0xdc2cea),this[_0x46c3d1(0x675)](_0xb15a7f[_0x46c3d1(0x537)],_0xdc2cea[_0x46c3d1(0x1f5)]['blockId']));let _0x2aaef3=await this[_0x46c3d1(0x600)][_0x46c3d1(0x725)][_0x46c3d1(0x119)](_0xb15a7f[_0x46c3d1(0x54e)],_0xb15a7f,this['instance']['wuid']);if(_0x2aaef3&&_0x2aaef3[_0x46c3d1(0x5b3)]&&_0x2aaef3[_0x46c3d1(0x5b3)]['length']>0x1&&this[_0x46c3d1(0x3f8)](_0x2aaef3[_0x46c3d1(0x54e)],this[_0x46c3d1(0x172)][_0x46c3d1(0x22f)]),!_0x2aaef3)throw new Error(_0x46c3d1(0x790));return _0x2aaef3;}catch(_0x37984e){this[_0x46c3d1(0x2df)](_0x46c3d1(0x325)+_0x37984e);}}[a0_0x3c6a8b(0x675)](_0x516b84,_0x243f37){const _0x3692f9=a0_0x3c6a8b;console[_0x3692f9(0x1f7)](_0x3692f9(0x645),_0x243f37),_0x516b84['forEach'](_0x5c33fb=>{const _0x27f15b=_0x3692f9;_0x5c33fb[_0x27f15b(0x5cf)]===_0x243f37&&_0x5c33fb[_0x27f15b(0x310)]===void 0x0&&(_0x5c33fb['order']=0x270f);});let _0x2788da=_0x516b84[_0x3692f9(0x75f)](_0x11573b=>_0x11573b['blockId']===_0x243f37);_0x2788da[_0x3692f9(0x6c3)]((_0x3e6ced,_0x55041e)=>_0x3e6ced[_0x3692f9(0x310)]-_0x55041e[_0x3692f9(0x310)]),_0x2788da[_0x3692f9(0x471)]((_0xa0f198,_0x3ff779)=>{const _0xce816b=_0x3692f9;_0xa0f198[_0xce816b(0x310)]=_0x3ff779+0x1;}),_0x516b84['forEach'](_0x1481c7=>{const _0x408a7d=_0x3692f9;if(_0x1481c7[_0x408a7d(0x5cf)]===_0x243f37){let _0x587963=_0x2788da[_0x408a7d(0x217)](_0x7a4e4b=>_0x7a4e4b['_id']&&_0x1481c7[_0x408a7d(0x54e)]&&_0x7a4e4b['_id']['toString']()===_0x1481c7['_id']['toString']());_0x587963&&(_0x1481c7[_0x408a7d(0x310)]=_0x587963[_0x408a7d(0x310)]);}}),console['log']('ReplyOptions\x20finais\x20após\x20reordenação:',_0x516b84);}['deleteReplyOption'](_0x2b56d6,_0x495406){const _0x1af5c5=a0_0x3c6a8b;let {replyOption:_0x4cca0f}=_0x495406;if(!_0x4cca0f[_0x1af5c5(0x54e)]){this[_0x1af5c5(0x2df)](_0x1af5c5(0x171));return;}if(!_0x2b56d6[_0x1af5c5(0x537)][_0x1af5c5(0x217)](_0xc51317=>_0xc51317[_0x1af5c5(0x54e)][_0x1af5c5(0x341)]()===_0x495406['replyOption']['_id'][_0x1af5c5(0x341)]())){this[_0x1af5c5(0x2df)](_0x1af5c5(0x519)+_0x4cca0f[_0x1af5c5(0x54e)]+'\x20não\x20encontrado');return;}_0x2b56d6[_0x1af5c5(0x537)]=_0x2b56d6['replyOptions'][_0x1af5c5(0x75f)](_0x1390f8=>_0x1390f8[_0x1af5c5(0x54e)][_0x1af5c5(0x341)]()!==_0x495406[_0x1af5c5(0x1f5)][_0x1af5c5(0x54e)][_0x1af5c5(0x341)]());}async[a0_0x3c6a8b(0x2c0)](_0x28edd5,_0x2128a9){const _0x576d70=a0_0x3c6a8b;let _0x3d0f9c=_0x28edd5[_0x576d70(0x537)][_0x576d70(0x714)](_0x3eaa69=>_0x3eaa69['_id'][_0x576d70(0x341)]()===_0x2128a9[_0x576d70(0x1f5)][_0x576d70(0x54e)][_0x576d70(0x341)]());if(_0x3d0f9c===-0x1){this[_0x576d70(0x2df)]('ReplyOption\x20com\x20ID\x20'+_0x2128a9[_0x576d70(0x1f5)][_0x576d70(0x54e)]+_0x576d70(0x4c1));return;}for(let _0x234a76 in _0x2128a9['replyOption'])_0x2128a9[_0x576d70(0x1f5)][_0x576d70(0x302)](_0x234a76)&&(_0x28edd5['replyOptions'][_0x3d0f9c][_0x234a76]=_0x2128a9[_0x576d70(0x1f5)][_0x234a76]);}[a0_0x3c6a8b(0x3a7)](_0x35652e,_0x285d2b){const _0x1b1f16=a0_0x3c6a8b;_0x35652e[_0x1b1f16(0x537)][_0x1b1f16(0x799)](_0x285d2b[_0x1b1f16(0x1f5)]);}async[a0_0x3c6a8b(0x3dd)](_0x2720cc){const _0x471eff=a0_0x3c6a8b;this[_0x471eff(0x784)][_0x471eff(0x1a2)](this['instanceName']+'\x20('+this[_0x471eff(0x172)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x2720cc);try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x471eff(0x22f)]+_0x471eff(0x3b9));let _0x37749e=await this[_0x471eff(0x600)][_0x471eff(0x725)][_0x471eff(0x23a)]({'where':{'name':_0x2720cc[_0x471eff(0x4e1)]}},this[_0x471eff(0x172)][_0x471eff(0x22f)]);if(!_0x37749e)throw new Error(_0x471eff(0x5b9));if(_0x2720cc['group']&&_0x2720cc[_0x471eff(0x2ae)]?.[_0x471eff(0x214)]===!0x0){if(this[_0x471eff(0x784)][_0x471eff(0x1a2)](this[_0x471eff(0x38c)]+'\x20('+this[_0x471eff(0x172)][_0x471eff(0x22f)]+'):\x20delete\x20=\x20true'),_0x2720cc[_0x471eff(0x2ae)][_0x471eff(0x4f5)]===!0x0)return{'message':_0x471eff(0x6ea)};if(_0x37749e[_0x471eff(0x2f4)][_0x471eff(0x729)](_0x3ff043=>_0x3ff043[_0x471eff(0x32f)][_0x471eff(0x341)]()===_0x2720cc[_0x471eff(0x2ae)]['_id']))return this[_0x471eff(0x784)][_0x471eff(0x1a2)](this[_0x471eff(0x38c)]+'\x20('+this['instance'][_0x471eff(0x22f)]+_0x471eff(0x598)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x37749e['groups']=_0x37749e[_0x471eff(0x1da)][_0x471eff(0x75f)](_0x5b641f=>_0x5b641f[_0x471eff(0x54e)][_0x471eff(0x341)]()!==_0x2720cc[_0x471eff(0x2ae)][_0x471eff(0x54e)]);}else{if(_0x2720cc[_0x471eff(0x2ae)]){if(_0x2720cc[_0x471eff(0x2ae)][_0x471eff(0x4f5)]===!0x0)return{'message':_0x471eff(0x668)};if(_0x2720cc['group'][_0x471eff(0x54e)]){let _0x42e9e5=_0x37749e[_0x471eff(0x1da)][_0x471eff(0x217)](_0x13f8f0=>_0x13f8f0[_0x471eff(0x54e)][_0x471eff(0x341)]()===_0x2720cc[_0x471eff(0x2ae)][_0x471eff(0x54e)]);_0x42e9e5&&(_0x2720cc[_0x471eff(0x2ae)]['x']<0x0&&(_0x2720cc['group']['x']=0x0),_0x2720cc[_0x471eff(0x2ae)]['y']<0x0&&(_0x2720cc[_0x471eff(0x2ae)]['y']=0x0),Object[_0x471eff(0x273)](_0x42e9e5,_0x2720cc['group']));}else _0x37749e['groups'][_0x471eff(0x799)](_0x2720cc[_0x471eff(0x2ae)]);}}let _0x100817=await this[_0x471eff(0x600)][_0x471eff(0x725)][_0x471eff(0x119)](_0x37749e[_0x471eff(0x54e)],_0x37749e,this['instance'][_0x471eff(0x22f)]);if(_0x100817&&_0x100817[_0x471eff(0x5b3)]&&_0x100817['shareOwners']['length']>0x1&&this[_0x471eff(0x3f8)](_0x100817[_0x471eff(0x54e)],this[_0x471eff(0x172)][_0x471eff(0x22f)]),!_0x100817)throw new Error(_0x471eff(0x790));return _0x100817;}catch(_0x5c0e8a){throw this[_0x471eff(0x784)]['error'](this[_0x471eff(0x38c)]+'\x20('+this[_0x471eff(0x172)][_0x471eff(0x22f)]+_0x471eff(0x69c)+(_0x5c0e8a instanceof Error?_0x5c0e8a[_0x471eff(0x78c)]:JSON[_0x471eff(0x6ab)](_0x5c0e8a,null,0x2))),new w(_0x471eff(0x5f8)+(_0x5c0e8a instanceof Error?_0x5c0e8a[_0x471eff(0x78c)]:JSON[_0x471eff(0x6ab)](_0x5c0e8a,null,0x2)));}}async['editFlowCondition'](_0x1b668b){const _0x1f6be4=a0_0x3c6a8b;try{this['logger'][_0x1f6be4(0x1a2)](this[_0x1f6be4(0x38c)]+'\x20('+this[_0x1f6be4(0x172)]['wuid']+_0x1f6be4(0x6cd));let _0x27dc53=await this[_0x1f6be4(0x600)][_0x1f6be4(0x725)][_0x1f6be4(0x23a)]({'where':{'name':_0x1b668b['name']}},this[_0x1f6be4(0x172)]['wuid']);if(!_0x27dc53)throw new Error(_0x1f6be4(0x5b9));let _0x2b82cf=!0x1;if(_0x1b668b[_0x1f6be4(0x15b)]?.[_0x1f6be4(0x214)]===!0x0)_0x27dc53['conditions']=_0x27dc53[_0x1f6be4(0x37b)][_0x1f6be4(0x75f)](_0x583105=>_0x583105&&_0x1b668b[_0x1f6be4(0x15b)]&&_0x583105[_0x1f6be4(0x54e)]&&_0x1b668b[_0x1f6be4(0x15b)][_0x1f6be4(0x54e)]&&_0x583105[_0x1f6be4(0x54e)][_0x1f6be4(0x341)]()!==_0x1b668b[_0x1f6be4(0x15b)][_0x1f6be4(0x54e)][_0x1f6be4(0x341)]()),_0x2b82cf=!0x0;else{let _0x513e1b=_0x27dc53['conditions'][_0x1f6be4(0x217)](_0x3ebef3=>_0x3ebef3&&_0x1b668b[_0x1f6be4(0x15b)]&&_0x3ebef3[_0x1f6be4(0x54e)]&&_0x1b668b[_0x1f6be4(0x15b)][_0x1f6be4(0x54e)]&&_0x3ebef3['_id'][_0x1f6be4(0x341)]()===_0x1b668b['condition'][_0x1f6be4(0x54e)][_0x1f6be4(0x341)]());_0x513e1b?(_0x2b82cf=_0x513e1b['order']!==_0x1b668b['condition'][_0x1f6be4(0x310)],Object[_0x1f6be4(0x273)](_0x513e1b,_0x1b668b[_0x1f6be4(0x15b)])):(_0x27dc53['conditions']['push'](_0x1b668b[_0x1f6be4(0x15b)]),_0x2b82cf=!0x0);}if(_0x2b82cf){_0x27dc53['conditions']['sort']((_0x27f05d,_0x2550a7)=>_0x27f05d[_0x1f6be4(0x310)]>_0x2550a7['order']?0x1:_0x2550a7['order']>_0x27f05d[_0x1f6be4(0x310)]?-0x1:0x0);for(let _0x1d0fb4=0x0;_0x1d0fb4<_0x27dc53['conditions']['length'];_0x1d0fb4++)_0x27dc53[_0x1f6be4(0x37b)][_0x1d0fb4][_0x1f6be4(0x310)]=_0x1d0fb4+0x1;_0x27dc53[_0x1f6be4(0x37b)][_0x1f6be4(0x3ca)]>0x0&&(_0x27dc53['conditions'][0x0][_0x1f6be4(0x677)]=_0x1f6be4(0x189));}let _0x322e61=await this['repository'][_0x1f6be4(0x725)][_0x1f6be4(0x119)](_0x27dc53[_0x1f6be4(0x54e)],_0x27dc53,this[_0x1f6be4(0x172)][_0x1f6be4(0x22f)]);if(_0x322e61&&_0x322e61[_0x1f6be4(0x5b3)]&&_0x322e61[_0x1f6be4(0x5b3)][_0x1f6be4(0x3ca)]>0x1&&this[_0x1f6be4(0x3f8)](_0x322e61[_0x1f6be4(0x54e)],this[_0x1f6be4(0x172)]['wuid']),!_0x322e61)throw new Error(_0x1f6be4(0x790));return _0x322e61;}catch(_0x674a36){throw this['logger'][_0x1f6be4(0x426)](this[_0x1f6be4(0x38c)]+'\x20('+this[_0x1f6be4(0x172)][_0x1f6be4(0x22f)]+_0x1f6be4(0x5e2)+(_0x674a36 instanceof Error?_0x674a36[_0x1f6be4(0x78c)]:JSON['stringify'](_0x674a36,null,0x2))),new Error(_0x1f6be4(0x5a1)+(_0x674a36 instanceof Error?_0x674a36[_0x1f6be4(0x78c)]:JSON[_0x1f6be4(0x6ab)](_0x674a36,null,0x2)));}}async[a0_0x3c6a8b(0x253)](_0x1e3a94){const _0x139d86=a0_0x3c6a8b;try{this[_0x139d86(0x784)][_0x139d86(0x1a2)](this[_0x139d86(0x38c)]+'\x20('+this[_0x139d86(0x172)]['wuid']+_0x139d86(0x20c));let _0x39ddbf=await this[_0x139d86(0x600)][_0x139d86(0x725)][_0x139d86(0x23a)]({'where':{'name':_0x1e3a94['name']}},this[_0x139d86(0x172)][_0x139d86(0x22f)]);if(!_0x39ddbf)throw new Error(_0x139d86(0x5b9));let _0x14447c=!0x1;if(_0x1e3a94['varedit']?.[_0x139d86(0x214)]===!0x0)_0x39ddbf[_0x139d86(0x3a5)]=_0x39ddbf[_0x139d86(0x3a5)][_0x139d86(0x75f)](_0x5825a5=>_0x5825a5&&_0x1e3a94[_0x139d86(0x6f8)]&&_0x5825a5[_0x139d86(0x54e)]&&_0x1e3a94[_0x139d86(0x6f8)][_0x139d86(0x54e)]&&_0x5825a5[_0x139d86(0x54e)][_0x139d86(0x341)]()!==_0x1e3a94[_0x139d86(0x6f8)][_0x139d86(0x54e)]['toString']()),_0x14447c=!0x0;else{let _0x57959c=_0x39ddbf[_0x139d86(0x3a5)][_0x139d86(0x217)](_0x33675c=>_0x33675c&&_0x1e3a94[_0x139d86(0x6f8)]&&_0x33675c['_id']&&_0x1e3a94['varedit'][_0x139d86(0x54e)]&&_0x33675c[_0x139d86(0x54e)][_0x139d86(0x341)]()===_0x1e3a94[_0x139d86(0x6f8)][_0x139d86(0x54e)][_0x139d86(0x341)]());_0x57959c?(_0x14447c=_0x57959c['order']!==_0x1e3a94[_0x139d86(0x6f8)]['order'],Object[_0x139d86(0x273)](_0x57959c,_0x1e3a94[_0x139d86(0x6f8)])):(_0x39ddbf[_0x139d86(0x3a5)][_0x139d86(0x799)](_0x1e3a94[_0x139d86(0x6f8)]),_0x14447c=!0x0);}if(_0x14447c){_0x39ddbf[_0x139d86(0x3a5)][_0x139d86(0x6c3)]((_0x13b36a,_0x1de665)=>_0x13b36a[_0x139d86(0x310)]>_0x1de665[_0x139d86(0x310)]?0x1:_0x1de665[_0x139d86(0x310)]>_0x13b36a[_0x139d86(0x310)]?-0x1:0x0);for(let _0x4da798=0x0;_0x4da798<_0x39ddbf['varedits']['length'];_0x4da798++)_0x39ddbf[_0x139d86(0x3a5)][_0x4da798][_0x139d86(0x310)]=_0x4da798+0x1;}let _0x29d3e=await this['repository'][_0x139d86(0x725)]['updateOne'](_0x39ddbf[_0x139d86(0x54e)],_0x39ddbf,this[_0x139d86(0x172)][_0x139d86(0x22f)]);if(_0x29d3e&&_0x29d3e['shareOwners']&&_0x29d3e[_0x139d86(0x5b3)][_0x139d86(0x3ca)]>0x1&&this[_0x139d86(0x3f8)](_0x29d3e[_0x139d86(0x54e)],this[_0x139d86(0x172)]['wuid']),!_0x29d3e)throw new Error(_0x139d86(0x790));return _0x29d3e;}catch(_0x110792){throw this[_0x139d86(0x784)][_0x139d86(0x426)](this[_0x139d86(0x38c)]+'\x20('+this['instance'][_0x139d86(0x22f)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x110792 instanceof Error?_0x110792[_0x139d86(0x78c)]:JSON[_0x139d86(0x6ab)](_0x110792,null,0x2))),new w(_0x139d86(0x5a1)+(_0x110792 instanceof Error?_0x110792[_0x139d86(0x78c)]:JSON[_0x139d86(0x6ab)](_0x110792,null,0x2)));}}async[a0_0x3c6a8b(0x70d)](_0x2f2793){const _0x36c49b=a0_0x3c6a8b;try{this[_0x36c49b(0x784)][_0x36c49b(0x1a2)](this['instanceName']+'\x20('+this[_0x36c49b(0x172)][_0x36c49b(0x22f)]+_0x36c49b(0x127));let _0x21b1d0=await this[_0x36c49b(0x600)][_0x36c49b(0x725)]['findOne']({'where':{'name':_0x2f2793[_0x36c49b(0x4e1)]}},this[_0x36c49b(0x172)][_0x36c49b(0x22f)]);if(!_0x21b1d0)throw new Error(_0x36c49b(0x5b9));_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)]=_0x2f2793['variable']['name'][_0x36c49b(0x7e8)](),_0x2f2793[_0x36c49b(0x4ec)]['name'][_0x36c49b(0x615)]('_')&&(_0x2f2793['variable']['name']=_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)][_0x36c49b(0x3eb)](0x1)),_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)]=_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)]['trim']();let _0x5142d2=_0x21b1d0[_0x36c49b(0x5f1)][_0x36c49b(0x217)](_0x167c74=>_0x167c74[_0x36c49b(0x4e1)]===_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)]);if(_0x5142d2?.[_0x36c49b(0x536)]===!0x0)throw new Error(_0x36c49b(0x181));if(_0x2f2793[_0x36c49b(0x4ec)]?.[_0x36c49b(0x214)]===!0x0){if(!_0x5142d2)return{'message':'Variável\x20não\x20encontrada!'};_0x21b1d0['variables']=_0x21b1d0[_0x36c49b(0x5f1)][_0x36c49b(0x75f)](_0x5e3b46=>_0x5e3b46[_0x36c49b(0x4e1)]!==_0x2f2793[_0x36c49b(0x4ec)][_0x36c49b(0x4e1)]);}else _0x5142d2?Object[_0x36c49b(0x273)](_0x5142d2,_0x2f2793[_0x36c49b(0x4ec)]):_0x21b1d0[_0x36c49b(0x5f1)]['push'](_0x2f2793[_0x36c49b(0x4ec)]);let _0x44ea89=await this['repository'][_0x36c49b(0x725)][_0x36c49b(0x119)](_0x21b1d0[_0x36c49b(0x54e)],_0x21b1d0,this[_0x36c49b(0x172)][_0x36c49b(0x22f)]);if(_0x44ea89&&_0x44ea89[_0x36c49b(0x5b3)]&&_0x44ea89[_0x36c49b(0x5b3)][_0x36c49b(0x3ca)]>0x1&&this[_0x36c49b(0x3f8)](_0x44ea89['_id'],this[_0x36c49b(0x172)][_0x36c49b(0x22f)]),!_0x44ea89)throw new Error(_0x36c49b(0x790));return _0x44ea89;}catch(_0x2b7a57){throw this[_0x36c49b(0x784)]['error'](this['instanceName']+'\x20('+this['instance'][_0x36c49b(0x22f)]+_0x36c49b(0x6b2)+(_0x2b7a57 instanceof Error?_0x2b7a57[_0x36c49b(0x78c)]:JSON[_0x36c49b(0x6ab)](_0x2b7a57,null,0x2))),new w(_0x36c49b(0x297)+(_0x2b7a57 instanceof Error?_0x2b7a57['message']:JSON[_0x36c49b(0x6ab)](_0x2b7a57,null,0x2)));}}async[a0_0x3c6a8b(0x37c)](_0x41a6d7){const _0x2c696b=a0_0x3c6a8b;let _0x24bfb7=null;try{if(!this[_0x2c696b(0x16e)]?.[_0x2c696b(0x4c9)][_0x2c696b(0x628)])throw new w(_0x2c696b(0x542));this['logger'][_0x2c696b(0x1a2)](this[_0x2c696b(0x38c)]+'\x20('+this[_0x2c696b(0x172)][_0x2c696b(0x22f)]+_0x2c696b(0x47f));let _0x313590=(await this['whatsappNumber']({'numbers':[_0x41a6d7[_0x2c696b(0x248)]]}))[0x0];if(!_0x313590[_0x2c696b(0x6cf)]&&!(0x0,m[_0x2c696b(0x5c6)])(_0x313590[_0x2c696b(0x3a9)])&&!_0x313590[_0x2c696b(0x3a9)][_0x2c696b(0x612)](_0x2c696b(0x289)))throw _0x24bfb7=JSON['stringify'](_0x313590,null,0x2),new w(_0x313590);let _0x5b6bab=await this[_0x2c696b(0x600)][_0x2c696b(0x725)]['findOne']({'where':{'name':_0x41a6d7['name']}},this['instance'][_0x2c696b(0x22f)]);if(!_0x5b6bab)return this[_0x2c696b(0x784)]['error'](this[_0x2c696b(0x38c)]+'\x20('+this[_0x2c696b(0x172)][_0x2c696b(0x22f)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x2c696b(0x5b9)};let _0x5bedcd=await this[_0x2c696b(0x318)](_0x5b6bab,_0x313590['jid'],_0x41a6d7[_0x2c696b(0x494)]);if(_0x5bedcd){this[_0x2c696b(0x784)][_0x2c696b(0x1a2)](this[_0x2c696b(0x38c)]+'\x20('+this[_0x2c696b(0x172)][_0x2c696b(0x22f)]+_0x2c696b(0x3bc));let _0x28a3e2=await this['NextBlock'](_0x5bedcd);return _0x28a3e2&&await this['processblock'](_0x5bedcd,_0x28a3e2),{'message':_0x2c696b(0x623)+_0x41a6d7['remoteJid']};}}catch(_0x1d2f1f){if(this[_0x2c696b(0x784)][_0x2c696b(0x426)](this[_0x2c696b(0x38c)]+'\x20('+this[_0x2c696b(0x172)][_0x2c696b(0x22f)]+_0x2c696b(0x582)+(_0x1d2f1f instanceof Error?_0x1d2f1f[_0x2c696b(0x78c)]:JSON[_0x2c696b(0x6ab)](_0x1d2f1f,null,0x2))),_0x24bfb7=_0x1d2f1f instanceof Error?_0x1d2f1f[_0x2c696b(0x78c)]:JSON[_0x2c696b(0x6ab)](_0x1d2f1f,null,0x2),_0x24bfb7)throw new w(_0x2c696b(0x41f)+_0x24bfb7);}}async[a0_0x3c6a8b(0x6e7)](_0x2821d8){const _0x116054=a0_0x3c6a8b;try{let _0x36232c={'remoteJid':_0x2821d8,'status':_0x116054(0x61e)},_0x58ef9={'status':'closed'},_0x5f206c=await this['repository']['flowConversation'][_0x116054(0x2c3)](_0x36232c,_0x58ef9,this[_0x116054(0x172)][_0x116054(0x22f)]);return this[_0x116054(0x784)][_0x116054(0x1a2)](this[_0x116054(0x38c)]+'\x20('+this[_0x116054(0x172)][_0x116054(0x22f)]+_0x116054(0x638)),_0x5f206c;}catch(_0x2a807d){throw this[_0x116054(0x784)]['error'](this['instanceName']+'\x20('+this['instance'][_0x116054(0x22f)]+_0x116054(0x4c3)+_0x2a807d[_0x116054(0x78c)]),_0x2a807d;}}async[a0_0x3c6a8b(0x318)](_0x1485e5,_0x6dbaad,_0x507843){const _0x1d579e=a0_0x3c6a8b;this[_0x1d579e(0x784)][_0x1d579e(0x1a2)](this[_0x1d579e(0x38c)]+'\x20('+this[_0x1d579e(0x172)][_0x1d579e(0x22f)]+_0x1d579e(0x7a7)),await this[_0x1d579e(0x6e7)](_0x6dbaad);try{let _0x3a38ce=require(_0x1d579e(0x5bc))[_0x1d579e(0x154)],_0x350e4f=Date[_0x1d579e(0x30f)](),_0x290337=_0x1d579e(0x19a),_0x174b83={},_0x2eb8d9={},_0x3fee10={..._0x1485e5,'chatLog':null},_0x3e7ed2=await this[_0x1d579e(0x206)](_0x3fee10[_0x1d579e(0x5f1)]),_0x5e6076=await this[_0x1d579e(0x727)](_0x6dbaad),_0x118169={..._0x3e7ed2,..._0x5e6076,'_remoteJid':_0x6dbaad},_0x781e10={'lastReceivedMessage':_0x174b83,'lastSendMessage':_0x2eb8d9,'lastBlockId':_0x290337,'lastCondition':!0x0,'realVariables':_0x118169};_0x3fee10[_0x1d579e(0x79d)]=_0x781e10,_0x3fee10[_0x1d579e(0x79d)][_0x1d579e(0x4bb)]={..._0x118169,..._0x507843},delete _0x3fee10[_0x1d579e(0x54e)],_0x3fee10[_0x1d579e(0x54e)]=new _0x3a38ce(),_0x3fee10[_0x1d579e(0x617)]=_0x350e4f,_0x3fee10[_0x1d579e(0x6e3)]=_0x1d579e(0x61e),_0x3fee10[_0x1d579e(0x248)]=_0x6dbaad;let _0x2b8cf9=await this[_0x1d579e(0x600)][_0x1d579e(0x4d1)][_0x1d579e(0x119)](_0x3fee10[_0x1d579e(0x54e)],_0x3fee10,this['instance'][_0x1d579e(0x22f)]);return this[_0x1d579e(0x784)]['verbose'](this[_0x1d579e(0x38c)]+'\x20('+this[_0x1d579e(0x172)][_0x1d579e(0x22f)]+_0x1d579e(0x27e)),_0x2b8cf9?_0x3fee10:null;}catch(_0x78a03c){throw this[_0x1d579e(0x784)]['error'](this[_0x1d579e(0x38c)]+'\x20('+this[_0x1d579e(0x172)][_0x1d579e(0x22f)]+_0x1d579e(0x554)+(_0x78a03c instanceof Error?_0x78a03c[_0x1d579e(0x78c)]:JSON[_0x1d579e(0x6ab)](_0x78a03c,null,0x2))),new w(_0x78a03c[_0x1d579e(0x78c)]);}}async[a0_0x3c6a8b(0x3d1)](_0x28ddfd){const _0xf09d80=a0_0x3c6a8b;try{this[_0xf09d80(0x784)][_0xf09d80(0x1a2)](this[_0xf09d80(0x38c)]+'\x20('+this[_0xf09d80(0x172)][_0xf09d80(0x22f)]+_0xf09d80(0x179)),this[_0xf09d80(0x784)][_0xf09d80(0x1a2)](this[_0xf09d80(0x38c)]+'\x20('+this[_0xf09d80(0x172)][_0xf09d80(0x22f)]+_0xf09d80(0x419)+_0x28ddfd);let _0x25b5ec={'where':{'_id':_0x28ddfd}};return await this[_0xf09d80(0x600)][_0xf09d80(0x4d1)][_0xf09d80(0x23a)](_0x25b5ec,this[_0xf09d80(0x172)]['wuid']);}catch(_0x4cfd9f){throw this[_0xf09d80(0x784)]['error'](this[_0xf09d80(0x38c)]+'\x20('+this[_0xf09d80(0x172)][_0xf09d80(0x22f)]+_0xf09d80(0x395)+(_0x4cfd9f instanceof Error?_0x4cfd9f[_0xf09d80(0x78c)]:JSON['stringify'](_0x4cfd9f,null,0x2))),new w(_0xf09d80(0x64e)+_0x4cfd9f['message']);}}async['fetchConversation'](_0x433e2e){const _0x1dcbad=a0_0x3c6a8b;try{return this['logger'][_0x1dcbad(0x1a2)](this[_0x1dcbad(0x38c)]+'\x20('+this[_0x1dcbad(0x172)][_0x1dcbad(0x22f)]+_0x1dcbad(0x411)),await this[_0x1dcbad(0x600)][_0x1dcbad(0x4d1)][_0x1dcbad(0x217)](_0x433e2e,this[_0x1dcbad(0x172)][_0x1dcbad(0x22f)]);}catch(_0x340a3d){throw this[_0x1dcbad(0x784)][_0x1dcbad(0x426)](this[_0x1dcbad(0x38c)]+'\x20('+this['instance']['wuid']+_0x1dcbad(0x20a)+(_0x340a3d instanceof Error?_0x340a3d[_0x1dcbad(0x78c)]:JSON[_0x1dcbad(0x6ab)](_0x340a3d,null,0x2))),new w(_0x1dcbad(0x6a9)+_0x340a3d[_0x1dcbad(0x78c)]);}}async['deleteConversation'](_0x1e0648){const _0xce9f98=a0_0x3c6a8b;try{return this['logger'][_0xce9f98(0x1a2)](this[_0xce9f98(0x38c)]+'\x20('+this[_0xce9f98(0x172)]['wuid']+_0xce9f98(0x56d)),this['logger'][_0xce9f98(0x1a2)](this[_0xce9f98(0x38c)]+'\x20('+this[_0xce9f98(0x172)]['wuid']+'):\x20Query\x20params:'+_0x1e0648),(await this[_0xce9f98(0x600)][_0xce9f98(0x4d1)][_0xce9f98(0x687)]({'where':{'_id':_0x1e0648}},this[_0xce9f98(0x172)][_0xce9f98(0x22f)]))[_0xce9f98(0x332)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x3a0355){throw this['logger'][_0xce9f98(0x426)](this[_0xce9f98(0x38c)]+'\x20('+this[_0xce9f98(0x172)][_0xce9f98(0x22f)]+_0xce9f98(0x57c)+(_0x3a0355 instanceof Error?_0x3a0355['message']:JSON[_0xce9f98(0x6ab)](_0x3a0355,null,0x2))),new w(_0xce9f98(0x280)+_0x3a0355[_0xce9f98(0x78c)]);}}async['editConversation'](_0x33ea23){const _0x798d81=a0_0x3c6a8b;try{let {_id:_0x3ebcf1,chatLog:_0x4ed600,status:_0xdbe69}=_0x33ea23;if(!_0x3ebcf1)return{'message':_0x798d81(0x350)};let _0x3eb17f={};if(_0xdbe69!==void 0x0&&(_0x3eb17f['status']=_0xdbe69),Object[_0x798d81(0x4c8)](_0x3eb17f)[_0x798d81(0x3ca)]===0x0)return{'message':_0x798d81(0x3b2)};let _0x4a292a=await this[_0x798d81(0x600)][_0x798d81(0x4d1)][_0x798d81(0x119)](_0x3ebcf1,_0x3eb17f,this[_0x798d81(0x172)][_0x798d81(0x22f)]);return _0x4a292a||{'message':_0x798d81(0x48d)};}catch(_0x29c702){throw this[_0x798d81(0x784)][_0x798d81(0x426)](this[_0x798d81(0x38c)]+'\x20('+this[_0x798d81(0x172)]['wuid']+_0x798d81(0x739)+(_0x29c702 instanceof Error?_0x29c702[_0x798d81(0x78c)]:JSON['stringify'](_0x29c702,null,0x2))),new w(_0x798d81(0x652)+_0x29c702['message']);}}async[a0_0x3c6a8b(0x38b)](_0x3c7b3c){const _0x322e0a=a0_0x3c6a8b;let _0x1bd255=await this[_0x322e0a(0x600)][_0x322e0a(0x42a)]['findOne']({'where':{'_id':_0x3c7b3c[_0x322e0a(0x54e)]}},this[_0x322e0a(0x172)]['wuid']);if(!_0x1bd255)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console['log'](_0x3c7b3c);try{_0x3c7b3c['_id']=this[_0x322e0a(0x4ca)](_0x3c7b3c[_0x322e0a(0x54e)]);let {_id:_0x39fd1d,leadInfo:_0x3ed0fb}=_0x3c7b3c;if(!_0x39fd1d)throw new Error(_0x322e0a(0x774));let _0x296fb9=(_0x3f9630,_0x1b71d5,_0x20a2a9)=>{_0x3f9630&&_0x20a2a9['forEach'](_0x92ca5e=>{const _0x11fa45=a0_0xccf1;_0x3f9630[_0x92ca5e]!==void 0x0&&(_0x1b71d5[_0x11fa45(0x74d)+_0x92ca5e]=_0x3f9630[_0x92ca5e]);});},_0x1833bc={};if(_0x3ed0fb&&(_0x296fb9(_0x3ed0fb,_0x1833bc,['nome','nomecompleto',_0x322e0a(0x257),_0x322e0a(0x20d),_0x322e0a(0x6e3),'notas',_0x322e0a(0x674),_0x322e0a(0x484),_0x322e0a(0x618),_0x322e0a(0x546)]),Array[_0x322e0a(0x180)](_0x3ed0fb[_0x322e0a(0x543)])&&(_0x1833bc[_0x322e0a(0x429)]=_0x3ed0fb[_0x322e0a(0x543)][_0x322e0a(0x177)](_0x1b0066=>({'_id':_0x1b0066[_0x322e0a(0x54e)],'value':_0x1b0066[_0x322e0a(0x1b1)]}))),_0x3c7b3c[_0x322e0a(0x536)][_0x322e0a(0x546)]!==void 0x0)){let _0x201274=await this[_0x322e0a(0x600)][_0x322e0a(0x6cb)]['find']({'where':{}},this[_0x322e0a(0x172)][_0x322e0a(0x22f)]),_0x1ac092=new Set(_0x3c7b3c['leadInfo'][_0x322e0a(0x546)]||[]),_0x286efe=new Set(_0x3c7b3c[_0x322e0a(0x536)][_0x322e0a(0x546)]),_0x359e6f=new Set(_0x201274[_0x322e0a(0x177)](_0x5c48dd=>_0x5c48dd['_id'])),_0x26265d=[..._0x286efe][_0x322e0a(0x75f)](_0x4b49f4=>!_0x1ac092[_0x322e0a(0x1be)](_0x4b49f4)&&_0x359e6f[_0x322e0a(0x1be)](_0x4b49f4)),_0x19744d=[..._0x1ac092][_0x322e0a(0x75f)](_0x2b264c=>!_0x286efe[_0x322e0a(0x1be)](_0x2b264c));if(_0x1833bc[_0x322e0a(0x329)]=[..._0x1ac092],_0x1bd255&&!_0x1bd255[_0x322e0a(0x5fd)]){for(let _0x106948 of _0x26265d)await this[_0x322e0a(0x250)](_0x106948,_0x3c7b3c['_id']),_0x1ac092[_0x322e0a(0x69f)](_0x106948);for(let _0x32ecbd of _0x19744d)await this[_0x322e0a(0x2b7)](_0x32ecbd,_0x3c7b3c[_0x322e0a(0x54e)]),_0x1ac092[_0x322e0a(0x214)](_0x32ecbd);}}if(_0x3c7b3c[_0x322e0a(0x45c)]!==void 0x0&&(_0x1833bc['unreadcount']=Number(_0x3c7b3c[_0x322e0a(0x45c)])),Object[_0x322e0a(0x4c8)](_0x1833bc)[_0x322e0a(0x3ca)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x3fb1c7=await this[_0x322e0a(0x600)][_0x322e0a(0x42a)][_0x322e0a(0x119)]({'where':{'_id':_0x3c7b3c[_0x322e0a(0x54e)]}},_0x1833bc,this[_0x322e0a(0x172)][_0x322e0a(0x22f)]);return _0x3fb1c7&&q(this[_0x322e0a(0x38c)],_0x322e0a(0x490),{'chat':_0x3fb1c7}),_0x3fb1c7?(this[_0x322e0a(0x784)][_0x322e0a(0x1a2)](this['instanceName']+'\x20('+this[_0x322e0a(0x172)][_0x322e0a(0x22f)]+'):\x20'+JSON['stringify'](_0x3fb1c7,null,0x2)),_0x3fb1c7):{'message':_0x322e0a(0x64d)};}catch(_0x158b7a){throw this[_0x322e0a(0x784)]['error'](this[_0x322e0a(0x38c)]+'\x20('+this['instance'][_0x322e0a(0x22f)]+_0x322e0a(0x5e4)+(_0x158b7a instanceof Error?_0x158b7a[_0x322e0a(0x78c)]:JSON[_0x322e0a(0x6ab)](_0x158b7a,null,0x2))),new w(_0x322e0a(0x213)+_0x158b7a[_0x322e0a(0x78c)]);}}async[a0_0x3c6a8b(0x250)](_0x136b87,_0xb7b9ae){const _0x4d601c=a0_0x3c6a8b;try{await this[_0x4d601c(0x5b7)][_0x4d601c(0x703)](_0xb7b9ae,_0x136b87),console[_0x4d601c(0x1f7)](_0x4d601c(0x60e)+_0x136b87+_0x4d601c(0x49a)+_0xb7b9ae+'\x20com\x20sucesso.');}catch(_0x256faf){console[_0x4d601c(0x426)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x136b87+_0x4d601c(0x6ec)+_0xb7b9ae+':',_0x256faf);}}async[a0_0x3c6a8b(0x2b7)](_0x519585,_0x399f0c){const _0x20e610=a0_0x3c6a8b;try{await this[_0x20e610(0x5b7)][_0x20e610(0x22c)](_0x399f0c,_0x519585),console[_0x20e610(0x1f7)](_0x20e610(0x60e)+_0x519585+_0x20e610(0x501)+_0x399f0c+_0x20e610(0x6aa));}catch(_0x2343b8){console['error'](_0x20e610(0x635)+_0x519585+'\x20do\x20chat\x20'+_0x399f0c+':',_0x2343b8);}}async[a0_0x3c6a8b(0x4b0)](_0x527341){const _0xe64ae5=a0_0x3c6a8b;try{let _0x3eb907=await this[_0xe64ae5(0x600)][_0xe64ae5(0x2e5)]['findOrCreate'](this[_0xe64ae5(0x172)][_0xe64ae5(0x22f)]),_0x365783=_0x527341[_0xe64ae5(0x54e)]?_0x3eb907[_0xe64ae5(0x47b)]['findIndex'](_0x3e6123=>_0x3e6123[_0xe64ae5(0x54e)]===_0x527341['_id']):-0x1;if(_0x527341['delete']&&_0x365783>-0x1)_0x3eb907[_0xe64ae5(0x47b)]['splice'](_0x365783,0x1);else{if(_0x365783>-0x1){let _0xf841f1=_0x3eb907[_0xe64ae5(0x47b)][_0x365783];_0x527341['fone']&&(_0xf841f1[_0xe64ae5(0x408)]=_0x527341[_0xe64ae5(0x408)]),_0x527341[_0xe64ae5(0x4e1)]&&(_0xf841f1[_0xe64ae5(0x4e1)]=_0x527341['name']),_0x527341[_0xe64ae5(0x257)]&&(_0xf841f1['email']=_0x527341[_0xe64ae5(0x257)]),_0x527341['role']&&(_0xf841f1['role']=_0x527341['role']);}else _0x3eb907[_0xe64ae5(0x47b)][_0xe64ae5(0x799)]({'_id':_0x527341[_0xe64ae5(0x54e)]||new le[(_0xe64ae5(0x4f5))][(_0xe64ae5(0x13a))][(_0xe64ae5(0x154))]()['toString'](),'fone':_0x527341['fone'],'name':_0x527341[_0xe64ae5(0x4e1)],'email':_0x527341[_0xe64ae5(0x257)],'role':_0x527341['role']});}let _0x5c866e={'agents':_0x3eb907[_0xe64ae5(0x47b)]},_0x5fe940=await this[_0xe64ae5(0x600)][_0xe64ae5(0x2e5)]['update'](_0x5c866e,this['instance'][_0xe64ae5(0x22f)]);return this['AutomateSystem']=_0x5fe940,this[_0xe64ae5(0x784)][_0xe64ae5(0x1a2)](this[_0xe64ae5(0x38c)]+'\x20('+this[_0xe64ae5(0x172)][_0xe64ae5(0x22f)]+_0xe64ae5(0x711)),this[_0xe64ae5(0x784)][_0xe64ae5(0x1a2)](this[_0xe64ae5(0x38c)]+'\x20('+this[_0xe64ae5(0x172)][_0xe64ae5(0x22f)]+'):\x20'+this[_0xe64ae5(0x16e)]),_0x5fe940;}catch(_0x3fdc91){throw this[_0xe64ae5(0x784)][_0xe64ae5(0x426)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xe64ae5(0x53d)+(_0x3fdc91 instanceof Error?_0x3fdc91[_0xe64ae5(0x78c)]:JSON[_0xe64ae5(0x6ab)](_0x3fdc91,null,0x2))),new w(_0xe64ae5(0x405)+_0x3fdc91[_0xe64ae5(0x78c)]);}}async[a0_0x3c6a8b(0x41e)](_0x5a1147){const _0x391b2d=a0_0x3c6a8b;try{let _0x954cbc=await this[_0x391b2d(0x600)][_0x391b2d(0x2e5)][_0x391b2d(0x358)](this[_0x391b2d(0x172)]['wuid']),_0x2aea17=_0x5a1147['_id']?_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x714)](_0x12cefd=>_0x12cefd[_0x391b2d(0x54e)]===_0x5a1147['_id']):-0x1,_0x33af92=!0x1,_0x187bbf=_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x729)](_0x55fcd5=>_0x55fcd5[_0x391b2d(0x310)]===_0x5a1147[_0x391b2d(0x310)]);if(_0x5a1147[_0x391b2d(0x214)]&&_0x2aea17>-0x1)_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x330)](_0x2aea17,0x1),_0x33af92=!0x0;else{if(_0x2aea17>-0x1){if(_0x954cbc['customFields'][_0x391b2d(0x729)](_0x4a3b17=>_0x4a3b17['name']===_0x5a1147[_0x391b2d(0x4e1)]&&_0x4a3b17['_id']!==_0x5a1147[_0x391b2d(0x54e)]))throw new Error(_0x391b2d(0x2f2));let _0x578829=_0x954cbc[_0x391b2d(0x543)][_0x2aea17];_0x5a1147[_0x391b2d(0x310)]&&(_0x187bbf||!Number['isInteger'](_0x5a1147['order']))&&(_0x578829[_0x391b2d(0x310)]=_0x5a1147['order'],_0x33af92=!0x0),_0x5a1147['name']&&(_0x578829[_0x391b2d(0x4e1)]=_0x5a1147['name']);}else{if(_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x729)](_0x19b505=>_0x19b505[_0x391b2d(0x4e1)]===_0x5a1147[_0x391b2d(0x4e1)]&&_0x19b505[_0x391b2d(0x54e)]!==_0x5a1147[_0x391b2d(0x54e)]))throw new Error(_0x391b2d(0x2f2));_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x799)]({'_id':_0x5a1147[_0x391b2d(0x54e)]||new le[(_0x391b2d(0x4f5))]['Types'][(_0x391b2d(0x154))]()['toString'](),'order':_0x5a1147[_0x391b2d(0x310)],'name':_0x5a1147['name']}),_0x33af92=!0x0;}}if(_0x33af92){_0x954cbc['customFields']['sort']((_0x304348,_0x4e3d77)=>_0x304348['order']>_0x4e3d77['order']?0x1:_0x4e3d77[_0x391b2d(0x310)]>_0x304348['order']?-0x1:0x0);for(let _0x52dd41=0x0;_0x52dd41<_0x954cbc[_0x391b2d(0x543)][_0x391b2d(0x3ca)];_0x52dd41++)_0x954cbc[_0x391b2d(0x543)][_0x52dd41]['order']=_0x52dd41+0x1;}let _0x401d86=await this['repository']['automateSystem'][_0x391b2d(0x5be)](_0x954cbc,this[_0x391b2d(0x172)][_0x391b2d(0x22f)]);return this['AutomateSystem']=_0x401d86,this[_0x391b2d(0x784)][_0x391b2d(0x1a2)](this['instanceName']+'\x20('+this[_0x391b2d(0x172)][_0x391b2d(0x22f)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x391b2d(0x784)][_0x391b2d(0x1a2)](this[_0x391b2d(0x38c)]+'\x20('+this[_0x391b2d(0x172)][_0x391b2d(0x22f)]+'):\x20'+this['AutomateSystem']),_0x401d86;}catch(_0x3157d3){throw this['logger']['error'](this[_0x391b2d(0x38c)]+'\x20('+this['instance'][_0x391b2d(0x22f)]+_0x391b2d(0x2f7)+(_0x3157d3 instanceof Error?_0x3157d3[_0x391b2d(0x78c)]:JSON[_0x391b2d(0x6ab)](_0x3157d3,null,0x2))),new w('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x3157d3[_0x391b2d(0x78c)]);}}async['updateFlowConfig'](_0x39351b){const _0xb55271=a0_0x3c6a8b;try{let _0x4ae563=await this[_0xb55271(0x600)][_0xb55271(0x2e5)][_0xb55271(0x358)](this[_0xb55271(0x172)][_0xb55271(0x22f)]);if(!_0x4ae563)throw new Error(_0xb55271(0x693));let _0x525efb={'_id':_0x4ae563[_0xb55271(0x54e)],'flowConfig':{'enabled':_0x39351b[_0xb55271(0x628)]??_0x4ae563[_0xb55271(0x4c9)]['enabled'],'ignoreGroups':_0x39351b[_0xb55271(0x432)]??_0x4ae563[_0xb55271(0x4c9)][_0xb55271(0x432)],'prefixCommand':_0x39351b[_0xb55271(0x751)]??_0x4ae563[_0xb55271(0x4c9)]['prefixCommand'],'stopConversation':_0x39351b['stopConversation']??_0x4ae563['flowConfig']['stopConversation'],'stopMinutes':_0x39351b[_0xb55271(0x62e)]??_0x4ae563[_0xb55271(0x4c9)][_0xb55271(0x62e)],'stopWhenYouSendMsg':_0x39351b[_0xb55271(0x575)]??_0x4ae563['flowConfig'][_0xb55271(0x575)]}},_0x51a9d3=await this[_0xb55271(0x600)]['automateSystem'][_0xb55271(0x5be)](_0x525efb,this[_0xb55271(0x172)][_0xb55271(0x22f)]);return this[_0xb55271(0x16e)]=_0x51a9d3,this[_0xb55271(0x784)][_0xb55271(0x1a2)](this['instanceName']+'\x20('+this['instance'][_0xb55271(0x22f)]+_0xb55271(0x711)),this[_0xb55271(0x784)][_0xb55271(0x1a2)](this[_0xb55271(0x38c)]+'\x20('+this['instance'][_0xb55271(0x22f)]+'):\x20'+this[_0xb55271(0x16e)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x51a9d3;}catch(_0x3d77cf){throw this['logger'][_0xb55271(0x426)](this[_0xb55271(0x38c)]+'\x20('+this[_0xb55271(0x172)]['wuid']+_0xb55271(0x7d7)+(_0x3d77cf instanceof Error?_0x3d77cf['message']:JSON[_0xb55271(0x6ab)](_0x3d77cf,null,0x2))),new w(_0xb55271(0x755)+_0x3d77cf[_0xb55271(0x78c)]);}}async['getAutomateSystem'](){const _0xfd1c26=a0_0x3c6a8b;try{let _0x4987bd=await this[_0xfd1c26(0x600)][_0xfd1c26(0x2e5)]['findOrCreate'](this[_0xfd1c26(0x172)][_0xfd1c26(0x22f)]);return this[_0xfd1c26(0x16e)]=_0x4987bd,this[_0xfd1c26(0x784)][_0xfd1c26(0x1a2)](this[_0xfd1c26(0x38c)]+'\x20('+this[_0xfd1c26(0x172)][_0xfd1c26(0x22f)]+_0xfd1c26(0x3b1)),this['logger']['verbose'](this[_0xfd1c26(0x16e)]),_0x4987bd;}catch(_0x171d4b){throw this[_0xfd1c26(0x784)][_0xfd1c26(0x426)](this[_0xfd1c26(0x38c)]+'\x20('+this[_0xfd1c26(0x172)][_0xfd1c26(0x22f)]+_0xfd1c26(0x193)+(_0x171d4b instanceof Error?_0x171d4b[_0xfd1c26(0x78c)]:JSON[_0xfd1c26(0x6ab)](_0x171d4b,null,0x2))),new w(_0xfd1c26(0x351)+_0x171d4b[_0xfd1c26(0x78c)]);}}async['setRestartTimeout'](){const _0x34ae30=a0_0x3c6a8b;this[_0x34ae30(0x172)][_0x34ae30(0x406)][_0x34ae30(0x3da)]&&clearTimeout(this[_0x34ae30(0x172)][_0x34ae30(0x406)][_0x34ae30(0x3da)]),this[_0x34ae30(0x172)][_0x34ae30(0x406)][_0x34ae30(0x3da)]=setTimeout(()=>{const _0x267992=_0x34ae30;this[_0x267992(0x323)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3c6a8b(0x323)](){const _0x30d758=a0_0x3c6a8b;Date[_0x30d758(0x30f)]()-this[_0x30d758(0x172)]['ScheduleMessage'][_0x30d758(0x3a2)]>=0x1d4c0&&(this[_0x30d758(0x784)]['verbose'](this['instanceName']+'\x20('+this[_0x30d758(0x172)]['wuid']+_0x30d758(0x7c6)),this[_0x30d758(0x172)]['ScheduleMessage']['processing_id']=null,this[_0x30d758(0x172)][_0x30d758(0x406)]['lastSend']=0x0,this[_0x30d758(0x172)]['ScheduleMessage'][_0x30d758(0x397)]=0x0,await this[_0x30d758(0x7ca)]());}async[a0_0x3c6a8b(0x7ca)](){const _0xddab7b=a0_0x3c6a8b;let _0x23b898=()=>{const _0x233b96=a0_0xccf1;this[_0x233b96(0x784)][_0x233b96(0x1a2)](this[_0x233b96(0x38c)]+'\x20('+this['instance'][_0x233b96(0x22f)]+'):\x20this.processing_id:\x20'+this[_0x233b96(0x172)]['ScheduleMessage'][_0x233b96(0x4c6)]+_0x233b96(0x1cd));},_0x54a1bc=async()=>{const _0x30598d=a0_0xccf1;this[_0x30598d(0x784)]['verbose'](this[_0x30598d(0x38c)]+'\x20('+this['instance']['wuid']+_0x30598d(0x7e9));let _0x368c6a=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x329665={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x368c6a}},{'when':0x0}]}};return await this['repository'][_0x30598d(0x1b6)][_0x30598d(0x217)](_0x329665,this[_0x30598d(0x172)]['wuid']);},_0x9e24d5=async _0x2dd549=>{const _0x2c1b06=a0_0xccf1;for(let _0x54181f of _0x2dd549){let _0x5e4de8={'_id':_0x54181f[_0x2c1b06(0x54e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x1513ad={'startSend':Date[_0x2c1b06(0x30f)]()};if(!await this['repository']['scheduleMessage'][_0x2c1b06(0x119)](_0x5e4de8,_0x1513ad,this[_0x2c1b06(0x172)]['wuid']))return;if(!this[_0x2c1b06(0x172)]['ScheduleMessage'][_0x2c1b06(0x38f)]){this[_0x2c1b06(0x784)][_0x2c1b06(0x1a2)](this['instanceName']+'\x20('+this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]+_0x2c1b06(0x74f));break;}if(_0x54181f[_0x2c1b06(0x2fb)]===_0x2c1b06(0x725)&&!this[_0x2c1b06(0x16e)]?.[_0x2c1b06(0x4c9)][_0x2c1b06(0x628)]){this[_0x2c1b06(0x784)][_0x2c1b06(0x426)](this[_0x2c1b06(0x38c)]+'\x20('+this['instance'][_0x2c1b06(0x22f)]+_0x2c1b06(0x757));continue;}(!_0x54181f[_0x2c1b06(0x5b8)]||_0x54181f[_0x2c1b06(0x5b8)][_0x2c1b06(0x3ca)]===0x0)&&(_0x54181f=await this[_0x2c1b06(0x600)]['scheduleMessage'][_0x2c1b06(0x37d)](_0x54181f['_id'],{'status':_0x2c1b06(0x7df),'remoteJidsRemaining':[..._0x54181f[_0x2c1b06(0x653)]]},this[_0x2c1b06(0x172)]['wuid']));for(let _0x421b54 of _0x54181f[_0x2c1b06(0x5b8)]){if(await this[_0x2c1b06(0x4a3)](),this[_0x2c1b06(0x172)][_0x2c1b06(0x406)][_0x2c1b06(0x3a2)]=Date[_0x2c1b06(0x30f)](),this['instance'][_0x2c1b06(0x406)]['ultimaTentativaRemoteJid']===_0x421b54){this[_0x2c1b06(0x784)]['error'](this[_0x2c1b06(0x38c)]+'\x20('+this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]+_0x2c1b06(0x42b)+_0x421b54+_0x2c1b06(0x7d4));let _0x59f1c8={'$push':{'messagesSend':{'remoteJid':_0x421b54,'error':!0x0,'id':null,'error_log':_0x2c1b06(0x5e9),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x421b54}};await this[_0x2c1b06(0x600)][_0x2c1b06(0x1b6)][_0x2c1b06(0x37d)](_0x54181f[_0x2c1b06(0x54e)],_0x59f1c8,this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]);continue;}if(this[_0x2c1b06(0x172)]['ScheduleMessage']['ultimaTentativaRemoteJid']=_0x421b54,_0x54181f[_0x2c1b06(0x509)][_0x2c1b06(0x729)](_0x11f01d=>_0x11f01d[_0x2c1b06(0x248)]===_0x421b54)){this[_0x2c1b06(0x784)][_0x2c1b06(0x1a2)](this[_0x2c1b06(0x38c)]+'\x20('+this['instance'][_0x2c1b06(0x22f)]+_0x2c1b06(0x4a7)+_0x421b54+_0x2c1b06(0x418));continue;}if(!this[_0x2c1b06(0x172)][_0x2c1b06(0x406)][_0x2c1b06(0x38f)]){this[_0x2c1b06(0x784)][_0x2c1b06(0x1a2)](this[_0x2c1b06(0x38c)]+'\x20('+this['instance'][_0x2c1b06(0x22f)]+_0x2c1b06(0x16c));break;}if(!this[_0x2c1b06(0x172)]['ScheduleMessage'][_0x2c1b06(0x4c6)]){this[_0x2c1b06(0x784)][_0x2c1b06(0x1a2)](this[_0x2c1b06(0x38c)]+'\x20('+this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]+_0x2c1b06(0x4bd)+_0x54181f['_id']+_0x2c1b06(0x163));break;}if(_0x54181f[_0x2c1b06(0x2fb)]===_0x2c1b06(0x725)&&!this[_0x2c1b06(0x16e)]?.[_0x2c1b06(0x4c9)][_0x2c1b06(0x628)]){this[_0x2c1b06(0x784)]['error'](this[_0x2c1b06(0x38c)]+'\x20('+this[_0x2c1b06(0x172)]['wuid']+_0x2c1b06(0x757));break;}let _0x45704e={'remoteJid':_0x421b54,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2c1b06(0x30f)]()},_0xa4d139=null;try{let _0x5dd908=await this[_0x2c1b06(0x515)](_0x421b54,_0x54181f);_0x45704e[_0x2c1b06(0x426)]=_0x5dd908['error'],_0x45704e['id']=_0x5dd908[_0x2c1b06(0x426)]?null:_0x5dd908['id'],_0x45704e[_0x2c1b06(0x303)]=_0x5dd908[_0x2c1b06(0x426)]?_0x5dd908['detail']?_0x5dd908['detail']['toString']():'':null;let _0x12b737={'$push':{'messagesSend':_0x45704e},'$pull':{'remoteJidsRemaining':_0x421b54}},_0x1d452c=_0x54181f[_0x2c1b06(0x54e)];if(_0xa4d139=await this[_0x2c1b06(0x600)][_0x2c1b06(0x1b6)][_0x2c1b06(0x37d)](_0x1d452c,_0x12b737,this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]),_0x5dd908[_0x2c1b06(0x426)])continue;let _0x586708=this['getDelay'](_0x54181f[_0x2c1b06(0x6e2)],_0x54181f[_0x2c1b06(0x562)]);await this[_0x2c1b06(0x1a5)](_0x586708);}catch(_0x39e6ed){this[_0x2c1b06(0x784)][_0x2c1b06(0x426)](this[_0x2c1b06(0x38c)]+'\x20('+this['instance'][_0x2c1b06(0x22f)]+_0x2c1b06(0x13f)+_0x421b54+':\x20'+(_0x39e6ed instanceof Error?_0x39e6ed[_0x2c1b06(0x78c)]:JSON['stringify'](_0x39e6ed,null,0x2))),_0x45704e['error']=!0x0,_0x45704e[_0x2c1b06(0x303)]=_0x39e6ed['message'];let _0x15a655={'$push':{'messagesSend':_0x45704e},'$pull':{'remoteJidsRemaining':_0x421b54}},_0x3a3631=_0x54181f[_0x2c1b06(0x54e)];_0xa4d139=await this['repository'][_0x2c1b06(0x1b6)][_0x2c1b06(0x37d)](_0x3a3631,_0x15a655,this['instance'][_0x2c1b06(0x22f)]);}finally{if(_0xa4d139&&_0xa4d139[_0x2c1b06(0x6e3)]===_0x2c1b06(0x1ae)){this[_0x2c1b06(0x784)]['verbose'](this[_0x2c1b06(0x38c)]+'\x20('+this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]+_0x2c1b06(0x4bd)+_0x54181f['_id']+_0x2c1b06(0x65e));break;}}}let _0x2f9398=await this[_0x2c1b06(0x600)]['scheduleMessage'][_0x2c1b06(0x12f)](_0x54181f[_0x2c1b06(0x54e)],this[_0x2c1b06(0x172)][_0x2c1b06(0x22f)]);if(_0x2f9398[_0x2c1b06(0x5b8)][_0x2c1b06(0x3ca)]===0x0&&_0x2f9398[_0x2c1b06(0x6e3)]!=='stopped'){let _0x54e245={'$set':{'status':_0x2c1b06(0x56c)}},_0x2cbc74=_0x2f9398[_0x2c1b06(0x54e)];await this['repository'][_0x2c1b06(0x1b6)][_0x2c1b06(0x37d)](_0x2cbc74,_0x54e245,this['instance'][_0x2c1b06(0x22f)]);}await new Promise(_0x11897b=>setTimeout(_0x11897b,0x1388));}},_0x43cec9=async()=>{const _0x192eb2=a0_0xccf1;let _0x4508c8={'where':{'status':_0x192eb2(0x46d),'when':{'$gt':Date[_0x192eb2(0x30f)]()}}},_0x44f047=await this[_0x192eb2(0x600)][_0x192eb2(0x1b6)][_0x192eb2(0x23a)](_0x4508c8,this[_0x192eb2(0x172)][_0x192eb2(0x22f)]);_0x44f047&&_0x44f047['when']-Date['now']()<=0x5265c00?this[_0x192eb2(0x172)]['ScheduleMessage'][_0x192eb2(0x397)]=_0x44f047[_0x192eb2(0x279)]-Date[_0x192eb2(0x30f)]():this[_0x192eb2(0x172)][_0x192eb2(0x406)][_0x192eb2(0x397)]=(0x3c+Math[_0x192eb2(0x334)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x192eb2(0x172)][_0x192eb2(0x406)][_0x192eb2(0x397)]=Math[_0x192eb2(0x4d6)](this[_0x192eb2(0x172)][_0x192eb2(0x406)][_0x192eb2(0x397)],0x7d0);let _0x2fbbfa=Math[_0x192eb2(0x225)](this[_0x192eb2(0x172)][_0x192eb2(0x406)]['delayMessage']/0xea60);if(_0x44f047){let _0x2ad95a=new Date(_0x44f047['when'])[_0x192eb2(0x26f)]();this[_0x192eb2(0x784)][_0x192eb2(0x1a2)](this[_0x192eb2(0x38c)]+'\x20('+this[_0x192eb2(0x172)]['wuid']+_0x192eb2(0x524)+_0x2ad95a+_0x192eb2(0x3c1)+_0x2fbbfa+_0x192eb2(0x20e));}else this['logger'][_0x192eb2(0x1a2)](this[_0x192eb2(0x38c)]+'\x20('+this[_0x192eb2(0x172)]['wuid']+_0x192eb2(0x2d2)+_0x2fbbfa+'\x20minutos');setTimeout(()=>this[_0x192eb2(0x7ca)](),this[_0x192eb2(0x172)][_0x192eb2(0x406)][_0x192eb2(0x397)]);};if(this[_0xddab7b(0x172)][_0xddab7b(0x406)][_0xddab7b(0x4c6)]){await this[_0xddab7b(0x4a3)](),_0x23b898();return;}if(!this['instance'][_0xddab7b(0x406)][_0xddab7b(0x38f)]){this[_0xddab7b(0x784)][_0xddab7b(0x1a2)](this[_0xddab7b(0x38c)]+'\x20('+this[_0xddab7b(0x172)][_0xddab7b(0x22f)]+_0xddab7b(0x2d0)),this[_0xddab7b(0x172)][_0xddab7b(0x406)][_0xddab7b(0x4c6)]=null,this[_0xddab7b(0x172)][_0xddab7b(0x406)][_0xddab7b(0x3a2)]=0x0,this['instance'][_0xddab7b(0x406)][_0xddab7b(0x397)]=0x0,this['instance'][_0xddab7b(0x406)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x3eb18f=await _0x54a1bc();_0x3eb18f[_0xddab7b(0x3ca)]===0x0?this[_0xddab7b(0x784)][_0xddab7b(0x1a2)](this[_0xddab7b(0x38c)]+'\x20('+this[_0xddab7b(0x172)][_0xddab7b(0x22f)]+_0xddab7b(0x29e)):(this[_0xddab7b(0x172)][_0xddab7b(0x406)][_0xddab7b(0x4c6)]=_0x3eb18f[0x0][_0xddab7b(0x54e)],await _0x9e24d5(_0x3eb18f)),await _0x43cec9(),this['instance']['ScheduleMessage'][_0xddab7b(0x4c6)]=null,this[_0xddab7b(0x172)]['ScheduleMessage'][_0xddab7b(0x475)]=null;}catch(_0x189dc8){this[_0xddab7b(0x784)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x189dc8 instanceof Error?_0x189dc8[_0xddab7b(0x78c)]:JSON[_0xddab7b(0x6ab)](_0x189dc8,null,0x2)));}}['getDelay'](_0x25ae8e,_0x25d01f){const _0x27aeca=a0_0x3c6a8b;return _0x25ae8e=Math[_0x27aeca(0x4d6)](0.5,_0x25ae8e),_0x25d01f=Math['min'](Math[_0x27aeca(0x4d6)](0x3,_0x25d01f),0x78),Math['floor'](Math['random']()*(_0x25d01f-_0x25ae8e+0x1)+_0x25ae8e)*0x3e8;}[a0_0x3c6a8b(0x1a5)](_0x3f6901){return new Promise(_0xccc1db=>setTimeout(_0xccc1db,_0x3f6901));}async[a0_0x3c6a8b(0x727)](_0x490158){const _0x5472ed=a0_0x3c6a8b;if(!this[_0x5472ed(0x16e)]&&(await this[_0x5472ed(0x6f4)](),!this[_0x5472ed(0x16e)]))return null;_0x490158=this['createJid'](_0x490158);let _0x5e2aca=await this[_0x5472ed(0x600)][_0x5472ed(0x42a)][_0x5472ed(0x23a)]({'where':{'_id':_0x490158}},this[_0x5472ed(0x172)][_0x5472ed(0x22f)]),_0x45db0c={};if(_0x5e2aca&&_0x5e2aca[_0x5472ed(0x536)]){let _0x11b4e0=_0x5e2aca[_0x5472ed(0x536)];typeof _0x11b4e0[_0x5472ed(0x220)]=='string'&&(_0x45db0c['nome']=_0x11b4e0[_0x5472ed(0x220)]),typeof _0x11b4e0[_0x5472ed(0x483)]==_0x5472ed(0x4f8)&&(_0x45db0c[_0x5472ed(0x483)]=_0x11b4e0['nomecompleto']),typeof _0x11b4e0[_0x5472ed(0x257)]==_0x5472ed(0x4f8)&&(_0x45db0c['email']=_0x11b4e0[_0x5472ed(0x257)]),typeof _0x11b4e0['cpf']==_0x5472ed(0x4f8)&&(_0x45db0c[_0x5472ed(0x20d)]=_0x11b4e0[_0x5472ed(0x20d)]),typeof _0x11b4e0['status']==_0x5472ed(0x4f8)&&(_0x45db0c[_0x5472ed(0x6e3)]=_0x11b4e0['status']),typeof _0x11b4e0[_0x5472ed(0x78b)]==_0x5472ed(0x4f8)&&(_0x45db0c['notas']=_0x11b4e0[_0x5472ed(0x78b)]),typeof _0x11b4e0[_0x5472ed(0x618)]==_0x5472ed(0x4f8)&&(_0x45db0c[_0x5472ed(0x618)]=_0x11b4e0['responsavelid']),Array[_0x5472ed(0x180)](_0x11b4e0[_0x5472ed(0x674)])&&(_0x45db0c[_0x5472ed(0x674)]=_0x11b4e0['tags'][_0x5472ed(0x4a6)](',\x20')),Array['isArray'](_0x11b4e0['etiquetas'])&&(_0x45db0c[_0x5472ed(0x546)]=_0x11b4e0['etiquetas'][_0x5472ed(0x4a6)](',\x20'));}return _0x5e2aca&&_0x5e2aca[_0x5472ed(0x536)]&&_0x5e2aca['leadInfo'][_0x5472ed(0x543)]&&_0x5e2aca['leadInfo']['customFields'][_0x5472ed(0x471)](_0x201e51=>{const _0x3a8bcd=_0x5472ed;let _0x5833a3=this[_0x3a8bcd(0x16e)]?.[_0x3a8bcd(0x543)][_0x3a8bcd(0x217)](_0x16dec0=>_0x16dec0['_id']===_0x201e51['_id']);_0x5833a3&&(_0x45db0c[_0x5833a3[_0x3a8bcd(0x4e1)]]=_0x201e51['value']);}),_0x45db0c;}async[a0_0x3c6a8b(0x23b)](_0x515281,_0x4f0d1b){const _0x7d2595=a0_0x3c6a8b;let _0x900cf8=await this[_0x7d2595(0x727)](_0x4f0d1b);return this[_0x7d2595(0x2eb)](_0x515281,_0x900cf8);}async[a0_0x3c6a8b(0x440)](_0x2686f3){const _0x3220a5=a0_0x3c6a8b;try{if(this[_0x3220a5(0x784)][_0x3220a5(0x1a2)](this[_0x3220a5(0x38c)]+'\x20('+this[_0x3220a5(0x172)][_0x3220a5(0x22f)]+_0x3220a5(0x21c)),_0x2686f3['delete']&&_0x2686f3[_0x3220a5(0x54e)]){if(this[_0x3220a5(0x172)][_0x3220a5(0x406)][_0x3220a5(0x4c6)]===_0x2686f3[_0x3220a5(0x54e)][_0x3220a5(0x341)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x4b524c=await this[_0x3220a5(0x600)][_0x3220a5(0x1b6)][_0x3220a5(0x687)](_0x2686f3[_0x3220a5(0x54e)],this[_0x3220a5(0x172)]['wuid']);return setTimeout(()=>this[_0x3220a5(0x7ca)](),0x7d0),_0x4b524c;}let _0xbe5cc0;if(_0x2686f3[_0x3220a5(0x54e)]&&(_0xbe5cc0=await this['repository'][_0x3220a5(0x1b6)][_0x3220a5(0x12f)](_0x2686f3['_id'],this[_0x3220a5(0x172)][_0x3220a5(0x22f)])),_0xbe5cc0){let _0x3d1830;if(this[_0x3220a5(0x172)][_0x3220a5(0x406)][_0x3220a5(0x4c6)]===_0xbe5cc0['_id'][_0x3220a5(0x341)]())_0x3d1830={'$set':{'status':_0x2686f3[_0x3220a5(0x6e3)]}};else{let {_id:_0x465ecf,..._0x464ec4}=_0x2686f3;_0x3d1830={'$set':_0x464ec4};}let _0x51d58f=await this['repository']['scheduleMessage'][_0x3220a5(0x37d)](_0x2686f3[_0x3220a5(0x54e)],_0x3d1830,this[_0x3220a5(0x172)]['wuid']);return setTimeout(()=>this[_0x3220a5(0x7ca)](),0x7d0),_0x51d58f;}else{_0x2686f3[_0x3220a5(0x270)]=this[_0x3220a5(0x172)][_0x3220a5(0x22f)];let _0x19e04c=await this[_0x3220a5(0x600)][_0x3220a5(0x1b6)][_0x3220a5(0x541)](_0x2686f3,this['instance'][_0x3220a5(0x22f)]);return setTimeout(()=>this[_0x3220a5(0x7ca)](),0x7d0),_0x19e04c;}}catch(_0x550bfc){throw this['logger']['error'](this[_0x3220a5(0x38c)]+'\x20('+this[_0x3220a5(0x172)][_0x3220a5(0x22f)]+_0x3220a5(0x59a)+(_0x550bfc instanceof Error?_0x550bfc[_0x3220a5(0x78c)]:JSON['stringify'](_0x550bfc,null,0x2))),new w('Erro:'+_0x550bfc[_0x3220a5(0x78c)]);}}async[a0_0x3c6a8b(0x39f)](){const _0x55c011=a0_0x3c6a8b;try{return await this['repository'][_0x55c011(0x1b6)][_0x55c011(0x217)]({'where':{}},this[_0x55c011(0x172)][_0x55c011(0x22f)]);}catch(_0x57c4b7){throw this[_0x55c011(0x784)][_0x55c011(0x426)](this['instanceName']+'\x20('+this[_0x55c011(0x172)][_0x55c011(0x22f)]+_0x55c011(0x4fc)+(_0x57c4b7 instanceof Error?_0x57c4b7[_0x55c011(0x78c)]:JSON[_0x55c011(0x6ab)](_0x57c4b7,null,0x2))),new w(_0x55c011(0x6a5)+_0x57c4b7[_0x55c011(0x78c)]);}}async[a0_0x3c6a8b(0x6d5)](){const _0x157996=a0_0x3c6a8b;try{let _0x3e2789={'status':'done'},_0x271535=await this[_0x157996(0x600)]['scheduleMessage'][_0x157996(0x5f2)](_0x3e2789,this[_0x157996(0x172)][_0x157996(0x22f)]);if(!_0x271535['error'])this[_0x157996(0x784)][_0x157996(0x1a2)](this['instanceName']+'\x20('+this[_0x157996(0x172)][_0x157996(0x22f)]+_0x157996(0x168));else throw new Error(_0x271535[_0x157996(0x426)][_0x157996(0x78c)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0x157996(0x39f)]();}catch(_0x40f84c){throw this[_0x157996(0x784)]['error'](this[_0x157996(0x38c)]+'\x20('+this[_0x157996(0x172)][_0x157996(0x22f)]+_0x157996(0x517)+(_0x40f84c instanceof Error?_0x40f84c['message']:JSON[_0x157996(0x6ab)](_0x40f84c,null,0x2))),new w('Erro:'+_0x40f84c[_0x157996(0x78c)]);}}async[a0_0x3c6a8b(0x515)](_0x257008,_0x296031){const _0x5b47d3=a0_0x3c6a8b;try{if(_0x296031[_0x5b47d3(0x2fb)]===_0x5b47d3(0x725)&&!this[_0x5b47d3(0x16e)]?.[_0x5b47d3(0x4c9)][_0x5b47d3(0x628)])return this[_0x5b47d3(0x784)][_0x5b47d3(0x426)](this[_0x5b47d3(0x38c)]+'\x20('+this[_0x5b47d3(0x172)][_0x5b47d3(0x22f)]+_0x5b47d3(0x3e3)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x296031[_0x5b47d3(0x2fb)]){case'text':return await this[_0x5b47d3(0x29c)](_0x296031,_0x257008);case _0x5b47d3(0x3d3):return await this[_0x5b47d3(0x77d)](_0x296031,_0x257008);case _0x5b47d3(0x4f7):return await this[_0x5b47d3(0x2bf)](_0x296031,_0x257008);case'flow':let _0x51239a=new Le();return _0x51239a[_0x5b47d3(0x4e1)]=_0x296031[_0x5b47d3(0x5ea)],_0x51239a[_0x5b47d3(0x248)]=_0x257008,await this['startFlow'](_0x51239a);break;default:return this[_0x5b47d3(0x784)][_0x5b47d3(0x426)](this[_0x5b47d3(0x38c)]+'\x20('+this['instance'][_0x5b47d3(0x22f)]+_0x5b47d3(0x77b)+_0x296031[_0x5b47d3(0x2fb)]),{'error':!0x0,'detail':_0x5b47d3(0x4b6)};}}catch(_0x3802f6){return this[_0x5b47d3(0x784)][_0x5b47d3(0x426)](this[_0x5b47d3(0x38c)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x3802f6 instanceof Error?_0x3802f6[_0x5b47d3(0x78c)]:JSON[_0x5b47d3(0x6ab)](_0x3802f6,null,0x2))),{'error':!0x0,'detail':_0x3802f6[_0x5b47d3(0x78c)]};}}['getRandomText'](_0x3cc45a){const _0x552b9f=a0_0x3c6a8b;let _0x492bbe=_0x3cc45a[_0x552b9f(0x176)]('|'),_0x1e5380=Math[_0x552b9f(0x334)](Math[_0x552b9f(0x5a6)]()*_0x492bbe[_0x552b9f(0x3ca)]);return _0x492bbe[_0x1e5380][_0x552b9f(0x7e8)]();}async['scheduleSendText'](_0x26555d,_0x549a1b){const _0x4ab765=a0_0x3c6a8b;if(this[_0x4ab765(0x784)][_0x4ab765(0x1a2)](this['instanceName']+'\x20('+this[_0x4ab765(0x172)]['wuid']+_0x4ab765(0x3a6)),!_0x26555d[_0x4ab765(0x78c)][_0x4ab765(0x503)]||_0x26555d[_0x4ab765(0x78c)][_0x4ab765(0x503)]['length']===0x0)return{'error':!0x0,'detail':_0x4ab765(0x427)};let _0x1cf426=this[_0x4ab765(0x759)](_0x26555d[_0x4ab765(0x78c)]['text']),_0x2a7d18=await this[_0x4ab765(0x23b)](_0x1cf426,_0x549a1b),_0x5000e9={'number':_0x549a1b,'options':{'delay':_0x26555d[_0x4ab765(0x78c)]['delay']},'textMessage':{'text':_0x2a7d18}},_0x1baf3b=null;try{let _0x495b1b=await this[_0x4ab765(0x15a)](_0x5000e9);if(_0x495b1b&&_0x495b1b[_0x4ab765(0x6e3)])return{'error':!0x1,'id':_0x495b1b[_0x4ab765(0x1c5)]['id']};_0x1baf3b=JSON[_0x4ab765(0x6ab)](_0x495b1b),this[_0x4ab765(0x784)]['verbose'](this[_0x4ab765(0x38c)]+'\x20('+this[_0x4ab765(0x172)][_0x4ab765(0x22f)]+'):\x20'+_0x1baf3b);}catch(_0x48aa51){this[_0x4ab765(0x784)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4ab765(0x22f)]+_0x4ab765(0x317)+(_0x48aa51 instanceof Error?_0x48aa51[_0x4ab765(0x78c)]:JSON[_0x4ab765(0x6ab)](_0x48aa51,null,0x2))),_0x1baf3b=_0x48aa51[_0x4ab765(0x78c)];}if(_0x1baf3b)return{'error':!0x0,'detail':(typeof _0x1baf3b=='object'?JSON['stringify'](_0x1baf3b,null,0x2):_0x1baf3b)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4ab765(0x5bd)](/  +/g,'\x20')};}async[a0_0x3c6a8b(0x77d)](_0x23b790,_0x4a637c){const _0x493eb2=a0_0x3c6a8b;this[_0x493eb2(0x784)][_0x493eb2(0x1a2)](this[_0x493eb2(0x38c)]+'\x20('+this['instance'][_0x493eb2(0x22f)]+_0x493eb2(0x1d9));let _0x5c07a3;if(_0x23b790[_0x493eb2(0x78c)][_0x493eb2(0x503)]&&_0x23b790[_0x493eb2(0x78c)]['text'][_0x493eb2(0x3ca)]>0x0){let _0x417d30=this[_0x493eb2(0x759)](_0x23b790[_0x493eb2(0x78c)]['text']);_0x5c07a3=await this[_0x493eb2(0x23b)](_0x417d30,_0x4a637c);}let _0x20128f={'number':_0x4a637c,'options':{'delay':_0x23b790[_0x493eb2(0x78c)][_0x493eb2(0x287)]},'mediaMessage':{'mediatype':_0x23b790[_0x493eb2(0x78c)]['mediatype'],'caption':_0x5c07a3,'media':_0x23b790[_0x493eb2(0x78c)][_0x493eb2(0x566)]}},_0x26d830=null;try{let _0x5d4bbd=await this[_0x493eb2(0x16b)](_0x20128f);if(_0x5d4bbd&&_0x5d4bbd[_0x493eb2(0x6e3)])return{'error':!0x1,'id':_0x5d4bbd[_0x493eb2(0x1c5)]['id']};_0x26d830=JSON[_0x493eb2(0x6ab)](_0x5d4bbd),this[_0x493eb2(0x784)][_0x493eb2(0x1a2)](this['instanceName']+'\x20('+this[_0x493eb2(0x172)]['wuid']+_0x493eb2(0x5ff)+_0x26d830);}catch(_0xac4c98){this['logger'][_0x493eb2(0x426)](this['instanceName']+'\x20('+this['instance'][_0x493eb2(0x22f)]+_0x493eb2(0x781)+(_0xac4c98 instanceof Error?_0xac4c98[_0x493eb2(0x78c)]:JSON[_0x493eb2(0x6ab)](_0xac4c98,null,0x2))),_0x26d830=_0xac4c98[_0x493eb2(0x78c)];}if(_0x26d830)return{'error':!0x0,'detail':(typeof _0x26d830==_0x493eb2(0x26c)?JSON['stringify'](_0x26d830,null,0x2):_0x26d830)[_0x493eb2(0x5bd)](/[\[\]{}\n]/g,'\x20')[_0x493eb2(0x5bd)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x484c7e,_0x548823){const _0x185b5f=a0_0x3c6a8b;this['logger'][_0x185b5f(0x1a2)](this['instanceName']+'\x20('+this[_0x185b5f(0x172)][_0x185b5f(0x22f)]+_0x185b5f(0x25b));let _0x185a60={'number':_0x548823,'options':{'delay':_0x484c7e[_0x185b5f(0x78c)][_0x185b5f(0x287)]},'audioMessage':{'audio':_0x484c7e['message']['urlOrBase64']}},_0x10890a=null;try{let _0x263ff6=await this[_0x185b5f(0x12e)](_0x185a60);if(_0x263ff6&&_0x263ff6[_0x185b5f(0x6e3)])return{'error':!0x1,'id':_0x263ff6[_0x185b5f(0x1c5)]['id']};_0x10890a=JSON['stringify'](_0x263ff6),this['logger']['verbose'](this[_0x185b5f(0x38c)]+'\x20('+this[_0x185b5f(0x172)][_0x185b5f(0x22f)]+_0x185b5f(0x5ff)+_0x10890a);}catch(_0x332ddb){this['logger']['error'](this[_0x185b5f(0x38c)]+'\x20('+this[_0x185b5f(0x172)]['wuid']+_0x185b5f(0x4ce)+(_0x332ddb instanceof Error?_0x332ddb['message']:JSON[_0x185b5f(0x6ab)](_0x332ddb,null,0x2))),_0x10890a=_0x332ddb['message'];}if(_0x10890a)return{'error':!0x0,'detail':(typeof _0x10890a==_0x185b5f(0x26c)?JSON['stringify'](_0x10890a,null,0x2):_0x10890a)[_0x185b5f(0x5bd)](/[\[\]{}\n]/g,'\x20')[_0x185b5f(0x5bd)](/  +/g,'\x20')};}},Ft=class c{constructor(_0x34f986,_0x3b9fb9,_0x5a4dda){const _0x4aab12=a0_0x3c6a8b;this[_0x4aab12(0x64a)]=_0x34f986,this[_0x4aab12(0x305)]=_0x3b9fb9,this[_0x4aab12(0x600)]=_0x5a4dda,this['db']={},this[_0x4aab12(0x487)]={},this['logger']=new v(c['name']),this['waInstances']={},(this[_0x4aab12(0x182)](),this[_0x4aab12(0x4ac)](),Object['assign'](this['db'],_0x3b9fb9[_0x4aab12(0x37f)](_0x4aab12(0x570))),Object[_0x4aab12(0x273)](this[_0x4aab12(0x487)],_0x3b9fb9[_0x4aab12(0x37f)](_0x4aab12(0x2d6))),this[_0x4aab12(0x49c)]=this['db']['ENABLED']?this['repository'][_0x4aab12(0x19d)]?.['db'](this['db']['CONNECTION'][_0x4aab12(0x6b9)]+_0x4aab12(0x3f9)):void 0x0,this[_0x4aab12(0x6d1)]=this[_0x4aab12(0x487)][_0x4aab12(0x619)]?new ne(this[_0x4aab12(0x487)]):void 0x0);}async[a0_0x3c6a8b(0x135)](_0x270708){const _0x4d0b63=a0_0x3c6a8b;if(_0x270708&&!this['waInstances'][_0x270708])throw new L(_0x4d0b63(0x309)+_0x270708+_0x4d0b63(0x43f));let _0x258039=[];for await(let [_0x1c9e44,_0x134e5a]of Object[_0x4d0b63(0x4b9)](this[_0x4d0b63(0x607)]))if(_0x134e5a&&_0x134e5a[_0x4d0b63(0x3e1)][_0x4d0b63(0x4d9)]==='open'){let _0x51db2b=await this[_0x4d0b63(0x600)][_0x4d0b63(0x6ad)]['find'](_0x1c9e44);_0x258039['push']({'instance':{'instanceName':_0x1c9e44,'apikey':_0x51db2b['apikey'],'owner':_0x134e5a[_0x4d0b63(0x22f)],'profileName':await _0x134e5a[_0x4d0b63(0x7ac)]()||_0x4d0b63(0x476),'profilePictureUrl':_0x134e5a[_0x4d0b63(0x212)]}});}return _0x258039[_0x4d0b63(0x217)](_0x4927bd=>_0x4927bd[_0x4d0b63(0x172)][_0x4d0b63(0x38c)]===_0x270708)??_0x258039;}async['cleaningUp'](_0x4653d9){const _0x528707=a0_0x3c6a8b;if(this['db'][_0x528707(0x619)]&&(await this[_0x528707(0x600)]['dbServer'][_0x528707(0x3e8)](),(await this[_0x528707(0x49c)][_0x528707(0x697)]())[_0x528707(0x3ca)]>0x0&&await this[_0x528707(0x49c)][_0x528707(0x606)](_0x4653d9)),this[_0x528707(0x487)]['ENABLED']){this[_0x528707(0x6d1)][_0x528707(0x46c)]=_0x4653d9,await this['cache'][_0x528707(0x4f0)]();return;}}async[a0_0x3c6a8b(0x560)](){const _0x526799=a0_0x3c6a8b;await this[_0x526799(0x401)]();let _0x56e4db=async _0x17b1f6=>{const _0x4cedab=_0x526799;let _0x3adea1=new be(this[_0x4cedab(0x305)],this[_0x4cedab(0x64a)],this[_0x4cedab(0x600)]);_0x3adea1['instanceName']=_0x17b1f6,await _0x3adea1[_0x4cedab(0x355)](),this[_0x4cedab(0x607)][_0x17b1f6]=_0x3adea1;};try{if(this[_0x526799(0x487)]['ENABLED']){let _0x20bfae=await this['cache'][_0x526799(0x786)]();_0x20bfae?.[_0x526799(0x3ca)]>0x0&&_0x20bfae[_0x526799(0x471)](async _0x2c2de1=>await _0x56e4db(_0x2c2de1[_0x526799(0x176)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x526799(0x600)][_0x526799(0x19d)][_0x526799(0x3e8)]();let _0x231ca7=await this['dbInstance'][_0x526799(0x697)]();_0x231ca7['length']>0x0&&_0x231ca7['forEach'](async _0x3896c8=>await _0x56e4db(_0x3896c8[_0x526799(0x6c9)][_0x526799(0x5bd)](/^[\w-]+\./,'')));return;}}catch(_0x27cee1){this[_0x526799(0x784)][_0x526799(0x426)](_0x27cee1);}}async[a0_0x3c6a8b(0x403)](){const _0x4fb8fb=a0_0x3c6a8b;let _0x19e36e=await this[_0x4fb8fb(0x600)][_0x4fb8fb(0x6ad)]['findAll'](),_0x15e822=_0x19e36e['filter'](_0x3fce20=>!this[_0x4fb8fb(0x607)][_0x3fce20['_id']]&&(_0x3fce20[_0x4fb8fb(0x6a2)]||typeof _0x3fce20[_0x4fb8fb(0x6a2)]>'u'));_0x15e822[_0x4fb8fb(0x3ca)]>0x0&&await Promise[_0x4fb8fb(0x78a)](_0x15e822[_0x4fb8fb(0x177)](async _0x492581=>{const _0x74524d=_0x4fb8fb;let _0x48697a={'online':!0x1,'lastDisconnect':Date[_0x74524d(0x30f)]()};await this[_0x74524d(0x600)]['auth'][_0x74524d(0x748)](_0x48697a,_0x492581[_0x74524d(0x54e)]);}));let _0x4e62c5=Date[_0x4fb8fb(0x30f)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x37f664=_0x19e36e[_0x4fb8fb(0x75f)](_0x18243c=>!this[_0x4fb8fb(0x607)][_0x18243c[_0x4fb8fb(0x54e)]]&&typeof _0x18243c[_0x4fb8fb(0x3bd)]<'u'&&_0x18243c['lastDisconnect']<_0x4e62c5);_0x37f664[_0x4fb8fb(0x3ca)]>0x0&&await Promise[_0x4fb8fb(0x78a)](_0x37f664['map'](async _0x2b7863=>{}));}async[a0_0x3c6a8b(0x401)](){const _0xd239de=a0_0x3c6a8b;try{let _0x3f40db={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0xd519db={'online':!0x1,'lastDisconnect':Date[_0xd239de(0x30f)]()},_0x592155=await this['repository'][_0xd239de(0x6ad)][_0xd239de(0x5d6)](_0x3f40db,_0xd519db);console[_0xd239de(0x1f7)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x592155[_0xd239de(0x586)]),await this[_0xd239de(0x34a)]();}catch(_0x3ff669){console[_0xd239de(0x426)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x3ff669);}}async[a0_0x3c6a8b(0x34a)](){const _0x14e186=a0_0x3c6a8b;try{let _0x2dc848={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x3d0a57=await this[_0x14e186(0x600)][_0x14e186(0x6ad)][_0x14e186(0x5f2)](_0x2dc848);console[_0x14e186(0x1f7)](_0x14e186(0x423)+_0x3d0a57[_0x14e186(0x586)]);}catch(_0x50ce30){console[_0x14e186(0x426)](_0x14e186(0x73b),_0x50ce30);}}['removeInstance'](){const _0x559a61=a0_0x3c6a8b;this['eventEmitter']['on'](_0x559a61(0x19e),async _0x481a85=>{const _0x2be771=_0x559a61;try{this[_0x2be771(0x607)][_0x481a85]=void 0x0;}catch{}try{this[_0x2be771(0x130)](_0x481a85);}finally{this[_0x2be771(0x784)][_0x2be771(0x22b)]('Instance\x20\x22'+_0x481a85+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x5b2eac=a0_0x3c6a8b;this[_0x5b2eac(0x64a)]['on']('no.connection',async _0x290943=>{const _0x1dccb4=_0x5b2eac;try{this[_0x1dccb4(0x607)][_0x290943]=void 0x0;}catch{}try{this[_0x1dccb4(0x130)](_0x290943);}finally{this['logger'][_0x1dccb4(0x22b)](_0x1dccb4(0x309)+_0x290943+_0x1dccb4(0x28a));}});}},Ut=class extends D{[a0_0x3c6a8b(0x63f)](_0x4991b4){return Ks(_0x4991b4);}async[a0_0x3c6a8b(0x2c8)](_0x1fce13){const _0x3683c5=a0_0x3c6a8b;if(_0x1fce13['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x1fce13[0x0][_0x3683c5(0x270)])[_0x3683c5(0x622)]([..._0x1fce13]))[_0x3683c5(0x3ca)]};}catch(_0x150c9d){return _0x150c9d;}}async[a0_0x3c6a8b(0x217)](_0x5e685b,_0x176b84){const _0x1bd887=a0_0x3c6a8b;try{let _0xceb43e=this[_0x1bd887(0x63f)](_0x176b84),_0x53359b=A(_0x5e685b['where']);return await _0xceb43e[_0x1bd887(0x217)](_0x53359b)[_0x1bd887(0x6c3)]({'lastmsg':-0x1})[_0x1bd887(0x15e)](_0x5e685b?.[_0x1bd887(0x15e)]??0x0)[_0x1bd887(0x463)]();}catch{return[];}}async['deleteAll'](_0x3e3ef8,_0x208a44){try{return await this['getChatModelForOwner'](_0x208a44)['deleteMany']({..._0x3e3ef8['where']}),[];}catch(_0xeb899b){return{'error':_0xeb899b?.['toString']()};}}async['findOne'](_0x1cfbf0,_0x3af8b5){const _0x3407f3=a0_0x3c6a8b;try{let _0x178a0b=this[_0x3407f3(0x63f)](_0x3af8b5),_0x47aa65=A(_0x1cfbf0[_0x3407f3(0x178)]);return await _0x178a0b['findOne'](_0x47aa65)[_0x3407f3(0x463)]();}catch{return null;}}async['updateOne'](_0x2524fc,_0x4fe65e,_0x4f6b11,_0x46363d,_0x2bc656=a0_0x3c6a8b(0x78f)){const _0x5552fa=a0_0x3c6a8b;try{let _0x5a5498={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x46363d},_0x2e8d88=this[_0x5552fa(0x63f)](_0x4f6b11),_0x3c4e24=A(_0x2524fc[_0x5552fa(0x178)]);Object[_0x5552fa(0x4c8)](_0x4fe65e)[_0x5552fa(0x471)](_0x40688=>{_0x4fe65e[_0x40688]==null&&delete _0x4fe65e[_0x40688];});let _0x39ac6b={};return _0x39ac6b[_0x2bc656]=_0x4fe65e,await _0x2e8d88['findOneAndUpdate'](_0x3c4e24,_0x39ac6b,_0x5a5498);}catch(_0x223311){return console[_0x5552fa(0x426)](_0x223311),null;}}async[a0_0x3c6a8b(0x2c3)](_0x44ed0b){const _0x1a4093=a0_0x3c6a8b;try{let _0x52a7d8=this['getChatModelForOwner'](_0x44ed0b[0x0][_0x1a4093(0x692)]['where']['owner']),_0x34e3eb=_0x44ed0b[_0x1a4093(0x177)](_0x1f9fe9=>({'updateOne':{'filter':{..._0x1f9fe9[_0x1a4093(0x692)][_0x1a4093(0x178)]},'update':{'$set':_0x1f9fe9[_0x1a4093(0x5be)]},'upsert':!0x0}})),_0x54080b=await _0x52a7d8['bulkWrite'](_0x34e3eb);return _0x54080b[_0x1a4093(0x215)]+_0x54080b[_0x1a4093(0x56f)];}catch(_0x43d739){return console[_0x1a4093(0x426)](_0x43d739),0x0;}}async[a0_0x3c6a8b(0x48a)](_0x3c58a4){const _0x40c0a2=a0_0x3c6a8b;try{let _0xfb87fb=this[_0x40c0a2(0x63f)](_0x3c58a4),_0x54cc9c={'labels':{'$exists':!0x0}},_0x5c1adf={'$unset':{'labels':''}};return(await _0xfb87fb[_0x40c0a2(0x2c3)](_0x54cc9c,_0x5c1adf))[_0x40c0a2(0x215)];}catch(_0x4031c8){return console['error'](_0x4031c8),0x0;}}async[a0_0x3c6a8b(0x14c)](_0x446897){const _0x1f1c4d=a0_0x3c6a8b;try{let _0x55cb4d=this[_0x1f1c4d(0x63f)](_0x446897),_0x4f3f23={'leadInfo.etiquetas':{'$exists':!0x1}},_0x40f75c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x55cb4d[_0x1f1c4d(0x2c3)](_0x4f3f23,_0x40f75c))[_0x1f1c4d(0x215)];}catch(_0x581845){return console[_0x1f1c4d(0x426)](_0x581845),0x0;}}async[a0_0x3c6a8b(0x61f)](_0x5999e6){const _0x444b7f=a0_0x3c6a8b;try{let _0x273aee=this[_0x444b7f(0x63f)](_0x5999e6),_0x382957={'leadInfo.tags':{'$exists':!0x1}},_0x2e16cd={'$set':{'leadInfo.tags':[]}};return(await _0x273aee['updateMany'](_0x382957,_0x2e16cd))[_0x444b7f(0x215)];}catch(_0x5ea2bd){return console[_0x444b7f(0x426)](_0x5ea2bd),0x0;}}async[a0_0x3c6a8b(0x4eb)](_0x406f2b){const _0x45aa7d=a0_0x3c6a8b;try{let _0x47e07d=this[_0x45aa7d(0x63f)](_0x406f2b),_0x576848={'leadInfo.customFields':{'$exists':!0x1}},_0x48da32={'$set':{'leadInfo.customFields':[]}};return(await _0x47e07d[_0x45aa7d(0x2c3)](_0x576848,_0x48da32))[_0x45aa7d(0x215)];}catch(_0x23afc6){return console[_0x45aa7d(0x426)](_0x23afc6),0x0;}}async[a0_0x3c6a8b(0x622)](_0x2fe2be,_0x6db7de){const _0x11259c=a0_0x3c6a8b;if(!Array['isArray'](_0x2fe2be)||_0x2fe2be[_0x11259c(0x3ca)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x6db7de)['insertMany'](_0x2fe2be))[_0x11259c(0x3ca)];}catch(_0x999ce3){throw console[_0x11259c(0x426)]('Erro\x20ao\x20inserir\x20chats:',_0x999ce3),_0x999ce3;}}async['deleteChat'](_0x4fbb37,_0x337b6f){const _0x5e5252=a0_0x3c6a8b;try{await this[_0x5e5252(0x63f)](_0x337b6f)[_0x5e5252(0x687)]({'_id':_0x4fbb37});}catch(_0x37ed2a){throw console['error'](_0x5e5252(0x294),_0x37ed2a),_0x37ed2a;}}},qt=class extends D{constructor(_0x11cdec,_0x5cbf52,_0x4851a4){const _0x4ee4b=a0_0x3c6a8b;super(_0x5cbf52),this[_0x4ee4b(0x7d8)]=_0x11cdec,this['configService']=_0x5cbf52,this['dbConnection']=_0x4851a4;}async[a0_0x3c6a8b(0x2c8)](_0x2f9b12){const _0x52dbfb=a0_0x3c6a8b;if(_0x2f9b12[_0x52dbfb(0x3ca)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x52dbfb(0x622)]([..._0x2f9b12]))[_0x52dbfb(0x3ca)]};}catch(_0x36261b){return _0x36261b;}}async[a0_0x3c6a8b(0x5be)](_0x40a57b,_0x3ad229){const _0x4cb0e5=a0_0x3c6a8b;try{let _0x3213f6=A(_0x40a57b[_0x4cb0e5(0x178)]);return{'updatedCount':(await this[_0x4cb0e5(0x7d8)][_0x4cb0e5(0x2c3)](_0x3213f6,{'$set':_0x3ad229}))['modifiedCount']};}catch(_0xe1be7a){return console['error'](_0x4cb0e5(0x492),_0xe1be7a),{'error':_0xe1be7a[_0x4cb0e5(0x341)]()};}}async['findManyByIds'](_0x416a94){const _0x3eb140=a0_0x3c6a8b;try{let _0x244930={'_id':{'$in':_0x416a94}};return await this[_0x3eb140(0x7d8)][_0x3eb140(0x217)](_0x244930)[_0x3eb140(0x463)]();}catch(_0xc0e981){return console['error'](_0x3eb140(0x14a),_0xc0e981),[];}}async[a0_0x3c6a8b(0x214)](_0x11c1d4){const _0x81f53a=a0_0x3c6a8b;try{return{'deletedCount':(await this['cacheContactModel']['deleteMany']({..._0x11c1d4[_0x81f53a(0x178)]}))[_0x81f53a(0x332)]};}catch(_0x4d83a5){return{'error':_0x4d83a5?.['toString']()};}}async[a0_0x3c6a8b(0x217)](_0x5c5483){const _0xf07442=a0_0x3c6a8b;try{let _0xe0a876=A(_0x5c5483[_0xf07442(0x178)]);return await this['cacheContactModel'][_0xf07442(0x217)](_0xe0a876)[_0xf07442(0x15e)](_0x5c5483?.[_0xf07442(0x15e)]??0x0)[_0xf07442(0x463)]();}catch{return[];}}async[a0_0x3c6a8b(0x23a)](_0x5c614b){const _0x1b7f05=a0_0x3c6a8b;try{let _0x4501b2=A(_0x5c614b[_0x1b7f05(0x178)]);return await this['cacheContactModel'][_0x1b7f05(0x23a)](_0x4501b2)[_0x1b7f05(0x463)]();}catch{return null;}}},Jt=class extends D{[a0_0x3c6a8b(0x690)](_0x2fa624){return Ca(_0x2fa624);}async[a0_0x3c6a8b(0x119)](_0x5a7fe1,_0x37bd38,_0x342efe,_0x2e95e1){const _0x35426f=a0_0x3c6a8b;try{let _0x659df1={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2e95e1},_0x5f29c2=this[_0x35426f(0x690)](_0x342efe),_0x1f5246=A(_0x5a7fe1['where']);return await _0x5f29c2[_0x35426f(0x4f3)](_0x1f5246,{'$set':_0x37bd38},_0x659df1);}catch(_0x1cfc8e){return console[_0x35426f(0x426)](_0x1cfc8e),null;}}async[a0_0x3c6a8b(0x217)](_0x1b85d1,_0x4104c8){const _0x52373e=a0_0x3c6a8b;try{let _0x29ba58=this[_0x52373e(0x690)](_0x4104c8),_0x2a7ba9=A(_0x1b85d1[_0x52373e(0x178)]);return await _0x29ba58[_0x52373e(0x217)](_0x2a7ba9);}catch(_0x5af534){console['error'](_0x5af534);}}async[a0_0x3c6a8b(0x214)](_0x3c57df,_0x5ef5b5){const _0xa0fbc7=a0_0x3c6a8b;try{let _0x19fb60=this[_0xa0fbc7(0x690)](_0x5ef5b5),_0x5068c5=A(_0x3c57df[_0xa0fbc7(0x178)]);await _0x19fb60[_0xa0fbc7(0x5f2)](_0x5068c5);}catch(_0x3acfe5){console['error'](_0x3acfe5);}}async['deleteAll'](_0x38ebf1){const _0x19ed68=a0_0x3c6a8b;try{return await this[_0x19ed68(0x690)](_0x38ebf1)[_0x19ed68(0x550)][_0x19ed68(0x4d0)](),{'success':!0x0};}catch(_0x49cdcf){return console[_0x19ed68(0x426)](_0x49cdcf),{'success':!0x1,'error':_0x49cdcf};}}},Vt=class{constructor(_0x466903){this['waMonitor']=_0x466903;}async[a0_0x3c6a8b(0x38b)]({instanceName:_0x220f72},_0x3b13b0){const _0xd92e37=a0_0x3c6a8b;return await this[_0xd92e37(0x644)][_0xd92e37(0x607)][_0x220f72]['editChat'](_0x3b13b0);}async['whatsappNumber']({instanceName:_0x2ef7a0},_0x89a447){const _0x1e5c57=a0_0x3c6a8b;return await this[_0x1e5c57(0x644)][_0x1e5c57(0x607)][_0x2ef7a0][_0x1e5c57(0x207)](_0x89a447);}async[a0_0x3c6a8b(0x7d6)]({instanceName:_0x3b3500},_0x55a529){const _0x434593=a0_0x3c6a8b;return await this[_0x434593(0x644)][_0x434593(0x607)][_0x3b3500][_0x434593(0x7d6)](_0x55a529);}async['readMessage']({instanceName:_0x26b570},_0x25de1f){const _0xbca249=a0_0x3c6a8b;return await this[_0xbca249(0x644)][_0xbca249(0x607)][_0x26b570][_0xbca249(0x788)](_0x25de1f);}async['archiveChat']({instanceName:_0x5f023e},_0x418a7e){const _0x3916=a0_0x3c6a8b;return await this[_0x3916(0x644)][_0x3916(0x607)][_0x5f023e][_0x3916(0x399)](_0x418a7e);}async[a0_0x3c6a8b(0x3c6)]({instanceName:_0x504569},_0x5e292d){const _0x12cf09=a0_0x3c6a8b;return await this[_0x12cf09(0x644)]['waInstances'][_0x504569][_0x12cf09(0x3c6)](_0x5e292d);}async[a0_0x3c6a8b(0x242)]({instanceName:_0x5650b3},_0x2de15c){const _0x397948=a0_0x3c6a8b;return await this[_0x397948(0x644)][_0x397948(0x607)][_0x5650b3][_0x397948(0x485)](_0x2de15c[_0x397948(0x47d)]);}async[a0_0x3c6a8b(0x292)]({instanceName:_0x32796b},_0x516f89){const _0x54f864=a0_0x3c6a8b;return await this[_0x54f864(0x644)][_0x54f864(0x607)][_0x32796b][_0x54f864(0x292)](_0x516f89[_0x54f864(0x47d)]);}async[a0_0x3c6a8b(0x29a)]({instanceName:_0xc4ec5d},_0x2532c1){const _0x57c096=a0_0x3c6a8b;return await this[_0x57c096(0x644)][_0x57c096(0x607)][_0xc4ec5d][_0x57c096(0x29a)](_0x2532c1);}async['fetchContacts']({instanceName:_0x39f267},_0x34d7f1){const _0x54350d=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0x39f267][_0x54350d(0x597)](_0x34d7f1);}async[a0_0x3c6a8b(0x21d)]({instanceName:_0x5bdcf1},_0x4cc268){const _0x667f76=a0_0x3c6a8b;return await this[_0x667f76(0x644)][_0x667f76(0x607)][_0x5bdcf1][_0x667f76(0x21d)](_0x4cc268);}async[a0_0x3c6a8b(0x65d)]({instanceName:_0x14244b},_0x1b9efa){const _0xd329a1=a0_0x3c6a8b;return await this[_0xd329a1(0x644)]['waInstances'][_0x14244b][_0xd329a1(0x65d)](_0x1b9efa);}async['fetchLabels']({instanceName:_0x28a248}){const _0x3b7157=a0_0x3c6a8b;return await this[_0x3b7157(0x644)][_0x3b7157(0x607)][_0x28a248][_0x3b7157(0x2b4)]();}async[a0_0x3c6a8b(0x50c)]({instanceName:_0x42c621}){const _0x139a39=a0_0x3c6a8b;return await this[_0x139a39(0x644)]['waInstances'][_0x42c621][_0x139a39(0x50c)]();}async[a0_0x3c6a8b(0x21f)]({instanceName:_0x2878a1}){const _0x1c4499=a0_0x3c6a8b;return await this[_0x1c4499(0x644)]['waInstances'][_0x2878a1]['fetchPrivacySettings']();}async[a0_0x3c6a8b(0x1cf)]({instanceName:_0x2a1e14},_0x4f9369){const _0x34f8d4=a0_0x3c6a8b;return await this['waMonitor'][_0x34f8d4(0x607)][_0x2a1e14]['updatePrivacySettings'](_0x4f9369);}async[a0_0x3c6a8b(0x552)]({instanceName:_0x437815},_0x181ba2){const _0x2fe524=a0_0x3c6a8b;return await this[_0x2fe524(0x644)][_0x2fe524(0x607)][_0x437815][_0x2fe524(0x552)](_0x181ba2[_0x2fe524(0x47d)]);}async[a0_0x3c6a8b(0x499)]({instanceName:_0x33cfab},_0x816c44){const _0x3d47d0=a0_0x3c6a8b;return await this['waMonitor'][_0x3d47d0(0x607)][_0x33cfab][_0x3d47d0(0x499)](_0x816c44[_0x3d47d0(0x4e1)]);}async[a0_0x3c6a8b(0x488)]({instanceName:_0x4e4a69},_0x339a8a){const _0x14b4b1=a0_0x3c6a8b;return await this[_0x14b4b1(0x644)][_0x14b4b1(0x607)][_0x4e4a69][_0x14b4b1(0x488)](_0x339a8a['status']);}async[a0_0x3c6a8b(0x6bd)]({instanceName:_0x8cfda7},_0x5c0b33){const _0x4b3b14=a0_0x3c6a8b;return await this[_0x4b3b14(0x644)][_0x4b3b14(0x607)][_0x8cfda7][_0x4b3b14(0x6bd)](_0x5c0b33[_0x4b3b14(0x6c6)]);}async[a0_0x3c6a8b(0x6ee)]({instanceName:_0x5cf2d2},_0x27473b){const _0x8c74d6=a0_0x3c6a8b;return await this[_0x8c74d6(0x644)][_0x8c74d6(0x607)][_0x5cf2d2][_0x8c74d6(0x6ee)]();}},_s=require(a0_0x3c6a8b(0x7aa)),Bt=class c{constructor(_0x7c7a39,_0x501931,_0x388f9e,_0x3a7205,_0xa57f1d){const _0x4733ce=a0_0x3c6a8b;this['waMonitor']=_0x7c7a39,this[_0x4733ce(0x305)]=_0x501931,this['repository']=_0x388f9e,this[_0x4733ce(0x64a)]=_0x3a7205,this[_0x4733ce(0x209)]=_0xa57f1d,this[_0x4733ce(0x784)]=new v(c[_0x4733ce(0x4e1)]);}async[a0_0x3c6a8b(0x339)]({instanceName:_0x2e572e,apikey:_0x5b9f53,number:_0x53a9e3,proxy:_0x40a392=!0x0}){const _0x176229=a0_0x3c6a8b;try{let _0xacf60d=new be(this[_0x176229(0x305)],this[_0x176229(0x64a)],this[_0x176229(0x600)]);_0xacf60d[_0x176229(0x38c)]=_0x2e572e,this['waMonitor'][_0x176229(0x607)][_0xacf60d[_0x176229(0x38c)]]=_0xacf60d;let _0x542b1e={};_0x5b9f53?(await this['repository']['auth']['create']({'apikey':_0x5b9f53},_0x2e572e),_0x542b1e['apikey']=_0x5b9f53):_0x542b1e=await this['authService']['generateHash']({'instanceName':_0xacf60d[_0x176229(0x38c)]});let _0x136700;return await _0xacf60d['connectToWhatsapp'](_0x53a9e3),await(0x0,_s[_0x176229(0x287)])(0x7d0),_0x136700=_0xacf60d[_0x176229(0x594)],{'instance':{'instanceName':_0xacf60d[_0x176229(0x38c)],'status':_0x176229(0x1dc)},'hash':_0x542b1e,'qrcode':_0x136700};}catch(_0x171652){this['logger'][_0x176229(0x426)](_0x171652);}}async[a0_0x3c6a8b(0x52b)]({instanceName:_0x5ecdd1,number:_0x43afc8=null}){const _0x589aec=a0_0x3c6a8b;try{let _0x130534=this[_0x589aec(0x644)]['waInstances'][_0x5ecdd1];switch(_0x130534?.[_0x589aec(0x3e1)]?.[_0x589aec(0x4d9)]){case _0x589aec(0x63a):return await _0x130534[_0x589aec(0x355)](_0x43afc8),await(0x0,_s[_0x589aec(0x287)])(0x7d0),_0x130534['qrCode'];case'connecting':return _0x130534['qrCode'];default:return await this[_0x589aec(0x1e1)]({'instanceName':_0x5ecdd1});}}catch(_0x322866){this[_0x589aec(0x784)][_0x589aec(0x1f7)](_0x322866);}}async[a0_0x3c6a8b(0x1e1)]({instanceName:_0x589333}){const _0x2c1763=a0_0x3c6a8b;let _0x2900e7=this[_0x2c1763(0x644)][_0x2c1763(0x607)][_0x589333][_0x2c1763(0x3e1)],_0x333087=null;_0x2900e7[_0x2c1763(0x4d9)]===_0x2c1763(0x61e)&&_0x589333&&(_0x333087=await this['waMonitor'][_0x2c1763(0x135)](_0x589333));let _0x78af47=null;return _0x2900e7[_0x2c1763(0x4d9)]==='connecting'&&_0x589333&&(_0x78af47=this[_0x2c1763(0x644)]['waInstances'][_0x589333][_0x2c1763(0x594)]),{'instance':_0x589333,'connectionStatus':_0x2900e7,'instanceInfo':_0x333087,'qrcode':_0x78af47};}async[a0_0x3c6a8b(0x530)]({instanceName:_0x60bf56}){const _0x4937b5=a0_0x3c6a8b;try{return this[_0x4937b5(0x644)][_0x4937b5(0x607)][_0x60bf56]?.[_0x4937b5(0x5b7)]?.['ws']?.['close'](),{'status':_0x4937b5(0x76d),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0xc9e299){this[_0x4937b5(0x784)][_0x4937b5(0x426)](_0xc9e299);}}async[a0_0x3c6a8b(0x3aa)]({instanceName:_0x1516a7}){const _0x571a46=a0_0x3c6a8b;return _0x1516a7?this[_0x571a46(0x644)][_0x571a46(0x135)](_0x1516a7):this[_0x571a46(0x644)]['instanceInfo']();}async[a0_0x3c6a8b(0x50a)]({instanceName:_0x489571}){const _0x616108=a0_0x3c6a8b;try{return await this['waMonitor'][_0x616108(0x607)][_0x489571]?.['client']?.[_0x616108(0x50a)](_0x616108(0x446)+_0x489571),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x197748){throw new x(_0x197748[_0x616108(0x341)]());}}async['deleteInstance']({instanceName:_0x1eebc0}){const _0x5b70f4=a0_0x3c6a8b;if((await this['connectionState']({'instanceName':_0x1eebc0}))['connectionStatus'][_0x5b70f4(0x4d9)]===_0x5b70f4(0x61e))throw new w([_0x5b70f4(0x374),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x5b70f4(0x607)][_0x1eebc0],{'error':!0x1,'message':_0x5b70f4(0x17b)};}catch(_0x213175){throw new w(_0x213175[_0x5b70f4(0x341)]());}}},ee=require(a0_0x3c6a8b(0x188)),Gt=class{constructor(_0x5cc686){const _0x1f4d5f=a0_0x3c6a8b;this[_0x1f4d5f(0x644)]=_0x5cc686;}async[a0_0x3c6a8b(0x357)]({instanceName:_0xfc04aa},_0x5cee51){const _0x46f008=a0_0x3c6a8b;return await this[_0x46f008(0x644)][_0x46f008(0x607)][_0xfc04aa]['textMessage'](_0x5cee51);}async[a0_0x3c6a8b(0x17e)]({instanceName:_0x51758d},_0x568b0c){const _0x5f26fd=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0x51758d][_0x5f26fd(0x5ce)](_0x568b0c);}async[a0_0x3c6a8b(0x2ab)]({instanceName:_0x29d44f},_0x2666fc){const _0x4fbe05=a0_0x3c6a8b;if((0x0,ee[_0x4fbe05(0x1bf)])(_0x2666fc?.[_0x4fbe05(0x16b)]?.['media'])&&!_0x2666fc?.[_0x4fbe05(0x16b)]?.['fileName'])throw new w(_0x4fbe05(0x443));if((0x0,ee[_0x4fbe05(0x3e6)])(_0x2666fc?.[_0x4fbe05(0x16b)]?.[_0x4fbe05(0x3d3)])||(0x0,ee[_0x4fbe05(0x1bf)])(_0x2666fc?.[_0x4fbe05(0x16b)]?.['media']))return await this[_0x4fbe05(0x644)][_0x4fbe05(0x607)][_0x29d44f][_0x4fbe05(0x16b)](_0x2666fc);throw new w(_0x4fbe05(0x1a1));}async[a0_0x3c6a8b(0x1d5)]({instanceName:_0x40dfe4},_0x4a0584){const _0x4f9f77=a0_0x3c6a8b;if((0x0,ee[_0x4f9f77(0x3e6)])(_0x4a0584[_0x4f9f77(0x78e)]['image'])||(0x0,ee['isBase64'])(_0x4a0584[_0x4f9f77(0x78e)]['image']))return await this[_0x4f9f77(0x644)]['waInstances'][_0x40dfe4]['mediaSticker'](_0x4a0584);throw new w(_0x4f9f77(0x1a1));}async[a0_0x3c6a8b(0x5f9)]({instanceName:_0x5e841e},_0x2bcd43){const _0x33d613=a0_0x3c6a8b;if((0x0,ee['isURL'])(_0x2bcd43[_0x33d613(0x41a)][_0x33d613(0x4f7)])||(0x0,ee[_0x33d613(0x1bf)])(_0x2bcd43[_0x33d613(0x41a)][_0x33d613(0x4f7)]))return await this[_0x33d613(0x644)][_0x33d613(0x607)][_0x5e841e][_0x33d613(0x12e)](_0x2bcd43);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x3c6a8b(0x3e2)]({instanceName:_0xb26e43},_0x4f00e0){const _0x1a7e2a=a0_0x3c6a8b;if((0x0,ee['isBase64'])(_0x4f00e0[_0x1a7e2a(0x2d1)][_0x1a7e2a(0x16b)]?.[_0x1a7e2a(0x3d3)])&&!_0x4f00e0[_0x1a7e2a(0x2d1)][_0x1a7e2a(0x16b)]?.[_0x1a7e2a(0x155)])throw new w(_0x1a7e2a(0x443));return await this[_0x1a7e2a(0x644)][_0x1a7e2a(0x607)][_0xb26e43][_0x1a7e2a(0x2d1)](_0x4f00e0);}async[a0_0x3c6a8b(0x438)]({instanceName:_0x390bb4},_0x22c602){const _0x50b309=a0_0x3c6a8b;return await this['waMonitor'][_0x50b309(0x607)][_0x390bb4]['locationMessage'](_0x22c602);}async[a0_0x3c6a8b(0x33e)]({instanceName:_0x41391},_0x339ce2){const _0x27dcca=a0_0x3c6a8b;return await this['waMonitor'][_0x27dcca(0x607)][_0x41391][_0x27dcca(0x2e0)](_0x339ce2);}async['sendList']({instanceName:_0xa9a820},_0x41d336){const _0x4f38b2=a0_0x3c6a8b;return await this[_0x4f38b2(0x644)][_0x4f38b2(0x607)][_0xa9a820]['listMessage'](_0x41d336);}async[a0_0x3c6a8b(0x2e7)]({instanceName:_0x18c9a6},_0x5e0405){const _0x64bf3f=a0_0x3c6a8b;return await this[_0x64bf3f(0x644)][_0x64bf3f(0x607)][_0x18c9a6][_0x64bf3f(0x30b)](_0x5e0405);}async[a0_0x3c6a8b(0x5ec)]({instanceName:_0x439a93},_0x365517){const _0x1b54a6=a0_0x3c6a8b;if(!_0x365517[_0x1b54a6(0x52c)]['reaction']['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x1b54a6(0x72b));return await this[_0x1b54a6(0x644)][_0x1b54a6(0x607)][_0x439a93][_0x1b54a6(0x52c)](_0x365517);}async[a0_0x3c6a8b(0x2be)]({instanceName:_0x3e36a1},_0x13d5be){const _0x58d488=a0_0x3c6a8b;return await this['waMonitor'][_0x58d488(0x607)][_0x3e36a1]['statusMessage'](_0x13d5be);}},xr=require(a0_0x3c6a8b(0x5ed)),Ps=require(a0_0x3c6a8b(0x4a1)),Wt=class c{constructor(_0x11b153,_0x2ebb74,_0x1221d1){const _0x534e72=a0_0x3c6a8b;this[_0x534e72(0x305)]=_0x11b153,this['waMonitor']=_0x2ebb74,this[_0x534e72(0x600)]=_0x1221d1,this['logger']=new v(c[_0x534e72(0x4e1)]);}async[a0_0x3c6a8b(0x5f3)](_0x3673fc){const _0x2a410d=a0_0x3c6a8b;let _0x498c19=this[_0x2a410d(0x305)][_0x2a410d(0x37f)](_0x2a410d(0x555))[_0x2a410d(0x57a)],_0x379ef7=(0x0,xr[_0x2a410d(0x609)])({'instanceName':_0x3673fc[_0x2a410d(0x38c)],'apiName':Xe,'tokenId':(0x0,Ps['v4'])()},_0x498c19[_0x2a410d(0x760)],{'expiresIn':_0x498c19['EXPIRIN_IN'],'encoding':_0x2a410d(0x173),'subject':_0x2a410d(0x360)}),_0x26fbb8=await this[_0x2a410d(0x600)][_0x2a410d(0x6ad)][_0x2a410d(0x748)]({'jwt':_0x379ef7},_0x3673fc[_0x2a410d(0x38c)]);if(_0x26fbb8[_0x2a410d(0x426)])throw this[_0x2a410d(0x784)][_0x2a410d(0x426)]({'localError':c[_0x2a410d(0x4e1)]+_0x2a410d(0x16d),'error':_0x26fbb8[_0x2a410d(0x426)]}),new w(_0x2a410d(0x5f5),_0x26fbb8[_0x2a410d(0x426)]?.['toString']());return{'jwt':_0x379ef7};}async[a0_0x3c6a8b(0x769)](_0x58de75){const _0x29ab2a=a0_0x3c6a8b;let _0x4a9d55=(0x0,Ps['v4'])()[_0x29ab2a(0x21a)](),_0x391abb=await this['repository']['auth'][_0x29ab2a(0x748)]({'apikey':_0x4a9d55},_0x58de75[_0x29ab2a(0x38c)]);if(_0x391abb[_0x29ab2a(0x426)])throw this[_0x29ab2a(0x784)][_0x29ab2a(0x426)]({'localError':c['name']+'.jwt','error':_0x391abb[_0x29ab2a(0x426)]}),new w(_0x29ab2a(0x5f5),_0x391abb[_0x29ab2a(0x426)]?.['toString']());return{'apikey':_0x4a9d55};}async[a0_0x3c6a8b(0x32a)](_0x169c55){const _0x407bcb=a0_0x3c6a8b;let _0x19c615=this[_0x407bcb(0x305)][_0x407bcb(0x37f)](_0x407bcb(0x555));return await this[_0x19c615[_0x407bcb(0x7ae)]](_0x169c55);}},zt=class{constructor(_0x546c21){const _0x2b7dde=a0_0x3c6a8b;this[_0x2b7dde(0x644)]=_0x546c21;}async[a0_0x3c6a8b(0x511)](_0x2c70bf,_0x206e71){const _0x1d1804=a0_0x3c6a8b;return await this['waMonitor'][_0x1d1804(0x607)][_0x2c70bf['instanceName']][_0x1d1804(0x511)](_0x206e71);}async[a0_0x3c6a8b(0x4e8)](_0x522e0c,_0x1b2d53){const _0x32b472=a0_0x3c6a8b;return await this[_0x32b472(0x644)][_0x32b472(0x607)][_0x522e0c[_0x32b472(0x38c)]][_0x32b472(0x4e8)](_0x1b2d53);}async[a0_0x3c6a8b(0x1fc)](_0x401dc2,_0x28bf10){const _0x3c486e=a0_0x3c6a8b;return await this[_0x3c486e(0x644)]['waInstances'][_0x401dc2[_0x3c486e(0x38c)]][_0x3c486e(0x1fc)](_0x28bf10);}async[a0_0x3c6a8b(0x417)](_0x19b015,_0x4aaeec){const _0x516528=a0_0x3c6a8b;return await this[_0x516528(0x644)][_0x516528(0x607)][_0x19b015[_0x516528(0x38c)]][_0x516528(0x417)](_0x4aaeec);}async[a0_0x3c6a8b(0x375)](_0x47d3e9,_0x450efd){const _0x3369df=a0_0x3c6a8b;return await this[_0x3369df(0x644)][_0x3369df(0x607)][_0x47d3e9[_0x3369df(0x38c)]]['groupBetterSetting'](_0x450efd);}async[a0_0x3c6a8b(0x3ba)](_0x423e88,_0x49d751){const _0x409725=a0_0x3c6a8b;return await this[_0x409725(0x644)][_0x409725(0x607)][_0x423e88['instanceName']][_0x409725(0x3ba)](_0x49d751);}async[a0_0x3c6a8b(0x572)](_0x3fcc4e,_0x5752b3){const _0x33f1f1=a0_0x3c6a8b;return await this[_0x33f1f1(0x644)][_0x33f1f1(0x607)][_0x3fcc4e['instanceName']][_0x33f1f1(0x7d9)](_0x5752b3);}async[a0_0x3c6a8b(0x4f2)](_0x1236b8){const _0x2dfa=a0_0x3c6a8b;return await this[_0x2dfa(0x644)][_0x2dfa(0x607)][_0x1236b8[_0x2dfa(0x38c)]][_0x2dfa(0x4f2)]();}async[a0_0x3c6a8b(0x30a)](_0x391cc0,_0x55d283){const _0x17f61a=a0_0x3c6a8b;return await this['waMonitor'][_0x17f61a(0x607)][_0x391cc0[_0x17f61a(0x38c)]][_0x17f61a(0x30a)](_0x55d283);}async[a0_0x3c6a8b(0x5a8)](_0xa9554f,_0x4bf798){const _0x180c48=a0_0x3c6a8b;return await this[_0x180c48(0x644)][_0x180c48(0x607)][_0xa9554f[_0x180c48(0x38c)]]['joinGroup'](_0x4bf798);}async[a0_0x3c6a8b(0x713)](_0xd28f8a,_0x355f1e){const _0x11faf3=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0xd28f8a[_0x11faf3(0x38c)]][_0x11faf3(0x713)](_0x355f1e);}async[a0_0x3c6a8b(0x3f3)](_0x43c8a2,_0x560a87){const _0x5c09dd=a0_0x3c6a8b;return await this[_0x5c09dd(0x644)][_0x5c09dd(0x607)][_0x43c8a2[_0x5c09dd(0x38c)]][_0x5c09dd(0x3f3)](_0x560a87);}async[a0_0x3c6a8b(0x469)](_0x2bfcdb,_0x28ff74){const _0x2baa8e=a0_0x3c6a8b;return await this[_0x2baa8e(0x644)][_0x2baa8e(0x607)][_0x2bfcdb[_0x2baa8e(0x38c)]][_0x2baa8e(0x469)](_0x28ff74);}async[a0_0x3c6a8b(0x5dc)](_0x54a6dc,_0x92ca08){const _0x2f4466=a0_0x3c6a8b;return await this[_0x2f4466(0x644)]['waInstances'][_0x54a6dc[_0x2f4466(0x38c)]]['updateGParticipant'](_0x92ca08);}async[a0_0x3c6a8b(0x67e)](_0x251948,_0x366910){const _0x4a3087=a0_0x3c6a8b;return await this['waMonitor'][_0x4a3087(0x607)][_0x251948['instanceName']][_0x4a3087(0x67e)](_0x366910);}async[a0_0x3c6a8b(0x18a)](_0x47bd8b,_0x26b468){const _0x5cfb4e=a0_0x3c6a8b;return await this[_0x5cfb4e(0x644)]['waInstances'][_0x47bd8b[_0x5cfb4e(0x38c)]][_0x5cfb4e(0x18a)](_0x26b468);}},Ht=class{constructor(_0xc17a6b){const _0x197211=a0_0x3c6a8b;this[_0x197211(0x644)]=_0xc17a6b;}['create'](_0xc879d0,_0x3f5f6b){const _0x2db012=a0_0x3c6a8b;return this['waMonitor'][_0x2db012(0x607)][_0xc879d0[_0x2db012(0x38c)]][_0x2db012(0x701)](_0x3f5f6b);}async['find'](_0x4f329e){const _0x391434=a0_0x3c6a8b;try{return await this[_0x391434(0x644)][_0x391434(0x607)][_0x4f329e[_0x391434(0x38c)]][_0x391434(0x238)]();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x3c6a8b(0x464)),Kt=class{constructor(_0x32fe15){const _0x5067c1=a0_0x3c6a8b;this[_0x5067c1(0x644)]=_0x32fe15;}async[a0_0x3c6a8b(0x440)](_0x5d2433,_0x11f851){const _0x40f25d=a0_0x3c6a8b;return await this[_0x40f25d(0x644)]['waInstances'][_0x5d2433[_0x40f25d(0x38c)]][_0x40f25d(0x440)](_0x11f851);}async[a0_0x3c6a8b(0x39f)](_0x425b04){const _0x5ace24=a0_0x3c6a8b;return await this[_0x5ace24(0x644)][_0x5ace24(0x607)][_0x425b04[_0x5ace24(0x38c)]][_0x5ace24(0x39f)]();}async[a0_0x3c6a8b(0x6d5)](_0x14e7d9){const _0x7bebe4=a0_0x3c6a8b;return await this[_0x7bebe4(0x644)][_0x7bebe4(0x607)][_0x14e7d9[_0x7bebe4(0x38c)]][_0x7bebe4(0x6d5)]();}async[a0_0x3c6a8b(0x6f4)](_0x5097e3){const _0x37e9ad=a0_0x3c6a8b;return await this['waMonitor'][_0x37e9ad(0x607)][_0x5097e3[_0x37e9ad(0x38c)]][_0x37e9ad(0x6f4)]();}async[a0_0x3c6a8b(0x4b0)](_0x5df00f,_0x24a49f){const _0x2e366e=a0_0x3c6a8b;return await this[_0x2e366e(0x644)][_0x2e366e(0x607)][_0x5df00f[_0x2e366e(0x38c)]][_0x2e366e(0x4b0)](_0x24a49f);}async[a0_0x3c6a8b(0x41e)](_0xc44979,_0x3bb253){const _0xd30e3e=a0_0x3c6a8b;return await this['waMonitor'][_0xd30e3e(0x607)][_0xc44979[_0xd30e3e(0x38c)]]['updateCustomFields'](_0x3bb253);}async[a0_0x3c6a8b(0x363)](_0x390c3b,_0x3be26f){const _0x3da5ea=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0x390c3b[_0x3da5ea(0x38c)]]['updateFlowConfig'](_0x3be26f);}async['startFlow'](_0x2df0fc,_0x3c4138){const _0x514761=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0x2df0fc[_0x514761(0x38c)]][_0x514761(0x37c)](_0x3c4138);}async['getConversation'](_0x28ae7d,_0x28290b){const _0x9a5d44=a0_0x3c6a8b;return await this[_0x9a5d44(0x644)][_0x9a5d44(0x607)][_0x28ae7d[_0x9a5d44(0x38c)]][_0x9a5d44(0x3d1)](_0x28290b);}async[a0_0x3c6a8b(0x564)](_0x35a5d2,_0x4ff6be){const _0x580376=a0_0x3c6a8b;return await this[_0x580376(0x644)][_0x580376(0x607)][_0x35a5d2[_0x580376(0x38c)]][_0x580376(0x564)](_0x4ff6be);}async[a0_0x3c6a8b(0x14d)](_0x19915b,_0x1bf7e9){const _0x27a215=a0_0x3c6a8b;return await this['waMonitor'][_0x27a215(0x607)][_0x19915b[_0x27a215(0x38c)]][_0x27a215(0x14d)](_0x1bf7e9);}async[a0_0x3c6a8b(0x62b)](_0x468eec,_0x71ed38){const _0x4cd7a6=a0_0x3c6a8b;return await this[_0x4cd7a6(0x644)][_0x4cd7a6(0x607)][_0x468eec[_0x4cd7a6(0x38c)]][_0x4cd7a6(0x62b)](_0x71ed38);}async[a0_0x3c6a8b(0x249)](_0x4e531f,_0x45ca05){const _0x3f2bea=a0_0x3c6a8b;return await this[_0x3f2bea(0x644)][_0x3f2bea(0x607)][_0x4e531f[_0x3f2bea(0x38c)]]['getFlow'](_0x45ca05[_0x3f2bea(0x4e1)]);}async[a0_0x3c6a8b(0x4e2)](_0x28c1f1,_0x56a7c5){const _0x4698fd=a0_0x3c6a8b;return await this[_0x4698fd(0x644)][_0x4698fd(0x607)][_0x28c1f1[_0x4698fd(0x38c)]][_0x4698fd(0x4e2)](_0x56a7c5);}async['editFlow'](_0x4b01dc,_0x4b12fc){const _0x299b9a=a0_0x3c6a8b;return await this[_0x299b9a(0x644)][_0x299b9a(0x607)][_0x4b01dc[_0x299b9a(0x38c)]][_0x299b9a(0x44b)](_0x4b12fc);}async[a0_0x3c6a8b(0x6c7)](_0x42567a,_0x46f861){const _0x57a44f=a0_0x3c6a8b;return await this[_0x57a44f(0x644)]['waInstances'][_0x42567a[_0x57a44f(0x38c)]][_0x57a44f(0x6c7)](_0x46f861);}async[a0_0x3c6a8b(0x222)](_0x7855d3,_0x2c0174){const _0x24aa15=a0_0x3c6a8b;return await this['waMonitor']['waInstances'][_0x7855d3[_0x24aa15(0x38c)]]['editFlowReply'](_0x2c0174);}async['editFlowGroup'](_0x292c5f,_0x2486e3){const _0x1ada9a=a0_0x3c6a8b;return await this['waMonitor'][_0x1ada9a(0x607)][_0x292c5f[_0x1ada9a(0x38c)]][_0x1ada9a(0x3dd)](_0x2486e3);}async[a0_0x3c6a8b(0x2ce)](_0x42b608,_0x4bf0dd){const _0x28dbb1=a0_0x3c6a8b;return await this['waMonitor'][_0x28dbb1(0x607)][_0x42b608[_0x28dbb1(0x38c)]][_0x28dbb1(0x2ce)](_0x4bf0dd);}async['editFlowVaredit'](_0x537cbf,_0x52d7b4){const _0x59ce2e=a0_0x3c6a8b;return await this[_0x59ce2e(0x644)][_0x59ce2e(0x607)][_0x537cbf[_0x59ce2e(0x38c)]][_0x59ce2e(0x253)](_0x52d7b4);}async[a0_0x3c6a8b(0x70d)](_0x50e620,_0x13af1c){const _0x27130a=a0_0x3c6a8b;return await this[_0x27130a(0x644)][_0x27130a(0x607)][_0x50e620['instanceName']]['editFlowVariable'](_0x13af1c);}async[a0_0x3c6a8b(0x4da)](_0x440c38,_0x37681b){const _0x54b2c9=a0_0x3c6a8b;return await this[_0x54b2c9(0x644)][_0x54b2c9(0x607)][_0x440c38['instanceName']]['deleteFlow'](_0x37681b[_0x54b2c9(0x4e1)]);}async[a0_0x3c6a8b(0x18b)](_0x5b92a9){const _0x38347f=a0_0x3c6a8b;return await this[_0x38347f(0x644)][_0x38347f(0x607)][_0x5b92a9['instanceName']][_0x38347f(0x18b)]();}},Qt=class{constructor(_0x1100c7){const _0x576819=a0_0x3c6a8b;this[_0x576819(0x174)]=_0x1100c7;}async[a0_0x3c6a8b(0x2fe)](_0x3912ca,_0x4fe077){const _0x35cd30=a0_0x3c6a8b;return this['webhookService'][_0x35cd30(0x748)](_0x3912ca,_0x4fe077);}async[a0_0x3c6a8b(0x238)](_0x511446){const _0x251c7f=a0_0x3c6a8b;return this[_0x251c7f(0x174)][_0x251c7f(0x217)](_0x511446);}},Yt=class extends D{constructor(_0x2ce141,_0x8d4d53){const _0x439753=a0_0x3c6a8b;super(_0x8d4d53),this['webhookModel']=_0x2ce141,this[_0x439753(0x305)]=_0x8d4d53;}async['create'](_0x394f4f,_0x171463){const _0xf3c4fc=a0_0x3c6a8b;try{return this[_0xf3c4fc(0x5ae)][_0xf3c4fc(0x619)]?{'insertCount':(await this[_0xf3c4fc(0x637)][_0xf3c4fc(0x42d)]({'_id':_0x171463},{..._0x394f4f},{'upsert':!0x0}))[_0xf3c4fc(0x215)]}:{'insertCount':0x1};}catch(_0x481b9a){return _0x481b9a;}}async[a0_0x3c6a8b(0x214)](_0x1765ca){const _0x537c12=a0_0x3c6a8b;try{if(this['dbSettings'][_0x537c12(0x619)]){await this[_0x537c12(0x637)]['deleteOne']({'_id':_0x1765ca});return;}}catch(_0x2e1cd8){return{'error':_0x2e1cd8};}}async[a0_0x3c6a8b(0x217)](_0x3ab31f){const _0x35c193=a0_0x3c6a8b;try{if(this['dbSettings'][_0x35c193(0x619)])return await this[_0x35c193(0x637)][_0x35c193(0x23a)]({'_id':_0x3ab31f});}catch{return{};}}},Xt=class extends D{constructor(_0x362ef0,_0x90ef7e){const _0x41145f=a0_0x3c6a8b;super(_0x90ef7e),this[_0x41145f(0x33c)]=_0x362ef0,this[_0x41145f(0x305)]=_0x90ef7e,this['auth']=_0x90ef7e[_0x41145f(0x37f)](_0x41145f(0x555));}async[a0_0x3c6a8b(0x748)](_0x16c241,_0x203d0d){const _0x40103e=a0_0x3c6a8b;try{if(this['dbSettings'][_0x40103e(0x619)])return{'insertCount':(await this[_0x40103e(0x33c)]['updateOne']({'_id':_0x203d0d},{'$set':{..._0x16c241}},{'upsert':!0x0}))[_0x40103e(0x215)]};}catch(_0x1eb765){return{'error':_0x1eb765};}}async[a0_0x3c6a8b(0x5d6)](_0x5b8812,_0x589e25){const _0x46712c=a0_0x3c6a8b;try{if(this[_0x46712c(0x5ae)]['ENABLED'])return{'insertCount':(await this[_0x46712c(0x33c)]['updateMany'](_0x5b8812,{'$set':_0x589e25},{'upsert':!0x1}))[_0x46712c(0x215)]};throw new Error(_0x46712c(0x263));}catch(_0x5c6edf){return{'error':_0x5c6edf};}}async['deleteMany'](_0xf9a356){const _0x31aca5=a0_0x3c6a8b;try{if(this[_0x31aca5(0x5ae)][_0x31aca5(0x619)])return{'insertCount':(await this['authModel'][_0x31aca5(0x5f2)](_0xf9a356))['deletedCount']};throw new Error(_0x31aca5(0x263));}catch(_0x41be1c){return{'error':_0x41be1c};}}async['delete'](_0x5ad1cf){const _0x2d1308=a0_0x3c6a8b;try{if(this[_0x2d1308(0x5ae)][_0x2d1308(0x619)]){await this[_0x2d1308(0x33c)][_0x2d1308(0x687)]({'_id':_0x5ad1cf});return;}}catch(_0x2eeb21){return{'error':_0x2eeb21};}}async[a0_0x3c6a8b(0x217)](_0x2e05d6){const _0x3087bd=a0_0x3c6a8b;try{if(this[_0x3087bd(0x5ae)][_0x3087bd(0x619)])return await this[_0x3087bd(0x33c)]['findOne']({'_id':_0x2e05d6});}catch{return{};}}async['findAll'](){const _0x5b4641=a0_0x3c6a8b;try{if(this[_0x5b4641(0x5ae)][_0x5b4641(0x619)])return await this['authModel']['find']();}catch{return[];}}},Zt=class extends D{[a0_0x3c6a8b(0x6b6)](_0x24f0c0){return pa(_0x24f0c0);}async[a0_0x3c6a8b(0x58d)](_0x27cc90){const _0x295abd=a0_0x3c6a8b;try{let _0xeeed27=ha,_0xc8d3ce=this[_0x295abd(0x6b6)](_0x27cc90),_0x2dc35e=await _0xeeed27[_0x295abd(0x217)]({'owner':_0x27cc90})['lean'](),_0x29b4b9=[],_0x5d1505=[];for(let _0x475e85 of _0x2dc35e)await _0xc8d3ce[_0x295abd(0x12f)](_0x475e85[_0x295abd(0x54e)])[_0x295abd(0x463)]()||(_0x29b4b9[_0x295abd(0x799)](_0x475e85),_0x5d1505[_0x295abd(0x799)](_0x475e85[_0x295abd(0x54e)]));return _0x29b4b9[_0x295abd(0x3ca)]>0x0&&await _0xc8d3ce['insertMany'](_0x29b4b9,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2a98e9){return console['error'](_0x295abd(0x321),_0x2a98e9),{'success':!0x1,'error':_0x2a98e9};}}async[a0_0x3c6a8b(0x214)](_0x127bb1,_0x1b4879){const _0x214523=a0_0x3c6a8b;try{let _0x298ef9=this[_0x214523(0x6b6)](_0x1b4879),_0x2a43d2=A(_0x127bb1[_0x214523(0x178)]);return{'deletedCount':(await _0x298ef9['deleteMany'](_0x2a43d2))[_0x214523(0x332)]};}catch(_0x4bc13a){return{'error':_0x4bc13a?.['toString']()};}}async[a0_0x3c6a8b(0x687)](_0x48051c,_0x54eb8d){const _0x5af32f=a0_0x3c6a8b;try{let _0x313289=this[_0x5af32f(0x6b6)](_0x54eb8d),_0x7c204=A(_0x48051c[_0x5af32f(0x178)]);return{'deletedCount':(await _0x313289[_0x5af32f(0x687)](_0x7c204))['deletedCount']};}catch(_0x3ade30){return{'error':_0x3ade30?.[_0x5af32f(0x341)]()};}}async[a0_0x3c6a8b(0x42d)](_0x2f0cb8,_0x45ae89,_0x3ff363){const _0x1036e6=a0_0x3c6a8b;try{let _0x236f4c=await this[_0x1036e6(0x6b6)](_0x3ff363)[_0x1036e6(0x689)](_0x2f0cb8,_0x45ae89,{'overwrite':!0x0,'new':!0x0});return _0x236f4c||(console['error'](_0x1036e6(0x664),_0x2f0cb8),null);}catch(_0x2f0c1f){return console['error'](_0x1036e6(0x7a5),_0x2f0c1f),null;}}async['updateOne'](_0x11b0e8,_0x20befe,_0x283ea9){const _0x1564a9=a0_0x3c6a8b;try{let _0x114f7f=await this['getFlowModelForOwner'](_0x283ea9)[_0x1564a9(0x12f)](_0x11b0e8);return _0x114f7f?(Object[_0x1564a9(0x273)](_0x114f7f,_0x20befe),await _0x114f7f[_0x1564a9(0x41b)]()):(console[_0x1564a9(0x426)](_0x1564a9(0x5ac),_0x11b0e8),null);}catch(_0x52147d){return console[_0x1564a9(0x426)](_0x1564a9(0x7a5),_0x52147d),null;}}async[a0_0x3c6a8b(0x59d)](_0x31d78f){const _0x31e17d=a0_0x3c6a8b;try{let _0x2f5c83=this['getFlowModelForOwner'](_0x31d78f),_0x47bef6={'shareOwners':{'$exists':!0x1}},_0x3b0558={'$set':{'shareOwners':[]}};return(await _0x2f5c83[_0x31e17d(0x2c3)](_0x47bef6,_0x3b0558))[_0x31e17d(0x215)];}catch(_0x1cd10f){return console['error'](_0x1cd10f),0x0;}}async[a0_0x3c6a8b(0x541)](_0x3b5dcc,_0x324012){const _0x5bc82b=a0_0x3c6a8b;try{let _0x57a2a5=this[_0x5bc82b(0x6b6)](_0x324012);return await new _0x57a2a5(_0x3b5dcc)[_0x5bc82b(0x41b)]();}catch(_0x3c6e9b){return console['error'](_0x5bc82b(0x16a),_0x3c6e9b),null;}}async[a0_0x3c6a8b(0x2c3)](_0x441935,_0x47c50b,_0x257f5c){const _0x5ac7ed=a0_0x3c6a8b;try{return{'modifiedCount':(await this[_0x5ac7ed(0x6b6)](_0x257f5c)[_0x5ac7ed(0x2c3)](_0x441935,{'$set':_0x47c50b}))[_0x5ac7ed(0x215)]};}catch(_0xfa54cb){return console[_0x5ac7ed(0x426)](_0x5ac7ed(0x4ea),_0xfa54cb),{'error':_0xfa54cb};}}async['findAll'](_0x5de018,_0x136859){const _0x55f330=a0_0x3c6a8b;try{let _0x1d10d4=this[_0x55f330(0x6b6)](_0x136859),_0x46f31d=A(_0x5de018[_0x55f330(0x178)]);return await _0x1d10d4['find'](_0x46f31d)[_0x55f330(0x15e)](_0x5de018?.[_0x55f330(0x15e)]??0x0)[_0x55f330(0x463)]();}catch{return[];}}async[a0_0x3c6a8b(0x23a)](_0x1060d6,_0x3c5ce1){const _0x7093cb=a0_0x3c6a8b;try{let _0x151e64=this['getFlowModelForOwner'](_0x3c5ce1),_0x5ad5ae=A(_0x1060d6[_0x7093cb(0x178)]);return await _0x151e64['findOne'](_0x5ad5ae)[_0x7093cb(0x463)]();}catch{return null;}}async[a0_0x3c6a8b(0x559)](_0xfa6289){const _0x32bb26=a0_0x3c6a8b;try{return await this['getFlowModelForOwner'](_0xfa6289)[_0x32bb26(0x550)][_0x32bb26(0x4d0)](),{'success':!0x0};}catch(_0x244809){return console[_0x32bb26(0x426)](_0x244809),{'success':!0x1,'error':_0x244809};}}},es=class extends D{[a0_0x3c6a8b(0x489)](_0x42c6a3){return ma(_0x42c6a3);}async[a0_0x3c6a8b(0x58d)](_0x2f2812){const _0x14e66d=a0_0x3c6a8b;try{let _0x175bc1=fa,_0x3a7d51=this[_0x14e66d(0x489)](_0x2f2812),_0x1938b6=await _0x175bc1[_0x14e66d(0x217)]({'owner':_0x2f2812})[_0x14e66d(0x463)](),_0x314b7c=[],_0x1de155=[];for(let _0xda52db of _0x1938b6)await _0x3a7d51['findById'](_0xda52db[_0x14e66d(0x54e)])[_0x14e66d(0x463)]()||(_0x314b7c['push'](_0xda52db),_0x1de155[_0x14e66d(0x799)](_0xda52db[_0x14e66d(0x54e)]));return _0x314b7c[_0x14e66d(0x3ca)]>0x0&&await _0x3a7d51['insertMany'](_0x314b7c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x59e92f){return console['error'](_0x14e66d(0x321),_0x59e92f),{'success':!0x1,'error':_0x59e92f};}}async[a0_0x3c6a8b(0x2c8)](_0x1f5197){const _0x5d07d2=a0_0x3c6a8b;if(_0x1f5197[_0x5d07d2(0x3ca)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x1f5197[0x0][_0x5d07d2(0x270)])[_0x5d07d2(0x622)]([..._0x1f5197]))['length']};}catch(_0x36900b){return _0x36900b;}}async[a0_0x3c6a8b(0x214)](_0x40faf8,_0x3d5baa){const _0x2a0ea3=a0_0x3c6a8b;try{let _0x223304=this['getConversationModelForOwner'](_0x3d5baa),_0x4e2bfc=A(_0x40faf8[_0x2a0ea3(0x178)]);return{'deletedCount':(await _0x223304[_0x2a0ea3(0x5f2)](_0x4e2bfc))[_0x2a0ea3(0x332)]};}catch(_0x137c7f){return{'error':_0x137c7f?.[_0x2a0ea3(0x341)]()};}}async['deleteOne'](_0x2f57cc,_0x43fe89){const _0x5a1f3e=a0_0x3c6a8b;try{let _0x64aa4f=this['getConversationModelForOwner'](_0x43fe89),_0x8d9dcd=A(_0x2f57cc[_0x5a1f3e(0x178)]);return{'deletedCount':(await _0x64aa4f[_0x5a1f3e(0x687)](_0x8d9dcd))['deletedCount']};}catch(_0x238d73){return{'error':_0x238d73?.[_0x5a1f3e(0x341)]()};}}async[a0_0x3c6a8b(0x5be)](_0x59732a,_0xcaf804){const _0x514ca6=a0_0x3c6a8b;try{if(_0x59732a[_0x514ca6(0x3ca)]===0x0)return;let _0x2a7987=this[_0x514ca6(0x489)](_0xcaf804),_0x1104fa=_0x59732a[_0x514ca6(0x177)](_0x5953f7=>({'updateOne':{'filter':{'name':_0x5953f7[_0x514ca6(0x4e1)],'owner':_0xcaf804},'update':{..._0x5953f7}}})),{modifiedCount:_0x1ea41f}=await _0x2a7987[_0x514ca6(0x6e0)](_0x1104fa);return{'insertCount':_0x1ea41f};}catch{return;}}async['updateMany'](_0x33aaad,_0x4d5d1d,_0x43bfc5){const _0x2523a2=a0_0x3c6a8b;try{return{'modifiedCount':(await this[_0x2523a2(0x489)](_0x43bfc5)[_0x2523a2(0x2c3)](_0x33aaad,{'$set':_0x4d5d1d}))['modifiedCount']};}catch(_0xdeaead){return console[_0x2523a2(0x426)](_0x2523a2(0x67d),_0xdeaead),{'error':_0xdeaead};}}async[a0_0x3c6a8b(0x119)](_0x182f14,_0x208af6,_0x445d61){const _0x13e03a=a0_0x3c6a8b;try{return await this[_0x13e03a(0x489)](_0x445d61)[_0x13e03a(0x4f3)]({'_id':_0x182f14},{'$set':_0x208af6},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x2b8e21){return console[_0x13e03a(0x426)](_0x2b8e21),null;}}async[a0_0x3c6a8b(0x217)](_0x97b8c2,_0x3c0375){const _0x5f2a37=a0_0x3c6a8b;try{return await this[_0x5f2a37(0x489)](_0x3c0375)[_0x5f2a37(0x217)](_0x97b8c2)[_0x5f2a37(0x6c3)]({'lastInteraction':-0x1})[_0x5f2a37(0x463)]();}catch{return[];}}async['findOne'](_0x63002b,_0x9cf3c6){const _0x594e77=a0_0x3c6a8b;try{return await this['getConversationModelForOwner'](_0x9cf3c6)[_0x594e77(0x23a)]({..._0x63002b[_0x594e77(0x178)]})[_0x594e77(0x463)]();}catch{return null;}}async[a0_0x3c6a8b(0x559)](_0x3a5366){const _0x29ff9a=a0_0x3c6a8b;try{return await this[_0x29ff9a(0x489)](_0x3a5366)[_0x29ff9a(0x550)][_0x29ff9a(0x4d0)](),{'success':!0x0};}catch(_0xd5fa51){return console['error'](_0xd5fa51),{'success':!0x1,'error':_0xd5fa51};}}},ts=class extends D{[a0_0x3c6a8b(0x6d2)](_0x5a1e4a){return ya(_0x5a1e4a);}async['copyDataToNewModel'](_0xc6b24){const _0x1fe560=a0_0x3c6a8b;try{let _0x1a3cd6=ba,_0xca64f8=this[_0x1fe560(0x6d2)](_0xc6b24),_0x11f7bf=await _0x1a3cd6[_0x1fe560(0x217)]({'owner':_0xc6b24})[_0x1fe560(0x463)](),_0x3e41a5=[],_0x12ac17=[];for(let _0x4c03cf of _0x11f7bf)await _0xca64f8[_0x1fe560(0x12f)](_0x4c03cf['_id'])[_0x1fe560(0x463)]()||(_0x3e41a5[_0x1fe560(0x799)](_0x4c03cf),_0x12ac17[_0x1fe560(0x799)](_0x4c03cf[_0x1fe560(0x54e)]));return _0x3e41a5[_0x1fe560(0x3ca)]>0x0&&await _0xca64f8['insertMany'](_0x3e41a5,{'ordered':!0x1}),{'success':!0x0};}catch(_0x31bcc3){return console[_0x1fe560(0x426)](_0x1fe560(0x321),_0x31bcc3),{'success':!0x1,'error':_0x31bcc3};}}async['createAndSave'](_0xa4e910,_0x50678a){const _0x1706d8=a0_0x3c6a8b;try{let _0xcd1082=this['getScheduleMessageModelForOwner'](_0x50678a);return await new _0xcd1082(_0xa4e910)[_0x1706d8(0x41b)]();}catch(_0x43f2ca){return console[_0x1706d8(0x426)](_0x1706d8(0x16a),_0x43f2ca),null;}}async['deleteOne'](_0x53b26a,_0x5318b4){const _0x36c29f=a0_0x3c6a8b;try{return await this[_0x36c29f(0x6d2)](_0x5318b4)['findByIdAndDelete'](_0x53b26a),{};}catch(_0x90fa4){return{'error':_0x90fa4?.[_0x36c29f(0x341)]()};}}async['updateOne'](_0x54f4b4,_0xb0ae75,_0x5b0621){const _0x1621c9=a0_0x3c6a8b;try{return await this[_0x1621c9(0x6d2)](_0x5b0621)[_0x1621c9(0x4f3)](_0x54f4b4,{'$set':_0xb0ae75},{'new':!0x0})[_0x1621c9(0x463)]();}catch(_0x4b69ba){return console['error'](_0x1621c9(0x477),_0x4b69ba),null;}}async[a0_0x3c6a8b(0x37d)](_0x49c26d,_0x162bd8,_0x26dd91){const _0x2ac918=a0_0x3c6a8b;try{return await this[_0x2ac918(0x6d2)](_0x26dd91)[_0x2ac918(0x689)](_0x49c26d,_0x162bd8,{'new':!0x0})['lean']();}catch(_0x5ce5ef){return console['error'](_0x2ac918(0x477),_0x5ce5ef),null;}}async[a0_0x3c6a8b(0x217)](_0x2aa96d,_0x3b89d2){const _0x1f8b1b=a0_0x3c6a8b;try{return await this['getScheduleMessageModelForOwner'](_0x3b89d2)['find'](_0x2aa96d[_0x1f8b1b(0x178)])[_0x1f8b1b(0x15e)](_0x2aa96d?.[_0x1f8b1b(0x15e)]??0x0)['sort']({'when':0x1})[_0x1f8b1b(0x463)]();}catch{return[];}}async[a0_0x3c6a8b(0x23a)](_0x37440e,_0x5ab497){const _0x1f9460=a0_0x3c6a8b;try{return await this['getScheduleMessageModelForOwner'](_0x5ab497)['findOne'](_0x37440e[_0x1f9460(0x178)])[_0x1f9460(0x6c3)]({'when':0x1})[_0x1f9460(0x463)]();}catch{return null;}}async[a0_0x3c6a8b(0x12f)](_0x58127e,_0x3c94e4){const _0x3b939b=a0_0x3c6a8b;try{return await this[_0x3b939b(0x6d2)](_0x3c94e4)[_0x3b939b(0x12f)](_0x58127e)[_0x3b939b(0x463)]();}catch{return null;}}async[a0_0x3c6a8b(0x5f2)](_0x256176,_0x33680c){const _0x52a731=a0_0x3c6a8b;try{return{'deletedCount':(await this[_0x52a731(0x6d2)](_0x33680c)[_0x52a731(0x5f2)](_0x256176))[_0x52a731(0x332)]};}catch(_0x591e18){return console[_0x52a731(0x426)](_0x52a731(0x691),_0x591e18),{'error':_0x591e18};}}async[a0_0x3c6a8b(0x559)](_0x42e0a2){const _0x1eda58=a0_0x3c6a8b;try{return await this['getScheduleMessageModelForOwner'](_0x42e0a2)[_0x1eda58(0x550)][_0x1eda58(0x4d0)](),{'success':!0x0};}catch(_0x446175){return console[_0x1eda58(0x426)](_0x446175),{'success':!0x1,'error':_0x446175};}}},ss=class extends D{async['update'](_0x550846,_0x57c5d1){const _0x5f350d=a0_0x3c6a8b;try{if(this[_0x5f350d(0x5ae)][_0x5f350d(0x619)]){let _0x274ca1=await Fe['findOneAndUpdate']({'_id':_0x57c5d1},{'$set':_0x550846},{'new':!0x0});return console[_0x5f350d(0x1f7)](_0x5f350d(0x567),_0x274ca1),_0x274ca1;}}catch(_0x4c983b){throw console[_0x5f350d(0x426)](_0x5f350d(0x65c),_0x4c983b),_0x4c983b;}}async['findOrCreate'](_0x343cff){const _0x3e3183=a0_0x3c6a8b;try{let _0x5e467d=await Fe[_0x3e3183(0x12f)](_0x343cff);return _0x5e467d||(_0x5e467d=new Fe({'_id':_0x343cff}),await _0x5e467d[_0x3e3183(0x41b)]()),_0x5e467d;}catch(_0x3034ab){return console[_0x3e3183(0x426)](_0x3e3183(0x51c),_0x3034ab),null;}}},Ti=new v(a0_0x3c6a8b(0x590)),Oi=new Je(b),Ai=new Ut(b),Ii=new tt(b),xi=new qt(Zs,b),Di=new Yt(oa,b),_i=new Xt(aa,b),Pi=new Zt(b),$i=new Jt(b),ki=new es(b),Li=new ts(b),ji=new ss(b),ue=new Ue(Oi,Ai,Ii,xi,Di,_i,Pi,ki,$i,Li,ji,T?.[a0_0x3c6a8b(0x5c4)]()),B=new Ft(cs,b,ue),Fi=new Wt(b,B,ue),Ui=new Ht(B),Cs=new Qt(Ui),I=new Kt(B),oe=new Bt(B,b,ue,cs,Fi),G=new Gt(B),_=new Vt(B),j=new zt(B);Ti['info'](a0_0x3c6a8b(0x3b5));var _h=require(a0_0x3c6a8b(0x7da)),$s=require('fs'),Dr=O(require(a0_0x3c6a8b(0x716))),_r=O(require(a0_0x3c6a8b(0x733))),Oe=class c{static #e;static set[a0_0x3c6a8b(0x6ce)](_0x4a1392){this.#e=_0x4a1392;}static get[a0_0x3c6a8b(0x716)](){const _0x44bd8c=a0_0x3c6a8b;let {FULLCHAIN:_0x27a80e,PRIVKEY:_0x398795}=b[_0x44bd8c(0x37f)](_0x44bd8c(0x404));return Dr['createServer']({'cert':(0x0,$s[_0x44bd8c(0x3c2)])(_0x27a80e),'key':(0x0,$s[_0x44bd8c(0x3c2)])(_0x398795)},c.#e);}static get[a0_0x3c6a8b(0x733)](){return _r['createServer'](c.#e);}},pe=O(require('fs')),Fr=O(require(a0_0x3c6a8b(0x756))),Ae=O(require(a0_0x3c6a8b(0x311))),xe=O(require(a0_0x3c6a8b(0x1fd))),De=require(a0_0x3c6a8b(0x704));function qi(){const _0x315d3b=a0_0x3c6a8b;B[_0x315d3b(0x560)]();let _0x1b66cf=xe[_0x315d3b(0x4f5)][_0x315d3b(0x4a6)](__dirname,'downloads');jr(_0x1b66cf);}var jr=_0x1f545f=>{const _0x4f6f82=a0_0x3c6a8b;let _0x507ca7=pe[_0x4f6f82(0x4f5)][_0x4f6f82(0x679)](_0x1f545f),_0x1147f2=0xc*0x3c*0x3c*0x3e8,_0x4ec1f7=0x2*0x3c*0x3c*0x3e8,_0x22a80c=new Date()['getTime']();_0x507ca7[_0x4f6f82(0x471)](_0x1670f0=>{const _0x4c6df6=_0x4f6f82;let _0x43315a=xe[_0x4c6df6(0x4f5)][_0x4c6df6(0x4a6)](_0x1f545f,_0x1670f0),_0x2271bf=pe['default'][_0x4c6df6(0x314)](_0x43315a)[_0x4c6df6(0x19f)][_0x4c6df6(0x722)]();_0x22a80c-_0x2271bf>_0x1147f2&&(pe[_0x4c6df6(0x4f5)][_0x4c6df6(0x513)](_0x43315a),console['log']('Deleted\x20'+_0x1670f0));}),setTimeout(()=>jr(_0x1f545f),_0x4ec1f7);};function Ji(){const _0x4e4e06=a0_0x3c6a8b;let _0x3229b9=new v(_0x4e4e06(0x734)),_0x48caec=(0x0,he[_0x4e4e06(0x4f5)])();_0x48caec[_0x4e4e06(0x3c5)]((0x0,Lr[_0x4e4e06(0x4f5)])({'origin'(_0x3c77cb,_0x425f20){const _0x71ecce=_0x4e4e06;let {ORIGIN:_0x557625}=b[_0x71ecce(0x37f)]('CORS');return _0x3c77cb||(_0x3c77cb='*'),_0x557625[_0x71ecce(0x353)]('*')!==-0x1||_0x557625[_0x71ecce(0x353)](_0x3c77cb)!==-0x1?_0x425f20(null,!0x0):_0x425f20(new Error(_0x71ecce(0x69a)));},'methods':[...b[_0x4e4e06(0x37f)](_0x4e4e06(0x2dc))[_0x4e4e06(0x521)]],'credentials':b['get'](_0x4e4e06(0x2dc))[_0x4e4e06(0x53e)]}),(0x0,he[_0x4e4e06(0x24a)])({'extended':!0x0,'limit':_0x4e4e06(0x63d)}),(0x0,he[_0x4e4e06(0x390)])({'limit':_0x4e4e06(0x63d)})),_0x48caec[_0x4e4e06(0x3c5)]((_0x46671b,_0x40e9a3,_0x1e8ca1)=>{const _0x5c3959=_0x4e4e06;_0x46671b[_0x5c3959(0x1fd)]['startsWith'](_0x5c3959(0x258))?_0x1e8ca1():(0x0,kr['default'])()(_0x46671b,_0x40e9a3,_0x1e8ca1);}),_0x48caec[_0x4e4e06(0x16f)](_0x4e4e06(0x5fe),_0x4e4e06(0x398)),_0x48caec[_0x4e4e06(0x16f)](_0x4e4e06(0x7c4),(0x0,Ls[_0x4e4e06(0x4a6)])(ie,_0x4e4e06(0x7c4))),_0x48caec[_0x4e4e06(0x3c5)](he['default'][_0x4e4e06(0x430)]((0x0,Ls['join'])(ie,'public'))),_0x48caec[_0x4e4e06(0x3c5)]((_0x2d755b,_0x22a0c5,_0xab276c)=>{const _0x51c3bc=_0x4e4e06;let _0x4b56b3=_0x22a0c5[_0x51c3bc(0x266)];_0x22a0c5['send']=function(_0x1bc988){const _0x1d329=_0x51c3bc;if(_0x2d755b[_0x1d329(0x692)]['convert']===_0x1d329(0x4d7)||_0x2d755b[_0x1d329(0x5e3)][_0x1d329(0x532)]==='true'){let _0xf6f724=JSON[_0x1d329(0x568)](_0x1bc988);_0x1bc988=JSON['stringify'](_0x20e5f1(_0xf6f724));}return _0x4b56b3[_0x1d329(0x46a)](_0x22a0c5,[_0x1bc988]);},_0xab276c();}),_0x48caec[_0x4e4e06(0x3c5)]('/',At),_0x48caec[_0x4e4e06(0x3c5)]((_0x3b63a3,_0x532adc,_0x3da968,_0x10b68c)=>{const _0x21b790=_0x4e4e06;if(_0x3b63a3)return _0x3da968[_0x21b790(0x6e3)](_0x3b63a3[_0x21b790(0x6e3)]||0x1f4)['json'](_0x3b63a3);},(_0x4e313b,_0x46f139,_0x400cb6)=>{const _0x4d15ce=_0x4e4e06;let {method:_0x32cfe4,url:_0x44997c}=_0x4e313b;_0x46f139[_0x4d15ce(0x6e3)](0x194)[_0x4d15ce(0x390)]({'status':0x194,'message':_0x4d15ce(0x73e)+_0x32cfe4[_0x4d15ce(0x21a)]()+'\x20'+_0x44997c,'error':_0x4d15ce(0x1ac)}),_0x400cb6();});let _0x20e5f1=(_0x756154,_0x404ebc='_p_')=>{const _0xdfae8=_0x4e4e06;let _0x4ab9f8=(_0x1c8432,_0x3cff0d=null,_0x41e454=!0x1)=>{const _0x367bcb=a0_0xccf1;let _0x595280={};return Object[_0x367bcb(0x4c8)](_0x1c8432)['forEach'](_0x3814a3=>{const _0x1591d7=_0x367bcb;let _0x190f10=_0x1c8432[_0x3814a3],_0x39aeec=''+_0x404ebc+_0x3814a3;_0x3cff0d&&!_0x41e454&&(_0x39aeec=_0x3cff0d+'.'+_0x3814a3),!_0x190f10&&_0x190f10!==0x0&&_0x190f10!==!0x1||typeof _0x190f10>'u'?_0x595280[_0x39aeec]=null:typeof _0x190f10!=_0x1591d7(0x26c)&&!Array[_0x1591d7(0x180)](_0x190f10)?_0x595280[_0x39aeec]=_0x190f10:typeof _0x190f10==_0x1591d7(0x26c)&&!Array[_0x1591d7(0x180)](_0x190f10)?_0x595280=Object[_0x1591d7(0x273)](_0x595280,_0x4ab9f8(_0x190f10,_0x39aeec)):Array['isArray'](_0x190f10)&&(typeof _0x190f10[0x0]==_0x1591d7(0x26c)?(_0x595280[_0x39aeec]=[],_0x190f10['forEach'](_0x5dff2a=>{const _0x32a9b6=_0x1591d7;_0x595280[_0x39aeec][_0x32a9b6(0x799)](_0x4ab9f8(_0x5dff2a,_0x39aeec,!0x0));})):_0x595280[_0x39aeec]=_0x190f10);}),_0x595280;};return Array[_0xdfae8(0x180)](_0x756154)?_0x756154[_0xdfae8(0x177)](_0x415d25=>_0x4ab9f8(_0x415d25)):typeof _0x756154==_0xdfae8(0x26c)&&_0x756154!==null?_0x4ab9f8(_0x756154):{};},_0x5956f4=b[_0x4e4e06(0x37f)](_0x4e4e06(0x734));Oe['app']=_0x48caec;let _0x3085ef=Oe[_0x5956f4['TYPE']],_0x9fc0cc=_0x4e4e06(0x6f2);_0x3085ef[_0x4e4e06(0x700)](_0x5956f4['PORT'],()=>{const _0x2f34d1=_0x4e4e06;_0x3229b9[_0x2f34d1(0x1f7)](_0x9fc0cc),_0x3229b9[_0x2f34d1(0x1f7)](_0x5956f4[_0x2f34d1(0x7ae)]['toUpperCase']()+_0x2f34d1(0x335)+_0x5956f4[_0x2f34d1(0x6ed)]);}),qi(),zs();}var Vi='https://github.com/uazapi/uazapi.git',Bi=xe[a0_0x3c6a8b(0x4f5)][a0_0x3c6a8b(0x4a6)](__dirname,a0_0x3c6a8b(0x3a8)),Ie=null;function Gi(){return new Promise((_0xe74e12,_0xf57682)=>{const _0x53206f=a0_0xccf1;pe[_0x53206f(0x4f5)][_0x53206f(0x70f)](Bi,_0x53206f(0x747),(_0x4fe40d,_0x55fe96)=>{const _0xce5fe6=_0x53206f;if(_0x4fe40d){Ie=_0x4fe40d,_0xe74e12();return;}Fr[_0xce5fe6(0x4f5)][_0xce5fe6(0x568)](_0x55fe96)[_0xce5fe6(0x47e)][_0xce5fe6(0x415)]===Vi?(Ie=null,_0xe74e12()):(Ie=new Error(_0xce5fe6(0x610)),_0xe74e12());});});}async function Wi(){const _0x1e5029=a0_0x3c6a8b;try{await Gi(),await js();}catch(_0x2b54ef){console[_0x1e5029(0x426)](_0x1e5029(0x7c7)+_0x2b54ef),process[_0x1e5029(0x308)](0x1);}}Wi();async function Ur(){const _0xd03b50=a0_0x3c6a8b;let _0x499977;try{_0x499977=(await Ae[_0xd03b50(0x4f5)][_0xd03b50(0x37f)](_0xd03b50(0x39b)))[_0xd03b50(0x2ea)]['ip'];}catch(_0x5de694){console[_0xd03b50(0x426)](_0x5de694);try{_0x499977=(await Ae[_0xd03b50(0x4f5)][_0xd03b50(0x37f)](_0xd03b50(0x450)))['data']['ip'];}catch(_0x391c0e){console[_0xd03b50(0x426)](_0x391c0e);try{_0x499977=(await Ae[_0xd03b50(0x4f5)][_0xd03b50(0x37f)]('http://checkip.dyndns.org'))[_0xd03b50(0x2ea)][_0xd03b50(0x4e7)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xfdec7d){return console['error'](_0xfdec7d),!0x1;}}}return _0x499977;}var Pr=0x0;async function zi(){const _0x5aaca5=a0_0x3c6a8b;let _0x1876dc=await new ne(b[_0x5aaca5(0x37f)](_0x5aaca5(0x2d6)))[_0x5aaca5(0x786)]();return console[_0x5aaca5(0x1f7)]('instancias:\x20',_0x1876dc[_0x5aaca5(0x3ca)]),_0x1876dc[_0x5aaca5(0x3ca)];}function Hi(_0x23e053){const _0x479adf=a0_0x3c6a8b;let _0x2799f4=_0x23e053[_0x479adf(0x37f)](_0x479adf(0x734))['URL'],_0x13734b=_0x23e053[_0x479adf(0x37f)](_0x479adf(0x404)),_0x34adb5;if(_0x2799f4){let _0x4590de=_0x2799f4[_0x479adf(0x4e7)](/\/\/(.*?)\./);_0x4590de&&_0x4590de[0x1]&&(_0x34adb5=_0x4590de[0x1]);}if(!_0x34adb5&&_0x13734b&&_0x13734b[_0x479adf(0x76b)]){let _0x36a31f=_0x13734b[_0x479adf(0x76b)][_0x479adf(0x176)]('/'),_0x556f00=_0x36a31f[_0x36a31f['length']-0x2];if(_0x556f00){let _0xdac7c1=_0x556f00[_0x479adf(0x176)]('.');_0xdac7c1[_0x479adf(0x3ca)]>0x2&&(_0x34adb5=_0xdac7c1[0x0]);}}return _0x34adb5;}var Ds=Hi(b);async function Ki(){const _0x20065a=a0_0x3c6a8b;let _0x345d42=b[_0x20065a(0x37f)](_0x20065a(0x2d6)),_0x4eac3f=b['get']('AUTHENTICATION')[_0x20065a(0x49f)][_0x20065a(0x3bf)],_0x3fda3d=b['get'](_0x20065a(0x404)),_0x29b4cc=await Ur(),_0x421de7=b[_0x20065a(0x37f)]('SERVER')[_0x20065a(0x6ed)],_0x57e9ee=b[_0x20065a(0x37f)](_0x20065a(0x734))[_0x20065a(0x195)];try{let _0x3ea5c7={'ip':_0x29b4cc||null,'redis_enable':_0x345d42?.['ENABLED']||null,'apikey':_0x4eac3f||null,'ssl':_0x3fda3d?.[_0x20065a(0x6ae)]||null,'lastupdate':qr||null,'port':_0x421de7||null,'gitInstallError':Ie?.[_0x20065a(0x78c)]||null,'url':_0x57e9ee||null};if(console[_0x20065a(0x1f7)](_0x20065a(0x6d9),_0x3ea5c7['ip']),_0x345d42&&_0x345d42[_0x20065a(0x619)]){let _0x5a2e3f=await zi();_0x3ea5c7[_0x20065a(0x3d2)]=_0x5a2e3f||null;}for(let _0x32a2e3 in _0x3ea5c7)_0x3ea5c7['hasOwnProperty'](_0x32a2e3)&&_0x32a2e3!=='ip'&&(_0x3ea5c7[_0x32a2e3]=JSON[_0x20065a(0x6ab)](_0x3ea5c7[_0x32a2e3]));return(await Ae[_0x20065a(0x4f5)][_0x20065a(0x686)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3ea5c7))[_0x20065a(0x2ea)];}catch(_0x72d143){return console['error'](_0x72d143),!0x1;}}var ks=!0x1,qr=0x22f,Qi=0x3,$r=0x1b7740;async function js(){const _0xd755a9=a0_0x3c6a8b;if(!await Ur())return console[_0xd755a9(0x426)](_0xd755a9(0x627)),_0xd755a9(0x6f0);let _0x2e1376=await Ki();if(_0x2e1376){if(_0x2e1376[_0xd755a9(0x218)][_0xd755a9(0x7cc)]===!0x0){let _0x531cab=b[_0xd755a9(0x37f)](_0xd755a9(0x404)),_0x287b72=b[_0xd755a9(0x37f)](_0xd755a9(0x734))[_0xd755a9(0x195)];_0x531cab&&_0x531cab?.[_0xd755a9(0x6ae)]?.['includes']('<subdomain>')&&_0x2e1376['response'][_0xd755a9(0x161)]&&!_0x287b72&&(await Zi(_0x2e1376[_0xd755a9(0x218)]['subdomain'],Xi),await eo('augusto.fcs@gmail.com',_0x2e1376[_0xd755a9(0x218)][_0xd755a9(0x161)]),console['log'](_0xd755a9(0x2d3)),setTimeout(()=>so(),0x2710)),Ie===null&&_0x2e1376[_0xd755a9(0x218)]['last_update']-qr>0x0&&await Yi(),ks||(ks=!0x0,Ji());let _0x362780=0x24*0x3c*0x3c,_0x3079cd=_0x2e1376[_0xd755a9(0x218)][_0xd755a9(0x764)]>_0x362780?_0x362780:_0x2e1376[_0xd755a9(0x218)][_0xd755a9(0x764)],_0x1067b7=Number(_0x3079cd);if(isNaN(_0x1067b7)){console['error'](_0xd755a9(0x70a));return;}let _0xf59866=Math['floor'](_0x1067b7/0xe10),_0xda7086=Math[_0xd755a9(0x334)](_0x1067b7%0xe10/0x3c),_0x1fb509=new Date(Date[_0xd755a9(0x30f)]()+_0x1067b7*0x3e8);setTimeout(js,_0x1067b7*0x3e8);let _0x284b1e=_0x2fa90b=>_0x2fa90b[_0xd755a9(0x341)]()[_0xd755a9(0x288)](0x2,'0'),_0x3e1460=_0xd755a9(0x17d)+_0x284b1e(_0xf59866)+_0xd755a9(0x69d)+_0x284b1e(_0xda7086)+_0xd755a9(0x205)+_0x284b1e(_0x1fb509[_0xd755a9(0x5d7)]())+':'+_0x284b1e(_0x1fb509[_0xd755a9(0x52f)]())+'.';console[_0xd755a9(0x1f7)](_0x3e1460);}else return console[_0xd755a9(0x1f7)](_0xd755a9(0x5f4)),ks&&(console[_0xd755a9(0x1f7)](_0xd755a9(0x6d6)),process['exit']()),_0xd755a9(0x68c);}else{if(Pr++,Pr<Qi)console['log'](_0xd755a9(0x76a)+$r/0xea60+_0xd755a9(0x71d)),setTimeout(js,$r);else return console[_0xd755a9(0x426)](_0xd755a9(0x6af)),_0xd755a9(0x3f5);}}async function Yi(){const _0x54ecad=a0_0x3c6a8b;console[_0x54ecad(0x1f7)](_0x54ecad(0x35d));let _0x26f8b9=(0x0,De['spawn'])(_0x54ecad(0x2d7),{'shell':!0x0});_0x26f8b9[_0x54ecad(0x146)]['on'](_0x54ecad(0x2ea),_0x5d2d08=>{const _0x2e0aa2=_0x54ecad;console[_0x2e0aa2(0x1f7)](_0x2e0aa2(0x4cf)+_0x5d2d08);}),_0x26f8b9['stderr']['on'](_0x54ecad(0x2ea),_0x3bd6e1=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x3bd6e1);}),_0x26f8b9['on'](_0x54ecad(0x308),_0x248005=>{const _0x188d5c=_0x54ecad;_0x248005!==0x0?console[_0x188d5c(0x426)](_0x188d5c(0x123)+_0x248005):console[_0x188d5c(0x1f7)](_0x188d5c(0x486)),console[_0x188d5c(0x1f7)](_0x188d5c(0x366)),setTimeout(()=>process[_0x188d5c(0x308)](),0x2710);});}var Xi=xe[a0_0x3c6a8b(0x4f5)][a0_0x3c6a8b(0x4a6)](__dirname,a0_0x3c6a8b(0x504));async function Zi(_0x9f13d3,_0x334d70){const _0x5a6761=a0_0x3c6a8b;let _0x314aac=to();_0x9f13d3=_0x9f13d3['replace']('.uazapi.dev','');try{let _0x51a68e=pe[_0x5a6761(0x4f5)][_0x5a6761(0x3c2)](_0x334d70,_0x5a6761(0x173));_0x51a68e=_0x51a68e[_0x5a6761(0x5bd)](/<apikey>/,_0x314aac),_0x51a68e=_0x51a68e[_0x5a6761(0x5bd)](/<subdomain>/g,_0x9f13d3),pe['default'][_0x5a6761(0x7b8)](_0x334d70,_0x51a68e,_0x5a6761(0x173)),console[_0x5a6761(0x1f7)](_0x5a6761(0x235));}catch(_0x26a215){console[_0x5a6761(0x426)](_0x5a6761(0x11d),_0x26a215);}}function eo(_0x2e3f40,_0x3003e8){return new Promise((_0x33ed6e,_0x43d1c8)=>{const _0x3860a1=a0_0xccf1;let _0x26daca=(0x0,De[_0x3860a1(0x7e5)])('certbot',[_0x3860a1(0x7d3),_0x3860a1(0x5e5),'-m',_0x2e3f40,'--agree-tos','-d',_0x3003e8]);_0x26daca['stdout']['on'](_0x3860a1(0x2ea),_0x3c7bf9=>{const _0x31245d=_0x3860a1;console[_0x31245d(0x1f7)](_0x31245d(0x588)+_0x3c7bf9[_0x31245d(0x341)]());}),_0x26daca[_0x3860a1(0x74a)]['on']('data',_0x37850d=>{const _0x4b4105=_0x3860a1;console[_0x4b4105(0x426)](_0x4b4105(0x520)+_0x37850d[_0x4b4105(0x341)]());}),_0x26daca['on'](_0x3860a1(0x63a),_0x2e4f21=>{const _0x285aa1=_0x3860a1;_0x2e4f21!==0x0?(console[_0x285aa1(0x426)](_0x285aa1(0x3c9)+_0x2e4f21),_0x43d1c8(_0x285aa1(0x3c9)+_0x2e4f21)):(console[_0x285aa1(0x1f7)](_0x285aa1(0x22a)),_0x33ed6e());});});}function to(_0x562844=0x32){const _0x17c89e=a0_0x3c6a8b;let _0x189213=_0x17c89e(0x153),_0x104263='';for(let _0x188494=0x0;_0x188494<_0x562844;_0x188494++)_0x104263+=_0x189213[_0x17c89e(0x671)](Math[_0x17c89e(0x334)](Math[_0x17c89e(0x5a6)]()*_0x189213[_0x17c89e(0x3ca)]));return _0x104263;}function so(){const _0x546427=a0_0x3c6a8b;(0x0,De[_0x546427(0x5ab)])(_0x546427(0x6ff),(_0x8a4158,_0x74790f,_0xa59ee3)=>{const _0x5cf049=_0x546427;if(_0x8a4158){console[_0x5cf049(0x426)](_0x5cf049(0x5d9)+_0x8a4158);return;}if(_0xa59ee3){console[_0x5cf049(0x426)](_0x5cf049(0x75c)+_0xa59ee3);return;}console['log'](_0x5cf049(0x723)+_0x74790f);});}0x0&&(module['exports']={'subdomain':subdomain});