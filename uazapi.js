const a0_0x40255d=a0_0x2679;(function(_0x3b1698,_0x3073ed){const _0xf8610=a0_0x2679,_0x1cecfc=_0x3b1698();while(!![]){try{const _0x5c2db6=-parseInt(_0xf8610(0x756))/0x1+parseInt(_0xf8610(0x511))/0x2+-parseInt(_0xf8610(0x4fd))/0x3+-parseInt(_0xf8610(0x4f8))/0x4+-parseInt(_0xf8610(0x7e7))/0x5*(-parseInt(_0xf8610(0x34d))/0x6)+-parseInt(_0xf8610(0x724))/0x7*(-parseInt(_0xf8610(0x6f4))/0x8)+parseInt(_0xf8610(0x276))/0x9;if(_0x5c2db6===_0x3073ed)break;else _0x1cecfc['push'](_0x1cecfc['shift']());}catch(_0xe6975c){_0x1cecfc['push'](_0x1cecfc['shift']());}}}(a0_0x52d9,0xac83e));var Hi=Object['create'],We=Object[a0_0x40255d(0x70e)],Ki=Object[a0_0x40255d(0x3ca)],Qi=Object[a0_0x40255d(0x2d5)],Yi=Object[a0_0x40255d(0x689)],Xi=Object[a0_0x40255d(0x152)][a0_0x40255d(0x655)],Zi=(_0x420ff5,_0x3aa4f9)=>{for(var _0x743f3d in _0x3aa4f9)We(_0x420ff5,_0x743f3d,{'get':_0x3aa4f9[_0x743f3d],'enumerable':!0x0});},zs=(_0x3ed607,_0x1c285c,_0x1a81e9,_0x4029d0)=>{const _0x34b725=a0_0x40255d;if(_0x1c285c&&typeof _0x1c285c==_0x34b725(0x480)||typeof _0x1c285c=='function'){for(let _0x4a50da of Qi(_0x1c285c))!Xi['call'](_0x3ed607,_0x4a50da)&&_0x4a50da!==_0x1a81e9&&We(_0x3ed607,_0x4a50da,{'get':()=>_0x1c285c[_0x4a50da],'enumerable':!(_0x4029d0=Ki(_0x1c285c,_0x4a50da))||_0x4029d0['enumerable']});}return _0x3ed607;},A=(_0x21b5aa,_0x2182e5,_0x46ba1b)=>(_0x46ba1b=_0x21b5aa!=null?Hi(Yi(_0x21b5aa)):{},zs(_0x2182e5||!_0x21b5aa||!_0x21b5aa['__esModule']?We(_0x46ba1b,a0_0x40255d(0x437),{'value':_0x21b5aa,'enumerable':!0x0}):_0x46ba1b,_0x21b5aa)),eo=_0x166dd9=>zs(We({},a0_0x40255d(0x3e7),{'value':!0x0}),_0x166dd9),gr={};Zi(gr,{'fullURL':()=>Bs,'subdomain':()=>K}),module['exports']=eo(gr);var qi=A(require('compression')),Ks=require('fs'),Qs=require(a0_0x40255d(0x5a4)),Ys=require(a0_0x40255d(0x45c)),ze=require(a0_0x40255d(0x45c)),ue=process[a0_0x40255d(0x441)](),Me=(0x0,ze['join'])(ue,'instances'),Hs=(0x0,ze['join'])(ue,a0_0x40255d(0x6ca)),sn=(0x0,ze[a0_0x40255d(0x12c)])(ue,'store',a0_0x40255d(0x493)),hs=class{constructor(){const _0x3b27a7=a0_0x40255d;this[_0x3b27a7(0x26f)]();}['get'](_0x1659c8){const _0x40c3b4=a0_0x40255d;return this[_0x40c3b4(0x316)][_0x1659c8];}[a0_0x40255d(0x26f)](){const _0x201d57=a0_0x40255d;this['env']=process['env']?.[_0x201d57(0x704)]!==_0x201d57(0x169)?this[_0x201d57(0x623)]():this[_0x201d57(0x179)](),process[_0x201d57(0x316)]?.[_0x201d57(0x704)]===_0x201d57(0x169)&&(this[_0x201d57(0x316)]['SERVER'][_0x201d57(0x1a4)]='http',this[_0x201d57(0x316)][_0x201d57(0x773)]['PORT']=Number[_0x201d57(0x3f6)](process[_0x201d57(0x316)]?.['SERVER_PORT']??'8080'));}['envYaml'](){const _0x153f01=a0_0x40255d;return(0x0,Qs['load'])((0x0,Ks['readFileSync'])((0x0,Ys[_0x153f01(0x12c)])(Hs,_0x153f01(0x68f)),{'encoding':_0x153f01(0x649)}));}[a0_0x40255d(0x179)](){const _0x4d30c9=a0_0x40255d;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x4d30c9(0x3f6)](process[_0x4d30c9(0x316)][_0x4d30c9(0x2fa)]),'URL':process[_0x4d30c9(0x316)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x4d30c9(0x316)][_0x4d30c9(0x66c)][_0x4d30c9(0x6ce)](','),'METHODS':process[_0x4d30c9(0x316)]['CORS_METHODS'][_0x4d30c9(0x6ce)](','),'CREDENTIALS':process['env']?.[_0x4d30c9(0x32b)]===_0x4d30c9(0x169)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x4d30c9(0x1ca)],'FULLCHAIN':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x1e1)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4d30c9(0x316)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x4d30c9(0x3f6)](process['env'][_0x4d30c9(0x289)]):void 0x0,'MESSAGES':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x628)]==='true','CONTACTS':process['env']?.[_0x4d30c9(0x4e9)]==='true','CHATS':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x49d)]===_0x4d30c9(0x169)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x343)],'PORT':Number[_0x4d30c9(0x3f6)](process[_0x4d30c9(0x316)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env'][_0x4d30c9(0x348)],'PASSWORD':process['env'][_0x4d30c9(0x4c1)],'URI':process['env'][_0x4d30c9(0x4c7)],'DB_PREFIX_NAME':process[_0x4d30c9(0x316)][_0x4d30c9(0x433)]},'ENABLED':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x814)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x4d30c9(0x6f2)]===_0x4d30c9(0x169),'URI':process[_0x4d30c9(0x316)][_0x4d30c9(0x351)]||_0x4d30c9(0x5ce),'PREFIX_KEY':process[_0x4d30c9(0x316)][_0x4d30c9(0x59c)]||_0x4d30c9(0x62b)},'LOG':{'LEVEL':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x1fe)][_0x4d30c9(0x6ce)](','),'COLOR':process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x7ee)]==='true'},'PROXY':process['env']?.[_0x4d30c9(0x504)]===_0x4d30c9(0x169),'AUTHENTICATION':{'TYPE':process[_0x4d30c9(0x316)][_0x4d30c9(0x7cd)],'API_KEY':{'KEY':process[_0x4d30c9(0x316)][_0x4d30c9(0x484)]},'JWT':{'EXPIRIN_IN':Number[_0x4d30c9(0x7f8)](process[_0x4d30c9(0x316)]?.[_0x4d30c9(0x281)])?Number[_0x4d30c9(0x3f6)](process[_0x4d30c9(0x316)][_0x4d30c9(0x281)]):0xe10,'SECRET':process[_0x4d30c9(0x316)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new hs(),Vi=A(require('cors')),be=A(require(a0_0x40255d(0x76b))),Vs=require(a0_0x40255d(0x45c)),gs=A(require('dayjs')),ms=(_0x31bcad=>(_0x31bcad[a0_0x40255d(0x718)]='\x1b[32m',_0x31bcad[a0_0x40255d(0x56e)]=a0_0x40255d(0x2c2),_0x31bcad['WARN']=a0_0x40255d(0x1ed),_0x31bcad[a0_0x40255d(0x6b6)]=a0_0x40255d(0x278),_0x31bcad[a0_0x40255d(0x2aa)]=a0_0x40255d(0x29c),_0x31bcad[a0_0x40255d(0x581)]=a0_0x40255d(0x5f3),_0x31bcad[a0_0x40255d(0x194)]='\x1b[30m',_0x31bcad))(ms||{}),Xs=(_0x15cb8a=>(_0x15cb8a[a0_0x40255d(0x718)]=a0_0x40255d(0x266),_0x15cb8a[a0_0x40255d(0x194)]=a0_0x40255d(0x3a7),_0x15cb8a[a0_0x40255d(0x56e)]='\x1b[34m%s\x1b[0m',_0x15cb8a[a0_0x40255d(0x455)]=a0_0x40255d(0x261),_0x15cb8a['ERROR']=a0_0x40255d(0x4b5),_0x15cb8a['DEBUG']=a0_0x40255d(0x525),_0x15cb8a[a0_0x40255d(0x581)]='\x1b[37m%s\x1b[0m',_0x15cb8a))(Xs||{}),Zs=(_0x39e662=>(_0x39e662[a0_0x40255d(0x718)]=a0_0x40255d(0x718),_0x39e662[a0_0x40255d(0x455)]=a0_0x40255d(0x455),_0x39e662[a0_0x40255d(0x56e)]=a0_0x40255d(0x56e),_0x39e662[a0_0x40255d(0x194)]='DARK',_0x39e662['ERROR']=a0_0x40255d(0x6b6),_0x39e662[a0_0x40255d(0x2aa)]=a0_0x40255d(0x2aa),_0x39e662[a0_0x40255d(0x581)]=a0_0x40255d(0x581),_0x39e662))(Zs||{}),ea=(_0x3681e6=>(_0x3681e6[a0_0x40255d(0x718)]=a0_0x40255d(0x26a),_0x3681e6[a0_0x40255d(0x56e)]=a0_0x40255d(0x210),_0x3681e6[a0_0x40255d(0x455)]='\x1b[43m',_0x3681e6['DARK']='\x1b[40m',_0x3681e6['ERROR']=a0_0x40255d(0x252),_0x3681e6[a0_0x40255d(0x2aa)]=a0_0x40255d(0x67f),_0x3681e6[a0_0x40255d(0x581)]=a0_0x40255d(0x15f),_0x3681e6))(ea||{}),$=class{constructor(_0x5b1e64=a0_0x40255d(0x79f)){this['context']=_0x5b1e64,this['configService']=b;}[a0_0x40255d(0x238)](_0x30719b){this['context']=_0x30719b;}[a0_0x40255d(0x7bc)](_0x48792b,_0x3dc006){const _0x178a6d=a0_0x40255d;let _0x6246e6=[];this[_0x178a6d(0x27d)][_0x178a6d(0x35f)](_0x178a6d(0x718))[_0x178a6d(0x6fc)][_0x178a6d(0x659)](_0x3c61c5=>_0x6246e6[_0x178a6d(0x4f1)](Zs[_0x3c61c5]));let _0x3765e1=typeof _0x48792b;_0x6246e6[_0x178a6d(0x5a1)](_0x3dc006)&&(b['get'](_0x178a6d(0x718))[_0x178a6d(0x19c)]?(console[_0x178a6d(0x18f)](_0x178a6d(0xf1)+Xs[_0x3dc006],_0x178a6d(0x5fd),(0x0,gs[_0x178a6d(0x437)])()[_0x178a6d(0x7af)](_0x178a6d(0x259)),_0x178a6d(0x7bf),ms[_0x3dc006]+ea[_0x3dc006]+_0x178a6d(0xf1),_0x3dc006+_0x178a6d(0x193),'\x1b[33m\x1b[1m',this[_0x178a6d(0x2d4)]+_0x178a6d(0x7bf),ms[_0x3dc006],_0x3765e1!==_0x178a6d(0x480)?_0x48792b:'','\x1b[0m'),_0x3765e1==='object'&&console[_0x178a6d(0x18f)](_0x48792b,'\x0a')):console[_0x178a6d(0x18f)]((0x0,gs['default'])()[_0x178a6d(0x7af)](_0x178a6d(0x7ad)),_0x3dc006+'\x20',''+this[_0x178a6d(0x2d4)],_0x48792b));}[a0_0x40255d(0x18f)](_0x2aaa07){const _0x3e385a=a0_0x40255d;this[_0x3e385a(0x7bc)](_0x2aaa07,_0x3e385a(0x718));}[a0_0x40255d(0x58f)](_0x11bb72){const _0x57a4d0=a0_0x40255d;this[_0x57a4d0(0x7bc)](_0x11bb72,_0x57a4d0(0x56e));}[a0_0x40255d(0x576)](_0x335d87){const _0x108d66=a0_0x40255d;this[_0x108d66(0x7bc)](_0x335d87,_0x108d66(0x455));}[a0_0x40255d(0x6b3)](_0x5ab767){const _0x5ad4c5=a0_0x40255d;this[_0x5ad4c5(0x7bc)](_0x5ab767,_0x5ad4c5(0x6b6));}[a0_0x40255d(0x5ab)](_0x2ffbfb){const _0x16a2cb=a0_0x40255d;this[_0x16a2cb(0x7bc)](_0x2ffbfb,_0x16a2cb(0x581));}[a0_0x40255d(0x6e7)](_0x238274){const _0x1bcd0e=a0_0x40255d;this[_0x1bcd0e(0x7bc)](_0x238274,_0x1bcd0e(0x2aa));}[a0_0x40255d(0x44e)](_0xb78dd5){const _0x5d61a9=a0_0x40255d;this[_0x5d61a9(0x7bc)](_0xb78dd5,_0x5d61a9(0x194));}};function ta(){const _0x2c8887=a0_0x40255d;process['on'](_0x2c8887(0x596),(_0x3cdc8e,_0x4e20f5)=>{const _0x192d90=_0x2c8887;new $(_0x192d90(0x596))[_0x192d90(0x6b3)]({'origin':_0x4e20f5,'stderr':process[_0x192d90(0x25f)]['fd'],'error':_0x3cdc8e});}),process['on'](_0x2c8887(0x543),(_0x31f77e,_0x4615bc)=>{const _0x4dc0b8=_0x2c8887;new $(_0x4dc0b8(0x543))[_0x4dc0b8(0x6b3)]({'origin':_0x4615bc,'stderr':process[_0x4dc0b8(0x25f)]['fd'],'error':_0x31f77e});});}var sa=A(require(a0_0x40255d(0x30f))),fs=new sa[(a0_0x40255d(0x437))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require('mongoose'),Te=A(require(a0_0x40255d(0x40f))),He=new $('Db\x20Connection'),U=b[a0_0x40255d(0x35f)]('DATABASE'),R=U[a0_0x40255d(0x1ef)]?U[a0_0x40255d(0x31d)][a0_0x40255d(0x521)]?Te[a0_0x40255d(0x437)][a0_0x40255d(0x367)](U[a0_0x40255d(0x31d)]['URI'],{'dbName':U[a0_0x40255d(0x31d)][a0_0x40255d(0x495)]+a0_0x40255d(0x813)}):Te[a0_0x40255d(0x437)]['createConnection'](a0_0x40255d(0x6b5)+U['CONNECTION']['HOST']+':'+U[a0_0x40255d(0x31d)][a0_0x40255d(0x3ec)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':U[a0_0x40255d(0x31d)]['USER'],'pass':U[a0_0x40255d(0x31d)][a0_0x40255d(0x4df)],'dbName':U[a0_0x40255d(0x31d)][a0_0x40255d(0x495)]+a0_0x40255d(0x813)}):null;U['ENABLED']&&He[a0_0x40255d(0x58f)](a0_0x40255d(0x551)+R['$dbName']);var de=U[a0_0x40255d(0x1ef)]?U[a0_0x40255d(0x31d)]['URI']?Te[a0_0x40255d(0x437)][a0_0x40255d(0x367)](U[a0_0x40255d(0x31d)][a0_0x40255d(0x521)],{'dbName':a0_0x40255d(0x7ef)}):Te[a0_0x40255d(0x437)][a0_0x40255d(0x367)](a0_0x40255d(0x6b5)+U['CONNECTION'][a0_0x40255d(0x342)]+':'+U['CONNECTION'][a0_0x40255d(0x3ec)]+a0_0x40255d(0x767),{'user':U['CONNECTION']['USER'],'pass':U['CONNECTION'][a0_0x40255d(0x4df)],'dbName':'cachedContacts-whatsapp'}):null;de&&He[a0_0x40255d(0x58f)]('ON\x20-\x20dbName:\x20'+de[a0_0x40255d(0x3f2)]),process['on']('beforeExit',()=>{const _0xe019b6=a0_0x40255d;R&&R['close'](()=>{const _0x5028b4=a0_0x2679;He[_0x5028b4(0x58f)]('Database\x20connection\x20closed.');}),de&&de[_0xe019b6(0x262)](()=>{const _0x32c703=_0xe019b6;He[_0x32c703(0x58f)]('CacheContacts\x20database\x20connection\x20closed.');});});function a0_0x2679(_0x23939d,_0x1eb24b){const _0x52d9bd=a0_0x52d9();return a0_0x2679=function(_0x2679d1,_0x449f63){_0x2679d1=_0x2679d1-0xd5;let _0x5c0691=_0x52d9bd[_0x2679d1];return _0x5c0691;},a0_0x2679(_0x23939d,_0x1eb24b);}var to=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x40255d(0x78c))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),aa=_0x49d878=>{const _0x1c6dbf=a0_0x40255d;let _0x6758a7='z_'+_0x49d878+_0x1c6dbf(0x17d);return R?.['model']('ChatModel',oo,_0x6758a7);},ia=require('mongoose'),ro=new ia[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=_0x42f191=>{const _0x401190=a0_0x40255d;let _0x40608d='z_'+_0x42f191+_0x401190(0x7b3);return R?.['model'](_0x401190(0x3da),ro,_0x40608d);},ra=require(a0_0x40255d(0x40f)),ws=class{},no=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),na=de?.[a0_0x40255d(0x5fe)](ws['name'],no,a0_0x40255d(0x5e9)),ca=require(a0_0x40255d(0x40f)),ys=class{},co=new ca[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=de?.[a0_0x40255d(0x5fe)](ys[a0_0x40255d(0x6cc)],co,a0_0x40255d(0x458)),la=require(a0_0x40255d(0x40f)),lo=new la['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ua=_0x38d8d4=>{const _0x3ed7e6=a0_0x40255d;let _0x42a7da='z_'+_0x38d8d4+'_Messages';return R?.[_0x3ed7e6(0x5fe)](_0x3ed7e6(0x1e3),lo,_0x42a7da);},da=require(a0_0x40255d(0x40f)),bs=class{},uo=new da['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),pa=R?.[a0_0x40255d(0x5fe)](bs[a0_0x40255d(0x6cc)],uo,a0_0x40255d(0x523)),ha=require('mongoose'),Ss=class{},ga=new ha['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ga[a0_0x40255d(0x72a)](a0_0x40255d(0x738),function(_0x3f9eb4){const _0x17fefc=a0_0x40255d;delete this[_0x17fefc(0x6a8)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x17fefc(0x7f5)],delete this[_0x17fefc(0x1cb)],_0x3f9eb4();});var ma=R?.[a0_0x40255d(0x5fe)](Ss[a0_0x40255d(0x6cc)],ga,a0_0x40255d(0x309)),P=require('mongoose'),Ms=require(a0_0x40255d(0x79d)),Qe=class{},Cs=class{},wa=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Es=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new P[(a0_0x40255d(0x78c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x40255d(0x11c)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x40255d(0x674)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x40255d(0x4be)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ya=new P[(a0_0x40255d(0x78c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new P[(a0_0x40255d(0x78c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x40255d(0x78c))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ba=new P[(a0_0x40255d(0x78c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Sa=new P[(a0_0x40255d(0x78c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ma=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x22374a=a0_0x40255d;return _0x22374a(0x737)+Math[_0x22374a(0x23e)]()[_0x22374a(0x334)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x40255d(0x785)},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ma['pre'](a0_0x40255d(0x3bb),function(_0x28e30c){const _0x36f417=a0_0x40255d;let _0x366f2f=this[_0x36f417(0x55b)]();if(_0x366f2f&&typeof _0x366f2f==_0x36f417(0x480)&&_0x36f417(0x55d)in _0x366f2f){let _0x52d78e=_0x366f2f['$set'];if(_0x52d78e){let _0x423d4b=new Set(),_0x49422e=new Set(_0x52d78e[_0x36f417(0x106)]?.[_0x36f417(0x54b)](_0x200dfe=>_0x200dfe['name'])),_0x34cca5=JSON['stringify'](_0x52d78e),_0x3b8584=/{{(?!_)([^}]*)}}/g,_0x102f84;for(;(_0x102f84=_0x3b8584[_0x36f417(0xe5)](_0x34cca5))!==null;)_0x49422e[_0x36f417(0x178)](_0x102f84[0x1])||_0x423d4b[_0x36f417(0x482)](_0x102f84[0x1]);_0x423d4b[_0x36f417(0x67b)]>0x0?(console[_0x36f417(0x576)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x423d4b)),_0x52d78e[_0x36f417(0x29e)]=Array['from'](_0x423d4b)):_0x52d78e[_0x36f417(0x29e)]=[],this[_0x36f417(0x683)]({'$set':_0x52d78e});}}_0x28e30c();});var Ee=R?.[a0_0x40255d(0x5fe)](Cs['name'],Ma,'allFlows'),fo=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x40255d(0x3c6)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x40255d(0x4be)},'waitingMenu_replyOptions':{'type':[Es],'default':[]}}),Ca=_0x492c5d=>{const _0x4b997a=a0_0x40255d;let _0x325336='z_'+_0x492c5d+_0x4b997a(0x357);return R?.['model'](_0x4b997a(0x2f3),wo,_0x325336);},yo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),fa=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[fa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':fa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x4d5aa5=>{const _0xc636f8=a0_0x40255d;let _0x358532='z_'+_0x4d5aa5+_0xc636f8(0x5af);return R?.['model']('ScheduleMessageModel',bo,_0x358532);},vs=class{},So=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x40255d(0x4eb)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new P[(a0_0x40255d(0x78c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Oe=R?.[a0_0x40255d(0x5fe)](vs['name'],No,'AutomateSystem'),va=require(a0_0x40255d(0x40f)),$o=new va[(a0_0x40255d(0x78c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x3800c8=>{const _0x3ff285=a0_0x40255d;let _0x7ecf03='z_'+_0x3800c8+'_Labels';return R?.['model'](_0x3ff285(0x416),$o,_0x7ecf03);},_=class{constructor(_0x4af4c7){const _0x3888b6=a0_0x40255d;this['dbSettings']=_0x4af4c7[_0x3888b6(0x35f)](_0x3888b6(0x303));}};function I(_0x45caaf){const _0x3edc91=a0_0x40255d;let _0x593385={};for(let [_0x17217b,_0x384dd1]of Object[_0x3edc91(0x765)](_0x45caaf))if(typeof _0x384dd1==_0x3edc91(0x480)&&!Array[_0x3edc91(0x246)](_0x384dd1)){for(let [_0x400ac5,_0x215e77]of Object['entries'](_0x384dd1))_0x593385[_0x17217b+'.'+_0x400ac5]=_0x215e77;}else _0x593385[_0x17217b]=_0x384dd1;return _0x593385;}var Ye=class{constructor(_0x234cf0,_0x5dc52b,_0x2868d8,_0x570113,_0x470ab9,_0x2c1505,_0x887061,_0x1e30e7,_0x4f77cb,_0x5c03de,_0x3a10d1,_0x1ccfec,_0x369cc4){const _0xcf4daf=a0_0x40255d;this[_0xcf4daf(0x740)]=_0x234cf0,this[_0xcf4daf(0x708)]=_0x5dc52b,this[_0xcf4daf(0x2b5)]=_0x2868d8,this[_0xcf4daf(0x430)]=_0x570113,this['webhook']=_0x470ab9,this['auth']=_0x2c1505,this[_0xcf4daf(0x30d)]=_0x887061,this['flow']=_0x1e30e7,this[_0xcf4daf(0x336)]=_0x4f77cb,this[_0xcf4daf(0x817)]=_0x5c03de,this[_0xcf4daf(0x3cf)]=_0x3a10d1,this[_0xcf4daf(0xed)]=_0x1ccfec,this[_0xcf4daf(0x5de)]=_0x369cc4;}get[a0_0x40255d(0x546)](){const _0x3fc489=a0_0x40255d;return this[_0x3fc489(0x5de)];}},Xe=class{},Ze=class extends _{[a0_0x40255d(0x4de)](_0x140f5c){return ua(_0x140f5c);}async[a0_0x40255d(0x148)](_0x985244,_0x257b2a){const _0xb38509=a0_0x40255d;if(_0x985244[_0xb38509(0x111)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x257b2a)[_0xb38509(0x4a1)]([..._0x985244]))[_0xb38509(0x111)]};}catch(_0x421fcc){return _0x421fcc;}}async['find'](_0x1b8e11,_0x386bfa){const _0x132c4f=a0_0x40255d;try{let _0x3a030c=this['getMessageModelForOwner'](_0x386bfa),_0x1364d9=I(_0x1b8e11[_0x132c4f(0x81d)]);return await _0x3a030c[_0x132c4f(0x284)](_0x1364d9)[_0x132c4f(0x712)]({'messageTimestamp':-0x1})[_0x132c4f(0x2b6)](_0x1b8e11?.[_0x132c4f(0x2b6)]??0x0)[_0x132c4f(0x10f)]();}catch{return[];}}async[a0_0x40255d(0x5d1)](_0xf21eaa,_0x20f464){const _0x1400fe=a0_0x40255d;try{let _0x59f4f4=this[_0x1400fe(0x4de)](_0x20f464),_0x47a1b8=I(_0xf21eaa[_0x1400fe(0x81d)]);await _0x59f4f4[_0x1400fe(0x4ee)](_0x47a1b8);}catch(_0x498872){console[_0x1400fe(0x6b3)](_0x498872);}}async[a0_0x40255d(0x2d3)](_0x56e06d,_0x402ac6,_0x11123a){const _0xd1a970=a0_0x40255d;try{let _0x35516a=this[_0xd1a970(0x4de)](_0x11123a),_0x370d16=I(_0x56e06d[_0xd1a970(0x81d)]);return await _0x35516a['findOneAndUpdate'](_0x370d16,{'$set':_0x402ac6},{'new':!0x0});}catch(_0x26c430){throw console['error'](_0x26c430),_0x26c430;}}async[a0_0x40255d(0x4a1)](_0x1607d0,_0x3264b5){const _0x534bbf=a0_0x40255d;if(_0x1607d0[_0x534bbf(0x111)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x534bbf(0x4de)](_0x3264b5)[_0x534bbf(0x4a1)]([..._0x1607d0]))['length']};}catch(_0x53fd06){return console['log'](_0x534bbf(0x66d),_0x53fd06),_0x53fd06;}}async[a0_0x40255d(0x53f)](_0x3cbe29){const _0x2501ca=a0_0x40255d;try{return await this[_0x2501ca(0x4de)](_0x3cbe29)[_0x2501ca(0x778)]['drop'](),{'success':!0x0};}catch(_0x49f418){return console['error'](_0x49f418),{'success':!0x1,'error':_0x49f418};}}},Ps=A(require(a0_0x40255d(0x5f5))),w=A(require(a0_0x40255d(0x180))),Ue=require('fs'),j=A(require(a0_0x40255d(0x45c))),te=A(require(a0_0x40255d(0x2e1))),_i=require('uuid'),xi=A(require(a0_0x40255d(0x404))),Di=A(require(a0_0x40255d(0x2eb))),$a=['imageMessage',a0_0x40255d(0x13b),a0_0x40255d(0x36c),a0_0x40255d(0x7db),a0_0x40255d(0x470)],Ra=[a0_0x40255d(0x4b6),a0_0x40255d(0x428),a0_0x40255d(0x809),'viewOnceMessageV2'],ks=require('os'),Vt=A(require(a0_0x40255d(0x2bc))),je=require(a0_0x40255d(0x3af)),Pi=require(a0_0x40255d(0x6bd)),fe=A(require('mongoose')),L=require(a0_0x40255d(0x489)),pe=class{constructor(_0x5b19ee,_0x5bf39c,_0x4c29e8){const _0x4f3ee9=a0_0x40255d;this[_0x4f3ee9(0x277)]=_0x5b19ee,this[_0x4f3ee9(0x22f)]=_0x5bf39c,this[_0x4f3ee9(0x6cc)]=_0x4c29e8;}},et=class{},tt=class{},_e=class{},st=class{},at=class{},ve=class{},it=class{},ot=class{},rt=class{},nt=class{},Lt=A(require(a0_0x40255d(0x76b))),Aa=require('fs'),Ia=require(a0_0x40255d(0x45c));async function xe(_0x1fe597){const _0x2073e8=a0_0x40255d;let _0x3ea725=z[_0x2073e8(0x625)][_0x1fe597];if(U[_0x2073e8(0x1ef)]){let _0x2b0158=R[_0x2073e8(0x173)]()['db'](U[_0x2073e8(0x31d)][_0x2073e8(0x495)]+_0x2073e8(0x4f9))['collection'](_0x1fe597);return _0x3ea725||(await _0x2b0158['find']({})['toArray']())[_0x2073e8(0x111)]>0x0;}return _0x3ea725||(0x0,Aa[_0x2073e8(0x2ac)])((0x0,Ia[_0x2073e8(0x12c)])(Me,_0x1fe597));}async function Ta(_0x1275c9,_0xe1c4dd,_0x2f5e74){const _0x52bf2c=a0_0x40255d;if(_0x1275c9['originalUrl'][_0x52bf2c(0x5a1)](_0x52bf2c(0x509))||_0x1275c9['originalUrl'][_0x52bf2c(0x5a1)](_0x52bf2c(0x797))||_0x1275c9[_0x52bf2c(0x585)]['includes'](_0x52bf2c(0x701))||_0x1275c9['originalUrl'][_0x52bf2c(0x5a1)](_0x52bf2c(0x2ab))||_0x1275c9[_0x52bf2c(0x585)][_0x52bf2c(0x5a1)](_0x52bf2c(0x1a6))||_0x1275c9['originalUrl'][_0x52bf2c(0x5a1)]('/instance/connectionState')||_0x1275c9['originalUrl'][_0x52bf2c(0x5a1)]('/instance/delete'))return _0x2f5e74();let _0x56f2f6=_0x1275c9[_0x52bf2c(0x715)];if(!_0x56f2f6?.[_0x52bf2c(0x2c6)])throw new m('instanceName\x20not\x20provided.');if(!await xe(_0x56f2f6[_0x52bf2c(0x2c6)]))throw new J(_0x52bf2c(0x779)+_0x56f2f6[_0x52bf2c(0x2c6)]+_0x52bf2c(0x22a));_0x2f5e74();}async function Oa(_0x4549fa,_0x34bfa4,_0x4caacc){const _0x5afe90=a0_0x40255d;if(_0x4549fa[_0x5afe90(0x585)][_0x5afe90(0x5a1)](_0x5afe90(0x509))){let _0x2e4eec=_0x4549fa['body'];if(await xe(_0x2e4eec[_0x5afe90(0x2c6)]))throw new se(_0x5afe90(0x22e)+_0x2e4eec[_0x5afe90(0x2c6)]+'\x20is\x20already\x20in\x20use.');z[_0x5afe90(0x625)][_0x2e4eec[_0x5afe90(0x2c6)]]&&delete z[_0x5afe90(0x625)][_0x2e4eec[_0x5afe90(0x2c6)]];}_0x4caacc();}function a0_0x52d9(){const _0x517af4=['chatHandle','state','extractRegex','remote\x20\x22origin\x22','Enter\x20a\x20value\x20in\x20milliseconds','startID','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','uazapiSendContact','Connection','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','release','filter','output','_remoteJid','The\x20\x22','groupUpdateDescription','):\x20Buscando\x20todos\x20os\x20fluxos...','464865QXOEnt','createHash','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20',',\x20received\x20','groupMetadata','reorderReplyOptions','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','toFile','Esse\x20fluxo\x20não\x20permite\x20importação.','webhookService','updateMissingTags','):\x20Entrou\x20na\x20função\x20clearVariables','.extension','.mimetype','}}\x20->\x20valor\x20não\x20encontrado','entries','lastCondition','?authSource=admin&readPreference=primary&directConnection=true','shift','buttons','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','express','):\x20Rótulo\x20atualizado:\x20','groupdata','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','imagechat','request\x20received\x20in\x20editFlowvariable','saveConversationToDatabase','.wav','SERVER','):\x20[messages.upsert]\x20group\x20ignored','everyOne','#92ceac','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','collection','The\x20','lastSendMessage','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','fone','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','sha256','):\x20expirationTime:\x20','.png','OrAnd','notEmpty','deviceSentMessage','status','false','_activatedCount','Instance\x20Name:','editConversation','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','birthtime','scheduleFlow','Schema','getMessage','removeChatLabel','restartInstance','leadInfo.customFields','updateGroupsAddPrivacy','remove','\x5cd+','):\x20Fluxos\x20não\x20estão\x20ativados','Network\x20interfaces\x20detected:\x20','createAndSave','/instance/fetchInstances','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20atualização\x20chat:\x20','CONTACTS_SET','cacheInstanceModel','crypto','uuid','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','Logger','editChat','subject','.pdf','Primeiro\x20Valor:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','getContentType','getHours','less','#83e421','creds.json','\x20ao\x20chat\x20','createWebhook','getValidWhatsAppNumbers','HH:mm:ss','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','format','Erro\x20na\x20função\x20updateChatWithMessage:\x20','unreadcount','request_method','_Contacts','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Garbage\x20collection\x20não\x20está\x20disponível.','data','ff:fe','Stack\x20trace:','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','flattenObject','headerString','console','video','match_last_seen','\x1b[0m',']\x20(','uazapiDeleteMessage','editScheduleMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','loggedOut','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','formatStatusMessage','splice','webp','latitude','CHATS_SET','AutomateSystem\x20não\x20foi\x20inicializado','menuMessage','AUTHENTICATION_TYPE','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','joinGroupValidate','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','findRealGroups','conditions','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','localWebhook','formatBRNumber','chatLog','isConnected','slice','^\x5cd+([-]\x5cd+)*@g.us$','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','videoMessage','basename',',\x20Novo\x20tamanho:\x20','\x20minutos','):\x20Ignoring\x20group\x20messages.','Content\x20is\x20required','pollOnReplyDelete','updateFlowConfig','.url','online','getStatus','\x27\x20removido\x20do\x20AutomateSystem.','30185eNQrit','messages.set','replyOptions','isValidIPv6Config','messages.update','verifyWhatsAppNumber','contactMessage','LOG_COLOR','cachedData-whatsapp','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Início','closed','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Erro\x20ao\x20importar\x20chats','flowStopConversation','no-cache','menuIgnoreNonVotes','isInteger','Pausado\x20por\x20','throwAndLogError','waMonitor','):Fetching\x20business\x20profile','editMessagesInGroup','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','quoted','SINGLE_SELECT','findLabels','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','XX:XX:XX:XX:XX:XX','Erro\x20ao\x20tentar\x20autoCompleteMessages','STATUS_INSTANCE','blockId','uazapiSendMenu','viewOnceMessage','/chat','editflow','PREFIX_KEY','yes','StartID:','):Business\x20profile\x20fetched','):\x20newSecondValue\x20após\x20replaceVariables:','owner','50mb','-whatsapp-api','DATABASE_ENABLED','findChats','):\x20Buscando\x20conversa...','label','ip\x20-br\x20link\x20show','creation','formatVCard','networkInterface','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','where','Database\x20is\x20not\x20enabled','request\x20received\x20in\x20createFlow','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','MESSAGES_UPSERT','fetchStatus','Erro\x20ao\x20atualizar\x20agendamento\x20','events','whoCanUse','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','authState','\x27\x20não\x20encontrado','updateGroupPicture','replaceVariables','muteEndTime','isURL','getFlow','groupJid','BRL','removed','exec','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','sendMenu','CONECTADO\x20À\x20UAZAPI','):\x20Ler\x20mensagem','.ppt','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','automateSystem','etiquetas','chats.update','_pushName','\x1b[1m','presence','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','telefone','messageStubParameters','unlocked','CHATS_DELETE','):\x20conversation.waitingMenu_name','):\x20whoCanEdit\x20before\x20validation:\x20','expression','exit','put','temp-','groupUpdateSubject','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Rótulo\x20deletado:\x27,\x20','pollUpdateMessage','GUARD','_fromMe','delayMessage','Button\x20texts\x20cannot\x20be\x20repeated','variables','CHATS_UPDATE','cpf','stack','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Router','assign','variablesToObject','notMatchRegex','lean','processPollUpdateMessage','length','RemoteJid:','):\x20updateResult:','editFlowCondition','):\x20nextBlock.uazapi.name','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','value','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','\x20}\x0a','admin','list','groupMemberAddMode','--------------------------------------','creds','ObjectId','Read\x20messages','Content-Type','):Audio\x20converted\x20and\x20stored\x20in\x20cache','readMessageBot','getLabelModelForOwner','not\x20loaded','flush','GROUPS_UPDATE','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Alterando\x20fluxo...','):\x20whoCanEdit\x20after\x20validation:\x20','join','mongodb','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','chats','updateAgent','.X-ABLabel:Celular\x0a','finish','):\x20Criando\x20fluxo...','):Image\x20is\x20base64','@broadcast','msgRetryCounterCache','\x20-\x20ON:\x20','Close\x20connection','moreLogs','documentMessage','Error\x20updating\x20cache\x20contact:','stopConversation','https','lastFetchAwaitingApproval','text/event-stream','):\x20whoCanUse\x20after\x20validation:\x20','END:VCARD','parse','webhookModel','Detalhes\x20do\x20erro:','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','whoCanEdit','insert','allflows','configureIPv6','#000000','createConversationforgoToFlow','upperCase','lastRealGroupsFetch','/events/:instance','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','#fe9dfe','prototype','Valor\x20inicial:\x20\x22','segundos','delay','#d3a91f','statusCode','protocolMessage','mentioned','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','groupdata.participants','Mensagens\x20deletadas\x20com\x20sucesso.','now','READ','\x1b[47m','chatModify','sleep','sem\x20texto\x20na\x20mensagem','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','gifPlayback','Instance\x20ID:','Last\x20message\x20not\x20found','env.KEY\x20!==\x20key','archived','true','[all]','variable','url','inviteUrl','CORS','Erro\x20ao\x20buscar\x20a\x20conversa','profileName','Tentando\x20reconectar...','varedit','getClient','API\x20Key\x20inválida.','.\x20Pulando.','header','setHeader','has','envProcess','abs','logger','fetchLatestBaileysVersion','_Chats','audio','evaluateCondition','@whiskeysockets/baileys','dropCollection','leaveGroup','preview','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','instance.','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','setNewValue','emit','deleteFlow',',\x20valor\x20passado:\x20\x22','https://api.openai.com/v1/audio/speech','setting','composing','#ffffff','log','Nenhum\x20participante\x20válido\x20encontrado.','all','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','\x20\x1b[0m','DARK','blocks','):Processing\x20audio','.docx','restart','processApiRequest','NextBlock','Authentication\x20error','COLOR','Número:\x20','ScheduleMessage','capitalizedWords','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','vote','Types','TYPE','Variável\x20não\x20encontrada!','/instance/connect','isJidBroadcast','sending','toNumber','Error\x20updating\x20message\x20status:','fora\x20do\x20git','groupAcceptInvite','Erro\x20de\x20atualização:\x20','Bloco\x20com\x20ID\x20','pictureUrl','findIndex','groupHandler','Error\x20testing\x20IP\x20with\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','option','Instance\x20logged\x20out','apirequest','/wa-message-update','pushName','contacts.update','\x20não\x20encontrado\x20para\x20cópia','Erro\x20ao\x20deletar\x20chat:','call','public','saveVariable','replyOption','contacts.upsert','testIPv6','testingWith','delayChatLabel_RETRY_DELAY_MS','minutesToClose','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','/events','endSession','):\x20Flow\x20desativado','deleteReplyOption','SSL_CONF_PRIVKEY','flowStopMinutes','URL:','Fluxo\x20agendado\x20pelo\x20fluxo\x20','reaction','pollCreationMessageV2','round','getLastMessage','):Error\x20in\x20converting\x20audio','width','dbSettings','request\x20received\x20in\x20starFlow','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','body','normalizeMessage','oldToken','contains','joinGroup','use','groups.upsert','stateConnection','getUniqueFlowName','toLocaleString','SSL_CONF_FULLCHAIN','importChatsAntigo','MessageModel','REDIS','redirect','editedMessage','optionName','https://api64.ipify.org?format=json','\x0a*Você\x20respondeu*:\x0a','deleted','request\x20received\x20in\x20getConversation','connectedName','\x1b[33m','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','ENABLED','editflowvariable','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Nenhum\x20fluxo\x20correspondente\x20encontrado.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','mediaSticker','apiResponse','silent','replaceValue','request_time','updateCustomFields','addBlock','cacheInstanceRepository','LOG_LEVEL','responsavelid','repository','isLong','autoCompleteMessages','startCommandWord','archive','not_announcement','and','\x20inseridas\x20no\x20banco\x20de\x20dados...','mentions','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','hSet','removeIPv6','enabled','PRESENCE_UPDATE','mediaKey','toggleEphemeral','\x1b[44m','CLEANING_INTERVAL','storePath','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','hDel','updateOnlinePrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','CHATS_UPSERT','):\x20Fluxo\x20\x27','MAX_SAFE_INTEGER','process','https://api.elevenlabs.io/v1/text-to-speech/','DisconnectReason','QRCODE_UPDATED','startFlowWebhook','number','^\x5cd+','whatsappNumbers','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','processawaitSeconds','):\x20Deletando\x20mensagem','groupFetchAllParticipating','@s.whatsapp.net','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','closeExistingConversations','updateProfilePicture','\x20instance\x20does\x20not\x20exist','bateu\x20events','scheduleSendAudio','del','This\x20name\x20','exists','fileLength','AUTHENTICATION','URL\x20não\x20disponível','processUUID','sendCommand','randomBytes','awaitingApproval','fetchConversation','setContext','Last\x20message\x20not\x20found\x20for\x20number:\x20','removeIPv6ById','reviver','):Hash\x20to\x20image\x20name:\x20','getBase64FromMediaMessage','random','tags','Invalid\x20format','https://ifconfig.me/ip','createGroup','Imagem\x20não\x20encontrada','cleanDisconnectedInstances','Erro\x20ao\x20buscar\x20Schedule\x20Messages','isArray','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','reconnectAttempts','Erro\x20ao\x20iniciar\x20fluxo:\x20','):Type\x20defined\x20as\x20audio','Error\x20removing\x20IPv6\x20address:\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','jsonwebtoken','):\x20[messages.update]\x20group\x20ignored','generateHash','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','undefined','\x1b[41m','updateChatWithMessage','title','lastInteraction','Erro\x20ao\x20buscar\x20o\x20fluxo','toBrazilianNumberFormat','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','DD/MM\x20HH:mm:ss','request\x20body:\x20','fullName','\x27...','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','#ffc5c7','stderr','request\x20received\x20in\x20scheduleMessage','\x1b[33m%s\x1b[0m','close','https://api.openai.com/v1/images/generations','last','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','\x1b[32m%s\x1b[0m','request\x20received\x20in\x20updateCustomFields','groupName','drop','\x1b[42m','labels.association','spawn','Usando\x20IP\x20existente:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','loadEnv','/wa-chats','):Archiving\x20chat','Nenhum\x20chat\x20encontrado\x20para\x20editar.','listMessage','createOrUpdate','stopped','5040243RvUsui','jid','\x1b[31m','cleanStore','ini','contactHandle','locked','configService','truncatedtoEnd','buttonId','memberAddMode','AUTHENTICATION_JWT_EXPIRIN_IN','superadmin','findWebhook','find',',\x20valor\x20a\x20encontrar:\x20\x22','/wa-message','Flow\x20\x27','findFlow','STORE_CLEANING_TERMINAL','#dfaef0','blockLogs','jpegThumbnail','currency','match','editFlow','messages','findGroups','updateAutoCompleteMessages','remoteJid','audio/ogg;\x20codecs=opus','realVariables','Erro\x20ao\x20editar\x20a\x20conversa','Connection\x20closed\x20for\x20instance:\x20','):\x20Entrou\x20na\x20função\x20saveReply','stopMinutesMaxActives','\x20do\x20chat\x20','initializeQueue','\x1b[36m','):\x20sender\x20=\x20number:\x20','variablesNotFound','ipv6Prefix','SERVER_ACK','verifiedName','.ogg','.txt','getScheduleMessage','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','getVariablesChat','requestPairingCode','Erro\x20ao\x20editar\x20o\x20chat','pendingMessages','DEBUG','/config','existsSync','replaceVariablesInObject','convertaudioMP3','data:\x20','useMultiFileAuthState','DELETED','connectionStatus','application/octet-stream','updateGroupWebhook','contact','limit','integer','detectIPv6PrefixAndInterface','valid','URL\x20completa:','):Audio\x20processed','pino','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','startsWith',',\x20pairCode:\x20','myAppStateKeyId','\x1b[34m','startCommand','groupadd','request\x20received\x20in\x20editFlow','instanceName','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','mediaMessage','fetchBusinessProfile','exports','TEXT','routerPath','conversationTimestamp','CONTACTS_UPDATE','sendContact','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','#56ccb4','copyBlock','update','context','getOwnPropertyNames','label_jid','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','connectToWhatsappController','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','chats.delete','getflow','updateMissingEtiquetas','autoCompleteMessages.command_1','#f64847','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','isBase64','axios','stopWhenYouSendMsg','qrCode','none','updatePrivacySettings','urlencoded','/wa-presence','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','flowName','.xls','qrcode-terminal','error_log','stanzaId','):\x20alterando\x20this.AutomateSystem','/message','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','\x22\x20-\x20REMOVED','errorLog','ConversationModel','):including\x20timestamp\x20in\x20url:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','arraybuffer','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Erro\x20ao\x20alterar\x20fluxo','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','SERVER_PORT','chats.set','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','router','initAuthCreds','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','groupId','processScheduleFlow','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','DATABASE','instanceCount','\x20:\x20','trimmed','status@broadcast','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','webhook','waitingMenu_ExpiredMessage','findOrCreate','firstValue','instance','.mp4','eventemitter2','block','timeout','Generated\x20IPv6:\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','findGroup','):\x20Criando\x20nova\x20conversa[createNewConversation]','env','content','privacySettings','sharp','https://chat.whatsapp.com/','leadInfo','color','CONNECTION','last_update','createSectionsFromValues','removeData','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x27\x20do\x20banco\x20de\x20dados...','convertToWebP','equal','out','from','description','floor','connectionClosed','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','CORS_CREDENTIALS','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','pollMessage','AddChatLabel','RemoveChatLabel','demote','options',',\x20global:\x20','toString','Erro\x20ao\x20atualizar\x20cacheInstance:','flowConversation','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','autoCompleteMessages.command','trim','getTime','pm2\x20flush','recording','addReplyOption','cache','):\x20Enviando\x20contato','Error\x20finding\x20many\x20contacts:','jsonschema','HOST','DATABASE_CONNECTION_HOST','recebido\x20de','menuExpiredMessage','condition','node-cache','DATABASE_CONNECTION_USER','create','groupSetting','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','matchRegex','822TEKcWW','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','REDIS_URI','delaySecMin','sendDataWebhook','dbConnection','groupSettingUpdate','getAutomateSystem','_FlowHistorico','cleaningUp','findById','audio/ogg','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','test','https://github.com/uazapi/uazapi.git','IPv6\x20addresses\x20detected:\x20','get','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','presenceSubscribe','replace','fromMe','Erro\x20ao\x20arquivar\x20chat','docker','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','createConnection','):\x20whoCanUse\x20before\x20validation:\x20','IP\x20mismatch:\x20configured\x20','editflowreply','readData','audioMessage','image','sendMedia','updateAll','FULLCHAIN','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','\x20mensagens\x20de\x20','Forbidden','group-participants.update','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','leadInfo.','):\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','views','createServer','item','nome','createJid','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','\x20chats\x20de\x20','notas','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Conversa\x20deletada\x20com\x20sucesso.','isCommunityAnnounce','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Erro\x20ao\x20criar\x20fluxo','Group\x20not\x20found','subjectTime','/wa-all-message','request\x20received\x20in\x20getAutomateSystem','refused','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','startFlow','normalizeMessageContent','bearer','expiration','insertCount','isJidGroup','Rótulo\x20inválido\x20ou\x20sem\x20ID.','editFlowVariable','Resultado\x20da\x20correspondência\x20de\x20URL:','sectionsToString','pollCreationMessageV3','setRestartTimeout','editFlowReply','delAll','shareOwners','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','API\x20Key\x20from\x20Request:','desc','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','readdirSync','\x20quoted:\x20','InstancesAlterarTodas','):\x20Procurando\x20mensagens\x20para\x20envio','max','transformScheduledMessagesByType','removeProfilePicture','\x1b[30m%s\x1b[0m','):\x20Mensagem\x20já\x20enviada\x20para\x20','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','sendPresenceUpdate','static','pow','request\x20received\x20in\x20deleteDoneMessages','child_process','):\x20Bloco\x20com\x20ID\x20','app','https://v6.ident.me','result','Flow\x20iniciado','downloadMediaMessage','Validate','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','arrayUnique','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','_id','findOneAndUpdate','sharePass','Chat\x20com\x20ID\x20','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','document','):Sending\x20audio\x20whatsapp','padStart','Erro\x20ao\x20alterar\x20privacidade','isAdmin','write','open','deletedCount','loadInstance','\x20and\x20data:','getOwnPropertyDescriptor','GROUPS_UPSERT','goNextblock','convertToString','Error\x20in\x20scheduleNextCheck:\x20','scheduleMessage','groupLeave','sendPoll','lastUpdate','updateLastSeenPrivacy','cacheContactModel','messages.upsert',',\x20canSendMessage:\x20','.TEL;waid=','applyvaredit','\x20saindo\x20da\x20função','ContactModel','eventHandler','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','reject','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','lastReceivedMessage','processgoToFlow','/wa-groups','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','status.instance','oldValue','findAndReplaceRegex','buttonText','__esModule','):\x20Query\x20params:','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','request\x20received\x20in\x20updateAutoCompleteMessages','generateRandomIPv6','PORT','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','groupToggleEphemeral','findByIdAndDelete','DELIVERY_ACK','ip6eui','$dbName','ex:\x20\x22groupJid=120362@g.us\x22','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','findConversation','parseInt','profile','messageType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','type','AutomateSystem','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','interval\x20não\x20é\x20um\x20número','StartBot','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Fluxo\x20id\x20\x27','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','noConnection','qrcode','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20Grupo\x20','senderKeyDistributionMessage','SSL_CONF','\x20-y','array','connecting','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','):\x20Buscando\x20flow...','rm\x20-rf\x20','mongoose','linkPreview','substring','scheduleNextCheck','pollErrorMessage','\x27\x20não\x20encontrado\x20na\x20memória','paused','LabelModel','.jwt','https://jsonip.com','$pull','):\x20Editando\x20grupo\x20do\x20fluxo...','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','numbers','notEqual','IPv6\x20address\x20removed:\x20','getChatModelForOwner','[AUTH]\x20Database\x20is\x20not\x20enabled','available','boolean','audioWhatsapp','All_Instances_Config','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','\x20não\x20encontrado','documentWithCaptionMessage','sendSticker','):Image\x20created','groupGetInviteInfo','ids','catch','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','getAllData','cacheContact','importChats','hGet','DATABASE_CONNECTION_DB_PREFIX_NAME','request\x20received\x20in\x20fetchConversation','_error','/automate','default','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','shareFlow','unavailable','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','media','charAt','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Going\x20to\x20','awaitSeconds','cwd',',\x20Comparador:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','findMany','delayChatLabel','instanceInfo','editOperator','unlinkSync',',\x20qrcodeCount:\x20','https://api.ipify.org?format=json','.webm','createNewConversation','Safari','dark','editflowvaredit','sendButtons','deleteBlock','.doc','PRODUCT_LIST','deleteInstance','WARN','buttonMessage','.xlsx','instances','getContactModelForOwner','connectionUpdate','):\x20Removendo\x20\x27','path','apiName','SEND_MESSAGE','imported','code','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','announcement',',\x20saindo.','mimetype','processConditions','groupRevokeInvite','dbInstance','$addToSet','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','fileName','done','flow','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','selectableCount','stickerMessage','sendReaction','replaceVariablesLogs','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','):\x20Criando\x20fluxo\x20compartilhado...','clearVariables','caption','File\x20written\x20to\x20path:\x20','toLowerCase','statusJidList','creds.update','express-async-errors','convert','toUpperCase','/wa-contacts','view\x20engine','object','labelId','add','):\x20this.processingGroup._id:\x20','AUTHENTICATION_API_KEY','PLAYED','Subdomínio\x20não\x20encontrado','groupBetterSetting','Sistema\x20atualizado\x20com\x20sucesso!','class-validator','scheduleSendText','toDataURL','authModel','findParticipants','profilePictureUrl','scheduled','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','redis','promisify','auth','presence.update','DB_PREFIX_NAME','lastBlockId','fetchMessages','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','.jpg','chat\x20não\x20encontrado','when','STORE_CHATS','):\x20Current\x20Time:\x20','collections','quotedMessage','insertMany','flows','*\x0a\x0a','maxActives','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Conversa\x20está\x20expirada','bodyString','findAndReplace','Limpando\x20logs\x20do\x20PM2...','imgUrl','randomMac','):Delete\x20chat','_activedCount','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Filtered\x20network\x20interfaces:\x20','groupDesc','updateMessage','editFlowVaredit','\x1b[31m%s\x1b[0m','ephemeralMessage','contextInfo','):\x20isVote:\x20','PRIVKEY','):Converted\x20image\x20deleted','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','reconnectTimestamps','\x20segundos\x20antes\x20de\x20reconectar...','Esse\x20fluxo\x20expirou','http://checkip.dyndns.org','hex','DATABASE_CONNECTION_PASSWORD','deleteConversation','RECONNECT_TIME_FRAME','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','BufferJSON','.fileUrl','DATABASE_CONNECTION_URI','apikey','Button\x20IDs\x20cannot\x20be\x20repeated.','#01d0e2','participants','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Mensagem\x20não\x20suportada','waitingMenu_replyOptions','saveTextReply','mediatype','Deleted\x20','addMessagesToGroup','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20Comando\x20desconhecido:\x20','encoding','dataValidate','#ffae04','chatId','descId','instanceKeys','all_member_add','updateMany','menuType','getMessageModelForOwner','PASSWORD','Erro\x20ao\x20editar\x20agentes','groupParticipantsUpdate','Request\x20Body:','prepareWAMessageMedia','locationMessage','font','pollCreationMessage','No\x20suitable\x20network\x20interface\x20found','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','STORE_CONTACTS','messageTimestamp','!stop','deleteMessage','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','deleteMany','whatsappNumber','leadInfo.atendimentoAberto','push','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','deleteDoneMessages','findAll','Error\x20fetching\x20group','replaceVariablesInReplyOptions','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','3753744PFVrBF','-instances','.webp','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','processvaredits','1943577DRRkqn','g-t','string','E-mail:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Query\x20params:\x20','fetchProfile','PROXY','start','config','lastMessage','uazapiSendText','/instance/create','verify','endsWith','Falta\x20informação\x20para\x20a\x20chamada\x20API','*Pergunta*:\x20\x0a','address','empty','getScheduleMessageModelForOwner','2119924Wmxpep','fetchContacts','generateWAMessageFromContent','):\x20Editando\x20bloco...','global','pt-BR','Erro\x20ao\x20remover\x20label\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','admin_add','Missing\x20global\x20api\x20key','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','uazapiSendMedia','sendMessageWithTyping','):Trying\x20to\x20get\x20business\x20profile','website','URI','createConversationforStartFlow','authentication','getMinutes','\x1b[36m%s\x1b[0m','defineAuthState','choices','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','contacts','prepareMediaMessage','):\x20não\x20encontrou','groups_ignore','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','pairingCode','saveCreds','Network\x20Interface\x20detected:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','desativadoFluxoAte','Novo\x20IP\x20criado:\x20','method','logout','uazapiSendAudio','proto','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','p-queue','stopMinutes','stringify','retrySendMessage','announce','deleteAll','):\x20Enviando\x20áudio','\x0a{\x20instance:\x20','synchronizeAndMapFlows','unhandledRejection','getDevice','fileUrl','dbServer','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20inseridos\x20no\x20banco\x20de\x20dados...','/clients-info','https://ipv6.jsonip.com','map','agents','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','markMessageAsRead','newStoppedUntil','Erro\x20ao\x20copiar\x20o\x20documento','ON\x20-\x20dbName:\x20','setWebhook','):\x20Criou\x20conversa\x20no\x20startFlowWebhook',',\x20isAdmin:\x20','Removidas\x20as\x20variáveis:\x20','sendStatus','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','labels.edit','canSendMessage','rows','getUpdate','messageContextInfo','$set','):Image\x20is\x20url','notContains','processingGroup',',\x20Minutes\x20to\x20Close:\x20','activatedCount','):\x20Editando\x20variável\x20do\x20fluxo...','customFields','role','Retornando\x20grupos\x20COM\x20cache','Não\x20respondeu\x20com\x20a\x20enquete.','request\x20received\x20in\x20updateFlowConfig','updateGParticipant','modifiedCount','lastSend','readreceipts','CONNECTION_UPDATE','INFO','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','extractPhoneNumber','isJWT','#9ab6c1','cachedContact','Font\x20is\x20required','warn','processclearVariables','groups','https://uazapi-plugin.bubbleapps.io/?url=','updateProfileName','globalShow','#9568cf','isListOfNumbers','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','repeat','query','VERBOSE','wuid','atendimentoAberto','getDelay','originalUrl','response','processConditionsTest','saveMediaToFile','https://uazapi-plugin.bubbleapps.io/','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','padEnd','GET','https://','Retornando\x20grupos\x20SEM\x20cache','info','):\x20Enviando\x20mídia','send','DaysToDelete','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','replaceOne','findContacts','uncaughtException','createInstance','):Output\x20path:\x20','sign','WebhookGlobal','longitude','REDIS_PREFIX_KEY','findGroupsEspecial','Instance\x20\x22','command','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','includes','groupRequestParticipantsList','reactionMessage','js-yaml','sections','):\x20error:\x20','writeData','errors','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','convertaudio','verbose','keep-alive','ephemeralDuration','isRunning','_ScheduleMessages','GROUP_PARTICIPANTS_UPDATE','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','sendWhatsAppAudio','/wa-connection-update','getConversationModelForOwner','dropIndex','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','group','getProfileName','fromObject','):\x20Flow\x20\x27','sendText','Erro\x20ao\x20atualizar\x20o\x20flow.','username','updateGParticipate','isCommunity','idSchedule','extractMessageContent','):\x20Editando\x20condição\x20do\x20fluxo...','user','authService',',\x20lastCondition:\x20','):\x20ev.flush\x20realizado','):\x20Entrou\x20na\x20função\x20goToFlow','ListType','Falha\x20ao\x20recriar\x20IPv6.','reference','updateMissingCustomFields','Message','Type\x20is\x20required','redis://127.0.0.1:6379','):\x20Atualizando\x20status\x20da\x20mensagem\x20','listType','delete','connect','The\x20global\x20api\x20key\x20must\x20be\x20set','ignoreGroups','createFlow','connectToWhatsapp','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','getConversation','statusMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','AddUserFlow','restrict','inner','dbClient','updateChatGroupData','ListMessage','API_KEY','#d8e651','):\x20conversation.lastInteraction:\x20','sendMessage','app-state-sync-key','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','/media/','messageHandle','ContactsAndGroups','g.us','upsertChats','#00a1f2','/group','queue','allContacts','waitingForReplyMenu','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','remoteJids','\x1b[37m','):\x20Limpando\x20delayMessage','@ffmpeg-installer/ffmpeg','fetchLabels','profilePicture','replaceVariablesChat','MESSAGES_SET','Erro\x20ao\x20atualizar\x20conversa:\x20','hbs','some','\x1b[1m\x1b[37m','model','\x20depois\x20','JWT','backgroundColor','min','leadInfo.etiquetas','remove.instance','allFlows','Erro\x20ao\x20atualizar\x20AutomateSystem:','TEL','fetchPrivacySettings','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','phoneNumber','content-type','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','ephemeralExpiration','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','ReplyOption\x20com\x20ID\x20','readFileSync','Falhou\x20ao\x20encontrar\x20chat\x20','Cache-Control','.mp3','StatusJidList\x20is\x20required','KEY','readMessage','saveChatVariables','):\x20Conversa\x20atualizada\x20em\x20memória','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','flowConfig','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Configured\x20IPv6:\x20','addChatLabel','fetchProfilePicture','delaySecMax','updateStopChat','resetReconnectionVariables','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','envYaml','authorization','waInstances','groupInviteCode','readMessages','STORE_MESSAGE','success','editFlowGroup','uazapi','email','\x20-i\x20','ip\x20-6\x20addr\x20add\x20','):\x20Adicionando\x20\x27',',\x20resultado:\x20','isJidUser','created','listResponseMessage','/:instanceName','toBRL','groupRequestParticipantsUpdate','util','goToFlow','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','updateBlock','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','updateProfilePicturePrivacy','Contacts\x20not\x20found','urlOrBase64','LICENSE_INVALID','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Comando\x20desconhecido','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','next_groupId','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','editflowcondition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','updateReplyOption','utf-8','bodyStringErrorParse','qrcode.updated','Erro\x20ao\x20iniciar\x20o\x20fluxo.','post','indexOf','descOwner','order','connectionState','reorderMessages','Falha\x20ao\x20processar\x20fetchBusinessProfile','.ogv','hasOwnProperty','waitingMenu_id','vcard','_sender','forEach','organization','CREDENTIALS','writeFileSync','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x20adicionado\x20ao\x20chat\x20','participant','redisEnv','Unauthorized','enviado\x20para','#b4ebff','pollCreationMessageKey','revokeInviteCode','.type','Cannot\x20','Telefone:\x20','/webhook','SECRET','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','CORS_ORIGIN','ERROR:\x20','poll','conversation','The\x20instance\x20needs\x20to\x20be\x20disconnected','Instance\x20restarted','local_map','FlowController','Selecione','\x20não\x20encontrado\x20para\x20atualização.','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','listen','.error','nomecompleto','detail','size','WA\x20MODULE','inviteCode','removeUnusedChatFields','\x1b[46m','getTicketSystem','messageId','CONTACTS_UPSERT','setUpdate','/create','SendScheduleMessage','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','messaging-history.set','updateProfileStatus','getPrototypeOf','chats.upsert','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','@g.us','):\x20Limpando\x20AutomateSystem','webhookMap','../env.yml','editflowblock','http','beautifyWithPlaceholders','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','ms\x20(tentativa\x20','):Desconectado,\x20parando\x20execução.','updateConversation','AutomateFunctions','values','video-cover.png','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','updatePresence','\x20minutos\x20verificará\x20novas\x20mensagens','archiveChat','findGroupInfos','Valor\x20da\x20URL\x20recuperada:','folder','sendLocation','secondValue','):\x20mediaMessageInfoId\x20:\x20','/64\x20dev\x20','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Erro\x20inesperado\x20em\x20processvaredits:\x20','flowActive','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','eventEmitter','ip:\x20','IPv6\x20Prefix\x20detected:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Erro\x20ao\x20normalizar\x20a\x20mensagem:','createflow','json','off','error','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','mongodb://','ERROR','0123456789ABCDEF','editFlowBlock','optionDescription','client','processUazapi','updateGroupParticipantsWebhook','node-mime-types','waitingMenu_text','findGroupInfo','message_normalized','):\x20Editando\x20replyOption...','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','processblock','\x22\x20-\x20NOT\x20CONNECTION','deleteChat','updateOneById','):\x20Criou\x20conversa\x20no\x20startFlow','URL','send.message','src','delayChatLabel_MAX_RETRIES','name','groupJoinApprovalMode','split','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','addresss','):\x20Error\x20processing\x20the\x20block:\x20','):Image\x20path:\x20','base64','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20leadInfoVariables','ip\x20-6\x20addr\x20show\x20dev\x20','Falha\x20ao\x20processar\x20a\x20solicitação','long','EMAIL','Fluxos\x20não\x20estão\x20ativados','Not\x20Found','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','sendList','groups.update','Erro\x20ao\x20buscar\x20conversas','hGetAll','downloads','getBusinessProfile','footerText','MESSAGES_UPDATE','Falha\x20ao\x20criar\x20IPv6.','debug','deleteImportedChat','.pptx','scheduleSendMedia','#9ba6ff','@redis/client','text','triedToSend','isValidAndUniqueIPv6','sim','connection.update','REDIS_ENABLED','):\x20Bloco\x20copiado:\x20','1242896vPKRcc','flushHeaders','#6f7bcf','?timestamp=','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','reorderBlocks','LEVEL','):\x20teve\x20mudanças\x20chat.archived:\x20','greater','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','lowerCase','/exit','keys','createIPv6','DOCKER_ENV','fetchChats','textMessage','fetchInstances','chat','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','\x20segundos','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','joinApprovalMode','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','defineProperty','contact_blacklist','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','createClient','sort','key','Background\x20color\x20is\x20required','params','varedits','groupValidate','LOG','Instâncias\x20removidas:\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','convertedOptions','displayName','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','upsertedCount','promote','uazapiSendLocation','):\x20\x27Deletando\x20fluxo,\x20id:\x20','approve','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','14socOKV','evaluateConditionTest','loadWebhook','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','EXPIRIN_IN','headers','pre','bulkWrite','The\x20property\x20cannot\x20be\x20empty','updateOne','author','height','):\x20Label\x20','\x20Tentativa\x20de\x20reconexão\x20','/media','deleteflow','Parando\x20aplicação,\x20atualização\x20recebida','):\x20lastBlockId:\x20','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','!cmd_','save','):\x20Editando\x20edição\x20do\x20fluxo...','action','findOne','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','unknown\x20operation\x20type\x20[','findAndUpdateCacheContact','deleteOne','message','importChatsBatch','Error\x20removing\x20unused\x20chat\x20fields:','fetchProfilePictureUrl','set'];a0_0x52d9=function(){return _0x517af4;};return a0_0x52d9();}var _a=require(a0_0x40255d(0x489)),xa=A(require(a0_0x40255d(0x24d))),ct=a0_0x40255d(0x62b),Ao=new $(a0_0x40255d(0x102));async function Io(_0xf071bd,_0x581882,_0x24bca4){const _0x316b75=a0_0x40255d;let _0x58ed4a=_0xf071bd[_0x316b75(0x35f)]('apikey');if(_0x58ed4a&&b[_0x316b75(0x35f)](_0x316b75(0x231))['API_KEY'][_0x316b75(0x615)]!==_0x58ed4a)throw new ce();if(b[_0x316b75(0x35f)](_0x316b75(0x231))['API_KEY'][_0x316b75(0x615)]===_0x58ed4a)return _0x24bca4();if((_0xf071bd['originalUrl']['includes'](_0x316b75(0x509))||_0xf071bd[_0x316b75(0x585)]['includes'](_0x316b75(0x797)))&&!_0x58ed4a)throw new se(_0x316b75(0x51a),_0x316b75(0x5d3));let _0x573d62=b[_0x316b75(0x35f)](_0x316b75(0x231))[_0x316b75(0x600)];try{let [_0x391fcd,_0x425eaa]=_0xf071bd['get'](_0x316b75(0x624))[_0x316b75(0x6ce)]('\x20');if(_0x391fcd[_0x316b75(0x478)]()!==_0x316b75(0x38e))throw new ce();if(!(0x0,_a[_0x316b75(0x572)])(_0x425eaa))throw new ce();let _0x3922de=_0xf071bd[_0x316b75(0x715)],_0x495169=xa['default'][_0x316b75(0x50a)](_0x425eaa,_0x573d62[_0x316b75(0x66a)],{'ignoreExpiration':_0x573d62[_0x316b75(0x728)]===0x0});if(_0x3922de[_0x316b75(0x2c6)]!==_0x495169['instanceName']||ct!==_0x495169[_0x316b75(0x45d)])throw new ce();return _0x24bca4();}catch(_0x24b254){throw Ao[_0x316b75(0x6b3)](_0x24b254),new ce();}}async function To(_0x5e5279,_0x34fe5d,_0x5871a6){const _0x32e5b7=a0_0x40255d;let _0x3f008=b[_0x32e5b7(0x35f)](_0x32e5b7(0x231))[_0x32e5b7(0x5e1)],_0x2e2e9c=_0x5e5279[_0x32e5b7(0x35f)](_0x32e5b7(0x4c8));if(_0x3f008[_0x32e5b7(0x615)]===_0x2e2e9c)return _0x5871a6();if(_0x5e5279[_0x32e5b7(0x585)][_0x32e5b7(0x5a1)](_0x32e5b7(0x509))){let _0x5e75c9=Pa,_0xfe8d3c=_0x5e5279[_0x32e5b7(0x1d7)][_0x32e5b7(0x2c6)];if(_0x5e75c9&&_0xfe8d3c['toLowerCase']()[_0x32e5b7(0x2bf)](_0x5e75c9['toLowerCase']()))return _0x5871a6();if(!_0x2e2e9c)throw new se('Missing\x20global\x20api\x20key',_0x32e5b7(0x5d3));}if(_0x5e5279['originalUrl'][_0x32e5b7(0x5a1)](_0x32e5b7(0x797))&&!_0x2e2e9c)throw new se('Missing\x20global\x20api\x20key',_0x32e5b7(0x5d3));if(_0x5e5279[_0x32e5b7(0x585)][_0x32e5b7(0x5a1)]('/exit')&&!_0x2e2e9c)throw new se('Missing\x20global\x20api\x20key',_0x32e5b7(0x5d3));if(_0x5e5279[_0x32e5b7(0x585)]['includes']('/config')&&!_0x2e2e9c)throw new se(_0x32e5b7(0x51a),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0xd20dd5=_0x5e5279[_0x32e5b7(0x715)],_0x535471=await we[_0x32e5b7(0x493)][_0x32e5b7(0x284)](_0xd20dd5[_0x32e5b7(0x2c6)]);if(_0x535471&&_0x535471[_0x32e5b7(0x4c8)]===_0x2e2e9c)return _0x5871a6();}catch{}throw new ce();}var Da={'jwt':Io,'apikey':To},mi=require(a0_0x40255d(0x76b)),E=require(a0_0x40255d(0x79d)),C=(..._0x4b68ae)=>{const _0x536e0e=a0_0x40255d;let _0x41dc23={};return _0x4b68ae['forEach'](_0x4f52a1=>_0x41dc23[_0x4f52a1]={'minLength':0x1,'description':_0x536e0e(0x753)+_0x4f52a1+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4b68ae]}},'then':{'properties':_0x41dc23}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'instanceName':{'type':a0_0x40255d(0x4ff)}},...C(a0_0x40255d(0x2c6))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'oldToken':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x1d9)],...C(a0_0x40255d(0x1d9))},fc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x40255d(0x4ff)},'remoteJid':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':['id',a0_0x40255d(0x293),a0_0x40255d(0x363)],...C('id','remoteJid')},'message':{'type':a0_0x40255d(0x480)}}},ae={'properties':{'delay':{'type':a0_0x40255d(0x2b7),'description':a0_0x40255d(0x749)},'presence':{'type':'string','enum':[a0_0x40255d(0x43a),a0_0x40255d(0x422),'composing',a0_0x40255d(0x33c),'paused']}}},Z={'type':a0_0x40255d(0x4ff),'description':a0_0x40255d(0x240)},ka={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x40255d(0x480),'properties':{'text':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x6ed)],...C(a0_0x40255d(0x6ed))}},'required':[a0_0x40255d(0x706),a0_0x40255d(0x21f)]},La={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...La},'options':{...ae},'textMessage':{'type':a0_0x40255d(0x480),'properties':{'text':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x6ed)],...C(a0_0x40255d(0x6ed))}},'required':[a0_0x40255d(0x706),'number']},yc={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...La},'options':{...ae},'mediaMessage':{'type':a0_0x40255d(0x480),'properties':{'mediatype':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x36d),'document',a0_0x40255d(0x7bd),a0_0x40255d(0x17e)]},'media':{'type':'string'},'fileName':{'type':a0_0x40255d(0x4ff)},'caption':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x4d0),a0_0x40255d(0x43c)],...C(a0_0x40255d(0x46a),a0_0x40255d(0x476),a0_0x40255d(0x43c))}},'required':[a0_0x40255d(0x2c8),a0_0x40255d(0x21f)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x40255d(0x480),'properties':{'image':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x36d)],...C('image')}},'required':[a0_0x40255d(0x470),a0_0x40255d(0x21f)]},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x40255d(0x480),'properties':{'type':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x6ed),'image','audio',a0_0x40255d(0x7bd)]},'content':{'type':'string'},'caption':{'type':a0_0x40255d(0x4ff)},'backgroundColor':{'type':a0_0x40255d(0x4ff)},'font':{'type':a0_0x40255d(0x2b7),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x40255d(0x4ff),'pattern':a0_0x40255d(0x220),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':['type','content'],...C(a0_0x40255d(0x3fa),a0_0x40255d(0x317))}},'required':[a0_0x40255d(0x5d9)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x40255d(0x480),'properties':{'mediatype':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x36d),a0_0x40255d(0x3c0),a0_0x40255d(0x7bd),a0_0x40255d(0x17e)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x4d0),'media'],...C('fileName','caption',a0_0x40255d(0x43c))}},'required':[a0_0x40255d(0x2c8),'number']},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x17e)],...C('audio')}},'required':[a0_0x40255d(0x36c),'number']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x40255d(0x480),'properties':{'name':{'type':a0_0x40255d(0x4ff)},'selectableCount':{'type':a0_0x40255d(0x21f)},'values':{'type':a0_0x40255d(0x40a),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x40255d(0x6cc),'selectableCount',a0_0x40255d(0x698)],...C('name',a0_0x40255d(0x46f),a0_0x40255d(0x698))}},'required':[a0_0x40255d(0x21f),a0_0x40255d(0x32e)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x40255d(0x480),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x40255d(0x40a),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x40255d(0x6ed),a0_0x40255d(0x527)],...C(a0_0x40255d(0x6ed),a0_0x40255d(0x527))}},'required':['number',a0_0x40255d(0x7cc)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':a0_0x40255d(0x480),'properties':{'title':{'type':'string'},'description':{'type':a0_0x40255d(0x4ff)},'footerText':{'type':a0_0x40255d(0x4ff)},'buttons':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x3e6),'buttonId'],...C('buttonText',a0_0x40255d(0x27f))}},'mediaMessage':{'type':a0_0x40255d(0x480),'properties':{'media':{'type':a0_0x40255d(0x4ff)},'fileName':{'type':a0_0x40255d(0x4ff)},'mediatype':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x36d),a0_0x40255d(0x3c0),'video']}},'required':['media',a0_0x40255d(0x4d0)],...C('media','fileName')}},'required':['title',a0_0x40255d(0x769)],...C(a0_0x40255d(0x254),'description')}},'required':[a0_0x40255d(0x21f),'buttonMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x40255d(0x480),'properties':{'latitude':{'type':a0_0x40255d(0x21f)},'longitude':{'type':'number'},'name':{'type':a0_0x40255d(0x4ff)},'address':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x7c9),'longitude'],...C(a0_0x40255d(0x6cc),a0_0x40255d(0x6d0))}},'required':['number',a0_0x40255d(0x4e4)]},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x40255d(0x480),'properties':{'title':{'type':'string'},'description':{'type':a0_0x40255d(0x4ff)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x40255d(0x4ff)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x40255d(0x480),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x40255d(0x480),'properties':{'title':{'type':a0_0x40255d(0x4ff)},'description':{'type':a0_0x40255d(0x4ff)},'rowId':{'type':'string'}},'required':[a0_0x40255d(0x254),'rowId'],...C('title','rowId')}}},'required':['title',a0_0x40255d(0x55a)],...C(a0_0x40255d(0x254))}}},'required':[a0_0x40255d(0x254),a0_0x40255d(0x327),a0_0x40255d(0x3e6),a0_0x40255d(0x5a5)],...C('title',a0_0x40255d(0x327),a0_0x40255d(0x3e6),a0_0x40255d(0x6e4))}},'required':[a0_0x40255d(0x21f),'listMessage']},za={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x40255d(0x40a),'items':{'type':a0_0x40255d(0x480),'properties':{'fullName':{'type':a0_0x40255d(0x4ff)},'phoneNumber':{'type':a0_0x40255d(0x4ff),'minLength':0xa}},'required':[a0_0x40255d(0x25b),a0_0x40255d(0x60a)],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x40255d(0x7ed)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'reactionMessage':{'type':a0_0x40255d(0x480),'properties':{'key':{'type':a0_0x40255d(0x480),'properties':{'id':{'type':a0_0x40255d(0x4ff)},'remoteJid':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x40255d(0x363)],...C('id',a0_0x40255d(0x293))},'reaction':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x713),'reaction'],...C(a0_0x40255d(0x1ce))}},'required':['reactionMessage']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'numbers':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x40255d(0x4ff),'pattern':a0_0x40255d(0x220),'description':a0_0x40255d(0x539)}}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'readMessages':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x40255d(0x4ff)}},'required':['id',a0_0x40255d(0x363),a0_0x40255d(0x293)],...C('id','remoteJid')}}},'required':['readMessages']},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'privacySettings':{'type':a0_0x40255d(0x480),'properties':{'readreceipts':{'type':'string','enum':['all',a0_0x40255d(0x2e4)]},'profile':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x191),a0_0x40255d(0x529),a0_0x40255d(0x70f),a0_0x40255d(0x2e4)]},'status':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x191),'contacts',a0_0x40255d(0x70f),a0_0x40255d(0x2e4)]},'online':{'type':a0_0x40255d(0x4ff),'enum':['all',a0_0x40255d(0x7be)]},'last':{'type':'string','enum':[a0_0x40255d(0x191),a0_0x40255d(0x529),a0_0x40255d(0x70f),a0_0x40255d(0x2e4)]},'groupadd':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x191),a0_0x40255d(0x529),'contact_blacklist','none']}},'required':[a0_0x40255d(0x56c),a0_0x40255d(0x3f7),a0_0x40255d(0x784),'online','last','groupadd'],...C('readreceipts','profile',a0_0x40255d(0x784),a0_0x40255d(0x7e4),a0_0x40255d(0x264),'groupadd')}},'required':[a0_0x40255d(0x318)]},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x40255d(0x480),'properties':{'key':{'type':a0_0x40255d(0x480),'properties':{'id':{'type':a0_0x40255d(0x4ff)},'remoteJid':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x40255d(0x293)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x40255d(0x2b7),'minLength':0x1}},'required':[a0_0x40255d(0x713)],...C(a0_0x40255d(0x4ea))},'archive':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':[a0_0x40255d(0x507),a0_0x40255d(0x204)]},Za={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'id':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x40255d(0x4ff)},'participant':{'type':a0_0x40255d(0x4ff)}},'required':['id','fromMe',a0_0x40255d(0x293)],...C('id',a0_0x40255d(0x293),a0_0x40255d(0x65f))},ei={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'where':{'type':a0_0x40255d(0x480),'properties':{'_id':{'type':a0_0x40255d(0x4ff),'minLength':0x1},'pushName':{'type':a0_0x40255d(0x4ff),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x40255d(0x3ba),'id',a0_0x40255d(0x1b8))}}},ti={'$id':(0x0,E['v4'])(),'type':'object','properties':{'name':{'type':a0_0x40255d(0x4ff)}},...C('name')},si={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'status':{'type':a0_0x40255d(0x4ff)}},...C(a0_0x40255d(0x784))},De={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{'type':a0_0x40255d(0x4ff)},'picture':{'type':'string'}}},ai={'type':a0_0x40255d(0x480),'properties':{'wuid':{'type':a0_0x40255d(0x4ff)},'name':{'type':a0_0x40255d(0x4ff)},'picture':{'type':'string'},'status':{'type':a0_0x40255d(0x4ff)},'isBusiness':{'type':a0_0x40255d(0x423)}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'where':{'type':a0_0x40255d(0x480),'properties':{'_id':{'type':a0_0x40255d(0x4ff),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x40255d(0x363),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x40255d(0x4ff),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x40255d(0x4ff),'minLength':0x1,'description':a0_0x40255d(0x72c)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x40255d(0x480)}},...C(a0_0x40255d(0x3ba))},'limit':{'type':'integer'}}},bc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x40255d(0x4ff)},'remoteJid':{'type':a0_0x40255d(0x4ff)},'id':{'type':a0_0x40255d(0x4ff)},'fromMe':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x40255d(0x4ff)},'status':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x6b6),'PENDING',a0_0x40255d(0x2a0),a0_0x40255d(0x3f0),a0_0x40255d(0x15e),a0_0x40255d(0x485)]}},...C('_id',a0_0x40255d(0x293),'id',a0_0x40255d(0x784))},'limit':{'type':a0_0x40255d(0x2b7)}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'number':{...Z},'presence':{'type':'string','enum':[a0_0x40255d(0x43a),a0_0x40255d(0x422),a0_0x40255d(0x18d),a0_0x40255d(0x33c),a0_0x40255d(0x415)]}},'required':[a0_0x40255d(0xf2),'number']},ri={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x40255d(0x4ff)},'description':{'type':'string'},'profilePicture':{'type':a0_0x40255d(0x4ff)},'participants':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x40255d(0x4ff),'minLength':0xa,'pattern':a0_0x40255d(0x793),'description':a0_0x40255d(0x6d4)}}},'required':[a0_0x40255d(0x7a1),a0_0x40255d(0x4cb)],...C(a0_0x40255d(0x7a1),'description',a0_0x40255d(0x5f7))},Pe={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':a0_0x40255d(0x4ff),'pattern':a0_0x40255d(0x7d9)}},'required':[a0_0x40255d(0xe2)],...C(a0_0x40255d(0xe2))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x40255d(0x4ff),'enum':['add',a0_0x40255d(0x792),a0_0x40255d(0x71f),a0_0x40255d(0x331),'reject',a0_0x40255d(0x722)]},'participants':{'type':a0_0x40255d(0x40a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x40255d(0x6d4)}}},'required':[a0_0x40255d(0xe2),'action',a0_0x40255d(0x4cb)],...C('groupJid',a0_0x40255d(0x73a))},ci={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'expiration':{'type':a0_0x40255d(0x21f),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x40255d(0xe2),a0_0x40255d(0x38f)],...C(a0_0x40255d(0xe2),a0_0x40255d(0x38f))},li={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'image':{'type':'string'}},'required':[a0_0x40255d(0xe2),a0_0x40255d(0x36d)],...C(a0_0x40255d(0xe2),a0_0x40255d(0x36d))},ui={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'description':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0xe2),a0_0x40255d(0x327)],...C(a0_0x40255d(0xe2),'description')},di={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'name':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0xe2),a0_0x40255d(0x6cc)],...C(a0_0x40255d(0xe2),a0_0x40255d(0x6cc))},pi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'setting':{'type':a0_0x40255d(0x4ff),'enum':[a0_0x40255d(0x462),a0_0x40255d(0x205),'unlocked','locked']}},'required':[a0_0x40255d(0xe2),a0_0x40255d(0x18c)],...C(a0_0x40255d(0xe2),a0_0x40255d(0x18c))},hi={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'groupJid':{'type':a0_0x40255d(0x4ff)},'restrict':{'type':a0_0x40255d(0x423)},'announce':{'type':a0_0x40255d(0x423)},'memberAddMode':{'type':a0_0x40255d(0x423)},'joinApprovalMode':{'type':a0_0x40255d(0x423)},'expiration':{'type':a0_0x40255d(0x2b7),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x40255d(0x4ff)},'description':{'type':a0_0x40255d(0x4ff)},'image':{'type':'string'}}},$s={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'inviteCode':{'type':a0_0x40255d(0x4ff)}},'required':[a0_0x40255d(0x67d)],...C(a0_0x40255d(0x67d))},gi={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url','enabled']},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x40255d(0x480),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x40255d(0x423),'enum':[!0x0,!0x1]}},'required':[a0_0x40255d(0x672),a0_0x40255d(0x806),a0_0x40255d(0x21d),'MESSAGES_SET',a0_0x40255d(0x6e5),a0_0x40255d(0xd5),a0_0x40255d(0x45e),a0_0x40255d(0x79a),a0_0x40255d(0x682),a0_0x40255d(0x2ce),'PRESENCE_UPDATE',a0_0x40255d(0x7ca),a0_0x40255d(0x217),a0_0x40255d(0x107),a0_0x40255d(0xf7),a0_0x40255d(0x56d),a0_0x40255d(0x3cb),'GROUPS_UPDATE',a0_0x40255d(0x5b0)],...C(a0_0x40255d(0x672),a0_0x40255d(0x806),a0_0x40255d(0x21d),'MESSAGES_SET',a0_0x40255d(0x6e5),a0_0x40255d(0xd5),a0_0x40255d(0x45e),'CONTACTS_SET',a0_0x40255d(0x682),a0_0x40255d(0x2ce),a0_0x40255d(0x20d),a0_0x40255d(0x7ca),a0_0x40255d(0x217),a0_0x40255d(0x107),a0_0x40255d(0xf7),a0_0x40255d(0x56d),a0_0x40255d(0x3cb),a0_0x40255d(0x128),a0_0x40255d(0x5b0))},lt=class{},ut=class extends _{[a0_0x40255d(0x459)](_0x4d08c5){return oa(_0x4d08c5);}async[a0_0x40255d(0x148)](_0x1a3a1e){const _0x4088ad=a0_0x40255d;if(_0x1a3a1e['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x1a3a1e[0x0][_0x4088ad(0x811)])[_0x4088ad(0x4a1)]([..._0x1a3a1e]))[_0x4088ad(0x111)]};}catch(_0x418edc){return _0x418edc;}}async[a0_0x40255d(0x5d1)](_0x516351,_0x197615){const _0x3006b8=a0_0x40255d;try{return{'deletedCount':(await this[_0x3006b8(0x459)](_0x197615)[_0x3006b8(0x4ee)]({..._0x516351[_0x3006b8(0x81d)]}))[_0x3006b8(0x3c7)]};}catch(_0xf411e){return{'error':_0xf411e?.[_0x3006b8(0x334)]()};}}async[a0_0x40255d(0x2d3)](_0x59994e,_0x4985ff){const _0x13b144=a0_0x40255d;try{if(_0x59994e[_0x13b144(0x111)]===0x0)return;let _0x5bfb19=this[_0x13b144(0x459)](_0x4985ff),_0x27e79f=_0x59994e[_0x13b144(0x54b)](_0x123e25=>({'updateOne':{'filter':{'_id':_0x123e25['_id'],'owner':_0x4985ff},'update':{..._0x123e25}}})),{modifiedCount:_0x25113a}=await _0x5bfb19[_0x13b144(0x72b)](_0x27e79f);return{'insertCount':_0x25113a};}catch{return;}}async[a0_0x40255d(0x284)](_0x365202,_0x972330){const _0x6cc2cd=a0_0x40255d;try{let _0x1c63bd=this[_0x6cc2cd(0x459)](_0x972330),_0x5ec5dd=I(_0x365202['where']);return await _0x1c63bd[_0x6cc2cd(0x284)](_0x5ec5dd)[_0x6cc2cd(0x2b6)](_0x365202?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x40255d(0x73b)](_0x45b1f0,_0xd16c51){const _0x385505=a0_0x40255d;try{let _0xeed02a=this[_0x385505(0x459)](_0xd16c51),_0x25d49c=I(_0x45b1f0[_0x385505(0x81d)]);return await _0xeed02a[_0x385505(0x73b)](_0x25d49c)[_0x385505(0x10f)]();}catch{return null;}}async[a0_0x40255d(0x53f)](_0x26ea94){const _0x27cb3e=a0_0x40255d;try{return await this[_0x27cb3e(0x459)](_0x26ea94)[_0x27cb3e(0x778)][_0x27cb3e(0x269)](),{'success':!0x0};}catch(_0x3e0cc9){return console[_0x27cb3e(0x6b3)](_0x3e0cc9),{'success':!0x1,'error':_0x3e0cc9};}}},dt=require(a0_0x40255d(0x341)),Ic=require(a0_0x40255d(0x47b)),Rs=new $(a0_0x40255d(0x3b6)),G=class{[a0_0x40255d(0x2cc)](_0x32ec6e,_0x684fb8=!0x0){const _0x6709a2=a0_0x40255d;let _0x368199='/'+_0x32ec6e;return _0x684fb8&&(_0x368199+=_0x6709a2(0x634)),_0x368199;}async[a0_0x40255d(0x4d6)](_0x1dfa5c){const _0x533fef=a0_0x40255d;let {request:_0x52ac54,schema:_0x10431e,ClassRef:_0x9e2d17,execute:_0x54c0ce}=_0x1dfa5c,_0x4f4a71=new _0x9e2d17(),_0xfc27f7=_0x52ac54['body'],_0x1e04d1=_0x52ac54['params'];_0x52ac54?.[_0x533fef(0x580)]&&Object[_0x533fef(0x702)](_0x52ac54['query'])['length']>0x0&&Object[_0x533fef(0x10c)](_0x1e04d1,_0x52ac54['query']),_0x52ac54[_0x533fef(0x585)][_0x533fef(0x5a1)](_0x533fef(0x509))&&Object['assign'](_0x1e04d1,_0xfc27f7),Object[_0x533fef(0x10c)](_0x4f4a71,_0xfc27f7);let _0x493626=_0x10431e?(0x0,dt['validate'])(_0x4f4a71,_0x10431e):{'valid':!0x0,'errors':[]};if(!_0x493626[_0x533fef(0x2b9)]){let _0xaf0bcc=_0x493626['errors'][_0x533fef(0x54b)](({property:_0x440255,stack:_0x19e2ad,schema:_0x5846e5})=>{const _0x5641de=_0x533fef;let _0x51d2a3;return _0x5846e5[_0x5641de(0x327)]?_0x51d2a3=_0x5846e5[_0x5641de(0x327)]:_0x51d2a3=_0x19e2ad['replace'](_0x5641de(0x185),''),{'property':_0x440255[_0x5641de(0x362)](_0x5641de(0x185),''),'message':_0x51d2a3};});throw Rs['error']([..._0xaf0bcc]),new m(..._0xaf0bcc);}return await _0x54c0ce(_0x1e04d1,_0x4f4a71);}async[a0_0x40255d(0x717)](_0x1123f3){const _0x5c2d54=a0_0x40255d;let {request:_0x219fb2,ClassRef:_0xa7be35,schema:_0x5308da,execute:_0x4ca6ab}=_0x1123f3,_0xb924ce=_0x219fb2[_0x5c2d54(0x580)];if(!_0xb924ce?.[_0x5c2d54(0xe2)])throw new m(_0x5c2d54(0x247),_0x5c2d54(0x3f3));let _0x56de9c=_0x219fb2[_0x5c2d54(0x715)],_0x1d97a7=_0x219fb2[_0x5c2d54(0x1d7)],_0x1f9f02=new _0xa7be35();Object['assign'](_0x1d97a7,_0xb924ce),Object[_0x5c2d54(0x10c)](_0x1f9f02,_0x1d97a7);let _0x2e7624=(0x0,dt['validate'])(_0x1f9f02,_0x5308da);if(!_0x2e7624[_0x5c2d54(0x2b9)]){let _0x51aeb6=_0x2e7624[_0x5c2d54(0x5a8)][_0x5c2d54(0x54b)](({property:_0x5f34c7,stack:_0x1cabe6,schema:_0x6516d2})=>{const _0x2cf853=_0x5c2d54;let _0x1217bb;return _0x6516d2[_0x2cf853(0x327)]?_0x1217bb=_0x6516d2[_0x2cf853(0x327)]:_0x1217bb=_0x1cabe6['replace'](_0x2cf853(0x185),''),{'property':_0x5f34c7['replace'](_0x2cf853(0x185),''),'message':_0x1217bb};});throw Rs[_0x5c2d54(0x6b3)]([..._0x51aeb6]),new m(..._0x51aeb6);}return await _0x4ca6ab(_0x56de9c,_0x1f9f02);}async[a0_0x40255d(0x7cf)](_0x27a528){const _0x88bada=a0_0x40255d;let {request:_0x4ea23e,ClassRef:_0x3d4e5a,schema:_0x4193f5,execute:_0x107879}=_0x27a528,_0x146c1a=_0x4ea23e[_0x88bada(0x1d7)];if(!_0x146c1a?.['inviteCode'])throw new m(_0x88bada(0x4f2),_0x88bada(0x6c2));let _0x1c8903=_0x4ea23e['params'],_0x59b9db=_0x4ea23e['body'],_0x4a4daa=new _0x3d4e5a();Object[_0x88bada(0x10c)](_0x59b9db,_0x146c1a),Object[_0x88bada(0x10c)](_0x4a4daa,_0x59b9db);let _0x48b593=(0x0,dt['validate'])(_0x4a4daa,_0x4193f5);if(!_0x48b593[_0x88bada(0x2b9)]){let _0x175071=_0x48b593[_0x88bada(0x5a8)]['map'](({property:_0x1f010f,stack:_0x1387d9,schema:_0x7b19f5})=>{const _0x4b1a10=_0x88bada;let _0x14ebe5;return _0x7b19f5[_0x4b1a10(0x327)]?_0x14ebe5=_0x7b19f5[_0x4b1a10(0x327)]:_0x14ebe5=_0x1387d9['replace'](_0x4b1a10(0x185),''),{'property':_0x1f010f[_0x4b1a10(0x362)]('instance.',''),'message':_0x14ebe5};});throw Rs[_0x88bada(0x6b3)]([..._0x175071]),new m(..._0x175071);}return await _0x107879(_0x1c8903,_0x4a4daa);}},M=class{},Gc=new $('ChatRouter'),pt=class extends G{constructor(..._0xb29b04){const _0x73bf2d=a0_0x40255d;super(),this[_0x73bf2d(0x2fd)]=(0x0,mi[_0x73bf2d(0x10b)])(),this['router'][_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)]('updatePresence'),..._0xb29b04,async(_0x56c981,_0x4dea44)=>{const _0x3cd098=_0x73bf2d;let _0xd48592=await this[_0x3cd098(0x4d6)]({'request':_0x56c981,'schema':oi,'ClassRef':et,'execute':(_0x3aa921,_0x74aefb)=>k[_0x3cd098(0x69c)](_0x3aa921,_0x74aefb)});return _0x4dea44[_0x3cd098(0x784)](0xc9)[_0x3cd098(0x6b1)](_0xd48592);})[_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x221)),..._0xb29b04,async(_0x737149,_0xabc7c)=>{const _0x42f3d0=_0x73bf2d;let _0x33da9e=await this['dataValidate']({'request':_0x737149,'schema':Ka,'ClassRef':tt,'execute':(_0xfcd7c2,_0x593c2c)=>k[_0x42f3d0(0x4ef)](_0xfcd7c2,_0x593c2c)});return _0xabc7c['status'](0xc9)[_0x42f3d0(0x6b1)](_0x33da9e);})['post'](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x7a0)),..._0xb29b04,async(_0x6b5aef,_0x11daf9)=>{const _0x42ab05=_0x73bf2d;let _0x3781ea=await this[_0x42ab05(0x4d6)]({'request':_0x6b5aef,'schema':v,'ClassRef':M,'execute':(_0x7580ac,_0x507b39)=>k['editChat'](_0x7580ac,_0x507b39)});return _0x11daf9[_0x42ab05(0x784)](0xc9)[_0x42ab05(0x6b1)](_0x3781ea);})['put'](this['routerPath'](_0x73bf2d(0x54e)),..._0xb29b04,async(_0x48a9d2,_0x33f528)=>{const _0xc4da10=_0x73bf2d;let _0x3b4ecb=await this[_0xc4da10(0x4d6)]({'request':_0x48a9d2,'schema':Qa,'ClassRef':it,'execute':(_0x2ce4e7,_0x3c3b2c)=>k[_0xc4da10(0x616)](_0x2ce4e7,_0x3c3b2c)});return _0x33f528['status'](0xc9)['json'](_0x3b4ecb);})['put'](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x69e)),..._0xb29b04,async(_0x5453e7,_0x2988a7)=>{const _0x299622=_0x73bf2d;let _0x1e2204=await this['dataValidate']({'request':_0x5453e7,'schema':Xa,'ClassRef':ot,'execute':(_0x2ed3a5,_0x8afd1)=>k[_0x299622(0x69e)](_0x2ed3a5,_0x8afd1)});return _0x2988a7[_0x299622(0x784)](0xc9)[_0x299622(0x6b1)](_0x1e2204);})[_0x73bf2d(0x5d1)](this[_0x73bf2d(0x2cc)]('deleteMessageForEveryone'),..._0xb29b04,async(_0x29579d,_0x106164)=>{const _0x7670a7=_0x73bf2d;let _0x32fc8a=await this[_0x7670a7(0x4d6)]({'request':_0x29579d,'schema':Za,'ClassRef':nt,'execute':(_0xd82259,_0x38a0bb)=>k[_0x7670a7(0x4ec)](_0xd82259,_0x38a0bb)});return _0x106164['status'](0xc9)[_0x7670a7(0x6b1)](_0x32fc8a);})[_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x743)),..._0xb29b04,async(_0x3362a9,_0x1cceaa)=>{const _0x52a601=_0x73bf2d;let _0x40c69c=await this[_0x52a601(0x4d6)]({'request':_0x3362a9,'schema':De,'ClassRef':_e,'execute':(_0x1e6b67,_0x40587e)=>k[_0x52a601(0x61e)](_0x1e6b67,_0x40587e)});return _0x1cceaa[_0x52a601(0x784)](0xc8)[_0x52a601(0x6b1)](_0x40c69c);})['post'](this[_0x73bf2d(0x2cc)]('fetchProfile'),..._0xb29b04,async(_0x1a7400,_0x1c91fb)=>{const _0x47a2a0=_0x73bf2d;let _0x106d3a=await this[_0x47a2a0(0x4d6)]({'request':_0x1a7400,'schema':ai,'ClassRef':_e,'execute':(_0x122c57,_0x27fc17)=>k['fetchProfile'](_0x122c57,_0x27fc17)});return _0x1c91fb[_0x47a2a0(0x784)](0xc8)[_0x47a2a0(0x6b1)](_0x106d3a);})[_0x73bf2d(0x64d)](this['routerPath'](_0x73bf2d(0x595)),..._0xb29b04,async(_0x565595,_0x337d03)=>{const _0x2c26c3=_0x73bf2d;let _0x2be35b=await this[_0x2c26c3(0x4d6)]({'request':_0x565595,'schema':ei,'ClassRef':lt,'execute':(_0x4d6855,_0x509c76)=>k['fetchContacts'](_0x4d6855,_0x509c76)});return _0x337d03['status'](0xc8)[_0x2c26c3(0x6b1)](_0x2be35b);})['post'](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x23d)),..._0xb29b04,async(_0x2c46c3,_0x4b045f)=>{const _0x45eb70=_0x73bf2d;let _0x283083=await this['dataValidate']({'request':_0x2c46c3,'schema':null,'ClassRef':Object,'execute':(_0x54c6e0,_0x1ed479)=>k['getBase64FromMediaMessage'](_0x54c6e0,_0x1ed479)});return _0x4b045f[_0x45eb70(0x784)](0xc9)[_0x45eb70(0x6b1)](_0x283083);})['post'](this['routerPath']('findMessages'),..._0xb29b04,async(_0x4c6182,_0x4a0943)=>{const _0x2b85bf=_0x73bf2d;let _0x3eff6a=await this[_0x2b85bf(0x4d6)]({'request':_0x4c6182,'schema':ii,'ClassRef':Xe,'execute':(_0x66fd17,_0x37108c)=>k['fetchMessages'](_0x66fd17,_0x37108c)});return _0x4a0943[_0x2b85bf(0x784)](0xc8)[_0x2b85bf(0x6b1)](_0x3eff6a);})[_0x73bf2d(0x35f)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x815)),..._0xb29b04,async(_0x53d347,_0x21811c)=>{const _0x4d3d08=_0x73bf2d;let _0x2dc662=await this[_0x4d3d08(0x4d6)]({'request':_0x53d347,'schema':null,'ClassRef':M,'execute':_0x5defc2=>k[_0x4d3d08(0x705)](_0x5defc2)});return _0x21811c['status'](0xc8)[_0x4d3d08(0x6b1)](_0x2dc662);})[_0x73bf2d(0x35f)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x801)),..._0xb29b04,async(_0x460135,_0x57a35d)=>{const _0x334ee2=_0x73bf2d;let _0x56cfa6=await this[_0x334ee2(0x4d6)]({'request':_0x460135,'schema':null,'ClassRef':M,'execute':_0x4c1544=>k[_0x334ee2(0x5f6)](_0x4c1544)});return _0x57a35d['status'](0xc8)['json'](_0x56cfa6);})[_0x73bf2d(0xfc)](this[_0x73bf2d(0x2cc)]('importChats'),..._0xb29b04,async(_0xbc6961,_0x236359)=>{const _0x30f8f7=_0x73bf2d;let _0x43c1c3=await this[_0x30f8f7(0x4d6)]({'request':_0xbc6961,'schema':null,'ClassRef':Array,'execute':(_0x2d2632,_0x88cd08)=>k[_0x30f8f7(0x431)](_0x2d2632,_0x88cd08)});return _0x236359['status'](0xc8)[_0x30f8f7(0x6b1)](_0x43c1c3);})[_0x73bf2d(0x35f)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x608)),..._0xb29b04,async(_0x4aa219,_0xd3cd3f)=>{const _0x359888=_0x73bf2d;let _0x271aac=await this[_0x359888(0x4d6)]({'request':_0x4aa219,'schema':null,'ClassRef':M,'execute':_0xf4cc28=>k['fetchPrivacySettings'](_0xf4cc28)});return _0xd3cd3f[_0x359888(0x784)](0xc8)['json'](_0x271aac);})['put'](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x2e5)),..._0xb29b04,async(_0x1c8827,_0x31194c)=>{const _0x1ecd47=_0x73bf2d;let _0x7a0d46=await this[_0x1ecd47(0x4d6)]({'request':_0x1c8827,'schema':Ya,'ClassRef':rt,'execute':(_0x361611,_0x3806df)=>k[_0x1ecd47(0x2e5)](_0x361611,_0x3806df)});return _0x31194c[_0x1ecd47(0x784)](0xc9)[_0x1ecd47(0x6b1)](_0x7a0d46);})[_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x2c9)),..._0xb29b04,async(_0x1729b6,_0x150d2c)=>{const _0x4f9bfd=_0x73bf2d;let _0x9bd117=await this['dataValidate']({'request':_0x1729b6,'schema':De,'ClassRef':ve,'execute':(_0x2abd82,_0x33924d)=>k[_0x4f9bfd(0x2c9)](_0x2abd82,_0x33924d)});return _0x150d2c[_0x4f9bfd(0x784)](0xc8)['json'](_0x9bd117);})[_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x57a)),..._0xb29b04,async(_0x58e331,_0x3b9d3d)=>{const _0x221d06=_0x73bf2d;let _0x46326a=await this[_0x221d06(0x4d6)]({'request':_0x58e331,'schema':ti,'ClassRef':st,'execute':(_0x1b7732,_0x3e10d0)=>k[_0x221d06(0x57a)](_0x1b7732,_0x3e10d0)});return _0x3b9d3d['status'](0xc8)[_0x221d06(0x6b1)](_0x46326a);})[_0x73bf2d(0x64d)](this[_0x73bf2d(0x2cc)](_0x73bf2d(0x688)),..._0xb29b04,async(_0x3c2935,_0x26158d)=>{const _0x554f3b=_0x73bf2d;let _0x2b9f65=await this[_0x554f3b(0x4d6)]({'request':_0x3c2935,'schema':si,'ClassRef':at,'execute':(_0x4858e3,_0x434dca)=>k['updateProfileStatus'](_0x4858e3,_0x434dca)});return _0x26158d['status'](0xc8)['json'](_0x2b9f65);})[_0x73bf2d(0xfc)](this['routerPath']('updateProfilePicture'),..._0xb29b04,async(_0x11ba51,_0x3d9bfa)=>{const _0x12b024=_0x73bf2d;let _0x184d61=await this['dataValidate']({'request':_0x11ba51,'schema':De,'ClassRef':ve,'execute':(_0x1c481f,_0x5392a2)=>k[_0x12b024(0x229)](_0x1c481f,_0x5392a2)});return _0x3d9bfa[_0x12b024(0x784)](0xc8)[_0x12b024(0x6b1)](_0x184d61);})[_0x73bf2d(0x5d1)](this['routerPath'](_0x73bf2d(0x3a6)),..._0xb29b04,async(_0x5676e2,_0x58b60b)=>{const _0x1de373=_0x73bf2d;let _0x5a3c1c=await this['dataValidate']({'request':_0x5676e2,'schema':De,'ClassRef':ve,'execute':(_0x383457,_0xbf6904)=>k['removeProfilePicture'](_0x383457,_0xbf6904)});return _0x58b60b['status'](0xc8)[_0x1de373(0x6b1)](_0x5a3c1c);});}},fi=require('express'),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ie=class{},ke=class{},bt=class extends ie{},St=class extends ie{},Mt=class extends G{constructor(..._0x3dc25f){const _0x5e3fa8=a0_0x40255d;super(),this[_0x5e3fa8(0x2fd)]=(0x0,fi[_0x5e3fa8(0x10b)])(),this['router'][_0x5e3fa8(0x64d)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0x349)),..._0x3dc25f,async(_0x1baae2,_0x5b49c6)=>{const _0x2539b8=_0x5e3fa8;let _0x444f89=await this[_0x2539b8(0x4d6)]({'request':_0x1baae2,'schema':ri,'ClassRef':ht,'execute':(_0x1706b3,_0x2cec99)=>V[_0x2539b8(0x242)](_0x1706b3,_0x2cec99)});_0x5b49c6[_0x2539b8(0x784)](0xc9)['json'](_0x444f89);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0xdd)),..._0x3dc25f,async(_0x53c39b,_0x8c5775)=>{const _0x1add27=_0x5e3fa8;let _0x3a6a54=await this[_0x1add27(0x717)]({'request':_0x53c39b,'schema':li,'ClassRef':gt,'execute':(_0x6fd482,_0x2e3652)=>V[_0x1add27(0xdd)](_0x6fd482,_0x2e3652)});_0x8c5775['status'](0xc9)['json'](_0x3a6a54);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0x4b2)),..._0x3dc25f,async(_0x30e1aa,_0x473335)=>{const _0x209758=_0x5e3fa8;let _0x15025e=await this['groupValidate']({'request':_0x30e1aa,'schema':ui,'ClassRef':mt,'execute':(_0xbb2b30,_0x1b138c)=>V[_0x209758(0x4b2)](_0xbb2b30,_0x1b138c)});_0x473335['status'](0xc9)[_0x209758(0x6b1)](_0x15025e);})[_0x5e3fa8(0xfc)](this['routerPath'](_0x5e3fa8(0x268)),..._0x3dc25f,async(_0x2a0c3f,_0xa83498)=>{const _0x2a1a8f=_0x5e3fa8;let _0xd8804f=await this[_0x2a1a8f(0x717)]({'request':_0x2a0c3f,'schema':di,'ClassRef':ft,'execute':(_0x5a7ef8,_0x46b8f5)=>V['groupName'](_0x5a7ef8,_0x46b8f5)});_0xa83498[_0x2a1a8f(0x784)](0xc9)[_0x2a1a8f(0x6b1)](_0xd8804f);})[_0x5e3fa8(0xfc)](this['routerPath']('groupBetterSetting'),..._0x3dc25f,async(_0xf05836,_0x3de130)=>{const _0xf051df=_0x5e3fa8;let _0x55330f=await this[_0xf051df(0x717)]({'request':_0xf05836,'schema':hi,'ClassRef':yt,'execute':(_0x8ee7a0,_0x2becbd)=>V[_0xf051df(0x487)](_0x8ee7a0,_0x2becbd)});_0x3de130[_0xf051df(0x784)](0xc9)[_0xf051df(0x6b1)](_0x55330f);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0x34a)),..._0x3dc25f,async(_0x19cce6,_0x435b32)=>{const _0xbd691c=_0x5e3fa8;let _0x25d3c7=await this['groupValidate']({'request':_0x19cce6,'schema':pi,'ClassRef':wt,'execute':(_0x2496ed,_0x29b2c2)=>V[_0xbd691c(0x34a)](_0x2496ed,_0x29b2c2)});_0x435b32[_0xbd691c(0x784)](0xc9)[_0xbd691c(0x6b1)](_0x25d3c7);})['put'](this[_0x5e3fa8(0x2cc)]('toggleEphemeral'),..._0x3dc25f,async(_0x5c476d,_0xba16f3)=>{const _0x421bc2=_0x5e3fa8;let _0x555086=await this[_0x421bc2(0x717)]({'request':_0x5c476d,'schema':ci,'ClassRef':St,'execute':(_0x3d2cff,_0x1a4906)=>V[_0x421bc2(0x20f)](_0x3d2cff,_0x1a4906)});_0xba16f3[_0x421bc2(0x784)](0xc9)[_0x421bc2(0x6b1)](_0x555086);})[_0x5e3fa8(0x35f)](this['routerPath'](_0x5e3fa8(0x69f)),..._0x3dc25f,async(_0x33c885,_0x37d391)=>{const _0x43c8b8=_0x5e3fa8;let _0xf86dd9=await this['groupValidate']({'request':_0x33c885,'schema':Pe,'ClassRef':ie,'execute':(_0x16bcc6,_0x284c5a)=>V[_0x43c8b8(0x6bf)](_0x16bcc6,_0x284c5a)});_0x37d391[_0x43c8b8(0x784)](0xc8)[_0x43c8b8(0x6b1)](_0xf86dd9);})[_0x5e3fa8(0x35f)](this['routerPath'](_0x5e3fa8(0x291)),..._0x3dc25f,async(_0x239a90,_0x2a6513)=>{const _0x1d7490=_0x5e3fa8;let _0x1ed1af=await this[_0x1d7490(0x4d6)]({'request':_0x239a90,'schema':v,'ClassRef':M,'execute':_0x49a268=>V[_0x1d7490(0x291)](_0x49a268)});_0x2a6513[_0x1d7490(0x784)](0xc8)['json'](_0x1ed1af);})[_0x5e3fa8(0x35f)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0x4cb)),..._0x3dc25f,async(_0x51c783,_0x514315)=>{const _0x552ce2=_0x5e3fa8;let _0x137c9a=await this[_0x552ce2(0x717)]({'request':_0x51c783,'schema':Pe,'ClassRef':ie,'execute':(_0x40e352,_0x461048)=>V[_0x552ce2(0x48d)](_0x40e352,_0x461048)});_0x514315[_0x552ce2(0x784)](0xc8)[_0x552ce2(0x6b1)](_0x137c9a);})[_0x5e3fa8(0x35f)](this[_0x5e3fa8(0x2cc)]('inviteCode'),..._0x3dc25f,async(_0x44f710,_0x195a9b)=>{const _0x1cdc1c=_0x5e3fa8;let _0x400a9a=await this['groupValidate']({'request':_0x44f710,'schema':Pe,'ClassRef':ie,'execute':(_0x30c41b,_0x2c66be)=>V[_0x1cdc1c(0x67d)](_0x30c41b,_0x2c66be)});_0x195a9b[_0x1cdc1c(0x784)](0xc8)[_0x1cdc1c(0x6b1)](_0x400a9a);})['post'](this[_0x5e3fa8(0x2cc)]('inviteCodeDetails'),..._0x3dc25f,async(_0x5afe0d,_0x31324b)=>{const _0x3b8e7d=_0x5e3fa8;let _0x4fcd93=await this[_0x3b8e7d(0x7cf)]({'request':_0x5afe0d,'schema':$s,'ClassRef':ke,'execute':(_0x5e5dfd,_0x6a4b90)=>V[_0x3b8e7d(0x42b)](_0x5e5dfd,_0x6a4b90)});_0x31324b[_0x3b8e7d(0x784)](0xc9)['json'](_0x4fcd93);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)]('joinGroup'),..._0x3dc25f,async(_0xae1f97,_0x361ae6)=>{const _0x3087dc=_0x5e3fa8;let _0x20e77a=await this[_0x3087dc(0x7cf)]({'request':_0xae1f97,'schema':$s,'ClassRef':ke,'execute':(_0x5d7e10,_0x2636f9)=>V[_0x3087dc(0x1db)](_0x5d7e10,_0x2636f9)});_0x361ae6[_0x3087dc(0x784)](0xc9)[_0x3087dc(0x6b1)](_0x20e77a);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)]('revokeInviteCode'),..._0x3dc25f,async(_0xb3a7c,_0x1138d8)=>{const _0x48ce10=_0x5e3fa8;let _0x54eb1e=await this['groupValidate']({'request':_0xb3a7c,'schema':Pe,'ClassRef':ie,'execute':(_0x580dc6,_0x431f08)=>V[_0x48ce10(0x665)](_0x580dc6,_0x431f08)});_0x1138d8[_0x48ce10(0x784)](0xc9)['json'](_0x54eb1e);})[_0x5e3fa8(0xfc)](this[_0x5e3fa8(0x2cc)]('updateParticipant'),..._0x3dc25f,async(_0x32adf0,_0x22a470)=>{const _0x32ad58=_0x5e3fa8;let _0x1123dc=await this[_0x32ad58(0x717)]({'request':_0x32adf0,'schema':ni,'ClassRef':bt,'execute':(_0x29da09,_0x6ece24)=>V[_0x32ad58(0x5be)](_0x29da09,_0x6ece24)});_0x22a470[_0x32ad58(0x784)](0xc9)[_0x32ad58(0x6b1)](_0x1123dc);})[_0x5e3fa8(0x5d1)](this[_0x5e3fa8(0x2cc)](_0x5e3fa8(0x182)),..._0x3dc25f,async(_0x35096f,_0xb2932e)=>{const _0x3d77aa=_0x5e3fa8;let _0x140458=await this[_0x3d77aa(0x717)]({'request':_0x35096f,'schema':{},'ClassRef':ie,'execute':(_0x97c0c2,_0x457c26)=>V[_0x3d77aa(0x182)](_0x97c0c2,_0x457c26)});_0xb2932e[_0x3d77aa(0x784)](0xc8)[_0x3d77aa(0x6b1)](_0x140458);});}},wi=require(a0_0x40255d(0x76b)),Ct=class extends G{constructor(_0x3fb39c,..._0x4d421f){const _0x342de4=a0_0x40255d;super(),this[_0x342de4(0x27d)]=_0x3fb39c,this[_0x342de4(0x2fd)]=(0x0,wi[_0x342de4(0x10b)])();let _0x2a02ae=_0x3fb39c['get']('AUTHENTICATION');this[_0x342de4(0x2fd)][_0x342de4(0x64d)](_0x342de4(0x684),..._0x4d421f,async(_0x20f494,_0x53fdf8)=>{const _0x1d2a1b=_0x342de4;let {instanceName:_0x19095b,apikey:_0x4d5023,number:_0x5c4d3d}=_0x20f494['body'],_0x3c3613=await he['createInstance']({'instanceName':_0x19095b,'apikey':_0x4d5023,'number':_0x5c4d3d});return _0x53fdf8[_0x1d2a1b(0x784)](0xc9)[_0x1d2a1b(0x6b1)](_0x3c3613);})['put'](this[_0x342de4(0x2cc)](_0x342de4(0x198)),..._0x4d421f,async(_0x3b1959,_0x5e9c2c)=>{let _0xf13b2=await this['dataValidate']({'request':_0x3b1959,'schema':v,'ClassRef':M,'execute':_0x58af2e=>he['restartInstance'](_0x58af2e)});return _0x5e9c2c['status'](0xc8)['json'](_0xf13b2);})[_0x342de4(0x35f)](this[_0x342de4(0x2cc)](_0x342de4(0x5d2)),..._0x4d421f,async(_0x333a66,_0x4dfbad)=>{const _0x33fd5d=_0x342de4;let _0x403d78=await this[_0x33fd5d(0x4d6)]({'request':_0x333a66,'schema':v,'ClassRef':M,'execute':_0x332175=>he[_0x33fd5d(0x2d8)](_0x332175)});return _0x4dfbad[_0x33fd5d(0x784)](0xc8)[_0x33fd5d(0x6b1)](_0x403d78);})[_0x342de4(0x35f)](this['routerPath']('connectionState'),..._0x4d421f,async(_0xae0d9b,_0x1b491e)=>{const _0xc964d6=_0x342de4;let _0x29b42a=await this[_0xc964d6(0x4d6)]({'request':_0xae0d9b,'schema':v,'ClassRef':M,'execute':_0x3eb01e=>he[_0xc964d6(0x651)](_0x3eb01e)});return _0x1b491e['status'](0xc8)[_0xc964d6(0x6b1)](_0x29b42a);})['get'](this['routerPath'](_0x342de4(0x707),!0x1),..._0x4d421f,async(_0x535d8f,_0x10f2e7)=>{const _0x232ffb=_0x342de4;let _0x3abd10=await this['dataValidate']({'request':_0x535d8f,'schema':null,'ClassRef':M,'execute':_0x56ea2b=>he['fetchInstances'](_0x56ea2b)});return _0x10f2e7[_0x232ffb(0x784)](0xc8)[_0x232ffb(0x6b1)](_0x3abd10);})['delete'](this[_0x342de4(0x2cc)]('logout'),..._0x4d421f,async(_0x244717,_0xf88159)=>{const _0x2d892b=_0x342de4;let _0x59a63b=await this['dataValidate']({'request':_0x244717,'schema':v,'ClassRef':M,'execute':_0x1abf95=>he[_0x2d892b(0x536)](_0x1abf95)});return _0xf88159[_0x2d892b(0x784)](0xc8)['json'](_0x59a63b);})['delete'](this[_0x342de4(0x2cc)](_0x342de4(0x5d1)),..._0x4d421f,async(_0x2d9415,_0x394399)=>{const _0x27467d=_0x342de4;let _0x5b8484=await this[_0x27467d(0x4d6)]({'request':_0x2d9415,'schema':v,'ClassRef':M,'execute':_0x36266f=>he[_0x27467d(0x454)](_0x36266f)});return _0x394399[_0x27467d(0x784)](0xc8)[_0x27467d(0x6b1)](_0x5b8484);});}},yi=require(a0_0x40255d(0x76b)),As=class{},Y=class extends As{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},$t=class extends Y{},Le=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class extends Y{},_t=class{},xt=class extends G{constructor(..._0x13687b){const _0x13cb6a=a0_0x40255d;super(),this['router']=(0x0,yi['Router'])(),this['router'][_0x13cb6a(0x64d)](this['routerPath']('sendText'),..._0x13687b,async(_0x2104ab,_0x49535c)=>{const _0x15bab0=_0x13cb6a;let _0x9ca9d1=await this[_0x15bab0(0x4d6)]({'request':_0x2104ab,'schema':ka,'ClassRef':Et,'execute':(_0x25ec90,_0xf0e4d5)=>H['sendText'](_0x25ec90,_0xf0e4d5)});return _0x49535c[_0x15bab0(0x784)](0xc9)[_0x15bab0(0x6b1)](_0x9ca9d1);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)]('sendMedia'),..._0x13687b,async(_0x23d215,_0x4bd50a)=>{const _0x530fc0=_0x13cb6a;let _0x49657c=await this['dataValidate']({'request':_0x23d215,'schema':ja,'ClassRef':Le,'execute':(_0x323ee5,_0x5aeb83)=>H[_0x530fc0(0x36e)](_0x323ee5,_0x5aeb83)});return _0x4bd50a[_0x530fc0(0x784)](0xc9)['json'](_0x49657c);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)](_0x13cb6a(0xe8)),..._0x13687b,async(_0xe0b6d5,_0x50c019)=>{const _0xcf22c7=_0x13cb6a;let _0x2b2efd=await this['dataValidate']({'request':_0xe0b6d5,'schema':Va,'ClassRef':$t,'execute':(_0x7c7eae,_0x1dafbd)=>H[_0xcf22c7(0xe8)](_0x7c7eae,_0x1dafbd)});return _0x50c019[_0xcf22c7(0x784)](0xc9)[_0xcf22c7(0x6b1)](_0x2b2efd);})['post'](this[_0x13cb6a(0x2cc)]('sendWhatsAppAudio'),..._0x13687b,async(_0x1508db,_0x5cf5e9)=>{const _0x1a21b5=_0x13cb6a;let _0x18b325=await this[_0x1a21b5(0x4d6)]({'request':_0x1508db,'schema':Ja,'ClassRef':Le,'execute':(_0x4c51ec,_0x347ffa)=>H[_0x1a21b5(0x5b2)](_0x4c51ec,_0x347ffa)});return _0x5cf5e9[_0x1a21b5(0x784)](0xc9)['json'](_0x18b325);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)](_0x13cb6a(0x450)),..._0x13687b,async(_0x1d2410,_0x19808)=>{const _0x52e857=_0x13cb6a;let _0x52e5e4=await this[_0x52e857(0x4d6)]({'request':_0x1d2410,'schema':Ga,'ClassRef':At,'execute':(_0x4abaa8,_0x1710e8)=>H[_0x52e857(0x450)](_0x4abaa8,_0x1710e8)});return _0x19808['status'](0xc9)[_0x52e857(0x6b1)](_0x52e5e4);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)]('sendLocation'),..._0x13687b,async(_0x55494b,_0x5bc92b)=>{const _0x4465de=_0x13cb6a;let _0x15a4f9=await this['dataValidate']({'request':_0x55494b,'schema':Ba,'ClassRef':It,'execute':(_0x3d513d,_0x287212)=>H[_0x4465de(0x6a2)](_0x3d513d,_0x287212)});return _0x5bc92b[_0x4465de(0x784)](0xc9)[_0x4465de(0x6b1)](_0x15a4f9);})[_0x13cb6a(0x64d)](this['routerPath'](_0x13cb6a(0x6de)),..._0x13687b,async(_0x3adfa6,_0x242828)=>{const _0x51e366=_0x13cb6a;let _0x48d61b=await this[_0x51e366(0x4d6)]({'request':_0x3adfa6,'schema':Wa,'ClassRef':Tt,'execute':(_0x1d61bc,_0x440a48)=>H[_0x51e366(0x6de)](_0x1d61bc,_0x440a48)});return _0x242828[_0x51e366(0x784)](0xc9)['json'](_0x48d61b);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)]('sendContact'),..._0x13687b,async(_0x1f646b,_0x29c676)=>{const _0x355320=_0x13cb6a;let _0x4ff64f=await this[_0x355320(0x4d6)]({'request':_0x1f646b,'schema':za,'ClassRef':Ot,'execute':(_0x18e3f8,_0x53cfd1)=>H[_0x355320(0x2cf)](_0x18e3f8,_0x53cfd1)});return _0x29c676[_0x355320(0x784)](0xc9)[_0x355320(0x6b1)](_0x4ff64f);})[_0x13cb6a(0x64d)](this['routerPath']('sendReaction'),..._0x13687b,async(_0x1f0b0a,_0x543753)=>{const _0x3e5b5c=_0x13cb6a;let _0x2b8066=await this[_0x3e5b5c(0x4d6)]({'request':_0x1f0b0a,'schema':Ha,'ClassRef':_t,'execute':(_0x75d52,_0x2d7a52)=>H[_0x3e5b5c(0x471)](_0x75d52,_0x2d7a52)});return _0x543753[_0x3e5b5c(0x784)](0xc9)[_0x3e5b5c(0x6b1)](_0x2b8066);})[_0x13cb6a(0x64d)](this['routerPath']('sendPoll'),..._0x13687b,async(_0xc22bc1,_0x32c191)=>{const _0x2e50ac=_0x13cb6a;let _0x1df1b5=await this['dataValidate']({'request':_0xc22bc1,'schema':qa,'ClassRef':Nt,'execute':(_0x52316f,_0x36b6d6)=>H[_0x2e50ac(0x3d1)](_0x52316f,_0x36b6d6)});return _0x32c191['status'](0xc9)[_0x2e50ac(0x6b1)](_0x1df1b5);})['post'](this['routerPath'](_0x13cb6a(0x556)),..._0x13687b,async(_0x5b6c34,_0x14fbe1)=>{const _0x943483=_0x13cb6a;let _0x1bf1db=await this[_0x943483(0x4d6)]({'request':_0x5b6c34,'schema':Ua,'ClassRef':vt,'execute':(_0x27bad7,_0x3a360f)=>H[_0x943483(0x556)](_0x27bad7,_0x3a360f)});return _0x14fbe1[_0x943483(0x784)](0xc9)[_0x943483(0x6b1)](_0x1bf1db);})[_0x13cb6a(0x64d)](this[_0x13cb6a(0x2cc)](_0x13cb6a(0x429)),..._0x13687b,async(_0x3d2196,_0x11b9d5)=>{const _0x5dacac=_0x13cb6a;let _0x50c3a3=await this['dataValidate']({'request':_0x3d2196,'schema':Fa,'ClassRef':Rt,'execute':(_0x4d3a61,_0x1622b1)=>H[_0x5dacac(0x429)](_0x4d3a61,_0x1622b1)});return _0x11b9d5['status'](0xc9)['json'](_0x50c3a3);});}},bi=require(a0_0x40255d(0x76b)),Dt=class{},Pt=class extends G{constructor(..._0x4987c6){const _0x4369e2=a0_0x40255d;super(),this[_0x4369e2(0x2fd)]=(0x0,bi[_0x4369e2(0x10b)])(),this[_0x4369e2(0x2fd)][_0x4369e2(0x64d)](this[_0x4369e2(0x2cc)](_0x4369e2(0x744)),..._0x4987c6,async(_0x4ca3bc,_0x2f5411)=>{const _0x1817b1=_0x4369e2;let _0x42efe1=await this[_0x1817b1(0x4d6)]({'request':_0x4ca3bc,'schema':gi,'ClassRef':Dt,'execute':(_0x24c480,_0x269c38)=>Is[_0x1817b1(0x7ab)](_0x24c480,_0x269c38)});_0x2f5411['status'](0xc9)[_0x1817b1(0x6b1)](_0x42efe1);})[_0x4369e2(0x35f)](this[_0x4369e2(0x2cc)](_0x4369e2(0x284)),..._0x4987c6,async(_0x4f8dce,_0x4d0d0d)=>{const _0x160453=_0x4369e2;let _0x3187d0=await this['dataValidate']({'request':_0x4f8dce,'schema':v,'ClassRef':M,'execute':_0x32d198=>Is[_0x160453(0x283)](_0x32d198)});_0x4d0d0d['status'](0xc8)[_0x160453(0x6b1)](_0x3187d0);});}},Si=require('express'),y=new $('FlowRouter'),kt=class extends G{constructor(..._0x90c48a){const _0xe25f87=a0_0x40255d;super(),this[_0xe25f87(0x2fd)]=(0x0,Si[_0xe25f87(0x10b)])(),this['router']['post'](this['routerPath']('scheduleMessage'),..._0x90c48a,async(_0x3d99f8,_0x3c0ebe)=>{const _0x532768=_0xe25f87;let _0x5c8d8e=_0x3d99f8[_0x532768(0x1d7)];y[_0x532768(0x5ab)](_0x532768(0x260)),y['verbose']('request\x20body:\x20'),y[_0x532768(0x5ab)](_0x3d99f8[_0x532768(0x1d7)]);let _0x4a7485=await this['dataValidate']({'request':_0x3d99f8,'schema':v,'ClassRef':M,'execute':_0xed830a=>T[_0x532768(0x7c2)](_0xed830a,_0x5c8d8e)});_0x3c0ebe['status'](0xc8)[_0x532768(0x6b1)](_0x4a7485);})[_0xe25f87(0x35f)](this[_0xe25f87(0x2cc)](_0xe25f87(0x3cf)),..._0x90c48a,async(_0xf37656,_0x14bdf3)=>{const _0x391618=_0xe25f87;let _0x34234c=await this[_0x391618(0x4d6)]({'request':_0xf37656,'schema':v,'ClassRef':M,'execute':_0x5b3815=>T[_0x391618(0x2a4)](_0x5b3815)});_0x14bdf3[_0x391618(0x784)](0xc8)['json'](_0x34234c);})[_0xe25f87(0x5d1)](this[_0xe25f87(0x2cc)](_0xe25f87(0x4f3)),..._0x90c48a,async(_0x4fb056,_0x452980)=>{const _0x29a5ab=_0xe25f87;y['verbose'](_0x29a5ab(0x3ae));let _0x270ada=await this[_0x29a5ab(0x4d6)]({'request':_0x4fb056,'schema':v,'ClassRef':M,'execute':_0x3d0713=>T[_0x29a5ab(0x4f3)](_0x3d0713)});_0x452980[_0x29a5ab(0x784)](0xc8)['json'](_0x270ada);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x38c)),..._0x90c48a,async(_0x3344da,_0x606b3c)=>{const _0xafb7e8=_0xe25f87;let _0x31c7a9=_0x3344da[_0xafb7e8(0x1d7)];y[_0xafb7e8(0x5ab)](_0xafb7e8(0x1d5)),y['verbose'](_0xafb7e8(0x25a)),y['verbose'](_0x3344da[_0xafb7e8(0x1d7)]);let _0x52f152=await this[_0xafb7e8(0x4d6)]({'request':_0x3344da,'schema':v,'ClassRef':M,'execute':_0x2e5759=>T[_0xafb7e8(0x38c)](_0x2e5759,_0x31c7a9)});_0x606b3c['status'](0xc8)[_0xafb7e8(0x6b1)](_0x52f152);})[_0xe25f87(0x35f)](this[_0xe25f87(0x2cc)](_0xe25f87(0x356)),..._0x90c48a,async(_0x164723,_0x276b32)=>{const _0x36a91a=_0xe25f87;y[_0x36a91a(0x5ab)](_0x36a91a(0x389));let _0x17a23c=await this[_0x36a91a(0x4d6)]({'request':_0x164723,'schema':v,'ClassRef':M,'execute':_0x91604f=>T['getAutomateSystem'](_0x91604f)});_0x276b32[_0x36a91a(0x784)](0xc8)[_0x36a91a(0x6b1)](_0x17a23c);})['get'](this[_0xe25f87(0x2cc)](_0xe25f87(0x680)),..._0x90c48a,async(_0x5d8141,_0x5af7a4)=>{const _0x48fa1a=_0xe25f87;y[_0x48fa1a(0x5ab)](_0x48fa1a(0x184));let _0x485667=await this['dataValidate']({'request':_0x5d8141,'schema':v,'ClassRef':M,'execute':_0xfbfeea=>T[_0x48fa1a(0x356)](_0xfbfeea)});_0x5af7a4[_0x48fa1a(0x784)](0xc8)['json'](_0x485667);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x131)),..._0x90c48a,async(_0x1e9550,_0x36586d)=>{const _0x509e39=_0xe25f87;let _0x4154e2=_0x1e9550['body'];y[_0x509e39(0x5ab)]('request\x20received\x20in\x20updateAgent'),y[_0x509e39(0x5ab)]('request\x20body:\x20'),y[_0x509e39(0x5ab)](_0x1e9550[_0x509e39(0x1d7)]);let _0x493c18=await this[_0x509e39(0x4d6)]({'request':_0x1e9550,'schema':v,'ClassRef':M,'execute':_0x54bb78=>T[_0x509e39(0x131)](_0x54bb78,_0x4154e2)});_0x36586d[_0x509e39(0x784)](0xc8)[_0x509e39(0x6b1)](_0x493c18);})['post'](this[_0xe25f87(0x2cc)](_0xe25f87(0x1fb)),..._0x90c48a,async(_0x3a0050,_0x1da280)=>{const _0x1ecfd2=_0xe25f87;let _0x487e98=_0x3a0050[_0x1ecfd2(0x1d7)];y[_0x1ecfd2(0x5ab)](_0x1ecfd2(0x267)),y[_0x1ecfd2(0x5ab)]('request\x20body:\x20'),y[_0x1ecfd2(0x5ab)](_0x3a0050['body']);let _0x2f1dc4=await this['dataValidate']({'request':_0x3a0050,'schema':v,'ClassRef':M,'execute':_0x984296=>T['updateCustomFields'](_0x984296,_0x487e98)});_0x1da280[_0x1ecfd2(0x784)](0xc8)['json'](_0x2f1dc4);})['post'](this[_0xe25f87(0x2cc)]('updateAutoCompleteMessages'),..._0x90c48a,async(_0x2f9423,_0x629e11)=>{const _0x45d888=_0xe25f87;let _0x596df3=_0x2f9423[_0x45d888(0x1d7)];y[_0x45d888(0x5ab)](_0x45d888(0x3ea)),y[_0x45d888(0x5ab)](_0x45d888(0x25a)),y['verbose'](_0x2f9423['body']);let _0x29d68a=await this[_0x45d888(0x4d6)]({'request':_0x2f9423,'schema':v,'ClassRef':M,'execute':_0x34a34e=>T['updateAutoCompleteMessages'](_0x34a34e,_0x596df3)});_0x629e11['status'](0xc8)[_0x45d888(0x6b1)](_0x29d68a);})[_0xe25f87(0x64d)](this['routerPath'](_0xe25f87(0x7e2)),..._0x90c48a,async(_0xd5fe4e,_0x44f76e)=>{const _0x179a66=_0xe25f87;let _0x1eae50=_0xd5fe4e[_0x179a66(0x1d7)];y[_0x179a66(0x5ab)](_0x179a66(0x568)),y[_0x179a66(0x5ab)](_0x179a66(0x25a)),y[_0x179a66(0x5ab)](_0xd5fe4e[_0x179a66(0x1d7)]);let _0x281a58=await this['dataValidate']({'request':_0xd5fe4e,'schema':v,'ClassRef':M,'execute':_0x119c74=>T[_0x179a66(0x7e2)](_0x119c74,_0x1eae50)});_0x44f76e['status'](0xc8)[_0x179a66(0x6b1)](_0x281a58);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)]('getConversation'),..._0x90c48a,async(_0x32ac1c,_0x44ea51)=>{const _0x4f4224=_0xe25f87;let _0x26abf6=_0x32ac1c[_0x4f4224(0x1d7)];y[_0x4f4224(0x5ab)](_0x4f4224(0x1eb)),y[_0x4f4224(0x5ab)]('request\x20body:\x20'),y[_0x4f4224(0x5ab)](_0x32ac1c[_0x4f4224(0x1d7)]);let _0x11065a=await this['dataValidate']({'request':_0x32ac1c,'schema':v,'ClassRef':M,'execute':_0xf89cb0=>T[_0x4f4224(0x5d8)](_0xf89cb0,_0x26abf6)});_0x44ea51[_0x4f4224(0x784)](0xc8)[_0x4f4224(0x6b1)](_0x11065a);})['post'](this[_0xe25f87(0x2cc)](_0xe25f87(0x237)),..._0x90c48a,async(_0x3ca79f,_0xda2f43)=>{const _0x2ead57=_0xe25f87;let _0x3abace=_0x3ca79f[_0x2ead57(0x1d7)];y[_0x2ead57(0x5ab)](_0x2ead57(0x434)),y[_0x2ead57(0x5ab)](_0x2ead57(0x25a)),y[_0x2ead57(0x5ab)](_0x3ca79f[_0x2ead57(0x1d7)]);let _0x2879ad=await this[_0x2ead57(0x4d6)]({'request':_0x3ca79f,'schema':v,'ClassRef':M,'execute':_0x5bf5e6=>T[_0x2ead57(0x237)](_0x5bf5e6,_0x3abace)});_0xda2f43[_0x2ead57(0x784)](0xc8)[_0x2ead57(0x6b1)](_0x2879ad);})['post'](this[_0xe25f87(0x2cc)](_0xe25f87(0x788)),..._0x90c48a,async(_0x925957,_0x491f1e)=>{const _0x190904=_0xe25f87;let _0x2b7ec3=_0x925957[_0x190904(0x1d7)];y[_0x190904(0x5ab)]('request\x20received\x20in\x20editConversation'),y[_0x190904(0x5ab)](_0x190904(0x25a)),y['verbose'](_0x925957[_0x190904(0x1d7)]);let _0x270101=await this['dataValidate']({'request':_0x925957,'schema':v,'ClassRef':M,'execute':_0x57741e=>T[_0x190904(0x788)](_0x57741e,_0x2b7ec3)});_0x491f1e[_0x190904(0x784)](0xc8)[_0x190904(0x6b1)](_0x270101);})['delete'](this['routerPath'](_0xe25f87(0x4c2)),..._0x90c48a,async(_0x3c21a5,_0x30be99)=>{const _0x3d661b=_0xe25f87;let _0x500758=_0x3c21a5[_0x3d661b(0x1d7)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y['verbose']('request\x20body:\x20'),y['verbose'](_0x3c21a5['body']);let _0x27212c=await this[_0x3d661b(0x4d6)]({'request':_0x3c21a5,'schema':v,'ClassRef':M,'execute':_0x55d62d=>T[_0x3d661b(0x4c2)](_0x55d62d,_0x500758)});_0x30be99['status'](0xc8)[_0x3d661b(0x6b1)](_0x27212c);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x6b0)),..._0x90c48a,async(_0x56461c,_0x43de24)=>{const _0x4eee9c=_0xe25f87;let _0x3d5e87=_0x56461c['body'],_0xf2cff7=_0x56461c['headers'][_0x4eee9c(0x4c8)];y[_0x4eee9c(0x5ab)](_0x4eee9c(0x81f)),y[_0x4eee9c(0x5ab)](_0x4eee9c(0x25a)),y[_0x4eee9c(0x5ab)](_0x56461c[_0x4eee9c(0x1d7)]);let _0x3c5025=await this['dataValidate']({'request':_0x56461c,'schema':v,'ClassRef':M,'execute':_0x412d2a=>T[_0x4eee9c(0x5d5)](_0x412d2a,_0x3d5e87,_0xf2cff7)});_0x43de24[_0x4eee9c(0x784)](0xc8)[_0x4eee9c(0x6b1)](_0x3c5025);})['post'](this[_0xe25f87(0x2cc)](_0xe25f87(0x80b)),..._0x90c48a,async(_0x5c2248,_0x244e7e)=>{const _0x292382=_0xe25f87;let _0x300d1b=_0x5c2248['body'],_0x34b0db=_0x5c2248['headers'][_0x292382(0x4c8)];y[_0x292382(0x5ab)](_0x292382(0x2c5)),y[_0x292382(0x5ab)]('request\x20body:\x20'),y[_0x292382(0x5ab)](_0x5c2248[_0x292382(0x1d7)]),delete _0x300d1b[_0x292382(0x195)],delete _0x300d1b[_0x292382(0x106)],delete _0x300d1b[_0x292382(0x578)],delete _0x300d1b['conditions'];let _0x29e6e0=await this[_0x292382(0x4d6)]({'request':_0x5c2248,'schema':v,'ClassRef':M,'execute':_0x4ec329=>T[_0x292382(0x28f)](_0x4ec329,_0x300d1b,_0x34b0db)});_0x244e7e[_0x292382(0x784)](0xc8)['json'](_0x29e6e0);})[_0xe25f87(0x64d)](this['routerPath'](_0xe25f87(0x690)),..._0x90c48a,async(_0x1ac738,_0x2e63f4)=>{const _0x86f031=_0xe25f87;let _0x4989b4=_0x1ac738['body'];y[_0x86f031(0x5ab)](_0x86f031(0x2c5)),y[_0x86f031(0x5ab)](_0x86f031(0x25a)),y[_0x86f031(0x5ab)](_0x1ac738['body']);let _0x186bdb=await this['dataValidate']({'request':_0x1ac738,'schema':v,'ClassRef':M,'execute':_0xe2deee=>T[_0x86f031(0x6b8)](_0xe2deee,_0x4989b4)});_0x2e63f4['status'](0xc8)[_0x86f031(0x6b1)](_0x186bdb);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x36a)),..._0x90c48a,async(_0x1cf18d,_0x4d92f4)=>{const _0x2b95b2=_0xe25f87;let _0x2ca3fa=_0x1cf18d[_0x2b95b2(0x1d7)];y['verbose'](_0x2b95b2(0x2c5)),y[_0x2b95b2(0x5ab)]('request\x20body:\x20'),y[_0x2b95b2(0x5ab)](_0x1cf18d[_0x2b95b2(0x1d7)]);let _0xcbed39=await this['dataValidate']({'request':_0x1cf18d,'schema':v,'ClassRef':M,'execute':_0x120531=>T['editFlowReply'](_0x120531,_0x2ca3fa)});_0x4d92f4[_0x2b95b2(0x784)](0xc8)[_0x2b95b2(0x6b1)](_0xcbed39);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x44f)),..._0x90c48a,async(_0xebaf50,_0x4df4e3)=>{const _0x3732e1=_0xe25f87;let _0x51df58=_0xebaf50[_0x3732e1(0x1d7)];y[_0x3732e1(0x5ab)](_0x3732e1(0x2c5)),y[_0x3732e1(0x5ab)]('request\x20body:\x20'),y['verbose'](_0xebaf50[_0x3732e1(0x1d7)]);let _0x5dcde3=await this[_0x3732e1(0x4d6)]({'request':_0xebaf50,'schema':v,'ClassRef':M,'execute':_0xb521d5=>T[_0x3732e1(0x4b4)](_0xb521d5,_0x51df58)});_0x4df4e3[_0x3732e1(0x784)](0xc8)[_0x3732e1(0x6b1)](_0x5dcde3);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)]('editflowgroup'),..._0x90c48a,async(_0x7be55b,_0x446964)=>{const _0x47dde0=_0xe25f87;let _0x414e66=_0x7be55b['body'];y[_0x47dde0(0x5ab)]('request\x20received\x20in\x20editFlowgroup'),y[_0x47dde0(0x5ab)](_0x47dde0(0x25a)),y[_0x47dde0(0x5ab)](_0x7be55b['body']);let _0x1291f5=await this[_0x47dde0(0x4d6)]({'request':_0x7be55b,'schema':v,'ClassRef':M,'execute':_0x23950a=>T[_0x47dde0(0x62a)](_0x23950a,_0x414e66)});_0x446964[_0x47dde0(0x784)](0xc8)[_0x47dde0(0x6b1)](_0x1291f5);})['post'](this['routerPath'](_0xe25f87(0x646)),..._0x90c48a,async(_0x583f8d,_0x347fc9)=>{const _0x36c20e=_0xe25f87;let _0x405110=_0x583f8d[_0x36c20e(0x1d7)];y[_0x36c20e(0x5ab)]('request\x20received\x20in\x20editFlowcondition'),y[_0x36c20e(0x5ab)](_0x36c20e(0x25a)),y[_0x36c20e(0x5ab)](_0x583f8d[_0x36c20e(0x1d7)]);let _0x190347=await this['dataValidate']({'request':_0x583f8d,'schema':v,'ClassRef':M,'execute':_0x40a048=>T[_0x36c20e(0x114)](_0x40a048,_0x405110)});_0x347fc9[_0x36c20e(0x784)](0xc8)[_0x36c20e(0x6b1)](_0x190347);})[_0xe25f87(0x64d)](this[_0xe25f87(0x2cc)](_0xe25f87(0x1f0)),..._0x90c48a,async(_0x2e6346,_0x1ffe80)=>{const _0x482396=_0xe25f87;let _0x43826a=_0x2e6346['body'];y['verbose'](_0x482396(0x770)),y[_0x482396(0x5ab)]('request\x20body:\x20'),y['verbose'](_0x2e6346['body']);let _0x188fdb=await this[_0x482396(0x4d6)]({'request':_0x2e6346,'schema':v,'ClassRef':M,'execute':_0x4396b7=>T[_0x482396(0x393)](_0x4396b7,_0x43826a)});_0x1ffe80['status'](0xc8)[_0x482396(0x6b1)](_0x188fdb);})['post'](this[_0xe25f87(0x2cc)](_0xe25f87(0x2db)),..._0x90c48a,async(_0x7fde96,_0x3380fb)=>{const _0x27dc8a=_0xe25f87;let _0x4c89ca=_0x7fde96['body'];y[_0x27dc8a(0x5ab)]('request\x20received\x20in\x20getFlow'),y[_0x27dc8a(0x5ab)](_0x27dc8a(0x25a)),y[_0x27dc8a(0x5ab)](_0x7fde96['body']);let _0x3a3e89=await this['dataValidate']({'request':_0x7fde96,'schema':v,'ClassRef':M,'execute':_0x1abf9b=>T[_0x27dc8a(0xe1)](_0x1abf9b,_0x4c89ca)});_0x3380fb['status'](0xc8)['json'](_0x3a3e89);})[_0xe25f87(0x5d1)](this['routerPath'](_0xe25f87(0x733)),..._0x90c48a,async(_0x372cac,_0x3e486c)=>{const _0x15e2f1=_0xe25f87;let _0x18d861=_0x372cac[_0x15e2f1(0x1d7)];y[_0x15e2f1(0x5ab)]('request\x20received\x20in\x20deleteFlow'),y[_0x15e2f1(0x5ab)](_0x15e2f1(0x25a)),y['verbose'](_0x372cac['body']);let _0x331876=await this['dataValidate']({'request':_0x372cac,'schema':v,'ClassRef':M,'execute':_0x37181b=>T[_0x15e2f1(0x189)](_0x37181b,_0x18d861)});_0x3e486c[_0x15e2f1(0x784)](0xc8)[_0x15e2f1(0x6b1)](_0x331876);})['get'](this[_0xe25f87(0x2cc)](_0xe25f87(0x149)),..._0x90c48a,async(_0x290f4d,_0x541a84)=>{const _0x4e5354=_0xe25f87;y['verbose']('request\x20received\x20in\x20allFlows');let _0x2a1a5a=await this['dataValidate']({'request':_0x290f4d,'schema':v,'ClassRef':M,'execute':_0x1700b1=>T[_0x4e5354(0x605)](_0x1700b1)});_0x541a84[_0x4e5354(0x784)](0xc8)[_0x4e5354(0x6b1)](_0x2a1a5a);});}},vi=A(require(a0_0x40255d(0x45c))),oe={};function Mi(_0x3058c9,_0x2a0b37,_0xfa0896,_0x35302c){oe[_0x3058c9]||(oe[_0x3058c9]={}),oe[_0x3058c9][_0x2a0b37]={'id':_0x2a0b37,'response':_0xfa0896,'events':_0x35302c};}function Ci(_0x469285,_0x48a0ef){!oe[_0x469285]||!oe[_0x469285][_0x48a0ef]||delete oe[_0x469285][_0x48a0ef];}function q(_0x161808,_0x32466c,_0x1364a2){const _0x3d15a5=a0_0x40255d;if(!oe[_0x161808])return;let _0x51a3e3='data:\x20'+JSON['stringify'](_0x1364a2)+'\x0a\x0a';Object[_0x3d15a5(0x698)](oe[_0x161808])[_0x3d15a5(0x659)](_0x3e319f=>{const _0x1e0f25=_0x3d15a5;_0x3e319f[_0x1e0f25(0xd8)][_0x1e0f25(0x5a1)](_0x32466c)&&_0x3e319f[_0x1e0f25(0x586)][_0x1e0f25(0x3c5)](_0x51a3e3);});}function Ei(){const _0x55ae51=a0_0x40255d;let _0xef196e={};for(let _0x45f2e7 in oe)_0xef196e[_0x45f2e7]=Object[_0x55ae51(0x698)](oe[_0x45f2e7])[_0x55ae51(0x54b)](_0x2fb2cd=>({'id':_0x2fb2cd['id'],'events':_0x2fb2cd[_0x55ae51(0xd8)]}));return _0xef196e;}var Ni=require(a0_0x40255d(0x79d)),Os=require(a0_0x40255d(0x40f)),Ts=class{},Oo=new Os[(a0_0x40255d(0x78c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Os[(a0_0x40255d(0x78c))]({'_id':{'type':String,'default':a0_0x40255d(0x506)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.[a0_0x40255d(0x5fe)](Ts['name'],_o,a0_0x40255d(0x425)),xo=vi[a0_0x40255d(0x437)]['join'](__dirname,a0_0x40255d(0x6e2)),Fe=(0x0,Lt[a0_0x40255d(0x10b)])(),Do=b[a0_0x40255d(0x35f)](a0_0x40255d(0x231))[a0_0x40255d(0x1a4)],le=[Ta,Oa,Da[Do]];Fe[a0_0x40255d(0x1dc)](a0_0x40255d(0x732),Lt[a0_0x40255d(0x437)][a0_0x40255d(0x3ac)](xo))[a0_0x40255d(0x35f)](a0_0x40255d(0x14f),async(_0x40357e,_0x4c6b2c)=>{const _0x251d08=a0_0x40255d;console[_0x251d08(0x18f)](_0x251d08(0x22b));let _0x130539=_0x40357e[_0x251d08(0x715)][_0x251d08(0x30d)],_0xd912de=(_0x40357e['query']['events']||'')[_0x251d08(0x6ce)](','),_0x4f90fb=(0x0,Ni['v4'])();console[_0x251d08(0x18f)](_0x251d08(0x165),_0x130539),console['log']('Subscribed\x20Events:',_0xd912de);let _0x5d54ee=b[_0x251d08(0x35f)](_0x251d08(0x231))['API_KEY'],_0x467bd8=_0x40357e[_0x251d08(0x580)][_0x251d08(0x4c8)];if(console[_0x251d08(0x18f)](_0x251d08(0x39c),_0x467bd8),_0x5d54ee[_0x251d08(0x615)]!==_0x467bd8){console[_0x251d08(0x18f)](_0x251d08(0x167));try{let _0x463cd4=await we[_0x251d08(0x493)]['find'](_0x130539);if(console[_0x251d08(0x18f)]('Instance\x20Key\x20from\x20DB:',_0x463cd4),!_0x463cd4||_0x463cd4[_0x251d08(0x4c8)]!==_0x467bd8)return console[_0x251d08(0x18f)](_0x251d08(0x6cf)),_0x4c6b2c[_0x251d08(0x784)](0x191)[_0x251d08(0x591)](_0x251d08(0x174));}catch(_0x393ec2){return console[_0x251d08(0x6b3)](_0x251d08(0x1d6),_0x393ec2),_0x4c6b2c[_0x251d08(0x784)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await xe(_0x130539))return _0x4c6b2c['status'](0x194)[_0x251d08(0x591)]('Instância\x20não\x20encontrada.');_0x4c6b2c[_0x251d08(0x177)](_0x251d08(0x122),_0x251d08(0x140)),_0x4c6b2c[_0x251d08(0x177)](_0x251d08(0x612),_0x251d08(0x7f6)),_0x4c6b2c['setHeader'](_0x251d08(0x74d),_0x251d08(0x5ac)),_0x4c6b2c[_0x251d08(0x6f5)]();let _0xd8e97b=_0x251d08(0x2af)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x4c6b2c[_0x251d08(0x3c5)](_0xd8e97b),Mi(_0x130539,_0x4f90fb,_0x4c6b2c,_0xd912de),_0x40357e['on'](_0x251d08(0x262),()=>{const _0x12d11f=_0x251d08;console[_0x12d11f(0x18f)](_0x12d11f(0x297)+_0x130539),Ci(_0x130539,_0x4f90fb);});}),Fe[a0_0x40255d(0x64d)]('/startFlow/:instance/:startID',async(_0x431557,_0x31b6fd)=>{const _0x32e7c8=a0_0x40255d;console['log']('iniciando\x20fluxo\x20router');let _0x3e6a9f=_0x431557[_0x32e7c8(0x715)]['instance'],_0x282d4d=_0x431557[_0x32e7c8(0x715)][_0x32e7c8(0x74a)],_0x520d03=_0x431557[_0x32e7c8(0x580)][_0x32e7c8(0x293)]||'',_0x213005=_0x431557['body'];console[_0x32e7c8(0x18f)](_0x32e7c8(0x787),_0x3e6a9f),console[_0x32e7c8(0x18f)](_0x32e7c8(0x80e),_0x282d4d),console[_0x32e7c8(0x18f)](_0x32e7c8(0x112),_0x520d03),console[_0x32e7c8(0x18f)](_0x32e7c8(0x4e2),_0x213005);try{if(!await xe(_0x3e6a9f))return _0x31b6fd[_0x32e7c8(0x784)](0x194)[_0x32e7c8(0x591)]('Instância\x20não\x20encontrada.');let _0x54fb06=await T[_0x32e7c8(0x21e)](_0x3e6a9f,_0x282d4d,_0x520d03,_0x213005);_0x31b6fd[_0x32e7c8(0x591)](_0x54fb06);}catch(_0x146663){console[_0x32e7c8(0x6b3)](_0x146663),_0x31b6fd[_0x32e7c8(0x784)](0x1f4)[_0x32e7c8(0x591)](_0x32e7c8(0x64c));}}),Fe[a0_0x40255d(0x35f)](a0_0x40255d(0x549),(_0x229ff8,_0x4af668)=>{const _0x1d74f9=a0_0x40255d;let _0xff4c13=Ei();_0x4af668[_0x1d74f9(0x6b1)](_0xff4c13);})[a0_0x40255d(0x35f)]('/',(_0x5d9aca,_0x5c4d4e)=>{const _0x5e631d=a0_0x40255d;let _0x53be1c=b[_0x5e631d(0x35f)](_0x5e631d(0x773))[_0x5e631d(0x6c8)];if(_0x53be1c){let _0xc023e2=encodeURIComponent(''+_0x53be1c);_0x5c4d4e[_0x5e631d(0x1e5)](_0x5e631d(0x579)+_0xc023e2);return;}let _0x1e53ea=b[_0x5e631d(0x35f)](_0x5e631d(0x408)),_0x877f84=_0x1e53ea&&_0x1e53ea[_0x5e631d(0x370)][_0x5e631d(0x6ce)]('/')[0x4];if(_0x877f84){let _0x14a05f=encodeURIComponent('https://'+_0x877f84);_0x5c4d4e[_0x5e631d(0x1e5)](_0x5e631d(0x579)+_0x14a05f);}else _0x5c4d4e[_0x5e631d(0x1e5)](_0x5e631d(0x589));})[a0_0x40255d(0xfc)](a0_0x40255d(0x701),...le,async(_0x311bee,_0x114d3b)=>{const _0x465eea=a0_0x40255d;try{console[_0x465eea(0x18f)](_0x465eea(0x77d)),_0x114d3b[_0x465eea(0x784)](0xc8)[_0x465eea(0x6b1)]({'message':_0x465eea(0x381)}),_0x114d3b['on'](_0x465eea(0x133),()=>process['exit'](0x0));}catch(_0x212e36){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x212e36),_0x114d3b['status'](0x1f4)[_0x465eea(0x6b1)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x40255d(0xfc)](a0_0x40255d(0x2ab),...le,async(_0x2977ef,_0x31bfbf)=>{const _0x42be21=a0_0x40255d;try{let _0x107c35=_0x2977ef[_0x42be21(0x1d7)];await Ne[_0x42be21(0x72d)]({},{'$set':_0x107c35},{'upsert':!0x0});let _0x5a83e4=await Ne[_0x42be21(0x73b)]();_0x31bfbf[_0x42be21(0x6b1)](_0x5a83e4);}catch(_0x2f929d){_0x31bfbf['status'](0x190)[_0x42be21(0x591)](_0x2f929d[_0x42be21(0x740)]);}})[a0_0x40255d(0x35f)](a0_0x40255d(0x2ab),...le,async(_0x11c620,_0x55ebf3)=>{const _0x7adaca=a0_0x40255d;try{let _0x16e7b6=await Ne['findOne']();if(!_0x16e7b6)return _0x55ebf3['json']({});_0x55ebf3['json'](_0x16e7b6);}catch(_0x481387){_0x55ebf3[_0x7adaca(0x784)](0x1f4)[_0x7adaca(0x591)](_0x481387['message']);}})[a0_0x40255d(0x1dc)]('/instance',new Ct(b,...le)[a0_0x40255d(0x2fd)])[a0_0x40255d(0x1dc)](a0_0x40255d(0x2ef),new xt(...le)['router'])['use'](a0_0x40255d(0x80a),new pt(...le)['router'])[a0_0x40255d(0x1dc)](a0_0x40255d(0x5ed),new Mt(...le)[a0_0x40255d(0x2fd)])[a0_0x40255d(0x1dc)](a0_0x40255d(0x669),new Pt(...le)[a0_0x40255d(0x2fd)])[a0_0x40255d(0x1dc)](a0_0x40255d(0x436),new kt(...le)[a0_0x40255d(0x2fd)]);var m=class{constructor(..._0x41afb4){throw{'status':0x190,'error':'Bad\x20Request','message':_0x41afb4['length']>0x0?_0x41afb4:void 0x0};}},ce=class{constructor(..._0xf2a61){const _0x13da3a=a0_0x40255d;throw{'status':0x191,'error':_0x13da3a(0x661),'message':_0xf2a61[_0x13da3a(0x111)]>0x0?_0xf2a61:void 0x0};}},se=class{constructor(..._0x25458a){const _0x59af02=a0_0x40255d;throw{'status':0x193,'error':_0x59af02(0x373),'message':_0x25458a['length']>0x0?_0x25458a:void 0x0};}},J=class{constructor(..._0x3b34ff){const _0x16a850=a0_0x40255d;throw{'status':0x194,'error':_0x16a850(0x6db),'message':_0x3b34ff[_0x16a850(0x111)]>0x0?_0x3b34ff:void 0x0};}},x=class{constructor(..._0x4abda9){const _0x5dcc32=a0_0x40255d;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4abda9[_0x5dcc32(0x111)]>0x0?_0x4abda9:void 0x0};}},ye=require(a0_0x40255d(0x180));async function _s(_0x31539b){const _0x3f69d4=a0_0x40255d;let _0x1e141b=new $(_s['name']),_0x244aec=R['getClient'](),_0x141623=_0x244aec['db'](b[_0x3f69d4(0x35f)](_0x3f69d4(0x303))[_0x3f69d4(0x31d)][_0x3f69d4(0x495)]+_0x3f69d4(0x4f9))[_0x3f69d4(0x778)](_0x31539b),_0x4dbd52=async(_0xae9598,_0x4f824f)=>{const _0x22a402=_0x3f69d4;try{return await _0x244aec[_0x22a402(0x5d2)](),await _0x141623[_0x22a402(0x594)]({'_id':_0x4f824f},JSON['parse'](JSON[_0x22a402(0x53c)](_0xae9598,ye[_0x22a402(0x4c5)]['replacer'])),{'upsert':!0x0});}catch{}},_0x23cd9a=async _0x47a79b=>{const _0x326817=_0x3f69d4;try{await _0x244aec[_0x326817(0x5d2)]();let _0x11532d=await _0x141623['findOne']({'_id':_0x47a79b}),_0x131315=JSON['stringify'](_0x11532d);return JSON[_0x326817(0x143)](_0x131315,ye[_0x326817(0x4c5)][_0x326817(0x23b)]);}catch{}},_0x37a37a=async _0x2e2f65=>{const _0x12532f=_0x3f69d4;try{return await _0x244aec['connect'](),await _0x141623[_0x12532f(0x73f)]({'_id':_0x2e2f65});}catch{}},_0x189f21=await _0x23cd9a(_0x3f69d4(0x11f))||(0x0,ye[_0x3f69d4(0x2fe)])();return{'state':{'creds':_0x189f21,'keys':{'get':async(_0x5f4f14,_0x4a64a6)=>{const _0x4cf420=_0x3f69d4;let _0x6f5e17={};return await Promise['all'](_0x4a64a6[_0x4cf420(0x54b)](async _0x2a66de=>{const _0xf5532f=_0x4cf420;let _0x45e4b7=await _0x23cd9a(_0x5f4f14+'-'+_0x2a66de);_0x5f4f14===_0xf5532f(0x5e5)&&_0x45e4b7&&(_0x45e4b7=ye[_0xf5532f(0x538)]['Message']['AppStateSyncKeyData'][_0xf5532f(0x5b9)](_0x45e4b7)),_0x6f5e17[_0x2a66de]=_0x45e4b7;})),_0x6f5e17;},'set':async _0x6a352c=>{const _0x33c76a=_0x3f69d4;let _0x511a79=[];for(let _0x47cfde in _0x6a352c)for(let _0x2d950d in _0x6a352c[_0x47cfde]){let _0xaca450=_0x6a352c[_0x47cfde][_0x2d950d],_0x5e27a6=_0x47cfde+'-'+_0x2d950d;_0x511a79[_0x33c76a(0x4f1)](_0xaca450?_0x4dbd52(_0xaca450,_0x5e27a6):_0x37a37a(_0x5e27a6));}await Promise[_0x33c76a(0x191)](_0x511a79);}}},'saveCreds':async()=>_0x4dbd52(_0x189f21,'creds')};}var Ls=A(require(a0_0x40255d(0x6d8))),Fs=A(require(a0_0x40255d(0x347))),jt=require(a0_0x40255d(0x180)),$i=require(a0_0x40255d(0x6ec)),Ut=require(a0_0x40255d(0x180)),Ft;function Po(_0x4952ce){const _0x18a21a=a0_0x40255d;return Ft||(Ft=(0x0,$i[_0x18a21a(0x711)])({'url':_0x4952ce[_0x18a21a(0x521)]}),Ft['connect']()),Ft;}var ge=class u{constructor(_0x5ca756,_0x517380){const _0x451ce3=a0_0x40255d;this[_0x451ce3(0x660)]=_0x5ca756,this['instanceName']=_0x517380,this['logger']=new $(u[_0x451ce3(0x6cc)]),this['client']=Po(_0x5ca756);}set[a0_0x40255d(0x5ca)](_0x529744){const _0x2997cd=a0_0x40255d;this[_0x2997cd(0x2c6)]=_0x529744;}async[a0_0x40255d(0x4da)](){const _0x48ac87=a0_0x40255d;try{return await this[_0x48ac87(0x6ba)][_0x48ac87(0x234)]([_0x48ac87(0x702),this[_0x48ac87(0x660)][_0x48ac87(0x80c)]+':*']);}catch(_0x4861c1){this[_0x48ac87(0x17b)]['error'](_0x4861c1);}}async[a0_0x40255d(0x5a7)](_0x185c11,_0x1525d4){const _0xb37fae=a0_0x40255d;try{let _0x4e1432=JSON[_0xb37fae(0x53c)](_0x1525d4,Ut[_0xb37fae(0x4c5)]['replacer']);return await this[_0xb37fae(0x6ba)][_0xb37fae(0x20a)](this[_0xb37fae(0x660)][_0xb37fae(0x80c)]+':'+this['instanceName'],_0x185c11,_0x4e1432);}catch(_0x5bce14){this[_0xb37fae(0x17b)][_0xb37fae(0x6b3)](_0x5bce14);}}async[a0_0x40255d(0x42f)](){const _0x57c263=a0_0x40255d;try{let _0x184e75=await this['client'][_0x57c263(0x6e1)](this[_0x57c263(0x660)]['PREFIX_KEY']+':'+this[_0x57c263(0x2c6)]);if(_0x184e75){for(let _0x2ba95c in _0x184e75)Object[_0x57c263(0x152)]['hasOwnProperty'][_0x57c263(0x1bc)](_0x184e75,_0x2ba95c)&&(_0x184e75[_0x2ba95c]=JSON['parse'](_0x184e75[_0x2ba95c],Ut[_0x57c263(0x4c5)][_0x57c263(0x23b)]));return _0x184e75;}}catch(_0x572400){this[_0x57c263(0x17b)][_0x57c263(0x6b3)](_0x572400);}}async[a0_0x40255d(0x36b)](_0x1ec041){const _0x507882=a0_0x40255d;try{let _0x350adb=await this[_0x507882(0x6ba)][_0x507882(0x432)](this[_0x507882(0x660)]['PREFIX_KEY']+':'+this[_0x507882(0x2c6)],_0x1ec041);if(_0x350adb)return JSON[_0x507882(0x143)](_0x350adb,Ut[_0x507882(0x4c5)][_0x507882(0x23b)]);}catch(_0xdfd422){this['logger']['error'](_0xdfd422);}}async[a0_0x40255d(0x320)](_0x589f61){const _0x3fe8c0=a0_0x40255d;try{return await this['client'][_0x3fe8c0(0x214)](this['redisEnv'][_0x3fe8c0(0x80c)]+':'+this['instanceName'],_0x589f61);}catch(_0x2adb24){this[_0x3fe8c0(0x17b)][_0x3fe8c0(0x6b3)](_0x2adb24);}}async['delAll'](_0x4460bf){const _0xe29452=a0_0x40255d;try{return await this[_0xe29452(0x6ba)][_0xe29452(0x22d)](_0x4460bf||this[_0xe29452(0x660)][_0xe29452(0x80c)]+':'+this[_0xe29452(0x2c6)]);}catch(_0x34d11b){this[_0xe29452(0x17b)]['error'](_0x34d11b);}}};async function xs(_0x3c3808,_0x15225f){let _0x4abf62=new $(xs['name']),_0x1232cd=new ge(_0x3c3808,_0x15225f),_0x4ebc37=async(_0x23f9ed,_0x2ac70e)=>{const _0x3e9ae8=a0_0x2679;try{return await _0x1232cd[_0x3e9ae8(0x5a7)](_0x2ac70e,_0x23f9ed);}catch(_0x2f9841){return _0x4abf62['error']({'localError':_0x3e9ae8(0x5a7),'error':_0x2f9841});}},_0x12b9eb=async _0x4737cf=>{const _0x2203d0=a0_0x2679;try{return await _0x1232cd[_0x2203d0(0x36b)](_0x4737cf);}catch(_0x43e15c){_0x4abf62[_0x2203d0(0x6b3)]({'readData':_0x2203d0(0x5a7),'error':_0x43e15c});return;}},_0x228926=async _0x239526=>{const _0x3bc5e2=a0_0x2679;try{return await _0x1232cd[_0x3bc5e2(0x320)](_0x239526);}catch(_0x48b468){_0x4abf62[_0x3bc5e2(0x6b3)]({'readData':_0x3bc5e2(0x320),'error':_0x48b468});}},_0x40878f=await _0x12b9eb('creds')||(0x0,jt['initAuthCreds'])();return{'state':{'creds':_0x40878f,'keys':{'get':async(_0x1bca45,_0x9873c5)=>{const _0x58dfcf=a0_0x2679;let _0x33a8fa={};return await Promise[_0x58dfcf(0x191)](_0x9873c5[_0x58dfcf(0x54b)](async _0x3af476=>{const _0x166360=_0x58dfcf;let _0x578306=await _0x12b9eb(_0x1bca45+'-'+_0x3af476);_0x1bca45===_0x166360(0x5e5)&&_0x578306&&(_0x578306=jt[_0x166360(0x538)]['Message']['AppStateSyncKeyData'][_0x166360(0x5b9)](_0x578306)),_0x33a8fa[_0x3af476]=_0x578306;})),_0x33a8fa;},'set':async _0x996c7f=>{const _0x19a3aa=a0_0x2679;let _0x26f6f1=[];for(let _0x4ee8e7 in _0x996c7f)for(let _0x4b8b14 in _0x996c7f[_0x4ee8e7]){let _0x2962ce=_0x996c7f[_0x4ee8e7][_0x4b8b14],_0x5ddc1a=_0x4ee8e7+'-'+_0x4b8b14;_0x26f6f1['push'](_0x2962ce?await _0x4ebc37(_0x2962ce,_0x5ddc1a):await _0x228926(_0x5ddc1a));}await Promise[_0x19a3aa(0x191)](_0x26f6f1);}}},'saveCreds':async()=>await _0x4ebc37(_0x40878f,'creds')};}var F=A(require('fs')),X=require('uuid'),Gt=A(require(a0_0x40255d(0x319))),Re=require(a0_0x40255d(0x79c)),Ri=require('child_process'),Ai=require(a0_0x40255d(0x637)),Ii=A(require(a0_0x40255d(0x2e1))),$e=class extends _{constructor(_0x1dfd64,_0x8e7629,_0x571f40){const _0x11fc2d=a0_0x40255d;super(_0x8e7629),this['cacheInstanceModel']=_0x1dfd64,this[_0x11fc2d(0x27d)]=_0x8e7629,this[_0x11fc2d(0x354)]=_0x571f40;}async[a0_0x40255d(0x274)](_0x5d80a4,_0x4c8321){const _0x582be9=a0_0x40255d;try{if(this[_0x582be9(0x1d4)][_0x582be9(0x1ef)]){console[_0x582be9(0x18f)](_0x582be9(0x3a9)+_0x4c8321+_0x582be9(0x3c9),_0x5d80a4);let _0x514a18=await this[_0x582be9(0x79b)]['findOneAndUpdate']({'_id':_0x4c8321},{'$set':_0x5d80a4},{'new':!0x0,'upsert':!0x0});return console[_0x582be9(0x18f)]('Database\x20update\x20result:',_0x514a18),_0x514a18;}}catch(_0x2f5265){throw console[_0x582be9(0x6b3)](_0x582be9(0x335),_0x2f5265),_0x2f5265;}return null;}async[a0_0x40255d(0x73f)](_0x4e89b4){const _0x16ec46=a0_0x40255d;try{let _0x21b26e=I(_0x4e89b4[_0x16ec46(0x81d)]);return{'deletedCount':(await this[_0x16ec46(0x79b)]['deleteOne'](_0x21b26e))['deletedCount']};}catch(_0x3ef7fc){return{'error':_0x3ef7fc?.[_0x16ec46(0x334)]()};}}async[a0_0x40255d(0x73b)](_0x41a1e4){const _0x76fcf4=a0_0x40255d;try{let _0x397ab0=I(_0x41a1e4[_0x76fcf4(0x81d)]);return await this[_0x76fcf4(0x79b)][_0x76fcf4(0x73b)](_0x397ab0)[_0x76fcf4(0x10f)]();}catch{return null;}}},Jt=(0x0,Ai[a0_0x40255d(0x492)])(Ri[a0_0x40255d(0xe5)]),ko=b[a0_0x40255d(0x35f)](a0_0x40255d(0x504)),Ds=class{constructor(){const _0x213400=a0_0x40255d;this[_0x213400(0x1fd)]=new $e(Ke,b),(!this['ipv6Prefix']||!this[_0x213400(0x81b)])&&ko&&this[_0x213400(0x2b8)]()['then'](()=>{const _0x45c183=_0x213400;console[_0x45c183(0x18f)](_0x45c183(0x6ad)+this[_0x45c183(0x29f)]),console[_0x45c183(0x18f)](_0x45c183(0x530)+this[_0x45c183(0x81b)]);})[_0x213400(0x42d)](_0x41335f=>{const _0x2c9d7b=_0x213400;console[_0x2c9d7b(0x6b3)](_0x2c9d7b(0x758)+_0x41335f['message']);});}async['detectIPv6PrefixAndInterface'](){const _0x4d30d7=a0_0x40255d;try{let {stdout:_0x502e35}=await Jt(_0x4d30d7(0x818));console['log'](_0x4d30d7(0x795)+_0x502e35);let _0x4a1257=_0x502e35[_0x4d30d7(0x6ce)]('\x0a')[_0x4d30d7(0x54b)](_0x45c2ce=>_0x45c2ce[_0x4d30d7(0x6ce)]('\x20')[0x0])[_0x4d30d7(0x750)](_0x216a42=>!_0x216a42['includes']('lo')&&!_0x216a42[_0x4d30d7(0x5a1)](_0x4d30d7(0x365))&&!_0x216a42['includes']('vir')&&!_0x216a42[_0x4d30d7(0x5a1)]('wl')&&!_0x216a42[_0x4d30d7(0x5a1)]('@'));if(console[_0x4d30d7(0x18f)](_0x4d30d7(0x4b1)+_0x4a1257),_0x4a1257[_0x4d30d7(0x111)]===0x0)throw new Error(_0x4d30d7(0x4e7));this[_0x4d30d7(0x81b)]=_0x4a1257[0x0];let {stdout:_0x2d511b}=await Jt(_0x4d30d7(0x6d6)+this['networkInterface']);console[_0x4d30d7(0x18f)](_0x4d30d7(0x35e)+_0x2d511b);let _0x540a5c=_0x2d511b[_0x4d30d7(0x6ce)]('\x0a')[_0x4d30d7(0x284)](_0x36fd7f=>_0x36fd7f['includes']('inet6')&&_0x36fd7f['includes'](_0x4d30d7(0x515)));if(!_0x540a5c)throw new Error(_0x4d30d7(0x3ed));let _0x4d36eb=_0x540a5c[_0x4d30d7(0x28e)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4d36eb)throw new Error(_0x4d30d7(0xe7));let [_0x22d522,_0x4bb740,_0x24baee]=_0x4d36eb,_0x256aa5=Math['floor'](Number(_0x24baee)/0x10),_0x32279b=Number(_0x24baee)%0x10,_0x5b4dae=_0x4bb740[_0x4d30d7(0x6ce)](':')[_0x4d30d7(0x7d8)](0x0,_0x256aa5)[_0x4d30d7(0x12c)](':');if(_0x32279b>0x0){let _0x1e4522=_0x4bb740[_0x4d30d7(0x6ce)](':')[_0x256aa5],_0x562412=0xffff<<0x10-_0x32279b&0xffff,_0xe2ec1=(parseInt(_0x1e4522,0x10)&_0x562412)[_0x4d30d7(0x334)](0x10)[_0x4d30d7(0x3c2)](0x4,'0');_0x5b4dae+=':'+_0xe2ec1;}this[_0x4d30d7(0x29f)]=_0x5b4dae+':';}catch(_0x311d31){console[_0x4d30d7(0x6b3)](_0x4d30d7(0x5b1),_0x311d31);}}async['configureIPv6'](_0x13a443){const _0x4bf1d4=a0_0x40255d;let _0x35a3dc=_0x4bf1d4(0x62e)+_0x13a443+_0x4bf1d4(0x6a5)+this[_0x4bf1d4(0x81b)];try{await Jt(_0x35a3dc),console[_0x4bf1d4(0x18f)]('IPv6\x20address\x20configured:\x20'+_0x13a443);}catch(_0x4fda45){console[_0x4bf1d4(0x6b3)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x4fda45);}}async[a0_0x40255d(0x20b)](_0x51970a){const _0x2204eb=a0_0x40255d;let _0x3d7f05='ip\x20-6\x20addr\x20del\x20'+_0x51970a+_0x2204eb(0x6a5)+this[_0x2204eb(0x81b)];try{await Jt(_0x3d7f05),console[_0x2204eb(0x18f)](_0x2204eb(0x41f)+_0x51970a);}catch(_0x5e34b5){console['error'](_0x2204eb(0x24b)+_0x5e34b5);}}[a0_0x40255d(0x4ad)](){const _0x38d2f9=a0_0x40255d;return _0x38d2f9(0x804)['replace'](/X/g,()=>_0x38d2f9(0x6b7)[_0x38d2f9(0x43d)](Math[_0x38d2f9(0x328)](Math[_0x38d2f9(0x23e)]()*0x10)));}[a0_0x40255d(0x3f1)](_0x54250a,_0x29d735){const _0x4af92d=a0_0x40255d;let _0x35e8a3=_0x29d735[_0x4af92d(0x6ce)](':');return _0x35e8a3[0x0]=(parseInt(_0x35e8a3[0x0],0x10)^0x2)[_0x4af92d(0x334)](0x10)['padStart'](0x2,'0'),''+_0x54250a+_0x35e8a3[0x0]+_0x35e8a3[0x1]+':'+_0x35e8a3[0x2]+_0x4af92d(0x7b7)+_0x35e8a3[0x3]+':'+_0x35e8a3[0x4]+_0x35e8a3[0x5];}[a0_0x40255d(0x3eb)](){const _0x5047d2=a0_0x40255d;let _0x1e03b3=this[_0x5047d2(0x29f)];_0x1e03b3[_0x5047d2(0x50b)](':')||(_0x1e03b3+=':');let _0xde3046=this['randomMac']();return this[_0x5047d2(0x3f1)](_0x1e03b3,_0xde3046);}[a0_0x40255d(0x7ea)](_0x1b5fcf){const _0x3bd8b3=a0_0x40255d;return new RegExp(_0x3bd8b3(0x5f1))[_0x3bd8b3(0x35c)](_0x1b5fcf);}async[a0_0x40255d(0x1c1)](_0x5e0dc1){const _0x41aa01=a0_0x40255d;let _0x49dbe3=[{'url':_0x41aa01(0x54a),'parse':_0x1fe508=>_0x1fe508['ip']},{'url':_0x41aa01(0x1e8),'parse':_0x17e329=>_0x17e329['ip']},{'url':_0x41aa01(0x241),'parse':_0x117254=>_0x117254[_0x41aa01(0x339)]()},{'url':_0x41aa01(0x3b2),'parse':_0x58b887=>_0x58b887[_0x41aa01(0x339)]()}],_0x2e2d5e=_0x49dbe3[Math[_0x41aa01(0x328)](Math[_0x41aa01(0x23e)]()*_0x49dbe3[_0x41aa01(0x111)])];try{let _0x32ff28=await Ii['default'][_0x41aa01(0x35f)](_0x2e2d5e[_0x41aa01(0x16c)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x5e0dc1}}),_0x5ec734=_0x2e2d5e[_0x41aa01(0x143)](_0x32ff28['data']);return _0x5ec734[_0x41aa01(0x478)]()===_0x5e0dc1[_0x41aa01(0x478)]()?(console[_0x41aa01(0x18f)]('IP\x20confirmed:\x20'+_0x5e0dc1),!0x0):(console[_0x41aa01(0x6b3)](_0x41aa01(0x369)+_0x5e0dc1+_0x41aa01(0x759)+_0x5ec734),!0x1);}catch(_0x882aec){return console[_0x41aa01(0x6b3)](_0x41aa01(0x1b2)+_0x2e2d5e[_0x41aa01(0x16c)]+':\x20'+_0x882aec['message']),!0x1;}}async[a0_0x40255d(0x703)](_0x19e7e8,_0xe91863){const _0x5455c5=a0_0x40255d;if(!this[_0x5455c5(0x29f)]||!this[_0x5455c5(0x81b)])return console[_0x5455c5(0x6b3)](_0x5455c5(0x63b)),null;let _0x49a399;do _0x49a399=this[_0x5455c5(0x3eb)](),console['log'](_0x5455c5(0x312)+_0x49a399);while(!await this[_0x5455c5(0x6ef)](_0x49a399));await this[_0x5455c5(0x14a)](_0x49a399),console[_0x5455c5(0x18f)](_0x5455c5(0x61c)+_0x49a399);let _0x57077e={'_id':_0x19e7e8+'-'+_0xe91863,'ip':_0x49a399},_0x266f80=await this['cacheInstanceRepository'][_0x5455c5(0x274)](_0x57077e,_0x57077e[_0x5455c5(0x3ba)]);return console[_0x5455c5(0x18f)]('Cache\x20instance\x20update\x20result:\x20'+_0x266f80),_0x49a399;}async[a0_0x40255d(0x6ef)](_0x38e74c){const _0x2e50af=a0_0x40255d;return this[_0x2e50af(0x7ea)](_0x38e74c)?!await this[_0x2e50af(0x1fd)][_0x2e50af(0x73b)]({'where':{'ip':_0x38e74c}}):!0x1;}async[a0_0x40255d(0x23a)](_0x3a8fd9,_0x278084){const _0x3ba2bb=a0_0x40255d;let _0x1d6fe3=_0x3a8fd9+'-'+_0x278084,_0x4d5d88=await this[_0x3ba2bb(0x1fd)][_0x3ba2bb(0x73b)]({'where':{'_id':_0x1d6fe3}});_0x4d5d88&&_0x4d5d88['ip']&&(await this[_0x3ba2bb(0x20b)](_0x4d5d88['ip']),await this[_0x3ba2bb(0x1fd)][_0x3ba2bb(0x73f)]({'where':{'_id':_0x1d6fe3}}));}},Lo=new Ds(),re=Lo,Us=a0_0x40255d(0x44d),ki,me=null,Pa=null,Fo=0x3,Uo=null,Ti=b['get'](a0_0x40255d(0x231))[a0_0x40255d(0x5e1)]['KEY'],Oi=b[a0_0x40255d(0x35f)](a0_0x40255d(0x504));async function jo(){const _0x1ef663=a0_0x40255d;let _0x391b1d=await Ne[_0x1ef663(0x73b)]();me=_0x391b1d?.[_0x1ef663(0x59a)]??null,Uo=_0x391b1d?.[_0x1ef663(0x592)]??null,Us=_0x391b1d?.['connectedClient']??_0x1ef663(0x44d),ki=_0x391b1d?.[_0x1ef663(0x1ec)]??K??_0x1ef663(0x62b);}async function Jo(){await jo();}Jo();var qt={},Ae=class u{constructor(_0x4a3414,_0x16c0f5,_0x231af3){const _0x1c4bab=a0_0x40255d;this[_0x1c4bab(0x27d)]=_0x4a3414,this[_0x1c4bab(0x6ab)]=_0x16c0f5,this[_0x1c4bab(0x200)]=_0x231af3,this[_0x1c4bab(0x3fb)]=null,this[_0x1c4bab(0x17b)]=new $(u[_0x1c4bab(0x6cc)]),this[_0x1c4bab(0x30d)]={},this['localWebhook']={},this[_0x1c4bab(0x1de)]={'state':_0x1c4bab(0x262)},this[_0x1c4bab(0x212)]=(0x0,j[_0x1c4bab(0x12c)])(ue,_0x1c4bab(0x6e2)),this[_0x1c4bab(0x137)]=new Fs[(_0x1c4bab(0x437))](),this['userDevicesCache']=new Fs[(_0x1c4bab(0x437))](),this[_0x1c4bab(0x1c7)]=!0x1,this[_0x1c4bab(0x68e)]={'status.instance':_0x1c4bab(0x5b3),'connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':_0x1c4bab(0x286),'send.message':'/wa-message','messages.update':_0x1c4bab(0x1b7),'group.upsert':_0x1c4bab(0x3e1),'group.update':_0x1c4bab(0x3e1),'group-participants.update':'/wa-groups','messages.set':_0x1c4bab(0x388),'contacts.set':_0x1c4bab(0x47e),'contacts.upsert':_0x1c4bab(0x47e),'contacts.update':'/wa-contacts','presence.update':_0x1c4bab(0x2e7),'chats.set':_0x1c4bab(0x270),'chats.update':_0x1c4bab(0x270),'chats.upsert':_0x1c4bab(0x270),'chats.delete':_0x1c4bab(0x270)},this[_0x1c4bab(0x248)]=0x0,this[_0x1c4bab(0x4bc)]=[],this[_0x1c4bab(0x4c3)]=0xea60,this[_0x1c4bab(0x5ae)]=!0x1,this[_0x1c4bab(0x745)]={'chats.upsert':async(_0x4e6ffc,_0x27deda)=>{const _0x92f1bd=_0x1c4bab;let _0x41cde2=[];for await(let _0x211920 of _0x4e6ffc)_0x41cde2[_0x92f1bd(0x4f1)]({'_id':_0x211920['id'],'owner':this['instance'][_0x92f1bd(0x582)],'group':_0x211920['id'][_0x92f1bd(0x50b)](_0x92f1bd(0x68c)),'name':_0x211920[_0x92f1bd(0x6cc)]||_0x211920['displayName']||null,'contactname':null,'lastmsg':_0x211920[_0x92f1bd(0x2cd)]&&_0x211920[_0x92f1bd(0x2cd)]['toString']()['length']<0xd?_0x211920[_0x92f1bd(0x2cd)]*0x3e8:_0x211920['conversationTimestamp']||null,'archived':_0x211920[_0x92f1bd(0x168)]||!0x1,'unreadcount':_0x211920['unreadCount']||0x0,'ephemeralExpiration':_0x211920[_0x92f1bd(0x60d)]||0x0});this[_0x92f1bd(0x353)](_0x92f1bd(0x68a),_0x41cde2);},'chats.update':async(_0x2fb67e,_0x4ecf58)=>{const _0xab627b=_0x1c4bab;for(let _0x49b2e6 of _0x2fb67e){let _0x3f7b97={'_id':_0x49b2e6['id'],'owner':this[_0xab627b(0x30d)][_0xab627b(0x582)],'archived':_0x49b2e6['archived'],'muteEndTime':_0x49b2e6[_0xab627b(0xdf)],'ephemeralExpiration':_0x49b2e6[_0xab627b(0x60d)]},_0x42b748=!0x1,_0x3f6e37={};_0x3f7b97[_0xab627b(0x168)]!=null&&(this[_0xab627b(0x17b)]['verbose'](this[_0xab627b(0x2c6)]+'\x20('+this[_0xab627b(0x30d)][_0xab627b(0x582)]+_0xab627b(0x6fd)+_0x49b2e6['id']+_0xab627b(0x305)+_0x49b2e6[_0xab627b(0x168)]),_0x42b748=!0x0,_0x3f6e37[_0xab627b(0x168)]=_0x49b2e6[_0xab627b(0x168)]),_0xab627b(0xdf)in _0x49b2e6&&(this[_0xab627b(0x17b)]['verbose'](this['instanceName']+'\x20('+this[_0xab627b(0x30d)][_0xab627b(0x582)]+_0xab627b(0x77b)+_0x49b2e6['id']+_0xab627b(0x305)+(_0x49b2e6[_0xab627b(0xdf)]??'0')),_0x42b748=!0x0,_0x3f6e37[_0xab627b(0xdf)]=_0x49b2e6[_0xab627b(0xdf)]??0x0),_0xab627b(0x60d)in _0x49b2e6&&(this[_0xab627b(0x17b)][_0xab627b(0x5ab)](this[_0xab627b(0x2c6)]+'\x20('+this[_0xab627b(0x30d)]['wuid']+_0xab627b(0x1f2)+_0x49b2e6['id']+_0xab627b(0x305)+(_0x49b2e6['ephemeralExpiration']!==void 0x0?_0x49b2e6[_0xab627b(0x60d)]:_0xab627b(0x251))),_0x3f6e37['ephemeralExpiration']=_0x49b2e6['ephemeralExpiration']===null?0x0:_0x49b2e6[_0xab627b(0x60d)],_0x42b748=!0x0);let _0x456426;_0x42b748&&(_0x456426=await this[_0xab627b(0x200)]['chat'][_0xab627b(0x72d)]({'where':{'_id':_0x49b2e6['id']}},_0x3f6e37,this[_0xab627b(0x30d)][_0xab627b(0x582)])),_0x456426&&q(this[_0xab627b(0x2c6)],_0xab627b(0x130),{'chat':_0x456426});}},'chats.delete':async _0x1925b9=>{const _0x157ea8=_0x1c4bab;for(let _0x138afa of _0x1925b9)if(_0x138afa['endsWith'](_0x157ea8(0x68c))){await this[_0x157ea8(0x200)][_0x157ea8(0x708)][_0x157ea8(0x5d1)]({'where':{'_id':_0x138afa}},this[_0x157ea8(0x30d)]['wuid']);let _0x594b44={'where':{'key':{'remoteJid':_0x138afa}}};await this['repository']['message'][_0x157ea8(0x5d1)](_0x594b44,this[_0x157ea8(0x30d)][_0x157ea8(0x582)]);}else{await this[_0x157ea8(0x200)][_0x157ea8(0x708)][_0x157ea8(0x72d)]({'where':{'_id':_0x138afa}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x157ea8(0x30d)][_0x157ea8(0x582)]);let _0x172bf9={'where':{'key':{'remoteJid':_0x138afa}}};await this[_0x157ea8(0x200)]['message'][_0x157ea8(0x5d1)](_0x172bf9,this[_0x157ea8(0x30d)]['wuid']);}this[_0x157ea8(0x353)](_0x157ea8(0x2da),[..._0x1925b9]);}},this[_0x1c4bab(0x27b)]={'contacts.upsert':async(_0x40f1de,_0x25d673)=>{const _0x2498ed=_0x1c4bab;let _0x80c3d6=await this['repository'][_0x2498ed(0x2b5)][_0x2498ed(0x284)]({'where':{}},this[_0x2498ed(0x30d)][_0x2498ed(0x582)]),_0x21432d=[];for await(let _0x1a3ba2 of _0x40f1de)_0x80c3d6['find'](_0x47df85=>_0x47df85['_id']===_0x1a3ba2['id'])||_0x21432d[_0x2498ed(0x4f1)]({'_id':_0x1a3ba2['id'],'pushName':_0x1a3ba2?.[_0x2498ed(0x6cc)]||_0x1a3ba2?.[_0x2498ed(0x2a1)],'owner':this[_0x2498ed(0x30d)][_0x2498ed(0x582)]});this[_0x2498ed(0x353)](_0x2498ed(0x1c0),_0x21432d),await this[_0x2498ed(0x200)]['contact'][_0x2498ed(0x148)](_0x21432d);},'contacts.update':async(_0x3bfe51,_0x43adf7)=>{const _0x3b190c=_0x1c4bab;let _0x2ba49d=[];for await(let _0x5750c7 of _0x3bfe51)_0x2ba49d[_0x3b190c(0x4f1)]({'_id':_0x5750c7['id'],'pushName':_0x5750c7?.[_0x3b190c(0x6cc)]??_0x5750c7?.['verifiedName'],'owner':this[_0x3b190c(0x30d)][_0x3b190c(0x582)]});this[_0x3b190c(0x353)]('contacts.update',_0x2ba49d);}},this[_0x1c4bab(0x5e8)]={'messaging-history.set':async({messages:_0x3335fb,chats:_0x19c60b,isLatest:_0x395040},_0x170ce2)=>{const _0x4720d3=_0x1c4bab;if(_0x395040){let _0x282f48=await Promise['all'](_0x19c60b[_0x4720d3(0x54b)](async _0x192b9c=>({'_id':_0x192b9c['id'],'owner':this['instance']['wuid'],'group':_0x192b9c['id']['endsWith'](_0x4720d3(0x68c)),'name':_0x192b9c['name']||_0x192b9c['displayName']||_0x192b9c[_0x4720d3(0x5bd)]||null,'contactname':null,'lastmsg':_0x192b9c[_0x4720d3(0x2cd)]&&_0x192b9c[_0x4720d3(0x2cd)]['toString']()[_0x4720d3(0x111)]<0xd?_0x192b9c[_0x4720d3(0x2cd)]*0x3e8:_0x192b9c[_0x4720d3(0x2cd)]||null,'archived':_0x192b9c[_0x4720d3(0x168)]||!0x1,'unreadcount':_0x192b9c['unreadCount']||0x0,'ephemeralExpiration':_0x192b9c['ephemeralExpiration']||0x0,'muteEndTime':_0x192b9c[_0x4720d3(0xdf)]||0x0})));this['sendDataWebhook'](_0x4720d3(0x2fb),_0x282f48),await this[_0x4720d3(0x5eb)](_0x282f48,_0x170ce2);}let _0x1e2892=[],_0x2edfea=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x81f8d]of Object[_0x4720d3(0x765)](_0x3335fb)){if(_0x81f8d['message']?.[_0x4720d3(0x158)]||_0x81f8d['message']?.[_0x4720d3(0x407)]||!_0x81f8d['message']||_0x81f8d['key'][_0x4720d3(0x293)]===_0x4720d3(0x307)||(Ls[_0x4720d3(0x437)][_0x4720d3(0x201)](_0x81f8d?.[_0x4720d3(0x4ea)])&&(_0x81f8d[_0x4720d3(0x4ea)]=_0x81f8d[_0x4720d3(0x4ea)]?.['toNumber']()),_0x81f8d[_0x4720d3(0x4ea)]&&_0x81f8d['messageTimestamp'][_0x4720d3(0x334)]()['length']<0xd&&(_0x81f8d['messageTimestamp']=_0x81f8d[_0x4720d3(0x4ea)]*0x3e8),_0x81f8d[_0x4720d3(0x4ea)]<_0x2edfea))continue;let _0x435183=(0x0,w[_0x4720d3(0x38d)])(_0x81f8d['message']),_0x6f9f21=(0x0,w[_0x4720d3(0x7a5)])(_0x435183),{message_normalized:_0x6c2cb2}=this['normalizeMessage'](_0x435183,_0x6f9f21,null);Object[_0x4720d3(0x702)](_0x6c2cb2)[_0x4720d3(0x111)]>0x0&&_0x1e2892[_0x4720d3(0x4f1)]({'_id':_0x81f8d['key']['id'],'key':_0x81f8d[_0x4720d3(0x713)],'pushName':_0x81f8d['pushName'],'participant':_0x81f8d['participant'],'message':_0x435183,'messageType':_0x6f9f21,'message_normalized':{'key':_0x81f8d[_0x4720d3(0x713)],'pushName':_0x81f8d[_0x4720d3(0x1b8)],'messageTimestamp':_0x81f8d['messageTimestamp'],..._0x6c2cb2},'messageTimestamp':_0x81f8d['messageTimestamp'],'owner':this[_0x4720d3(0x30d)][_0x4720d3(0x582)]});}_0x170ce2[_0x4720d3(0x1ef)]&&_0x1e2892[_0x4720d3(0x111)]>0x0&&(this[_0x4720d3(0x17b)]['verbose'](this[_0x4720d3(0x2c6)]+'\x20('+this['instance'][_0x4720d3(0x582)]+'):\x20'+_0x1e2892[_0x4720d3(0x111)]+_0x4720d3(0x372)+this[_0x4720d3(0x30d)]['wuid']+_0x4720d3(0x207)),await this[_0x4720d3(0x200)][_0x4720d3(0x740)]['insert']([..._0x1e2892],this[_0x4720d3(0x30d)]['wuid'])),this[_0x4720d3(0x353)](_0x4720d3(0x7e8),[..._0x1e2892]),_0x3335fb=void 0x0;},'messages.upsert':async({messages:_0x1c95f1,type:_0x39407f},_0xbdbaa1)=>{const _0x4ae5ca=_0x1c4bab;for(let _0x30d29b of _0x1c95f1){if(this[_0x4ae5ca(0x7d4)]?.[_0x4ae5ca(0x52c)]&&_0x30d29b[_0x4ae5ca(0x713)]['remoteJid'][_0x4ae5ca(0x5a1)]('@g.us')){this[_0x4ae5ca(0x17b)][_0x4ae5ca(0x5ab)](this[_0x4ae5ca(0x2c6)]+'\x20('+this[_0x4ae5ca(0x30d)][_0x4ae5ca(0x582)]+_0x4ae5ca(0x774));return;}if(_0x39407f!=='notify'||!_0x30d29b?.[_0x4ae5ca(0x740)]||_0x30d29b[_0x4ae5ca(0x740)]?.[_0x4ae5ca(0x158)]||_0x30d29b[_0x4ae5ca(0x740)][_0x4ae5ca(0x407)]||_0x30d29b[_0x4ae5ca(0x713)][_0x4ae5ca(0x293)]===_0x4ae5ca(0x307))return;let _0x163846=null,_0x12874a=null;if(_0x30d29b['messageStubParameters']&&_0x30d29b['messageStubParameters'][0x0]==='Message\x20absent\x20from\x20node'){console[_0x4ae5ca(0x6b3)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),qt[_0x30d29b['key']['id']]=_0x30d29b,this[_0x4ae5ca(0x53d)](_0x30d29b,0x0);return;}qt[_0x30d29b[_0x4ae5ca(0x713)]['id']]&&(console[_0x4ae5ca(0x6b3)](_0x4ae5ca(0x70b)),delete qt[_0x30d29b[_0x4ae5ca(0x713)]['id']]);try{_0x163846=await this['processPollUpdateMessage'](_0x30d29b),_0x12874a=_0x163846?_0x163846[_0x4ae5ca(0x12c)](','):null;}catch(_0x5814fe){this[_0x4ae5ca(0x17b)]['verbose'](this['instanceName']+'\x20('+this[_0x4ae5ca(0x30d)][_0x4ae5ca(0x582)]+_0x4ae5ca(0x377)+(_0x5814fe instanceof Error?_0x5814fe[_0x4ae5ca(0x740)]:JSON[_0x4ae5ca(0x53c)](_0x5814fe,null,0x2))),_0x12874a='error\x20get\x20vote';}this[_0x4ae5ca(0x6ba)][_0x4ae5ca(0x3ab)](_0x4ae5ca(0x43a)),Ls[_0x4ae5ca(0x437)][_0x4ae5ca(0x201)](_0x30d29b[_0x4ae5ca(0x4ea)])&&(_0x30d29b['messageTimestamp']=_0x30d29b[_0x4ae5ca(0x4ea)]?.[_0x4ae5ca(0x1a9)]()),_0x30d29b[_0x4ae5ca(0x4ea)]&&_0x30d29b[_0x4ae5ca(0x4ea)][_0x4ae5ca(0x334)]()[_0x4ae5ca(0x111)]<0xd&&(_0x30d29b['messageTimestamp']=_0x30d29b[_0x4ae5ca(0x4ea)]*0x3e8);let _0x304681=_0x30d29b[_0x4ae5ca(0x740)],_0x313c03=(0x0,w[_0x4ae5ca(0x38d)])(_0x304681),_0x1a366c=(0x0,w[_0x4ae5ca(0x7a5)])(_0x313c03),{messageContent:_0x3fe329,message_normalized:_0x221144}=this[_0x4ae5ca(0x1d8)](_0x313c03,_0x1a366c,_0x12874a);_0x1a366c===_0x4ae5ca(0x158)&&_0x3fe329?.[_0x4ae5ca(0x1e6)]&&(_0x1a366c='editedMessage');let _0x36edcc,_0x36a4ad=_0x30d29b['key'][_0x4ae5ca(0x293)]['endsWith'](_0x4ae5ca(0x68c));if(_0x30d29b[_0x4ae5ca(0x713)][_0x4ae5ca(0x363)])_0x36edcc=this['instance'][_0x4ae5ca(0x48e)];else{let _0x57d640=_0x36a4ad?_0x30d29b['key'][_0x4ae5ca(0x65f)]:_0x30d29b[_0x4ae5ca(0x713)]['remoteJid'];_0x36edcc=(await this[_0x4ae5ca(0x73e)](_0x57d640,_0x30d29b[_0x4ae5ca(0x1b8)],!0x1))[_0x4ae5ca(0x574)][_0x4ae5ca(0x1af)];}let _0x26dbdc={'_id':_0x30d29b[_0x4ae5ca(0x713)]['id'],'key':_0x30d29b[_0x4ae5ca(0x713)],'isGroup':_0x36a4ad,'profilePictureUrl':_0x36edcc,'pushName':_0x30d29b[_0x4ae5ca(0x1b8)],'message':_0x313c03,'messageType':_0x1a366c,'message_normalized':{'key':_0x30d29b[_0x4ae5ca(0x713)],'pushName':_0x30d29b[_0x4ae5ca(0x1b8)],'messageTimestamp':_0x30d29b['messageTimestamp'],'source':(0x0,w[_0x4ae5ca(0x544)])(_0x30d29b[_0x4ae5ca(0x713)]['id']),..._0x221144},'messageTimestamp':_0x30d29b['messageTimestamp'],'owner':this[_0x4ae5ca(0x30d)]['wuid'],'source':(0x0,w[_0x4ae5ca(0x544)])(_0x30d29b[_0x4ae5ca(0x713)]['id']),'expiration':_0x3fe329?.['contextInfo']?.['expiration']||0x0};_0x3fe329||(this[_0x4ae5ca(0x17b)][_0x4ae5ca(0x6b3)](_0x4ae5ca(0x4cd)),this[_0x4ae5ca(0x17b)][_0x4ae5ca(0x6b3)](_0x26dbdc)),this[_0x4ae5ca(0x17b)][_0x4ae5ca(0x18f)](this['instanceName']+'\x20('+this[_0x4ae5ca(0x30d)]['wuid']+'):\x20'+(_0x26dbdc[_0x4ae5ca(0x713)]?.[_0x4ae5ca(0x363)]?_0x4ae5ca(0x662):_0x4ae5ca(0x344))+'\x20['+_0x26dbdc[_0x4ae5ca(0x713)]?.['remoteJid'][_0x4ae5ca(0x362)](_0x4ae5ca(0x226),'')+']\x20('+_0x26dbdc[_0x4ae5ca(0x3f8)]+')'),_0x26dbdc[_0x4ae5ca(0x6c0)]?.[_0x4ae5ca(0x6ed)]&&this['logger'][_0x4ae5ca(0x18f)](_0x30d29b['key']['id']+':\x20'+_0x26dbdc[_0x4ae5ca(0x6c0)]?.[_0x4ae5ca(0x6ed)]),await this[_0x4ae5ca(0x200)]['message'][_0x4ae5ca(0x148)]([_0x26dbdc],this[_0x4ae5ca(0x30d)]['wuid']),this['sendDataWebhook']('messages.upsert',_0x26dbdc),q(this['instanceName'],_0x4ae5ca(0x290),{'message':_0x26dbdc}),_0x30d29b[_0x4ae5ca(0x713)][_0x4ae5ca(0x293)]!=='status@broadcast'&&await this[_0x4ae5ca(0x253)](_0xbdbaa1,_0x26dbdc,_0x4ae5ca(0xd5));}},'messages.update':async(_0x4a39df,_0x342d92)=>{const _0x1c569b=_0x1c4bab;let _0x8574b2={0x0:_0x1c569b(0x6b6),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x1c569b(0x3f0),0x4:_0x1c569b(0x15e),0x5:_0x1c569b(0x485)};for await(let {key:_0x518a52,update:_0x3c7645}of _0x4a39df){if(this[_0x1c569b(0x7d4)]?.[_0x1c569b(0x52c)]&&_0x518a52[_0x1c569b(0x293)]['includes']('@g.us')){this['logger']['verbose'](this[_0x1c569b(0x2c6)]+'\x20('+this[_0x1c569b(0x30d)][_0x1c569b(0x582)]+_0x1c569b(0x24e));return;}if(_0x518a52[_0x1c569b(0x293)]!=='status@broadcast'){let _0x11fa92=Date[_0x1c569b(0x15d)](),_0x5d2e23;_0x3c7645[_0x1c569b(0x740)]===null&&_0x3c7645[_0x1c569b(0x784)]===void 0x0?_0x5d2e23=_0x1c569b(0x2b1):_0x5d2e23=_0x8574b2[_0x3c7645['status']];let _0x5eaa5f=_0x518a52[_0x1c569b(0x293)][_0x1c569b(0x362)](/:\d{1,2}@/g,'@'),_0xff80e4={..._0x518a52,'remoteJid':_0x5eaa5f,'status':_0x5d2e23,'datetime':_0x11fa92,'owner':this[_0x1c569b(0x30d)][_0x1c569b(0x582)]};this[_0x1c569b(0x353)](_0x1c569b(0x7eb),_0xff80e4),await this[_0x1c569b(0x4b3)](_0x518a52,_0xff80e4);}}},'labels.association':async({type:_0x4e39e9,association:_0x20874c})=>{const _0x568eb5=_0x1c4bab;if(_0x20874c['type']===_0x568eb5(0x2d6)){let _0x54438a,_0x5bd285=0x0;for(;!_0x54438a&&_0x5bd285<this['delayChatLabel_MAX_RETRIES'];)_0x54438a=await this[_0x568eb5(0x200)][_0x568eb5(0x708)]['findOne']({'where':{'_id':_0x20874c[_0x568eb5(0x4d8)]}},this[_0x568eb5(0x30d)][_0x568eb5(0x582)]),_0x54438a||(_0x5bd285++,this['logger'][_0x568eb5(0x58f)](this['instanceName']+'\x20('+this[_0x568eb5(0x30d)]['wuid']+'):\x20Chat\x20'+_0x20874c[_0x568eb5(0x4d8)]+_0x568eb5(0x40c)+this[_0x568eb5(0x1c3)]+_0x568eb5(0x694)+_0x5bd285+'/'+this[_0x568eb5(0x6cb)]+')'),await this[_0x568eb5(0x445)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x54438a){this[_0x568eb5(0x17b)][_0x568eb5(0x6b3)](_0x568eb5(0x611)+_0x20874c[_0x568eb5(0x4d8)]+_0x568eb5(0x5ff)+this[_0x568eb5(0x6cb)]+'\x20tentativas.');return;}switch(_0x4e39e9){case _0x568eb5(0x482):console['log'](_0x20874c),await this[_0x568eb5(0x200)][_0x568eb5(0x708)]['updateOne']({'where':{'_id':_0x20874c[_0x568eb5(0x4d8)]}},{'leadInfo.etiquetas':_0x20874c['labelId']},this[_0x568eb5(0x30d)]['wuid'],void 0x0,_0x568eb5(0x468));break;case'remove':console[_0x568eb5(0x18f)](_0x20874c),await this['repository'][_0x568eb5(0x708)][_0x568eb5(0x72d)]({'where':{'_id':_0x20874c[_0x568eb5(0x4d8)]}},{'leadInfo.etiquetas':_0x20874c[_0x568eb5(0x481)]},this[_0x568eb5(0x30d)][_0x568eb5(0x582)],void 0x0,_0x568eb5(0x419));break;default:this[_0x568eb5(0x17b)][_0x568eb5(0x6b3)](_0x568eb5(0x73d)+_0x4e39e9+']');}}},'labels.edit':async _0x28207a=>{const _0x369c39=_0x1c4bab;if(!_0x28207a||!_0x28207a['id']){this[_0x369c39(0x17b)]['error'](_0x369c39(0x392));return;}if(!_0x28207a[_0x369c39(0x1ea)]){let _0x3a0298=['#ff9484','#64c4ff','#fed428',_0x369c39(0x28a),_0x369c39(0x573),_0x369c39(0x2d1),_0x369c39(0x151),_0x369c39(0x156),_0x369c39(0x6f6),_0x369c39(0x5e2),_0x369c39(0x4ca),_0x369c39(0x25e),_0x369c39(0x776),_0x369c39(0x2de),_0x369c39(0x5ec),_0x369c39(0x7a8),_0x369c39(0x4d7),_0x369c39(0x663),_0x369c39(0x6eb),_0x369c39(0x57c)],_0x4fe839;typeof _0x28207a[_0x369c39(0x31c)]=='number'&&_0x28207a[_0x369c39(0x31c)]>=0x0&&_0x28207a['color']<_0x3a0298[_0x369c39(0x111)]?_0x4fe839=_0x3a0298[_0x28207a[_0x369c39(0x31c)]]:(this['logger'][_0x369c39(0x6b3)](_0x369c39(0x32a)+_0x28207a[_0x369c39(0x31c)]),_0x4fe839=_0x369c39(0x14b));let _0x3b22fc={'_id':_0x28207a['id'],'colorHex':_0x4fe839,'color':_0x28207a?.['color'],'name':_0x28207a?.[_0x369c39(0x6cc)],'owner':this[_0x369c39(0x30d)][_0x369c39(0x582)]};await this[_0x369c39(0x200)][_0x369c39(0x817)]['updateOne']({'where':{'_id':_0x28207a['id']}},_0x3b22fc,this[_0x369c39(0x30d)][_0x369c39(0x582)]),this[_0x369c39(0x17b)]['info'](this['instanceName']+'\x20('+this[_0x369c39(0x30d)][_0x369c39(0x582)]+_0x369c39(0x76c)+_0x28207a);}_0x28207a[_0x369c39(0x1ea)]&&(await this['repository'][_0x369c39(0x817)][_0x369c39(0x5d1)]({'where':{'_id':_0x28207a['id']}},this['instance'][_0x369c39(0x582)]),this['logger'][_0x369c39(0x58f)](_0x369c39(0x100)+_0x28207a['id']));}},this[_0x1c4bab(0x1b1)]={'groups.upsert':async _0x41703a=>{const _0x4d1eab=_0x1c4bab;this['localWebhook']?.[_0x4d1eab(0x52c)]||this[_0x4d1eab(0x353)]('groups.upsert',_0x41703a);for(let _0x36ad81 of _0x41703a)await this['updateGroupWebhook'](_0x36ad81);},'groups.update':async _0x39c313=>{const _0x5c35aa=_0x1c4bab;this['localWebhook']?.['groups_ignore']||this[_0x5c35aa(0x353)](_0x5c35aa(0x6df),_0x39c313);for(let _0x1b5159 of _0x39c313)await this[_0x5c35aa(0x2b4)](_0x1b5159);},'group-participants.update':async _0x38bee9=>{const _0x3a3590=_0x1c4bab;this[_0x3a3590(0x7d4)]?.[_0x3a3590(0x52c)]||this[_0x3a3590(0x353)](_0x3a3590(0x374),_0x38bee9),await this[_0x3a3590(0x6bc)](_0x38bee9);}},this[_0x1c4bab(0x6cb)]=0x5,this[_0x1c4bab(0x1c3)]=0x1388,this[_0x1c4bab(0x14e)]=0x0,this[_0x1c4bab(0x110)]=async _0x28bd54=>{const _0x37fc93=_0x1c4bab;if(_0x28bd54[_0x37fc93(0x740)]?.[_0x37fc93(0x101)]){let _0x47764a=await this[_0x37fc93(0x78d)](_0x28bd54[_0x37fc93(0x740)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x47764a){let _0x2303b7=_0x47764a[_0x37fc93(0x713)][_0x37fc93(0x363)]?this['instance'][_0x37fc93(0x582)]+'@s.whatsapp.net':_0x47764a[_0x37fc93(0x713)][_0x37fc93(0x65f)]||_0x47764a[_0x37fc93(0x713)]['remoteJid'],_0x19b8b0=_0x47764a[_0x37fc93(0x713)]['id'],_0x428dcd=_0x47764a[_0x37fc93(0x740)],_0x14018a=Buffer['from'](_0x428dcd[_0x37fc93(0x55c)]['messageSecret'][_0x37fc93(0x334)](_0x37fc93(0x4c0)),_0x37fc93(0x4c0)),_0xbad20b=(0x0,w['decryptPollVote'])(_0x28bd54[_0x37fc93(0x740)][_0x37fc93(0x101)][_0x37fc93(0x1a2)],{'pollCreatorJid':_0x2303b7,'pollMsgId':_0x19b8b0,'pollEncKey':_0x14018a,'voterJid':_0x28bd54[_0x37fc93(0x713)][_0x37fc93(0x363)]?this[_0x37fc93(0x30d)][_0x37fc93(0x582)]+'@s.whatsapp.net':_0x28bd54['key']['remoteJid'][_0x37fc93(0x50b)](_0x37fc93(0x5ea))?_0x28bd54['key']['participant']:_0x28bd54[_0x37fc93(0x713)][_0x37fc93(0x293)]}),_0x28fba4=[],_0x1a8b0d=_0xbad20b['selectedOptions'][_0x37fc93(0x54b)](_0x4c67bf=>Buffer[_0x37fc93(0x326)](_0x4c67bf)[_0x37fc93(0x334)](_0x37fc93(0x4c0)));for(let {optionName:_0x2a6946}of _0x428dcd[_0x37fc93(0x4e6)]?.[_0x37fc93(0x332)]||_0x428dcd[_0x37fc93(0x396)]?.['options']||_0x428dcd[_0x37fc93(0x1cf)]?.[_0x37fc93(0x332)])_0x1a8b0d[_0x37fc93(0x64e)]((0x0,w[_0x37fc93(0x77e)])(Buffer[_0x37fc93(0x326)](_0x2a6946))[_0x37fc93(0x334)](_0x37fc93(0x4c0)))>-0x1&&_0x28fba4[_0x37fc93(0x4f1)](_0x2a6946);return _0x28fba4;}}return null;},this['normalizeMessage']=(_0x394cf0,_0x5402b9,_0x57557d)=>{const _0x205339=_0x1c4bab;try{let _0x34fb71=_0x394cf0?(0x0,w[_0x205339(0x5c1)])(_0x394cf0)[_0x5402b9]:void 0x0,_0x58ba86={},_0x19ed10=null,_0x4c713b=null,_0x4f4807=null;_0x5402b9===_0x205339(0x158)&&_0x34fb71?.[_0x205339(0x1e6)]&&(_0x5402b9=(0x0,w['getContentType'])(_0x34fb71[_0x205339(0x1e6)]),_0x19ed10=_0x394cf0[_0x205339(0x158)][_0x205339(0x713)]['id'],_0x34fb71=_0x394cf0[_0x205339(0x158)][_0x205339(0x1e6)][_0x5402b9]),_0x394cf0[_0x5402b9]?.[_0x205339(0x4b7)]?.[_0x205339(0x2ed)]&&_0x394cf0[_0x5402b9]?.[_0x205339(0x4b7)]?.[_0x205339(0x4a0)]&&(_0x4c713b=_0x394cf0[_0x5402b9][_0x205339(0x4b7)][_0x205339(0x2ed)]),_0x394cf0[_0x205339(0x5a3)]&&(_0x4f4807=_0x394cf0[_0x205339(0x5a3)][_0x205339(0x713)]['id']);let _0x1a8282;if(_0x34fb71&&typeof _0x34fb71==_0x205339(0x480)&&_0x205339(0x664)in _0x34fb71&&({pollCreationMessageKey:_0x1a8282}=_0x34fb71),_0x5402b9===_0x205339(0x4e6)||_0x5402b9===_0x205339(0x1cf)||_0x5402b9==='pollCreationMessageV3'){let _0xe973ba=_0x34fb71[_0x205339(0x332)][_0x205339(0x54b)](_0x3b9df6=>_0x3b9df6[_0x205339(0x1e7)])[_0x205339(0x12c)]('|');_0x58ba86[_0x205339(0x71b)]=_0xe973ba;}let _0x253f55='';if(_0x34fb71&&(_0x253f55+=_0x34fb71['name']?_0x34fb71[_0x205339(0x6cc)]:'',_0x253f55+=_0x34fb71[_0x205339(0x476)]?'\x20'+_0x34fb71[_0x205339(0x476)]:'',_0x253f55+=_0x34fb71['conversation']?'\x20'+_0x34fb71['conversation']:'',_0x253f55+=_0x34fb71[_0x205339(0x71c)]?'\x20'+_0x34fb71['displayName']:''),_0x5402b9==='listMessage'){_0x253f55=(_0x34fb71[_0x205339(0x254)]||'')+'\x0a'+(_0x34fb71[_0x205339(0x327)]||'')+'\x0a'+(_0x34fb71[_0x205339(0x6e4)]||'');let _0x3c04f4=this[_0x205339(0x395)](_0x34fb71[_0x205339(0x5a5)]);_0x58ba86[_0x205339(0x71b)]=_0x3c04f4;}if(_0x5402b9===_0x205339(0x633)&&(_0x57557d=_0x34fb71[_0x205339(0x254)]),_0x34fb71&&_0x34fb71['vcard']){let _0xbcbfb8=this[_0x205339(0x81a)](JSON[_0x205339(0x53c)](_0x34fb71[_0x205339(0x657)],null,0x2));_0x253f55=_0x253f55+'\x0a'+_0xbcbfb8;}if(_0x34fb71){let {sections:_0xf9afc8,listType:_0x5cfb6c,displayName:_0xe524dc,vcard:_0x48b315,contactVcard:_0xae9531,name:_0x222f26,caption:_0x287f79,conversation:_0x226adc,pollCreationMessageKey:_0x294b76,footerText:_0x598379,contentText:_0x1262ba,pageCount:_0x5a257e,headerType:_0x2f22d7,isAvatar:_0x5b6afa,isAnimated:_0x3aa86a,fallbackLc:_0x1da79b,fallbackLg:_0x3b4485,namespace:_0x35c5cd,elementName:_0x40f411,localizableParams:_0x5ae7e4,viewOnce:_0x46b21e,height:_0x213fb6,width:_0x463ee0,key:_0x3cbfe5,firstScanLength:_0x30eae6,firstScanSidecar:_0x229bec,gifPlayback:_0x3693a6,gifAttribution:_0x4b24d8,midQualityFileSha256:_0x42286e,scansSidecar:_0xe19218,streamingSidecar:_0x273a86,thumbnailHeight:_0x589a2c,thumbnailWidth:_0x588e91,thumbnailEncSha256:_0xe9d24,thumbnailDirectPath:_0x33b4a9,canonicalUrl:_0x24e8e1,matchedText:_0xe79967,previewType:_0x27e6a2,thumbnailSha256:_0x42d4a9,deviceListMetadataVersion:_0x1f52fb,inviteLinkGroupTypeV2:_0x30edd7,interactiveAnnotations:_0x4a4311,scanLengths:_0x3eb84a,jpegThumbnail:_0x3892e6,url:_0x4b123a,mediaKeyTimestamp:_0x38f520,waveform:_0x530f0e,stickerSentTs:_0x270996,firstFrameLength:_0x1aa61a,fileEncSha256:_0x24fdbd,contextInfo:_0x3d6901,firstFrameSidecar:_0x2fdeec,directPath:_0xd820fc,fileSha256:_0xed9cf9,mediaKey:_0x21c9db,senderTimestampMs:_0x41ae2e,..._0x3e2769}=_0x34fb71;(_0x5402b9===_0x205339(0x273)||_0x5402b9===_0x205339(0x633))&&(delete _0x3e2769[_0x205339(0x254)],delete _0x3e2769[_0x205339(0x327)]),typeof _0x34fb71==_0x205339(0x4ff)?_0x58ba86={'text':_0x34fb71,'type':_0x5402b9||_0x205339(0x66f),..._0x19ed10&&{'edited':_0x19ed10},..._0x4c713b&&{'quoted':_0x4c713b},..._0x4f4807&&{'reaction':_0x4f4807}}:_0x58ba86={'text':_0x253f55,..._0x3e2769,..._0x5402b9===_0x205339(0x101)?{'poll_id':_0x34fb71[_0x205339(0x664)]['id'],'quoted':_0x34fb71[_0x205339(0x664)]['id'],'vote':_0x57557d}:{},..._0x5402b9===_0x205339(0x633)?{'vote':_0x57557d}:{},'type':_0x5402b9,..._0x19ed10&&{'edited':_0x19ed10},..._0x4c713b&&{'quoted':_0x4c713b},..._0x4f4807&&{'reaction':_0x4f4807},...(_0x5402b9===_0x205339(0x4e6)||_0x5402b9==='pollCreationMessageV2'||_0x5402b9===_0x205339(0x396)||_0x5402b9===_0x205339(0x273))&&{'convertedOptions':_0x58ba86[_0x205339(0x71b)]}};}return{'messageType':_0x5402b9,'messageContent':_0x34fb71,'message_normalized':_0x58ba86};}catch(_0x3ba1e6){return this['logger'][_0x205339(0x6b3)](_0x205339(0x6af)+_0x3ba1e6),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1c4bab(0x233)]=null,this[_0x1c4bab(0x2a9)]=[],(this[_0x1c4bab(0x279)](),this[_0x1c4bab(0x29b)](),this[_0x1c4bab(0x30d)][_0x1c4bab(0x404)]={'count':0x0},this[_0x1c4bab(0x30d)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x40255d(0x2c6)](_0x72e980){const _0x3e3a00=a0_0x40255d;if(!_0x72e980){this[_0x3e3a00(0x30d)][_0x3e3a00(0x6cc)]=(0x0,_i['v4'])();return;}this[_0x3e3a00(0x30d)][_0x3e3a00(0x6cc)]=_0x72e980,this[_0x3e3a00(0x353)](_0x3e3a00(0x3e3),{'instance':this['instance'][_0x3e3a00(0x6cc)],'status':_0x3e3a00(0x632)});}get[a0_0x40255d(0x2c6)](){const _0x27f0d4=a0_0x40255d;return this[_0x27f0d4(0x30d)]['name'];}get[a0_0x40255d(0x582)](){const _0x1977e2=a0_0x40255d;return this[_0x1977e2(0x30d)][_0x1977e2(0x582)];}async['getProfileName'](){const _0x73bd9b=a0_0x40255d;let _0x50d00a=this[_0x73bd9b(0x6ba)]['user']?.[_0x73bd9b(0x6cc)]??this[_0x73bd9b(0x6ba)]['user']?.[_0x73bd9b(0x2a1)];if(!_0x50d00a){if(this[_0x73bd9b(0x27d)][_0x73bd9b(0x35f)](_0x73bd9b(0x303))['ENABLED']){let _0x20d308=await R[_0x73bd9b(0x173)]()['db'](this[_0x73bd9b(0x27d)][_0x73bd9b(0x35f)](_0x73bd9b(0x303))[_0x73bd9b(0x31d)][_0x73bd9b(0x495)]+'-instances')[_0x73bd9b(0x778)](this['instanceName'])['findOne']({'_id':_0x73bd9b(0x11f)});if(_0x20d308){let _0xd77081=JSON[_0x73bd9b(0x143)](JSON[_0x73bd9b(0x53c)](_0x20d308),w[_0x73bd9b(0x4c5)][_0x73bd9b(0x23b)]);_0x50d00a=_0xd77081['me']?.[_0x73bd9b(0x6cc)]||_0xd77081['me']?.['verifiedName'];}}else{if((0x0,Ue[_0x73bd9b(0x2ac)])((0x0,j[_0x73bd9b(0x12c)])(Me,this[_0x73bd9b(0x2c6)],_0x73bd9b(0x7a9)))){let _0xf722e0=JSON[_0x73bd9b(0x143)]((0x0,Ue[_0x73bd9b(0x610)])((0x0,j['join'])(Me,this[_0x73bd9b(0x2c6)],_0x73bd9b(0x7a9)),{'encoding':'utf-8'}));_0x50d00a=_0xf722e0['me']?.[_0x73bd9b(0x6cc)]||_0xf722e0['me']?.[_0x73bd9b(0x2a1)];}}}return _0x50d00a;}get['profilePictureUrl'](){const _0x5c0375=a0_0x40255d;return this[_0x5c0375(0x30d)][_0x5c0375(0x48e)];}get['qrCode'](){const _0x35003c=a0_0x40255d;return this[_0x35003c(0x30d)][_0x35003c(0x404)]?.['pairingCode']?{'pairingCode':this[_0x35003c(0x30d)][_0x35003c(0x404)]?.[_0x35003c(0x52e)]}:{'code':this[_0x35003c(0x30d)][_0x35003c(0x404)]?.['code'],'base64':this[_0x35003c(0x30d)][_0x35003c(0x404)]?.[_0x35003c(0x6d3)]};}async[a0_0x40255d(0x726)](){const _0x34f033=a0_0x40255d;let _0x3a8898=await this['repository'][_0x34f033(0x309)][_0x34f033(0x284)](this[_0x34f033(0x2c6)]);this['localWebhook'][_0x34f033(0x16c)]=_0x3a8898?.[_0x34f033(0x16c)],this[_0x34f033(0x7d4)]['enabled']=_0x3a8898?.['enabled'],this[_0x34f033(0x7d4)][_0x34f033(0x672)]=_0x3a8898?.[_0x34f033(0x672)],this[_0x34f033(0x7d4)]['STATUS_INSTANCE']=_0x3a8898?.[_0x34f033(0x806)],this['localWebhook']['QRCODE_UPDATED']=_0x3a8898?.[_0x34f033(0x21d)],this[_0x34f033(0x7d4)][_0x34f033(0x45e)]=_0x3a8898?.[_0x34f033(0x45e)],this['localWebhook'][_0x34f033(0xd5)]=_0x3a8898?.[_0x34f033(0xd5)],this[_0x34f033(0x7d4)][_0x34f033(0x6e5)]=_0x3a8898?.[_0x34f033(0x6e5)],this[_0x34f033(0x7d4)]['GROUPS_UPSERT']=_0x3a8898?.[_0x34f033(0x3cb)],this[_0x34f033(0x7d4)][_0x34f033(0x128)]=_0x3a8898?.['GROUPS_UPDATE'],this[_0x34f033(0x7d4)][_0x34f033(0x5b0)]=_0x3a8898?.[_0x34f033(0x5b0)],this['localWebhook'][_0x34f033(0x7ca)]=_0x3a8898?.['CHATS_SET'],this['localWebhook'][_0x34f033(0x217)]=_0x3a8898?.[_0x34f033(0x217)],this[_0x34f033(0x7d4)][_0x34f033(0x107)]=_0x3a8898?.[_0x34f033(0x107)],this[_0x34f033(0x7d4)][_0x34f033(0xf7)]=_0x3a8898?.['CHATS_DELETE'],this[_0x34f033(0x7d4)][_0x34f033(0x79a)]=_0x3a8898?.[_0x34f033(0x79a)],this[_0x34f033(0x7d4)]['CONTACTS_UPSERT']=_0x3a8898?.[_0x34f033(0x682)],this['localWebhook'][_0x34f033(0x2ce)]=_0x3a8898?.[_0x34f033(0x2ce)],this[_0x34f033(0x7d4)][_0x34f033(0x20d)]=_0x3a8898?.['PRESENCE_UPDATE'],this[_0x34f033(0x7d4)][_0x34f033(0x5f9)]=_0x3a8898?.[_0x34f033(0x5f9)],this['localWebhook']['CONNECTION_UPDATE']=_0x3a8898?.[_0x34f033(0x56d)],this[_0x34f033(0x7d4)][_0x34f033(0x52c)]=_0x3a8898?.[_0x34f033(0x52c)];}async['setWebhook'](_0x2bd1be){const _0x588ed8=a0_0x40255d;let _0x154cf6=[_0x588ed8(0x3ba),_0x588ed8(0x16c),_0x588ed8(0x20c),_0x588ed8(0x672),'STATUS_INSTANCE','QRCODE_UPDATED',_0x588ed8(0x6e5),'MESSAGES_UPSERT',_0x588ed8(0x45e),_0x588ed8(0x3cb),'GROUPS_UPDATE',_0x588ed8(0x5b0),_0x588ed8(0x7ca),_0x588ed8(0x217),_0x588ed8(0x107),_0x588ed8(0xf7),_0x588ed8(0x79a),_0x588ed8(0x682),_0x588ed8(0x2ce),'PRESENCE_UPDATE',_0x588ed8(0x5f9),'CONNECTION_UPDATE','groups_ignore'],_0x493704={};return _0x154cf6[_0x588ed8(0x659)](_0x13fe52=>{_0x2bd1be[_0x13fe52]!==void 0x0&&(_0x493704[_0x13fe52]=_0x2bd1be[_0x13fe52]);}),_0x493704['url']&&(_0x493704[_0x588ed8(0x16c)]=_0x493704[_0x588ed8(0x16c)][_0x588ed8(0x339)]()),await this['repository'][_0x588ed8(0x309)]['create'](_0x493704,this[_0x588ed8(0x2c6)]),Object[_0x588ed8(0x10c)](this[_0x588ed8(0x7d4)],_0x493704),await this[_0x588ed8(0x200)][_0x588ed8(0x309)][_0x588ed8(0x284)](this[_0x588ed8(0x2c6)]);}async[a0_0x40255d(0x283)](){const _0x71b39d=a0_0x40255d;return await this[_0x71b39d(0x200)]['webhook'][_0x71b39d(0x284)](this[_0x71b39d(0x2c6)]);}async['sendDataWebhook'](_0x367b93,_0x36721c){const _0x7350a8=a0_0x40255d;let _0x39fa66=_0x367b93[_0x7350a8(0x362)](/[\.-]/gm,'_')[_0x7350a8(0x47d)](),_0x575017=this[_0x7350a8(0x7d4)][_0x7350a8(0x20c)]&&(0x0,L[_0x7350a8(0xe0)])(this[_0x7350a8(0x7d4)][_0x7350a8(0x16c)])?this[_0x7350a8(0x7d4)][_0x7350a8(0x16c)]+(this[_0x7350a8(0x7d4)]['local_map']?this['webhookMap'][_0x367b93]:''):null,_0x2c7328=this[_0x7350a8(0x7d4)][_0x39fa66],_0x34b6d3=me&&me[_0x7350a8(0x20c)]&&(0x0,L[_0x7350a8(0xe0)])(me['url'])?me[_0x7350a8(0x16c)]+(me[_0x7350a8(0x672)]?this['webhookMap'][_0x367b93]:''):null,_0x5aa86d=me?me[_0x39fa66]:null;if(_0x2c7328&&_0x575017)try{await te[_0x7350a8(0x437)][_0x7350a8(0x349)]({'baseURL':_0x575017})[_0x7350a8(0x64d)]('',{'event':_0x367b93,'instance':this[_0x7350a8(0x30d)][_0x7350a8(0x6cc)],'apikey':this[_0x7350a8(0x30d)]['apikey'],'data':_0x36721c}),this['logger'][_0x7350a8(0x18f)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x367b93+':\x20'+_0x575017);}catch{this[_0x7350a8(0x17b)]['error'](this[_0x7350a8(0x2c6)]+'\x20('+this[_0x7350a8(0x30d)]['wuid']+_0x7350a8(0x777)+_0x367b93+':\x20'+_0x575017);}if(_0x5aa86d&&_0x34b6d3)try{await te[_0x7350a8(0x437)]['create']({'baseURL':_0x34b6d3})[_0x7350a8(0x64d)]('',{'event':_0x367b93,'instance':this[_0x7350a8(0x30d)][_0x7350a8(0x6cc)],'apikey':this[_0x7350a8(0x30d)][_0x7350a8(0x4c8)],'data':_0x36721c}),this['logger'][_0x7350a8(0x18f)](this[_0x7350a8(0x2c6)]+'\x20('+this['instance'][_0x7350a8(0x582)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x367b93+':\x20'+_0x34b6d3);}catch{this[_0x7350a8(0x17b)]['error'](this[_0x7350a8(0x2c6)]+'\x20('+this[_0x7350a8(0x30d)][_0x7350a8(0x582)]+_0x7350a8(0x118)+_0x367b93+':\x20'+_0x34b6d3);}}async[a0_0x40255d(0x45a)]({qr:_0x1992f3,connection:_0x12e238,lastDisconnect:_0x23072e}){const _0x4863f1=a0_0x40255d;if(_0x1992f3){if(this['instance'][_0x4863f1(0x404)]['count']===Fo)return this[_0x4863f1(0x353)](_0x4863f1(0x64b),{'message':_0x4863f1(0x4ed),'statusCode':w[_0x4863f1(0x21c)]['badSession']}),this[_0x4863f1(0x1de)]={'state':_0x4863f1(0x38a),'statusReason':w['DisconnectReason'][_0x4863f1(0x329)]},this['sendDataWebhook'](_0x4863f1(0x6f1),{'instance':this[_0x4863f1(0x30d)]['name'],...this[_0x4863f1(0x1de)]}),this[_0x4863f1(0x353)](_0x4863f1(0x3e3),{'instance':this['instance'][_0x4863f1(0x6cc)],'status':'removed'}),this[_0x4863f1(0x200)][_0x4863f1(0x493)][_0x4863f1(0x5d1)](this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]),this[_0x4863f1(0x1c7)]=!0x0,re[_0x4863f1(0x23a)](K,this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]),this[_0x4863f1(0x6ab)][_0x4863f1(0x188)]('no.connection',this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]);this[_0x4863f1(0x30d)][_0x4863f1(0x404)]['count']++;let _0x3903ff={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4863f1(0x18e),'dark':_0x4863f1(0x14b)}};xi[_0x4863f1(0x437)][_0x4863f1(0x48b)](_0x1992f3,_0x3903ff,(_0x2d5b54,_0xa7c026)=>{const _0xae4a77=_0x4863f1;if(_0x2d5b54){this[_0xae4a77(0x17b)][_0xae4a77(0x6b3)](this[_0xae4a77(0x2c6)]+'\x20('+this[_0xae4a77(0x30d)][_0xae4a77(0x582)]+_0xae4a77(0x192)+(_0x2d5b54 instanceof Error?_0x2d5b54[_0xae4a77(0x740)]:JSON['stringify'](_0x2d5b54,null,0x2)));return;}this['instance'][_0xae4a77(0x404)][_0xae4a77(0x6d3)]=_0xa7c026,this[_0xae4a77(0x30d)][_0xae4a77(0x404)]['code']=_0x1992f3,!this[_0xae4a77(0x60a)]&&this[_0xae4a77(0x353)](_0xae4a77(0x64b),{'qrcode':{'instance':this[_0xae4a77(0x30d)][_0xae4a77(0x6cc)],'pairingCode':this[_0xae4a77(0x30d)][_0xae4a77(0x404)][_0xae4a77(0x52e)],'code':_0x1992f3,'base64':_0xa7c026}});}),this['phoneNumber']?this[_0x4863f1(0x30d)]['qrcode'][_0x4863f1(0x52e)]||(await(0x0,w['delay'])(0x7d0),this[_0x4863f1(0x30d)]['qrcode'][_0x4863f1(0x52e)]=await this['client'][_0x4863f1(0x2a7)](this['phoneNumber'])):this[_0x4863f1(0x30d)][_0x4863f1(0x404)][_0x4863f1(0x52e)]=null,Di[_0x4863f1(0x437)]['generate'](_0x1992f3,{'small':!0x0},_0x272d6f=>this[_0x4863f1(0x17b)][_0x4863f1(0x18f)](_0x4863f1(0x541)+this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]+_0x4863f1(0x449)+this['instance']['qrcode']['count']+_0x4863f1(0x2c0)+this[_0x4863f1(0x30d)][_0x4863f1(0x404)][_0x4863f1(0x52e)]+_0x4863f1(0x11a)+_0x272d6f));}if(_0x12e238&&(this[_0x4863f1(0x1de)]={'state':_0x12e238,'statusReason':_0x23072e?.['error']?.[_0x4863f1(0x751)]?.[_0x4863f1(0x157)]??0xc8},this[_0x4863f1(0x353)](_0x4863f1(0x6f1),{'instance':this['instance'][_0x4863f1(0x6cc)],...this['stateConnection']})),_0x12e238===_0x4863f1(0x262)){if(this[_0x4863f1(0x248)]++,this[_0x4863f1(0x4bc)][_0x4863f1(0x4f1)](Date[_0x4863f1(0x15d)]()),this[_0x4863f1(0x4bc)]=this['reconnectTimestamps'][_0x4863f1(0x750)](_0xf79f5b=>Date['now']()-_0xf79f5b<this[_0x4863f1(0x4c3)]),_0x23072e['error']?.['output']?.['statusCode']!==w['DisconnectReason'][_0x4863f1(0x7c4)]){let _0x80256b=this[_0x4863f1(0x248)]<=0x1?0x0:Math[_0x4863f1(0x602)](Math[_0x4863f1(0x3ad)](0x2,this[_0x4863f1(0x248)]-0x1)*0x3e8,0x493e0);console[_0x4863f1(0x18f)](this[_0x4863f1(0x2c6)]+_0x4863f1(0x731)+this[_0x4863f1(0x248)]+'.\x20Aguardando\x20'+_0x80256b/0x3e8+_0x4863f1(0x4bd)),await new Promise(_0x3c5d7f=>setTimeout(_0x3c5d7f,_0x80256b)),console[_0x4863f1(0x18f)](_0x4863f1(0x171)),await this['connectToWhatsapp']();}else{this[_0x4863f1(0x353)]('status.instance',{'instance':this['instance'][_0x4863f1(0x6cc)],'status':_0x4863f1(0xe4)}),this[_0x4863f1(0x30d)][_0x4863f1(0x19e)]['isConnected']=!0x1,this['repository'][_0x4863f1(0x309)][_0x4863f1(0x5d1)](this[_0x4863f1(0x2c6)]),this[_0x4863f1(0x200)]['auth'][_0x4863f1(0x349)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4863f1(0x15d)]()},this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]),re['removeIPv6ById'](K,this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]);try{this[_0x4863f1(0x17b)]['verbose'](this[_0x4863f1(0x2c6)]+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x1ac05a=await this[_0x4863f1(0x200)][_0x4863f1(0x740)]['deleteAll'](this[_0x4863f1(0x30d)][_0x4863f1(0x582)]);_0x1ac05a[_0x4863f1(0x629)]?this[_0x4863f1(0x17b)][_0x4863f1(0x5ab)](this[_0x4863f1(0x2c6)]+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+_0x4863f1(0x1c5)):this[_0x4863f1(0x17b)][_0x4863f1(0x6b3)](_0x4863f1(0x26e)+_0x1ac05a['error']);}catch(_0x5900aa){this['logger'][_0x4863f1(0x6b3)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x5900aa[_0x4863f1(0x740)]);}this[_0x4863f1(0x30d)][_0x4863f1(0x19e)][_0x4863f1(0x104)]!==null&&(this[_0x4863f1(0x17b)][_0x4863f1(0x5ab)](this[_0x4863f1(0x2c6)]+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+_0x4863f1(0x5f4)),clearInterval(this[_0x4863f1(0x30d)][_0x4863f1(0x19e)][_0x4863f1(0x104)]),this[_0x4863f1(0x30d)][_0x4863f1(0x19e)][_0x4863f1(0x104)]=null),this[_0x4863f1(0x17b)][_0x4863f1(0x5ab)](this['instanceName']+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+_0x4863f1(0x68d)),this['AutomateSystem']=null,this[_0x4863f1(0x6ab)][_0x4863f1(0x188)]('remove.instance',this['instance'][_0x4863f1(0x6cc)],'inner'),this[_0x4863f1(0x6ba)]?.['ws']?.[_0x4863f1(0x262)](),this[_0x4863f1(0x6ba)]['end'](new Error(_0x4863f1(0x139)));}}if(_0x12e238===_0x4863f1(0x3c6)){this[_0x4863f1(0x17b)][_0x4863f1(0x576)](this[_0x4863f1(0x2c6)]+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x4863f1(0x6ba)][_0x4863f1(0xdb)]['creds']?.[_0x4863f1(0x2c1)]),this[_0x4863f1(0x6ba)][_0x4863f1(0xdb)][_0x4863f1(0x11f)]?.[_0x4863f1(0x2c1)]||(this[_0x4863f1(0x17b)][_0x4863f1(0x576)](this['instanceName']+'\x20('+this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+_0x4863f1(0x5c6)),this[_0x4863f1(0x6ba)]['ev'][_0x4863f1(0x127)]()),this['resetReconnectionVariables'],this[_0x4863f1(0x30d)][_0x4863f1(0x582)]=this[_0x4863f1(0x6ba)][_0x4863f1(0x5c3)]['id']['replace'](/:\d+/,'')[_0x4863f1(0x362)](_0x4863f1(0x226),''),this['instance'][_0x4863f1(0x48e)]=(await this[_0x4863f1(0x5f7)](this[_0x4863f1(0x30d)][_0x4863f1(0x582)]+_0x4863f1(0x226)))[_0x4863f1(0x48e)],this[_0x4863f1(0x200)][_0x4863f1(0x493)][_0x4863f1(0x349)]({'online':!0x0,'owner':this['instance'][_0x4863f1(0x582)],'lastDisconnect':null},this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)]);let _0x1aedb1=_0x4863f1(0x19d)+this[_0x4863f1(0x30d)]['wuid'],_0x1fb068=0x28,_0x3ad7d4=Math[_0x4863f1(0x328)]((_0x1fb068-_0x1aedb1[_0x4863f1(0x111)])/0x2),_0x55dd03='\x20'[_0x4863f1(0x57f)](_0x3ad7d4),_0xb016b4=_0x4863f1(0xe9),_0x59fa71='Instância:\x20'+this[_0x4863f1(0x30d)][_0x4863f1(0x6cc)],_0x307d27=(''+_0x55dd03+_0x1aedb1+_0x55dd03)[_0x4863f1(0x58b)](_0x1fb068,'\x20'),_0x58dc42=(''+_0x55dd03+_0xb016b4+_0x55dd03)[_0x4863f1(0x58b)](_0x1fb068,'\x20'),_0x4466c5=(''+_0x55dd03+_0x59fa71+_0x55dd03)[_0x4863f1(0x58b)](_0x1fb068,'\x20'),_0x4745ec=Math[_0x4863f1(0x3a4)](_0x307d27[_0x4863f1(0x111)],_0x58dc42[_0x4863f1(0x111)],_0x4466c5[_0x4863f1(0x111)]),_0x5057d5=_0x307d27[_0x4863f1(0x58b)](_0x4745ec,'\x20'),_0x18704a=_0x58dc42[_0x4863f1(0x58b)](_0x4745ec,'\x20'),_0x136254=_0x4466c5[_0x4863f1(0x58b)](_0x4745ec,'\x20');this['logger'][_0x4863f1(0x58f)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x4863f1(0x57f)](_0x4745ec)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x18704a+_0x4863f1(0x34b)+_0x136254+_0x4863f1(0x34b)+_0x5057d5+_0x4863f1(0x557)+'─'[_0x4863f1(0x57f)](_0x4745ec)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x4863f1(0x30d)]['ScheduleMessage'][_0x4863f1(0x7d7)]=!0x0;}}[a0_0x40255d(0x621)](){const _0xd0ec09=a0_0x40255d;this['reconnectAttempts']=0x0,this[_0xd0ec09(0x4bc)]=[];}async[a0_0x40255d(0x78d)](_0x50b8c8,_0x194778=!0x1){const _0x13efe3=a0_0x40255d;try{let _0x52ba64=await this[_0x13efe3(0x200)][_0x13efe3(0x740)][_0x13efe3(0x284)]({'where':{'_id':_0x50b8c8['id']}},this[_0x13efe3(0x30d)][_0x13efe3(0x582)]);return _0x194778?_0x52ba64[0x0]:_0x52ba64[0x0][_0x13efe3(0x740)];}catch{return{'conversation':''};}}[a0_0x40255d(0x279)](){const _0x48c848=a0_0x40255d;let _0x43fc7f=this[_0x48c848(0x27d)]['get']('STORE'),_0x5f21af=this[_0x48c848(0x27d)][_0x48c848(0x35f)]('DATABASE');_0x43fc7f?.[_0x48c848(0x211)]&&!_0x5f21af['ENABLED']&&setInterval(()=>{const _0x11a61f=_0x48c848;try{for(let [_0x353d3c,_0x27e0c5]of Object[_0x11a61f(0x765)](_0x43fc7f))_0x27e0c5===!0x0&&(0x0,je['execSync'])(_0x11a61f(0x40e)+(0x0,j[_0x11a61f(0x12c)])(this[_0x11a61f(0x212)],_0x353d3c[_0x11a61f(0x478)](),this[_0x11a61f(0x30d)][_0x11a61f(0x582)])+'/*.json');}catch{}},(_0x43fc7f?.[_0x48c848(0x211)]??0xe10)*0x3e8);}async[a0_0x40255d(0x526)](){const _0x4a043a=a0_0x40255d;let _0x35da59=this[_0x4a043a(0x27d)][_0x4a043a(0x35f)](_0x4a043a(0x303)),_0x5b2803=this[_0x4a043a(0x27d)][_0x4a043a(0x35f)](_0x4a043a(0x1e4));return _0x5b2803?.[_0x4a043a(0x1ef)]?await xs(_0x5b2803,this[_0x4a043a(0x30d)][_0x4a043a(0x6cc)]):_0x35da59[_0x4a043a(0x1ef)]?await _s(this[_0x4a043a(0x30d)][_0x4a043a(0x6cc)]):await(0x0,w[_0x4a043a(0x2b0)])((0x0,j['join'])(Me,this['instance'][_0x4a043a(0x6cc)]));}async[a0_0x40255d(0x697)](){const _0x10b164=a0_0x40255d;let _0x99f375=()=>Math[_0x10b164(0x328)](Math[_0x10b164(0x23e)]()*0x4e21)+0x7d0,_0x28df21=async()=>{const _0x52d66d=_0x10b164;if(!this[_0x52d66d(0x30d)][_0x52d66d(0x19e)][_0x52d66d(0x7d7)]){this[_0x52d66d(0x17b)][_0x52d66d(0x5ab)](this[_0x52d66d(0x2c6)]+'\x20('+this[_0x52d66d(0x30d)][_0x52d66d(0x582)]+_0x52d66d(0x695)),this[_0x52d66d(0x5ae)]=!0x1;return;}if(this[_0x52d66d(0x30d)]['wuid']&&this[_0x52d66d(0x3fb)]&&this[_0x52d66d(0x30d)]['ScheduleMessage'][_0x52d66d(0x104)]!==null&&this[_0x52d66d(0x30d)]['ScheduleMessage']['delayMessage']!==void 0x0){let _0x39707c=Math[_0x52d66d(0x1d0)](this[_0x52d66d(0x30d)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x52d66d(0x17b)]['verbose'](this[_0x52d66d(0x2c6)]+'\x20('+this[_0x52d66d(0x30d)][_0x52d66d(0x582)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x39707c+_0x52d66d(0x69d)),this['isRunning']=!0x1;return;}else this[_0x52d66d(0x30d)]['wuid']&&(this[_0x52d66d(0x17b)][_0x52d66d(0x5ab)](this[_0x52d66d(0x2c6)]+'\x20('+this['instance'][_0x52d66d(0x582)]+_0x52d66d(0x34f)),this['AutomateSystem']||(await this['getAutomateSystem'](),this['findRealGroups'](),this[_0x52d66d(0x542)]()),(this[_0x52d66d(0x30d)][_0x52d66d(0x19e)][_0x52d66d(0x104)]===null||this[_0x52d66d(0x30d)][_0x52d66d(0x19e)]['delayMessage']===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x52d66d(0x5ae)]){let _0x3eb4e8=_0x99f375();this[_0x52d66d(0x17b)][_0x52d66d(0x5ab)](this[_0x52d66d(0x2c6)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3eb4e8/0x3e8+_0x52d66d(0x70a)),setTimeout(_0x28df21,_0x3eb4e8);}};if(this[_0x10b164(0x5ae)])return;this['isRunning']=!0x0;let _0x157450=_0x99f375();setTimeout(_0x28df21,_0x157450);}async['synchronizeAndMapFlows'](){const _0x267503=a0_0x40255d;let _0x5f2ce7=this[_0x267503(0x30d)]['wuid'];try{let _0x49538e=await this[_0x267503(0x200)][_0x267503(0x46c)]['findAll']({'where':{'$or':[{'owner':_0x5f2ce7},{'whoCanUse':{'$in':[_0x5f2ce7]}},{'shareOwners':{'$in':[_0x5f2ce7]}}]}}),_0x15dab7=new Map(this['AutomateSystem']['flows'][_0x267503(0x54b)](_0x4e8a92=>[_0x4e8a92[_0x267503(0x3ba)],_0x4e8a92])),_0x4d0745=_0x49538e[_0x267503(0x54b)](_0x15bea9=>{const _0x17035d=_0x267503;let _0x45db72=_0x15dab7['get'](_0x15bea9['_id']?.[_0x17035d(0x334)]());return{'_id':_0x15bea9[_0x17035d(0x3ba)]?.[_0x17035d(0x334)](),'name':_0x45db72?.[_0x17035d(0x6cc)]??_0x15bea9[_0x17035d(0x6cc)],'default':_0x45db72?.[_0x17035d(0x437)]??_0x15bea9[_0x17035d(0x437)]??!0x1,'startCommand':_0x45db72?.['startCommand']??_0x15bea9[_0x17035d(0x203)],'minutesToClose':_0x45db72?.[_0x17035d(0x1c4)]??_0x15bea9['minutesToClose']??0xa,'readMessages':_0x45db72?.[_0x17035d(0x627)]??_0x15bea9[_0x17035d(0x627)]??!0x1,'testingWith':_0x45db72?.[_0x17035d(0x1c2)]??_0x15bea9[_0x17035d(0x1c2)],'canEdit':_0x15bea9[_0x17035d(0x811)]===_0x5f2ce7||(_0x15bea9[_0x17035d(0x147)]??[])[_0x17035d(0x5a1)](_0x5f2ce7),'usersCount':(_0x15bea9[_0x17035d(0x39a)]??[])[_0x17035d(0x111)]??0x0};}),_0x3efbda=!0x1;_0x4d0745['forEach'](_0x46a3d7=>{const _0x1f22ad=_0x267503;_0x46a3d7[_0x1f22ad(0x437)]&&(_0x3efbda?_0x46a3d7[_0x1f22ad(0x437)]=!0x1:_0x3efbda=!0x0);}),this[_0x267503(0x3fb)]['flows']=_0x4d0745;let _0x3a1f5a={'flows':_0x4d0745};return await this[_0x267503(0x200)]['automateSystem'][_0x267503(0x2d3)](_0x3a1f5a,_0x5f2ce7),this['logger'][_0x267503(0x5ab)](this[_0x267503(0x2c6)]+'\x20('+_0x5f2ce7+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x4d0745[_0x267503(0x111)];}catch(_0x36576b){return this[_0x267503(0x17b)]['error'](this[_0x267503(0x2c6)]+'\x20('+_0x5f2ce7+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x36576b instanceof Error?_0x36576b['message']:JSON['stringify'](_0x36576b,null,0x2))),{'message':_0x267503(0x469)+(_0x36576b instanceof Error?_0x36576b['message']:JSON['stringify'](_0x36576b,null,0x2))};}}async[a0_0x40255d(0x5d6)](_0x39c0f0){const _0x3372f5=a0_0x40255d;try{let _0x30b043=await this[_0x3372f5(0x200)][_0x3372f5(0x30d)][_0x3372f5(0x73b)]({'where':{'_id':K+'-'+this[_0x3372f5(0x2c6)]}}),_0x4d3cc8,_0x99ea0b=!re['ipv6Prefix']||!re[_0x3372f5(0x81b)];console['log'](_0x3372f5(0x11e)),console[_0x3372f5(0x18f)]('proxy:\x20',Oi),console['log']('this.reconnectAttempts:\x20',this[_0x3372f5(0x248)]),console[_0x3372f5(0x18f)](_0x3372f5(0x11e)),Oi&&!_0x99ea0b&&(this[_0x3372f5(0x248)]<0x4||!this[_0x3372f5(0x248)]?_0x30b043&&_0x30b043['ip']?(_0x4d3cc8=_0x30b043['ip'],console[_0x3372f5(0x18f)](_0x3372f5(0x26d)+_0x4d3cc8)):(_0x4d3cc8=await re[_0x3372f5(0x703)](K,this[_0x3372f5(0x30d)][_0x3372f5(0x6cc)]),_0x4d3cc8?(console['log'](_0x3372f5(0x534)+_0x4d3cc8),await(0x0,w[_0x3372f5(0x155)])(0x7d0)):console[_0x3372f5(0x6b3)](_0x3372f5(0x6e6))):this['reconnectAttempts']<0x6&&(await re['removeIPv6ById'](K,this[_0x3372f5(0x30d)][_0x3372f5(0x6cc)]),console[_0x3372f5(0x18f)](_0x3372f5(0x2f9)),_0x4d3cc8=await re[_0x3372f5(0x703)](K,this[_0x3372f5(0x30d)]['name']),_0x4d3cc8?(console[_0x3372f5(0x18f)](_0x3372f5(0x534)+_0x4d3cc8),await(0x0,w[_0x3372f5(0x155)])(0x7d0)):console[_0x3372f5(0x6b3)](_0x3372f5(0x5c9)))),this[_0x3372f5(0x726)](),this[_0x3372f5(0x30d)]['apikey']=(await this[_0x3372f5(0x200)]['auth']['find'](this['instance'][_0x3372f5(0x6cc)]))[_0x3372f5(0x4c8)],this['instance'][_0x3372f5(0xdb)]=await this[_0x3372f5(0x526)]();let {version:_0x6200ce}=await(0x0,w[_0x3372f5(0x17c)])(),_0x4ced64=[ki,Us,(0x0,ks[_0x3372f5(0x74f)])()],_0x36e7b5={'localAddress':_0x4d3cc8,'auth':{'creds':this['instance'][_0x3372f5(0xdb)][_0x3372f5(0x746)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x3372f5(0x30d)]['authState'][_0x3372f5(0x746)][_0x3372f5(0x702)],(0x0,Vt[_0x3372f5(0x437)])({'level':_0x3372f5(0x6b3)}))},'logger':(0x0,Vt['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x39c0f0?['Mac\x20OS',Us,(0x0,ks[_0x3372f5(0x74f)])()]:_0x4ced64,'version':_0x6200ce,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5d0728=>{const _0x231cb1=_0x3372f5;let _0x525f0a=this[_0x231cb1(0x7d4)]?.[_0x231cb1(0x52c)]&&(0x0,w[_0x231cb1(0x391)])(_0x5d0728);return(0x0,w[_0x231cb1(0x1a7)])(_0x5d0728)||_0x525f0a;},'msgRetryCounterCache':this[_0x3372f5(0x137)],'getMessage':async _0x39890c=>await this['getMessage'](_0x39890c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x46bec9){const _0x2c6da3=_0x3372f5;return _0x46bec9[_0x2c6da3(0x783)]?.['message']?.[_0x2c6da3(0x273)]?.[_0x2c6da3(0x5d0)]===w[_0x2c6da3(0x538)][_0x2c6da3(0x5cc)]['ListMessage'][_0x2c6da3(0x5c8)][_0x2c6da3(0x453)]&&(_0x46bec9=JSON['parse'](JSON[_0x2c6da3(0x53c)](_0x46bec9)),_0x46bec9[_0x2c6da3(0x783)]['message'][_0x2c6da3(0x273)]['listType']=w[_0x2c6da3(0x538)][_0x2c6da3(0x5cc)][_0x2c6da3(0x5e0)][_0x2c6da3(0x5c8)]['SINGLE_SELECT']),_0x46bec9[_0x2c6da3(0x273)]?.['listType']==w[_0x2c6da3(0x538)][_0x2c6da3(0x5cc)][_0x2c6da3(0x5e0)][_0x2c6da3(0x5c8)][_0x2c6da3(0x453)]&&(_0x46bec9=JSON[_0x2c6da3(0x143)](JSON[_0x2c6da3(0x53c)](_0x46bec9)),_0x46bec9[_0x2c6da3(0x273)][_0x2c6da3(0x5d0)]=w[_0x2c6da3(0x538)][_0x2c6da3(0x5cc)][_0x2c6da3(0x5e0)][_0x2c6da3(0x5c8)][_0x2c6da3(0x800)]),_0x46bec9;}};return this[_0x3372f5(0x1c7)]=!0x1,this['client']=(0x0,w[_0x3372f5(0x437)])(_0x36e7b5),this['eventHandler'](),this['phoneNumber']=_0x39c0f0,this[_0x3372f5(0x6ba)];}catch(_0x1c75f0){let _0x1a6cfa=_0x3372f5(0xf3),_0x4bf41d=_0x1c75f0 instanceof Error?_0x1c75f0[_0x3372f5(0x740)]:typeof _0x1c75f0==_0x3372f5(0x480)?JSON[_0x3372f5(0x53c)](_0x1c75f0):_0x1c75f0,_0x2beacc=_0x1a6cfa+':\x20'+_0x4bf41d;throw this[_0x3372f5(0x17b)]['error'](this[_0x3372f5(0x2c6)]+'\x20('+this[_0x3372f5(0x30d)][_0x3372f5(0x582)]+_0x3372f5(0x377)+_0x2beacc),console[_0x3372f5(0x6b3)](_0x3372f5(0x145),_0x1c75f0),_0x1c75f0 instanceof Error&&console[_0x3372f5(0x6b3)](_0x3372f5(0x7b8),_0x1c75f0[_0x3372f5(0x109)]),new x(_0x2beacc);}}[a0_0x40255d(0x3db)](){const _0x36252e=a0_0x40255d;this[_0x36252e(0x6ba)]['ev'][_0x36252e(0x21a)](_0x1e41f4=>{const _0x273903=_0x36252e;if(!this[_0x273903(0x1c7)]){let _0x1ea0a0=this['configService'][_0x273903(0x35f)](_0x273903(0x303));if(_0x1e41f4['labels.edit']){let _0x16a37e=_0x1e41f4[_0x273903(0x558)];this[_0x273903(0x5e8)]['labels.edit'](_0x16a37e);}if(_0x1e41f4[_0x273903(0x26b)]){let _0x17b747=_0x1e41f4[_0x273903(0x26b)];this['messageHandle'][_0x273903(0x26b)](_0x17b747);}if(_0x1e41f4[_0x273903(0x6f1)]&&this[_0x273903(0x45a)](_0x1e41f4[_0x273903(0x6f1)]),_0x1e41f4[_0x273903(0x47a)]&&this[_0x273903(0x30d)][_0x273903(0xdb)][_0x273903(0x52f)](),_0x1e41f4[_0x273903(0x687)]){let _0x2dc397=_0x1e41f4[_0x273903(0x687)];this[_0x273903(0x5e8)]['messaging-history.set'](_0x2dc397,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0x3d5)]){let _0x20310d=_0x1e41f4[_0x273903(0x3d5)];this[_0x273903(0x5e8)][_0x273903(0x3d5)](_0x20310d,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0x7eb)]){let _0x1979c9=_0x1e41f4[_0x273903(0x7eb)];this[_0x273903(0x5e8)][_0x273903(0x7eb)](_0x1979c9,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0x494)]){let _0xf42365=_0x1e41f4[_0x273903(0x494)];if(this['localWebhook']?.[_0x273903(0x52c)]&&_0xf42365['id']['includes'](_0x273903(0x68c)))return;this[_0x273903(0x353)](_0x273903(0x494),_0xf42365);}if(_0x1e41f4[_0x273903(0x1dd)]){let _0x295cbb=_0x1e41f4[_0x273903(0x1dd)];this[_0x273903(0x1b1)][_0x273903(0x1dd)](_0x295cbb);}if(_0x1e41f4[_0x273903(0x6df)]){let _0x270079=_0x1e41f4[_0x273903(0x6df)];this[_0x273903(0x1b1)][_0x273903(0x6df)](_0x270079);}if(_0x1e41f4[_0x273903(0x374)]){let _0x5dd40c=_0x1e41f4[_0x273903(0x374)];this[_0x273903(0x1b1)][_0x273903(0x374)](_0x5dd40c);}if(_0x1e41f4[_0x273903(0x68a)]){let _0x162a6e=_0x1e41f4['chats.upsert'];this[_0x273903(0x745)][_0x273903(0x68a)](_0x162a6e,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0xef)]){let _0x36416=_0x1e41f4['chats.update'];this[_0x273903(0x745)][_0x273903(0xef)](_0x36416,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0x2da)]){let _0x36c33c=_0x1e41f4[_0x273903(0x2da)];this['chatHandle']['chats.delete'](_0x36c33c);}if(_0x1e41f4[_0x273903(0x1c0)]){let _0x54d56c=_0x1e41f4[_0x273903(0x1c0)];this[_0x273903(0x27b)][_0x273903(0x1c0)](_0x54d56c,_0x1ea0a0);}if(_0x1e41f4[_0x273903(0x1b9)]){let _0xdde75=_0x1e41f4['contacts.update'];this[_0x273903(0x27b)][_0x273903(0x1b9)](_0xdde75,_0x1ea0a0);}}});}async['retrySendMessage'](_0x3b7062,_0x2a2acd){const _0x532bdd=a0_0x40255d;if(_0x2a2acd>=0xa){console['error'](this[_0x532bdd(0x2c6)]+'\x20('+this[_0x532bdd(0x30d)][_0x532bdd(0x582)]+_0x532bdd(0x2d0)),delete qt[_0x3b7062['key']['id']];return;}try{console['error'](this[_0x532bdd(0x2c6)]+'\x20('+this[_0x532bdd(0x30d)]['wuid']+_0x532bdd(0x313)+(_0x2a2acd+0x1)),await this['client']['sendMessageAck'](JSON['parse'](_0x3b7062[_0x532bdd(0xf5)][0x1],w['BufferJSON'][_0x532bdd(0x23b)])),console[_0x532bdd(0x6b3)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0xf0380){console['error'](this[_0x532bdd(0x2c6)]+'\x20('+this[_0x532bdd(0x30d)][_0x532bdd(0x582)]+_0x532bdd(0x3de)+_0xf0380),setTimeout(()=>this[_0x532bdd(0x53d)](_0x3b7062,_0x2a2acd+0x1),Math[_0x532bdd(0x3ad)](0x2,_0x2a2acd)*0x3e8);}}[a0_0x40255d(0x445)](_0x74949e){return new Promise(_0x347260=>setTimeout(_0x347260,_0x74949e));}[a0_0x40255d(0x7d5)](_0x590d25){const _0x3d1906=a0_0x40255d;_0x590d25=_0x590d25[_0x3d1906(0x362)](/\D/g,'');let _0x9c65a4=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3d1906(0xe5)](_0x590d25);if(_0x9c65a4&&_0x9c65a4[0x1]==='55'){let _0x2e3e7e=_0x9c65a4[0x2],_0x3ad848=_0x9c65a4[0x3],_0x4c67b0=_0x9c65a4[0x4];if(parseInt(_0x2e3e7e)>=0x1f&&_0x3ad848==='9')return _0x9c65a4[0x1]+_0x2e3e7e+_0x4c67b0;}return _0x590d25;}[a0_0x40255d(0x37d)](_0x435a5d){const _0x2ec38f=a0_0x40255d;return _0x435a5d[_0x2ec38f(0x5a1)](_0x2ec38f(0x68c))||_0x435a5d[_0x2ec38f(0x5a1)](_0x2ec38f(0x226))||_0x435a5d[_0x2ec38f(0x5a1)](_0x2ec38f(0x136))?_0x435a5d:(_0x435a5d=_0x435a5d?.[_0x2ec38f(0x362)](/\s/g,'')[_0x2ec38f(0x362)](/\+/g,'')['replace'](/\(/g,'')[_0x2ec38f(0x362)](/\)/g,'')['split'](/\:/)[0x0][_0x2ec38f(0x6ce)]('@')[0x0],_0x435a5d[_0x2ec38f(0x111)]>=0x12?(_0x435a5d=_0x435a5d['replace'](/[^\d-]/g,''),_0x435a5d+_0x2ec38f(0x68c)):(_0x435a5d=_0x435a5d[_0x2ec38f(0x362)](/\D/g,''),_0x435a5d+_0x2ec38f(0x226)));}async['updatePresence'](_0x49e0cb){const _0x1f321f=a0_0x40255d;let _0x2b975d=(await this[_0x1f321f(0x4ef)]({'numbers':[_0x49e0cb[_0x1f321f(0x21f)]]}))[0x0];if(!_0x2b975d[_0x1f321f(0x22f)]&&!(0x0,w[_0x1f321f(0x391)])(_0x2b975d[_0x1f321f(0x277)])&&!_0x2b975d[_0x1f321f(0x277)][_0x1f321f(0x5a1)](_0x1f321f(0x136)))throw new m(_0x2b975d);let _0x7f0833=_0x2b975d[_0x1f321f(0x277)];try{return await this[_0x1f321f(0x6ba)][_0x1f321f(0x361)](_0x7f0833),await this[_0x1f321f(0x6ba)][_0x1f321f(0x3ab)](_0x49e0cb[_0x1f321f(0xf2)],_0x7f0833),{'status':0xc8,'presence':_0x49e0cb['presence']};}catch(_0x17a2ee){let _0x573031=_0x1f321f(0x727),_0x3f9f4a=_0x17a2ee instanceof Error?_0x17a2ee[_0x1f321f(0x740)]:typeof _0x17a2ee==_0x1f321f(0x480)?JSON['stringify'](_0x17a2ee):_0x17a2ee,_0x3b5c8a=_0x573031+':\x20'+_0x3f9f4a;throw this[_0x1f321f(0x17b)][_0x1f321f(0x6b3)](this['instanceName']+'\x20('+this[_0x1f321f(0x30d)]['wuid']+_0x1f321f(0x377)+_0x3b5c8a),new m(_0x3b5c8a);}}async[a0_0x40255d(0x73e)](_0x3c39a0,_0x202c83,_0x138946,_0x32913a=!0x0){const _0x2c5341=a0_0x40255d;let _0x5351e6=await this[_0x2c5341(0x200)][_0x2c5341(0x430)]['findOne']({'where':{'_id':_0x3c39a0}});if(!_0x5351e6&&!_0x32913a)return;let _0x24ec8c={'lastUpdate':Date['now']()};if(_0x138946||!_0x5351e6?.[_0x2c5341(0x3d2)]||Date[_0x2c5341(0x15d)]()-_0x5351e6[_0x2c5341(0x3d2)]>0x18*0x3c*0x3c*0x3e8)try{let _0x23e41f=(await this[_0x2c5341(0x5f7)](_0x3c39a0))['profilePictureUrl'];_0x24ec8c[_0x2c5341(0x1af)]=_0x23e41f;}catch(_0x52c761){let _0x574001='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x1d7a4c=_0x52c761 instanceof Error?_0x52c761[_0x2c5341(0x740)]:typeof _0x52c761==_0x2c5341(0x480)?JSON['stringify'](_0x52c761):_0x52c761,_0x502dad=_0x574001+':\x20'+_0x1d7a4c;throw this[_0x2c5341(0x17b)][_0x2c5341(0x6b3)](this[_0x2c5341(0x2c6)]+'\x20('+this[_0x2c5341(0x30d)][_0x2c5341(0x582)]+_0x2c5341(0x377)+_0x502dad),new m(_0x502dad);}return _0x202c83&&_0x5351e6?.[_0x2c5341(0x6cc)]!==_0x202c83&&(_0x24ec8c[_0x2c5341(0x6cc)]=_0x202c83),Object[_0x2c5341(0x702)](_0x24ec8c)[_0x2c5341(0x111)]>0x1&&(_0x5351e6?await this['repository']['cacheContact']['update']({'where':{'_id':_0x3c39a0}},_0x24ec8c):await this[_0x2c5341(0x200)][_0x2c5341(0x430)]['insert']([{'_id':_0x3c39a0,..._0x24ec8c}]),_0x5351e6={..._0x5351e6,..._0x24ec8c}),{'cachedContact':_0x5351e6};}async[a0_0x40255d(0x5f7)](_0x44c309){let _0x6e8b2=this['createJid'](_0x44c309);try{return{'wuid':_0x6e8b2,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x6e8b2,'image')};}catch{return{'wuid':_0x6e8b2,'profilePictureUrl':null};}}async[a0_0x40255d(0x51e)](_0x14b340,_0x4a7b6c,_0x1f7c66){const _0x1b4d15=a0_0x40255d;let _0x5374bc;try{let _0xce4f63=(await this[_0x1b4d15(0x4ef)]({'numbers':[_0x14b340]}))?.['shift']();if(!_0xce4f63[_0x1b4d15(0x22f)]&&!(0x0,w[_0x1b4d15(0x391)])(_0xce4f63[_0x1b4d15(0x277)])&&!_0xce4f63['jid']['includes'](_0x1b4d15(0x136)))throw new m(_0xce4f63);_0x5374bc=_0xce4f63[_0x1b4d15(0x277)];}catch(_0x8cade2){_0x5374bc=_0x14b340,this[_0x1b4d15(0x17b)][_0x1b4d15(0x576)](this['instanceName']+'\x20('+this[_0x1b4d15(0x30d)][_0x1b4d15(0x582)]+_0x1b4d15(0x5a6)+_0x8cade2[_0x1b4d15(0x740)]),this[_0x1b4d15(0x17b)][_0x1b4d15(0x576)](this[_0x1b4d15(0x2c6)]+'\x20('+this[_0x1b4d15(0x30d)][_0x1b4d15(0x582)]+_0x1b4d15(0x29d)+_0x5374bc);}try{if(_0x5374bc||(_0x5374bc=_0x14b340,this[_0x1b4d15(0x17b)][_0x1b4d15(0x576)](this['instanceName']+'\x20('+this[_0x1b4d15(0x30d)][_0x1b4d15(0x582)]+_0x1b4d15(0x736)+_0x5374bc)),_0x1f7c66||(_0x1f7c66={}),_0x1f7c66?.[_0x1b4d15(0x155)]){await this[_0x1b4d15(0x6ba)]['presenceSubscribe'](_0x5374bc),await this[_0x1b4d15(0x6ba)]['sendPresenceUpdate'](_0x1f7c66?.[_0x1b4d15(0xf2)]??_0x1b4d15(0x18d),_0x5374bc);let _0xdad12b=Math[_0x1b4d15(0x602)](_0x1f7c66[_0x1b4d15(0x155)],0x2710);await(0x0,w[_0x1b4d15(0x155)])(_0xdad12b),await this[_0x1b4d15(0x6ba)][_0x1b4d15(0x3ab)]('paused',_0x5374bc);}let _0x277a74=_0x1f7c66?.[_0x1b4d15(0x410)]!=!0x1?void 0x0:!0x1,_0x49367e;if(_0x1f7c66?.[_0x1b4d15(0x7ff)]){let _0x5df237=_0x1f7c66?.[_0x1b4d15(0x7ff)],_0x336a0b=_0x5df237?.[_0x1b4d15(0x740)]?_0x5df237:await this[_0x1b4d15(0x78d)](_0x5df237[_0x1b4d15(0x713)],!0x0);_0x336a0b&&(_0x49367e=_0x336a0b);}let _0x59d323=await this[_0x1b4d15(0x200)][_0x1b4d15(0x708)][_0x1b4d15(0x73b)]({'where':{'_id':_0x5374bc}},this[_0x1b4d15(0x30d)]['wuid']),_0x1c2f19,_0x47f07d=null;if((0x0,w[_0x1b4d15(0x391)])(_0x5374bc))try{if(_0x47f07d=_0x59d323[_0x1b4d15(0x76d)],!_0x47f07d)throw new J('Group\x20not\x20found');_0x1f7c66?.[_0x1b4d15(0x208)]&&(_0x1f7c66['mentions']?.[_0x1b4d15(0x775)]?_0x1c2f19=_0x47f07d['participants'][_0x1b4d15(0x54b)](_0x328230=>_0x328230['id']):_0x1f7c66[_0x1b4d15(0x208)]?.[_0x1b4d15(0x159)]?.[_0x1b4d15(0x111)]&&(_0x1c2f19=_0x1f7c66[_0x1b4d15(0x208)][_0x1b4d15(0x159)][_0x1b4d15(0x54b)](_0x33b7c2=>{const _0x26dfc4=_0x1b4d15;let _0x12075c=this['createJid'](_0x33b7c2);return(0x0,w[_0x26dfc4(0x391)])(_0x12075c)?null:_0x12075c;})));}catch{throw new J(_0x1b4d15(0x386));}let _0x1fb58d=await((async()=>{const _0xb2f480=_0x1b4d15;let _0x2845fd={'quoted':_0x49367e,'ephemeralExpiration':_0x59d323?.[_0xb2f480(0x60d)]??0x0,'messageId':'3EB0'+(0x0,Re[_0xb2f480(0x235)])(0x12)[_0xb2f480(0x334)](_0xb2f480(0x4c0))[_0xb2f480(0x47d)]()};if(!_0x4a7b6c[_0xb2f480(0x17e)]&&!_0x4a7b6c[_0xb2f480(0x66e)]&&!_0x4a7b6c['sticker']&&!_0x4a7b6c[_0xb2f480(0x66f)]&&_0x5374bc!==_0xb2f480(0x307)&&_0x4a7b6c['reactionMessage'])return await this[_0xb2f480(0x6ba)][_0xb2f480(0x5e4)](_0x5374bc,{'react':{'text':_0x4a7b6c[_0xb2f480(0x5a3)][_0xb2f480(0x6ed)],'key':_0x4a7b6c[_0xb2f480(0x5a3)][_0xb2f480(0x713)]}},_0x2845fd);if(_0x4a7b6c[_0xb2f480(0x66f)]){let _0x4305a8=_0x4a7b6c['conversation'];return _0x1f7c66?.['changeVariables']&&(_0x4305a8=await this[_0xb2f480(0x5f8)](_0x4305a8,_0x5374bc)),await this['client'][_0xb2f480(0x5e4)](_0x5374bc,{'text':_0x4305a8,'mentions':_0x1c2f19,'linkPreview':_0x277a74},_0x2845fd);}return!_0x4a7b6c['audio']&&!_0x4a7b6c['poll']&&_0x5374bc!=_0xb2f480(0x307)?await this[_0xb2f480(0x6ba)][_0xb2f480(0x5e4)](_0x5374bc,{'forward':{'key':{'remoteJid':this[_0xb2f480(0x30d)][_0xb2f480(0x582)],'fromMe':!0x0},'message':_0x4a7b6c},'mentions':_0x1c2f19},_0x2845fd):_0x5374bc===_0xb2f480(0x307)?await this[_0xb2f480(0x6ba)]['sendMessage'](_0x5374bc,_0x4a7b6c[_0xb2f480(0x784)][_0xb2f480(0x317)],{'backgroundColor':_0x4a7b6c[_0xb2f480(0x784)]['option'][_0xb2f480(0x601)],'font':_0x4a7b6c[_0xb2f480(0x784)][_0xb2f480(0x1b4)][_0xb2f480(0x4e5)],'statusJidList':_0x4a7b6c[_0xb2f480(0x784)][_0xb2f480(0x1b4)][_0xb2f480(0x479)]}):await this[_0xb2f480(0x6ba)][_0xb2f480(0x5e4)](_0x5374bc,_0x4a7b6c,_0x2845fd);})()),_0x24cc4e=(0x0,w[_0x1b4d15(0x38d)])(_0x1fb58d[_0x1b4d15(0x740)]),_0x287508=(0x0,w[_0x1b4d15(0x7a5)])(_0x24cc4e),{message_normalized:_0x1af35d}=this[_0x1b4d15(0x1d8)](_0x24cc4e,_0x287508,null),_0x3f543d={'_id':_0x1fb58d[_0x1b4d15(0x713)]['id'],'key':_0x1fb58d['key'],'pushName':_0x1fb58d[_0x1b4d15(0x1b8)],'isGroup':_0x1fb58d['key']['remoteJid'][_0x1b4d15(0x50b)]('@g.us'),'profilePictureUrl':this[_0x1b4d15(0x30d)][_0x1b4d15(0x48e)],'message':_0x24cc4e,'messageType':_0x287508,'message_normalized':{'key':_0x1fb58d[_0x1b4d15(0x713)],'pushName':_0x1fb58d[_0x1b4d15(0x1b8)],'messageTimestamp':_0x1fb58d[_0x1b4d15(0x4ea)]&&_0x1fb58d[_0x1b4d15(0x4ea)][_0x1b4d15(0x334)]()[_0x1b4d15(0x111)]<0xd?_0x1fb58d[_0x1b4d15(0x4ea)]*0x3e8:_0x1fb58d[_0x1b4d15(0x4ea)]||null,'source':(0x0,w[_0x1b4d15(0x544)])(_0x1fb58d['key']['id']),..._0x1af35d},'messageTimestamp':_0x1fb58d[_0x1b4d15(0x4ea)]&&_0x1fb58d[_0x1b4d15(0x4ea)]['toString']()['length']<0xd?_0x1fb58d['messageTimestamp']*0x3e8:_0x1fb58d['messageTimestamp']||null,'owner':this[_0x1b4d15(0x30d)][_0x1b4d15(0x582)],'source':(0x0,w['getDevice'])(_0x1fb58d[_0x1b4d15(0x713)]['id'])};return this[_0x1b4d15(0x17b)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x1b4d15(0x582)]+'):\x20enviado\x20para\x20['+_0x3f543d[_0x1b4d15(0x713)]?.['remoteJid'][_0x1b4d15(0x362)](_0x1b4d15(0x226),'')+_0x1b4d15(0x7c0)+_0x3f543d[_0x1b4d15(0x3f8)]+')'),_0x3f543d[_0x1b4d15(0x6c0)]?.[_0x1b4d15(0x6ed)]&&this[_0x1b4d15(0x17b)]['warn'](_0x3f543d[_0x1b4d15(0x6c0)]?.[_0x1b4d15(0x6ed)]),this[_0x1b4d15(0x353)](_0x1b4d15(0x6c9),_0x3f543d),q(this[_0x1b4d15(0x2c6)],_0x1b4d15(0x290),{'message':_0x3f543d}),this['updateChatWithMessage'](this[_0x1b4d15(0x27d)][_0x1b4d15(0x35f)](_0x1b4d15(0x303)),_0x3f543d,'SEND_MESSAGE',_0x59d323),await this[_0x1b4d15(0x200)]['message'][_0x1b4d15(0x148)]([_0x3f543d],this[_0x1b4d15(0x30d)][_0x1b4d15(0x582)]),_0x1fb58d;}catch(_0x4194e1){let _0x60095b=_0x1b4d15(0x710)+_0x5374bc,_0xe63cb=_0x4194e1 instanceof Error?_0x4194e1[_0x1b4d15(0x740)]:typeof _0x4194e1=='object'?JSON['stringify'](_0x4194e1):_0x4194e1,_0x1a0470=_0x60095b+':\x20'+_0xe63cb;throw this[_0x1b4d15(0x17b)][_0x1b4d15(0x6b3)](this[_0x1b4d15(0x2c6)]+'\x20('+this[_0x1b4d15(0x30d)]['wuid']+_0x1b4d15(0x377)+_0x1a0470),new m(_0x1a0470);}}get[a0_0x40255d(0x2b2)](){return this['stateConnection'];}async['textMessage'](_0x2ca8db){const _0x136d08=a0_0x40255d;return await this['sendMessageWithTyping'](_0x2ca8db[_0x136d08(0x21f)],{'conversation':_0x2ca8db[_0x136d08(0x706)][_0x136d08(0x6ed)]},_0x2ca8db?.[_0x136d08(0x332)]);}async[a0_0x40255d(0x7c6)](_0x340b21){const _0x5b03e0=a0_0x40255d;if(!_0x340b21[_0x5b03e0(0x3fa)])throw new m(_0x5b03e0(0x5cd));if(!_0x340b21['content'])throw new m(_0x5b03e0(0x7e0));if(_0x340b21[_0x5b03e0(0x5ef)]){let _0x14a7ec=await this['repository'][_0x5b03e0(0x2b5)][_0x5b03e0(0x284)]({'where':{}},this[_0x5b03e0(0x30d)][_0x5b03e0(0x582)]);if(!_0x14a7ec[_0x5b03e0(0x111)])throw new m(_0x5b03e0(0x63d));_0x340b21[_0x5b03e0(0x479)]=_0x14a7ec['filter'](_0x58f2eb=>_0x58f2eb[_0x5b03e0(0x1b8)])['map'](_0x508422=>_0x508422[_0x5b03e0(0x3ba)]);}if(!_0x340b21[_0x5b03e0(0x479)]?.['length']&&!_0x340b21['allContacts'])throw new m(_0x5b03e0(0x614));if(_0x340b21[_0x5b03e0(0x3fa)]===_0x5b03e0(0x6ed)){if(!_0x340b21[_0x5b03e0(0x601)])throw new m(_0x5b03e0(0x714));if(!_0x340b21[_0x5b03e0(0x4e5)])throw new m(_0x5b03e0(0x575));return{'content':{'text':_0x340b21[_0x5b03e0(0x317)]},'option':{'backgroundColor':_0x340b21['backgroundColor'],'font':_0x340b21[_0x5b03e0(0x4e5)],'statusJidList':_0x340b21['statusJidList']}};}if(_0x340b21['type']===_0x5b03e0(0x36d))return{'content':{'image':{'url':_0x340b21[_0x5b03e0(0x317)]},'caption':_0x340b21[_0x5b03e0(0x476)]},'option':{'statusJidList':_0x340b21[_0x5b03e0(0x479)]}};if(_0x340b21[_0x5b03e0(0x3fa)]===_0x5b03e0(0x7bd))return{'content':{'video':{'url':_0x340b21[_0x5b03e0(0x317)]},'caption':_0x340b21['caption']},'option':{'statusJidList':_0x340b21[_0x5b03e0(0x479)]}};if(_0x340b21[_0x5b03e0(0x3fa)]===_0x5b03e0(0x17e)){this[_0x5b03e0(0x17b)]['verbose'](this[_0x5b03e0(0x2c6)]+'\x20('+this['instance'][_0x5b03e0(0x582)]+_0x5b03e0(0x24a)),this[_0x5b03e0(0x17b)][_0x5b03e0(0x5ab)](this['instanceName']+'\x20('+this[_0x5b03e0(0x30d)]['wuid']+_0x5b03e0(0x196));let _0xbb9c4b=await this[_0x5b03e0(0x5aa)](_0x340b21[_0x5b03e0(0x317)]);if(typeof _0xbb9c4b==_0x5b03e0(0x4ff)){this[_0x5b03e0(0x17b)]['verbose'](this[_0x5b03e0(0x2c6)]+'\x20('+this['instance']['wuid']+_0x5b03e0(0x2bb));let _0xb2e78c=F[_0x5b03e0(0x610)](_0xbb9c4b)[_0x5b03e0(0x334)](_0x5b03e0(0x6d3));return{'content':{'audio':Buffer[_0x5b03e0(0x326)](_0xb2e78c,_0x5b03e0(0x6d3)),'ptt':!0x0,'mimetype':_0x5b03e0(0x35a)},'option':{'statusJidList':_0x340b21['statusJidList']}};}else throw new x(_0xbb9c4b);}throw new m('Type\x20not\x20found');}async[a0_0x40255d(0x5d9)](_0x4e87d4){const _0x3222ff=a0_0x40255d;return await this['sendMessageWithTyping'](_0x3222ff(0x307),{'status':await this[_0x3222ff(0x7c6)](_0x4e87d4[_0x3222ff(0x5d9)])});}async[a0_0x40255d(0x52a)](_0x414662){const _0x1fbe57=a0_0x40255d;try{let _0x2129f8=await(0x0,w[_0x1fbe57(0x4e3)])({[_0x414662[_0x1fbe57(0x4d0)]]:(0x0,L[_0x1fbe57(0xe0)])(_0x414662[_0x1fbe57(0x43c)])?{'url':_0x414662[_0x1fbe57(0x43c)]}:Buffer[_0x1fbe57(0x326)](_0x414662['media'],_0x1fbe57(0x6d3))},{'upload':this[_0x1fbe57(0x6ba)]['waUploadToServer']}),_0x11c900=_0x414662[_0x1fbe57(0x4d0)]+'Message';if(_0x414662[_0x1fbe57(0x4d0)]===_0x1fbe57(0x3c0)&&!_0x414662[_0x1fbe57(0x46a)]){let _0x339608=new RegExp(/.*\/(.+?)\./)[_0x1fbe57(0xe5)](_0x414662[_0x1fbe57(0x43c)]);_0x414662['fileName']=_0x339608?_0x339608[0x1]:null;}let _0x3f84e1;return(0x0,L['isURL'])(_0x414662[_0x1fbe57(0x43c)])?_0x3f84e1=(await te['default'][_0x1fbe57(0x35f)](_0x414662[_0x1fbe57(0x43c)],{'responseType':_0x1fbe57(0x2f6)}))['headers']['content-type']:_0x3f84e1=(0x0,Pi['getMIMEType'])(_0x414662[_0x1fbe57(0x46a)]),_0x2129f8[_0x11c900][_0x1fbe57(0x476)]=_0x414662?.[_0x1fbe57(0x476)],_0x2129f8[_0x11c900][_0x1fbe57(0x464)]=_0x3f84e1,_0x2129f8[_0x11c900]['fileName']=_0x414662[_0x1fbe57(0x46a)],_0x414662['mediatype']===_0x1fbe57(0x7bd)&&(_0x2129f8[_0x11c900][_0x1fbe57(0x28c)]=Uint8Array[_0x1fbe57(0x326)]((0x0,Ue[_0x1fbe57(0x610)])((0x0,j[_0x1fbe57(0x12c)])(process[_0x1fbe57(0x441)](),_0x1fbe57(0x699)))),_0x2129f8[_0x11c900][_0x1fbe57(0x164)]=!0x1),(0x0,w[_0x1fbe57(0x513)])('',{[_0x11c900]:{..._0x2129f8[_0x11c900]}},{'userJid':this[_0x1fbe57(0x30d)][_0x1fbe57(0x582)]});}catch(_0x5e36ca){let _0x1b9898=_0x1fbe57(0x2bd),_0x395c04=_0x5e36ca instanceof Error?_0x5e36ca[_0x1fbe57(0x740)]:typeof _0x5e36ca==_0x1fbe57(0x480)?JSON[_0x1fbe57(0x53c)](_0x5e36ca):_0x5e36ca,_0x5e983f=_0x1b9898+':\x20'+_0x395c04;throw this[_0x1fbe57(0x17b)][_0x1fbe57(0x6b3)](this['instanceName']+'\x20('+this[_0x1fbe57(0x30d)][_0x1fbe57(0x582)]+_0x1fbe57(0x377)+_0x5e983f),new x(_0x5e983f);}}async[a0_0x40255d(0x2c8)](_0x466e86){const _0x1649fa=a0_0x40255d;let _0x2f6b91=await this[_0x1649fa(0x52a)](_0x466e86['mediaMessage']);return await this[_0x1649fa(0x51e)](_0x466e86[_0x1649fa(0x21f)],{..._0x2f6b91['message']},_0x466e86?.[_0x1649fa(0x332)]);}async['convertToWebP'](_0x2fc5ba,_0x577ffd){const _0xb6c2e1=a0_0x40255d;try{this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this['instance'][_0xb6c2e1(0x582)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x60fd01,_0x1d59c4=_0x577ffd+'-'+new Date()['getTime']();this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this['instanceName']+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x23c)+_0x1d59c4);let _0x2e3ecb=''+(0x0,j['join'])(this[_0xb6c2e1(0x212)],_0x1d59c4+_0xb6c2e1(0x4fa));if(this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x598)+_0x2e3ecb),(0x0,L[_0xb6c2e1(0x2e0)])(_0x2fc5ba)){this['logger'][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x135));let _0xf94cb5=_0x2fc5ba['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4f92bb=Buffer[_0xb6c2e1(0x326)](_0xf94cb5,_0xb6c2e1(0x6d3));_0x60fd01=''+(0x0,j[_0xb6c2e1(0x12c)])(this[_0xb6c2e1(0x212)],_0xb6c2e1(0xfd)+_0x1d59c4+_0xb6c2e1(0x780)),this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this['instanceName']+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x6d2)+_0x60fd01),await(0x0,Gt[_0xb6c2e1(0x437)])(_0x4f92bb)[_0xb6c2e1(0x75d)](_0x60fd01),this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+'):Image\x20created');}else{this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this['instanceName']+'\x20('+this[_0xb6c2e1(0x30d)]['wuid']+_0xb6c2e1(0x55e));let _0x424e8e=new Date()[_0xb6c2e1(0x33a)](),_0x31e58a=_0x2fc5ba+_0xb6c2e1(0x6f7)+_0x424e8e;this['logger'][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x2f4)+_0x31e58a);let _0x3ebe63=await te['default'][_0xb6c2e1(0x35f)](_0x31e58a,{'responseType':'arraybuffer'});this['logger'][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)]['wuid']+'):Getting\x20image\x20from\x20url');let _0xefdc62=Buffer[_0xb6c2e1(0x326)](_0x3ebe63['data'],'binary');_0x60fd01=''+(0x0,j[_0xb6c2e1(0x12c)])(this[_0xb6c2e1(0x212)],_0xb6c2e1(0xfd)+_0x1d59c4+_0xb6c2e1(0x780)),this[_0xb6c2e1(0x17b)][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x6d2)+_0x60fd01),await(0x0,Gt[_0xb6c2e1(0x437)])(_0xefdc62)['toFile'](_0x60fd01),this['logger'][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+_0xb6c2e1(0x42a));}return await(0x0,Gt[_0xb6c2e1(0x437)])(_0x60fd01)[_0xb6c2e1(0x7c8)]()[_0xb6c2e1(0x75d)](_0x2e3ecb),this[_0xb6c2e1(0x17b)]['verbose'](this[_0xb6c2e1(0x2c6)]+'\x20('+this[_0xb6c2e1(0x30d)][_0xb6c2e1(0x582)]+'):Image\x20converted\x20to\x20WebP'),F[_0xb6c2e1(0x448)](_0x60fd01),this['logger'][_0xb6c2e1(0x5ab)](this[_0xb6c2e1(0x2c6)]+'\x20('+this['instance'][_0xb6c2e1(0x582)]+'):Temp\x20image\x20deleted'),_0x2e3ecb;}catch(_0x3504e1){let _0x13eb1f=_0xb6c2e1(0x12f),_0x341f0c=_0x3504e1 instanceof Error?_0x3504e1['message']:typeof _0x3504e1=='object'?JSON[_0xb6c2e1(0x53c)](_0x3504e1):_0x3504e1,_0xbf857d=_0x13eb1f+':\x20'+_0x341f0c;this['logger'][_0xb6c2e1(0x6b3)](this[_0xb6c2e1(0x2c6)]+'\x20('+this['instance'][_0xb6c2e1(0x582)]+_0xb6c2e1(0x377)+_0xbf857d);}}async[a0_0x40255d(0x1f6)](_0x4ea285){const _0x309a3e=a0_0x40255d;let _0x264059=await this[_0x309a3e(0x323)](_0x4ea285['stickerMessage'][_0x309a3e(0x36d)],_0x4ea285[_0x309a3e(0x21f)]),_0x5908d4=await this[_0x309a3e(0x51e)](_0x4ea285[_0x309a3e(0x21f)],{'sticker':{'url':_0x264059}},_0x4ea285?.[_0x309a3e(0x332)]);return F[_0x309a3e(0x448)](_0x264059),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x309a3e(0x30d)][_0x309a3e(0x582)]+_0x309a3e(0x4ba)),_0x5908d4;}async['audioWhatsapp'](_0x394840){const _0x1a913d=a0_0x40255d;if(this['logger'][_0x1a913d(0x5ab)](this['instanceName']+'\x20('+this[_0x1a913d(0x30d)][_0x1a913d(0x582)]+_0x1a913d(0x3c1)),!_0x394840[_0x1a913d(0x332)]?.[_0x1a913d(0x4d5)]&&_0x394840[_0x1a913d(0x332)]?.[_0x1a913d(0x4d5)]!==!0x1&&(_0x394840[_0x1a913d(0x332)][_0x1a913d(0x4d5)]=!0x0),_0x394840[_0x1a913d(0x332)]?.[_0x1a913d(0x4d5)]){let _0x1a3f26=await this[_0x1a913d(0x5aa)](_0x394840[_0x1a913d(0x36c)][_0x1a913d(0x17e)]);if(typeof _0x1a3f26==_0x1a913d(0x4ff)){let _0x3d844f=F['readFileSync'](_0x1a3f26)['toString'](_0x1a913d(0x6d3));return this[_0x1a913d(0x51e)](_0x394840[_0x1a913d(0x21f)],{'audio':Buffer[_0x1a913d(0x326)](_0x3d844f,_0x1a913d(0x6d3)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x1a913d(0x33c),'delay':_0x394840?.[_0x1a913d(0x332)]?.[_0x1a913d(0x155)]});}else throw new x(_0x1a3f26);}return await this['sendMessageWithTyping'](_0x394840[_0x1a913d(0x21f)],{'audio':(0x0,L[_0x1a913d(0xe0)])(_0x394840[_0x1a913d(0x36c)]['audio'])?{'url':_0x394840[_0x1a913d(0x36c)]['audio']}:Buffer[_0x1a913d(0x326)](_0x394840[_0x1a913d(0x36c)][_0x1a913d(0x17e)],_0x1a913d(0x6d3)),'ptt':!0x0,'mimetype':_0x1a913d(0x294)},{'presence':_0x1a913d(0x33c),'delay':_0x394840?.['options']?.[_0x1a913d(0x155)]});}async[a0_0x40255d(0x5aa)](_0x15432e){const _0x5e53fd=a0_0x40255d;this[_0x5e53fd(0x17b)][_0x5e53fd(0x5ab)](this[_0x5e53fd(0x2c6)]+'\x20('+this[_0x5e53fd(0x30d)][_0x5e53fd(0x582)]+'):Processing\x20audio');let _0x478800=(0x0,L[_0x5e53fd(0xe0)])(_0x15432e)?(0x0,Re[_0x5e53fd(0x757)])('sha256')[_0x5e53fd(0x2d3)](_0x15432e)['digest'](_0x5e53fd(0x4c0)):(0x0,Re[_0x5e53fd(0x757)])(_0x5e53fd(0x77e))['update'](_0x15432e)['digest'](_0x5e53fd(0x4c0)),_0x26010b=''+(0x0,j[_0x5e53fd(0x12c)])(this[_0x5e53fd(0x212)],_0x478800+'.ogg');if(F[_0x5e53fd(0x2ac)](_0x26010b))return this[_0x5e53fd(0x17b)][_0x5e53fd(0x5ab)](this[_0x5e53fd(0x2c6)]+'\x20('+this[_0x5e53fd(0x30d)][_0x5e53fd(0x582)]+_0x5e53fd(0x57e)),_0x26010b;let _0x5b7dc4=''+(0x0,j[_0x5e53fd(0x12c)])(this['storePath'],_0x5e53fd(0xfd)+(0x0,X['v4'])()+'.mp3');if((0x0,L[_0x5e53fd(0xe0)])(_0x15432e)){let _0x15fc1e=new Date()[_0x5e53fd(0x33a)](),_0x868fb8=_0x15432e+_0x5e53fd(0x6f7)+_0x15fc1e,_0x2490b0=await te[_0x5e53fd(0x437)][_0x5e53fd(0x35f)](_0x868fb8,{'responseType':_0x5e53fd(0x2f6)});F[_0x5e53fd(0x65c)](_0x5b7dc4,_0x2490b0['data']);}else{let _0xbe82bd=Buffer[_0x5e53fd(0x326)](_0x15432e,_0x5e53fd(0x6d3));F['writeFileSync'](_0x5b7dc4,_0xbe82bd);}return new Promise((_0x54d72f,_0x77e201)=>{const _0x766d64=_0x5e53fd;(0x0,je[_0x766d64(0xe5)])(Ps[_0x766d64(0x437)][_0x766d64(0x45c)]+_0x766d64(0x62d)+_0x5b7dc4+_0x766d64(0x7d3)+_0x26010b+'\x20-y',_0x46adf4=>{const _0x2780ef=_0x766d64;if(F[_0x2780ef(0x448)](_0x5b7dc4),_0x46adf4){this['logger'][_0x2780ef(0x5ab)](this[_0x2780ef(0x2c6)]+'\x20('+this[_0x2780ef(0x30d)][_0x2780ef(0x582)]+_0x2780ef(0x1d2)),_0x77e201(_0x46adf4);return;}this[_0x2780ef(0x17b)][_0x2780ef(0x5ab)](this['instanceName']+'\x20('+this[_0x2780ef(0x30d)][_0x2780ef(0x582)]+_0x2780ef(0x123)),_0x54d72f(_0x26010b);});});}async['convertaudioMP3'](_0x559b2d){const _0x44c456=a0_0x40255d;this['logger'][_0x44c456(0x5ab)](this['instanceName']+'\x20('+this[_0x44c456(0x30d)]['wuid']+_0x44c456(0x196));let _0x322fcf=(0x0,Re[_0x44c456(0x757)])('sha256')[_0x44c456(0x2d3)](_0x559b2d)['digest'](_0x44c456(0x4c0)),_0x89a76b=''+(0x0,j[_0x44c456(0x12c)])(this[_0x44c456(0x212)],_0x322fcf+_0x44c456(0x613));if(F[_0x44c456(0x2ac)](_0x89a76b))return this['logger'][_0x44c456(0x5ab)](this['instanceName']+'\x20('+this[_0x44c456(0x30d)][_0x44c456(0x582)]+_0x44c456(0x57e)),j['default'][_0x44c456(0x7dc)](_0x89a76b);let _0x1bb402=''+(0x0,j[_0x44c456(0x12c)])(this['storePath'],_0x44c456(0xfd)+_0x322fcf+_0x44c456(0x2a2));if((0x0,L['isURL'])(_0x559b2d)){let _0x53fcba=new Date()['getTime'](),_0x5810bb=_0x559b2d+'?timestamp='+_0x53fcba,_0x4319e9=await te['default'][_0x44c456(0x35f)](_0x5810bb,{'responseType':_0x44c456(0x2f6)});F[_0x44c456(0x65c)](_0x1bb402,_0x4319e9[_0x44c456(0x7b6)]);}else{let _0x17b11d=Buffer['from'](_0x559b2d,_0x44c456(0x6d3));F[_0x44c456(0x65c)](_0x1bb402,_0x17b11d);}return new Promise((_0x5b5e50,_0x3f3c51)=>{const _0x2e16c3=_0x44c456;(0x0,je['exec'])(Ps[_0x2e16c3(0x437)][_0x2e16c3(0x45c)]+_0x2e16c3(0x62d)+_0x1bb402+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x89a76b+_0x2e16c3(0x409),_0x37b81d=>{const _0x556f6f=_0x2e16c3;if(F['unlinkSync'](_0x1bb402),_0x37b81d){this[_0x556f6f(0x17b)][_0x556f6f(0x5ab)](this[_0x556f6f(0x2c6)]+'\x20('+this[_0x556f6f(0x30d)]['wuid']+_0x556f6f(0x1d2)),_0x3f3c51(_0x37b81d);return;}this[_0x556f6f(0x17b)][_0x556f6f(0x5ab)](this[_0x556f6f(0x2c6)]+'\x20('+this['instance']['wuid']+_0x556f6f(0x123)),_0x5b5e50(j['default']['basename'](_0x89a76b));});});}async['buttonMessage'](_0x173fd6){const _0x5fa298=a0_0x40255d;let _0x1310f8={},_0x25ad67=_0x5fa298(0x2cb);if(_0x173fd6['buttonMessage']?.[_0x5fa298(0x2c8)]){_0x25ad67=_0x173fd6[_0x5fa298(0x456)][_0x5fa298(0x2c8)]?.['mediatype'][_0x5fa298(0x47d)]()??_0x5fa298(0x2cb),_0x1310f8[_0x5fa298(0x20e)]=_0x25ad67[_0x5fa298(0x478)]()+_0x5fa298(0x5cc);let _0x156520=await this[_0x5fa298(0x52a)](_0x173fd6[_0x5fa298(0x456)][_0x5fa298(0x2c8)]);_0x1310f8[_0x5fa298(0x740)]=_0x156520[_0x5fa298(0x740)][_0x1310f8[_0x5fa298(0x20e)]],_0x1310f8['contentText']='*'+_0x173fd6['buttonMessage'][_0x5fa298(0x254)]+_0x5fa298(0x4a3)+_0x173fd6[_0x5fa298(0x456)][_0x5fa298(0x327)];}let _0x3c9b72={'text':_0x173fd6['buttonMessage'][_0x5fa298(0x769)]['map'](_0x52efa8=>_0x52efa8[_0x5fa298(0x3e6)]),'ids':_0x173fd6[_0x5fa298(0x456)][_0x5fa298(0x769)][_0x5fa298(0x54b)](_0x1e54d1=>_0x1e54d1[_0x5fa298(0x27f)])};if(!(0x0,L[_0x5fa298(0x3b8)])(_0x3c9b72['text'])||!(0x0,L[_0x5fa298(0x3b8)])(_0x3c9b72[_0x5fa298(0x42c)]))throw new m(_0x5fa298(0x105),_0x5fa298(0x4c9));return await this[_0x5fa298(0x51e)](_0x173fd6[_0x5fa298(0x21f)],{'buttonsMessage':{'text':_0x1310f8?.[_0x5fa298(0x20e)]?void 0x0:_0x173fd6[_0x5fa298(0x456)][_0x5fa298(0x254)],'contentText':_0x1310f8?.['contentText']??_0x173fd6[_0x5fa298(0x456)]['description'],'footerText':_0x173fd6[_0x5fa298(0x456)]?.[_0x5fa298(0x6e4)],'buttons':_0x173fd6[_0x5fa298(0x456)]['buttons'][_0x5fa298(0x54b)](_0x4d121c=>({'buttonText':{'displayText':_0x4d121c[_0x5fa298(0x3e6)]},'buttonId':_0x4d121c[_0x5fa298(0x27f)],'type':0x1})),'headerType':w['proto']['Message']['ButtonsMessage']['HeaderType'][_0x25ad67],[_0x1310f8?.['mediaKey']]:_0x1310f8?.[_0x5fa298(0x740)]}},_0x173fd6?.[_0x5fa298(0x332)]);}async[a0_0x40255d(0x4e4)](_0x29089d){const _0x1d6963=a0_0x40255d;return await this['sendMessageWithTyping'](_0x29089d[_0x1d6963(0x21f)],{'locationMessage':{'degreesLatitude':_0x29089d[_0x1d6963(0x4e4)][_0x1d6963(0x7c9)],'degreesLongitude':_0x29089d['locationMessage'][_0x1d6963(0x59b)],'name':_0x29089d['locationMessage']?.[_0x1d6963(0x6cc)],'address':_0x29089d[_0x1d6963(0x4e4)]?.[_0x1d6963(0x50e)]}},_0x29089d?.['options']);}async[a0_0x40255d(0x7ed)](_0x1ca062){const _0xc9ad61=a0_0x40255d;let _0x4d26cf={},_0x495a95=async _0x44d0ec=>{const _0x29e469=a0_0x2679;let _0x9184dd=_0x29e469(0x6ae)+_0x44d0ec[_0x29e469(0x25b)]+'\x0aFN:'+_0x44d0ec[_0x29e469(0x25b)]+'\x0a';_0x44d0ec[_0x29e469(0x65a)]&&(_0x9184dd+='ORG:'+_0x44d0ec[_0x29e469(0x65a)]+';\x0a'),_0x44d0ec[_0x29e469(0x62c)]&&(_0x9184dd+='EMAIL:'+_0x44d0ec[_0x29e469(0x62c)]+'\x0a'),_0x44d0ec[_0x29e469(0x16c)]&&(_0x9184dd+=_0x29e469(0x1cc)+_0x44d0ec[_0x29e469(0x16c)]+'\x0a');let _0x3d864a='',_0x8453fa=0x1;if(_0x44d0ec['phoneNumber']){let _0x153790=_0x44d0ec['phoneNumber'][_0x29e469(0x6ce)]('|');for(let _0x399fa6 of _0x153790){let _0xbc8175=await this[_0x29e469(0x4ef)]({'numbers':[_0x399fa6]}),_0x18c64e=(_0xbc8175[_0x29e469(0x111)]>0x0?_0xbc8175[0x0][_0x29e469(0x277)]:this['createJid'](_0x399fa6))['replace'](_0x29e469(0x226),'');_0x3d864a+=_0x29e469(0x37b)+_0x8453fa+_0x29e469(0x3d7)+_0x18c64e+':'+_0x399fa6+'\x0aitem'+_0x8453fa+_0x29e469(0x132),_0x8453fa++;}}return _0x9184dd+=_0x3d864a+_0x29e469(0x142),_0x9184dd;};return _0x1ca062['contactMessage'][_0xc9ad61(0x111)]===0x1?_0x4d26cf[_0xc9ad61(0x7ed)]={'displayName':_0x1ca062['contactMessage'][0x0][_0xc9ad61(0x25b)],'vcard':await _0x495a95(_0x1ca062[_0xc9ad61(0x7ed)][0x0])}:_0x4d26cf['contactsArrayMessage']={'displayName':_0x1ca062[_0xc9ad61(0x7ed)][_0xc9ad61(0x111)]+'\x20contacts','contacts':await Promise[_0xc9ad61(0x191)](_0x1ca062['contactMessage'][_0xc9ad61(0x54b)](async _0x336a87=>({'displayName':_0x336a87[_0xc9ad61(0x25b)],'vcard':await _0x495a95(_0x336a87)})))},await this[_0xc9ad61(0x51e)](_0x1ca062[_0xc9ad61(0x21f)],{..._0x4d26cf},_0x1ca062?.[_0xc9ad61(0x332)]);}async[a0_0x40255d(0x5a3)](_0x38cea9){const _0xd0b2c6=a0_0x40255d;return await this[_0xd0b2c6(0x51e)](_0x38cea9[_0xd0b2c6(0x5a3)][_0xd0b2c6(0x713)]['remoteJid'],{'reactionMessage':{'key':_0x38cea9[_0xd0b2c6(0x5a3)]['key'],'text':_0x38cea9[_0xd0b2c6(0x5a3)][_0xd0b2c6(0x1ce)]}});}async[a0_0x40255d(0x4ef)](_0x50efdc){const _0x3c79cf=a0_0x40255d;let _0x4645ae=[];for await(let _0x3a681 of _0x50efdc[_0x3c79cf(0x41d)]){let _0x10c9f6=this[_0x3c79cf(0x37d)](_0x3a681),_0xb347c5=!0x1;try{if((0x0,w[_0x3c79cf(0x391)])(_0x10c9f6)){let _0xffc373=(await this['repository'][_0x3c79cf(0x708)]['findOne']({'where':{'_id':_0x10c9f6}},this['instance'][_0x3c79cf(0x582)]))[_0x3c79cf(0x76d)];_0xffc373?(_0xb347c5=!0x0,_0x4645ae['push'](new pe(_0xffc373['id'],_0xb347c5,_0xffc373?.[_0x3c79cf(0x7a1)]))):(_0xffc373=await this[_0x3c79cf(0x314)]({'groupJid':_0x10c9f6},_0x3c79cf(0x5dd)),_0x4645ae[_0x3c79cf(0x4f1)](new pe(_0xffc373['id'],!!_0xffc373?.['id'],_0xffc373?.['subject'])));}else{if(_0x10c9f6[_0x3c79cf(0x5a1)](_0x3c79cf(0x136)))_0x4645ae[_0x3c79cf(0x4f1)](new pe(_0x10c9f6,!0x0));else{let _0x5c7b75=(await this[_0x3c79cf(0x6ba)]['onWhatsApp'](_0x10c9f6))[0x0];_0x4645ae['push'](new pe(_0x5c7b75[_0x3c79cf(0x277)],_0x5c7b75['exists']));}}}catch{(0x0,w[_0x3c79cf(0x391)])(_0x10c9f6)||await this['deleteImportedChat'](_0x10c9f6),_0x4645ae['push'](new pe(_0x3a681,!0x1));}}return _0x4645ae;}async[a0_0x40255d(0x6e8)](_0x3f8a82){const _0x5cde4d=a0_0x40255d;try{await this['repository']['chat']['findOne']({'where':{'_id':_0x3f8a82,'imported':!0x0}},this[_0x5cde4d(0x30d)]['wuid'])&&(await this[_0x5cde4d(0x200)][_0x5cde4d(0x708)][_0x5cde4d(0x6c5)](_0x3f8a82,this[_0x5cde4d(0x30d)][_0x5cde4d(0x582)]),this[_0x5cde4d(0x17b)][_0x5cde4d(0x58f)](_0x5cde4d(0x3bd)+_0x3f8a82+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x1c3648){let _0x35717b=_0x5cde4d(0x438),_0x562d80=_0x1c3648 instanceof Error?_0x1c3648[_0x5cde4d(0x740)]:typeof _0x1c3648==_0x5cde4d(0x480)?JSON[_0x5cde4d(0x53c)](_0x1c3648):_0x1c3648,_0x5ba8db=_0x35717b+':\x20'+_0x562d80;this[_0x5cde4d(0x17b)]['error'](this[_0x5cde4d(0x2c6)]+'\x20('+this['instance'][_0x5cde4d(0x582)]+_0x5cde4d(0x377)+_0x5ba8db);}}async[a0_0x40255d(0x54e)](_0x49991e){const _0xd66046=a0_0x40255d;try{let _0x5accd6=_0x49991e[_0xd66046(0x627)]['filter'](_0x5b3b16=>(0x0,w[_0xd66046(0x391)])(_0x5b3b16[_0xd66046(0x293)])||(0x0,w[_0xd66046(0x631)])(_0x5b3b16[_0xd66046(0x293)]))[_0xd66046(0x54b)](_0x312599=>({'remoteJid':_0x312599['remoteJid'],'fromMe':_0x312599[_0xd66046(0x363)],'id':_0x312599['id']}));await this['client'][_0xd66046(0x627)](_0x5accd6);let _0x201252=_0x5accd6[_0xd66046(0x54b)](_0x1ef18d=>this[_0xd66046(0x4b3)](_0x1ef18d,{'status':_0xd66046(0x15e),'owner':this[_0xd66046(0x30d)][_0xd66046(0x582)]})),_0x2d7774=_0x5accd6['map'](_0x23ca1e=>this['repository'][_0xd66046(0x708)][_0xd66046(0x72d)]({'where':{'_id':_0x23ca1e[_0xd66046(0x293)]}},{'unreadcount':0x0},this[_0xd66046(0x30d)]['wuid'])),[_0x4174d4,_0x280b92]=await Promise[_0xd66046(0x191)]([Promise[_0xd66046(0x191)](_0x201252),Promise[_0xd66046(0x191)](_0x2d7774)]);return _0x280b92[_0xd66046(0x750)](_0x7b35de=>_0x7b35de!==null)['forEach'](_0x58c38d=>{q(this['instanceName'],'chats',{'chat':_0x58c38d});}),{'message':_0xd66046(0x121),'read':_0xd66046(0x629)};}catch(_0x16fb01){let _0x139b2c=_0xd66046(0x640),_0x5e8ded=_0x16fb01 instanceof Error?_0x16fb01[_0xd66046(0x740)]:typeof _0x16fb01=='object'?JSON['stringify'](_0x16fb01):_0x16fb01,_0x217d5f=_0x139b2c+':\x20'+_0x5e8ded;throw this[_0xd66046(0x17b)][_0xd66046(0x6b3)](this[_0xd66046(0x2c6)]+'\x20('+this[_0xd66046(0x30d)]['wuid']+_0xd66046(0x377)+_0x217d5f),new x(_0x217d5f);}}async[a0_0x40255d(0x1d1)](_0x21c863){const _0x22b9c6=a0_0x40255d;let _0x4dfaf5={'where':{'key':{'remoteJid':_0x21c863}},'limit':0x1},_0x385627=await this['fetchMessages'](_0x4dfaf5);return _0x385627||(this[_0x22b9c6(0x17b)][_0x22b9c6(0x6b3)](_0x22b9c6(0x239)+_0x21c863),null);}async[a0_0x40255d(0x69e)](_0x2f8a4a){const _0x4052ff=a0_0x40255d;this['logger']['verbose'](this[_0x4052ff(0x2c6)]+'\x20('+this['instance'][_0x4052ff(0x582)]+_0x4052ff(0x271));try{let _0x1c358d=_0x2f8a4a[_0x4052ff(0x507)],_0xe96fa2=_0x2f8a4a[_0x4052ff(0x708)];if(!_0x1c358d&&_0xe96fa2?_0x1c358d=await this['getLastMessage'](_0xe96fa2):(_0x1c358d=_0x2f8a4a[_0x4052ff(0x507)],_0x1c358d[_0x4052ff(0x4ea)]=_0x1c358d?.[_0x4052ff(0x4ea)]??Date[_0x4052ff(0x15d)](),_0xe96fa2=_0x1c358d?.['key']?.[_0x4052ff(0x293)]),!_0x1c358d||Object[_0x4052ff(0x702)](_0x1c358d)[_0x4052ff(0x111)]===0x0)throw new J(_0x4052ff(0x166));this[_0x4052ff(0x17b)][_0x4052ff(0x5ab)](this[_0x4052ff(0x2c6)]+'\x20('+this['instance'][_0x4052ff(0x582)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0xe96fa2);try{await this['client'][_0x4052ff(0x160)]({'archive':_0x2f8a4a[_0x4052ff(0x204)],'lastMessages':[_0x1c358d]},this[_0x4052ff(0x37d)](_0xe96fa2));}catch(_0x1dc2f4){let _0x20056a=_0x4052ff(0x3be)+_0xe96fa2,_0x517473=_0x1dc2f4 instanceof Error?_0x1dc2f4['message']:typeof _0x1dc2f4=='object'?JSON[_0x4052ff(0x53c)](_0x1dc2f4):_0x1dc2f4,_0xcdf02c=_0x20056a+':\x20'+_0x517473;this['logger'][_0x4052ff(0x6b3)](this['instanceName']+'\x20('+this['instance'][_0x4052ff(0x582)]+'):\x20'+_0xcdf02c);}this[_0x4052ff(0x17b)][_0x4052ff(0x5ab)](this[_0x4052ff(0x2c6)]+'\x20('+this[_0x4052ff(0x30d)][_0x4052ff(0x582)]+_0x4052ff(0x6b4)+_0xe96fa2);let _0xac35ce=await this[_0x4052ff(0x200)][_0x4052ff(0x708)][_0x4052ff(0x72d)]({'where':{'_id':_0x1c358d?.[_0x4052ff(0x713)]?.['remoteJid']}},{'archived':_0x2f8a4a['archive']},this['instance'][_0x4052ff(0x582)]);return _0xac35ce?(this['logger']['verbose'](this[_0x4052ff(0x2c6)]+'\x20('+this['instance'][_0x4052ff(0x582)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x4052ff(0x53c)](_0xac35ce)),q(this['instanceName'],_0x4052ff(0x130),{'chat':_0xac35ce})):this[_0x4052ff(0x17b)][_0x4052ff(0x6b3)](this[_0x4052ff(0x2c6)]+'\x20('+this[_0x4052ff(0x30d)][_0x4052ff(0x582)]+_0x4052ff(0x686)+_0xe96fa2),{'chatId':_0xe96fa2,'archived':_0x2f8a4a[_0x4052ff(0x204)]};}catch(_0x3b7978){let _0x3de148=_0x4052ff(0x364),_0x7ac393=_0x3b7978 instanceof Error?_0x3b7978[_0x4052ff(0x740)]:typeof _0x3b7978==_0x4052ff(0x480)?JSON[_0x4052ff(0x53c)](_0x3b7978):_0x3b7978,_0x47c219=_0x3de148+':\x20'+_0x7ac393;throw this[_0x4052ff(0x17b)][_0x4052ff(0x6b3)](this[_0x4052ff(0x2c6)]+'\x20('+this[_0x4052ff(0x30d)][_0x4052ff(0x582)]+_0x4052ff(0x377)+_0x47c219),new x(_0x47c219);}}async[a0_0x40255d(0x6c5)](_0x491e36){const _0x5617c2=a0_0x40255d;this[_0x5617c2(0x17b)][_0x5617c2(0x5ab)](this[_0x5617c2(0x2c6)]+'\x20('+this[_0x5617c2(0x30d)][_0x5617c2(0x582)]+_0x5617c2(0x4ae));try{let _0x58450c=await this[_0x5617c2(0x1d1)](_0x491e36);if(!_0x58450c||Object[_0x5617c2(0x702)](_0x58450c)[_0x5617c2(0x111)]===0x0)throw new J(_0x5617c2(0x166));let _0x5e59ce=_0x58450c[0x0];this[_0x5617c2(0x17b)][_0x5617c2(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x5617c2(0x582)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x491e36);try{await this[_0x5617c2(0x6ba)][_0x5617c2(0x160)]({'delete':!0x0,'lastMessages':[{'key':_0x5e59ce[_0x5617c2(0x713)],'messageTimestamp':_0x5e59ce['messageTimestamp']}]},this[_0x5617c2(0x37d)](_0x491e36));}catch(_0x10bd93){this[_0x5617c2(0x17b)][_0x5617c2(0x6b3)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x491e36+':\x20'+_0x10bd93[_0x5617c2(0x334)]());}this[_0x5617c2(0x17b)][_0x5617c2(0x5ab)](this['instanceName']+'\x20('+this[_0x5617c2(0x30d)][_0x5617c2(0x582)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x491e36);return;}catch(_0x28b5f9){throw this['logger'][_0x5617c2(0x6b3)](this[_0x5617c2(0x2c6)]+'\x20('+this[_0x5617c2(0x30d)][_0x5617c2(0x582)]+_0x5617c2(0x75c)+_0x28b5f9[_0x5617c2(0x334)]()),new x({'archived':!0x1,'message':[_0x5617c2(0x402),_0x28b5f9[_0x5617c2(0x334)]()]});}}async[a0_0x40255d(0x4ec)](_0x2fab39){const _0x4b8cbb=a0_0x40255d;try{let _0x3e2f98=await this[_0x4b8cbb(0x6ba)][_0x4b8cbb(0x5e4)](_0x2fab39['remoteJid'],{'delete':_0x2fab39});try{let _0x5481f7=await this[_0x4b8cbb(0x4b3)](_0x2fab39,{'status':_0x4b8cbb(0x2b1),'owner':this[_0x4b8cbb(0x30d)][_0x4b8cbb(0x582)]});this[_0x4b8cbb(0x17b)][_0x4b8cbb(0x5ab)](this[_0x4b8cbb(0x2c6)]+'\x20('+this[_0x4b8cbb(0x30d)][_0x4b8cbb(0x582)]+_0x4b8cbb(0x113)+_0x5481f7);}catch(_0x7518ea){this['logger'][_0x4b8cbb(0x6b3)](_0x4b8cbb(0x1aa)+_0x7518ea);}return _0x3e2f98;}catch(_0xbc5a73){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0xbc5a73?.[_0x4b8cbb(0x334)]());}}async[a0_0x40255d(0x23d)](_0x4cf915){const _0x201996=a0_0x40255d;try{let _0x5da1e3=_0x4cf915?.[_0x201996(0x740)]?_0x4cf915:await this[_0x201996(0x78d)](_0x4cf915[_0x201996(0x713)],!0x0);for(let _0x44d758 of Ra)_0x5da1e3[_0x201996(0x740)][_0x44d758]&&(_0x5da1e3[_0x201996(0x740)]=_0x5da1e3[_0x201996(0x740)][_0x44d758]['message']);let _0x4af1b8,_0x28d025;for(let _0x4261a7 of $a)if(_0x4af1b8=_0x5da1e3[_0x201996(0x740)][_0x4261a7],_0x4af1b8){_0x28d025=_0x4261a7;break;}if(!_0x4af1b8)throw _0x201996(0x2ff);typeof _0x4af1b8[_0x201996(0x20e)]=='object'&&(_0x5da1e3[_0x201996(0x740)]=JSON['parse'](JSON[_0x201996(0x53c)](_0x5da1e3['message'])));let _0x150d1e=await(0x0,w[_0x201996(0x3b5)])({'key':_0x5da1e3?.[_0x201996(0x713)],'message':_0x5da1e3?.[_0x201996(0x740)]},'buffer',{},{'logger':(0x0,Vt[_0x201996(0x437)])({'level':_0x201996(0x1f8)}),'reuploadRequest':this[_0x201996(0x6ba)]['updateMediaMessage']});if(!(_0x150d1e instanceof Buffer))throw new Error(_0x201996(0x37e));let _0x3ecaa9=this[_0x201996(0x27d)]['get'](_0x201996(0x303)),_0x418151,_0x54a4d8;if(_0x4af1b8[_0x201996(0x46a)])_0x418151=_0x4af1b8['fileName'];else{let _0x2041cb=_0x4af1b8[_0x201996(0x464)]?.[_0x201996(0x28e)](/\/(\w+)/),_0x2792db=_0x2041cb?_0x2041cb[0x1]:null;if(!_0x2792db)throw new Error(_0x201996(0x619));_0x418151=(0x0,X['v4'])()+'.'+_0x2792db;}_0x28d025===_0x201996(0x36c)?_0x54a4d8=_0x201996(0x5e7)+await this[_0x201996(0x2ae)](_0x150d1e[_0x201996(0x334)](_0x201996(0x6d3))):(await this['saveMediaToFile'](_0x150d1e,_0x418151),_0x54a4d8=_0x201996(0x5e7)+_0x418151);let _0x584ccd=this['configService'][_0x201996(0x35f)](_0x201996(0x773))[_0x201996(0x6c8)];if(!_0x584ccd){let _0x3cc8aa=this[_0x201996(0x27d)][_0x201996(0x35f)]('SSL_CONF');_0x584ccd=_0x201996(0x58d)+(_0x3cc8aa&&_0x3cc8aa['FULLCHAIN'][_0x201996(0x6ce)]('/')[0x4]);}_0x54a4d8=''+_0x584ccd+_0x54a4d8;let _0xc5d4a3=0xc*0x3c*0x3c*0x3e8,_0x3f499c={'where':{'_id':_0x5da1e3[_0x201996(0x713)]['id']}},_0x53fd50={'message_normalized.fileUrl':_0x54a4d8,'message_normalized.expires_fileUrl':Date[_0x201996(0x15d)]()+_0xc5d4a3};try{let _0x5aec05=await this['repository'][_0x201996(0x740)][_0x201996(0x2d3)](_0x3f499c,_0x53fd50,this[_0x201996(0x30d)]['wuid']);_0x5aec05&&q(this[_0x201996(0x2c6)],_0x201996(0x290),{'message':_0x5aec05});}catch(_0x1a77d6){let _0x10f1c1=_0x201996(0x250),_0x172e96=_0x1a77d6 instanceof Error?_0x1a77d6['message']:typeof _0x1a77d6==_0x201996(0x480)?JSON[_0x201996(0x53c)](_0x1a77d6):_0x1a77d6,_0x2e189f=_0x10f1c1+':\x20'+_0x172e96;this['logger'][_0x201996(0x6b3)](this[_0x201996(0x2c6)]+'\x20('+this[_0x201996(0x30d)][_0x201996(0x582)]+_0x201996(0x377)+_0x2e189f);}return{'mediaType':_0x28d025,'fileName':_0x4af1b8[_0x201996(0x46a)],'caption':_0x4af1b8[_0x201996(0x476)],'size':{'fileLength':_0x4af1b8[_0x201996(0x230)],'height':_0x4af1b8[_0x201996(0x72f)],'width':_0x4af1b8[_0x201996(0x1d3)]},'mimetype':_0x4af1b8[_0x201996(0x464)],'base64':_0x150d1e['toString'](_0x201996(0x6d3)),'fileUrl':_0x54a4d8,'expires_fileUrl':Date['now']()+_0xc5d4a3};}catch(_0x174e6a){let _0x4142d0=_0x201996(0x6d7),_0x5b4d8a=_0x174e6a instanceof Error?_0x174e6a[_0x201996(0x740)]:typeof _0x174e6a=='object'?JSON[_0x201996(0x53c)](_0x174e6a):_0x174e6a,_0x55465f=_0x4142d0+':\x20'+_0x5b4d8a;throw this[_0x201996(0x17b)][_0x201996(0x6b3)](this[_0x201996(0x2c6)]+'\x20('+this[_0x201996(0x30d)][_0x201996(0x582)]+_0x201996(0x377)+_0x55465f),new m(_0x55465f);}}async[a0_0x40255d(0x588)](_0x6a602c,_0x5a2de1){const _0x5bb310=a0_0x40255d;let _0x4788f4=j[_0x5bb310(0x437)][_0x5bb310(0x12c)](__dirname,_0x5bb310(0x6e2));F['existsSync'](_0x4788f4)||F['mkdirSync'](_0x4788f4,{'recursive':!0x0});let _0x55c84c=j[_0x5bb310(0x437)][_0x5bb310(0x12c)](_0x4788f4,_0x5a2de1);return new Promise((_0x324269,_0x35e64d)=>{F['writeFile'](_0x55c84c,_0x6a602c,_0x39dde0=>{const _0x11fbad=a0_0x2679;_0x39dde0?(this[_0x11fbad(0x17b)][_0x11fbad(0x6b3)]('Error\x20writing\x20file:\x20'+(_0x39dde0 instanceof Error?_0x39dde0[_0x11fbad(0x740)]:JSON['stringify'](_0x39dde0,null,0x2))),_0x35e64d(_0x39dde0)):(this[_0x11fbad(0x17b)][_0x11fbad(0x18f)](_0x11fbad(0x477)+_0x55c84c),_0x324269(_0x55c84c));});});}async[a0_0x40255d(0x512)](_0x10a039){const _0xcb11c5=a0_0x40255d;return await this[_0xcb11c5(0x200)]['contact'][_0xcb11c5(0x284)](_0x10a039,this[_0xcb11c5(0x30d)][_0xcb11c5(0x582)]);}async[a0_0x40255d(0x5f6)](){const _0x430286=a0_0x40255d;return await this[_0x430286(0x200)][_0x430286(0x817)][_0x430286(0x284)]({'where':{}},this[_0x430286(0x30d)][_0x430286(0x582)]);}async[a0_0x40255d(0x497)](_0x41b7db){const _0x22e2e3=a0_0x40255d;return await this['repository'][_0x22e2e3(0x740)][_0x22e2e3(0x284)](_0x41b7db,this['instance'][_0x22e2e3(0x582)]);}async[a0_0x40255d(0x705)](){const _0x720a71=a0_0x40255d;return this['repository'][_0x720a71(0x708)][_0x720a71(0x67e)](this[_0x720a71(0x30d)][_0x720a71(0x582)]),this[_0x720a71(0x200)][_0x720a71(0x708)][_0x720a71(0x2dc)](this[_0x720a71(0x30d)][_0x720a71(0x582)]),this[_0x720a71(0x200)][_0x720a71(0x708)][_0x720a71(0x760)](this[_0x720a71(0x30d)][_0x720a71(0x582)]),this['repository'][_0x720a71(0x708)][_0x720a71(0x5cb)](this[_0x720a71(0x30d)][_0x720a71(0x582)]),await this['repository'][_0x720a71(0x708)]['find']({'where':{}},this['instance'][_0x720a71(0x582)]);}async[a0_0x40255d(0x1e2)](_0x44b496){const _0x297239=a0_0x40255d;try{if(!Array[_0x297239(0x246)](_0x44b496)||_0x44b496[_0x297239(0x111)]===0x0)throw new Error(_0x297239(0x7da));let _0x144f11=[],_0x369cfa=[];for(let _0x5366e4 of _0x44b496){if(_0x5366e4[_0x297239(0x3ba)])_0x5366e4[_0x297239(0x3ba)]=this['createJid'](_0x5366e4[_0x297239(0x3ba)]);else continue;await this['repository'][_0x297239(0x708)]['findOne']({'where':{'_id':_0x5366e4[_0x297239(0x3ba)]}},this['instance']['wuid'])?_0x369cfa[_0x297239(0x4f1)]({'_id':_0x5366e4[_0x297239(0x3ba)],'leadInfo':_0x5366e4[_0x297239(0x31b)],'owner':this[_0x297239(0x30d)][_0x297239(0x582)]}):_0x144f11[_0x297239(0x4f1)]({'_id':_0x5366e4[_0x297239(0x3ba)],'owner':this[_0x297239(0x30d)][_0x297239(0x582)],'leadInfo':_0x5366e4[_0x297239(0x31b)],'imported':!0x0});}return _0x369cfa[_0x297239(0x111)]>0x0&&await this[_0x297239(0x200)][_0x297239(0x708)][_0x297239(0x4dc)](_0x369cfa[_0x297239(0x54b)](_0x5a4daf=>({'query':{'where':{'_id':_0x5a4daf[_0x297239(0x3ba)],'owner':this['instance'][_0x297239(0x582)]}},'update':_0x5a4daf}))),_0x144f11['length']>0x0&&await this[_0x297239(0x200)][_0x297239(0x708)][_0x297239(0x4a1)](_0x144f11,this[_0x297239(0x30d)][_0x297239(0x582)]),{'updated':_0x369cfa[_0x297239(0x111)],'inserted':_0x144f11['length']};}catch(_0x5a64da){let _0x1a3989=_0x297239(0x7f4),_0x50c028=_0x5a64da instanceof Error?_0x5a64da['message']:typeof _0x5a64da==_0x297239(0x480)?JSON[_0x297239(0x53c)](_0x5a64da):_0x5a64da,_0x7eaefb=_0x1a3989+':\x20'+_0x50c028;throw this[_0x297239(0x17b)][_0x297239(0x6b3)](this['instanceName']+'\x20('+this[_0x297239(0x30d)][_0x297239(0x582)]+_0x297239(0x377)+_0x7eaefb),new m(_0x7eaefb);}}async['importChats'](_0x477441){const _0x2939a0=a0_0x40255d;try{if(!Array[_0x2939a0(0x246)](_0x477441)||_0x477441[_0x2939a0(0x111)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x341295=0x64,_0x573753=0x0;for(let _0x4696f1=0x0;_0x4696f1<_0x477441[_0x2939a0(0x111)];_0x4696f1+=_0x341295){let _0x4d5b22=_0x477441[_0x2939a0(0x7d8)](_0x4696f1,_0x4696f1+_0x341295),{updated:_0x1093a3}=await this[_0x2939a0(0x741)](_0x4d5b22);_0x573753+=_0x1093a3;}return{'updated':_0x573753};}catch(_0x2efce8){let _0x30b14a=_0x2939a0(0x7f4),_0x5c966b=_0x2efce8 instanceof Error?_0x2efce8[_0x2939a0(0x740)]:typeof _0x2efce8==_0x2939a0(0x480)?JSON[_0x2939a0(0x53c)](_0x2efce8):_0x2efce8,_0x3447e7=_0x30b14a+':\x20'+_0x5c966b;throw this['logger'][_0x2939a0(0x6b3)](this[_0x2939a0(0x2c6)]+'\x20('+this[_0x2939a0(0x30d)][_0x2939a0(0x582)]+_0x2939a0(0x377)+_0x3447e7),new m(_0x3447e7);}}async['importChatsBatch'](_0x274405){const _0x7cdae9=a0_0x40255d;try{let _0x2d1393=await this[_0x7cdae9(0x200)][_0x7cdae9(0x817)][_0x7cdae9(0x284)]({'where':{}},this['instance'][_0x7cdae9(0x582)]),_0x2952ee=new Set(_0x2d1393[_0x7cdae9(0x54b)](_0x824b28=>_0x824b28[_0x7cdae9(0x3ba)])),_0x4b1421=[],_0x52f05f=[];for(let _0x4517c5 of _0x274405){if(!_0x4517c5['_id'])continue;_0x4517c5['_id']=this[_0x7cdae9(0x37d)](_0x4517c5[_0x7cdae9(0x3ba)]);let _0x3c3ede=await this[_0x7cdae9(0x200)][_0x7cdae9(0x708)]['findOne']({'where':{'_id':_0x4517c5['_id']}},this[_0x7cdae9(0x30d)][_0x7cdae9(0x582)]),_0x29a9ab={};if(Object[_0x7cdae9(0x765)](_0x4517c5['leadInfo'])[_0x7cdae9(0x659)](([_0x168ca8,_0x408702])=>{const _0x2ff300=_0x7cdae9;_0x29a9ab[_0x2ff300(0x376)+_0x168ca8]=_0x408702;}),_0x3c3ede&&!_0x3c3ede[_0x7cdae9(0x45f)]){let _0x557543=(_0x4517c5[_0x7cdae9(0x31b)]['etiquetas']||[])[_0x7cdae9(0x750)](_0x2ff037=>_0x2952ee[_0x7cdae9(0x178)](_0x2ff037)),_0x4b2f40=new Set(_0x3c3ede[_0x7cdae9(0x31b)][_0x7cdae9(0xee)]||[]),_0x5601a8=_0x557543[_0x7cdae9(0x750)](_0x12d6a7=>!_0x4b2f40[_0x7cdae9(0x178)](_0x12d6a7)),_0x2565ea=[..._0x4b2f40]['filter'](_0x3a92bd=>!_0x557543[_0x7cdae9(0x5a1)](_0x3a92bd));_0x52f05f['push'](..._0x5601a8[_0x7cdae9(0x54b)](_0x5a3e61=>this['AddChatLabel'](_0x5a3e61,_0x4517c5['_id']))),_0x52f05f[_0x7cdae9(0x4f1)](..._0x2565ea['map'](_0x3eb833=>this[_0x7cdae9(0x330)](_0x3eb833,_0x4517c5['_id']))),_0x4517c5[_0x7cdae9(0x31b)][_0x7cdae9(0xee)]=_0x557543,_0x4b1421[_0x7cdae9(0x4f1)]({'query':{'where':{'_id':_0x4517c5[_0x7cdae9(0x3ba)],'owner':this[_0x7cdae9(0x30d)]['wuid']}},'update':_0x29a9ab});}else _0x29a9ab[_0x7cdae9(0x45f)]=!0x0,_0x4b1421['push']({'query':{'where':{'_id':_0x4517c5[_0x7cdae9(0x3ba)],'owner':this[_0x7cdae9(0x30d)][_0x7cdae9(0x582)]}},'update':_0x29a9ab});}let _0x1b8b82=await this[_0x7cdae9(0x200)]['chat'][_0x7cdae9(0x4dc)](_0x4b1421);return await Promise[_0x7cdae9(0x191)](_0x52f05f),{'updated':_0x1b8b82};}catch(_0x334d43){let _0x33384a='Erro\x20ao\x20importar\x20chats',_0x1dabe0=_0x334d43 instanceof Error?_0x334d43['message']:typeof _0x334d43==_0x7cdae9(0x480)?JSON[_0x7cdae9(0x53c)](_0x334d43):_0x334d43,_0x4b1e85=_0x33384a+':\x20'+_0x1dabe0;throw this[_0x7cdae9(0x17b)][_0x7cdae9(0x6b3)](this[_0x7cdae9(0x2c6)]+'\x20('+this[_0x7cdae9(0x30d)][_0x7cdae9(0x582)]+'):\x20'+_0x4b1e85),new m(_0x4b1e85);}}async['fetchPrivacySettings'](){return await this['client']['fetchPrivacySettings']();}async[a0_0x40255d(0x2e5)](_0x276f1d){const _0xea9cd5=a0_0x40255d;try{return await this[_0xea9cd5(0x6ba)]['updateReadReceiptsPrivacy'](_0x276f1d[_0xea9cd5(0x318)]['readreceipts']),await this['client'][_0xea9cd5(0x63c)](_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x3f7)]),await this['client']['updateStatusPrivacy'](_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x784)]),await this[_0xea9cd5(0x6ba)][_0xea9cd5(0x215)](_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x7e4)]),await this[_0xea9cd5(0x6ba)][_0xea9cd5(0x3d3)](_0x276f1d[_0xea9cd5(0x318)]['last']),await this['client'][_0xea9cd5(0x791)](_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x2c4)]),this[_0xea9cd5(0x6ba)]?.['ws']?.[_0xea9cd5(0x262)](),{'update':_0xea9cd5(0x629),'data':{'readreceipts':_0x276f1d['privacySettings'][_0xea9cd5(0x56c)],'profile':_0x276f1d[_0xea9cd5(0x318)]['profile'],'status':_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x784)],'online':_0x276f1d['privacySettings'][_0xea9cd5(0x7e4)],'last':_0x276f1d[_0xea9cd5(0x318)][_0xea9cd5(0x264)],'groupadd':_0x276f1d[_0xea9cd5(0x318)]['groupadd']}};}catch(_0x2343fb){let _0x31decc=_0xea9cd5(0x3c3),_0x4d7e4b=_0x2343fb instanceof Error?_0x2343fb[_0xea9cd5(0x740)]:typeof _0x2343fb==_0xea9cd5(0x480)?JSON[_0xea9cd5(0x53c)](_0x2343fb):_0x2343fb,_0x433cf9=_0x31decc+':\x20'+_0x4d7e4b;throw this['logger'][_0xea9cd5(0x6b3)](this[_0xea9cd5(0x2c6)]+'\x20('+this[_0xea9cd5(0x30d)][_0xea9cd5(0x582)]+_0xea9cd5(0x377)+_0x433cf9),new m(_0x433cf9);}}async[a0_0x40255d(0x503)](_0x5ffd52){const _0x5d3252=a0_0x40255d;let _0x2f7c45=(_0x5ffd52?this[_0x5d3252(0x37d)](_0x5ffd52):this[_0x5d3252(0x6ba)]?.[_0x5d3252(0x5c3)]?.['id'])[_0x5d3252(0x362)](/:\d{1,2}@/g,'@');this[_0x5d3252(0x17b)][_0x5d3252(0x5ab)](this[_0x5d3252(0x2c6)]+'\x20('+this[_0x5d3252(0x30d)]['wuid']+_0x5d3252(0x227)+_0x2f7c45);let _0x3ddce8=await this[_0x5d3252(0x200)][_0x5d3252(0x2b5)][_0x5d3252(0x73b)]({'where':{'_id':_0x2f7c45}},this[_0x5d3252(0x30d)][_0x5d3252(0x582)]),_0x181912=_0x3ddce8?_0x3ddce8[_0x5d3252(0x1b8)]:null;try{let _0x143889=(await this[_0x5d3252(0x4ef)]({'numbers':[_0x2f7c45]}))?.[_0x5d3252(0x768)](),_0x4e8d52=(await this[_0x5d3252(0x73e)](_0x2f7c45,null,!0x1))['cachedContact']['pictureUrl'],_0x2fd7c6=await this[_0x5d3252(0x7e5)](_0x143889?.[_0x5d3252(0x277)]),_0x175d85=await this[_0x5d3252(0x2c9)](_0x143889?.[_0x5d3252(0x277)]),_0x31a97d=(await this[_0x5d3252(0x73e)](_0x2f7c45,null,!0x1))[_0x5d3252(0x574)]['name'],_0x441919=await this[_0x5d3252(0x200)][_0x5d3252(0x708)]['findOne']({'where':{'_id':_0x2f7c45}},this[_0x5d3252(0x30d)][_0x5d3252(0x582)]),_0x5bfd10={'imagechat':_0x4e8d52,'contactname':_0x181912||null,'pushName':_0x31a97d,'status':_0x2fd7c6?.['status'],'isBusiness':_0x175d85['isBusiness'],'email':_0x175d85?.[_0x5d3252(0x62c)],'description':_0x175d85?.['description'],'website':_0x175d85?.[_0x5d3252(0x520)]?.[_0x5d3252(0x768)](),'lastcache':Date[_0x5d3252(0x15d)](),'imported':!_0x441919},_0x2dd3b1=await this[_0x5d3252(0x200)][_0x5d3252(0x708)][_0x5d3252(0x72d)]({'where':{'_id':_0x2f7c45}},_0x5bfd10,this[_0x5d3252(0x30d)][_0x5d3252(0x582)]),_0x2777d9={'owner':this[_0x5d3252(0x30d)]['wuid'],'_id':_0x2f7c45,'profilePictureUrl':_0x4e8d52,'status':_0x2fd7c6?.[_0x5d3252(0x784)]};return this['repository'][_0x5d3252(0x2b5)]['update']([_0x2777d9],this[_0x5d3252(0x30d)][_0x5d3252(0x582)]),_0x2dd3b1&&q(this['instanceName'],_0x5d3252(0x130),{'chat':_0x2dd3b1}),{'wuid':_0x143889?.[_0x5d3252(0x277)]||_0x2f7c45,'name':_0x143889?.[_0x5d3252(0x6cc)],'pushName':_0x31a97d,'numberExists':_0x143889?.['exists'],'picture':_0x4e8d52,'status':_0x2fd7c6?.['status'],'isBusiness':_0x175d85['isBusiness'],'email':_0x175d85?.[_0x5d3252(0x62c)],'description':_0x175d85?.[_0x5d3252(0x327)],'website':_0x175d85?.['website']?.[_0x5d3252(0x768)]()};}catch(_0x5404a4){return this['logger'][_0x5d3252(0x6b3)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x5404a4 instanceof Error?_0x5404a4[_0x5d3252(0x740)]:JSON[_0x5d3252(0x53c)](_0x5404a4,null,0x2))),{};}}async['fetchBusinessProfile'](_0xd065b5){const _0x523aff=a0_0x40255d;this['logger'][_0x523aff(0x5ab)](this[_0x523aff(0x2c6)]+'\x20('+this[_0x523aff(0x30d)][_0x523aff(0x582)]+_0x523aff(0x7fc));try{let _0x2f9063=_0xd065b5?this[_0x523aff(0x37d)](_0xd065b5):this[_0x523aff(0x30d)][_0x523aff(0x582)],_0x1b5161=await this[_0x523aff(0x6ba)][_0x523aff(0x6e3)](_0x2f9063);return this[_0x523aff(0x17b)][_0x523aff(0x5ab)](this[_0x523aff(0x2c6)]+'\x20('+this[_0x523aff(0x30d)][_0x523aff(0x582)]+_0x523aff(0x51f)),_0x1b5161?(this[_0x523aff(0x17b)][_0x523aff(0x5ab)](this[_0x523aff(0x2c6)]+'\x20('+this[_0x523aff(0x30d)][_0x523aff(0x582)]+_0x523aff(0x80f)),{'isBusiness':!0x0,..._0x1b5161}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x523aff(0x4ef)]({'numbers':[_0x2f9063]}))?.[_0x523aff(0x768)]()};}catch(_0x5969bf){let _0xea4560=_0x523aff(0x653),_0x24de01=_0x5969bf instanceof Error?_0x5969bf[_0x523aff(0x740)]:typeof _0x5969bf=='object'?JSON[_0x523aff(0x53c)](_0x5969bf):_0x5969bf,_0x443293=_0xea4560+':\x20'+_0x24de01;throw this['logger'][_0x523aff(0x6b3)](this[_0x523aff(0x2c6)]+'\x20('+this['instance'][_0x523aff(0x582)]+_0x523aff(0x377)+_0x443293),new x(_0x443293);}}async['getStatus'](_0x420da5){const _0x231051=a0_0x40255d;let _0x57721b=this[_0x231051(0x37d)](_0x420da5);try{return{'wuid':_0x57721b,'status':(await this[_0x231051(0x6ba)][_0x231051(0xd6)](_0x57721b))[0x0]?.[_0x231051(0x784)]};}catch{return{'wuid':_0x57721b,'status':null};}}async['updateProfileName'](_0x248d50){const _0x345639=a0_0x40255d;try{return await this[_0x345639(0x6ba)]['updateProfileName'](_0x248d50),{'update':'success'};}catch(_0x31bd9a){let _0x465454=_0x345639(0x461),_0x2393f7=_0x31bd9a instanceof Error?_0x31bd9a[_0x345639(0x740)]:typeof _0x31bd9a==_0x345639(0x480)?JSON[_0x345639(0x53c)](_0x31bd9a):_0x31bd9a,_0x4996b9=_0x465454+':\x20'+_0x2393f7;throw this[_0x345639(0x17b)]['error'](this[_0x345639(0x2c6)]+'\x20('+this[_0x345639(0x30d)][_0x345639(0x582)]+_0x345639(0x377)+_0x4996b9),new x(_0x4996b9);}}async[a0_0x40255d(0x688)](_0xb3a56a){const _0x54c2d7=a0_0x40255d;try{return await this[_0x54c2d7(0x6ba)][_0x54c2d7(0x688)](_0xb3a56a),{'update':_0x54c2d7(0x629)};}catch(_0x245671){let _0x19d1b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x512638=_0x245671 instanceof Error?_0x245671[_0x54c2d7(0x740)]:typeof _0x245671==_0x54c2d7(0x480)?JSON[_0x54c2d7(0x53c)](_0x245671):_0x245671,_0x5059af=_0x19d1b9+':\x20'+_0x512638;throw this[_0x54c2d7(0x17b)][_0x54c2d7(0x6b3)](this['instanceName']+'\x20('+this[_0x54c2d7(0x30d)][_0x54c2d7(0x582)]+_0x54c2d7(0x377)+_0x5059af),new x(_0x5059af);}}async[a0_0x40255d(0x229)](_0x44869e){const _0x57399d=a0_0x40255d;try{let _0x1fc698;if((0x0,L['isURL'])(_0x44869e)){let _0x358355=new Date()[_0x57399d(0x33a)](),_0x47534c=_0x44869e+_0x57399d(0x6f7)+_0x358355;_0x1fc698=(await te[_0x57399d(0x437)][_0x57399d(0x35f)](_0x47534c,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,L[_0x57399d(0x2e0)])(_0x44869e))_0x1fc698=Buffer[_0x57399d(0x326)](_0x44869e,_0x57399d(0x6d3));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x57399d(0x6ba)][_0x57399d(0x229)](this[_0x57399d(0x30d)][_0x57399d(0x582)],_0x1fc698),{'update':_0x57399d(0x629)};}catch(_0x4c6ae4){let _0x516863='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x580d49=_0x4c6ae4 instanceof Error?_0x4c6ae4['message']:typeof _0x4c6ae4==_0x57399d(0x480)?JSON[_0x57399d(0x53c)](_0x4c6ae4):_0x4c6ae4,_0x1e58ae=_0x516863+':\x20'+_0x580d49;throw this[_0x57399d(0x17b)][_0x57399d(0x6b3)](this[_0x57399d(0x2c6)]+'\x20('+this[_0x57399d(0x30d)][_0x57399d(0x582)]+_0x57399d(0x377)+_0x1e58ae),new x(_0x1e58ae);}}async[a0_0x40255d(0x3a6)](){const _0x1d8f0b=a0_0x40255d;try{return await this[_0x1d8f0b(0x6ba)][_0x1d8f0b(0x3a6)](this['instance'][_0x1d8f0b(0x582)]),{'update':'success'};}catch(_0x5c75af){let _0x2b389e='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x52de8a=_0x5c75af instanceof Error?_0x5c75af['message']:typeof _0x5c75af==_0x1d8f0b(0x480)?JSON[_0x1d8f0b(0x53c)](_0x5c75af):_0x5c75af,_0x3efc99=_0x2b389e+':\x20'+_0x52de8a;throw this[_0x1d8f0b(0x17b)][_0x1d8f0b(0x6b3)](this['instanceName']+'\x20('+this[_0x1d8f0b(0x30d)]['wuid']+_0x1d8f0b(0x377)+_0x3efc99),new x(_0x3efc99);}}async[a0_0x40255d(0x242)](_0x544560){const _0x481fbe=a0_0x40255d;try{let _0x48b370=(await this[_0x481fbe(0x4ef)]({'numbers':_0x544560[_0x481fbe(0x4cb)]}))['filter'](_0x73d63d=>_0x73d63d['exists'])[_0x481fbe(0x54b)](_0x6479c5=>_0x6479c5[_0x481fbe(0x277)]),{id:_0x4bc9b9}=await this[_0x481fbe(0x6ba)]['groupCreate'](_0x544560[_0x481fbe(0x7a1)],_0x48b370);_0x544560?.[_0x481fbe(0x327)]&&await this[_0x481fbe(0x6ba)]['groupUpdateDescription'](_0x4bc9b9,_0x544560[_0x481fbe(0x327)]);let _0x551c27=await this[_0x481fbe(0x6ba)][_0x481fbe(0x75a)](_0x4bc9b9);return _0x551c27[_0x481fbe(0x236)]=[],{'metadata':_0x551c27};}catch(_0x4ffb17){let _0x2f40d8=_0x481fbe(0x209),_0x999b7e=_0x4ffb17 instanceof Error?_0x4ffb17[_0x481fbe(0x740)]:typeof _0x4ffb17=='object'?JSON[_0x481fbe(0x53c)](_0x4ffb17):_0x4ffb17,_0x5429b6=_0x2f40d8+':\x20'+_0x999b7e;throw this[_0x481fbe(0x17b)][_0x481fbe(0x6b3)](this['instanceName']+'\x20('+this[_0x481fbe(0x30d)][_0x481fbe(0x582)]+_0x481fbe(0x377)+_0x5429b6),new x(_0x5429b6);}}async['groupBetterSetting'](_0x58af21){const _0x2a1927=a0_0x40255d;try{if(_0x58af21['restrict']===!0x0&&await this['client'][_0x2a1927(0x355)](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0x27c)),_0x58af21['restrict']===!0x1&&await this[_0x2a1927(0x6ba)][_0x2a1927(0x355)](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0xf6)),_0x58af21[_0x2a1927(0x53e)]===!0x0&&await this['client']['groupSettingUpdate'](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0x462)),_0x58af21['announce']===!0x1&&await this[_0x2a1927(0x6ba)][_0x2a1927(0x355)](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0x205)),_0x58af21[_0x2a1927(0x280)]===!0x0&&await this[_0x2a1927(0x6ba)][_0x2a1927(0x11d)](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0x4db)),_0x58af21[_0x2a1927(0x280)]===!0x1&&await this['client'][_0x2a1927(0x11d)](_0x58af21[_0x2a1927(0xe2)],_0x2a1927(0x519)),_0x58af21[_0x2a1927(0x70c)]===!0x0&&await this['client']['groupJoinApprovalMode'](_0x58af21[_0x2a1927(0xe2)],'on'),_0x58af21[_0x2a1927(0x70c)]===!0x1&&await this[_0x2a1927(0x6ba)][_0x2a1927(0x6cd)](_0x58af21['groupJid'],_0x2a1927(0x6b2)),typeof _0x58af21[_0x2a1927(0x38f)]<'u'&&_0x58af21['expiration']!==null&&await this[_0x2a1927(0x6ba)]['groupToggleEphemeral'](_0x58af21['groupJid'],_0x58af21[_0x2a1927(0x38f)]),_0x58af21['name']&&await this[_0x2a1927(0x6ba)]['groupUpdateSubject'](_0x58af21[_0x2a1927(0xe2)],_0x58af21[_0x2a1927(0x6cc)]),_0x58af21[_0x2a1927(0x327)]&&await this[_0x2a1927(0x6ba)][_0x2a1927(0x754)](_0x58af21['groupJid'],_0x58af21[_0x2a1927(0x327)]),_0x58af21['image']){let _0x386220;if((0x0,L[_0x2a1927(0xe0)])(_0x58af21['image'])){let _0x59957e=new Date()[_0x2a1927(0x33a)](),_0x314557=_0x58af21[_0x2a1927(0x36d)]+_0x2a1927(0x6f7)+_0x59957e;_0x386220=(await te[_0x2a1927(0x437)]['get'](_0x314557,{'responseType':_0x2a1927(0x2f6)}))['data'];}else{if((0x0,L['isBase64'])(_0x58af21[_0x2a1927(0x36d)]))_0x386220=Buffer['from'](_0x58af21[_0x2a1927(0x36d)],_0x2a1927(0x6d3));else throw new m(_0x2a1927(0x822));}await this[_0x2a1927(0x6ba)]['updateProfilePicture'](_0x58af21[_0x2a1927(0xe2)],_0x386220);}return await this['findGroup']({'groupJid':_0x58af21['groupJid']});}catch(_0x36938b){let _0x33b9c6=_0x2a1927(0x32d),_0x3ff360=_0x36938b instanceof Error?_0x36938b['message']:typeof _0x36938b==_0x2a1927(0x480)?JSON[_0x2a1927(0x53c)](_0x36938b):_0x36938b,_0x509c21=_0x33b9c6+':\x20'+_0x3ff360;throw this['logger']['error'](this[_0x2a1927(0x2c6)]+'\x20('+this[_0x2a1927(0x30d)][_0x2a1927(0x582)]+_0x2a1927(0x377)+_0x509c21),new x(_0x509c21);}}async[a0_0x40255d(0x569)](_0x467648){const _0x640c76=a0_0x40255d;try{if(_0x467648['action']===_0x640c76(0x722)||_0x467648['action']===_0x640c76(0x3dd)){let _0x2d9d93=_0x467648['participants'][_0x640c76(0x54b)](_0x2d8829=>this[_0x640c76(0x37d)](_0x2d8829));await this[_0x640c76(0x6ba)][_0x640c76(0x636)](_0x467648[_0x640c76(0xe2)],_0x2d9d93,_0x467648['action']);}else{if(_0x467648[_0x640c76(0x73a)]===_0x640c76(0x482)){let _0x8c13f4=(await this['whatsappNumber']({'numbers':_0x467648[_0x640c76(0x4cb)]}))[_0x640c76(0x750)](_0x4e4b03=>_0x4e4b03['exists'])[_0x640c76(0x54b)](_0x15c542=>this[_0x640c76(0x37d)](_0x15c542[_0x640c76(0x277)]));if(_0x8c13f4[_0x640c76(0x111)]===0x0)throw new m(_0x640c76(0x190));await this[_0x640c76(0x6ba)][_0x640c76(0x4e1)](_0x467648[_0x640c76(0xe2)],_0x8c13f4,_0x640c76(0x482));}else{let _0x4ce2ae=_0x467648['participants'][_0x640c76(0x54b)](_0x9f3f04=>this[_0x640c76(0x37d)](_0x9f3f04));await this[_0x640c76(0x6ba)][_0x640c76(0x4e1)](_0x467648[_0x640c76(0xe2)],_0x4ce2ae,_0x467648['action']);}}return await this[_0x640c76(0x314)]({'groupJid':_0x467648[_0x640c76(0xe2)]});}catch(_0x2aef80){let _0x2266d0=_0x640c76(0x7f0),_0x3a0339=_0x2aef80 instanceof Error?_0x2aef80[_0x640c76(0x740)]:typeof _0x2aef80==_0x640c76(0x480)?JSON[_0x640c76(0x53c)](_0x2aef80):_0x2aef80,_0x605bed=_0x2266d0+':\x20'+_0x3a0339;throw this['logger'][_0x640c76(0x6b3)](this[_0x640c76(0x2c6)]+'\x20('+this['instance'][_0x640c76(0x582)]+'):\x20'+_0x605bed),new m(_0x605bed);}}async['groupGetInviteInfo'](_0x229f5a){const _0x232992=a0_0x40255d;try{return await this[_0x232992(0x6ba)][_0x232992(0x42b)](_0x229f5a['inviteCode']);}catch(_0x3f540e){let _0x1585d8=_0x232992(0x81c),_0x11f22c=_0x3f540e instanceof Error?_0x3f540e[_0x232992(0x740)]:typeof _0x3f540e==_0x232992(0x480)?JSON[_0x232992(0x53c)](_0x3f540e):_0x3f540e,_0x4ea5f7=_0x1585d8+':\x20'+_0x11f22c;throw this[_0x232992(0x17b)][_0x232992(0x6b3)](this[_0x232992(0x2c6)]+'\x20('+this['instance'][_0x232992(0x582)]+_0x232992(0x377)+_0x4ea5f7),new m(_0x4ea5f7);}}async['findGroup'](_0x564644,_0x5d9483=a0_0x40255d(0x325)){const _0x7125f5=a0_0x40255d;try{let _0x468192=await this[_0x7125f5(0x200)][_0x7125f5(0x708)][_0x7125f5(0x73b)]({'where':{'_id':_0x564644[_0x7125f5(0xe2)]}},this[_0x7125f5(0x30d)][_0x7125f5(0x582)]),_0x6e9b47=_0x468192?_0x468192[_0x7125f5(0x76d)]:null,_0x43ceed=0x18*0x3c*0x3c*0x3e8;if(!_0x6e9b47||_0x6e9b47['lastUpdate']&&Date[_0x7125f5(0x15d)]()-_0x6e9b47[_0x7125f5(0x3d2)]>_0x43ceed){let _0xb2f08a=await this[_0x7125f5(0x6ba)][_0x7125f5(0x75a)](_0x564644[_0x7125f5(0xe2)]);if(_0xb2f08a[_0x7125f5(0x387)]=_0xb2f08a?.['subjectTime']&&_0xb2f08a[_0x7125f5(0x387)]['toString']()['length']<0xd?_0xb2f08a?.[_0x7125f5(0x387)]*0x3e8:_0xb2f08a?.[_0x7125f5(0x387)]||null,_0xb2f08a[_0x7125f5(0x819)]=_0xb2f08a?.[_0x7125f5(0x819)]&&_0xb2f08a[_0x7125f5(0x819)][_0x7125f5(0x334)]()[_0x7125f5(0x111)]<0xd?_0xb2f08a?.[_0x7125f5(0x819)]*0x3e8:_0xb2f08a?.[_0x7125f5(0x819)]||null,_0x6e9b47={..._0xb2f08a,'lastUpdate':Date[_0x7125f5(0x15d)]()},!_0xb2f08a)return;}let _0x3685c5=_0x6e9b47[_0x7125f5(0x4cb)]['some'](_0x58aae3=>_0x58aae3['id']===this[_0x7125f5(0x30d)][_0x7125f5(0x582)]+_0x7125f5(0x226)&&_0x58aae3[_0x7125f5(0x11b)]!=null);!_0x6e9b47[_0x7125f5(0x67d)]&&_0x3685c5&&(_0x6e9b47[_0x7125f5(0x67d)]=(await this[_0x7125f5(0x67d)](_0x564644,!0x1))[_0x7125f5(0x16d)]);let _0x57809c=(!_0x6e9b47['announce']||_0x3685c5)&&(!_0x6e9b47[_0x7125f5(0x5bf)]||_0x6e9b47[_0x7125f5(0x5bf)]&&_0x6e9b47[_0x7125f5(0x383)]&&_0x3685c5);_0x6e9b47[_0x7125f5(0x3c4)]=_0x3685c5,_0x6e9b47[_0x7125f5(0x559)]=_0x57809c;let _0x223a26=[];if(_0x3685c5&&_0x6e9b47[_0x7125f5(0x70c)])try{_0x223a26=await this['client'][_0x7125f5(0x5a2)](_0x564644['groupJid']),_0x6e9b47[_0x7125f5(0x13f)]=Date['now']();}catch(_0x2d2cd3){this[_0x7125f5(0x17b)][_0x7125f5(0x5ab)](this[_0x7125f5(0x2c6)]+'\x20('+this[_0x7125f5(0x30d)][_0x7125f5(0x582)]+_0x7125f5(0x60c)+_0x564644[_0x7125f5(0xe2)]+':\x20'+(_0x2d2cd3 instanceof Error?_0x2d2cd3['message']:JSON[_0x7125f5(0x53c)](_0x2d2cd3,null,0x2)));}try{_0x6e9b47[_0x7125f5(0x36d)]=(await this[_0x7125f5(0x73e)](_0x564644['groupJid'],null,!0x0))[_0x7125f5(0x574)][_0x7125f5(0x1af)];}catch(_0x46d9f2){this[_0x7125f5(0x17b)][_0x7125f5(0x5ab)](this[_0x7125f5(0x2c6)]+'\x20('+this[_0x7125f5(0x30d)][_0x7125f5(0x582)]+_0x7125f5(0x4a7)+_0x564644[_0x7125f5(0xe2)]+':\x20'+(_0x46d9f2 instanceof Error?_0x46d9f2['message']:JSON[_0x7125f5(0x53c)](_0x46d9f2,null,0x2)));}let _0x1ae7ef=_0x6e9b47[_0x7125f5(0x4cb)][_0x7125f5(0x54b)](_0x270e66=>_0x270e66['id']),_0x1ab5b6=_0x223a26[_0x7125f5(0x54b)](_0x1409c2=>_0x1409c2['jid']),_0xfeed9c=await this['repository']['cacheContact']['findManyByIds']([..._0x1ae7ef,..._0x1ab5b6]);_0x6e9b47[_0x7125f5(0x4cb)]=_0x6e9b47[_0x7125f5(0x4cb)][_0x7125f5(0x54b)](_0x13855e=>{const _0x57866a=_0x7125f5;let _0x26f70e=_0xfeed9c[_0x57866a(0x284)](_0x38c627=>_0x38c627[_0x57866a(0x3ba)]===_0x13855e['id']);return{'id':_0x13855e['id'],'isAdmin':[_0x57866a(0x11b),_0x57866a(0x282)][_0x57866a(0x5a1)](_0x13855e[_0x57866a(0x11b)]),'admin':_0x13855e[_0x57866a(0x11b)],'pushName':_0x26f70e?.['name'],'profilePictureUrl':_0x26f70e?.[_0x57866a(0x1af)]};}),_0x6e9b47['awaitingApproval']=_0x223a26[_0x7125f5(0x54b)](_0x4e287e=>{const _0x3601fe=_0x7125f5;let _0x304f9b=_0xfeed9c['find'](_0x5a1e86=>_0x5a1e86[_0x3601fe(0x3ba)]===_0x4e287e[_0x3601fe(0x277)]);return{'id':_0x4e287e['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x304f9b?.[_0x3601fe(0x6cc)],'profilePictureUrl':_0x304f9b?.[_0x3601fe(0x1af)],'request_method':_0x4e287e[_0x3601fe(0x7b2)],'request_time':_0x4e287e[_0x3601fe(0x1fa)]};});let _0x539c8=await this[_0x7125f5(0x200)][_0x7125f5(0x708)]['updateOne']({'where':{'_id':_0x564644[_0x7125f5(0xe2)]}},{'imagechat':_0x6e9b47['image'],'name':_0x6e9b47[_0x7125f5(0x7a1)],'lastcache':Date['now'](),'groupdata':_0x6e9b47},this[_0x7125f5(0x30d)]['wuid']);return q(this[_0x7125f5(0x2c6)],_0x7125f5(0x130),{'chat':_0x539c8}),{'metadata':_0x6e9b47};}catch(_0x371ea8){if(_0x5d9483===_0x7125f5(0x5dd))return;throw new J(_0x7125f5(0x4f5),_0x371ea8[_0x7125f5(0x740)][_0x7125f5(0x334)]());}}async[a0_0x40255d(0x291)](){const _0xec3299=a0_0x40255d;try{this['logger'][_0xec3299(0x58f)](_0xec3299(0x566));let _0x4e7a90=Date[_0xec3299(0x15d)](),_0x3c5f68=0x3*0x3c*0x3c*0x3e8;return _0x4e7a90-this[_0xec3299(0x14e)]>_0x3c5f68&&(this[_0xec3299(0x7d1)](),this['lastRealGroupsFetch']=_0x4e7a90),(await this[_0xec3299(0x200)][_0xec3299(0x708)][_0xec3299(0x59d)]({'where':{'group':!0x0}},this[_0xec3299(0x30d)][_0xec3299(0x582)]))['map'](_0x450496=>({..._0x450496[_0xec3299(0x76d)],'groupJid':_0x450496?.[_0xec3299(0x3ba)],'participants':_0x450496?.['groupdata']?.[_0xec3299(0x4cb)]||[],'awaitingApproval':_0x450496?.[_0xec3299(0x76d)]?.[_0xec3299(0x236)]||[],'image':_0x450496?.[_0xec3299(0x76f)]}));}catch(_0x3fb936){let _0xfb5ac9='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x3ceef0=_0x3fb936 instanceof Error?_0x3fb936['message']:typeof _0x3fb936==_0xec3299(0x480)?JSON['stringify'](_0x3fb936):_0x3fb936,_0x362ded=_0xfb5ac9+':\x20'+_0x3ceef0;throw this[_0xec3299(0x17b)][_0xec3299(0x6b3)](this[_0xec3299(0x2c6)]+'\x20('+this[_0xec3299(0x30d)]['wuid']+_0xec3299(0x377)+_0x362ded),new J(_0x362ded);}}async[a0_0x40255d(0x7d1)](){const _0x1b329b=a0_0x40255d;try{this['logger'][_0x1b329b(0x58f)](_0x1b329b(0x58e));let _0x33c9c2=[],_0x5e5dff=await this[_0x1b329b(0x6ba)][_0x1b329b(0x225)](),_0x48dd7c=Object['values'](_0x5e5dff),_0x3ecf0e=_0x48dd7c[_0x1b329b(0x750)](_0x369943=>(0x0,w['isJidGroup'])(_0x369943?.['id']))[_0x1b329b(0x54b)](async _0x111bb0=>{const _0xbd1a2b=_0x1b329b;try{return await this[_0xbd1a2b(0x6ba)][_0xbd1a2b(0x48e)](_0x111bb0['id'],_0xbd1a2b(0x183));}catch(_0x57e2ce){return this[_0xbd1a2b(0x17b)][_0xbd1a2b(0x5ab)](this[_0xbd1a2b(0x2c6)]+'\x20('+this[_0xbd1a2b(0x30d)][_0xbd1a2b(0x582)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x111bb0['id']+':\x20'+(_0x57e2ce instanceof Error?_0x57e2ce[_0xbd1a2b(0x740)]:JSON[_0xbd1a2b(0x53c)](_0x57e2ce,null,0x2))),null;}}),_0x92fd1=await Promise['all'](_0x3ecf0e);for(let _0x30ffdd=0x0;_0x30ffdd<_0x48dd7c[_0x1b329b(0x111)];_0x30ffdd++){let _0x435e8a=_0x48dd7c[_0x30ffdd];(0x0,w[_0x1b329b(0x391)])(_0x435e8a?.['id'])&&(_0x33c9c2['push']({'groupJid':_0x435e8a?.['id'],'subject':_0x435e8a?.['subject'],'subjectOwner':_0x435e8a?.['subjectOwner']?.[_0x1b329b(0x6ce)]('@')[0x0],'subjectTime':_0x435e8a?.[_0x1b329b(0x387)],'creation':_0x435e8a?.[_0x1b329b(0x819)],'size':_0x435e8a?.['participants']?.['length'],'owner':_0x435e8a?.['owner']?.[_0x1b329b(0x6ce)]('@')[0x0],'desc':_0x435e8a?.[_0x1b329b(0x39d)],'restrict':_0x435e8a?.[_0x1b329b(0x5dc)],'announce':_0x435e8a?.[_0x1b329b(0x53e)],'image':_0x92fd1[_0x30ffdd],'isCommunity':_0x435e8a?.[_0x1b329b(0x5bf)],'joinApprovalMode':_0x435e8a?.[_0x1b329b(0x70c)],'memberCanAddParticipant':_0x435e8a?.[_0x1b329b(0x280)],'participants':_0x435e8a?.[_0x1b329b(0x4cb)],'descOwner':_0x435e8a?.[_0x1b329b(0x64f)],'descId':_0x435e8a?.[_0x1b329b(0x4d9)],'memberAddMode':_0x435e8a?.[_0x1b329b(0x280)],'isCommunityAnnounce':_0x435e8a?.['isCommunityAnnounce'],'ephemeralDuration':_0x435e8a?.[_0x1b329b(0x5ad)]||0x0,'author':_0x435e8a?.[_0x1b329b(0x72e)]}),this['updateChatGroupData'](_0x48dd7c[_0x30ffdd]));}return _0x33c9c2;}catch(_0x5eeef8){let _0x2ae9c3=_0x1b329b(0x3b7),_0x2d8429=_0x5eeef8 instanceof Error?_0x5eeef8[_0x1b329b(0x740)]:typeof _0x5eeef8==_0x1b329b(0x480)?JSON[_0x1b329b(0x53c)](_0x5eeef8):_0x5eeef8,_0x30997d=_0x2ae9c3+':\x20'+_0x2d8429;throw this[_0x1b329b(0x17b)][_0x1b329b(0x6b3)](this[_0x1b329b(0x2c6)]+'\x20('+this[_0x1b329b(0x30d)][_0x1b329b(0x582)]+_0x1b329b(0x377)+_0x30997d),new J(_0x30997d);}}async[a0_0x40255d(0x5df)](_0x52b2b3){const _0xedb107=a0_0x40255d;let _0x1d88d1=await this['repository'][_0xedb107(0x708)][_0xedb107(0x73b)]({'where':{'_id':_0x52b2b3['id']}},this[_0xedb107(0x30d)][_0xedb107(0x582)]);_0x52b2b3[_0xedb107(0x387)]=_0x52b2b3?.['subjectTime']&&_0x52b2b3[_0xedb107(0x387)]['toString']()[_0xedb107(0x111)]<0xd?_0x52b2b3?.[_0xedb107(0x387)]*0x3e8:_0x52b2b3?.['subjectTime']||null,_0x52b2b3[_0xedb107(0x819)]=_0x52b2b3?.[_0xedb107(0x819)]&&_0x52b2b3['creation'][_0xedb107(0x334)]()['length']<0xd?_0x52b2b3?.[_0xedb107(0x819)]*0x3e8:_0x52b2b3?.[_0xedb107(0x819)]||null;let _0x1e7ec4=_0x1d88d1?.[_0xedb107(0x76d)]?.['awaitingApproval']||[],_0x44af73=_0x1d88d1?.[_0xedb107(0x76d)]?.[_0xedb107(0x13f)],_0xb4bad1=_0x52b2b3['participants'][_0xedb107(0x54b)](_0x584e40=>{const _0x3da4fa=_0xedb107;let _0x52fed6=_0x1d88d1?.[_0x3da4fa(0x76d)]?.['participants'][_0x3da4fa(0x284)](_0x454bd9=>_0x454bd9['id']===_0x584e40['id']);return{..._0x584e40,'isAdmin':[_0x3da4fa(0x11b),'superadmin'][_0x3da4fa(0x5a1)](_0x584e40['admin']),'admin':_0x584e40[_0x3da4fa(0x11b)],'name':_0x52fed6?.[_0x3da4fa(0x6cc)]||_0x584e40['name'],'imgUrl':_0x52fed6?.[_0x3da4fa(0x4ac)]||_0x584e40[_0x3da4fa(0x4ac)]};}),_0x45585d=_0xb4bad1[_0xedb107(0x5fc)](_0x836223=>_0x836223['id']===this[_0xedb107(0x30d)][_0xedb107(0x582)]+'@s.whatsapp.net'&&_0x836223[_0xedb107(0x3c4)]),_0x4261e3=(!_0x52b2b3[_0xedb107(0x53e)]||_0x45585d)&&(!_0x52b2b3[_0xedb107(0x5bf)]||_0x52b2b3[_0xedb107(0x5bf)]&&_0x52b2b3[_0xedb107(0x383)]&&_0x45585d),_0xdcbfc7={..._0x52b2b3,'participants':_0xb4bad1,'awaitingApproval':_0x1e7ec4,'lastFetchAwaitingApproval':_0x44af73,'isAdmin':_0x45585d,'canSendMessage':_0x4261e3,'lastUpdate':Date['now']()};await this[_0xedb107(0x200)][_0xedb107(0x708)]['updateOne']({'where':{'_id':_0x52b2b3['id']}},{'name':_0x52b2b3[_0xedb107(0x7a1)],'group':!0x0,'groupdata':_0xdcbfc7,'lastcache':Date['now']()},this[_0xedb107(0x30d)][_0xedb107(0x582)]),q(this[_0xedb107(0x2c6)],_0xedb107(0x130),{'chat':_0x52b2b3});}async['updateGroupWebhook'](_0x470495){const _0x422e55=a0_0x40255d;let _0x156114=await this[_0x422e55(0x200)][_0x422e55(0x708)]['findOne']({'where':{'_id':_0x470495['id']}},this[_0x422e55(0x30d)][_0x422e55(0x582)]);_0x470495[_0x422e55(0x387)]=_0x470495?.[_0x422e55(0x387)]&&_0x470495[_0x422e55(0x387)][_0x422e55(0x334)]()[_0x422e55(0x111)]<0xd?_0x470495?.[_0x422e55(0x387)]*0x3e8:_0x470495?.['subjectTime']||null,_0x470495['creation']=_0x470495?.['creation']&&_0x470495[_0x422e55(0x819)][_0x422e55(0x334)]()[_0x422e55(0x111)]<0xd?_0x470495?.['creation']*0x3e8:_0x470495?.[_0x422e55(0x819)]||null,_0x470495[_0x422e55(0x67d)]&&(_0x470495[_0x422e55(0x67d)]=_0x422e55(0x31a)+_0x470495[_0x422e55(0x67d)]);let _0x49e1d6=_0x156114?.[_0x422e55(0x76d)]?{..._0x156114[_0x422e55(0x76d)]}:{};Object[_0x422e55(0x702)](_0x470495)[_0x422e55(0x659)](_0x40fc30=>{_0x40fc30!=='id'&&(_0x49e1d6[_0x40fc30]=_0x470495[_0x40fc30]);});let _0x594484=_0x49e1d6['participants']?.[_0x422e55(0x5fc)](_0x1e7575=>_0x1e7575['id']===this[_0x422e55(0x30d)][_0x422e55(0x582)]+_0x422e55(0x226)&&_0x1e7575[_0x422e55(0x3c4)])||!0x1;_0x49e1d6['isAdmin']=_0x594484;let _0x17a4bc=(!_0x49e1d6[_0x422e55(0x53e)]||_0x594484)&&(!_0x49e1d6[_0x422e55(0x5bf)]||_0x49e1d6[_0x422e55(0x5bf)]&&_0x49e1d6[_0x422e55(0x383)]&&_0x594484);_0x49e1d6[_0x422e55(0x559)]=_0x17a4bc;let _0x2d35ec={'group':!0x0,'groupdata':_0x49e1d6};_0x470495[_0x422e55(0x7a1)]&&(_0x2d35ec[_0x422e55(0x6cc)]=_0x470495['subject']),await this[_0x422e55(0x200)][_0x422e55(0x708)]['updateOne']({'where':{'_id':_0x470495['id']}},_0x2d35ec,this['instance'][_0x422e55(0x582)],{'upsert':!0x0}),q(this[_0x422e55(0x2c6)],_0x422e55(0x130),{'chat':_0x2d35ec});}async['updateGroupParticipantsWebhook'](_0x52e8b0){const _0x38afba=a0_0x40255d;let _0x4ee894=await this['repository'][_0x38afba(0x708)][_0x38afba(0x73b)]({'where':{'_id':_0x52e8b0['id']}},this['instance'][_0x38afba(0x582)]);if(!_0x4ee894||!_0x4ee894[_0x38afba(0x76d)]){this[_0x38afba(0x17b)][_0x38afba(0x58f)](this[_0x38afba(0x2c6)]+'\x20('+this['instance'][_0x38afba(0x582)]+_0x38afba(0x74e)+_0x52e8b0['id']);return;}let _0xa6c33e=await this['repository']['cacheContact']['findManyByIds'](_0x52e8b0[_0x38afba(0x4cb)]),_0x205983=[..._0x4ee894[_0x38afba(0x76d)]?.['participants']];switch(_0x52e8b0[_0x38afba(0x73a)]){case'add':let _0x2139af=_0xa6c33e['map'](_0x2a7abc=>({'id':_0x2a7abc[_0x38afba(0x3ba)],'isAdmin':!0x1,'name':_0x2a7abc['name'],'imgUrl':_0x2a7abc[_0x38afba(0x1af)]}));_0x205983=[..._0x205983,..._0x2139af];break;case _0x38afba(0x792):_0x205983=_0x205983[_0x38afba(0x750)](_0x25d920=>!_0x52e8b0[_0x38afba(0x4cb)]['includes'](_0x25d920['id']));break;case _0x38afba(0x71f):case _0x38afba(0x331):_0x205983=_0x205983[_0x38afba(0x54b)](_0xe57e19=>_0x52e8b0[_0x38afba(0x4cb)]['includes'](_0xe57e19['id'])?{..._0xe57e19,'isAdmin':_0x52e8b0['action']===_0x38afba(0x71f)}:_0xe57e19);break;}let _0x1f8379=_0x205983[_0x38afba(0x111)],_0x3f8243=_0x205983[_0x38afba(0x5fc)](_0x1c6186=>_0x1c6186['id']===this['instance'][_0x38afba(0x582)]+_0x38afba(0x226)),_0x535432=_0x3f8243&&_0x205983[_0x38afba(0x5fc)](_0x2532e7=>_0x2532e7['id']===this[_0x38afba(0x30d)]['wuid']+_0x38afba(0x226)&&_0x2532e7[_0x38afba(0x3c4)]),_0x25f86f=_0x3f8243&&(!_0x4ee894[_0x38afba(0x76d)][_0x38afba(0x53e)]||_0x535432)&&(!_0x4ee894[_0x38afba(0x76d)][_0x38afba(0x5bf)]||_0x4ee894[_0x38afba(0x76d)]['isCommunity']&&_0x535432);await this['repository'][_0x38afba(0x708)][_0x38afba(0x72d)]({'where':{'_id':_0x52e8b0['id']}},{'groupdata':{..._0x4ee894[_0x38afba(0x76d)],'participants':_0x205983,'size':_0x1f8379,'isAdmin':_0x535432,'canSendMessage':_0x25f86f}},this[_0x38afba(0x30d)][_0x38afba(0x582)]),this[_0x38afba(0x17b)][_0x38afba(0x58f)](this[_0x38afba(0x2c6)]+'\x20('+this['instance'][_0x38afba(0x582)]+_0x38afba(0x406)+_0x52e8b0['id']+_0x38afba(0x7ae)+_0x52e8b0['action']+_0x38afba(0x7dd)+_0x1f8379+_0x38afba(0x554)+_0x535432+_0x38afba(0x3d6)+_0x25f86f);}async[a0_0x40255d(0x67d)](_0x2ab470,_0x336356=!0x0){const _0x12df9a=a0_0x40255d;try{let _0xfe4dd1=await this[_0x12df9a(0x6ba)][_0x12df9a(0x626)](_0x2ab470[_0x12df9a(0xe2)]),_0x1bf762={'groupdata.inviteCode':_0x12df9a(0x31a)+_0xfe4dd1};if(_0x336356){let _0x37217f=await this[_0x12df9a(0x200)][_0x12df9a(0x708)]['updateOne']({'where':{'_id':_0x2ab470[_0x12df9a(0xe2)]}},_0x1bf762,this[_0x12df9a(0x30d)][_0x12df9a(0x582)]);}return{'inviteUrl':_0x12df9a(0x31a)+_0xfe4dd1,'inviteCode':_0xfe4dd1};}catch(_0x2dbe42){let _0x3e20c2=_0x12df9a(0x490),_0x19bdc7=_0x2dbe42 instanceof Error?_0x2dbe42[_0x12df9a(0x740)]:typeof _0x2dbe42==_0x12df9a(0x480)?JSON[_0x12df9a(0x53c)](_0x2dbe42):_0x2dbe42,_0x50aec0=_0x3e20c2+':\x20'+_0x19bdc7;throw this[_0x12df9a(0x17b)]['error'](this[_0x12df9a(0x2c6)]+'\x20('+this[_0x12df9a(0x30d)][_0x12df9a(0x582)]+_0x12df9a(0x377)+_0x50aec0),new J(_0x50aec0);}}async[a0_0x40255d(0x665)](_0x473db4){const _0xa1f95f=a0_0x40255d;try{let _0x3c7d65=await this[_0xa1f95f(0x6ba)][_0xa1f95f(0x466)](_0x473db4['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x3c7d65,'inviteCode':_0x3c7d65};}catch(_0x2056c8){let _0x2f005f=_0xa1f95f(0x119),_0x34823c=_0x2056c8 instanceof Error?_0x2056c8[_0xa1f95f(0x740)]:typeof _0x2056c8==_0xa1f95f(0x480)?JSON[_0xa1f95f(0x53c)](_0x2056c8):_0x2056c8,_0x20b48a=_0x2f005f+':\x20'+_0x34823c;throw this[_0xa1f95f(0x17b)][_0xa1f95f(0x6b3)](this['instanceName']+'\x20('+this[_0xa1f95f(0x30d)]['wuid']+'):\x20'+_0x20b48a),new J(_0x20b48a);}}async[a0_0x40255d(0x1db)](_0x50e537){const _0x1c38fd=a0_0x40255d;try{if((0x0,L[_0x1c38fd(0xe0)])(_0x50e537[_0x1c38fd(0x67d)]))var _0x4ac3a9=_0x50e537[_0x1c38fd(0x67d)]['split']('/')[0x3];else var _0x4ac3a9=_0x50e537[_0x1c38fd(0x67d)];let _0x225d8a=await this['client'][_0x1c38fd(0x1ac)](_0x4ac3a9);return this['logger'][_0x1c38fd(0x5ab)](this[_0x1c38fd(0x2c6)]+'\x20('+this['instance'][_0x1c38fd(0x582)]+'):\x20'+_0x225d8a),{'join':!0x0,'inviteCode':_0x4ac3a9,'groupJid':_0x225d8a};}catch(_0x499dbc){let _0x30cdc3=_0x1c38fd(0x371),_0x35094c=_0x499dbc instanceof Error?_0x499dbc[_0x1c38fd(0x740)]:typeof _0x499dbc==_0x1c38fd(0x480)?JSON['stringify'](_0x499dbc):_0x499dbc,_0x31c0d4=_0x30cdc3+':\x20'+_0x35094c;throw this[_0x1c38fd(0x17b)][_0x1c38fd(0x6b3)](this[_0x1c38fd(0x2c6)]+'\x20('+this['instance'][_0x1c38fd(0x582)]+_0x1c38fd(0x377)+_0x31c0d4),new J(_0x31c0d4);}}async[a0_0x40255d(0x48d)](_0x4cff2f){const _0xe30485=a0_0x40255d;try{return{'participants':(await this[_0xe30485(0x200)][_0xe30485(0x708)][_0xe30485(0x73b)]({'where':{'_id':_0x4cff2f['groupJid']}},this[_0xe30485(0x30d)][_0xe30485(0x582)]))['groupdata'][_0xe30485(0x4cb)]};}catch(_0x311b53){let _0x575b90=_0xe30485(0x216),_0x46b4e0=_0x311b53 instanceof Error?_0x311b53[_0xe30485(0x740)]:typeof _0x311b53==_0xe30485(0x480)?JSON[_0xe30485(0x53c)](_0x311b53):_0x311b53,_0x2d92df=_0x575b90+':\x20'+_0x46b4e0;throw this[_0xe30485(0x17b)][_0xe30485(0x6b3)](this[_0xe30485(0x2c6)]+'\x20('+this[_0xe30485(0x30d)][_0xe30485(0x582)]+_0xe30485(0x377)+_0x2d92df),new J(_0x2d92df);}}async[a0_0x40255d(0x182)](_0x21f423){const _0x579ee5=a0_0x40255d;try{return await this['client'][_0x579ee5(0x3d0)](_0x21f423[_0x579ee5(0xe2)]),{'groupJid':_0x21f423[_0x579ee5(0xe2)],'leave':!0x0};}catch(_0x4f2291){let _0x2fbfc2=_0x579ee5(0x609),_0x4c5de3=_0x4f2291 instanceof Error?_0x4f2291[_0x579ee5(0x740)]:typeof _0x4f2291==_0x579ee5(0x480)?JSON[_0x579ee5(0x53c)](_0x4f2291):_0x4f2291,_0xd1263a=_0x2fbfc2+':\x20'+_0x4c5de3;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x579ee5(0x30d)][_0x579ee5(0x582)]+'):\x20'+_0xd1263a),new m(_0xd1263a);}}async[a0_0x40255d(0x32e)](_0x56fcb3){const _0x15ad48=a0_0x40255d;return await this[_0x15ad48(0x51e)](_0x56fcb3[_0x15ad48(0x21f)],{'poll':{'name':_0x56fcb3[_0x15ad48(0x32e)]?.[_0x15ad48(0x6cc)],'selectableCount':_0x56fcb3[_0x15ad48(0x32e)][_0x15ad48(0x46f)],'values':_0x56fcb3[_0x15ad48(0x32e)][_0x15ad48(0x698)]}},_0x56fcb3?.[_0x15ad48(0x332)]);}async[a0_0x40255d(0x273)](_0x16ff0b){const _0x304d20=a0_0x40255d;return await this[_0x304d20(0x51e)](_0x16ff0b[_0x304d20(0x21f)],{'listMessage':{'title':_0x16ff0b[_0x304d20(0x273)][_0x304d20(0x254)],'description':_0x16ff0b[_0x304d20(0x273)]['description'],'buttonText':_0x16ff0b['listMessage']?.[_0x304d20(0x3e6)],'footerText':_0x16ff0b[_0x304d20(0x273)]?.[_0x304d20(0x6e4)],'sections':_0x16ff0b[_0x304d20(0x273)][_0x304d20(0x5a5)],'listType':0x2}},_0x16ff0b?.[_0x304d20(0x332)]);}async[a0_0x40255d(0x7cc)](_0x58637b){const _0x345863=a0_0x40255d;let _0x2f3793;if(_0x58637b['menuMessage'][_0x345863(0x3fa)]===_0x345863(0x11c)){let _0x2fafda=_0x58637b[_0x345863(0x7cc)]['text']['indexOf']('\x0a'),_0x936b77='',_0x5bd6ed='';_0x2fafda!==-0x1?(_0x936b77=_0x58637b[_0x345863(0x7cc)]['text'][_0x345863(0x411)](0x0,_0x2fafda)[_0x345863(0x339)](),_0x5bd6ed=_0x58637b['menuMessage'][_0x345863(0x6ed)][_0x345863(0x411)](_0x2fafda+0x1)):_0x5bd6ed=_0x58637b[_0x345863(0x7cc)]['text'];let _0x1065a3=_0x58637b['menuMessage'][_0x345863(0x527)]['filter'](_0x44c990=>_0x44c990[_0x345863(0x339)]()!==''),_0x267af2=this[_0x345863(0x31f)](_0x1065a3);_0x2f3793={'listMessage':{'title':_0x936b77,'description':_0x5bd6ed,'buttonText':_0x58637b[_0x345863(0x7cc)]['buttonText']||_0x345863(0x674),'footerText':_0x58637b[_0x345863(0x7cc)][_0x345863(0x6e4)],'sections':_0x267af2,'listType':0x2}};}else{if(_0x58637b[_0x345863(0x7cc)][_0x345863(0x3fa)]===_0x345863(0x66e)){let _0x2f7d10=_0x58637b[_0x345863(0x7cc)][_0x345863(0x527)]['filter'](_0x5f564c=>!(_0x5f564c[_0x345863(0x2bf)]('[')&&_0x5f564c[_0x345863(0x50b)](']'))&&_0x5f564c[_0x345863(0x339)]()!=='')[_0x345863(0x54b)](_0x593a53=>_0x593a53['split']('\x0a')[0x0]);_0x2f3793={'poll':{'name':_0x58637b['menuMessage'][_0x345863(0x6ed)],'selectableCount':_0x58637b[_0x345863(0x7cc)]['selectableCount']||0x1,'values':_0x2f7d10}};}}return await this[_0x345863(0x51e)](_0x58637b[_0x345863(0x21f)],_0x2f3793,_0x58637b?.[_0x345863(0x332)]);}[a0_0x40255d(0x31f)](_0x1fdc81){const _0x3735f8=a0_0x40255d;let _0x5679f7=[],_0x10e345={'rows':[]};return _0x1fdc81[_0x3735f8(0x659)](_0x261d4c=>{const _0x3377aa=_0x3735f8;if(_0x261d4c[_0x3377aa(0x2bf)]('[')&&_0x261d4c[_0x3377aa(0x50b)](']'))_0x10e345[_0x3377aa(0x55a)][_0x3377aa(0x111)]>0x0&&_0x5679f7['push'](_0x10e345),_0x10e345={'title':_0x261d4c[_0x3377aa(0x7d8)](0x1,-0x1),'rows':[]};else{let _0x31b5ea=_0x261d4c[_0x3377aa(0x6ce)]('\x0a')[_0x3377aa(0x54b)](_0x416989=>_0x416989[_0x3377aa(0x339)]()),_0x5435f5=_0x31b5ea[0x0],_0xf955d5=_0x31b5ea[0x1]||null,_0x3c6d31=_0x31b5ea[0x2]||_0x5435f5;_0x10e345[_0x3377aa(0x55a)]['push']({'title':_0x5435f5,'description':_0xf955d5,'rowId':_0x3c6d31});}}),_0x10e345[_0x3735f8(0x55a)][_0x3735f8(0x111)]>0x0&&_0x5679f7['push'](_0x10e345),_0x5679f7;}async[a0_0x40255d(0x4b3)](_0x3b343f,_0x71eaf2){const _0xe5aaa3=a0_0x40255d;if(await this[_0xe5aaa3(0x78d)](_0x3b343f,!0x0)){let _0x221025={'where':{'_id':_0x3b343f['id']}},_0x4d2029={'status':[_0x71eaf2[_0xe5aaa3(0x784)]][0x0]};try{let _0xd0013e=await this[_0xe5aaa3(0x200)]['message'][_0xe5aaa3(0x2d3)](_0x221025,_0x4d2029,this['instance']['wuid']);_0xd0013e&&q(this['instanceName'],_0xe5aaa3(0x290),{'message':_0xd0013e});}catch{}}}[a0_0x40255d(0x395)](_0x1da45b){const _0x160a50=a0_0x40255d;let _0xc9068f=[];return _0x1da45b[_0x160a50(0x659)](_0x11c047=>{const _0x451ab0=_0x160a50;_0x11c047[_0x451ab0(0x254)]&&_0xc9068f['push']('['+_0x11c047[_0x451ab0(0x254)]+']'),_0x11c047[_0x451ab0(0x55a)]['forEach'](_0x5e2226=>{const _0x49c228=_0x451ab0;_0xc9068f['push'](_0x5e2226[_0x49c228(0x254)]);});}),_0xc9068f[_0x160a50(0x12c)]('|');}['formatVCard'](_0x5ce17d){const _0x3a3d38=a0_0x40255d;let _0x5391eb=_0x5ce17d[_0x3a3d38(0x362)](/\\n/g,'\x0a')[_0x3a3d38(0x6ce)]('\x0a')['filter'](_0x64d746=>_0x64d746[_0x3a3d38(0x5a1)](_0x3a3d38(0x607))||_0x64d746['includes'](_0x3a3d38(0x6d9))),_0x15b64a='';return _0x5391eb[_0x3a3d38(0x659)](_0x161b88=>{const _0x3e92b4=_0x3a3d38;let _0x46f03b=/TEL(?:.*):(.+)/,_0x5a0c71=/EMAIL(?:.*):(.+)/,_0x3f2e31=_0x161b88[_0x3e92b4(0x28e)](_0x46f03b),_0x4d7ded=_0x161b88[_0x3e92b4(0x28e)](_0x5a0c71);if(_0x3f2e31){let _0x1452ad=_0x3f2e31[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x3e92b4(0x339)]();_0x15b64a+=_0x3e92b4(0x668)+_0x1452ad+'\x0a';}else{if(_0x4d7ded){let _0xe2461f=_0x4d7ded[0x1][_0x3e92b4(0x339)]();_0x15b64a+=_0x3e92b4(0x500)+_0xe2461f+'\x0a';}}}),_0x15b64a[_0x3a3d38(0x339)]();}async[a0_0x40255d(0x253)](_0x11555f,_0x4fa01c,_0x3c14f3,_0x4e4a55=null){const _0x96b2a0=a0_0x40255d;if(_0x11555f[_0x96b2a0(0x1ef)])try{let _0x534882=_0x4fa01c['key']['remoteJid'][_0x96b2a0(0x362)](/:\d{1,2}@/g,'@'),_0x27b5df=_0x4fa01c[_0x96b2a0(0x713)][_0x96b2a0(0x363)],_0x32ae28=_0x534882[_0x96b2a0(0x50b)](_0x96b2a0(0x68c)),_0xc29649=_0x4fa01c[_0x96b2a0(0x65f)]?.[_0x96b2a0(0x362)](/:\d{1,2}@/g,'@')||'',_0x5c538d=_0x4fa01c[_0x96b2a0(0x6c0)]?.[_0x96b2a0(0x6ed)]||_0x4fa01c[_0x96b2a0(0x6c0)]?.[_0x96b2a0(0x476)]||_0x4fa01c[_0x96b2a0(0x6c0)]?.['vote']||_0x4fa01c[_0x96b2a0(0x6c0)]?.[_0x96b2a0(0x6cc)]||'',_0x3b4ef6={'_id':_0x4fa01c['_id'],'remoteJid':_0x27b5df?this[_0x96b2a0(0x30d)]['wuid']:_0x32ae28?_0xc29649:_0x534882,'pushName':_0x27b5df?this[_0x96b2a0(0x30d)][_0x96b2a0(0x170)]||'Eu':_0x4fa01c[_0x96b2a0(0x1b8)],'text':_0x5c538d,'type':_0x4fa01c['messageType'],'when':_0x4fa01c[_0x96b2a0(0x4ea)]||Date[_0x96b2a0(0x15d)]()};_0x4e4a55||(_0x4e4a55=await this[_0x96b2a0(0x200)]['chat'][_0x96b2a0(0x73b)]({'where':{'_id':_0x534882}},this['instance'][_0x96b2a0(0x582)]));let _0x29869b=_0x4e4a55?_0x27b5df?_0x4e4a55[_0x96b2a0(0x7b1)]:(_0x4e4a55[_0x96b2a0(0x7b1)]||0x0)+0x1:_0x27b5df?0x0:0x1,_0xffe323={'lastmsg':_0x4fa01c[_0x96b2a0(0x4ea)]||Date[_0x96b2a0(0x15d)](),'ephemeralExpiration':_0x4fa01c[_0x96b2a0(0x38f)],'lastMessage':_0x3b4ef6,'unreadcount':_0x29869b,..._0x27b5df||_0x32ae28?{}:{'name':_0x4fa01c[_0x96b2a0(0x1b8)]},..._0x32ae28?{'group':_0x32ae28}:{},...!_0x27b5df&&!_0x32ae28&&_0x4fa01c[_0x96b2a0(0x48e)]?{'imagechat':_0x4fa01c[_0x96b2a0(0x48e)]}:{}};if(!_0x32ae28&&(!_0x4e4a55?.[_0x96b2a0(0x31b)]||!_0x4e4a55[_0x96b2a0(0x31b)][_0x96b2a0(0x37c)])&&_0x4fa01c['pushName']&&!_0x27b5df&&(_0xffe323={..._0xffe323,'leadInfo.nome':_0x4fa01c[_0x96b2a0(0x1b8)]}),_0x4e4a55?.['leadInfo'][_0x96b2a0(0xee)]||(_0xffe323={..._0xffe323,'leadInfo.etiquetas':[]}),_0x4e4a55?.[_0x96b2a0(0x31b)]['customFields']||(_0xffe323={..._0xffe323,'leadInfo.customFields':[]}),_0x4e4a55?.[_0x96b2a0(0x31b)][_0x96b2a0(0x23f)]||(_0xffe323={..._0xffe323,'leadInfo.tags':[]}),_0x4e4a55&&_0x4e4a55?.[_0x96b2a0(0x45f)]){let _0x145516=await this[_0x96b2a0(0x200)]['label'][_0x96b2a0(0x284)]({'where':{}},this['instance'][_0x96b2a0(0x582)]),_0x1253e1=new Set(_0x145516['map'](_0x5b8e3b=>_0x5b8e3b[_0x96b2a0(0x3ba)])),_0x2f41fd=(_0x4e4a55[_0x96b2a0(0x31b)]?.[_0x96b2a0(0xee)]||[])['filter'](_0x2b03fd=>_0x1253e1[_0x96b2a0(0x178)](_0x2b03fd));_0xffe323={..._0xffe323,'imported':!0x1,'leadInfo.etiquetas':_0x2f41fd};for(let _0x4839e6 of _0x2f41fd)await this[_0x96b2a0(0x32f)](_0x4839e6,_0x534882);}if(!this[_0x96b2a0(0x3fb)]['flows']['find'](_0x2b32f8=>_0x2b32f8['startCommand']&&_0x5c538d[_0x96b2a0(0x5a1)](_0x2b32f8['startCommand']))&&_0x3c14f3===_0x96b2a0(0xd5)&&_0x27b5df&&this[_0x96b2a0(0x3fb)]?.[_0x96b2a0(0x61a)][_0x96b2a0(0x20c)]&&_0x5c538d[_0x96b2a0(0x339)]()!==this[_0x96b2a0(0x3fb)]?.[_0x96b2a0(0x61a)][_0x96b2a0(0x13d)][_0x96b2a0(0x339)]()){let _0x1126be=(this[_0x96b2a0(0x3fb)]?.[_0x96b2a0(0x61a)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x194b54=Date[_0x96b2a0(0x15d)]()+_0x1126be;_0x4e4a55?.[_0x96b2a0(0x31b)]?.[_0x96b2a0(0x533)]===0x0||(_0xffe323={..._0xffe323,'leadInfo.desativadoFluxoAte':_0x194b54},this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this[_0x96b2a0(0x2c6)]+'\x20('+this['instance'][_0x96b2a0(0x582)]+_0x96b2a0(0x7fe)+_0x194b54+'.'));}if(_0x5c538d[_0x96b2a0(0x339)]()===this['AutomateSystem']?.['flowConfig']['stopConversation']['trim']()){this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x96b2a0(0x582)]+_0x96b2a0(0x4bb)+_0x5c538d);let _0x4a2620=Date['now']();this['AutomateSystem']?.['flowConfig'][_0x96b2a0(0x53b)]===0x0?_0xffe323={..._0xffe323,'leadInfo.desativadoFluxoAte':_0x4a2620+0x7591f6200}:_0xffe323={..._0xffe323,'leadInfo.desativadoFluxoAte':_0x4a2620+this['AutomateSystem']?.[_0x96b2a0(0x61a)][_0x96b2a0(0x53b)]*0x3c*0x3e8};}if(_0x4e4a55=await this['repository']['chat'][_0x96b2a0(0x72d)]({'where':{'_id':_0x534882}},_0xffe323,this[_0x96b2a0(0x30d)][_0x96b2a0(0x582)],{'new':!0x0,'upsert':!0x0}),_0x4e4a55)q(this['instanceName'],_0x96b2a0(0x130),{'chat':_0x4e4a55});else{this[_0x96b2a0(0x17b)][_0x96b2a0(0x6b3)](this[_0x96b2a0(0x2c6)]+'\x20('+this[_0x96b2a0(0x30d)][_0x96b2a0(0x582)]+_0x96b2a0(0x71d));return;}if(_0x27b5df)return this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this['instanceName']+'\x20('+this[_0x96b2a0(0x30d)]['wuid']+_0x96b2a0(0x426)),null;if(!this[_0x96b2a0(0x3fb)]?.['flowConfig'][_0x96b2a0(0x20c)])return this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this[_0x96b2a0(0x2c6)]+'\x20('+this['instance']['wuid']+_0x96b2a0(0x1c8)),null;if(_0x4e4a55[_0x96b2a0(0x3ba)][_0x96b2a0(0x5a1)](_0x96b2a0(0x68c))&&this['AutomateSystem']?.[_0x96b2a0(0x61a)][_0x96b2a0(0x5d4)]===!0x0)return this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x96b2a0(0x582)]+_0x96b2a0(0x7df)),null;if(_0x4e4a55[_0x96b2a0(0x31b)]){if(_0x4e4a55[_0x96b2a0(0x31b)][_0x96b2a0(0x533)]===0x0||_0x4e4a55['leadInfo'][_0x96b2a0(0x583)])return this['logger']['verbose'](this[_0x96b2a0(0x2c6)]+'\x20('+this[_0x96b2a0(0x30d)][_0x96b2a0(0x582)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x534882+_0x96b2a0(0x463)),null;if(_0x4e4a55[_0x96b2a0(0x31b)][_0x96b2a0(0x533)]>Date[_0x96b2a0(0x15d)]()&&!_0x4fa01c['message_normalized']?.[_0x96b2a0(0x1a2)])return this['logger']['verbose'](this[_0x96b2a0(0x2c6)]+'\x20('+this[_0x96b2a0(0x30d)][_0x96b2a0(0x582)]+_0x96b2a0(0x39e)+new Date(_0x4e4a55[_0x96b2a0(0x31b)]['desativadoFluxoAte'])[_0x96b2a0(0x1e0)]()+',\x20saindo.'),null;}this[_0x96b2a0(0x17b)][_0x96b2a0(0x5ab)](this[_0x96b2a0(0x2c6)]+'\x20('+this[_0x96b2a0(0x30d)]['wuid']+_0x96b2a0(0x7b9)),this['StartBot'](_0x4fa01c,_0x3c14f3);}catch(_0x57b630){let _0x5b3d55=_0x96b2a0(0x7b0),_0x5614d0=_0x57b630 instanceof Error?_0x57b630['message']:typeof _0x57b630==_0x96b2a0(0x480)?JSON[_0x96b2a0(0x53c)](_0x57b630):_0x57b630,_0x702304=_0x5b3d55+':\x20'+_0x5614d0;return this[_0x96b2a0(0x17b)]['error'](this[_0x96b2a0(0x2c6)]+'\x20('+this[_0x96b2a0(0x30d)][_0x96b2a0(0x582)]+_0x96b2a0(0x377)+_0x702304),null;}}async['upsertChats'](_0x43ff5a,_0x587593){const _0x4102d1=a0_0x40255d;if(_0x587593['ENABLED']){let _0x3fff2d=_0x43ff5a[_0x4102d1(0x54b)](async _0x306922=>{const _0x2cca0f=_0x4102d1;try{let _0x30cef5={'_id':_0x306922[_0x2cca0f(0x3ba)],'owner':_0x306922[_0x2cca0f(0x811)],'lastcache':0x0};if(Object[_0x2cca0f(0x702)](_0x306922)['forEach'](_0x8196ea=>{_0x306922[_0x8196ea]!==null&&(_0x30cef5[_0x8196ea]=_0x306922[_0x8196ea]);}),_0x30cef5['imagechat']===null&&(_0x30cef5[_0x2cca0f(0x76f)]=_0x2cca0f(0x243)),Object[_0x2cca0f(0x702)](_0x30cef5)[_0x2cca0f(0x111)]>0x0)return await this[_0x2cca0f(0x200)][_0x2cca0f(0x708)][_0x2cca0f(0x72d)]({'where':{'_id':_0x306922[_0x2cca0f(0x3ba)]}},_0x30cef5,this['instance']['wuid']);}catch(_0x23eff3){let _0x4154ee='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x306922[_0x2cca0f(0x3ba)],_0x36c69c=_0x23eff3 instanceof Error?_0x23eff3[_0x2cca0f(0x740)]:typeof _0x23eff3=='object'?JSON['stringify'](_0x23eff3):_0x23eff3,_0x90b539=_0x4154ee+':\x20'+_0x36c69c;return this[_0x2cca0f(0x17b)][_0x2cca0f(0x6b3)](this[_0x2cca0f(0x2c6)]+'\x20('+this[_0x2cca0f(0x30d)][_0x2cca0f(0x582)]+_0x2cca0f(0x377)+_0x90b539),null;}}),_0x321ae2=(await Promise['all'](_0x3fff2d))[_0x4102d1(0x750)](_0x3e3fc5=>_0x3e3fc5!==null)[_0x4102d1(0x111)];this[_0x4102d1(0x17b)]['verbose'](this[_0x4102d1(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x321ae2+_0x4102d1(0x37f)+this[_0x4102d1(0x30d)]['wuid']+_0x4102d1(0x548));}}async[a0_0x40255d(0x124)](_0x5d0de8){const _0x399089=a0_0x40255d;this[_0x399089(0x17b)][_0x399089(0x5ab)](this[_0x399089(0x2c6)]+'\x20('+this[_0x399089(0x30d)][_0x399089(0x582)]+_0x399089(0xea));let _0x4122e7={'readMessages':[{'remoteJid':_0x5d0de8['chatLog']['lastReceivedMessage']['key'][_0x399089(0x293)],'fromMe':_0x5d0de8[_0x399089(0x7d6)][_0x399089(0x3df)][_0x399089(0x713)][_0x399089(0x363)],'id':_0x5d0de8[_0x399089(0x7d6)][_0x399089(0x3df)][_0x399089(0x713)]['id']}]};await this[_0x399089(0x54e)](_0x4122e7);}async[a0_0x40255d(0x3ff)](_0x1b18cc,_0x13d3a8){const _0x4130c7=a0_0x40255d;try{let {key:_0x1e3c4a,message_normalized:_0x2ed7ff}=_0x1b18cc,_0xfea864=_0x2ed7ff,_0x706b97=_0x2ed7ff[_0x4130c7(0x6ed)]||_0x2ed7ff[_0x4130c7(0x476)]||_0x2ed7ff['vote']||_0x2ed7ff[_0x4130c7(0x6cc)]||'',_0x2da993=_0x1e3c4a[_0x4130c7(0x293)],_0x31ca78=null,_0x1b159b=this[_0x4130c7(0x3fb)][_0x4130c7(0x4a2)]['find'](_0x4d3108=>_0x4d3108[_0x4130c7(0x2c3)]&&_0x706b97[_0x4130c7(0x5a1)](_0x4d3108['startCommand']));if(_0x1b159b&&_0x13d3a8===_0x4130c7(0xd5)){let _0x3a988a=await this[_0x4130c7(0x200)][_0x4130c7(0x46c)][_0x4130c7(0x73b)]({'where':{'_id':_0x1b159b[_0x4130c7(0x3ba)]}});if(this[_0x4130c7(0x17b)][_0x4130c7(0x5ab)](this[_0x4130c7(0x2c6)]+'\x20('+this['instance'][_0x4130c7(0x582)]+_0x4130c7(0x24c)),_0x3a988a&&_0x3a988a[_0x4130c7(0xd9)]?.[_0x4130c7(0x5a1)](this['instance']['wuid']))_0x31ca78=await this[_0x4130c7(0x44c)](_0x3a988a,_0x1e3c4a,_0xfea864);else return this[_0x4130c7(0x17b)][_0x4130c7(0x5ab)](this[_0x4130c7(0x2c6)]+'\x20('+this[_0x4130c7(0x30d)][_0x4130c7(0x582)]+_0x4130c7(0x518)),null;}else this['logger'][_0x4130c7(0x5ab)](this[_0x4130c7(0x2c6)]+'\x20('+this[_0x4130c7(0x30d)][_0x4130c7(0x582)]+_0x4130c7(0x547));if(_0x31ca78=await this['findConversation'](_0x2da993,_0xfea864),_0x31ca78){this[_0x4130c7(0x17b)]['verbose'](this[_0x4130c7(0x2c6)]+'\x20('+this[_0x4130c7(0x30d)][_0x4130c7(0x582)]+_0x4130c7(0x378)),!_0x1e3c4a[_0x4130c7(0x363)]&&_0x31ca78['readMessages']&&this[_0x4130c7(0x124)](_0x31ca78);let _0x156656=await this[_0x4130c7(0x19a)](_0x31ca78);_0x156656&&await this[_0x4130c7(0x6c3)](_0x31ca78,_0x156656);}}catch(_0x2b3084){this[_0x4130c7(0x17b)]['error'](this[_0x4130c7(0x2c6)]+'\x20('+this[_0x4130c7(0x30d)][_0x4130c7(0x582)]+_0x4130c7(0x7ce)+(_0x2b3084 instanceof Error?_0x2b3084[_0x4130c7(0x740)]:JSON[_0x4130c7(0x53c)](_0x2b3084,null,0x2)));}}['flattenObject'](_0x40a976,_0x215229='',_0x47ebcb={}){const _0x4c6035=a0_0x40255d;return typeof _0x40a976!=_0x4c6035(0x480)||_0x40a976===null?(_0x215229&&(_0x47ebcb[_0x215229]=_0x40a976),_0x47ebcb):(Object[_0x4c6035(0x765)](_0x40a976)['forEach'](([_0x2e0f74,_0xfd549])=>{const _0x3a37a6=_0x4c6035;let _0x288faf=_0x215229?_0x215229+'.'+_0x2e0f74:'_'+_0x2e0f74;Array[_0x3a37a6(0x246)](_0xfd549)?_0xfd549[_0x3a37a6(0x659)]((_0x27a474,_0x8efe20)=>{this['flattenObject'](_0x27a474,_0x288faf+'['+_0x8efe20+']',_0x47ebcb);}):typeof _0xfd549==_0x3a37a6(0x480)&&_0xfd549!==null?this[_0x3a37a6(0x7ba)](_0xfd549,_0x288faf,_0x47ebcb):_0x47ebcb[_0x288faf]=String(_0xfd549);}),_0x47ebcb);}[a0_0x40255d(0x10d)](_0x2a7a10){const _0x48477c=a0_0x40255d;let _0x269cf1={};for(let _0x568b79 of _0x2a7a10)typeof _0x568b79[_0x48477c(0x6cc)]=='string'&&typeof _0x568b79[_0x48477c(0x117)]==_0x48477c(0x4ff)&&(_0x269cf1[_0x568b79[_0x48477c(0x6cc)]]=_0x568b79[_0x48477c(0x117)]);return _0x269cf1;}async['NextBlock'](_0x1bc190){const _0x27d1d4=a0_0x40255d;if(!this['AutomateSystem']?.[_0x27d1d4(0x61a)][_0x27d1d4(0x20c)]||_0x1bc190[_0x27d1d4(0x784)]!==_0x27d1d4(0x3c6)&&_0x1bc190[_0x27d1d4(0x656)]==='')return null;let _0x4637c9=_0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x496)]||_0x27d1d4(0x505);typeof _0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x766)]>'u'&&(_0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x766)]=!0x0);let _0x168d0d=_0x1bc190[_0x27d1d4(0x7d6)]['lastCondition'];this[_0x27d1d4(0x17b)][_0x27d1d4(0x5ab)](this[_0x27d1d4(0x2c6)]+'\x20('+this[_0x27d1d4(0x30d)][_0x27d1d4(0x582)]+_0x27d1d4(0x735)+_0x4637c9+_0x27d1d4(0x5c5)+_0x168d0d);let _0x3566ea=_0x4637c9===_0x27d1d4(0x505)?_0x1bc190[_0x27d1d4(0x195)][_0x27d1d4(0x284)](_0x1d3aba=>_0x1d3aba[_0x27d1d4(0x3fa)]===_0x27d1d4(0x505)):_0x1bc190[_0x27d1d4(0x195)]['find'](_0x27bea5=>_0x27bea5[_0x27d1d4(0x3ba)][_0x27d1d4(0x334)]()===_0x4637c9[_0x27d1d4(0x334)]());if(!_0x3566ea)return this[_0x27d1d4(0x17b)][_0x27d1d4(0x6b3)](this[_0x27d1d4(0x2c6)]+'\x20('+this['instance'][_0x27d1d4(0x582)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x4637c9),null;let _0x21a84d={'_pushName':_0x1bc190?.[_0x27d1d4(0x7d6)]?.[_0x27d1d4(0x3df)]?.[_0x27d1d4(0x1b8)]||'','_sender':this[_0x27d1d4(0x30d)][_0x27d1d4(0x582)]||'',..._0x1bc190['chatLog'][_0x27d1d4(0x295)]},_0x362796=null;if(_0x1bc190['waitingMenu_id']){let _0x29488a=_0x1bc190[_0x27d1d4(0x7d6)]['lastReceivedMessage'][_0x27d1d4(0x1a2)],_0x3a17ce=_0x1bc190['waitingMenu_replyOptions'][_0x27d1d4(0x284)](_0xaf8d0e=>_0xaf8d0e[_0x27d1d4(0x1b4)]===_0x29488a);if(_0x3a17ce){let _0x7331b=_0x3a17ce[_0x27d1d4(0x643)];if(_0x362796=_0x1bc190[_0x27d1d4(0x195)][_0x27d1d4(0x284)](_0x34bf05=>_0x34bf05[_0x27d1d4(0x300)]===_0x7331b&&_0x34bf05[_0x27d1d4(0x650)]===0x1),_0x3566ea[_0x27d1d4(0x62b)][_0x27d1d4(0x7e1)]){let _0x1ecc17={'id':_0x1bc190[_0x27d1d4(0x656)],'remoteJid':_0x1bc190['remoteJid'],'fromMe':!0x0};await this[_0x27d1d4(0x4ec)](_0x1ecc17);}if(_0x3566ea[_0x27d1d4(0x62b)][_0x27d1d4(0x7e1)]&&_0x3566ea[_0x27d1d4(0x62b)]['pollMessageOnDelete']&&_0x3566ea[_0x27d1d4(0x62b)][_0x27d1d4(0x4dd)]===_0x27d1d4(0x66e)){let _0x8cb20d={'number':_0x1bc190[_0x27d1d4(0x293)],'options':{'delay':0x0},'textMessage':{'text':_0x27d1d4(0x50d)+_0x1bc190[_0x27d1d4(0x6be)]+_0x27d1d4(0x1e9)+_0x29488a}};await this[_0x27d1d4(0x706)](_0x8cb20d);}_0x1bc190[_0x27d1d4(0x784)]=_0x27d1d4(0x3c6),_0x1bc190[_0x27d1d4(0x656)]='',_0x1bc190[_0x27d1d4(0x6be)]='',_0x1bc190[_0x27d1d4(0x4ce)]=[];}else{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x27d1d4(0x308));let _0x31cddd={'activatedCount':_0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x28b)][_0x27d1d4(0x750)](_0x76fe17=>String(_0x76fe17[_0x27d1d4(0x807)])===String(_0x4637c9))[_0x27d1d4(0x111)],'moreLogs':[_0x27d1d4(0x567)]};if(_0x3566ea[_0x27d1d4(0x62b)][_0x27d1d4(0x413)]){let _0x3cde9a={'number':_0x1bc190['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3566ea[_0x27d1d4(0x62b)]['pollErrorMessage']}};await this[_0x27d1d4(0x706)](_0x3cde9a);}if(_0x3566ea[_0x27d1d4(0x4a4)]!==void 0x0&&_0x31cddd[_0x27d1d4(0x562)]>=_0x3566ea[_0x27d1d4(0x4a4)]){let _0x562155=Date['now'](),_0x3b53af=_0x3566ea[_0x27d1d4(0x299)]??0xa;isNaN(_0x3b53af)&&(_0x3b53af=0xa);let _0x28634e=_0x562155+_0x3b53af*0x3c*0x3e8;_0x31cddd['newStoppedUntil']=_0x28634e,_0x31cddd[_0x27d1d4(0x13a)][_0x27d1d4(0x4f1)](_0x27d1d4(0x531)),this[_0x27d1d4(0x620)](_0x1bc190,_0x28634e),_0x1bc190['waitingMenu_id']='',_0x1bc190[_0x27d1d4(0x6be)]='',_0x1bc190['waitingMenu_replyOptions']=[];}return this[_0x27d1d4(0x696)](_0x1bc190,_0x3566ea,_0x31cddd,!0x0),null;}}if(_0x168d0d&&_0x3566ea[_0x27d1d4(0x643)]&&!_0x1bc190[_0x27d1d4(0x656)]){let _0x498a3b=_0x1bc190['blocks'][_0x27d1d4(0x750)](_0x4c567c=>_0x4c567c['groupId'][_0x27d1d4(0x334)]()===_0x3566ea[_0x27d1d4(0x643)]['toString']())[_0x27d1d4(0x712)]((_0x1fcdf6,_0x578036)=>_0x1fcdf6['order']-_0x578036['order']);_0x498a3b[_0x27d1d4(0x111)]>0x0&&(_0x362796=_0x498a3b[0x0]);}if(!_0x362796){let _0x4d7fc2=_0x3566ea[_0x27d1d4(0x300)],_0x4fe60b=_0x1bc190[_0x27d1d4(0x195)][_0x27d1d4(0x750)](_0x3c257b=>_0x3c257b[_0x27d1d4(0x300)]===_0x4d7fc2&&_0x3c257b[_0x27d1d4(0x650)]>_0x3566ea[_0x27d1d4(0x650)])[_0x27d1d4(0x712)]((_0x7ffc07,_0x398983)=>_0x7ffc07[_0x27d1d4(0x650)]-_0x398983[_0x27d1d4(0x650)]);_0x4fe60b[_0x27d1d4(0x111)]>0x0&&(_0x362796=_0x4fe60b[0x0]);}if(!_0x362796)return _0x1bc190['status']=_0x27d1d4(0x7f2),null;_0x1bc190['chatLog'][_0x27d1d4(0x295)]=_0x21a84d;let _0x100ce8=JSON[_0x27d1d4(0x143)](JSON['stringify'](_0x362796));return this[_0x27d1d4(0x2ad)](_0x100ce8,_0x1bc190['chatLog'][_0x27d1d4(0x295)]),_0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x496)]=_0x100ce8['_id'],_0x1bc190[_0x27d1d4(0x7d6)][_0x27d1d4(0x766)]=!0x0,_0x100ce8;}[a0_0x40255d(0xde)](_0xefffd1,_0x26a69d){const _0x16772d=a0_0x40255d;return _0xefffd1[_0x16772d(0x362)](/\{\{([^}]+)\}\}/g,(_0x145fb3,_0x1cb289)=>_0x26a69d[_0x1cb289]||'');}[a0_0x40255d(0x2ad)](_0x3cc184,_0x2942bb){const _0x35f6b8=a0_0x40255d;for(let _0x5db9f7 in _0x3cc184)typeof _0x3cc184[_0x5db9f7]==_0x35f6b8(0x4ff)?_0x3cc184[_0x5db9f7]=this[_0x35f6b8(0xde)](_0x3cc184[_0x5db9f7],_0x2942bb):typeof _0x3cc184[_0x5db9f7]==_0x35f6b8(0x480)&&this[_0x35f6b8(0x2ad)](_0x3cc184[_0x5db9f7],_0x2942bb);}async[a0_0x40255d(0x3cc)](_0x4a9a39,_0x391101){const _0x2406c5=a0_0x40255d;let _0x19202f=_0x391101[_0x2406c5(0x3ba)];if(_0x4a9a39[_0x2406c5(0x7d6)]&&_0x4a9a39[_0x2406c5(0x7d6)][_0x2406c5(0x28b)]){let _0xde1246=_0x4a9a39['chatLog'][_0x2406c5(0x28b)][_0x2406c5(0x750)](_0x390e5f=>String(_0x390e5f[_0x2406c5(0x807)])===String(_0x19202f))['pop']();if(_0xde1246&&_0xde1246[_0x2406c5(0x6b3)]&&_0x391101['stopIfLastReturnedError'])return _0x4a9a39[_0x2406c5(0x784)]='closed',await this[_0x2406c5(0x771)](_0x4a9a39),null;}if(_0x391101['type']===_0x2406c5(0x62b)&&_0x391101[_0x2406c5(0x62b)][_0x2406c5(0x59f)]===_0x2406c5(0x3d1)&&_0x4a9a39[_0x2406c5(0x656)])return _0x4a9a39[_0x2406c5(0x7d6)][_0x2406c5(0x496)]=_0x19202f,await this[_0x2406c5(0x771)](_0x4a9a39),null;let _0x3452d8=await this[_0x2406c5(0x19a)](_0x4a9a39);if(_0x4a9a39[_0x2406c5(0x7d6)]&&_0x4a9a39['chatLog'][_0x2406c5(0x28b)]){let _0x4f00ef=_0x4a9a39[_0x2406c5(0x7d6)][_0x2406c5(0x28b)]['filter'](_0x203faa=>String(_0x203faa[_0x2406c5(0x807)])===String(_0x19202f))['length'];if(_0x391101['maxActives']!==void 0x0&&_0x4f00ef>=_0x391101[_0x2406c5(0x4a4)]){let _0x414249=Date[_0x2406c5(0x15d)](),_0x2dc788=_0x391101['stopMinutesMaxActives']??0xa;isNaN(_0x2dc788)&&(_0x2dc788=0xa);let _0x517d43=_0x414249+_0x2dc788*0x3c*0x3e8,_0x52ea17={'newStoppedUntil':_0x517d43};return this[_0x2406c5(0x620)](_0x4a9a39,_0x517d43),this[_0x2406c5(0x696)](_0x4a9a39,_0x391101,_0x52ea17,!0x0),null;}}_0x3452d8&&_0x3452d8[_0x2406c5(0x3fa)]!==_0x2406c5(0x738)&&await this[_0x2406c5(0x6c3)](_0x4a9a39,_0x3452d8),_0x3452d8||await this['saveConversationToDatabase'](_0x4a9a39),_0x3452d8&&_0x3452d8[_0x2406c5(0x3fa)]===_0x2406c5(0x738)&&(_0x4a9a39[_0x2406c5(0x7d6)][_0x2406c5(0x496)]=_0x19202f,await this[_0x2406c5(0x771)](_0x4a9a39));}async['processblock'](_0x4caa26,_0x441ebb){const _0x2a8567=a0_0x40255d;try{let _0x44ed9e=_0x441ebb[_0x2a8567(0x3fa)];this[_0x2a8567(0x17b)][_0x2a8567(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x2a8567(0x582)]+_0x2a8567(0x43f)+_0x44ed9e);let _0x41e5ad={'uazapi':()=>this[_0x2a8567(0x6bb)](_0x4caa26,_0x441ebb),'save':()=>this['saveTextReply'](_0x4caa26,_0x441ebb),'stop':()=>this[_0x2a8567(0x13d)](_0x4caa26,_0x441ebb),'condition':()=>this[_0x2a8567(0x465)](_0x4caa26,_0x441ebb),'varedit':()=>this[_0x2a8567(0x4fc)](_0x4caa26,_0x441ebb),'apirequest':()=>this[_0x2a8567(0x199)](_0x4caa26,_0x441ebb),'goToFlow':()=>this[_0x2a8567(0x3e0)](_0x4caa26,_0x441ebb),'scheduleFlow':()=>this[_0x2a8567(0x301)](_0x4caa26,_0x441ebb),'awaitSeconds':()=>this['processawaitSeconds'](_0x4caa26,_0x441ebb),'clearVariables':()=>this['processclearVariables'](_0x4caa26,_0x441ebb)}[_0x44ed9e];_0x41e5ad&&await _0x41e5ad();}catch(_0x776b8d){this[_0x2a8567(0x17b)][_0x2a8567(0x6b3)](this['instanceName']+'\x20('+this[_0x2a8567(0x30d)]['wuid']+_0x2a8567(0x6d1)+(_0x776b8d instanceof Error?_0x776b8d[_0x2a8567(0x740)]:JSON[_0x2a8567(0x53c)](_0x776b8d,null,0x2)));}}async[a0_0x40255d(0x223)](_0x29e84e,_0x3a5e30){const _0x5d1699=a0_0x40255d;if(this[_0x5d1699(0x17b)][_0x5d1699(0x5ab)](this[_0x5d1699(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x29e84e||!_0x3a5e30)return this[_0x5d1699(0x17b)][_0x5d1699(0x6b3)](this[_0x5d1699(0x2c6)]+'\x20('+this[_0x5d1699(0x30d)][_0x5d1699(0x582)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x281a23=+_0x3a5e30[_0x5d1699(0x440)];isNaN(_0x281a23)&&(_0x281a23=0x0),_0x281a23=Math[_0x5d1699(0x602)](_0x281a23,0x3c),await(0x0,w[_0x5d1699(0x155)])(_0x281a23*0x3e8);let _0x275c5c={'moreLogs':[_0x5d1699(0x7f9)+_0x281a23+_0x5d1699(0x70a)]};return await this['updateConversation'](_0x29e84e,_0x3a5e30,_0x275c5c),_0x281a23;}async[a0_0x40255d(0x577)](_0x44f6af,_0x5ef433){const _0x2e9338=a0_0x40255d;if(this['logger']['verbose'](this[_0x2e9338(0x2c6)]+'\x20('+this[_0x2e9338(0x30d)][_0x2e9338(0x582)]+_0x2e9338(0x761)),!_0x44f6af||!_0x5ef433)return this[_0x2e9338(0x17b)][_0x2e9338(0x6b3)](this[_0x2e9338(0x2c6)]+'\x20('+this[_0x2e9338(0x30d)]['wuid']+_0x2e9338(0x39b)),null;let _0x24bb00=[];if(_0x5ef433[_0x2e9338(0x475)][_0x2e9338(0x339)]()===_0x2e9338(0x16a)){let _0x19c478=[_0x2e9338(0x658),_0x2e9338(0xf0),_0x2e9338(0x435),_0x2e9338(0x4af),_0x2e9338(0x752),'_id',_0x2e9338(0x103)];_0x24bb00=Object['keys'](_0x44f6af[_0x2e9338(0x7d6)][_0x2e9338(0x295)])[_0x2e9338(0x750)](_0x220ac1=>_0x220ac1[_0x2e9338(0x2bf)]('_')&&!_0x19c478[_0x2e9338(0x5a1)](_0x220ac1));}else _0x24bb00=_0x5ef433[_0x2e9338(0x475)]['split']('|')[_0x2e9338(0x54b)](_0x52e89a=>(_0x52e89a=_0x52e89a[_0x2e9338(0x362)](/[{}]/g,'')[_0x2e9338(0x339)](),_0x52e89a[_0x2e9338(0x2bf)]('_')?_0x52e89a:'_'+_0x52e89a));let _0x50755c=[];_0x24bb00['forEach'](_0x5aaaee=>{const _0x3eb521=_0x2e9338;_0x5aaaee in _0x44f6af[_0x3eb521(0x7d6)][_0x3eb521(0x295)]&&(delete _0x44f6af[_0x3eb521(0x7d6)][_0x3eb521(0x295)][_0x5aaaee],_0x50755c[_0x3eb521(0x4f1)](_0x5aaaee));}),_0x50755c[_0x2e9338(0x111)]>0x0?this[_0x2e9338(0x17b)][_0x2e9338(0x5ab)](this[_0x2e9338(0x2c6)]+'\x20('+this[_0x2e9338(0x30d)][_0x2e9338(0x582)]+_0x2e9338(0x150)+_0x50755c[_0x2e9338(0x12c)](',\x20')):this[_0x2e9338(0x17b)][_0x2e9338(0x5ab)](this['instanceName']+'\x20('+this[_0x2e9338(0x30d)][_0x2e9338(0x582)]+_0x2e9338(0x5a9));let _0x53125b={'moreLogs':[_0x2e9338(0x555)+_0x50755c['join'](',\x20')]};return await this[_0x2e9338(0x696)](_0x44f6af,_0x5ef433,_0x53125b),null;}async[a0_0x40255d(0x301)](_0x1cbd97,_0x499268){const _0x2d5841=a0_0x40255d;if(this['logger'][_0x2d5841(0x5ab)](this[_0x2d5841(0x2c6)]+'\x20('+this[_0x2d5841(0x30d)]['wuid']+_0x2d5841(0x6f9)),!_0x1cbd97||!_0x499268)return this[_0x2d5841(0x17b)]['error'](this[_0x2d5841(0x2c6)]+'\x20('+this['instance'][_0x2d5841(0x582)]+_0x2d5841(0x39b)),null;let _0x53d11e=_0x1cbd97['remoteJid'];_0x499268[_0x2d5841(0x78b)][_0x2d5841(0x293)]&&_0x499268[_0x2d5841(0x78b)][_0x2d5841(0x293)][_0x2d5841(0x339)]()!==''&&(_0x53d11e=_0x499268['uazapi']['remoteJid'][_0x2d5841(0x339)]());let _0x10a0dd=_0x499268[_0x2d5841(0x78b)]['timeInMinutes']*0xea60,_0x371059=Date['now']()+_0x10a0dd,_0x25028b={'status':'scheduled','info':_0x2d5841(0x1cd)+_0x1cbd97[_0x2d5841(0x6cc)],'remoteJids':[_0x53d11e],'when':_0x371059,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x499268[_0x2d5841(0x78b)][_0x2d5841(0x2e9)]};this[_0x2d5841(0x7c2)](_0x25028b);let _0x3883d0=await this[_0x2d5841(0x19a)](_0x1cbd97);_0x3883d0&&await this['processblock'](_0x1cbd97,_0x3883d0);}async[a0_0x40255d(0x3e0)](_0x59f53e,_0x1aa202){const _0x1750d3=a0_0x40255d;if(this[_0x1750d3(0x17b)][_0x1750d3(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1750d3(0x5c7)),!_0x59f53e||!_0x1aa202)return this[_0x1750d3(0x17b)][_0x1750d3(0x6b3)](this[_0x1750d3(0x2c6)]+'\x20('+this['instance'][_0x1750d3(0x582)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x1750d3(0x696)](_0x59f53e,_0x1aa202,{},!0x0,!0x0);let _0x4a2988=_0x1aa202[_0x1750d3(0x638)];_0x59f53e=await this[_0x1750d3(0x14c)](_0x4a2988,_0x59f53e['remoteJid'],_0x59f53e[_0x1750d3(0x7d6)][_0x1750d3(0x295)]);let _0xc2766b=await this[_0x1750d3(0x19a)](_0x59f53e);_0xc2766b&&await this[_0x1750d3(0x6c3)](_0x59f53e,_0xc2766b);}async[a0_0x40255d(0x14c)](_0x821bff,_0x105b1b,_0x3d4c9a){const _0x33be1a=a0_0x40255d;this[_0x33be1a(0x17b)][_0x33be1a(0x5ab)](this[_0x33be1a(0x2c6)]+'\x20('+this['instance'][_0x33be1a(0x582)]+_0x33be1a(0x15a));try{let _0x28d591=this[_0x33be1a(0x3fb)][_0x33be1a(0x4a2)][_0x33be1a(0x284)](_0x43135b=>_0x43135b[_0x33be1a(0x3ba)]===_0x821bff);_0x28d591||this[_0x33be1a(0x17b)][_0x33be1a(0x6b3)](this[_0x33be1a(0x2c6)]+'\x20('+this[_0x33be1a(0x30d)]['wuid']+_0x33be1a(0x5ba)+_0x821bff+_0x33be1a(0x414));let _0x2cea6e=await this[_0x33be1a(0x200)]['flow']['findOne']({'where':{'_id':_0x28d591[_0x33be1a(0x3ba)]}});if(!_0x2cea6e||!_0x2cea6e[_0x33be1a(0xd9)]?.['includes'](this[_0x33be1a(0x30d)][_0x33be1a(0x582)]))throw this['logger'][_0x33be1a(0x6b3)](this[_0x33be1a(0x2c6)]+'\x20('+this[_0x33be1a(0x30d)]['wuid']+_0x33be1a(0x5ba)+_0x821bff+_0x33be1a(0x69b)),new m('Flow\x20\x27'+_0x821bff+_0x33be1a(0x69b));let _0x110f33=require(_0x33be1a(0x12d))[_0x33be1a(0x120)],_0x2a08ba=Date[_0x33be1a(0x15d)](),_0x2b5216=_0x33be1a(0x505),_0x274723={},_0x42a2ab={},_0x28fb79=this[_0x33be1a(0x3fb)]['flows'][_0x33be1a(0x284)](_0xd0298d=>_0xd0298d['_id']===_0x2cea6e[_0x33be1a(0x3ba)]?.['toString']()),_0x216228=_0x28fb79?.[_0x33be1a(0x1c4)]??_0x2cea6e[_0x33be1a(0x1c4)]??0x0,_0x45bcc4=_0x28fb79?.[_0x33be1a(0x627)]??_0x2cea6e[_0x33be1a(0x627)]??!0x1,_0x19582f={'flowId':_0x28d591[_0x33be1a(0x3ba)],'readMessages':_0x28d591['readMessages'],..._0x2cea6e,'chatLog':null},_0x290eea={'lastReceivedMessage':_0x274723,'lastSendMessage':_0x42a2ab,'lastBlockId':_0x2b5216,'lastCondition':!0x0,'realVariables':_0x3d4c9a};_0x19582f[_0x33be1a(0x7d6)]=_0x290eea,_0x19582f[_0x33be1a(0x7d6)]['realVariables']={..._0x3d4c9a},delete _0x19582f[_0x33be1a(0x3ba)],_0x19582f[_0x33be1a(0x3ba)]=new _0x110f33(),_0x19582f[_0x33be1a(0x255)]=_0x2a08ba,_0x19582f['status']=_0x33be1a(0x3c6),_0x19582f['remoteJid']=_0x105b1b,_0x19582f['minutesToClose']=_0x216228,_0x19582f[_0x33be1a(0x627)]=_0x45bcc4;let _0x1a9d54=await this[_0x33be1a(0x200)][_0x33be1a(0x336)][_0x33be1a(0x72d)](_0x19582f[_0x33be1a(0x3ba)],_0x19582f,this[_0x33be1a(0x30d)][_0x33be1a(0x582)]);return this[_0x33be1a(0x17b)][_0x33be1a(0x5ab)](this[_0x33be1a(0x2c6)]+'\x20('+this[_0x33be1a(0x30d)][_0x33be1a(0x582)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1a9d54?_0x19582f:null;}catch(_0x49b934){let _0x3c28f9=_0x33be1a(0x550),_0x541133=_0x49b934 instanceof Error?_0x49b934[_0x33be1a(0x740)]:typeof _0x49b934=='object'?JSON[_0x33be1a(0x53c)](_0x49b934):_0x49b934,_0x3b887c=_0x3c28f9+':\x20'+_0x541133;throw this[_0x33be1a(0x17b)][_0x33be1a(0x6b3)](this[_0x33be1a(0x2c6)]+'\x20('+this[_0x33be1a(0x30d)]['wuid']+_0x33be1a(0x377)+_0x3b887c),new m(_0x3b887c);}}async[a0_0x40255d(0x199)](_0x21b3f8,_0x2d2315){const _0x15cd71=a0_0x40255d;let _0x211d54,_0x529163;try{let _0x15f363=_0x2d2315['apirequest'];if(!_0x15f363||!_0x15f363[_0x15cd71(0x16c)]||!_0x15f363[_0x15cd71(0x535)])throw new Error(_0x15cd71(0x50c));let _0x3094e9;([_0x15cd71(0x18b),_0x15cd71(0x263),_0x15cd71(0x21b)][_0x15cd71(0x5fc)](_0x2e9592=>_0x15f363[_0x15cd71(0x16c)][_0x15cd71(0x5a1)](_0x2e9592))||_0x15f363['requestFile'])&&(_0x3094e9='arraybuffer');let _0x374e18='\u205f',_0x1a6877;try{_0x1a6877=JSON[_0x15cd71(0x143)](_0x15f363[_0x15cd71(0x4a9)][_0x15cd71(0x362)](new RegExp(_0x374e18,'g'),''));}catch(_0xb7ca7f){throw _0xb7ca7f;}let _0x108eff={'method':_0x15f363[_0x15cd71(0x535)],'url':_0x15f363[_0x15cd71(0x16c)],'headers':_0x15f363[_0x15cd71(0x176)]||{},..._0x15f363[_0x15cd71(0x535)][_0x15cd71(0x47d)]()!==_0x15cd71(0x58c)&&_0x15f363[_0x15cd71(0x4a9)]?{'data':JSON['parse'](_0x15f363[_0x15cd71(0x4a9)][_0x15cd71(0x362)](new RegExp(_0x374e18,'g'),''))}:{},..._0x3094e9&&{'responseType':_0x3094e9}},_0x47b417=await(0x0,te[_0x15cd71(0x437)])(_0x108eff),_0x360181=_0x47b417[_0x15cd71(0x729)][_0x15cd71(0x60b)];if(_0x360181&&_0x360181[_0x15cd71(0x5a1)]('application/json')||typeof _0x47b417[_0x15cd71(0x7b6)]==_0x15cd71(0x4ff)){if(typeof _0x47b417['data']==_0x15cd71(0x4ff)){let _0x38f1a5=_0x47b417['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x211d54=JSON[_0x15cd71(0x143)](_0x38f1a5);}catch(_0x796e04){this[_0x15cd71(0x17b)][_0x15cd71(0x6b3)](_0x15cd71(0xe6)+_0x796e04[_0x15cd71(0x740)]),_0x211d54={'_apiResponse':_0x47b417[_0x15cd71(0x7b6)]};}}else _0x211d54=_0x47b417[_0x15cd71(0x7b6)];let _0x15a451=_0x21b3f8['chatLog'][_0x15cd71(0x295)],_0x2866cf=this[_0x15cd71(0x7ba)](_0x211d54);return Object[_0x15cd71(0x10c)](_0x15a451,_0x2866cf),_0x21b3f8[_0x15cd71(0x7d6)]['realVariables']=_0x15a451,_0x529163={'error':!0x1,'apiResponse':_0x211d54},this[_0x15cd71(0x696)](_0x21b3f8,_0x2d2315,_0x529163),_0x211d54;}if(_0x360181&&(_0x360181['includes'](_0x15cd71(0x2b3))||_0x360181[_0x15cd71(0x5a1)](_0x15cd71(0x36d))||_0x360181[_0x15cd71(0x5a1)](_0x15cd71(0x17e))||_0x360181[_0x15cd71(0x5a1)](_0x15cd71(0x7bd)))){this[_0x15cd71(0x17b)]['verbose'](this[_0x15cd71(0x2c6)]+'\x20('+this['instance'][_0x15cd71(0x582)]+_0x15cd71(0x265)+_0x360181);let _0xf6bb7f=(0x0,X['v4'])(),_0x221cc0='',_0x3c400a={'image/jpeg':_0x15cd71(0x49a),'image/png':_0x15cd71(0x780),'image/gif':'.gif','image/webp':_0x15cd71(0x4fa),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':_0x15cd71(0x2a2),'audio/wav':_0x15cd71(0x772),'video/mp4':_0x15cd71(0x30e),'video/webm':_0x15cd71(0x44b),'video/ogg':_0x15cd71(0x654),'text/plain':_0x15cd71(0x2a3),'application/pdf':_0x15cd71(0x7a2),'application/msword':_0x15cd71(0x452),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x15cd71(0x197),'application/vnd.ms-excel':_0x15cd71(0x2ea),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x15cd71(0x457),'application/vnd.ms-powerpoint':_0x15cd71(0xeb),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x15cd71(0x6e9)};_0x3c400a[_0x360181]?(_0x221cc0=_0x3c400a[_0x360181],this[_0x15cd71(0x17b)][_0x15cd71(0x5ab)](this[_0x15cd71(0x2c6)]+'\x20('+this['instance'][_0x15cd71(0x582)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x221cc0)):(_0x221cc0=_0x15cd71(0x678),this[_0x15cd71(0x17b)][_0x15cd71(0x5ab)](this[_0x15cd71(0x2c6)]+'\x20('+this[_0x15cd71(0x30d)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x221cc0)),_0xf6bb7f+=_0x221cc0,this['logger'][_0x15cd71(0x5ab)](this[_0x15cd71(0x2c6)]+'\x20('+this[_0x15cd71(0x30d)][_0x15cd71(0x582)]+_0x15cd71(0xff)+_0xf6bb7f);let _0x4e9b64=this[_0x15cd71(0x27d)][_0x15cd71(0x35f)](_0x15cd71(0x773))[_0x15cd71(0x6c8)];if(!_0x4e9b64){let _0x1c2331=this[_0x15cd71(0x27d)][_0x15cd71(0x35f)](_0x15cd71(0x408));_0x4e9b64=_0x15cd71(0x58d)+(_0x1c2331&&_0x1c2331[_0x15cd71(0x370)][_0x15cd71(0x6ce)]('/')[0x4]);}let _0x2225e0=Buffer[_0x15cd71(0x326)](_0x47b417['data']);await this[_0x15cd71(0x588)](_0x2225e0,_0xf6bb7f);let _0x165d90=_0x15cd71(0x5e7)+_0xf6bb7f;_0x165d90=''+_0x4e9b64+_0x165d90,_0x211d54={'fileUrl':_0x165d90},_0x21b3f8[_0x15cd71(0x7d6)][_0x15cd71(0x295)][_0x15cd71(0x545)]=_0x165d90;let _0x3288ff=_0x21b3f8['chatLog'][_0x15cd71(0x295)],_0x3bc352=this[_0x15cd71(0x7ba)](_0x211d54);return Object[_0x15cd71(0x10c)](_0x3288ff,_0x3bc352),_0x21b3f8['chatLog'][_0x15cd71(0x295)]=_0x3288ff,_0x529163={'error':!0x1,'apiResponse':{'fileUrl':_0x165d90}},this['updateConversation'](_0x21b3f8,_0x2d2315,_0x529163),_0x211d54;}}catch(_0x182407){this[_0x15cd71(0x17b)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x182407[_0x15cd71(0x740)]),_0x182407[_0x15cd71(0x586)]&&(_0x211d54=_0x182407[_0x15cd71(0x586)][_0x15cd71(0x7b6)]);let _0x27e849=_0x21b3f8['chatLog'][_0x15cd71(0x295)],_0x256d62=this[_0x15cd71(0x7ba)](_0x211d54);return Object[_0x15cd71(0x10c)](_0x27e849,_0x256d62),_0x21b3f8[_0x15cd71(0x7d6)][_0x15cd71(0x295)]=_0x27e849,_0x529163={'error':!0x0,'errorLog':_0x182407[_0x15cd71(0x334)](),'apiResponse':_0x211d54},this[_0x15cd71(0x696)](_0x21b3f8,_0x2d2315,_0x529163),{'success':!0x1};}}[a0_0x40255d(0x3d8)](_0x1fafb2,_0x361b33){const _0x457608=a0_0x40255d;let _0x3fc94e=_0x1e4998=>{const _0x5ab673=a0_0x2679;let _0xd3dc1f=_0x1e4998[_0x5ab673(0x362)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x567ba1=parseFloat(_0xd3dc1f);return isNaN(_0x567ba1)?null:_0x567ba1;},_0x3a8377=_0x361b33['firstValue'],_0x3d77fe=_0x361b33[_0x457608(0x6a3)];typeof _0x3a8377==_0x457608(0x4ff)&&(_0x3a8377=this[_0x457608(0xde)](_0x3a8377,_0x1fafb2[_0x457608(0x7d6)][_0x457608(0x295)])??''),typeof _0x3d77fe=='string'&&(_0x3d77fe=this['replaceVariables'](_0x3d77fe,_0x1fafb2[_0x457608(0x7d6)][_0x457608(0x295)])??'');let _0x1bdd24=null;if(!_0x361b33[_0x457608(0x447)])return null;switch(this[_0x457608(0x17b)][_0x457608(0x5ab)](this[_0x457608(0x2c6)]+'\x20('+this[_0x457608(0x30d)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x3a8377),this[_0x457608(0x17b)]['verbose'](this[_0x457608(0x2c6)]+'\x20('+this[_0x457608(0x30d)][_0x457608(0x582)]+_0x457608(0x810)+_0x3d77fe),_0x361b33['editOperator']){case'+':case'-':case'*':case'/':let _0x4c02cb=_0x3fc94e(_0x3a8377||'0'),_0x2197c5=_0x3fc94e(_0x3d77fe||'0');if(_0x4c02cb===null)return null;switch(_0x361b33[_0x457608(0x447)]){case'+':_0x1bdd24=_0x4c02cb+(_0x2197c5??0x0);break;case'-':_0x1bdd24=_0x4c02cb-(_0x2197c5??0x0);break;case'*':_0x1bdd24=_0x4c02cb*(_0x2197c5??0x1);break;case'/':_0x2197c5!==0x0&&(_0x1bdd24=_0x4c02cb/(_0x2197c5??0x1));break;}break;case _0x457608(0x4aa):case _0x457608(0x3e5):let _0x419e27=_0x3d77fe,_0x1ddc1d=_0x361b33[_0x457608(0x1f9)];if(typeof _0x1ddc1d==_0x457608(0x4ff)&&(_0x1ddc1d=this[_0x457608(0xde)](_0x1ddc1d,_0x1fafb2[_0x457608(0x7d6)][_0x457608(0x295)])??''),_0x419e27&&_0x1ddc1d!==void 0x0){let _0x1614ef=_0x361b33[_0x457608(0x447)]===_0x457608(0x4aa)?new RegExp(_0x419e27[_0x457608(0x362)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x419e27,'g');_0x1bdd24=_0x3a8377[_0x457608(0x362)](_0x1614ef,_0x1ddc1d);}else console['warn'](_0x457608(0x498));break;case _0x457608(0x187):_0x1bdd24=_0x3d77fe;break;case _0x457608(0x747):let _0x344d1a=_0x3a8377[_0x457608(0x28e)](new RegExp(_0x3d77fe||''));_0x1bdd24=_0x344d1a?_0x344d1a[0x0]:'';break;case'truncatedto':_0x1bdd24=_0x3a8377[_0x457608(0x7d8)](0x0,parseInt(_0x3d77fe||'0'));break;case _0x457608(0x27e):let _0x25d753=parseInt(_0x3d77fe||'0');_0x1bdd24=_0x3a8377['slice'](_0x3a8377[_0x457608(0x111)]-_0x25d753);break;case _0x457608(0x257):let _0x534e75=_0x3fc94e(_0x3a8377),_0x348c78=parseInt(_0x3d77fe||'0');_0x348c78=Math[_0x457608(0x17a)](_0x348c78),_0x534e75!==null?_0x1bdd24=_0x534e75[_0x457608(0x1e0)](_0x457608(0x516),{'minimumFractionDigits':_0x348c78,'maximumFractionDigits':_0x348c78}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x3a8377),_0x1bdd24=null);break;case _0x457608(0x635):let _0x4e298e=_0x3fc94e(_0x3a8377);_0x4e298e!==null?_0x1bdd24=_0x4e298e['toLocaleString'](_0x457608(0x516),{'style':_0x457608(0x28d),'currency':_0x457608(0xe3)}):(console['warn'](_0x457608(0x66b)+_0x3a8377),_0x1bdd24=null);break;case _0x457608(0x14d):_0x1bdd24=_0x3a8377['toUpperCase']();break;case _0x457608(0x700):_0x1bdd24=_0x3a8377[_0x457608(0x478)]();break;case _0x457608(0x19f):_0x1bdd24=_0x3a8377[_0x457608(0x6ce)]('\x20')['map'](_0x347ae9=>_0x347ae9['charAt'](0x0)[_0x457608(0x47d)]()+_0x347ae9[_0x457608(0x7d8)](0x1)[_0x457608(0x478)]())[_0x457608(0x12c)]('\x20');break;case _0x457608(0x3cd):_0x1bdd24=JSON[_0x457608(0x53c)](_0x3a8377);break;case _0x457608(0x306):_0x1bdd24=_0x3a8377[_0x457608(0x339)]();break;default:_0x1bdd24=_0x3a8377;}return _0x1bdd24!==null?_0x1bdd24[_0x457608(0x334)]():null;}async[a0_0x40255d(0x4fc)](_0x5f1b4c,_0x59bc32){const _0x5ad325=a0_0x40255d;try{let _0x21029e=_0x5f1b4c[_0x5ad325(0x716)]?.[_0x5ad325(0x750)](_0x25ff3a=>_0x25ff3a[_0x5ad325(0x807)]===_0x59bc32[_0x5ad325(0x3ba)]?.[_0x5ad325(0x334)]())||[],_0xd9d577=_0x59bc32['saveVariable'],_0x315cee=null,_0x1966fb=[],_0xa743df=_0x5f1b4c[_0x5ad325(0x7d6)]['realVariables'][_0xd9d577];_0x1966fb['push'](_0x5ad325(0x153)+_0xa743df+'\x22');for(let _0xd5623 of _0x21029e){_0xd5623[_0x5ad325(0x30c)]=_0xa743df,_0x315cee=_0xd5623[_0x5ad325(0x30c)];let _0x44c193;try{_0x44c193=this[_0x5ad325(0x3d8)](_0x5f1b4c,_0xd5623);}catch(_0x15de42){this['logger'][_0x5ad325(0x6b3)](_0x5ad325(0x4a5)+_0x15de42['message']);continue;}if(_0x44c193!==null){let _0x1efc9e='Operador:\x20\x22'+_0xd5623[_0x5ad325(0x447)]+'\x22',_0x33cc64=[_0x5ad325(0x635),_0x5ad325(0x14d),'lowerCase',_0x5ad325(0x19f),'trimmed'];_0xd5623[_0x5ad325(0x447)]===_0x5ad325(0x4aa)||_0xd5623[_0x5ad325(0x447)]===_0x5ad325(0x3e5)?_0x1efc9e+=_0x5ad325(0x285)+_0xd5623[_0x5ad325(0x6a3)]+_0x5ad325(0x3fc)+_0xd5623[_0x5ad325(0x1f9)]+'\x22':!_0x33cc64[_0x5ad325(0x5a1)](_0xd5623[_0x5ad325(0x447)])&&_0xd5623['secondValue']!==null&&_0xd5623['secondValue']!==void 0x0&&(_0x1efc9e+=_0x5ad325(0x18a)+_0xd5623['secondValue']+'\x22'),_0x1efc9e+=_0x5ad325(0x630)+_0x44c193+'.',_0x1966fb[_0x5ad325(0x4f1)](_0x1efc9e);}_0x44c193!==null&&(_0xa743df=_0x44c193);}if(_0x5f1b4c[_0x5ad325(0x7d6)][_0x5ad325(0x295)]&&_0x59bc32[_0x5ad325(0x1be)]){_0x5f1b4c[_0x5ad325(0x7d6)][_0x5ad325(0x295)][_0x59bc32['saveVariable']]=_0xa743df;let _0x8b3164={'variable':_0x59bc32[_0x5ad325(0x1be)],'oldValue':_0x315cee,'newValue':_0xa743df,'moreLogs':_0x1966fb};try{this[_0x5ad325(0x696)](_0x5f1b4c,_0x59bc32,_0x8b3164);}catch(_0x4376d7){this[_0x5ad325(0x17b)][_0x5ad325(0x6b3)](_0x5ad325(0x5fa)+_0x4376d7[_0x5ad325(0x740)]);}}return _0xd9d577;}catch(_0x20fe64){return this['logger']['error'](_0x5ad325(0x6a7)+_0x20fe64[_0x5ad325(0x740)]),null;}}async[a0_0x40255d(0x465)](_0x353d7f,_0x12c984){const _0x28d3cd=a0_0x40255d;try{let _0x36c3b9=[],_0x12efdc=_0x353d7f[_0x28d3cd(0x7d2)][_0x28d3cd(0x750)](_0x4fa765=>_0x4fa765[_0x28d3cd(0x807)]===_0x12c984[_0x28d3cd(0x3ba)][_0x28d3cd(0x334)]()),_0x6934de=null,_0x36110d=!0x1;for(let _0x4b6d07 of _0x12efdc){let _0x40d71f=this['evaluateCondition'](_0x353d7f,_0x4b6d07);_0x36c3b9[_0x28d3cd(0x4f1)](_0x28d3cd(0x7a3)+_0x4b6d07[_0x28d3cd(0x30c)]+_0x28d3cd(0x442)+_0x4b6d07['expression']+',\x20Segundo\x20Valor:\x20'+_0x4b6d07[_0x28d3cd(0x6a3)]+',\x20Resultado:\x20'+_0x40d71f),_0x6934de===null?_0x6934de=_0x40d71f:_0x4b6d07[_0x28d3cd(0x781)]==='and'?(_0x6934de=_0x6934de&&_0x40d71f,_0x40d71f||(_0x36110d=!0x0)):_0x4b6d07[_0x28d3cd(0x781)]==='or'&&(_0x36110d||(_0x6934de=_0x6934de||_0x40d71f));}_0x6934de===null&&(_0x6934de=!0x0);let _0xd10937={'moreLogs':_0x36c3b9};_0x353d7f[_0x28d3cd(0x7d6)][_0x28d3cd(0x766)]=_0x6934de,await this[_0x28d3cd(0x696)](_0x353d7f,_0x12c984,_0xd10937);}catch(_0x593993){this['logger']['error'](this[_0x28d3cd(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x593993 instanceof Error?_0x593993['message']:JSON['stringify'](_0x593993,null,0x2)));}}[a0_0x40255d(0x17f)](_0x474a0a,_0x4af43e){const _0x377c01=a0_0x40255d;let _0x5d970a=_0x4af43e[_0x377c01(0x30c)],_0x11ce3c=_0x4af43e[_0x377c01(0x6a3)];typeof _0x5d970a==_0x377c01(0x4ff)&&(_0x5d970a=this['replaceVariables'](_0x5d970a,_0x474a0a[_0x377c01(0x7d6)][_0x377c01(0x295)])??''),typeof _0x11ce3c==_0x377c01(0x4ff)&&(_0x11ce3c=this['replaceVariables'](_0x11ce3c,_0x474a0a[_0x377c01(0x7d6)][_0x377c01(0x295)])??'');try{switch(_0x4af43e[_0x377c01(0xfa)]){case _0x377c01(0x324):return _0x5d970a===_0x11ce3c;case _0x377c01(0x41e):return _0x5d970a!==_0x11ce3c;case _0x377c01(0x1da):return this[_0x377c01(0x1da)](_0x5d970a,_0x11ce3c);case _0x377c01(0x55f):return!this[_0x377c01(0x1da)](_0x5d970a,_0x11ce3c);case _0x377c01(0x6fe):return parseFloat(_0x5d970a)>parseFloat(_0x11ce3c);case _0x377c01(0x7a7):return parseFloat(_0x5d970a)<parseFloat(_0x11ce3c);case _0x377c01(0x782):return _0x5d970a!=='';case _0x377c01(0x50f):return _0x5d970a==='';case _0x377c01(0x34c):return new RegExp(_0x11ce3c)[_0x377c01(0x35c)](_0x5d970a);case'notMatchRegex':return!new RegExp(_0x11ce3c)[_0x377c01(0x35c)](_0x5d970a);default:return!0x1;}}catch(_0x288097){return this[_0x377c01(0x17b)][_0x377c01(0x6b3)](_0x377c01(0x1f5)+_0x288097),!0x1;}}['contains'](_0x5b1be0,_0x57a98b){const _0x2b94ea=a0_0x40255d;if(_0x5b1be0===_0x57a98b&&/^\d+$/[_0x2b94ea(0x35c)](_0x5b1be0))return!0x0;if(this['isListOfNumbers'](_0x5b1be0)&&/^\d+$/[_0x2b94ea(0x35c)](_0x57a98b)){let _0x47f74f=_0x5b1be0[_0x2b94ea(0x6ce)](',')[_0x2b94ea(0x54b)](_0x4a6658=>parseInt(_0x4a6658['trim']())),_0x501501=parseInt(_0x57a98b);return _0x47f74f[_0x2b94ea(0x5a1)](_0x501501);}return _0x5b1be0[_0x2b94ea(0x5a1)](_0x57a98b);}[a0_0x40255d(0x57d)](_0x59795f){const _0x3c3026=a0_0x40255d;return/^\d+(,\d+)*$/[_0x3c3026(0x35c)](_0x59795f);}[a0_0x40255d(0x587)](_0x2fa6a7){const _0x27bdb0=a0_0x40255d;let _0x3709fa=!0x0,_0x15e4db=null;for(let _0x55710e of _0x2fa6a7){let _0x154c0c=this[_0x27bdb0(0x725)](_0x55710e);if(_0x15e4db==='or'&&_0x154c0c){_0x3709fa=!0x0;break;}if(_0x15e4db==='and'&&!_0x154c0c){_0x3709fa=!0x1;break;}_0x15e4db=_0x55710e[_0x27bdb0(0x781)];}return _0x3709fa;}[a0_0x40255d(0x725)](_0x5d1b00){const _0x447bdd=a0_0x40255d;let _0x1a9cd4=_0x5d1b00[_0x447bdd(0x30c)],_0x51b49f=_0x5d1b00[_0x447bdd(0x6a3)];try{switch(_0x5d1b00['expression']){case'equal':return String(_0x1a9cd4)===String(_0x51b49f);case'notEqual':return String(_0x1a9cd4)!==String(_0x51b49f);case'contains':return String(_0x1a9cd4)['includes'](String(_0x51b49f));case'notContains':return!String(_0x1a9cd4)[_0x447bdd(0x5a1)](String(_0x51b49f));case _0x447bdd(0x6fe):return parseFloat(String(_0x1a9cd4))>parseFloat(String(_0x51b49f));case'less':return parseFloat(String(_0x1a9cd4))<parseFloat(String(_0x51b49f));case _0x447bdd(0x782):return String(_0x1a9cd4)!=='';case _0x447bdd(0x50f):return String(_0x1a9cd4)==='';case _0x447bdd(0x34c):return new RegExp(String(_0x51b49f))[_0x447bdd(0x35c)](String(_0x1a9cd4));case _0x447bdd(0x10e):return!new RegExp(String(_0x51b49f))[_0x447bdd(0x35c)](String(_0x1a9cd4));default:return!0x1;}}catch(_0x588ef5){return this[_0x447bdd(0x17b)]['error'](_0x447bdd(0x1f5)+_0x588ef5),!0x1;}}async[a0_0x40255d(0x4cf)](_0x320bd6,_0x5eb4b3){const _0x9e7516=a0_0x40255d;if(this[_0x9e7516(0x17b)][_0x9e7516(0x5ab)](this['instanceName']+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+_0x9e7516(0x298)),!_0x320bd6||!_0x5eb4b3)return this[_0x9e7516(0x17b)][_0x9e7516(0x6b3)](this[_0x9e7516(0x2c6)]+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+_0x9e7516(0x39b)),null;let _0x4ae70e=_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x3df)]['key']['id'];this[_0x9e7516(0x17b)][_0x9e7516(0x5ab)](this['instanceName']+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+_0x9e7516(0x6a4)+_0x4ae70e);let _0x13dc55={'key':{'id':_0x4ae70e}},_0x56cf52=_0x5eb4b3['saveVariable'];_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x295)]['_'+_0x56cf52+_0x9e7516(0x4c6)]=null,_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x295)]['_'+_0x56cf52+'.mimetype']=null,_0x320bd6['chatLog'][_0x9e7516(0x295)]['_'+_0x56cf52+_0x9e7516(0x762)]=null,_0x320bd6[_0x9e7516(0x7d6)]['realVariables']['_'+_0x56cf52+_0x9e7516(0x666)]=_0x320bd6['chatLog']['lastReceivedMessage'][_0x9e7516(0x3fa)];try{let _0x43c9f5=await this['getBase64FromMediaMessage'](_0x13dc55);this[_0x9e7516(0x17b)][_0x9e7516(0x5ab)](this[_0x9e7516(0x2c6)]+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+_0x9e7516(0x51c)),_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x295)]['_'+_0x56cf52+_0x9e7516(0x7e3)]=_0x43c9f5[_0x9e7516(0x545)],_0x320bd6[_0x9e7516(0x7d6)]['realVariables']['_'+_0x56cf52+_0x9e7516(0x763)]=_0x43c9f5[_0x9e7516(0x464)];let _0x5a4964=_0x43c9f5[_0x9e7516(0x464)]['match'](/\/(\w+)$/),_0x47b932=_0x5a4964?_0x5a4964[0x1]:null;_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x295)]['_'+_0x56cf52+_0x9e7516(0x762)]=_0x47b932,this['logger']['verbose'](this[_0x9e7516(0x2c6)]+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+_0x9e7516(0x68b)+_0x56cf52+'\x27.');}catch(_0xe1bed){this['logger'][_0x9e7516(0x6b3)](this['instanceName']+'\x20('+this[_0x9e7516(0x30d)][_0x9e7516(0x582)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0xe1bed[_0x9e7516(0x740)]);}let _0x5103b9=_0x320bd6['chatLog']['lastReceivedMessage'][_0x9e7516(0x6ed)]||_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x3df)][_0x9e7516(0x476)]||_0x320bd6[_0x9e7516(0x7d6)][_0x9e7516(0x3df)][_0x9e7516(0x1a2)];try{_0x320bd6['chatLog']['realVariables']||(_0x320bd6['chatLog'][_0x9e7516(0x295)]={});let _0x31b8fa=_0x320bd6['chatLog']['realVariables'][_0x56cf52];_0x320bd6['chatLog'][_0x9e7516(0x295)][_0x56cf52]=_0x5103b9;let _0x2718ed={'variable':_0x56cf52,'oldValue':_0x31b8fa,'newValue':_0x5103b9};this[_0x9e7516(0x696)](_0x320bd6,_0x5eb4b3,_0x2718ed),this[_0x9e7516(0x17b)][_0x9e7516(0x5ab)](this[_0x9e7516(0x2c6)]+'\x20('+this['instance'][_0x9e7516(0x582)]+_0x9e7516(0x618));}catch(_0x43d382){let _0x207832={'error':!0x0,'errorLog':_0x43d382['toString']()};return this[_0x9e7516(0x696)](_0x320bd6,_0x5eb4b3,_0x207832),this['logger'][_0x9e7516(0x6b3)](this['instanceName']+'\x20('+this[_0x9e7516(0x30d)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x43d382 instanceof Error?_0x43d382['message']:JSON[_0x9e7516(0x53c)](_0x43d382,null,0x2))),null;}}async[a0_0x40255d(0x13d)](_0x326f07,_0x4a032f){const _0x4f64c7=a0_0x40255d;if(this[_0x4f64c7(0x17b)]['verbose'](this[_0x4f64c7(0x2c6)]+'\x20('+this[_0x4f64c7(0x30d)][_0x4f64c7(0x582)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x326f07||!_0x4a032f)return this[_0x4f64c7(0x17b)]['error'](this[_0x4f64c7(0x2c6)]+'\x20('+this['instance'][_0x4f64c7(0x582)]+_0x4f64c7(0x39b)),null;let _0x203433=Date['now'](),_0xf6b765=parseInt(_0x4a032f[_0x4f64c7(0x53b)],0xa);if(isNaN(_0xf6b765))return this[_0x4f64c7(0x17b)][_0x4f64c7(0x6b3)](this[_0x4f64c7(0x2c6)]+'\x20('+this[_0x4f64c7(0x30d)][_0x4f64c7(0x582)]+_0x4f64c7(0x42e)),null;let _0x3a62f2={'newStoppedUntil':_0x203433+_0xf6b765*0x3c*0x3e8};return await this[_0x4f64c7(0x696)](_0x326f07,_0x4a032f,_0x3a62f2,!0x0),null;}async[a0_0x40255d(0x6bb)](_0x5f5b9a,_0x30da88){const _0x308dcf=a0_0x40255d;try{switch(_0x30da88['uazapi'][_0x308dcf(0x59f)]){case'sendText':await this[_0x308dcf(0x508)](_0x5f5b9a,_0x30da88);break;case _0x308dcf(0x36e):await this[_0x308dcf(0x51d)](_0x5f5b9a,_0x30da88);break;case'sendLocation':await this[_0x308dcf(0x720)](_0x5f5b9a,_0x30da88);break;case'sendAudio':await this['uazapiSendAudio'](_0x5f5b9a,_0x30da88);break;case _0x308dcf(0x2cf):await this[_0x308dcf(0x74c)](_0x5f5b9a,_0x30da88);break;case'sendPoll':await this['uazapiSendMenu'](_0x5f5b9a,_0x30da88);break;case _0x308dcf(0xe8):await this[_0x308dcf(0x808)](_0x5f5b9a,_0x30da88);break;case _0x308dcf(0x4ec):await this[_0x308dcf(0x7c1)](_0x5f5b9a,_0x30da88);break;default:this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x308dcf(0x582)]+_0x308dcf(0x4d4)+_0x30da88[_0x308dcf(0x62b)]['command']);}}catch(_0x12892a){this[_0x308dcf(0x17b)][_0x308dcf(0x6b3)](this[_0x308dcf(0x2c6)]+'\x20('+this[_0x308dcf(0x30d)][_0x308dcf(0x582)]+_0x308dcf(0x803)+(_0x12892a instanceof Error?_0x12892a['message']:JSON[_0x308dcf(0x53c)](_0x12892a,null,0x2)));}}async[a0_0x40255d(0x696)](_0x1a134e,_0x489bfe,_0x4e6c8d,_0x2ba34f=!0x1,_0x26b60f=!0x1){const _0xe06ced=a0_0x40255d;_0x1a134e['chatLog']['blockLogs']||(_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x28b)]=[]);let _0x2fc1f8=(_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x28b)]?.['length']??0x0)+0x1,_0x12b824=_0x1a134e[_0xe06ced(0x7d6)]['blockLogs'][_0xe06ced(0x750)](_0x597535=>String(_0x597535['blockId'])===String(_0x489bfe[_0xe06ced(0x3ba)]))[_0xe06ced(0x111)]+0x1,_0x3f8749=_0x4e6c8d?.['onTime']??Date[_0xe06ced(0x15d)](),_0x41a289=_0x4e6c8d?.[_0xe06ced(0x6b3)]?_0x4e6c8d[_0xe06ced(0x2f2)]??_0x4e6c8d[_0xe06ced(0x6b3)][_0xe06ced(0x334)]():void 0x0,_0xe943ac={'onTime':_0x3f8749,'blockId':_0x489bfe[_0xe06ced(0x3ba)],'order':_0x2fc1f8,'activatedCount':_0x12b824,'error':_0x4e6c8d?.[_0xe06ced(0x6b3)]??!0x1,'messageId':_0x4e6c8d?.[_0xe06ced(0x681)],'apiResponse':_0x4e6c8d?.[_0xe06ced(0x1f7)],'apiResponseString':_0x4e6c8d?.['apiResponse']?JSON[_0xe06ced(0x53c)](_0x4e6c8d?.[_0xe06ced(0x1f7)]):void 0x0,'variable':_0x4e6c8d?.[_0xe06ced(0x16b)],'oldValue':_0x4e6c8d?.[_0xe06ced(0x3e4)],'newValue':_0x4e6c8d?.['newValue'],'newStoppedUntil':_0x4e6c8d?.[_0xe06ced(0x54f)],'moreLogs':_0x4e6c8d?.[_0xe06ced(0x13a)],'errorLog':_0x41a289};if(_0x4e6c8d[_0xe06ced(0x13a)]&&_0x4e6c8d['moreLogs'][_0xe06ced(0x111)]>0x0){let _0x30ada1=_0x4e6c8d[_0xe06ced(0x13a)][_0xe06ced(0x54b)](_0xa50944=>this[_0xe06ced(0x472)](_0xa50944,_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x295)]));_0xe943ac[_0xe06ced(0x13a)]=_0x30ada1;}if(_0x1a134e[_0xe06ced(0x7d6)]['realVariables']||(_0x1a134e['chatLog'][_0xe06ced(0x295)]={}),_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x295)][_0xe06ced(0x786)]=String(_0x12b824),_0x1a134e['chatLog']['realVariables']['_error']=String(_0x4e6c8d[_0xe06ced(0x6b3)]??!0x1),_0x1a134e['chatLog'][_0xe06ced(0x28b)][_0xe06ced(0x4f1)](_0xe943ac),_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x295)][_0xe06ced(0xf4)]&&_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x295)]['telefone']!==_0x1a134e[_0xe06ced(0x293)]){let _0x35933b=(await this[_0xe06ced(0x4ef)]({'numbers':[_0x1a134e['chatLog'][_0xe06ced(0x295)][_0xe06ced(0xf4)]]}))[0x0]['jid'];_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x295)][_0xe06ced(0xf4)]=_0x35933b,_0x1a134e['remoteJid']=_0x35933b;try{let _0x270f9a={'_id':{'$ne':_0x1a134e[_0xe06ced(0x3ba)]},'remoteJid':_0x35933b,'status':_0xe06ced(0x3c6)},_0x33b034={'status':_0xe06ced(0x7f2)};await this[_0xe06ced(0x200)]['flowConversation'][_0xe06ced(0x4dc)](_0x270f9a,_0x33b034,this[_0xe06ced(0x30d)][_0xe06ced(0x582)]),this[_0xe06ced(0x17b)][_0xe06ced(0x5ab)](this[_0xe06ced(0x2c6)]+'\x20('+this[_0xe06ced(0x30d)][_0xe06ced(0x582)]+_0xe06ced(0x4c4));}catch(_0x25b112){this['logger'][_0xe06ced(0x6b3)](this[_0xe06ced(0x2c6)]+'\x20('+this[_0xe06ced(0x30d)][_0xe06ced(0x582)]+_0xe06ced(0x52d)+_0x25b112[_0xe06ced(0x740)]);}try{let _0x3e3c37=_0x1a134e[_0xe06ced(0x7d6)]['realVariables'],_0x45b70b=await this['getVariablesChat'](_0x35933b),_0x24e521={..._0x3e3c37,..._0x45b70b,'_remoteJid':_0x35933b};_0x1a134e['chatLog'][_0xe06ced(0x295)]=_0x24e521;}catch(_0x403ea1){this[_0xe06ced(0x17b)]['error'](this[_0xe06ced(0x2c6)]+'\x20('+this[_0xe06ced(0x30d)][_0xe06ced(0x582)]+_0xe06ced(0x71a)+_0x403ea1['message']);}}_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x496)]=_0x489bfe[_0xe06ced(0x3ba)][_0xe06ced(0x334)](),_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x77a)]&&(_0x1a134e[_0xe06ced(0x7d6)]['lastSendMessage']=_0x1a134e['chatLog'][_0xe06ced(0x77a)]),_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x3df)]&&(_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x3df)]=_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x3df)]),_0x1a134e['chatLog']['lastCondition']&&(_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x766)]=_0x1a134e[_0xe06ced(0x7d6)][_0xe06ced(0x766)]),_0x26b60f&&(_0x1a134e[_0xe06ced(0x784)]='closed'),_0x2ba34f?this[_0xe06ced(0x771)](_0x1a134e):this['goNextblock'](_0x1a134e,_0x489bfe);}['replaceVariablesLogs'](_0x211e91,_0x763f02){const _0x108937=a0_0x40255d;return _0x211e91[_0x108937(0x362)](/\{\{([^}]+)\}\}/g,(_0x3bd99d,_0x2135a5)=>_0x763f02[_0x2135a5]?'{{'+_0x2135a5+'}}\x20->\x20\x22'+_0x763f02[_0x2135a5]+'\x22':'{{'+_0x2135a5+_0x108937(0x764));}async[a0_0x40255d(0x771)](_0x6f82a){const _0x728146=a0_0x40255d;try{let _0x4adc0a=Object[_0x728146(0x765)](_0x6f82a[_0x728146(0x7d6)][_0x728146(0x295)])['map'](([_0x55cc1a,_0x10a525])=>({'name':_0x55cc1a,'value':_0x10a525})),_0x276a5d={'status':_0x6f82a[_0x728146(0x784)],'remoteJid':_0x6f82a[_0x728146(0x293)],'blocks':_0x6f82a[_0x728146(0x195)],'waitingMenu_id':_0x6f82a[_0x728146(0x656)],'waitingMenu_text':_0x6f82a['waitingMenu_text'],'waitingMenu_replyOptions':_0x6f82a['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x6f82a[_0x728146(0x7d6)][_0x728146(0x496)],'lastSendMessage':_0x6f82a[_0x728146(0x7d6)][_0x728146(0x77a)],'lastReceivedMessage':_0x6f82a['chatLog']['lastReceivedMessage'],'lastCondition':_0x6f82a[_0x728146(0x7d6)]['lastCondition'],'chatVariables':_0x4adc0a,'realVariables':_0x6f82a[_0x728146(0x7d6)][_0x728146(0x295)],'blockLogs':_0x6f82a[_0x728146(0x7d6)][_0x728146(0x28b)]}},_0xd2c98=await this['repository'][_0x728146(0x336)][_0x728146(0x72d)](_0x6f82a[_0x728146(0x3ba)],_0x276a5d,this[_0x728146(0x30d)][_0x728146(0x582)]);if(_0xd2c98){this['logger'][_0x728146(0x5ab)](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+_0x728146(0x360)+_0xd2c98['_id']);try{let _0x5681e1=[_0x728146(0x37c),_0x728146(0x679),_0x728146(0x62c),_0x728146(0x108),_0x728146(0x784),_0x728146(0x380),'responsavelid','tags',_0x728146(0xee),_0x728146(0x583)];if(!this['AutomateSystem']&&(await this[_0x728146(0x356)](),!this[_0x728146(0x3fb)]))throw new Error(_0x728146(0x7cb));let _0x3ad09b=this[_0x728146(0x3fb)]?.[_0x728146(0x564)][_0x728146(0x54b)](_0x40f445=>_0x40f445[_0x728146(0x6cc)]),_0x29dbac={};Object['entries'](_0x6f82a['chatLog'][_0x728146(0x295)])[_0x728146(0x659)](([_0xdb9054,_0x15a57b])=>{const _0x3c7b68=_0x728146;_0x5681e1[_0x3c7b68(0x5a1)](_0xdb9054)&&(_0xdb9054===_0x3c7b68(0x23f)&&typeof _0x15a57b==_0x3c7b68(0x4ff)?_0x29dbac[_0xdb9054]=_0x15a57b['split'](',')[_0x3c7b68(0x54b)](_0x3d39d8=>_0x3d39d8[_0x3c7b68(0x339)]())[_0x3c7b68(0x750)](_0xac8971=>_0xac8971!==''):_0xdb9054===_0x3c7b68(0xee)&&typeof _0x15a57b==_0x3c7b68(0x4ff)?_0x29dbac[_0xdb9054]=_0x15a57b['split'](',')[_0x3c7b68(0x54b)](_0x2294a6=>_0x2294a6[_0x3c7b68(0x339)]())['filter'](_0x67232b=>_0x67232b!==''):_0x29dbac[_0xdb9054]=_0x15a57b);});let _0x14d0cd=_0x6f82a[_0x728146(0x7d6)][_0x728146(0x28b)][_0x6f82a[_0x728146(0x7d6)][_0x728146(0x28b)][_0x728146(0x111)]-0x1];if(_0x14d0cd){let _0x443db0=_0x14d0cd[_0x728146(0x54f)];_0x443db0!==void 0x0&&(_0x29dbac[_0x728146(0x533)]=_0x443db0[_0x728146(0x334)]());}let _0x97da6b=_0x4adc0a['filter'](_0xe6b345=>_0x3ad09b[_0x728146(0x5a1)](_0xe6b345[_0x728146(0x6cc)]));this[_0x728146(0x17b)][_0x728146(0x5ab)](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+_0x728146(0x6d5)),this[_0x728146(0x17b)][_0x728146(0x5ab)](_0x29dbac),this['logger'][_0x728146(0x5ab)](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+'):\x20customFieldVariables'),this[_0x728146(0x17b)][_0x728146(0x5ab)](_0x97da6b);let _0x5dc7ab=_0x97da6b['map'](_0x5d97d4=>{const _0x203cfd=_0x728146;let _0x21973d=this[_0x203cfd(0x3fb)]?.[_0x203cfd(0x564)][_0x203cfd(0x284)](_0xbf871a=>_0xbf871a[_0x203cfd(0x6cc)]===_0x5d97d4[_0x203cfd(0x6cc)]);if(!_0x21973d)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x5d97d4[_0x203cfd(0x6cc)]);return{'_id':_0x21973d[_0x203cfd(0x3ba)],'value':_0x5d97d4[_0x203cfd(0x117)]};});this[_0x728146(0x17b)]['verbose'](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+'):\x20transformedCustomFieldVariables'),this[_0x728146(0x17b)][_0x728146(0x5ab)](_0x5dc7ab),await this['saveChatVariables'](_0x6f82a[_0x728146(0x293)],_0x29dbac,_0x5dc7ab);}catch(_0x2e69d1){this[_0x728146(0x17b)]['error'](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+_0x728146(0x501)+(_0x2e69d1 instanceof Error?_0x2e69d1['message']:JSON[_0x728146(0x53c)](_0x2e69d1,null,0x2)));}}else this[_0x728146(0x17b)][_0x728146(0x6b3)](this['instanceName']+'\x20('+this['instance'][_0x728146(0x582)]+_0x728146(0x821));}catch(_0x123938){this['logger'][_0x728146(0x6b3)](this[_0x728146(0x2c6)]+'\x20('+this[_0x728146(0x30d)][_0x728146(0x582)]+_0x728146(0x1ee)+(_0x123938 instanceof Error?_0x123938[_0x728146(0x740)]:JSON[_0x728146(0x53c)](_0x123938,null,0x2)));}}async[a0_0x40255d(0x617)](_0x4d8b69,_0xa9fd2d,_0x44e4e6){const _0x587336=a0_0x40255d;try{let _0x1aa5f6={'leadInfo.leadnome':_0xa9fd2d[_0x587336(0x37c)],'leadInfo.nomecompleto':_0xa9fd2d[_0x587336(0x679)],'leadInfo.email':_0xa9fd2d[_0x587336(0x62c)],'leadInfo.cpf':_0xa9fd2d['cpf'],'leadInfo.status':_0xa9fd2d[_0x587336(0x784)],'leadInfo.notas':_0xa9fd2d[_0x587336(0x380)],'leadInfo.responsavelid':_0xa9fd2d[_0x587336(0x1ff)],'leadInfo.tags':_0xa9fd2d['tags'],'leadInfo.etiquetas':_0xa9fd2d['etiquetas'],'leadInfo.customFields':_0x44e4e6,'leadInfo.atendimentoAberto':_0xa9fd2d[_0x587336(0x583)]},_0x342cce=await this['repository'][_0x587336(0x708)][_0x587336(0x73b)]({'where':{'_id':_0x4d8b69}},this[_0x587336(0x30d)][_0x587336(0x582)]);if(!_0x342cce)return _0x587336(0x49b);let _0x557e52=new Set(_0x342cce[_0x587336(0x31b)]['etiquetas']||[]),_0x507e69=new Set(_0xa9fd2d[_0x587336(0xee)]||[]),_0x5efb56=await this[_0x587336(0x200)]['label'][_0x587336(0x284)]({'where':{}},this[_0x587336(0x30d)][_0x587336(0x582)]),_0x2e7135=new Set(_0x5efb56[_0x587336(0x54b)](_0x3dcf17=>_0x3dcf17[_0x587336(0x3ba)])),_0x4b3178=[..._0x507e69]['filter'](_0x29a438=>!_0x557e52[_0x587336(0x178)](_0x29a438)&&_0x2e7135['has'](_0x29a438)),_0x989abe=[..._0x557e52][_0x587336(0x750)](_0x26be0a=>!_0x507e69['has'](_0x26be0a));for(let _0x2808fd of _0x4b3178)await this['AddChatLabel'](_0x2808fd,_0x342cce[_0x587336(0x3ba)]),_0x557e52[_0x587336(0x482)](_0x2808fd);for(let _0x4575c0 of _0x989abe)await this['RemoveChatLabel'](_0x4575c0,_0x342cce[_0x587336(0x3ba)]),_0x557e52['delete'](_0x4575c0);if('desativadoFluxoAte'in _0xa9fd2d){let _0x5974fc=_0xa9fd2d['desativadoFluxoAte'];_0x1aa5f6['leadInfo.desativadoFluxoAte']=_0x5974fc?Number(_0x5974fc):null;}if(_0x587336(0x583)in _0xa9fd2d){let _0x36188c=_0xa9fd2d[_0x587336(0x583)][_0x587336(0x478)]();_0x1aa5f6[_0x587336(0x4f0)]=_0x36188c===_0x587336(0x169)||_0x36188c==='1'||_0x36188c===_0x587336(0x80d)||_0x36188c===_0x587336(0x6f0);}let _0x2efe2e=await this[_0x587336(0x200)]['chat'][_0x587336(0x72d)]({'where':{'_id':_0x4d8b69}},_0x1aa5f6,this[_0x587336(0x30d)][_0x587336(0x582)]);_0x2efe2e?(this[_0x587336(0x17b)][_0x587336(0x5ab)](this[_0x587336(0x2c6)]+'\x20('+this['instance'][_0x587336(0x582)]+_0x587336(0x258)+_0x2efe2e['_id']),q(this[_0x587336(0x2c6)],_0x587336(0x130),{'chat':_0x2efe2e})):this[_0x587336(0x17b)][_0x587336(0x6b3)](this[_0x587336(0x2c6)]+'\x20('+this[_0x587336(0x30d)][_0x587336(0x582)]+_0x587336(0x499));}catch(_0x261815){this[_0x587336(0x17b)]['error'](this[_0x587336(0x2c6)]+'\x20('+this['instance'][_0x587336(0x582)]+_0x587336(0x7b4)+(_0x261815 instanceof Error?_0x261815[_0x587336(0x740)]:JSON[_0x587336(0x53c)](_0x261815,null,0x2)));}}async[a0_0x40255d(0x620)](_0x2e122a,_0x25866a){const _0x3a75be=a0_0x40255d;this['logger'][_0x3a75be(0x5ab)](this[_0x3a75be(0x2c6)]+'\x20('+this['instance'][_0x3a75be(0x582)]+_0x3a75be(0x799)+_0x25866a);try{let _0x2de766=await this[_0x3a75be(0x200)]['chat']['updateOne']({'where':{'_id':_0x2e122a['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x25866a},this[_0x3a75be(0x30d)]['wuid']);this[_0x3a75be(0x17b)][_0x3a75be(0x5ab)](this[_0x3a75be(0x2c6)]+'\x20('+this['instance'][_0x3a75be(0x582)]+_0x3a75be(0x789)+_0x2e122a[_0x3a75be(0x3ba)]),this['logger'][_0x3a75be(0x5ab)](this[_0x3a75be(0x2c6)]+'\x20('+this[_0x3a75be(0x30d)]['wuid']+_0x3a75be(0x799)+JSON[_0x3a75be(0x53c)](_0x2de766,null,0x2)),_0x2de766&&q(this[_0x3a75be(0x2c6)],_0x3a75be(0x130),{'chat':_0x2de766});}catch(_0x41e2d1){this['logger'][_0x3a75be(0x6b3)](this[_0x3a75be(0x2c6)]+'\x20('+this[_0x3a75be(0x30d)][_0x3a75be(0x582)]+_0x3a75be(0x3e9)+(_0x41e2d1 instanceof Error?_0x41e2d1[_0x3a75be(0x740)]:JSON[_0x3a75be(0x53c)](_0x41e2d1,null,0x2)));}}async['findFlow'](_0x1b2974){const _0x3f36b1=a0_0x40255d;try{this[_0x3f36b1(0x17b)]['verbose'](this[_0x3f36b1(0x2c6)]+'\x20('+this[_0x3f36b1(0x30d)]['wuid']+_0x3f36b1(0x40d));let _0x130594=_0x1b2974[_0x3f36b1(0x362)](/\D/g,''),_0x3a8158=this[_0x3f36b1(0x3fb)]['flows'][_0x3f36b1(0x284)](_0x3e694c=>_0x3e694c['testingWith']===_0x130594);if(_0x3a8158||(this[_0x3f36b1(0x17b)][_0x3f36b1(0x5ab)](this[_0x3f36b1(0x2c6)]+'\x20('+this[_0x3f36b1(0x30d)][_0x3f36b1(0x582)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x3a8158=this[_0x3f36b1(0x3fb)][_0x3f36b1(0x4a2)][_0x3f36b1(0x284)](_0x1d5d0f=>_0x1d5d0f[_0x3f36b1(0x437)]===!0x0)),!_0x3a8158)return this[_0x3f36b1(0x17b)][_0x3f36b1(0x5ab)](this[_0x3f36b1(0x2c6)]+'\x20('+this[_0x3f36b1(0x30d)][_0x3f36b1(0x582)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x2f1279=await this[_0x3f36b1(0x200)][_0x3f36b1(0x46c)][_0x3f36b1(0x73b)]({'where':{'_id':_0x3a8158['_id']}});if(!_0x2f1279||!_0x2f1279[_0x3f36b1(0xd9)]?.[_0x3f36b1(0x5a1)](this['instance'][_0x3f36b1(0x582)]))throw this[_0x3f36b1(0x17b)]['error'](this[_0x3f36b1(0x2c6)]+'\x20('+this[_0x3f36b1(0x30d)][_0x3f36b1(0x582)]+'):\x20Flow\x20\x27'+_0x2f1279[_0x3f36b1(0x3ba)]+_0x3f36b1(0x69b)),new m(_0x3f36b1(0x287)+_0x2f1279['_id']+_0x3f36b1(0x69b));return _0x2f1279;}catch(_0x3f08fc){return this[_0x3f36b1(0x17b)][_0x3f36b1(0x6b3)](this['instanceName']+'\x20('+this[_0x3f36b1(0x30d)]['wuid']+_0x3f36b1(0x443)+(_0x3f08fc instanceof Error?_0x3f08fc[_0x3f36b1(0x740)]:JSON['stringify'](_0x3f08fc,null,0x2))),null;}}async[a0_0x40255d(0x3f5)](_0x4196ea,_0x422a0f){const _0x17f0d0=a0_0x40255d;try{let _0x57e0d1=!!_0x422a0f[_0x17f0d0(0x1a2)],_0x2a3ed9=_0x422a0f[_0x17f0d0(0x7ff)],_0x3a8181=null;if(this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x17f0d0(0x582)]+_0x17f0d0(0x4b8)+_0x57e0d1+_0x17f0d0(0x3a1)+_0x2a3ed9),_0x57e0d1){this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)]['wuid']+_0x17f0d0(0x709));let _0x332c82={'where':{'remoteJid':_0x4196ea,'waitingMenu_id':_0x2a3ed9}};if(_0x3a8181=await this[_0x17f0d0(0x200)][_0x17f0d0(0x336)][_0x17f0d0(0x73b)](_0x332c82,this['instance']['wuid']),!_0x3a8181)return this[_0x17f0d0(0x17b)]['verbose'](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+_0x17f0d0(0x52b)),null;let _0xb71293=Date[_0x17f0d0(0x15d)](),_0x2a8c99=_0x3a8181?.['minutesToClose']||0x0,_0x4e0da8=_0xb71293-_0x2a8c99*0x3c*0x3e8;if(_0x3a8181[_0x17f0d0(0x255)]<_0x4e0da8){this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this[_0x17f0d0(0x2c6)]+'\x20('+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x489ba3={'number':_0x3a8181[_0x17f0d0(0x293)],'options':{'delay':0x0},'textMessage':{'text':_0x3a8181[_0x17f0d0(0x30a)]}};await this[_0x17f0d0(0x706)](_0x489ba3);let _0x527d30={'status':_0x17f0d0(0x7f2),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x17f0d0(0x200)][_0x17f0d0(0x336)]['updateOne'](_0x3a8181['_id'],_0x527d30,this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]),null;}return _0x3a8181[_0x17f0d0(0x255)]=Date[_0x17f0d0(0x15d)](),_0x3a8181[_0x17f0d0(0x7d6)]['lastReceivedMessage']=_0x422a0f,_0x3a8181;}else{this['logger'][_0x17f0d0(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x17f0d0(0x582)]+_0x17f0d0(0x377)+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x17f0d0(0x17b)]['verbose'](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+'):\x20Procurando\x20conversa');let _0x24a28b={'where':{'remoteJid':_0x4196ea,'status':_0x17f0d0(0x3c6)}};if(_0x3a8181=await this[_0x17f0d0(0x200)][_0x17f0d0(0x336)][_0x17f0d0(0x73b)](_0x24a28b,this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]),!_0x3a8181){let _0x481b5e=await this['findFlow'](_0x4196ea);if(_0x481b5e&&(_0x3a8181=await this['createNewConversation'](_0x481b5e,_0x422a0f[_0x17f0d0(0x713)],_0x422a0f)),!_0x3a8181)return null;}let _0x38b9a6=Date[_0x17f0d0(0x15d)](),_0x642944=_0x3a8181?.['minutesToClose']||0x0,_0x5157ea=_0x38b9a6-_0x642944*0x3c*0x3e8;if(this['logger'][_0x17f0d0(0x5ab)](this[_0x17f0d0(0x2c6)]+'\x20('+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+_0x17f0d0(0x49e)+_0x38b9a6+_0x17f0d0(0x561)+_0x642944+',\x20Expiration\x20Time:\x20'+_0x5157ea),this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)]['wuid']+_0x17f0d0(0x5da)),this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this[_0x17f0d0(0x2c6)]+'\x20('+this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]+_0x17f0d0(0x5e3)+_0x3a8181[_0x17f0d0(0x255)]),this[_0x17f0d0(0x17b)][_0x17f0d0(0x5ab)](this[_0x17f0d0(0x2c6)]+'\x20('+this[_0x17f0d0(0x30d)]['wuid']+_0x17f0d0(0x77f)+_0x5157ea),_0x3a8181['lastInteraction']<_0x5157ea){this[_0x17f0d0(0x17b)]['verbose'](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)]['wuid']+_0x17f0d0(0x4a8));let _0x72862=await this[_0x17f0d0(0x288)](_0x4196ea);if(_0x72862===null)return null;_0x3a8181&&await this[_0x17f0d0(0x200)][_0x17f0d0(0x336)][_0x17f0d0(0x72d)](_0x3a8181[_0x17f0d0(0x3ba)],{'status':'closed'},this[_0x17f0d0(0x30d)][_0x17f0d0(0x582)]),_0x3a8181=await this['createNewConversation'](_0x72862,_0x422a0f[_0x17f0d0(0x713)],_0x422a0f);}return _0x3a8181['lastInteraction']=_0x38b9a6,_0x3a8181['chatLog'][_0x17f0d0(0x3df)]=_0x422a0f,_0x3a8181;}}catch(_0xb56b79){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x17f0d0(0x30d)]['wuid']+_0x17f0d0(0x2e8)+(_0xb56b79 instanceof Error?_0xb56b79[_0x17f0d0(0x740)]:JSON[_0x17f0d0(0x53c)](_0xb56b79,null,0x2))),null;}}async[a0_0x40255d(0x44c)](_0x17774e,_0x2176ec,_0x4afd09){const _0x1a5958=a0_0x40255d;this[_0x1a5958(0x17b)]['verbose'](this[_0x1a5958(0x2c6)]+'\x20('+this[_0x1a5958(0x30d)][_0x1a5958(0x582)]+_0x1a5958(0x315));try{let _0x3d5f94=require(_0x1a5958(0x12d))[_0x1a5958(0x120)],_0x44a44c=Date[_0x1a5958(0x15d)](),_0x11f896=_0x1a5958(0x505),_0x5c8557=_0x2176ec[_0x1a5958(0x363)]?null:_0x4afd09,_0x491211=_0x2176ec[_0x1a5958(0x363)]?_0x4afd09:null,_0x72b90b=_0x2176ec[_0x1a5958(0x293)],_0x1860a4=this[_0x1a5958(0x3fb)]['flows'][_0x1a5958(0x284)](_0x210f34=>_0x210f34['_id']===_0x17774e['_id']?.[_0x1a5958(0x334)]()),_0x4b64bf=_0x1860a4?.[_0x1a5958(0x1c4)]??_0x17774e[_0x1a5958(0x1c4)]??0x0,_0x84e38=_0x1860a4?.[_0x1a5958(0x627)]??_0x17774e[_0x1a5958(0x627)]??!0x1;await this[_0x1a5958(0x228)](_0x72b90b);let _0x4139e7={'flowId':_0x17774e['_id'],..._0x17774e,'chatLog':null},_0x497f20=await this['variablesToObject'](_0x4139e7['variables']),_0x14beb5=await this[_0x1a5958(0x2a6)](_0x72b90b),_0x32abfc={..._0x497f20,..._0x14beb5,'_remoteJid':_0x72b90b},_0x3a5270={'lastReceivedMessage':_0x5c8557,'lastSendMessage':_0x491211,'lastBlockId':_0x11f896,'lastCondition':!0x0,'realVariables':_0x32abfc};_0x4139e7['chatLog']=_0x3a5270,delete _0x4139e7[_0x1a5958(0x3ba)],_0x4139e7[_0x1a5958(0x3ba)]=new _0x3d5f94(),_0x4139e7['lastInteraction']=_0x44a44c,_0x4139e7[_0x1a5958(0x784)]='open',_0x4139e7[_0x1a5958(0x293)]=_0x72b90b,_0x4139e7[_0x1a5958(0x1c4)]=_0x4b64bf,_0x4139e7[_0x1a5958(0x627)]=_0x84e38;let _0x5602d6=await this[_0x1a5958(0x200)][_0x1a5958(0x336)]['updateOne'](_0x4139e7[_0x1a5958(0x3ba)],_0x4139e7,this[_0x1a5958(0x30d)][_0x1a5958(0x582)]);return this[_0x1a5958(0x17b)][_0x1a5958(0x5ab)](this['instanceName']+'\x20('+this[_0x1a5958(0x30d)][_0x1a5958(0x582)]+_0x1a5958(0x2be)),_0x5602d6?_0x4139e7:null;}catch(_0x5d679d){return this[_0x1a5958(0x17b)]['error'](this[_0x1a5958(0x2c6)]+'\x20('+this['instance'][_0x1a5958(0x582)]+_0x1a5958(0x4f7)+(_0x5d679d instanceof Error?_0x5d679d[_0x1a5958(0x740)]:JSON[_0x1a5958(0x53c)](_0x5d679d,null,0x2))),_0x5d679d;}}async[a0_0x40255d(0x508)](_0x47009c,_0x3d21de){const _0x220d1d=a0_0x40255d;let _0x4ed22d=_0x47009c[_0x220d1d(0x293)];_0x3d21de[_0x220d1d(0x62b)][_0x220d1d(0x293)]&&_0x3d21de[_0x220d1d(0x62b)]['remoteJid'][_0x220d1d(0x339)]()!==''&&(_0x4ed22d=_0x3d21de[_0x220d1d(0x62b)]['remoteJid'][_0x220d1d(0x339)]()),this['logger'][_0x220d1d(0x5ab)](this[_0x220d1d(0x2c6)]+'\x20('+this[_0x220d1d(0x30d)][_0x220d1d(0x582)]+'):\x20Enviando\x20texto');let _0x28c801={'number':_0x4ed22d,'options':{'delay':_0x3d21de['uazapi'][_0x220d1d(0x155)],'linkPreview':_0x3d21de[_0x220d1d(0x62b)][_0x220d1d(0x410)]},'textMessage':{'text':_0x3d21de[_0x220d1d(0x62b)][_0x220d1d(0x6ed)]}};try{let _0x3e5f47=await this['textMessage'](_0x28c801);if(_0x3e5f47){let _0x359145={'_id':_0x3e5f47[_0x220d1d(0x713)]['id'],'_fromMe':_0x3e5f47[_0x220d1d(0x713)]['fromMe'],'_remoteJid':_0x3e5f47['key']['remoteJid']},_0x14baf4=(0x0,w[_0x220d1d(0x38d)])(_0x3e5f47[_0x220d1d(0x740)]),_0x2eac59=(0x0,w[_0x220d1d(0x7a5)])(_0x14baf4);_0x47009c[_0x220d1d(0x7d6)][_0x220d1d(0x496)]=_0x3d21de['_id']['toString']();let {message_normalized:_0x296fe6}=this[_0x220d1d(0x1d8)](_0x14baf4,_0x2eac59,null);_0x47009c[_0x220d1d(0x7d6)]['lastSendMessage']=await _0x296fe6;let _0x221dd5={'messageId':_0x3e5f47[_0x220d1d(0x713)]['id']},_0x8c53eb=_0x47009c['chatLog'][_0x220d1d(0x295)];Object['assign'](_0x8c53eb,_0x359145),_0x47009c[_0x220d1d(0x7d6)][_0x220d1d(0x295)]=_0x8c53eb,this['updateConversation'](_0x47009c,_0x3d21de,_0x221dd5);}else{let _0x1aaf38={'error':!0x0};this[_0x220d1d(0x696)](_0x47009c,_0x3d21de,_0x1aaf38),this[_0x220d1d(0x17b)]['error'](this['instanceName']+'\x20('+this[_0x220d1d(0x30d)]['wuid']+_0x220d1d(0x2f5));}}catch(_0xd97519){let _0xf227fa={'error':!0x0,'errorLog':_0xd97519[_0x220d1d(0x334)]()};this[_0x220d1d(0x696)](_0x47009c,_0x3d21de,_0xf227fa),this['logger'][_0x220d1d(0x6b3)](this[_0x220d1d(0x2c6)]+'\x20('+this[_0x220d1d(0x30d)][_0x220d1d(0x582)]+_0x220d1d(0x39f)+(_0xd97519 instanceof Error?_0xd97519[_0x220d1d(0x740)]:JSON[_0x220d1d(0x53c)](_0xd97519,null,0x2)));}}async['uazapiSendMedia'](_0x5822ba,_0x2b076c){const _0x1df406=a0_0x40255d;let _0x1a7d84=_0x5822ba[_0x1df406(0x293)];_0x2b076c['uazapi'][_0x1df406(0x293)]&&_0x2b076c[_0x1df406(0x62b)][_0x1df406(0x293)][_0x1df406(0x339)]()!==''&&(_0x1a7d84=_0x2b076c['uazapi']['remoteJid'][_0x1df406(0x339)]()),this[_0x1df406(0x17b)][_0x1df406(0x5ab)](this[_0x1df406(0x2c6)]+'\x20('+this['instance'][_0x1df406(0x582)]+_0x1df406(0x590));let _0x50e0ea={'number':_0x1a7d84,'options':{'delay':_0x2b076c[_0x1df406(0x62b)][_0x1df406(0x155)],'linkPreview':_0x2b076c[_0x1df406(0x62b)]['linkPreview']},'mediaMessage':{'mediatype':_0x2b076c[_0x1df406(0x62b)][_0x1df406(0x4d0)],'caption':_0x2b076c[_0x1df406(0x62b)]['caption'],'media':_0x2b076c['uazapi']['media'],'fileName':_0x2b076c[_0x1df406(0x62b)][_0x1df406(0x46a)]}};try{let _0x5e0b71=await this[_0x1df406(0x2c8)](_0x50e0ea);if(_0x5e0b71){let _0x4b9d65={'_id':_0x5e0b71[_0x1df406(0x713)]['id'],'_fromMe':_0x5e0b71[_0x1df406(0x713)]['fromMe'],'_remoteJid':_0x5e0b71[_0x1df406(0x713)][_0x1df406(0x293)]},_0x378c59=(0x0,w[_0x1df406(0x38d)])(_0x5e0b71[_0x1df406(0x740)]),_0x4160de=(0x0,w[_0x1df406(0x7a5)])(_0x378c59);_0x5822ba[_0x1df406(0x7d6)][_0x1df406(0x496)]=_0x2b076c[_0x1df406(0x3ba)]['toString']();let {message_normalized:_0x5cb5af}=this['normalizeMessage'](_0x378c59,_0x4160de,null);_0x5822ba['chatLog'][_0x1df406(0x77a)]=await _0x5cb5af;let _0x53865a={'messageId':_0x5e0b71[_0x1df406(0x713)]['id']},_0x72d668=_0x5822ba['chatLog'][_0x1df406(0x295)];Object[_0x1df406(0x10c)](_0x72d668,_0x4b9d65),_0x5822ba[_0x1df406(0x7d6)][_0x1df406(0x295)]=_0x72d668,this['updateConversation'](_0x5822ba,_0x2b076c,_0x53865a);}else{let _0x3cc933={'error':!0x0};this[_0x1df406(0x696)](_0x5822ba,_0x2b076c,_0x3cc933),this[_0x1df406(0x17b)][_0x1df406(0x6b3)](this[_0x1df406(0x2c6)]+'\x20('+this[_0x1df406(0x30d)][_0x1df406(0x582)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x58b962){let _0x2e575f={'error':!0x0,'errorLog':_0x58b962[_0x1df406(0x334)]()};this['updateConversation'](_0x5822ba,_0x2b076c,_0x2e575f),this[_0x1df406(0x17b)]['error'](this[_0x1df406(0x2c6)]+'\x20('+this[_0x1df406(0x30d)][_0x1df406(0x582)]+_0x1df406(0x46e)+(_0x58b962 instanceof Error?_0x58b962['message']:JSON[_0x1df406(0x53c)](_0x58b962,null,0x2)));}}async[a0_0x40255d(0x720)](_0x29206b,_0x3694c6){const _0x48a922=a0_0x40255d;let _0x2a0dd5=_0x29206b[_0x48a922(0x293)];_0x3694c6[_0x48a922(0x62b)][_0x48a922(0x293)]&&_0x3694c6[_0x48a922(0x62b)]['remoteJid'][_0x48a922(0x339)]()!==''&&(_0x2a0dd5=_0x3694c6[_0x48a922(0x62b)][_0x48a922(0x293)]['trim']()),this[_0x48a922(0x17b)]['verbose'](this[_0x48a922(0x2c6)]+'\x20('+this[_0x48a922(0x30d)]['wuid']+'):\x20Enviando\x20localização');let _0x187f2b={'number':_0x2a0dd5,'options':{'delay':_0x3694c6[_0x48a922(0x62b)]['delay']},'locationMessage':{'name':_0x3694c6['uazapi'][_0x48a922(0x6cc)],'address':_0x3694c6[_0x48a922(0x62b)][_0x48a922(0x50e)],'latitude':_0x3694c6['uazapi'][_0x48a922(0x7c9)],'longitude':_0x3694c6[_0x48a922(0x62b)]['longitude']}};try{let _0x462222=await this[_0x48a922(0x4e4)](_0x187f2b);if(_0x462222){let _0x3949bd={'_id':_0x462222[_0x48a922(0x713)]['id'],'_fromMe':_0x462222[_0x48a922(0x713)]['fromMe'],'_remoteJid':_0x462222[_0x48a922(0x713)]['remoteJid']},_0x58d591=(0x0,w[_0x48a922(0x38d)])(_0x462222[_0x48a922(0x740)]),_0x1602ad=(0x0,w[_0x48a922(0x7a5)])(_0x58d591);_0x29206b[_0x48a922(0x7d6)]['lastBlockId']=_0x3694c6[_0x48a922(0x3ba)][_0x48a922(0x334)]();let {message_normalized:_0x467905}=this[_0x48a922(0x1d8)](_0x58d591,_0x1602ad,null);_0x29206b['chatLog'][_0x48a922(0x77a)]=await _0x467905;let _0x24a2a8={'messageId':_0x462222[_0x48a922(0x713)]['id']},_0x5c930e=_0x29206b[_0x48a922(0x7d6)]['realVariables'];Object['assign'](_0x5c930e,_0x3949bd),_0x29206b[_0x48a922(0x7d6)][_0x48a922(0x295)]=_0x5c930e,this['updateConversation'](_0x29206b,_0x3694c6,_0x24a2a8);}else{let _0x3c5512={'error':!0x0};this[_0x48a922(0x696)](_0x29206b,_0x3694c6,_0x3c5512),this[_0x48a922(0x17b)][_0x48a922(0x6b3)](this['instanceName']+'\x20('+this['instance'][_0x48a922(0x582)]+_0x48a922(0x69a));}}catch(_0x3d57a4){let _0x588574={'error':!0x0,'errorLog':_0x3d57a4[_0x48a922(0x334)]()};this[_0x48a922(0x696)](_0x29206b,_0x3694c6,_0x588574),this[_0x48a922(0x17b)][_0x48a922(0x6b3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x48a922(0x528)+(_0x3d57a4 instanceof Error?_0x3d57a4[_0x48a922(0x740)]:JSON[_0x48a922(0x53c)](_0x3d57a4,null,0x2)));}}async[a0_0x40255d(0x537)](_0x41c223,_0x1c0290){const _0x3a62b7=a0_0x40255d;let _0xfba13=_0x41c223[_0x3a62b7(0x293)];_0x1c0290[_0x3a62b7(0x62b)][_0x3a62b7(0x293)]&&_0x1c0290[_0x3a62b7(0x62b)][_0x3a62b7(0x293)][_0x3a62b7(0x339)]()!==''&&(_0xfba13=_0x1c0290[_0x3a62b7(0x62b)][_0x3a62b7(0x293)][_0x3a62b7(0x339)]()),this[_0x3a62b7(0x17b)]['verbose'](this[_0x3a62b7(0x2c6)]+'\x20('+this[_0x3a62b7(0x30d)]['wuid']+_0x3a62b7(0x540));let _0x10cacc={'number':_0xfba13,'options':{'delay':_0x1c0290[_0x3a62b7(0x62b)]['delay']},'audioMessage':{'audio':_0x1c0290['uazapi']['audio']}};try{let _0x360d5a=await this[_0x3a62b7(0x424)](_0x10cacc);if(_0x360d5a){let _0xa087df={'_id':_0x360d5a[_0x3a62b7(0x713)]['id'],'_fromMe':_0x360d5a['key'][_0x3a62b7(0x363)],'_remoteJid':_0x360d5a[_0x3a62b7(0x713)]['remoteJid']},_0x20ec0f=(0x0,w[_0x3a62b7(0x38d)])(_0x360d5a[_0x3a62b7(0x740)]),_0x584bdb=(0x0,w[_0x3a62b7(0x7a5)])(_0x20ec0f);_0x41c223[_0x3a62b7(0x7d6)]['lastBlockId']=_0x1c0290['_id'][_0x3a62b7(0x334)]();let {message_normalized:_0x4683b7}=this[_0x3a62b7(0x1d8)](_0x20ec0f,_0x584bdb,null);_0x41c223[_0x3a62b7(0x7d6)]['lastSendMessage']=await _0x4683b7;let _0x5962cd={'messageId':_0x360d5a[_0x3a62b7(0x713)]['id']},_0x427a46=_0x41c223[_0x3a62b7(0x7d6)][_0x3a62b7(0x295)];Object['assign'](_0x427a46,_0xa087df),_0x41c223['chatLog'][_0x3a62b7(0x295)]=_0x427a46,this[_0x3a62b7(0x696)](_0x41c223,_0x1c0290,_0x5962cd);}else{let _0x4fad85={'error':!0x0};this[_0x3a62b7(0x696)](_0x41c223,_0x1c0290,_0x4fad85),this[_0x3a62b7(0x17b)]['error'](this[_0x3a62b7(0x2c6)]+'\x20('+this[_0x3a62b7(0x30d)][_0x3a62b7(0x582)]+_0x3a62b7(0x3f9));}}catch(_0x47066f){let _0x559a12={'error':!0x0,'errorLog':_0x47066f['toString']()};this[_0x3a62b7(0x696)](_0x41c223,_0x1c0290,_0x559a12),this[_0x3a62b7(0x17b)][_0x3a62b7(0x6b3)](this[_0x3a62b7(0x2c6)]+'\x20('+this['instance'][_0x3a62b7(0x582)]+_0x3a62b7(0x802)+(_0x47066f instanceof Error?_0x47066f[_0x3a62b7(0x740)]:JSON[_0x3a62b7(0x53c)](_0x47066f,null,0x2)));}}async[a0_0x40255d(0x74c)](_0x385267,_0x3df3c2){const _0x14838c=a0_0x40255d;let _0x6cd1c8=_0x385267[_0x14838c(0x293)];_0x3df3c2[_0x14838c(0x62b)]['remoteJid']&&_0x3df3c2['uazapi']['remoteJid'][_0x14838c(0x339)]()!==''&&(_0x6cd1c8=_0x3df3c2[_0x14838c(0x62b)][_0x14838c(0x293)]['trim']()),this[_0x14838c(0x17b)][_0x14838c(0x5ab)](this['instanceName']+'\x20('+this[_0x14838c(0x30d)][_0x14838c(0x582)]+_0x14838c(0x33f));let _0x2a43dc={'number':_0x6cd1c8,'options':{'delay':_0x3df3c2[_0x14838c(0x62b)][_0x14838c(0x155)]},'contactMessage':[{'fullName':_0x3df3c2[_0x14838c(0x62b)][_0x14838c(0x25b)],'phoneNumber':_0x3df3c2['uazapi']['phoneNumber']}]};try{let _0x38a499=await this['contactMessage'](_0x2a43dc);if(_0x38a499){let _0x5201a6={'_id':_0x38a499[_0x14838c(0x713)]['id'],'_fromMe':_0x38a499['key'][_0x14838c(0x363)],'_remoteJid':_0x38a499[_0x14838c(0x713)][_0x14838c(0x293)]},_0x12d7e4=(0x0,w[_0x14838c(0x38d)])(_0x38a499['message']),_0x56f136=(0x0,w[_0x14838c(0x7a5)])(_0x12d7e4);_0x385267['chatLog']['lastBlockId']=_0x3df3c2[_0x14838c(0x3ba)][_0x14838c(0x334)]();let {message_normalized:_0x565aa9}=this[_0x14838c(0x1d8)](_0x12d7e4,_0x56f136,null);_0x385267['chatLog'][_0x14838c(0x77a)]=await _0x565aa9;let _0x1fc8c1={'messageId':_0x38a499[_0x14838c(0x713)]['id']},_0x795747=_0x385267[_0x14838c(0x7d6)]['realVariables'];Object[_0x14838c(0x10c)](_0x795747,_0x5201a6),_0x385267['chatLog']['realVariables']=_0x795747,this[_0x14838c(0x696)](_0x385267,_0x3df3c2,_0x1fc8c1);}else{let _0x43989d={'error':!0x0};this['updateConversation'](_0x385267,_0x3df3c2,_0x43989d),this[_0x14838c(0x17b)]['error'](this[_0x14838c(0x2c6)]+'\x20('+this[_0x14838c(0x30d)][_0x14838c(0x582)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x10766f){let _0x563877={'error':!0x0,'errorLog':_0x10766f[_0x14838c(0x334)]()};this['updateConversation'](_0x385267,_0x3df3c2,_0x563877),this[_0x14838c(0x17b)][_0x14838c(0x6b3)](this[_0x14838c(0x2c6)]+'\x20('+this[_0x14838c(0x30d)][_0x14838c(0x582)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x10766f instanceof Error?_0x10766f[_0x14838c(0x740)]:JSON[_0x14838c(0x53c)](_0x10766f,null,0x2)));}}[a0_0x40255d(0x4f6)](_0x2bf655,_0x38760b){const _0x86845b=a0_0x40255d;for(let _0xbc9da2 of _0x2bf655)_0xbc9da2[_0x86845b(0x1b4)]&&(_0xbc9da2[_0x86845b(0x1b4)]=this[_0x86845b(0xde)](_0xbc9da2['option'],_0x38760b)),_0xbc9da2['optionDescription']&&(_0xbc9da2[_0x86845b(0x6b9)]=this[_0x86845b(0xde)](_0xbc9da2[_0x86845b(0x6b9)],_0x38760b));}async[a0_0x40255d(0x808)](_0xc11e2d,_0x421159){const _0x4c1d50=a0_0x40255d;let _0xe82cce=_0xc11e2d[_0x4c1d50(0x293)];_0x421159[_0x4c1d50(0x62b)]['remoteJid']&&_0x421159[_0x4c1d50(0x62b)]['remoteJid']['trim']()!==''&&(_0xe82cce=_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x293)][_0x4c1d50(0x339)]()),this[_0x4c1d50(0x17b)][_0x4c1d50(0x5ab)](this[_0x4c1d50(0x2c6)]+'\x20('+this[_0x4c1d50(0x30d)][_0x4c1d50(0x582)]+'):\x20Enviando\x20enquete');let _0x588d1d=_0xc11e2d[_0x4c1d50(0x7e9)][_0x4c1d50(0x750)](_0x15d9c4=>_0x15d9c4['blockId']===_0x421159['_id'])[_0x4c1d50(0x712)]((_0x36201f,_0x70df58)=>_0x36201f[_0x4c1d50(0x650)]-_0x70df58[_0x4c1d50(0x650)]);this[_0x4c1d50(0x4f6)](_0x588d1d,_0xc11e2d[_0x4c1d50(0x7d6)][_0x4c1d50(0x295)]);let _0x4365b0=_0x588d1d['map'](_0x363ca9=>_0x363ca9[_0x4c1d50(0x1b4)]),_0x38fc71={'number':_0xe82cce,'menuMessage':{'type':_0x421159['uazapi'][_0x4c1d50(0x4dd)]||_0x4c1d50(0x66e),'text':_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6ed)]||_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6cc)],'footerText':_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6e4)],'buttonText':_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x3e6)],'selectableCount':0x1,'choices':_0x4365b0},'options':{'delay':_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x155)]}};try{let _0x103cb0=await this['menuMessage'](_0x38fc71);if(_0x103cb0){let _0x35344b={'_id':_0x103cb0[_0x4c1d50(0x713)]['id'],'_fromMe':_0x103cb0['key']['fromMe'],'_remoteJid':_0x103cb0[_0x4c1d50(0x713)][_0x4c1d50(0x293)]};_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x7f7)]===!0x0&&(_0xc11e2d['status']=_0x4c1d50(0x5f0),this[_0x4c1d50(0x17b)][_0x4c1d50(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x4c1d50(0x582)]+'):\x20conversation.status:\x20'+_0xc11e2d[_0x4c1d50(0x784)])),this[_0x4c1d50(0x17b)][_0x4c1d50(0x5ab)](this[_0x4c1d50(0x2c6)]+'\x20('+this[_0x4c1d50(0x30d)][_0x4c1d50(0x582)]+_0x4c1d50(0x115)+(_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6cc)]||_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6ed)])),_0xc11e2d[_0x4c1d50(0x656)]=_0x103cb0['key']['id'],_0xc11e2d['waitingMenu_text']=_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6cc)]||_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x6ed)],_0xc11e2d[_0x4c1d50(0x4ce)]=_0x588d1d,_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x345)]&&(_0xc11e2d['waitingMenu_ExpiredMessage']=_0x421159[_0x4c1d50(0x62b)][_0x4c1d50(0x345)]),this[_0x4c1d50(0x17b)]['verbose'](this[_0x4c1d50(0x2c6)]+'\x20('+this[_0x4c1d50(0x30d)][_0x4c1d50(0x582)]+_0x4c1d50(0xf8)+_0xc11e2d['waitingMenu_text']);let _0x11c252=(0x0,w['normalizeMessageContent'])(_0x103cb0[_0x4c1d50(0x740)]),_0x2f3bf6=(0x0,w[_0x4c1d50(0x7a5)])(_0x11c252);_0xc11e2d[_0x4c1d50(0x7d6)]['lastBlockId']=_0x421159[_0x4c1d50(0x3ba)][_0x4c1d50(0x334)]();let {message_normalized:_0x320e8d}=this[_0x4c1d50(0x1d8)](_0x11c252,_0x2f3bf6,null);_0xc11e2d[_0x4c1d50(0x7d6)][_0x4c1d50(0x77a)]=await _0x320e8d;let _0x4d48df={'messageId':_0x103cb0[_0x4c1d50(0x713)]['id']},_0x2018d7=_0xc11e2d[_0x4c1d50(0x7d6)][_0x4c1d50(0x295)];Object[_0x4c1d50(0x10c)](_0x2018d7,_0x35344b),_0xc11e2d[_0x4c1d50(0x7d6)][_0x4c1d50(0x295)]=_0x2018d7,this[_0x4c1d50(0x696)](_0xc11e2d,_0x421159,_0x4d48df);}else{let _0x4deb3c={'error':!0x0};this[_0x4c1d50(0x696)](_0xc11e2d,_0x421159,_0x4deb3c),this['logger']['error'](this[_0x4c1d50(0x2c6)]+'\x20('+this['instance']['wuid']+_0x4c1d50(0x647));}}catch(_0x2854a6){let _0xd43e53={'error':!0x0,'errorLog':_0x2854a6 instanceof Error?_0x2854a6[_0x4c1d50(0x740)]:JSON['stringify'](_0x2854a6,null,0x2)};this[_0x4c1d50(0x696)](_0xc11e2d,_0x421159,_0xd43e53),this[_0x4c1d50(0x17b)]['error'](this[_0x4c1d50(0x2c6)]+'\x20('+this[_0x4c1d50(0x30d)][_0x4c1d50(0x582)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x2854a6 instanceof Error?_0x2854a6[_0x4c1d50(0x740)]:JSON[_0x4c1d50(0x53c)](_0x2854a6,null,0x2)));}}async[a0_0x40255d(0x7c1)](_0x32ceb1,_0x314464){const _0x33e087=a0_0x40255d;this['logger'][_0x33e087(0x5ab)](this[_0x33e087(0x2c6)]+'\x20('+this[_0x33e087(0x30d)][_0x33e087(0x582)]+_0x33e087(0x224));let _0x444e8c=_0x32ceb1[_0x33e087(0x7d6)][_0x33e087(0x28b)][_0x33e087(0x284)](_0x189b87=>_0x189b87[_0x33e087(0x807)][_0x33e087(0x334)]()===_0x314464['uazapi'][_0x33e087(0x807)][_0x33e087(0x334)]()),_0x3e2d72={'id':_0x444e8c[_0x33e087(0x681)],'remoteJid':_0x444e8c[_0x33e087(0x293)],'fromMe':_0x444e8c[_0x33e087(0x363)]};try{let _0x4f20f8=await this[_0x33e087(0x4ec)](_0x3e2d72);if(_0x4f20f8){let _0x13c743=(0x0,w[_0x33e087(0x38d)])(_0x4f20f8['message']),_0x31833a=(0x0,w[_0x33e087(0x7a5)])(_0x13c743);_0x32ceb1[_0x33e087(0x7d6)]['lastBlockId']=_0x314464[_0x33e087(0x3ba)][_0x33e087(0x334)]();let {message_normalized:_0x179b25}=this['normalizeMessage'](_0x13c743,_0x31833a,null);_0x32ceb1[_0x33e087(0x7d6)][_0x33e087(0x77a)]=await _0x179b25;let _0x52b56a={};this[_0x33e087(0x696)](_0x32ceb1,_0x314464,_0x52b56a);}else{let _0x81afa9={'error':!0x0};this[_0x33e087(0x696)](_0x32ceb1,_0x314464,_0x81afa9),this[_0x33e087(0x17b)][_0x33e087(0x6b3)](this[_0x33e087(0x2c6)]+'\x20('+this[_0x33e087(0x30d)][_0x33e087(0x582)]+_0x33e087(0x7c3));}}catch(_0x3d17e4){let _0x4105e2={'error':!0x0,'errorLog':_0x3d17e4 instanceof Error?_0x3d17e4[_0x33e087(0x740)]:JSON[_0x33e087(0x53c)](_0x3d17e4,null,0x2)};this[_0x33e087(0x696)](_0x32ceb1,_0x314464,_0x4105e2),this['logger'][_0x33e087(0x6b3)](this[_0x33e087(0x2c6)]+'\x20('+this[_0x33e087(0x30d)][_0x33e087(0x582)]+_0x33e087(0x6dc)+(_0x3d17e4 instanceof Error?_0x3d17e4['message']:JSON['stringify'](_0x3d17e4,null,0x2)));}}async[a0_0x40255d(0x5d5)](_0x45e460,_0x276d1b){const _0xffad34=a0_0x40255d;if(_0x45e460[_0xffad34(0x6cc)]||(_0x45e460[_0xffad34(0x6cc)]=(0x0,X['v4'])()),_0x276d1b!==Ti&&_0x45e460?.[_0xffad34(0x57b)])throw new m(_0xffad34(0x41c));if(_0xffad34(0x3ba)in _0x45e460&&_0xffad34(0x811)in _0x45e460)return this['AddUserFlow'](_0x45e460[_0xffad34(0x811)],_0x45e460[_0xffad34(0x3ba)]);this[_0xffad34(0x17b)][_0xffad34(0x5ab)](this[_0xffad34(0x2c6)]+'\x20('+this['instance']['wuid']+_0xffad34(0x134));let _0x3ec0cd=this[_0xffad34(0x1df)](_0x45e460[_0xffad34(0x6cc)]),_0x268939=new fe['Types'][(_0xffad34(0x120))](),_0x33c4ec={'_id':_0x268939,'default':!0x0,'title':_0xffad34(0x7f1),'x':0x0,'y':0x0},_0x400139={'_id':new fe['Types'][(_0xffad34(0x120))](),'order':0x1,'groupId':_0x268939[_0xffad34(0x334)](),'type':_0xffad34(0x505)},_0x19cfec=this[_0xffad34(0x30d)][_0xffad34(0x582)],_0xb95a71={'_id':(0x0,X['v4'])(),'owner':_0x19cfec,'name':_0x3ec0cd,'whoCanEdit':[_0x19cfec],'whoCanUse':[_0x19cfec],'groups':[_0x33c4ec],'blocks':[_0x400139],..._0x45e460};try{let _0x57ec6b=await this[_0xffad34(0x200)][_0xffad34(0x46c)][_0xffad34(0x796)](_0xb95a71);return await this[_0xffad34(0x542)](),_0x57ec6b;}catch(_0x487eb0){let _0x49abb9=_0xffad34(0x385),_0x39e5d7=_0x487eb0 instanceof Error?_0x487eb0[_0xffad34(0x740)]:typeof _0x487eb0==_0xffad34(0x480)?JSON[_0xffad34(0x53c)](_0x487eb0):_0x487eb0,_0x183974=_0x49abb9+':\x20'+_0x39e5d7;throw this['logger'][_0xffad34(0x6b3)](this[_0xffad34(0x2c6)]+'\x20('+this[_0xffad34(0x30d)]['wuid']+_0xffad34(0x377)+_0x183974),new m(_0x183974);}}async[a0_0x40255d(0x5db)](_0x3601fa,_0x5a6c9e){const _0x16fa44=a0_0x40255d;try{this[_0x16fa44(0x17b)][_0x16fa44(0x5ab)](this[_0x16fa44(0x2c6)]+'\x20('+this[_0x16fa44(0x30d)][_0x16fa44(0x582)]+_0x16fa44(0x474));let _0x3c8061=await this[_0x16fa44(0x200)][_0x16fa44(0x46c)][_0x16fa44(0x73b)]({'where':{'_id':_0x5a6c9e,'owner':_0x3601fa}});if(!_0x3c8061)throw new m(_0x16fa44(0x1f3));if(_0x3c8061[_0x16fa44(0x439)]===!0x1&&!_0x3c8061[_0x16fa44(0x57b)])throw new m(_0x16fa44(0x75e));let _0x4d4b4d=new Set(_0x3c8061[_0x16fa44(0xd9)]??[]);_0x4d4b4d[_0x16fa44(0x482)](this[_0x16fa44(0x30d)]['wuid']);let _0x5e49fe=await this[_0x16fa44(0x200)][_0x16fa44(0x46c)][_0x16fa44(0x72d)](_0x5a6c9e,{..._0x3c8061,'whoCanUse':Array[_0x16fa44(0x326)](_0x4d4b4d)});return await this[_0x16fa44(0x542)](),_0x5e49fe;}catch(_0x33ec78){let _0x342867=_0x16fa44(0x146),_0xe253b9=_0x33ec78 instanceof Error?_0x33ec78[_0x16fa44(0x740)]:typeof _0x33ec78=='object'?JSON[_0x16fa44(0x53c)](_0x33ec78):_0x33ec78,_0x2c63cd=_0x342867+':\x20'+_0xe253b9;throw this[_0x16fa44(0x17b)][_0x16fa44(0x6b3)](this[_0x16fa44(0x2c6)]+'\x20('+this[_0x16fa44(0x30d)][_0x16fa44(0x582)]+_0x16fa44(0x377)+_0x2c63cd),new m(_0x2c63cd);}}[a0_0x40255d(0x1df)](_0x3c13d6){const _0x4050b6=a0_0x40255d;let _0xbbafef=_0x3c13d6,_0x52bd8f=0x1;for(;this[_0x4050b6(0x3fb)]['flows'][_0x4050b6(0x5fc)](_0x50f202=>_0x50f202[_0x4050b6(0x6cc)]===_0xbbafef);)_0x52bd8f++,_0xbbafef=_0x3c13d6+'\x20('+_0x52bd8f+')';return _0xbbafef;}async[a0_0x40255d(0x189)](_0x21c0d8){const _0x2ed366=a0_0x40255d;try{if(this[_0x2ed366(0x17b)]['verbose'](this[_0x2ed366(0x2c6)]+'\x20('+this['instance'][_0x2ed366(0x582)]+_0x2ed366(0x721)+_0x21c0d8[_0x2ed366(0x3ba)]+_0x2ed366(0x333)+_0x21c0d8[_0x2ed366(0x515)]),!this[_0x2ed366(0x3fb)]['flows'][_0x2ed366(0x284)](_0x54b7d1=>_0x54b7d1[_0x2ed366(0x3ba)]===_0x21c0d8[_0x2ed366(0x3ba)]))throw this[_0x2ed366(0x17b)][_0x2ed366(0x5ab)](this['instanceName']+'\x20('+this[_0x2ed366(0x30d)][_0x2ed366(0x582)]+_0x2ed366(0x218)+_0x21c0d8[_0x2ed366(0x3ba)]+_0x2ed366(0xdc)),new m(_0x2ed366(0x6dd));let _0x187a0d=await this[_0x2ed366(0x200)][_0x2ed366(0x46c)][_0x2ed366(0x73b)]({'where':{'_id':_0x21c0d8[_0x2ed366(0x3ba)]}});if(!_0x187a0d)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x2ed366(0x30d)][_0x2ed366(0x582)]===_0x187a0d[_0x2ed366(0x811)]){this['logger']['verbose'](this[_0x2ed366(0x2c6)]+'\x20('+this[_0x2ed366(0x30d)][_0x2ed366(0x582)]+_0x2ed366(0x302)+_0x21c0d8[_0x2ed366(0x3ba)]+_0x2ed366(0x322));let _0x26b559=await this[_0x2ed366(0x200)]['flow']['deleteOne']({'where':{'_id':_0x21c0d8[_0x2ed366(0x3ba)]}});return await this['synchronizeAndMapFlows'](),_0x26b559;}return this[_0x2ed366(0x17b)][_0x2ed366(0x5ab)](this[_0x2ed366(0x2c6)]+'\x20('+this[_0x2ed366(0x30d)][_0x2ed366(0x582)]+_0x2ed366(0x45b)+this['instance'][_0x2ed366(0x582)]+_0x2ed366(0x473)+_0x21c0d8[_0x2ed366(0x3ba)]+'\x27...'),_0x187a0d[_0x2ed366(0xd9)]=(_0x187a0d[_0x2ed366(0xd9)]??[])['filter'](_0x592302=>_0x592302!==this[_0x2ed366(0x30d)]['wuid']),_0x187a0d[_0x2ed366(0x147)]=(_0x187a0d[_0x2ed366(0x147)]??[])[_0x2ed366(0x750)](_0x2f0e27=>_0x2f0e27!==this[_0x2ed366(0x30d)]['wuid']),_0x187a0d[_0x2ed366(0x147)][_0x2ed366(0x111)]===0x0&&_0x187a0d[_0x2ed366(0xd9)][_0x2ed366(0x111)]>0x0&&(_0x187a0d['whoCanEdit'][_0x2ed366(0x4f1)](_0x187a0d['whoCanUse'][0x0]),this[_0x2ed366(0x17b)][_0x2ed366(0x5ab)](this['instanceName']+'\x20('+this[_0x2ed366(0x30d)][_0x2ed366(0x582)]+_0x2ed366(0x62f)+_0x187a0d[_0x2ed366(0xd9)][0x0]+_0x2ed366(0x222)+_0x21c0d8[_0x2ed366(0x3ba)]+_0x2ed366(0x25c))),await this[_0x2ed366(0x200)][_0x2ed366(0x46c)][_0x2ed366(0x72d)](_0x187a0d[_0x2ed366(0x3ba)],_0x187a0d),await this[_0x2ed366(0x542)](),{'message':'Fluxo\x20\x27'+_0x21c0d8[_0x2ed366(0x6cc)]+_0x2ed366(0x7e6)};}catch(_0x1e5ed4){return this[_0x2ed366(0x17b)][_0x2ed366(0x6b3)](this['instanceName']+'\x20('+this[_0x2ed366(0x30d)][_0x2ed366(0x582)]+_0x2ed366(0x798)+(_0x1e5ed4 instanceof Error?_0x1e5ed4[_0x2ed366(0x740)]:JSON['stringify'](_0x1e5ed4,null,0x2))),{'message':_0x2ed366(0x60e)+(_0x1e5ed4 instanceof Error?_0x1e5ed4[_0x2ed366(0x740)]:JSON[_0x2ed366(0x53c)](_0x1e5ed4,null,0x2))};}}async[a0_0x40255d(0xe1)](_0x5c95d5){const _0x312e66=a0_0x40255d;try{if(this[_0x312e66(0x17b)]['info'](this[_0x312e66(0x2c6)]+'\x20('+this[_0x312e66(0x30d)][_0x312e66(0x582)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x5c95d5),!this[_0x312e66(0x3fb)]&&(await this[_0x312e66(0x356)](),!this[_0x312e66(0x3fb)]))return null;let _0x39ac94=await this[_0x312e66(0x200)][_0x312e66(0x46c)][_0x312e66(0x73b)]({'where':{'_id':_0x5c95d5}});if(!_0x39ac94)throw new m(_0x312e66(0x401)+_0x5c95d5+_0x312e66(0x2fc));if(!(_0x39ac94[_0x312e66(0x57b)]||_0x39ac94[_0x312e66(0xd9)]?.[_0x312e66(0x5a1)](this[_0x312e66(0x30d)][_0x312e66(0x582)])))throw new m(_0x312e66(0x6a6)+name+'\x27');_0x39ac94[_0x312e66(0x57b)]&&!_0x39ac94[_0x312e66(0xd9)]?.[_0x312e66(0x5a1)](this[_0x312e66(0x30d)][_0x312e66(0x582)])&&(_0x39ac94[_0x312e66(0xd9)]=[..._0x39ac94['whoCanUse']??[],this[_0x312e66(0x30d)][_0x312e66(0x582)]],await this[_0x312e66(0x200)][_0x312e66(0x46c)][_0x312e66(0x72d)](_0x39ac94['_id'],_0x39ac94),this['synchronizeAndMapFlows']());let _0x49369c=this['AutomateSystem']?.[_0x312e66(0x564)][_0x312e66(0x54b)](_0x9ff071=>_0x9ff071['name']),_0x6ca60f=[_0x312e66(0x37c),_0x312e66(0x679),_0x312e66(0x62c),_0x312e66(0x108),'status',_0x312e66(0x380),_0x312e66(0x1ff),_0x312e66(0x23f),'etiquetas',_0x312e66(0xf4),'atendimentoAberto'];_0x39ac94[_0x312e66(0x106)]=_0x39ac94[_0x312e66(0x106)][_0x312e66(0x750)](_0x23b8d5=>!(_0x23b8d5[_0x312e66(0x6a1)]===_0x312e66(0x31b)||_0x23b8d5[_0x312e66(0x31b)])),_0x6ca60f[_0x312e66(0x659)](_0x3cc829=>{const _0x392046=_0x312e66;_0x39ac94[_0x392046(0x106)][_0x392046(0x4f1)]({'folder':_0x392046(0x31b),'name':_0x3cc829,'value':'','doc':'','leadInfo':!0x0});}),_0x49369c['forEach'](_0x376930=>{const _0x5b79da=_0x312e66;let _0x2dbe19=_0x39ac94['variables'][_0x5b79da(0x1b0)](_0x2a02cd=>_0x2a02cd[_0x5b79da(0x6cc)]===_0x376930);_0x2dbe19===-0x1?_0x39ac94[_0x5b79da(0x106)][_0x5b79da(0x4f1)]({'folder':_0x5b79da(0x31b),'name':_0x376930,'value':'','doc':'','leadInfo':!0x0}):(_0x39ac94[_0x5b79da(0x106)][_0x2dbe19][_0x5b79da(0x6a1)]='leadInfo',_0x39ac94[_0x5b79da(0x106)][_0x2dbe19][_0x5b79da(0x31b)]=!0x0);}),_0x39ac94[_0x312e66(0x195)]&&_0x39ac94['blocks'][_0x312e66(0x111)]>0x0&&_0x39ac94[_0x312e66(0x195)][_0x312e66(0x659)](_0x4bd581=>{const _0x40ed65=_0x312e66;_0x4bd581[_0x40ed65(0x300)]&&_0x4bd581[_0x40ed65(0x643)]&&_0x4bd581[_0x40ed65(0x300)]===_0x4bd581[_0x40ed65(0x643)]&&(_0x4bd581[_0x40ed65(0x643)]=null);});let _0x123a64=await this[_0x312e66(0x200)][_0x312e66(0x46c)]['updateOne'](_0x39ac94['_id'],_0x39ac94);if(!_0x123a64)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x123a64;}catch(_0x6fe825){let _0x10f600=_0x312e66(0x256),_0x929c6a=_0x6fe825 instanceof Error?_0x6fe825[_0x312e66(0x740)]:typeof _0x6fe825=='object'?JSON[_0x312e66(0x53c)](_0x6fe825):_0x6fe825,_0x3032a6=_0x10f600+':\x20'+_0x929c6a;throw this['logger'][_0x312e66(0x6b3)](this[_0x312e66(0x2c6)]+'\x20('+this[_0x312e66(0x30d)]['wuid']+_0x312e66(0x377)+_0x3032a6),new m(_0x3032a6);}}async['allFlows'](){const _0x2f0c9a=a0_0x40255d;try{this[_0x2f0c9a(0x17b)][_0x2f0c9a(0x5ab)](this[_0x2f0c9a(0x2c6)]+'\x20('+this[_0x2f0c9a(0x30d)][_0x2f0c9a(0x582)]+_0x2f0c9a(0x755)),await this['synchronizeAndMapFlows']();let _0x140348=await this['repository'][_0x2f0c9a(0x46c)][_0x2f0c9a(0x4f4)]({'where':{'globalShow':!0x0}});return[...this[_0x2f0c9a(0x3fb)][_0x2f0c9a(0x4a2)],..._0x140348];}catch(_0x3719c9){return this[_0x2f0c9a(0x17b)][_0x2f0c9a(0x6b3)](this[_0x2f0c9a(0x2c6)]+'\x20('+this['instance'][_0x2f0c9a(0x582)]+_0x2f0c9a(0x6f8)+(_0x3719c9 instanceof Error?_0x3719c9[_0x2f0c9a(0x740)]:JSON[_0x2f0c9a(0x53c)](_0x3719c9,null,0x2))),{'message':_0x2f0c9a(0x5a0)+(_0x3719c9 instanceof Error?_0x3719c9[_0x2f0c9a(0x740)]:String(_0x3719c9))};}}async[a0_0x40255d(0x28f)](_0x5ab422,_0x4761d7){const _0xfcf92b=a0_0x40255d;try{this[_0xfcf92b(0x17b)][_0xfcf92b(0x5ab)](this[_0xfcf92b(0x2c6)]+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+_0xfcf92b(0x12a));let _0x11f049=this[_0xfcf92b(0x3fb)][_0xfcf92b(0x4a2)][_0xfcf92b(0x284)](_0x5cfad3=>_0x5cfad3[_0xfcf92b(0x3ba)]===_0x5ab422[_0xfcf92b(0x3ba)]);if(!_0x11f049)throw this['logger'][_0xfcf92b(0x5ab)](this['instanceName']+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+'):\x20Fluxo\x20\x27'+_0x5ab422[_0xfcf92b(0x3ba)]+_0xfcf92b(0xdc)),new m(_0xfcf92b(0x6dd));let _0xc1054f=await this[_0xfcf92b(0x200)][_0xfcf92b(0x46c)][_0xfcf92b(0x73b)]({'where':{'_id':_0x5ab422[_0xfcf92b(0x3ba)]}});if(!_0xc1054f||!_0xc1054f[_0xfcf92b(0xd9)]?.['includes'](this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]))throw this['logger'][_0xfcf92b(0x6b3)](this[_0xfcf92b(0x2c6)]+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+_0xfcf92b(0x5ba)+_0x5ab422['_id']+_0xfcf92b(0x69b)),new m(_0xfcf92b(0x287)+_0x5ab422[_0xfcf92b(0x3ba)]+_0xfcf92b(0x69b));let _0x5d1196=this[_0xfcf92b(0x3fb)][_0xfcf92b(0x4a2)][_0xfcf92b(0x1b0)](_0x24546d=>_0x24546d[_0xfcf92b(0x3ba)]===_0x11f049[_0xfcf92b(0x3ba)]);if(_0x5d1196!==-0x1){let _0x30da1d=this[_0xfcf92b(0x3fb)]['flows'][_0x5d1196];if(_0x30da1d['name']=_0x5ab422['name']??_0x30da1d[_0xfcf92b(0x6cc)],_0x30da1d[_0xfcf92b(0x437)]=_0x5ab422[_0xfcf92b(0x437)]??_0x30da1d[_0xfcf92b(0x437)],_0x30da1d[_0xfcf92b(0x1c2)]=_0x5ab422[_0xfcf92b(0x1c2)]??_0x30da1d[_0xfcf92b(0x1c2)],_0x30da1d[_0xfcf92b(0x2c3)]=_0x5ab422[_0xfcf92b(0x203)]??_0x30da1d[_0xfcf92b(0x2c3)],_0x30da1d[_0xfcf92b(0x1c4)]=_0x5ab422[_0xfcf92b(0x1c4)]??_0x30da1d[_0xfcf92b(0x1c4)],_0x30da1d['readMessages']=_0x5ab422['readMessages']??_0x30da1d['readMessages'],_0x5ab422['default']&&this['AutomateSystem'][_0xfcf92b(0x4a2)][_0xfcf92b(0x659)]((_0xe9ac9b,_0x121a22)=>{_0x121a22!==_0x5d1196&&(_0xe9ac9b['default']=!0x1);}),this[_0xfcf92b(0x3fb)][_0xfcf92b(0x4a2)][_0x5d1196]=_0x30da1d,!await this[_0xfcf92b(0x200)]['automateSystem'][_0xfcf92b(0x2d3)]({'flows':this['AutomateSystem'][_0xfcf92b(0x4a2)]},this[_0xfcf92b(0x30d)]['wuid']))throw new m(_0xfcf92b(0x6a9));}let _0x42bd67=['global',_0xfcf92b(0x74a),_0xfcf92b(0x3bc),_0xfcf92b(0x39a)];for(let _0x29aca0 of _0x42bd67)delete _0x5ab422[_0x29aca0];if(_0xc1054f['whoCanEdit']?.[_0xfcf92b(0x5a1)](this[_0xfcf92b(0x30d)]['wuid'])||(_0x5ab422={'_id':_0x5ab422['_id']}),_0x4761d7!==Ti&&_0x5ab422?.['globalShow']&&!_0xc1054f?.['globalShow'])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x2dd78c=new Set(_0x5ab422[_0xfcf92b(0x147)]??_0xc1054f[_0xfcf92b(0x147)]);_0x2dd78c[_0xfcf92b(0x482)](_0xc1054f[_0xfcf92b(0x811)]);let _0x5ea6ef=new Set(_0x5ab422[_0xfcf92b(0xd9)]??_0xc1054f[_0xfcf92b(0xd9)]??[]);_0x2dd78c[_0xfcf92b(0x659)](_0x2dcc44=>_0x5ea6ef[_0xfcf92b(0x482)](_0x2dcc44)),_0x5ea6ef[_0xfcf92b(0x482)](_0xc1054f[_0xfcf92b(0x811)]),this['logger']['verbose'](this[_0xfcf92b(0x2c6)]+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+_0xfcf92b(0xf9)+Array['from'](_0x2dd78c)),this['logger'][_0xfcf92b(0x5ab)](this[_0xfcf92b(0x2c6)]+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+_0xfcf92b(0x368)+Array[_0xfcf92b(0x326)](_0x5ea6ef));let _0x1a2bb6=await this[_0xfcf92b(0x7ac)](Array[_0xfcf92b(0x326)](_0x5ea6ef)),_0x362660=Array['from'](_0x2dd78c)['filter'](_0x130ab0=>_0x1a2bb6[_0xfcf92b(0x5a1)](_0x130ab0)),_0x5235dd=Array[_0xfcf92b(0x326)](_0x5ea6ef)[_0xfcf92b(0x750)](_0x299d09=>_0x1a2bb6['includes'](_0x299d09));this[_0xfcf92b(0x17b)][_0xfcf92b(0x5ab)](this[_0xfcf92b(0x2c6)]+'\x20('+this['instance'][_0xfcf92b(0x582)]+_0xfcf92b(0x12b)+_0x362660),this[_0xfcf92b(0x17b)][_0xfcf92b(0x5ab)](this[_0xfcf92b(0x2c6)]+'\x20('+this['instance'][_0xfcf92b(0x582)]+_0xfcf92b(0x141)+_0x5235dd);let _0x19d40a={..._0xc1054f,..._0x5ab422,'whoCanEdit':_0x362660,'whoCanUse':_0x5235dd},_0x357c07=await this[_0xfcf92b(0x200)]['flow']['updateOne'](_0xc1054f[_0xfcf92b(0x3ba)],_0x19d40a);return await this[_0xfcf92b(0x542)](),_0x357c07;}catch(_0xffc93f){let _0x5cda12=_0xfcf92b(0x2f8),_0x44240e=_0xffc93f instanceof Error?_0xffc93f[_0xfcf92b(0x740)]:typeof _0xffc93f==_0xfcf92b(0x480)?JSON[_0xfcf92b(0x53c)](_0xffc93f):_0xffc93f,_0x13bd42=_0x5cda12+':\x20'+_0x44240e;throw this[_0xfcf92b(0x17b)][_0xfcf92b(0x6b3)](this[_0xfcf92b(0x2c6)]+'\x20('+this[_0xfcf92b(0x30d)][_0xfcf92b(0x582)]+_0xfcf92b(0x377)+_0x13bd42),new m(_0x13bd42);}}async[a0_0x40255d(0x7ac)](_0x4c5e9b){const _0x1b81c6=a0_0x40255d;let _0xf8a943={'numbers':_0x4c5e9b};return(await this['whatsappNumber'](_0xf8a943))[_0x1b81c6(0x750)](_0x479652=>_0x479652['exists'])['map'](_0x284b0f=>_0x284b0f[_0x1b81c6(0x277)])[_0x1b81c6(0x54b)](_0x3c4813=>this[_0x1b81c6(0x571)](_0x3c4813));}[a0_0x40255d(0x571)](_0x2abccc){const _0x49dd58=a0_0x40255d;let _0x97f1f6=_0x2abccc[_0x49dd58(0x28e)](/\d+/);return _0x97f1f6?_0x97f1f6[0x0]:'';}async['editFlowBlock'](_0x10504c){const _0x57ec88=a0_0x40255d;try{if(this[_0x57ec88(0x17b)][_0x57ec88(0x5ab)](this[_0x57ec88(0x2c6)]+'\x20('+this[_0x57ec88(0x30d)]['wuid']+_0x57ec88(0x514)),!this[_0x57ec88(0x3fb)]['flows']['find'](_0x5a6414=>_0x5a6414[_0x57ec88(0x3ba)]===_0x10504c[_0x57ec88(0x3ba)]))throw this[_0x57ec88(0x17b)][_0x57ec88(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x57ec88(0x218)+_0x10504c[_0x57ec88(0x3ba)]+_0x57ec88(0xdc)),new m(_0x57ec88(0x6dd));let _0x1e2491=await this[_0x57ec88(0x200)][_0x57ec88(0x46c)]['findOne']({'where':{'_id':_0x10504c[_0x57ec88(0x3ba)]}});if(!_0x1e2491||!_0x1e2491[_0x57ec88(0xd9)]?.[_0x57ec88(0x5a1)](this['instance']['wuid']))throw this[_0x57ec88(0x17b)][_0x57ec88(0x6b3)](this[_0x57ec88(0x2c6)]+'\x20('+this['instance'][_0x57ec88(0x582)]+_0x57ec88(0x5ba)+_0x10504c[_0x57ec88(0x3ba)]+_0x57ec88(0x69b)),new m(_0x57ec88(0x287)+_0x10504c[_0x57ec88(0x3ba)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1e2491[_0x57ec88(0x147)]?.[_0x57ec88(0x5a1)](this[_0x57ec88(0x30d)][_0x57ec88(0x582)]))throw new m(_0x57ec88(0x213));let {block:_0x3f740a}=_0x10504c;_0x3f740a?.['copy']?this[_0x57ec88(0x2d2)](_0x1e2491,_0x10504c):_0x3f740a?.[_0x57ec88(0x5d1)]?this[_0x57ec88(0x451)](_0x1e2491,_0x10504c):_0x3f740a[_0x57ec88(0x3ba)]?await this[_0x57ec88(0x63a)](_0x1e2491,_0x10504c):this[_0x57ec88(0x1fc)](_0x1e2491,_0x10504c);let _0x18173b=await this[_0x57ec88(0x200)]['flow'][_0x57ec88(0x72d)](_0x1e2491[_0x57ec88(0x3ba)],_0x1e2491);if(!_0x18173b)throw new Error(_0x57ec88(0x5bc));return _0x18173b;}catch(_0x1015f8){this[_0x57ec88(0x7fa)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x1015f8[_0x57ec88(0x740)]);}}async[a0_0x40255d(0x2d2)](_0x5f0f59,_0x21c335){const _0xbab51d=a0_0x40255d;let _0x41b25a=_0x21c335[_0xbab51d(0x310)][_0xbab51d(0x3ba)],_0x5d46fd=_0x5f0f59[_0xbab51d(0x195)][_0xbab51d(0x284)](_0x14b835=>_0x14b835['_id'][_0xbab51d(0x334)]()===_0x41b25a);if(!_0x5d46fd){this[_0xbab51d(0x17b)]['error'](this['instanceName']+'\x20('+this['instance'][_0xbab51d(0x582)]+_0xbab51d(0x3b0)+_0x41b25a+_0xbab51d(0x1ba));return;}this[_0xbab51d(0x17b)]['verbose'](this[_0xbab51d(0x2c6)]+'\x20('+this[_0xbab51d(0x30d)]['wuid']+_0xbab51d(0x34e)+JSON['stringify'](_0x5d46fd));let _0x584f04=JSON[_0xbab51d(0x143)](JSON['stringify'](_0x5d46fd));_0x584f04['_id']=new fe['default']['Types'][(_0xbab51d(0x120))](),this[_0xbab51d(0x17b)][_0xbab51d(0x5ab)](this[_0xbab51d(0x2c6)]+'\x20('+this[_0xbab51d(0x30d)][_0xbab51d(0x582)]+_0xbab51d(0x6f3)+JSON[_0xbab51d(0x53c)](_0x584f04)),_0x5f0f59[_0xbab51d(0x195)][_0xbab51d(0x4f1)](_0x584f04),this[_0xbab51d(0x6fb)](_0x5f0f59[_0xbab51d(0x195)],_0x584f04[_0xbab51d(0x300)]);}[a0_0x40255d(0x7fa)](_0x23c077){const _0x12a4dd=a0_0x40255d;throw this[_0x12a4dd(0x17b)]['error'](this[_0x12a4dd(0x2c6)]+'\x20('+this['instance'][_0x12a4dd(0x582)]+_0x12a4dd(0x377)+_0x23c077),new m(_0x23c077);}[a0_0x40255d(0x451)](_0xb8d452,_0x3c7a1b){const _0x11a602=a0_0x40255d;let {block:_0x245017}=_0x3c7a1b;if(_0x245017['type']===_0x11a602(0x505)){this[_0x11a602(0x7fa)](_0x11a602(0x76a));return;}if(!_0x245017[_0x11a602(0x3ba)]){this[_0x11a602(0x7fa)](_0x11a602(0x1f1));return;}let _0x42493f=_0xb8d452[_0x11a602(0x195)]['find'](_0x47d17c=>_0x47d17c[_0x11a602(0x3ba)][_0x11a602(0x334)]()===_0x3c7a1b[_0x11a602(0x310)][_0x11a602(0x3ba)]['toString']());if(!_0x42493f){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x245017[_0x11a602(0x3ba)]+'\x20não\x20encontrado');return;}_0xb8d452[_0x11a602(0x195)]=_0xb8d452[_0x11a602(0x195)][_0x11a602(0x750)](_0x2cfdaf=>_0x2cfdaf['_id'][_0x11a602(0x334)]()!==_0x3c7a1b[_0x11a602(0x310)][_0x11a602(0x3ba)][_0x11a602(0x334)]()),_0xb8d452[_0x11a602(0x7d2)]=_0xb8d452[_0x11a602(0x7d2)][_0x11a602(0x750)](_0x89c144=>_0x89c144[_0x11a602(0x807)]!==_0x245017[_0x11a602(0x3ba)][_0x11a602(0x334)]()),_0xb8d452[_0x11a602(0x716)]=_0xb8d452[_0x11a602(0x716)][_0x11a602(0x750)](_0x5dbf45=>_0x5dbf45[_0x11a602(0x807)]!==_0x245017[_0x11a602(0x3ba)][_0x11a602(0x334)]()),_0xb8d452[_0x11a602(0x7e9)]=_0xb8d452[_0x11a602(0x7e9)][_0x11a602(0x750)](_0x46167c=>_0x46167c[_0x11a602(0x807)]!==_0x245017[_0x11a602(0x3ba)]['toString']()),this['reorderBlocks'](_0xb8d452[_0x11a602(0x195)],_0x42493f['groupId']);}async[a0_0x40255d(0x63a)](_0x3e39e6,_0x668d7c){const _0x20848b=a0_0x40255d;let _0xbfbe16=_0x3e39e6[_0x20848b(0x195)][_0x20848b(0x1b0)](_0x51bb17=>_0x51bb17[_0x20848b(0x3ba)]['toString']()===_0x668d7c[_0x20848b(0x310)][_0x20848b(0x3ba)][_0x20848b(0x334)]());if(this[_0x20848b(0x17b)][_0x20848b(0x5ab)](this[_0x20848b(0x2c6)]+'\x20('+this[_0x20848b(0x30d)][_0x20848b(0x582)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0xbfbe16),_0xbfbe16===-0x1){this[_0x20848b(0x17b)][_0x20848b(0x5ab)](_0x20848b(0x1ae)+_0x668d7c[_0x20848b(0x310)][_0x20848b(0x3ba)]+_0x20848b(0x675));return;}if(_0x3e39e6['blocks'][_0xbfbe16][_0x20848b(0x3fa)]===_0x20848b(0x505)){let _0x3f5d85=Object[_0x20848b(0x702)](_0x668d7c['block']);if(_0x3f5d85[_0x20848b(0x111)]>0x2||_0x3f5d85[_0x20848b(0x111)]===0x2&&!_0x3f5d85['includes']('next_groupId')){this[_0x20848b(0x7fa)](_0x20848b(0x7a4));return;}}let _0xf1452f=_0x3e39e6['blocks'][_0xbfbe16]['groupId'];for(let _0x1b95bf in _0x668d7c[_0x20848b(0x310)])_0x668d7c['block'][_0x20848b(0x655)](_0x1b95bf)&&(_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x1b95bf]=_0x668d7c['block'][_0x1b95bf]);if(this[_0x20848b(0x17b)]['verbose'](this[_0x20848b(0x2c6)]+'\x20('+this['instance'][_0x20848b(0x582)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x3e39e6['blocks'][_0xbfbe16])),_0x3e39e6['blocks'][_0xbfbe16][_0x20848b(0x1b6)]&&_0x20848b(0x176)in _0x3e39e6[_0x20848b(0x195)][_0xbfbe16]['apirequest']){this[_0x20848b(0x17b)]['verbose'](this[_0x20848b(0x2c6)]+'\x20('+this[_0x20848b(0x30d)]['wuid']+_0x20848b(0x321));let _0x56d20f=JSON[_0x20848b(0x53c)](_0x3e39e6['blocks'][_0xbfbe16][_0x20848b(0x1b6)][_0x20848b(0x176)],null,0x1);_0x56d20f[_0x20848b(0x111)]>0x2&&(_0x56d20f=_0x56d20f[_0x20848b(0x411)](0x1,_0x56d20f[_0x20848b(0x111)]-0x1)[_0x20848b(0x339)]()),_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)][_0x20848b(0x7bb)]=_0x56d20f;}if(_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)]&&_0x20848b(0x1d7)in _0x3e39e6['blocks'][_0xbfbe16]['apirequest']&&!(_0x20848b(0x4a9)in _0x3e39e6['blocks'][_0xbfbe16][_0x20848b(0x1b6)])){this[_0x20848b(0x17b)][_0x20848b(0x5ab)](this[_0x20848b(0x2c6)]+'\x20('+this[_0x20848b(0x30d)][_0x20848b(0x582)]+_0x20848b(0x2df)),_0x3e39e6[_0x20848b(0x195)][_0xbfbe16]['apirequest']['bodyStringErrorParse']=!0x1;let _0x25fa3b=JSON['stringify'](_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)]['body'],null,0x2);_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)]['bodyString']=_0x25fa3b;}if(_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)]&&'bodyString'in _0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)]){_0x3e39e6[_0x20848b(0x195)][_0xbfbe16]['apirequest']['bodyStringErrorParse']=!0x1;let _0x288f57=_0x3e39e6[_0x20848b(0x195)][_0xbfbe16]['apirequest'][_0x20848b(0x4a9)],_0x42fb38=this[_0x20848b(0x692)](_0x288f57);_0x3e39e6[_0x20848b(0x195)][_0xbfbe16][_0x20848b(0x1b6)][_0x20848b(0x4a9)]=_0x42fb38[_0x20848b(0x3b3)],_0x3e39e6['blocks'][_0xbfbe16]['apirequest'][_0x20848b(0x64a)]=_0x42fb38[_0x20848b(0x6b3)];}let _0x443987=_0x3e39e6[_0x20848b(0x195)][_0xbfbe16]['groupId'];_0xf1452f!==_0x443987?(this[_0x20848b(0x6fb)](_0x3e39e6[_0x20848b(0x195)],_0xf1452f),this[_0x20848b(0x6fb)](_0x3e39e6[_0x20848b(0x195)],_0x443987)):this[_0x20848b(0x6fb)](_0x3e39e6[_0x20848b(0x195)],_0xf1452f);}['beautifyWithPlaceholders'](_0xffc9ae){const _0x8773a7=a0_0x40255d;let _0x5cb47d='\u205f',_0x130430=!0x1,_0x2cb3b6='';for(let _0x3bf43b=0x0;_0x3bf43b<_0xffc9ae[_0x8773a7(0x111)];_0x3bf43b++){let _0x4f9881=_0xffc9ae[_0x3bf43b];_0x4f9881==='\x22'&&(_0x3bf43b===0x0||_0xffc9ae[_0x3bf43b-0x1]!=='\x5c')&&(_0x130430=!_0x130430),!(!_0x130430&&(_0x4f9881==='\x0a'||_0x4f9881==='\x20'||_0x4f9881===_0x5cb47d))&&(_0x2cb3b6+=_0x4f9881);}let _0xb43c17={},_0x104ec5=9876543210.1234,_0x4b2745=_0x2cb3b6[_0x8773a7(0x362)](/\{\{([^}]+)\}\}/g,_0x6c2e18=>{let _0x5b3c8d=_0x6c2e18,_0x56b2b4=''+_0x104ec5;return _0xb43c17[_0x56b2b4]=_0x5b3c8d,_0x104ec5+=0.0001,_0x56b2b4;}),_0x35b524='',_0x63a95d=!0x1;try{let _0x335a10=JSON[_0x8773a7(0x143)](_0x4b2745);_0x35b524=JSON[_0x8773a7(0x53c)](_0x335a10,null,0x2),_0x35b524=_0x35b524[_0x8773a7(0x362)](/\n( +)/g,(_0x5d37b0,_0x1c3ebb)=>{const _0x23e5ec=_0x8773a7;let _0x134672=_0x1c3ebb[_0x23e5ec(0x111)];return'\x0a'+_0x5cb47d['repeat'](_0x134672*0x2);}),_0x35b524=_0x35b524[_0x8773a7(0x362)](/(\d{10,}\.\d+)/g,_0x3e5130=>_0xb43c17[_0x3e5130]||_0x3e5130);}catch(_0x373193){this[_0x8773a7(0x17b)][_0x8773a7(0x6b3)]('Error\x20parsing\x20JSON:'+_0x373193),_0x35b524=_0xffc9ae,_0x63a95d=!0x0;}return{'result':_0x35b524,'error':_0x63a95d};}[a0_0x40255d(0x1fc)](_0x13fcf9,_0x59aa3d){const _0x5789c7=a0_0x40255d;if(_0x59aa3d[_0x5789c7(0x310)][_0x5789c7(0x3fa)]==='start'){this[_0x5789c7(0x7fa)](_0x5789c7(0x65d));return;}if(_0x59aa3d['block'][_0x5789c7(0x1b6)]&&_0x5789c7(0x176)in _0x59aa3d['block']['apirequest']){this[_0x5789c7(0x17b)][_0x5789c7(0x5ab)](this['instanceName']+'\x20('+this[_0x5789c7(0x30d)]['wuid']+_0x5789c7(0x321));let _0x53ad21=JSON[_0x5789c7(0x53c)](_0x59aa3d[_0x5789c7(0x310)][_0x5789c7(0x1b6)]['header'],null,0x1);_0x53ad21[_0x5789c7(0x111)]>0x2&&(_0x53ad21=_0x53ad21[_0x5789c7(0x411)](0x1,_0x53ad21[_0x5789c7(0x111)]-0x1)[_0x5789c7(0x339)]()),_0x59aa3d[_0x5789c7(0x310)]['apirequest'][_0x5789c7(0x7bb)]=_0x53ad21;}_0x59aa3d[_0x5789c7(0x310)][_0x5789c7(0x1b6)]&&_0x5789c7(0x1d7)in _0x59aa3d[_0x5789c7(0x310)][_0x5789c7(0x1b6)]&&(this['logger']['verbose'](this[_0x5789c7(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x59aa3d[_0x5789c7(0x310)]['apirequest']['bodyString']=JSON[_0x5789c7(0x53c)](_0x59aa3d['block'][_0x5789c7(0x1b6)]['body'],null,0x1)['trim']()),_0x13fcf9[_0x5789c7(0x195)][_0x5789c7(0x4f1)](_0x59aa3d[_0x5789c7(0x310)]),this[_0x5789c7(0x6fb)](_0x13fcf9['blocks'],_0x59aa3d[_0x5789c7(0x310)][_0x5789c7(0x300)]);}[a0_0x40255d(0x6fb)](_0xaa5a80,_0x109679){const _0x55bdfd=a0_0x40255d;let _0x53625a=_0xaa5a80['filter'](_0x28074d=>_0x28074d[_0x55bdfd(0x300)]===_0x109679);_0x53625a[_0x55bdfd(0x712)]((_0x512a75,_0x507aac)=>_0x512a75[_0x55bdfd(0x650)]-_0x507aac['order']),_0x53625a['forEach']((_0x4d8464,_0x389ab4)=>_0x4d8464[_0x55bdfd(0x650)]=_0x389ab4+0x1);}async[a0_0x40255d(0x398)](_0x1aa838){const _0x5d59a1=a0_0x40255d;try{if(this[_0x5d59a1(0x17b)][_0x5d59a1(0x5ab)](this[_0x5d59a1(0x2c6)]+'\x20('+this[_0x5d59a1(0x30d)][_0x5d59a1(0x582)]+_0x5d59a1(0x6c1)),!_0x1aa838||!_0x1aa838[_0x5d59a1(0x1bf)]){this[_0x5d59a1(0x7fa)]('Data\x20inválida\x20fornecida');return;}if(!this['AutomateSystem'][_0x5d59a1(0x4a2)]['find'](_0x4bc0cd=>_0x4bc0cd[_0x5d59a1(0x3ba)]===_0x1aa838[_0x5d59a1(0x3ba)]))throw this[_0x5d59a1(0x17b)][_0x5d59a1(0x5ab)](this['instanceName']+'\x20('+this[_0x5d59a1(0x30d)][_0x5d59a1(0x582)]+_0x5d59a1(0x218)+_0x1aa838[_0x5d59a1(0x3ba)]+_0x5d59a1(0xdc)),new m(_0x5d59a1(0x6dd));let _0x12d4f5=await this[_0x5d59a1(0x200)][_0x5d59a1(0x46c)][_0x5d59a1(0x73b)]({'where':{'_id':_0x1aa838[_0x5d59a1(0x3ba)]}});if(!_0x12d4f5||!_0x12d4f5['whoCanUse']?.['includes'](this[_0x5d59a1(0x30d)][_0x5d59a1(0x582)]))throw this['logger'][_0x5d59a1(0x6b3)](this[_0x5d59a1(0x2c6)]+'\x20('+this[_0x5d59a1(0x30d)][_0x5d59a1(0x582)]+_0x5d59a1(0x5ba)+_0x1aa838[_0x5d59a1(0x3ba)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5d59a1(0x287)+_0x1aa838[_0x5d59a1(0x3ba)]+_0x5d59a1(0x69b));if(!_0x12d4f5['whoCanEdit']?.[_0x5d59a1(0x5a1)](this[_0x5d59a1(0x30d)][_0x5d59a1(0x582)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x50ce6f}=_0x1aa838;_0x50ce6f?.[_0x5d59a1(0x5d1)]?(this[_0x5d59a1(0x1c9)](_0x12d4f5,_0x1aa838),this[_0x5d59a1(0x75b)](_0x12d4f5[_0x5d59a1(0x7e9)],_0x1aa838['replyOption']['blockId'])):_0x50ce6f[_0x5d59a1(0x3ba)]?(await this[_0x5d59a1(0x648)](_0x12d4f5,_0x1aa838),this[_0x5d59a1(0x75b)](_0x12d4f5[_0x5d59a1(0x7e9)],_0x1aa838['replyOption']['blockId'])):(this[_0x5d59a1(0x33d)](_0x12d4f5,_0x1aa838),this['reorderReplyOptions'](_0x12d4f5[_0x5d59a1(0x7e9)],_0x1aa838[_0x5d59a1(0x1bf)][_0x5d59a1(0x807)]));let _0xee45a0=await this[_0x5d59a1(0x200)][_0x5d59a1(0x46c)][_0x5d59a1(0x72d)](_0x12d4f5['_id'],_0x12d4f5);if(!_0xee45a0)throw new Error(_0x5d59a1(0x5bc));return _0xee45a0;}catch(_0x28969f){this['throwAndLogError'](_0x5d59a1(0x2a5)+_0x28969f);}}['reorderReplyOptions'](_0x38defc,_0x3c3c74){const _0xa1ee5f=a0_0x40255d;_0x38defc[_0xa1ee5f(0x659)](_0x3d4429=>{const _0x597364=_0xa1ee5f;_0x3d4429[_0x597364(0x807)]===_0x3c3c74&&_0x3d4429[_0x597364(0x650)]===void 0x0&&(_0x3d4429['order']=0x270f);});let _0x5bf0af=_0x38defc['filter'](_0x3e159a=>_0x3e159a[_0xa1ee5f(0x807)]===_0x3c3c74);_0x5bf0af[_0xa1ee5f(0x712)]((_0x38bf8c,_0x2ffe40)=>_0x38bf8c['order']-_0x2ffe40['order']),_0x5bf0af[_0xa1ee5f(0x659)]((_0x284c75,_0x33658b)=>{const _0x24b6d7=_0xa1ee5f;_0x284c75[_0x24b6d7(0x650)]=_0x33658b+0x1;}),_0x38defc[_0xa1ee5f(0x659)](_0x5979a4=>{const _0x34c673=_0xa1ee5f;if(_0x5979a4[_0x34c673(0x807)]===_0x3c3c74){let _0x7b0211=_0x5bf0af[_0x34c673(0x284)](_0x5c76e3=>_0x5c76e3[_0x34c673(0x3ba)]&&_0x5979a4[_0x34c673(0x3ba)]&&_0x5c76e3['_id'][_0x34c673(0x334)]()===_0x5979a4[_0x34c673(0x3ba)][_0x34c673(0x334)]());_0x7b0211&&(_0x5979a4[_0x34c673(0x650)]=_0x7b0211[_0x34c673(0x650)]);}});}[a0_0x40255d(0x1c9)](_0x3833b9,_0x1cbf41){const _0x53d781=a0_0x40255d;let {replyOption:_0x1cd757}=_0x1cbf41;if(!_0x1cd757[_0x53d781(0x3ba)]){this[_0x53d781(0x7fa)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x3833b9['replyOptions'][_0x53d781(0x284)](_0x4f9176=>_0x4f9176[_0x53d781(0x3ba)][_0x53d781(0x334)]()===_0x1cbf41['replyOption'][_0x53d781(0x3ba)][_0x53d781(0x334)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x1cd757['_id']+_0x53d781(0x427));return;}_0x3833b9[_0x53d781(0x7e9)]=_0x3833b9['replyOptions'][_0x53d781(0x750)](_0x433449=>_0x433449['_id']['toString']()!==_0x1cbf41[_0x53d781(0x1bf)][_0x53d781(0x3ba)][_0x53d781(0x334)]());}async['updateReplyOption'](_0x2954b3,_0x398c07){const _0x2c6876=a0_0x40255d;let _0x53b759=_0x2954b3[_0x2c6876(0x7e9)]['findIndex'](_0x5ccd5d=>_0x5ccd5d['_id']['toString']()===_0x398c07[_0x2c6876(0x1bf)][_0x2c6876(0x3ba)][_0x2c6876(0x334)]());if(_0x53b759===-0x1){this['throwAndLogError'](_0x2c6876(0x60f)+_0x398c07[_0x2c6876(0x1bf)][_0x2c6876(0x3ba)]+_0x2c6876(0x675));return;}for(let _0x3db78a in _0x398c07[_0x2c6876(0x1bf)])_0x398c07[_0x2c6876(0x1bf)]['hasOwnProperty'](_0x3db78a)&&(_0x2954b3[_0x2c6876(0x7e9)][_0x53b759][_0x3db78a]=_0x398c07['replyOption'][_0x3db78a]);}[a0_0x40255d(0x33d)](_0x5105c4,_0x4d7564){const _0x1ff18c=a0_0x40255d;_0x5105c4[_0x1ff18c(0x7e9)][_0x1ff18c(0x4f1)](_0x4d7564[_0x1ff18c(0x1bf)]);}async[a0_0x40255d(0x62a)](_0x4d4c67){const _0x18b14c=a0_0x40255d;this[_0x18b14c(0x17b)][_0x18b14c(0x5ab)](this[_0x18b14c(0x2c6)]+'\x20('+this[_0x18b14c(0x30d)][_0x18b14c(0x582)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON['stringify'](_0x4d4c67,null,0x2));try{if(this[_0x18b14c(0x17b)][_0x18b14c(0x5ab)](this['instanceName']+'\x20('+this[_0x18b14c(0x30d)][_0x18b14c(0x582)]+_0x18b14c(0x41a)),!this[_0x18b14c(0x3fb)][_0x18b14c(0x4a2)][_0x18b14c(0x284)](_0x23e7d1=>_0x23e7d1['_id']===_0x4d4c67[_0x18b14c(0x3ba)]))throw this[_0x18b14c(0x17b)][_0x18b14c(0x5ab)](this[_0x18b14c(0x2c6)]+'\x20('+this[_0x18b14c(0x30d)]['wuid']+'):\x20Fluxo\x20\x27'+_0x4d4c67[_0x18b14c(0x3ba)]+'\x27\x20não\x20encontrado'),new m(_0x18b14c(0x6dd));let _0x21f6cd=await this[_0x18b14c(0x200)]['flow'][_0x18b14c(0x73b)]({'where':{'_id':_0x4d4c67[_0x18b14c(0x3ba)]}});if(!_0x21f6cd||!_0x21f6cd['whoCanUse']?.['includes'](this[_0x18b14c(0x30d)][_0x18b14c(0x582)]))throw this[_0x18b14c(0x17b)]['error'](this['instanceName']+'\x20('+this[_0x18b14c(0x30d)][_0x18b14c(0x582)]+_0x18b14c(0x5ba)+_0x4d4c67[_0x18b14c(0x3ba)]+_0x18b14c(0x69b)),new m(_0x18b14c(0x287)+_0x4d4c67['_id']+_0x18b14c(0x69b));if(!_0x21f6cd[_0x18b14c(0x147)]?.[_0x18b14c(0x5a1)](this[_0x18b14c(0x30d)][_0x18b14c(0x582)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x4d4c67['group']&&_0x4d4c67[_0x18b14c(0x5b7)]?.[_0x18b14c(0x5d1)]===!0x0){if(this[_0x18b14c(0x17b)]['verbose'](this[_0x18b14c(0x2c6)]+'\x20('+this['instance'][_0x18b14c(0x582)]+'):\x20delete\x20=\x20true'),_0x4d4c67[_0x18b14c(0x5b7)]['default']===!0x0)return{'message':_0x18b14c(0x7d0)};if(_0x21f6cd[_0x18b14c(0x195)][_0x18b14c(0x5fc)](_0x5e707d=>_0x5e707d[_0x18b14c(0x300)][_0x18b14c(0x334)]()===_0x4d4c67['group']['_id']))return this[_0x18b14c(0x17b)][_0x18b14c(0x5ab)](this[_0x18b14c(0x2c6)]+'\x20('+this[_0x18b14c(0x30d)][_0x18b14c(0x582)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x21f6cd[_0x18b14c(0x578)]=_0x21f6cd[_0x18b14c(0x578)][_0x18b14c(0x750)](_0x16819e=>_0x16819e['_id'][_0x18b14c(0x334)]()!==_0x4d4c67[_0x18b14c(0x5b7)][_0x18b14c(0x3ba)]);}else{if(_0x4d4c67[_0x18b14c(0x5b7)]){if(_0x4d4c67['group'][_0x18b14c(0x437)]===!0x0)return{'message':_0x18b14c(0x3e2)};if(_0x4d4c67[_0x18b14c(0x5b7)][_0x18b14c(0x3ba)]){let _0x37d88a=_0x21f6cd[_0x18b14c(0x578)][_0x18b14c(0x284)](_0x2cfb94=>_0x2cfb94[_0x18b14c(0x3ba)]['toString']()===_0x4d4c67[_0x18b14c(0x5b7)]['_id']);_0x37d88a&&(_0x4d4c67['group']['x']<0x0&&(_0x4d4c67[_0x18b14c(0x5b7)]['x']=0x0),_0x4d4c67[_0x18b14c(0x5b7)]['y']<0x0&&(_0x4d4c67[_0x18b14c(0x5b7)]['y']=0x0),Object[_0x18b14c(0x10c)](_0x37d88a,_0x4d4c67[_0x18b14c(0x5b7)]));}else _0x21f6cd[_0x18b14c(0x578)][_0x18b14c(0x4f1)](_0x4d4c67[_0x18b14c(0x5b7)]);}}let _0x2c8325=await this[_0x18b14c(0x200)]['flow']['updateOne'](_0x21f6cd['_id'],_0x21f6cd);if(!_0x2c8325)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2c8325;}catch(_0x39e978){let _0x4e3916=_0x18b14c(0x25d),_0x35cf53=_0x39e978 instanceof Error?_0x39e978[_0x18b14c(0x740)]:typeof _0x39e978==_0x18b14c(0x480)?JSON[_0x18b14c(0x53c)](_0x39e978):_0x39e978,_0x474d06=_0x4e3916+':\x20'+_0x35cf53;throw this[_0x18b14c(0x17b)][_0x18b14c(0x6b3)](this[_0x18b14c(0x2c6)]+'\x20('+this[_0x18b14c(0x30d)][_0x18b14c(0x582)]+'):\x20'+_0x474d06),new m(_0x474d06);}}async[a0_0x40255d(0x114)](_0x5c2286){const _0x538c3d=a0_0x40255d;try{if(this[_0x538c3d(0x17b)][_0x538c3d(0x5ab)](this[_0x538c3d(0x2c6)]+'\x20('+this['instance'][_0x538c3d(0x582)]+_0x538c3d(0x5c2)),!this['AutomateSystem'][_0x538c3d(0x4a2)][_0x538c3d(0x284)](_0x2cbbf0=>_0x2cbbf0['_id']===_0x5c2286[_0x538c3d(0x3ba)]))throw this[_0x538c3d(0x17b)]['verbose'](this[_0x538c3d(0x2c6)]+'\x20('+this['instance'][_0x538c3d(0x582)]+_0x538c3d(0x218)+_0x5c2286[_0x538c3d(0x3ba)]+_0x538c3d(0xdc)),new m(_0x538c3d(0x6dd));let _0x318315=await this[_0x538c3d(0x200)]['flow'][_0x538c3d(0x73b)]({'where':{'_id':_0x5c2286[_0x538c3d(0x3ba)]}});if(!_0x318315||!_0x318315['whoCanUse']?.[_0x538c3d(0x5a1)](this['instance']['wuid']))throw this[_0x538c3d(0x17b)][_0x538c3d(0x6b3)](this[_0x538c3d(0x2c6)]+'\x20('+this[_0x538c3d(0x30d)]['wuid']+'):\x20Flow\x20\x27'+_0x5c2286['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x538c3d(0x287)+_0x5c2286[_0x538c3d(0x3ba)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x318315[_0x538c3d(0x147)]?.[_0x538c3d(0x5a1)](this[_0x538c3d(0x30d)][_0x538c3d(0x582)]))throw new m(_0x538c3d(0x213));let _0x15326d=!0x1;if(_0x5c2286[_0x538c3d(0x346)]?.['delete']===!0x0)_0x318315['conditions']=_0x318315[_0x538c3d(0x7d2)][_0x538c3d(0x750)](_0x9f5a9c=>_0x9f5a9c&&_0x5c2286[_0x538c3d(0x346)]&&_0x9f5a9c[_0x538c3d(0x3ba)]&&_0x5c2286[_0x538c3d(0x346)][_0x538c3d(0x3ba)]&&_0x9f5a9c['_id']['toString']()!==_0x5c2286[_0x538c3d(0x346)]['_id'][_0x538c3d(0x334)]()),_0x15326d=!0x0;else{let _0x16a7d2=_0x318315['conditions'][_0x538c3d(0x284)](_0x3fb90f=>_0x3fb90f&&_0x5c2286[_0x538c3d(0x346)]&&_0x3fb90f[_0x538c3d(0x3ba)]&&_0x5c2286[_0x538c3d(0x346)][_0x538c3d(0x3ba)]&&_0x3fb90f[_0x538c3d(0x3ba)][_0x538c3d(0x334)]()===_0x5c2286[_0x538c3d(0x346)][_0x538c3d(0x3ba)]['toString']());_0x16a7d2?(_0x15326d=_0x16a7d2['order']!==_0x5c2286[_0x538c3d(0x346)][_0x538c3d(0x650)],Object[_0x538c3d(0x10c)](_0x16a7d2,_0x5c2286['condition'])):(_0x318315['conditions']['push'](_0x5c2286[_0x538c3d(0x346)]),_0x15326d=!0x0);}if(_0x15326d){_0x318315[_0x538c3d(0x7d2)][_0x538c3d(0x712)]((_0x13260d,_0x34a686)=>_0x13260d[_0x538c3d(0x650)]>_0x34a686[_0x538c3d(0x650)]?0x1:_0x34a686[_0x538c3d(0x650)]>_0x13260d[_0x538c3d(0x650)]?-0x1:0x0);for(let _0x1e4072=0x0;_0x1e4072<_0x318315[_0x538c3d(0x7d2)][_0x538c3d(0x111)];_0x1e4072++)_0x318315[_0x538c3d(0x7d2)][_0x1e4072][_0x538c3d(0x650)]=_0x1e4072+0x1;_0x318315[_0x538c3d(0x7d2)][_0x538c3d(0x111)]>0x0&&(_0x318315[_0x538c3d(0x7d2)][0x0][_0x538c3d(0x781)]=_0x538c3d(0x206));}let _0x136d72=await this[_0x538c3d(0x200)][_0x538c3d(0x46c)][_0x538c3d(0x72d)](_0x318315[_0x538c3d(0x3ba)],_0x318315);if(!_0x136d72)throw new Error(_0x538c3d(0x5bc));return _0x136d72;}catch(_0x1a0acb){let _0x2d3529='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x3cca36=_0x1a0acb instanceof Error?_0x1a0acb[_0x538c3d(0x740)]:typeof _0x1a0acb==_0x538c3d(0x480)?JSON[_0x538c3d(0x53c)](_0x1a0acb):_0x1a0acb,_0x22b91e=_0x2d3529+':\x20'+_0x3cca36;throw this['logger'][_0x538c3d(0x6b3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x538c3d(0x377)+_0x22b91e),new m(_0x22b91e);}}async[a0_0x40255d(0x4b4)](_0x44180b){const _0x4fa8a6=a0_0x40255d;try{if(this[_0x4fa8a6(0x17b)][_0x4fa8a6(0x5ab)](this[_0x4fa8a6(0x2c6)]+'\x20('+this[_0x4fa8a6(0x30d)][_0x4fa8a6(0x582)]+_0x4fa8a6(0x739)),!this['AutomateSystem'][_0x4fa8a6(0x4a2)][_0x4fa8a6(0x284)](_0x3b51fc=>_0x3b51fc['_id']===_0x44180b[_0x4fa8a6(0x3ba)]))throw this['logger'][_0x4fa8a6(0x5ab)](this['instanceName']+'\x20('+this[_0x4fa8a6(0x30d)][_0x4fa8a6(0x582)]+_0x4fa8a6(0x218)+_0x44180b[_0x4fa8a6(0x3ba)]+_0x4fa8a6(0xdc)),new m(_0x4fa8a6(0x6dd));let _0x4c7d1e=await this[_0x4fa8a6(0x200)]['flow'][_0x4fa8a6(0x73b)]({'where':{'_id':_0x44180b[_0x4fa8a6(0x3ba)]}});if(!_0x4c7d1e||!_0x4c7d1e['whoCanUse']?.['includes'](this['instance'][_0x4fa8a6(0x582)]))throw this[_0x4fa8a6(0x17b)][_0x4fa8a6(0x6b3)](this[_0x4fa8a6(0x2c6)]+'\x20('+this[_0x4fa8a6(0x30d)]['wuid']+_0x4fa8a6(0x5ba)+_0x44180b['_id']+_0x4fa8a6(0x69b)),new m(_0x4fa8a6(0x287)+_0x44180b[_0x4fa8a6(0x3ba)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4c7d1e[_0x4fa8a6(0x147)]?.['includes'](this['instance']['wuid']))throw new m(_0x4fa8a6(0x213));let _0x196e36=!0x1;if(_0x44180b[_0x4fa8a6(0x172)]?.['delete']===!0x0)_0x4c7d1e[_0x4fa8a6(0x716)]=_0x4c7d1e[_0x4fa8a6(0x716)][_0x4fa8a6(0x750)](_0x4bc6d7=>_0x4bc6d7&&_0x44180b['varedit']&&_0x4bc6d7[_0x4fa8a6(0x3ba)]&&_0x44180b[_0x4fa8a6(0x172)]['_id']&&_0x4bc6d7[_0x4fa8a6(0x3ba)]['toString']()!==_0x44180b[_0x4fa8a6(0x172)][_0x4fa8a6(0x3ba)][_0x4fa8a6(0x334)]()),_0x196e36=!0x0;else{let _0x1e4619=_0x4c7d1e['varedits']['find'](_0x1b06bd=>_0x1b06bd&&_0x44180b[_0x4fa8a6(0x172)]&&_0x1b06bd[_0x4fa8a6(0x3ba)]&&_0x44180b[_0x4fa8a6(0x172)][_0x4fa8a6(0x3ba)]&&_0x1b06bd[_0x4fa8a6(0x3ba)][_0x4fa8a6(0x334)]()===_0x44180b['varedit'][_0x4fa8a6(0x3ba)][_0x4fa8a6(0x334)]());_0x1e4619?(_0x196e36=_0x1e4619[_0x4fa8a6(0x650)]!==_0x44180b[_0x4fa8a6(0x172)][_0x4fa8a6(0x650)],Object['assign'](_0x1e4619,_0x44180b['varedit'])):(_0x4c7d1e[_0x4fa8a6(0x716)][_0x4fa8a6(0x4f1)](_0x44180b[_0x4fa8a6(0x172)]),_0x196e36=!0x0);}if(_0x196e36){_0x4c7d1e['varedits'][_0x4fa8a6(0x712)]((_0x3a0063,_0x145fce)=>_0x3a0063[_0x4fa8a6(0x650)]>_0x145fce[_0x4fa8a6(0x650)]?0x1:_0x145fce[_0x4fa8a6(0x650)]>_0x3a0063['order']?-0x1:0x0);for(let _0x498acc=0x0;_0x498acc<_0x4c7d1e['varedits'][_0x4fa8a6(0x111)];_0x498acc++)_0x4c7d1e[_0x4fa8a6(0x716)][_0x498acc][_0x4fa8a6(0x650)]=_0x498acc+0x1;}let _0x1caee6=await this[_0x4fa8a6(0x200)][_0x4fa8a6(0x46c)][_0x4fa8a6(0x72d)](_0x4c7d1e[_0x4fa8a6(0x3ba)],_0x4c7d1e);if(!_0x1caee6)throw new Error(_0x4fa8a6(0x5bc));return _0x1caee6;}catch(_0x194464){let _0x49ab58='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x5ee380=_0x194464 instanceof Error?_0x194464[_0x4fa8a6(0x740)]:typeof _0x194464==_0x4fa8a6(0x480)?JSON['stringify'](_0x194464):_0x194464,_0x480a20=_0x49ab58+':\x20'+_0x5ee380;throw this[_0x4fa8a6(0x17b)]['error'](this[_0x4fa8a6(0x2c6)]+'\x20('+this[_0x4fa8a6(0x30d)]['wuid']+_0x4fa8a6(0x377)+_0x480a20),new m(_0x480a20);}}async[a0_0x40255d(0x393)](_0x3987fe){const _0x17a30f=a0_0x40255d;try{if(this[_0x17a30f(0x17b)][_0x17a30f(0x5ab)](this[_0x17a30f(0x2c6)]+'\x20('+this['instance'][_0x17a30f(0x582)]+_0x17a30f(0x563)),!this[_0x17a30f(0x3fb)][_0x17a30f(0x4a2)][_0x17a30f(0x284)](_0x1bed0f=>_0x1bed0f[_0x17a30f(0x3ba)]===_0x3987fe[_0x17a30f(0x3ba)]))throw this[_0x17a30f(0x17b)][_0x17a30f(0x5ab)](this['instanceName']+'\x20('+this['instance'][_0x17a30f(0x582)]+_0x17a30f(0x218)+_0x3987fe[_0x17a30f(0x3ba)]+_0x17a30f(0xdc)),new m(_0x17a30f(0x6dd));let _0x5a7e4e=await this[_0x17a30f(0x200)][_0x17a30f(0x46c)][_0x17a30f(0x73b)]({'where':{'_id':_0x3987fe[_0x17a30f(0x3ba)]}});if(!_0x5a7e4e||!_0x5a7e4e[_0x17a30f(0xd9)]?.[_0x17a30f(0x5a1)](this[_0x17a30f(0x30d)]['wuid']))throw this[_0x17a30f(0x17b)][_0x17a30f(0x6b3)](this[_0x17a30f(0x2c6)]+'\x20('+this[_0x17a30f(0x30d)][_0x17a30f(0x582)]+_0x17a30f(0x5ba)+_0x3987fe[_0x17a30f(0x3ba)]+_0x17a30f(0x69b)),new m(_0x17a30f(0x287)+_0x3987fe[_0x17a30f(0x3ba)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5a7e4e[_0x17a30f(0x147)]?.[_0x17a30f(0x5a1)](this['instance'][_0x17a30f(0x582)]))throw new m(_0x17a30f(0x213));_0x3987fe['variable'][_0x17a30f(0x6cc)]=_0x3987fe[_0x17a30f(0x16b)]['name'][_0x17a30f(0x339)](),_0x3987fe[_0x17a30f(0x16b)][_0x17a30f(0x6cc)][_0x17a30f(0x2bf)]('_')&&(_0x3987fe[_0x17a30f(0x16b)][_0x17a30f(0x6cc)]=_0x3987fe[_0x17a30f(0x16b)]['name']['substring'](0x1)),_0x3987fe['variable'][_0x17a30f(0x6cc)]=_0x3987fe[_0x17a30f(0x16b)][_0x17a30f(0x6cc)][_0x17a30f(0x339)]();let _0x251517=_0x5a7e4e['variables'][_0x17a30f(0x284)](_0x4fbc57=>_0x4fbc57[_0x17a30f(0x6cc)]===_0x3987fe['variable'][_0x17a30f(0x6cc)]);if(_0x251517?.[_0x17a30f(0x31b)]===!0x0)throw new Error(_0x17a30f(0x384));if(_0x3987fe[_0x17a30f(0x16b)]?.['delete']===!0x0){if(!_0x251517)return{'message':_0x17a30f(0x1a5)};_0x5a7e4e[_0x17a30f(0x106)]=_0x5a7e4e[_0x17a30f(0x106)]['filter'](_0x444bc9=>_0x444bc9['name']!==_0x3987fe['variable'][_0x17a30f(0x6cc)]);}else _0x251517?Object[_0x17a30f(0x10c)](_0x251517,_0x3987fe[_0x17a30f(0x16b)]):_0x5a7e4e[_0x17a30f(0x106)]['push'](_0x3987fe[_0x17a30f(0x16b)]);let _0x5a4762=await this[_0x17a30f(0x200)][_0x17a30f(0x46c)]['updateOne'](_0x5a7e4e[_0x17a30f(0x3ba)],_0x5a7e4e);if(!_0x5a4762)throw new Error(_0x17a30f(0x5bc));return _0x5a4762;}catch(_0x51859f){let _0x332d1b=_0x17a30f(0x1b3),_0xabb562=_0x51859f instanceof Error?_0x51859f[_0x17a30f(0x740)]:typeof _0x51859f==_0x17a30f(0x480)?JSON['stringify'](_0x51859f):_0x51859f,_0x57d56a=_0x332d1b+':\x20'+_0xabb562;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x17a30f(0x30d)][_0x17a30f(0x582)]+_0x17a30f(0x377)+_0x57d56a),new m(_0x57d56a);}}async[a0_0x40255d(0x38c)](_0x443d5b){const _0x2b0bde=a0_0x40255d;let _0x11c293=null;try{if(!this['AutomateSystem']?.[_0x2b0bde(0x61a)][_0x2b0bde(0x20c)])throw new m(_0x2b0bde(0x6da));this[_0x2b0bde(0x17b)][_0x2b0bde(0x5ab)](this[_0x2b0bde(0x2c6)]+'\x20('+this[_0x2b0bde(0x30d)]['wuid']+'):\x20Iniciando\x20bot...');let _0x399f37=(await this[_0x2b0bde(0x4ef)]({'numbers':[_0x443d5b[_0x2b0bde(0x293)]]}))[0x0];if(!_0x399f37['exists']&&!(0x0,w[_0x2b0bde(0x391)])(_0x399f37[_0x2b0bde(0x277)])&&!_0x399f37[_0x2b0bde(0x277)][_0x2b0bde(0x5a1)](_0x2b0bde(0x136)))throw _0x11c293=JSON[_0x2b0bde(0x53c)](_0x399f37,null,0x2),new m(_0x399f37);let _0x5764cc;if(_0x443d5b['name'][_0x2b0bde(0x111)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x2b0bde(0x35c)](_0x443d5b[_0x2b0bde(0x6cc)])?_0x5764cc=this['AutomateSystem']['flows']['find'](_0x3e419a=>_0x3e419a[_0x2b0bde(0x3ba)]===_0x443d5b[_0x2b0bde(0x6cc)]):_0x5764cc=this[_0x2b0bde(0x3fb)][_0x2b0bde(0x4a2)][_0x2b0bde(0x284)](_0x547980=>_0x547980[_0x2b0bde(0x6cc)]===_0x443d5b[_0x2b0bde(0x6cc)]),!_0x5764cc)throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2b0bde(0x30d)]['wuid']+'):\x20Fluxo\x20\x27'+_0x443d5b[_0x2b0bde(0x6cc)]+'\x27\x20não\x20encontrado'),new m(_0x2b0bde(0x6dd));let _0x196f9d=await this[_0x2b0bde(0x200)][_0x2b0bde(0x46c)][_0x2b0bde(0x73b)]({'where':{'_id':_0x5764cc[_0x2b0bde(0x3ba)]}});if(!_0x196f9d||!_0x196f9d[_0x2b0bde(0xd9)]?.['includes'](this['instance']['wuid']))throw this[_0x2b0bde(0x17b)][_0x2b0bde(0x6b3)](this[_0x2b0bde(0x2c6)]+'\x20('+this['instance'][_0x2b0bde(0x582)]+_0x2b0bde(0x5ba)+_0x5764cc[_0x2b0bde(0x3ba)]+_0x2b0bde(0x69b)),_0x11c293='Flow\x20\x27'+_0x5764cc['_id']+_0x2b0bde(0x69b),new m(_0x11c293);let _0x5b767d=await this[_0x2b0bde(0x522)](_0x196f9d,_0x399f37[_0x2b0bde(0x277)],_0x443d5b['changeVariables']);if(_0x5b767d){this[_0x2b0bde(0x17b)][_0x2b0bde(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2b0bde(0x6c7));let _0x1442d7=await this[_0x2b0bde(0x19a)](_0x5b767d);return _0x1442d7&&await this[_0x2b0bde(0x6c3)](_0x5b767d,_0x1442d7),{'message':'Flow\x20iniciado\x20com\x20'+_0x443d5b[_0x2b0bde(0x293)]};}}catch(_0xd044dc){if(this[_0x2b0bde(0x17b)][_0x2b0bde(0x6b3)](this[_0x2b0bde(0x2c6)]+'\x20('+this[_0x2b0bde(0x30d)]['wuid']+_0x2b0bde(0x5d7)+(_0xd044dc instanceof Error?_0xd044dc[_0x2b0bde(0x740)]:JSON[_0x2b0bde(0x53c)](_0xd044dc,null,0x2))),_0x11c293=_0xd044dc instanceof Error?_0xd044dc[_0x2b0bde(0x740)]:JSON['stringify'](_0xd044dc,null,0x2),_0x11c293)throw new m(_0x2b0bde(0x249)+_0x11c293);}}async[a0_0x40255d(0x21e)](_0x3f00a1,_0x47808d,_0x56ef35){const _0x954afd=a0_0x40255d;let _0x1c2b08=null;try{if(!this['AutomateSystem']?.[_0x954afd(0x61a)][_0x954afd(0x20c)])throw new m(_0x954afd(0x6da));if(this[_0x954afd(0x17b)][_0x954afd(0x5ab)](this[_0x954afd(0x2c6)]+'\x20('+this[_0x954afd(0x30d)][_0x954afd(0x582)]+'):\x20Iniciando\x20bot...'),_0x47808d){let _0x1face2=(await this[_0x954afd(0x4ef)]({'numbers':[_0x47808d]}))[0x0];if(!_0x1face2[_0x954afd(0x22f)]&&!(0x0,w['isJidGroup'])(_0x1face2[_0x954afd(0x277)])&&!_0x1face2[_0x954afd(0x277)][_0x954afd(0x5a1)](_0x954afd(0x136)))throw _0x1c2b08=JSON[_0x954afd(0x53c)](_0x1face2,null,0x2),new m(_0x1face2);_0x47808d=_0x1face2['jid'];}else _0x47808d||(_0x47808d=(0x0,X['v4'])());let _0x558031=await this[_0x954afd(0x200)][_0x954afd(0x46c)][_0x954afd(0x73b)]({'where':{'_id':_0x3f00a1}});if(!_0x558031||!_0x558031[_0x954afd(0xd9)]?.['includes'](this[_0x954afd(0x30d)][_0x954afd(0x582)]))throw this[_0x954afd(0x17b)][_0x954afd(0x6b3)](this['instanceName']+'\x20('+this[_0x954afd(0x30d)][_0x954afd(0x582)]+'):\x20Flow\x20\x27'+_0x3f00a1+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x954afd(0x287)+_0x3f00a1+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x3988ad=await this[_0x954afd(0x522)](_0x558031,_0x47808d,null);if(_0x3988ad){this[_0x954afd(0x17b)][_0x954afd(0x5ab)](this[_0x954afd(0x2c6)]+'\x20('+this[_0x954afd(0x30d)][_0x954afd(0x582)]+_0x954afd(0x553));let _0xf8e7e7;if(_0x56ef35){let _0x5d7bdd=_0x3988ad[_0x954afd(0x7d6)]['realVariables'],_0x2665b6=this[_0x954afd(0x7ba)](_0x56ef35);Object['assign'](_0x5d7bdd,_0x2665b6),_0x3988ad[_0x954afd(0x7d6)]['realVariables']=_0x5d7bdd,_0xf8e7e7={'error':!0x1,'apiResponse':_0x56ef35};}let _0x2594de=await this['NextBlock'](_0x3988ad);return _0x2594de&&await this[_0x954afd(0x6c3)](_0x3988ad,_0x2594de),{'message':_0x954afd(0x3b4)};}}catch(_0x2846e0){if(this[_0x954afd(0x17b)][_0x954afd(0x6b3)](this[_0x954afd(0x2c6)]+'\x20('+this['instance'][_0x954afd(0x582)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x2846e0 instanceof Error?_0x2846e0[_0x954afd(0x740)]:JSON['stringify'](_0x2846e0,null,0x2))),_0x1c2b08=_0x2846e0 instanceof Error?_0x2846e0[_0x954afd(0x740)]:JSON[_0x954afd(0x53c)](_0x2846e0,null,0x2),_0x1c2b08)throw new m(_0x954afd(0x249)+_0x1c2b08);}}async[a0_0x40255d(0x228)](_0xfce8b5){const _0x387ee5=a0_0x40255d;try{let _0x3ba64d={'remoteJid':_0xfce8b5,'status':_0x387ee5(0x3c6)},_0x210a20={'status':_0x387ee5(0x7f2)},_0x4ae49f=await this['repository']['flowConversation'][_0x387ee5(0x4dc)](_0x3ba64d,_0x210a20,this['instance'][_0x387ee5(0x582)]);return this[_0x387ee5(0x17b)]['verbose'](this[_0x387ee5(0x2c6)]+'\x20('+this['instance'][_0x387ee5(0x582)]+_0x387ee5(0x4c4)),_0x4ae49f;}catch(_0x874cc0){throw this[_0x387ee5(0x17b)][_0x387ee5(0x6b3)](this[_0x387ee5(0x2c6)]+'\x20('+this[_0x387ee5(0x30d)]['wuid']+_0x387ee5(0x52d)+_0x874cc0[_0x387ee5(0x740)]),_0x874cc0;}}async[a0_0x40255d(0x522)](_0x2a9da5,_0x2ed3a2,_0x2825ba){const _0x4df327=a0_0x40255d;this[_0x4df327(0x17b)]['verbose'](this[_0x4df327(0x2c6)]+'\x20('+this[_0x4df327(0x30d)][_0x4df327(0x582)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x2ed3a2);try{let _0x4b9ae8=require(_0x4df327(0x12d))[_0x4df327(0x120)],_0x11e4fd=Date[_0x4df327(0x15d)](),_0x4e9ea0=_0x4df327(0x505),_0x50c8e0={},_0x142e34={},_0x3a0a58=this[_0x4df327(0x3fb)][_0x4df327(0x4a2)][_0x4df327(0x284)](_0x1aca3c=>_0x1aca3c[_0x4df327(0x3ba)]===_0x2a9da5[_0x4df327(0x3ba)]?.[_0x4df327(0x334)]()),_0x1617c7=_0x3a0a58?.[_0x4df327(0x1c4)]??_0x2a9da5['minutesToClose']??0x0,_0x53115f=_0x3a0a58?.[_0x4df327(0x627)]??_0x2a9da5[_0x4df327(0x627)]??!0x1,_0x3bc017={'flowId':_0x2a9da5[_0x4df327(0x3ba)],..._0x2a9da5,'chatLog':null},_0x594931=await this[_0x4df327(0x10d)](_0x3bc017[_0x4df327(0x106)]),_0x47793a=await this[_0x4df327(0x2a6)](_0x2ed3a2),_0x4d1d={..._0x594931,..._0x47793a,'_remoteJid':_0x2ed3a2},_0x215f00={'lastReceivedMessage':_0x50c8e0,'lastSendMessage':_0x142e34,'lastBlockId':_0x4e9ea0,'lastCondition':!0x0,'realVariables':_0x4d1d};_0x3bc017['chatLog']=_0x215f00,_0x3bc017[_0x4df327(0x7d6)][_0x4df327(0x295)]={..._0x4d1d,..._0x2825ba},delete _0x3bc017[_0x4df327(0x3ba)],_0x3bc017[_0x4df327(0x3ba)]=new _0x4b9ae8(),_0x3bc017[_0x4df327(0x255)]=_0x11e4fd,_0x3bc017['status']=_0x4df327(0x3c6),_0x3bc017[_0x4df327(0x293)]=_0x2ed3a2,_0x3bc017['minutesToClose']=_0x1617c7,_0x3bc017[_0x4df327(0x627)]=_0x53115f,_0x3bc017[_0x4df327(0x3ba)]=_0x2a9da5[_0x4df327(0x3ba)];let _0x5b0386=await this[_0x4df327(0x200)][_0x4df327(0x336)][_0x4df327(0x72d)](_0x3bc017[_0x4df327(0x3ba)],_0x3bc017,this[_0x4df327(0x30d)][_0x4df327(0x582)]);return this[_0x4df327(0x17b)][_0x4df327(0x5ab)](this[_0x4df327(0x2c6)]+'\x20('+this[_0x4df327(0x30d)]['wuid']+_0x4df327(0x2be)),_0x5b0386?_0x3bc017:null;}catch(_0x1ac507){let _0x30926c='Erro\x20ao\x20copiar\x20o\x20documento',_0x3535d3=_0x1ac507 instanceof Error?_0x1ac507[_0x4df327(0x740)]:typeof _0x1ac507==_0x4df327(0x480)?JSON[_0x4df327(0x53c)](_0x1ac507):_0x1ac507,_0x35a4c0=_0x30926c+':\x20'+_0x3535d3;throw this[_0x4df327(0x17b)]['error'](this[_0x4df327(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x35a4c0),new m(_0x35a4c0);}}async[a0_0x40255d(0x5d8)](_0x12a24a){const _0xb13c7c=a0_0x40255d;try{this[_0xb13c7c(0x17b)][_0xb13c7c(0x5ab)](this['instanceName']+'\x20('+this[_0xb13c7c(0x30d)]['wuid']+_0xb13c7c(0x816)),this[_0xb13c7c(0x17b)][_0xb13c7c(0x5ab)](this['instanceName']+'\x20('+this[_0xb13c7c(0x30d)][_0xb13c7c(0x582)]+_0xb13c7c(0x502)+_0x12a24a);let _0x292cea={'where':{'_id':_0x12a24a}};return await this[_0xb13c7c(0x200)][_0xb13c7c(0x336)][_0xb13c7c(0x73b)](_0x292cea,this[_0xb13c7c(0x30d)][_0xb13c7c(0x582)]);}catch(_0x511351){let _0x3d4de2=_0xb13c7c(0x16f),_0x3a991b=_0x511351 instanceof Error?_0x511351['message']:typeof _0x511351==_0xb13c7c(0x480)?JSON[_0xb13c7c(0x53c)](_0x511351):_0x511351,_0x1d3bf6=_0x3d4de2+':\x20'+_0x3a991b;throw this['logger'][_0xb13c7c(0x6b3)](this[_0xb13c7c(0x2c6)]+'\x20('+this[_0xb13c7c(0x30d)][_0xb13c7c(0x582)]+_0xb13c7c(0x377)+_0x1d3bf6),new m(_0x1d3bf6);}}async[a0_0x40255d(0x237)](_0x598a3d){const _0x296837=a0_0x40255d;try{return this[_0x296837(0x17b)]['verbose'](this[_0x296837(0x2c6)]+'\x20('+this[_0x296837(0x30d)][_0x296837(0x582)]+'):\x20Buscando\x20conversas...'),await this[_0x296837(0x200)]['flowConversation']['find'](_0x598a3d,this[_0x296837(0x30d)][_0x296837(0x582)]);}catch(_0x542793){let _0x294ddc=_0x296837(0x6e0),_0x2b3bfd=_0x542793 instanceof Error?_0x542793['message']:typeof _0x542793=='object'?JSON[_0x296837(0x53c)](_0x542793):_0x542793,_0x4a525e=_0x294ddc+':\x20'+_0x2b3bfd;throw this[_0x296837(0x17b)]['error'](this[_0x296837(0x2c6)]+'\x20('+this[_0x296837(0x30d)]['wuid']+'):\x20'+_0x4a525e),new m(_0x4a525e);}}async[a0_0x40255d(0x4c2)](_0x423234){const _0x47466c=a0_0x40255d;try{return this['logger'][_0x47466c(0x5ab)](this[_0x47466c(0x2c6)]+'\x20('+this[_0x47466c(0x30d)]['wuid']+'):\x20Deletando\x20conversa...'),this['logger'][_0x47466c(0x5ab)](this['instanceName']+'\x20('+this[_0x47466c(0x30d)][_0x47466c(0x582)]+_0x47466c(0x3e8)+_0x423234),(await this[_0x47466c(0x200)][_0x47466c(0x336)]['deleteOne']({'where':{'_id':_0x423234[_0x47466c(0x3ba)]}},this[_0x47466c(0x30d)]['wuid']))[_0x47466c(0x3c7)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x47466c(0x382)};}catch(_0x3400df){let _0x17d5c6='Erro\x20ao\x20deletar\x20a\x20conversa',_0xe63b36=_0x3400df instanceof Error?_0x3400df[_0x47466c(0x740)]:typeof _0x3400df==_0x47466c(0x480)?JSON['stringify'](_0x3400df):_0x3400df,_0x4555cc=_0x17d5c6+':\x20'+_0xe63b36;throw this['logger']['error'](this[_0x47466c(0x2c6)]+'\x20('+this[_0x47466c(0x30d)][_0x47466c(0x582)]+_0x47466c(0x377)+_0x4555cc),new m(_0x4555cc);}}async[a0_0x40255d(0x788)](_0x1733ab){const _0x13d807=a0_0x40255d;try{let {_id:_0x147552,chatLog:_0x206e7c,status:_0x2665c5}=_0x1733ab;if(!_0x147552)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0xc68259={};if(_0x2665c5!==void 0x0&&(_0xc68259[_0x13d807(0x784)]=_0x2665c5),Object[_0x13d807(0x702)](_0xc68259)[_0x13d807(0x111)]===0x0)return{'message':_0x13d807(0x163)};let _0x3c806e=await this[_0x13d807(0x200)][_0x13d807(0x336)][_0x13d807(0x72d)](_0x147552,_0xc68259,this[_0x13d807(0x30d)][_0x13d807(0x582)]);return _0x3c806e||{'message':_0x13d807(0x375)};}catch(_0x574861){let _0xf5f5db=_0x13d807(0x296),_0x1abe54=_0x574861 instanceof Error?_0x574861[_0x13d807(0x740)]:typeof _0x574861==_0x13d807(0x480)?JSON[_0x13d807(0x53c)](_0x574861):_0x574861,_0x1ec240=_0xf5f5db+':\x20'+_0x1abe54;throw this[_0x13d807(0x17b)][_0x13d807(0x6b3)](this['instanceName']+'\x20('+this['instance'][_0x13d807(0x582)]+_0x13d807(0x377)+_0x1ec240),new m(_0x1ec240);}}async[a0_0x40255d(0x7a0)](_0x32d722){const _0x3675c8=a0_0x40255d;try{_0x32d722[_0x3675c8(0x3ba)]=this[_0x3675c8(0x37d)](_0x32d722[_0x3675c8(0x3ba)]);let _0xdaa926=await this['repository']['chat']['findOne']({'where':{'_id':_0x32d722['_id']}},this['instance'][_0x3675c8(0x582)]);if(!_0xdaa926)throw new m(_0x3675c8(0x6ff));let {_id:_0x46929e,leadInfo:_0x49ceb2}=_0x32d722;if(!_0x46929e)throw new Error(_0x3675c8(0x1f4));if(_0x32d722['delete']==='all')return await this['deleteChat'](_0x32d722[_0x3675c8(0x3ba)]),await this[_0x3675c8(0x200)][_0x3675c8(0x708)]['delete']({'where':{'_id':_0x32d722[_0x3675c8(0x3ba)]}},this[_0x3675c8(0x30d)][_0x3675c8(0x582)]),await this[_0x3675c8(0x200)][_0x3675c8(0x740)][_0x3675c8(0x5d1)]({'where':{'key':{'remoteJid':_0x32d722[_0x3675c8(0x3ba)]}}},this[_0x3675c8(0x30d)][_0x3675c8(0x582)]),_0x32d722=await this['repository'][_0x3675c8(0x708)][_0x3675c8(0x72d)]({'where':{'_id':_0x32d722['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3675c8(0x30d)][_0x3675c8(0x582)]),q(this[_0x3675c8(0x2c6)],_0x3675c8(0x130),{'chat':_0x32d722}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x32d722['delete']==='messages')return await this[_0x3675c8(0x200)][_0x3675c8(0x740)]['delete']({'where':{'key':{'remoteJid':_0x32d722['_id']}}},this['instance'][_0x3675c8(0x582)]),_0x32d722=await this[_0x3675c8(0x200)]['chat'][_0x3675c8(0x72d)]({'where':{'_id':_0x32d722[_0x3675c8(0x3ba)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3675c8(0x30d)][_0x3675c8(0x582)]),q(this['instanceName'],_0x3675c8(0x130),{'chat':_0x32d722}),{'message':_0x3675c8(0x15c)};let _0x2271ea=(_0x3227d3,_0x401703,_0x49d4d2)=>{_0x3227d3&&_0x49d4d2['forEach'](_0x4f897b=>{const _0x1dfde0=a0_0x2679;_0x3227d3[_0x4f897b]!==void 0x0&&(_0x401703[_0x1dfde0(0x376)+_0x4f897b]=_0x3227d3[_0x4f897b]);});},_0x150697={};if(_0x3675c8(0xdf)in _0x32d722&&(this[_0x3675c8(0x17b)][_0x3675c8(0x5ab)](this['instanceName']+'\x20('+this[_0x3675c8(0x30d)][_0x3675c8(0x582)]+_0x3675c8(0x723)+_0x32d722['_id']),_0x32d722[_0x3675c8(0xdf)]=_0x32d722[_0x3675c8(0xdf)]===0x0?null:-0x1,await this[_0x3675c8(0x6ba)][_0x3675c8(0x160)]({'mute':_0x32d722['muteEndTime']},_0x32d722[_0x3675c8(0x3ba)]),_0x150697[_0x3675c8(0xdf)]=Number(_0x32d722['muteEndTime'])),_0x49ceb2&&(_0x2271ea(_0x49ceb2,_0x150697,[_0x3675c8(0x37c),_0x3675c8(0x679),_0x3675c8(0x62c),_0x3675c8(0x108),_0x3675c8(0x784),_0x3675c8(0x380),_0x3675c8(0x23f),'atendimentoAberto',_0x3675c8(0x1ff),_0x3675c8(0xee),_0x3675c8(0x533)]),Array[_0x3675c8(0x246)](_0x49ceb2[_0x3675c8(0x564)])&&(_0x150697[_0x3675c8(0x790)]=_0x49ceb2['customFields']['map'](_0x1b1bc8=>({'_id':_0x1b1bc8[_0x3675c8(0x3ba)],'value':_0x1b1bc8[_0x3675c8(0x117)]}))),_0x32d722[_0x3675c8(0x31b)]['etiquetas']!==void 0x0)){let _0xf620=await this[_0x3675c8(0x200)][_0x3675c8(0x817)][_0x3675c8(0x284)]({'where':{}},this['instance'][_0x3675c8(0x582)]),_0x322749=new Set(_0x32d722[_0x3675c8(0x31b)][_0x3675c8(0xee)]||[]),_0x4793dc=new Set(_0x32d722[_0x3675c8(0x31b)][_0x3675c8(0xee)]),_0x4029b7=new Set(_0xf620[_0x3675c8(0x54b)](_0x4c10ec=>_0x4c10ec['_id'])),_0x1a8411=[..._0x4793dc][_0x3675c8(0x750)](_0x35877d=>!_0x322749[_0x3675c8(0x178)](_0x35877d)&&_0x4029b7[_0x3675c8(0x178)](_0x35877d)),_0x4c7084=[..._0x322749][_0x3675c8(0x750)](_0x3313dc=>!_0x4793dc[_0x3675c8(0x178)](_0x3313dc));if(_0x150697[_0x3675c8(0x603)]=[..._0x322749],_0xdaa926&&!_0xdaa926[_0x3675c8(0x45f)]){for(let _0x3023f6 of _0x1a8411)await this[_0x3675c8(0x32f)](_0x3023f6,_0x32d722[_0x3675c8(0x3ba)]),_0x322749[_0x3675c8(0x482)](_0x3023f6);for(let _0x17bf36 of _0x4c7084)await this[_0x3675c8(0x330)](_0x17bf36,_0x32d722[_0x3675c8(0x3ba)]),_0x322749[_0x3675c8(0x5d1)](_0x17bf36);}}if(_0x32d722[_0x3675c8(0x7b1)]!==void 0x0&&(_0x150697['unreadcount']=Number(_0x32d722[_0x3675c8(0x7b1)])),Object[_0x3675c8(0x702)](_0x150697)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x1e34fa=await this['repository']['chat'][_0x3675c8(0x72d)]({'where':{'_id':_0x32d722[_0x3675c8(0x3ba)]}},_0x150697,this[_0x3675c8(0x30d)][_0x3675c8(0x582)]);return _0x1e34fa&&q(this[_0x3675c8(0x2c6)],_0x3675c8(0x130),{'chat':_0x1e34fa}),_0x1e34fa?(this[_0x3675c8(0x17b)][_0x3675c8(0x5ab)](this[_0x3675c8(0x2c6)]+'\x20('+this['instance'][_0x3675c8(0x582)]+'):\x20'+JSON['stringify'](_0x1e34fa,null,0x2)),_0x1e34fa):{'message':_0x3675c8(0x272)};}catch(_0x56e78c){let _0x51a2f1=_0x3675c8(0x2a8),_0x2bb2c1=_0x56e78c instanceof Error?_0x56e78c[_0x3675c8(0x740)]:typeof _0x56e78c==_0x3675c8(0x480)?JSON[_0x3675c8(0x53c)](_0x56e78c):_0x56e78c,_0x46a014=_0x51a2f1+':\x20'+_0x2bb2c1;throw this[_0x3675c8(0x17b)][_0x3675c8(0x6b3)](this[_0x3675c8(0x2c6)]+'\x20('+this[_0x3675c8(0x30d)][_0x3675c8(0x582)]+'):\x20'+_0x46a014),new m(_0x46a014);}}async[a0_0x40255d(0x32f)](_0x4a568e,_0x8cfd99){const _0x37fd8b=a0_0x40255d;try{await this['client'][_0x37fd8b(0x61d)](_0x8cfd99,_0x4a568e),this['logger'][_0x37fd8b(0x58f)](this[_0x37fd8b(0x2c6)]+'\x20('+this[_0x37fd8b(0x30d)][_0x37fd8b(0x582)]+_0x37fd8b(0x730)+_0x4a568e+_0x37fd8b(0x65e)+_0x8cfd99+'\x20com\x20sucesso.');}catch(_0x1d7dde){this[_0x37fd8b(0x17b)]['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x4a568e+_0x37fd8b(0x7aa)+_0x8cfd99+':\x20'+_0x1d7dde);}}async['RemoveChatLabel'](_0x28a19d,_0x33bb2c){const _0x4ad79b=a0_0x40255d;try{await this['client'][_0x4ad79b(0x78e)](_0x33bb2c,_0x28a19d),this['logger']['info'](this[_0x4ad79b(0x2c6)]+'\x20('+this['instance'][_0x4ad79b(0x582)]+_0x4ad79b(0x730)+_0x28a19d+'\x20removido\x20do\x20chat\x20'+_0x33bb2c+'\x20com\x20sucesso.');}catch(_0x39f4e6){this['logger'][_0x4ad79b(0x6b3)](_0x4ad79b(0x517)+_0x28a19d+_0x4ad79b(0x29a)+_0x33bb2c+':\x20'+_0x39f4e6);}}async['updateAgent'](_0x5f4081){const _0x740f69=a0_0x40255d;try{let _0x59467a=await this[_0x740f69(0x200)][_0x740f69(0xed)][_0x740f69(0x30b)](this[_0x740f69(0x30d)][_0x740f69(0x582)]),_0x7d3e14=_0x5f4081[_0x740f69(0x3ba)]?_0x59467a['agents'][_0x740f69(0x1b0)](_0x5812a3=>_0x5812a3[_0x740f69(0x3ba)]===_0x5f4081[_0x740f69(0x3ba)]):-0x1;if(_0x5f4081['delete']&&_0x7d3e14>-0x1)_0x59467a['agents']['splice'](_0x7d3e14,0x1);else{if(_0x7d3e14>-0x1){let _0x579a52=_0x59467a[_0x740f69(0x54c)][_0x7d3e14];_0x5f4081[_0x740f69(0x77c)]&&(_0x579a52[_0x740f69(0x77c)]=_0x5f4081[_0x740f69(0x77c)]),_0x5f4081[_0x740f69(0x6cc)]&&(_0x579a52[_0x740f69(0x6cc)]=_0x5f4081['name']),_0x5f4081['email']&&(_0x579a52['email']=_0x5f4081[_0x740f69(0x62c)]),_0x5f4081[_0x740f69(0x565)]&&(_0x579a52['role']=_0x5f4081[_0x740f69(0x565)]);}else _0x59467a['agents']['push']({'_id':_0x5f4081[_0x740f69(0x3ba)]||new fe[(_0x740f69(0x437))][(_0x740f69(0x1a3))][(_0x740f69(0x120))]()[_0x740f69(0x334)](),'fone':_0x5f4081[_0x740f69(0x77c)],'name':_0x5f4081['name'],'email':_0x5f4081[_0x740f69(0x62c)],'role':_0x5f4081[_0x740f69(0x565)]});}let _0x3c6d8a={'agents':_0x59467a['agents']},_0x3f8434=await this[_0x740f69(0x200)][_0x740f69(0xed)]['update'](_0x3c6d8a,this[_0x740f69(0x30d)]['wuid']);return this[_0x740f69(0x3fb)]=_0x3f8434,this[_0x740f69(0x17b)][_0x740f69(0x5ab)](this['instanceName']+'\x20('+this[_0x740f69(0x30d)][_0x740f69(0x582)]+_0x740f69(0x2ee)),this['logger'][_0x740f69(0x5ab)](this[_0x740f69(0x2c6)]+'\x20('+this[_0x740f69(0x30d)][_0x740f69(0x582)]+_0x740f69(0x377)+this[_0x740f69(0x3fb)]),_0x3f8434;}catch(_0x2636b2){let _0x3dac49=_0x740f69(0x4e0),_0x331820=_0x2636b2 instanceof Error?_0x2636b2[_0x740f69(0x740)]:typeof _0x2636b2==_0x740f69(0x480)?JSON[_0x740f69(0x53c)](_0x2636b2):_0x2636b2,_0x78a394=_0x3dac49+':\x20'+_0x331820;throw this[_0x740f69(0x17b)][_0x740f69(0x6b3)](this[_0x740f69(0x2c6)]+'\x20('+this[_0x740f69(0x30d)][_0x740f69(0x582)]+_0x740f69(0x377)+_0x78a394),new m(_0x78a394);}}async[a0_0x40255d(0x1fb)](_0x53920c){const _0x383689=a0_0x40255d;try{let _0x22fd66=await this['repository'][_0x383689(0xed)]['findOrCreate'](this['instance'][_0x383689(0x582)]),_0x499146=_0x53920c['_id']?_0x22fd66['customFields'][_0x383689(0x1b0)](_0x4493be=>_0x4493be[_0x383689(0x3ba)]===_0x53920c['_id']):-0x1,_0x55b0c1=!0x1,_0x5b636e=_0x22fd66['customFields']['some'](_0x3d24c5=>_0x3d24c5[_0x383689(0x650)]===_0x53920c[_0x383689(0x650)]);if(_0x53920c[_0x383689(0x5d1)]&&_0x499146>-0x1)_0x22fd66[_0x383689(0x564)][_0x383689(0x7c7)](_0x499146,0x1),_0x55b0c1=!0x0;else{if(_0x499146>-0x1){if(_0x22fd66[_0x383689(0x564)][_0x383689(0x5fc)](_0x2f0814=>_0x2f0814[_0x383689(0x6cc)]===_0x53920c[_0x383689(0x6cc)]&&_0x2f0814[_0x383689(0x3ba)]!==_0x53920c[_0x383689(0x3ba)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x548f34=_0x22fd66['customFields'][_0x499146];_0x53920c[_0x383689(0x650)]&&(_0x5b636e||!Number[_0x383689(0x7f8)](_0x53920c['order']))&&(_0x548f34['order']=_0x53920c['order'],_0x55b0c1=!0x0),_0x53920c[_0x383689(0x6cc)]&&(_0x548f34['name']=_0x53920c['name']);}else{if(_0x22fd66['customFields'][_0x383689(0x5fc)](_0x4f7e80=>_0x4f7e80[_0x383689(0x6cc)]===_0x53920c[_0x383689(0x6cc)]&&_0x4f7e80[_0x383689(0x3ba)]!==_0x53920c[_0x383689(0x3ba)]))throw new Error(_0x383689(0x6aa));_0x22fd66['customFields'][_0x383689(0x4f1)]({'_id':_0x53920c[_0x383689(0x3ba)]||new fe[(_0x383689(0x437))]['Types'][(_0x383689(0x120))]()[_0x383689(0x334)](),'order':_0x53920c[_0x383689(0x650)],'name':_0x53920c[_0x383689(0x6cc)]}),_0x55b0c1=!0x0;}}if(_0x55b0c1){_0x22fd66[_0x383689(0x564)][_0x383689(0x712)]((_0x2b020f,_0x44050f)=>_0x2b020f[_0x383689(0x650)]>_0x44050f[_0x383689(0x650)]?0x1:_0x44050f[_0x383689(0x650)]>_0x2b020f[_0x383689(0x650)]?-0x1:0x0);for(let _0x38d627=0x0;_0x38d627<_0x22fd66[_0x383689(0x564)]['length'];_0x38d627++)_0x22fd66[_0x383689(0x564)][_0x38d627][_0x383689(0x650)]=_0x38d627+0x1;}let _0x1f48c8=await this[_0x383689(0x200)][_0x383689(0xed)][_0x383689(0x2d3)](_0x22fd66,this[_0x383689(0x30d)][_0x383689(0x582)]);return this[_0x383689(0x3fb)]=_0x1f48c8,this['logger'][_0x383689(0x5ab)](this[_0x383689(0x2c6)]+'\x20('+this[_0x383689(0x30d)][_0x383689(0x582)]+_0x383689(0x46d)),this[_0x383689(0x17b)][_0x383689(0x5ab)](this[_0x383689(0x2c6)]+'\x20('+this[_0x383689(0x30d)]['wuid']+_0x383689(0x377)+this['AutomateSystem']),_0x1f48c8;}catch(_0x5888c8){let _0x213fbc='Erro\x20ao\x20tentar\x20updateCustomFields',_0x3f7a9e=_0x5888c8 instanceof Error?_0x5888c8[_0x383689(0x740)]:typeof _0x5888c8==_0x383689(0x480)?JSON[_0x383689(0x53c)](_0x5888c8):_0x5888c8,_0x3f965e=_0x213fbc+':\x20'+_0x3f7a9e;throw this[_0x383689(0x17b)][_0x383689(0x6b3)](this[_0x383689(0x2c6)]+'\x20('+this[_0x383689(0x30d)]['wuid']+_0x383689(0x377)+_0x3f965e),new m(_0x3f965e);}}async[a0_0x40255d(0x292)](_0x10f88d){const _0x40bfba=a0_0x40255d;try{let _0x3b380f=await this[_0x40bfba(0x200)]['automateSystem'][_0x40bfba(0x30b)](this['instance'][_0x40bfba(0x582)]),_0x56282d=_0x3b380f?.['autoCompleteMessages']?.[_0x40bfba(0x1b0)](_0x3893e6=>_0x3893e6[_0x40bfba(0x3ba)]===_0x10f88d?.['_id']);if(_0x10f88d?.[_0x40bfba(0x5d1)])_0x56282d>-0x1&&_0x3b380f?.[_0x40bfba(0x202)]?.[_0x40bfba(0x7c7)](_0x56282d,0x1);else{if(_0x56282d>-0x1){let _0x43e0d8=_0x3b380f[_0x40bfba(0x202)][_0x56282d];_0x43e0d8[_0x40bfba(0x650)]=_0x10f88d?.[_0x40bfba(0x650)]||_0x43e0d8['order'],_0x43e0d8[_0x40bfba(0x59f)]=_0x10f88d?.[_0x40bfba(0x59f)]||_0x43e0d8[_0x40bfba(0x59f)],_0x43e0d8[_0x40bfba(0x740)]=_0x10f88d?.['message']||_0x43e0d8['message'];}else{let _0x28f1b8={'_id':_0x10f88d?.[_0x40bfba(0x3ba)]||new fe['default'][(_0x40bfba(0x1a3))][(_0x40bfba(0x120))]()['toString'](),'order':_0x10f88d?.[_0x40bfba(0x650)],'command':_0x10f88d?.[_0x40bfba(0x59f)],'message':_0x10f88d?.['message']};_0x3b380f?.[_0x40bfba(0x202)]?.['push'](_0x28f1b8);}}_0x3b380f?.['autoCompleteMessages']?.['sort']((_0x32d57a,_0x2b137b)=>_0x32d57a['order']-_0x2b137b[_0x40bfba(0x650)]);let _0x4e1a1c=await this[_0x40bfba(0x200)][_0x40bfba(0xed)]['update'](_0x3b380f,this[_0x40bfba(0x30d)][_0x40bfba(0x582)]);return this[_0x40bfba(0x3fb)]=_0x4e1a1c,this[_0x40bfba(0x17b)]['verbose'](this[_0x40bfba(0x2c6)]+'\x20('+this[_0x40bfba(0x30d)]['wuid']+_0x40bfba(0x46d)),_0x4e1a1c;}catch(_0x48ab5f){let _0x31a648=_0x40bfba(0x805),_0xd65f8d=_0x48ab5f instanceof Error?_0x48ab5f[_0x40bfba(0x740)]:typeof _0x48ab5f==_0x40bfba(0x480)?JSON[_0x40bfba(0x53c)](_0x48ab5f):_0x48ab5f,_0x174b90=_0x31a648+':\x20'+_0xd65f8d;throw this[_0x40bfba(0x17b)][_0x40bfba(0x6b3)](this[_0x40bfba(0x2c6)]+'\x20('+this[_0x40bfba(0x30d)][_0x40bfba(0x582)]+'):\x20'+_0x174b90),new m(_0x174b90);}}async[a0_0x40255d(0x7e2)](_0xb564b2){const _0x1f9f46=a0_0x40255d;try{let _0x434853=await this[_0x1f9f46(0x200)][_0x1f9f46(0xed)][_0x1f9f46(0x30b)](this[_0x1f9f46(0x30d)][_0x1f9f46(0x582)]);if(!_0x434853)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x4b286f={'_id':_0x434853[_0x1f9f46(0x3ba)],'flowConfig':{'enabled':_0xb564b2[_0x1f9f46(0x20c)]??_0x434853['flowConfig']['enabled'],'ignoreGroups':_0xb564b2[_0x1f9f46(0x5d4)]??_0x434853[_0x1f9f46(0x61a)][_0x1f9f46(0x5d4)],'stopConversation':_0xb564b2[_0x1f9f46(0x13d)][_0x1f9f46(0x339)]()??_0x434853[_0x1f9f46(0x61a)]['stopConversation'][_0x1f9f46(0x339)](),'stopMinutes':_0xb564b2[_0x1f9f46(0x53b)]??_0x434853[_0x1f9f46(0x61a)][_0x1f9f46(0x53b)],'stopWhenYouSendMsg':_0xb564b2[_0x1f9f46(0x2e2)]??_0x434853[_0x1f9f46(0x61a)][_0x1f9f46(0x2e2)]}},_0x34a11f=await this['repository'][_0x1f9f46(0xed)][_0x1f9f46(0x2d3)](_0x4b286f,this['instance'][_0x1f9f46(0x582)]);return this[_0x1f9f46(0x3fb)]=_0x34a11f,this[_0x1f9f46(0x17b)][_0x1f9f46(0x5ab)](this[_0x1f9f46(0x2c6)]+'\x20('+this[_0x1f9f46(0x30d)]['wuid']+_0x1f9f46(0x2ee)),this[_0x1f9f46(0x17b)][_0x1f9f46(0x5ab)](this[_0x1f9f46(0x2c6)]+'\x20('+this[_0x1f9f46(0x30d)]['wuid']+_0x1f9f46(0x377)+this[_0x1f9f46(0x3fb)]),setTimeout(()=>this[_0x1f9f46(0x412)](),0x7d0),_0x34a11f;}catch(_0x3e4dab){let _0x2c0f60='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x45312c=_0x3e4dab instanceof Error?_0x3e4dab[_0x1f9f46(0x740)]:typeof _0x3e4dab==_0x1f9f46(0x480)?JSON[_0x1f9f46(0x53c)](_0x3e4dab):_0x3e4dab,_0x55cf34=_0x2c0f60+':\x20'+_0x45312c;throw this[_0x1f9f46(0x17b)][_0x1f9f46(0x6b3)](this['instanceName']+'\x20('+this['instance'][_0x1f9f46(0x582)]+_0x1f9f46(0x377)+_0x55cf34),new m(_0x55cf34);}}async[a0_0x40255d(0x356)](){const _0x12296d=a0_0x40255d;try{let _0x39ee9f=await this['repository'][_0x12296d(0xed)][_0x12296d(0x30b)](this[_0x12296d(0x30d)][_0x12296d(0x582)]);return this[_0x12296d(0x3fb)]=_0x39ee9f,_0x39ee9f;}catch(_0x49f374){let _0x3e5f44=_0x12296d(0x1a1),_0xa8ca80=_0x49f374 instanceof Error?_0x49f374[_0x12296d(0x740)]:typeof _0x49f374==_0x12296d(0x480)?JSON['stringify'](_0x49f374):_0x49f374,_0x1b95c7=_0x3e5f44+':\x20'+_0xa8ca80;throw this[_0x12296d(0x17b)]['error'](this[_0x12296d(0x2c6)]+'\x20('+this[_0x12296d(0x30d)][_0x12296d(0x582)]+'):\x20'+_0x1b95c7),new m(_0x1b95c7);}}async['initializeQueue'](){const _0x5ac145=a0_0x40255d;let _0x1587c6=(await import(_0x5ac145(0x53a)))[_0x5ac145(0x437)];this['queue']=new _0x1587c6({'concurrency':0x1});}async[a0_0x40255d(0x397)](){const _0x599d5a=a0_0x40255d;this[_0x599d5a(0x30d)]['ScheduleMessage'][_0x599d5a(0x311)]&&clearTimeout(this[_0x599d5a(0x30d)][_0x599d5a(0x19e)]['timeout']),this['instance']['ScheduleMessage'][_0x599d5a(0x311)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x5676d8=a0_0x40255d;Date[_0x5676d8(0x15d)]()-this['instance'][_0x5676d8(0x19e)][_0x5676d8(0x56b)]>=0x1d4c0&&(this[_0x5676d8(0x17b)][_0x5676d8(0x5ab)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x5676d8(0x30d)][_0x5676d8(0x19e)]['processingGroup']=null,this[_0x5676d8(0x30d)][_0x5676d8(0x19e)]['lastSend']=0x0,this['instance'][_0x5676d8(0x19e)]['delayMessage']=0x0,this[_0x5676d8(0x233)]=null,this[_0x5676d8(0x5ee)][_0x5676d8(0x482)](()=>this[_0x5676d8(0x412)]()));}async['scheduleNextCheck'](){const _0x26ea8f=a0_0x40255d;if(this[_0x26ea8f(0x233)]!==null){this[_0x26ea8f(0x17b)][_0x26ea8f(0x576)](this['instanceName']+'\x20('+this[_0x26ea8f(0x30d)][_0x26ea8f(0x582)]+'):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.');return;}let _0x5048cd=!0x1;this[_0x26ea8f(0x2a9)]=[],this[_0x26ea8f(0x233)]=(0x0,X['v4'])(),await this[_0x26ea8f(0x3a5)]();let _0xa283f9=()=>{const _0x3b6895=_0x26ea8f;this[_0x3b6895(0x17b)][_0x3b6895(0x576)](this[_0x3b6895(0x2c6)]+'\x20('+this[_0x3b6895(0x30d)]['wuid']+_0x3b6895(0x483)+this[_0x3b6895(0x30d)][_0x3b6895(0x19e)][_0x3b6895(0x560)]?.[_0x3b6895(0x3ba)]+_0x3b6895(0x3d9));},_0x218d3e=async()=>{const _0x14d5f1=_0x26ea8f;this[_0x14d5f1(0x17b)]['warn'](this[_0x14d5f1(0x2c6)]+'\x20('+this[_0x14d5f1(0x30d)][_0x14d5f1(0x582)]+_0x14d5f1(0x3a3));let _0x9b6403=new Date(Date[_0x14d5f1(0x15d)]()-0xc*0x3c*0x3c*0x3e8),_0x57202a={'where':{'status':{'$in':['scheduled',_0x14d5f1(0x1a8)]},'$or':[{'when':{'$lte':Date[_0x14d5f1(0x15d)](),'$gte':_0x9b6403}},{'when':0x0}]}},_0x4d927a=await this['repository'][_0x14d5f1(0x3cf)][_0x14d5f1(0x284)](_0x57202a,this[_0x14d5f1(0x30d)][_0x14d5f1(0x582)]);return this[_0x14d5f1(0x17b)][_0x14d5f1(0x576)](this[_0x14d5f1(0x2c6)]+'\x20('+this[_0x14d5f1(0x30d)][_0x14d5f1(0x582)]+_0x14d5f1(0x3dc)+_0x4d927a[_0x14d5f1(0x111)]),_0x4d927a;},_0x5cf354=()=>this['pendingMessages']['length']===0x0?null:this[_0x26ea8f(0x2a9)]['reduce']((_0x7d7688,_0x2a1b3f)=>(_0x7d7688[_0x26ea8f(0x650)]??Number['MAX_SAFE_INTEGER'])<(_0x2a1b3f['order']??Number[_0x26ea8f(0x219)])?_0x7d7688:_0x2a1b3f,this[_0x26ea8f(0x2a9)][0x0]),_0x7a51a7=async _0x581b4b=>{const _0x47f9ee=_0x26ea8f;let _0x4c92e2=Math[_0x47f9ee(0x328)](Math[_0x47f9ee(0x23e)]()*0x1389)+0xbb8;for(let _0x28d2ac of _0x581b4b){let _0x573225={'_id':_0x28d2ac[_0x47f9ee(0x3ba)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x47f9ee(0x15d)]()-0xbb8}}]},_0x46ad53={'startSend':Date[_0x47f9ee(0x15d)](),'status':'sending','processUUID':this[_0x47f9ee(0x233)]},_0x2194b6=await this[_0x47f9ee(0x200)][_0x47f9ee(0x3cf)][_0x47f9ee(0x72d)](_0x573225,_0x46ad53,this[_0x47f9ee(0x30d)]['wuid']);if(!_0x2194b6)continue;if(_0x2194b6[_0x47f9ee(0x233)]!==this[_0x47f9ee(0x233)]){await this['setRestartTimeout'](),this[_0x47f9ee(0x17b)][_0x47f9ee(0x576)](this['instanceName']+'\x20('+this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]+_0x47f9ee(0x350));return;}if(!this['instance'][_0x47f9ee(0x19e)][_0x47f9ee(0x7d7)]){this[_0x47f9ee(0x17b)][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]+_0x47f9ee(0x4a6));break;}for(this[_0x47f9ee(0x2a9)]=_0x28d2ac[_0x47f9ee(0x290)]['filter'](_0x32265f=>!_0x32265f[_0x47f9ee(0x6ee)]);this['pendingMessages'][_0x47f9ee(0x111)]>0x0||!_0x5048cd;){await this[_0x47f9ee(0x397)]();let _0xc0b235=_0x5cf354();if(!_0xc0b235){_0x5048cd=!0x0;break;}let _0x3c3095=_0x28d2ac[_0x47f9ee(0x290)][_0x47f9ee(0x284)](_0x5ef0e0=>_0x5ef0e0[_0x47f9ee(0x3ba)]===_0xc0b235[_0x47f9ee(0x3ba)]);if(!_0x3c3095){_0x5048cd=!0x0;break;}if(this[_0x47f9ee(0x30d)]['ScheduleMessage'][_0x47f9ee(0x56b)]=Date[_0x47f9ee(0x15d)](),_0x3c3095[_0x47f9ee(0x6ee)]){this[_0x47f9ee(0x17b)]['warn'](this[_0x47f9ee(0x2c6)]+'\x20('+this['instance'][_0x47f9ee(0x582)]+_0x47f9ee(0x3a8)+_0x3c3095['remoteJid']+_0x47f9ee(0x175)),this[_0x47f9ee(0x2a9)]=this[_0x47f9ee(0x2a9)][_0x47f9ee(0x750)](_0x4fee13=>_0x4fee13['_id']!==_0x3c3095['_id']);continue;}if(!this['instance'][_0x47f9ee(0x19e)][_0x47f9ee(0x7d7)]){this[_0x47f9ee(0x17b)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x47f9ee(0x582)]+_0x47f9ee(0x32c));break;}if(!this[_0x47f9ee(0x30d)][_0x47f9ee(0x19e)][_0x47f9ee(0x560)]){this[_0x47f9ee(0x17b)][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this['instance'][_0x47f9ee(0x582)]+_0x47f9ee(0x6fa)+_0x28d2ac[_0x47f9ee(0x3ba)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x45ab4c={'idControl':_0x3c3095[_0x47f9ee(0x3ba)],'remoteJid':_0x3c3095[_0x47f9ee(0x293)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x47f9ee(0x15d)]()},_0x2b4ebd=null;try{this[_0x47f9ee(0x17b)][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this['instance'][_0x47f9ee(0x582)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x3c3095[_0x47f9ee(0x293)]);let _0x578a9d=await this['SendScheduleMessage'](_0x3c3095[_0x47f9ee(0x293)],_0x3c3095);_0x45ab4c[_0x47f9ee(0x6b3)]=_0x578a9d[_0x47f9ee(0x6b3)],_0x45ab4c['id']=_0x578a9d['error']?null:_0x578a9d['id'],_0x45ab4c[_0x47f9ee(0x2ec)]=_0x578a9d['error']?_0x578a9d['detail']?_0x578a9d['detail'][_0x47f9ee(0x334)]():'':null;let _0x2f788e=_0x28d2ac[_0x47f9ee(0x290)][_0x47f9ee(0x1b0)](_0x2f222d=>_0x2f222d['_id']===_0x3c3095['_id']);_0x2f788e!==-0x1&&(_0x28d2ac[_0x47f9ee(0x290)][_0x2f788e][_0x47f9ee(0x6ee)]=!0x0);let _0x594652={'$push':{'messagesSend':_0x45ab4c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x560d31=[{'elem._id':_0x3c3095[_0x47f9ee(0x3ba)]}];if(this['logger']['warn'](this[_0x47f9ee(0x2c6)]+'\x20('+this[_0x47f9ee(0x30d)]['wuid']+_0x47f9ee(0x5cf)+_0x3c3095[_0x47f9ee(0x3ba)]),_0x2b4ebd=await this[_0x47f9ee(0x200)][_0x47f9ee(0x3cf)][_0x47f9ee(0x72d)]({'_id':_0x28d2ac[_0x47f9ee(0x3ba)]},_0x594652,this[_0x47f9ee(0x30d)]['wuid'],{'arrayFilters':_0x560d31}),_0x578a9d['error']){this['logger'][_0x47f9ee(0x6b3)](this['instanceName']+'\x20('+this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]+_0x47f9ee(0x79e)+_0x578a9d[_0x47f9ee(0x67a)]);continue;}let _0x45f6e5=this[_0x47f9ee(0x584)](_0x28d2ac[_0x47f9ee(0x352)],_0x28d2ac[_0x47f9ee(0x61f)]);await this[_0x47f9ee(0x161)](_0x45f6e5);}catch(_0x425d63){this[_0x47f9ee(0x17b)]['error'](this['instanceName']+'\x20('+this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]+_0x47f9ee(0x76e)+_0x3c3095['remoteJid']+':\x20'+(_0x425d63 instanceof Error?_0x425d63[_0x47f9ee(0x740)]:JSON[_0x47f9ee(0x53c)](_0x425d63,null,0x2))),_0x45ab4c[_0x47f9ee(0x6b3)]=!0x0,_0x45ab4c[_0x47f9ee(0x2ec)]=_0x425d63[_0x47f9ee(0x740)];let _0x48c3c1=_0x28d2ac[_0x47f9ee(0x290)][_0x47f9ee(0x1b0)](_0x4628e8=>_0x4628e8[_0x47f9ee(0x3ba)]===_0x3c3095[_0x47f9ee(0x3ba)]);_0x48c3c1!==-0x1&&(_0x28d2ac[_0x47f9ee(0x290)][_0x48c3c1][_0x47f9ee(0x6ee)]=!0x0);let _0x27f9a4={'$push':{'messagesSend':_0x45ab4c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x92ddaa=[{'elem._id':_0x3c3095[_0x47f9ee(0x3ba)]}];this[_0x47f9ee(0x17b)][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]+_0x47f9ee(0x593)+_0x3c3095['_id']),_0x2b4ebd=await this['repository'][_0x47f9ee(0x3cf)][_0x47f9ee(0x72d)]({'_id':_0x28d2ac[_0x47f9ee(0x3ba)]},_0x27f9a4,this['instance'][_0x47f9ee(0x582)],{'arrayFilters':_0x92ddaa});}finally{if(_0x2b4ebd&&_0x2b4ebd['status']===_0x47f9ee(0x275)){this['logger'][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this['instance']['wuid']+_0x47f9ee(0x6fa)+_0x3c3095[_0x47f9ee(0x3ba)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x26eb81=_0x2b4ebd[_0x47f9ee(0x290)][_0x47f9ee(0x284)](_0x2dfc0f=>_0x2dfc0f[_0x47f9ee(0x3ba)]===_0x3c3095[_0x47f9ee(0x3ba)]);if(_0x26eb81&&!_0x26eb81[_0x47f9ee(0x6ee)]){let _0x3a6ff2={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2d7dc8=[{'elem._id':_0x3c3095[_0x47f9ee(0x3ba)]}];await this[_0x47f9ee(0x200)][_0x47f9ee(0x3cf)]['updateOne']({'_id':_0x2b4ebd[_0x47f9ee(0x3ba)]},_0x3a6ff2,this[_0x47f9ee(0x30d)]['wuid'],{'arrayFilters':_0x2d7dc8});}if(this[_0x47f9ee(0x2a9)]=_0x2b4ebd[_0x47f9ee(0x290)]['filter'](_0x178c46=>!_0x178c46[_0x47f9ee(0x6ee)]),_0x5048cd=this[_0x47f9ee(0x2a9)][_0x47f9ee(0x111)]===0x0,_0x2b4ebd[_0x47f9ee(0x233)]!==this[_0x47f9ee(0x233)]){await this[_0x47f9ee(0x397)](),this['logger'][_0x47f9ee(0x576)](this[_0x47f9ee(0x2c6)]+'\x20('+this['instance'][_0x47f9ee(0x582)]+_0x47f9ee(0x350));return;}this[_0x47f9ee(0x30d)][_0x47f9ee(0x19e)][_0x47f9ee(0x560)]=_0x2b4ebd;}}this[_0x47f9ee(0x2a9)]=[];let _0xee76bb=await this[_0x47f9ee(0x200)][_0x47f9ee(0x3cf)]['findById'](_0x28d2ac['_id'],this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]);if(_0x5048cd=_0xee76bb['messages']['every'](_0x53ca0c=>_0x53ca0c[_0x47f9ee(0x6ee)]),_0x5048cd&&_0xee76bb[_0x47f9ee(0x784)]!=='stopped'){let _0x27dee1={'$set':{'status':_0x47f9ee(0x46b)}};await this[_0x47f9ee(0x200)][_0x47f9ee(0x3cf)][_0x47f9ee(0x6c6)](_0xee76bb[_0x47f9ee(0x3ba)],_0x27dee1,this[_0x47f9ee(0x30d)][_0x47f9ee(0x582)]);}await new Promise(_0xf602ac=>setTimeout(_0xf602ac,_0x4c92e2)),global['gc']?global['gc']():console[_0x47f9ee(0x576)](_0x47f9ee(0x7b5));}},_0x593332=async()=>{const _0x55144c=_0x26ea8f;this[_0x55144c(0x17b)][_0x55144c(0x576)](this['instanceName']+'\x20('+this[_0x55144c(0x30d)]['wuid']+_0x55144c(0x3a3));let _0x24065b={'where':{'status':_0x55144c(0x48f),'when':{'$gt':Date[_0x55144c(0x15d)]()}}},_0x4c4918=await this['repository'][_0x55144c(0x3cf)][_0x55144c(0x73b)](_0x24065b,this[_0x55144c(0x30d)]['wuid']);_0x4c4918&&_0x4c4918[_0x55144c(0x49c)]-Date['now']()<=0x6ddd00?this[_0x55144c(0x30d)]['ScheduleMessage'][_0x55144c(0x104)]=_0x4c4918[_0x55144c(0x49c)]-Date[_0x55144c(0x15d)]():this[_0x55144c(0x30d)][_0x55144c(0x19e)][_0x55144c(0x104)]=(0x3c+Math[_0x55144c(0x328)](Math[_0x55144c(0x23e)]()*0x3c))*0x3c*0x3e8,this[_0x55144c(0x30d)][_0x55144c(0x19e)][_0x55144c(0x104)]=Math[_0x55144c(0x3a4)](this[_0x55144c(0x30d)][_0x55144c(0x19e)][_0x55144c(0x104)],0x1*0x2*0x3e8);let _0x3571c6=Math[_0x55144c(0x1d0)](this[_0x55144c(0x30d)][_0x55144c(0x19e)][_0x55144c(0x104)]/0xea60);if(_0x4c4918){let _0x5cf951=new Date(_0x4c4918[_0x55144c(0x49c)])['toLocaleString']();this['logger'][_0x55144c(0x576)](this[_0x55144c(0x2c6)]+'\x20('+this[_0x55144c(0x30d)][_0x55144c(0x582)]+_0x55144c(0x3fd)+_0x5cf951+_0x55144c(0x645)+_0x3571c6+_0x55144c(0x7de));}else this[_0x55144c(0x17b)]['warn'](this['instanceName']+'\x20('+this[_0x55144c(0x30d)]['wuid']+_0x55144c(0x4e8)+_0x3571c6+_0x55144c(0x7de));setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x55144c(0x19e)]['delayMessage']);};if(this[_0x26ea8f(0x30d)][_0x26ea8f(0x19e)][_0x26ea8f(0x560)]){await this['setRestartTimeout'](),_0xa283f9();return;}if(!this[_0x26ea8f(0x30d)][_0x26ea8f(0x19e)][_0x26ea8f(0x7d7)]){this[_0x26ea8f(0x17b)][_0x26ea8f(0x576)](this[_0x26ea8f(0x2c6)]+'\x20('+this['instance'][_0x26ea8f(0x582)]+_0x26ea8f(0xec)),this[_0x26ea8f(0x30d)]['ScheduleMessage']['processingGroup']=null,this[_0x26ea8f(0x30d)][_0x26ea8f(0x19e)][_0x26ea8f(0x56b)]=0x0,this[_0x26ea8f(0x30d)][_0x26ea8f(0x19e)][_0x26ea8f(0x104)]=0x0;return;}try{let _0x1ccca8=await _0x218d3e();_0x1ccca8['length']===0x0?this['logger'][_0x26ea8f(0x576)](this[_0x26ea8f(0x2c6)]+'\x20('+this['instance'][_0x26ea8f(0x582)]+_0x26ea8f(0x7f3)):(this[_0x26ea8f(0x30d)]['ScheduleMessage']['processingGroup']=_0x1ccca8[0x0],await _0x7a51a7(_0x1ccca8)),await _0x593332(),this[_0x26ea8f(0x30d)][_0x26ea8f(0x19e)][_0x26ea8f(0x560)]=null;}catch(_0x3f5d37){this[_0x26ea8f(0x17b)][_0x26ea8f(0x6b3)](_0x26ea8f(0x3ce)+(_0x3f5d37 instanceof Error?_0x3f5d37[_0x26ea8f(0x740)]:JSON[_0x26ea8f(0x53c)](_0x3f5d37,null,0x2)));}}['getDelay'](_0x1502c7,_0x217f49){const _0x3d324f=a0_0x40255d;return _0x1502c7=Math[_0x3d324f(0x3a4)](0.5,_0x1502c7),_0x217f49=Math['min'](Math['max'](0x3,_0x217f49),0x78),Math[_0x3d324f(0x328)](Math[_0x3d324f(0x23e)]()*(_0x217f49-_0x1502c7+0x1)+_0x1502c7)*0x3e8;}[a0_0x40255d(0x161)](_0x7df29c){return new Promise(_0x59eba7=>setTimeout(_0x59eba7,_0x7df29c));}async[a0_0x40255d(0x2a6)](_0x3654d7){const _0x3cdf8e=a0_0x40255d;if(!this[_0x3cdf8e(0x3fb)]&&(await this[_0x3cdf8e(0x356)](),!this[_0x3cdf8e(0x3fb)]))return null;_0x3654d7=this['createJid'](_0x3654d7);let _0x251135=await this[_0x3cdf8e(0x200)][_0x3cdf8e(0x708)][_0x3cdf8e(0x73b)]({'where':{'_id':_0x3654d7}},this[_0x3cdf8e(0x30d)][_0x3cdf8e(0x582)]),_0x32cb9f={};if(_0x251135&&_0x251135[_0x3cdf8e(0x31b)]){let _0x4990d6=_0x251135[_0x3cdf8e(0x31b)];typeof _0x4990d6[_0x3cdf8e(0x37c)]==_0x3cdf8e(0x4ff)&&(_0x32cb9f[_0x3cdf8e(0x37c)]=_0x4990d6[_0x3cdf8e(0x37c)]),typeof _0x4990d6[_0x3cdf8e(0x679)]=='string'&&(_0x32cb9f[_0x3cdf8e(0x679)]=_0x4990d6[_0x3cdf8e(0x679)]),typeof _0x4990d6[_0x3cdf8e(0x62c)]==_0x3cdf8e(0x4ff)&&(_0x32cb9f[_0x3cdf8e(0x62c)]=_0x4990d6['email']),typeof _0x4990d6[_0x3cdf8e(0x108)]==_0x3cdf8e(0x4ff)&&(_0x32cb9f['cpf']=_0x4990d6[_0x3cdf8e(0x108)]),typeof _0x4990d6['status']==_0x3cdf8e(0x4ff)&&(_0x32cb9f[_0x3cdf8e(0x784)]=_0x4990d6[_0x3cdf8e(0x784)]),typeof _0x4990d6[_0x3cdf8e(0x380)]==_0x3cdf8e(0x4ff)&&(_0x32cb9f[_0x3cdf8e(0x380)]=_0x4990d6['notas']),typeof _0x4990d6[_0x3cdf8e(0x1ff)]=='string'&&(_0x32cb9f['responsavelid']=_0x4990d6['responsavelid']),Array[_0x3cdf8e(0x246)](_0x4990d6[_0x3cdf8e(0x23f)])&&(_0x32cb9f[_0x3cdf8e(0x23f)]=_0x4990d6[_0x3cdf8e(0x23f)][_0x3cdf8e(0x12c)](',\x20')),Array[_0x3cdf8e(0x246)](_0x4990d6[_0x3cdf8e(0xee)])&&(_0x32cb9f[_0x3cdf8e(0xee)]=_0x4990d6[_0x3cdf8e(0xee)]['join'](',\x20'));}return _0x251135&&_0x251135[_0x3cdf8e(0x31b)]&&_0x251135[_0x3cdf8e(0x31b)]['customFields']&&_0x251135[_0x3cdf8e(0x31b)]['customFields'][_0x3cdf8e(0x659)](_0x5d232d=>{const _0x2aa38a=_0x3cdf8e;let _0x144b48=this['AutomateSystem']?.[_0x2aa38a(0x564)]['find'](_0x44f1f1=>_0x44f1f1['_id']===_0x5d232d[_0x2aa38a(0x3ba)]);_0x144b48&&(_0x32cb9f[_0x144b48['name']]=_0x5d232d[_0x2aa38a(0x117)]);}),_0x32cb9f;}async[a0_0x40255d(0x5f8)](_0x227f9c,_0x8e4b7d){const _0x57b0a9=a0_0x40255d;try{let _0x111669=await this[_0x57b0a9(0x2a6)](_0x8e4b7d);return this[_0x57b0a9(0xde)](_0x227f9c,_0x111669);}catch(_0x4c2e76){return this[_0x57b0a9(0x17b)][_0x57b0a9(0x6b3)](_0x57b0a9(0x532)+_0x8e4b7d+':\x20'+_0x4c2e76),_0x227f9c;}}async['transformScheduledMessagesByType'](){const _0x2045c8=a0_0x40255d;let _0x519525=async(_0x290a51,_0x25bd2b)=>{const _0x4196f8=a0_0x2679;let _0x2b501c=(await this[_0x4196f8(0x200)][_0x4196f8(0x3cf)][_0x4196f8(0x284)]({'where':{'type':_0x290a51}},this[_0x4196f8(0x30d)]['wuid']))[_0x4196f8(0x54b)](async _0x3bc17f=>{const _0x3a1fa7=_0x4196f8;let _0x54f706=_0x25bd2b(_0x3bc17f),_0x56942c=_0x225682=>/^\d+$/[_0x3a1fa7(0x35c)](_0x225682),_0x161a6b=_0x3bc17f[_0x3a1fa7(0x5f2)][_0x3a1fa7(0x750)](_0x2a4031=>_0x2a4031[_0x3a1fa7(0x50b)](_0x3a1fa7(0x226))?_0x2a4031[_0x3a1fa7(0x111)]>0x19:_0x2a4031[_0x3a1fa7(0x50b)](_0x3a1fa7(0x68c))?_0x2a4031[_0x3a1fa7(0x111)]>0xf:_0x56942c(_0x2a4031)?_0x2a4031[_0x3a1fa7(0x111)]>=0xb:!0x1)[_0x3a1fa7(0x54b)](_0x7f41a7=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x3bc17f[_0x3a1fa7(0x3ba)],'type':_0x54f706,'remoteJid':_0x7f41a7,'flow':_0x3bc17f[_0x3a1fa7(0x2e9)],'text':_0x3bc17f[_0x3a1fa7(0x740)]?.[_0x3a1fa7(0x6ed)],'delay':_0x3bc17f['message']?.[_0x3a1fa7(0x155)],'urlOrBase64':_0x3bc17f[_0x3a1fa7(0x740)]?.['urlOrBase64'],'linkPreview':_0x3bc17f[_0x3a1fa7(0x740)]?.['linkPreview'],'fileName':_0x3bc17f[_0x3a1fa7(0x740)]?.[_0x3a1fa7(0x46a)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x3a1fa7(0x200)][_0x3a1fa7(0x3cf)]['updateOneById'](_0x3bc17f['_id'],{'$set':{'messages':_0x161a6b},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x3a1fa7(0x30d)][_0x3a1fa7(0x582)]);}catch(_0x4491f9){console[_0x3a1fa7(0x6b3)](_0x3a1fa7(0xd7)+_0x3bc17f[_0x3a1fa7(0x3ba)]+':',_0x4491f9);}});await Promise['all'](_0x2b501c);};await _0x519525(_0x2045c8(0x6ed),_0x1948df=>'text'),await _0x519525(_0x2045c8(0x43c),_0x55f87d=>_0x55f87d[_0x2045c8(0x740)]?.[_0x2045c8(0x4d0)]||'media'),await _0x519525(_0x2045c8(0x17e),_0x349418=>'audio'),await _0x519525(_0x2045c8(0x46c),_0x55c835=>_0x2045c8(0x46c)),await _0x519525(_0x2045c8(0x36d),_0xfad0=>'image'),await _0x519525(_0x2045c8(0x7bd),_0x3cded4=>_0x2045c8(0x7bd)),await _0x519525(_0x2045c8(0x3c0),_0x3ec995=>'document'),this['logger'][_0x2045c8(0x576)](this[_0x2045c8(0x2c6)]+'\x20('+this[_0x2045c8(0x30d)][_0x2045c8(0x582)]+_0x2045c8(0x61b));}async['editScheduleMessage'](_0x59a2b1){const _0x2d50c2=a0_0x40255d;try{if(this[_0x2d50c2(0x17b)][_0x2d50c2(0x576)](this[_0x2d50c2(0x2c6)]+'\x20('+this['instance'][_0x2d50c2(0x582)]+_0x2d50c2(0x3bf)),_0x59a2b1[_0x2d50c2(0x3ba)]||(_0x59a2b1[_0x2d50c2(0x3ba)]=(0x0,X['v4'])()),this['instance'][_0x2d50c2(0x19e)][_0x2d50c2(0x560)]?.[_0x2d50c2(0x3ba)]===_0x59a2b1[_0x2d50c2(0x3ba)]?.[_0x2d50c2(0x334)]()){if(_0x59a2b1[_0x2d50c2(0x784)]===_0x2d50c2(0x275))this[_0x2d50c2(0x30d)][_0x2d50c2(0x19e)]['processingGroup']=null;else throw new Error(_0x2d50c2(0x3b9));}if(_0x59a2b1[_0x2d50c2(0x5d1)]&&_0x59a2b1[_0x2d50c2(0x3ba)]){let _0x1d011b=await this[_0x2d50c2(0x200)]['scheduleMessage'][_0x2d50c2(0x73f)](_0x59a2b1[_0x2d50c2(0x3ba)],this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1d011b;}let _0xb965d9=null;if(_0x59a2b1[_0x2d50c2(0x3ba)]&&(_0xb965d9=await this[_0x2d50c2(0x200)][_0x2d50c2(0x3cf)][_0x2d50c2(0x359)](_0x59a2b1['_id'],this['instance'][_0x2d50c2(0x582)])),_0xb965d9){let {_id:_0x4da939,owner:_0x45cddd,messages:_0x415e28,..._0x571285}=_0x59a2b1;if(_0x415e28){let _0x4c14a3=_0x415e28[_0x2d50c2(0x750)](_0x117724=>!_0x117724[_0x2d50c2(0x3ba)]),_0x6557f=_0x415e28[_0x2d50c2(0x750)](_0x19551a=>_0x19551a['_id']&&!_0x19551a['delete']),_0x443195=_0x415e28[_0x2d50c2(0x750)](_0x5ebc1f=>_0x5ebc1f[_0x2d50c2(0x3ba)]&&_0x5ebc1f[_0x2d50c2(0x5d1)]);if(_0x4c14a3[_0x2d50c2(0x111)]>0x0&&await this[_0x2d50c2(0x4d2)](_0x59a2b1[_0x2d50c2(0x3ba)],_0x4c14a3),_0x6557f[_0x2d50c2(0x111)]>0x0&&await this['editMessagesInGroup']({'_id':_0x59a2b1[_0x2d50c2(0x3ba)],'messages':_0x6557f}),_0x443195[_0x2d50c2(0x111)]>0x0){let _0x51a557=_0x443195[_0x2d50c2(0x54b)](_0x5b9310=>({'updateOne':{'filter':{'_id':_0x59a2b1[_0x2d50c2(0x3ba)]},'update':{'$pull':{'messages':{'_id':_0x5b9310[_0x2d50c2(0x3ba)]}}}}}));await this['repository'][_0x2d50c2(0x3cf)][_0x2d50c2(0x72b)](_0x51a557,this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)]);}}let _0x3b97bd={'$set':{..._0x571285,'status':_0x59a2b1['status']||_0xb965d9['status']}},_0x398975=await this[_0x2d50c2(0x200)][_0x2d50c2(0x3cf)][_0x2d50c2(0x6c6)](_0x59a2b1[_0x2d50c2(0x3ba)],_0x3b97bd,this[_0x2d50c2(0x30d)]['wuid']);return _0x398975&&(this[_0x2d50c2(0x652)](_0x398975['messages']),await this[_0x2d50c2(0x200)][_0x2d50c2(0x3cf)][_0x2d50c2(0x6c6)](_0x398975['_id'],{'$set':{'messages':_0x398975['messages']}},this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)])),setTimeout(()=>this[_0x2d50c2(0x412)](),0x7d0),await this[_0x2d50c2(0x3a5)](),_0x398975;}else{_0x59a2b1[_0x2d50c2(0x811)]=this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)],_0x59a2b1[_0x2d50c2(0x290)]&&_0x59a2b1[_0x2d50c2(0x290)]['forEach'](_0x45e517=>{const _0x51ba61=_0x2d50c2;_0x45e517['_id']||(_0x45e517[_0x51ba61(0x3ba)]=(0x0,X['v4'])()),_0x45e517[_0x51ba61(0x5c0)]||(_0x45e517[_0x51ba61(0x5c0)]=_0x59a2b1['_id']),delete _0x45e517[_0x51ba61(0x6ee)];});let _0x52df58=await this[_0x2d50c2(0x200)][_0x2d50c2(0x3cf)][_0x2d50c2(0x796)](_0x59a2b1,this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)]);return _0x52df58&&(this[_0x2d50c2(0x652)](_0x52df58[_0x2d50c2(0x290)]),await this[_0x2d50c2(0x200)]['scheduleMessage'][_0x2d50c2(0x6c6)](_0x52df58[_0x2d50c2(0x3ba)],{'$set':{'messages':_0x52df58[_0x2d50c2(0x290)]}},this[_0x2d50c2(0x30d)][_0x2d50c2(0x582)])),setTimeout(()=>this[_0x2d50c2(0x412)](),0x7d0),_0x52df58;}}catch(_0x52130b){let _0x2a9c27=_0x2d50c2(0x38b),_0x74a0bd=_0x52130b instanceof Error?_0x52130b['message']:typeof _0x52130b=='object'?JSON[_0x2d50c2(0x53c)](_0x52130b):_0x52130b,_0xcf498e=_0x2a9c27+':\x20'+_0x74a0bd;throw this['logger']['error'](this[_0x2d50c2(0x2c6)]+'\x20('+this[_0x2d50c2(0x30d)]['wuid']+'):\x20'+_0xcf498e),new m(_0xcf498e);}}async[a0_0x40255d(0x4d2)](_0x19ec95,_0x4007cb){const _0x31e02d=a0_0x40255d;try{this[_0x31e02d(0x17b)][_0x31e02d(0x5ab)](this[_0x31e02d(0x2c6)]+'\x20('+this[_0x31e02d(0x30d)][_0x31e02d(0x582)]+_0x31e02d(0x54d)),_0x4007cb[_0x31e02d(0x659)](_0x11fd77=>{const _0x211bd0=_0x31e02d;_0x11fd77[_0x211bd0(0x3ba)]||(_0x11fd77[_0x211bd0(0x3ba)]=(0x0,X['v4'])()),_0x11fd77[_0x211bd0(0x5c0)]||(_0x11fd77[_0x211bd0(0x5c0)]=_0x19ec95),delete _0x11fd77['triedToSend'];});let _0x2b3f3b={'$push':{'messages':{'$each':_0x4007cb}}},_0x303454=await this[_0x31e02d(0x200)][_0x31e02d(0x3cf)][_0x31e02d(0x6c6)](_0x19ec95,_0x2b3f3b,this[_0x31e02d(0x30d)][_0x31e02d(0x582)]);return _0x303454&&(this['reorderMessages'](_0x303454['messages']),await this['repository'][_0x31e02d(0x3cf)][_0x31e02d(0x6c6)](_0x303454[_0x31e02d(0x3ba)],{'$set':{'messages':_0x303454['messages']}},this[_0x31e02d(0x30d)]['wuid'])),_0x303454;}catch(_0x28ab1f){let _0x165b14='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x1d8b1b=_0x28ab1f instanceof Error?_0x28ab1f['message']:typeof _0x28ab1f==_0x31e02d(0x480)?JSON['stringify'](_0x28ab1f):_0x28ab1f,_0x337a9f=_0x165b14+':\x20'+_0x1d8b1b;throw this[_0x31e02d(0x17b)]['error'](this['instanceName']+'\x20('+this[_0x31e02d(0x30d)]['wuid']+_0x31e02d(0x377)+_0x337a9f),new m(_0x337a9f);}}async[a0_0x40255d(0x7fd)](_0x49d60b){const _0x37f38e=a0_0x40255d;try{if(this['logger'][_0x37f38e(0x5ab)](this[_0x37f38e(0x2c6)]+'\x20('+this[_0x37f38e(0x30d)][_0x37f38e(0x582)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x49d60b[_0x37f38e(0x3ba)]||!_0x49d60b[_0x37f38e(0x290)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x30a41c=_0x49d60b[_0x37f38e(0x3ba)],_0x5ca7c8=_0x49d60b[_0x37f38e(0x290)],_0x257ee1=_0x5ca7c8[_0x37f38e(0x750)](_0x4425b0=>!_0x4425b0['delete'])[_0x37f38e(0x54b)](_0x28ce44=>{const _0x28d0e5=_0x37f38e;let _0x4fd414=_0x28ce44[_0x28d0e5(0x3ba)];if(!_0x4fd414)throw new Error(_0x28d0e5(0x58a));return _0x28ce44[_0x28d0e5(0x5c0)]||(_0x28ce44[_0x28d0e5(0x5c0)]=_0x30a41c),delete _0x28ce44[_0x28d0e5(0x6ee)],{'updateOne':{'filter':{'_id':_0x30a41c,'messages._id':_0x4fd414},'update':{'$set':{'messages.$[elem]':_0x28ce44}},'arrayFilters':[{'elem._id':_0x4fd414}]}};}),_0x54a14e=_0x5ca7c8[_0x37f38e(0x750)](_0x15c4bb=>_0x15c4bb[_0x37f38e(0x5d1)])[_0x37f38e(0x54b)](_0x46c4a0=>{const _0x25a7df=_0x37f38e;let _0x1cc32d=_0x46c4a0[_0x25a7df(0x3ba)];if(!_0x1cc32d)throw new Error(_0x25a7df(0x820));return{'updateOne':{'filter':{'_id':_0x30a41c},'update':{'$pull':{'messages':{'_id':_0x1cc32d}}}}};}),_0x16b88b=[..._0x257ee1,..._0x54a14e],_0x50fc8f=await this[_0x37f38e(0x200)][_0x37f38e(0x3cf)][_0x37f38e(0x72b)](_0x16b88b,this[_0x37f38e(0x30d)][_0x37f38e(0x582)]),_0x3c7cb8=await this['repository'][_0x37f38e(0x3cf)]['findById'](_0x30a41c,this[_0x37f38e(0x30d)][_0x37f38e(0x582)]);return _0x3c7cb8&&(this[_0x37f38e(0x652)](_0x3c7cb8[_0x37f38e(0x290)]),await this[_0x37f38e(0x200)][_0x37f38e(0x3cf)][_0x37f38e(0x6c6)](_0x3c7cb8[_0x37f38e(0x3ba)],{'$set':{'messages':_0x3c7cb8['messages']}},this[_0x37f38e(0x30d)][_0x37f38e(0x582)])),_0x3c7cb8;}catch(_0x514f51){let _0x3a4bb5='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x4679b6=_0x514f51 instanceof Error?_0x514f51[_0x37f38e(0x740)]:typeof _0x514f51==_0x37f38e(0x480)?JSON[_0x37f38e(0x53c)](_0x514f51):_0x514f51,_0xd7b959=_0x3a4bb5+':\x20'+_0x4679b6;throw this['logger'][_0x37f38e(0x6b3)](this[_0x37f38e(0x2c6)]+'\x20('+this[_0x37f38e(0x30d)][_0x37f38e(0x582)]+_0x37f38e(0x377)+_0xd7b959),new m(_0xd7b959);}}async[a0_0x40255d(0x4f3)](){const _0x379a98=a0_0x40255d;try{let _0x144bea={'status':'done'},_0x1a0f39=await this[_0x379a98(0x200)][_0x379a98(0x3cf)][_0x379a98(0x4ee)](_0x144bea,this['instance'][_0x379a98(0x582)]);if(!_0x1a0f39[_0x379a98(0x6b3)])this[_0x379a98(0x17b)][_0x379a98(0x5ab)](this[_0x379a98(0x2c6)]+'\x20('+this['instance'][_0x379a98(0x582)]+_0x379a98(0x186));else throw new Error(_0x1a0f39[_0x379a98(0x6b3)][_0x379a98(0x740)]||_0x379a98(0x2d9));return this[_0x379a98(0x2a4)]();}catch(_0x195d0c){let _0x3ce7d8=_0x379a98(0x639),_0x4cbf06=_0x195d0c instanceof Error?_0x195d0c[_0x379a98(0x740)]:typeof _0x195d0c==_0x379a98(0x480)?JSON[_0x379a98(0x53c)](_0x195d0c):_0x195d0c,_0x4c6804=_0x3ce7d8+':\x20'+_0x4cbf06;throw this[_0x379a98(0x17b)][_0x379a98(0x6b3)](this['instanceName']+'\x20('+this[_0x379a98(0x30d)]['wuid']+'):\x20'+_0x4c6804),new m(_0x4c6804);}}async[a0_0x40255d(0x2a4)](){const _0x47d343=a0_0x40255d;try{return await this[_0x47d343(0x200)]['scheduleMessage'][_0x47d343(0x284)]({'where':{}},this['instance']['wuid']);}catch(_0x356871){let _0x48a99c=_0x47d343(0x245),_0x38a3f6=_0x356871 instanceof Error?_0x356871[_0x47d343(0x740)]:typeof _0x356871==_0x47d343(0x480)?JSON[_0x47d343(0x53c)](_0x356871):_0x356871,_0x26be8a=_0x48a99c+':\x20'+_0x38a3f6;throw this[_0x47d343(0x17b)][_0x47d343(0x6b3)](this[_0x47d343(0x2c6)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x26be8a),new m(_0x26be8a);}}['reorderMessages'](_0x421e35){const _0x5b9db0=a0_0x40255d;_0x421e35[_0x5b9db0(0x712)]((_0x579d90,_0x525a3c)=>_0x579d90['order']-_0x525a3c[_0x5b9db0(0x650)]),_0x421e35[_0x5b9db0(0x659)]((_0x30ccf9,_0x56d704)=>{const _0xe6c527=_0x5b9db0;_0x30ccf9[_0xe6c527(0x650)]=_0x56d704+0x1;});}async[a0_0x40255d(0x685)](_0x5f0ec9,_0x1ce141){const _0x4deb08=a0_0x40255d;try{if(!_0x1ce141)return this[_0x4deb08(0x17b)]['error'](this[_0x4deb08(0x2c6)]+'\x20('+this[_0x4deb08(0x30d)][_0x4deb08(0x582)]+_0x4deb08(0x337)),{'error':!0x0,'detail':_0x4deb08(0x70d)};if(_0x1ce141[_0x4deb08(0x3fa)]==='flow'&&!this[_0x4deb08(0x3fb)]?.['flowConfig']['enabled'])return this[_0x4deb08(0x17b)][_0x4deb08(0x6b3)](this[_0x4deb08(0x2c6)]+'\x20('+this[_0x4deb08(0x30d)][_0x4deb08(0x582)]+_0x4deb08(0x794)),{'error':!0x0,'detail':_0x4deb08(0x6da)};switch(_0x1ce141[_0x4deb08(0x3fa)]){case _0x4deb08(0x6ed):return await this[_0x4deb08(0x48a)](_0x1ce141,_0x5f0ec9);case'video':case _0x4deb08(0x36d):case _0x4deb08(0x3c0):return await this[_0x4deb08(0x6ea)](_0x1ce141,_0x5f0ec9);case _0x4deb08(0x17e):return await this['scheduleSendAudio'](_0x1ce141,_0x5f0ec9);case'flow':let _0x34cb0a=new Qe();return _0x34cb0a[_0x4deb08(0x6cc)]=_0x1ce141[_0x4deb08(0x46c)],_0x34cb0a['remoteJid']=_0x5f0ec9,await this[_0x4deb08(0x38c)](_0x34cb0a);default:return this['logger'][_0x4deb08(0x6b3)](this['instanceName']+'\x20('+this[_0x4deb08(0x30d)]['wuid']+_0x4deb08(0x4d4)+_0x1ce141[_0x4deb08(0x3fa)]),{'error':!0x0,'detail':_0x4deb08(0x641)};}}catch(_0x4f42f2){return this[_0x4deb08(0x17b)]['error'](this[_0x4deb08(0x2c6)]+'\x20('+this['instance']['wuid']+_0x4deb08(0x35b)+(_0x4f42f2 instanceof Error?_0x4f42f2[_0x4deb08(0x740)]:JSON[_0x4deb08(0x53c)](_0x4f42f2,null,0x2))),{'error':!0x0,'detail':_0x4f42f2[_0x4deb08(0x740)]};}}async[a0_0x40255d(0x48a)](_0x30e4fa,_0xa0cc82){const _0x5491f3=a0_0x40255d;if(this['logger']['verbose'](this[_0x5491f3(0x2c6)]+'\x20('+this[_0x5491f3(0x30d)]['wuid']+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0xa0cc82+'\x27'),!_0x30e4fa['text']||_0x30e4fa[_0x5491f3(0x6ed)][_0x5491f3(0x111)]===0x0)return{'error':!0x0,'detail':_0x5491f3(0x162)};let _0xd4ef1d=await this[_0x5491f3(0x5f8)](_0x30e4fa[_0x5491f3(0x6ed)],_0xa0cc82),_0x12f24e={'number':_0xa0cc82,'options':{'delay':_0x30e4fa[_0x5491f3(0x155)],'linkPreview':_0x30e4fa['linkPreview']},'textMessage':{'text':_0xd4ef1d}},_0x476609=null;try{let _0x5e6c37=await this[_0x5491f3(0x706)](_0x12f24e);if(_0x5e6c37&&_0x5e6c37[_0x5491f3(0x784)])return{'error':!0x1,'id':_0x5e6c37[_0x5491f3(0x713)]['id']};_0x476609=JSON['stringify'](_0x5e6c37),this['logger'][_0x5491f3(0x5ab)](this[_0x5491f3(0x2c6)]+'\x20('+this[_0x5491f3(0x30d)][_0x5491f3(0x582)]+'):\x20'+_0x476609);}catch(_0x4b8d47){this[_0x5491f3(0x17b)]['error'](this[_0x5491f3(0x2c6)]+'\x20('+this[_0x5491f3(0x30d)]['wuid']+_0x5491f3(0x644)+(_0x4b8d47 instanceof Error?_0x4b8d47[_0x5491f3(0x740)]:JSON['stringify'](_0x4b8d47,null,0x2))),_0x476609=_0x4b8d47[_0x5491f3(0x740)];}if(_0x476609)return{'error':!0x0,'detail':(typeof _0x476609=='object'?JSON[_0x5491f3(0x53c)](_0x476609,null,0x2):_0x476609)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5491f3(0x362)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x407608,_0x7d890c){const _0xff7e65=a0_0x40255d;this[_0xff7e65(0x17b)][_0xff7e65(0x5ab)](this[_0xff7e65(0x2c6)]+'\x20('+this['instance'][_0xff7e65(0x582)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x7d890c+'\x27');let _0x5e4672;_0x407608['text']&&_0x407608[_0xff7e65(0x6ed)][_0xff7e65(0x111)]>0x0&&(_0x5e4672=await this[_0xff7e65(0x5f8)](_0x407608[_0xff7e65(0x6ed)],_0x7d890c));let _0x1d3898={'number':_0x7d890c,'options':{'delay':_0x407608[_0xff7e65(0x155)],'linkPreview':_0x407608[_0xff7e65(0x410)]},'mediaMessage':{'mediatype':_0x407608[_0xff7e65(0x3fa)],'caption':_0x5e4672,'media':_0x407608[_0xff7e65(0x63e)]}},_0x2b90a0=null;try{let _0x13662f=await this['mediaMessage'](_0x1d3898);if(_0x13662f&&_0x13662f['status'])return{'error':!0x1,'id':_0x13662f[_0xff7e65(0x713)]['id']};_0x2b90a0=JSON[_0xff7e65(0x53c)](_0x13662f),this['logger'][_0xff7e65(0x5ab)](this['instanceName']+'\x20('+this[_0xff7e65(0x30d)][_0xff7e65(0x582)]+'):\x20'+_0x2b90a0);}catch(_0x18b354){this[_0xff7e65(0x17b)]['error'](this[_0xff7e65(0x2c6)]+'\x20('+this[_0xff7e65(0x30d)][_0xff7e65(0x582)]+_0xff7e65(0x4cc)+(_0x18b354 instanceof Error?_0x18b354[_0xff7e65(0x740)]:JSON[_0xff7e65(0x53c)](_0x18b354,null,0x2))),_0x2b90a0=_0x18b354[_0xff7e65(0x740)];}if(_0x2b90a0)return{'error':!0x0,'detail':(typeof _0x2b90a0=='object'?JSON[_0xff7e65(0x53c)](_0x2b90a0,null,0x2):_0x2b90a0)[_0xff7e65(0x362)](/[\[\]{}\n]/g,'\x20')[_0xff7e65(0x362)](/  +/g,'\x20')};}async[a0_0x40255d(0x22c)](_0x1a4874,_0xc8ffae){const _0x332fab=a0_0x40255d;this[_0x332fab(0x17b)][_0x332fab(0x5ab)](this[_0x332fab(0x2c6)]+'\x20('+this[_0x332fab(0x30d)][_0x332fab(0x582)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0xc8ffae+'\x27');let _0x13bb3b={'number':_0xc8ffae,'options':{'delay':_0x1a4874[_0x332fab(0x155)]},'audioMessage':{'audio':_0x1a4874[_0x332fab(0x63e)]}},_0x448ed3=null;try{let _0x5d512f=await this[_0x332fab(0x424)](_0x13bb3b);if(_0x5d512f&&_0x5d512f[_0x332fab(0x784)])return{'error':!0x1,'id':_0x5d512f['key']['id']};_0x448ed3=JSON[_0x332fab(0x53c)](_0x5d512f),this[_0x332fab(0x17b)][_0x332fab(0x5ab)](this[_0x332fab(0x2c6)]+'\x20('+this['instance']['wuid']+_0x332fab(0x377)+_0x448ed3);}catch(_0x41311a){this['logger'][_0x332fab(0x6b3)](this['instanceName']+'\x20('+this[_0x332fab(0x30d)][_0x332fab(0x582)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x41311a instanceof Error?_0x41311a[_0x332fab(0x740)]:JSON[_0x332fab(0x53c)](_0x41311a,null,0x2))),_0x448ed3=_0x41311a[_0x332fab(0x740)];}if(_0x448ed3)return{'error':!0x0,'detail':(typeof _0x448ed3==_0x332fab(0x480)?JSON['stringify'](_0x448ed3,null,0x2):_0x448ed3)['replace'](/[\[\]{}\n]/g,'\x20')[_0x332fab(0x362)](/  +/g,'\x20')};}async[a0_0x40255d(0x4b2)](_0x5801e7){const _0x553121=a0_0x40255d;try{return await this['client'][_0x553121(0x754)](_0x5801e7[_0x553121(0xe2)],_0x5801e7[_0x553121(0x327)]),{'update':'success'};}catch(_0x434337){let _0xdea7a3=_0x553121(0xda),_0x2f8376=_0x434337 instanceof Error?_0x434337[_0x553121(0x740)]:typeof _0x434337=='object'?JSON['stringify'](_0x434337):_0x434337,_0x3afb12=_0xdea7a3+':\x20'+_0x2f8376;throw this[_0x553121(0x17b)][_0x553121(0x6b3)](this['instanceName']+'\x20('+this[_0x553121(0x30d)][_0x553121(0x582)]+_0x553121(0x377)+_0x3afb12),new x(_0x3afb12);}}async['groupName'](_0x5ba152){const _0x4541c7=a0_0x40255d;try{return await this[_0x4541c7(0x6ba)][_0x4541c7(0xfe)](_0x5ba152['groupJid'],_0x5ba152[_0x4541c7(0x6cc)]),{'update':'success'};}catch(_0x460b8b){let _0x4ae7bb=_0x4541c7(0x642),_0x256f93=_0x460b8b instanceof Error?_0x460b8b[_0x4541c7(0x740)]:typeof _0x460b8b==_0x4541c7(0x480)?JSON[_0x4541c7(0x53c)](_0x460b8b):_0x460b8b,_0x58a628=_0x4ae7bb+':\x20'+_0x256f93;throw this[_0x4541c7(0x17b)][_0x4541c7(0x6b3)](this['instanceName']+'\x20('+this[_0x4541c7(0x30d)][_0x4541c7(0x582)]+_0x4541c7(0x377)+_0x58a628),new x(_0x58a628);}}async[a0_0x40255d(0x20f)](_0x4aed65){const _0x199153=a0_0x40255d;try{let _0x32462e=await this['client'][_0x199153(0x3ee)](_0x4aed65[_0x199153(0xe2)],_0x4aed65[_0x199153(0x38f)]);return{'success':!0x0};}catch(_0x1540d8){let _0x33e986='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x3a2e45=_0x1540d8 instanceof Error?_0x1540d8['message']:typeof _0x1540d8==_0x199153(0x480)?JSON[_0x199153(0x53c)](_0x1540d8):_0x1540d8,_0x5ef315=_0x33e986+':\x20'+_0x3a2e45;throw this['logger'][_0x199153(0x6b3)](this[_0x199153(0x2c6)]+'\x20('+this['instance'][_0x199153(0x582)]+_0x199153(0x377)+_0x5ef315),new x(_0x5ef315);}}async[a0_0x40255d(0x34a)](_0xf6ef45){const _0x493734=a0_0x40255d;try{return await this[_0x493734(0x6ba)][_0x493734(0x355)](_0xf6ef45[_0x493734(0xe2)],_0xf6ef45['setting']),{'update':_0x493734(0x629)};}catch(_0x371b05){let _0x1b0665=_0x493734(0x1a0),_0x10139d=_0x371b05 instanceof Error?_0x371b05['message']:typeof _0x371b05==_0x493734(0x480)?JSON[_0x493734(0x53c)](_0x371b05):_0x371b05,_0x5e563f=_0x1b0665+':\x20'+_0x10139d;throw this[_0x493734(0x17b)][_0x493734(0x6b3)](this[_0x493734(0x2c6)]+'\x20('+this[_0x493734(0x30d)][_0x493734(0x582)]+_0x493734(0x377)+_0x5e563f),new x(_0x5e563f);}}async[a0_0x40255d(0xdd)](_0x45ece8){const _0x4aae9f=a0_0x40255d;try{let _0x609b85;if((0x0,L['isURL'])(_0x45ece8[_0x4aae9f(0x36d)])){let _0x5b54dc=new Date()['getTime'](),_0x3989e0=_0x45ece8['image']+_0x4aae9f(0x6f7)+_0x5b54dc;_0x609b85=(await te[_0x4aae9f(0x437)][_0x4aae9f(0x35f)](_0x3989e0,{'responseType':_0x4aae9f(0x2f6)}))[_0x4aae9f(0x7b6)];}else{if((0x0,L[_0x4aae9f(0x2e0)])(_0x45ece8[_0x4aae9f(0x36d)]))_0x609b85=Buffer['from'](_0x45ece8['image'],_0x4aae9f(0x6d3));else throw new m(_0x4aae9f(0x822));}return await this['client'][_0x4aae9f(0x229)](_0x45ece8[_0x4aae9f(0xe2)],_0x609b85),{'update':'success'};}catch(_0x3ff465){let _0x275d06=_0x4aae9f(0x4fb),_0x354d46=_0x3ff465 instanceof Error?_0x3ff465[_0x4aae9f(0x740)]:typeof _0x3ff465==_0x4aae9f(0x480)?JSON[_0x4aae9f(0x53c)](_0x3ff465):_0x3ff465,_0x2deda7=_0x275d06+':\x20'+_0x354d46;throw this[_0x4aae9f(0x17b)]['error'](this[_0x4aae9f(0x2c6)]+'\x20('+this[_0x4aae9f(0x30d)][_0x4aae9f(0x582)]+_0x4aae9f(0x377)+_0x2deda7),new x(_0x2deda7);}}},Bt=class u{constructor(_0x153169,_0x1ae22c,_0x14994f){const _0x228b1b=a0_0x40255d;this['eventEmitter']=_0x153169,this[_0x228b1b(0x27d)]=_0x1ae22c,this[_0x228b1b(0x200)]=_0x14994f,this['db']={},this[_0x228b1b(0x491)]={},this[_0x228b1b(0x17b)]=new $(u[_0x228b1b(0x6cc)]),this[_0x228b1b(0x625)]={},(this['removeInstance'](),this[_0x228b1b(0x403)](),Object[_0x228b1b(0x10c)](this['db'],_0x1ae22c[_0x228b1b(0x35f)](_0x228b1b(0x303))),Object[_0x228b1b(0x10c)](this[_0x228b1b(0x491)],_0x1ae22c[_0x228b1b(0x35f)](_0x228b1b(0x1e4))),this[_0x228b1b(0x467)]=this['db'][_0x228b1b(0x1ef)]?this[_0x228b1b(0x200)][_0x228b1b(0x546)]?.['db'](this['db'][_0x228b1b(0x31d)][_0x228b1b(0x495)]+'-instances'):void 0x0,this[_0x228b1b(0x33e)]=this[_0x228b1b(0x491)][_0x228b1b(0x1ef)]?new ge(this[_0x228b1b(0x491)]):void 0x0);}async[a0_0x40255d(0x446)](_0x2b3c32){const _0x526d36=a0_0x40255d;if(_0x2b3c32&&!this[_0x526d36(0x625)][_0x2b3c32])throw new J('Instance\x20\x22'+_0x2b3c32+'\x22\x20not\x20found');let _0x557045=[];for await(let [_0x3a2768,_0x574f2b]of Object[_0x526d36(0x765)](this[_0x526d36(0x625)]))if(_0x574f2b&&_0x574f2b[_0x526d36(0x2b2)][_0x526d36(0x746)]==='open'){let _0x20444a=await this['repository']['auth'][_0x526d36(0x284)](_0x3a2768);_0x557045[_0x526d36(0x4f1)]({'instance':{'instanceName':_0x3a2768,'apikey':_0x20444a[_0x526d36(0x4c8)],'owner':_0x574f2b[_0x526d36(0x582)],'profileName':await _0x574f2b[_0x526d36(0x5b8)]()||_0x526d36(0x126),'profilePictureUrl':_0x574f2b['profilePictureUrl']}});}return _0x557045['find'](_0x56846a=>_0x56846a[_0x526d36(0x30d)][_0x526d36(0x2c6)]===_0x2b3c32)??_0x557045;}async[a0_0x40255d(0x358)](_0x2d03c9){const _0x303235=a0_0x40255d;if(this['db']['ENABLED']&&(await this[_0x303235(0x200)][_0x303235(0x546)]['connect'](),(await this['dbInstance'][_0x303235(0x49f)]())[_0x303235(0x111)]>0x0&&await this[_0x303235(0x467)][_0x303235(0x181)](_0x2d03c9)),this[_0x303235(0x491)][_0x303235(0x1ef)]){this[_0x303235(0x33e)][_0x303235(0x5ca)]=_0x2d03c9,await this[_0x303235(0x33e)][_0x303235(0x399)]();return;}}async['loadInstance'](){const _0x2beed4=a0_0x40255d;await this[_0x2beed4(0x3a2)]();let _0x349193=async _0x45b4e4=>{const _0x20e057=_0x2beed4;let _0x22b34f=new Ae(this['configService'],this[_0x20e057(0x6ab)],this[_0x20e057(0x200)]);_0x22b34f[_0x20e057(0x2c6)]=_0x45b4e4,await _0x22b34f[_0x20e057(0x5d6)](),this[_0x20e057(0x625)][_0x45b4e4]=_0x22b34f;};try{if(this[_0x2beed4(0x491)][_0x2beed4(0x1ef)]){let _0x25c1cc=await this[_0x2beed4(0x33e)][_0x2beed4(0x4da)]();_0x25c1cc?.[_0x2beed4(0x111)]>0x0&&_0x25c1cc[_0x2beed4(0x659)](async _0x5cc991=>await _0x349193(_0x5cc991[_0x2beed4(0x6ce)](':')[0x1]));return;}if(this['db'][_0x2beed4(0x1ef)]){await this[_0x2beed4(0x200)][_0x2beed4(0x546)][_0x2beed4(0x5d2)]();let _0x3aca29=await this[_0x2beed4(0x467)][_0x2beed4(0x49f)]();_0x3aca29[_0x2beed4(0x111)]>0x0&&_0x3aca29['forEach'](async _0x316d7b=>await _0x349193(_0x316d7b['namespace'][_0x2beed4(0x362)](/^[\w-]+\./,'')));return;}}catch(_0x3fae2a){this['logger']['error'](_0x3fae2a);}}async[a0_0x40255d(0x244)](){const _0x23b2b0=a0_0x40255d;try{let _0x91ce8a=await this['repository'][_0x23b2b0(0x493)][_0x23b2b0(0x444)]({'online':!0x1});for(let _0x46e091 of _0x91ce8a){let _0x1b61ec=_0x46e091[_0x23b2b0(0x3ba)];await re[_0x23b2b0(0x23a)](K,_0x1b61ec);}console[_0x23b2b0(0x18f)](_0x23b2b0(0x693)+_0x91ce8a[_0x23b2b0(0x111)]);let _0x21944c={'online':!0x1},_0x391c13=await this['repository'][_0x23b2b0(0x493)]['deleteMany'](_0x21944c);console[_0x23b2b0(0x18f)](_0x23b2b0(0x719)+_0x391c13[_0x23b2b0(0x390)]);}catch(_0xcd2a8f){console[_0x23b2b0(0x6b3)](_0x23b2b0(0x676),_0xcd2a8f);}}async[a0_0x40255d(0x3a2)](){const _0x348e7d=a0_0x40255d;try{let _0x45869a={'online':!0x1},_0x50c254={'online':!0x1,'lastDisconnect':Date[_0x348e7d(0x15d)]()},_0x58d91a=await this[_0x348e7d(0x200)]['auth'][_0x348e7d(0x36f)](_0x45869a,_0x50c254);await this[_0x348e7d(0x244)]();}catch(_0x575147){console[_0x348e7d(0x6b3)](_0x348e7d(0x51b),_0x575147);}}['removeInstance'](){const _0x510ddc=a0_0x40255d;this[_0x510ddc(0x6ab)]['on'](_0x510ddc(0x604),async _0x580d72=>{const _0x7ab7a2=_0x510ddc;try{this[_0x7ab7a2(0x625)][_0x580d72]=void 0x0;}catch{}try{this[_0x7ab7a2(0x358)](_0x580d72);}finally{this[_0x7ab7a2(0x17b)][_0x7ab7a2(0x576)](_0x7ab7a2(0x59e)+_0x580d72+_0x7ab7a2(0x2f1));}});}[a0_0x40255d(0x403)](){const _0x5818ee=a0_0x40255d;this[_0x5818ee(0x6ab)]['on']('no.connection',async _0x3af5ef=>{const _0x30430f=_0x5818ee;try{this[_0x30430f(0x625)][_0x3af5ef]=void 0x0;}catch{}try{this['cleaningUp'](_0x3af5ef);}finally{this['logger'][_0x30430f(0x576)](_0x30430f(0x59e)+_0x3af5ef+_0x30430f(0x6c4));}});}},Wt=class extends _{[a0_0x40255d(0x420)](_0x457044){return aa(_0x457044);}async[a0_0x40255d(0x148)](_0x2b24cc){const _0x116389=a0_0x40255d;if(_0x2b24cc[_0x116389(0x111)]!==0x0)try{return{'insertCount':(await this[_0x116389(0x420)](_0x2b24cc[0x0]['owner'])[_0x116389(0x4a1)]([..._0x2b24cc]))[_0x116389(0x111)]};}catch(_0x180930){return _0x180930;}}async[a0_0x40255d(0x284)](_0x192c58,_0x6440b){const _0x8c2745=a0_0x40255d;try{let _0x4cf7e3=this[_0x8c2745(0x420)](_0x6440b),_0x5ac4ae=I(_0x192c58[_0x8c2745(0x81d)]);return await _0x4cf7e3[_0x8c2745(0x284)](_0x5ac4ae)[_0x8c2745(0x712)]({'lastmsg':-0x1})[_0x8c2745(0x2b6)](_0x192c58?.['limit']??0x0)[_0x8c2745(0x10f)]();}catch{return[];}}async[a0_0x40255d(0x59d)](_0x48325c,_0x3ed965){const _0x3b103f=a0_0x40255d;try{let _0x26c801=this['getChatModelForOwner'](_0x3ed965),_0x4014e1=I(_0x48325c[_0x3b103f(0x81d)]);return _0x4014e1[_0x3b103f(0x15b)]={'$ne':[]},await _0x26c801[_0x3b103f(0x284)](_0x4014e1)[_0x3b103f(0x712)]({'lastmsg':-0x1})['limit'](_0x48325c?.[_0x3b103f(0x2b6)]??0x0)[_0x3b103f(0x10f)]();}catch{return[];}}async[a0_0x40255d(0x5d1)](_0x262052,_0x2cae08){const _0x2b8325=a0_0x40255d;try{return{'deletedCount':(await this[_0x2b8325(0x420)](_0x2cae08)[_0x2b8325(0x4ee)]({..._0x262052[_0x2b8325(0x81d)]}))['deletedCount']};}catch(_0x3c15e0){return{'error':_0x3c15e0?.[_0x2b8325(0x334)]()};}}async[a0_0x40255d(0x53f)](_0x5da34f,_0x56b092){const _0x28b1a3=a0_0x40255d;try{return await this[_0x28b1a3(0x420)](_0x56b092)[_0x28b1a3(0x4ee)]({..._0x5da34f['where']}),[];}catch(_0x3bce7f){return{'error':_0x3bce7f?.['toString']()};}}async[a0_0x40255d(0x73b)](_0x33c851,_0x1ad301){const _0x4929b0=a0_0x40255d;try{let _0x1f6e34=this['getChatModelForOwner'](_0x1ad301),_0x23d7d6=I(_0x33c851[_0x4929b0(0x81d)]);return await _0x1f6e34[_0x4929b0(0x73b)](_0x23d7d6)[_0x4929b0(0x10f)]();}catch{return null;}}async[a0_0x40255d(0x72d)](_0x41cfbf,_0x53282a,_0x3248a0,_0x26e850,_0x1c58e6=a0_0x40255d(0x55d)){const _0x9aeca0=a0_0x40255d;try{let _0x52be51={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x26e850},_0x45e776=this[_0x9aeca0(0x420)](_0x3248a0),_0x1566bd=I(_0x41cfbf['where']);Object[_0x9aeca0(0x702)](_0x53282a)[_0x9aeca0(0x659)](_0x3bc8e3=>{_0x53282a[_0x3bc8e3]==null&&delete _0x53282a[_0x3bc8e3];});let _0x33ff4a={};return _0x33ff4a[_0x1c58e6]=_0x53282a,await _0x45e776['findOneAndUpdate'](_0x1566bd,_0x33ff4a,_0x52be51);}catch(_0x500702){return console[_0x9aeca0(0x6b3)](_0x500702),null;}}async[a0_0x40255d(0x4dc)](_0x274534){const _0x3c7009=a0_0x40255d;try{let _0x49c644=this[_0x3c7009(0x420)](_0x274534[0x0][_0x3c7009(0x580)][_0x3c7009(0x81d)][_0x3c7009(0x811)]),_0x896ad1=_0x274534[_0x3c7009(0x54b)](_0x312518=>({'updateOne':{'filter':{..._0x312518[_0x3c7009(0x580)]['where']},'update':{'$set':_0x312518['update']},'upsert':!0x0}})),_0x33611e=await _0x49c644[_0x3c7009(0x72b)](_0x896ad1);return _0x33611e[_0x3c7009(0x56a)]+_0x33611e[_0x3c7009(0x71e)];}catch(_0x43c5d0){return console[_0x3c7009(0x6b3)](_0x43c5d0),0x0;}}async['removeUnusedChatFields'](_0x4e1511){const _0x144a66=a0_0x40255d;try{let _0x389b84={'group_isCommunity':'','group_announce':'','group_size':''},_0x508c73={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x52cf25={'$unset':_0x389b84};return(await this[_0x144a66(0x420)](_0x4e1511)[_0x144a66(0x4dc)](_0x508c73,_0x52cf25))[_0x144a66(0x56a)];}catch(_0x52971c){return console[_0x144a66(0x6b3)](_0x144a66(0x742),_0x52971c),0x0;}}async[a0_0x40255d(0x2dc)](_0x571436){const _0x4aa405=a0_0x40255d;try{let _0x1b18e8=this['getChatModelForOwner'](_0x571436),_0x5996a1={'leadInfo.etiquetas':{'$exists':!0x1}},_0x342e4f={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1b18e8[_0x4aa405(0x4dc)](_0x5996a1,_0x342e4f))[_0x4aa405(0x56a)];}catch(_0x2d501b){return console[_0x4aa405(0x6b3)](_0x2d501b),0x0;}}async[a0_0x40255d(0x760)](_0x11fbd3){const _0x3f978b=a0_0x40255d;try{let _0x2aabf7=this[_0x3f978b(0x420)](_0x11fbd3),_0x3b5779={'leadInfo.tags':{'$exists':!0x1}},_0xed362e={'$set':{'leadInfo.tags':[]}};return(await _0x2aabf7[_0x3f978b(0x4dc)](_0x3b5779,_0xed362e))[_0x3f978b(0x56a)];}catch(_0x43cf22){return console[_0x3f978b(0x6b3)](_0x43cf22),0x0;}}async[a0_0x40255d(0x5cb)](_0x4d0ad9){const _0x529f9d=a0_0x40255d;try{let _0x260680=this['getChatModelForOwner'](_0x4d0ad9),_0x2b3d35={'leadInfo.customFields':{'$exists':!0x1}},_0x3bd51f={'$set':{'leadInfo.customFields':[]}};return(await _0x260680[_0x529f9d(0x4dc)](_0x2b3d35,_0x3bd51f))['modifiedCount'];}catch(_0xc8c3df){return console['error'](_0xc8c3df),0x0;}}async[a0_0x40255d(0x4a1)](_0x44541c,_0x1a09b5){const _0x355388=a0_0x40255d;if(!Array['isArray'](_0x44541c)||_0x44541c['length']===0x0)throw new Error(_0x355388(0x2f0));try{return(await this['getChatModelForOwner'](_0x1a09b5)['insertMany'](_0x44541c))[_0x355388(0x111)];}catch(_0xc89bae){throw console[_0x355388(0x6b3)]('Erro\x20ao\x20inserir\x20chats:',_0xc89bae),_0xc89bae;}}async[a0_0x40255d(0x6c5)](_0x28fc73,_0x1bd9eb){const _0x53da6b=a0_0x40255d;try{await this[_0x53da6b(0x420)](_0x1bd9eb)[_0x53da6b(0x73f)]({'_id':_0x28fc73});}catch(_0xf8bdcd){throw console[_0x53da6b(0x6b3)](_0x53da6b(0x1bb),_0xf8bdcd),_0xf8bdcd;}}},zt=class extends _{constructor(_0x3c87a0,_0x38517d,_0x45ec37){const _0x223d53=a0_0x40255d;super(_0x38517d),this[_0x223d53(0x3d4)]=_0x3c87a0,this['configService']=_0x38517d,this['dbConnection']=_0x45ec37;}async[a0_0x40255d(0x148)](_0x34f560){const _0x2b3b36=a0_0x40255d;if(_0x34f560[_0x2b3b36(0x111)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x2b3b36(0x4a1)]([..._0x34f560]))[_0x2b3b36(0x111)]};}catch(_0x543cd2){return _0x543cd2;}}async[a0_0x40255d(0x2d3)](_0x87218a,_0x3cda1b){const _0x2c3385=a0_0x40255d;try{let _0x559294=I(_0x87218a[_0x2c3385(0x81d)]);return{'updatedCount':(await this[_0x2c3385(0x3d4)][_0x2c3385(0x4dc)](_0x559294,{'$set':_0x3cda1b}))[_0x2c3385(0x56a)]};}catch(_0x3d4166){return console[_0x2c3385(0x6b3)](_0x2c3385(0x13c),_0x3d4166),{'error':_0x3d4166['toString']()};}}async['findManyByIds'](_0x49722d){const _0x517f64=a0_0x40255d;try{let _0x17c356={'_id':{'$in':_0x49722d}};return await this['cacheContactModel'][_0x517f64(0x284)](_0x17c356)[_0x517f64(0x10f)]();}catch(_0x219718){return console[_0x517f64(0x6b3)](_0x517f64(0x340),_0x219718),[];}}async[a0_0x40255d(0x5d1)](_0x1d4b50){const _0x5780d4=a0_0x40255d;try{return{'deletedCount':(await this[_0x5780d4(0x3d4)]['deleteMany']({..._0x1d4b50[_0x5780d4(0x81d)]}))['deletedCount']};}catch(_0x36dc8f){return{'error':_0x36dc8f?.[_0x5780d4(0x334)]()};}}async[a0_0x40255d(0x284)](_0x1764da){const _0x437d16=a0_0x40255d;try{let _0x44d8e6=I(_0x1764da['where']);return await this[_0x437d16(0x3d4)][_0x437d16(0x284)](_0x44d8e6)[_0x437d16(0x2b6)](_0x1764da?.[_0x437d16(0x2b6)]??0x0)[_0x437d16(0x10f)]();}catch{return[];}}async[a0_0x40255d(0x73b)](_0x134fa4){const _0x1f52e1=a0_0x40255d;try{let _0x5eefb9=I(_0x134fa4[_0x1f52e1(0x81d)]);return await this['cacheContactModel'][_0x1f52e1(0x73b)](_0x5eefb9)[_0x1f52e1(0x10f)]();}catch{return null;}}},Ht=class extends _{[a0_0x40255d(0x125)](_0x114999){return Na(_0x114999);}async[a0_0x40255d(0x72d)](_0x4e9bcb,_0x4560d4,_0x159f25,_0x523b10){const _0x27197d=a0_0x40255d;try{let _0x32438d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x523b10},_0x4b7da2=this[_0x27197d(0x125)](_0x159f25),_0x14a3c9=I(_0x4e9bcb[_0x27197d(0x81d)]);return await _0x4b7da2['findOneAndUpdate'](_0x14a3c9,{'$set':_0x4560d4},_0x32438d);}catch(_0x3701c4){return console[_0x27197d(0x6b3)](_0x3701c4),null;}}async[a0_0x40255d(0x284)](_0x29ae3f,_0x871550){const _0x1bf547=a0_0x40255d;try{let _0x39516b=this[_0x1bf547(0x125)](_0x871550),_0x408cad=I(_0x29ae3f['where']);return await _0x39516b[_0x1bf547(0x284)](_0x408cad);}catch(_0x415b4d){console[_0x1bf547(0x6b3)](_0x415b4d);}}async[a0_0x40255d(0x5d1)](_0x5a798c,_0x1efcad){const _0x398d13=a0_0x40255d;try{let _0x5a5ce3=this[_0x398d13(0x125)](_0x1efcad),_0x1d34c3=I(_0x5a798c[_0x398d13(0x81d)]);await _0x5a5ce3[_0x398d13(0x4ee)](_0x1d34c3);}catch(_0x364834){console[_0x398d13(0x6b3)](_0x364834);}}async[a0_0x40255d(0x53f)](_0x2a2a73){const _0x5c48e9=a0_0x40255d;try{return await this[_0x5c48e9(0x125)](_0x2a2a73)[_0x5c48e9(0x778)][_0x5c48e9(0x269)](),{'success':!0x0};}catch(_0x27157e){return console[_0x5c48e9(0x6b3)](_0x27157e),{'success':!0x1,'error':_0x27157e};}}},Kt=class{constructor(_0x140123){this['waMonitor']=_0x140123;}async[a0_0x40255d(0x7a0)]({instanceName:_0x21b7c5},_0x44cd90){const _0x233442=a0_0x40255d;return await this[_0x233442(0x7fb)][_0x233442(0x625)][_0x21b7c5][_0x233442(0x7a0)](_0x44cd90);}async['whatsappNumber']({instanceName:_0x3df463},_0x25c6ca){const _0x140018=a0_0x40255d;return await this['waMonitor'][_0x140018(0x625)][_0x3df463][_0x140018(0x4ef)](_0x25c6ca);}async[a0_0x40255d(0x431)]({instanceName:_0x28ef24},_0xe9b1b3){const _0x5a7cf6=a0_0x40255d;return await this[_0x5a7cf6(0x7fb)][_0x5a7cf6(0x625)][_0x28ef24][_0x5a7cf6(0x431)](_0xe9b1b3);}async[a0_0x40255d(0x616)]({instanceName:_0x529be0},_0x4e90c7){const _0x3f84eb=a0_0x40255d;return await this['waMonitor'][_0x3f84eb(0x625)][_0x529be0][_0x3f84eb(0x54e)](_0x4e90c7);}async[a0_0x40255d(0x69e)]({instanceName:_0x4b1be2},_0xe1ae54){const _0x4aa5d1=a0_0x40255d;return await this['waMonitor'][_0x4aa5d1(0x625)][_0x4b1be2]['archiveChat'](_0xe1ae54);}async['deleteMessage']({instanceName:_0x7ad396},_0x1bccaa){const _0x228688=a0_0x40255d;return await this['waMonitor'][_0x228688(0x625)][_0x7ad396][_0x228688(0x4ec)](_0x1bccaa);}async[a0_0x40255d(0x61e)]({instanceName:_0x29459e},_0x10b0c8){const _0x1da932=a0_0x40255d;return await this[_0x1da932(0x7fb)]['waInstances'][_0x29459e][_0x1da932(0x5f7)](_0x10b0c8[_0x1da932(0x21f)]);}async[a0_0x40255d(0x503)]({instanceName:_0x334f78},_0x1e661d){const _0x3211b8=a0_0x40255d;return await this[_0x3211b8(0x7fb)][_0x3211b8(0x625)][_0x334f78][_0x3211b8(0x503)](_0x1e661d['number']);}async[a0_0x40255d(0x69c)]({instanceName:_0x6ccdd5},_0x5c6c50){const _0x195de4=a0_0x40255d;return await this[_0x195de4(0x7fb)][_0x195de4(0x625)][_0x6ccdd5][_0x195de4(0x69c)](_0x5c6c50);}async[a0_0x40255d(0x512)]({instanceName:_0x5204b6},_0x3a4072){const _0x21d1eb=a0_0x40255d;return await this[_0x21d1eb(0x7fb)][_0x21d1eb(0x625)][_0x5204b6]['fetchContacts'](_0x3a4072);}async['getBase64FromMediaMessage']({instanceName:_0x1d592a},_0x6a86c4){const _0x5380a5=a0_0x40255d;return await this[_0x5380a5(0x7fb)][_0x5380a5(0x625)][_0x1d592a][_0x5380a5(0x23d)](_0x6a86c4);}async[a0_0x40255d(0x497)]({instanceName:_0x43b658},_0x394944){const _0x4e0ccc=a0_0x40255d;return await this[_0x4e0ccc(0x7fb)][_0x4e0ccc(0x625)][_0x43b658][_0x4e0ccc(0x497)](_0x394944);}async[a0_0x40255d(0x5f6)]({instanceName:_0x4339dd}){const _0x2114bc=a0_0x40255d;return await this[_0x2114bc(0x7fb)][_0x2114bc(0x625)][_0x4339dd][_0x2114bc(0x5f6)]();}async[a0_0x40255d(0x705)]({instanceName:_0x3daf66}){const _0x4e14f7=a0_0x40255d;return await this[_0x4e14f7(0x7fb)]['waInstances'][_0x3daf66][_0x4e14f7(0x705)]();}async[a0_0x40255d(0x608)]({instanceName:_0x41ce59}){const _0x9af9fa=a0_0x40255d;return await this[_0x9af9fa(0x7fb)]['waInstances'][_0x41ce59][_0x9af9fa(0x608)]();}async[a0_0x40255d(0x2e5)]({instanceName:_0x22b571},_0x1ca669){const _0x4e5048=a0_0x40255d;return await this[_0x4e5048(0x7fb)][_0x4e5048(0x625)][_0x22b571][_0x4e5048(0x2e5)](_0x1ca669);}async[a0_0x40255d(0x2c9)]({instanceName:_0x451f57},_0x1c2d87){const _0x961dba=a0_0x40255d;return await this[_0x961dba(0x7fb)][_0x961dba(0x625)][_0x451f57][_0x961dba(0x2c9)](_0x1c2d87[_0x961dba(0x21f)]);}async['updateProfileName']({instanceName:_0x24055a},_0x1224c3){const _0x5e4a34=a0_0x40255d;return await this[_0x5e4a34(0x7fb)][_0x5e4a34(0x625)][_0x24055a][_0x5e4a34(0x57a)](_0x1224c3[_0x5e4a34(0x6cc)]);}async[a0_0x40255d(0x688)]({instanceName:_0x1369fc},_0x2fd9b5){const _0xd994ce=a0_0x40255d;return await this[_0xd994ce(0x7fb)][_0xd994ce(0x625)][_0x1369fc][_0xd994ce(0x688)](_0x2fd9b5['status']);}async[a0_0x40255d(0x229)]({instanceName:_0x5c336c},_0x36a7ce){const _0x5d81a4=a0_0x40255d;return await this[_0x5d81a4(0x7fb)][_0x5d81a4(0x625)][_0x5c336c]['updateProfilePicture'](_0x36a7ce['picture']);}async[a0_0x40255d(0x3a6)]({instanceName:_0x15c2d6},_0x2ec1f4){const _0x4c1f40=a0_0x40255d;return await this[_0x4c1f40(0x7fb)]['waInstances'][_0x15c2d6][_0x4c1f40(0x3a6)]();}},Qt=require(a0_0x40255d(0x180)),Yt=class u{constructor(_0x5af079,_0x153285,_0x2c959c,_0x12e347,_0x3fb65d){const _0x1bef6c=a0_0x40255d;this[_0x1bef6c(0x7fb)]=_0x5af079,this[_0x1bef6c(0x27d)]=_0x153285,this[_0x1bef6c(0x200)]=_0x2c959c,this[_0x1bef6c(0x6ab)]=_0x12e347,this[_0x1bef6c(0x5c4)]=_0x3fb65d,this[_0x1bef6c(0x17b)]=new $(u[_0x1bef6c(0x6cc)]);}async[a0_0x40255d(0x597)]({instanceName:_0x419cfe,apikey:_0x12605b,number:_0x3b20f0,proxy:_0xba03fb=!0x0}){const _0x2d762f=a0_0x40255d;try{let _0x5980cb=new Ae(this['configService'],this[_0x2d762f(0x6ab)],this['repository']);_0x5980cb[_0x2d762f(0x2c6)]=_0x419cfe,this[_0x2d762f(0x7fb)][_0x2d762f(0x625)][_0x5980cb['instanceName']]=_0x5980cb;let _0xd1724={};_0x12605b?(await this[_0x2d762f(0x200)][_0x2d762f(0x493)]['create']({'apikey':_0x12605b},_0x419cfe),_0xd1724['apikey']=_0x12605b):_0xd1724=await this[_0x2d762f(0x5c4)][_0x2d762f(0x24f)]({'instanceName':_0x5980cb[_0x2d762f(0x2c6)]});let _0x4cd617;if(_0x3b20f0){if(_0x4cd617=await this[_0x2d762f(0x7ec)](_0x3b20f0),_0x4cd617[_0x2d762f(0x6b3)])throw new x(_0x4cd617[_0x2d762f(0x6b3)][_0x2d762f(0x334)]());_0x3b20f0=_0x4cd617[_0x2d762f(0x21f)];}let _0x318915;return await _0x5980cb[_0x2d762f(0x5d6)](_0x3b20f0),await(0x0,Qt[_0x2d762f(0x155)])(0xfa0),_0x3b20f0&&await(0x0,Qt['delay'])(0xbb8),_0x318915=_0x5980cb['qrCode'],{'instance':{'instanceName':_0x5980cb[_0x2d762f(0x2c6)],'status':'created'},'hash':_0xd1724,'qrcode':_0x318915};}catch(_0x350102){throw this['logger'][_0x2d762f(0x6b3)](_0x350102),_0x350102;}}async['connectToWhatsappController']({instanceName:_0x2eac83,number:_0x2cf89f=null}){const _0x3582d5=a0_0x40255d;try{let _0x46de99=this[_0x3582d5(0x7fb)][_0x3582d5(0x625)][_0x2eac83];switch(_0x46de99?.[_0x3582d5(0x2b2)]?.[_0x3582d5(0x746)]){case _0x3582d5(0x262):return await _0x46de99[_0x3582d5(0x5d6)](_0x2cf89f),await(0x0,Qt['delay'])(0x7d0),_0x46de99[_0x3582d5(0x2e3)];case _0x3582d5(0x40b):return _0x46de99[_0x3582d5(0x2e3)];default:return await this[_0x3582d5(0x651)]({'instanceName':_0x2eac83});}}catch(_0x46ce2f){this['logger'][_0x3582d5(0x18f)](_0x46ce2f);}}async[a0_0x40255d(0x651)]({instanceName:_0xf0f3bd}){const _0x216258=a0_0x40255d;let _0x14a87b=this[_0x216258(0x7fb)][_0x216258(0x625)][_0xf0f3bd][_0x216258(0x2b2)],_0x208965=null;_0x14a87b[_0x216258(0x746)]===_0x216258(0x3c6)&&_0xf0f3bd&&(_0x208965=await this[_0x216258(0x7fb)]['instanceInfo'](_0xf0f3bd));let _0x486f83=null;return _0x14a87b['state']===_0x216258(0x40b)&&_0xf0f3bd&&(_0x486f83=this['waMonitor'][_0x216258(0x625)][_0xf0f3bd][_0x216258(0x2e3)]),{'instance':_0xf0f3bd,'connectionStatus':_0x14a87b,'instanceInfo':_0x208965,'qrcode':_0x486f83};}async[a0_0x40255d(0x7ec)](_0x2bd1e9){const _0xaf7ab0=a0_0x40255d;_0x2bd1e9=_0x2bd1e9['replace'](/\D/g,'');let _0x4d63a2=Object[_0xaf7ab0(0x702)](this[_0xaf7ab0(0x7fb)]['waInstances'])['filter'](_0x30d9a7=>{const _0x4cd54e=_0xaf7ab0;let _0x4b467a=this[_0x4cd54e(0x7fb)][_0x4cd54e(0x625)][_0x30d9a7];return _0x4b467a&&_0x4b467a[_0x4cd54e(0x2b2)]&&_0x4b467a[_0x4cd54e(0x2b2)][_0x4cd54e(0x746)]==='open';});if(_0x4d63a2[_0xaf7ab0(0x111)]===0x0)return{'number':this[_0xaf7ab0(0x7d5)](_0x2bd1e9)};let _0x5aff9c=Math[_0xaf7ab0(0x328)](Math['random']()*_0x4d63a2[_0xaf7ab0(0x111)]),_0x1d65e0=_0x4d63a2[_0x5aff9c];try{let _0x51f1a4=(await this['waMonitor'][_0xaf7ab0(0x625)][_0x1d65e0][_0xaf7ab0(0x4ef)]({'numbers':[_0x2bd1e9]}))['shift']();return _0x51f1a4[_0xaf7ab0(0x22f)]?{'number':_0x51f1a4[_0xaf7ab0(0x277)]['replace'](_0xaf7ab0(0x226),'')}:{'number':_0x2bd1e9,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x3c2b94){return this[_0xaf7ab0(0x17b)][_0xaf7ab0(0x6b3)](_0xaf7ab0(0x73c)+_0x3c2b94),{'number':_0x2bd1e9,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x102e25){const _0x338b77=a0_0x40255d;let _0x15ae9d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x338b77(0xe5)](_0x102e25);if(_0x15ae9d&&_0x15ae9d[0x1]==='55'){let _0x59e50c=_0x15ae9d[0x2],_0x360f9e=_0x15ae9d[0x3],_0x225d31=_0x15ae9d[0x4];if(parseInt(_0x59e50c)>=0x1f&&_0x360f9e==='9')return _0x15ae9d[0x1]+_0x59e50c+_0x225d31;}return _0x102e25;}async[a0_0x40255d(0x78f)]({instanceName:_0x267f54}){const _0xafe406=a0_0x40255d;try{return this['waMonitor'][_0xafe406(0x625)][_0x267f54]?.[_0xafe406(0x6ba)]?.['ws']?.[_0xafe406(0x262)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0xafe406(0x671)}};}catch(_0x3c6c17){this['logger'][_0xafe406(0x6b3)](_0x3c6c17);}}async['fetchInstances']({instanceName:_0x300610}){const _0x194020=a0_0x40255d;return _0x300610?this[_0x194020(0x7fb)][_0x194020(0x446)](_0x300610):this[_0x194020(0x7fb)][_0x194020(0x446)]();}async[a0_0x40255d(0x536)]({instanceName:_0x5eb608}){const _0x134c9e=a0_0x40255d;try{return await this[_0x134c9e(0x7fb)]['waInstances'][_0x5eb608]?.[_0x134c9e(0x6ba)]?.[_0x134c9e(0x536)]('Log\x20out\x20instance:\x20'+_0x5eb608),{'error':!0x1,'message':_0x134c9e(0x1b5)};}catch(_0x40f29f){throw new x(_0x40f29f[_0x134c9e(0x334)]());}}async[a0_0x40255d(0x454)]({instanceName:_0x4b34cb}){const _0x133189=a0_0x40255d;if((await this['connectionState']({'instanceName':_0x4b34cb}))[_0x133189(0x2b2)][_0x133189(0x746)]===_0x133189(0x3c6))throw new m(['Deletion\x20failed',_0x133189(0x670)]);try{return delete this[_0x133189(0x7fb)][_0x133189(0x625)][_0x4b34cb],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1ad793){throw new m(_0x1ad793['toString']());}}},ne=require('class-validator'),Xt=class{constructor(_0xa20094){const _0x281a28=a0_0x40255d;this[_0x281a28(0x7fb)]=_0xa20094;}async[a0_0x40255d(0x5bb)]({instanceName:_0x59a960},_0x45d474){const _0x2996b1=a0_0x40255d;return await this[_0x2996b1(0x7fb)][_0x2996b1(0x625)][_0x59a960][_0x2996b1(0x706)](_0x45d474);}async[a0_0x40255d(0xe8)]({instanceName:_0x4e6c54},_0x3fdaed){const _0x511e70=a0_0x40255d;return await this[_0x511e70(0x7fb)][_0x511e70(0x625)][_0x4e6c54][_0x511e70(0x7cc)](_0x3fdaed);}async[a0_0x40255d(0x36e)]({instanceName:_0x3d1410},_0x58e71f){const _0x1ded44=a0_0x40255d;if((0x0,ne[_0x1ded44(0x2e0)])(_0x58e71f?.[_0x1ded44(0x2c8)]?.[_0x1ded44(0x43c)])&&!_0x58e71f?.[_0x1ded44(0x2c8)]?.[_0x1ded44(0x46a)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x1ded44(0xe0)])(_0x58e71f?.['mediaMessage']?.['media'])||(0x0,ne[_0x1ded44(0x2e0)])(_0x58e71f?.['mediaMessage']?.[_0x1ded44(0x43c)]))return await this[_0x1ded44(0x7fb)][_0x1ded44(0x625)][_0x3d1410][_0x1ded44(0x2c8)](_0x58e71f);throw new m(_0x1ded44(0x366));}async[a0_0x40255d(0x429)]({instanceName:_0x44b09e},_0x1e149a){const _0x466188=a0_0x40255d;if((0x0,ne[_0x466188(0xe0)])(_0x1e149a[_0x466188(0x470)][_0x466188(0x36d)])||(0x0,ne[_0x466188(0x2e0)])(_0x1e149a[_0x466188(0x470)]['image']))return await this['waMonitor'][_0x466188(0x625)][_0x44b09e]['mediaSticker'](_0x1e149a);throw new m(_0x466188(0x366));}async[a0_0x40255d(0x5b2)]({instanceName:_0x12e276},_0x3353c0){const _0x49dafe=a0_0x40255d;if((0x0,ne['isURL'])(_0x3353c0[_0x49dafe(0x36c)][_0x49dafe(0x17e)])||(0x0,ne[_0x49dafe(0x2e0)])(_0x3353c0[_0x49dafe(0x36c)][_0x49dafe(0x17e)]))return await this[_0x49dafe(0x7fb)][_0x49dafe(0x625)][_0x12e276]['audioWhatsapp'](_0x3353c0);throw new m(_0x49dafe(0x366));}async[a0_0x40255d(0x450)]({instanceName:_0x2e9c18},_0x2ced0c){const _0x36215a=a0_0x40255d;if((0x0,ne[_0x36215a(0x2e0)])(_0x2ced0c[_0x36215a(0x456)][_0x36215a(0x2c8)]?.['media'])&&!_0x2ced0c[_0x36215a(0x456)][_0x36215a(0x2c8)]?.['fileName'])throw new m(_0x36215a(0x12e));return await this[_0x36215a(0x7fb)][_0x36215a(0x625)][_0x2e9c18]['buttonMessage'](_0x2ced0c);}async[a0_0x40255d(0x6a2)]({instanceName:_0x59b3c2},_0x3cace6){const _0x35bfcf=a0_0x40255d;return await this['waMonitor'][_0x35bfcf(0x625)][_0x59b3c2]['locationMessage'](_0x3cace6);}async[a0_0x40255d(0x3d1)]({instanceName:_0x22c1af},_0x170a26){const _0x52216e=a0_0x40255d;return await this[_0x52216e(0x7fb)][_0x52216e(0x625)][_0x22c1af][_0x52216e(0x32e)](_0x170a26);}async['sendList']({instanceName:_0x4fbb32},_0xa8c1c5){const _0x270d05=a0_0x40255d;return await this[_0x270d05(0x7fb)][_0x270d05(0x625)][_0x4fbb32][_0x270d05(0x273)](_0xa8c1c5);}async['sendContact']({instanceName:_0x5795a7},_0x1b0996){const _0x5467d8=a0_0x40255d;return await this[_0x5467d8(0x7fb)][_0x5467d8(0x625)][_0x5795a7][_0x5467d8(0x7ed)](_0x1b0996);}async[a0_0x40255d(0x471)]({instanceName:_0x388baf},_0x31215f){const _0x19a7f3=a0_0x40255d;if(!_0x31215f[_0x19a7f3(0x5a3)][_0x19a7f3(0x1ce)][_0x19a7f3(0x28e)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x19a7f3(0x2f7));return await this[_0x19a7f3(0x7fb)]['waInstances'][_0x388baf][_0x19a7f3(0x5a3)](_0x31215f);}async[a0_0x40255d(0x556)]({instanceName:_0x4cab19},_0x195c0c){const _0x145261=a0_0x40255d;return await this[_0x145261(0x7fb)]['waInstances'][_0x4cab19][_0x145261(0x5d9)](_0x195c0c);}},Li=require(a0_0x40255d(0x24d)),js=require(a0_0x40255d(0x79d)),Zt=class u{constructor(_0xdd5927,_0x1e4d1e,_0x6f9b57){const _0x10301d=a0_0x40255d;this['configService']=_0xdd5927,this['waMonitor']=_0x1e4d1e,this[_0x10301d(0x200)]=_0x6f9b57,this[_0x10301d(0x17b)]=new $(u[_0x10301d(0x6cc)]);}async['jwt'](_0x180bef){const _0x4a94ac=a0_0x40255d;let _0x19ab7c=this[_0x4a94ac(0x27d)][_0x4a94ac(0x35f)](_0x4a94ac(0x231))[_0x4a94ac(0x600)],_0x1b5da6=(0x0,Li[_0x4a94ac(0x599)])({'instanceName':_0x180bef[_0x4a94ac(0x2c6)],'apiName':ct,'tokenId':(0x0,js['v4'])()},_0x19ab7c[_0x4a94ac(0x66a)],{'expiresIn':_0x19ab7c[_0x4a94ac(0x728)],'encoding':'utf8','subject':_0x4a94ac(0x4fe)}),_0xa72994=await this['repository']['auth'][_0x4a94ac(0x349)]({'jwt':_0x1b5da6},_0x180bef[_0x4a94ac(0x2c6)]);if(_0xa72994[_0x4a94ac(0x6b3)])throw this['logger'][_0x4a94ac(0x6b3)]({'localError':u[_0x4a94ac(0x6cc)]+_0x4a94ac(0x417),'error':_0xa72994[_0x4a94ac(0x6b3)]}),new m(_0x4a94ac(0x19b),_0xa72994[_0x4a94ac(0x6b3)]?.[_0x4a94ac(0x334)]());return{'jwt':_0x1b5da6};}async['apikey'](_0x3dc180){const _0x2e7ac2=a0_0x40255d;let _0x364f8d=(0x0,js['v4'])()['toUpperCase'](),_0x214c39=await this[_0x2e7ac2(0x200)]['auth']['create']({'apikey':_0x364f8d},_0x3dc180[_0x2e7ac2(0x2c6)]);if(_0x214c39[_0x2e7ac2(0x6b3)])throw this['logger'][_0x2e7ac2(0x6b3)]({'localError':u[_0x2e7ac2(0x6cc)]+'.jwt','error':_0x214c39[_0x2e7ac2(0x6b3)]}),new m(_0x2e7ac2(0x19b),_0x214c39[_0x2e7ac2(0x6b3)]?.[_0x2e7ac2(0x334)]());return{'apikey':_0x364f8d};}async['generateHash'](_0x11ff00){const _0x5d830d=a0_0x40255d;let _0x1697dd=this['configService'][_0x5d830d(0x35f)](_0x5d830d(0x231));return await this[_0x1697dd[_0x5d830d(0x1a4)]](_0x11ff00);}},es=class{constructor(_0x4c2b02){const _0x5eba1f=a0_0x40255d;this[_0x5eba1f(0x7fb)]=_0x4c2b02;}async[a0_0x40255d(0x242)](_0x55aee2,_0x5f2be6){const _0x110630=a0_0x40255d;return await this[_0x110630(0x7fb)]['waInstances'][_0x55aee2[_0x110630(0x2c6)]][_0x110630(0x242)](_0x5f2be6);}async['updateGroupPicture'](_0x13aaeb,_0x261931){const _0x506d7a=a0_0x40255d;return await this[_0x506d7a(0x7fb)][_0x506d7a(0x625)][_0x13aaeb['instanceName']][_0x506d7a(0xdd)](_0x261931);}async['groupDesc'](_0x49c933,_0x4222b4){const _0x32e4c8=a0_0x40255d;return await this[_0x32e4c8(0x7fb)]['waInstances'][_0x49c933['instanceName']][_0x32e4c8(0x4b2)](_0x4222b4);}async['groupName'](_0x1fde66,_0x175d6e){const _0x12795b=a0_0x40255d;return await this[_0x12795b(0x7fb)][_0x12795b(0x625)][_0x1fde66[_0x12795b(0x2c6)]][_0x12795b(0x268)](_0x175d6e);}async[a0_0x40255d(0x487)](_0x3772c0,_0xbd8089){const _0x324cb4=a0_0x40255d;return await this[_0x324cb4(0x7fb)][_0x324cb4(0x625)][_0x3772c0[_0x324cb4(0x2c6)]][_0x324cb4(0x487)](_0xbd8089);}async[a0_0x40255d(0x34a)](_0x48be32,_0x1dca9f){const _0x4caa9d=a0_0x40255d;return await this[_0x4caa9d(0x7fb)][_0x4caa9d(0x625)][_0x48be32[_0x4caa9d(0x2c6)]][_0x4caa9d(0x34a)](_0x1dca9f);}async[a0_0x40255d(0x6bf)](_0x3a0e1b,_0x5e36f6){const _0x50996d=a0_0x40255d;return await this[_0x50996d(0x7fb)]['waInstances'][_0x3a0e1b[_0x50996d(0x2c6)]][_0x50996d(0x314)](_0x5e36f6);}async[a0_0x40255d(0x291)](_0x29be7a){const _0x41777a=a0_0x40255d;return await this['waMonitor'][_0x41777a(0x625)][_0x29be7a['instanceName']][_0x41777a(0x291)]();}async[a0_0x40255d(0x67d)](_0x41e15d,_0x402ffd){const _0x3a2142=a0_0x40255d;return await this[_0x3a2142(0x7fb)]['waInstances'][_0x41e15d[_0x3a2142(0x2c6)]][_0x3a2142(0x67d)](_0x402ffd);}async[a0_0x40255d(0x1db)](_0x542712,_0x1447c7){const _0x48aa66=a0_0x40255d;return await this[_0x48aa66(0x7fb)][_0x48aa66(0x625)][_0x542712[_0x48aa66(0x2c6)]][_0x48aa66(0x1db)](_0x1447c7);}async[a0_0x40255d(0x42b)](_0x4db033,_0x5f0914){const _0x4c8984=a0_0x40255d;return await this[_0x4c8984(0x7fb)]['waInstances'][_0x4db033[_0x4c8984(0x2c6)]]['groupGetInviteInfo'](_0x5f0914);}async[a0_0x40255d(0x665)](_0x36d52e,_0x352c0e){const _0x5cea2f=a0_0x40255d;return await this['waMonitor'][_0x5cea2f(0x625)][_0x36d52e[_0x5cea2f(0x2c6)]][_0x5cea2f(0x665)](_0x352c0e);}async[a0_0x40255d(0x48d)](_0x31c142,_0x501941){const _0x2df9d9=a0_0x40255d;return await this[_0x2df9d9(0x7fb)][_0x2df9d9(0x625)][_0x31c142[_0x2df9d9(0x2c6)]][_0x2df9d9(0x48d)](_0x501941);}async[a0_0x40255d(0x5be)](_0x420015,_0x3d685b){const _0x26f603=a0_0x40255d;return await this['waMonitor']['waInstances'][_0x420015['instanceName']][_0x26f603(0x569)](_0x3d685b);}async[a0_0x40255d(0x20f)](_0x8844da,_0x2a963b){const _0x3b0fea=a0_0x40255d;return await this['waMonitor'][_0x3b0fea(0x625)][_0x8844da[_0x3b0fea(0x2c6)]][_0x3b0fea(0x20f)](_0x2a963b);}async[a0_0x40255d(0x182)](_0x319833,_0x23dad9){const _0x1159e8=a0_0x40255d;return await this[_0x1159e8(0x7fb)][_0x1159e8(0x625)][_0x319833[_0x1159e8(0x2c6)]][_0x1159e8(0x182)](_0x23dad9);}},ts=class{constructor(_0x2e8b9b){this['waMonitor']=_0x2e8b9b;}['create'](_0x1c3712,_0x20f045){const _0x41f978=a0_0x40255d;return this[_0x41f978(0x7fb)][_0x41f978(0x625)][_0x1c3712[_0x41f978(0x2c6)]][_0x41f978(0x552)](_0x20f045);}async[a0_0x40255d(0x284)](_0x260ae4){const _0x3f3af0=a0_0x40255d;try{return await this[_0x3f3af0(0x7fb)][_0x3f3af0(0x625)][_0x260ae4[_0x3f3af0(0x2c6)]][_0x3f3af0(0x283)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x40255d(0x673)),ss=class{constructor(_0x5c4b25){this['waMonitor']=_0x5c4b25;}async[a0_0x40255d(0x7c2)](_0x1f5dfb,_0x1f84ad){const _0x4dd323=a0_0x40255d;return await this[_0x4dd323(0x7fb)][_0x4dd323(0x625)][_0x1f5dfb['instanceName']][_0x4dd323(0x7c2)](_0x1f84ad);}async[a0_0x40255d(0x2a4)](_0x12a0e3){const _0x595f3a=a0_0x40255d;return await this[_0x595f3a(0x7fb)][_0x595f3a(0x625)][_0x12a0e3[_0x595f3a(0x2c6)]][_0x595f3a(0x2a4)]();}async[a0_0x40255d(0x4f3)](_0x7cfb19){const _0x212d5c=a0_0x40255d;return await this[_0x212d5c(0x7fb)]['waInstances'][_0x7cfb19[_0x212d5c(0x2c6)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0x37b31e){const _0x1b38f7=a0_0x40255d;return await this[_0x1b38f7(0x7fb)][_0x1b38f7(0x625)][_0x37b31e[_0x1b38f7(0x2c6)]][_0x1b38f7(0x356)]();}async[a0_0x40255d(0x131)](_0x291dbe,_0x3a51c8){const _0x142483=a0_0x40255d;return await this['waMonitor'][_0x142483(0x625)][_0x291dbe['instanceName']]['updateAgent'](_0x3a51c8);}async[a0_0x40255d(0x1fb)](_0x451304,_0x3be915){const _0x1051da=a0_0x40255d;return await this[_0x1051da(0x7fb)][_0x1051da(0x625)][_0x451304[_0x1051da(0x2c6)]][_0x1051da(0x1fb)](_0x3be915);}async['updateAutoCompleteMessages'](_0x6fc3b0,_0x34c5e8){const _0x1316a8=a0_0x40255d;return await this[_0x1316a8(0x7fb)][_0x1316a8(0x625)][_0x6fc3b0[_0x1316a8(0x2c6)]][_0x1316a8(0x292)](_0x34c5e8);}async[a0_0x40255d(0x7e2)](_0x46f1cc,_0x4a57a2){const _0x71cd88=a0_0x40255d;return await this['waMonitor'][_0x71cd88(0x625)][_0x46f1cc[_0x71cd88(0x2c6)]][_0x71cd88(0x7e2)](_0x4a57a2);}async[a0_0x40255d(0x38c)](_0x164e22,_0x16b34d){const _0x1c92bb=a0_0x40255d;return await this['waMonitor'][_0x1c92bb(0x625)][_0x164e22[_0x1c92bb(0x2c6)]][_0x1c92bb(0x38c)](_0x16b34d);}async[a0_0x40255d(0x21e)](_0x2defdc,_0x397c59,_0x548118,_0x4d6760){const _0x4ce242=a0_0x40255d;return await this['waMonitor'][_0x4ce242(0x625)][_0x2defdc]['startFlowWebhook'](_0x397c59,_0x548118,_0x4d6760);}async[a0_0x40255d(0x5d8)](_0x2ee9fa,_0x184a0e){const _0x39bda1=a0_0x40255d;return await this[_0x39bda1(0x7fb)][_0x39bda1(0x625)][_0x2ee9fa['instanceName']][_0x39bda1(0x5d8)](_0x184a0e);}async['fetchConversation'](_0x456ee3,_0x58a1a4){const _0x7fae03=a0_0x40255d;return await this[_0x7fae03(0x7fb)][_0x7fae03(0x625)][_0x456ee3[_0x7fae03(0x2c6)]][_0x7fae03(0x237)](_0x58a1a4);}async[a0_0x40255d(0x788)](_0x474257,_0x334345){const _0x47e2d2=a0_0x40255d;return await this[_0x47e2d2(0x7fb)][_0x47e2d2(0x625)][_0x474257['instanceName']][_0x47e2d2(0x788)](_0x334345);}async[a0_0x40255d(0x4c2)](_0x4a1e35,_0x56c21e){const _0x383512=a0_0x40255d;return await this['waMonitor'][_0x383512(0x625)][_0x4a1e35[_0x383512(0x2c6)]][_0x383512(0x4c2)](_0x56c21e);}async[a0_0x40255d(0xe1)](_0x3280d6,_0x4fa960){const _0x13f845=a0_0x40255d;return await this[_0x13f845(0x7fb)][_0x13f845(0x625)][_0x3280d6['instanceName']][_0x13f845(0xe1)](_0x4fa960[_0x13f845(0x3ba)]);}async['createFlow'](_0x7e3cb8,_0x1a0e43,_0x1446bc){const _0x4c7c95=a0_0x40255d;return await this[_0x4c7c95(0x7fb)][_0x4c7c95(0x625)][_0x7e3cb8[_0x4c7c95(0x2c6)]][_0x4c7c95(0x5d5)](_0x1a0e43,_0x1446bc);}async[a0_0x40255d(0x28f)](_0xa675,_0x2646b1,_0x15fbd6){const _0x54dbdc=a0_0x40255d;return await this[_0x54dbdc(0x7fb)][_0x54dbdc(0x625)][_0xa675[_0x54dbdc(0x2c6)]][_0x54dbdc(0x28f)](_0x2646b1,_0x15fbd6);}async[a0_0x40255d(0x6b8)](_0x2d9f7c,_0x2aa52e){const _0x3125ac=a0_0x40255d;return await this[_0x3125ac(0x7fb)]['waInstances'][_0x2d9f7c[_0x3125ac(0x2c6)]][_0x3125ac(0x6b8)](_0x2aa52e);}async['editFlowReply'](_0xf58522,_0xe10fe9){const _0x2949e9=a0_0x40255d;return await this['waMonitor'][_0x2949e9(0x625)][_0xf58522[_0x2949e9(0x2c6)]][_0x2949e9(0x398)](_0xe10fe9);}async['editFlowGroup'](_0x356aa3,_0x5953b4){const _0x559bb8=a0_0x40255d;return await this['waMonitor']['waInstances'][_0x356aa3[_0x559bb8(0x2c6)]][_0x559bb8(0x62a)](_0x5953b4);}async[a0_0x40255d(0x114)](_0x507bf0,_0x5acf8e){const _0x3cabc0=a0_0x40255d;return await this[_0x3cabc0(0x7fb)][_0x3cabc0(0x625)][_0x507bf0[_0x3cabc0(0x2c6)]][_0x3cabc0(0x114)](_0x5acf8e);}async['editFlowVaredit'](_0x140645,_0x3671ee){const _0x347789=a0_0x40255d;return await this['waMonitor'][_0x347789(0x625)][_0x140645[_0x347789(0x2c6)]][_0x347789(0x4b4)](_0x3671ee);}async['editFlowVariable'](_0x343f49,_0x73d63f){const _0x4f217b=a0_0x40255d;return await this[_0x4f217b(0x7fb)]['waInstances'][_0x343f49[_0x4f217b(0x2c6)]][_0x4f217b(0x393)](_0x73d63f);}async[a0_0x40255d(0x189)](_0x328465,_0x43d540){const _0x56c485=a0_0x40255d;return await this['waMonitor'][_0x56c485(0x625)][_0x328465[_0x56c485(0x2c6)]][_0x56c485(0x189)](_0x43d540);}async[a0_0x40255d(0x605)](_0x4e717d){const _0x39259a=a0_0x40255d;return await this[_0x39259a(0x7fb)][_0x39259a(0x625)][_0x4e717d[_0x39259a(0x2c6)]][_0x39259a(0x605)]();}},as=class{constructor(_0x5b663d){const _0x21b3a4=a0_0x40255d;this[_0x21b3a4(0x75f)]=_0x5b663d;}async['createWebhook'](_0x28b582,_0x1759c3){const _0x1628e7=a0_0x40255d;return this[_0x1628e7(0x75f)][_0x1628e7(0x349)](_0x28b582,_0x1759c3);}async['findWebhook'](_0x47952c){const _0x16d723=a0_0x40255d;return this['webhookService'][_0x16d723(0x284)](_0x47952c);}},is=class extends _{constructor(_0x3da92d,_0x17671b){const _0x3a97ff=a0_0x40255d;super(_0x17671b),this[_0x3a97ff(0x144)]=_0x3da92d,this['configService']=_0x17671b;}async[a0_0x40255d(0x349)](_0x1fc844,_0x1fe796){const _0x22e0a0=a0_0x40255d;try{return this[_0x22e0a0(0x1d4)][_0x22e0a0(0x1ef)]?{'insertCount':(await this[_0x22e0a0(0x144)][_0x22e0a0(0x594)]({'_id':_0x1fe796},{..._0x1fc844},{'upsert':!0x0}))[_0x22e0a0(0x56a)]}:{'insertCount':0x1};}catch(_0x52e5dc){return _0x52e5dc;}}async[a0_0x40255d(0x5d1)](_0x749f94){const _0x552c87=a0_0x40255d;try{if(this[_0x552c87(0x1d4)][_0x552c87(0x1ef)]){await this['webhookModel'][_0x552c87(0x73f)]({'_id':_0x749f94});return;}}catch(_0xbb478f){return{'error':_0xbb478f};}}async[a0_0x40255d(0x284)](_0x2f13ef){const _0x3feae7=a0_0x40255d;try{if(this[_0x3feae7(0x1d4)]['ENABLED'])return await this['webhookModel'][_0x3feae7(0x73b)]({'_id':_0x2f13ef});}catch{return{};}}},os=class extends _{constructor(_0x5328b8,_0x49f914){const _0x3e6513=a0_0x40255d;super(_0x49f914),this['authModel']=_0x5328b8,this[_0x3e6513(0x27d)]=_0x49f914,this[_0x3e6513(0x493)]=_0x49f914[_0x3e6513(0x35f)](_0x3e6513(0x231));}async['create'](_0xb4abd6,_0x363149){const _0x45b80e=a0_0x40255d;try{if(this[_0x45b80e(0x1d4)][_0x45b80e(0x1ef)])return{'insertCount':(await this[_0x45b80e(0x48c)][_0x45b80e(0x72d)]({'_id':_0x363149},{'$set':{..._0xb4abd6}},{'upsert':!0x0}))[_0x45b80e(0x56a)]};}catch(_0x13b474){return{'error':_0x13b474};}}async[a0_0x40255d(0x36f)](_0x3bcb95,_0x2be10b){const _0x24d911=a0_0x40255d;try{if(this[_0x24d911(0x1d4)][_0x24d911(0x1ef)])return{'insertCount':(await this[_0x24d911(0x48c)]['updateMany'](_0x3bcb95,{'$set':_0x2be10b},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x24d911(0x81e));}catch(_0x53613b){return{'error':_0x53613b};}}async[a0_0x40255d(0x4ee)](_0x29d8c8){const _0x40eed4=a0_0x40255d;try{if(this[_0x40eed4(0x1d4)][_0x40eed4(0x1ef)])return{'insertCount':(await this[_0x40eed4(0x48c)]['deleteMany'](_0x29d8c8))[_0x40eed4(0x3c7)]};throw new Error(_0x40eed4(0x421));}catch(_0x1bc2e8){return{'error':_0x1bc2e8};}}async[a0_0x40255d(0x5d1)](_0x17ae0c){const _0x30c45c=a0_0x40255d;try{if(this['dbSettings'][_0x30c45c(0x1ef)]){await this[_0x30c45c(0x48c)][_0x30c45c(0x73f)]({'_id':_0x17ae0c});return;}}catch(_0x4a5187){return{'error':_0x4a5187};}}async[a0_0x40255d(0x284)](_0x3bf61f){const _0x432f1b=a0_0x40255d;try{if(this[_0x432f1b(0x1d4)][_0x432f1b(0x1ef)])return await this[_0x432f1b(0x48c)][_0x432f1b(0x73b)]({'_id':_0x3bf61f});}catch{return{};}}async[a0_0x40255d(0x4f4)](){const _0xb2709c=a0_0x40255d;try{if(this[_0xb2709c(0x1d4)][_0xb2709c(0x1ef)])return await this[_0xb2709c(0x48c)][_0xb2709c(0x284)]();}catch{return[];}}async[a0_0x40255d(0x444)](_0x17c4ae){const _0x533208=a0_0x40255d;try{if(this[_0x533208(0x1d4)][_0x533208(0x1ef)])return await this[_0x533208(0x48c)][_0x533208(0x284)](_0x17c4ae);}catch{return[];}}},rs=class extends _{async[a0_0x40255d(0x73f)](_0x427958){const _0x5ac6a1=a0_0x40255d;try{let _0xc3e73f=I(_0x427958[_0x5ac6a1(0x81d)]);return{'deletedCount':(await Ee['deleteOne'](_0xc3e73f))['deletedCount']};}catch(_0x37d9f4){return{'error':_0x37d9f4?.['toString']()};}}async[a0_0x40255d(0x72d)](_0x17e1ec,_0x12b1a7){const _0x3f7751=a0_0x40255d;try{let _0xd76ad8=await Ee['findById'](_0x17e1ec);return _0xd76ad8?(Object['assign'](_0xd76ad8,_0x12b1a7),await _0xd76ad8[_0x3f7751(0x738)]()):(console['error'](_0x3f7751(0x622),_0x17e1ec),null);}catch(_0x3d6f73){return console[_0x3f7751(0x6b3)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x3d6f73),null;}}async[a0_0x40255d(0x796)](_0x3777b1){const _0x5515ee=a0_0x40255d;try{return await new Ee(_0x3777b1)['save']();}catch(_0x599c55){return console[_0x5515ee(0x6b3)](_0x5515ee(0x2c7),_0x599c55),null;}}async[a0_0x40255d(0x4f4)](_0x3d69ce){const _0x2e14e9=a0_0x40255d;try{let _0x457274=_0x3d69ce['where']??{};return await Ee[_0x2e14e9(0x284)](_0x457274)['limit'](_0x3d69ce[_0x2e14e9(0x2b6)]??0x0)[_0x2e14e9(0x10f)]();}catch(_0x343466){return console[_0x2e14e9(0x6b3)]('Erro\x20ao\x20buscar\x20fluxos:',_0x343466),[];}}async[a0_0x40255d(0x73b)](_0x3617da){const _0x3fee5=a0_0x40255d;try{let _0x2fc76d=I(_0x3617da[_0x3fee5(0x81d)]);return await Ee['findOne'](_0x2fc76d)[_0x3fee5(0x10f)]();}catch{return null;}}},ns=class extends _{[a0_0x40255d(0x5b4)](_0x1554ff){return Ca(_0x1554ff);}async[a0_0x40255d(0x148)](_0x2b417e){const _0x418773=a0_0x40255d;if(_0x2b417e['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x2b417e[0x0][_0x418773(0x811)])[_0x418773(0x4a1)]([..._0x2b417e]))[_0x418773(0x111)]};}catch(_0x2a4c39){return _0x2a4c39;}}async[a0_0x40255d(0x5d1)](_0x35e67f,_0x207c34){const _0x5a0866=a0_0x40255d;try{let _0xacd50f=this['getConversationModelForOwner'](_0x207c34),_0x537c6e=I(_0x35e67f[_0x5a0866(0x81d)]);return{'deletedCount':(await _0xacd50f[_0x5a0866(0x4ee)](_0x537c6e))['deletedCount']};}catch(_0x1709dd){return{'error':_0x1709dd?.['toString']()};}}async['deleteOne'](_0x536e2a,_0x24caa4){const _0xcf8bf1=a0_0x40255d;try{let _0x1cff0b=this[_0xcf8bf1(0x5b4)](_0x24caa4),_0x210df4=I(_0x536e2a[_0xcf8bf1(0x81d)]);return{'deletedCount':(await _0x1cff0b[_0xcf8bf1(0x73f)](_0x210df4))['deletedCount']};}catch(_0x5074bd){return{'error':_0x5074bd?.[_0xcf8bf1(0x334)]()};}}async[a0_0x40255d(0x2d3)](_0x250b63,_0x496d33){const _0xa03ad3=a0_0x40255d;try{if(_0x250b63['length']===0x0)return;let _0x4ff911=this[_0xa03ad3(0x5b4)](_0x496d33),_0x19c449=_0x250b63[_0xa03ad3(0x54b)](_0x1580f5=>({'updateOne':{'filter':{'name':_0x1580f5[_0xa03ad3(0x6cc)],'owner':_0x496d33},'update':{..._0x1580f5}}})),{modifiedCount:_0x1ebbf5}=await _0x4ff911[_0xa03ad3(0x72b)](_0x19c449);return{'insertCount':_0x1ebbf5};}catch{return;}}async['updateMany'](_0x5f0a80,_0x1b84f0,_0xc1217c){const _0x1aaa50=a0_0x40255d;try{return{'modifiedCount':(await this[_0x1aaa50(0x5b4)](_0xc1217c)[_0x1aaa50(0x4dc)](_0x5f0a80,{'$set':_0x1b84f0})[_0x1aaa50(0xe5)]())[_0x1aaa50(0x56a)]};}catch(_0x594cec){return console[_0x1aaa50(0x6b3)](_0x1aaa50(0x10a),_0x594cec),{'error':_0x594cec};}}async['updateOne'](_0x139b14,_0x5dd60a,_0x57a6d8){const _0x1760e3=a0_0x40255d;try{return await this[_0x1760e3(0x5b4)](_0x57a6d8)[_0x1760e3(0x3bb)]({'_id':_0x139b14},{'$set':_0x5dd60a},{'new':!0x0,'upsert':!0x0})[_0x1760e3(0x10f)]();}catch(_0x32c6c4){return console['error'](_0x32c6c4),null;}}async[a0_0x40255d(0x284)](_0x1f3bd3,_0x22c67f){const _0x5a4875=a0_0x40255d;try{return await this[_0x5a4875(0x5b4)](_0x22c67f)['find'](_0x1f3bd3)['sort']({'lastInteraction':-0x1})[_0x5a4875(0x10f)]();}catch{return[];}}async[a0_0x40255d(0x73b)](_0x39c2ac,_0x3fc4d9){const _0x51f9f2=a0_0x40255d;try{return await this['getConversationModelForOwner'](_0x3fc4d9)[_0x51f9f2(0x73b)]({..._0x39c2ac[_0x51f9f2(0x81d)]})['lean']();}catch{return null;}}async[a0_0x40255d(0x53f)](_0x33ad2d){const _0x57e92f=a0_0x40255d;try{return await this[_0x57e92f(0x5b4)](_0x33ad2d)[_0x57e92f(0x778)][_0x57e92f(0x269)](),{'success':!0x0};}catch(_0x388135){return console[_0x57e92f(0x6b3)](_0x388135),{'success':!0x1,'error':_0x388135};}}},cs=class extends _{[a0_0x40255d(0x510)](_0x1aa4cb){return Ea(_0x1aa4cb);}async[a0_0x40255d(0x72b)](_0x185365,_0x33bbd9){const _0x337c49=a0_0x40255d;try{return await this[_0x337c49(0x510)](_0x33bbd9)['bulkWrite'](_0x185365);}catch(_0x45361c){return console[_0x337c49(0x6b3)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x45361c),null;}}async['createAndSave'](_0x370444,_0xf125b2){const _0x1cc5e3=a0_0x40255d;try{let _0x4d578d=this['getScheduleMessageModelForOwner'](_0xf125b2);return await new _0x4d578d(_0x370444)[_0x1cc5e3(0x738)]();}catch(_0x10e4e0){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x10e4e0),null;}}async[a0_0x40255d(0x73f)](_0x31de51,_0x153194){const _0x48dc4d=a0_0x40255d;try{return await this[_0x48dc4d(0x510)](_0x153194)[_0x48dc4d(0x3ef)](_0x31de51),{};}catch(_0x3e99d8){return{'error':_0x3e99d8?.['toString']()};}}async[a0_0x40255d(0x72d)](_0x267194,_0x4a3ccf,_0x4f7af8,_0x466c90={}){const _0x24300c=a0_0x40255d;try{return await this[_0x24300c(0x510)](_0x4f7af8)['findOneAndUpdate'](_0x267194,_0x4a3ccf,{..._0x466c90,'new':!0x0})[_0x24300c(0x10f)]();}catch(_0xaa3141){return console[_0x24300c(0x6b3)](_0x24300c(0x5b6),_0xaa3141),null;}}async[a0_0x40255d(0x6c6)](_0x13c1de,_0x4e3933,_0x123505){const _0x353756=a0_0x40255d;try{return await this[_0x353756(0x510)](_0x123505)['findByIdAndUpdate'](_0x13c1de,_0x4e3933,{'new':!0x0})[_0x353756(0x10f)]();}catch(_0xde8390){return console[_0x353756(0x6b3)](_0x353756(0x5b6),_0xde8390),null;}}async[a0_0x40255d(0x284)](_0x3d2006,_0x617ead){const _0x5cb3ec=a0_0x40255d;try{return await this[_0x5cb3ec(0x510)](_0x617ead)[_0x5cb3ec(0x284)](_0x3d2006[_0x5cb3ec(0x81d)])[_0x5cb3ec(0x2b6)](_0x3d2006?.[_0x5cb3ec(0x2b6)]??0x0)[_0x5cb3ec(0x712)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x40255d(0x73b)](_0x282df1,_0x9048c7){const _0x1df9cd=a0_0x40255d;try{return await this[_0x1df9cd(0x510)](_0x9048c7)[_0x1df9cd(0x73b)](_0x282df1[_0x1df9cd(0x81d)])[_0x1df9cd(0x712)]({'when':0x1})[_0x1df9cd(0x10f)]();}catch{return null;}}async[a0_0x40255d(0x359)](_0x2920a4,_0x38dd32){const _0x44f550=a0_0x40255d;try{return await this[_0x44f550(0x510)](_0x38dd32)['findById'](_0x2920a4)['lean']();}catch{return null;}}async[a0_0x40255d(0x4ee)](_0x103c0c,_0x44c393){const _0x2cf851=a0_0x40255d;try{return{'deletedCount':(await this[_0x2cf851(0x510)](_0x44c393)[_0x2cf851(0x4ee)](_0x103c0c))[_0x2cf851(0x3c7)]};}catch(_0x46bb85){return console[_0x2cf851(0x6b3)]('Erro\x20ao\x20deletar\x20mensagens:',_0x46bb85),{'error':_0x46bb85};}}async[a0_0x40255d(0x53f)](_0x72330a){const _0x3212f0=a0_0x40255d;try{return await this[_0x3212f0(0x510)](_0x72330a)['collection'][_0x3212f0(0x269)](),{'success':!0x0};}catch(_0x3e1d7f){return console[_0x3212f0(0x6b3)](_0x3e1d7f),{'success':!0x1,'error':_0x3e1d7f};}}},ls=class extends _{async['update'](_0x26b9d9,_0x5bbc10){const _0x3c4305=a0_0x40255d;try{if(this[_0x3c4305(0x1d4)]['ENABLED'])return await Oe[_0x3c4305(0x3bb)]({'_id':_0x5bbc10},{'$set':_0x26b9d9},{'new':!0x0});}catch(_0x383387){throw console['error'](_0x3c4305(0x606),_0x383387),_0x383387;}}async['findOrCreate'](_0xf3a88f){const _0xd6b790=a0_0x40255d;try{let _0x1ddd30=await Oe['findById'](_0xf3a88f);return _0x1ddd30?_0x1ddd30['autoCompleteMessages']||(_0x1ddd30[_0xd6b790(0x202)]=[],await _0x1ddd30['save']()):(_0x1ddd30=new Oe({'_id':_0xf3a88f,'autoCompleteMessages':[]}),await _0x1ddd30[_0xd6b790(0x738)]()),_0x1ddd30;}catch(_0x3f0d6a){return _0x3f0d6a[_0xd6b790(0x460)]===0x2af8&&_0x3f0d6a['keyPattern']&&_0x3f0d6a['keyPattern'][_0xd6b790(0x338)]?(console[_0xd6b790(0x6b3)](_0xd6b790(0x2d7)),await Oe[_0xd6b790(0x778)][_0xd6b790(0x5b5)](_0xd6b790(0x2dd)),null):(console[_0xd6b790(0x6b3)](_0xd6b790(0x4b0),_0x3f0d6a),null);}}},qo=new $(a0_0x40255d(0x67c)),Vo=new Ze(b),Go=new Wt(b),Bo=new ut(b),Wo=new zt(na,b),zo=new is(ma,b),Ho=new os(pa,b),Ko=new $e(Ke,b),Qo=new rs(b),Yo=new Ht(b),Xo=new ns(b),Zo=new cs(b),er=new ls(b),we=new Ye(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,R?.[a0_0x40255d(0x173)]()),z=new Bt(fs,b,we),tr=new Zt(b,z,we),sr=new ts(z),Is=new as(sr),T=new ss(z),he=new Yt(z,b,we,fs,tr),H=new Xt(z),k=new Kt(z),V=new es(z);qo[a0_0x40255d(0x58f)]('Module\x20-\x20ON');var rg=require(a0_0x40255d(0x47b)),Js=require('fs'),Fi=A(require(a0_0x40255d(0x13e))),Ui=A(require(a0_0x40255d(0x691))),Je=class u{static #e;static set[a0_0x40255d(0x3b1)](_0x2c089b){this.#e=_0x2c089b;}static get[a0_0x40255d(0x13e)](){const _0x3e2ffe=a0_0x40255d;let {FULLCHAIN:_0x41c27b,PRIVKEY:_0x27fcb2}=b[_0x3e2ffe(0x35f)](_0x3e2ffe(0x408));return Fi[_0x3e2ffe(0x37a)]({'cert':(0x0,Js[_0x3e2ffe(0x610)])(_0x41c27b),'key':(0x0,Js[_0x3e2ffe(0x610)])(_0x27fcb2)},u.#e);}static get[a0_0x40255d(0x691)](){const _0x1dc197=a0_0x40255d;return Ui[_0x1dc197(0x37a)](u.#e);}},qe=A(require('fs')),Bi=A(require(a0_0x40255d(0x27a))),Ve=A(require(a0_0x40255d(0x2e1))),ds=A(require(a0_0x40255d(0x45c))),us=require(a0_0x40255d(0x3af));function ar(){const _0x54ec70=a0_0x40255d;z[_0x54ec70(0x3c8)]();let _0x30ce41=ds[_0x54ec70(0x437)]['join'](__dirname,_0x54ec70(0x6e2));Gi(_0x30ce41);}var Gi=_0x34ca58=>{const _0x830d22=a0_0x40255d;let _0x18b197=qe[_0x830d22(0x437)][_0x830d22(0x3a0)](_0x34ca58),_0x1879cf=0xc*0x3c*0x3c*0x3e8,_0xd8e90a=0x2*0x3c*0x3c*0x3e8,_0x1030ce=new Date()['getTime']();_0x18b197[_0x830d22(0x659)](_0x36b050=>{const _0x3b5ace=_0x830d22;let _0x1d438a=ds[_0x3b5ace(0x437)][_0x3b5ace(0x12c)](_0x34ca58,_0x36b050),_0x632b8d=qe['default']['statSync'](_0x1d438a)[_0x3b5ace(0x78a)]['getTime']();_0x1030ce-_0x632b8d>_0x1879cf&&(qe[_0x3b5ace(0x437)][_0x3b5ace(0x448)](_0x1d438a),console[_0x3b5ace(0x18f)](_0x3b5ace(0x4d1)+_0x36b050));}),setTimeout(()=>Gi(_0x34ca58),_0xd8e90a);};function ir(){const _0x27c587=a0_0x40255d;let _0x29e152=new $(_0x27c587(0x773)),_0x2999f1=(0x0,be['default'])();_0x2999f1[_0x27c587(0x1dc)]((0x0,Vi[_0x27c587(0x437)])({'origin'(_0x57ac52,_0x290093){const _0x38a264=_0x27c587;let {ORIGIN:_0x23e4c4}=b[_0x38a264(0x35f)](_0x38a264(0x16e));return _0x57ac52||(_0x57ac52='*'),_0x23e4c4['indexOf']('*')!==-0x1||_0x23e4c4[_0x38a264(0x64e)](_0x57ac52)!==-0x1?_0x290093(null,!0x0):_0x290093(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x27c587(0x35f)]('CORS')['METHODS']],'credentials':b[_0x27c587(0x35f)](_0x27c587(0x16e))[_0x27c587(0x65b)]}),(0x0,be[_0x27c587(0x2e6)])({'extended':!0x0,'limit':_0x27c587(0x812)}),(0x0,be[_0x27c587(0x6b1)])({'limit':_0x27c587(0x812)})),_0x2999f1[_0x27c587(0x1dc)]((_0x2d8954,_0x5998a6,_0x550709)=>{const _0x222c1a=_0x27c587;_0x2d8954[_0x222c1a(0x45c)][_0x222c1a(0x2bf)](_0x222c1a(0x1c6))?_0x550709():(0x0,qi['default'])()(_0x2d8954,_0x5998a6,_0x550709);}),_0x2999f1[_0x27c587(0x744)](_0x27c587(0x47f),_0x27c587(0x5fb)),_0x2999f1[_0x27c587(0x744)](_0x27c587(0x379),(0x0,Vs['join'])(ue,_0x27c587(0x379))),_0x2999f1[_0x27c587(0x1dc)](be[_0x27c587(0x437)]['static']((0x0,Vs[_0x27c587(0x12c)])(ue,_0x27c587(0x1bd)))),_0x2999f1[_0x27c587(0x1dc)]((_0x3eb77c,_0x979088,_0x72732a)=>{const _0x27276a=_0x27c587;let _0x5678cd=_0x979088['send'];_0x979088[_0x27276a(0x591)]=function(_0x503269){const _0x3f78e1=_0x27276a;if(_0x3eb77c[_0x3f78e1(0x580)][_0x3f78e1(0x47c)]===_0x3f78e1(0x169)||_0x3eb77c['headers'][_0x3f78e1(0x62b)]==='true'){let _0x5c94d7=JSON['parse'](_0x503269);_0x503269=JSON['stringify'](_0x29ee68(_0x5c94d7));}return _0x5678cd['apply'](_0x979088,[_0x503269]);},_0x72732a();}),_0x2999f1[_0x27c587(0x1dc)]('/',Fe),_0x2999f1['use']((_0x17e16b,_0x110fed,_0x11827a,_0x2455a9)=>{const _0x3fecfa=_0x27c587;if(_0x17e16b)return _0x11827a['status'](_0x17e16b[_0x3fecfa(0x784)]||0x1f4)[_0x3fecfa(0x6b1)](_0x17e16b);},(_0x5042e8,_0x577068,_0x532fff)=>{const _0x3cbd8a=_0x27c587;let {method:_0x577473,url:_0x21699a}=_0x5042e8;_0x577068[_0x3cbd8a(0x784)](0x194)[_0x3cbd8a(0x6b1)]({'status':0x194,'message':_0x3cbd8a(0x667)+_0x577473['toUpperCase']()+'\x20'+_0x21699a,'error':_0x3cbd8a(0x6db)}),_0x532fff();});let _0x29ee68=(_0x30cb0e,_0x177df8='_p_')=>{const _0xa40112=_0x27c587;let _0x58e855=(_0x3fde86,_0x23e2b8=null,_0x31c494=!0x1)=>{const _0x54dd7f=a0_0x2679;let _0x1754cc={};return Object[_0x54dd7f(0x702)](_0x3fde86)[_0x54dd7f(0x659)](_0x37e364=>{const _0x250740=_0x54dd7f;let _0x3f0590=_0x3fde86[_0x37e364],_0x227cc7=''+_0x177df8+_0x37e364;_0x23e2b8&&!_0x31c494&&(_0x227cc7=_0x23e2b8+'.'+_0x37e364),!_0x3f0590&&_0x3f0590!==0x0&&_0x3f0590!==!0x1||typeof _0x3f0590>'u'?_0x1754cc[_0x227cc7]=null:typeof _0x3f0590!=_0x250740(0x480)&&!Array[_0x250740(0x246)](_0x3f0590)?_0x1754cc[_0x227cc7]=_0x3f0590:typeof _0x3f0590=='object'&&!Array['isArray'](_0x3f0590)?_0x1754cc=Object[_0x250740(0x10c)](_0x1754cc,_0x58e855(_0x3f0590,_0x227cc7)):Array[_0x250740(0x246)](_0x3f0590)&&(typeof _0x3f0590[0x0]==_0x250740(0x480)?(_0x1754cc[_0x227cc7]=[],_0x3f0590[_0x250740(0x659)](_0x50b631=>{const _0x165012=_0x250740;_0x1754cc[_0x227cc7][_0x165012(0x4f1)](_0x58e855(_0x50b631,_0x227cc7,!0x0));})):_0x1754cc[_0x227cc7]=_0x3f0590);}),_0x1754cc;};return Array[_0xa40112(0x246)](_0x30cb0e)?_0x30cb0e[_0xa40112(0x54b)](_0x44abca=>_0x58e855(_0x44abca)):typeof _0x30cb0e==_0xa40112(0x480)&&_0x30cb0e!==null?_0x58e855(_0x30cb0e):{};},_0x31ea52=b[_0x27c587(0x35f)](_0x27c587(0x773));Je['app']=_0x2999f1;let _0x4c70dc=Je[_0x31ea52['TYPE']],_0x4301aa='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x4c70dc[_0x27c587(0x677)](_0x31ea52[_0x27c587(0x3ec)],()=>{const _0x21a78b=_0x27c587;_0x29e152['log'](_0x4301aa),_0x29e152['log'](_0x31ea52[_0x21a78b(0x1a4)]['toUpperCase']()+_0x21a78b(0x138)+_0x31ea52[_0x21a78b(0x3ec)]);}),ar(),ta();}var or=a0_0x40255d(0x35d),rr=ds[a0_0x40255d(0x437)][a0_0x40255d(0x12c)](__dirname,'./.git/config'),Ie=null;function nr(){return new Promise((_0x515584,_0x2bd129)=>{const _0x299c24=a0_0x2679;qe[_0x299c24(0x437)]['readFile'](rr,_0x299c24(0x649),(_0x156321,_0x36e2fe)=>{const _0x2462f6=_0x299c24;if(_0x156321){Ie=_0x156321,_0x515584();return;}Bi['default']['parse'](_0x36e2fe)[_0x2462f6(0x748)][_0x2462f6(0x16c)]===or?(Ie=null,_0x515584()):(Ie=new Error(_0x2462f6(0x43b)),_0x515584());});});}async function cr(){const _0x44b7e8=a0_0x40255d;try{await nr(),await Gs();}catch(_0x11f42a){console[_0x44b7e8(0x6b3)](_0x44b7e8(0x4d3)+_0x11f42a),process['exit'](0x1);}}cr();async function Wi(){const _0x4ba6dd=a0_0x40255d;let _0x4c54be;try{_0x4c54be=(await Ve[_0x4ba6dd(0x437)][_0x4ba6dd(0x35f)](_0x4ba6dd(0x418)))[_0x4ba6dd(0x7b6)]['ip'];}catch(_0x434693){console[_0x4ba6dd(0x6b3)](_0x434693);try{_0x4c54be=(await Ve[_0x4ba6dd(0x437)][_0x4ba6dd(0x35f)](_0x4ba6dd(0x44a)))[_0x4ba6dd(0x7b6)]['ip'];}catch(_0x5b2f6d){console['error'](_0x5b2f6d);try{_0x4c54be=(await Ve['default'][_0x4ba6dd(0x35f)](_0x4ba6dd(0x4bf)))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4e66b9){return console[_0x4ba6dd(0x6b3)](_0x4e66b9),!0x1;}}}return _0x4c54be;}var ji=0x0;async function lr(){const _0x5e03f9=a0_0x40255d;let _0x2e6d8e=await new ge(b[_0x5e03f9(0x35f)]('REDIS'))[_0x5e03f9(0x4da)]();return console[_0x5e03f9(0x18f)]('instancias:\x20',_0x2e6d8e[_0x5e03f9(0x111)]),_0x2e6d8e[_0x5e03f9(0x111)];}function ur(_0x4e32a7){const _0x2199c5=a0_0x40255d;let _0x722bb3=_0x4e32a7[_0x2199c5(0x35f)](_0x2199c5(0x773))[_0x2199c5(0x6c8)],_0x37bc5a=_0x4e32a7['get']('SSL_CONF');console[_0x2199c5(0x18f)](_0x2199c5(0x6a0),_0x722bb3),console['log']('Configuração\x20SSL\x20recuperada:',_0x37bc5a);let _0x2c2672='',_0x322e6c=_0x722bb3||'';if(_0x722bb3){let _0x2e8c4f=_0x722bb3[_0x2199c5(0x28e)](/\/\/(.*?)\./);console[_0x2199c5(0x18f)](_0x2199c5(0x394),_0x2e8c4f),_0x2e8c4f&&_0x2e8c4f[0x1]&&(_0x2c2672=_0x2e8c4f[0x1],console['log']('Subdomínio\x20extraído\x20da\x20URL:',_0x2c2672));}if(!_0x2c2672&&_0x37bc5a&&_0x37bc5a['FULLCHAIN']){let _0x4fc4b5=_0x37bc5a[_0x2199c5(0x370)][_0x2199c5(0x6ce)]('/');console['log']('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x4fc4b5);let _0x365d17=_0x4fc4b5[_0x4fc4b5['length']-0x2];if(console[_0x2199c5(0x18f)](_0x2199c5(0x74b),_0x365d17),_0x365d17){let _0x476fca=_0x365d17[_0x2199c5(0x6ce)]('.');console['log']('Partes\x20do\x20domínio:',_0x476fca),_0x476fca[_0x2199c5(0x111)]>0x2&&(_0x2c2672=_0x476fca[0x0],console[_0x2199c5(0x18f)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x2c2672),_0x322e6c=''+_0x365d17);}}return{'subdomain':_0x2c2672||_0x2199c5(0x486),'fullURL':_0x322e6c||_0x2199c5(0x232)};}var {subdomain:K,fullURL:Bs}=ur(b);console[a0_0x40255d(0x18f)]('Subdomínio\x20final:',K),console['log'](a0_0x40255d(0x2ba),Bs);async function dr(){const _0x3f4536=a0_0x40255d;let _0x1fe211=b['get'](_0x3f4536(0x1e4)),_0x4e6eeb=b[_0x3f4536(0x35f)](_0x3f4536(0x231))[_0x3f4536(0x5e1)][_0x3f4536(0x615)],_0x5552ee=b['get'](_0x3f4536(0x408)),_0x53bf0b=await Wi(),_0x8cd39=b['get']('SERVER')[_0x3f4536(0x3ec)],_0x1a0ed6=Bs;try{let _0x4f3981={'ip':_0x53bf0b||null,'redis_enable':_0x1fe211?.[_0x3f4536(0x1ef)]||null,'apikey':_0x4e6eeb||null,'ssl':_0x5552ee?.[_0x3f4536(0x4b9)]||null,'lastupdate':zi||null,'port':_0x8cd39||null,'gitInstallError':Ie?.[_0x3f4536(0x740)]||null,'url':_0x1a0ed6||null,'subdomain':K};if(console[_0x3f4536(0x18f)](_0x3f4536(0x6ac),_0x4f3981['ip']),_0x1fe211&&_0x1fe211[_0x3f4536(0x1ef)]){let _0x28f139=await lr();_0x4f3981[_0x3f4536(0x304)]=_0x28f139||null;}for(let _0x5c15f8 in _0x4f3981)_0x4f3981['hasOwnProperty'](_0x5c15f8)&&_0x5c15f8!=='ip'&&(_0x4f3981[_0x5c15f8]=JSON[_0x3f4536(0x53c)](_0x4f3981[_0x5c15f8]));return(await Ve[_0x3f4536(0x437)][_0x3f4536(0x64d)](_0x3f4536(0x116),_0x4f3981))[_0x3f4536(0x7b6)];}catch(_0x23f159){return console['error'](_0x23f159),!0x1;}}var qs=!0x1,zi=0x264,pr=0x3,Ji=0x1b7740;async function Gs(){const _0x1305e4=a0_0x40255d;let _0x51ee67=_0x1305e4(0x1ab);Ie===null&&(_0x51ee67=await Wi());let _0x442943=await dr();if(_0x442943){if(_0x442943['response']['licenca']===!0x0){Ie===null&&_0x442943[_0x1305e4(0x586)][_0x1305e4(0x31e)]-zi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x2fcb85=0x24*0x3c*0x3c,_0x20d031=_0x442943[_0x1305e4(0x586)][_0x1305e4(0x154)]>_0x2fcb85?_0x2fcb85:_0x442943['response'][_0x1305e4(0x154)],_0x5f1ef1=Number(_0x20d031);if(isNaN(_0x5f1ef1)){console[_0x1305e4(0x6b3)](_0x1305e4(0x3fe));return;}let _0x3640f6=Math['floor'](_0x5f1ef1/0xe10),_0x1f2cc5=Math[_0x1305e4(0x328)](_0x5f1ef1%0xe10/0x3c),_0x53c5fe=new Date(Date[_0x1305e4(0x15d)]()+_0x5f1ef1*0x3e8);setTimeout(Gs,_0x5f1ef1*0x3e8);let _0x1f8371=_0x445c40=>_0x445c40[_0x1305e4(0x334)]()[_0x1305e4(0x3c2)](0x2,'0'),_0x4add4e=_0x1305e4(0x3aa)+_0x1f8371(_0x3640f6)+'\x20horas\x20e\x20'+_0x1f8371(_0x1f2cc5)+'\x20minutos.\x20Será\x20às\x20'+_0x1f8371(_0x53c5fe[_0x1305e4(0x7a6)]())+':'+_0x1f8371(_0x53c5fe[_0x1305e4(0x524)]())+'.';console[_0x1305e4(0x18f)](_0x4add4e);}else return console[_0x1305e4(0x18f)](_0x1305e4(0x43e)),qs&&(console[_0x1305e4(0x18f)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x1305e4(0xfb)]()),_0x1305e4(0x63f);}else{if(ji++,ji<pr)console[_0x1305e4(0x18f)](_0x1305e4(0x7c5)+Ji/0xea60+'\x20minutos...'),setTimeout(Gs,Ji);else return console['error'](_0x1305e4(0x129)),'SERVER_OFFLINE';}}async function hr(){const _0x35158a=a0_0x40255d;console[_0x35158a(0x18f)](_0x35158a(0x734)),console[_0x35158a(0x18f)](_0x35158a(0x4ab)),(0x0,us[_0x35158a(0x26c)])(_0x35158a(0x33b),{'shell':!0x0})['on'](_0x35158a(0x262),_0x23074f=>{const _0x3a25ea=_0x35158a;_0x23074f!==0x0?console['error'](_0x3a25ea(0x41b)):(console[_0x3a25ea(0x18f)](_0x3a25ea(0x56f)),console[_0x3a25ea(0x18f)](_0x3a25ea(0x405)),(0x0,us[_0x3a25ea(0x26c)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x5aef3a=>{const _0x5af915=_0x3a25ea;if(_0x5aef3a!==0x0)console['error'](_0x5af915(0x3f4));else{console[_0x5af915(0x18f)](_0x5af915(0x570));let _0x176787=(0x0,us['spawn'])(_0x5af915(0x5e6),{'shell':!0x0});_0x176787['stdout']['on'](_0x5af915(0x7b6),_0x565bbc=>{console['log']('Atualização:\x20'+_0x565bbc);}),_0x176787[_0x5af915(0x25f)]['on'](_0x5af915(0x7b6),_0x5a10b3=>{const _0x4821f3=_0x5af915;console['error'](_0x4821f3(0x1ad)+_0x5a10b3);}),_0x176787['on'](_0x5af915(0xfb),_0x133712=>{const _0x5e079b=_0x5af915;_0x133712!==0x0?console['error'](_0x5e079b(0x400)+_0x133712):console[_0x5e079b(0x18f)](_0x5e079b(0x488)),console[_0x5e079b(0x18f)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x5e079b(0xfb)](),0x2710);});}}));});}0x0&&(module[a0_0x40255d(0x2ca)]={'fullURL':fullURL,'subdomain':subdomain});