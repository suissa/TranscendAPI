const a0_0x5c767c=a0_0x277c;(function(_0x1496ec,_0x1b46ad){const _0x5bbaa1=a0_0x277c,_0x3129f2=_0x1496ec();while(!![]){try{const _0x233cf8=-parseInt(_0x5bbaa1(0x4b8))/0x1+parseInt(_0x5bbaa1(0x2e0))/0x2*(parseInt(_0x5bbaa1(0x5a1))/0x3)+-parseInt(_0x5bbaa1(0xa0))/0x4+parseInt(_0x5bbaa1(0x391))/0x5*(-parseInt(_0x5bbaa1(0x152))/0x6)+-parseInt(_0x5bbaa1(0x557))/0x7+-parseInt(_0x5bbaa1(0x10e))/0x8+parseInt(_0x5bbaa1(0x64a))/0x9*(parseInt(_0x5bbaa1(0x537))/0xa);if(_0x233cf8===_0x1b46ad)break;else _0x3129f2['push'](_0x3129f2['shift']());}catch(_0x14c296){_0x3129f2['push'](_0x3129f2['shift']());}}}(a0_0x35b3,0xdef63));var ho=Object[a0_0x5c767c(0x1ab)],Es=Object[a0_0x5c767c(0x288)],fo=Object[a0_0x5c767c(0x1c8)],wo=Object[a0_0x5c767c(0x2a1)],yo=Object[a0_0x5c767c(0x491)],bo=Object[a0_0x5c767c(0x4af)]['hasOwnProperty'],So=(_0x2da40e,_0x3b4b93,_0x45c6a4,_0x488460)=>{const _0xd603ec=a0_0x5c767c;if(_0x3b4b93&&typeof _0x3b4b93==_0xd603ec(0x230)||typeof _0x3b4b93==_0xd603ec(0x172)){for(let _0x4463d9 of wo(_0x3b4b93))!bo[_0xd603ec(0x57a)](_0x2da40e,_0x4463d9)&&_0x4463d9!==_0x45c6a4&&Es(_0x2da40e,_0x4463d9,{'get':()=>_0x3b4b93[_0x4463d9],'enumerable':!(_0x488460=fo(_0x3b4b93,_0x4463d9))||_0x488460[_0xd603ec(0x341)]});}return _0x2da40e;},T=(_0x420756,_0x43013a,_0xe4c8f3)=>(_0xe4c8f3=_0x420756!=null?ho(yo(_0x420756)):{},So(_0x43013a||!_0x420756||!_0x420756[a0_0x5c767c(0x574)]?Es(_0xe4c8f3,a0_0x5c767c(0x6c),{'value':_0x420756,'enumerable':!0x0}):_0xe4c8f3,_0x420756)),no=T(require(a0_0x5c767c(0xaa))),Cs=require('fs'),Ns=require(a0_0x5c767c(0x3a4)),Ts=require(a0_0x5c767c(0x444)),_e=require(a0_0x5c767c(0x444)),Q=process[a0_0x5c767c(0x169)](),j=(0x0,_e['join'])(Q,'instances'),vs=(0x0,_e['join'])(Q,a0_0x5c767c(0x26c)),Gt=(0x0,_e['join'])(Q,a0_0x5c767c(0x4a7),a0_0x5c767c(0x408)),Rs=require(a0_0x5c767c(0x220)),Jt=class{constructor(){const _0x41d85d=a0_0x5c767c;this[_0x41d85d(0x224)]();}[a0_0x5c767c(0x3a1)](_0x3b9b0c){const _0x566c91=a0_0x5c767c;return this[_0x566c91(0x9d)][_0x3b9b0c];}['loadEnv'](){const _0x46e676=a0_0x5c767c;this[_0x46e676(0x9d)]=process[_0x46e676(0x9d)]?.[_0x46e676(0x196)]!=='true'?this['envYaml']():this[_0x46e676(0x373)](),this[_0x46e676(0x9d)][_0x46e676(0xd8)]=process['env']?.[_0x46e676(0x241)]==='PROD',process[_0x46e676(0x9d)]?.['DOCKER_ENV']===_0x46e676(0x5d1)&&(this[_0x46e676(0x9d)][_0x46e676(0x4ac)][_0x46e676(0x58c)]=_0x46e676(0x5fb),this[_0x46e676(0x9d)]['SERVER'][_0x46e676(0x526)]=Number['parseInt'](process['env']?.[_0x46e676(0x37d)]??_0x46e676(0x342)));}[a0_0x5c767c(0x32b)](){const _0x23a786=a0_0x5c767c;return(0x0,Ns[_0x23a786(0x1bb)])((0x0,Cs[_0x23a786(0x4c9)])((0x0,Ts[_0x23a786(0x361)])(vs,_0x23a786(0x317)),{'encoding':_0x23a786(0x632)}));}[a0_0x5c767c(0x373)](){const _0x113f78=a0_0x5c767c;return{'SERVER':{'TYPE':process[_0x113f78(0x9d)][_0x113f78(0x3e8)],'PORT':Number[_0x113f78(0x3a3)](process[_0x113f78(0x9d)][_0x113f78(0x37d)])},'CORS':{'ORIGIN':process['env'][_0x113f78(0xda)][_0x113f78(0x642)](','),'METHODS':process['env']['CORS_METHODS'][_0x113f78(0x642)](','),'CREDENTIALS':process[_0x113f78(0x9d)]?.[_0x113f78(0x64)]===_0x113f78(0x5d1)},'SSL_CONF':{'PRIVKEY':process[_0x113f78(0x9d)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x113f78(0x3d1)]},'STORE':{'CLEANING_INTERVAL':Number[_0x113f78(0x411)](process[_0x113f78(0x9d)]?.[_0x113f78(0x37b)])?Number['parseInt'](process[_0x113f78(0x9d)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x113f78(0x9d)]?.[_0x113f78(0x298)]===_0x113f78(0x5d1),'CONTACTS':process[_0x113f78(0x9d)]?.[_0x113f78(0x605)]===_0x113f78(0x5d1),'CHATS':process[_0x113f78(0x9d)]?.[_0x113f78(0x2a7)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x113f78(0x9d)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x113f78(0x3a3)](process[_0x113f78(0x9d)]?.[_0x113f78(0x5d7)]),'USER':process['env'][_0x113f78(0x1dc)],'PASSWORD':process['env'][_0x113f78(0x3e4)],'URI':process[_0x113f78(0x9d)][_0x113f78(0x25b)],'DB_PREFIX_NAME':process[_0x113f78(0x9d)][_0x113f78(0x1e1)]},'ENABLED':process['env']?.[_0x113f78(0x5ef)]==='true'},'REDIS':{'ENABLED':process[_0x113f78(0x9d)]?.[_0x113f78(0x7d)]===_0x113f78(0x5d1),'URI':process[_0x113f78(0x9d)][_0x113f78(0x47e)],'PREFIX_KEY':process[_0x113f78(0x9d)][_0x113f78(0x5d6)]},'LOG':{'LEVEL':process[_0x113f78(0x9d)]?.[_0x113f78(0x465)][_0x113f78(0x642)](','),'COLOR':process[_0x113f78(0x9d)]?.[_0x113f78(0x40c)]===_0x113f78(0x5d1)},'DEL_INSTANCE':(0x0,Rs[_0x113f78(0x275)])(process[_0x113f78(0x9d)]?.[_0x113f78(0x96)])?process[_0x113f78(0x9d)]['DEL_INSTANCE']===_0x113f78(0x5d1):Number[_0x113f78(0x3a3)](process[_0x113f78(0x9d)][_0x113f78(0x96)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x113f78(0x9d)][_0x113f78(0x262)]?process[_0x113f78(0x9d)][_0x113f78(0x262)]===_0x113f78(0x5d1):!0x1,'GLOBAL':{'URL':process[_0x113f78(0x9d)]?.[_0x113f78(0x4c5)],'ENABLED':process[_0x113f78(0x9d)]?.[_0x113f78(0xd5)]===_0x113f78(0x5d1)},'EVENTS':{'STATUS_INSTANCE':process[_0x113f78(0x9d)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']===_0x113f78(0x5d1),'QRCODE_UPDATED':process[_0x113f78(0x9d)]?.[_0x113f78(0x441)]===_0x113f78(0x5d1),'MESSAGES_SET':process[_0x113f78(0x9d)]?.[_0x113f78(0x5d4)]===_0x113f78(0x5d1),'MESSAGES_UPSERT':process['env']?.[_0x113f78(0x81)]===_0x113f78(0x5d1),'MESSAGES_UPDATE':process[_0x113f78(0x9d)]?.[_0x113f78(0x19a)]===_0x113f78(0x5d1),'SEND_MESSAGE':process[_0x113f78(0x9d)]?.[_0x113f78(0x1a8)]===_0x113f78(0x5d1),'CONTACTS_SET':process['env']?.[_0x113f78(0x5ae)]===_0x113f78(0x5d1),'CONTACTS_UPDATE':process[_0x113f78(0x9d)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']==='true','CONTACTS_UPSERT':process[_0x113f78(0x9d)]?.[_0x113f78(0x215)]==='true','PRESENCE_UPDATE':process[_0x113f78(0x9d)]?.[_0x113f78(0x33c)]===_0x113f78(0x5d1),'CHATS_SET':process[_0x113f78(0x9d)]?.[_0x113f78(0x438)]===_0x113f78(0x5d1),'CHATS_UPDATE':process[_0x113f78(0x9d)]?.[_0x113f78(0xd9)]===_0x113f78(0x5d1),'CHATS_UPSERT':process[_0x113f78(0x9d)]?.[_0x113f78(0x97)]===_0x113f78(0x5d1),'CHATS_DELETE':process[_0x113f78(0x9d)]?.[_0x113f78(0x2d4)]===_0x113f78(0x5d1),'CONNECTION_UPDATE':process['env']?.[_0x113f78(0x3fc)]===_0x113f78(0x5d1),'GROUPS_UPSERT':process[_0x113f78(0x9d)]?.[_0x113f78(0x4ea)]===_0x113f78(0x5d1),'GROUP_UPDATE':process['env']?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x113f78(0x5d1),'GROUP_PARTICIPANTS_UPDATE':process[_0x113f78(0x9d)]?.[_0x113f78(0x242)]===_0x113f78(0x5d1),'NEW_JWT_TOKEN':process[_0x113f78(0x9d)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']===_0x113f78(0x5d1)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x113f78(0x9d)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x113f78(0x427),'NAME':process['env']?.[_0x113f78(0x299)]||_0x113f78(0x5d8)},'QRCODE':{'LIMIT':Number[_0x113f78(0x3a3)](process['env'][_0x113f78(0x2fa)])||0x5},'TRIAL_AD':process['env']?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process[_0x113f78(0x9d)]?.[_0x113f78(0x1c1)],'AUTHENTICATION':{'TYPE':process[_0x113f78(0x9d)][_0x113f78(0x4ff)],'API_KEY':{'KEY':process[_0x113f78(0x9d)][_0x113f78(0x238)]},'JWT':{'EXPIRIN_IN':Number[_0x113f78(0x411)](process[_0x113f78(0x9d)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x113f78(0x3a3)](process[_0x113f78(0x9d)][_0x113f78(0x484)]):0xe10,'SECRET':process[_0x113f78(0x9d)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new Jt(),co=T(require(a0_0x5c767c(0x118))),ge=T(require(a0_0x5c767c(0x352))),bs=require(a0_0x5c767c(0x444)),Wt=T(require('dayjs')),Ht=(_0x423259=>(_0x423259['LOG']=a0_0x5c767c(0x228),_0x423259[a0_0x5c767c(0x52e)]='\x1b[34m',_0x423259[a0_0x5c767c(0x39a)]='\x1b[33m',_0x423259[a0_0x5c767c(0x1ca)]=a0_0x5c767c(0x3ab),_0x423259['DEBUG']=a0_0x5c767c(0x1d6),_0x423259['VERBOSE']='\x1b[37m',_0x423259[a0_0x5c767c(0x410)]=a0_0x5c767c(0x4ef),_0x423259))(Ht||{}),Ms=(_0x162628=>(_0x162628['LOG']=a0_0x5c767c(0x4fd),_0x162628['DARK']=a0_0x5c767c(0x5a4),_0x162628[a0_0x5c767c(0x52e)]=a0_0x5c767c(0x99),_0x162628[a0_0x5c767c(0x39a)]=a0_0x5c767c(0x3f5),_0x162628[a0_0x5c767c(0x1ca)]=a0_0x5c767c(0x158),_0x162628[a0_0x5c767c(0xfb)]=a0_0x5c767c(0x256),_0x162628[a0_0x5c767c(0xc7)]=a0_0x5c767c(0x4f4),_0x162628))(Ms||{}),As=(_0x5a12a1=>(_0x5a12a1['LOG']=a0_0x5c767c(0x1cc),_0x5a12a1['WARN']='WARN',_0x5a12a1[a0_0x5c767c(0x52e)]=a0_0x5c767c(0x52e),_0x5a12a1['DARK']=a0_0x5c767c(0x410),_0x5a12a1[a0_0x5c767c(0x1ca)]='ERROR',_0x5a12a1[a0_0x5c767c(0xfb)]='DEBUG',_0x5a12a1[a0_0x5c767c(0xc7)]='VERBOSE',_0x5a12a1))(As||{}),Is=(_0x34e022=>(_0x34e022[a0_0x5c767c(0x1cc)]=a0_0x5c767c(0x335),_0x34e022[a0_0x5c767c(0x52e)]='\x1b[44m',_0x34e022[a0_0x5c767c(0x39a)]=a0_0x5c767c(0xa5),_0x34e022[a0_0x5c767c(0x410)]=a0_0x5c767c(0x612),_0x34e022[a0_0x5c767c(0x1ca)]=a0_0x5c767c(0x5ba),_0x34e022[a0_0x5c767c(0xfb)]=a0_0x5c767c(0x4f7),_0x34e022[a0_0x5c767c(0xc7)]=a0_0x5c767c(0x30e),_0x34e022))(Is||{}),N=class{constructor(_0x31fbd2=a0_0x5c767c(0x13b)){const _0x19d372=a0_0x5c767c;this[_0x19d372(0x5f7)]=_0x31fbd2,this[_0x19d372(0x366)]=S;}[a0_0x5c767c(0x52d)](_0x42b52e){const _0x1052ef=a0_0x5c767c;this[_0x1052ef(0x5f7)]=_0x42b52e;}[a0_0x5c767c(0x59f)](_0xa8dd27,_0x502f98){const _0x2502c5=a0_0x5c767c;let _0x5f3dc7=[];this[_0x2502c5(0x366)][_0x2502c5(0x3a1)](_0x2502c5(0x1cc))[_0x2502c5(0x38c)][_0x2502c5(0xeb)](_0x447c60=>_0x5f3dc7[_0x2502c5(0x36a)](As[_0x447c60]));let _0x99d863=typeof _0xa8dd27;_0x5f3dc7[_0x2502c5(0x3a7)](_0x502f98)&&(S['get']('LOG')[_0x2502c5(0x50c)]?(console[_0x2502c5(0x1ce)]('\x1b[1m'+Ms[_0x502f98],'\x1b[1m\x1b[37m',(0x0,Wt[_0x2502c5(0x6c)])()[_0x2502c5(0x43d)](_0x2502c5(0x35c)),_0x2502c5(0x4cc),Ht[_0x502f98]+Is[_0x502f98]+_0x2502c5(0x43f),_0x502f98+_0x2502c5(0x2c2),_0x2502c5(0x387),this[_0x2502c5(0x5f7)]+_0x2502c5(0x4cc),Ht[_0x502f98],_0x99d863!==_0x2502c5(0x230)?_0xa8dd27:'','\x1b[0m'),_0x99d863===_0x2502c5(0x230)&&console[_0x2502c5(0x1ce)](_0xa8dd27,'\x0a')):console['log']((0x0,Wt['default'])()[_0x2502c5(0x43d)]('HH:mm:ss'),_0x502f98+'\x20',''+this[_0x2502c5(0x5f7)],_0xa8dd27));}[a0_0x5c767c(0x1ce)](_0x5ac995){const _0x3c9857=a0_0x5c767c;this[_0x3c9857(0x59f)](_0x5ac995,_0x3c9857(0x1cc));}['info'](_0x3da019){const _0x31d82c=a0_0x5c767c;this[_0x31d82c(0x59f)](_0x3da019,_0x31d82c(0x52e));}['warn'](_0x303d37){this['console'](_0x303d37,'WARN');}[a0_0x5c767c(0x9a)](_0x364089){const _0x399143=a0_0x5c767c;this[_0x399143(0x59f)](_0x364089,_0x399143(0x1ca));}[a0_0x5c767c(0xb5)](_0x132134){const _0x30eb6b=a0_0x5c767c;this['console'](_0x132134,_0x30eb6b(0xc7));}['debug'](_0x2a128f){const _0x25ac48=a0_0x5c767c;this['console'](_0x2a128f,_0x25ac48(0xfb));}[a0_0x5c767c(0x181)](_0x832d77){const _0x13d785=a0_0x5c767c;this[_0x13d785(0x59f)](_0x832d77,_0x13d785(0x410));}};function Ds(){const _0x191f58=a0_0x5c767c;process['on'](_0x191f58(0x16c),(_0x2fea43,_0x3b17ef)=>{const _0x4d8779=_0x191f58;new N(_0x4d8779(0x16c))[_0x4d8779(0x9a)]({'origin':_0x3b17ef,'stderr':process[_0x4d8779(0x291)]['fd'],'error':_0x2fea43});}),process['on'](_0x191f58(0x284),(_0x2293f7,_0x544082)=>{const _0x1f54b5=_0x191f58;new N(_0x1f54b5(0x284))[_0x1f54b5(0x9a)]({'origin':_0x544082,'stderr':process[_0x1f54b5(0x291)]['fd'],'error':_0x2293f7});});}var _s=T(require('eventemitter2')),Kt=new _s['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require(a0_0x5c767c(0x15c)),zt=T(require(a0_0x5c767c(0x15c))),Eo=new N(a0_0x5c767c(0x3f9)),G=S[a0_0x5c767c(0x3a1)](a0_0x5c767c(0x236)),M=G[a0_0x5c767c(0x168)]?G['CONNECTION'][a0_0x5c767c(0x3ee)]?zt[a0_0x5c767c(0x6c)]['createConnection'](G[a0_0x5c767c(0x156)][a0_0x5c767c(0x3ee)],{'dbName':G[a0_0x5c767c(0x156)][a0_0x5c767c(0x326)]+'-whatsapp-api'}):zt[a0_0x5c767c(0x6c)]['createConnection'](a0_0x5c767c(0x189)+G[a0_0x5c767c(0x156)]['HOST']+':'+G['CONNECTION'][a0_0x5c767c(0x526)]+a0_0x5c767c(0x1a9),{'user':G[a0_0x5c767c(0x156)][a0_0x5c767c(0x1d7)],'pass':G[a0_0x5c767c(0x156)][a0_0x5c767c(0x338)],'dbName':G[a0_0x5c767c(0x156)][a0_0x5c767c(0x326)]+'-whatsapp-api'}):null;G[a0_0x5c767c(0x168)]&&Eo[a0_0x5c767c(0x1c7)](a0_0x5c767c(0x144)+M[a0_0x5c767c(0x5e5)]);var vo=new Oe[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Co=new Oe[(a0_0x5c767c(0x542))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[vo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),No=new Oe[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Co,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Os=_0x35d921=>{const _0x6972e7=a0_0x5c767c;let _0x1eb266='z_'+_0x35d921+_0x6972e7(0x3b7);return M?.[_0x6972e7(0x280)]('ChatModel',No,_0x1eb266);},Ps=require(a0_0x5c767c(0x15c)),To=new Ps['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),xs=_0x37301f=>{const _0x167e1a=a0_0x5c767c;let _0x48e87a='z_'+_0x37301f+_0x167e1a(0x3bb);return M?.[_0x167e1a(0x280)](_0x167e1a(0x1a3),To,_0x48e87a);},$s=require(a0_0x5c767c(0x15c)),Ro=new $s[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x5c767c(0x272),a0_0x5c767c(0x4fa),a0_0x5c767c(0x15e)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ks=_0x2a6cdd=>{const _0x2cfa29=a0_0x5c767c;let _0xc42c96='z_'+_0x2a6cdd+_0x2cfa29(0x76);return M?.[_0x2cfa29(0x280)](_0x2cfa29(0x516),Ro,_0xc42c96);},Ls=require(a0_0x5c767c(0x15c)),Qt=class{},Mo=new Ls[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Us=M?.[a0_0x5c767c(0x280)](Qt[a0_0x5c767c(0x259)],Mo,a0_0x5c767c(0x4ed)),Vs=require(a0_0x5c767c(0x15c)),Yt=class{},js=new Vs[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});js['pre'](a0_0x5c767c(0x380),function(_0x2c14b1){const _0x43d62d=a0_0x5c767c;delete this[_0x43d62d(0x303)],delete this['flowIgnoreGroups'],delete this[_0x43d62d(0x369)],delete this[_0x43d62d(0x4c4)],delete this[_0x43d62d(0x3eb)],_0x2c14b1();});var Fs=M?.[a0_0x5c767c(0x280)](Yt['name'],js,a0_0x5c767c(0x3dd)),_=require(a0_0x5c767c(0x15c)),Bs=new _[(a0_0x5c767c(0x542))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x5c767c(0x542))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ao=new _['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x5c767c(0x3cd)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),qs=new _[(a0_0x5c767c(0x542))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Io=new _[(a0_0x5c767c(0x542))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Do=new _[(a0_0x5c767c(0x542))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Gs=new _[(a0_0x5c767c(0x542))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ao},'apirequest':Io,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _[(a0_0x5c767c(0x542))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Js=new _[(a0_0x5c767c(0x542))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Ws=new _[(a0_0x5c767c(0x542))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2ead65=a0_0x5c767c;return'!cmd_'+Math[_0x2ead65(0x3fb)]()['toString'](0x24)[_0x2ead65(0x334)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Gs],'groups':[Bs],'conditions':[qs],'varedits':[Js],'replyOptions':{'type':[Xt],'default':[]}});Ws[a0_0x5c767c(0x4f5)]('save',function(_0x733be4){const _0x5a8b5f=a0_0x5c767c;let _0x408984=new Set(),_0x401978=new Set(this[_0x5a8b5f(0x4e5)]?.[_0x5a8b5f(0x3a6)](_0x50549b=>_0x50549b['name'])),_0x5cea04=JSON[_0x5a8b5f(0x274)](this),_0x107550=/{{(?!_)([^}]*)}}/g,_0x221ccd;for(;(_0x221ccd=_0x107550[_0x5a8b5f(0x2db)](_0x5cea04))!==null;)_0x401978[_0x5a8b5f(0x4ab)](_0x221ccd[0x1])||_0x408984['add'](_0x221ccd[0x1]);_0x408984[_0x5a8b5f(0x191)]>0x0?(console[_0x5a8b5f(0x2e9)](_0x5a8b5f(0x225),Array[_0x5a8b5f(0x14b)](_0x408984)),this['variablesNotFound']=Array[_0x5a8b5f(0x14b)](_0x408984)):this[_0x5a8b5f(0x269)]=[],_0x733be4();});var I=M?.[a0_0x5c767c(0x280)](Zt[a0_0x5c767c(0x259)],Ws,'flow'),_o=new _[(a0_0x5c767c(0x542))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Do]},{'_id':!0x1}),es=class{},Oo=new _[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Gs],'groups':[Bs],'conditions':[qs],'varedits':[Js],'replyOptions':{'type':[Xt],'default':[]},'chatLog':_o,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5c767c(0x255)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),F=M?.[a0_0x5c767c(0x280)](es[a0_0x5c767c(0x259)],Oo,a0_0x5c767c(0x166)),ts=class{},Po=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),xo=new _[(a0_0x5c767c(0x542))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Po,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x5c767c(0x280)](ts[a0_0x5c767c(0x259)],xo,'scheduleMessages'),ss=class{},$o=new _[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ko=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Lo=new _[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Uo=new _[(a0_0x5c767c(0x542))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Lo]},'customFields':{'type':[$o]},'flowConfig':{'type':ko,'default':{}}}),ae=M?.[a0_0x5c767c(0x280)](ss[a0_0x5c767c(0x259)],Uo,a0_0x5c767c(0x56e)),me=require('fs'),os=require(a0_0x5c767c(0x444)),W=class{constructor(_0x50ec0b){const _0x2daef6=a0_0x5c767c;this[_0x2daef6(0x5c7)]=(0x0,os[_0x2daef6(0x361)])(Q,'store'),this[_0x2daef6(0x3c5)]=_0xd43d5f=>{const _0x50e0f5=_0x2daef6;(0x0,me[_0x50e0f5(0x58f)])(_0xd43d5f[_0x50e0f5(0x444)])||(0x0,me[_0x50e0f5(0x63a)])(_0xd43d5f[_0x50e0f5(0x444)],{'recursive':!0x0});try{return(0x0,me[_0x50e0f5(0x186)])((0x0,os[_0x50e0f5(0x361)])(_0xd43d5f[_0x50e0f5(0x444)],_0xd43d5f[_0x50e0f5(0x571)]+_0x50e0f5(0x154)),JSON['stringify']({..._0xd43d5f[_0x50e0f5(0x531)]}),{'encoding':_0x50e0f5(0x632)}),{'message':_0x50e0f5(0xfe)};}finally{_0xd43d5f[_0x50e0f5(0x531)]=void 0x0;}},this['dbSettings']=_0x50ec0b[_0x2daef6(0x3a1)](_0x2daef6(0x236));}[a0_0x5c767c(0x637)](_0xd04799,_0x27959b=!0x1){const _0x14f327=a0_0x5c767c;throw new Error(_0x14f327(0x423));}[a0_0x5c767c(0x504)](_0x14597b){const _0x3647ef=a0_0x5c767c;throw new Error(_0x3647ef(0x423));}['delete'](_0x26a5eb,_0x9f0e09){throw new Error('Method\x20not\x20implemented.');}},Pe=class{},xe=class extends W{constructor(_0xbfa81e){const _0x57a33b=a0_0x5c767c;super(_0xbfa81e),this[_0x57a33b(0x366)]=_0xbfa81e;}['getMessageModelForOwner'](_0x283ffe){return ks(_0x283ffe);}async[a0_0x5c767c(0x637)](_0x543658){const _0x37ec9f=a0_0x5c767c;if(_0x543658[_0x37ec9f(0x44d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x37ec9f(0x2b9)](_0x543658[0x0][_0x37ec9f(0x57d)])[_0x37ec9f(0x39f)]([..._0x543658]))[_0x37ec9f(0x44d)]};}catch(_0x4c3c8e){return console[_0x37ec9f(0x1ce)]('ERROR:\x20',_0x4c3c8e),_0x4c3c8e;}}async[a0_0x5c767c(0x504)](_0x2bf0b4){const _0x107b38=a0_0x5c767c;try{let _0x55afcd=this[_0x107b38(0x2b9)](_0x2bf0b4['where'][_0x107b38(0x57d)]);if(_0x2bf0b4?.[_0x107b38(0x82)]?.[_0x107b38(0x40a)]){for(let [_0x57dfbd,_0x104f2f]of Object['entries'](_0x2bf0b4['where'][_0x107b38(0x40a)]))_0x2bf0b4[_0x107b38(0x82)][_0x107b38(0x1ac)+_0x57dfbd]=_0x104f2f;delete _0x2bf0b4?.[_0x107b38(0x82)]?.[_0x107b38(0x40a)];}return await _0x55afcd[_0x107b38(0x504)]({..._0x2bf0b4[_0x107b38(0x82)]})['sort']({'messageTimestamp':-0x1})[_0x107b38(0xf0)](_0x2bf0b4?.[_0x107b38(0xf0)]??0x0)[_0x107b38(0x4dc)]();}catch{return[];}}async['delete'](_0xce8d9e){const _0x3e95c8=a0_0x5c767c;try{await this[_0x3e95c8(0x2b9)](_0xce8d9e['where'][_0x3e95c8(0x57d)])[_0x3e95c8(0x5fa)]({..._0xce8d9e['where']});}catch(_0x556f5d){console[_0x3e95c8(0x9a)](_0x556f5d);}}async[a0_0x5c767c(0x3f4)](_0x279c2a,_0x36266b){const _0x21e4ac=a0_0x5c767c;try{return await this[_0x21e4ac(0x2b9)](_0x279c2a[_0x21e4ac(0x82)]['owner'])[_0x21e4ac(0x41b)]({..._0x279c2a['where']},{'$set':_0x36266b},{'new':!0x0});}catch(_0x4192e3){throw console[_0x21e4ac(0x9a)](_0x4192e3),_0x4192e3;}}async[a0_0x5c767c(0x39f)](_0x1c922e){const _0x3f0653=a0_0x5c767c;if(_0x1c922e[_0x3f0653(0x44d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3f0653(0x2b9)](_0x1c922e[0x0][_0x3f0653(0x57d)])[_0x3f0653(0x39f)]([..._0x1c922e]))[_0x3f0653(0x44d)]};}catch(_0x9e0106){return console[_0x3f0653(0x1ce)](_0x3f0653(0x48e),_0x9e0106),_0x9e0106;}}async[a0_0x5c767c(0x43e)](_0x306478){const _0x1e6ec7=a0_0x5c767c;try{return await this[_0x1e6ec7(0x2b9)](_0x306478)[_0x1e6ec7(0x51e)]['drop'](),{'success':!0x0};}catch(_0x3ceca2){return console[_0x1e6ec7(0x9a)](_0x3ceca2),{'success':!0x1,'error':_0x3ceca2};}}},te=require('fs'),Qa=T(require(a0_0x5c767c(0x576))),w=T(require(a0_0x5c767c(0x2d5))),Te=require('fs'),$=T(require('path')),ce=T(require('axios')),Ya=require(a0_0x5c767c(0x16f)),Xa=T(require(a0_0x5c767c(0x7e))),Za=T(require(a0_0x5c767c(0x10b))),Hs=[a0_0x5c767c(0x1f7),a0_0x5c767c(0x378),a0_0x5c767c(0x1b1),a0_0x5c767c(0x254),a0_0x5c767c(0x4c7)],Ks=[a0_0x5c767c(0x3c1),'documentWithCaptionMessage',a0_0x5c767c(0x57e),'viewOnceMessageV2'],eo=require('os'),Rt=T(require(a0_0x5c767c(0x10d))),Dt=require(a0_0x5c767c(0x551)),Mt=require('node-mime-types'),we=T(require('mongoose')),O=require(a0_0x5c767c(0x220)),he=class{constructor(_0x2829e8,_0x4d9e07,_0x4b9573){const _0x36f777=a0_0x5c767c;this[_0x36f777(0x2bd)]=_0x2829e8,this[_0x36f777(0x4eb)]=_0x4d9e07,this[_0x36f777(0x259)]=_0x4b9573;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},fe=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require('express')),zs=require('fs'),Qs=require(a0_0x5c767c(0x444));async function qe(_0x4a006a){const _0x517829=a0_0x5c767c;let _0x332fa5=B[_0x517829(0x634)][_0x4a006a];if(G['ENABLED']){let _0x2636e7=M[_0x517829(0x2c1)]()['db'](G[_0x517829(0x156)][_0x517829(0x326)]+'-instances')[_0x517829(0x51e)](_0x4a006a);return _0x332fa5||(await _0x2636e7['find']({})[_0x517829(0x5c1)]())[_0x517829(0x44d)]>0x0;}return _0x332fa5||(0x0,zs['existsSync'])((0x0,Qs['join'])(j,_0x4a006a));}async function rs(_0x6d363f,_0x855bdd,_0x5418ce){const _0x53b1b0=a0_0x5c767c;if(_0x6d363f[_0x53b1b0(0x13d)]['includes'](_0x53b1b0(0x109))||_0x6d363f[_0x53b1b0(0x13d)]['includes']('/instance/fetchInstances')||_0x6d363f['originalUrl'][_0x53b1b0(0x3a7)](_0x53b1b0(0x2cf)))return _0x5418ce();let _0x2005ad=_0x6d363f[_0x53b1b0(0x3c0)];if(!_0x2005ad?.[_0x53b1b0(0x32d)])throw new g('instanceName\x20not\x20provided.');if(!await qe(_0x2005ad[_0x53b1b0(0x32d)]))throw new x('The\x20'+_0x2005ad['instanceName']+_0x53b1b0(0x4c2));_0x5418ce();}async function Ys(_0x11e2f4,_0x593bf8,_0x1a4db7){const _0x4777e9=a0_0x5c767c;if(_0x11e2f4[_0x4777e9(0x13d)][_0x4777e9(0x3a7)]('/instance/create')){let _0x18bc8a=_0x11e2f4[_0x4777e9(0x49f)];if(await qe(_0x18bc8a['instanceName']))throw new oe('This\x20name\x20'+_0x18bc8a['instanceName']+_0x4777e9(0x287));B[_0x4777e9(0x634)][_0x18bc8a['instanceName']]&&delete B[_0x4777e9(0x634)][_0x18bc8a['instanceName']];}_0x1a4db7();}var Xs=require(a0_0x5c767c(0x220)),Zs=T(require(a0_0x5c767c(0x343))),Ge='uazapi',jo=new N(a0_0x5c767c(0x18f));async function Fo(_0xa63dc7,_0x17c7e4,_0xa6f0e9){const _0x3aa9cd=a0_0x5c767c;let _0xcb3739=_0xa63dc7[_0x3aa9cd(0x3a1)]('apikey');if(_0xcb3739&&S[_0x3aa9cd(0x3a1)](_0x3aa9cd(0x23d))[_0x3aa9cd(0x245)][_0x3aa9cd(0x30b)]!==_0xcb3739)throw new re();if(S[_0x3aa9cd(0x3a1)](_0x3aa9cd(0x23d))[_0x3aa9cd(0x245)][_0x3aa9cd(0x30b)]===_0xcb3739)return _0xa6f0e9();if((_0xa63dc7[_0x3aa9cd(0x13d)][_0x3aa9cd(0x3a7)](_0x3aa9cd(0x109))||_0xa63dc7[_0x3aa9cd(0x13d)][_0x3aa9cd(0x3a7)](_0x3aa9cd(0x426)))&&!_0xcb3739)throw new oe(_0x3aa9cd(0x3b0),_0x3aa9cd(0x1a5));let _0x26e333=S[_0x3aa9cd(0x3a1)]('AUTHENTICATION')[_0x3aa9cd(0x466)];try{let [_0x49ad58,_0x5035f8]=_0xa63dc7[_0x3aa9cd(0x3a1)](_0x3aa9cd(0x251))['split']('\x20');if(_0x49ad58[_0x3aa9cd(0xd0)]()!==_0x3aa9cd(0x30d))throw new re();if(!(0x0,Xs[_0x3aa9cd(0x1f2)])(_0x5035f8))throw new re();let _0x415401=_0xa63dc7[_0x3aa9cd(0x3c0)],_0x3aa378=Zs['default'][_0x3aa9cd(0x18d)](_0x5035f8,_0x26e333['SECRET'],{'ignoreExpiration':_0x26e333[_0x3aa9cd(0x43b)]===0x0});if(_0x415401[_0x3aa9cd(0x32d)]!==_0x3aa378[_0x3aa9cd(0x32d)]||Ge!==_0x3aa378[_0x3aa9cd(0x428)])throw new re();return _0xa6f0e9();}catch(_0x5cd355){throw jo['error'](_0x5cd355),new re();}}async function Bo(_0x3c5cb6,_0x45a4a7,_0x15f016){const _0xc37235=a0_0x5c767c;let _0x513f0b=S[_0xc37235(0x3a1)](_0xc37235(0x23d))[_0xc37235(0x245)],_0x211778=_0x3c5cb6['get'](_0xc37235(0x163));if(_0x513f0b[_0xc37235(0x30b)]===_0x211778)return _0x15f016();if(_0x3c5cb6[_0xc37235(0x13d)]['includes']('/instance/create')){let _0x133fb4=S[_0xc37235(0x3a1)](_0xc37235(0x1c1)),_0x4d5178=_0x3c5cb6[_0xc37235(0x49f)][_0xc37235(0x32d)];if(_0x133fb4&&_0x4d5178[_0xc37235(0xd0)]()[_0xc37235(0x20c)](_0x133fb4[_0xc37235(0xd0)]()))return _0x15f016();if(!_0x211778)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x3c5cb6[_0xc37235(0x13d)][_0xc37235(0x3a7)](_0xc37235(0x426))&&!_0x211778)throw new oe(_0xc37235(0x3b0),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x3c5cb6[_0xc37235(0x13d)][_0xc37235(0x3a7)](_0xc37235(0x2cf))&&!_0x211778)throw new oe(_0xc37235(0x3b0),_0xc37235(0x1a5));try{let _0x37dfc9=_0x3c5cb6['params'];if((await le[_0xc37235(0x408)][_0xc37235(0x504)](_0x37dfc9[_0xc37235(0x32d)]))[_0xc37235(0x163)]===_0x211778)return _0x15f016();}catch{}throw new re();}var ea={'jwt':Fo,'apikey':Bo},xa=require(a0_0x5c767c(0x352)),v=require(a0_0x5c767c(0x16f)),E=(..._0x2aacde)=>{const _0x196772=a0_0x5c767c;let _0x2c6093={};return _0x2aacde[_0x196772(0xeb)](_0x53ffee=>_0x2c6093[_0x53ffee]={'minLength':0x1,'description':_0x196772(0x10f)+_0x53ffee+_0x196772(0x1a2)}),{'if':{'propertyNames':{'enum':[..._0x2aacde]}},'then':{'properties':_0x2c6093}};},C={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'instanceName':{'type':a0_0x5c767c(0x5c3)}},...E(a0_0x5c767c(0x32d))},ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x4f9)],...E(a0_0x5c767c(0x4f9))},dn={'properties':{'key':{'type':a0_0x5c767c(0x230),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5c767c(0x5c3)},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c767c(0x18c),a0_0x5c767c(0x20e)],...E('id',a0_0x5c767c(0x18c))},'message':{'type':a0_0x5c767c(0x230)}}},Y={'properties':{'delay':{'type':a0_0x5c767c(0x27e),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x108),a0_0x5c767c(0x522),a0_0x5c767c(0x42b),a0_0x5c767c(0x548),a0_0x5c767c(0x5ed)]}}},X={'type':a0_0x5c767c(0x5c3),'pattern':a0_0x5c767c(0x4a4),'description':a0_0x5c767c(0x2f8)},sa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x5c767c(0x230),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x5c767c(0x217))}},'required':[a0_0x5c767c(0x4df),a0_0x5c767c(0x48d)]},aa={'type':'string','pattern':a0_0x5c767c(0x566),'description':a0_0x5c767c(0x2f8)},pn={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...aa},'options':{...Y},'textMessage':{'type':a0_0x5c767c(0x230),'properties':{'text':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x217)],...E(a0_0x5c767c(0x217))}},'required':['textMessage','number']},gn={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...aa},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x40f),a0_0x5c767c(0x401),'video','audio']},'media':{'type':a0_0x5c767c(0x5c3)},'fileName':{'type':a0_0x5c767c(0x5c3)},'caption':{'type':a0_0x5c767c(0x5c3)}},'required':['mediatype',a0_0x5c767c(0x567)],...E(a0_0x5c767c(0x571),a0_0x5c767c(0x11d),'media')}},'required':[a0_0x5c767c(0x506),a0_0x5c767c(0x48d)]},oa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x5c767c(0x230),'properties':{'image':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x40f)],...E(a0_0x5c767c(0x40f))}},'required':[a0_0x5c767c(0x4c7),a0_0x5c767c(0x48d)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'statusMessage':{'type':a0_0x5c767c(0x230),'properties':{'type':{'type':a0_0x5c767c(0x5c3),'enum':['text',a0_0x5c767c(0x40f),a0_0x5c767c(0x3bd),a0_0x5c767c(0x113)]},'content':{'type':'string'},'caption':{'type':a0_0x5c767c(0x5c3)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x5c767c(0x27e),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x5c3),'pattern':'^\x5cd+','description':a0_0x5c767c(0x552)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type','content'],...E(a0_0x5c767c(0x1cf),a0_0x5c767c(0x5e0))}},'required':[a0_0x5c767c(0x601)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x5c767c(0x230),'properties':{'mediatype':{'type':a0_0x5c767c(0x5c3),'enum':['image',a0_0x5c767c(0x401),a0_0x5c767c(0x113),a0_0x5c767c(0x3bd)]},'media':{'type':'string'},'fileName':{'type':a0_0x5c767c(0x5c3)},'caption':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x53f),'media'],...E(a0_0x5c767c(0x571),a0_0x5c767c(0x11d),a0_0x5c767c(0x567))}},'required':[a0_0x5c767c(0x506),a0_0x5c767c(0x48d)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x5c767c(0x230),'properties':{'audio':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x3bd)],...E(a0_0x5c767c(0x3bd))}},'required':['audioMessage',a0_0x5c767c(0x48d)]},ca={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'pollMessage':{'type':a0_0x5c767c(0x230),'properties':{'name':{'type':a0_0x5c767c(0x5c3)},'selectableCount':{'type':a0_0x5c767c(0x48d)},'values':{'type':a0_0x5c767c(0x393),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x5c767c(0x313),a0_0x5c767c(0x4e7)],...E(a0_0x5c767c(0x259),'selectableCount','values')}},'required':[a0_0x5c767c(0x48d),a0_0x5c767c(0x18e)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x5c767c(0x230),'properties':{'title':{'type':a0_0x5c767c(0x5c3)},'description':{'type':a0_0x5c767c(0x5c3)},'footerText':{'type':a0_0x5c767c(0x5c3)},'buttons':{'type':a0_0x5c767c(0x393),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x230),'properties':{'buttonText':{'type':a0_0x5c767c(0x5c3)},'buttonId':{'type':'string'}},'required':[a0_0x5c767c(0x337),a0_0x5c767c(0x3dc)],...E(a0_0x5c767c(0x337),'buttonId')}},'mediaMessage':{'type':a0_0x5c767c(0x230),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x5c767c(0x5c3)},'mediatype':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x40f),a0_0x5c767c(0x401),a0_0x5c767c(0x113)]}},'required':['media',a0_0x5c767c(0x53f)],...E(a0_0x5c767c(0x567),a0_0x5c767c(0x571))}},'required':[a0_0x5c767c(0x282),a0_0x5c767c(0x330)],...E(a0_0x5c767c(0x282),a0_0x5c767c(0x7b))}},'required':['number',a0_0x5c767c(0x556)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x5c767c(0x48d)},'longitude':{'type':'number'},'name':{'type':a0_0x5c767c(0x5c3)},'address':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x32e),a0_0x5c767c(0x5ff)],...E(a0_0x5c767c(0x259),a0_0x5c767c(0x59b))}},'required':[a0_0x5c767c(0x48d),a0_0x5c767c(0x28e)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0x5c767c(0x230),'properties':{'title':{'type':'string'},'description':{'type':a0_0x5c767c(0x5c3)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x5c767c(0x393),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x230),'properties':{'title':{'type':a0_0x5c767c(0x5c3)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x230),'properties':{'title':{'type':'string'},'description':{'type':'string'},'rowId':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x282),'description','rowId'],...E(a0_0x5c767c(0x282),a0_0x5c767c(0x7b),'rowId')}}},'required':[a0_0x5c767c(0x282),a0_0x5c767c(0x36e)],...E(a0_0x5c767c(0x282))}}},'required':[a0_0x5c767c(0x282),a0_0x5c767c(0x7b),a0_0x5c767c(0x337),a0_0x5c767c(0x64c)],...E(a0_0x5c767c(0x282),a0_0x5c767c(0x7b),a0_0x5c767c(0x337),a0_0x5c767c(0x368))}},'required':[a0_0x5c767c(0x48d),a0_0x5c767c(0x232)]},pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x5c767c(0x230),'properties':{'fullName':{'type':a0_0x5c767c(0x5c3)},'phoneNumber':{'type':a0_0x5c767c(0x5c3),'minLength':0xa}},'required':[a0_0x5c767c(0x1ea),'phoneNumber'],...E(a0_0x5c767c(0x1ea))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5c767c(0x48d),a0_0x5c767c(0x39d)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'reactionMessage':{'type':a0_0x5c767c(0x230),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5c767c(0x5c3)},'remoteJid':{'type':a0_0x5c767c(0x5c3)},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c767c(0x18c),a0_0x5c767c(0x20e)],...E('id',a0_0x5c767c(0x18c))},'reaction':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x40a),a0_0x5c767c(0x34c)],...E(a0_0x5c767c(0x34c))}},'required':['reactionMessage']},ma={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x5c3),'pattern':'^\x5cd+','description':a0_0x5c767c(0x4d8)}}}},ha={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'readMessages':{'type':a0_0x5c767c(0x393),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5c767c(0x5c3)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5c767c(0x5c3)}},'required':['id',a0_0x5c767c(0x20e),a0_0x5c767c(0x18c)],...E('id',a0_0x5c767c(0x18c))}}},'required':[a0_0x5c767c(0x1f1)]},fa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'privacySettings':{'type':a0_0x5c767c(0x230),'properties':{'readreceipts':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x4be),a0_0x5c767c(0x419)]},'profile':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x4be),a0_0x5c767c(0x264),a0_0x5c767c(0x307),a0_0x5c767c(0x419)]},'status':{'type':a0_0x5c767c(0x5c3),'enum':['all',a0_0x5c767c(0x264),a0_0x5c767c(0x307),a0_0x5c767c(0x419)]},'online':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x4be),a0_0x5c767c(0x127)]},'last':{'type':'string','enum':[a0_0x5c767c(0x4be),a0_0x5c767c(0x264),a0_0x5c767c(0x307),'none']},'groupadd':{'type':'string','enum':['all',a0_0x5c767c(0x264),a0_0x5c767c(0x307),'none']}},'required':[a0_0x5c767c(0x353),a0_0x5c767c(0x5bf),'status',a0_0x5c767c(0x493),a0_0x5c767c(0x2a6),'groupadd'],...E(a0_0x5c767c(0x353),a0_0x5c767c(0x5bf),a0_0x5c767c(0x34d),a0_0x5c767c(0x493),a0_0x5c767c(0x2a6),a0_0x5c767c(0x3ca))}},'required':['privacySettings']},wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x5c767c(0x230),'properties':{'key':{'type':a0_0x5c767c(0x230),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c767c(0x20e),'remoteJid'],...E('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x5c767c(0x40a)],...E(a0_0x5c767c(0x645))},'archive':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x5c767c(0x57f)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'id':{'type':a0_0x5c767c(0x5c3)},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x5c767c(0x5c3)}},'required':['id',a0_0x5c767c(0x20e),a0_0x5c767c(0x18c)],...E('id','remoteJid',a0_0x5c767c(0x7f))},ba={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'where':{'type':a0_0x5c767c(0x230),'properties':{'_id':{'type':a0_0x5c767c(0x5c3),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x5c767c(0x5bd),'id',a0_0x5c767c(0xb4))}}},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'name':{'type':a0_0x5c767c(0x5c3)}},...E(a0_0x5c767c(0x259))},Ea={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x5c767c(0x5c3)}},...E(a0_0x5c767c(0x34d))},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':'string'}}},va={'type':a0_0x5c767c(0x230),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x5c767c(0x5c3)},'isBusiness':{'type':a0_0x5c767c(0x180)}}},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'where':{'type':a0_0x5c767c(0x230),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x5c767c(0x20e),a0_0x5c767c(0x18c),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5c767c(0x5c3),'minLength':0x1,'description':a0_0x5c767c(0x560)},'id':{'type':a0_0x5c767c(0x5c3),'minLength':0x1,'description':a0_0x5c767c(0x560)},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5c767c(0x230)}},...E(a0_0x5c767c(0x5bd))},'limit':{'type':a0_0x5c767c(0x27e)}}},mn={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x5c767c(0x5c3)},'fromMe':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5c767c(0x5c3)},'status':{'type':'string','enum':['ERROR',a0_0x5c767c(0x485),a0_0x5c767c(0x29f),a0_0x5c767c(0x183),a0_0x5c767c(0x27a),'PLAYED']}},...E('_id','remoteJid','id',a0_0x5c767c(0x34d))},'limit':{'type':a0_0x5c767c(0x27e)}}},Na={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'number':{...X},'presence':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x108),'available',a0_0x5c767c(0x42b),a0_0x5c767c(0x548),a0_0x5c767c(0x5ed)]}},'required':[a0_0x5c767c(0x4de),a0_0x5c767c(0x48d)]},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x5c767c(0x5c3)},'description':{'type':'string'},'profilePicture':{'type':a0_0x5c767c(0x5c3)},'participants':{'type':a0_0x5c767c(0x393),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x5c767c(0x400),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x5c767c(0x4a1)],...E(a0_0x5c767c(0x4d4),a0_0x5c767c(0x7b),a0_0x5c767c(0x2aa))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'groupJid':{'type':a0_0x5c767c(0x5c3),'pattern':a0_0x5c767c(0x47f)}},'required':['groupJid'],...E(a0_0x5c767c(0x4f2))},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5c767c(0x5c3)},'action':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x406),'remove',a0_0x5c767c(0xd3),a0_0x5c767c(0x382)]},'participants':{'type':a0_0x5c767c(0x393),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c767c(0x5c3),'minLength':0xa,'pattern':a0_0x5c767c(0x400),'description':a0_0x5c767c(0x261)}}},'required':['groupJid',a0_0x5c767c(0x399),'participants'],...E(a0_0x5c767c(0x4f2),a0_0x5c767c(0x399))},Ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5c767c(0x5c3)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5c767c(0x4f2),a0_0x5c767c(0x4a2)],...E(a0_0x5c767c(0x4f2),'expiration')},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'groupJid':{'type':a0_0x5c767c(0x5c3)},'image':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x4f2),a0_0x5c767c(0x40f)],...E('groupJid',a0_0x5c767c(0x40f))},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'groupJid':{'type':a0_0x5c767c(0x5c3)},'description':{'type':a0_0x5c767c(0x5c3)}},'required':['groupJid',a0_0x5c767c(0x7b)],...E(a0_0x5c767c(0x4f2),'description')},Da={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5c767c(0x5c3)}},'required':[a0_0x5c767c(0x4f2),'name'],...E(a0_0x5c767c(0x4f2),a0_0x5c767c(0x259))},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5c767c(0x5c3)},'setting':{'type':a0_0x5c767c(0x5c3),'enum':[a0_0x5c767c(0x2c7),a0_0x5c767c(0x38a),a0_0x5c767c(0xb9),a0_0x5c767c(0x36c)]}},'required':[a0_0x5c767c(0x4f2),a0_0x5c767c(0x398)],...E(a0_0x5c767c(0x4f2),a0_0x5c767c(0x398))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x5c767c(0x584)],...E(a0_0x5c767c(0x584))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'url':{'type':a0_0x5c767c(0x5c3)},'enabled':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':[a0_0x5c767c(0x367),a0_0x5c767c(0x90)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x5c767c(0x230),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5c767c(0x180),'enum':[!0x0,!0x1]}},'required':[a0_0x5c767c(0x59a),a0_0x5c767c(0x5c4),a0_0x5c767c(0x31b),'MESSAGES_SET',a0_0x5c767c(0xb2),a0_0x5c767c(0x4dd),a0_0x5c767c(0x300),'CONTACTS_SET',a0_0x5c767c(0x482),'CONTACTS_UPDATE',a0_0x5c767c(0xa6),a0_0x5c767c(0x17d),a0_0x5c767c(0x62b),a0_0x5c767c(0x582),a0_0x5c767c(0x137),a0_0x5c767c(0x2de),a0_0x5c767c(0x27c),a0_0x5c767c(0x4c1),a0_0x5c767c(0x3e2)],...E(a0_0x5c767c(0x59a),a0_0x5c767c(0x5c4),a0_0x5c767c(0x31b),'MESSAGES_SET',a0_0x5c767c(0xb2),a0_0x5c767c(0x4dd),a0_0x5c767c(0x300),a0_0x5c767c(0x543),'CONTACTS_UPSERT',a0_0x5c767c(0x383),a0_0x5c767c(0xa6),'CHATS_SET','CHATS_UPSERT',a0_0x5c767c(0x582),a0_0x5c767c(0x137),'CONNECTION_UPDATE',a0_0x5c767c(0x27c),a0_0x5c767c(0x4c1),a0_0x5c767c(0x3e2))},Je=class{},We=class extends W{constructor(_0x2f17e3){const _0x477000=a0_0x5c767c;super(_0x2f17e3),this[_0x477000(0x366)]=_0x2f17e3;}[a0_0x5c767c(0x286)](_0x10d776){return xs(_0x10d776);}async[a0_0x5c767c(0x637)](_0xa3f7af){const _0x36af3e=a0_0x5c767c;if(_0xa3f7af['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0xa3f7af[0x0][_0x36af3e(0x57d)])['insertMany']([..._0xa3f7af]))[_0x36af3e(0x44d)]};}catch(_0x56c2d9){return _0x56c2d9;}}async['delete'](_0x5d2c29){const _0x42f934=a0_0x5c767c;try{return{'deletedCount':(await this[_0x42f934(0x286)](_0x5d2c29[_0x42f934(0x82)]['owner'])['deleteMany']({..._0x5d2c29[_0x42f934(0x82)]}))[_0x42f934(0x4b3)]};}catch(_0x5281b7){return{'error':_0x5281b7?.[_0x42f934(0x2d6)]()};}}async[a0_0x5c767c(0x3f4)](_0x131b26,_0x453096){const _0x54cd47=a0_0x5c767c;try{if(_0x131b26['length']===0x0)return;let _0x208c85=this[_0x54cd47(0x286)](_0x453096),_0x5f44ee=_0x131b26[_0x54cd47(0x3a6)](_0x5bb15d=>({'updateOne':{'filter':{'_id':_0x5bb15d[_0x54cd47(0x5bd)],'owner':_0x453096},'update':{..._0x5bb15d}}})),{modifiedCount:_0x3da54a}=await _0x208c85[_0x54cd47(0x2ee)](_0x5f44ee);return{'insertCount':_0x3da54a};}catch{return;}}async[a0_0x5c767c(0x504)](_0x5f4e6c){const _0x57bfd0=a0_0x5c767c;try{return await this[_0x57bfd0(0x286)](_0x5f4e6c[_0x57bfd0(0x82)][_0x57bfd0(0x57d)])[_0x57bfd0(0x504)]({..._0x5f4e6c['where']})[_0x57bfd0(0xf0)](_0x5f4e6c?.[_0x57bfd0(0xf0)]??0x0)[_0x57bfd0(0x4dc)]();}catch{return[];}}async[a0_0x5c767c(0x20d)](_0x2bcea9){const _0x55d353=a0_0x5c767c;try{return await this[_0x55d353(0x286)](_0x2bcea9[_0x55d353(0x82)]['owner'])[_0x55d353(0x20d)]({..._0x2bcea9[_0x55d353(0x82)]})[_0x55d353(0x4dc)]();}catch{return null;}}async['deleteAll'](_0x451485){const _0x3f7fb5=a0_0x5c767c;try{return await this[_0x3f7fb5(0x286)](_0x451485)[_0x3f7fb5(0x51e)][_0x3f7fb5(0x11f)](),{'success':!0x0};}catch(_0x5cd6bb){return console[_0x3f7fb5(0x9a)](_0x5cd6bb),{'success':!0x1,'error':_0x5cd6bb};}}},He=require(a0_0x5c767c(0x111)),Cn=require(a0_0x5c767c(0xed)),is=new N(a0_0x5c767c(0x6b)),k=class{constructor(){}[a0_0x5c767c(0x63c)](_0x20873b,_0x39b6f6=!0x0){const _0x4ff1d2=a0_0x5c767c;let _0x253d05='/'+_0x20873b;return _0x39b6f6&&(_0x253d05+=_0x4ff1d2(0xb1)),_0x253d05;}async[a0_0x5c767c(0x2cc)](_0x229520){const _0x597850=a0_0x5c767c;let {request:_0x2c49d7,schema:_0x2023e7,ClassRef:_0x42c104,execute:_0x5b3c8e}=_0x229520,_0x50cf48=new _0x42c104(),_0x11d530=_0x2c49d7['body'],_0x4c3a98=_0x2c49d7[_0x597850(0x3c0)];_0x2c49d7?.[_0x597850(0x20a)]&&Object[_0x597850(0x363)](_0x2c49d7[_0x597850(0x20a)])['length']>0x0&&Object[_0x597850(0x15a)](_0x4c3a98,_0x2c49d7['query']),_0x2c49d7[_0x597850(0x13d)][_0x597850(0x3a7)](_0x597850(0x109))&&Object['assign'](_0x4c3a98,_0x11d530),Object[_0x597850(0x15a)](_0x50cf48,_0x11d530);let _0x3d7423=_0x2023e7?(0x0,He['validate'])(_0x50cf48,_0x2023e7):{'valid':!0x0,'errors':[]};if(!_0x3d7423[_0x597850(0x22e)]){let _0x3c2306=_0x3d7423[_0x597850(0x332)][_0x597850(0x3a6)](({property:_0x457fc1,stack:_0x1d557d,schema:_0x3b6b27})=>{const _0x4a9b7a=_0x597850;let _0x1d9d92;return _0x3b6b27[_0x4a9b7a(0x7b)]?_0x1d9d92=_0x3b6b27[_0x4a9b7a(0x7b)]:_0x1d9d92=_0x1d557d[_0x4a9b7a(0x8d)](_0x4a9b7a(0x55a),''),{'property':_0x457fc1[_0x4a9b7a(0x8d)](_0x4a9b7a(0x55a),''),'message':_0x1d9d92};});throw is[_0x597850(0x9a)]([..._0x3c2306]),new g(..._0x3c2306);}return await _0x5b3c8e(_0x4c3a98,_0x50cf48);}async[a0_0x5c767c(0x354)](_0xd1908a){const _0x46e6e4=a0_0x5c767c;let {request:_0x45599c,ClassRef:_0xce699,schema:_0x224735,execute:_0x3f24bb}=_0xd1908a,_0x124d73=_0x45599c[_0x46e6e4(0x20a)];if(!_0x124d73?.[_0x46e6e4(0x4f2)])throw new g(_0x46e6e4(0x265),_0x46e6e4(0xe9));let _0x290a00=_0x45599c['params'],_0x1ae048=_0x45599c[_0x46e6e4(0x49f)],_0x295402=new _0xce699();Object[_0x46e6e4(0x15a)](_0x1ae048,_0x124d73),Object['assign'](_0x295402,_0x1ae048);let _0x3338ef=(0x0,He[_0x46e6e4(0x4b6)])(_0x295402,_0x224735);if(!_0x3338ef[_0x46e6e4(0x22e)]){let _0x19f3c7=_0x3338ef['errors'][_0x46e6e4(0x3a6)](({property:_0x245d58,stack:_0x1699a2,schema:_0x47380e})=>{const _0x3e753c=_0x46e6e4;let _0x2bb461;return _0x47380e[_0x3e753c(0x7b)]?_0x2bb461=_0x47380e['description']:_0x2bb461=_0x1699a2[_0x3e753c(0x8d)]('instance.',''),{'property':_0x245d58[_0x3e753c(0x8d)](_0x3e753c(0x55a),''),'message':_0x2bb461};});throw is['error']([..._0x19f3c7]),new g(..._0x19f3c7);}return await _0x3f24bb(_0x290a00,_0x295402);}async[a0_0x5c767c(0x3d4)](_0x16efd1){const _0xd6abce=a0_0x5c767c;let {request:_0x367ba4,ClassRef:_0x424919,schema:_0x40443e,execute:_0x37a5d0}=_0x16efd1,_0x2dd50b=_0x367ba4[_0xd6abce(0x49f)];if(!_0x2dd50b?.[_0xd6abce(0x584)])throw new g(_0xd6abce(0x139),_0xd6abce(0x5e9));let _0x2a659f=_0x367ba4[_0xd6abce(0x3c0)],_0x3367a5=_0x367ba4[_0xd6abce(0x49f)],_0x2b8aa8=new _0x424919();Object[_0xd6abce(0x15a)](_0x3367a5,_0x2dd50b),Object[_0xd6abce(0x15a)](_0x2b8aa8,_0x3367a5);let _0x4c0f60=(0x0,He[_0xd6abce(0x4b6)])(_0x2b8aa8,_0x40443e);if(!_0x4c0f60[_0xd6abce(0x22e)]){let _0xf1cd94=_0x4c0f60[_0xd6abce(0x332)]['map'](({property:_0xd39b14,stack:_0x27735e,schema:_0x161d8c})=>{const _0x4a9b05=_0xd6abce;let _0x290b0b;return _0x161d8c[_0x4a9b05(0x7b)]?_0x290b0b=_0x161d8c[_0x4a9b05(0x7b)]:_0x290b0b=_0x27735e[_0x4a9b05(0x8d)]('instance.',''),{'property':_0xd39b14[_0x4a9b05(0x8d)](_0x4a9b05(0x55a),''),'message':_0x290b0b};});throw is['error']([..._0xf1cd94]),new g(..._0xf1cd94);}return await _0x37a5d0(_0x2a659f,_0x2b8aa8);}},b=class{},Ke=class extends k{constructor(..._0x15e26b){const _0x51f8f4=a0_0x5c767c;super(),this[_0x51f8f4(0x1d9)]=(0x0,xa[_0x51f8f4(0x452)])(),this[_0x51f8f4(0x1d9)][_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)]('updatePresence'),..._0x15e26b,async(_0x242955,_0x3a20d9)=>{const _0xa213eb=_0x51f8f4;let _0x4953cb=await this['dataValidate']({'request':_0x242955,'schema':Na,'ClassRef':$e,'execute':(_0xae7131,_0x21c436)=>D['updatePresence'](_0xae7131,_0x21c436)});return _0x3a20d9[_0xa213eb(0x34d)](0xc9)[_0xa213eb(0x176)](_0x4953cb);})[_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x60a)),..._0x15e26b,async(_0x3d58e9,_0x127a87)=>{const _0x35b4be=_0x51f8f4;let _0x1add96=await this[_0x35b4be(0x2cc)]({'request':_0x3d58e9,'schema':ma,'ClassRef':ke,'execute':(_0x290f92,_0x565f60)=>D[_0x35b4be(0x3d6)](_0x290f92,_0x565f60)});return _0x127a87[_0x35b4be(0x34d)](0xc9)[_0x35b4be(0x176)](_0x1add96);})['post'](this[_0x51f8f4(0x63c)]('editChat'),..._0x15e26b,async(_0x27f648,_0x540a25)=>{const _0x30b865=_0x51f8f4;let _0x58d0b1=await this[_0x30b865(0x2cc)]({'request':_0x27f648,'schema':C,'ClassRef':b,'execute':(_0x3bf50a,_0x12c655)=>D[_0x30b865(0x607)](_0x3bf50a,_0x12c655)});return _0x540a25['status'](0xc9)[_0x30b865(0x176)](_0x58d0b1);})[_0x51f8f4(0x50f)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x86)),..._0x15e26b,async(_0x4da072,_0x55e581)=>{const _0x1c71f7=_0x51f8f4;let _0xb0f1b9=await this[_0x1c71f7(0x2cc)]({'request':_0x4da072,'schema':ha,'ClassRef':Ve,'execute':(_0x18ae53,_0x1cccb3)=>D['readMessage'](_0x18ae53,_0x1cccb3)});return _0x55e581[_0x1c71f7(0x34d)](0xc9)['json'](_0xb0f1b9);})[_0x51f8f4(0x50f)](this['routerPath']('archiveChat'),..._0x15e26b,async(_0x26d71a,_0x12838b)=>{const _0x437bc7=_0x51f8f4;let _0x4afd54=await this[_0x437bc7(0x2cc)]({'request':_0x26d71a,'schema':wa,'ClassRef':je,'execute':(_0x30152f,_0x38ab9f)=>D[_0x437bc7(0x55e)](_0x30152f,_0x38ab9f)});return _0x12838b['status'](0xc9)[_0x437bc7(0x176)](_0x4afd54);})[_0x51f8f4(0x1b6)](this['routerPath'](_0x51f8f4(0x50e)),..._0x15e26b,async(_0x2ad63d,_0x311dcc)=>{const _0x7edef7=_0x51f8f4;let _0x45583f=await this[_0x7edef7(0x2cc)]({'request':_0x2ad63d,'schema':ya,'ClassRef':Be,'execute':(_0x5e8ced,_0x261bc8)=>D[_0x7edef7(0x4d7)](_0x5e8ced,_0x261bc8)});return _0x311dcc[_0x7edef7(0x34d)](0xc9)['json'](_0x45583f);})[_0x51f8f4(0x1e9)](this['routerPath'](_0x51f8f4(0x436)),..._0x15e26b,async(_0x2220e1,_0x28a0e6)=>{const _0x5a3602=_0x51f8f4;let _0x4f6a5e=await this[_0x5a3602(0x2cc)]({'request':_0x2220e1,'schema':Ee,'ClassRef':Se,'execute':(_0x197f06,_0x5154f0)=>D[_0x5a3602(0x3f1)](_0x197f06,_0x5154f0)});return _0x28a0e6[_0x5a3602(0x34d)](0xc8)[_0x5a3602(0x176)](_0x4f6a5e);})[_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x4b4)),..._0x15e26b,async(_0x492966,_0x546c56)=>{const _0x1749da=_0x51f8f4;let _0x54a812=await this[_0x1749da(0x2cc)]({'request':_0x492966,'schema':va,'ClassRef':Se,'execute':(_0x43e6ce,_0x3b9620)=>D[_0x1749da(0x4b4)](_0x43e6ce,_0x3b9620)});return _0x546c56['status'](0xc8)['json'](_0x54a812);})['post'](this['routerPath'](_0x51f8f4(0x385)),..._0x15e26b,async(_0x55f89e,_0x2380a7)=>{const _0x1b2dea=_0x51f8f4;let _0x3bd77e=await this[_0x1b2dea(0x2cc)]({'request':_0x55f89e,'schema':ba,'ClassRef':Je,'execute':(_0x24afeb,_0x41c52b)=>D[_0x1b2dea(0x3b1)](_0x24afeb,_0x41c52b)});return _0x2380a7['status'](0xc8)['json'](_0x3bd77e);})['post'](this[_0x51f8f4(0x63c)](_0x51f8f4(0x4b2)),..._0x15e26b,async(_0x5e1a2e,_0x114566)=>{const _0x5caa8b=_0x51f8f4;let _0x2d05fd=await this[_0x5caa8b(0x2cc)]({'request':_0x5e1a2e,'schema':null,'ClassRef':Object,'execute':(_0x6df6a1,_0x25acc1)=>D['getBase64FromMediaMessage'](_0x6df6a1,_0x25acc1)});return _0x114566['status'](0xc9)['json'](_0x2d05fd);})[_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x3ac)),..._0x15e26b,async(_0x13458d,_0x323841)=>{let _0x3359cb=await this['dataValidate']({'request':_0x13458d,'schema':Ca,'ClassRef':Pe,'execute':(_0xab1c3f,_0x580fee)=>D['fetchMessages'](_0xab1c3f,_0x580fee)});return _0x323841['status'](0xc8)['json'](_0x3359cb);})[_0x51f8f4(0x3a1)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x536)),..._0x15e26b,async(_0x475da5,_0xe1d686)=>{const _0x5e5df3=_0x51f8f4;let _0x49a913=await this[_0x5e5df3(0x2cc)]({'request':_0x475da5,'schema':null,'ClassRef':b,'execute':_0x4621ac=>D[_0x5e5df3(0xc5)](_0x4621ac)});return _0xe1d686[_0x5e5df3(0x34d)](0xc8)['json'](_0x49a913);})[_0x51f8f4(0x3a1)](this['routerPath'](_0x51f8f4(0xe5)),..._0x15e26b,async(_0x2b4d95,_0x427d68)=>{const _0x1c2065=_0x51f8f4;let _0x255391=await this[_0x1c2065(0x2cc)]({'request':_0x2b4d95,'schema':null,'ClassRef':b,'execute':_0x37e7dc=>D[_0x1c2065(0xe5)](_0x37e7dc)});return _0x427d68[_0x1c2065(0x34d)](0xc8)[_0x1c2065(0x176)](_0x255391);})[_0x51f8f4(0x50f)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x5f2)),..._0x15e26b,async(_0x5a7272,_0x5064ec)=>{const _0xdaa242=_0x51f8f4;let _0x5def2f=await this[_0xdaa242(0x2cc)]({'request':_0x5a7272,'schema':fa,'ClassRef':Fe,'execute':(_0x6c302,_0x2a0f4d)=>D[_0xdaa242(0x5f2)](_0x6c302,_0x2a0f4d)});return _0x5064ec[_0xdaa242(0x34d)](0xc9)['json'](_0x5def2f);})[_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x3ba)),..._0x15e26b,async(_0x523b60,_0x11d50a)=>{const _0x1c1bbf=_0x51f8f4;let _0x5e2ba1=await this[_0x1c1bbf(0x2cc)]({'request':_0x523b60,'schema':Ee,'ClassRef':fe,'execute':(_0x285924,_0x126359)=>D[_0x1c1bbf(0x3ba)](_0x285924,_0x126359)});return _0x11d50a[_0x1c1bbf(0x34d)](0xc8)['json'](_0x5e2ba1);})[_0x51f8f4(0x1e9)](this[_0x51f8f4(0x63c)](_0x51f8f4(0x122)),..._0x15e26b,async(_0x50127c,_0x30faea)=>{const _0x3c9422=_0x51f8f4;let _0x109ead=await this[_0x3c9422(0x2cc)]({'request':_0x50127c,'schema':Sa,'ClassRef':Le,'execute':(_0xbc3fa5,_0x377d9d)=>D[_0x3c9422(0x122)](_0xbc3fa5,_0x377d9d)});return _0x30faea['status'](0xc8)[_0x3c9422(0x176)](_0x109ead);})['post'](this[_0x51f8f4(0x63c)](_0x51f8f4(0xc6)),..._0x15e26b,async(_0x1a21af,_0x2a2c1d)=>{const _0x383fce=_0x51f8f4;let _0x34d538=await this['dataValidate']({'request':_0x1a21af,'schema':Ea,'ClassRef':Ue,'execute':(_0x43812e,_0x178080)=>D[_0x383fce(0xc6)](_0x43812e,_0x178080)});return _0x2a2c1d[_0x383fce(0x34d)](0xc8)[_0x383fce(0x176)](_0x34d538);})['put'](this['routerPath'](_0x51f8f4(0x62c)),..._0x15e26b,async(_0x62a60d,_0x1ada89)=>{const _0xa2347d=_0x51f8f4;let _0x12d411=await this['dataValidate']({'request':_0x62a60d,'schema':Ee,'ClassRef':fe,'execute':(_0x479324,_0x2fb52c)=>D[_0xa2347d(0x62c)](_0x479324,_0x2fb52c)});return _0x1ada89[_0xa2347d(0x34d)](0xc8)[_0xa2347d(0x176)](_0x12d411);})[_0x51f8f4(0x1b6)](this['routerPath'](_0x51f8f4(0x1c4)),..._0x15e26b,async(_0x5f5202,_0x231ce8)=>{const _0x44d64a=_0x51f8f4;let _0x2ed5c8=await this[_0x44d64a(0x2cc)]({'request':_0x5f5202,'schema':Ee,'ClassRef':fe,'execute':(_0x2411d8,_0x1a8ab9)=>D[_0x44d64a(0x1c4)](_0x2411d8,_0x1a8ab9)});return _0x231ce8[_0x44d64a(0x34d)](0xc8)[_0x44d64a(0x176)](_0x2ed5c8);});}},$a=require(a0_0x5c767c(0x352)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x321ff6){const _0x4a609d=a0_0x5c767c;super(),this['router']=(0x0,$a[_0x4a609d(0x452)])(),this[_0x4a609d(0x1d9)]['post'](this[_0x4a609d(0x63c)](_0x4a609d(0x1ab)),..._0x321ff6,async(_0x2565c2,_0x49033a)=>{const _0x50093c=_0x4a609d;let _0x3b2dcd=await this[_0x50093c(0x2cc)]({'request':_0x2565c2,'schema':Ta,'ClassRef':ze,'execute':(_0x39ae88,_0x197f2e)=>U[_0x50093c(0x2ec)](_0x39ae88,_0x197f2e)});_0x49033a['status'](0xc9)[_0x50093c(0x176)](_0x3b2dcd);})['put'](this[_0x4a609d(0x63c)](_0x4a609d(0x53d)),..._0x321ff6,async(_0x4c178d,_0x49535c)=>{const _0x1ce74c=_0x4a609d;let _0x1f569a=await this['groupValidate']({'request':_0x4c178d,'schema':Aa,'ClassRef':Qe,'execute':(_0x12d1d4,_0x6e8b24)=>U[_0x1ce74c(0x53d)](_0x12d1d4,_0x6e8b24)});_0x49535c['status'](0xc9)[_0x1ce74c(0x176)](_0x1f569a);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)]('groupDesc'),..._0x321ff6,async(_0x596678,_0x40c5c6)=>{const _0x313f90=_0x4a609d;let _0x126a4c=await this['groupValidate']({'request':_0x596678,'schema':Ia,'ClassRef':Ye,'execute':(_0x34a4d2,_0x45ac76)=>U[_0x313f90(0x221)](_0x34a4d2,_0x45ac76)});_0x40c5c6['status'](0xc9)[_0x313f90(0x176)](_0x126a4c);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)]('groupName'),..._0x321ff6,async(_0x445d56,_0x11c6ff)=>{const _0x2f4017=_0x4a609d;let _0x1e1eff=await this[_0x2f4017(0x354)]({'request':_0x445d56,'schema':Da,'ClassRef':Xe,'execute':(_0x2d1fd9,_0x34d867)=>U[_0x2f4017(0x471)](_0x2d1fd9,_0x34d867)});_0x11c6ff[_0x2f4017(0x34d)](0xc9)[_0x2f4017(0x176)](_0x1e1eff);})[_0x4a609d(0x50f)](this['routerPath'](_0x4a609d(0x594)),..._0x321ff6,async(_0x4854e5,_0x491f57)=>{const _0x51d944=_0x4a609d;let _0x431a72=await this[_0x51d944(0x354)]({'request':_0x4854e5,'schema':_a,'ClassRef':Ze,'execute':(_0x25a089,_0x7e261f)=>U[_0x51d944(0x594)](_0x25a089,_0x7e261f)});_0x491f57[_0x51d944(0x34d)](0xc9)[_0x51d944(0x176)](_0x431a72);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)]('toggleEphemeral'),..._0x321ff6,async(_0x1a24f4,_0x3f8eec)=>{const _0x5b5a65=_0x4a609d;let _0x55d121=await this[_0x5b5a65(0x354)]({'request':_0x1a24f4,'schema':Ma,'ClassRef':st,'execute':(_0x11f3b2,_0x2f6442)=>U['toggleEphemeral'](_0x11f3b2,_0x2f6442)});_0x3f8eec[_0x5b5a65(0x34d)](0xc9)['json'](_0x55d121);})[_0x4a609d(0x3a1)](this[_0x4a609d(0x63c)]('findGroupInfos'),..._0x321ff6,async(_0x1fa972,_0x38897b)=>{const _0x472d45=_0x4a609d;let _0x164b56=await this[_0x472d45(0x354)]({'request':_0x1fa972,'schema':ve,'ClassRef':Z,'execute':(_0x493016,_0x42c849)=>U[_0x472d45(0x1b8)](_0x493016,_0x42c849)});_0x38897b[_0x472d45(0x34d)](0xc8)['json'](_0x164b56);})[_0x4a609d(0x3a1)](this[_0x4a609d(0x63c)](_0x4a609d(0x45b)),..._0x321ff6,async(_0x48f717,_0x5cdb36)=>{const _0x47e744=_0x4a609d;let _0xf2f4f7=await this[_0x47e744(0x2cc)]({'request':_0x48f717,'schema':C,'ClassRef':b,'execute':_0x190bb1=>U[_0x47e744(0x45b)](_0x190bb1)});_0x5cdb36['status'](0xc8)[_0x47e744(0x176)](_0xf2f4f7);})['get'](this[_0x4a609d(0x63c)]('participants'),..._0x321ff6,async(_0x1376fb,_0x17ad7e)=>{const _0x4afdbf=_0x4a609d;let _0x2e827c=await this[_0x4afdbf(0x354)]({'request':_0x1376fb,'schema':ve,'ClassRef':Z,'execute':(_0x3bb2fd,_0x15f380)=>U['findParticipants'](_0x3bb2fd,_0x15f380)});_0x17ad7e[_0x4afdbf(0x34d)](0xc8)[_0x4afdbf(0x176)](_0x2e827c);})[_0x4a609d(0x3a1)](this[_0x4a609d(0x63c)](_0x4a609d(0x584)),..._0x321ff6,async(_0x1fdb45,_0xea40ed)=>{const _0x9bc5fc=_0x4a609d;let _0x90ac7b=await this[_0x9bc5fc(0x354)]({'request':_0x1fdb45,'schema':ve,'ClassRef':Z,'execute':(_0x477927,_0x5b459a)=>U['inviteCode'](_0x477927,_0x5b459a)});_0xea40ed[_0x9bc5fc(0x34d)](0xc8)[_0x9bc5fc(0x176)](_0x90ac7b);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)](_0x4a609d(0x1b5)),..._0x321ff6,async(_0x2a8387,_0x48aff7)=>{const _0x7d47c7=_0x4a609d;let _0x141b69=await this['joinGroupValidate']({'request':_0x2a8387,'schema':Oa,'ClassRef':et,'execute':(_0x2b8b2b,_0x5f54f4)=>U[_0x7d47c7(0x1b5)](_0x2b8b2b,_0x5f54f4)});_0x48aff7[_0x7d47c7(0x34d)](0xc9)[_0x7d47c7(0x176)](_0x141b69);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)]('revokeInviteCode'),..._0x321ff6,async(_0x19b3fe,_0x2270aa)=>{const _0x36ae57=_0x4a609d;let _0x11034d=await this['groupValidate']({'request':_0x19b3fe,'schema':ve,'ClassRef':Z,'execute':(_0x5a13e6,_0x47aaf1)=>U[_0x36ae57(0x54b)](_0x5a13e6,_0x47aaf1)});_0x2270aa[_0x36ae57(0x34d)](0xc9)[_0x36ae57(0x176)](_0x11034d);})[_0x4a609d(0x50f)](this[_0x4a609d(0x63c)]('updateParticipant'),..._0x321ff6,async(_0x3fb317,_0x548349)=>{const _0x5b2966=_0x4a609d;let _0x44a4d9=await this[_0x5b2966(0x354)]({'request':_0x3fb317,'schema':Ra,'ClassRef':tt,'execute':(_0x5cbe5e,_0x4940cb)=>U[_0x5b2966(0x53a)](_0x5cbe5e,_0x4940cb)});_0x548349['status'](0xc9)[_0x5b2966(0x176)](_0x44a4d9);})[_0x4a609d(0x1b6)](this[_0x4a609d(0x63c)]('leaveGroup'),..._0x321ff6,async(_0x5a06c6,_0x209338)=>{const _0x1d5459=_0x4a609d;let _0x392642=await this[_0x1d5459(0x354)]({'request':_0x5a06c6,'schema':{},'ClassRef':Z,'execute':(_0x38feef,_0x14ef97)=>U[_0x1d5459(0x511)](_0x38feef,_0x14ef97)});_0x209338[_0x1d5459(0x34d)](0xc8)[_0x1d5459(0x176)](_0x392642);});}},Ua=require('express'),Ce=require(a0_0x5c767c(0x343)),ns=require(a0_0x5c767c(0x16f)),ka=require(a0_0x5c767c(0x220)),La=T(require(a0_0x5c767c(0x416))),ot=class{},rt=class c{constructor(_0x5746ab,_0x1e38b3,_0x9dcc3a){const _0x508aef=a0_0x5c767c;this['configService']=_0x5746ab,this['waMonitor']=_0x1e38b3,this['repository']=_0x9dcc3a,this[_0x508aef(0x448)]=new N(c['name']);}async['jwt'](_0xeb052e){const _0x1094b5=a0_0x5c767c;let _0x2dfd78=this['configService'][_0x1094b5(0x3a1)](_0x1094b5(0x23d))[_0x1094b5(0x466)],_0x312a78=(0x0,Ce[_0x1094b5(0x67)])({'instanceName':_0xeb052e[_0x1094b5(0x32d)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x2dfd78[_0x1094b5(0x615)],{'expiresIn':_0x2dfd78[_0x1094b5(0x43b)],'encoding':_0x1094b5(0x595),'subject':_0x1094b5(0x4ae)}),_0x8c1a36=await this['repository']['auth'][_0x1094b5(0x1ab)]({'jwt':_0x312a78},_0xeb052e[_0x1094b5(0x32d)]);if(_0x8c1a36[_0x1094b5(0x9a)])throw this[_0x1094b5(0x448)][_0x1094b5(0x9a)]({'localError':c['name']+_0x1094b5(0x1e8),'error':_0x8c1a36[_0x1094b5(0x9a)]}),new g(_0x1094b5(0x528),_0x8c1a36[_0x1094b5(0x9a)]?.[_0x1094b5(0x2d6)]());return{'jwt':_0x312a78};}async[a0_0x5c767c(0x163)](_0x25f0ca){const _0x679511=a0_0x5c767c;let _0x463c40=(0x0,ns['v4'])()[_0x679511(0x3a8)](),_0x54c2ae=await this[_0x679511(0x231)]['auth'][_0x679511(0x1ab)]({'apikey':_0x463c40},_0x25f0ca['instanceName']);if(_0x54c2ae[_0x679511(0x9a)])throw this[_0x679511(0x448)]['error']({'localError':c[_0x679511(0x259)]+'.jwt','error':_0x54c2ae[_0x679511(0x9a)]}),new g('Authentication\x20error',_0x54c2ae[_0x679511(0x9a)]?.[_0x679511(0x2d6)]());return{'apikey':_0x463c40};}async[a0_0x5c767c(0x4e0)](_0xfd7594){const _0x114a8e=a0_0x5c767c;let _0x54a906=this[_0x114a8e(0x366)][_0x114a8e(0x3a1)](_0x114a8e(0x23d));return await this[_0x54a906[_0x114a8e(0x58c)]](_0xfd7594);}async[a0_0x5c767c(0x633)]({oldToken:_0x418389}){const _0x4d2f11=a0_0x5c767c;if(!(0x0,ka[_0x4d2f11(0x1f2)])(_0x418389))throw new g(_0x4d2f11(0x148));try{let _0x310dd8=this[_0x4d2f11(0x366)]['get'](_0x4d2f11(0x23d))[_0x4d2f11(0x466)],_0x20057f=(0x0,Ce['verify'])(_0x418389,_0x310dd8[_0x4d2f11(0x615)],{'ignoreExpiration':!0x0}),_0x109b47=await this[_0x4d2f11(0x231)][_0x4d2f11(0x408)][_0x4d2f11(0x504)](_0x20057f[_0x4d2f11(0x32d)]),_0x1be81f=(0x0,Ce[_0x4d2f11(0x18d)])(_0x109b47['jwt'],_0x310dd8[_0x4d2f11(0x615)],{'ignoreExpiration':!0x0});if(_0x20057f[_0x4d2f11(0x472)]!==_0x1be81f[_0x4d2f11(0x472)])throw new g(_0x4d2f11(0x148));let _0x55b6e0={'jwt':(await this['jwt']({'instanceName':_0x20057f[_0x4d2f11(0x32d)]}))[_0x4d2f11(0x2e1)],'instanceName':_0x20057f[_0x4d2f11(0x32d)]};try{let _0x80f790=await this[_0x4d2f11(0x231)][_0x4d2f11(0x3dd)]['find'](_0x20057f[_0x4d2f11(0x32d)]);_0x80f790?.['enabled']&&this[_0x4d2f11(0x366)][_0x4d2f11(0x3a1)](_0x4d2f11(0x34f))[_0x4d2f11(0xe1)][_0x4d2f11(0xc8)]&&await La[_0x4d2f11(0x6c)][_0x4d2f11(0x1ab)]({'baseURL':_0x80f790[_0x4d2f11(0x367)]})[_0x4d2f11(0x1e9)]('',{'event':_0x4d2f11(0x8b),'instance':_0x20057f[_0x4d2f11(0x32d)],'data':_0x55b6e0},{'params':{'owner':this[_0x4d2f11(0x4bc)]['waInstances'][_0x20057f[_0x4d2f11(0x32d)]][_0x4d2f11(0x336)]}});}catch(_0x306308){this[_0x4d2f11(0x448)][_0x4d2f11(0x9a)](_0x306308);}return _0x55b6e0;}catch(_0x23cadc){throw this[_0x4d2f11(0x448)]['error']({'localError':c[_0x4d2f11(0x259)]+_0x4d2f11(0x464),'error':_0x23cadc}),new g(_0x4d2f11(0x148));}}},it=class extends k{constructor(_0x449312,..._0x132de9){const _0x5f2832=a0_0x5c767c;super(),this[_0x5f2832(0x366)]=_0x449312,this[_0x5f2832(0x1d9)]=(0x0,Ua['Router'])();let _0x1aa377=_0x449312[_0x5f2832(0x3a1)]('AUTHENTICATION');this['router'][_0x5f2832(0x1e9)](_0x5f2832(0x79),..._0x132de9,async(_0x1b07ce,_0x53a70c)=>{const _0x2db234=_0x5f2832;let {instanceName:_0x414755,apikey:_0x5b49d6}=_0x1b07ce['body'],_0x31f18f=await ie[_0x2db234(0x42a)]({'instanceName':_0x414755,'apikey':_0x5b49d6});return _0x53a70c[_0x2db234(0x34d)](0xc9)[_0x2db234(0x176)](_0x31f18f);})[_0x5f2832(0x50f)](this['routerPath'](_0x5f2832(0x193)),..._0x132de9,async(_0x164408,_0x52557a)=>{const _0x2a78c4=_0x5f2832;let _0x7a1a14=await this['dataValidate']({'request':_0x164408,'schema':C,'ClassRef':b,'execute':_0x5e782d=>ie['restartInstance'](_0x5e782d)});return _0x52557a[_0x2a78c4(0x34d)](0xc8)[_0x2a78c4(0x176)](_0x7a1a14);})[_0x5f2832(0x3a1)](this[_0x5f2832(0x63c)](_0x5f2832(0x120)),..._0x132de9,async(_0x9243e1,_0x6ce0fd)=>{const _0x137a4a=_0x5f2832;let _0x404b67=await this[_0x137a4a(0x2cc)]({'request':_0x9243e1,'schema':C,'ClassRef':b,'execute':_0x266f5b=>ie[_0x137a4a(0x4bf)](_0x266f5b)});return _0x6ce0fd['status'](0xc8)[_0x137a4a(0x176)](_0x404b67);})['get'](this['routerPath']('connectionState'),..._0x132de9,async(_0x40a7a4,_0x32a985)=>{const _0x5165a5=_0x5f2832;let _0x4f36f7=await this[_0x5165a5(0x2cc)]({'request':_0x40a7a4,'schema':C,'ClassRef':b,'execute':_0x246131=>ie[_0x5165a5(0x4e2)](_0x246131)});return _0x32a985[_0x5165a5(0x34d)](0xc8)[_0x5165a5(0x176)](_0x4f36f7);})[_0x5f2832(0x3a1)](this[_0x5f2832(0x63c)](_0x5f2832(0x233),!0x1),..._0x132de9,async(_0x23bfdb,_0x35e72e)=>{const _0x30e15e=_0x5f2832;let _0x5a546d=await this[_0x30e15e(0x2cc)]({'request':_0x23bfdb,'schema':null,'ClassRef':b,'execute':_0x214a53=>ie[_0x30e15e(0x233)](_0x214a53)});return _0x35e72e[_0x30e15e(0x34d)](0xc8)[_0x30e15e(0x176)](_0x5a546d);})['delete'](this[_0x5f2832(0x63c)](_0x5f2832(0x5e1)),..._0x132de9,async(_0x15371c,_0xe58633)=>{const _0x7e8382=_0x5f2832;let _0x213676=await this['dataValidate']({'request':_0x15371c,'schema':C,'ClassRef':b,'execute':_0x439cd9=>ie['logout'](_0x439cd9)});return _0xe58633[_0x7e8382(0x34d)](0xc8)[_0x7e8382(0x176)](_0x213676);})[_0x5f2832(0x1b6)](this[_0x5f2832(0x63c)]('delete'),..._0x132de9,async(_0x2de029,_0x41bea1)=>{const _0x1f1157=_0x5f2832;let _0x123c61=await this[_0x1f1157(0x2cc)]({'request':_0x2de029,'schema':C,'ClassRef':b,'execute':_0x8d7dde=>ie['deleteInstance'](_0x8d7dde)});return _0x41bea1[_0x1f1157(0x34d)](0xc8)[_0x1f1157(0x176)](_0x123c61);}),_0x1aa377[_0x5f2832(0x58c)]==='jwt'&&this[_0x5f2832(0x1d9)][_0x5f2832(0x50f)](_0x5f2832(0x4c8),async(_0xbbc50a,_0x359aac)=>{const _0x27ee0f=_0x5f2832;let _0xda11b=await this[_0x27ee0f(0x2cc)]({'request':_0xbbc50a,'schema':ta,'ClassRef':ot,'execute':(_0x29c15f,_0x259eee)=>ie[_0x27ee0f(0x633)](_0x29c15f,_0x259eee)});return _0x359aac[_0x27ee0f(0x34d)](0xc9)['json'](_0xda11b);});}},Va=require(a0_0x5c767c(0x352)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x24e68d){const _0x4398ea=a0_0x5c767c;super(),this[_0x4398ea(0x1d9)]=(0x0,Va[_0x4398ea(0x452)])(),this['router'][_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)]('sendText'),..._0x24e68d,async(_0x159350,_0x522ec8)=>{const _0x7cf5c5=_0x4398ea;let _0x5edaf2=await this[_0x7cf5c5(0x2cc)]({'request':_0x159350,'schema':sa,'ClassRef':nt,'execute':(_0x2c2ec0,_0x2f1a7f)=>K[_0x7cf5c5(0xf3)](_0x2c2ec0,_0x2f1a7f)});return _0x522ec8[_0x7cf5c5(0x34d)](0xc9)['json'](_0x5edaf2);})['post'](this[_0x4398ea(0x63c)]('sendMedia'),..._0x24e68d,async(_0x2dd278,_0x1ec3cd)=>{const _0x1f5d4c=_0x4398ea;let _0x1c634f=await this[_0x1f5d4c(0x2cc)]({'request':_0x2dd278,'schema':ia,'ClassRef':Ne,'execute':(_0x3f6cc8,_0x3a6870)=>K[_0x1f5d4c(0x9c)](_0x3f6cc8,_0x3a6870)});return _0x1ec3cd[_0x1f5d4c(0x34d)](0xc9)[_0x1f5d4c(0x176)](_0x1c634f);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)](_0x4398ea(0x479)),..._0x24e68d,async(_0x4da86d,_0x5d1230)=>{const _0x241cf8=_0x4398ea;let _0x3c58b6=await this[_0x241cf8(0x2cc)]({'request':_0x4da86d,'schema':na,'ClassRef':Ne,'execute':(_0x529cd0,_0x41068b)=>K['sendWhatsAppAudio'](_0x529cd0,_0x41068b)});return _0x5d1230[_0x241cf8(0x34d)](0xc9)[_0x241cf8(0x176)](_0x3c58b6);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)]('sendButtons'),..._0x24e68d,async(_0x423cae,_0x4adcad)=>{const _0x7b0b84=_0x4398ea;let _0x5add3e=await this[_0x7b0b84(0x2cc)]({'request':_0x423cae,'schema':la,'ClassRef':dt,'execute':(_0x3c6691,_0x4b8533)=>K['sendButtons'](_0x3c6691,_0x4b8533)});return _0x4adcad[_0x7b0b84(0x34d)](0xc9)['json'](_0x5add3e);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)](_0x4398ea(0x161)),..._0x24e68d,async(_0x5d5c1e,_0x43bbc7)=>{const _0xd25c9a=_0x4398ea;let _0x457995=await this[_0xd25c9a(0x2cc)]({'request':_0x5d5c1e,'schema':ua,'ClassRef':pt,'execute':(_0x6f8ea2,_0x2e307f)=>K[_0xd25c9a(0x161)](_0x6f8ea2,_0x2e307f)});return _0x43bbc7['status'](0xc9)[_0xd25c9a(0x176)](_0x457995);})[_0x4398ea(0x1e9)](this['routerPath'](_0x4398ea(0x3d9)),..._0x24e68d,async(_0x3a8a9d,_0x4d41d9)=>{const _0x5e59f4=_0x4398ea;let _0x22dadf=await this['dataValidate']({'request':_0x3a8a9d,'schema':da,'ClassRef':gt,'execute':(_0x15fc8a,_0x10c26a)=>K[_0x5e59f4(0x3d9)](_0x15fc8a,_0x10c26a)});return _0x4d41d9[_0x5e59f4(0x34d)](0xc9)[_0x5e59f4(0x176)](_0x22dadf);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)](_0x4398ea(0x3d2)),..._0x24e68d,async(_0x5d28aa,_0xfc7f2d)=>{const _0x3a14f9=_0x4398ea;let _0x81dbee=await this['dataValidate']({'request':_0x5d28aa,'schema':pa,'ClassRef':mt,'execute':(_0x2360b8,_0x5821f8)=>K[_0x3a14f9(0x3d2)](_0x2360b8,_0x5821f8)});return _0xfc7f2d[_0x3a14f9(0x34d)](0xc9)['json'](_0x81dbee);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)](_0x4398ea(0x4c3)),..._0x24e68d,async(_0x55d866,_0x1ab8d7)=>{const _0x43435f=_0x4398ea;let _0x23d4d9=await this[_0x43435f(0x2cc)]({'request':_0x55d866,'schema':ga,'ClassRef':ht,'execute':(_0x28908d,_0x135152)=>K[_0x43435f(0x4c3)](_0x28908d,_0x135152)});return _0x1ab8d7[_0x43435f(0x34d)](0xc9)['json'](_0x23d4d9);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)]('sendPoll'),..._0x24e68d,async(_0x5ab040,_0x1c622c)=>{const _0x48b22a=_0x4398ea;let _0x5da7aa=await this[_0x48b22a(0x2cc)]({'request':_0x5ab040,'schema':ca,'ClassRef':lt,'execute':(_0x1d10ec,_0x4380e3)=>K[_0x48b22a(0x510)](_0x1d10ec,_0x4380e3)});return _0x1c622c[_0x48b22a(0x34d)](0xc9)['json'](_0x5da7aa);})[_0x4398ea(0x1e9)](this[_0x4398ea(0x63c)](_0x4398ea(0x641)),..._0x24e68d,async(_0x349121,_0x22ff0d)=>{const _0x2e7132=_0x4398ea;let _0x166141=await this[_0x2e7132(0x2cc)]({'request':_0x349121,'schema':ra,'ClassRef':ct,'execute':(_0x320bca,_0x51afa3)=>K[_0x2e7132(0x641)](_0x320bca,_0x51afa3)});return _0x22ff0d['status'](0xc9)[_0x2e7132(0x176)](_0x166141);})['post'](this[_0x4398ea(0x63c)](_0x4398ea(0x588)),..._0x24e68d,async(_0x3a7504,_0x4f7805)=>{const _0x5be9d1=_0x4398ea;let _0x1a4c08=await this['dataValidate']({'request':_0x3a7504,'schema':oa,'ClassRef':ut,'execute':(_0x1ba410,_0x4d2af0)=>K[_0x5be9d1(0x588)](_0x1ba410,_0x4d2af0)});return _0x4f7805['status'](0xc9)['json'](_0x1a4c08);});}},ja=require(a0_0x5c767c(0x352)),wt=class extends k{constructor(..._0x38eee0){const _0x15cf83=a0_0x5c767c;super(),this[_0x15cf83(0x1d9)]=(0x0,ja[_0x15cf83(0x452)])(),this[_0x15cf83(0x1d9)][_0x15cf83(0x3a1)](this[_0x15cf83(0x63c)](_0x15cf83(0x7e)),..._0x38eee0,(_0x12a898,_0x26edbc)=>Fa[_0x15cf83(0x7e)](_0x12a898,_0x26edbc));}},Ba=require(a0_0x5c767c(0x352)),yt=class{},bt=class extends k{constructor(..._0x171b55){const _0x51a3f8=a0_0x5c767c;super(),this[_0x51a3f8(0x1d9)]=(0x0,Ba['Router'])(),this['router'][_0x51a3f8(0x1e9)](this['routerPath'](_0x51a3f8(0x21c)),..._0x171b55,async(_0xa95ff6,_0x5aa977)=>{const _0x3c2c52=_0x51a3f8;let _0x1fcfa3=await this[_0x3c2c52(0x2cc)]({'request':_0xa95ff6,'schema':Pa,'ClassRef':yt,'execute':(_0x290839,_0x2b7836)=>ls['createWebhook'](_0x290839,_0x2b7836)});_0x5aa977[_0x3c2c52(0x34d)](0xc9)[_0x3c2c52(0x176)](_0x1fcfa3);})[_0x51a3f8(0x3a1)](this['routerPath'](_0x51a3f8(0x504)),..._0x171b55,async(_0x43a42e,_0x263f59)=>{const _0x5bbac9=_0x51a3f8;let _0x44df9f=await this['dataValidate']({'request':_0x43a42e,'schema':C,'ClassRef':b,'execute':_0x39395a=>ls[_0x5bbac9(0x4f8)](_0x39395a)});_0x263f59['status'](0xc8)[_0x5bbac9(0x176)](_0x44df9f);});}},qa=require(a0_0x5c767c(0x352)),h=new N(a0_0x5c767c(0x4f1)),St=class extends k{constructor(..._0x184117){const _0x193d15=a0_0x5c767c;super(),this['router']=(0x0,qa['Router'])(),this['router'][_0x193d15(0x1e9)](this['routerPath'](_0x193d15(0x164)),..._0x184117,async(_0x6d22cc,_0x16b07a)=>{const _0x1468f6=_0x193d15;let _0x23b0e0=_0x6d22cc['body'];h[_0x1468f6(0xb5)](_0x1468f6(0x417)),h[_0x1468f6(0xb5)](_0x1468f6(0x1d3)),h[_0x1468f6(0xb5)](_0x6d22cc['body']);let _0x5f4ba1=await this[_0x1468f6(0x2cc)]({'request':_0x6d22cc,'schema':C,'ClassRef':b,'execute':_0x5e3ec4=>R[_0x1468f6(0x5b6)](_0x5e3ec4,_0x23b0e0)});_0x16b07a['status'](0xc8)[_0x1468f6(0x176)](_0x5f4ba1);})[_0x193d15(0x3a1)](this[_0x193d15(0x63c)](_0x193d15(0x164)),..._0x184117,async(_0x45a214,_0x3e7b2c)=>{const _0x2d1e3d=_0x193d15;let _0x4e1b90=await this[_0x2d1e3d(0x2cc)]({'request':_0x45a214,'schema':C,'ClassRef':b,'execute':_0x4de0c1=>R[_0x2d1e3d(0x636)](_0x4de0c1)});_0x3e7b2c[_0x2d1e3d(0x34d)](0xc8)['json'](_0x4e1b90);})[_0x193d15(0x1b6)](this['routerPath']('deleteDoneMessages'),..._0x184117,async(_0x43ea56,_0x9def17)=>{const _0x3926a1=_0x193d15;h[_0x3926a1(0xb5)](_0x3926a1(0x3d0));let _0x106c33=await this['dataValidate']({'request':_0x43ea56,'schema':C,'ClassRef':b,'execute':_0x3d81c1=>R[_0x3926a1(0x2d1)](_0x3d81c1)});_0x9def17[_0x3926a1(0x34d)](0xc8)[_0x3926a1(0x176)](_0x106c33);})['post'](this[_0x193d15(0x63c)](_0x193d15(0x60e)),..._0x184117,async(_0x223362,_0x553b77)=>{const _0x272cb7=_0x193d15;let _0x1c75fa=_0x223362[_0x272cb7(0x49f)];h[_0x272cb7(0xb5)](_0x272cb7(0x48f)),h[_0x272cb7(0xb5)](_0x272cb7(0x1d3)),h[_0x272cb7(0xb5)](_0x223362[_0x272cb7(0x49f)]);let _0x16762c=await this[_0x272cb7(0x2cc)]({'request':_0x223362,'schema':C,'ClassRef':b,'execute':_0x5b58dd=>R[_0x272cb7(0x60e)](_0x5b58dd,_0x1c75fa)});_0x553b77['status'](0xc8)[_0x272cb7(0x176)](_0x16762c);})['get'](this[_0x193d15(0x63c)]('getAutomateSystem'),..._0x184117,async(_0x387d12,_0x25e709)=>{const _0x267e39=_0x193d15;h[_0x267e39(0xb5)](_0x267e39(0x319));let _0x2e5df8=await this['dataValidate']({'request':_0x387d12,'schema':C,'ClassRef':b,'execute':_0x5b8599=>R[_0x267e39(0x124)](_0x5b8599)});_0x25e709[_0x267e39(0x34d)](0xc8)[_0x267e39(0x176)](_0x2e5df8);})['get'](this[_0x193d15(0x63c)](_0x193d15(0x278)),..._0x184117,async(_0x5b16f1,_0x194b0f)=>{const _0x3ae251=_0x193d15;h[_0x3ae251(0xb5)](_0x3ae251(0xe4));let _0x1fe99e=await this[_0x3ae251(0x2cc)]({'request':_0x5b16f1,'schema':C,'ClassRef':b,'execute':_0x4de2b1=>R[_0x3ae251(0x124)](_0x4de2b1)});_0x194b0f[_0x3ae251(0x34d)](0xc8)[_0x3ae251(0x176)](_0x1fe99e);})[_0x193d15(0x1e9)](this['routerPath'](_0x193d15(0x1bf)),..._0x184117,async(_0x1f6479,_0x436588)=>{const _0x505016=_0x193d15;let _0x21c685=_0x1f6479[_0x505016(0x49f)];h[_0x505016(0xb5)]('request\x20received\x20in\x20updateAgent'),h[_0x505016(0xb5)](_0x505016(0x1d3)),h[_0x505016(0xb5)](_0x1f6479[_0x505016(0x49f)]);let _0x379860=await this['dataValidate']({'request':_0x1f6479,'schema':C,'ClassRef':b,'execute':_0x1a1815=>R[_0x505016(0x1bf)](_0x1a1815,_0x21c685)});_0x436588[_0x505016(0x34d)](0xc8)[_0x505016(0x176)](_0x379860);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x5b7)),..._0x184117,async(_0x1797e6,_0x5bbc31)=>{const _0x48b208=_0x193d15;let _0x54c1f7=_0x1797e6[_0x48b208(0x49f)];h[_0x48b208(0xb5)](_0x48b208(0x39b)),h['verbose']('request\x20body:\x20'),h[_0x48b208(0xb5)](_0x1797e6['body']);let _0x3351eb=await this['dataValidate']({'request':_0x1797e6,'schema':C,'ClassRef':b,'execute':_0x168dbd=>R['updateCustomFields'](_0x168dbd,_0x54c1f7)});_0x5bbc31[_0x48b208(0x34d)](0xc8)['json'](_0x3351eb);})[_0x193d15(0x1e9)](this['routerPath'](_0x193d15(0x3bf)),..._0x184117,async(_0x5a5385,_0x82367d)=>{const _0x36fdee=_0x193d15;let _0x141da4=_0x5a5385['body'];h['verbose']('request\x20received\x20in\x20updateFlowConfig'),h[_0x36fdee(0xb5)](_0x36fdee(0x1d3)),h[_0x36fdee(0xb5)](_0x5a5385[_0x36fdee(0x49f)]);let _0xdf2fac=await this['dataValidate']({'request':_0x5a5385,'schema':C,'ClassRef':b,'execute':_0x106cd1=>R['updateFlowConfig'](_0x106cd1,_0x141da4)});_0x82367d[_0x36fdee(0x34d)](0xc8)[_0x36fdee(0x176)](_0xdf2fac);})['post'](this[_0x193d15(0x63c)](_0x193d15(0x40e)),..._0x184117,async(_0x5759a4,_0x3e9ea8)=>{const _0x993dac=_0x193d15;let _0x57b6b8=_0x5759a4[_0x993dac(0x49f)];h['verbose'](_0x993dac(0x357)),h[_0x993dac(0xb5)](_0x993dac(0x1d3)),h[_0x993dac(0xb5)](_0x5759a4['body']);let _0x3244e3=await this[_0x993dac(0x2cc)]({'request':_0x5759a4,'schema':C,'ClassRef':b,'execute':_0x5b319f=>R['getConversation'](_0x5b319f,_0x57b6b8)});_0x3e9ea8[_0x993dac(0x34d)](0xc8)[_0x993dac(0x176)](_0x3244e3);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x276)),..._0x184117,async(_0xe033ff,_0x253d8d)=>{const _0x1efee7=_0x193d15;let _0x28af77=_0xe033ff['body'];h['verbose'](_0x1efee7(0x174)),h[_0x1efee7(0xb5)]('request\x20body:\x20'),h[_0x1efee7(0xb5)](_0xe033ff[_0x1efee7(0x49f)]);let _0x511c2f=await this[_0x1efee7(0x2cc)]({'request':_0xe033ff,'schema':C,'ClassRef':b,'execute':_0x538601=>R[_0x1efee7(0x276)](_0x538601,_0x28af77)});_0x253d8d[_0x1efee7(0x34d)](0xc8)[_0x1efee7(0x176)](_0x511c2f);})[_0x193d15(0x1e9)](this['routerPath'](_0x193d15(0x610)),..._0x184117,async(_0x4d3d5b,_0x2c4c4a)=>{const _0x2fc186=_0x193d15;let _0x2ffcf4=_0x4d3d5b[_0x2fc186(0x49f)];h['verbose'](_0x2fc186(0x138)),h[_0x2fc186(0xb5)]('request\x20body:\x20'),h['verbose'](_0x4d3d5b['body']);let _0x2514bc=await this[_0x2fc186(0x2cc)]({'request':_0x4d3d5b,'schema':C,'ClassRef':b,'execute':_0x3d90c7=>R[_0x2fc186(0x610)](_0x3d90c7,_0x2ffcf4)});_0x2c4c4a['status'](0xc8)[_0x2fc186(0x176)](_0x2514bc);})[_0x193d15(0x1b6)](this[_0x193d15(0x63c)](_0x193d15(0x21f)),..._0x184117,async(_0x4957cb,_0x206d18)=>{const _0x351d00=_0x193d15;let _0x379650=_0x4957cb['body'];h[_0x351d00(0xb5)](_0x351d00(0x2c6)),h[_0x351d00(0xb5)](_0x351d00(0x1d3)),h['verbose'](_0x4957cb[_0x351d00(0x49f)]);let _0x51536e=await this[_0x351d00(0x2cc)]({'request':_0x4957cb,'schema':C,'ClassRef':b,'execute':_0x4d1fac=>R[_0x351d00(0x21f)](_0x4d1fac,_0x379650)});_0x206d18[_0x351d00(0x34d)](0xc8)['json'](_0x51536e);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x512)),..._0x184117,async(_0x29d95f,_0x411b72)=>{const _0x198075=_0x193d15;let _0x5a14ac=_0x29d95f['body'];h[_0x198075(0xb5)]('request\x20received\x20in\x20createFlow'),h[_0x198075(0xb5)](_0x198075(0x1d3)),h[_0x198075(0xb5)](_0x29d95f[_0x198075(0x49f)]);let _0x2dbe81=await this['dataValidate']({'request':_0x29d95f,'schema':C,'ClassRef':b,'execute':_0xdc68d1=>R['createFlow'](_0xdc68d1,_0x5a14ac)});_0x411b72[_0x198075(0x34d)](0xc8)['json'](_0x2dbe81);})[_0x193d15(0x1e9)](this['routerPath']('editflow'),..._0x184117,async(_0x6a8f7a,_0x4d8ff4)=>{const _0x11356d=_0x193d15;let _0x291af9=_0x6a8f7a[_0x11356d(0x49f)];h['verbose'](_0x11356d(0x2c0)),h[_0x11356d(0xb5)](_0x11356d(0x1d3)),h[_0x11356d(0xb5)](_0x6a8f7a[_0x11356d(0x49f)]),delete _0x291af9['blocks'],delete _0x291af9[_0x11356d(0x4e5)],delete _0x291af9[_0x11356d(0x4ec)],delete _0x291af9[_0x11356d(0x1f5)];let _0x2fb896=await this[_0x11356d(0x2cc)]({'request':_0x6a8f7a,'schema':C,'ClassRef':b,'execute':_0xc2ac81=>R[_0x11356d(0x2bb)](_0xc2ac81,_0x291af9)});_0x4d8ff4[_0x11356d(0x34d)](0xc8)[_0x11356d(0x176)](_0x2fb896);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x40b)),..._0x184117,async(_0x4c9023,_0x2201eb)=>{const _0x1d6ee4=_0x193d15;let _0x5616e3=_0x4c9023['body'];h['verbose']('request\x20received\x20in\x20editFlow'),h[_0x1d6ee4(0xb5)](_0x1d6ee4(0x1d3)),h['verbose'](_0x4c9023[_0x1d6ee4(0x49f)]);let _0x5bbbbc=await this['dataValidate']({'request':_0x4c9023,'schema':C,'ClassRef':b,'execute':_0x43aaf2=>R[_0x1d6ee4(0x56d)](_0x43aaf2,_0x5616e3)});_0x2201eb[_0x1d6ee4(0x34d)](0xc8)[_0x1d6ee4(0x176)](_0x5bbbbc);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x5d9)),..._0x184117,async(_0x434fc2,_0x38b387)=>{const _0xa15e7e=_0x193d15;let _0x59fe16=_0x434fc2[_0xa15e7e(0x49f)];h[_0xa15e7e(0xb5)](_0xa15e7e(0x2c0)),h[_0xa15e7e(0xb5)](_0xa15e7e(0x1d3)),h[_0xa15e7e(0xb5)](_0x434fc2['body']);let _0x509aa6=await this[_0xa15e7e(0x2cc)]({'request':_0x434fc2,'schema':C,'ClassRef':b,'execute':_0x1c77e8=>R['editFlowReply'](_0x1c77e8,_0x59fe16)});_0x38b387[_0xa15e7e(0x34d)](0xc8)[_0xa15e7e(0x176)](_0x509aa6);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)]('editflowvaredit'),..._0x184117,async(_0x23d2a2,_0x3f222f)=>{const _0x49ab37=_0x193d15;let _0x32a5b9=_0x23d2a2[_0x49ab37(0x49f)];h[_0x49ab37(0xb5)](_0x49ab37(0x2c0)),h['verbose'](_0x49ab37(0x1d3)),h['verbose'](_0x23d2a2[_0x49ab37(0x49f)]);let _0x31fee3=await this[_0x49ab37(0x2cc)]({'request':_0x23d2a2,'schema':C,'ClassRef':b,'execute':_0x58bd92=>R['editFlowVaredit'](_0x58bd92,_0x32a5b9)});_0x3f222f[_0x49ab37(0x34d)](0xc8)[_0x49ab37(0x176)](_0x31fee3);})['post'](this['routerPath'](_0x193d15(0x396)),..._0x184117,async(_0xf94932,_0x38094d)=>{const _0x83880d=_0x193d15;let _0x4b5e75=_0xf94932[_0x83880d(0x49f)];h['verbose'](_0x83880d(0x105)),h[_0x83880d(0xb5)]('request\x20body:\x20'),h['verbose'](_0xf94932[_0x83880d(0x49f)]);let _0x5de870=await this[_0x83880d(0x2cc)]({'request':_0xf94932,'schema':C,'ClassRef':b,'execute':_0x114167=>R[_0x83880d(0x2b2)](_0x114167,_0x4b5e75)});_0x38094d[_0x83880d(0x34d)](0xc8)[_0x83880d(0x176)](_0x5de870);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x1db)),..._0x184117,async(_0x25a1b6,_0x3cb474)=>{const _0x4faa8f=_0x193d15;let _0x541b6f=_0x25a1b6[_0x4faa8f(0x49f)];h[_0x4faa8f(0xb5)]('request\x20received\x20in\x20editFlowcondition'),h['verbose']('request\x20body:\x20'),h[_0x4faa8f(0xb5)](_0x25a1b6[_0x4faa8f(0x49f)]);let _0x5ddfea=await this[_0x4faa8f(0x2cc)]({'request':_0x25a1b6,'schema':C,'ClassRef':b,'execute':_0x4d1925=>R[_0x4faa8f(0x649)](_0x4d1925,_0x541b6f)});_0x3cb474['status'](0xc8)[_0x4faa8f(0x176)](_0x5ddfea);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x4d1)),..._0x184117,async(_0x2af664,_0x14dccf)=>{const _0x3daf88=_0x193d15;let _0x3f42d0=_0x2af664[_0x3daf88(0x49f)];h[_0x3daf88(0xb5)](_0x3daf88(0x5f8)),h[_0x3daf88(0xb5)](_0x3daf88(0x1d3)),h['verbose'](_0x2af664[_0x3daf88(0x49f)]);let _0x5945a9=await this['dataValidate']({'request':_0x2af664,'schema':C,'ClassRef':b,'execute':_0xc0d38e=>R['editFlowVariable'](_0xc0d38e,_0x3f42d0)});_0x14dccf[_0x3daf88(0x34d)](0xc8)[_0x3daf88(0x176)](_0x5945a9);})[_0x193d15(0x1e9)](this[_0x193d15(0x63c)](_0x193d15(0x49c)),..._0x184117,async(_0x58cdf9,_0x3ea473)=>{const _0x312a74=_0x193d15;let _0x1bb2ae=_0x58cdf9[_0x312a74(0x49f)];h[_0x312a74(0xb5)](_0x312a74(0x623)),h['verbose'](_0x312a74(0x1d3)),h[_0x312a74(0xb5)](_0x58cdf9[_0x312a74(0x49f)]);let _0x36dd6c=await this[_0x312a74(0x2cc)]({'request':_0x58cdf9,'schema':C,'ClassRef':b,'execute':_0x154c39=>R[_0x312a74(0x35e)](_0x154c39,_0x1bb2ae)});_0x3ea473['status'](0xc8)[_0x312a74(0x176)](_0x36dd6c);})[_0x193d15(0x1b6)](this['routerPath'](_0x193d15(0x55b)),..._0x184117,async(_0x18a78c,_0x29dd50)=>{const _0x4a5ac0=_0x193d15;let _0x26a289=_0x18a78c[_0x4a5ac0(0x49f)];h[_0x4a5ac0(0xb5)]('request\x20received\x20in\x20createFlow'),h[_0x4a5ac0(0xb5)]('request\x20body:\x20'),h[_0x4a5ac0(0xb5)](_0x18a78c['body']);let _0x2a8488=await this[_0x4a5ac0(0x2cc)]({'request':_0x18a78c,'schema':C,'ClassRef':b,'execute':_0x2d8cda=>R[_0x4a5ac0(0x5ad)](_0x2d8cda,_0x26a289)});_0x29dd50['status'](0xc8)[_0x4a5ac0(0x176)](_0x2a8488);})[_0x193d15(0x3a1)](this['routerPath']('allflows'),..._0x184117,async(_0x5a7bee,_0x4b8e97)=>{const _0x18a64f=_0x193d15;h[_0x18a64f(0xb5)]('request\x20received\x20in\x20allFlows');let _0x313712=await this['dataValidate']({'request':_0x5a7bee,'schema':C,'ClassRef':b,'execute':_0x2e1358=>R[_0x18a64f(0x525)](_0x2e1358)});_0x4b8e97[_0x18a64f(0x34d)](0xc8)[_0x18a64f(0x176)](_0x313712);});}},Ha=T(require(a0_0x5c767c(0x444))),ee={};function Ga(_0x22932d,_0x2c6747,_0x548f62,_0x12a81b){ee[_0x22932d]||(ee[_0x22932d]={}),ee[_0x22932d][_0x2c6747]={'id':_0x2c6747,'response':_0x548f62,'events':_0x12a81b};}function Ja(_0x11cb8f,_0x1a691e){!ee[_0x11cb8f]||!ee[_0x11cb8f][_0x1a691e]||delete ee[_0x11cb8f][_0x1a691e];}function q(_0x43ba75,_0x4b4a2e,_0x2dd313){const _0x15bdbf=a0_0x5c767c;if(!ee[_0x43ba75])return;let _0x120aa1=_0x15bdbf(0x297)+JSON['stringify'](_0x2dd313)+'\x0a\x0a';Object[_0x15bdbf(0x4e7)](ee[_0x43ba75])[_0x15bdbf(0xeb)](_0x52381c=>{const _0x4cab0f=_0x15bdbf;_0x52381c[_0x4cab0f(0x29c)][_0x4cab0f(0x3a7)](_0x4b4a2e)&&_0x52381c['response'][_0x4cab0f(0x8c)](_0x120aa1);});}function Wa(){const _0x3dc803=a0_0x5c767c;let _0x2ca0e8={};for(let _0x44439d in ee)_0x2ca0e8[_0x44439d]=Object[_0x3dc803(0x4e7)](ee[_0x44439d])[_0x3dc803(0x3a6)](_0x2d8861=>({'id':_0x2d8861['id'],'events':_0x2d8861[_0x3dc803(0x29c)]}));return _0x2ca0e8;}var Ka=require(a0_0x5c767c(0x16f)),qo=Ha[a0_0x5c767c(0x6c)]['join'](__dirname,a0_0x5c767c(0x45c)),vt=(0x0,Et[a0_0x5c767c(0x452)])(),Go=S[a0_0x5c767c(0x3a1)](a0_0x5c767c(0x23d))[a0_0x5c767c(0x58c)],ue=[rs,Ys,ea[Go]];vt['use'](a0_0x5c767c(0xd2),Et[a0_0x5c767c(0x6c)]['static'](qo))[a0_0x5c767c(0x3a1)]('/events/:instance',async(_0x40f562,_0x279811)=>{const _0x32a0f2=a0_0x5c767c;console[_0x32a0f2(0x1ce)](_0x32a0f2(0x1fa));let _0x1ec40e=_0x40f562[_0x32a0f2(0x3c0)]['instance'],_0x1911a2=(_0x40f562['query'][_0x32a0f2(0x29c)]||'')['split'](','),_0x218aa0=(0x0,Ka['v4'])();console['log'](_0x32a0f2(0x63f),_0x1ec40e),console[_0x32a0f2(0x1ce)]('Subscribed\x20Events:',_0x1911a2);let _0x49bf40=S[_0x32a0f2(0x3a1)](_0x32a0f2(0x23d))[_0x32a0f2(0x245)],_0x59a817=_0x40f562[_0x32a0f2(0x20a)]['apikey'];if(console[_0x32a0f2(0x1ce)](_0x32a0f2(0x29e),_0x59a817),_0x49bf40[_0x32a0f2(0x30b)]!==_0x59a817){console[_0x32a0f2(0x1ce)]('env.KEY\x20!==\x20key');try{let _0x15f3c0=await le['auth'][_0x32a0f2(0x504)](_0x1ec40e);if(console['log'](_0x32a0f2(0x2d7),_0x15f3c0),!_0x15f3c0||_0x15f3c0['apikey']!==_0x59a817)return console[_0x32a0f2(0x1ce)](_0x32a0f2(0x248)),_0x279811[_0x32a0f2(0x34d)](0x191)[_0x32a0f2(0x2df)](_0x32a0f2(0x431));}catch(_0x1b1834){return console[_0x32a0f2(0x9a)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x1b1834),_0x279811[_0x32a0f2(0x34d)](0x191)['send'](_0x32a0f2(0x106));}}if(!await qe(_0x1ec40e))return _0x279811[_0x32a0f2(0x34d)](0x194)[_0x32a0f2(0x2df)](_0x32a0f2(0x289));_0x279811[_0x32a0f2(0x10a)]('Content-Type',_0x32a0f2(0x38f)),_0x279811[_0x32a0f2(0x10a)]('Cache-Control','no-cache'),_0x279811['setHeader'](_0x32a0f2(0x42f),_0x32a0f2(0xb0)),_0x279811[_0x32a0f2(0x1ed)]();let _0x35bf65=_0x32a0f2(0x297)+JSON[_0x32a0f2(0x274)]({'info':_0x32a0f2(0x5f3)})+'\x0a\x0a';_0x279811[_0x32a0f2(0x8c)](_0x35bf65),Ga(_0x1ec40e,_0x218aa0,_0x279811,_0x1911a2),_0x40f562['on']('close',()=>{const _0x28637a=_0x32a0f2;console['log'](_0x28637a(0x1dd)+_0x1ec40e),Ja(_0x1ec40e,_0x218aa0);});}),vt[a0_0x5c767c(0x3a1)](a0_0x5c767c(0x40d),(_0x1e3110,_0x4872e)=>{const _0x1bcf0e=a0_0x5c767c;let _0x2969cf=Wa();_0x4872e[_0x1bcf0e(0x176)](_0x2969cf);})[a0_0x5c767c(0x3a1)]('/',(_0xdeece2,_0x4fda27)=>{const _0x10ec06=a0_0x5c767c;let _0x54cd0d=S[_0x10ec06(0x3a1)](_0x10ec06(0x2a8)),_0x44b7b5=_0x54cd0d&&_0x54cd0d[_0x10ec06(0x430)]['split']('/')[0x4];if(_0x44b7b5){let _0x243e32=encodeURIComponent(_0x10ec06(0x494)+_0x44b7b5);_0x4fda27['redirect'](_0x10ec06(0x4b7)+_0x243e32);}else _0x4fda27[_0x10ec06(0x15d)](_0x10ec06(0x545));})[a0_0x5c767c(0x50f)](a0_0x5c767c(0x2cf),...ue,async(_0x538881,_0x5590c6)=>{const _0x106d43=a0_0x5c767c;try{console['log'](_0x106d43(0x1fe)),_0x5590c6[_0x106d43(0x34d)](0xc8)[_0x106d43(0x176)]({'message':_0x106d43(0x631)}),_0x5590c6['on'](_0x106d43(0x46a),()=>process[_0x106d43(0x59c)](0x0));}catch(_0x22f9f3){console[_0x106d43(0x9a)](_0x106d43(0x2d9),_0x22f9f3),_0x5590c6[_0x106d43(0x34d)](0x1f4)[_0x106d43(0x176)]({'message':_0x106d43(0x530)});}})[a0_0x5c767c(0x5a3)](a0_0x5c767c(0x29b),new it(S,...ue)[a0_0x5c767c(0x1d9)],new wt(rs)[a0_0x5c767c(0x1d9)])['use']('/message',new ft(...ue)[a0_0x5c767c(0x1d9)])[a0_0x5c767c(0x5a3)](a0_0x5c767c(0x50d),new Ke(...ue)[a0_0x5c767c(0x1d9)])['use'](a0_0x5c767c(0x35b),new at(...ue)['router'])[a0_0x5c767c(0x5a3)](a0_0x5c767c(0x3e9),new bt(...ue)['router'])['use'](a0_0x5c767c(0x178),new St(...ue)[a0_0x5c767c(0x1d9)]);var g=class{constructor(..._0x3f637a){const _0x13734f=a0_0x5c767c;throw{'status':0x190,'error':_0x13734f(0x5c0),'message':_0x3f637a['length']>0x0?_0x3f637a:void 0x0};}},re=class{constructor(..._0x533a55){throw{'status':0x191,'error':'Unauthorized','message':_0x533a55['length']>0x0?_0x533a55:void 0x0};}},oe=class{constructor(..._0x2cbf78){throw{'status':0x193,'error':'Forbidden','message':_0x2cbf78['length']>0x0?_0x2cbf78:void 0x0};}},x=class{constructor(..._0x410117){const _0x13cbc3=a0_0x5c767c;throw{'status':0x194,'error':_0x13cbc3(0x478),'message':_0x410117[_0x13cbc3(0x44d)]>0x0?_0x410117:void 0x0};}},A=class{constructor(..._0x20a844){const _0x4060e5=a0_0x5c767c;throw{'status':0x1f4,'error':_0x4060e5(0x3b5),'message':_0x20a844[_0x4060e5(0x44d)]>0x0?_0x20a844:void 0x0};}},de=require(a0_0x5c767c(0x2d5));async function us(_0x9717aa){const _0x268fe8=a0_0x5c767c;let _0x17b7be=new N(us[_0x268fe8(0x259)]),_0x3c1230=M[_0x268fe8(0x2c1)](),_0x238c83=_0x3c1230['db'](S[_0x268fe8(0x3a1)](_0x268fe8(0x236))['CONNECTION'][_0x268fe8(0x326)]+_0x268fe8(0x3ec))[_0x268fe8(0x51e)](_0x9717aa),_0x58b76b=async(_0x4dcc62,_0x4e67c9)=>{const _0x4f9aff=_0x268fe8;try{return await _0x3c1230[_0x4f9aff(0x120)](),await _0x238c83[_0x4f9aff(0xf8)]({'_id':_0x4e67c9},JSON[_0x4f9aff(0x23c)](JSON[_0x4f9aff(0x274)](_0x4dcc62,de[_0x4f9aff(0x69)][_0x4f9aff(0x19e)])),{'upsert':!0x0});}catch{}},_0x55c6ed=async _0x217373=>{const _0x5f58fe=_0x268fe8;try{await _0x3c1230[_0x5f58fe(0x120)]();let _0xe2f2d=await _0x238c83[_0x5f58fe(0x20d)]({'_id':_0x217373}),_0x45cb18=JSON[_0x5f58fe(0x274)](_0xe2f2d);return JSON[_0x5f58fe(0x23c)](_0x45cb18,de['BufferJSON'][_0x5f58fe(0x2fe)]);}catch{}},_0x7e1b47=async _0x900ff3=>{const _0x2ddb86=_0x268fe8;try{return await _0x3c1230[_0x2ddb86(0x120)](),await _0x238c83['deleteOne']({'_id':_0x900ff3});}catch{}},_0x20933e=await _0x55c6ed(_0x268fe8(0x3df))||(0x0,de[_0x268fe8(0x4a5)])();return{'state':{'creds':_0x20933e,'keys':{'get':async(_0x204bc6,_0x16c86c)=>{const _0x1d84e8=_0x268fe8;let _0x1e6438={};return await Promise[_0x1d84e8(0x4be)](_0x16c86c['map'](async _0x58d7ff=>{const _0x47cd79=_0x1d84e8;let _0x1f70fd=await _0x55c6ed(_0x204bc6+'-'+_0x58d7ff);_0x204bc6===_0x47cd79(0xea)&&_0x1f70fd&&(_0x1f70fd=de[_0x47cd79(0x247)][_0x47cd79(0x599)]['AppStateSyncKeyData'][_0x47cd79(0x384)](_0x1f70fd)),_0x1e6438[_0x58d7ff]=_0x1f70fd;})),_0x1e6438;},'set':async _0xcf1e12=>{const _0x35195f=_0x268fe8;let _0x4bd9dc=[];for(let _0x14083f in _0xcf1e12)for(let _0x5c4818 in _0xcf1e12[_0x14083f]){let _0x21e607=_0xcf1e12[_0x14083f][_0x5c4818],_0x250ef5=_0x14083f+'-'+_0x5c4818;_0x4bd9dc[_0x35195f(0x36a)](_0x21e607?_0x58b76b(_0x21e607,_0x250ef5):_0x7e1b47(_0x250ef5));}await Promise['all'](_0x4bd9dc);}}},'saveCreds':async()=>_0x58b76b(_0x20933e,_0x268fe8(0x3df))};}var ps=T(require(a0_0x5c767c(0x3e6))),gs=T(require(a0_0x5c767c(0x608))),Tt=require(a0_0x5c767c(0x2d5)),za=require('@redis/client'),Nt=require(a0_0x5c767c(0x2d5)),Ct;function Jo(_0x2f0ce2){const _0x5206ee=a0_0x5c767c;return Ct||(Ct=(0x0,za['createClient'])({'url':_0x2f0ce2[_0x5206ee(0x3ee)]}),Ct[_0x5206ee(0x120)]()),Ct;}var ne=class c{constructor(_0x205447,_0x55e3e7){const _0x130e7d=a0_0x5c767c;this[_0x130e7d(0xcd)]=_0x205447,this['instanceName']=_0x55e3e7,this['logger']=new N(c[_0x130e7d(0x259)]),this['client']=Jo(_0x205447);}set[a0_0x5c767c(0x1f8)](_0x487042){const _0x2c19a4=a0_0x5c767c;this[_0x2c19a4(0x32d)]=_0x487042;}async[a0_0x5c767c(0x12c)](){const _0x339c8e=a0_0x5c767c;try{return await this[_0x339c8e(0x374)][_0x339c8e(0x2b1)]([_0x339c8e(0x363),this[_0x339c8e(0xcd)][_0x339c8e(0x2b4)]+':*']);}catch(_0x3111b3){this[_0x339c8e(0x448)][_0x339c8e(0x9a)](_0x3111b3);}}async[a0_0x5c767c(0x36d)](_0x44d76b,_0x406cf9){const _0x4a3268=a0_0x5c767c;try{let _0x46dee4=JSON['stringify'](_0x406cf9,Nt[_0x4a3268(0x69)][_0x4a3268(0x19e)]);return await this['client']['hSet'](this[_0x4a3268(0xcd)][_0x4a3268(0x2b4)]+':'+this[_0x4a3268(0x32d)],_0x44d76b,_0x46dee4);}catch(_0x2c0888){this[_0x4a3268(0x448)]['error'](_0x2c0888);}}async[a0_0x5c767c(0x48a)](){const _0x54805d=a0_0x5c767c;try{let _0x2b6467=await this[_0x54805d(0x374)][_0x54805d(0x36b)](this[_0x54805d(0xcd)][_0x54805d(0x2b4)]+':'+this[_0x54805d(0x32d)]);if(_0x2b6467){for(let _0x429551 in _0x2b6467)Object['prototype']['hasOwnProperty'][_0x54805d(0x57a)](_0x2b6467,_0x429551)&&(_0x2b6467[_0x429551]=JSON['parse'](_0x2b6467[_0x429551],Nt[_0x54805d(0x69)][_0x54805d(0x2fe)]));return _0x2b6467;}}catch(_0x2708a7){this['logger'][_0x54805d(0x9a)](_0x2708a7);}}async[a0_0x5c767c(0x2d8)](_0x33e99d){const _0x1f072f=a0_0x5c767c;try{let _0x4c7fa7=await this[_0x1f072f(0x374)][_0x1f072f(0x590)](this[_0x1f072f(0xcd)][_0x1f072f(0x2b4)]+':'+this[_0x1f072f(0x32d)],_0x33e99d);if(_0x4c7fa7)return JSON['parse'](_0x4c7fa7,Nt['BufferJSON'][_0x1f072f(0x2fe)]);}catch(_0x36de27){this['logger']['error'](_0x36de27);}}async[a0_0x5c767c(0x15b)](_0x53f294){const _0x46fa42=a0_0x5c767c;try{return await this[_0x46fa42(0x374)][_0x46fa42(0x475)](this[_0x46fa42(0xcd)]['PREFIX_KEY']+':'+this[_0x46fa42(0x32d)],_0x53f294);}catch(_0x664459){this['logger']['error'](_0x664459);}}async['delAll'](_0x18c07b){const _0x1ad186=a0_0x5c767c;try{return await this[_0x1ad186(0x374)][_0x1ad186(0x5cf)](_0x18c07b||this[_0x1ad186(0xcd)][_0x1ad186(0x2b4)]+':'+this[_0x1ad186(0x32d)]);}catch(_0x1dd2c){this[_0x1ad186(0x448)][_0x1ad186(0x9a)](_0x1dd2c);}}};async function ds(_0x4845c8,_0x809b1a){const _0x3ca4c9=a0_0x5c767c;let _0x4b661b=new N(ds['name']),_0x2aad17=new ne(_0x4845c8,_0x809b1a),_0x4e3245=async(_0x4184a0,_0xa69b45)=>{const _0x1f4612=a0_0x277c;try{return await _0x2aad17[_0x1f4612(0x36d)](_0xa69b45,_0x4184a0);}catch(_0x2a36ff){return _0x4b661b[_0x1f4612(0x9a)]({'localError':_0x1f4612(0x36d),'error':_0x2a36ff});}},_0x3c9871=async _0x3787e3=>{const _0x2ce87e=a0_0x277c;try{return await _0x2aad17[_0x2ce87e(0x2d8)](_0x3787e3);}catch(_0x200188){_0x4b661b[_0x2ce87e(0x9a)]({'readData':'writeData','error':_0x200188});return;}},_0x1e726c=async _0x490666=>{const _0x5dad00=a0_0x277c;try{return await _0x2aad17['removeData'](_0x490666);}catch(_0x337273){_0x4b661b['error']({'readData':_0x5dad00(0x15b),'error':_0x337273});}},_0x41f82=await _0x3c9871('creds')||(0x0,Tt[_0x3ca4c9(0x4a5)])();return{'state':{'creds':_0x41f82,'keys':{'get':async(_0x209a58,_0x30278f)=>{const _0x4638fa=_0x3ca4c9;let _0x761d96={};return await Promise[_0x4638fa(0x4be)](_0x30278f[_0x4638fa(0x3a6)](async _0x4aec8a=>{const _0x2f8b73=_0x4638fa;let _0x245938=await _0x3c9871(_0x209a58+'-'+_0x4aec8a);_0x209a58===_0x2f8b73(0xea)&&_0x245938&&(_0x245938=Tt[_0x2f8b73(0x247)][_0x2f8b73(0x599)][_0x2f8b73(0xe8)]['fromObject'](_0x245938)),_0x761d96[_0x4aec8a]=_0x245938;})),_0x761d96;},'set':async _0x29c7fd=>{const _0xe9c49a=_0x3ca4c9;let _0x4b6165=[];for(let _0xb74901 in _0x29c7fd)for(let _0x4b9070 in _0x29c7fd[_0xb74901]){let _0x2c3999=_0x29c7fd[_0xb74901][_0x4b9070],_0x117355=_0xb74901+'-'+_0x4b9070;_0x4b6165[_0xe9c49a(0x36a)](_0x2c3999?await _0x4e3245(_0x2c3999,_0x117355):await _0x1e726c(_0x117355));}await Promise['all'](_0x4b6165);}}},'saveCreds':async()=>await _0x4e3245(_0x41f82,_0x3ca4c9(0x3df))};}var P=T(require('fs')),At=require('uuid'),It=T(require('sharp'));function a0_0x35b3(){const _0x263413=['MessageModel','replaceVariablesLogs','\x20segundos','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','pollCreationMessageV3','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','.mp4','):\x20Edit\x20schedule\x20message...','collection','Types','readdirSync','Full\x20file\x20path:','available','Deleted\x20','):\x20Erro\x20ao\x20editar\x20agentes:\x20','allFlows','PORT','leadInfo.','Authentication\x20error','Valor\x20inicial:\x20\x22','spawn','creds.json','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','setContext','INFO','unlinkSync','Erro\x20ao\x20encerrar\x20a\x20API','data','Getting\x20audio\x20from\x20url','https://github.com/uazapi/uazapi.git','Audio\x20processed','editOperator','findChats','52772110KucmOt','Error\x20updating\x20message\x20status:','processUazapi','updateGParticipate','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','deleteOne','updateGroupPicture','Instância:\x20','mediatype','done','uazapiSendAudio','Schema','CONTACTS_SET','varedit','https://uazapi-plugin.bubbleapps.io/','bodyString','):\x20Ignoring\x20group\x20messages.','recording','flowConfig','getDevice','revokeInviteCode','closeExistingConversations','errno','URL\x20limpa:\x20','):\x20leadInfoVariables','https://chat.whatsapp.com/','child_process','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','formatBRNumber','arrayUnique','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','buttonMessage','1308370AmGYfw','groupCreate','addReplyOption','instance.','deleteflow','ReplyOption\x20com\x20ID\x20','_error','archiveChat','applyvaredit','The\x20property\x20cannot\x20be\x20empty','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','desativadoFluxoAte','scheduleSendMedia','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','execSync','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','media','audio/ogg','atendimentoAberto','#000000','messages.update','StatusJidList\x20is\x20required','editFlowBlock','AutomateSystem','chats.set','Erro\x20de\x20reinicialização:\x20','fileName','quoted','):\x20atualização\x20chat:\x20','__esModule','subdomain','@ffmpeg-installer/ffmpeg','restrict','contacts.update','block','call','*\x0a\x0a','Deletion\x20failed','owner','viewOnceMessage','archive','apply','groupUpdateSubject','CHATS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','inviteCode','command','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','scheduled','sendSticker','ObjectId','createFlow','groupSettingUpdate','TYPE','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','match','existsSync','hGet','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','HeaderType','firstValue','groupSetting','utf8','):\x20updateResult:','isArray','pollCreationMessageV2','Message','local_map','addresss','exit','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Image\x20created','console','groupToggleEphemeral','171723OxthqE','\x20inseridas\x20no\x20banco\x20de\x20dados...','use','\x1b[30m%s\x1b[0m','public','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','processblock','connecting','):\x20Editando\x20edição\x20do\x20fluxo...','folder','Desconectado,\x20parando\x20execução.','deleteFlow','WEBHOOK_EVENTS_CONTACTS_SET','newStoppedUntil','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Button\x20IDs\x20cannot\x20be\x20repeated.','Operador:\x20\x22','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','interval\x20não\x20é\x20um\x20número','extractRegex','editScheduleMessage','updateCustomFields','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','getMessage','\x1b[41m','chat','loadWebhook','_id','Imagem\x20não\x20encontrada','profile','Bad\x20Request','toArray','encoding','string','STATUS_INSTANCE','nome','charAt','storePath','delInstanceTime','ORG:','Processing\x20audio','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','apiResponse','eventHandler','):\x20Criando\x20nova\x20conversa','del','getStatus','true','msgRetryCounterCache','No\x20participants','WEBHOOK_EVENTS_MESSAGES_SET','round','REDIS_PREFIX_KEY','DATABASE_CONNECTION_HOST','chrome','editflowreply','count','Valor\x20de\x20find\x20ou\x20replace\x20ausente','.\x20Pulando.','isJidUser','createServer','):\x20teve\x20mudanças\x20chat.archived:\x20','content','logout','sendMessage','):\x20Deletando\x20mensagem','instanceInfo','$dbName','\x20}\x0a','app','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','webhookModel','ip:\x20','fetchStatus','paused','webhookService','DATABASE_ENABLED','pollCreationMessageKey','Erro\x20ao\x20editar\x20o\x20bloco:\x20','updatePrivacySettings','Conexão\x20estabelecida','temp-','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','dropCollection','context','request\x20received\x20in\x20editFlowvariable','Error\x20change\x20group\x20description','deleteMany','http','Atualização:\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Message\x20not\x20found','longitude','cleaningUp','statusMessage','processvaredits','statusCode','isBase64','STORE_CONTACTS','now','editChat','node-cache','email','whatsappNumbers','backgroundColor','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','jpegThumbnail','startFlow','variablesToObject','editConversation','replyOption','\x1b[40m','archived','group','SECRET','updateMediaMessage','sendPresenceUpdate','https','authModel','groupLeave','eventEmitter','CREDENTIALS','indexOf','uazapiDeleteMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','replaceVariablesChat','Erro\x20do\x20Certbot:\x20','DisconnectReason','request\x20received\x20in\x20getFlow','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','stack','convertedOptions','GLOBAL','displayName','website','):\x20Editando\x20replyOption...','CHATS_UPSERT','updateProfilePicture','--agree-tos','view\x20engine','toDataURL','https://api.ipify.org?format=json','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','utf-8','refreshToken','waInstances','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','getScheduleMessage','insert','generateWAMessageFromContent','some','mkdirSync','):\x20Mensagem\x20já\x20enviada\x20para\x20','routerPath','messageId','AutomateFunctions','Instance\x20ID:','groupParticipantsUpdate','sendStatus','split','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','instancias:\x20','messageTimestamp','Flow\x20already\x20exists','updateChatWithMessage','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','editFlowCondition','9uORCbc','Erro\x20ao\x20aplicar\x20varedit:\x20','sections','CORS_CREDENTIALS','editedMessage','entries','sign','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','BufferJSON','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Validate','default','phoneNumber','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','realVariables','getTime','remove.instance','reconnectTimestamps','findParticipants','contactsArrayMessage','when','_Messages',',\x20saindo.','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','/create','Font\x20is\x20required','description','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','REDIS_ENABLED','qrcode','participant','evaluateConditionTest','WEBHOOK_EVENTS_MESSAGES_UPSERT','where','stopConversation','_p_','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','markMessageAsRead','not\x20loaded','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','delaySecMin','new.jwt','write','replace','reconnectAttempts','replaceValue','enabled','emit','getContentType','vote','replaceVariablesInReplyOptions','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','DEL_INSTANCE','WEBHOOK_EVENTS_CHATS_UPSERT','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x1b[34m%s\x1b[0m','error','\x20não\x20encontrado\x20para\x20atualização.','sendMedia','env','subjectOwner','header','6314164MXRdsF','lastBlockId','Flow\x20não\x20encontrado','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','\x1b[43m','PRESENCE_UPDATE','output',',\x20Expiration\x20Time:\x20','resetReconnectionVariables','compression','formatVCard','senderKeyDistributionMessage','contact','\x20minutos...','updateGroupsAddPrivacy','keep-alive','/:instanceName','MESSAGES_UPDATE','):\x20Editando\x20grupo\x20do\x20fluxo...','pushName','verbose','findFlow','findById','\x0aitem','unlocked','code','50mb','\x20chats\x20de\x20','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Getting\x20profile\x20with\x20jid:\x20','Error\x20removing\x20profile\x20picture','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','statusJidList',',\x20valor\x20passado:\x20\x22','blockLogs','fetchChats','updateProfileStatus','VERBOSE','NEW_JWT_TOKEN','viewOnceMessageV2','Read\x20messages\x20fail','cleanStore','):\x20','redisEnv','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','\x20contacts','toLowerCase','Erro\x20inesperado\x20em\x20processvaredits:\x20','/media','promote','isConnected','WEBHOOK_GLOBAL_ENABLED','capitalizedWords','\x0a*Você\x20respondeu*:\x0a','PRODUCTION','WEBHOOK_EVENTS_CHATS_UPDATE','CORS_ORIGIN','dbServer','gifPlayback','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','onWhatsApp','namespace','waUploadToServer','EVENTS','Audio\x20is\x20url','groups.upsert','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','fetchPrivacySettings',',\x20Comparador:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','AppStateSyncKeyData','ex:\x20\x22groupJid=120362@g.us\x22','app-state-sync-key','forEach','documentWithCaptionMessage','express-async-errors','sticker','METHODS','limit','abs','/wa-message','sendText','webhookMap','Certbot\x20executado\x20com\x20sucesso.','isDirectory','processConditions','replaceOne','getChatModelForOwner','truncatedto','DEBUG','AutomateSystem\x20não\x20foi\x20inicializado','creds.update','create\x20-\x20success','@g.us','The\x20instance\x20needs\x20to\x20be\x20disconnected','CORS','response','getDelay','):\x20transformedCustomFieldVariables','request\x20received\x20in\x20editFlowgroup','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Error\x20change\x20group\x20name','unavailable','/instance/create','setHeader','qrcode-terminal','error\x20get\x20vote','pino','2632600VFbGTm','The\x20\x22','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','jsonschema','vcard','video','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','updateBlock','contactname','):\x20Query\x20params:','cors','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','scheduleSendAudio','Certbot:\x20','caption','Image\x20is\x20base64','drop','connect','updateGParticipant','updateProfileName','convertToWebP','getAutomateSystem','):\x20Entrou\x20na\x20função\x20goToFlow','removeInstance','match_last_seen','substring','static','contacts.upsert','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','instanceKeys','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Temp\x20audio\x20created','connection.update','Module\x20-\x20ON','.sendDataWebhook-local','setWebhook','messageHandle','.uazapi.dev','ignoreGroups','writeFile','CHATS_DELETE','request\x20received\x20in\x20editConversation','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x20mensagens\x20de\x20','Logger','pollCreationMessage','originalUrl','quotedMessage','varedits','Unknown\x20message\x20type\x20or\x20empty\x20message','augusto.fcs@gmail.com','toBrazilianNumberFormat','groupRevokeInvite','ON\x20-\x20dbName:\x20','qrcode.updated','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','responsavelid','Invalid\x20\x22oldToken\x22',',\x20fará\x20nova\x20verificação\x20em\x20','opendirSync','from','):\x20Deletando\x20conversa...','Error\x20updating\x20profile\x20status','mimetype','lastSend','audio/ogg;\x20codecs=opus','findConversation','3181116LxTJpZ','groupInviteCode','.json','Erro\x20ao\x20editar\x20o\x20chat:\x20','CONNECTION','chats','\x1b[31m%s\x1b[0m','fetchMessages','assign','removeData','mongoose','redirect','ios','statSync','):\x20Visualizando\x20AutomateSystem','sendLocation','Error\x20updating\x20profile\x20picture','apikey','scheduleMessage','CONFIG_SESSION_PHONE','flowConversation','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','ENABLED','cwd','deleteInstance','success','uncaughtException','toNumber','changeVariables','uuid','padStart','font','function','StartBot','request\x20received\x20in\x20fetchConversation','):\x20customFieldVariables','json','):\x20tem\x20blocks','/automate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','video-cover.png','sendAudio','CHATS_SET','\x0aFN:','mediaKey','boolean','dark','mentioned','DELIVERY_ACK','segundos','convertaudio','writeFileSync','makeCacheableSignalKeyStore','URL','mongodb://','):\x20Não\x20achou\x20nenhum\x20flow','headerString','remoteJid','verify','pollMessage','GUARD','throwAndLogError','size','newValue','restart','\x20minutos','messages','DOCKER_ENV','status.instance','stopped','notMatchRegex','WEBHOOK_EVENTS_MESSAGES_UPDATE','):\x20Buscando\x20conversa...','sleep','Group\x20not\x20found','replacer','stopMinutes','connectionStatus','group-participants.update','\x22\x20cannot\x20be\x20empty','ContactModel','\x22\x20not\x20found','The\x20global\x20api\x20key\x20must\x20be\x20set','metadata','):\x20teve\x20mudanças\x20chat.name:\x20','WEBHOOK_EVENTS_SEND_MESSAGE','?authSource=admin&readPreference=primary&directConnection=true','contactHandle','create','key.','Type\x20is\x20required','replaceVariables','\x20foi\x20interrompido\x20pelo\x20usuário.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','audioMessage','setRestartTimer','lastCondition','reorderBlocks','joinGroup','delete','connectionUpdate','findGroupInfo','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','load','toFile','getMinutes','Mensagem\x20não\x20suportada','updateAgent','repeat','TRIAL_INSTANCE_NAME','findGroup','pollOnReplyDelete','removeProfilePicture','Error\x20updating\x20privacy\x20settings','):\x20conversation.lastInteraction:\x20','info','getOwnPropertyDescriptor',',\x20Resultado:\x20','ERROR','Error\x20deleting\x20instance\x20from\x20memory.','LOG','dbClient','log','type','hasOwnProperty','/wa-qrcode','?timestamp=','request\x20body:\x20','role','Parando\x20aplicação...','\x1b[36m','USER','chatLog','router','reactionMessage','editflowcondition','DATABASE_CONNECTION_USER','Connection\x20closed\x20for\x20instance:\x20','/wa-message-update','notEmpty','leadInfo.desativadoFluxoAte','DATABASE_CONNECTION_DB_PREFIX_NAME','groupHandler','groupFetchAllParticipating','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','redis','.jwt','post','fullName','hostname','updateMany','flushHeaders','lastReceivedMessage','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','conversationTimestamp','readMessages','isJWT','evaluateCondition','minutesToClose','conditions','blockId','imageMessage','reference','trim','bateu\x20events','Bloco\x20com\x20ID\x20','optionDescription','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','oldValue','out','formatStatusMessage','deleteReplyOption','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','Converting\x20image\x20to\x20WebP\x20to\x20sticker','numbers','saveChatVariables','Instance\x20restarted','contextInfo','remoteJidsRemaining','query','selectedOptions','startsWith','findOne','fromMe','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','toggleEphemeral','File\x20written\x20to\x20path:\x20','.webp','.X-ABLabel:Celular\x0a','messaging-history.set','WEBHOOK_EVENTS_CONTACTS_UPSERT','Converting\x20audio\x20to\x20mp4','text','\x0a{\x20instance:\x20','status@broadcast','URL:','/wa-contacts','set','):\x20Buscando\x20flow...','render','deleteConversation','class-validator','groupDesc','sort','uazapiSendContact','loadEnv','Variáveis\x20não\x20encontradas:','privacySettings','waitingPoll_name','\x1b[32m','redisCache','):\x20Limpando\x20delayMessage','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','_doc','editFlowReply','valid','Image\x20path:\x20','object','repository','listMessage','fetchInstances','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','splice','DATABASE','Original\x20filename:','AUTHENTICATION_API_KEY','getRandomText','):\x20this.processingScheduleMessageId:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','parse','AUTHENTICATION','Error\x20fetching\x20group','isRunning','):\x20Entrou\x20na\x20função\x20saveReply','NODE_ENV','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','--standalone','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','API_KEY','):\x20newFirstValue\x20após\x20replaceVariables:','proto','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','poll','errorLog','NO_IP','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','OrAnd',',\x20resultado:\x20','timerId','authorization','profilePictureUrl','maxActives','videoMessage','open','\x1b[36m%s\x1b[0m','authService','):\x20Erro\x20ao\x20buscar\x20conversas\x20','name','birthtime','DATABASE_CONNECTION_URI','saveCreds','certbot','@broadcast','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','contentText','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','WEBHOOK_MAP','Error\x20writing\x20file:\x20','contacts','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','greater','notas','Não\x20respondeu\x20com\x20a\x20enquete.','variablesNotFound','deleteBlock','pollUpdateMessage','src','replyOptions','mediaSticker','SendScheduleMessage','userDevicesCache','useMultiFileAuthState','android','message','stringify','isBooleanString','fetchConversation','readMessage','getTicketSystem','groupAcceptInvite','READ','):\x20Enviando\x20áudio','GROUPS_UPSERT','qrCode','integer','NAME','model','sem\x20texto\x20na\x20mensagem','title','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','unhandledRejection','scheduleSendText','getContactModelForOwner','\x20is\x20already\x20in\x20use.','defineProperty','Instância\x20não\x20encontrada.','processConditionsTest','waitingPoll_id','messages.set','):\x20Iniciando\x20bot...','locationMessage','prefixCommand','prepareMediaMessage','stderr','.TEL;waid=','nextBlock:','filter','matchRegex','protocolMessage','data:\x20','STORE_MESSAGE','CONFIG_SESSION_PHONE_NAME','\x20horas\x20e\x20','/instance','events','processPollUpdateMessage','API\x20Key\x20from\x20Request:','SERVER_ACK','delInstanceFiles','getOwnPropertyNames','defineAuthState','Erro\x20ao\x20iniciar\x20fluxo:\x20','saveConversationToDatabase','Image\x20converted\x20to\x20WebP','last','STORE_CHATS','SSL_CONF','delAll','profilePicture','authState','notContains','value','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Conversa\x20atualizada\x20em\x20memória','customFields','sendCommand','editFlowGroup','uazapiSendLocation','PREFIX_KEY','):\x20Error\x20processing\x20conditions:\x20','next_groupId','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20expirationTime:\x20','getMessageModelForOwner','SERVER_OFFLINE','editFlow','QRCODE','jid','hex','decryptPollVote','request\x20received\x20in\x20editFlow','getClient','\x20\x1b[0m','.mp3','REDIS','<subdomain>','request\x20received\x20in\x20deleteConversation','announcement','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','TEL','createNewConversation','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','dataValidate','noConnection','less','/exit','messageContextInfo','deleteDoneMessages','max','Contacts\x20not\x20found','WEBHOOK_EVENTS_CHATS_DELETE','@whiskeysockets/baileys','toString','Instance\x20Key\x20from\x20DB:','readData','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','https://jsonip.com','exec','loggedOut','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','CONNECTION_UPDATE','send','14ldIxEa','jwt','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Unable\x20to\x20leave\x20the\x20group','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','blocks','item','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','warn','downloadMediaMessage','start','createGroup','LICENSE_INVALID','bulkWrite','chats.upsert','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Audio\x20is\x20base64','chatHandle','):\x20Flow\x20não\x20encontrado','arraybuffer','shift','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','truncatedtoEnd','Invalid\x20format','Audio\x20converted\x20to\x20mp4','QRCODE_LIMIT','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','saveVariable','readFile','reviver','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','SEND_MESSAGE','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','unreadCount','flowActive','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','processgoToFlow','mentions','contact_blacklist','notEqual','presence.update','Erro:','KEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','bearer','\x1b[47m','readMessageBot','stateConnection','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','selectableCount','Hash\x20to\x20audio\x20name:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','checkAndRestartProcess','../env.yml','sendDataWebhook','request\x20received\x20in\x20getAutomateSystem','messagesSend','QRCODE_UPDATED','/media/','\x20minutos.\x20Será\x20às\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','chats.delete','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','leadInfo','DELETED','*Pergunta*:\x20\x0a','\x20não\x20encontrado','DB_PREFIX_NAME','):\x20Criou\x20conversa\x20no\x20startFlow:','contains','stanzaId','Telefone:\x20','envYaml','Output\x20audio\x20path:\x20','instanceName','latitude','groups.update','buttons','Initial\x20__dirname:','errors','MAX_RECONNECT_ATTEMPTS','slice','\x1b[42m','wuid','buttonText','PASSWORD','onTime','./.git/config','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','WEBHOOK_EVENTS_PRESENCE_UPDATE','audio/mp4','processingScheduleMessageId','findAndReplace','Trying\x20to\x20get\x20business\x20profile','enumerable','8080','jsonwebtoken','Fetching\x20business\x20profile','audioWhatsapp','padEnd','test','isURL','rm\x20-rf\x20','E-mail:\x20','height','reaction','status','Flow\x20iniciado\x20com\x20','WEBHOOK','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','findAndReplaceRegex','express','readreceipts','groupValidate','Erro\x20de\x20atualização:\x20','Variável\x20não\x20encontrada!','request\x20received\x20in\x20getConversation',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','tags','verifiedName','/group','DD/MM\x20HH:mm:ss','sendMessageWithTyping','getFlow','ini','http://checkip.dyndns.org','join','updateOne','keys','lastMessage','stdout','configService','url','footerText','flowPrefixCommand','push','hGetAll','locked','writeData','rows','dbInstance','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Temp\x20image\x20deleted','no.connection','envProcess','client','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','linkPreview','):\x20isVote','documentMessage','lowerCase','saveTextReply','STORE_CLEANING_TERMINAL','leadInfo.customFields','SERVER_PORT','remote\x20\x22origin\x22','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','save','):\x20Going\x20to\x20','demote','CONTACTS_UPDATE','fromObject','findContacts','group\x20ignored','\x1b[33m\x1b[1m','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','localWebhook','not_announcement','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','LEVEL','Error\x20updating\x20participants','groupId','text/event-stream','address','10aeWpaO','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','array','TRIAL_AD','):\x20Limpando\x20AutomateSystem','editflowgroup','waitingPoll_replyOptions','setting','action','WARN','request\x20received\x20in\x20updateCustomFields','user','contactMessage','Temp\x20audio\x20path:\x20','insertMany','.png','get','lastmsg','parseInt','js-yaml','secondValue','map','includes','toUpperCase','close','base64','\x1b[31m','findMessages','cpf','Image\x20is\x20url','):\x20Enviando\x20contato','Missing\x20global\x20api\x20key','fetchContacts','Comando\x20desconhecido','Button\x20texts\x20cannot\x20be\x20repeated','method','Internal\x20Server\x20Error','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','_Chats','):\x20Conversa\x20está\x20expirada','\x20-i\x20','fetchBusinessProfile','_Contacts','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','audio','state','updateFlowConfig','params','ephemeralMessage','presenceSubscribe','/wa-chats','order','writeStore','editFlowVaredit','subjectTime','end','Media\x20folder\x20path:','groupadd','getBusinessProfile','env.yml','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','}}\x20->\x20\x22','empty','request\x20received\x20in\x20deleteDoneMessages','SSL_CONF_FULLCHAIN','sendContact','endsWith','joinGroupValidate','nomecompleto','whatsappNumber','toBRL','):\x20Ler\x20mensagem','sendList','uazapiSendText','groupUpdateDescription','buttonId','webhook','Error\x20updating\x20setting','creds','connectionClosed','licenca','GROUP_PARTICIPANTS_UPDATE','@s.whatsapp.net','DATABASE_CONNECTION_PASSWORD','stoppedUntil','long','\x20-\x20ON:\x20','SERVER_TYPE','/webhook','lastSendMessage','flowStopMinutes','-instances','organization','URI','everyOne','}}\x20->\x20valor\x20não\x20encontrado','fetchProfilePicture','Instance\x20\x22','conversation','update','\x1b[33m%s\x1b[0m','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Conversas\x20encontradas:','updateReplyOption','Db\x20Connection','announce','random','WEBHOOK_EVENTS_CONNECTION_UPDATE','trimmed','):\x20newSecondValue\x20após\x20replaceVariables:','imagechat','\x5cd+','document','CONECTADO\x20À\x20UAZAPI','Erro\x20ao\x20buscar\x20conversas:\x20','option','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','add','Getting\x20profile\x20info','auth','):\x20Deletando\x20fluxo...','key','editflowblock','LOG_COLOR','/clients-info','getConversation','image','DARK','isInteger','send.message','getVariablesChat','currency','isBusiness','axios','request\x20received\x20in\x20scheduleMessage','updateReadReceiptsPrivacy','none','dbSettings','findOneAndUpdate','webp','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','findIndex','pop','rmSync','groups_ignore','toLocaleString','Method\x20not\x20implemented.','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','updateMessage','/instance/fetchInstances','uazapi','apiName','Getting\x20image\x20from\x20url','createInstance','composing','):\x20delete\x20=\x20true',',\x20valor\x20a\x20encontrar:\x20\x22','createJid','Connection','FULLCHAIN','API\x20Key\x20inválida.','Converted\x20audio\x20deleted','\x20saindo\x20da\x20função','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Início','fetchProfilePictureUrl','):\x20nextBlock.uazapi.name','WEBHOOK_EVENTS_CHATS_SET','equal','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','EXPIRIN_IN','MESSAGES_SET','format','deleteAll','\x1b[1m','PRIVKEY','WEBHOOK_EVENTS_QRCODE_UPDATED','):\x20Flow\x20desativado','upperCase','path','apirequest','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','urlOrBase64','logger','):\x20Editando\x20condição\x20do\x20fluxo...','Fluxo\x20não\x20encontrado','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','syscall','length','including\x20timestamp\x20in\x20url:\x20','views','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','RECONNECT_TIME_FRAME','Router','getMIMEType','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','updateConversation','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Error\x20in\x20scheduleNextCheck:\x20','flattenObject','goToFlow','findGroups','downloads','convert','updateLastSeenPrivacy','fone','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','sending','):\x20Erro\x20ao\x20criar\x20fluxo\x20','variable','.refreshToken','LOG_LEVEL','JWT','normalizeMessage','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','finish','CLIENT','updateStopChat','NextBlock','floor','modifiedCount','createConversationforStartFlow','groupName','tokenId','):\x20Enviando\x20texto','endSession','hDel','generate','ButtonsMessage','Not\x20Found','sendWhatsAppAudio','processApiRequest','pt-BR','delay','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','REDIS_URI','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','stopMinutesMaxActives','CONTACTS_UPSERT','Background\x20color\x20is\x20required','AUTHENTICATION_JWT_EXPIRIN_IN','PENDING','addBlock','scheduleNextCheck','activatedCount','mongodb','getAllData','and','created','number','ERROR:\x20','request\x20received\x20in\x20starFlow','):\x20Enviando\x20localização','getPrototypeOf','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','online','https://','TEXT','upsertChats','goNextblock','\x22\x20-\x20REMOVED','removed','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','expression','getflow','getLastMessage','fileLength','body','newName','participants','expiration','):\x20Enviando\x20enquete','^\x5cd+[\x5c.@\x5cw-]+','initAuthCreds','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','store','pollErrorMessage','groupMetadata','condition','has','SERVER','Error\x20updating\x20profile\x20name','g-t','prototype','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','collections','getBase64FromMediaMessage','deletedCount','fetchProfile','editFlowVariable','validate','https://uazapi-plugin.bubbleapps.io/?url=','1609749NtINIl','):\x20Enviando\x20mídia','listen','loadInstance','waMonitor','Content\x20is\x20required','all','connectToWhatsapp','WA\x20MODULE','GROUPS_UPDATE','\x20instance\x20does\x20not\x20exist','sendReaction','flowStopConversation','WEBHOOK_GLOBAL_URL','):\x20Campos\x20a\x20serem\x20atualizados:','stickerMessage','/refreshToken','readFileSync','delayMessage','findByIdAndUpdate','\x1b[0m','_activatedCount','):\x20alterando\x20this.AutomateSystem','agents','isJidGroup','editflowvariable','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','desc','subject','):\x20lastBlockId:\x20','updatePresence','deleteMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','pollMessageOnDelete','chats.update','chatModify','lean','MESSAGES_UPSERT','presence','textMessage','generateHash','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','connectionState','EMAIL','unreadcount','variables','inner','values','/wa-groups','\x20-y','WEBHOOK_EVENTS_GROUPS_UPSERT','exists','groups','authentication','createConversationforgoToFlow','\x1b[30m','closed','FlowRouter','groupJid','Type\x20defined\x20as\x20audio','\x1b[37m%s\x1b[0m','pre','instance','\x1b[46m','findWebhook','oldToken','web','moreLogs','saveMediaToFile','\x1b[32m%s\x1b[0m',',\x20Segundo\x20Valor:\x20','AUTHENTICATION_TYPE','options','refused','replaceVariablesInObject','messages.upsert','find','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','mediaMessage','!stop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','getProfileName','lastInteraction','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','COLOR','/chat','deleteMessageForEveryone','put','sendPoll','leaveGroup','createflow','Erro\x20ao\x20atualizar\x20conversa:\x20','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','Read\x20messages'];a0_0x35b3=function(){return _0x263413;};return a0_0x35b3();}function J(_0x51de9a){const _0x5864f1=a0_0x5c767c;if(_0x51de9a[_0x5864f1(0x57e)]||_0x51de9a['viewOnceMessageV2']){let _0x4847fd=_0x51de9a['viewOnceMessage']?_0x51de9a['viewOnceMessage'][_0x5864f1(0x273)]:_0x51de9a['viewOnceMessageV2'][_0x5864f1(0x273)];return(0x0,w[_0x5864f1(0x92)])(_0x4847fd);}return _0x51de9a[_0x5864f1(0x51a)]?_0x5864f1(0x51a):_0x51de9a['pollCreationMessageV2']?'pollCreationMessageV2':(0x0,w[_0x5864f1(0x92)])(_0x51de9a);}var ye=class c{constructor(_0x3c76ae,_0x35154a,_0x4f13a0){const _0x29a47f=a0_0x5c767c;this[_0x29a47f(0x366)]=_0x3c76ae,this[_0x29a47f(0x61b)]=_0x35154a,this[_0x29a47f(0x231)]=_0x4f13a0,this[_0x29a47f(0x56e)]=null,this['logger']=new N(c['name']),this[_0x29a47f(0x4f6)]={},this[_0x29a47f(0x389)]={},this[_0x29a47f(0x310)]={'state':_0x29a47f(0x3a9)},this[_0x29a47f(0x5c7)]=(0x0,$[_0x29a47f(0x361)])(Q,_0x29a47f(0x45c)),this[_0x29a47f(0x5d2)]=new gs[(_0x29a47f(0x6c))](),this[_0x29a47f(0x270)]=new gs['default'](),this[_0x29a47f(0x474)]=!0x1,this[_0x29a47f(0xf4)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x29a47f(0x1d1),'messages.upsert':_0x29a47f(0xf2),'messages.update':_0x29a47f(0x1de),'send.message':_0x29a47f(0xf2),'group.upsert':'/wa-groups','group.update':_0x29a47f(0x4e8),'group-participants.update':_0x29a47f(0x4e8),'connection.update':'/wa-connection-update','messages.set':_0x29a47f(0xf2),'contacts.set':_0x29a47f(0x21b),'contacts.upsert':'/wa-contacts','contacts.update':_0x29a47f(0x21b),'presence.update':'/wa-presence','chats.set':_0x29a47f(0x3c3),'chats.update':_0x29a47f(0x3c3),'chats.upsert':_0x29a47f(0x3c3),'chats.delete':'/wa-chats'},this[_0x29a47f(0x8e)]=0x0,this[_0x29a47f(0x72)]=[],this[_0x29a47f(0x333)]=0xf,this[_0x29a47f(0x451)]=0x7530,this[_0x29a47f(0x23f)]=!0x1,this[_0x29a47f(0x2f2)]={'chats.upsert':async(_0x4df8a6,_0x1f0953)=>{const _0x273ac7=_0x29a47f;let _0x117540=[];for await(let _0x353a3f of _0x4df8a6)_0x117540[_0x273ac7(0x36a)]({'_id':_0x353a3f['id'],'owner':this[_0x273ac7(0x4f6)][_0x273ac7(0x336)],'group':_0x353a3f['id'][_0x273ac7(0x3d3)](_0x273ac7(0xff)),'name':_0x353a3f['name']||_0x353a3f[_0x273ac7(0x628)]||null,'contactname':null,'lastmsg':_0x353a3f[_0x273ac7(0x1f0)]&&_0x353a3f[_0x273ac7(0x1f0)]['toString']()[_0x273ac7(0x44d)]<0xd?_0x353a3f[_0x273ac7(0x1f0)]*0x3e8:_0x353a3f[_0x273ac7(0x1f0)]||null,'archived':_0x353a3f[_0x273ac7(0x613)]||!0x1,'unreadcount':_0x353a3f[_0x273ac7(0x302)]||0x0});await this[_0x273ac7(0x318)](_0x273ac7(0x2ef),_0x117540);},'chats.update':async(_0x478285,_0xf57784)=>{const _0x85a8ae=_0x29a47f;for(let _0x3f87ea of _0x478285){let _0x3f7721={'_id':_0x3f87ea['id'],'owner':this[_0x85a8ae(0x4f6)][_0x85a8ae(0x336)],'group':_0x3f87ea['id'][_0x85a8ae(0x3d3)](_0x85a8ae(0xff)),'name':_0x3f87ea[_0x85a8ae(0x259)]||_0x3f87ea[_0x85a8ae(0x628)],'archived':_0x3f87ea[_0x85a8ae(0x613)]},_0x18e285=!0x1,_0x4dddb8={};_0x3f7721[_0x85a8ae(0x613)]!=null&&(this[_0x85a8ae(0x448)][_0x85a8ae(0xb5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x85a8ae(0x5df)+_0x3f87ea[_0x85a8ae(0x613)]),_0x18e285=!0x0,_0x4dddb8[_0x85a8ae(0x613)]=_0x3f87ea[_0x85a8ae(0x613)]),_0x3f87ea['name']!=null&&(this[_0x85a8ae(0x448)][_0x85a8ae(0xb5)](this[_0x85a8ae(0x32d)]+'\x20('+this['instance'][_0x85a8ae(0x336)]+_0x85a8ae(0x1a7)+_0x3f87ea[_0x85a8ae(0x259)]),_0x18e285=!0x0,_0x4dddb8[_0x85a8ae(0x259)]=_0x3f87ea[_0x85a8ae(0x259)]),_0x3f87ea[_0x85a8ae(0x628)]!=null&&(this[_0x85a8ae(0x448)]['verbose'](this[_0x85a8ae(0x32d)]+'\x20('+this[_0x85a8ae(0x4f6)][_0x85a8ae(0x336)]+_0x85a8ae(0x88)+_0x3f87ea[_0x85a8ae(0x628)]),_0x18e285=!0x0,_0x4dddb8['name']=_0x3f87ea[_0x85a8ae(0x628)]);let _0xcf7c7c;_0x18e285&&(_0xcf7c7c=await this[_0x85a8ae(0x231)]['chat']['updateOne']({'where':{'_id':_0x3f87ea['id'],'owner':this[_0x85a8ae(0x4f6)]['wuid']}},_0x4dddb8)),_0xcf7c7c&&q(this[_0x85a8ae(0x32d)],_0x85a8ae(0x157),{'chat':_0xcf7c7c});}},'chats.delete':async _0x4db78b=>{const _0x523fff=_0x29a47f;await this[_0x523fff(0x318)](_0x523fff(0x320),[..._0x4db78b]);}},this[_0x29a47f(0x1aa)]={'contacts.upsert':async(_0x10e572,_0x3e5935)=>{const _0x27c9b0=_0x29a47f;let _0x4e4f00=await this[_0x27c9b0(0x231)]['contact']['find']({'where':{'owner':this[_0x27c9b0(0x4f6)][_0x27c9b0(0x336)]}}),_0x323bdc=[];for await(let _0x1de4c3 of _0x10e572)_0x4e4f00[_0x27c9b0(0x504)](_0x5dcedd=>_0x5dcedd[_0x27c9b0(0x5bd)]===_0x1de4c3['id'])||_0x323bdc[_0x27c9b0(0x36a)]({'_id':_0x1de4c3['id'],'pushName':_0x1de4c3?.[_0x27c9b0(0x259)]||_0x1de4c3?.[_0x27c9b0(0x35a)],'owner':this[_0x27c9b0(0x4f6)][_0x27c9b0(0x336)]});await this[_0x27c9b0(0x318)](_0x27c9b0(0x12a),_0x323bdc),await this[_0x27c9b0(0x231)][_0x27c9b0(0xad)][_0x27c9b0(0x637)](_0x323bdc);},'contacts.update':async(_0xbca9ba,_0x2df330)=>{const _0x3ee69b=_0x29a47f;let _0x4ea5f2=[];for await(let _0x13cf10 of _0xbca9ba)_0x4ea5f2[_0x3ee69b(0x36a)]({'_id':_0x13cf10['id'],'pushName':_0x13cf10?.['name']??_0x13cf10?.['verifiedName'],'owner':this[_0x3ee69b(0x4f6)][_0x3ee69b(0x336)]});await this[_0x3ee69b(0x318)](_0x3ee69b(0x578),_0x4ea5f2);}},this[_0x29a47f(0x133)]={'messaging-history.set':async({messages:_0x379cb6,chats:_0x55f194,isLatest:_0x308a11},_0x3ea78c)=>{const _0xa59123=_0x29a47f;if(_0x308a11){let _0x758d5b=await Promise[_0xa59123(0x4be)](_0x55f194[_0xa59123(0x3a6)](async _0x22eb15=>({'_id':_0x22eb15['id'],'owner':this[_0xa59123(0x4f6)][_0xa59123(0x336)],'group':_0x22eb15['id'][_0xa59123(0x3d3)]('@g.us'),'name':_0x22eb15[_0xa59123(0x259)]||_0x22eb15[_0xa59123(0x628)]||null,'contactname':null,'lastmsg':_0x22eb15[_0xa59123(0x1f0)]&&_0x22eb15[_0xa59123(0x1f0)][_0xa59123(0x2d6)]()[_0xa59123(0x44d)]<0xd?_0x22eb15[_0xa59123(0x1f0)]*0x3e8:_0x22eb15['conversationTimestamp']||null,'archived':_0x22eb15[_0xa59123(0x613)]||!0x1,'unreadcount':_0x22eb15[_0xa59123(0x302)]||0x0})));await this[_0xa59123(0x318)](_0xa59123(0x56f),_0x758d5b),await this['upsertChats'](_0x758d5b,_0x3ea78c);}let _0x1b88de=[],_0x506a54=Date[_0xa59123(0x606)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x451a1b]of Object[_0xa59123(0x66)](_0x379cb6)){if(_0x451a1b['message']?.[_0xa59123(0x296)]||_0x451a1b[_0xa59123(0x273)]?.[_0xa59123(0xac)]||!_0x451a1b[_0xa59123(0x273)]||_0x451a1b[_0xa59123(0x40a)]['remoteJid']==='status@broadcast'||(ps[_0xa59123(0x6c)]['isLong'](_0x451a1b?.[_0xa59123(0x645)])&&(_0x451a1b[_0xa59123(0x645)]=_0x451a1b[_0xa59123(0x645)]?.[_0xa59123(0x16d)]()),_0x451a1b[_0xa59123(0x645)]&&_0x451a1b[_0xa59123(0x645)][_0xa59123(0x2d6)]()[_0xa59123(0x44d)]<0xd&&(_0x451a1b['messageTimestamp']=_0x451a1b[_0xa59123(0x645)]*0x3e8),_0x451a1b['messageTimestamp']<_0x506a54))continue;let {message_normalized:_0xd2a46e}=this[_0xa59123(0x467)](_0x451a1b[_0xa59123(0x273)],J(_0x451a1b[_0xa59123(0x273)]),null);Object[_0xa59123(0x363)](_0xd2a46e)[_0xa59123(0x44d)]>0x0&&_0x1b88de[_0xa59123(0x36a)]({'_id':_0x451a1b[_0xa59123(0x40a)]['id'],'key':_0x451a1b['key'],'pushName':_0x451a1b['pushName'],'participant':_0x451a1b[_0xa59123(0x7f)],'message':{..._0x451a1b[_0xa59123(0x273)]},'messageType':J(_0x451a1b[_0xa59123(0x273)]),'message_normalized':{'key':_0x451a1b[_0xa59123(0x40a)],'pushName':_0x451a1b[_0xa59123(0xb4)],'messageTimestamp':_0x451a1b[_0xa59123(0x645)],..._0xd2a46e},'messageTimestamp':_0x451a1b[_0xa59123(0x645)],'owner':this['instance'][_0xa59123(0x336)]});}_0x3ea78c['ENABLED']&&_0x1b88de[_0xa59123(0x44d)]>0x0&&(this['logger'][_0xa59123(0xb5)](this['instanceName']+'\x20('+this[_0xa59123(0x4f6)][_0xa59123(0x336)]+_0xa59123(0xcc)+_0x1b88de['length']+_0xa59123(0x13a)+this[_0xa59123(0x4f6)][_0xa59123(0x336)]+_0xa59123(0x5a2)),await this[_0xa59123(0x231)][_0xa59123(0x273)]['insert']([..._0x1b88de])),this[_0xa59123(0x318)](_0xa59123(0x28c),[..._0x1b88de]),_0x379cb6=void 0x0;},'messages.upsert':async({messages:_0x55b06e,type:_0x5b1490},_0x1ec369)=>{const _0x44698c=_0x29a47f;let _0x447e12=_0x55b06e[0x0];if(_0x5b1490!=='notify'||!_0x447e12?.['message']||_0x447e12[_0x44698c(0x273)]?.[_0x44698c(0x296)]||_0x447e12[_0x44698c(0x273)][_0x44698c(0xac)]||_0x447e12['key'][_0x44698c(0x18c)]===_0x44698c(0x219))return;let _0x4d7bd2=null,_0x1b8227=null;try{_0x4d7bd2=await this[_0x44698c(0x29d)](_0x447e12),_0x1b8227=_0x4d7bd2?_0x4d7bd2[_0x44698c(0x361)](','):null;}catch(_0x3fc86a){this[_0x44698c(0x448)][_0x44698c(0xb5)](this['instanceName']+'\x20('+this[_0x44698c(0x4f6)][_0x44698c(0x336)]+_0x44698c(0xcc)+_0x3fc86a[_0x44698c(0x273)]),_0x1b8227=_0x44698c(0x10c);}if(this[_0x44698c(0x374)][_0x44698c(0x617)](_0x44698c(0x108)),ps[_0x44698c(0x6c)]['isLong'](_0x447e12[_0x44698c(0x645)])&&(_0x447e12[_0x44698c(0x645)]=_0x447e12[_0x44698c(0x645)]?.['toNumber']()),this['localWebhook']?.[_0x44698c(0x421)]&&_0x447e12['key']['remoteJid']['includes'](_0x44698c(0xff))){this[_0x44698c(0x448)][_0x44698c(0xb5)](_0x44698c(0x386));return;}_0x447e12['messageTimestamp']&&_0x447e12[_0x44698c(0x645)]['toString']()[_0x44698c(0x44d)]<0xd&&(_0x447e12[_0x44698c(0x645)]=_0x447e12[_0x44698c(0x645)]*0x3e8);let _0x3c6fe0=_0x447e12[_0x44698c(0x273)],{messageContent:_0x1c3df7,message_normalized:_0x24735e}=this[_0x44698c(0x467)](_0x3c6fe0,J(_0x447e12['message']),_0x1b8227);_0x1c3df7||console[_0x44698c(0x9a)](_0x44698c(0x1be));let _0x483be0={'_id':_0x447e12[_0x44698c(0x40a)]['id'],'key':_0x447e12['key'],'pushName':_0x447e12[_0x44698c(0xb4)],'message':{..._0x447e12[_0x44698c(0x273)]},'messageType':J(_0x447e12[_0x44698c(0x273)]),'message_normalized':{'key':_0x447e12[_0x44698c(0x40a)],'pushName':_0x447e12[_0x44698c(0xb4)],'messageTimestamp':_0x447e12[_0x44698c(0x645)],'source':(0x0,w[_0x44698c(0x54a)])(_0x447e12[_0x44698c(0x40a)]['id']),..._0x24735e},'messageTimestamp':_0x447e12[_0x44698c(0x645)],'owner':this[_0x44698c(0x4f6)][_0x44698c(0x336)]};this['logger'][_0x44698c(0x1ce)](_0x483be0),await this[_0x44698c(0x231)]['message'][_0x44698c(0x637)]([_0x483be0]),await this[_0x44698c(0x318)]('messages.upsert',_0x483be0),q(this[_0x44698c(0x32d)],_0x44698c(0x195),{'message':_0x483be0}),_0x447e12[_0x44698c(0x40a)][_0x44698c(0x18c)]!==_0x44698c(0x219)&&await this['updateChatWithMessage'](_0x1ec369,_0x483be0,_0x44698c(0x4dd));},'messages.update':async(_0x33940f,_0x23f7cd)=>{const _0x210a39=_0x29a47f;let _0x40ab7f={0x0:_0x210a39(0x1ca),0x1:_0x210a39(0x485),0x2:'SERVER_ACK',0x3:_0x210a39(0x183),0x4:_0x210a39(0x27a),0x5:'PLAYED'};for await(let {key:_0x345d47,update:_0x1d4d3c}of _0x33940f){if(this[_0x210a39(0x389)]?.[_0x210a39(0x421)]&&_0x345d47[_0x210a39(0x18c)][_0x210a39(0x3a7)](_0x210a39(0xff))){this[_0x210a39(0x448)][_0x210a39(0xb5)](_0x210a39(0x386));return;}if(_0x345d47['remoteJid']!=='status@broadcast'){let _0x22eaaf=Date[_0x210a39(0x606)](),_0x152618;_0x1d4d3c[_0x210a39(0x273)]===null&&_0x1d4d3c[_0x210a39(0x34d)]===void 0x0?_0x152618=_0x210a39(0x323):_0x152618=_0x40ab7f[_0x1d4d3c[_0x210a39(0x34d)]];let _0x2293f2=_0x345d47[_0x210a39(0x18c)]['replace'](/:\d{1,2}@/g,'@'),_0x5247f3={..._0x345d47,'remoteJid':_0x2293f2,'status':_0x152618,'datetime':_0x22eaaf,'owner':this[_0x210a39(0x4f6)][_0x210a39(0x336)]};await this[_0x210a39(0x318)](_0x210a39(0x56b),_0x5247f3),await this[_0x210a39(0x425)](_0x345d47,_0x2293f2,_0x5247f3);}}}},this[_0x29a47f(0x1e2)]={'groups.upsert':_0x29c166=>{const _0xaefa49=_0x29a47f;this['sendDataWebhook'](_0xaefa49(0xe3),_0x29c166);},'groups.update':_0x18b5c3=>{const _0x36f0de=_0x29a47f;this[_0x36f0de(0x318)](_0x36f0de(0x32f),_0x18b5c3);},'group-participants.update':_0x68ff1e=>{const _0x1bd731=_0x29a47f;this[_0x1bd731(0x318)](_0x1bd731(0x1a1),_0x68ff1e);}},this['processPollUpdateMessage']=async _0x42e59c=>{const _0x6668ae=_0x29a47f;if(_0x42e59c['message']?.['pollUpdateMessage']){let _0x44d9f4=await this[_0x6668ae(0x5b9)](_0x42e59c['message'][_0x6668ae(0x26b)][_0x6668ae(0x5f0)],!0x0);if(_0x44d9f4){let _0x2796dd=_0x44d9f4['key']['fromMe']?this[_0x6668ae(0x4f6)][_0x6668ae(0x336)]+'@s.whatsapp.net':_0x44d9f4[_0x6668ae(0x40a)][_0x6668ae(0x7f)]||_0x44d9f4[_0x6668ae(0x40a)]['remoteJid'],_0x1dc5eb=_0x44d9f4[_0x6668ae(0x40a)]['id'],_0x2a042a=_0x44d9f4[_0x6668ae(0x273)],_0x5139c6=Buffer[_0x6668ae(0x14b)](_0x2a042a[_0x6668ae(0x2d0)]['messageSecret'][_0x6668ae(0x2d6)]('hex'),_0x6668ae(0x2be)),_0x575773=(0x0,w[_0x6668ae(0x2bf)])(_0x42e59c[_0x6668ae(0x273)]['pollUpdateMessage'][_0x6668ae(0x93)],{'pollCreatorJid':_0x2796dd,'pollMsgId':_0x1dc5eb,'pollEncKey':_0x5139c6,'voterJid':_0x42e59c[_0x6668ae(0x40a)][_0x6668ae(0x20e)]?this[_0x6668ae(0x4f6)][_0x6668ae(0x336)]+_0x6668ae(0x3e3):_0x42e59c[_0x6668ae(0x40a)][_0x6668ae(0x18c)][_0x6668ae(0x3d3)]('g.us')?_0x42e59c[_0x6668ae(0x40a)][_0x6668ae(0x7f)]:_0x42e59c[_0x6668ae(0x40a)]['remoteJid']}),_0x13de9e=[],_0x5034c7=_0x575773[_0x6668ae(0x20b)][_0x6668ae(0x3a6)](_0x4df51a=>Buffer['from'](_0x4df51a)[_0x6668ae(0x2d6)](_0x6668ae(0x2be)));for(let {optionName:_0x5240f0}of _0x2a042a[_0x6668ae(0x13c)]?.['options']||_0x2a042a[_0x6668ae(0x51a)]?.[_0x6668ae(0x500)]||_0x2a042a[_0x6668ae(0x598)]?.['options'])_0x5034c7[_0x6668ae(0x61d)]((0x0,w['sha256'])(Buffer[_0x6668ae(0x14b)](_0x5240f0))['toString'](_0x6668ae(0x2be)))>-0x1&&_0x13de9e[_0x6668ae(0x36a)](_0x5240f0);return _0x13de9e;}}return null;},this['normalizeMessage']=(_0x3de6dc,_0x1e18ce,_0x34a1c7)=>{const _0x3aaf18=_0x29a47f;let _0x351e87=_0x1e18ce?_0x3de6dc[_0x1e18ce]:void 0x0,_0x1cb2f1={},_0x30624d=null,_0x5817db=null,_0xce2cc3=null;if(_0x3de6dc[_0x3aaf18(0xc9)]?_0x351e87=_0x3de6dc[_0x3aaf18(0xc9)]['message'][_0x1e18ce]:_0x3de6dc[_0x3aaf18(0x57e)]?_0x351e87=_0x3de6dc[_0x3aaf18(0x57e)][_0x3aaf18(0x273)][_0x1e18ce]:_0x3de6dc[_0x3aaf18(0x3c1)]?_0x351e87=_0x3de6dc['ephemeralMessage'][_0x3aaf18(0x273)][_0x1e18ce]:_0x3de6dc[_0x3aaf18(0x65)]?.[_0x3aaf18(0x273)]?.[_0x3aaf18(0x296)]?.[_0x3aaf18(0x65)]?(_0x30624d=_0x3de6dc[_0x3aaf18(0x65)][_0x3aaf18(0x273)][_0x3aaf18(0x296)]['key']['id'],_0x3de6dc[_0x3aaf18(0x65)]['message'][_0x3aaf18(0x296)][_0x3aaf18(0x65)][_0x3aaf18(0x3f3)]?_0x351e87=_0x3de6dc['editedMessage'][_0x3aaf18(0x273)]['protocolMessage'][_0x3aaf18(0x65)][_0x3aaf18(0x3f3)]:_0x3de6dc[_0x3aaf18(0x65)]['message'][_0x3aaf18(0x296)][_0x3aaf18(0x65)][_0x3aaf18(0x1f7)]?_0x351e87=_0x3de6dc[_0x3aaf18(0x65)][_0x3aaf18(0x273)][_0x3aaf18(0x296)][_0x3aaf18(0x65)][_0x3aaf18(0x1f7)]['caption']:_0x3de6dc[_0x3aaf18(0x65)]['message'][_0x3aaf18(0x296)][_0x3aaf18(0x65)][_0x3aaf18(0x254)]?_0x351e87=_0x3de6dc[_0x3aaf18(0x65)]['message'][_0x3aaf18(0x296)]['editedMessage']['videoMessage'][_0x3aaf18(0x11d)]:_0x3de6dc['editedMessage'][_0x3aaf18(0x273)][_0x3aaf18(0x296)][_0x3aaf18(0x65)][_0x3aaf18(0xec)]?_0x351e87=_0x3de6dc['editedMessage']['message']['protocolMessage'][_0x3aaf18(0x65)][_0x3aaf18(0xec)][_0x3aaf18(0x273)]['documentMessage']['caption']:_0x351e87=_0x3de6dc[_0x3aaf18(0x65)]['message']['protocolMessage'][_0x3aaf18(0x65)]):_0x351e87=_0x3de6dc[_0x1e18ce],!_0x1e18ce||!_0x351e87)return console[_0x3aaf18(0x9a)](_0x3aaf18(0x140),_0x3de6dc),{'messageType':_0x1e18ce,'messageContent':_0x351e87,'message_normalized':{}};_0x3de6dc[_0x1e18ce]?.[_0x3aaf18(0x208)]?.['stanzaId']&&_0x3de6dc[_0x1e18ce]?.[_0x3aaf18(0x208)]?.[_0x3aaf18(0x13e)]&&(_0x5817db=_0x3de6dc[_0x1e18ce][_0x3aaf18(0x208)][_0x3aaf18(0x329)]),_0x3de6dc['reactionMessage']&&(_0xce2cc3=_0x3de6dc[_0x3aaf18(0x1da)][_0x3aaf18(0x40a)]['id']);let _0x32c1ad;if(_0x351e87&&typeof _0x351e87==_0x3aaf18(0x230)&&'pollCreationMessageKey'in _0x351e87&&({pollCreationMessageKey:_0x32c1ad}=_0x351e87),_0x1e18ce===_0x3aaf18(0xec)){let _0x3767d0=_0x351e87?.[_0x3aaf18(0x273)]?.[_0x3aaf18(0x378)];_0x3767d0&&(_0x351e87=_0x3767d0);}if(_0x1e18ce===_0x3aaf18(0x13c)||_0x1e18ce===_0x3aaf18(0x598)||_0x1e18ce===_0x3aaf18(0x51a)){let _0x27916c=_0x351e87[_0x3aaf18(0x500)][_0x3aaf18(0x3a6)](_0x314f3c=>_0x314f3c['optionName'])['join']('|');_0x1cb2f1[_0x3aaf18(0x626)]=_0x27916c;}let _0x3a7ce5=_0x351e87['name']||_0x351e87['caption']||_0x351e87[_0x3aaf18(0x3f3)]||_0x351e87[_0x3aaf18(0x628)];if(_0x351e87['vcard']){let _0x4712bb=this[_0x3aaf18(0xab)](JSON[_0x3aaf18(0x274)](_0x351e87[_0x3aaf18(0x112)],null,0x2));_0x3a7ce5=_0x3a7ce5+'\x0a'+_0x4712bb;}if(_0x351e87){let {displayName:_0x40ca99,vcard:_0x4df6a4,contactVcard:_0x597471,name:_0x27ffcd,caption:_0x1dec5a,conversation:_0x32589f,pollCreationMessageKey:_0x312ce6,footerText:_0xfdb329,contentText:_0x244752,pageCount:_0xb567c4,headerType:_0x294b9c,isAvatar:_0x2a83d6,isAnimated:_0x194bf4,fallbackLc:_0x264902,fallbackLg:_0x63baac,namespace:_0xc2d291,elementName:_0x179189,localizableParams:_0x29d996,viewOnce:_0x4fd239,height:_0x726e97,width:_0x159ff5,key:_0x3ff932,firstScanLength:_0x2822fa,firstScanSidecar:_0x555089,gifPlayback:_0x4e64a3,gifAttribution:_0x41621b,midQualityFileSha256:_0x4a616f,scansSidecar:_0x536874,streamingSidecar:_0xe1a62c,thumbnailHeight:_0x90fe0d,thumbnailWidth:_0x3da894,thumbnailEncSha256:_0x3039a1,thumbnailDirectPath:_0x6e57fa,canonicalUrl:_0x2f46d4,matchedText:_0x27d02c,previewType:_0xd17149,thumbnailSha256:_0x5e2cfd,deviceListMetadataVersion:_0x338c3c,inviteLinkGroupTypeV2:_0x100d0e,interactiveAnnotations:_0x575a1f,scanLengths:_0x58cbb1,jpegThumbnail:_0x5a8389,url:_0x321149,mediaKeyTimestamp:_0x5b8bee,waveform:_0x2155b7,stickerSentTs:_0x375b44,firstFrameLength:_0xa1e25f,fileEncSha256:_0x4d5a72,contextInfo:_0x126b55,firstFrameSidecar:_0x232fdf,directPath:_0x41982e,fileSha256:_0x25d4a7,mediaKey:_0x4146f7,senderTimestampMs:_0x2e0827,..._0x22b6d1}=_0x351e87;typeof _0x351e87==_0x3aaf18(0x5c3)?_0x1cb2f1={'text':_0x351e87,'type':_0x1e18ce||'conversation',..._0x30624d&&{'edited':_0x30624d},..._0x5817db&&{'quoted':_0x5817db},..._0xce2cc3&&{'reaction':_0xce2cc3}}:_0x1cb2f1={'text':_0x3a7ce5,..._0x22b6d1,..._0x1e18ce===_0x3aaf18(0x26b)?{'poll_id':_0x351e87[_0x3aaf18(0x5f0)]['id'],'vote':_0x34a1c7}:{},'type':_0x1e18ce,..._0x30624d&&{'edited':_0x30624d},..._0x5817db&&{'quoted':_0x5817db},..._0xce2cc3&&{'reaction':_0xce2cc3},...(_0x1e18ce===_0x3aaf18(0x13c)||_0x1e18ce===_0x3aaf18(0x598)||_0x1e18ce===_0x3aaf18(0x51a))&&{'convertedOptions':_0x1cb2f1[_0x3aaf18(0x626)]}};}return{'messageType':_0x1e18ce,'messageContent':_0x351e87,'message_normalized':_0x1cb2f1};},this[_0x29a47f(0x33e)]=null,this[_0x29a47f(0x14f)]=0x0,this[_0x29a47f(0x250)]=null,(this[_0x29a47f(0xcb)](),this[_0x29a47f(0x4f6)]['qrcode']={'count':0x0});}set[a0_0x5c767c(0x32d)](_0x35b6d8){const _0x2fd11b=a0_0x5c767c;if(!_0x35b6d8){this[_0x2fd11b(0x4f6)][_0x2fd11b(0x259)]=(0x0,Ya['v4'])();return;}this['instance'][_0x2fd11b(0x259)]=_0x35b6d8,this[_0x2fd11b(0x318)](_0x2fd11b(0x197),{'instance':this['instance'][_0x2fd11b(0x259)],'status':_0x2fd11b(0x48c)});}get[a0_0x5c767c(0x32d)](){const _0x513823=a0_0x5c767c;return this[_0x513823(0x4f6)][_0x513823(0x259)];}get['wuid'](){const _0x112b02=a0_0x5c767c;return this['instance'][_0x112b02(0x336)];}async[a0_0x5c767c(0x509)](){const _0x78ca45=a0_0x5c767c;let _0x34583e=this['client'][_0x78ca45(0x39c)]?.[_0x78ca45(0x259)]??this[_0x78ca45(0x374)]['user']?.[_0x78ca45(0x35a)];if(!_0x34583e){if(this[_0x78ca45(0x366)]['get'](_0x78ca45(0x236))[_0x78ca45(0x168)]){let _0x14d29b=await M[_0x78ca45(0x2c1)]()['db'](this[_0x78ca45(0x366)][_0x78ca45(0x3a1)](_0x78ca45(0x236))[_0x78ca45(0x156)][_0x78ca45(0x326)]+_0x78ca45(0x3ec))[_0x78ca45(0x51e)](this[_0x78ca45(0x32d)])['findOne']({'_id':'creds'});if(_0x14d29b){let _0xe1cec3=JSON[_0x78ca45(0x23c)](JSON[_0x78ca45(0x274)](_0x14d29b),w['BufferJSON'][_0x78ca45(0x2fe)]);_0x34583e=_0xe1cec3['me']?.[_0x78ca45(0x259)]||_0xe1cec3['me']?.[_0x78ca45(0x35a)];}}else{if((0x0,Te[_0x78ca45(0x58f)])((0x0,$[_0x78ca45(0x361)])(j,this[_0x78ca45(0x32d)],_0x78ca45(0x52b)))){let _0x22eeb1=JSON['parse']((0x0,Te['readFileSync'])((0x0,$[_0x78ca45(0x361)])(j,this[_0x78ca45(0x32d)],_0x78ca45(0x52b)),{'encoding':_0x78ca45(0x632)}));_0x34583e=_0x22eeb1['me']?.[_0x78ca45(0x259)]||_0x22eeb1['me']?.[_0x78ca45(0x35a)];}}}return _0x34583e;}get[a0_0x5c767c(0x252)](){const _0x32452e=a0_0x5c767c;return this[_0x32452e(0x4f6)][_0x32452e(0x252)];}get[a0_0x5c767c(0x27d)](){const _0x197a7a=a0_0x5c767c;return{'code':this[_0x197a7a(0x4f6)][_0x197a7a(0x7e)]?.['code'],'base64':this[_0x197a7a(0x4f6)]['qrcode']?.['base64']};}async[a0_0x5c767c(0x5bc)](){const _0x3a04d5=a0_0x5c767c;let _0x473bf3=await this[_0x3a04d5(0x231)][_0x3a04d5(0x3dd)]['find'](this[_0x3a04d5(0x32d)]);this[_0x3a04d5(0x389)][_0x3a04d5(0x367)]=_0x473bf3?.[_0x3a04d5(0x367)],this[_0x3a04d5(0x389)][_0x3a04d5(0x90)]=_0x473bf3?.[_0x3a04d5(0x90)],this[_0x3a04d5(0x389)][_0x3a04d5(0x59a)]=_0x473bf3?.[_0x3a04d5(0x59a)],this[_0x3a04d5(0x389)][_0x3a04d5(0x5c4)]=_0x473bf3?.[_0x3a04d5(0x5c4)],this[_0x3a04d5(0x389)][_0x3a04d5(0x31b)]=_0x473bf3?.['QRCODE_UPDATED'],this[_0x3a04d5(0x389)]['SEND_MESSAGE']=_0x473bf3?.['SEND_MESSAGE'],this[_0x3a04d5(0x389)][_0x3a04d5(0x4dd)]=_0x473bf3?.[_0x3a04d5(0x4dd)],this['localWebhook'][_0x3a04d5(0xb2)]=_0x473bf3?.['MESSAGES_UPDATE'],this[_0x3a04d5(0x389)][_0x3a04d5(0x27c)]=_0x473bf3?.[_0x3a04d5(0x27c)],this['localWebhook'][_0x3a04d5(0x4c1)]=_0x473bf3?.['GROUPS_UPDATE'],this[_0x3a04d5(0x389)]['GROUP_PARTICIPANTS_UPDATE']=_0x473bf3?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x3a04d5(0x17d)]=_0x473bf3?.[_0x3a04d5(0x17d)],this[_0x3a04d5(0x389)]['CHATS_UPSERT']=_0x473bf3?.[_0x3a04d5(0x62b)],this['localWebhook'][_0x3a04d5(0x582)]=_0x473bf3?.[_0x3a04d5(0x582)],this[_0x3a04d5(0x389)][_0x3a04d5(0x137)]=_0x473bf3?.[_0x3a04d5(0x137)],this[_0x3a04d5(0x389)][_0x3a04d5(0x543)]=_0x473bf3?.[_0x3a04d5(0x543)],this[_0x3a04d5(0x389)][_0x3a04d5(0x482)]=_0x473bf3?.[_0x3a04d5(0x482)],this[_0x3a04d5(0x389)][_0x3a04d5(0x383)]=_0x473bf3?.[_0x3a04d5(0x383)],this['localWebhook'][_0x3a04d5(0xa6)]=_0x473bf3?.[_0x3a04d5(0xa6)],this[_0x3a04d5(0x389)][_0x3a04d5(0x43c)]=_0x473bf3?.['MESSAGES_SET'],this[_0x3a04d5(0x389)][_0x3a04d5(0x2de)]=_0x473bf3?.[_0x3a04d5(0x2de)],this['localWebhook'][_0x3a04d5(0x421)]=_0x473bf3?.['groups_ignore'];}async['setWebhook'](_0x4d0aaa){const _0x472082=a0_0x5c767c;let _0x3ec24b=[_0x472082(0x5bd),_0x472082(0x367),_0x472082(0x90),_0x472082(0x59a),_0x472082(0x5c4),_0x472082(0x31b),_0x472082(0xb2),_0x472082(0x4dd),'SEND_MESSAGE',_0x472082(0x27c),'GROUPS_UPDATE',_0x472082(0x3e2),_0x472082(0x17d),_0x472082(0x62b),_0x472082(0x582),_0x472082(0x137),'CONTACTS_SET','CONTACTS_UPSERT',_0x472082(0x383),_0x472082(0xa6),_0x472082(0x43c),'CONNECTION_UPDATE',_0x472082(0x421)],_0x4ea028={};return _0x3ec24b[_0x472082(0xeb)](_0x188a0e=>{_0x4d0aaa[_0x188a0e]!==void 0x0&&(_0x4ea028[_0x188a0e]=_0x4d0aaa[_0x188a0e]);}),await this['repository'][_0x472082(0x3dd)]['create'](_0x4ea028,this[_0x472082(0x32d)]),Object[_0x472082(0x15a)](this[_0x472082(0x389)],_0x4ea028),await this['repository'][_0x472082(0x3dd)][_0x472082(0x504)](this['instanceName']);}async[a0_0x5c767c(0x4f8)](){const _0x1e28c3=a0_0x5c767c;return await this['repository'][_0x1e28c3(0x3dd)][_0x1e28c3(0x504)](this['instanceName']);}async[a0_0x5c767c(0x318)](_0x3aacf4,_0x6339f0){const _0x5dcd72=a0_0x5c767c;let _0x279e64=this[_0x5dcd72(0x366)][_0x5dcd72(0x3a1)]('WEBHOOK'),_0x59fe1c=_0x3aacf4['replace'](/[\.-]/gm,'_')[_0x5dcd72(0x3a8)](),_0x2b5468=this[_0x5dcd72(0x389)]['enabled']&&(0x0,O['isURL'])(this['localWebhook']['url'])?this[_0x5dcd72(0x389)][_0x5dcd72(0x367)]+(this['localWebhook'][_0x5dcd72(0x59a)]?this['webhookMap'][_0x3aacf4]:''):null,_0xad77dc=_0x279e64?.[_0x5dcd72(0x627)],_0x5e9dda=_0xad77dc&&_0xad77dc?.[_0x5dcd72(0x168)]&&(0x0,O['isURL'])(_0xad77dc[_0x5dcd72(0x188)])?_0xad77dc[_0x5dcd72(0x188)]+(_0x279e64['WEBHOOK_MAP']?this[_0x5dcd72(0xf4)][_0x3aacf4]:''):null,_0x179dcd=this[_0x5dcd72(0x389)][_0x59fe1c],_0x1572cd=_0x279e64?.['EVENTS']?.[_0x59fe1c];if(_0x179dcd&&_0x2b5468)try{await ce[_0x5dcd72(0x6c)]['create']({'baseURL':_0x2b5468})[_0x5dcd72(0x1e9)]('',{'event':_0x3aacf4,'instance':this['instance'][_0x5dcd72(0x259)],'data':_0x6339f0}),this[_0x5dcd72(0x448)][_0x5dcd72(0x1ce)](_0x5dcd72(0x643)+_0x3aacf4+':\x20'+_0x2b5468);}catch(_0x43d792){this[_0x5dcd72(0x448)][_0x5dcd72(0x9a)](this[_0x5dcd72(0x32d)]+'\x20('+this[_0x5dcd72(0x4f6)][_0x5dcd72(0x336)]+_0x5dcd72(0xcc)+{'local':c[_0x5dcd72(0x259)]+_0x5dcd72(0x131),'message':_0x43d792?.[_0x5dcd72(0x273)],'hostName':_0x43d792?.['hostname'],'syscall':_0x43d792?.[_0x5dcd72(0x44c)],'code':_0x43d792?.[_0x5dcd72(0xba)],'error':_0x43d792?.['errno'],'stack':_0x43d792?.['stack'],'name':_0x43d792?.[_0x5dcd72(0x259)]});}if(_0x1572cd&&_0x5e9dda)try{await ce['default'][_0x5dcd72(0x1ab)]({'baseURL':_0x5e9dda})[_0x5dcd72(0x1e9)]('',{'event':_0x3aacf4,'instance':this[_0x5dcd72(0x4f6)][_0x5dcd72(0x259)],'data':_0x6339f0}),this['logger'][_0x5dcd72(0x1ce)](_0x5dcd72(0x119)+_0x3aacf4+':\x20'+_0x5e9dda);}catch(_0x4fde91){this[_0x5dcd72(0x448)][_0x5dcd72(0x9a)](this['instanceName']+'\x20('+this[_0x5dcd72(0x4f6)]['wuid']+'):\x20'+{'local':c[_0x5dcd72(0x259)]+'.sendDataWebhook-global','message':_0x4fde91?.['message'],'hostName':_0x4fde91?.[_0x5dcd72(0x1eb)],'syscall':_0x4fde91?.['syscall'],'code':_0x4fde91?.[_0x5dcd72(0xba)],'error':_0x4fde91?.[_0x5dcd72(0x54d)],'stack':_0x4fde91?.[_0x5dcd72(0x625)],'name':_0x4fde91?.['name']});}}async[a0_0x5c767c(0x1b7)]({qr:_0x49a209,connection:_0x545ab2,lastDisconnect:_0x29a4dd}){const _0x2be965=a0_0x5c767c;if(_0x49a209){if(this[_0x2be965(0x4f6)][_0x2be965(0x7e)]['count']===this[_0x2be965(0x366)][_0x2be965(0x3a1)](_0x2be965(0x2bc))['LIMIT'])return this[_0x2be965(0x318)](_0x2be965(0x145),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason']['badSession']}),this[_0x2be965(0x318)]('connection.update',{'instance':this[_0x2be965(0x4f6)][_0x2be965(0x259)],'state':_0x2be965(0x501),'statusReason':w[_0x2be965(0x622)][_0x2be965(0x3e0)]}),this[_0x2be965(0x318)](_0x2be965(0x197),{'instance':this[_0x2be965(0x4f6)][_0x2be965(0x259)],'status':_0x2be965(0x499)}),this[_0x2be965(0x474)]=!0x0,this[_0x2be965(0x61b)][_0x2be965(0x91)](_0x2be965(0x372),this[_0x2be965(0x4f6)]['name']);this[_0x2be965(0x4f6)]['qrcode']['count']++;let _0x19b4e4={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x2be965(0x56a)}};Xa[_0x2be965(0x6c)][_0x2be965(0x62f)](_0x49a209,_0x19b4e4,(_0x55b2f4,_0x2d8368)=>{const _0x4fc0f9=_0x2be965;if(_0x55b2f4){this['logger']['error'](this[_0x4fc0f9(0x32d)]+'\x20('+this[_0x4fc0f9(0x4f6)][_0x4fc0f9(0x336)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+_0x55b2f4['toString']());return;}this[_0x4fc0f9(0x4f6)][_0x4fc0f9(0x7e)]['base64']=_0x2d8368,this[_0x4fc0f9(0x4f6)][_0x4fc0f9(0x7e)][_0x4fc0f9(0xba)]=_0x49a209,this[_0x4fc0f9(0x318)](_0x4fc0f9(0x145),{'qrcode':{'instance':this[_0x4fc0f9(0x4f6)]['name'],'code':_0x49a209,'base64':_0x2d8368}});}),Za[_0x2be965(0x6c)][_0x2be965(0x476)](_0x49a209,{'small':!0x0},_0x1f9aab=>this[_0x2be965(0x448)][_0x2be965(0x1ce)](_0x2be965(0x218)+this[_0x2be965(0x4f6)]['name']+',\x20qrcodeCount:\x20'+this[_0x2be965(0x4f6)][_0x2be965(0x7e)][_0x2be965(0x5da)]+_0x2be965(0x5e6)+_0x1f9aab));}if(_0x545ab2&&(this[_0x2be965(0x310)]={'state':_0x545ab2,'statusReason':_0x29a4dd?.[_0x2be965(0x9a)]?.[_0x2be965(0xa7)]?.['statusCode']??0xc8},this[_0x2be965(0x318)](_0x2be965(0x12f),{'instance':this[_0x2be965(0x4f6)][_0x2be965(0x259)],...this['stateConnection']})),_0x545ab2==='close'){if(this[_0x2be965(0x8e)]++,this[_0x2be965(0x72)][_0x2be965(0x36a)](Date[_0x2be965(0x606)]()),this[_0x2be965(0x72)]=this['reconnectTimestamps'][_0x2be965(0x294)](_0x216a02=>Date[_0x2be965(0x606)]()-_0x216a02<this[_0x2be965(0x451)]),_0x29a4dd[_0x2be965(0x9a)]?.['output']?.[_0x2be965(0x603)]!==w[_0x2be965(0x622)][_0x2be965(0x2dc)]&&this['reconnectTimestamps']['length']<=this['MAX_RECONNECT_ATTEMPTS'])await this['connectToWhatsapp']();else{this[_0x2be965(0x318)](_0x2be965(0x197),{'instance':this[_0x2be965(0x4f6)][_0x2be965(0x259)],'status':_0x2be965(0x499)}),this[_0x2be965(0xd4)]=!0x1;try{this[_0x2be965(0x448)][_0x2be965(0xb5)](this[_0x2be965(0x32d)]+'\x20('+this[_0x2be965(0x4f6)][_0x2be965(0x336)]+_0x2be965(0x4a6));let _0xebc907=await this[_0x2be965(0x231)][_0x2be965(0x273)][_0x2be965(0x43e)](this[_0x2be965(0x4f6)][_0x2be965(0x336)]);_0xebc907[_0x2be965(0x16b)]?this[_0x2be965(0x448)][_0x2be965(0xb5)](this[_0x2be965(0x32d)]+'\x20('+this['instance'][_0x2be965(0x336)]+_0x2be965(0x2e7)):console['error']('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0xebc907['error']);}catch(_0x4af147){console[_0x2be965(0x9a)](_0x2be965(0x53b),_0x4af147);}this['delayMessage']!==null&&(this['logger'][_0x2be965(0xb5)](this['instanceName']+'\x20('+this[_0x2be965(0x4f6)][_0x2be965(0x336)]+_0x2be965(0x22a)),clearInterval(this[_0x2be965(0x4ca)]),this['delayMessage']=null),this['logger'][_0x2be965(0xb5)](this[_0x2be965(0x32d)]+'\x20('+this['instance'][_0x2be965(0x336)]+_0x2be965(0x395)),this['AutomateSystem']=null,this[_0x2be965(0x61b)][_0x2be965(0x91)](_0x2be965(0x71),this['instance'][_0x2be965(0x259)],_0x2be965(0x4e6)),this[_0x2be965(0x374)]?.['ws']?.[_0x2be965(0x3a9)](),this['client'][_0x2be965(0x3c8)](new Error('Close\x20connection'));}}if(_0x545ab2===_0x2be965(0x255)){this['resetReconnectionVariables'],this[_0x2be965(0x4f6)][_0x2be965(0x336)]=this[_0x2be965(0x374)][_0x2be965(0x39c)]['id']['replace'](/:\d+/,'')[_0x2be965(0x8d)](_0x2be965(0x3e3),''),this[_0x2be965(0x4f6)][_0x2be965(0x252)]=(await this['profilePicture'](this[_0x2be965(0x4f6)]['wuid']+_0x2be965(0x3e3)))[_0x2be965(0x252)];let _0x351bd1='Número:\x20'+this[_0x2be965(0x4f6)][_0x2be965(0x336)],_0x4968f3=0x28,_0xeeb1cc=Math[_0x2be965(0x46e)]((_0x4968f3-_0x351bd1[_0x2be965(0x44d)])/0x2),_0x58fdd7='\x20'[_0x2be965(0x1c0)](_0xeeb1cc),_0x4e3e15=_0x2be965(0x402),_0xfa3c49=_0x2be965(0x53e)+this[_0x2be965(0x4f6)][_0x2be965(0x259)],_0x447a88=(''+_0x58fdd7+_0x351bd1+_0x58fdd7)[_0x2be965(0x346)](_0x4968f3,'\x20'),_0x2abaa9=(''+_0x58fdd7+_0x4e3e15+_0x58fdd7)[_0x2be965(0x346)](_0x4968f3,'\x20'),_0x4daf2e=(''+_0x58fdd7+_0xfa3c49+_0x58fdd7)[_0x2be965(0x346)](_0x4968f3,'\x20'),_0x454f30=Math[_0x2be965(0x2d2)](_0x447a88[_0x2be965(0x44d)],_0x2abaa9[_0x2be965(0x44d)],_0x4daf2e[_0x2be965(0x44d)]),_0x709ae4=_0x447a88[_0x2be965(0x346)](_0x454f30,'\x20'),_0x19f800=_0x2abaa9[_0x2be965(0x346)](_0x454f30,'\x20'),_0x4048d7=_0x4daf2e[_0x2be965(0x346)](_0x454f30,'\x20');this[_0x2be965(0x448)]['info']((_0x2be965(0x508)+'─'[_0x2be965(0x1c0)](_0x454f30)+_0x2be965(0x375)+_0x19f800+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4048d7+_0x2be965(0x249)+_0x709ae4+_0x2be965(0x11a)+'─'[_0x2be965(0x1c0)](_0x454f30)+'┘')[_0x2be965(0x8d)](/^ +/gm,'\x20\x20')),this[_0x2be965(0x63e)](),this[_0x2be965(0xd4)]=!0x0;}}[a0_0x5c767c(0xa9)](){const _0x4d80e4=a0_0x5c767c;this[_0x4d80e4(0x8e)]=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x446531,_0x2ebd3a=!0x1){const _0x18504b=a0_0x5c767c;try{let _0x2a87a9=await this['repository'][_0x18504b(0x273)][_0x18504b(0x504)]({'where':{'owner':this[_0x18504b(0x4f6)][_0x18504b(0x336)],'_id':_0x446531['id']}});return _0x2ebd3a?_0x2a87a9[0x0]:_0x2a87a9[0x0][_0x18504b(0x273)];}catch{return{'conversation':''};}}[a0_0x5c767c(0xcb)](){const _0x4c8538=a0_0x5c767c;let _0x11bc47=this[_0x4c8538(0x366)]['get']('STORE'),_0x21c9c5=this[_0x4c8538(0x366)][_0x4c8538(0x3a1)](_0x4c8538(0x236));_0x11bc47?.['CLEANING_INTERVAL']&&!_0x21c9c5[_0x4c8538(0x168)]&&setInterval(()=>{const _0x3d1711=_0x4c8538;try{for(let [_0x108dda,_0x4e7a1a]of Object[_0x3d1711(0x66)](_0x11bc47))_0x4e7a1a===!0x0&&(0x0,Dt[_0x3d1711(0x565)])(_0x3d1711(0x349)+(0x0,$[_0x3d1711(0x361)])(this[_0x3d1711(0x5c7)],_0x108dda[_0x3d1711(0xd0)](),this[_0x3d1711(0x4f6)][_0x3d1711(0x336)])+'/*.json');}catch{}},(_0x11bc47?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x5c767c(0x2a2)](){const _0x3c6846=a0_0x5c767c;let _0x559561=this[_0x3c6846(0x366)][_0x3c6846(0x3a1)](_0x3c6846(0x236)),_0x4447b8=this[_0x3c6846(0x366)][_0x3c6846(0x3a1)](_0x3c6846(0x2c4));return _0x4447b8?.[_0x3c6846(0x168)]?await ds(_0x4447b8,this[_0x3c6846(0x4f6)][_0x3c6846(0x259)]):_0x559561[_0x3c6846(0x168)]?await us(this[_0x3c6846(0x4f6)][_0x3c6846(0x259)]):await(0x0,w[_0x3c6846(0x271)])((0x0,$[_0x3c6846(0x361)])(j,this[_0x3c6846(0x4f6)][_0x3c6846(0x259)]));}async[a0_0x5c767c(0x63e)](){const _0x116860=a0_0x5c767c;let _0x409c95=()=>Math[_0x116860(0x46e)](Math['random']()*0x2711)+0x7d0,_0x24a67c=async()=>{const _0x2dc686=_0x116860;if(!this[_0x2dc686(0xd4)]){this[_0x2dc686(0x448)]['verbose'](_0x2dc686(0x5ac)),this[_0x2dc686(0x23f)]=!0x1;return;}if(this[_0x2dc686(0x4f6)]['wuid']&&this['AutomateSystem']&&this[_0x2dc686(0x4ca)]!==null&&this[_0x2dc686(0x4ca)]!==void 0x0){let _0x21d58b=Math[_0x2dc686(0x5d5)](this[_0x2dc686(0x4ca)]/0xea60);this[_0x2dc686(0x448)][_0x2dc686(0xb5)](this[_0x2dc686(0x32d)]+'\x20('+this['instance'][_0x2dc686(0x336)]+_0x2dc686(0x31f)+_0x21d58b+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x2dc686(0x23f)]=!0x1;return;}else this[_0x2dc686(0x4f6)][_0x2dc686(0x336)]&&(this[_0x2dc686(0x448)][_0x2dc686(0xb5)](this[_0x2dc686(0x32d)]+'\x20('+this['instance'][_0x2dc686(0x336)]+_0x2dc686(0x457)),this[_0x2dc686(0x56e)]||await this[_0x2dc686(0x124)](),(this[_0x2dc686(0x4ca)]===null||this[_0x2dc686(0x4ca)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x2dc686(0x23f)]){let _0x339660=_0x409c95();this['logger'][_0x2dc686(0xb5)](this['instanceName']+_0x2dc686(0x358)+_0x339660/0x3e8+_0x2dc686(0x518)),setTimeout(_0x24a67c,_0x339660);}};if(this['isRunning'])return;this[_0x116860(0x23f)]=!0x0;let _0x4bd784=_0x409c95();setTimeout(_0x24a67c,_0x4bd784);}async[a0_0x5c767c(0x4bf)](){const _0x3a4833=a0_0x5c767c;try{this[_0x3a4833(0x5bc)](),this[_0x3a4833(0x4f6)]['authState']=await this['defineAuthState']();let {version:_0x5d01e7}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x2c0884=this['configService'][_0x3a4833(0x3a1)](_0x3a4833(0x165)),_0x3f5bb=[_0x2c0884[_0x3a4833(0x46b)],_0x2c0884[_0x3a4833(0x27f)],(0x0,eo['release'])()],_0x2ff9da={'auth':{'creds':this[_0x3a4833(0x4f6)][_0x3a4833(0x2ab)][_0x3a4833(0x3be)][_0x3a4833(0x3df)],'keys':(0x0,w[_0x3a4833(0x187)])(this[_0x3a4833(0x4f6)]['authState'][_0x3a4833(0x3be)][_0x3a4833(0x363)],(0x0,Rt[_0x3a4833(0x6c)])({'level':_0x3a4833(0x9a)}))},'logger':(0x0,Rt[_0x3a4833(0x6c)])({'level':_0x3a4833(0x9a)}),'printQRInTerminal':!0x1,'browser':_0x3f5bb,'version':_0x5d01e7,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3a4833(0x5d2)],'getMessage':async _0x34a4de=>await this[_0x3a4833(0x5b9)](_0x34a4de),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x4ca6f6=>(!!(_0x4ca6f6['buttonsMessage']||_0x4ca6f6[_0x3a4833(0x232)])&&(_0x4ca6f6={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x4ca6f6}}}),_0x4ca6f6)};return this[_0x3a4833(0x474)]=!0x1,this[_0x3a4833(0x374)]=(0x0,w[_0x3a4833(0x6c)])(_0x2ff9da),this[_0x3a4833(0x5cd)](),this['client'];}catch(_0x4c09d1){throw this['logger'][_0x3a4833(0x9a)](this[_0x3a4833(0x32d)]+'\x20('+this[_0x3a4833(0x4f6)][_0x3a4833(0x336)]+_0x3a4833(0xcc)+_0x4c09d1),new A(_0x4c09d1?.[_0x3a4833(0x2d6)]());}}[a0_0x5c767c(0x5cd)](){this['client']['ev']['process'](_0xa65294=>{const _0x2b782f=a0_0x277c;if(!this[_0x2b782f(0x474)]){let _0x2db993=this['configService'][_0x2b782f(0x3a1)](_0x2b782f(0x236));if(_0xa65294[_0x2b782f(0x12f)]&&this['connectionUpdate'](_0xa65294[_0x2b782f(0x12f)]),_0xa65294[_0x2b782f(0xfd)]&&this['instance']['authState'][_0x2b782f(0x25c)](),_0xa65294['messaging-history.set']){let _0x22262a=_0xa65294[_0x2b782f(0x214)];this[_0x2b782f(0x133)]['messaging-history.set'](_0x22262a,_0x2db993);}if(_0xa65294[_0x2b782f(0x503)]){let _0xefc2d9=_0xa65294[_0x2b782f(0x503)];this[_0x2b782f(0x133)][_0x2b782f(0x503)](_0xefc2d9,_0x2db993);}if(_0xa65294[_0x2b782f(0x56b)]){let _0x4a222a=_0xa65294['messages.update'];this[_0x2b782f(0x133)][_0x2b782f(0x56b)](_0x4a222a,_0x2db993);}if(_0xa65294['presence.update']){let _0x98b707=_0xa65294['presence.update'];if(this['localWebhook']?.['groups_ignore']&&_0x98b707['id']['includes']('@g.us'))return;this[_0x2b782f(0x318)](_0x2b782f(0x309),_0x98b707);}if(!this['localWebhook']?.['groups_ignore']){if(_0xa65294[_0x2b782f(0xe3)]){let _0x10f4cf=_0xa65294[_0x2b782f(0xe3)];this['groupHandler'][_0x2b782f(0xe3)](_0x10f4cf);}if(_0xa65294[_0x2b782f(0x32f)]){let _0x4d9020=_0xa65294[_0x2b782f(0x32f)];this['groupHandler'][_0x2b782f(0x32f)](_0x4d9020);}if(_0xa65294['group-participants.update']){let _0xcc7eba=_0xa65294[_0x2b782f(0x1a1)];this[_0x2b782f(0x1e2)][_0x2b782f(0x1a1)](_0xcc7eba);}}if(_0xa65294[_0x2b782f(0x2ef)]){let _0x516e67=_0xa65294['chats.upsert'];this[_0x2b782f(0x2f2)][_0x2b782f(0x2ef)](_0x516e67,_0x2db993);}if(_0xa65294[_0x2b782f(0x4da)]){let _0x28b0fe=_0xa65294[_0x2b782f(0x4da)];this[_0x2b782f(0x2f2)]['chats.update'](_0x28b0fe,_0x2db993);}if(_0xa65294[_0x2b782f(0x320)]){let _0x495d03=_0xa65294[_0x2b782f(0x320)];this[_0x2b782f(0x2f2)][_0x2b782f(0x320)](_0x495d03);}if(_0xa65294[_0x2b782f(0x12a)]){let _0x1ed4ae=_0xa65294[_0x2b782f(0x12a)];this[_0x2b782f(0x1aa)][_0x2b782f(0x12a)](_0x1ed4ae,_0x2db993);}if(_0xa65294[_0x2b782f(0x578)]){let _0x4e2f11=_0xa65294[_0x2b782f(0x578)];this['contactHandle'][_0x2b782f(0x578)](_0x4e2f11,_0x2db993);}}});}[a0_0x5c767c(0x553)](_0x2c8807){const _0x272991=a0_0x5c767c;let _0x3e5282=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x272991(0x2db)](_0x2c8807);if(_0x3e5282&&_0x3e5282[0x1]==='55'){let _0x3e2c5f=_0x3e5282[0x2],_0x167f48=_0x3e5282[0x3],_0x320018=_0x3e5282[0x4];if(_0x3e2c5f>='31'&&_0x167f48==='9')return _0x3e5282[0x1]+_0x3e2c5f+_0x320018;}return _0x2c8807;}['createJid'](_0x23ccea){const _0x23a3ba=a0_0x5c767c;return _0x23ccea[_0x23a3ba(0x3a7)](_0x23a3ba(0xff))||_0x23ccea[_0x23a3ba(0x3a7)](_0x23a3ba(0x3e3))||_0x23ccea[_0x23a3ba(0x3a7)](_0x23a3ba(0x25e))?_0x23ccea:(_0x23ccea=_0x23ccea?.['replace'](/\s/g,'')[_0x23a3ba(0x8d)](/\+/g,'')[_0x23a3ba(0x8d)](/\(/g,'')[_0x23a3ba(0x8d)](/\)/g,'')[_0x23a3ba(0x642)](/\:/)[0x0][_0x23a3ba(0x642)]('@')[0x0],_0x23ccea[_0x23a3ba(0x44d)]>=0x12?(_0x23ccea=_0x23ccea[_0x23a3ba(0x8d)](/[^\d-]/g,''),_0x23ccea+_0x23a3ba(0xff)):(_0x23ccea=_0x23ccea[_0x23a3ba(0x8d)](/\D/g,''),this['formatBRNumber'](_0x23ccea)+_0x23a3ba(0x3e3)));}async[a0_0x5c767c(0x4d6)](_0x123129){const _0x500006=a0_0x5c767c;let _0x468bdb=this[_0x500006(0x42e)](_0x123129[_0x500006(0x48d)]),_0x3fdb2d=(await this['whatsappNumber']({'numbers':[_0x468bdb]}))[0x0];if(!_0x3fdb2d[_0x500006(0x4eb)]&&!(0x0,w[_0x500006(0x4d0)])(_0x3fdb2d[_0x500006(0x2bd)]))throw new g(_0x3fdb2d);let _0xedec95=(0x0,w[_0x500006(0x4d0)])(_0x468bdb)?_0x468bdb:_0x3fdb2d[_0x500006(0x2bd)];if((0x0,w['isJidGroup'])(_0xedec95))try{await this[_0x500006(0x374)][_0x500006(0x4a9)](_0xedec95);}catch{throw new x(_0x500006(0x19d));}try{return await this[_0x500006(0x374)]['presenceSubscribe'](_0xedec95),await this['client'][_0x500006(0x617)](_0x123129[_0x500006(0x4de)],_0x468bdb),{'status':0xc8,'presence':_0x123129[_0x500006(0x4de)]};}catch(_0x1e8be4){throw new g(_0x1e8be4['toString']());}}async[a0_0x5c767c(0x2aa)](_0x58461a){const _0x3d006a=a0_0x5c767c;let _0x16e32f=this[_0x3d006a(0x42e)](_0x58461a);try{return{'wuid':_0x16e32f,'profilePictureUrl':await this[_0x3d006a(0x374)][_0x3d006a(0x252)](_0x16e32f,_0x3d006a(0x40f))};}catch{return{'wuid':_0x16e32f,'profilePictureUrl':null};}}async[a0_0x5c767c(0x35d)](_0x4168b7,_0x33775f,_0x2baa2e){const _0x483921=a0_0x5c767c;let _0x4c0e5f=(await this[_0x483921(0x3d6)]({'numbers':[_0x4168b7]}))[0x0];if(!_0x4c0e5f[_0x483921(0x4eb)]&&!(0x0,w[_0x483921(0x4d0)])(_0x4c0e5f['jid'])&&!_0x4c0e5f[_0x483921(0x2bd)]['includes'](_0x483921(0x25e)))throw new g(_0x4c0e5f);let _0x171a53=_0x4c0e5f['jid'];try{_0x2baa2e?.[_0x483921(0x47c)]&&(await this[_0x483921(0x374)][_0x483921(0x3c2)](_0x171a53),await this[_0x483921(0x374)][_0x483921(0x617)](_0x2baa2e?.['presence']??_0x483921(0x42b),_0x171a53),await(0x0,w['delay'])(_0x2baa2e[_0x483921(0x47c)]),await this[_0x483921(0x374)][_0x483921(0x617)](_0x483921(0x5ed),_0x171a53));let _0x474cc6=_0x2baa2e?.[_0x483921(0x376)]!=!0x1?void 0x0:!0x1,_0x4b675b;if(_0x2baa2e?.[_0x483921(0x572)]){let _0x13013e=_0x2baa2e?.[_0x483921(0x572)],_0x108cdc=_0x13013e?.[_0x483921(0x273)]?_0x13013e:await this[_0x483921(0x5b9)](_0x13013e[_0x483921(0x40a)],!0x0);if(!_0x108cdc)throw _0x483921(0x5fe);_0x4b675b=_0x108cdc;}let _0x349cac;if((0x0,w[_0x483921(0x4d0)])(_0x171a53))try{let _0x30e072=await this['client'][_0x483921(0x4a9)](_0x171a53);if(!_0x30e072)throw new x(_0x483921(0x19d));_0x2baa2e?.['mentions']&&(_0x2baa2e['mentions']?.[_0x483921(0x3ef)]?_0x349cac=_0x30e072[_0x483921(0x4a1)][_0x483921(0x3a6)](_0xa24d6b=>_0xa24d6b['id']):_0x2baa2e['mentions']?.[_0x483921(0x182)]?.[_0x483921(0x44d)]&&(_0x349cac=_0x2baa2e[_0x483921(0x306)][_0x483921(0x182)][_0x483921(0x3a6)](_0x3bf535=>{const _0x1c5ff8=_0x483921;let _0x302c01=this[_0x1c5ff8(0x42e)](_0x3bf535);return(0x0,w[_0x1c5ff8(0x4d0)])(_0x302c01)?null:_0x302c01;})));}catch{throw new x(_0x483921(0x19d));}let _0x43d025=await((async()=>{const _0x4449a8=_0x483921;let _0x339792={'quoted':_0x4b675b};if(!_0x33775f[_0x4449a8(0x3bd)]&&!_0x33775f[_0x4449a8(0x24a)]&&!_0x33775f[_0x4449a8(0xee)]&&!_0x33775f['conversation']&&_0x171a53!==_0x4449a8(0x219)&&!_0x33775f[_0x4449a8(0x3bd)])return await this[_0x4449a8(0x374)][_0x4449a8(0x5e2)](_0x171a53,{'forward':{'key':{'remoteJid':this[_0x4449a8(0x4f6)]['wuid'],'fromMe':!0x0},'message':_0x33775f},'mentions':_0x349cac},_0x339792);if(_0x33775f[_0x4449a8(0x3f3)]){let _0x2483bf=_0x33775f[_0x4449a8(0x3f3)];return _0x2baa2e?.[_0x4449a8(0x16e)]&&(_0x2483bf=await this[_0x4449a8(0x620)](_0x2483bf,_0x171a53)),await this[_0x4449a8(0x374)]['sendMessage'](_0x171a53,{'text':_0x2483bf,'mentions':_0x349cac,'linkPreview':_0x474cc6},_0x339792);}return _0x171a53===_0x4449a8(0x219)?await this[_0x4449a8(0x374)][_0x4449a8(0x5e2)](_0x171a53,_0x33775f[_0x4449a8(0x34d)]['content'],{'backgroundColor':_0x33775f[_0x4449a8(0x34d)]['option'][_0x4449a8(0x60b)],'font':_0x33775f[_0x4449a8(0x34d)][_0x4449a8(0x404)][_0x4449a8(0x171)],'statusJidList':_0x33775f['status'][_0x4449a8(0x404)][_0x4449a8(0xc2)]}):await this[_0x4449a8(0x374)]['sendMessage'](_0x171a53,_0x33775f,_0x339792);})()),{message_normalized:_0x8d20ef}=this[_0x483921(0x467)](_0x43d025[_0x483921(0x273)],J(_0x43d025[_0x483921(0x273)]),null),_0x4ecb70={'_id':_0x43d025[_0x483921(0x40a)]['id'],'key':_0x43d025[_0x483921(0x40a)],'pushName':_0x43d025[_0x483921(0xb4)],'message':{..._0x43d025[_0x483921(0x273)]},'messageType':J(_0x43d025['message']),'message_normalized':{'key':_0x43d025[_0x483921(0x40a)],'pushName':_0x43d025[_0x483921(0xb4)],'messageTimestamp':_0x43d025[_0x483921(0x645)]&&_0x43d025[_0x483921(0x645)][_0x483921(0x2d6)]()[_0x483921(0x44d)]<0xd?_0x43d025[_0x483921(0x645)]*0x3e8:_0x43d025[_0x483921(0x645)]||null,'source':(0x0,w[_0x483921(0x54a)])(_0x43d025[_0x483921(0x40a)]['id']),..._0x8d20ef},'messageTimestamp':_0x43d025[_0x483921(0x645)]&&_0x43d025[_0x483921(0x645)][_0x483921(0x2d6)]()[_0x483921(0x44d)]<0xd?_0x43d025['messageTimestamp']*0x3e8:_0x43d025['messageTimestamp']||null,'owner':this[_0x483921(0x4f6)][_0x483921(0x336)],'source':(0x0,w[_0x483921(0x54a)])(_0x43d025['key']['id'])};return this[_0x483921(0x448)][_0x483921(0x1ce)](_0x4ecb70),await this['sendDataWebhook'](_0x483921(0x412),_0x4ecb70),q(this['instanceName'],_0x483921(0x195),{'message':_0x4ecb70}),this[_0x483921(0x647)](this[_0x483921(0x366)][_0x483921(0x3a1)](_0x483921(0x236)),_0x4ecb70,_0x483921(0x300)),await this[_0x483921(0x231)][_0x483921(0x273)][_0x483921(0x637)]([_0x4ecb70]),_0x43d025;}catch(_0x4debd3){throw this['logger'][_0x483921(0x9a)](this[_0x483921(0x32d)]+'\x20('+this[_0x483921(0x4f6)][_0x483921(0x336)]+_0x483921(0xcc)+_0x4debd3[_0x483921(0x2d6)]()),new g(_0x4debd3[_0x483921(0x2d6)]());}}get['connectionStatus'](){const _0x180698=a0_0x5c767c;return this[_0x180698(0x310)];}async['textMessage'](_0x219dbe){const _0x2f3c94=a0_0x5c767c;let _0x3fee3b=this[_0x2f3c94(0x366)]['get']('TRIAL_AD'),_0x17eaea=this[_0x2f3c94(0x366)][_0x2f3c94(0x3a1)]('TRIAL_INSTANCE_NAME');return _0x17eaea&&this[_0x2f3c94(0x32d)]['toLowerCase']()[_0x2f3c94(0x3a7)](_0x17eaea[_0x2f3c94(0xd0)]())&&(_0x219dbe[_0x2f3c94(0x4df)][_0x2f3c94(0x217)]+='\x0a\x0a'+_0x3fee3b),await this[_0x2f3c94(0x35d)](_0x219dbe['number'],{'conversation':_0x219dbe[_0x2f3c94(0x4df)][_0x2f3c94(0x217)]},_0x219dbe?.[_0x2f3c94(0x500)]);}async[a0_0x5c767c(0x201)](_0x163b00){const _0x2b0bd4=a0_0x5c767c;if(!_0x163b00['type'])throw new g(_0x2b0bd4(0x1ad));if(!_0x163b00[_0x2b0bd4(0x5e0)])throw new g(_0x2b0bd4(0x4bd));if(_0x163b00['allContacts']){let _0x4f12ff=await this[_0x2b0bd4(0x231)][_0x2b0bd4(0xad)][_0x2b0bd4(0x504)]({'where':{'owner':this[_0x2b0bd4(0x4f6)]['wuid']}});if(!_0x4f12ff[_0x2b0bd4(0x44d)])throw new g(_0x2b0bd4(0x2d3));_0x163b00[_0x2b0bd4(0xc2)]=_0x4f12ff['filter'](_0x501a7a=>_0x501a7a[_0x2b0bd4(0xb4)])[_0x2b0bd4(0x3a6)](_0x5440cf=>_0x5440cf[_0x2b0bd4(0x5bd)]);}if(!_0x163b00[_0x2b0bd4(0xc2)]?.[_0x2b0bd4(0x44d)]&&!_0x163b00['allContacts'])throw new g(_0x2b0bd4(0x56c));if(_0x163b00['type']===_0x2b0bd4(0x217)){if(!_0x163b00[_0x2b0bd4(0x60b)])throw new g(_0x2b0bd4(0x483));if(!_0x163b00[_0x2b0bd4(0x171)])throw new g(_0x2b0bd4(0x7a));return{'content':{'text':_0x163b00[_0x2b0bd4(0x5e0)]},'option':{'backgroundColor':_0x163b00[_0x2b0bd4(0x60b)],'font':_0x163b00[_0x2b0bd4(0x171)],'statusJidList':_0x163b00['statusJidList']}};}if(_0x163b00[_0x2b0bd4(0x1cf)]===_0x2b0bd4(0x40f))return{'content':{'image':{'url':_0x163b00[_0x2b0bd4(0x5e0)]},'caption':_0x163b00[_0x2b0bd4(0x11d)]},'option':{'statusJidList':_0x163b00[_0x2b0bd4(0xc2)]}};if(_0x163b00['type']===_0x2b0bd4(0x113))return{'content':{'video':{'url':_0x163b00[_0x2b0bd4(0x5e0)]},'caption':_0x163b00[_0x2b0bd4(0x11d)]},'option':{'statusJidList':_0x163b00[_0x2b0bd4(0xc2)]}};if(_0x163b00[_0x2b0bd4(0x1cf)]===_0x2b0bd4(0x3bd)){this[_0x2b0bd4(0x448)][_0x2b0bd4(0xb5)](_0x2b0bd4(0x4f3)),this[_0x2b0bd4(0x448)][_0x2b0bd4(0xb5)](_0x2b0bd4(0x5ca));let _0x2177c2=await this['convertaudio'](_0x163b00[_0x2b0bd4(0x5e0)]);if(typeof _0x2177c2==_0x2b0bd4(0x5c3)){this[_0x2b0bd4(0x448)][_0x2b0bd4(0xb5)](_0x2b0bd4(0x534));let _0x3d0312=P[_0x2b0bd4(0x4c9)](_0x2177c2)[_0x2b0bd4(0x2d6)](_0x2b0bd4(0x3aa)),_0x2b7fbd={'content':{'audio':Buffer[_0x2b0bd4(0x14b)](_0x3d0312,_0x2b0bd4(0x3aa)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x163b00[_0x2b0bd4(0xc2)]}};return P['unlinkSync'](_0x2177c2),_0x2b7fbd;}else throw new A(_0x2177c2);}throw new g('Type\x20not\x20found');}async['statusMessage'](_0x56e05e){const _0x34e2cd=a0_0x5c767c;return await this[_0x34e2cd(0x35d)](_0x34e2cd(0x219),{'status':await this[_0x34e2cd(0x201)](_0x56e05e['statusMessage'])});}async[a0_0x5c767c(0x290)](_0x334180){const _0x3813e1=a0_0x5c767c;try{let _0x712f3d=await(0x0,w['prepareWAMessageMedia'])({[_0x334180[_0x3813e1(0x53f)]]:(0x0,O[_0x3813e1(0x348)])(_0x334180[_0x3813e1(0x567)])?{'url':_0x334180[_0x3813e1(0x567)]}:Buffer['from'](_0x334180[_0x3813e1(0x567)],'base64')},{'upload':this[_0x3813e1(0x374)][_0x3813e1(0xe0)]}),_0xa94147=_0x334180[_0x3813e1(0x53f)]+'Message';if(_0x334180['mediatype']===_0x3813e1(0x401)&&!_0x334180[_0x3813e1(0x571)]){let _0x41603c=new RegExp(/.*\/(.+?)\./)['exec'](_0x334180[_0x3813e1(0x567)]);_0x334180['fileName']=_0x41603c?_0x41603c[0x1]:null;}let _0x1f33c1=(0x0,O[_0x3813e1(0x348)])(_0x334180[_0x3813e1(0x567)])?_0x334180[_0x3813e1(0x567)][_0x3813e1(0x642)]('?')[0x0]:_0x334180[_0x3813e1(0x567)];this[_0x3813e1(0x448)][_0x3813e1(0xb5)](_0x3813e1(0x54e)+_0x1f33c1);let _0x1a2f99;_0x334180[_0x3813e1(0x571)]?_0x1a2f99=(0x0,Mt[_0x3813e1(0x453)])(_0x334180[_0x3813e1(0x571)]):(0x0,O[_0x3813e1(0x348)])(_0x334180['media'])?_0x1a2f99=(0x0,Mt[_0x3813e1(0x453)])(_0x1f33c1):_0x1a2f99=(0x0,Mt['getMIMEType'])(_0x334180['media']);let _0x244a64=this[_0x3813e1(0x366)]['get'](_0x3813e1(0x394)),_0x395299=this[_0x3813e1(0x366)][_0x3813e1(0x3a1)](_0x3813e1(0x1c1));return _0x395299&&this[_0x3813e1(0x32d)][_0x3813e1(0xd0)]()[_0x3813e1(0x3a7)](_0x395299[_0x3813e1(0xd0)]())&&(_0x334180[_0x3813e1(0x11d)]+='\x0a\x0a'+_0x244a64),_0x712f3d[_0xa94147][_0x3813e1(0x11d)]=_0x334180?.[_0x3813e1(0x11d)],_0x712f3d[_0xa94147][_0x3813e1(0x14e)]=_0x1a2f99,_0x712f3d[_0xa94147][_0x3813e1(0x571)]=_0x334180['fileName'],_0x334180[_0x3813e1(0x53f)]==='video'&&(_0x712f3d[_0xa94147][_0x3813e1(0x60d)]=Uint8Array[_0x3813e1(0x14b)]((0x0,Te[_0x3813e1(0x4c9)])((0x0,$[_0x3813e1(0x361)])(process[_0x3813e1(0x169)](),_0x3813e1(0x17b)))),_0x712f3d[_0xa94147][_0x3813e1(0xdc)]=!0x1),(0x0,w[_0x3813e1(0x638)])('',{[_0xa94147]:{..._0x712f3d[_0xa94147]}},{'userJid':this['instance'][_0x3813e1(0x336)]});}catch(_0x30d1c3){throw this[_0x3813e1(0x448)][_0x3813e1(0x9a)](this['instanceName']+'\x20('+this[_0x3813e1(0x4f6)][_0x3813e1(0x336)]+_0x3813e1(0xcc)+_0x30d1c3),new A(_0x30d1c3?.[_0x3813e1(0x2d6)]()||_0x30d1c3);}}async[a0_0x5c767c(0x506)](_0x45c8fb){const _0x1580d3=a0_0x5c767c;let _0x31623f=await this['prepareMediaMessage'](_0x45c8fb[_0x1580d3(0x506)]);return await this[_0x1580d3(0x35d)](_0x45c8fb[_0x1580d3(0x48d)],{..._0x31623f[_0x1580d3(0x273)]},_0x45c8fb?.['options']);}async['convertToWebP'](_0x8f9b3e,_0x49089f){const _0x4d1198=a0_0x5c767c;try{this[_0x4d1198(0x448)]['verbose'](_0x4d1198(0x204));let _0x388ef7,_0x5088ca=_0x49089f+'-'+new Date()[_0x4d1198(0x70)]();this[_0x4d1198(0x448)][_0x4d1198(0xb5)]('Hash\x20to\x20image\x20name:\x20'+_0x5088ca);let _0x32b492=''+(0x0,$['join'])(this[_0x4d1198(0x5c7)],_0x5088ca+_0x4d1198(0x212));if(this[_0x4d1198(0x448)][_0x4d1198(0xb5)]('Output\x20path:\x20'+_0x32b492),(0x0,O[_0x4d1198(0x604)])(_0x8f9b3e)){this['logger']['verbose'](_0x4d1198(0x11e));let _0x57b0c8=_0x8f9b3e['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1ae126=Buffer[_0x4d1198(0x14b)](_0x57b0c8,'base64');_0x388ef7=''+(0x0,$[_0x4d1198(0x361)])(this[_0x4d1198(0x5c7)],_0x4d1198(0x5f4)+_0x5088ca+_0x4d1198(0x3a0)),this['logger'][_0x4d1198(0xb5)](_0x4d1198(0x22f)+_0x388ef7),await(0x0,It[_0x4d1198(0x6c)])(_0x1ae126)[_0x4d1198(0x1bc)](_0x388ef7),this[_0x4d1198(0x448)][_0x4d1198(0xb5)]('Image\x20created');}else{this[_0x4d1198(0x448)][_0x4d1198(0xb5)](_0x4d1198(0x3ae));let _0x15fd20=new Date()[_0x4d1198(0x70)](),_0x19f73e=_0x8f9b3e+'?timestamp='+_0x15fd20;this[_0x4d1198(0x448)][_0x4d1198(0xb5)](_0x4d1198(0x44e)+_0x19f73e);let _0x1b5b0a=await ce['default'][_0x4d1198(0x3a1)](_0x19f73e,{'responseType':_0x4d1198(0x2f4)});this[_0x4d1198(0x448)]['verbose'](_0x4d1198(0x429));let _0x2b7db9=Buffer[_0x4d1198(0x14b)](_0x1b5b0a['data'],'binary');_0x388ef7=''+(0x0,$[_0x4d1198(0x361)])(this[_0x4d1198(0x5c7)],_0x4d1198(0x5f4)+_0x5088ca+_0x4d1198(0x3a0)),this['logger'][_0x4d1198(0xb5)](_0x4d1198(0x22f)+_0x388ef7),await(0x0,It['default'])(_0x2b7db9)['toFile'](_0x388ef7),this[_0x4d1198(0x448)][_0x4d1198(0xb5)](_0x4d1198(0x59e));}return await(0x0,It[_0x4d1198(0x6c)])(_0x388ef7)[_0x4d1198(0x41c)]()[_0x4d1198(0x1bc)](_0x32b492),this[_0x4d1198(0x448)][_0x4d1198(0xb5)](_0x4d1198(0x2a5)),P['unlinkSync'](_0x388ef7),this['logger'][_0x4d1198(0xb5)](_0x4d1198(0x371)),_0x32b492;}catch(_0x3feba9){console[_0x4d1198(0x9a)](_0x4d1198(0x68),_0x3feba9);}}async[a0_0x5c767c(0x26e)](_0x581246){const _0x5e3c29=a0_0x5c767c;let _0x12bbd0=await this[_0x5e3c29(0x123)](_0x581246['stickerMessage'][_0x5e3c29(0x40f)],_0x581246['number']),_0x27adfd=await this[_0x5e3c29(0x35d)](_0x581246[_0x5e3c29(0x48d)],{'sticker':{'url':_0x12bbd0}},_0x581246?.[_0x5e3c29(0x500)]);return P[_0x5e3c29(0x52f)](_0x12bbd0),this[_0x5e3c29(0x448)][_0x5e3c29(0xb5)]('Converted\x20image\x20deleted'),_0x27adfd;}async[a0_0x5c767c(0x345)](_0x392691){const _0x100c67=a0_0x5c767c;if(this[_0x100c67(0x448)][_0x100c67(0xb5)]('Sending\x20audio\x20whatsapp'),!_0x392691[_0x100c67(0x500)]?.['encoding']&&_0x392691[_0x100c67(0x500)]?.[_0x100c67(0x5c2)]!==!0x1&&(_0x392691[_0x100c67(0x500)][_0x100c67(0x5c2)]=!0x0),_0x392691[_0x100c67(0x500)]?.[_0x100c67(0x5c2)]){let _0xfe341d=await this[_0x100c67(0x185)](_0x392691['audioMessage'][_0x100c67(0x3bd)]);if(typeof _0xfe341d=='string'){let _0xdc4d09=P[_0x100c67(0x4c9)](_0xfe341d)['toString'](_0x100c67(0x3aa)),_0x56bc31=this[_0x100c67(0x35d)](_0x392691[_0x100c67(0x48d)],{'audio':Buffer[_0x100c67(0x14b)](_0xdc4d09,_0x100c67(0x3aa)),'ptt':!0x0,'mimetype':_0x100c67(0x33d)},{'presence':_0x100c67(0x548),'delay':_0x392691?.[_0x100c67(0x500)]?.[_0x100c67(0x47c)]});return P[_0x100c67(0x52f)](_0xfe341d),this[_0x100c67(0x448)]['verbose'](_0x100c67(0x432)),_0x56bc31;}else throw new A(_0xfe341d);}return await this['sendMessageWithTyping'](_0x392691[_0x100c67(0x48d)],{'audio':(0x0,O['isURL'])(_0x392691[_0x100c67(0x1b1)][_0x100c67(0x3bd)])?{'url':_0x392691['audioMessage'][_0x100c67(0x3bd)]}:Buffer[_0x100c67(0x14b)](_0x392691[_0x100c67(0x1b1)][_0x100c67(0x3bd)],'base64'),'ptt':!0x0,'mimetype':_0x100c67(0x150)},{'presence':_0x100c67(0x548),'delay':_0x392691?.[_0x100c67(0x500)]?.['delay']});}async[a0_0x5c767c(0x185)](_0x5d38cb){const _0x28e4c3=a0_0x5c767c;this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x5ca));let _0x3a9f71,_0x277ff7,_0x3f8574=(0x0,At['v4'])();if(this[_0x28e4c3(0x448)]['verbose'](_0x28e4c3(0x314)+_0x3f8574),(0x0,O[_0x28e4c3(0x348)])(_0x5d38cb)){this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0xe2)),_0x277ff7=''+(0x0,$['join'])(this['storePath'],_0x3f8574+'.mp4'),_0x3a9f71=''+(0x0,$[_0x28e4c3(0x361)])(this['storePath'],_0x28e4c3(0x5f4)+_0x3f8574+_0x28e4c3(0x2c3)),this[_0x28e4c3(0x448)]['verbose']('Output\x20audio\x20path:\x20'+_0x277ff7),this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x39e)+_0x3a9f71);let _0x4b521c=new Date()[_0x28e4c3(0x70)](),_0x43c74b=_0x5d38cb+_0x28e4c3(0x1d2)+_0x4b521c;this['logger'][_0x28e4c3(0xb5)]('Including\x20timestamp\x20in\x20url:\x20'+_0x43c74b);let _0x40a2a3=await ce[_0x28e4c3(0x6c)][_0x28e4c3(0x3a1)](_0x43c74b,{'responseType':'arraybuffer'});this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x532)),P[_0x28e4c3(0x186)](_0x3a9f71,_0x40a2a3[_0x28e4c3(0x531)]);}else{this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x2f1)),_0x277ff7=''+(0x0,$[_0x28e4c3(0x361)])(this[_0x28e4c3(0x5c7)],_0x3f8574+_0x28e4c3(0x51c)),_0x3a9f71=''+(0x0,$['join'])(this['storePath'],'temp-'+_0x3f8574+'.mp3'),this['logger'][_0x28e4c3(0xb5)](_0x28e4c3(0x32c)+_0x277ff7),this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x39e)+_0x3a9f71);let _0x44a906=Buffer[_0x28e4c3(0x14b)](_0x5d38cb,_0x28e4c3(0x3aa));P[_0x28e4c3(0x186)](_0x3a9f71,_0x44a906),this['logger'][_0x28e4c3(0xb5)](_0x28e4c3(0x12e));}return this[_0x28e4c3(0x448)][_0x28e4c3(0xb5)](_0x28e4c3(0x216)),new Promise((_0x3f5c07,_0x28a68b)=>{const _0x173e68=_0x28e4c3;(0x0,Dt[_0x173e68(0x2db)])(Qa[_0x173e68(0x6c)]['path']+_0x173e68(0x3b9)+_0x3a9f71+_0x173e68(0x424)+_0x277ff7+_0x173e68(0x4e9),_0x246bf4=>{const _0x180fb3=_0x173e68;P['unlinkSync'](_0x3a9f71),this[_0x180fb3(0x448)][_0x180fb3(0xb5)]('Temp\x20audio\x20deleted'),_0x246bf4&&_0x28a68b(_0x246bf4),this['logger'][_0x180fb3(0xb5)](_0x180fb3(0x2f9)),_0x3f5c07(_0x277ff7);});});}async['buttonMessage'](_0x408fc0){const _0x4064b5=a0_0x5c767c;let _0x3ec0e7={},_0xe6ec4b=_0x4064b5(0x495);if(_0x408fc0['buttonMessage']?.['mediaMessage']){_0xe6ec4b=_0x408fc0[_0x4064b5(0x556)]['mediaMessage']?.['mediatype'][_0x4064b5(0x3a8)]()??_0x4064b5(0x495),_0x3ec0e7[_0x4064b5(0x17f)]=_0xe6ec4b[_0x4064b5(0xd0)]()+'Message';let _0x308954=await this[_0x4064b5(0x290)](_0x408fc0[_0x4064b5(0x556)]['mediaMessage']);_0x3ec0e7[_0x4064b5(0x273)]=_0x308954['message'][_0x3ec0e7[_0x4064b5(0x17f)]],_0x3ec0e7[_0x4064b5(0x260)]='*'+_0x408fc0['buttonMessage'][_0x4064b5(0x282)]+_0x4064b5(0x57b)+_0x408fc0['buttonMessage'][_0x4064b5(0x7b)];}let _0x3fb972={'text':_0x408fc0[_0x4064b5(0x556)][_0x4064b5(0x330)][_0x4064b5(0x3a6)](_0x4c08ba=>_0x4c08ba[_0x4064b5(0x337)]),'ids':_0x408fc0[_0x4064b5(0x556)][_0x4064b5(0x330)][_0x4064b5(0x3a6)](_0x3a9f65=>_0x3a9f65['buttonId'])};if(!(0x0,O[_0x4064b5(0x554)])(_0x3fb972['text'])||!(0x0,O[_0x4064b5(0x554)])(_0x3fb972['ids']))throw new g(_0x4064b5(0x3b3),_0x4064b5(0x5b1));return await this[_0x4064b5(0x35d)](_0x408fc0[_0x4064b5(0x48d)],{'buttonsMessage':{'text':_0x3ec0e7?.[_0x4064b5(0x17f)]?void 0x0:_0x408fc0['buttonMessage'][_0x4064b5(0x282)],'contentText':_0x3ec0e7?.['contentText']??_0x408fc0[_0x4064b5(0x556)][_0x4064b5(0x7b)],'footerText':_0x408fc0[_0x4064b5(0x556)]?.['footerText'],'buttons':_0x408fc0[_0x4064b5(0x556)]['buttons'][_0x4064b5(0x3a6)](_0x2710a1=>({'buttonText':{'displayText':_0x2710a1[_0x4064b5(0x337)]},'buttonId':_0x2710a1['buttonId'],'type':0x1})),'headerType':w['proto'][_0x4064b5(0x599)][_0x4064b5(0x477)][_0x4064b5(0x592)][_0xe6ec4b],[_0x3ec0e7?.['mediaKey']]:_0x3ec0e7?.[_0x4064b5(0x273)]}},_0x408fc0?.[_0x4064b5(0x500)]);}async[a0_0x5c767c(0x28e)](_0x3c2fab){const _0x1dd859=a0_0x5c767c;return await this[_0x1dd859(0x35d)](_0x3c2fab[_0x1dd859(0x48d)],{'locationMessage':{'degreesLatitude':_0x3c2fab[_0x1dd859(0x28e)]['latitude'],'degreesLongitude':_0x3c2fab[_0x1dd859(0x28e)][_0x1dd859(0x5ff)],'name':_0x3c2fab[_0x1dd859(0x28e)]?.[_0x1dd859(0x259)],'address':_0x3c2fab[_0x1dd859(0x28e)]?.['address']}},_0x3c2fab?.[_0x1dd859(0x500)]);}async[a0_0x5c767c(0x232)](_0x21f46f){const _0x1f080d=a0_0x5c767c;return await this[_0x1f080d(0x35d)](_0x21f46f[_0x1f080d(0x48d)],{'listMessage':{'title':_0x21f46f['listMessage'][_0x1f080d(0x282)],'description':_0x21f46f[_0x1f080d(0x232)][_0x1f080d(0x7b)],'buttonText':_0x21f46f['listMessage']?.['buttonText'],'footerText':_0x21f46f[_0x1f080d(0x232)]?.['footerText'],'sections':_0x21f46f[_0x1f080d(0x232)][_0x1f080d(0x64c)],'listType':0x1}},_0x21f46f?.[_0x1f080d(0x500)]);}async[a0_0x5c767c(0x39d)](_0x5f222c){const _0x45907d=a0_0x5c767c;let _0x12df10={},_0x450d29=_0x302f66=>{const _0x449dd7=a0_0x277c;let _0x410abd=_0x449dd7(0x23b)+_0x302f66['fullName']+_0x449dd7(0x17e)+_0x302f66[_0x449dd7(0x1ea)]+'\x0a';_0x302f66[_0x449dd7(0x3ed)]&&(_0x410abd+=_0x449dd7(0x5c9)+_0x302f66['organization']+';\x0a'),_0x302f66[_0x449dd7(0x609)]&&(_0x410abd+='EMAIL:'+_0x302f66['email']+'\x0a'),_0x302f66[_0x449dd7(0x367)]&&(_0x410abd+=_0x449dd7(0x21a)+_0x302f66[_0x449dd7(0x367)]+'\x0a');let _0x3c1943='';return _0x302f66[_0x449dd7(0x6d)]&&_0x302f66['phoneNumber'][_0x449dd7(0x642)]('|')[_0x449dd7(0xeb)]((_0x368dde,_0x2e99c9)=>{const _0x18cbc9=_0x449dd7;let _0x2fd845=this[_0x18cbc9(0x42e)](_0x368dde)['replace'](_0x18cbc9(0x3e3),'');_0x3c1943+=_0x18cbc9(0x2e6)+(_0x2e99c9+0x1)+_0x18cbc9(0x292)+_0x2fd845+':'+_0x368dde+_0x18cbc9(0xb8)+(_0x2e99c9+0x1)+_0x18cbc9(0x213);}),_0x410abd+=_0x3c1943+'END:VCARD',_0x410abd;};return _0x5f222c[_0x45907d(0x39d)][_0x45907d(0x44d)]===0x1?_0x12df10[_0x45907d(0x39d)]={'displayName':_0x5f222c[_0x45907d(0x39d)][0x0][_0x45907d(0x1ea)],'vcard':_0x450d29(_0x5f222c['contactMessage'][0x0])}:_0x12df10[_0x45907d(0x74)]={'displayName':_0x5f222c[_0x45907d(0x39d)][_0x45907d(0x44d)]+_0x45907d(0xcf),'contacts':_0x5f222c[_0x45907d(0x39d)][_0x45907d(0x3a6)](_0x5a7cfa=>({'displayName':_0x5a7cfa['fullName'],'vcard':_0x450d29(_0x5a7cfa)}))},await this['sendMessageWithTyping'](_0x5f222c[_0x45907d(0x48d)],{..._0x12df10},_0x5f222c?.[_0x45907d(0x500)]);}async['reactionMessage'](_0x361568){const _0x3247b7=a0_0x5c767c;return await this['sendMessageWithTyping'](_0x361568[_0x3247b7(0x1da)][_0x3247b7(0x40a)][_0x3247b7(0x18c)],{'reactionMessage':{'key':_0x361568['reactionMessage']['key'],'text':_0x361568[_0x3247b7(0x1da)][_0x3247b7(0x34c)]}});}async[a0_0x5c767c(0x3d6)](_0xb5617b){const _0x3de563=a0_0x5c767c;let _0x3819f8=[];for await(let _0x9d1d88 of _0xb5617b[_0x3de563(0x205)]){let _0x599639=this['createJid'](_0x9d1d88);if((0x0,w[_0x3de563(0x4d0)])(_0x599639)){let _0x5c752d=await this[_0x3de563(0x1c2)]({'groupJid':_0x599639},'inner');_0x3819f8[_0x3de563(0x36a)](new he(_0x5c752d[_0x3de563(0x1a6)]['id'],!!_0x5c752d?.[_0x3de563(0x1a6)]['id'],_0x5c752d?.[_0x3de563(0x1a6)][_0x3de563(0x4d4)]));}else try{let _0x5cdddc=(await this[_0x3de563(0x374)][_0x3de563(0xde)](_0x599639))[0x0];_0x3819f8[_0x3de563(0x36a)](new he(_0x5cdddc['jid'],_0x5cdddc['exists']));}catch{_0x3819f8[_0x3de563(0x36a)](new he(_0x9d1d88,!0x1));}}return _0x3819f8;}async['markMessageAsRead'](_0xf8fbba){const _0x4c4886=a0_0x5c767c;try{let _0x2f3c31=_0xf8fbba[_0x4c4886(0x1f1)][_0x4c4886(0x294)](_0x5e596c=>(0x0,w['isJidGroup'])(_0x5e596c[_0x4c4886(0x18c)])||(0x0,w[_0x4c4886(0x5dd)])(_0x5e596c['remoteJid']))[_0x4c4886(0x3a6)](_0x54c357=>({'remoteJid':_0x54c357[_0x4c4886(0x18c)],'fromMe':_0x54c357[_0x4c4886(0x20e)],'id':_0x54c357['id']}));await this[_0x4c4886(0x374)][_0x4c4886(0x1f1)](_0x2f3c31);let _0xec0cc6=_0x2f3c31['map'](_0x23a9d0=>this['updateMessage'](_0x23a9d0,_0x23a9d0[_0x4c4886(0x18c)],{'status':_0x4c4886(0x27a),'owner':this[_0x4c4886(0x4f6)][_0x4c4886(0x336)]})),_0x189f1d=_0x2f3c31['map'](_0x48db82=>this['repository']['chat'][_0x4c4886(0x362)]({'where':{'_id':_0x48db82[_0x4c4886(0x18c)],'owner':this[_0x4c4886(0x4f6)][_0x4c4886(0x336)]}},{'unreadcount':0x0})),[_0x2ce52c,_0x24e3f]=await Promise[_0x4c4886(0x4be)]([Promise[_0x4c4886(0x4be)](_0xec0cc6),Promise[_0x4c4886(0x4be)](_0x189f1d)]);return _0x24e3f['filter'](_0x210cb8=>_0x210cb8!==null)['forEach'](_0x2ecf0e=>{q(this['instanceName'],'chats',{'chat':_0x2ecf0e});}),{'message':_0x4c4886(0x515),'read':_0x4c4886(0x16b)};}catch(_0x5d5446){throw console[_0x4c4886(0x9a)]('Error\x20in\x20markMessageAsRead:',_0x5d5446),new A(_0x4c4886(0xca),_0x5d5446['toString']());}}async['getLastMessage'](_0x3ac5ff){const _0x36d06d=a0_0x5c767c;let _0x34c37a=await this[_0x36d06d(0x159)]({'where':{'key':{'remoteJid':_0x3ac5ff},'owner':this[_0x36d06d(0x4f6)]['name']}}),_0x23262b=_0x34c37a[_0x36d06d(0x41f)]();for(let _0xf41d96 of _0x34c37a)_0xf41d96[_0x36d06d(0x645)]>=_0x23262b[_0x36d06d(0x645)]&&(_0x23262b=_0xf41d96);return _0x23262b;}async['archiveChat'](_0x3eaa86){const _0x5d3785=a0_0x5c767c;this[_0x5d3785(0x448)][_0x5d3785(0xb5)]('Archiving\x20chat');try{let _0x231b65=_0x3eaa86[_0x5d3785(0x364)],_0xd11f6c=_0x3eaa86['chat'];if(!_0x231b65&&_0xd11f6c?_0x231b65=await this[_0x5d3785(0x49d)](_0xd11f6c):(_0x231b65=_0x3eaa86[_0x5d3785(0x364)],_0x231b65[_0x5d3785(0x645)]=_0x231b65?.[_0x5d3785(0x645)]??Date[_0x5d3785(0x606)](),_0xd11f6c=_0x231b65?.[_0x5d3785(0x40a)]?.[_0x5d3785(0x18c)]),!_0x231b65||Object[_0x5d3785(0x363)](_0x231b65)[_0x5d3785(0x44d)]===0x0)throw new x('Last\x20message\x20not\x20found');await this[_0x5d3785(0x374)][_0x5d3785(0x4db)]({'archive':_0x3eaa86[_0x5d3785(0x57f)],'lastMessages':[_0x231b65]},this[_0x5d3785(0x42e)](_0xd11f6c));let _0x331288=await this[_0x5d3785(0x231)][_0x5d3785(0x5bb)][_0x5d3785(0x362)]({'where':{'_id':_0x231b65?.[_0x5d3785(0x40a)]?.[_0x5d3785(0x18c)],'owner':this[_0x5d3785(0x4f6)][_0x5d3785(0x336)]}},{'archived':_0x3eaa86[_0x5d3785(0x57f)]});return _0x331288&&q(this['instanceName'],'chats',{'chat':_0x331288}),{'chatId':_0xd11f6c,'archived':_0x3eaa86[_0x5d3785(0x57f)]};}catch(_0x2cbccd){throw new A({'archived':!0x1,'message':[_0x5d3785(0x2f6),_0x2cbccd[_0x5d3785(0x2d6)]()]});}}async[a0_0x5c767c(0x4d7)](_0x5ea95f){const _0x4ff8a7=a0_0x5c767c;try{let _0x2b4d6c=await this['client'][_0x4ff8a7(0x5e2)](_0x5ea95f['remoteJid'],{'delete':_0x5ea95f});try{let _0x28d403=await this[_0x4ff8a7(0x425)](_0x5ea95f,_0x5ea95f[_0x4ff8a7(0x18c)],{'status':_0x4ff8a7(0x323),'owner':this[_0x4ff8a7(0x4f6)][_0x4ff8a7(0x336)]});this['logger'][_0x4ff8a7(0xb5)](this[_0x4ff8a7(0x32d)]+'\x20('+this['instance'][_0x4ff8a7(0x336)]+_0x4ff8a7(0x596)+_0x28d403);}catch(_0x18f731){console[_0x4ff8a7(0x9a)](_0x4ff8a7(0x538),_0x18f731);}return _0x2b4d6c;}catch(_0x9a4310){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x9a4310?.[_0x4ff8a7(0x2d6)]());}}async['getBase64FromMediaMessage'](_0x51b00f){const _0x40b19c=a0_0x5c767c;try{let _0xffccbd=_0x51b00f?.[_0x40b19c(0x273)]?_0x51b00f:await this['getMessage'](_0x51b00f[_0x40b19c(0x40a)],!0x0);for(let _0x159e71 of Ks)_0xffccbd[_0x40b19c(0x273)][_0x159e71]&&(_0xffccbd[_0x40b19c(0x273)]=_0xffccbd['message'][_0x159e71]['message']);let _0x463574,_0x828d28;for(let _0x32ed2a of Hs)if(_0x463574=_0xffccbd[_0x40b19c(0x273)][_0x32ed2a],_0x463574){_0x828d28=_0x32ed2a;break;}if(!_0x463574)throw _0x40b19c(0x388);typeof _0x463574[_0x40b19c(0x17f)]==_0x40b19c(0x230)&&(_0xffccbd[_0x40b19c(0x273)]=JSON['parse'](JSON['stringify'](_0xffccbd[_0x40b19c(0x273)])));let _0x5e7c9e=await(0x0,w[_0x40b19c(0x2ea)])({'key':_0xffccbd?.[_0x40b19c(0x40a)],'message':_0xffccbd?.[_0x40b19c(0x273)]},'buffer',{},{'logger':(0x0,Rt[_0x40b19c(0x6c)])({'level':'error'}),'reuploadRequest':this[_0x40b19c(0x374)][_0x40b19c(0x616)]});if(!(_0x5e7c9e instanceof Buffer))throw new Error(_0x40b19c(0x167));let _0x14aedc=this[_0x40b19c(0x366)][_0x40b19c(0x3a1)](_0x40b19c(0x236)),_0x203786,_0x4f1045;if(_0x463574[_0x40b19c(0x571)])_0x203786=_0x463574['fileName'];else{let _0x38136d=_0x463574[_0x40b19c(0x14e)]?.[_0x40b19c(0x58e)](/\/(\w+)/),_0x3464e6=_0x38136d?_0x38136d[0x1]:null;if(!_0x3464e6)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x203786=(0x0,At['v4'])()+'.'+_0x3464e6;}_0x828d28===_0x40b19c(0x1b1)&&_0x463574[_0x40b19c(0x14e)]===_0x40b19c(0x568)?(_0x203786=(0x0,At['v4'])()+'.ogg',_0x4f1045=_0x40b19c(0x31c)+await this[_0x40b19c(0x185)](_0x5e7c9e[_0x40b19c(0x2d6)](_0x40b19c(0x3aa)))):(await this[_0x40b19c(0x4fc)](_0x5e7c9e,_0x203786),_0x4f1045=_0x40b19c(0x31c)+_0x203786);let _0x5d53bb=this[_0x40b19c(0x366)][_0x40b19c(0x3a1)](_0x40b19c(0x2a8)),_0x37e3ab=this[_0x40b19c(0x366)][_0x40b19c(0x3a1)](_0x40b19c(0x4ac))['PORT'],_0x250c17=_0x5d53bb&&_0x5d53bb[_0x40b19c(0x430)]['split']('/')[0x4];_0x37e3ab===0x1bb&&(_0x4f1045=''+(_0x40b19c(0x494)+_0x250c17)+_0x4f1045);let _0x584326=0xc*0x3c*0x3c*0x3e8,_0x4ee9df={'where':{'_id':_0xffccbd[_0x40b19c(0x40a)]['id'],'owner':this[_0x40b19c(0x4f6)]['wuid']}};_0xffccbd[_0x40b19c(0x40a)][_0x40b19c(0x18c)][_0x40b19c(0x3d3)](_0x40b19c(0xff))&&(_0x4ee9df['where'][_0x40b19c(0x40a)]['participant']=_0xffccbd[_0x40b19c(0x40a)][_0x40b19c(0x7f)]);let _0x47466b={'message_normalized.fileUrl':_0x4f1045,'message_normalized.expires_fileUrl':Date[_0x40b19c(0x606)]()+_0x584326};try{let _0x5734c2=await this[_0x40b19c(0x231)][_0x40b19c(0x273)][_0x40b19c(0x3f4)](_0x4ee9df,_0x47466b);_0x5734c2&&q(this[_0x40b19c(0x32d)],'messages',{'message':_0x5734c2});}catch{}return{'mediaType':_0x828d28,'fileName':_0x463574['fileName'],'caption':_0x463574[_0x40b19c(0x11d)],'size':{'fileLength':_0x463574[_0x40b19c(0x49e)],'height':_0x463574[_0x40b19c(0x34b)],'width':_0x463574['width']},'mimetype':_0x463574[_0x40b19c(0x14e)],'base64':_0x5e7c9e[_0x40b19c(0x2d6)]('base64'),'fileUrl':_0x4f1045,'expires_fileUrl':Date['now']()+_0x584326};}catch(_0x3109d4){throw this['logger'][_0x40b19c(0x9a)](this[_0x40b19c(0x32d)]+'\x20('+this[_0x40b19c(0x4f6)][_0x40b19c(0x336)]+_0x40b19c(0xcc)+_0x3109d4),new g(_0x3109d4[_0x40b19c(0x2d6)]());}}async[a0_0x5c767c(0x4fc)](_0x28f193,_0x551a85){const _0x5676e1=a0_0x5c767c;console[_0x5676e1(0x1ce)](_0x5676e1(0x331),__dirname),console[_0x5676e1(0x1ce)](_0x5676e1(0x237),_0x551a85);let _0x2486c9=$['default'][_0x5676e1(0x361)](__dirname,_0x5676e1(0x45c));console[_0x5676e1(0x1ce)](_0x5676e1(0x3c9),_0x2486c9),P[_0x5676e1(0x58f)](_0x2486c9)||(this['logger'][_0x5676e1(0x1ce)](_0x5676e1(0x2fb)),P[_0x5676e1(0x63a)](_0x2486c9,{'recursive':!0x0}));let _0x47f327=$[_0x5676e1(0x6c)]['join'](_0x2486c9,_0x551a85);return console['log'](_0x5676e1(0x521),_0x47f327),new Promise((_0x316bd9,_0x2e1c85)=>{const _0x500383=_0x5676e1;P[_0x500383(0x136)](_0x47f327,_0x28f193,_0x94c98e=>{const _0xc8062c=_0x500383;_0x94c98e?(this[_0xc8062c(0x448)][_0xc8062c(0x9a)](_0xc8062c(0x263)+_0x94c98e['message']),_0x2e1c85(_0x94c98e)):(this[_0xc8062c(0x448)][_0xc8062c(0x1ce)](_0xc8062c(0x211)+_0x47f327),_0x316bd9(_0x47f327));});});}async[a0_0x5c767c(0x3b1)](_0x54c740){const _0x230c4f=a0_0x5c767c;return _0x54c740?.[_0x230c4f(0x82)]?_0x54c740[_0x230c4f(0x82)]['owner']=this[_0x230c4f(0x4f6)]['wuid']:_0x54c740={'where':{'owner':this[_0x230c4f(0x4f6)][_0x230c4f(0x336)]}},await this['repository']['contact'][_0x230c4f(0x504)](_0x54c740);}async[a0_0x5c767c(0x159)](_0x513a6a){const _0x588992=a0_0x5c767c;return _0x513a6a?.[_0x588992(0x82)]?_0x513a6a[_0x588992(0x82)]['owner']=this['instance'][_0x588992(0x336)]:_0x513a6a={'where':{'owner':this['instance'][_0x588992(0x336)]},'limit':_0x513a6a?.[_0x588992(0xf0)]},await this['repository'][_0x588992(0x273)]['find'](_0x513a6a);}async[a0_0x5c767c(0xc5)](){const _0x733987=a0_0x5c767c;return await this[_0x733987(0x231)][_0x733987(0x5bb)][_0x733987(0x504)]({'where':{'owner':this[_0x733987(0x4f6)][_0x733987(0x336)]}});}async['fetchPrivacySettings'](){const _0xd70585=a0_0x5c767c;return await this[_0xd70585(0x374)]['fetchPrivacySettings']();}async[a0_0x5c767c(0x5f2)](_0x5aa21c){const _0x94b531=a0_0x5c767c;try{return await this[_0x94b531(0x374)][_0x94b531(0x418)](_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x353)]),await this[_0x94b531(0x374)]['updateProfilePicturePrivacy'](_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x5bf)]),await this[_0x94b531(0x374)]['updateStatusPrivacy'](_0x5aa21c[_0x94b531(0x226)]['status']),await this[_0x94b531(0x374)]['updateOnlinePrivacy'](_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x493)]),await this[_0x94b531(0x374)][_0x94b531(0x45e)](_0x5aa21c[_0x94b531(0x226)]['last']),await this['client'][_0x94b531(0xaf)](_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x3ca)]),this[_0x94b531(0x374)]?.['ws']?.[_0x94b531(0x3a9)](),{'update':'success','data':{'readreceipts':_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x353)],'profile':_0x5aa21c['privacySettings'][_0x94b531(0x5bf)],'status':_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x34d)],'online':_0x5aa21c[_0x94b531(0x226)][_0x94b531(0x493)],'last':_0x5aa21c['privacySettings'][_0x94b531(0x2a6)],'groupadd':_0x5aa21c['privacySettings'][_0x94b531(0x3ca)]}};}catch(_0x4868fb){throw new A(_0x94b531(0x1c5),_0x4868fb[_0x94b531(0x2d6)]());}}async['fetchProfile2'](_0x32f215){const _0x35bb57=a0_0x5c767c;let _0x29e88f=_0x32f215?this[_0x35bb57(0x42e)](_0x32f215):this['client']?.['user']?.['id'];this['logger'][_0x35bb57(0xb5)](_0x35bb57(0xbf)+_0x29e88f);try{if(this[_0x35bb57(0x448)][_0x35bb57(0xb5)](_0x35bb57(0x407)),_0x32f215){let _0x2e1bd0=(await this[_0x35bb57(0x3d6)]({'numbers':[_0x29e88f]}))?.[_0x35bb57(0x2f5)](),_0x1cce6d=await this[_0x35bb57(0x2aa)](_0x2e1bd0?.[_0x35bb57(0x2bd)]),_0x2f43ff=await this[_0x35bb57(0x5d0)](_0x2e1bd0?.['jid']),_0x18e9f4=await this['fetchBusinessProfile'](_0x2e1bd0?.[_0x35bb57(0x2bd)]);return{'wuid':_0x2e1bd0?.[_0x35bb57(0x2bd)]||_0x29e88f,'name':_0x2e1bd0?.['name'],'numberExists':_0x2e1bd0?.[_0x35bb57(0x4eb)],'picture':_0x1cce6d?.[_0x35bb57(0x252)],'status':_0x2f43ff?.[_0x35bb57(0x34d)],'isBusiness':_0x18e9f4[_0x35bb57(0x415)],'email':_0x18e9f4?.[_0x35bb57(0x609)],'description':_0x18e9f4?.[_0x35bb57(0x7b)],'website':_0x18e9f4?.['website']?.[_0x35bb57(0x2f5)]()};}}catch{return this[_0x35bb57(0x448)]['verbose']('Profile\x20not\x20found'),{'wuid':_0x29e88f,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x322915){const _0x187eda=a0_0x5c767c;let _0x390b38=(_0x322915?this[_0x187eda(0x42e)](_0x322915):this[_0x187eda(0x374)]?.[_0x187eda(0x39c)]?.['id'])[_0x187eda(0x8d)](/:\d{1,2}@/g,'@');this[_0x187eda(0x448)][_0x187eda(0xb5)](_0x187eda(0x146)+_0x390b38);let _0x5d5371=await this['repository'][_0x187eda(0xad)][_0x187eda(0x20d)]({'where':{'_id':_0x390b38,'owner':this['instance'][_0x187eda(0x336)]}}),_0x229106=_0x5d5371?_0x5d5371[_0x187eda(0xb4)]:null;try{let _0x39d2c1=(await this[_0x187eda(0x3d6)]({'numbers':[_0x390b38]}))?.[_0x187eda(0x2f5)](),_0x3e0272=await this['profilePicture'](_0x39d2c1?.[_0x187eda(0x2bd)]),_0x4db248=await this[_0x187eda(0x5d0)](_0x39d2c1?.[_0x187eda(0x2bd)]),_0x452d02=await this['fetchBusinessProfile'](_0x39d2c1?.[_0x187eda(0x2bd)]),_0x2f4cc1={'imagechat':_0x3e0272?.[_0x187eda(0x252)],'contactname':_0x229106||null,'status':_0x4db248?.['status'],'isBusiness':_0x452d02['isBusiness'],'email':_0x452d02?.[_0x187eda(0x609)],'description':_0x452d02?.['description'],'website':_0x452d02?.[_0x187eda(0x629)]?.[_0x187eda(0x2f5)](),'lastcache':Date[_0x187eda(0x606)]()},_0x342c85=await this['repository'][_0x187eda(0x5bb)][_0x187eda(0x362)]({'where':{'_id':_0x390b38,'owner':this[_0x187eda(0x4f6)][_0x187eda(0x336)]}},_0x2f4cc1),_0x3f387d={'owner':this['instance']['wuid'],'_id':_0x390b38,'profilePictureUrl':_0x3e0272?.[_0x187eda(0x252)],'status':_0x4db248?.['status']};return this[_0x187eda(0x231)]['contact']['update']([_0x3f387d],this['instance'][_0x187eda(0x336)]),_0x342c85&&q(this['instanceName'],_0x187eda(0x157),{'chat':_0x342c85}),{'wuid':_0x39d2c1?.[_0x187eda(0x2bd)]||_0x390b38,'name':_0x39d2c1?.[_0x187eda(0x259)],'numberExists':_0x39d2c1?.[_0x187eda(0x4eb)],'picture':_0x3e0272?.['profilePictureUrl'],'status':_0x4db248?.['status'],'isBusiness':_0x452d02[_0x187eda(0x415)],'email':_0x452d02?.['email'],'description':_0x452d02?.[_0x187eda(0x7b)],'website':_0x452d02?.[_0x187eda(0x629)]?.[_0x187eda(0x2f5)]()};}catch(_0x452f49){return this[_0x187eda(0x448)][_0x187eda(0x9a)](_0x187eda(0x5a6)+_0x452f49),{};}}async[a0_0x5c767c(0x3ba)](_0x1ff85d){const _0x97957d=a0_0x5c767c;this[_0x97957d(0x448)][_0x97957d(0xb5)](_0x97957d(0x344));try{let _0x1ba3db=_0x1ff85d?this['createJid'](_0x1ff85d):this[_0x97957d(0x4f6)][_0x97957d(0x336)],_0x4b1572=await this['client'][_0x97957d(0x3cb)](_0x1ba3db);return this[_0x97957d(0x448)]['verbose'](_0x97957d(0x340)),_0x4b1572?(this[_0x97957d(0x448)][_0x97957d(0xb5)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x4b1572}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x97957d(0x3d6)]({'numbers':[_0x1ba3db]}))?.[_0x97957d(0x2f5)]()};}catch(_0x19e503){throw new A(_0x97957d(0x4ad),_0x19e503[_0x97957d(0x2d6)]());}}async[a0_0x5c767c(0x5d0)](_0x4a0b3f){const _0x28baa9=a0_0x5c767c;let _0x4dfd67=this[_0x28baa9(0x42e)](_0x4a0b3f);try{return{'wuid':_0x4dfd67,'status':(await this['client'][_0x28baa9(0x5ec)](_0x4dfd67))?.['status']};}catch{return{'wuid':_0x4dfd67,'status':null};}}async['updateProfileName'](_0xefe12c){const _0xb5abc9=a0_0x5c767c;try{return await this[_0xb5abc9(0x374)][_0xb5abc9(0x122)](_0xefe12c),{'update':_0xb5abc9(0x16b)};}catch(_0x50ec57){throw new A(_0xb5abc9(0x4ad),_0x50ec57[_0xb5abc9(0x2d6)]());}}async['updateProfileStatus'](_0x372888){const _0x43a38d=a0_0x5c767c;try{return await this[_0x43a38d(0x374)][_0x43a38d(0xc6)](_0x372888),{'update':'success'};}catch(_0xf2749){throw new A(_0x43a38d(0x14d),_0xf2749[_0x43a38d(0x2d6)]());}}async[a0_0x5c767c(0x62c)](_0x27b460){const _0x3f5f21=a0_0x5c767c;try{let _0x132b8d;if((0x0,O[_0x3f5f21(0x348)])(_0x27b460)){let _0x37e2da=new Date()[_0x3f5f21(0x70)](),_0x415d5c=_0x27b460+_0x3f5f21(0x1d2)+_0x37e2da;_0x132b8d=(await ce[_0x3f5f21(0x6c)][_0x3f5f21(0x3a1)](_0x415d5c,{'responseType':_0x3f5f21(0x2f4)}))[_0x3f5f21(0x531)];}else{if((0x0,O[_0x3f5f21(0x604)])(_0x27b460))_0x132b8d=Buffer[_0x3f5f21(0x14b)](_0x27b460,_0x3f5f21(0x3aa));else throw new g(_0x3f5f21(0x469));}return await this[_0x3f5f21(0x374)][_0x3f5f21(0x62c)](this[_0x3f5f21(0x4f6)]['wuid'],_0x132b8d),{'update':_0x3f5f21(0x16b)};}catch(_0x150f3e){throw new A(_0x3f5f21(0x162),_0x150f3e[_0x3f5f21(0x2d6)]());}}async[a0_0x5c767c(0x1c4)](){const _0x27594d=a0_0x5c767c;try{return await this[_0x27594d(0x374)][_0x27594d(0x1c4)](this[_0x27594d(0x4f6)]['wuid']),{'update':'success'};}catch(_0x1595e0){throw new A(_0x27594d(0xc0),_0x1595e0[_0x27594d(0x2d6)]());}}async[a0_0x5c767c(0x2ec)](_0x106594){const _0x4f00bb=a0_0x5c767c;try{let _0x5123f6=_0x106594[_0x4f00bb(0x4a1)][_0x4f00bb(0x3a6)](_0x1cf9ee=>this[_0x4f00bb(0x42e)](_0x1cf9ee)),{id:_0x2d8ca6}=await this[_0x4f00bb(0x374)][_0x4f00bb(0x558)](_0x106594[_0x4f00bb(0x4d4)],_0x5123f6);return _0x106594?.[_0x4f00bb(0x7b)]&&await this[_0x4f00bb(0x374)][_0x4f00bb(0x3db)](_0x2d8ca6,_0x106594[_0x4f00bb(0x7b)]),{'metadata':await this[_0x4f00bb(0x374)][_0x4f00bb(0x4a9)](_0x2d8ca6)};}catch(_0x5068b7){throw this[_0x4f00bb(0x448)]['error'](this[_0x4f00bb(0x32d)]+'\x20('+this['instance']['wuid']+_0x4f00bb(0xcc)+_0x5068b7),new A('Error\x20creating\x20group',_0x5068b7[_0x4f00bb(0x2d6)]());}}async[a0_0x5c767c(0x53d)](_0x2d8be2){const _0x24c7b7=a0_0x5c767c;try{let _0xa8e06b;if((0x0,O[_0x24c7b7(0x348)])(_0x2d8be2[_0x24c7b7(0x40f)])){let _0x38b142=new Date()[_0x24c7b7(0x70)](),_0x5406d1=_0x2d8be2[_0x24c7b7(0x40f)]+_0x24c7b7(0x1d2)+_0x38b142;_0xa8e06b=(await ce[_0x24c7b7(0x6c)][_0x24c7b7(0x3a1)](_0x5406d1,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,O[_0x24c7b7(0x604)])(_0x2d8be2['image']))_0xa8e06b=Buffer['from'](_0x2d8be2[_0x24c7b7(0x40f)],_0x24c7b7(0x3aa));else throw new g(_0x24c7b7(0x469));}return await this[_0x24c7b7(0x374)][_0x24c7b7(0x62c)](_0x2d8be2[_0x24c7b7(0x4f2)],_0xa8e06b),{'update':_0x24c7b7(0x16b)};}catch(_0x159bc4){throw new A('Error\x20update\x20group\x20picture',_0x159bc4[_0x24c7b7(0x2d6)]());}}async[a0_0x5c767c(0x1c2)](_0x1dd675,_0x48f94d=a0_0x5c767c(0x200)){const _0x164e36=a0_0x5c767c;try{let _0x480519=await this[_0x164e36(0x374)][_0x164e36(0x4a9)](_0x1dd675[_0x164e36(0x4f2)]),_0x2ac3af=null;try{_0x2ac3af=(await this[_0x164e36(0x2aa)](_0x1dd675[_0x164e36(0x4f2)]))[_0x164e36(0x252)];}catch(_0x1f80fd){this[_0x164e36(0x448)][_0x164e36(0xb5)](this[_0x164e36(0x32d)]+'\x20('+this[_0x164e36(0x4f6)][_0x164e36(0x336)]+_0x164e36(0x2c8)+_0x1dd675['groupJid']+':\x20'+_0x1f80fd[_0x164e36(0x2d6)]());}let _0x16731b=await this[_0x164e36(0x231)][_0x164e36(0x5bb)][_0x164e36(0x362)]({'where':{'_id':_0x1dd675[_0x164e36(0x4f2)],'owner':this['instance']['wuid']}},{'imagechat':_0x2ac3af,'name':_0x480519['subject'],'group_size':_0x480519[_0x164e36(0x191)],'group_announce':_0x480519[_0x164e36(0x3fa)],'lastcache':Date[_0x164e36(0x606)]()});return _0x16731b&&q(this['instanceName'],_0x164e36(0x157),{'chat':_0x16731b}),{'metadata':_0x480519,'image':_0x2ac3af};}catch(_0x2bc8b0){if(_0x48f94d===_0x164e36(0x4e6))return;throw new x(_0x164e36(0x23e),_0x2bc8b0[_0x164e36(0x2d6)]());}}async['groupDesc'](_0x391a56){const _0x2563dc=a0_0x5c767c;try{return await this[_0x2563dc(0x374)][_0x2563dc(0x3db)](_0x391a56[_0x2563dc(0x4f2)],_0x391a56['description']),{'update':_0x2563dc(0x16b)};}catch(_0x101cf0){throw new A(_0x2563dc(0x5f9),_0x101cf0[_0x2563dc(0x2d6)]());}}async[a0_0x5c767c(0x471)](_0x5207ac){const _0x274730=a0_0x5c767c;try{return await this['client'][_0x274730(0x581)](_0x5207ac[_0x274730(0x4f2)],_0x5207ac[_0x274730(0x259)]),{'update':_0x274730(0x16b)};}catch(_0xba8ebf){throw new A(_0x274730(0x107),_0xba8ebf[_0x274730(0x2d6)]());}}async[a0_0x5c767c(0x594)](_0x46eef9){const _0x536c94=a0_0x5c767c;try{return await this[_0x536c94(0x374)][_0x536c94(0x58b)](_0x46eef9[_0x536c94(0x4f2)],_0x46eef9[_0x536c94(0x398)]),{'update':'success'};}catch(_0x107189){throw new A('Error\x20change\x20group\x20setting',_0x107189['toString']());}}async[a0_0x5c767c(0x45b)](){const _0x2cf8fe=a0_0x5c767c;try{let _0x5b2cdb=[],_0x21b267=await this[_0x2cf8fe(0x374)][_0x2cf8fe(0x1e3)](),_0x42fce3=Object['values'](_0x21b267),_0x56fae1=_0x42fce3[_0x2cf8fe(0x294)](_0x1f1f5b=>(0x0,w[_0x2cf8fe(0x4d0)])(_0x1f1f5b?.['id']))[_0x2cf8fe(0x3a6)](async _0x341d23=>{const _0x4456ca=_0x2cf8fe;try{return await this[_0x4456ca(0x374)][_0x4456ca(0x252)](_0x341d23['id'],'preview');}catch(_0x531196){return this[_0x4456ca(0x448)][_0x4456ca(0xb5)](this['instanceName']+'\x20('+this[_0x4456ca(0x4f6)][_0x4456ca(0x336)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x341d23['id']+':\x20'+_0x531196[_0x4456ca(0x2d6)]()),null;}}),_0xda78fe=await Promise[_0x2cf8fe(0x4be)](_0x56fae1);for(let _0xb93eae=0x0;_0xb93eae<_0x42fce3[_0x2cf8fe(0x44d)];_0xb93eae++){let _0x1fcab4=_0x42fce3[_0xb93eae];(0x0,w[_0x2cf8fe(0x4d0)])(_0x1fcab4?.['id'])&&_0x5b2cdb[_0x2cf8fe(0x36a)]({'groupJid':_0x1fcab4?.['id'],'subject':_0x1fcab4?.[_0x2cf8fe(0x4d4)],'subjectOwner':_0x1fcab4?.[_0x2cf8fe(0x9e)]?.[_0x2cf8fe(0x642)]('@')[0x0],'subjectTime':_0x1fcab4?.[_0x2cf8fe(0x3c7)],'size':_0x1fcab4?.[_0x2cf8fe(0x4a1)]?.[_0x2cf8fe(0x44d)],'owner':_0x1fcab4?.[_0x2cf8fe(0x57d)]?.[_0x2cf8fe(0x642)]('@')[0x0],'creation':_0x1fcab4?.['creation'],'desc':_0x1fcab4?.[_0x2cf8fe(0x4d3)],'restrict':_0x1fcab4?.[_0x2cf8fe(0x577)],'announce':_0x1fcab4?.['announce'],'image':_0xda78fe[_0xb93eae]});}return _0x5b2cdb;}catch(_0x2953cc){throw new x(_0x2cf8fe(0x23e),_0x2953cc['toString']());}}async[a0_0x5c767c(0x584)](_0x217a8b){const _0x48a3ea=a0_0x5c767c;try{let _0x4544aa=await this[_0x48a3ea(0x374)][_0x48a3ea(0x153)](_0x217a8b['groupJid']);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x4544aa,'inviteCode':_0x4544aa};}catch(_0xe59941){throw new x('No\x20invite\x20code',_0xe59941[_0x48a3ea(0x2d6)]());}}async[a0_0x5c767c(0x54b)](_0x4eb0ec){const _0x20f9e=a0_0x5c767c;try{let _0x6c4f76=await this[_0x20f9e(0x374)][_0x20f9e(0x143)](_0x4eb0ec['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x20f9e(0x550)+_0x6c4f76,'inviteCode':_0x6c4f76};}catch(_0x3df923){throw new x('Revoke\x20error',_0x3df923['toString']());}}async[a0_0x5c767c(0x1b5)](_0x1a7c8b){const _0x18c4e4=a0_0x5c767c;try{if((0x0,O['isURL'])(_0x1a7c8b[_0x18c4e4(0x584)]))var _0x3a1d76=_0x1a7c8b[_0x18c4e4(0x584)][_0x18c4e4(0x642)]('/')[0x3];else var _0x3a1d76=_0x1a7c8b[_0x18c4e4(0x584)];let _0x5869bd=await this[_0x18c4e4(0x374)][_0x18c4e4(0x279)](_0x3a1d76);return this[_0x18c4e4(0x448)][_0x18c4e4(0xb5)](this[_0x18c4e4(0x32d)]+'\x20('+this['instance']['wuid']+_0x18c4e4(0xcc)+_0x5869bd),{'join':!0x0,'inviteCode':_0x3a1d76,'groupJid':_0x5869bd};}catch(_0x4810c7){throw new x('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x4810c7[_0x18c4e4(0x2d6)]());}}async[a0_0x5c767c(0x73)](_0x1641d5){const _0x1855dc=a0_0x5c767c;try{return{'participants':(await this[_0x1855dc(0x374)][_0x1855dc(0x4a9)](_0x1641d5[_0x1855dc(0x4f2)]))[_0x1855dc(0x4a1)]};}catch(_0x24a604){throw new x(_0x1855dc(0x5d3),_0x24a604[_0x1855dc(0x2d6)]());}}async[a0_0x5c767c(0x121)](_0x5eac79){const _0x2c0683=a0_0x5c767c;try{let _0x77343c=_0x5eac79[_0x2c0683(0x4a1)][_0x2c0683(0x3a6)](_0x256978=>this[_0x2c0683(0x42e)](_0x256978));return{'updateParticipants':await this['client'][_0x2c0683(0x640)](_0x5eac79[_0x2c0683(0x4f2)],_0x77343c,_0x5eac79[_0x2c0683(0x399)])};}catch(_0x29c71d){throw new g(_0x2c0683(0x38d),_0x29c71d[_0x2c0683(0x2d6)]());}}async[a0_0x5c767c(0x210)](_0xbad30d){const _0x2a0155=a0_0x5c767c;try{let _0x7247ca=await this[_0x2a0155(0x374)][_0x2a0155(0x5a0)](_0xbad30d['groupJid'],_0xbad30d[_0x2a0155(0x4a2)]);return{'success':!0x0};}catch(_0x2d74c3){throw new g(_0x2a0155(0x3de),_0x2d74c3[_0x2a0155(0x2d6)]());}}async['leaveGroup'](_0x2c2c1e){const _0x1362c9=a0_0x5c767c;try{return await this[_0x1362c9(0x374)][_0x1362c9(0x61a)](_0x2c2c1e['groupJid']),{'groupJid':_0x2c2c1e[_0x1362c9(0x4f2)],'leave':!0x0};}catch(_0x3b4680){throw new g(_0x1362c9(0x2e3),_0x3b4680[_0x1362c9(0x2d6)]());}}async['pollMessage'](_0x3a35e9){const _0x2b5507=a0_0x5c767c;return await this[_0x2b5507(0x35d)](_0x3a35e9['number'],{'poll':{'name':_0x3a35e9[_0x2b5507(0x18e)]?.[_0x2b5507(0x259)],'selectableCount':_0x3a35e9['pollMessage'][_0x2b5507(0x313)],'values':_0x3a35e9['pollMessage'][_0x2b5507(0x4e7)]}},_0x3a35e9?.['options']);}async['updateMessage'](_0x2133e8,_0x6f0d0d,_0xe18031){const _0x37f998=a0_0x5c767c;if(await this['getMessage'](_0x2133e8,!0x0)){let _0x4855db={'where':{'_id':_0x2133e8['id'],'owner':this[_0x37f998(0x4f6)]['wuid']}},_0x42b0e4={'status':[_0xe18031[_0x37f998(0x34d)]][0x0]};try{let _0x1410f8=await this[_0x37f998(0x231)][_0x37f998(0x273)]['update'](_0x4855db,_0x42b0e4);_0x1410f8&&q(this[_0x37f998(0x32d)],'messages',{'message':_0x1410f8});}catch{}}}[a0_0x5c767c(0xab)](_0x814f00){const _0x2e57e7=a0_0x5c767c;let _0x3c6c16=_0x814f00[_0x2e57e7(0x8d)](/\\n/g,'\x0a')[_0x2e57e7(0x642)]('\x0a')[_0x2e57e7(0x294)](_0x14eba7=>_0x14eba7[_0x2e57e7(0x3a7)](_0x2e57e7(0x2c9))||_0x14eba7[_0x2e57e7(0x3a7)](_0x2e57e7(0x4e3))),_0x38745f='';return _0x3c6c16[_0x2e57e7(0xeb)](_0x1ffd2d=>{const _0x3625d9=_0x2e57e7;let _0x32f7a3=/TEL(?:.*):(.+)/,_0x3a97af=/EMAIL(?:.*):(.+)/,_0x238aa2=_0x1ffd2d[_0x3625d9(0x58e)](_0x32f7a3),_0x2caa09=_0x1ffd2d[_0x3625d9(0x58e)](_0x3a97af);if(_0x238aa2){let _0x18e4d8=_0x238aa2[0x1][_0x3625d9(0x8d)](/-| |\+|\(|\)/g,'')['trim']();_0x38745f+=_0x3625d9(0x32a)+_0x18e4d8+'\x0a';}else{if(_0x2caa09){let _0x3d8ad8=_0x2caa09[0x1][_0x3625d9(0x1f9)]();_0x38745f+=_0x3625d9(0x34a)+_0x3d8ad8+'\x0a';}}}),_0x38745f[_0x2e57e7(0x1f9)]();}async[a0_0x5c767c(0x647)](_0x258923,_0x30c875,_0x55fe72){const _0x495600=a0_0x5c767c;let _0x56fc56=_0x30c875[_0x495600(0x40a)]['remoteJid'][_0x495600(0x8d)](/:\d{1,2}@/g,'@'),_0x1faaff=_0x30c875['key']['fromMe'],_0x5bfef8=_0x56fc56['endsWith'](_0x495600(0xff));if(!_0x258923['ENABLED'])return;let _0x34bbf6={'lastmsg':_0x30c875[_0x495600(0x645)]||Date[_0x495600(0x606)](),'unreadcount':_0x1faaff?0x0:0x1,..._0x1faaff||_0x5bfef8?{}:{'name':_0x30c875[_0x495600(0xb4)]},..._0x5bfef8?{'group':_0x5bfef8}:{}},_0x32e791=await this[_0x495600(0x231)][_0x495600(0x5bb)][_0x495600(0x362)]({'where':{'_id':_0x56fc56,'owner':this[_0x495600(0x4f6)][_0x495600(0x336)]}},_0x34bbf6,{'new':!0x0,'upsert':!0x0});if(!_0x5bfef8&&(!_0x32e791?.['leadInfo']||!_0x32e791[_0x495600(0x322)][_0x495600(0x5c5)])&&_0x30c875['pushName']&&!_0x1faaff&&await this[_0x495600(0x231)][_0x495600(0x5bb)][_0x495600(0x362)]({'where':{'_id':_0x56fc56,'owner':this[_0x495600(0x4f6)][_0x495600(0x336)]}},{'leadInfo.nome':_0x30c875['pushName']},{'new':!0x0,'upsert':!0x1}),_0x32e791)q(this['instanceName'],'chats',{'chat':_0x32e791});else{this['logger'][_0x495600(0x9a)](this[_0x495600(0x32d)]+'\x20('+this[_0x495600(0x4f6)]['wuid']+_0x495600(0x59d));return;}if(!this[_0x495600(0x56e)]?.[_0x495600(0x549)][_0x495600(0x90)])return this[_0x495600(0x448)][_0x495600(0xb5)](this[_0x495600(0x32d)]+'\x20('+this[_0x495600(0x4f6)][_0x495600(0x336)]+_0x495600(0x442)),null;if(_0x32e791[_0x495600(0x5bd)][_0x495600(0x3a7)](_0x495600(0xff))&&this[_0x495600(0x56e)]?.[_0x495600(0x549)][_0x495600(0x135)]===!0x0)return this['logger'][_0x495600(0xb5)](this[_0x495600(0x32d)]+'\x20('+this['instance'][_0x495600(0x336)]+_0x495600(0x547)),null;if(_0x32e791[_0x495600(0x322)]){if(_0x32e791[_0x495600(0x322)][_0x495600(0x562)]===0x0||_0x32e791['leadInfo'][_0x495600(0x569)])return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x495600(0x4f6)][_0x495600(0x336)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x56fc56+_0x495600(0x77)),null;if(_0x32e791[_0x495600(0x322)][_0x495600(0x562)]>Date[_0x495600(0x606)]())return this['logger'][_0x495600(0xb5)](this[_0x495600(0x32d)]+'\x20('+this[_0x495600(0x4f6)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x32e791[_0x495600(0x322)][_0x495600(0x562)])[_0x495600(0x422)]()+',\x20saindo.'),null;}this[_0x495600(0x448)][_0x495600(0xb5)](this[_0x495600(0x32d)]+'\x20('+this[_0x495600(0x4f6)][_0x495600(0x336)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x495600(0x173)](_0x55fe72,_0x30c875,this[_0x495600(0x4f6)][_0x495600(0x336)]);}async[a0_0x5c767c(0x496)](_0x38bec5,_0x1997a2){const _0x1256d2=a0_0x5c767c;if(_0x1997a2[_0x1256d2(0x168)]){let _0x14826a=_0x38bec5['map'](async _0x170a3a=>{const _0x5782ac=_0x1256d2;try{let _0x477878={'_id':_0x170a3a[_0x5782ac(0x5bd)],'owner':_0x170a3a[_0x5782ac(0x57d)],'lastcache':0x0};if(_0x170a3a[_0x5782ac(0x614)]!==null&&(_0x477878[_0x5782ac(0x614)]=_0x170a3a[_0x5782ac(0x614)]),_0x170a3a['name']!==null&&(_0x477878[_0x5782ac(0x259)]=_0x170a3a[_0x5782ac(0x259)]),_0x170a3a[_0x5782ac(0x116)]!==null&&(_0x477878[_0x5782ac(0x116)]=_0x170a3a['contactname']),_0x170a3a[_0x5782ac(0x3ff)]!==null&&(_0x477878['imagechat']=_0x170a3a['imagechat']),_0x170a3a[_0x5782ac(0x3ff)]===null&&(_0x477878[_0x5782ac(0x3ff)]=_0x5782ac(0x5be)),_0x170a3a[_0x5782ac(0x3a2)]!==null&&(_0x477878[_0x5782ac(0x3a2)]=_0x170a3a[_0x5782ac(0x3a2)]),_0x170a3a[_0x5782ac(0x613)]!==null&&(_0x477878[_0x5782ac(0x613)]=_0x170a3a['archived']),_0x170a3a['unreadcount']!==null&&(_0x477878[_0x5782ac(0x4e4)]=_0x170a3a['unreadcount']),Object[_0x5782ac(0x363)](_0x477878)['length']>0x0)return await this[_0x5782ac(0x231)][_0x5782ac(0x5bb)][_0x5782ac(0x362)]({'where':{'_id':_0x170a3a[_0x5782ac(0x5bd)],'owner':_0x170a3a[_0x5782ac(0x57d)]}},_0x477878);}catch(_0x5a227f){return console['error'](_0x5782ac(0x301)+_0x170a3a[_0x5782ac(0x5bd)]+':',_0x5a227f),null;}}),_0xe681c8=(await Promise['all'](_0x14826a))[_0x1256d2(0x294)](_0x313b3d=>_0x313b3d!==null)[_0x1256d2(0x44d)];this[_0x1256d2(0x448)][_0x1256d2(0xb5)](this[_0x1256d2(0x32d)]+'\x20('+this['instance'][_0x1256d2(0x336)]+_0x1256d2(0xcc)+_0xe681c8+_0x1256d2(0xbc)+this[_0x1256d2(0x4f6)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x5c767c(0x30f)](_0x2ef154){const _0x2424c1=a0_0x5c767c;this[_0x2424c1(0x448)]['verbose'](this['instanceName']+'\x20('+this[_0x2424c1(0x4f6)][_0x2424c1(0x336)]+_0x2424c1(0x3d8));let _0x4fd850={'readMessages':[{'remoteJid':_0x2ef154[_0x2424c1(0x1d8)][_0x2424c1(0x1ee)][_0x2424c1(0x40a)][_0x2424c1(0x18c)],'fromMe':_0x2ef154['chatLog'][_0x2424c1(0x1ee)][_0x2424c1(0x40a)][_0x2424c1(0x20e)],'id':_0x2ef154['chatLog']['lastReceivedMessage'][_0x2424c1(0x40a)]['id']}]};await this[_0x2424c1(0x86)](_0x4fd850);}async[a0_0x5c767c(0x173)](_0x22aaf2,_0x3b324f,_0x4cc806){const _0x47858e=a0_0x5c767c;try{let {key:_0x590d8f,message_normalized:_0x4f7b7e}=_0x3b324f,_0x5709bf=_0x4f7b7e,_0x69c945=_0x4f7b7e[_0x47858e(0x217)]||_0x4f7b7e[_0x47858e(0x11d)]||_0x4f7b7e[_0x47858e(0x93)]||_0x4f7b7e[_0x47858e(0x259)],_0x4c3689=_0x590d8f[_0x47858e(0x18c)],_0x497ee1;if(_0x5709bf['key']['fromMe']&&_0x69c945[_0x47858e(0x1f9)]()!==this[_0x47858e(0x56e)]?.[_0x47858e(0x549)]['stopConversation'][_0x47858e(0x1f9)]())return this['logger']['verbose'](this[_0x47858e(0x32d)]+'\x20('+this[_0x47858e(0x4f6)]['wuid']+_0x47858e(0x47d)),null;if(_0x5709bf[_0x47858e(0x40a)][_0x47858e(0x20e)]&&_0x69c945['trim']()===this['AutomateSystem']?.['flowConfig']['stopConversation'][_0x47858e(0x1f9)]()){this[_0x47858e(0x448)][_0x47858e(0xb5)](this[_0x47858e(0x32d)]+'\x20('+this[_0x47858e(0x4f6)][_0x47858e(0x336)]+_0x47858e(0x492));let _0xf45abb=await F['find']({'owner':_0x4cc806,'remoteJid':_0x4c3689,'status':'open'});this['logger'][_0x47858e(0xb5)](this[_0x47858e(0x32d)]+'\x20('+this[_0x47858e(0x4f6)][_0x47858e(0x336)]+_0x47858e(0x3f7)+_0xf45abb);let _0x1aaac2=Date['now'](),_0x46d127;return this[_0x47858e(0x56e)]?.[_0x47858e(0x549)][_0x47858e(0x19f)]===0x0?_0x46d127={'stoppedUntil':_0x1aaac2+0x7591f6200}:_0x46d127={'stoppedUntil':_0x1aaac2+this[_0x47858e(0x56e)]?.[_0x47858e(0x549)]['stopMinutes']*0x3c*0x3e8},this[_0x47858e(0x448)][_0x47858e(0xb5)](this[_0x47858e(0x32d)]+'\x20('+this['instance']['wuid']+_0x47858e(0x4c6)+_0x46d127),this[_0x47858e(0x46c)](_0x497ee1,_0x46d127[_0x47858e(0x3e5)]),null;}if(_0x69c945&&_0x69c945[_0x47858e(0x20c)](this['AutomateSystem']?.[_0x47858e(0x549)]['prefixCommand'])&&_0x69c945['length']>0x4){let _0x39f132=await I[_0x47858e(0x20d)]({'owner':_0x4cc806,'startCommandWord':_0x69c945});if(this['logger'][_0x47858e(0xb5)](this['instanceName']+'\x20('+this[_0x47858e(0x4f6)][_0x47858e(0x336)]+_0x47858e(0x7c)),_0x39f132)_0x497ee1=await this[_0x47858e(0x2ca)](_0x39f132,_0x5709bf[_0x47858e(0x40a)],_0x5709bf);else return this[_0x47858e(0x448)][_0x47858e(0xb5)](this[_0x47858e(0x32d)]+'\x20('+this[_0x47858e(0x4f6)][_0x47858e(0x336)]+_0x47858e(0x17a)),null;}else _0x497ee1=await this[_0x47858e(0x151)](_0x4cc806,_0x4c3689,_0x5709bf);if(_0x497ee1){this['logger'][_0x47858e(0xb5)](this[_0x47858e(0x32d)]+'\x20('+this[_0x47858e(0x4f6)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x590d8f[_0x47858e(0x20e)]&&_0x497ee1[_0x47858e(0x1f1)]&&this['readMessageBot'](_0x497ee1);let _0x26a18b=await this[_0x47858e(0x46d)](_0x497ee1);_0x26a18b&&await this['processblock'](_0x497ee1,_0x26a18b,_0x497ee1[_0x47858e(0x18c)]);}}catch(_0x442cce){this[_0x47858e(0x448)][_0x47858e(0x9a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x47858e(0x450)+_0x442cce);}}[a0_0x5c767c(0x459)](_0xb2055c,_0x36c9fc='',_0x382359={},_0x106a9f=!0x0){const _0x15cee0=a0_0x5c767c;for(let _0x427594 in _0xb2055c){let _0x277ff9=_0x106a9f?'_'+_0x427594:''+_0x36c9fc+_0x427594;typeof _0xb2055c[_0x427594]==_0x15cee0(0x230)&&_0xb2055c[_0x427594]!==null?this[_0x15cee0(0x459)](_0xb2055c[_0x427594],_0x277ff9+'.',_0x382359,!0x1):_0x382359[_0x277ff9]=String(_0xb2055c[_0x427594]);}return _0x382359;}[a0_0x5c767c(0x60f)](_0x5df6d4){const _0x21db93=a0_0x5c767c;let _0x227db7={};for(let _0x581809 of _0x5df6d4)typeof _0x581809[_0x21db93(0x259)]==_0x21db93(0x5c3)&&typeof _0x581809[_0x21db93(0x2ad)]=='string'&&(_0x227db7[_0x581809['name']]=_0x581809[_0x21db93(0x2ad)]);return _0x227db7;}async[a0_0x5c767c(0x46d)](_0x5dcf92){const _0x57240d=a0_0x5c767c;if(!this['AutomateSystem']?.[_0x57240d(0x549)]['enabled']||_0x5dcf92['status']!==_0x57240d(0x255)&&_0x5dcf92[_0x57240d(0x28b)]==='')return null;let _0x2938fc=_0x5dcf92['chatLog'][_0x57240d(0xa1)]||_0x57240d(0x2eb);typeof _0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0x1b3)]>'u'&&(_0x5dcf92['chatLog'][_0x57240d(0x1b3)]=!0x0);let _0x4d1c1e=_0x5dcf92['chatLog'][_0x57240d(0x1b3)];this[_0x57240d(0x448)][_0x57240d(0xb5)](this['instanceName']+'\x20('+this[_0x57240d(0x4f6)][_0x57240d(0x336)]+_0x57240d(0x4d5)+_0x2938fc+',\x20lastCondition:\x20'+_0x4d1c1e);let _0x582646=_0x2938fc===_0x57240d(0x2eb)?_0x5dcf92['blocks'][_0x57240d(0x504)](_0x3e06ec=>_0x3e06ec[_0x57240d(0x1cf)]===_0x57240d(0x2eb)):_0x5dcf92[_0x57240d(0x2e5)][_0x57240d(0x504)](_0x3aa80d=>_0x3aa80d[_0x57240d(0x5bd)]['toString']()===_0x2938fc[_0x57240d(0x2d6)]());if(!_0x582646)return this['logger']['error'](this[_0x57240d(0x32d)]+'\x20('+this[_0x57240d(0x4f6)][_0x57240d(0x336)]+_0x57240d(0x505)+_0x2938fc),null;let _0x3934c2={'_pushName':_0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0x1ee)][_0x57240d(0xb4)],..._0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0x6f)]},_0x3f81cd=null;if(_0x5dcf92['waitingPoll_id']){let _0x1cdd76=_0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0x1ee)][_0x57240d(0x93)],_0x4efc70=_0x5dcf92['waitingPoll_replyOptions'][_0x57240d(0x504)](_0x574509=>_0x574509[_0x57240d(0x404)]===_0x1cdd76);if(_0x4efc70){let _0x5a2c71=_0x4efc70[_0x57240d(0x2b6)];if(_0x3f81cd=_0x5dcf92[_0x57240d(0x2e5)]['find'](_0x35e05f=>_0x35e05f[_0x57240d(0x38e)]===_0x5a2c71&&_0x35e05f['order']===0x1),_0x582646[_0x57240d(0x427)][_0x57240d(0x1c3)]){let _0x51beec={'id':_0x5dcf92[_0x57240d(0x28b)],'remoteJid':_0x5dcf92[_0x57240d(0x18c)],'fromMe':!0x0};await this[_0x57240d(0x4d7)](_0x51beec);}if(_0x582646[_0x57240d(0x427)][_0x57240d(0x1c3)]&&_0x582646[_0x57240d(0x427)][_0x57240d(0x4d9)]){let _0x45f0d1={'number':_0x5dcf92[_0x57240d(0x18c)],'options':{'delay':0x0},'textMessage':{'text':_0x57240d(0x324)+_0x5dcf92[_0x57240d(0x227)]+_0x57240d(0xd7)+_0x1cdd76}};await this[_0x57240d(0x4df)](_0x45f0d1);}_0x5dcf92['status']='open',_0x5dcf92[_0x57240d(0x28b)]='',_0x5dcf92[_0x57240d(0x227)]='',_0x5dcf92[_0x57240d(0x397)]=[];}else{this['logger'][_0x57240d(0xb5)](this[_0x57240d(0x32d)]+'\x20('+this[_0x57240d(0x4f6)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x3ffb2f={'activatedCount':_0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0xc4)][_0x57240d(0x294)](_0x378b11=>String(_0x378b11[_0x57240d(0x1f6)])===String(_0x2938fc))[_0x57240d(0x44d)],'moreLogs':[_0x57240d(0x268)]};if(_0x582646[_0x57240d(0x427)][_0x57240d(0x4a8)]){let _0x488f41={'number':_0x5dcf92[_0x57240d(0x18c)],'options':{'delay':0x0},'textMessage':{'text':_0x582646[_0x57240d(0x427)][_0x57240d(0x4a8)]}};await this[_0x57240d(0x4df)](_0x488f41);}if(_0x582646['maxActives']!==void 0x0&&_0x3ffb2f[_0x57240d(0x488)]>=_0x582646[_0x57240d(0x253)]){let _0x2e02a1=Date[_0x57240d(0x606)](),_0x516548=_0x582646[_0x57240d(0x481)]??0xa;isNaN(_0x516548)&&(_0x516548=0xa);let _0x2bbbc9=_0x2e02a1+_0x516548*0x3c*0x3e8;_0x3ffb2f[_0x57240d(0x5af)]=_0x2bbbc9,_0x3ffb2f[_0x57240d(0x4fb)][_0x57240d(0x36a)](_0x57240d(0x5b0)),this[_0x57240d(0x46c)](_0x5dcf92,_0x2bbbc9),_0x5dcf92[_0x57240d(0x28b)]='',_0x5dcf92[_0x57240d(0x227)]='',_0x5dcf92[_0x57240d(0x397)]=[];}return this[_0x57240d(0x456)](_0x5dcf92,_0x582646,_0x3ffb2f,!0x0),null;}}if(_0x4d1c1e&&_0x582646[_0x57240d(0x2b6)]&&!_0x5dcf92[_0x57240d(0x28b)]){let _0x2fc87c=_0x5dcf92[_0x57240d(0x2e5)][_0x57240d(0x294)](_0x265fc0=>_0x265fc0[_0x57240d(0x38e)][_0x57240d(0x2d6)]()===_0x582646['next_groupId'][_0x57240d(0x2d6)]())['sort']((_0x539090,_0xc2e1b7)=>_0x539090['order']-_0xc2e1b7[_0x57240d(0x3c4)]);_0x2fc87c['length']>0x0&&(_0x3f81cd=_0x2fc87c[0x0]);}if(!_0x3f81cd){let _0x472eb8=_0x582646[_0x57240d(0x38e)],_0x21cd46=_0x5dcf92[_0x57240d(0x2e5)][_0x57240d(0x294)](_0x5708a=>_0x5708a[_0x57240d(0x38e)]===_0x472eb8&&_0x5708a[_0x57240d(0x3c4)]>_0x582646[_0x57240d(0x3c4)])[_0x57240d(0x222)]((_0x53b142,_0x34c012)=>_0x53b142[_0x57240d(0x3c4)]-_0x34c012['order']);_0x21cd46[_0x57240d(0x44d)]>0x0&&(_0x3f81cd=_0x21cd46[0x0]);}if(!_0x3f81cd)return _0x5dcf92[_0x57240d(0x34d)]=_0x57240d(0x4f0),null;_0x5dcf92[_0x57240d(0x1d8)]['realVariables']=_0x3934c2;let _0x383285=JSON[_0x57240d(0x23c)](JSON['stringify'](_0x3f81cd));return this['replaceVariablesInObject'](_0x383285,_0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0x6f)]),_0x5dcf92[_0x57240d(0x1d8)][_0x57240d(0xa1)]=_0x383285['_id'],_0x5dcf92['chatLog'][_0x57240d(0x1b3)]=!0x0,_0x383285;}[a0_0x5c767c(0x1ae)](_0x269b8f,_0x2f6367){const _0x59d7e1=a0_0x5c767c;return _0x269b8f[_0x59d7e1(0x8d)](/\{\{([^}]+)\}\}/g,(_0x33b14c,_0x15f224)=>_0x2f6367[_0x15f224]||'');}[a0_0x5c767c(0x502)](_0x3048c0,_0x475147){const _0x4fb338=a0_0x5c767c;for(let _0x1c6ab0 in _0x3048c0)typeof _0x3048c0[_0x1c6ab0]==_0x4fb338(0x5c3)?_0x3048c0[_0x1c6ab0]=this[_0x4fb338(0x1ae)](_0x3048c0[_0x1c6ab0],_0x475147):typeof _0x3048c0[_0x1c6ab0]=='object'&&this['replaceVariablesInObject'](_0x3048c0[_0x1c6ab0],_0x475147);}async[a0_0x5c767c(0x497)](_0x479112,_0x248638){const _0x340ccb=a0_0x5c767c;let _0x17b100=_0x248638[_0x340ccb(0x5bd)];if(_0x479112[_0x340ccb(0x1d8)]&&_0x479112[_0x340ccb(0x1d8)][_0x340ccb(0xc4)]){let _0x5549cd=_0x479112[_0x340ccb(0x1d8)]['blockLogs'][_0x340ccb(0x294)](_0x5c6219=>String(_0x5c6219[_0x340ccb(0x1f6)])===String(_0x17b100))[_0x340ccb(0x41f)]();if(_0x5549cd&&_0x5549cd[_0x340ccb(0x9a)]&&_0x248638['stopIfLastReturnedError'])return _0x479112[_0x340ccb(0x34d)]=_0x340ccb(0x4f0),await this[_0x340ccb(0x2a4)](_0x479112),null;}if(_0x248638[_0x340ccb(0x1cf)]===_0x340ccb(0x427)&&_0x248638[_0x340ccb(0x427)][_0x340ccb(0x585)]==='sendPoll'&&_0x479112[_0x340ccb(0x28b)])return _0x479112[_0x340ccb(0x1d8)][_0x340ccb(0xa1)]=_0x17b100,await this[_0x340ccb(0x2a4)](_0x479112),null;let _0x4fe819=await this[_0x340ccb(0x46d)](_0x479112);if(_0x479112[_0x340ccb(0x1d8)]&&_0x479112[_0x340ccb(0x1d8)][_0x340ccb(0xc4)]){let _0x3733cd=_0x479112[_0x340ccb(0x1d8)][_0x340ccb(0xc4)][_0x340ccb(0x294)](_0x1630a3=>String(_0x1630a3[_0x340ccb(0x1f6)])===String(_0x17b100))[_0x340ccb(0x44d)];if(_0x248638[_0x340ccb(0x253)]!==void 0x0&&_0x3733cd>=_0x248638['maxActives']){let _0xf4b53d=Date['now'](),_0x257821=_0x248638[_0x340ccb(0x481)]??0xa;isNaN(_0x257821)&&(_0x257821=0xa);let _0x3974c5=_0xf4b53d+_0x257821*0x3c*0x3e8,_0x53a021={'newStoppedUntil':_0x3974c5};return this[_0x340ccb(0x46c)](_0x479112,_0x3974c5),this['updateConversation'](_0x479112,_0x248638,_0x53a021,!0x0),null;}}_0x4fe819&&_0x4fe819[_0x340ccb(0x1cf)]!=='save'&&await this[_0x340ccb(0x5a8)](_0x479112,_0x4fe819,_0x479112[_0x340ccb(0x18c)]),_0x4fe819||await this[_0x340ccb(0x2a4)](_0x479112),_0x4fe819&&_0x4fe819['type']==='save'&&(_0x479112[_0x340ccb(0x1d8)][_0x340ccb(0xa1)]=_0x17b100,await this[_0x340ccb(0x2a4)](_0x479112));}async[a0_0x5c767c(0x5a8)](_0x538302,_0x320e8c,_0x373218){const _0xa340f1=a0_0x5c767c;try{let _0xd05605=_0x320e8c['type'];this[_0xa340f1(0x448)]['verbose'](this[_0xa340f1(0x32d)]+'\x20('+this[_0xa340f1(0x4f6)][_0xa340f1(0x336)]+_0xa340f1(0x381)+_0xd05605);let _0x2c32c3={'uazapi':()=>this[_0xa340f1(0x539)](_0x538302,_0x320e8c,_0x373218),'save':()=>this[_0xa340f1(0x37a)](_0x538302,_0x320e8c),'stop':()=>this[_0xa340f1(0x83)](_0x538302,_0x320e8c),'condition':()=>this[_0xa340f1(0xf7)](_0x538302,_0x320e8c),'varedit':()=>this[_0xa340f1(0x602)](_0x538302,_0x320e8c),'apirequest':()=>this[_0xa340f1(0x47a)](_0x538302,_0x320e8c),'goToFlow':()=>this[_0xa340f1(0x305)](_0x538302,_0x320e8c)}[_0xd05605];_0x2c32c3&&await _0x2c32c3();}catch(_0x3c3ee1){this[_0xa340f1(0x448)][_0xa340f1(0x9a)](this['instanceName']+'\x20('+this[_0xa340f1(0x4f6)]['wuid']+_0xa340f1(0x1e4)+_0x3c3ee1);}}async[a0_0x5c767c(0x305)](_0x517a79,_0x2a47f6){const _0xadbab2=a0_0x5c767c;if(this[_0xadbab2(0x448)]['verbose'](this[_0xadbab2(0x32d)]+'\x20('+this[_0xadbab2(0x4f6)]['wuid']+_0xadbab2(0x125)),!_0x517a79||!_0x2a47f6)return this[_0xadbab2(0x448)][_0xadbab2(0x9a)](this[_0xadbab2(0x32d)]+'\x20('+this[_0xadbab2(0x4f6)][_0xadbab2(0x336)]+_0xadbab2(0x2ae)),null;await this[_0xadbab2(0x456)](_0x517a79,_0x2a47f6,{},!0x0,!0x0),console[_0xadbab2(0x1ce)](_0xadbab2(0x293)),console[_0xadbab2(0x1ce)](_0x2a47f6);let _0x418291=_0x2a47f6[_0xadbab2(0x45a)];console['log']('flowname:\x20',_0x418291),_0x517a79=await this[_0xadbab2(0x4ee)](_0x418291,_0x517a79['remoteJid'],_0x517a79[_0xadbab2(0x1d8)][_0xadbab2(0x6f)]),this['logger'][_0xadbab2(0xb5)](this[_0xadbab2(0x32d)]+'\x20('+this[_0xadbab2(0x4f6)][_0xadbab2(0x336)]+_0xadbab2(0x5a7));let _0x87bfcb=await this[_0xadbab2(0x46d)](_0x517a79);_0x87bfcb&&await this['processblock'](_0x517a79,_0x87bfcb,_0x517a79[_0xadbab2(0x18c)]);}async[a0_0x5c767c(0x4ee)](_0x51f0fc,_0x396952,_0x40c8c2){const _0xf0b164=a0_0x5c767c;this[_0xf0b164(0x448)][_0xf0b164(0xb5)](this['instanceName']+'\x20('+this[_0xf0b164(0x4f6)][_0xf0b164(0x336)]+_0xf0b164(0x5ce));try{if(_0x51f0fc=await I[_0xf0b164(0x20d)]({'owner':this['instance'][_0xf0b164(0x336)],'name':_0x51f0fc}),!_0x51f0fc)return this[_0xf0b164(0x448)]['error'](this['instanceName']+'\x20('+this[_0xf0b164(0x4f6)][_0xf0b164(0x336)]+_0xf0b164(0x2f3)),null;let _0x398f94=require('mongodb')[_0xf0b164(0x589)],_0x494cc7=Date[_0xf0b164(0x606)](),_0xfbd773=_0xf0b164(0x2eb),_0x4427cf={},_0x595189={},_0x1477cf={..._0x51f0fc[_0xf0b164(0x22c)],'chatLog':null},_0x53e5e8={'lastReceivedMessage':_0x4427cf,'lastSendMessage':_0x595189,'lastBlockId':_0xfbd773,'lastCondition':!0x0,'realVariables':_0x40c8c2};_0x1477cf[_0xf0b164(0x1d8)]=_0x53e5e8,_0x1477cf[_0xf0b164(0x1d8)][_0xf0b164(0x6f)]={..._0x40c8c2},delete _0x1477cf[_0xf0b164(0x5bd)],_0x1477cf[_0xf0b164(0x5bd)]=new _0x398f94(),_0x1477cf[_0xf0b164(0x50a)]=_0x494cc7,_0x1477cf['status']='open',_0x1477cf[_0xf0b164(0x18c)]=_0x396952;let _0x2c7662=await F['create'](_0x1477cf);return this[_0xf0b164(0x448)]['verbose'](this[_0xf0b164(0x32d)]+'\x20('+this[_0xf0b164(0x4f6)][_0xf0b164(0x336)]+_0xf0b164(0x61f)),_0x2c7662?_0x1477cf:null;}catch(_0x5c8049){throw this[_0xf0b164(0x448)][_0xf0b164(0x9a)](this['instanceName']+'\x20('+this[_0xf0b164(0x4f6)][_0xf0b164(0x336)]+_0xf0b164(0x78)+_0x5c8049),new g(_0x5c8049['message']);}}async['processApiRequest'](_0x3b0356,_0x50c8b7){const _0x4b3185=a0_0x5c767c;let _0x188d2b,_0x5d684f;try{let _0x3dee47=_0x50c8b7[_0x4b3185(0x445)];if(!_0x3dee47||!_0x3dee47['url']||!_0x3dee47[_0x4b3185(0x3b4)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x13c04d={'method':_0x3dee47[_0x4b3185(0x3b4)],'url':_0x3dee47[_0x4b3185(0x367)],'headers':_0x3dee47['header']||{},'data':_0x3dee47[_0x4b3185(0x49f)]||{}};_0x188d2b=(await(0x0,ce['default'])(_0x13c04d))[_0x4b3185(0x531)];let _0x24800b=_0x3b0356[_0x4b3185(0x1d8)][_0x4b3185(0x6f)],_0x1f486d=this[_0x4b3185(0x459)](_0x188d2b);return Object[_0x4b3185(0x15a)](_0x24800b,_0x1f486d),_0x3b0356[_0x4b3185(0x1d8)][_0x4b3185(0x6f)]=_0x24800b,_0x5d684f={'error':!0x1,'apiResponse':_0x188d2b},this[_0x4b3185(0x456)](_0x3b0356,_0x50c8b7,_0x5d684f),_0x188d2b;}catch(_0x310a77){console[_0x4b3185(0x9a)](_0x4b3185(0x392),_0x310a77),_0x310a77[_0x4b3185(0x102)]&&(_0x188d2b=_0x310a77[_0x4b3185(0x102)]['data']);let _0x106af1=_0x3b0356['chatLog'][_0x4b3185(0x6f)],_0x354fa2=this[_0x4b3185(0x459)](_0x188d2b);return Object['assign'](_0x106af1,_0x354fa2),_0x3b0356['chatLog'][_0x4b3185(0x6f)]=_0x106af1,_0x5d684f={'error':!0x0,'errorLog':_0x310a77[_0x4b3185(0x2d6)](),'apiResponse':_0x188d2b},this['updateConversation'](_0x3b0356,_0x50c8b7,_0x5d684f),{'success':!0x1};}}['applyvaredit'](_0x379176,_0x19e6dd){const _0x15ff8e=a0_0x5c767c;let _0x2fd2a3=_0x433c18=>{const _0x38fb19=a0_0x277c;let _0x5b0b70=_0x433c18[_0x38fb19(0x8d)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x110a0c=parseFloat(_0x5b0b70);return isNaN(_0x110a0c)?null:_0x110a0c;},_0x4b6c58=_0x19e6dd[_0x15ff8e(0x593)],_0x11da83=_0x19e6dd[_0x15ff8e(0x3a5)];typeof _0x4b6c58==_0x15ff8e(0x5c3)&&(_0x4b6c58=this[_0x15ff8e(0x1ae)](_0x4b6c58,_0x379176[_0x15ff8e(0x1d8)][_0x15ff8e(0x6f)])??''),typeof _0x11da83=='string'&&(_0x11da83=this['replaceVariables'](_0x11da83,_0x379176['chatLog'][_0x15ff8e(0x6f)])??'');let _0xdd36d4=null;if(!_0x4b6c58||!_0x19e6dd[_0x15ff8e(0x535)])return null;switch(this[_0x15ff8e(0x448)][_0x15ff8e(0xb5)](this[_0x15ff8e(0x32d)]+'\x20('+this['instance'][_0x15ff8e(0x336)]+_0x15ff8e(0x246)+_0x4b6c58),this[_0x15ff8e(0x448)]['verbose'](this[_0x15ff8e(0x32d)]+'\x20('+this[_0x15ff8e(0x4f6)][_0x15ff8e(0x336)]+_0x15ff8e(0x3fe)+_0x11da83),_0x19e6dd[_0x15ff8e(0x535)]){case'+':case'-':case'*':case'/':let _0x273050=_0x2fd2a3(_0x4b6c58),_0x15e2b9=_0x2fd2a3(_0x11da83||'0');if(_0x273050===null)return null;switch(_0x19e6dd[_0x15ff8e(0x535)]){case'+':_0xdd36d4=_0x273050+(_0x15e2b9??0x0);break;case'-':_0xdd36d4=_0x273050-(_0x15e2b9??0x0);break;case'*':_0xdd36d4=_0x273050*(_0x15e2b9??0x1);break;case'/':_0x15e2b9!==0x0&&(_0xdd36d4=_0x273050/(_0x15e2b9??0x1));break;}break;case _0x15ff8e(0x33f):case _0x15ff8e(0x351):let _0x391430=_0x11da83,_0x2bb237=_0x19e6dd[_0x15ff8e(0x8f)];if(typeof _0x2bb237==_0x15ff8e(0x5c3)&&(_0x2bb237=this['replaceVariables'](_0x2bb237,_0x379176[_0x15ff8e(0x1d8)][_0x15ff8e(0x6f)])??''),_0x391430&&_0x2bb237!==void 0x0){let _0x14d0b5=_0x19e6dd[_0x15ff8e(0x535)]===_0x15ff8e(0x33f)?new RegExp(_0x391430[_0x15ff8e(0x8d)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x391430,'g');_0xdd36d4=_0x4b6c58['replace'](_0x14d0b5,_0x2bb237);}else console[_0x15ff8e(0x2e9)](_0x15ff8e(0x5db));break;case'setNewValue':_0xdd36d4=_0x11da83;break;case _0x15ff8e(0x5b5):let _0x3d8288=_0x4b6c58['match'](new RegExp(_0x11da83||''));_0xdd36d4=_0x3d8288?_0x3d8288[0x0]:'';break;case _0x15ff8e(0xfa):_0xdd36d4=_0x4b6c58[_0x15ff8e(0x334)](0x0,parseInt(_0x11da83||'0'));break;case _0x15ff8e(0x2f7):let _0x2946da=parseInt(_0x11da83||'0');_0xdd36d4=_0x4b6c58[_0x15ff8e(0x334)](_0x4b6c58[_0x15ff8e(0x44d)]-_0x2946da);break;case _0x15ff8e(0x142):let _0xea2c95=_0x2fd2a3(_0x4b6c58),_0x2e29bd=parseInt(_0x11da83||'0');_0x2e29bd=Math[_0x15ff8e(0xf1)](_0x2e29bd),_0xea2c95!==null?_0xdd36d4=_0xea2c95[_0x15ff8e(0x422)](_0x15ff8e(0x47b),{'minimumFractionDigits':_0x2e29bd,'maximumFractionDigits':_0x2e29bd}):(console['warn'](_0x15ff8e(0x1b9)+_0x4b6c58),_0xdd36d4=null);break;case _0x15ff8e(0x3d7):let _0x5e89a3=_0x2fd2a3(_0x4b6c58);_0x5e89a3!==null?_0xdd36d4=_0x5e89a3[_0x15ff8e(0x422)](_0x15ff8e(0x47b),{'style':_0x15ff8e(0x414),'currency':'BRL'}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x4b6c58),_0xdd36d4=null);break;case _0x15ff8e(0x443):_0xdd36d4=_0x4b6c58[_0x15ff8e(0x3a8)]();break;case _0x15ff8e(0x379):_0xdd36d4=_0x4b6c58['toLowerCase']();break;case _0x15ff8e(0xd6):_0xdd36d4=_0x4b6c58[_0x15ff8e(0x642)]('\x20')[_0x15ff8e(0x3a6)](_0x289b4d=>_0x289b4d[_0x15ff8e(0x5c6)](0x0)['toUpperCase']()+_0x289b4d['slice'](0x1)[_0x15ff8e(0xd0)]())[_0x15ff8e(0x361)]('\x20');break;case _0x15ff8e(0x3fd):_0xdd36d4=_0x4b6c58[_0x15ff8e(0x1f9)]();break;default:_0xdd36d4=_0x4b6c58;}return _0xdd36d4!==null?_0xdd36d4[_0x15ff8e(0x2d6)]():null;}async['processvaredits'](_0x56ab0a,_0x20ec1c){const _0x5cf790=a0_0x5c767c;try{let _0x335efe=_0x56ab0a[_0x5cf790(0x13f)]?.[_0x5cf790(0x294)](_0x64d92=>_0x64d92[_0x5cf790(0x1f6)]===_0x20ec1c[_0x5cf790(0x5bd)]?.['toString']())||[],_0x3f5c40=_0x20ec1c['saveVariable'],_0x83bba4=null,_0x27ef73=[],_0x93f222=_0x56ab0a[_0x5cf790(0x1d8)][_0x5cf790(0x6f)][_0x3f5c40];_0x27ef73[_0x5cf790(0x36a)](_0x5cf790(0x529)+_0x93f222+'\x22');for(let _0x41f97b of _0x335efe){_0x41f97b[_0x5cf790(0x593)]=_0x93f222,_0x83bba4=_0x41f97b[_0x5cf790(0x593)];let _0x3b05e1;try{_0x3b05e1=this[_0x5cf790(0x55f)](_0x56ab0a,_0x41f97b);}catch(_0x5217ac){console['error'](_0x5cf790(0x64b)+_0x5217ac[_0x5cf790(0x273)]);continue;}if(_0x3b05e1!==null){let _0x563277=_0x5cf790(0x5b2)+_0x41f97b[_0x5cf790(0x535)]+'\x22',_0x2ad097=[_0x5cf790(0x3d7),_0x5cf790(0x443),'lowerCase',_0x5cf790(0xd6),_0x5cf790(0x3fd)];_0x41f97b[_0x5cf790(0x535)]==='findAndReplace'||_0x41f97b[_0x5cf790(0x535)]===_0x5cf790(0x351)?_0x563277+=_0x5cf790(0x42d)+_0x41f97b[_0x5cf790(0x3a5)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x41f97b[_0x5cf790(0x8f)]+'\x22':!_0x2ad097[_0x5cf790(0x3a7)](_0x41f97b[_0x5cf790(0x535)])&&_0x41f97b[_0x5cf790(0x3a5)]!==null&&_0x41f97b['secondValue']!==void 0x0&&(_0x563277+=_0x5cf790(0xc3)+_0x41f97b[_0x5cf790(0x3a5)]+'\x22'),_0x563277+=_0x5cf790(0x24f)+_0x3b05e1+'.',_0x27ef73['push'](_0x563277);}_0x3b05e1!==null&&(_0x93f222=_0x3b05e1);}if(_0x56ab0a['chatLog'][_0x5cf790(0x6f)]&&_0x20ec1c[_0x5cf790(0x2fc)]){_0x56ab0a[_0x5cf790(0x1d8)][_0x5cf790(0x6f)][_0x20ec1c[_0x5cf790(0x2fc)]]=_0x93f222;let _0x5b424e={'variable':_0x20ec1c[_0x5cf790(0x2fc)],'oldValue':_0x83bba4,'newValue':_0x93f222,'moreLogs':_0x27ef73};try{this['updateConversation'](_0x56ab0a,_0x20ec1c,_0x5b424e);}catch(_0x56ceca){console['error'](_0x5cf790(0x513)+_0x56ceca[_0x5cf790(0x273)]);}}return _0x3f5c40;}catch(_0x305942){return console[_0x5cf790(0x9a)](_0x5cf790(0xd1)+_0x305942['message']),null;}}async[a0_0x5c767c(0xf7)](_0x167e26,_0x39996d){const _0xbd318a=a0_0x5c767c;try{let _0x49a6c5=[],_0xeee899=_0x167e26[_0xbd318a(0x1f5)]['filter'](_0x2ddd2e=>_0x2ddd2e['blockId']===_0x39996d[_0xbd318a(0x5bd)]['toString']()),_0xe32fa6=null,_0x133d9c=!0x1;for(let _0x293e55 of _0xeee899){let _0x3f14c0=this['evaluateCondition'](_0x167e26,_0x293e55);_0x49a6c5[_0xbd318a(0x36a)]('Primeiro\x20Valor:\x20'+_0x293e55[_0xbd318a(0x593)]+_0xbd318a(0xe6)+_0x293e55['expression']+_0xbd318a(0x4fe)+_0x293e55['secondValue']+_0xbd318a(0x1c9)+_0x3f14c0),_0xe32fa6===null?_0xe32fa6=_0x3f14c0:_0x293e55['OrAnd']==='and'?(_0xe32fa6=_0xe32fa6&&_0x3f14c0,_0x3f14c0||(_0x133d9c=!0x0)):_0x293e55['OrAnd']==='or'&&(_0x133d9c||(_0xe32fa6=_0xe32fa6||_0x3f14c0));}_0xe32fa6===null&&(_0xe32fa6=!0x0);let _0x5f10a0={'moreLogs':_0x49a6c5};_0x167e26[_0xbd318a(0x1d8)][_0xbd318a(0x1b3)]=_0xe32fa6,await this[_0xbd318a(0x456)](_0x167e26,_0x39996d,_0x5f10a0);}catch(_0x957887){this[_0xbd318a(0x448)][_0xbd318a(0x9a)](this[_0xbd318a(0x32d)]+'\x20('+this[_0xbd318a(0x4f6)]['wuid']+_0xbd318a(0x2b5)+_0x957887);}}[a0_0x5c767c(0x1f3)](_0x34f249,_0xda5d9){const _0x2759ef=a0_0x5c767c;let _0x44e25d=_0xda5d9[_0x2759ef(0x593)],_0x4bea47=_0xda5d9[_0x2759ef(0x3a5)];typeof _0x44e25d==_0x2759ef(0x5c3)&&(_0x44e25d=this[_0x2759ef(0x1ae)](_0x44e25d,_0x34f249['chatLog']['realVariables'])??''),typeof _0x4bea47==_0x2759ef(0x5c3)&&(_0x4bea47=this[_0x2759ef(0x1ae)](_0x4bea47,_0x34f249['chatLog'][_0x2759ef(0x6f)])??'');try{switch(_0xda5d9[_0x2759ef(0x49b)]){case _0x2759ef(0x439):return _0x44e25d===_0x4bea47;case'notEqual':return _0x44e25d!==_0x4bea47;case _0x2759ef(0x328):return _0x44e25d[_0x2759ef(0x3a7)](_0x4bea47);case _0x2759ef(0x2ac):return!_0x44e25d[_0x2759ef(0x3a7)](_0x4bea47);case _0x2759ef(0x266):return parseFloat(_0x44e25d)>parseFloat(_0x4bea47);case _0x2759ef(0x2ce):return parseFloat(_0x44e25d)<parseFloat(_0x4bea47);case _0x2759ef(0x1df):return _0x44e25d!=='';case _0x2759ef(0x3cf):return _0x44e25d==='';case _0x2759ef(0x295):return new RegExp(_0x4bea47)[_0x2759ef(0x347)](_0x44e25d);case'notMatchRegex':return!new RegExp(_0x4bea47)['test'](_0x44e25d);default:return!0x1;}}catch(_0x22a57f){return console[_0x2759ef(0x9a)](_0x2759ef(0x283)+_0x22a57f),!0x1;}}[a0_0x5c767c(0x28a)](_0x11e825){const _0x397e95=a0_0x5c767c;let _0x1e9105=!0x0,_0x3d92b3=null;for(let _0x19e4da of _0x11e825){let _0x291ca6=this[_0x397e95(0x80)](_0x19e4da);if(_0x3d92b3==='or'&&_0x291ca6){_0x1e9105=!0x0;break;}if(_0x3d92b3===_0x397e95(0x48b)&&!_0x291ca6){_0x1e9105=!0x1;break;}_0x3d92b3=_0x19e4da[_0x397e95(0x24e)];}return _0x1e9105;}[a0_0x5c767c(0x80)](_0xaf3274){const _0x46dda1=a0_0x5c767c;let _0x3f20e8=_0xaf3274[_0x46dda1(0x593)],_0x183812=_0xaf3274[_0x46dda1(0x3a5)];try{switch(_0xaf3274[_0x46dda1(0x49b)]){case _0x46dda1(0x439):return String(_0x3f20e8)===String(_0x183812);case _0x46dda1(0x308):return String(_0x3f20e8)!==String(_0x183812);case _0x46dda1(0x328):return String(_0x3f20e8)['includes'](String(_0x183812));case _0x46dda1(0x2ac):return!String(_0x3f20e8)['includes'](String(_0x183812));case _0x46dda1(0x266):return parseFloat(String(_0x3f20e8))>parseFloat(String(_0x183812));case _0x46dda1(0x2ce):return parseFloat(String(_0x3f20e8))<parseFloat(String(_0x183812));case _0x46dda1(0x1df):return String(_0x3f20e8)!=='';case _0x46dda1(0x3cf):return String(_0x3f20e8)==='';case'matchRegex':return new RegExp(String(_0x183812))[_0x46dda1(0x347)](String(_0x3f20e8));case _0x46dda1(0x199):return!new RegExp(String(_0x183812))['test'](String(_0x3f20e8));default:return!0x1;}}catch(_0x5a87fb){return console['error'](_0x46dda1(0x283)+_0x5a87fb),!0x1;}}async[a0_0x5c767c(0x37a)](_0x703e8f,_0x40bd0d){const _0x522094=a0_0x5c767c;if(this['logger'][_0x522094(0xb5)](this[_0x522094(0x32d)]+'\x20('+this['instance'][_0x522094(0x336)]+_0x522094(0x240)),!_0x703e8f||!_0x40bd0d)return this[_0x522094(0x448)][_0x522094(0x9a)](this[_0x522094(0x32d)]+'\x20('+this[_0x522094(0x4f6)][_0x522094(0x336)]+_0x522094(0x2ae)),null;let _0x14d201=_0x40bd0d['saveVariable'],_0x45c390=_0x703e8f['chatLog']['lastReceivedMessage'][_0x522094(0x217)]||_0x703e8f['chatLog'][_0x522094(0x1ee)][_0x522094(0x11d)]||_0x703e8f[_0x522094(0x1d8)][_0x522094(0x1ee)][_0x522094(0x93)];try{_0x703e8f[_0x522094(0x1d8)][_0x522094(0x6f)]||(_0x703e8f[_0x522094(0x1d8)][_0x522094(0x6f)]={});let _0x883e23=_0x703e8f['chatLog']['realVariables'][_0x14d201];_0x703e8f['chatLog'][_0x522094(0x6f)][_0x14d201]=_0x45c390;let _0x26b9f4={'variable':_0x14d201,'oldValue':_0x883e23,'newValue':_0x45c390};this[_0x522094(0x456)](_0x703e8f,_0x40bd0d,_0x26b9f4),this[_0x522094(0x448)][_0x522094(0xb5)](this['instanceName']+'\x20('+this[_0x522094(0x4f6)][_0x522094(0x336)]+_0x522094(0x2af));}catch(_0x4515f0){let _0x5b3f0a={'error':!0x0,'errorLog':_0x4515f0[_0x522094(0x2d6)]()};return this['updateConversation'](_0x703e8f,_0x40bd0d,_0x5b3f0a),this[_0x522094(0x448)][_0x522094(0x9a)](this[_0x522094(0x32d)]+'\x20('+this[_0x522094(0x4f6)][_0x522094(0x336)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+_0x4515f0[_0x522094(0x273)]),null;}}async[a0_0x5c767c(0x83)](_0x30d3bf,_0x508a3a){const _0x51a409=a0_0x5c767c;if(this[_0x51a409(0x448)][_0x51a409(0xb5)](this[_0x51a409(0x32d)]+'\x20('+this[_0x51a409(0x4f6)][_0x51a409(0x336)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x30d3bf||!_0x508a3a)return this[_0x51a409(0x448)][_0x51a409(0x9a)](this['instanceName']+'\x20('+this[_0x51a409(0x4f6)]['wuid']+_0x51a409(0x2ae)),null;let _0x53856e=Date[_0x51a409(0x606)](),_0x409716=parseInt(_0x508a3a[_0x51a409(0x19f)],0xa);if(isNaN(_0x409716))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x51a409(0x4f6)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4f1478={'newStoppedUntil':_0x53856e+_0x409716*0x3c*0x3e8};return await this['updateConversation'](_0x30d3bf,_0x508a3a,_0x4f1478,!0x0),null;}async[a0_0x5c767c(0x539)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51){const _0x446ad3=a0_0x5c767c;try{switch(_0x1fd3dd[_0x446ad3(0x427)][_0x446ad3(0x585)]){case'sendText':await this[_0x446ad3(0x3da)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case'sendMedia':await this['uazapiSendMedia'](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case _0x446ad3(0x161):await this[_0x446ad3(0x2b3)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case _0x446ad3(0x17c):await this[_0x446ad3(0x541)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case _0x446ad3(0x3d2):await this[_0x446ad3(0x223)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case _0x446ad3(0x510):await this['uazapiSendPoll'](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;case _0x446ad3(0x4d7):await this[_0x446ad3(0x61e)](_0x2b0ed5,_0x1fd3dd,_0x3d6e51);break;default:this['logger'][_0x446ad3(0x9a)](this[_0x446ad3(0x32d)]+'\x20('+this['instance'][_0x446ad3(0x336)]+'):\x20Comando\x20desconhecido:\x20'+_0x1fd3dd['uazapi']['command']);}}catch(_0xaa5ae6){this[_0x446ad3(0x448)][_0x446ad3(0x9a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x446ad3(0x564)+_0xaa5ae6);}}async[a0_0x5c767c(0x456)](_0x58f781,_0xecb0c8,_0x3d7f8f,_0x1b7a1f=!0x1,_0x284b01=!0x1){const _0x48bbf8=a0_0x5c767c;_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0xc4)]||(_0x58f781['chatLog'][_0x48bbf8(0xc4)]=[]);let _0x2f6e6d=(_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0xc4)]?.[_0x48bbf8(0x44d)]??0x0)+0x1,_0x45d01d=_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0xc4)]['filter'](_0x1cb2bd=>String(_0x1cb2bd[_0x48bbf8(0x1f6)])===String(_0xecb0c8[_0x48bbf8(0x5bd)]))[_0x48bbf8(0x44d)]+0x1,_0x1890b6=_0x3d7f8f?.[_0x48bbf8(0x339)]??Date['now'](),_0x358e64=_0x3d7f8f?.[_0x48bbf8(0x9a)]?_0x3d7f8f[_0x48bbf8(0x24b)]??_0x3d7f8f['error'][_0x48bbf8(0x2d6)]():void 0x0,_0x22dfa6={'onTime':_0x1890b6,'blockId':_0xecb0c8[_0x48bbf8(0x5bd)],'order':_0x2f6e6d,'activatedCount':_0x45d01d,'error':_0x3d7f8f?.['error']??!0x1,'messageId':_0x3d7f8f?.[_0x48bbf8(0x63d)],'apiResponse':_0x3d7f8f?.['apiResponse'],'apiResponseString':_0x3d7f8f?.[_0x48bbf8(0x5cc)]?JSON[_0x48bbf8(0x274)](_0x3d7f8f?.[_0x48bbf8(0x5cc)]):void 0x0,'variable':_0x3d7f8f?.['variable'],'oldValue':_0x3d7f8f?.[_0x48bbf8(0x1ff)],'newValue':_0x3d7f8f?.[_0x48bbf8(0x192)],'newStoppedUntil':_0x3d7f8f?.['newStoppedUntil'],'moreLogs':_0x3d7f8f?.[_0x48bbf8(0x4fb)],'errorLog':_0x358e64};if(_0x3d7f8f['moreLogs']&&_0x3d7f8f[_0x48bbf8(0x4fb)][_0x48bbf8(0x44d)]>0x0){let _0x4660f7=_0x3d7f8f[_0x48bbf8(0x4fb)][_0x48bbf8(0x3a6)](_0x296143=>this[_0x48bbf8(0x517)](_0x296143,_0x58f781[_0x48bbf8(0x1d8)]['realVariables']));_0x22dfa6[_0x48bbf8(0x4fb)]=_0x4660f7;}_0x58f781['chatLog']['realVariables']||(_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x6f)]={}),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x6f)][_0x48bbf8(0x4cd)]=String(_0x45d01d),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x6f)][_0x48bbf8(0x55d)]=String(_0x3d7f8f[_0x48bbf8(0x9a)]??!0x1),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0xc4)][_0x48bbf8(0x36a)](_0x22dfa6),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0xa1)]=_0xecb0c8[_0x48bbf8(0x5bd)]['toString'](),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x3ea)]&&(_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x3ea)]=_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x3ea)]),_0x58f781['chatLog'][_0x48bbf8(0x1ee)]&&(_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x1ee)]=_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x1ee)]),_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x1b3)]&&(_0x58f781[_0x48bbf8(0x1d8)][_0x48bbf8(0x1b3)]=_0x58f781['chatLog'][_0x48bbf8(0x1b3)]),_0x284b01&&(_0x58f781[_0x48bbf8(0x34d)]='closed'),_0x1b7a1f?this[_0x48bbf8(0x2a4)](_0x58f781):this[_0x48bbf8(0x497)](_0x58f781,_0xecb0c8);}[a0_0x5c767c(0x517)](_0x2eacd7,_0x2ac396){const _0x5cb3fd=a0_0x5c767c;return _0x2eacd7[_0x5cb3fd(0x8d)](/\{\{([^}]+)\}\}/g,(_0x338f5e,_0x3989a4)=>_0x2ac396[_0x3989a4]?'{{'+_0x3989a4+_0x5cb3fd(0x3ce)+_0x2ac396[_0x3989a4]+'\x22':'{{'+_0x3989a4+_0x5cb3fd(0x3f0));}async[a0_0x5c767c(0x2a4)](_0x3dd26f){const _0x2e5eee=a0_0x5c767c;try{let _0x576b12=Object[_0x2e5eee(0x66)](_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x6f)])[_0x2e5eee(0x3a6)](([_0xb40e7d,_0x1dc07d])=>({'name':_0xb40e7d,'value':_0x1dc07d})),_0x436c48=await F[_0x2e5eee(0x41b)]({'_id':_0x3dd26f[_0x2e5eee(0x5bd)]},{'$set':{'chatLog.lastBlockId':_0x3dd26f['chatLog'][_0x2e5eee(0xa1)],'blocks':_0x3dd26f[_0x2e5eee(0x2e5)],'chatLog.lastSendMessage':_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x3ea)],'chatLog.lastReceivedMessage':_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x1ee)],'chatLog.lastCondition':_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x1b3)],'chatLog.chatVariables':_0x576b12,'chatLog.realVariables':_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x6f)],'status':_0x3dd26f[_0x2e5eee(0x34d)],'chatLog.blockLogs':_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0xc4)],'waitingPoll_id':_0x3dd26f[_0x2e5eee(0x28b)],'waitingPoll_name':_0x3dd26f[_0x2e5eee(0x227)],'waitingPoll_replyOptions':_0x3dd26f[_0x2e5eee(0x397)]}},{'new':!0x0});if(_0x436c48){this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](this[_0x2e5eee(0x32d)]+'\x20('+this[_0x2e5eee(0x4f6)][_0x2e5eee(0x336)]+_0x2e5eee(0x50b)+_0x436c48['_id']);try{let _0x38e618=[_0x2e5eee(0x5c5),_0x2e5eee(0x3d5),_0x2e5eee(0x609),_0x2e5eee(0x3ad),'status',_0x2e5eee(0x267),_0x2e5eee(0x147),'tags'];if(!this[_0x2e5eee(0x56e)]&&(await this[_0x2e5eee(0x124)](),!this[_0x2e5eee(0x56e)]))throw new Error(_0x2e5eee(0xfc));let _0x9cd8d6=this[_0x2e5eee(0x56e)]?.['customFields']['map'](_0x59dd92=>_0x59dd92['name']),_0x4590e3={};Object[_0x2e5eee(0x66)](_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0x6f)])[_0x2e5eee(0xeb)](([_0x5d52af,_0x4a40ce])=>{const _0x2b9415=_0x2e5eee;_0x38e618[_0x2b9415(0x3a7)](_0x5d52af)&&(_0x5d52af===_0x2b9415(0x359)&&typeof _0x4a40ce==_0x2b9415(0x5c3)?_0x4590e3[_0x5d52af]=_0x4a40ce[_0x2b9415(0x642)](',')['map'](_0x4db668=>_0x4db668[_0x2b9415(0x1f9)]())['filter'](_0x69265b=>_0x69265b!==''):_0x4590e3[_0x5d52af]=_0x4a40ce);});let _0x20ac65=_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0xc4)][_0x3dd26f[_0x2e5eee(0x1d8)][_0x2e5eee(0xc4)][_0x2e5eee(0x44d)]-0x1];if(_0x20ac65){let _0xbea20b=_0x20ac65[_0x2e5eee(0x5af)];_0xbea20b!==void 0x0&&(_0x4590e3['desativadoFluxoAte']=_0xbea20b[_0x2e5eee(0x2d6)]());}let _0x59a1d0=_0x576b12[_0x2e5eee(0x294)](_0x22fe34=>_0x9cd8d6[_0x2e5eee(0x3a7)](_0x22fe34['name']));this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](this[_0x2e5eee(0x32d)]+'\x20('+this[_0x2e5eee(0x4f6)][_0x2e5eee(0x336)]+_0x2e5eee(0x54f)),this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](_0x4590e3),this[_0x2e5eee(0x448)]['verbose'](this[_0x2e5eee(0x32d)]+'\x20('+this['instance']['wuid']+_0x2e5eee(0x175)),this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](_0x59a1d0);let _0xb0f3e2=_0x59a1d0[_0x2e5eee(0x3a6)](_0x322ff7=>{const _0x1f2d5e=_0x2e5eee;let _0x494398=this[_0x1f2d5e(0x56e)]?.[_0x1f2d5e(0x2b0)][_0x1f2d5e(0x504)](_0x560cf9=>_0x560cf9[_0x1f2d5e(0x259)]===_0x322ff7[_0x1f2d5e(0x259)]);if(!_0x494398)throw new Error(_0x1f2d5e(0x37f)+_0x322ff7[_0x1f2d5e(0x259)]);return{'_id':_0x494398[_0x1f2d5e(0x5bd)],'value':_0x322ff7['value']};});this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](this[_0x2e5eee(0x32d)]+'\x20('+this[_0x2e5eee(0x4f6)][_0x2e5eee(0x336)]+_0x2e5eee(0x104)),this[_0x2e5eee(0x448)][_0x2e5eee(0xb5)](_0xb0f3e2),await this['saveChatVariables'](_0x3dd26f[_0x2e5eee(0x18c)],_0x4590e3,_0xb0f3e2);}catch(_0x1ad031){this['logger']['error'](this[_0x2e5eee(0x32d)]+'\x20('+this['instance'][_0x2e5eee(0x336)]+_0x2e5eee(0x2dd)+JSON[_0x2e5eee(0x274)](_0x1ad031));}}else this['logger']['error'](this['instanceName']+'\x20('+this[_0x2e5eee(0x4f6)]['wuid']+_0x2e5eee(0x22b));}catch(_0x1aa8d3){this[_0x2e5eee(0x448)][_0x2e5eee(0x9a)](this[_0x2e5eee(0x32d)]+'\x20('+this[_0x2e5eee(0x4f6)][_0x2e5eee(0x336)]+_0x2e5eee(0xc1)+JSON[_0x2e5eee(0x274)](_0x1aa8d3));}}async[a0_0x5c767c(0x206)](_0xb0f3eb,_0x1b45fb,_0x3d1f25){const _0x4ac009=a0_0x5c767c;try{let _0x3fba83={'leadInfo.leadnome':_0x1b45fb[_0x4ac009(0x5c5)],'leadInfo.nomecompleto':_0x1b45fb['nomecompleto'],'leadInfo.email':_0x1b45fb['email'],'leadInfo.cpf':_0x1b45fb[_0x4ac009(0x3ad)],'leadInfo.status':_0x1b45fb[_0x4ac009(0x34d)],'leadInfo.notas':_0x1b45fb[_0x4ac009(0x267)],'leadInfo.responsavelid':_0x1b45fb[_0x4ac009(0x147)],'leadInfo.tags':_0x1b45fb[_0x4ac009(0x359)],'leadInfo.customFields':_0x3d1f25};if('desativadoFluxoAte'in _0x1b45fb){let _0x204929=_0x1b45fb[_0x4ac009(0x562)];_0x3fba83['leadInfo.desativadoFluxoAte']=_0x204929?Number(_0x204929):null;}let _0x5e7b35=await this[_0x4ac009(0x231)][_0x4ac009(0x5bb)]['updateOne']({'where':{'_id':_0xb0f3eb,'owner':this[_0x4ac009(0x4f6)][_0x4ac009(0x336)]}},_0x3fba83);_0x5e7b35?(this[_0x4ac009(0x448)][_0x4ac009(0xb5)](this[_0x4ac009(0x32d)]+'\x20('+this[_0x4ac009(0x4f6)]['wuid']+_0x4ac009(0x635)+_0x5e7b35[_0x4ac009(0x5bd)]),q(this[_0x4ac009(0x32d)],_0x4ac009(0x157),{'chat':_0x5e7b35})):this['logger']['error'](this['instanceName']+'\x20('+this[_0x4ac009(0x4f6)]['wuid']+_0x4ac009(0x455));}catch(_0x3fa8be){this[_0x4ac009(0x448)]['error'](this[_0x4ac009(0x32d)]+'\x20('+this[_0x4ac009(0x4f6)]['wuid']+_0x4ac009(0x586)+_0x3fa8be);}}async[a0_0x5c767c(0x46c)](_0x374352,_0x25887b){const _0x2cee69=a0_0x5c767c;this[_0x2cee69(0x448)]['verbose'](this[_0x2cee69(0x32d)]+'\x20('+this[_0x2cee69(0x4f6)]['wuid']+_0x2cee69(0x573)+_0x25887b);try{let _0x425781=await this[_0x2cee69(0x231)][_0x2cee69(0x5bb)]['updateOne']({'where':{'_id':_0x374352[_0x2cee69(0x18c)],'owner':_0x374352[_0x2cee69(0x57d)]}},{'leadInfo.desativadoFluxoAte':_0x25887b});this['logger'][_0x2cee69(0xb5)](this['instanceName']+'\x20('+this[_0x2cee69(0x4f6)][_0x2cee69(0x336)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x374352[_0x2cee69(0x5bd)]),this[_0x2cee69(0x448)]['verbose'](this[_0x2cee69(0x32d)]+'\x20('+this['instance']['wuid']+_0x2cee69(0x573)+JSON[_0x2cee69(0x274)](_0x425781,null,0x2)),_0x425781&&q(this[_0x2cee69(0x32d)],_0x2cee69(0x157),{'chat':_0x425781});}catch(_0x3246c7){this[_0x2cee69(0x448)][_0x2cee69(0x9a)](this[_0x2cee69(0x32d)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x2cee69(0x274)](_0x3246c7));}}async[a0_0x5c767c(0xb6)](_0x1078c2,_0x86bc22){const _0x311f40=a0_0x5c767c;try{this[_0x311f40(0x448)][_0x311f40(0xb5)](this[_0x311f40(0x32d)]+'\x20('+this[_0x311f40(0x4f6)]['wuid']+_0x311f40(0x21d));let _0x257159=_0x86bc22['replace'](/\D/g,''),_0x52478b=await I[_0x311f40(0x20d)]({'owner':_0x1078c2,'testingWith':_0x257159});return _0x52478b||(this[_0x311f40(0x448)][_0x311f40(0xb5)](this[_0x311f40(0x32d)]+'\x20('+this[_0x311f40(0x4f6)][_0x311f40(0x336)]+_0x311f40(0x49a)),_0x52478b=await I[_0x311f40(0x20d)]({'owner':_0x1078c2,'default':!0x0})),_0x52478b||(this[_0x311f40(0x448)][_0x311f40(0xb5)](this['instanceName']+'\x20('+this[_0x311f40(0x4f6)][_0x311f40(0x336)]+_0x311f40(0x18a)),null);}catch(_0x3e340d){return this[_0x311f40(0x448)][_0x311f40(0x9a)](this['instanceName']+'\x20('+this[_0x311f40(0x4f6)][_0x311f40(0x336)]+_0x311f40(0x1e5)+_0x3e340d),null;}}async[a0_0x5c767c(0x151)](_0x23e6ec,_0x409da0,_0x3a751e){const _0x4e6878=a0_0x5c767c;try{let _0x492980=!!_0x3a751e['vote'],_0x56696f=_0x3a751e['poll_id'],_0x4d5ce1=null;if(this[_0x4e6878(0x448)][_0x4e6878(0xb5)](this[_0x4e6878(0x32d)]+'\x20('+this['instance'][_0x4e6878(0x336)]+_0x4e6878(0x377)+_0x492980+'poll_id'+_0x56696f),_0x492980)return this['logger']['verbose'](this[_0x4e6878(0x32d)]+'\x20('+this['instance'][_0x4e6878(0x336)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x4d5ce1=await F[_0x4e6878(0x20d)]({'owner':_0x23e6ec,'remoteJid':_0x409da0,'waitingPoll_id':_0x56696f}),_0x4d5ce1?(_0x4d5ce1['lastInteraction']=Date[_0x4e6878(0x606)](),_0x4d5ce1[_0x4e6878(0x1d8)][_0x4e6878(0x1ee)]=_0x3a751e,_0x4d5ce1):(this['logger'][_0x4e6878(0xb5)](this[_0x4e6878(0x32d)]+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+'):\x20não\x20encontrou'),null);{if(this[_0x4e6878(0x448)]['verbose'](this[_0x4e6878(0x32d)]+'\x20('+this['instance'][_0x4e6878(0x336)]+_0x4e6878(0xcc)+this['instance'][_0x4e6878(0x336)]+_0x4e6878(0x624)),this[_0x4e6878(0x448)]['verbose'](this[_0x4e6878(0x32d)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20conversa'),_0x4d5ce1=await F[_0x4e6878(0x20d)]({'owner':_0x23e6ec,'remoteJid':_0x409da0,'status':'open'}),!_0x4d5ce1){let _0x41940e=await this[_0x4e6878(0xb6)](_0x23e6ec,_0x409da0);if(_0x41940e&&(_0x4d5ce1=await this[_0x4e6878(0x2ca)](_0x41940e,_0x3a751e[_0x4e6878(0x40a)],_0x3a751e)),!_0x4d5ce1)return null;}let _0xcdfdc0=Date['now'](),_0x4dc4ad=_0x4d5ce1?.[_0x4e6878(0x1f4)]||0x0,_0x16b7ed=_0xcdfdc0-_0x4dc4ad*0x3c*0x3e8;if(this[_0x4e6878(0x448)][_0x4e6878(0xb5)](this[_0x4e6878(0x32d)]+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+'):\x20Current\x20Time:\x20'+_0xcdfdc0+',\x20Minutes\x20to\x20Close:\x20'+_0x4dc4ad+_0x4e6878(0xa8)+_0x16b7ed),this[_0x4e6878(0x448)]['verbose'](this[_0x4e6878(0x32d)]+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x4e6878(0xb5)](this[_0x4e6878(0x32d)]+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+_0x4e6878(0x1c6)+_0x4d5ce1[_0x4e6878(0x50a)]),this['logger'][_0x4e6878(0xb5)](this[_0x4e6878(0x32d)]+'\x20('+this['instance'][_0x4e6878(0x336)]+_0x4e6878(0x2b8)+_0x16b7ed),_0x4d5ce1[_0x4e6878(0x50a)]<_0x16b7ed){this['logger'][_0x4e6878(0xb5)](this['instanceName']+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+_0x4e6878(0x3b8));let _0x5a2a90=await this['findFlow'](_0x23e6ec,_0x409da0);if(_0x5a2a90===null)return null;_0x4d5ce1&&await F[_0x4e6878(0x362)]({'_id':_0x4d5ce1['_id']},{'status':_0x4e6878(0x4f0)}),_0x4d5ce1=await this[_0x4e6878(0x2ca)](_0x5a2a90,_0x3a751e[_0x4e6878(0x40a)],_0x3a751e);}return _0x4d5ce1[_0x4e6878(0x50a)]=_0xcdfdc0,_0x4d5ce1[_0x4e6878(0x1d8)][_0x4e6878(0x1ee)]=_0x3a751e,_0x4d5ce1;}}catch(_0x3ed2de){return this[_0x4e6878(0x448)][_0x4e6878(0x9a)](this[_0x4e6878(0x32d)]+'\x20('+this[_0x4e6878(0x4f6)][_0x4e6878(0x336)]+_0x4e6878(0x561)+_0x3ed2de),null;}}async[a0_0x5c767c(0x2ca)](_0x53809b,_0x26a280,_0x1bcd54){const _0x1ae288=a0_0x5c767c;this[_0x1ae288(0x448)]['verbose'](this[_0x1ae288(0x32d)]+'\x20('+this[_0x1ae288(0x4f6)]['wuid']+_0x1ae288(0x5ce));try{let _0x35ad3c=require(_0x1ae288(0x489))[_0x1ae288(0x589)],_0x46a8a3=Date[_0x1ae288(0x606)](),_0x260933=_0x1ae288(0x2eb),_0xe20faa=_0x26a280[_0x1ae288(0x20e)]?null:_0x1bcd54,_0x2d300c=_0x26a280[_0x1ae288(0x20e)]?_0x1bcd54:null,_0x3cdc26=_0x26a280['remoteJid'];await this['closeExistingConversations'](_0x3cdc26);let _0x4e3676={..._0x53809b[_0x1ae288(0x22c)],'chatLog':null},_0x4f3c98=await this[_0x1ae288(0x60f)](_0x4e3676[_0x1ae288(0x4e5)]),_0x4b4926=await this['getVariablesChat'](_0x3cdc26),_0x3616ed={..._0x4f3c98,..._0x4b4926,'_remoteJid':_0x3cdc26},_0x35a6dd={'lastReceivedMessage':_0xe20faa,'lastSendMessage':_0x2d300c,'lastBlockId':_0x260933,'lastCondition':!0x0,'realVariables':_0x3616ed};_0x4e3676[_0x1ae288(0x1d8)]=_0x35a6dd,delete _0x4e3676[_0x1ae288(0x5bd)],_0x4e3676[_0x1ae288(0x5bd)]=new _0x35ad3c(),_0x4e3676[_0x1ae288(0x50a)]=_0x46a8a3,_0x4e3676[_0x1ae288(0x34d)]=_0x1ae288(0x255),_0x4e3676[_0x1ae288(0x18c)]=_0x3cdc26;let _0x15f77a=await F[_0x1ae288(0x1ab)](_0x4e3676);return this[_0x1ae288(0x448)][_0x1ae288(0xb5)](this[_0x1ae288(0x32d)]+'\x20('+this[_0x1ae288(0x4f6)][_0x1ae288(0x336)]+_0x1ae288(0x61f)),_0x15f77a?_0x4e3676:null;}catch(_0x1fd756){return this[_0x1ae288(0x448)][_0x1ae288(0x9a)](this[_0x1ae288(0x32d)]+'\x20('+this['instance'][_0x1ae288(0x336)]+_0x1ae288(0x78)+_0x1fd756),_0x1fd756;}}async[a0_0x5c767c(0x3da)](_0x45eccd,_0x26119c,_0x4e0287){const _0x75dfee=a0_0x5c767c;this[_0x75dfee(0x448)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x75dfee(0x336)]+'):\x20Enviando\x20texto');let _0x14c90c={'number':_0x4e0287,'options':{'delay':_0x26119c[_0x75dfee(0x427)]['delay']},'textMessage':{'text':_0x26119c[_0x75dfee(0x427)][_0x75dfee(0x217)]}};try{let _0x1f2fad=await this['textMessage'](_0x14c90c);if(_0x1f2fad){let _0x5ca631={'_id':_0x1f2fad[_0x75dfee(0x40a)]['id'],'_fromMe':_0x1f2fad[_0x75dfee(0x40a)][_0x75dfee(0x20e)],'_remoteJid':_0x1f2fad[_0x75dfee(0x40a)][_0x75dfee(0x18c)]};_0x45eccd[_0x75dfee(0x1d8)][_0x75dfee(0xa1)]=_0x26119c['_id'][_0x75dfee(0x2d6)]();let {message_normalized:_0x2770f9}=this['normalizeMessage'](_0x1f2fad['message'],J(_0x1f2fad[_0x75dfee(0x273)]),null);_0x45eccd[_0x75dfee(0x1d8)][_0x75dfee(0x3ea)]=await _0x2770f9;let _0x35c7c5={'messageId':_0x1f2fad[_0x75dfee(0x40a)]['id']},_0x2db96b=_0x45eccd[_0x75dfee(0x1d8)][_0x75dfee(0x6f)];Object[_0x75dfee(0x15a)](_0x2db96b,_0x5ca631),_0x45eccd[_0x75dfee(0x1d8)][_0x75dfee(0x6f)]=_0x2db96b,this[_0x75dfee(0x456)](_0x45eccd,_0x26119c,_0x35c7c5);}else{let _0x44d086={'error':!0x0};this[_0x75dfee(0x456)](_0x45eccd,_0x26119c,_0x44d086),this[_0x75dfee(0x448)][_0x75dfee(0x9a)](this[_0x75dfee(0x32d)]+'\x20('+this[_0x75dfee(0x4f6)]['wuid']+_0x75dfee(0x234));}}catch(_0x4309d2){let _0x474b45={'error':!0x0,'errorLog':_0x4309d2[_0x75dfee(0x2d6)]()};this[_0x75dfee(0x456)](_0x45eccd,_0x26119c,_0x474b45),this[_0x75dfee(0x448)][_0x75dfee(0x9a)](this[_0x75dfee(0x32d)]+'\x20('+this[_0x75dfee(0x4f6)][_0x75dfee(0x336)]+_0x75dfee(0x89)+_0x4309d2[_0x75dfee(0x2d6)]());}}async['uazapiSendMedia'](_0x3ade8a,_0x445bec,_0x5f164b){const _0x4bfb34=a0_0x5c767c;this[_0x4bfb34(0x448)][_0x4bfb34(0xb5)](this['instanceName']+'\x20('+this[_0x4bfb34(0x4f6)]['wuid']+_0x4bfb34(0x4b9));let _0x46fb7d={'number':_0x5f164b,'options':{'delay':_0x445bec[_0x4bfb34(0x427)][_0x4bfb34(0x47c)]},'mediaMessage':{'mediatype':_0x445bec[_0x4bfb34(0x427)][_0x4bfb34(0x53f)],'caption':_0x445bec[_0x4bfb34(0x427)]['caption'],'media':_0x445bec[_0x4bfb34(0x427)][_0x4bfb34(0x567)],'fileName':_0x445bec[_0x4bfb34(0x427)][_0x4bfb34(0x571)]}};try{let _0x5e2017=await this[_0x4bfb34(0x506)](_0x46fb7d);if(_0x5e2017){let _0xd29197={'_id':_0x5e2017[_0x4bfb34(0x40a)]['id'],'_fromMe':_0x5e2017['key'][_0x4bfb34(0x20e)],'_remoteJid':_0x5e2017[_0x4bfb34(0x40a)][_0x4bfb34(0x18c)]};_0x3ade8a['chatLog'][_0x4bfb34(0xa1)]=_0x445bec['_id'][_0x4bfb34(0x2d6)]();let {message_normalized:_0x1efb6a}=this[_0x4bfb34(0x467)](_0x5e2017[_0x4bfb34(0x273)],J(_0x5e2017[_0x4bfb34(0x273)]),null);_0x3ade8a[_0x4bfb34(0x1d8)][_0x4bfb34(0x3ea)]=await _0x1efb6a;let _0x265260={'messageId':_0x5e2017[_0x4bfb34(0x40a)]['id']},_0x3028cc=_0x3ade8a[_0x4bfb34(0x1d8)][_0x4bfb34(0x6f)];Object[_0x4bfb34(0x15a)](_0x3028cc,_0xd29197),_0x3ade8a[_0x4bfb34(0x1d8)][_0x4bfb34(0x6f)]=_0x3028cc,this[_0x4bfb34(0x456)](_0x3ade8a,_0x445bec,_0x265260);}else{let _0x102142={'error':!0x0};this[_0x4bfb34(0x456)](_0x3ade8a,_0x445bec,_0x102142),this[_0x4bfb34(0x448)][_0x4bfb34(0x9a)](this[_0x4bfb34(0x32d)]+'\x20('+this[_0x4bfb34(0x4f6)][_0x4bfb34(0x336)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x654b29){let _0x15affb={'error':!0x0,'errorLog':_0x654b29[_0x4bfb34(0x2d6)]()};this[_0x4bfb34(0x456)](_0x3ade8a,_0x445bec,_0x15affb),this['logger'][_0x4bfb34(0x9a)](this[_0x4bfb34(0x32d)]+'\x20('+this['instance']['wuid']+_0x4bfb34(0x51b)+_0x654b29[_0x4bfb34(0x2d6)]());}}async[a0_0x5c767c(0x2b3)](_0x4a4947,_0x290c94,_0x1dbbbd){const _0x2388af=a0_0x5c767c;this[_0x2388af(0x448)][_0x2388af(0xb5)](this[_0x2388af(0x32d)]+'\x20('+this[_0x2388af(0x4f6)][_0x2388af(0x336)]+_0x2388af(0x490));let _0x111d04={'number':_0x1dbbbd,'options':{'delay':_0x290c94['uazapi'][_0x2388af(0x47c)]},'locationMessage':{'name':_0x290c94[_0x2388af(0x427)]['name'],'address':_0x290c94[_0x2388af(0x427)][_0x2388af(0x390)],'latitude':_0x290c94[_0x2388af(0x427)][_0x2388af(0x32e)],'longitude':_0x290c94[_0x2388af(0x427)][_0x2388af(0x5ff)]}};try{let _0x3b1a00=await this[_0x2388af(0x28e)](_0x111d04);if(_0x3b1a00){let _0x54ce99={'_id':_0x3b1a00[_0x2388af(0x40a)]['id'],'_fromMe':_0x3b1a00[_0x2388af(0x40a)][_0x2388af(0x20e)],'_remoteJid':_0x3b1a00[_0x2388af(0x40a)]['remoteJid']};_0x4a4947['chatLog'][_0x2388af(0xa1)]=_0x290c94['_id'][_0x2388af(0x2d6)]();let {message_normalized:_0x4a4097}=this[_0x2388af(0x467)](_0x3b1a00[_0x2388af(0x273)],J(_0x3b1a00['message']),null);_0x4a4947[_0x2388af(0x1d8)][_0x2388af(0x3ea)]=await _0x4a4097;let _0x2979f4={'messageId':_0x3b1a00[_0x2388af(0x40a)]['id']},_0x584177=_0x4a4947[_0x2388af(0x1d8)]['realVariables'];Object[_0x2388af(0x15a)](_0x584177,_0x54ce99),_0x4a4947['chatLog'][_0x2388af(0x6f)]=_0x584177,this['updateConversation'](_0x4a4947,_0x290c94,_0x2979f4);}else{let _0x42045c={'error':!0x0};this[_0x2388af(0x456)](_0x4a4947,_0x290c94,_0x42045c),this[_0x2388af(0x448)]['error'](this['instanceName']+'\x20('+this[_0x2388af(0x4f6)][_0x2388af(0x336)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x3a29c5){let _0x2ebd8d={'error':!0x0,'errorLog':_0x3a29c5[_0x2388af(0x2d6)]()};this['updateConversation'](_0x4a4947,_0x290c94,_0x2ebd8d),this['logger'][_0x2388af(0x9a)](this[_0x2388af(0x32d)]+'\x20('+this[_0x2388af(0x4f6)][_0x2388af(0x336)]+_0x2388af(0x583)+_0x3a29c5[_0x2388af(0x2d6)]());}}async['uazapiSendAudio'](_0x22ec50,_0x5b8a8a,_0x51ad63){const _0x442271=a0_0x5c767c;this[_0x442271(0x448)][_0x442271(0xb5)](this[_0x442271(0x32d)]+'\x20('+this[_0x442271(0x4f6)][_0x442271(0x336)]+_0x442271(0x27b));let _0x4ac357={'number':_0x51ad63,'options':{'delay':_0x5b8a8a['uazapi'][_0x442271(0x47c)]},'audioMessage':{'audio':_0x5b8a8a['uazapi'][_0x442271(0x3bd)]}};try{let _0x1f701c=await this[_0x442271(0x345)](_0x4ac357);if(_0x1f701c){let _0x49ad8e={'_id':_0x1f701c[_0x442271(0x40a)]['id'],'_fromMe':_0x1f701c[_0x442271(0x40a)][_0x442271(0x20e)],'_remoteJid':_0x1f701c['key'][_0x442271(0x18c)]};_0x22ec50[_0x442271(0x1d8)][_0x442271(0xa1)]=_0x5b8a8a[_0x442271(0x5bd)][_0x442271(0x2d6)]();let {message_normalized:_0x284435}=this['normalizeMessage'](_0x1f701c[_0x442271(0x273)],J(_0x1f701c[_0x442271(0x273)]),null);_0x22ec50['chatLog'][_0x442271(0x3ea)]=await _0x284435;let _0x455007={'messageId':_0x1f701c['key']['id']},_0x1522cf=_0x22ec50[_0x442271(0x1d8)][_0x442271(0x6f)];Object[_0x442271(0x15a)](_0x1522cf,_0x49ad8e),_0x22ec50['chatLog'][_0x442271(0x6f)]=_0x1522cf,this[_0x442271(0x456)](_0x22ec50,_0x5b8a8a,_0x455007);}else{let _0x5937fe={'error':!0x0};this[_0x442271(0x456)](_0x22ec50,_0x5b8a8a,_0x5937fe),this[_0x442271(0x448)][_0x442271(0x9a)](this[_0x442271(0x32d)]+'\x20('+this['instance'][_0x442271(0x336)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x40185c){let _0x44691b={'error':!0x0,'errorLog':_0x40185c[_0x442271(0x2d6)]()};this[_0x442271(0x456)](_0x22ec50,_0x5b8a8a,_0x44691b),this[_0x442271(0x448)]['error'](this[_0x442271(0x32d)]+'\x20('+this[_0x442271(0x4f6)][_0x442271(0x336)]+_0x442271(0x179)+_0x40185c[_0x442271(0x2d6)]());}}async['uazapiSendContact'](_0x29ccf7,_0x25122c,_0x37d347){const _0x315b76=a0_0x5c767c;this['logger'][_0x315b76(0xb5)](this[_0x315b76(0x32d)]+'\x20('+this[_0x315b76(0x4f6)]['wuid']+_0x315b76(0x3af));let _0x1db970={'number':_0x37d347,'options':{'delay':_0x25122c[_0x315b76(0x427)][_0x315b76(0x47c)]},'contactMessage':[{'fullName':_0x25122c[_0x315b76(0x427)]['fullName'],'phoneNumber':_0x25122c[_0x315b76(0x427)]['phoneNumber']}]};try{let _0x256ed8=await this[_0x315b76(0x39d)](_0x1db970);if(_0x256ed8){let _0x12fe0e={'_id':_0x256ed8[_0x315b76(0x40a)]['id'],'_fromMe':_0x256ed8['key'][_0x315b76(0x20e)],'_remoteJid':_0x256ed8[_0x315b76(0x40a)]['remoteJid']};_0x29ccf7[_0x315b76(0x1d8)][_0x315b76(0xa1)]=_0x25122c[_0x315b76(0x5bd)][_0x315b76(0x2d6)]();let {message_normalized:_0x2437a1}=this[_0x315b76(0x467)](_0x256ed8[_0x315b76(0x273)],J(_0x256ed8['message']),null);_0x29ccf7[_0x315b76(0x1d8)][_0x315b76(0x3ea)]=await _0x2437a1;let _0xcbfb66={'messageId':_0x256ed8[_0x315b76(0x40a)]['id']},_0x51a199=_0x29ccf7[_0x315b76(0x1d8)][_0x315b76(0x6f)];Object[_0x315b76(0x15a)](_0x51a199,_0x12fe0e),_0x29ccf7[_0x315b76(0x1d8)][_0x315b76(0x6f)]=_0x51a199,this[_0x315b76(0x456)](_0x29ccf7,_0x25122c,_0xcbfb66);}else{let _0x15bf5c={'error':!0x0};this[_0x315b76(0x456)](_0x29ccf7,_0x25122c,_0x15bf5c),this[_0x315b76(0x448)][_0x315b76(0x9a)](this[_0x315b76(0x32d)]+'\x20('+this[_0x315b76(0x4f6)][_0x315b76(0x336)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x50030d){let _0xafc2da={'error':!0x0,'errorLog':_0x50030d[_0x315b76(0x2d6)]()};this['updateConversation'](_0x29ccf7,_0x25122c,_0xafc2da),this['logger'][_0x315b76(0x9a)](this[_0x315b76(0x32d)]+'\x20('+this['instance'][_0x315b76(0x336)]+_0x315b76(0x244)+_0x50030d[_0x315b76(0x2d6)]());}}['replaceVariablesInReplyOptions'](_0x525fd8,_0x459fb7){const _0x14e938=a0_0x5c767c;for(let _0xe6e80d of _0x525fd8)_0xe6e80d[_0x14e938(0x404)]&&(_0xe6e80d[_0x14e938(0x404)]=this['replaceVariables'](_0xe6e80d[_0x14e938(0x404)],_0x459fb7)),_0xe6e80d[_0x14e938(0x1fc)]&&(_0xe6e80d['optionDescription']=this['replaceVariables'](_0xe6e80d['optionDescription'],_0x459fb7));}async['uazapiSendPoll'](_0xd01f18,_0xb49e55,_0x231d6d){const _0x445a37=a0_0x5c767c;this[_0x445a37(0x448)]['verbose'](this[_0x445a37(0x32d)]+'\x20('+this[_0x445a37(0x4f6)][_0x445a37(0x336)]+_0x445a37(0x4a3));let _0x2aaa49=_0xd01f18[_0x445a37(0x26d)][_0x445a37(0x294)](_0x592864=>_0x592864['blockId']===_0xb49e55[_0x445a37(0x5bd)]);this[_0x445a37(0x94)](_0x2aaa49,_0xd01f18[_0x445a37(0x1d8)][_0x445a37(0x6f)]);let _0x25a93e=_0x2aaa49[_0x445a37(0x3a6)](_0x1e3525=>_0x1e3525[_0x445a37(0x404)]),_0xf5a836={'number':_0x231d6d,'options':{'delay':_0xb49e55['uazapi'][_0x445a37(0x47c)]},'pollMessage':{'name':_0xb49e55['uazapi'][_0x445a37(0x259)],'selectableCount':0x1,'values':_0x25a93e}};try{let _0x3e0b65=await this[_0x445a37(0x18e)](_0xf5a836);if(_0x3e0b65){let _0x1181e6={'_id':_0x3e0b65[_0x445a37(0x40a)]['id'],'_fromMe':_0x3e0b65[_0x445a37(0x40a)][_0x445a37(0x20e)],'_remoteJid':_0x3e0b65[_0x445a37(0x40a)]['remoteJid']};this['logger'][_0x445a37(0xb5)](this[_0x445a37(0x32d)]+'\x20('+this['instance'][_0x445a37(0x336)]+_0x445a37(0x437)+_0xb49e55[_0x445a37(0x427)][_0x445a37(0x259)]),_0xd01f18[_0x445a37(0x28b)]=_0x3e0b65['key']['id'],_0xd01f18[_0x445a37(0x227)]=_0xb49e55[_0x445a37(0x427)][_0x445a37(0x259)],_0xd01f18[_0x445a37(0x397)]=_0x2aaa49,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x445a37(0x4f6)][_0x445a37(0x336)]+'):\x20conversation.waitingPollname'+_0xd01f18['waitingPoll_name']),_0xd01f18[_0x445a37(0x1d8)][_0x445a37(0xa1)]=_0xb49e55[_0x445a37(0x5bd)][_0x445a37(0x2d6)]();let {message_normalized:_0x5b273d}=this[_0x445a37(0x467)](_0x3e0b65[_0x445a37(0x273)],J(_0x3e0b65[_0x445a37(0x273)]),null);_0xd01f18['chatLog'][_0x445a37(0x3ea)]=await _0x5b273d;let _0x12dee={'messageId':_0x3e0b65[_0x445a37(0x40a)]['id']},_0x179a89=_0xd01f18[_0x445a37(0x1d8)][_0x445a37(0x6f)];Object[_0x445a37(0x15a)](_0x179a89,_0x1181e6),_0xd01f18['chatLog'][_0x445a37(0x6f)]=_0x179a89,this[_0x445a37(0x456)](_0xd01f18,_0xb49e55,_0x12dee);}else{let _0xaf2e9f={'error':!0x0};this[_0x445a37(0x456)](_0xd01f18,_0xb49e55,_0xaf2e9f),this[_0x445a37(0x448)][_0x445a37(0x9a)](this['instanceName']+'\x20('+this[_0x445a37(0x4f6)][_0x445a37(0x336)]+_0x445a37(0x5e8));}}catch(_0x1b7b43){let _0x18344a={'error':!0x0,'errorLog':_0x1b7b43[_0x445a37(0x2d6)]()};this[_0x445a37(0x456)](_0xd01f18,_0xb49e55,_0x18344a),this['logger']['error'](this[_0x445a37(0x32d)]+'\x20('+this['instance'][_0x445a37(0x336)]+_0x445a37(0x30c)+_0x1b7b43[_0x445a37(0x2d6)]());}}async[a0_0x5c767c(0x61e)](_0x4b2149,_0x43978d,_0x4644a9){const _0x87e659=a0_0x5c767c;this[_0x87e659(0x448)][_0x87e659(0xb5)](this['instanceName']+'\x20('+this[_0x87e659(0x4f6)][_0x87e659(0x336)]+_0x87e659(0x5e3));let _0x20a432=_0x4b2149[_0x87e659(0x1d8)][_0x87e659(0xc4)]['find'](_0x2c0d0f=>_0x2c0d0f['blockId'][_0x87e659(0x2d6)]()===_0x43978d[_0x87e659(0x427)][_0x87e659(0x1f6)][_0x87e659(0x2d6)]()),_0x29c6ec={'id':_0x20a432[_0x87e659(0x63d)],'remoteJid':_0x20a432[_0x87e659(0x18c)],'fromMe':_0x20a432[_0x87e659(0x20e)]};try{let _0x543486=await this['deleteMessage'](_0x29c6ec);if(_0x543486){_0x4b2149['chatLog'][_0x87e659(0xa1)]=_0x43978d[_0x87e659(0x5bd)][_0x87e659(0x2d6)]();let {message_normalized:_0x5da812}=this['normalizeMessage'](_0x543486[_0x87e659(0x273)],J(_0x543486[_0x87e659(0x273)]),null);_0x4b2149['chatLog'][_0x87e659(0x3ea)]=await _0x5da812;let _0x3eb75e={};this[_0x87e659(0x456)](_0x4b2149,_0x43978d,_0x3eb75e);}else{let _0x19e4e0={'error':!0x0};this[_0x87e659(0x456)](_0x4b2149,_0x43978d,_0x19e4e0),this[_0x87e659(0x448)][_0x87e659(0x9a)](this[_0x87e659(0x32d)]+'\x20('+this[_0x87e659(0x4f6)][_0x87e659(0x336)]+_0x87e659(0xe7));}}catch(_0x522b12){let _0x217d40={'error':!0x0,'errorLog':_0x522b12['toString']()};this[_0x87e659(0x456)](_0x4b2149,_0x43978d,_0x217d40),this[_0x87e659(0x448)][_0x87e659(0x9a)](this['instanceName']+'\x20('+this[_0x87e659(0x4f6)][_0x87e659(0x336)]+_0x87e659(0x52c)+_0x522b12['toString']());}}async[a0_0x5c767c(0x58a)](_0x18a458){const _0x306933=a0_0x5c767c;try{if(this['logger']['verbose'](this[_0x306933(0x32d)]+'\x20('+this[_0x306933(0x4f6)][_0x306933(0x336)]+'):\x20Criando\x20fluxo...'),await I[_0x306933(0x20d)]({'owner':this[_0x306933(0x4f6)][_0x306933(0x336)],'name':_0x18a458[_0x306933(0x259)]}))return{'message':_0x306933(0x646)};_0x18a458[_0x306933(0x6c)]===!0x0&&await I['updateMany']({'owner':this[_0x306933(0x4f6)][_0x306933(0x336)]},{'default':!0x1});let _0x50b808=new we[(_0x306933(0x51f))][(_0x306933(0x589))](),_0x115abc={'_id':_0x50b808,'default':!0x0,'title':_0x306933(0x435),'x':0x0,'y':0x0},_0x5ea241={'_id':new we[(_0x306933(0x51f))][(_0x306933(0x589))](),'order':0x1,'groupId':_0x50b808[_0x306933(0x2d6)](),'type':_0x306933(0x2eb)};return await I['create']({'owner':this[_0x306933(0x4f6)][_0x306933(0x336)],'name':_0x18a458[_0x306933(0x259)],'groups':[_0x115abc],'blocks':[_0x5ea241],..._0x18a458});}catch(_0x2fff22){throw this[_0x306933(0x448)][_0x306933(0x9a)](this[_0x306933(0x32d)]+'\x20('+this[_0x306933(0x4f6)]['wuid']+_0x306933(0x462)+_0x2fff22),new g('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x2fff22);}}async[a0_0x5c767c(0x5ad)](_0x4ce31e){const _0x2d6334=a0_0x5c767c;try{return this[_0x2d6334(0x448)][_0x2d6334(0xb5)](this[_0x2d6334(0x32d)]+'\x20('+this[_0x2d6334(0x4f6)]['wuid']+_0x2d6334(0x409)),await I[_0x2d6334(0x53c)]({'owner':this['instance']['wuid'],'name':_0x4ce31e});}catch(_0x2e748e){return this[_0x2d6334(0x448)][_0x2d6334(0x9a)](this[_0x2d6334(0x32d)]+'\x20('+this[_0x2d6334(0x4f6)][_0x2d6334(0x336)]+_0x2d6334(0x1fd)+_0x2e748e),{'message':_0x2d6334(0x44b)+_0x2e748e};}}async[a0_0x5c767c(0x35e)](_0x46c85a){const _0x55a9f6=a0_0x5c767c;try{this[_0x55a9f6(0x448)][_0x55a9f6(0xb5)](this[_0x55a9f6(0x32d)]+'\x20('+this[_0x55a9f6(0x4f6)][_0x55a9f6(0x336)]+'):\x20Buscando\x20flow...');let _0x3afcb5=await I['findOne']({'owner':this[_0x55a9f6(0x4f6)][_0x55a9f6(0x336)],'name':_0x46c85a});if(!_0x3afcb5)throw new Error(_0x55a9f6(0xa2));if(!this[_0x55a9f6(0x56e)]&&(await this[_0x55a9f6(0x124)](),!this[_0x55a9f6(0x56e)]))return null;let _0x58d38d=this[_0x55a9f6(0x56e)]?.[_0x55a9f6(0x2b0)]['map'](_0x36de35=>_0x36de35['name']),_0x456a9a=[_0x55a9f6(0x5c5),_0x55a9f6(0x3d5),_0x55a9f6(0x609),'cpf','status',_0x55a9f6(0x267),_0x55a9f6(0x147),_0x55a9f6(0x359)];return _0x3afcb5[_0x55a9f6(0x4e5)]=_0x3afcb5[_0x55a9f6(0x4e5)][_0x55a9f6(0x294)](_0x391ab4=>!(_0x391ab4[_0x55a9f6(0x5ab)]==='leadInfo'||_0x391ab4[_0x55a9f6(0x322)])),_0x456a9a[_0x55a9f6(0xeb)](_0x3c1020=>{const _0x1b5132=_0x55a9f6;_0x3afcb5['variables'][_0x1b5132(0x36a)]({'folder':_0x1b5132(0x322),'name':_0x3c1020,'value':'','doc':'','leadInfo':!0x0});}),_0x58d38d[_0x55a9f6(0xeb)](_0x43dfb5=>{const _0x4b186f=_0x55a9f6;let _0x153fe2=_0x3afcb5[_0x4b186f(0x4e5)][_0x4b186f(0x41e)](_0x2a7006=>_0x2a7006[_0x4b186f(0x259)]===_0x43dfb5);_0x153fe2===-0x1?_0x3afcb5['variables'][_0x4b186f(0x36a)]({'folder':_0x4b186f(0x322),'name':_0x43dfb5,'value':'','doc':'','leadInfo':!0x0}):(_0x3afcb5[_0x4b186f(0x4e5)][_0x153fe2]['folder']=_0x4b186f(0x322),_0x3afcb5[_0x4b186f(0x4e5)][_0x153fe2]['leadInfo']=!0x0);}),_0x3afcb5[_0x55a9f6(0x2e5)]&&_0x3afcb5[_0x55a9f6(0x2e5)][_0x55a9f6(0x44d)]>0x0&&_0x3afcb5[_0x55a9f6(0x2e5)][_0x55a9f6(0xeb)](_0x129a07=>{const _0x3084c6=_0x55a9f6;_0x129a07[_0x3084c6(0x38e)]&&_0x129a07[_0x3084c6(0x2b6)]&&_0x129a07[_0x3084c6(0x38e)]===_0x129a07[_0x3084c6(0x2b6)]&&(_0x129a07[_0x3084c6(0x2b6)]=null);}),await _0x3afcb5['save'](),_0x3afcb5;}catch(_0x466185){throw this['logger'][_0x55a9f6(0x9a)](this[_0x55a9f6(0x32d)]+'\x20('+this[_0x55a9f6(0x4f6)][_0x55a9f6(0x336)]+_0x55a9f6(0x114)+_0x466185),new g(_0x55a9f6(0x5b3)+_0x466185);}}async[a0_0x5c767c(0x525)](){const _0x45aa57=a0_0x5c767c;try{return this[_0x45aa57(0x448)]['verbose'](this[_0x45aa57(0x32d)]+'\x20('+this[_0x45aa57(0x4f6)][_0x45aa57(0x336)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I[_0x45aa57(0x504)]({'owner':this[_0x45aa57(0x4f6)]['wuid']});}catch(_0x1c2421){return this[_0x45aa57(0x448)]['error'](this[_0x45aa57(0x32d)]+'\x20('+this['instance']['wuid']+_0x45aa57(0x350)+_0x1c2421),{'message':_0x45aa57(0x1b0)+_0x1c2421};}}async[a0_0x5c767c(0x2bb)](_0x5a624b){const _0x45a56b=a0_0x5c767c;try{this[_0x45a56b(0x448)][_0x45a56b(0xb5)](this[_0x45a56b(0x32d)]+'\x20('+this[_0x45a56b(0x4f6)][_0x45a56b(0x336)]+'):\x20Alterando\x20fluxo...');let _0x1d4a82=await I[_0x45a56b(0x20d)]({'owner':this['instance'][_0x45a56b(0x336)],'name':_0x5a624b['name']});if(!_0x1d4a82)return{'message':_0x45a56b(0x44a)};if(_0x5a624b[_0x45a56b(0x6c)]===!0x0&&await I['updateMany']({'owner':this['instance'][_0x45a56b(0x336)]},{'default':!0x1}),_0x5a624b[_0x45a56b(0x4a0)]){if(await I['findOne']({'owner':this['instance'][_0x45a56b(0x336)],'name':_0x5a624b['newName']}))return{'message':_0x45a56b(0x514)};_0x5a624b[_0x45a56b(0x259)]=_0x5a624b[_0x45a56b(0x4a0)],delete _0x5a624b[_0x45a56b(0x4a0)];}return await I['findByIdAndUpdate'](_0x1d4a82[_0x45a56b(0x5bd)],{'$set':_0x5a624b},{'new':!0x0});}catch(_0x66ea17){throw this[_0x45a56b(0x448)]['error'](this[_0x45a56b(0x32d)]+'\x20('+this['instance'][_0x45a56b(0x336)]+_0x45a56b(0x2f0)+_0x66ea17),new g(_0x45a56b(0x1e6)+_0x66ea17);}}async[a0_0x5c767c(0x56d)](_0xf4777){const _0x5a9d68=a0_0x5c767c;try{this[_0x5a9d68(0x448)][_0x5a9d68(0xb5)](this['instanceName']+'\x20('+this[_0x5a9d68(0x4f6)][_0x5a9d68(0x336)]+'):\x20Editando\x20bloco...');let _0x300b64={'owner':this['instance'][_0x5a9d68(0x336)],'name':_0xf4777[_0x5a9d68(0x259)]},_0xb7d735=await I[_0x5a9d68(0x20d)](_0x300b64);_0xb7d735||this[_0x5a9d68(0x190)]('Flow\x20não\x20encontrado');let {block:_0x59cbab}=_0xf4777;return _0x59cbab?.['delete']?this[_0x5a9d68(0x26a)](_0xb7d735,_0xf4777):_0x59cbab[_0x5a9d68(0x5bd)]?await this['updateBlock'](_0xb7d735,_0xf4777):this[_0x5a9d68(0x486)](_0xb7d735,_0xf4777),await _0xb7d735[_0x5a9d68(0x380)](),_0xb7d735;}catch(_0x163181){this[_0x5a9d68(0x190)](_0x5a9d68(0x5f1)+_0x163181);}}[a0_0x5c767c(0x190)](_0x5b8a2e){const _0x103482=a0_0x5c767c;throw this['logger'][_0x103482(0x9a)](this[_0x103482(0x32d)]+'\x20('+this['instance'][_0x103482(0x336)]+_0x103482(0xcc)+_0x5b8a2e),new g(_0x5b8a2e);}[a0_0x5c767c(0x26a)](_0x47a557,_0x2abe20){const _0x24bcbd=a0_0x5c767c;let {block:_0xa4e5f9}=_0x2abe20;if(_0xa4e5f9[_0x24bcbd(0x1cf)]===_0x24bcbd(0x2eb)){this[_0x24bcbd(0x190)](_0x24bcbd(0x4b0));return;}if(!_0xa4e5f9['_id']){this['throwAndLogError'](_0x24bcbd(0x2e2));return;}let _0x3c1d1f=_0x47a557[_0x24bcbd(0x2e5)]['find'](_0x513566=>_0x513566[_0x24bcbd(0x5bd)]['toString']()===_0x2abe20[_0x24bcbd(0x579)][_0x24bcbd(0x5bd)][_0x24bcbd(0x2d6)]());if(!_0x3c1d1f){this[_0x24bcbd(0x190)](_0x24bcbd(0x1fb)+_0xa4e5f9[_0x24bcbd(0x5bd)]+_0x24bcbd(0x325));return;}_0x47a557['blocks']=_0x47a557[_0x24bcbd(0x2e5)]['filter'](_0x4b3c1b=>_0x4b3c1b[_0x24bcbd(0x5bd)][_0x24bcbd(0x2d6)]()!==_0x2abe20['block'][_0x24bcbd(0x5bd)][_0x24bcbd(0x2d6)]()),_0x47a557[_0x24bcbd(0x1f5)]=_0x47a557[_0x24bcbd(0x1f5)][_0x24bcbd(0x294)](_0x4e69bc=>_0x4e69bc[_0x24bcbd(0x1f6)]!==_0xa4e5f9['_id'][_0x24bcbd(0x2d6)]()),_0x47a557['varedits']=_0x47a557['varedits'][_0x24bcbd(0x294)](_0xd7ff9c=>_0xd7ff9c[_0x24bcbd(0x1f6)]!==_0xa4e5f9[_0x24bcbd(0x5bd)][_0x24bcbd(0x2d6)]()),_0x47a557[_0x24bcbd(0x26d)]=_0x47a557['replyOptions'][_0x24bcbd(0x294)](_0xabe5c7=>_0xabe5c7[_0x24bcbd(0x1f6)]!==_0xa4e5f9['_id'][_0x24bcbd(0x2d6)]()),this[_0x24bcbd(0x1b4)](_0x47a557['blocks'],_0x3c1d1f['groupId']);}async[a0_0x5c767c(0x115)](_0x5634e1,_0x526bb5){const _0x2c78f3=a0_0x5c767c;let _0x50d5fb=_0x5634e1[_0x2c78f3(0x2e5)][_0x2c78f3(0x41e)](_0x1b2c9e=>_0x1b2c9e[_0x2c78f3(0x5bd)][_0x2c78f3(0x2d6)]()===_0x526bb5[_0x2c78f3(0x579)][_0x2c78f3(0x5bd)][_0x2c78f3(0x2d6)]());if(this[_0x2c78f3(0x448)][_0x2c78f3(0xb5)](this[_0x2c78f3(0x32d)]+'\x20('+this[_0x2c78f3(0x4f6)]['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x50d5fb),_0x50d5fb===-0x1){this[_0x2c78f3(0x448)]['verbose'](_0x2c78f3(0x1fb)+_0x526bb5[_0x2c78f3(0x579)][_0x2c78f3(0x5bd)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x1cf)]===_0x2c78f3(0x2eb)){let _0x37722e=Object[_0x2c78f3(0x363)](_0x526bb5[_0x2c78f3(0x579)]);if(_0x37722e[_0x2c78f3(0x44d)]>0x2||_0x37722e['length']===0x2&&!_0x37722e[_0x2c78f3(0x3a7)](_0x2c78f3(0x2b6))){this['throwAndLogError'](_0x2c78f3(0x4e1));return;}}let _0x51382e=_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x38e)];for(let _0x1263d6 in _0x526bb5[_0x2c78f3(0x579)])_0x526bb5[_0x2c78f3(0x579)][_0x2c78f3(0x1d0)](_0x1263d6)&&(_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x1263d6]=_0x526bb5[_0x2c78f3(0x579)][_0x1263d6]);if(this[_0x2c78f3(0x448)][_0x2c78f3(0xb5)](this['instanceName']+'\x20('+this['instance'][_0x2c78f3(0x336)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb])),_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb]['apirequest']&&_0x2c78f3(0x9f)in _0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x445)]){this['logger'][_0x2c78f3(0xb5)](this[_0x2c78f3(0x32d)]+'\x20('+this['instance'][_0x2c78f3(0x336)]+_0x2c78f3(0x98));let _0x1b71e9=JSON['stringify'](_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x445)][_0x2c78f3(0x9f)],null,0x1);_0x1b71e9[_0x2c78f3(0x44d)]>0x2&&(_0x1b71e9=_0x1b71e9[_0x2c78f3(0x128)](0x1,_0x1b71e9[_0x2c78f3(0x44d)]-0x1)['trim']()),_0x5634e1['blocks'][_0x50d5fb]['apirequest'][_0x2c78f3(0x18b)]=_0x1b71e9;}if(_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x445)]&&_0x2c78f3(0x49f)in _0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x445)]){this[_0x2c78f3(0x448)][_0x2c78f3(0xb5)](this['instanceName']+'\x20('+this[_0x2c78f3(0x4f6)][_0x2c78f3(0x336)]+_0x2c78f3(0x12d));let _0x4297d9=JSON[_0x2c78f3(0x274)](_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb]['apirequest'][_0x2c78f3(0x49f)],null,0x1);_0x4297d9['length']>0x2&&(_0x4297d9=_0x4297d9[_0x2c78f3(0x128)](0x1,_0x4297d9[_0x2c78f3(0x44d)]-0x1)[_0x2c78f3(0x1f9)]()),_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb][_0x2c78f3(0x445)][_0x2c78f3(0x546)]=_0x4297d9;}let _0x4b8b3d=_0x5634e1[_0x2c78f3(0x2e5)][_0x50d5fb]['groupId'];_0x51382e!==_0x4b8b3d?(this[_0x2c78f3(0x1b4)](_0x5634e1[_0x2c78f3(0x2e5)],_0x51382e),this[_0x2c78f3(0x1b4)](_0x5634e1['blocks'],_0x4b8b3d)):this[_0x2c78f3(0x1b4)](_0x5634e1[_0x2c78f3(0x2e5)],_0x51382e);}['addBlock'](_0x129be9,_0x593105){const _0x27d6c3=a0_0x5c767c;if(_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x1cf)]===_0x27d6c3(0x2eb)){this['throwAndLogError'](_0x27d6c3(0x312));return;}if(_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)]&&_0x27d6c3(0x9f)in _0x593105['block'][_0x27d6c3(0x445)]){this[_0x27d6c3(0x448)][_0x27d6c3(0xb5)](this[_0x27d6c3(0x32d)]+'\x20('+this[_0x27d6c3(0x4f6)][_0x27d6c3(0x336)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x23ad08=JSON[_0x27d6c3(0x274)](_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)][_0x27d6c3(0x9f)],null,0x1);_0x23ad08[_0x27d6c3(0x44d)]>0x2&&(_0x23ad08=_0x23ad08[_0x27d6c3(0x128)](0x1,_0x23ad08['length']-0x1)['trim']()),_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)]['headerString']=_0x23ad08;}_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)]&&'body'in _0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)]&&(this['logger'][_0x27d6c3(0xb5)](this[_0x27d6c3(0x32d)]+'\x20('+this['instance'][_0x27d6c3(0x336)]+_0x27d6c3(0x12d)),_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)][_0x27d6c3(0x546)]=JSON[_0x27d6c3(0x274)](_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x445)][_0x27d6c3(0x49f)],null,0x1)[_0x27d6c3(0x1f9)]()),_0x129be9[_0x27d6c3(0x2e5)]['push'](_0x593105[_0x27d6c3(0x579)]),this['reorderBlocks'](_0x129be9[_0x27d6c3(0x2e5)],_0x593105[_0x27d6c3(0x579)][_0x27d6c3(0x38e)]);}[a0_0x5c767c(0x1b4)](_0x3fd1ab,_0x1f15da){const _0x167cff=a0_0x5c767c;let _0x42c118=_0x3fd1ab[_0x167cff(0x294)](_0x5b1d26=>_0x5b1d26[_0x167cff(0x38e)]===_0x1f15da);_0x42c118[_0x167cff(0x222)]((_0x52a4ac,_0x21821d)=>_0x52a4ac[_0x167cff(0x3c4)]-_0x21821d[_0x167cff(0x3c4)]),_0x42c118['forEach']((_0x5c3694,_0x39519e)=>_0x5c3694['order']=_0x39519e+0x1);}async[a0_0x5c767c(0x22d)](_0x2510a0){const _0x2b5674=a0_0x5c767c;try{if(this[_0x2b5674(0x448)][_0x2b5674(0xb5)](this[_0x2b5674(0x32d)]+'\x20('+this['instance'][_0x2b5674(0x336)]+_0x2b5674(0x62a)),!_0x2510a0||!_0x2510a0[_0x2b5674(0x611)]){this[_0x2b5674(0x190)]('Data\x20inválida\x20fornecida');return;}let _0x15b605={'owner':this[_0x2b5674(0x4f6)][_0x2b5674(0x336)],'name':_0x2510a0[_0x2b5674(0x259)]},_0x1cb7d2=await I['findOne'](_0x15b605);_0x1cb7d2||this[_0x2b5674(0x190)](_0x2b5674(0xa2));let {replyOption:_0x42a341}=_0x2510a0;return _0x42a341?.[_0x2b5674(0x1b6)]?this[_0x2b5674(0x202)](_0x1cb7d2,_0x2510a0):_0x42a341['_id']?await this[_0x2b5674(0x3f8)](_0x1cb7d2,_0x2510a0):this[_0x2b5674(0x559)](_0x1cb7d2,_0x2510a0),await _0x1cb7d2[_0x2b5674(0x380)](),_0x1cb7d2;}catch(_0x58b07f){this[_0x2b5674(0x190)](_0x2b5674(0x315)+_0x58b07f);}}['deleteReplyOption'](_0x1e180b,_0x598bb5){const _0x1ef635=a0_0x5c767c;let {replyOption:_0x28e013}=_0x598bb5;if(!_0x28e013['_id']){this[_0x1ef635(0x190)](_0x1ef635(0x3b6));return;}if(!_0x1e180b[_0x1ef635(0x26d)][_0x1ef635(0x504)](_0x17df76=>_0x17df76[_0x1ef635(0x5bd)][_0x1ef635(0x2d6)]()===_0x598bb5[_0x1ef635(0x611)]['_id'][_0x1ef635(0x2d6)]())){this[_0x1ef635(0x190)]('ReplyOption\x20com\x20ID\x20'+_0x28e013[_0x1ef635(0x5bd)]+'\x20não\x20encontrado');return;}_0x1e180b[_0x1ef635(0x26d)]=_0x1e180b[_0x1ef635(0x26d)]['filter'](_0x44c797=>_0x44c797['_id']['toString']()!==_0x598bb5['replyOption']['_id']['toString']());}async[a0_0x5c767c(0x3f8)](_0x3c75ad,_0x224ebe){const _0x59d34f=a0_0x5c767c;let _0x3275e9=_0x3c75ad[_0x59d34f(0x26d)][_0x59d34f(0x41e)](_0x45e69f=>_0x45e69f[_0x59d34f(0x5bd)][_0x59d34f(0x2d6)]()===_0x224ebe['replyOption']['_id']['toString']());if(_0x3275e9===-0x1){this['throwAndLogError'](_0x59d34f(0x55c)+_0x224ebe['replyOption'][_0x59d34f(0x5bd)]+_0x59d34f(0x9b));return;}for(let _0x3dfceb in _0x224ebe[_0x59d34f(0x611)])_0x224ebe[_0x59d34f(0x611)][_0x59d34f(0x1d0)](_0x3dfceb)&&(_0x3c75ad['replyOptions'][_0x3275e9][_0x3dfceb]=_0x224ebe[_0x59d34f(0x611)][_0x3dfceb]);}[a0_0x5c767c(0x559)](_0x20e065,_0x894926){const _0x257d43=a0_0x5c767c;_0x20e065[_0x257d43(0x26d)][_0x257d43(0x36a)](_0x894926['replyOption']);}async['editFlowGroup'](_0x280163){const _0x33498c=a0_0x5c767c;this[_0x33498c(0x448)]['verbose'](this[_0x33498c(0x32d)]+'\x20('+this[_0x33498c(0x4f6)][_0x33498c(0x336)]+_0x33498c(0x6e)+_0x280163);try{this[_0x33498c(0x448)]['verbose'](this[_0x33498c(0x32d)]+'\x20('+this[_0x33498c(0x4f6)]['wuid']+_0x33498c(0xb3));let _0x18a9b9={'owner':this[_0x33498c(0x4f6)][_0x33498c(0x336)],'name':_0x280163[_0x33498c(0x259)]},_0xb7f741=await I[_0x33498c(0x20d)](_0x18a9b9);if(!_0xb7f741)throw new Error(_0x33498c(0xa2));if(_0x280163[_0x33498c(0x614)]&&_0x280163[_0x33498c(0x614)]?.[_0x33498c(0x1b6)]===!0x0){if(this[_0x33498c(0x448)][_0x33498c(0xb5)](this['instanceName']+'\x20('+this[_0x33498c(0x4f6)][_0x33498c(0x336)]+_0x33498c(0x42c)),_0x280163[_0x33498c(0x614)]['default']===!0x0)return{'message':_0x33498c(0x468)};if(_0xb7f741['blocks']['some'](_0x3c15d7=>_0x3c15d7[_0x33498c(0x38e)][_0x33498c(0x2d6)]()===_0x280163[_0x33498c(0x614)][_0x33498c(0x5bd)]))return this[_0x33498c(0x448)][_0x33498c(0xb5)](this[_0x33498c(0x32d)]+'\x20('+this[_0x33498c(0x4f6)][_0x33498c(0x336)]+_0x33498c(0x177)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0xb7f741[_0x33498c(0x4ec)]=_0xb7f741[_0x33498c(0x4ec)][_0x33498c(0x294)](_0x3ca57c=>_0x3ca57c[_0x33498c(0x5bd)][_0x33498c(0x2d6)]()!==_0x280163[_0x33498c(0x614)][_0x33498c(0x5bd)]);}else{if(_0x280163[_0x33498c(0x614)]){if(_0x280163['group'][_0x33498c(0x6c)]===!0x0)return{'message':_0x33498c(0x2b7)};if(_0x280163[_0x33498c(0x614)]['_id']){let _0x4f09af=_0xb7f741[_0x33498c(0x4ec)]['find'](_0x9acbc0=>_0x9acbc0['_id'][_0x33498c(0x2d6)]()===_0x280163[_0x33498c(0x614)][_0x33498c(0x5bd)]);_0x4f09af&&(_0x280163[_0x33498c(0x614)]['x']<0x0&&(_0x280163[_0x33498c(0x614)]['x']=0x0),_0x280163[_0x33498c(0x614)]['y']<0x0&&(_0x280163['group']['y']=0x0),Object[_0x33498c(0x15a)](_0x4f09af,_0x280163[_0x33498c(0x614)]));}else _0xb7f741['groups'][_0x33498c(0x36a)](_0x280163[_0x33498c(0x614)]);}}return await _0xb7f741[_0x33498c(0x380)](),_0xb7f741;}catch(_0x230611){throw this[_0x33498c(0x448)]['error'](this[_0x33498c(0x32d)]+'\x20('+this[_0x33498c(0x4f6)][_0x33498c(0x336)]+_0x33498c(0x405)+_0x230611),new g(_0x33498c(0x25f)+_0x230611);}}async[a0_0x5c767c(0x649)](_0x494403){const _0x4fae1b=a0_0x5c767c;try{this[_0x4fae1b(0x448)][_0x4fae1b(0xb5)](this[_0x4fae1b(0x32d)]+'\x20('+this[_0x4fae1b(0x4f6)][_0x4fae1b(0x336)]+_0x4fae1b(0x449));let _0x53b2ea={'owner':this[_0x4fae1b(0x4f6)][_0x4fae1b(0x336)],'name':_0x494403[_0x4fae1b(0x259)]},_0xa657f=await I['findOne'](_0x53b2ea);if(!_0xa657f)throw new Error(_0x4fae1b(0xa2));let _0x109c39=!0x1;if(_0x494403[_0x4fae1b(0x4aa)]?.[_0x4fae1b(0x1b6)]===!0x0)_0xa657f[_0x4fae1b(0x1f5)]=_0xa657f[_0x4fae1b(0x1f5)][_0x4fae1b(0x294)](_0xe98069=>_0xe98069&&_0x494403['condition']&&_0xe98069[_0x4fae1b(0x5bd)]&&_0x494403[_0x4fae1b(0x4aa)][_0x4fae1b(0x5bd)]&&_0xe98069[_0x4fae1b(0x5bd)][_0x4fae1b(0x2d6)]()!==_0x494403[_0x4fae1b(0x4aa)][_0x4fae1b(0x5bd)]['toString']()),_0x109c39=!0x0;else{let _0x479030=_0xa657f[_0x4fae1b(0x1f5)][_0x4fae1b(0x504)](_0x8a0b29=>_0x8a0b29&&_0x494403['condition']&&_0x8a0b29[_0x4fae1b(0x5bd)]&&_0x494403[_0x4fae1b(0x4aa)]['_id']&&_0x8a0b29[_0x4fae1b(0x5bd)]['toString']()===_0x494403[_0x4fae1b(0x4aa)][_0x4fae1b(0x5bd)][_0x4fae1b(0x2d6)]());_0x479030?(_0x109c39=_0x479030[_0x4fae1b(0x3c4)]!==_0x494403[_0x4fae1b(0x4aa)][_0x4fae1b(0x3c4)],Object[_0x4fae1b(0x15a)](_0x479030,_0x494403['condition'])):(_0xa657f['conditions'][_0x4fae1b(0x36a)](_0x494403[_0x4fae1b(0x4aa)]),_0x109c39=!0x0);}if(_0x109c39){_0xa657f[_0x4fae1b(0x1f5)][_0x4fae1b(0x222)]((_0x506e30,_0x43d78c)=>_0x506e30[_0x4fae1b(0x3c4)]>_0x43d78c['order']?0x1:_0x43d78c[_0x4fae1b(0x3c4)]>_0x506e30[_0x4fae1b(0x3c4)]?-0x1:0x0);for(let _0x3da5b8=0x0;_0x3da5b8<_0xa657f[_0x4fae1b(0x1f5)][_0x4fae1b(0x44d)];_0x3da5b8++)_0xa657f[_0x4fae1b(0x1f5)][_0x3da5b8][_0x4fae1b(0x3c4)]=_0x3da5b8+0x1;_0xa657f[_0x4fae1b(0x1f5)][_0x4fae1b(0x44d)]>0x0&&(_0xa657f[_0x4fae1b(0x1f5)][0x0][_0x4fae1b(0x24e)]=_0x4fae1b(0x48b));}return await _0xa657f[_0x4fae1b(0x380)](),_0xa657f;}catch(_0x48096f){throw this[_0x4fae1b(0x448)][_0x4fae1b(0x9a)](this[_0x4fae1b(0x32d)]+'\x20('+this[_0x4fae1b(0x4f6)]['wuid']+_0x4fae1b(0x2ff)+_0x48096f),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x48096f);}}async['editFlowVaredit'](_0x5815c2){const _0x1df6bd=a0_0x5c767c;try{this[_0x1df6bd(0x448)][_0x1df6bd(0xb5)](this[_0x1df6bd(0x32d)]+'\x20('+this['instance'][_0x1df6bd(0x336)]+_0x1df6bd(0x5aa));let _0x484c34={'owner':this[_0x1df6bd(0x4f6)][_0x1df6bd(0x336)],'name':_0x5815c2[_0x1df6bd(0x259)]},_0x355771=await I[_0x1df6bd(0x20d)](_0x484c34);if(!_0x355771)throw new Error('Flow\x20não\x20encontrado');let _0x22225a=!0x1;if(_0x5815c2[_0x1df6bd(0x544)]?.[_0x1df6bd(0x1b6)]===!0x0)_0x355771['varedits']=_0x355771[_0x1df6bd(0x13f)][_0x1df6bd(0x294)](_0x14ff10=>_0x14ff10&&_0x5815c2['varedit']&&_0x14ff10['_id']&&_0x5815c2[_0x1df6bd(0x544)][_0x1df6bd(0x5bd)]&&_0x14ff10[_0x1df6bd(0x5bd)]['toString']()!==_0x5815c2['varedit']['_id'][_0x1df6bd(0x2d6)]()),_0x22225a=!0x0;else{let _0x49a545=_0x355771['varedits'][_0x1df6bd(0x504)](_0x516f59=>_0x516f59&&_0x5815c2[_0x1df6bd(0x544)]&&_0x516f59['_id']&&_0x5815c2[_0x1df6bd(0x544)][_0x1df6bd(0x5bd)]&&_0x516f59[_0x1df6bd(0x5bd)][_0x1df6bd(0x2d6)]()===_0x5815c2['varedit'][_0x1df6bd(0x5bd)][_0x1df6bd(0x2d6)]());_0x49a545?(_0x22225a=_0x49a545['order']!==_0x5815c2[_0x1df6bd(0x544)][_0x1df6bd(0x3c4)],Object[_0x1df6bd(0x15a)](_0x49a545,_0x5815c2[_0x1df6bd(0x544)])):(_0x355771['varedits'][_0x1df6bd(0x36a)](_0x5815c2[_0x1df6bd(0x544)]),_0x22225a=!0x0);}if(_0x22225a){_0x355771[_0x1df6bd(0x13f)][_0x1df6bd(0x222)]((_0x1b11b6,_0x285121)=>_0x1b11b6[_0x1df6bd(0x3c4)]>_0x285121[_0x1df6bd(0x3c4)]?0x1:_0x285121['order']>_0x1b11b6[_0x1df6bd(0x3c4)]?-0x1:0x0);for(let _0xda8d=0x0;_0xda8d<_0x355771[_0x1df6bd(0x13f)][_0x1df6bd(0x44d)];_0xda8d++)_0x355771[_0x1df6bd(0x13f)][_0xda8d][_0x1df6bd(0x3c4)]=_0xda8d+0x1;}return await _0x355771['save'](),_0x355771;}catch(_0x3b0b68){throw this['logger'][_0x1df6bd(0x9a)](this[_0x1df6bd(0x32d)]+'\x20('+this[_0x1df6bd(0x4f6)][_0x1df6bd(0x336)]+_0x1df6bd(0x2ff)+_0x3b0b68),new g(_0x1df6bd(0x591)+_0x3b0b68);}}async[a0_0x5c767c(0x4b5)](_0x4d5495){const _0x5482f7=a0_0x5c767c;try{this[_0x5482f7(0x448)][_0x5482f7(0xb5)](this[_0x5482f7(0x32d)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x31bc6c={'owner':this['instance'][_0x5482f7(0x336)],'name':_0x4d5495[_0x5482f7(0x259)]},_0x5ddba8=await I['findOne'](_0x31bc6c);if(!_0x5ddba8)throw new Error(_0x5482f7(0xa2));_0x4d5495['variable'][_0x5482f7(0x259)]=_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)][_0x5482f7(0x1f9)](),_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)][_0x5482f7(0x20c)]('_')&&(_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)]=_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)][_0x5482f7(0x128)](0x1)),_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)]=_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)][_0x5482f7(0x1f9)]();let _0x31a0fe=_0x5ddba8[_0x5482f7(0x4e5)]['find'](_0x10a2a7=>_0x10a2a7['name']===_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)]);if(_0x31a0fe?.[_0x5482f7(0x322)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x4d5495[_0x5482f7(0x463)]?.[_0x5482f7(0x1b6)]===!0x0){if(!_0x31a0fe)return{'message':_0x5482f7(0x356)};_0x5ddba8[_0x5482f7(0x4e5)]=_0x5ddba8[_0x5482f7(0x4e5)][_0x5482f7(0x294)](_0x4d26e1=>_0x4d26e1['name']!==_0x4d5495[_0x5482f7(0x463)][_0x5482f7(0x259)]);}else _0x31a0fe?Object[_0x5482f7(0x15a)](_0x31a0fe,_0x4d5495['variable']):_0x5ddba8['variables']['push'](_0x4d5495[_0x5482f7(0x463)]);return await _0x5ddba8[_0x5482f7(0x380)](),_0x5ddba8;}catch(_0x29772a){throw this[_0x5482f7(0x448)][_0x5482f7(0x9a)](this[_0x5482f7(0x32d)]+'\x20('+this[_0x5482f7(0x4f6)]['wuid']+_0x5482f7(0x5fd)+_0x29772a),new g(_0x5482f7(0x460)+_0x29772a);}}async['startFlow'](_0x22783e){const _0x519bb7=a0_0x5c767c;try{if(!this[_0x519bb7(0x56e)]?.[_0x519bb7(0x549)][_0x519bb7(0x90)])throw new g('Fluxos\x20não\x20estão\x20ativados');this[_0x519bb7(0x448)][_0x519bb7(0xb5)](this[_0x519bb7(0x32d)]+'\x20('+this[_0x519bb7(0x4f6)][_0x519bb7(0x336)]+_0x519bb7(0x28d));let _0x34abae=(await this[_0x519bb7(0x3d6)]({'numbers':[_0x22783e['remoteJid']]}))[0x0];if(!_0x34abae[_0x519bb7(0x4eb)]&&!(0x0,w[_0x519bb7(0x4d0)])(_0x34abae[_0x519bb7(0x2bd)])&&!_0x34abae[_0x519bb7(0x2bd)][_0x519bb7(0x3a7)](_0x519bb7(0x25e)))throw new g(_0x34abae);let _0xeed934=await I[_0x519bb7(0x20d)]({'owner':this[_0x519bb7(0x4f6)][_0x519bb7(0x336)],'name':_0x22783e[_0x519bb7(0x259)]});if(!_0xeed934)return this[_0x519bb7(0x448)][_0x519bb7(0x9a)](this['instanceName']+'\x20('+this[_0x519bb7(0x4f6)][_0x519bb7(0x336)]+_0x519bb7(0x2f3)),{'message':_0x519bb7(0xa2)};let _0x1e51cd=await this[_0x519bb7(0x470)](_0xeed934,_0x34abae['jid'],_0x22783e[_0x519bb7(0x16e)]);if(_0x1e51cd){this[_0x519bb7(0x448)]['verbose'](this[_0x519bb7(0x32d)]+'\x20('+this[_0x519bb7(0x4f6)][_0x519bb7(0x336)]+_0x519bb7(0x327));let _0x3a5d6f=await this[_0x519bb7(0x46d)](_0x1e51cd);return _0x3a5d6f&&await this[_0x519bb7(0x5a8)](_0x1e51cd,_0x3a5d6f,_0x1e51cd['remoteJid']),{'message':_0x519bb7(0x34e)+_0x22783e['remoteJid']};}}catch(_0x175a2a){if(this[_0x519bb7(0x448)][_0x519bb7(0x9a)](this[_0x519bb7(0x32d)]+'\x20('+this[_0x519bb7(0x4f6)][_0x519bb7(0x336)]+_0x519bb7(0x60c)+_0x175a2a),_0x175a2a&&_0x175a2a[_0x519bb7(0x273)]&&Array[_0x519bb7(0x597)](_0x175a2a[_0x519bb7(0x273)])&&_0x175a2a[_0x519bb7(0x273)][0x0]){let {jid:_0x17c943,exists:_0x2dbd82}=_0x175a2a['message'][0x0];}throw new g(_0x519bb7(0x2a3)+_0x175a2a['message']);}}async[a0_0x5c767c(0x54c)](_0x321bd5){const _0x38ca5d=a0_0x5c767c;let _0x53642e=await F[_0x38ca5d(0x1ec)]({'owner':this[_0x38ca5d(0x4f6)]['wuid'],'remoteJid':_0x321bd5,'status':'open'},{'$set':{'status':'closed'}});return this[_0x38ca5d(0x448)][_0x38ca5d(0xb5)](this[_0x38ca5d(0x32d)]+'\x20('+this['instance'][_0x38ca5d(0x336)]+_0x38ca5d(0x434)),_0x53642e;}async[a0_0x5c767c(0x470)](_0x58ca18,_0x58a16f,_0x325042){const _0x4e8865=a0_0x5c767c;this[_0x4e8865(0x448)][_0x4e8865(0xb5)](this[_0x4e8865(0x32d)]+'\x20('+this[_0x4e8865(0x4f6)][_0x4e8865(0x336)]+'):\x20Criando\x20nova\x20conversa'),await this[_0x4e8865(0x54c)](_0x58a16f);try{let _0x5250de=require(_0x4e8865(0x489))[_0x4e8865(0x589)],_0x46ba14=Date[_0x4e8865(0x606)](),_0x69f5f3=_0x4e8865(0x2eb),_0x36f9c1={},_0x4e6339={},_0x302733={..._0x58ca18[_0x4e8865(0x22c)],'chatLog':null},_0xaf570c=await this['variablesToObject'](_0x302733[_0x4e8865(0x4e5)]),_0x579433=await this[_0x4e8865(0x413)](_0x58a16f),_0x2cf1c9={..._0xaf570c,..._0x579433,'_remoteJid':_0x58a16f},_0x59b56a={'lastReceivedMessage':_0x36f9c1,'lastSendMessage':_0x4e6339,'lastBlockId':_0x69f5f3,'lastCondition':!0x0,'realVariables':_0x2cf1c9};_0x302733[_0x4e8865(0x1d8)]=_0x59b56a,_0x302733['chatLog']['realVariables']={..._0x2cf1c9,..._0x325042},delete _0x302733[_0x4e8865(0x5bd)],_0x302733[_0x4e8865(0x5bd)]=new _0x5250de(),_0x302733[_0x4e8865(0x50a)]=_0x46ba14,_0x302733['status']='open',_0x302733['remoteJid']=_0x58a16f;let _0x2a9bb3=await F[_0x4e8865(0x1ab)](_0x302733);return this[_0x4e8865(0x448)][_0x4e8865(0xb5)](this['instanceName']+'\x20('+this[_0x4e8865(0x4f6)]['wuid']+_0x4e8865(0x61f)),_0x2a9bb3?_0x302733:null;}catch(_0xcd2567){throw this['logger'][_0x4e8865(0x9a)](this['instanceName']+'\x20('+this[_0x4e8865(0x4f6)]['wuid']+_0x4e8865(0x78)+_0xcd2567),new g(_0xcd2567[_0x4e8865(0x273)]);}}async[a0_0x5c767c(0x40e)](_0x5b701d){const _0x5939b8=a0_0x5c767c;try{return this[_0x5939b8(0x448)][_0x5939b8(0xb5)](this[_0x5939b8(0x32d)]+'\x20('+this[_0x5939b8(0x4f6)][_0x5939b8(0x336)]+_0x5939b8(0x19b)),this[_0x5939b8(0x448)][_0x5939b8(0xb5)](this[_0x5939b8(0x32d)]+'\x20('+this[_0x5939b8(0x4f6)][_0x5939b8(0x336)]+_0x5939b8(0x117)+{'owner':this[_0x5939b8(0x4f6)][_0x5939b8(0x336)],'_id':_0x5b701d}),await F['findOne']({'owner':this[_0x5939b8(0x4f6)]['wuid'],'_id':_0x5b701d});}catch(_0x16c318){throw this['logger']['error'](this[_0x5939b8(0x32d)]+'\x20('+this[_0x5939b8(0x4f6)][_0x5939b8(0x336)]+_0x5939b8(0x2cb)+_0x16c318),new g('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x16c318[_0x5939b8(0x273)]);}}async['fetchConversation'](_0x4c586b,_0x5aa10b=0x64){const _0x5f3c9b=a0_0x5c767c;try{this[_0x5f3c9b(0x448)][_0x5f3c9b(0xb5)](this['instanceName']+'\x20('+this['instance'][_0x5f3c9b(0x336)]+'):\x20Buscando\x20conversas...');let _0x375f9c={..._0x4c586b,'owner':this[_0x5f3c9b(0x4f6)][_0x5f3c9b(0x336)]};return this[_0x5f3c9b(0x448)]['verbose'](_0x375f9c),await F[_0x5f3c9b(0x504)](_0x375f9c)['limit'](_0x5aa10b)[_0x5f3c9b(0x222)]({'lastInteraction':-0x1});}catch(_0x4d4e95){throw this[_0x5f3c9b(0x448)]['error'](this[_0x5f3c9b(0x32d)]+'\x20('+this[_0x5f3c9b(0x4f6)]['wuid']+_0x5f3c9b(0x258)+_0x4d4e95),new g(_0x5f3c9b(0x403)+_0x4d4e95[_0x5f3c9b(0x273)]);}}async['deleteConversation'](_0x414d0d){const _0x48b0f4=a0_0x5c767c;try{return this[_0x48b0f4(0x448)][_0x48b0f4(0xb5)](this[_0x48b0f4(0x32d)]+'\x20('+this[_0x48b0f4(0x4f6)]['wuid']+_0x48b0f4(0x14c)),this[_0x48b0f4(0x448)][_0x48b0f4(0xb5)](this[_0x48b0f4(0x32d)]+'\x20('+this['instance'][_0x48b0f4(0x336)]+_0x48b0f4(0x117)+{'owner':this[_0x48b0f4(0x4f6)][_0x48b0f4(0x336)],'_id':_0x414d0d}),(await F['deleteOne']({'owner':this[_0x48b0f4(0x4f6)][_0x48b0f4(0x336)],'_id':_0x414d0d}))[_0x48b0f4(0x4b3)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0xa3398e){throw this[_0x48b0f4(0x448)][_0x48b0f4(0x9a)](this['instanceName']+'\x20('+this[_0x48b0f4(0x4f6)]['wuid']+_0x48b0f4(0x85)+_0xa3398e),new g(_0x48b0f4(0x304)+_0xa3398e[_0x48b0f4(0x273)]);}}async[a0_0x5c767c(0x610)](_0x3f334b){const _0x5ddb2c=a0_0x5c767c;try{let {_id:_0x92b21,chatLog:_0x3f00eb,status:_0x514ef8}=_0x3f334b;if(!_0x92b21)return{'message':_0x5ddb2c(0x648)};let _0x313546={};if(_0x514ef8!==void 0x0&&(_0x313546[_0x5ddb2c(0x34d)]=_0x514ef8),Object[_0x5ddb2c(0x363)](_0x313546)['length']===0x0)return{'message':_0x5ddb2c(0x95)};let _0x55cdc3=this[_0x5ddb2c(0x4f6)][_0x5ddb2c(0x336)],_0x15acd5=await F[_0x5ddb2c(0x41b)]({'_id':_0x92b21,'owner':_0x55cdc3},{'$set':_0x313546},{'new':!0x0});return _0x15acd5||{'message':_0x5ddb2c(0x519)};}catch(_0x15eac7){throw this[_0x5ddb2c(0x448)]['error'](this[_0x5ddb2c(0x32d)]+'\x20('+this[_0x5ddb2c(0x4f6)][_0x5ddb2c(0x336)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x15eac7),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x15eac7[_0x5ddb2c(0x273)]);}}async['editChat'](_0x2d31d4){const _0x21c66f=a0_0x5c767c;try{_0x2d31d4[_0x21c66f(0x5bd)]=this[_0x21c66f(0x42e)](_0x2d31d4[_0x21c66f(0x5bd)]);let {_id:_0xc577ad,leadInfo:_0x5049ad}=_0x2d31d4;if(!_0xc577ad)throw new Error(_0x21c66f(0x24d));let _0xdeff4a=(_0x158f00,_0x100424,_0x1b62fe)=>{const _0x2d47bb=_0x21c66f;_0x1b62fe[_0x2d47bb(0xeb)](_0xefd9c0=>{const _0x45887f=_0x2d47bb;_0x158f00[_0xefd9c0]!==void 0x0&&(_0x100424[_0x45887f(0x527)+_0xefd9c0]=_0x158f00[_0xefd9c0]);});},_0x2417c3={};if(_0xdeff4a(_0x5049ad,_0x2417c3,[_0x21c66f(0x5c5),'nomecompleto',_0x21c66f(0x609),_0x21c66f(0x3ad),'status',_0x21c66f(0x267),_0x21c66f(0x359),_0x21c66f(0x569),_0x21c66f(0x147)]),Array[_0x21c66f(0x597)](_0x5049ad[_0x21c66f(0x2b0)])&&(_0x2417c3[_0x21c66f(0x37c)]=_0x5049ad['customFields'][_0x21c66f(0x3a6)](_0x46bdba=>({'_id':_0x46bdba['_id'],'value':_0x46bdba[_0x21c66f(0x2ad)]}))),_0x2d31d4[_0x21c66f(0x322)]['desativadoFluxoAte']!==void 0x0&&(_0x2417c3[_0x21c66f(0x1e0)]=Number(_0x2d31d4[_0x21c66f(0x322)]['desativadoFluxoAte'])),_0x2d31d4[_0x21c66f(0x4e4)]!==void 0x0&&(_0x2417c3['unreadcount']=Number(_0x2d31d4['unreadcount'])),Object[_0x21c66f(0x363)](_0x2417c3)[_0x21c66f(0x44d)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5e47f0=this[_0x21c66f(0x4f6)][_0x21c66f(0x336)];if(!_0x5e47f0)throw new Error(_0x21c66f(0x203));if(!await this[_0x21c66f(0x231)][_0x21c66f(0x5bb)][_0x21c66f(0x20d)]({'where':{'_id':_0x2d31d4[_0x21c66f(0x5bd)],'owner':_0x5e47f0}})){let _0x985e89=(await this[_0x21c66f(0x3d6)]({'numbers':[_0x2d31d4['_id']]}))[0x0];if(!_0x985e89[_0x21c66f(0x4eb)]&&!(0x0,w[_0x21c66f(0x4d0)])(_0x985e89['jid'])&&!_0x985e89[_0x21c66f(0x2bd)]['includes'](_0x21c66f(0x25e)))throw new g(_0x985e89);_0x2d31d4['_id']=_0x985e89[_0x21c66f(0x2bd)];}let _0x24bad8=await this[_0x21c66f(0x231)][_0x21c66f(0x5bb)][_0x21c66f(0x362)]({'where':{'_id':_0x2d31d4[_0x21c66f(0x5bd)],'owner':_0x5e47f0}},_0x2417c3);return _0x24bad8&&q(this[_0x21c66f(0x32d)],_0x21c66f(0x157),{'chat':_0x24bad8}),_0x24bad8?(this[_0x21c66f(0x448)]['verbose'](this[_0x21c66f(0x32d)]+'\x20('+this[_0x21c66f(0x4f6)][_0x21c66f(0x336)]+'):\x20'+_0x24bad8),_0x24bad8):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x37c0ec){throw this['logger'][_0x21c66f(0x9a)](this[_0x21c66f(0x32d)]+'\x20('+this[_0x21c66f(0x4f6)][_0x21c66f(0x336)]+_0x21c66f(0x5cb)+_0x37c0ec),new g(_0x21c66f(0x155)+_0x37c0ec[_0x21c66f(0x273)]);}}async['updateAgent'](_0x3e9131){const _0x49796a=a0_0x5c767c;let _0x49408e=this[_0x49796a(0x4f6)]['wuid'];try{let _0x394373=await ae[_0x49796a(0xb7)](_0x49408e);_0x394373||(_0x394373=new ae({'_id':_0x49408e}),await _0x394373[_0x49796a(0x380)]());let _0x35cae3=_0x3e9131[_0x49796a(0x5bd)]?_0x394373[_0x49796a(0x4cf)][_0x49796a(0x41e)](_0xcfc051=>_0xcfc051[_0x49796a(0x5bd)]===_0x3e9131[_0x49796a(0x5bd)]):-0x1;if(_0x3e9131['delete']&&_0x35cae3>-0x1)_0x394373[_0x49796a(0x4cf)]['splice'](_0x35cae3,0x1);else{if(_0x35cae3>-0x1){let _0x1675ce=_0x394373['agents'][_0x35cae3];_0x3e9131[_0x49796a(0x45f)]&&(_0x1675ce[_0x49796a(0x45f)]=_0x3e9131[_0x49796a(0x45f)]),_0x3e9131['name']&&(_0x1675ce[_0x49796a(0x259)]=_0x3e9131[_0x49796a(0x259)]),_0x3e9131['email']&&(_0x1675ce[_0x49796a(0x609)]=_0x3e9131['email']),_0x3e9131[_0x49796a(0x1d4)]&&(_0x1675ce['role']=_0x3e9131[_0x49796a(0x1d4)]);}else _0x394373['agents']['push']({'_id':_0x3e9131[_0x49796a(0x5bd)]||new we['default'][(_0x49796a(0x51f))]['ObjectId']()[_0x49796a(0x2d6)](),'fone':_0x3e9131[_0x49796a(0x45f)],'name':_0x3e9131[_0x49796a(0x259)],'email':_0x3e9131['email'],'role':_0x3e9131[_0x49796a(0x1d4)]});}let _0x79155c=await _0x394373['save']();return this[_0x49796a(0x56e)]=_0x79155c,this[_0x49796a(0x448)][_0x49796a(0xb5)](this[_0x49796a(0x32d)]+'\x20('+this[_0x49796a(0x4f6)][_0x49796a(0x336)]+_0x49796a(0x4ce)),this['logger']['verbose'](this[_0x49796a(0x32d)]+'\x20('+this['instance'][_0x49796a(0x336)]+'):\x20'+this[_0x49796a(0x56e)]),_0x79155c;}catch(_0x197876){throw this[_0x49796a(0x448)][_0x49796a(0x9a)](this['instanceName']+'\x20('+this[_0x49796a(0x4f6)][_0x49796a(0x336)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x197876),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x197876[_0x49796a(0x273)]);}}async[a0_0x5c767c(0x5b7)](_0x312f95){const _0x5bbe0a=a0_0x5c767c;let _0x4cad4b=this[_0x5bbe0a(0x4f6)][_0x5bbe0a(0x336)];try{let _0x4499c9=await ae['findById'](_0x4cad4b);_0x4499c9||(_0x4499c9=new ae({'_id':_0x4cad4b}),await _0x4499c9[_0x5bbe0a(0x380)]());let _0xb2866=_0x312f95[_0x5bbe0a(0x5bd)]?_0x4499c9[_0x5bbe0a(0x2b0)]['findIndex'](_0x3fd9f7=>_0x3fd9f7[_0x5bbe0a(0x5bd)]===_0x312f95[_0x5bbe0a(0x5bd)]):-0x1,_0x5ea65e=!0x1,_0x14ee19=_0x4499c9[_0x5bbe0a(0x2b0)]['some'](_0x199d3b=>_0x199d3b[_0x5bbe0a(0x3c4)]===_0x312f95[_0x5bbe0a(0x3c4)]);if(_0x312f95[_0x5bbe0a(0x1b6)]&&_0xb2866>-0x1)_0x4499c9[_0x5bbe0a(0x2b0)][_0x5bbe0a(0x235)](_0xb2866,0x1),_0x5ea65e=!0x0;else{if(_0xb2866>-0x1){if(_0x4499c9[_0x5bbe0a(0x2b0)][_0x5bbe0a(0x639)](_0xae7ae1=>_0xae7ae1[_0x5bbe0a(0x259)]===_0x312f95[_0x5bbe0a(0x259)]&&_0xae7ae1[_0x5bbe0a(0x5bd)]!==_0x312f95[_0x5bbe0a(0x5bd)]))throw new Error(_0x5bbe0a(0x43a));let _0xf98b99=_0x4499c9['customFields'][_0xb2866];_0x312f95['order']&&(_0x14ee19||!Number[_0x5bbe0a(0x411)](_0x312f95[_0x5bbe0a(0x3c4)]))&&(_0xf98b99[_0x5bbe0a(0x3c4)]=_0x312f95[_0x5bbe0a(0x3c4)],_0x5ea65e=!0x0),_0x312f95[_0x5bbe0a(0x259)]&&(_0xf98b99[_0x5bbe0a(0x259)]=_0x312f95[_0x5bbe0a(0x259)]);}else{if(_0x4499c9[_0x5bbe0a(0x2b0)]['some'](_0xe673ac=>_0xe673ac[_0x5bbe0a(0x259)]===_0x312f95[_0x5bbe0a(0x259)]&&_0xe673ac['_id']!==_0x312f95[_0x5bbe0a(0x5bd)]))throw new Error(_0x5bbe0a(0x43a));_0x4499c9[_0x5bbe0a(0x2b0)]['push']({'_id':_0x312f95[_0x5bbe0a(0x5bd)]||new we[(_0x5bbe0a(0x6c))]['Types']['ObjectId']()[_0x5bbe0a(0x2d6)](),'order':_0x312f95['order'],'name':_0x312f95[_0x5bbe0a(0x259)]}),_0x5ea65e=!0x0;}}if(_0x5ea65e){_0x4499c9[_0x5bbe0a(0x2b0)][_0x5bbe0a(0x222)]((_0x988a0b,_0x18ce9f)=>_0x988a0b[_0x5bbe0a(0x3c4)]>_0x18ce9f[_0x5bbe0a(0x3c4)]?0x1:_0x18ce9f[_0x5bbe0a(0x3c4)]>_0x988a0b[_0x5bbe0a(0x3c4)]?-0x1:0x0);for(let _0x52740e=0x0;_0x52740e<_0x4499c9['customFields'][_0x5bbe0a(0x44d)];_0x52740e++)_0x4499c9['customFields'][_0x52740e][_0x5bbe0a(0x3c4)]=_0x52740e+0x1;}let _0x370622=await _0x4499c9[_0x5bbe0a(0x380)]();return this[_0x5bbe0a(0x56e)]=_0x370622,this[_0x5bbe0a(0x448)][_0x5bbe0a(0xb5)](this[_0x5bbe0a(0x32d)]+'\x20('+this[_0x5bbe0a(0x4f6)]['wuid']+_0x5bbe0a(0xa3)),this[_0x5bbe0a(0x448)][_0x5bbe0a(0xb5)](this[_0x5bbe0a(0x32d)]+'\x20('+this[_0x5bbe0a(0x4f6)][_0x5bbe0a(0x336)]+'):\x20'+this['AutomateSystem']),_0x370622;}catch(_0x2f7df1){throw this[_0x5bbe0a(0x448)][_0x5bbe0a(0x9a)](this[_0x5bbe0a(0x32d)]+'\x20('+this['instance'][_0x5bbe0a(0x336)]+_0x5bbe0a(0x446)+_0x2f7df1),new g(_0x5bbe0a(0xbd)+_0x2f7df1[_0x5bbe0a(0x273)]);}}async[a0_0x5c767c(0x3bf)](_0x4ea2b7){const _0x5f0b99=a0_0x5c767c;let _0x4a2d63=this[_0x5f0b99(0x4f6)][_0x5f0b99(0x336)];try{let _0xe8d7c=await ae[_0x5f0b99(0xb7)](_0x4a2d63);_0xe8d7c||(_0xe8d7c=new ae({'_id':_0x4a2d63}),await _0xe8d7c[_0x5f0b99(0x380)]()),_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x90)]=_0x4ea2b7?.[_0x5f0b99(0x90)]!==void 0x0?_0x4ea2b7?.[_0x5f0b99(0x90)]:_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x90)],_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x135)]=_0x4ea2b7?.[_0x5f0b99(0x135)]!==void 0x0?_0x4ea2b7?.['ignoreGroups']:_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x135)],_0xe8d7c[_0x5f0b99(0x549)]['prefixCommand']=_0x4ea2b7?.[_0x5f0b99(0x28f)]??_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x28f)],_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x83)]=_0x4ea2b7?.[_0x5f0b99(0x83)]??_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x83)],_0xe8d7c[_0x5f0b99(0x549)][_0x5f0b99(0x19f)]=_0x4ea2b7?.[_0x5f0b99(0x19f)]??_0xe8d7c['flowConfig'][_0x5f0b99(0x19f)];let _0x358b8b=await _0xe8d7c['save']();return this[_0x5f0b99(0x56e)]=_0x358b8b,this[_0x5f0b99(0x448)][_0x5f0b99(0xb5)](this[_0x5f0b99(0x32d)]+'\x20('+this[_0x5f0b99(0x4f6)][_0x5f0b99(0x336)]+_0x5f0b99(0x4ce)),this['logger'][_0x5f0b99(0xb5)](this['instanceName']+'\x20('+this[_0x5f0b99(0x4f6)]['wuid']+_0x5f0b99(0xcc)+this['AutomateSystem']),_0x358b8b;}catch(_0x10be41){throw this[_0x5f0b99(0x448)][_0x5f0b99(0x9a)](this['instanceName']+'\x20('+this['instance'][_0x5f0b99(0x336)]+_0x5f0b99(0x524)+_0x10be41),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x10be41[_0x5f0b99(0x273)]);}}async[a0_0x5c767c(0x124)](){const _0x521ea9=a0_0x5c767c;let _0x4b57fd=this[_0x521ea9(0x4f6)]['wuid'];try{let _0x18792f=await ae[_0x521ea9(0xb7)](_0x4b57fd);return _0x18792f||(_0x18792f=new ae({'_id':_0x4b57fd})),_0x18792f['flowConfig']=_0x18792f['flowConfig']||{},_0x18792f[_0x521ea9(0x549)][_0x521ea9(0x90)]===void 0x0&&(_0x18792f['flowConfig'][_0x521ea9(0x90)]=!0x1),_0x18792f['flowConfig'][_0x521ea9(0x135)]===void 0x0&&(_0x18792f['flowConfig']['ignoreGroups']=!0x0),_0x18792f['flowConfig']['prefixCommand']===void 0x0&&(_0x18792f[_0x521ea9(0x549)][_0x521ea9(0x28f)]='!'),_0x18792f['flowConfig'][_0x521ea9(0x83)]===void 0x0&&(_0x18792f['flowConfig'][_0x521ea9(0x83)]=_0x521ea9(0x507)),_0x18792f[_0x521ea9(0x549)]['stopMinutes']===void 0x0&&(_0x18792f[_0x521ea9(0x549)]['stopMinutes']=0x14),await _0x18792f[_0x521ea9(0x380)](),this['AutomateSystem']=_0x18792f,this[_0x521ea9(0x448)][_0x521ea9(0xb5)](this[_0x521ea9(0x32d)]+'\x20('+this[_0x521ea9(0x4f6)][_0x521ea9(0x336)]+_0x521ea9(0x160)),this[_0x521ea9(0x448)][_0x521ea9(0xb5)](this[_0x521ea9(0x56e)]),_0x18792f;}catch(_0x4e88e6){throw this[_0x521ea9(0x448)][_0x521ea9(0x9a)](this[_0x521ea9(0x32d)]+'\x20('+this['instance'][_0x521ea9(0x336)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4e88e6['message']),new g(_0x521ea9(0x41d)+_0x4e88e6[_0x521ea9(0x273)]);}}async[a0_0x5c767c(0x1b2)](){const _0xb22bb7=a0_0x5c767c;this[_0xb22bb7(0x250)]&&clearTimeout(this[_0xb22bb7(0x250)]),this[_0xb22bb7(0x250)]=setTimeout(()=>{const _0x561fb4=_0xb22bb7;this[_0x561fb4(0x316)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5c767c(0x316)](){const _0x55c43d=a0_0x5c767c;Date['now']()-this[_0x55c43d(0x14f)]>=0x1d4c0&&(this[_0x55c43d(0x448)][_0x55c43d(0xb5)](this[_0x55c43d(0x32d)]+'\x20('+this[_0x55c43d(0x4f6)][_0x55c43d(0x336)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x55c43d(0x33e)]=null,this[_0x55c43d(0x14f)]=0x0,this[_0x55c43d(0x4ca)]=0x0,await this['scheduleNextCheck']());}async[a0_0x5c767c(0x487)](){const _0xe95e88=a0_0x5c767c;await this[_0xe95e88(0x1b2)]();let _0xcd2f4b=()=>{const _0x14097d=_0xe95e88;this[_0x14097d(0x448)]['verbose'](this[_0x14097d(0x32d)]+'\x20('+this[_0x14097d(0x4f6)]['wuid']+_0x14097d(0x23a)+this[_0x14097d(0x33e)]+_0x14097d(0x433));},_0x1a8c7f=async()=>{const _0x21d5b7=_0xe95e88;this['logger'][_0x21d5b7(0xb5)](this['instanceName']+'\x20('+this[_0x21d5b7(0x4f6)][_0x21d5b7(0x336)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x4a6a68=Date[_0x21d5b7(0x606)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x21d5b7(0x504)]({'owner':this['instance'][_0x21d5b7(0x336)],'status':{'$in':[_0x21d5b7(0x587),_0x21d5b7(0x461)]},'$or':[{'when':{'$lte':Date[_0x21d5b7(0x606)](),'$gte':_0x4a6a68}},{'when':0x0}]});},_0x6a961c=async _0x2dc9a1=>{const _0x4bc7db=_0xe95e88;for(let _0x5cffe3 of _0x2dc9a1){if(!await L[_0x4bc7db(0x41b)]({'_id':_0x5cffe3['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4bc7db(0x606)]()-0x1770}}]},{'$set':{'startSend':Date[_0x4bc7db(0x606)]()}}))return;if(!this[_0x4bc7db(0xd4)]){this[_0x4bc7db(0x448)][_0x4bc7db(0xb5)](this[_0x4bc7db(0x32d)]+'\x20('+this[_0x4bc7db(0x4f6)][_0x4bc7db(0x336)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}(!_0x5cffe3[_0x4bc7db(0x209)]||_0x5cffe3[_0x4bc7db(0x209)][_0x4bc7db(0x44d)]===0x0)&&(_0x5cffe3=await L['findByIdAndUpdate'](_0x5cffe3[_0x4bc7db(0x5bd)],{'$set':{'status':_0x4bc7db(0x461),'remoteJidsRemaining':[..._0x5cffe3['remoteJids']]}},{'new':!0x0}));for(let _0x34f9f4 of _0x5cffe3[_0x4bc7db(0x209)]){if(await this[_0x4bc7db(0x1b2)](),this[_0x4bc7db(0x14f)]=Date[_0x4bc7db(0x606)](),_0x5cffe3[_0x4bc7db(0x31a)][_0x4bc7db(0x639)](_0x1dd280=>_0x1dd280[_0x4bc7db(0x18c)]===_0x34f9f4)){this[_0x4bc7db(0x448)]['verbose'](this['instanceName']+'\x20('+this[_0x4bc7db(0x4f6)][_0x4bc7db(0x336)]+_0x4bc7db(0x63b)+_0x34f9f4+_0x4bc7db(0x5dc));continue;}try{let _0x212fe9=await this[_0x4bc7db(0x26f)](_0x34f9f4,_0x5cffe3),_0x59c659={'remoteJid':_0x34f9f4,'error':_0x212fe9[_0x4bc7db(0x9a)],'id':_0x212fe9['id']||null,'error_log':_0x212fe9['error_log']||null,'log_timestamp':Date[_0x4bc7db(0x606)]()};if((await L[_0x4bc7db(0x4cb)](_0x5cffe3['_id'],{'$push':{'messagesSend':_0x59c659},'$pull':{'remoteJidsRemaining':_0x34f9f4}},{'new':!0x0}))['status']===_0x4bc7db(0x198)){this['logger'][_0x4bc7db(0xb5)](this[_0x4bc7db(0x32d)]+'\x20('+this[_0x4bc7db(0x4f6)][_0x4bc7db(0x336)]+_0x4bc7db(0x480)+_0x5cffe3[_0x4bc7db(0x5bd)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this[_0x4bc7db(0xd4)]){this[_0x4bc7db(0x448)]['verbose'](this[_0x4bc7db(0x32d)]+'\x20('+this['instance']['wuid']+_0x4bc7db(0x1ef));break;}if(!this[_0x4bc7db(0x33e)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4bc7db(0x4f6)]['wuid']+_0x4bc7db(0x480)+_0x5cffe3[_0x4bc7db(0x5bd)]+_0x4bc7db(0x1af));break;}let _0x12fbe0=this[_0x4bc7db(0x103)](_0x5cffe3[_0x4bc7db(0x8a)],_0x5cffe3['delaySecMax']);await this[_0x4bc7db(0x19c)](_0x12fbe0);}catch(_0x39f4ff){this[_0x4bc7db(0x448)]['error'](this[_0x4bc7db(0x32d)]+'\x20('+this[_0x4bc7db(0x4f6)][_0x4bc7db(0x336)]+_0x4bc7db(0x454)+_0x34f9f4+':\x20'+_0x39f4ff[_0x4bc7db(0x273)]);let _0x5a2588={'remoteJid':_0x34f9f4,'status':_0x4bc7db(0x9a),'timestamp':Date[_0x4bc7db(0x606)](),'error':_0x39f4ff['message']};await L[_0x4bc7db(0x4cb)](_0x5cffe3[_0x4bc7db(0x5bd)],{'$push':{'messagesSend':_0x5a2588},'$pull':{'remoteJidsRemaining':_0x34f9f4}},{'new':!0x0});}}let _0x10e188=await L['findById'](_0x5cffe3['_id']);_0x10e188['remoteJidsRemaining'][_0x4bc7db(0x44d)]===0x0&&_0x10e188[_0x4bc7db(0x34d)]!==_0x4bc7db(0x198)&&await L['findByIdAndUpdate'](_0x5cffe3[_0x4bc7db(0x5bd)],{'$set':{'status':_0x4bc7db(0x540)}},{'new':!0x0}),await new Promise(_0x2f2826=>setTimeout(_0x2f2826,0x1388));}},_0x513ada=async()=>{const _0x206e23=_0xe95e88;let _0x36953b=await L[_0x206e23(0x20d)]({'owner':this[_0x206e23(0x4f6)][_0x206e23(0x336)],'status':'scheduled','when':{'$gt':Date[_0x206e23(0x606)]()}})[_0x206e23(0x222)]({'when':0x1});_0x36953b&&_0x36953b[_0x206e23(0x75)]-Date[_0x206e23(0x606)]()<=0x5265c00?this[_0x206e23(0x4ca)]=_0x36953b[_0x206e23(0x75)]-Date['now']():this[_0x206e23(0x4ca)]=(0x3c+Math[_0x206e23(0x46e)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x206e23(0x4ca)]=Math[_0x206e23(0x2d2)](this[_0x206e23(0x4ca)],0x1*0x2*0x3e8);let _0xbc984e=Math[_0x206e23(0x5d5)](this[_0x206e23(0x4ca)]/0xea60);if(_0x36953b){let _0x1b2855=new Date(_0x36953b['when'])[_0x206e23(0x422)]();this[_0x206e23(0x448)][_0x206e23(0xb5)](this[_0x206e23(0x32d)]+'\x20('+this[_0x206e23(0x4f6)][_0x206e23(0x336)]+_0x206e23(0x555)+_0x1b2855+_0x206e23(0x149)+_0xbc984e+_0x206e23(0x194));}else this[_0x206e23(0x448)]['verbose'](this['instanceName']+'\x20('+this[_0x206e23(0x4f6)][_0x206e23(0x336)]+_0x206e23(0xbe)+_0xbc984e+'\x20minutos');setTimeout(()=>this[_0x206e23(0x487)](),this[_0x206e23(0x4ca)]);};if(this[_0xe95e88(0x33e)]){await this[_0xe95e88(0x1b2)](),_0xcd2f4b();return;}try{let _0x144e64=await _0x1a8c7f();_0x144e64[_0xe95e88(0x44d)]===0x0?this[_0xe95e88(0x448)][_0xe95e88(0xb5)](this[_0xe95e88(0x32d)]+'\x20('+this[_0xe95e88(0x4f6)][_0xe95e88(0x336)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0xe95e88(0x33e)]=_0x144e64[0x0]['_id'],await _0x6a961c(_0x144e64)),await _0x513ada(),this['processingScheduleMessageId']=null;}catch(_0x47c8cd){this[_0xe95e88(0x448)][_0xe95e88(0x9a)](_0xe95e88(0x458)+_0x47c8cd[_0xe95e88(0x273)]);}}[a0_0x5c767c(0x103)](_0x29689b,_0x5a323d){const _0x28be82=a0_0x5c767c;return _0x29689b=Math[_0x28be82(0x2d2)](0.5,_0x29689b),_0x5a323d=Math[_0x28be82(0x2d2)](0x3,_0x5a323d),Math['floor'](Math[_0x28be82(0x3fb)]()*(_0x5a323d-_0x29689b+0x1)+_0x29689b)*0x3e8;}[a0_0x5c767c(0x19c)](_0x2da24f){return new Promise(_0x29b914=>setTimeout(_0x29b914,_0x2da24f));}async[a0_0x5c767c(0x413)](_0x3c0ac0){const _0x2c7f2e=a0_0x5c767c;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2c7f2e(0x56e)]))return null;_0x3c0ac0=this['createJid'](_0x3c0ac0);let _0x18b6c1=await this[_0x2c7f2e(0x231)][_0x2c7f2e(0x5bb)]['findOne']({'where':{'_id':_0x3c0ac0,'owner':this[_0x2c7f2e(0x4f6)]['wuid']}}),_0x5691d2={};if(_0x18b6c1&&_0x18b6c1['leadInfo']){let _0x3ae045=_0x18b6c1[_0x2c7f2e(0x322)];typeof _0x3ae045[_0x2c7f2e(0x5c5)]=='string'&&(_0x5691d2[_0x2c7f2e(0x5c5)]=_0x3ae045['nome']),typeof _0x3ae045['nomecompleto']==_0x2c7f2e(0x5c3)&&(_0x5691d2['nomecompleto']=_0x3ae045[_0x2c7f2e(0x3d5)]),typeof _0x3ae045[_0x2c7f2e(0x609)]==_0x2c7f2e(0x5c3)&&(_0x5691d2[_0x2c7f2e(0x609)]=_0x3ae045[_0x2c7f2e(0x609)]),typeof _0x3ae045[_0x2c7f2e(0x3ad)]==_0x2c7f2e(0x5c3)&&(_0x5691d2[_0x2c7f2e(0x3ad)]=_0x3ae045[_0x2c7f2e(0x3ad)]),typeof _0x3ae045[_0x2c7f2e(0x34d)]==_0x2c7f2e(0x5c3)&&(_0x5691d2[_0x2c7f2e(0x34d)]=_0x3ae045['status']),typeof _0x3ae045['notas']==_0x2c7f2e(0x5c3)&&(_0x5691d2[_0x2c7f2e(0x267)]=_0x3ae045[_0x2c7f2e(0x267)]),typeof _0x3ae045[_0x2c7f2e(0x147)]==_0x2c7f2e(0x5c3)&&(_0x5691d2[_0x2c7f2e(0x147)]=_0x3ae045[_0x2c7f2e(0x147)]),Array[_0x2c7f2e(0x597)](_0x3ae045[_0x2c7f2e(0x359)])&&(_0x5691d2[_0x2c7f2e(0x359)]=_0x3ae045[_0x2c7f2e(0x359)][_0x2c7f2e(0x361)](',\x20'));}return _0x18b6c1&&_0x18b6c1['leadInfo']&&_0x18b6c1[_0x2c7f2e(0x322)][_0x2c7f2e(0x2b0)]&&_0x18b6c1[_0x2c7f2e(0x322)][_0x2c7f2e(0x2b0)][_0x2c7f2e(0xeb)](_0x101daf=>{const _0x5c2445=_0x2c7f2e;let _0x2c5d80=this[_0x5c2445(0x56e)]?.[_0x5c2445(0x2b0)][_0x5c2445(0x504)](_0x1e608f=>_0x1e608f[_0x5c2445(0x5bd)]===_0x101daf[_0x5c2445(0x5bd)]);_0x2c5d80&&(_0x5691d2[_0x2c5d80[_0x5c2445(0x259)]]=_0x101daf['value']);}),_0x5691d2;}async[a0_0x5c767c(0x620)](_0x14e0f3,_0x1cb638){const _0x528e5d=a0_0x5c767c;let _0x24bbca=await this[_0x528e5d(0x413)](_0x1cb638);return this[_0x528e5d(0x1ae)](_0x14e0f3,_0x24bbca);}async[a0_0x5c767c(0x5b6)](_0x1e5829){const _0x57d558=a0_0x5c767c;try{if(this[_0x57d558(0x448)][_0x57d558(0xb5)](this[_0x57d558(0x32d)]+'\x20('+this[_0x57d558(0x4f6)][_0x57d558(0x336)]+_0x57d558(0x51d)),_0x1e5829[_0x57d558(0x1b6)]&&_0x1e5829[_0x57d558(0x5bd)]){if(this[_0x57d558(0x33e)]===_0x1e5829[_0x57d558(0x5bd)][_0x57d558(0x2d6)]())throw new Error(_0x57d558(0x5f5));let _0x2c3140=await L['findByIdAndDelete'](_0x1e5829['_id']);return setTimeout(()=>this[_0x57d558(0x487)](),0x7d0),_0x2c3140;}let _0x220166;if(_0x1e5829[_0x57d558(0x5bd)]&&(_0x220166=await L[_0x57d558(0x20d)]({'owner':this[_0x57d558(0x4f6)][_0x57d558(0x336)],'_id':_0x1e5829[_0x57d558(0x5bd)]})),_0x220166){let _0x12321b=_0x1e5829;this[_0x57d558(0x33e)]===_0x220166[_0x57d558(0x5bd)]['toString']()&&(_0x12321b={'status':_0x1e5829['status'],'_id':_0x1e5829[_0x57d558(0x5bd)]});let _0x55f00d=await L[_0x57d558(0x4cb)](_0x220166[_0x57d558(0x5bd)],{'$set':_0x12321b},{'new':!0x0});return setTimeout(()=>this[_0x57d558(0x487)](),0x7d0),_0x55f00d;}else{_0x1e5829['owner']=this['instance']['wuid'];let _0x150b76=await new L(_0x1e5829)['save']();return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x150b76;}}catch(_0x4aa529){throw this[_0x57d558(0x448)]['error'](this['instanceName']+'\x20('+this[_0x57d558(0x4f6)][_0x57d558(0x336)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+_0x4aa529),new g(_0x57d558(0x30a)+_0x4aa529['message']);}}async['getScheduleMessage'](){const _0x11614a=a0_0x5c767c;try{return await L[_0x11614a(0x504)]({'owner':this[_0x11614a(0x4f6)][_0x11614a(0x336)]})[_0x11614a(0x222)]({'when':0x1});}catch(_0x28a585){throw this[_0x11614a(0x448)][_0x11614a(0x9a)](this['instanceName']+'\x20('+this['instance'][_0x11614a(0x336)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+_0x28a585),new g(_0x11614a(0x30a)+_0x28a585[_0x11614a(0x273)]);}}async[a0_0x5c767c(0x2d1)](){const _0x41480c=a0_0x5c767c;try{return await L[_0x41480c(0x5fa)]({'owner':this[_0x41480c(0x4f6)]['wuid'],'status':'done'}),this[_0x41480c(0x448)][_0x41480c(0xb5)](this[_0x41480c(0x32d)]+'\x20('+this[_0x41480c(0x4f6)]['wuid']+_0x41480c(0x12b)),this['getScheduleMessage']();}catch(_0x300b20){throw this['logger']['error'](this[_0x41480c(0x32d)]+'\x20('+this[_0x41480c(0x4f6)]['wuid']+_0x41480c(0x321)+_0x300b20),new g('Erro:'+_0x300b20[_0x41480c(0x273)]);}}async['SendScheduleMessage'](_0x3de310,_0x516d62){const _0x8f5d4=a0_0x5c767c;try{switch(_0x516d62[_0x8f5d4(0x1cf)]){case _0x8f5d4(0x217):return await this[_0x8f5d4(0x285)](_0x516d62,_0x3de310);case'media':return await this[_0x8f5d4(0x563)](_0x516d62,_0x3de310);case _0x8f5d4(0x3bd):return await this[_0x8f5d4(0x11b)](_0x516d62,_0x3de310);default:return this[_0x8f5d4(0x448)][_0x8f5d4(0x9a)](this['instanceName']+'\x20('+this[_0x8f5d4(0x4f6)][_0x8f5d4(0x336)]+'):\x20Comando\x20desconhecido:\x20'+_0x516d62[_0x8f5d4(0x1cf)]),{'status':_0x8f5d4(0x9a),'detail':_0x8f5d4(0x3b2)};}}catch(_0x3780e3){return this['logger'][_0x8f5d4(0x9a)](this['instanceName']+'\x20('+this[_0x8f5d4(0x4f6)][_0x8f5d4(0x336)]+_0x8f5d4(0x6a)+_0x3780e3),{'status':_0x8f5d4(0x9a),'detail':_0x3780e3[_0x8f5d4(0x273)]};}}['getRandomText'](_0xefce28){const _0x18689f=a0_0x5c767c;let _0x138374=_0xefce28[_0x18689f(0x642)]('|'),_0x2dcc31=Math[_0x18689f(0x46e)](Math[_0x18689f(0x3fb)]()*_0x138374[_0x18689f(0x44d)]);return _0x138374[_0x2dcc31][_0x18689f(0x1f9)]();}async['scheduleSendText'](_0x5aec68,_0x29774f){const _0xecce11=a0_0x5c767c;if(this[_0xecce11(0x448)][_0xecce11(0xb5)](this[_0xecce11(0x32d)]+'\x20('+this[_0xecce11(0x4f6)]['wuid']+_0xecce11(0x473)),!_0x5aec68[_0xecce11(0x273)]['text']||_0x5aec68[_0xecce11(0x273)][_0xecce11(0x217)][_0xecce11(0x44d)]===0x0)return{'error':!0x0,'error_log':_0xecce11(0x281)};let _0xa41b8e=this[_0xecce11(0x239)](_0x5aec68[_0xecce11(0x273)][_0xecce11(0x217)]),_0x1768e1=await this['replaceVariablesChat'](_0xa41b8e,_0x29774f),_0x53755={'number':_0x29774f,'options':{'delay':_0x5aec68[_0xecce11(0x273)][_0xecce11(0x47c)]},'textMessage':{'text':_0x1768e1}},_0x256e95=null;try{let _0x52d5ba=await this[_0xecce11(0x4df)](_0x53755);if(_0x52d5ba&&_0x52d5ba[_0xecce11(0x34d)])return{'error':!0x1,'id':_0x52d5ba['key']['id']};_0x256e95=JSON[_0xecce11(0x274)](_0x52d5ba),this[_0xecce11(0x448)][_0xecce11(0xb5)](this[_0xecce11(0x32d)]+'\x20('+this[_0xecce11(0x4f6)][_0xecce11(0x336)]+_0xecce11(0xcc)+_0x256e95);}catch(_0x9d8d97){this[_0xecce11(0x448)]['error'](this[_0xecce11(0x32d)]+'\x20('+this[_0xecce11(0x4f6)][_0xecce11(0x336)]+_0xecce11(0xce)+_0x9d8d97),_0x256e95=_0x9d8d97['message'];}if(_0x256e95)return{'error':!0x0,'error_log':(typeof _0x256e95==_0xecce11(0x230)?JSON[_0xecce11(0x274)](_0x256e95,null,0x2):_0x256e95)['replace'](/[\[\]{}\n]/g,'\x20')[_0xecce11(0x8d)](/  +/g,'\x20')};}async[a0_0x5c767c(0x563)](_0x4b59ba,_0x5d2032){const _0x5cab3a=a0_0x5c767c;this[_0x5cab3a(0x448)][_0x5cab3a(0xb5)](this[_0x5cab3a(0x32d)]+'\x20('+this[_0x5cab3a(0x4f6)][_0x5cab3a(0x336)]+_0x5cab3a(0x4b9));let _0x157bcd;if(_0x4b59ba[_0x5cab3a(0x273)][_0x5cab3a(0x217)]&&_0x4b59ba['message'][_0x5cab3a(0x217)][_0x5cab3a(0x44d)]>0x0){let _0x7bda5c=this['getRandomText'](_0x4b59ba[_0x5cab3a(0x273)][_0x5cab3a(0x217)]);_0x157bcd=await this[_0x5cab3a(0x620)](_0x7bda5c,_0x5d2032);}let _0x3da368={'number':_0x5d2032,'options':{'delay':_0x4b59ba[_0x5cab3a(0x273)][_0x5cab3a(0x47c)]},'mediaMessage':{'mediatype':_0x4b59ba['message'][_0x5cab3a(0x53f)],'caption':_0x157bcd,'media':_0x4b59ba[_0x5cab3a(0x273)][_0x5cab3a(0x447)]}},_0x374126=null;try{let _0x1209b9=await this[_0x5cab3a(0x506)](_0x3da368);if(_0x1209b9&&_0x1209b9[_0x5cab3a(0x34d)])return{'error':!0x1,'id':_0x1209b9[_0x5cab3a(0x40a)]['id']};_0x374126=JSON['stringify'](_0x1209b9),this['logger']['verbose'](this[_0x5cab3a(0x32d)]+'\x20('+this[_0x5cab3a(0x4f6)][_0x5cab3a(0x336)]+_0x5cab3a(0xcc)+_0x374126);}catch(_0x4ebe34){this[_0x5cab3a(0x448)]['error'](this[_0x5cab3a(0x32d)]+'\x20('+this[_0x5cab3a(0x4f6)][_0x5cab3a(0x336)]+_0x5cab3a(0xa4)+_0x4ebe34[_0x5cab3a(0x273)]),_0x374126=_0x4ebe34[_0x5cab3a(0x273)];}if(_0x374126)return{'error':!0x0,'error_log':(typeof _0x374126==_0x5cab3a(0x230)?JSON[_0x5cab3a(0x274)](_0x374126,null,0x2):_0x374126)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5cab3a(0x8d)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x42b37e,_0x2e4aaa){const _0x1dd0bd=a0_0x5c767c;this[_0x1dd0bd(0x448)][_0x1dd0bd(0xb5)](this[_0x1dd0bd(0x32d)]+'\x20('+this[_0x1dd0bd(0x4f6)]['wuid']+_0x1dd0bd(0x27b));let _0x245fad={'number':_0x2e4aaa,'options':{'delay':_0x42b37e[_0x1dd0bd(0x273)]['delay']},'audioMessage':{'audio':_0x42b37e[_0x1dd0bd(0x273)]['urlOrBase64']}},_0x78f23c=null;try{let _0x323dc6=await this[_0x1dd0bd(0x345)](_0x245fad);if(_0x323dc6&&_0x323dc6['status'])return{'error':!0x1,'id':_0x323dc6['key']['id']};_0x78f23c=JSON[_0x1dd0bd(0x274)](_0x323dc6),this[_0x1dd0bd(0x448)][_0x1dd0bd(0xb5)](this[_0x1dd0bd(0x32d)]+'\x20('+this[_0x1dd0bd(0x4f6)]['wuid']+_0x1dd0bd(0xcc)+_0x78f23c);}catch(_0x50ab68){this[_0x1dd0bd(0x448)][_0x1dd0bd(0x9a)](this[_0x1dd0bd(0x32d)]+'\x20('+this['instance'][_0x1dd0bd(0x336)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:'+_0x50ab68),_0x78f23c=_0x50ab68[_0x1dd0bd(0x273)];}if(_0x78f23c)return{'error':!0x0,'error_log':(typeof _0x78f23c=='object'?JSON[_0x1dd0bd(0x274)](_0x78f23c,null,0x2):_0x78f23c)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},be=require(a0_0x5c767c(0x444)),_t=class c{constructor(_0x83006d,_0x2584bb,_0xf71061){const _0x20f249=a0_0x5c767c;this[_0x20f249(0x61b)]=_0x83006d,this[_0x20f249(0x366)]=_0x2584bb,this[_0x20f249(0x231)]=_0xf71061,this['db']={},this[_0x20f249(0x1e7)]={},this[_0x20f249(0x448)]=new N(c['name']),this[_0x20f249(0x634)]={},(this[_0x20f249(0x126)](),this[_0x20f249(0x2cd)](),this['delInstanceFiles'](),Object['assign'](this['db'],_0x2584bb[_0x20f249(0x3a1)]('DATABASE')),Object[_0x20f249(0x15a)](this[_0x20f249(0x1e7)],_0x2584bb[_0x20f249(0x3a1)](_0x20f249(0x2c4))),this[_0x20f249(0x36f)]=this['db'][_0x20f249(0x168)]?this[_0x20f249(0x231)][_0x20f249(0xdb)]?.['db'](this['db']['CONNECTION'][_0x20f249(0x326)]+_0x20f249(0x3ec)):void 0x0,this[_0x20f249(0x229)]=this[_0x20f249(0x1e7)][_0x20f249(0x168)]?new ne(this[_0x20f249(0x1e7)]):void 0x0);}[a0_0x5c767c(0x5c8)](_0x54c453){const _0x489add=a0_0x5c767c;let _0x3b876f=this[_0x489add(0x366)]['get']('DEL_INSTANCE');typeof _0x3b876f==_0x489add(0x48d)&&_0x3b876f>0x0&&setTimeout(()=>{const _0x1fb6f9=_0x489add;this[_0x1fb6f9(0x634)][_0x54c453]?.[_0x1fb6f9(0x1a0)]?.['state']!==_0x1fb6f9(0x255)&&delete this[_0x1fb6f9(0x634)][_0x54c453];},0x3e8*0x3c*_0x3b876f);}async[a0_0x5c767c(0x5e4)](_0x2f9515){const _0x2dadf8=a0_0x5c767c;if(_0x2f9515&&!this[_0x2dadf8(0x634)][_0x2f9515])throw new x(_0x2dadf8(0x3f2)+_0x2f9515+_0x2dadf8(0x1a4));let _0x711d89=[];for await(let [_0x33092e,_0x5715a8]of Object[_0x2dadf8(0x66)](this[_0x2dadf8(0x634)]))if(_0x5715a8&&_0x5715a8[_0x2dadf8(0x1a0)]['state']===_0x2dadf8(0x255)){let _0x120fb2=await this['repository'][_0x2dadf8(0x408)]['find'](_0x33092e);_0x711d89[_0x2dadf8(0x36a)]({'instance':{'instanceName':_0x33092e,'apikey':_0x120fb2[_0x2dadf8(0x163)],'owner':_0x5715a8[_0x2dadf8(0x336)],'profileName':await _0x5715a8[_0x2dadf8(0x509)]()||_0x2dadf8(0x87),'profilePictureUrl':_0x5715a8[_0x2dadf8(0x252)]}});}return _0x711d89[_0x2dadf8(0x504)](_0x4d22f6=>_0x4d22f6['instance'][_0x2dadf8(0x32d)]===_0x2f9515)??_0x711d89;}[a0_0x5c767c(0x2a0)](){setInterval(async()=>{const _0x2c8298=a0_0x277c;if(this['db'][_0x2c8298(0x168)])(await this[_0x2c8298(0x36f)][_0x2c8298(0x4b1)]())['forEach'](async _0x5407c1=>{const _0xe6552e=_0x2c8298;let _0x22b177=_0x5407c1['namespace'][_0xe6552e(0x8d)](/^[\w-]+./,'');await this[_0xe6552e(0x36f)][_0xe6552e(0x51e)](_0x22b177)[_0xe6552e(0x5fa)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x40b2d2=(0x0,te[_0x2c8298(0x14a)])(j,{'encoding':_0x2c8298(0x632)});for await(let _0x3ad04e of _0x40b2d2)_0x3ad04e['isDirectory']()&&(0x0,te['readdirSync'])((0x0,be['join'])(j,_0x3ad04e['name']),{'encoding':_0x2c8298(0x632)})['forEach'](async _0x11289c=>{const _0x480c7a=_0x2c8298;(_0x11289c[_0x480c7a(0x58e)](/^app.state.*/)||_0x11289c[_0x480c7a(0x58e)](/^session-.*/))&&(0x0,te['rmSync'])((0x0,be[_0x480c7a(0x361)])(j,_0x3ad04e[_0x480c7a(0x259)],_0x11289c),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x5c767c(0x600)](_0x53fa5b){const _0x2f8617=a0_0x5c767c;this['db']['ENABLED']&&(await this[_0x2f8617(0x231)][_0x2f8617(0xdb)][_0x2f8617(0x120)](),(await this[_0x2f8617(0x36f)][_0x2f8617(0x4b1)]())[_0x2f8617(0x44d)]>0x0&&await this[_0x2f8617(0x36f)][_0x2f8617(0x5f6)](_0x53fa5b)),this['redis'][_0x2f8617(0x168)]&&(this[_0x2f8617(0x229)][_0x2f8617(0x1f8)]=_0x53fa5b,await this[_0x2f8617(0x229)][_0x2f8617(0x2a9)]()),!this['db'][_0x2f8617(0x168)]&&!this[_0x2f8617(0x1e7)]['ENABLED']&&(0x0,te[_0x2f8617(0x420)])((0x0,be[_0x2f8617(0x361)])(j,_0x53fa5b),{'recursive':!0x0,'force':!0x0});}async[a0_0x5c767c(0x4bb)](){const _0x495faf=a0_0x5c767c;let _0x4a25e2=async _0x30fb85=>{const _0x46dbe3=a0_0x277c;let _0x56486f=new ye(this[_0x46dbe3(0x366)],this[_0x46dbe3(0x61b)],this[_0x46dbe3(0x231)]);_0x56486f['instanceName']=_0x30fb85,await _0x56486f[_0x46dbe3(0x4bf)](),this[_0x46dbe3(0x634)][_0x30fb85]=_0x56486f;};try{if(this[_0x495faf(0x1e7)]['ENABLED']){let _0x26386c=await this[_0x495faf(0x229)]['instanceKeys']();_0x26386c?.[_0x495faf(0x44d)]>0x0&&_0x26386c[_0x495faf(0xeb)](async _0x13dcef=>await _0x4a25e2(_0x13dcef['split'](':')[0x1]));}if(this['db'][_0x495faf(0x168)]){await this['repository'][_0x495faf(0xdb)][_0x495faf(0x120)]();let _0x2cf602=await this[_0x495faf(0x36f)][_0x495faf(0x4b1)]();_0x2cf602[_0x495faf(0x44d)]>0x0&&_0x2cf602['forEach'](async _0x105117=>await _0x4a25e2(_0x105117[_0x495faf(0xdf)][_0x495faf(0x8d)](/^[\w-]+\./,'')));return;}let _0x550b15=(0x0,te[_0x495faf(0x14a)])(j,{'encoding':_0x495faf(0x632)});for await(let _0x5d705a of _0x550b15)if(_0x5d705a[_0x495faf(0xf6)]()){if((0x0,te[_0x495faf(0x520)])((0x0,be[_0x495faf(0x361)])(j,_0x5d705a[_0x495faf(0x259)]),{'encoding':_0x495faf(0x632)})[_0x495faf(0x44d)]===0x0){(0x0,te[_0x495faf(0x420)])((0x0,be['join'])(j,_0x5d705a[_0x495faf(0x259)]),{'recursive':!0x0,'force':!0x0});break;}await _0x4a25e2(_0x5d705a['name']);}}catch(_0x29bbac){this[_0x495faf(0x448)][_0x495faf(0x9a)](_0x29bbac);}}[a0_0x5c767c(0x126)](){const _0xc9db87=a0_0x5c767c;this[_0xc9db87(0x61b)]['on'](_0xc9db87(0x71),async _0x5f1370=>{const _0x4c9e78=_0xc9db87;try{this[_0x4c9e78(0x634)][_0x5f1370]=void 0x0;}catch{}try{this[_0x4c9e78(0x600)](_0x5f1370);}finally{this[_0x4c9e78(0x448)][_0x4c9e78(0x2e9)]('Instance\x20\x22'+_0x5f1370+_0x4c9e78(0x498));}});}[a0_0x5c767c(0x2cd)](){const _0x1ee264=a0_0x5c767c;this[_0x1ee264(0x61b)]['on'](_0x1ee264(0x372),async _0xce3887=>{const _0x85fd6c=_0x1ee264;try{this[_0x85fd6c(0x634)][_0xce3887]=void 0x0,this[_0x85fd6c(0x600)](_0xce3887);}catch(_0x3affa1){this['logger'][_0x85fd6c(0x9a)]({'localError':_0x85fd6c(0x2cd),'warn':_0x85fd6c(0x1cb),'error':_0x3affa1});}finally{this['logger'][_0x85fd6c(0x2e9)]('Instance\x20\x22'+_0xce3887+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Ot=class extends W{constructor(_0x8f4ae1){super(_0x8f4ae1),this['configService']=_0x8f4ae1;}[a0_0x5c767c(0xf9)](_0x5b227d){return Os(_0x5b227d);}async[a0_0x5c767c(0x637)](_0x5f3842){const _0x23e9fe=a0_0x5c767c;if(_0x5f3842[_0x23e9fe(0x44d)]!==0x0)try{return{'insertCount':(await this[_0x23e9fe(0xf9)](_0x5f3842[0x0][_0x23e9fe(0x57d)])[_0x23e9fe(0x39f)]([..._0x5f3842]))['length']};}catch(_0x1c55ac){return _0x1c55ac;}}async[a0_0x5c767c(0x504)](_0x51c0ee){const _0x5deec6=a0_0x5c767c;try{return await this[_0x5deec6(0xf9)](_0x51c0ee[_0x5deec6(0x82)][_0x5deec6(0x57d)])[_0x5deec6(0x504)]({..._0x51c0ee[_0x5deec6(0x82)]})['sort']({'lastmsg':-0x1})[_0x5deec6(0xf0)](_0x51c0ee?.['limit']??0x0)[_0x5deec6(0x4dc)]();}catch{return[];}}async[a0_0x5c767c(0x1b6)](_0x2091a9){const _0x426adb=a0_0x5c767c;try{return{'deletedCount':(await this[_0x426adb(0xf9)](_0x2091a9['where']['owner'])[_0x426adb(0x5fa)]({..._0x2091a9[_0x426adb(0x82)]}))[_0x426adb(0x4b3)]};}catch(_0x5614e8){return{'error':_0x5614e8?.['toString']()};}}async[a0_0x5c767c(0x43e)](_0x4e950d){const _0x1672ca=a0_0x5c767c;try{return await this[_0x1672ca(0xf9)](_0x4e950d[_0x1672ca(0x82)][_0x1672ca(0x57d)])[_0x1672ca(0x5fa)]({..._0x4e950d[_0x1672ca(0x82)]}),[];}catch(_0x52fef1){return{'error':_0x52fef1?.[_0x1672ca(0x2d6)]()};}}async[a0_0x5c767c(0x20d)](_0x1db0f8){const _0x2d7ed4=a0_0x5c767c;try{return await this[_0x2d7ed4(0xf9)](_0x1db0f8['where'][_0x2d7ed4(0x57d)])[_0x2d7ed4(0x20d)]({..._0x1db0f8['where']})[_0x2d7ed4(0x4dc)]();}catch{return null;}}async['updateOne'](_0x2f63f8,_0x1b884d,_0x575b20){const _0x1fdca0=a0_0x5c767c;try{let _0x988a00={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x575b20};return await this[_0x1fdca0(0xf9)](_0x2f63f8[_0x1fdca0(0x82)][_0x1fdca0(0x57d)])[_0x1fdca0(0x41b)]({..._0x2f63f8[_0x1fdca0(0x82)]},{'$set':_0x1b884d},_0x988a00);}catch(_0x3c9914){return console[_0x1fdca0(0x9a)](_0x3c9914),null;}}async[a0_0x5c767c(0x1ec)](_0x7f201){const _0x4f004b=a0_0x5c767c;try{let _0x3568eb=this[_0x4f004b(0xf9)](_0x7f201[0x0][_0x4f004b(0x20a)][_0x4f004b(0x82)][_0x4f004b(0x57d)]),_0x4cc515=_0x7f201['map'](_0xd326f5=>({'updateOne':{'filter':{..._0xd326f5[_0x4f004b(0x20a)][_0x4f004b(0x82)]},'update':{'$set':_0xd326f5['update']}}}));return(await _0x3568eb[_0x4f004b(0x2ee)](_0x4cc515))['modifiedCount'];}catch(_0x27d1ca){return console['error'](_0x27d1ca),0x0;}}},Pt=class{constructor(_0x5917e2){const _0x52edde=a0_0x5c767c;this[_0x52edde(0x4bc)]=_0x5917e2;}async['editChat']({instanceName:_0x3a435c},_0x412a1d){const _0x15a000=a0_0x5c767c;return await this[_0x15a000(0x4bc)][_0x15a000(0x634)][_0x3a435c][_0x15a000(0x607)](_0x412a1d);}async[a0_0x5c767c(0x3d6)]({instanceName:_0x51a730},_0x1626ad){const _0x320d88=a0_0x5c767c;return await this['waMonitor'][_0x320d88(0x634)][_0x51a730][_0x320d88(0x3d6)](_0x1626ad);}async[a0_0x5c767c(0x277)]({instanceName:_0x1f17a8},_0x260d3d){const _0x3a8f70=a0_0x5c767c;return await this[_0x3a8f70(0x4bc)][_0x3a8f70(0x634)][_0x1f17a8][_0x3a8f70(0x86)](_0x260d3d);}async['archiveChat']({instanceName:_0x115017},_0x28768a){const _0xbb03cb=a0_0x5c767c;return await this['waMonitor'][_0xbb03cb(0x634)][_0x115017]['archiveChat'](_0x28768a);}async[a0_0x5c767c(0x4d7)]({instanceName:_0x21b9ae},_0x1a407a){const _0x42ea4d=a0_0x5c767c;return await this[_0x42ea4d(0x4bc)]['waInstances'][_0x21b9ae][_0x42ea4d(0x4d7)](_0x1a407a);}async['fetchProfilePicture']({instanceName:_0x4f3008},_0x59e479){const _0x56b1f4=a0_0x5c767c;return await this[_0x56b1f4(0x4bc)][_0x56b1f4(0x634)][_0x4f3008][_0x56b1f4(0x2aa)](_0x59e479[_0x56b1f4(0x48d)]);}async[a0_0x5c767c(0x4b4)]({instanceName:_0x45f04e},_0x4082af){const _0x492ea6=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x45f04e][_0x492ea6(0x4b4)](_0x4082af[_0x492ea6(0x48d)]);}async[a0_0x5c767c(0x4d6)]({instanceName:_0x180d4d},_0x4b275a){const _0x9d2a13=a0_0x5c767c;return await this[_0x9d2a13(0x4bc)][_0x9d2a13(0x634)][_0x180d4d][_0x9d2a13(0x4d6)](_0x4b275a);}async['fetchContacts']({instanceName:_0x2b6210},_0x3d2b27){const _0x24226a=a0_0x5c767c;return await this['waMonitor'][_0x24226a(0x634)][_0x2b6210][_0x24226a(0x3b1)](_0x3d2b27);}async['getBase64FromMediaMessage']({instanceName:_0x2ef06c},_0x5777f1){const _0x725b37=a0_0x5c767c;return await this[_0x725b37(0x4bc)][_0x725b37(0x634)][_0x2ef06c][_0x725b37(0x4b2)](_0x5777f1);}async['fetchMessages']({instanceName:_0x313d82},_0x3a9c09){const _0x3e3a8c=a0_0x5c767c;return await this[_0x3e3a8c(0x4bc)][_0x3e3a8c(0x634)][_0x313d82]['fetchMessages'](_0x3a9c09);}async[a0_0x5c767c(0xc5)]({instanceName:_0xbd391e}){const _0x24ebf7=a0_0x5c767c;return await this[_0x24ebf7(0x4bc)][_0x24ebf7(0x634)][_0xbd391e][_0x24ebf7(0xc5)]();}async['fetchPrivacySettings']({instanceName:_0x154248}){const _0x498f36=a0_0x5c767c;return await this[_0x498f36(0x4bc)][_0x498f36(0x634)][_0x154248][_0x498f36(0xe5)]();}async['updatePrivacySettings']({instanceName:_0x102624},_0xc4b701){const _0x28488c=a0_0x5c767c;return await this['waMonitor'][_0x28488c(0x634)][_0x102624][_0x28488c(0x5f2)](_0xc4b701);}async['fetchBusinessProfile']({instanceName:_0x1e976d},_0x4984c7){const _0x1fb52a=a0_0x5c767c;return await this[_0x1fb52a(0x4bc)][_0x1fb52a(0x634)][_0x1e976d]['fetchBusinessProfile'](_0x4984c7[_0x1fb52a(0x48d)]);}async[a0_0x5c767c(0x122)]({instanceName:_0x5dd3d6},_0xde95cb){const _0x4e82d6=a0_0x5c767c;return await this[_0x4e82d6(0x4bc)][_0x4e82d6(0x634)][_0x5dd3d6][_0x4e82d6(0x122)](_0xde95cb['name']);}async[a0_0x5c767c(0xc6)]({instanceName:_0xa55d85},_0x5d28e7){const _0x1a6801=a0_0x5c767c;return await this[_0x1a6801(0x4bc)][_0x1a6801(0x634)][_0xa55d85]['updateProfileStatus'](_0x5d28e7['status']);}async['updateProfilePicture']({instanceName:_0x59dcfb},_0x2dc810){const _0x56b02a=a0_0x5c767c;return await this[_0x56b02a(0x4bc)][_0x56b02a(0x634)][_0x59dcfb]['updateProfilePicture'](_0x2dc810['picture']);}async[a0_0x5c767c(0x1c4)]({instanceName:_0x5f3d1e},_0x179995){const _0x59922c=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x5f3d1e][_0x59922c(0x1c4)]();}},ms=require(a0_0x5c767c(0x2d5)),xt=class c{constructor(_0x5d6900,_0x3457c1,_0x390b5a,_0x109932,_0xa5f716){const _0x5d7d4b=a0_0x5c767c;this[_0x5d7d4b(0x4bc)]=_0x5d6900,this[_0x5d7d4b(0x366)]=_0x3457c1,this[_0x5d7d4b(0x231)]=_0x390b5a,this['eventEmitter']=_0x109932,this[_0x5d7d4b(0x257)]=_0xa5f716,this[_0x5d7d4b(0x448)]=new N(c[_0x5d7d4b(0x259)]);}async[a0_0x5c767c(0x42a)]({instanceName:_0x2d4f75,apikey:_0x3c61ff}){const _0x4c2fc1=a0_0x5c767c;let _0x47146f=new ye(this[_0x4c2fc1(0x366)],this['eventEmitter'],this['repository']);_0x47146f[_0x4c2fc1(0x32d)]=_0x2d4f75,this[_0x4c2fc1(0x4bc)]['waInstances'][_0x47146f['instanceName']]=_0x47146f,this[_0x4c2fc1(0x4bc)]['delInstanceTime'](_0x47146f[_0x4c2fc1(0x32d)]);let _0x99d96a={};_0x3c61ff?(await this['repository'][_0x4c2fc1(0x408)][_0x4c2fc1(0x1ab)]({'apikey':_0x3c61ff},_0x2d4f75),_0x99d96a[_0x4c2fc1(0x163)]=_0x3c61ff):_0x99d96a=await this[_0x4c2fc1(0x257)]['generateHash']({'instanceName':_0x47146f[_0x4c2fc1(0x32d)]});let _0x859781;return await _0x47146f[_0x4c2fc1(0x4bf)](),await(0x0,ms['delay'])(0x7d0),_0x859781=_0x47146f['qrCode'],{'instance':{'instanceName':_0x47146f[_0x4c2fc1(0x32d)],'status':_0x4c2fc1(0x48c)},'hash':_0x99d96a,'qrcode':_0x859781};}async[a0_0x5c767c(0x4bf)]({instanceName:_0x2542f2}){const _0xc16b50=a0_0x5c767c;try{let _0x44d866=this['waMonitor'][_0xc16b50(0x634)][_0x2542f2];switch(_0x44d866['connectionStatus']?.['state']){case _0xc16b50(0x3a9):return await _0x44d866['connectToWhatsapp'](),await(0x0,ms[_0xc16b50(0x47c)])(0x7d0),_0x44d866[_0xc16b50(0x27d)];case _0xc16b50(0x5a9):return _0x44d866['qrCode'];default:return await this[_0xc16b50(0x4e2)]({'instanceName':_0x2542f2});}}catch(_0x4056a6){this[_0xc16b50(0x448)][_0xc16b50(0x1ce)](_0x4056a6);}}async[a0_0x5c767c(0x4e2)]({instanceName:_0x337426}){const _0x4054f0=a0_0x5c767c;let _0x3d2c89=this[_0x4054f0(0x4bc)]['waInstances'][_0x337426][_0x4054f0(0x1a0)],_0x5a7c4b=null;_0x3d2c89[_0x4054f0(0x3be)]==='open'&&_0x337426&&(_0x5a7c4b=await this['waMonitor'][_0x4054f0(0x5e4)](_0x337426));let _0x11ec83=null;return _0x3d2c89[_0x4054f0(0x3be)]===_0x4054f0(0x5a9)&&_0x337426&&(_0x11ec83=this[_0x4054f0(0x4bc)][_0x4054f0(0x634)][_0x337426][_0x4054f0(0x27d)]),{'instance':_0x337426,'connectionStatus':_0x3d2c89,'instanceInfo':_0x5a7c4b,'qrcode':_0x11ec83};}async['restartInstance']({instanceName:_0x23d83b}){const _0x2236d2=a0_0x5c767c;try{return this[_0x2236d2(0x4bc)][_0x2236d2(0x634)][_0x23d83b]?.['client']?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x2236d2(0x207)}};}catch(_0x5d88ec){this[_0x2236d2(0x448)][_0x2236d2(0x9a)](_0x5d88ec);}}async[a0_0x5c767c(0x233)]({instanceName:_0x2146eb}){const _0x235995=a0_0x5c767c;return _0x2146eb?this[_0x235995(0x4bc)][_0x235995(0x5e4)](_0x2146eb):this[_0x235995(0x4bc)]['instanceInfo']();}async[a0_0x5c767c(0x5e1)]({instanceName:_0x287a40}){const _0x26ee88=a0_0x5c767c;try{return await this['waMonitor'][_0x26ee88(0x634)][_0x287a40]?.['client']?.['logout']('Log\x20out\x20instance:\x20'+_0x287a40),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x4b322a){throw new A(_0x4b322a[_0x26ee88(0x2d6)]());}}async[a0_0x5c767c(0x16a)]({instanceName:_0xa11856}){const _0x232352=a0_0x5c767c;if((await this[_0x232352(0x4e2)]({'instanceName':_0xa11856}))[_0x232352(0x1a0)][_0x232352(0x3be)]===_0x232352(0x255))throw new g([_0x232352(0x57c),_0x232352(0x100)]);try{return delete this['waMonitor'][_0x232352(0x634)][_0xa11856],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x19af91){throw new g(_0x19af91['toString']());}}async[a0_0x5c767c(0x633)](_0x1072c9,_0x2182b3){const _0x45dc5c=a0_0x5c767c;return await this[_0x45dc5c(0x257)][_0x45dc5c(0x633)](_0x2182b3);}},se=require(a0_0x5c767c(0x220)),$t=class{constructor(_0x75c5df){const _0x5d2df6=a0_0x5c767c;this[_0x5d2df6(0x4bc)]=_0x75c5df;}async['sendText']({instanceName:_0x509808},_0x5865d5){const _0x37f30f=a0_0x5c767c;return await this[_0x37f30f(0x4bc)][_0x37f30f(0x634)][_0x509808][_0x37f30f(0x4df)](_0x5865d5);}async['sendMedia']({instanceName:_0x3262b7},_0x3033c6){const _0xff6df3=a0_0x5c767c;if((0x0,se[_0xff6df3(0x604)])(_0x3033c6?.[_0xff6df3(0x506)]?.[_0xff6df3(0x567)])&&!_0x3033c6?.['mediaMessage']?.[_0xff6df3(0x571)])throw new g(_0xff6df3(0x58d));if((0x0,se[_0xff6df3(0x348)])(_0x3033c6?.[_0xff6df3(0x506)]?.[_0xff6df3(0x567)])||(0x0,se[_0xff6df3(0x604)])(_0x3033c6?.[_0xff6df3(0x506)]?.['media']))return await this[_0xff6df3(0x4bc)]['waInstances'][_0x3262b7][_0xff6df3(0x506)](_0x3033c6);throw new g(_0xff6df3(0x4d2));}async[a0_0x5c767c(0x588)]({instanceName:_0x523a8b},_0x2d4094){const _0x1dab60=a0_0x5c767c;if((0x0,se[_0x1dab60(0x348)])(_0x2d4094[_0x1dab60(0x4c7)][_0x1dab60(0x40f)])||(0x0,se[_0x1dab60(0x604)])(_0x2d4094[_0x1dab60(0x4c7)][_0x1dab60(0x40f)]))return await this['waMonitor'][_0x1dab60(0x634)][_0x523a8b][_0x1dab60(0x26e)](_0x2d4094);throw new g(_0x1dab60(0x4d2));}async['sendWhatsAppAudio']({instanceName:_0x529863},_0x4dfa6d){const _0x30d41d=a0_0x5c767c;if((0x0,se['isURL'])(_0x4dfa6d[_0x30d41d(0x1b1)][_0x30d41d(0x3bd)])||(0x0,se[_0x30d41d(0x604)])(_0x4dfa6d[_0x30d41d(0x1b1)]['audio']))return await this[_0x30d41d(0x4bc)][_0x30d41d(0x634)][_0x529863][_0x30d41d(0x345)](_0x4dfa6d);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x189260},_0x1ad77f){const _0x51a6f2=a0_0x5c767c;if((0x0,se[_0x51a6f2(0x604)])(_0x1ad77f['buttonMessage'][_0x51a6f2(0x506)]?.[_0x51a6f2(0x567)])&&!_0x1ad77f[_0x51a6f2(0x556)][_0x51a6f2(0x506)]?.[_0x51a6f2(0x571)])throw new g(_0x51a6f2(0x58d));return await this[_0x51a6f2(0x4bc)]['waInstances'][_0x189260][_0x51a6f2(0x556)](_0x1ad77f);}async['sendLocation']({instanceName:_0x21cdea},_0x2afee3){const _0x5d6b8c=a0_0x5c767c;return await this[_0x5d6b8c(0x4bc)][_0x5d6b8c(0x634)][_0x21cdea][_0x5d6b8c(0x28e)](_0x2afee3);}async['sendPoll']({instanceName:_0x2aa291},_0x4f37ce){const _0x474a8c=a0_0x5c767c;return await this[_0x474a8c(0x4bc)][_0x474a8c(0x634)][_0x2aa291][_0x474a8c(0x18e)](_0x4f37ce);}async[a0_0x5c767c(0x3d9)]({instanceName:_0x433e6f},_0x1d57a2){const _0x19bfc6=a0_0x5c767c;return await this[_0x19bfc6(0x4bc)]['waInstances'][_0x433e6f][_0x19bfc6(0x232)](_0x1d57a2);}async[a0_0x5c767c(0x3d2)]({instanceName:_0x3e4f66},_0x5c30f5){const _0x3ca20b=a0_0x5c767c;return await this['waMonitor'][_0x3ca20b(0x634)][_0x3e4f66]['contactMessage'](_0x5c30f5);}async[a0_0x5c767c(0x4c3)]({instanceName:_0x50ee62},_0x5a5026){const _0x3942e0=a0_0x5c767c;if(!_0x5a5026[_0x3942e0(0x1da)]['reaction'][_0x3942e0(0x58e)](/[^\(\)\w\sà-ú"-\+]+/))throw new g('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3942e0(0x4bc)][_0x3942e0(0x634)][_0x50ee62][_0x3942e0(0x1da)](_0x5a5026);}async[a0_0x5c767c(0x641)]({instanceName:_0x5af03b},_0x5a4a6c){const _0x20faaf=a0_0x5c767c;return await this[_0x20faaf(0x4bc)]['waInstances'][_0x5af03b][_0x20faaf(0x601)](_0x5a4a6c);}},kt=class{constructor(_0x23bcf4){this['waMonitor']=_0x23bcf4;}async['createGroup'](_0x43ffa7,_0x366ab7){const _0x1685a0=a0_0x5c767c;return await this[_0x1685a0(0x4bc)]['waInstances'][_0x43ffa7[_0x1685a0(0x32d)]][_0x1685a0(0x2ec)](_0x366ab7);}async[a0_0x5c767c(0x53d)](_0x3dbf7a,_0x206490){const _0x339d15=a0_0x5c767c;return await this[_0x339d15(0x4bc)][_0x339d15(0x634)][_0x3dbf7a[_0x339d15(0x32d)]][_0x339d15(0x53d)](_0x206490);}async[a0_0x5c767c(0x221)](_0x461617,_0x5b4e3f){const _0x53d8ce=a0_0x5c767c;return await this[_0x53d8ce(0x4bc)][_0x53d8ce(0x634)][_0x461617['instanceName']]['groupDesc'](_0x5b4e3f);}async[a0_0x5c767c(0x471)](_0x18e588,_0x3c1ec2){const _0x3c9221=a0_0x5c767c;return await this[_0x3c9221(0x4bc)][_0x3c9221(0x634)][_0x18e588['instanceName']]['groupName'](_0x3c1ec2);}async[a0_0x5c767c(0x594)](_0x41da47,_0x78c43a){const _0x339eca=a0_0x5c767c;return await this['waMonitor'][_0x339eca(0x634)][_0x41da47[_0x339eca(0x32d)]][_0x339eca(0x594)](_0x78c43a);}async[a0_0x5c767c(0x1b8)](_0x357843,_0x568bc3){const _0x1fa7e5=a0_0x5c767c;return await this['waMonitor'][_0x1fa7e5(0x634)][_0x357843[_0x1fa7e5(0x32d)]][_0x1fa7e5(0x1c2)](_0x568bc3);}async['findGroups'](_0x5beb49){const _0x33c868=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x5beb49[_0x33c868(0x32d)]][_0x33c868(0x45b)]();}async[a0_0x5c767c(0x584)](_0x46ccda,_0x416a1e){const _0x56cbf4=a0_0x5c767c;return await this['waMonitor'][_0x56cbf4(0x634)][_0x46ccda[_0x56cbf4(0x32d)]][_0x56cbf4(0x584)](_0x416a1e);}async['joinGroup'](_0x2c5c65,_0x2a3bce){const _0x9737a8=a0_0x5c767c;return await this[_0x9737a8(0x4bc)][_0x9737a8(0x634)][_0x2c5c65[_0x9737a8(0x32d)]][_0x9737a8(0x1b5)](_0x2a3bce);}async[a0_0x5c767c(0x54b)](_0x493ccb,_0x551dc3){const _0x4a2677=a0_0x5c767c;return await this['waMonitor'][_0x4a2677(0x634)][_0x493ccb[_0x4a2677(0x32d)]]['revokeInviteCode'](_0x551dc3);}async[a0_0x5c767c(0x73)](_0x25cd66,_0x5c307e){const _0x55e682=a0_0x5c767c;return await this[_0x55e682(0x4bc)][_0x55e682(0x634)][_0x25cd66[_0x55e682(0x32d)]][_0x55e682(0x73)](_0x5c307e);}async[a0_0x5c767c(0x53a)](_0xaaf479,_0x1d6e08){const _0x1ed15b=a0_0x5c767c;return await this[_0x1ed15b(0x4bc)][_0x1ed15b(0x634)][_0xaaf479[_0x1ed15b(0x32d)]][_0x1ed15b(0x121)](_0x1d6e08);}async['toggleEphemeral'](_0xe5865c,_0x55e2c7){const _0x3726ec=a0_0x5c767c;return await this[_0x3726ec(0x4bc)][_0x3726ec(0x634)][_0xe5865c[_0x3726ec(0x32d)]][_0x3726ec(0x210)](_0x55e2c7);}async['leaveGroup'](_0x3c5b17,_0x460156){const _0xac183c=a0_0x5c767c;return await this['waMonitor'][_0xac183c(0x634)][_0x3c5b17[_0xac183c(0x32d)]][_0xac183c(0x511)](_0x460156);}},Lt=class{constructor(_0x1d4dd6,_0x783a90){this['waMonit']=_0x1d4dd6,this['configService']=_0x783a90;}async['qrcode'](_0x1dfe44,_0x9018e9){const _0x3f0dc2=a0_0x5c767c;try{let _0x500060=_0x1dfe44[_0x3f0dc2(0x3c0)];if(this['waMonit'][_0x3f0dc2(0x634)][_0x500060['instanceName']][_0x3f0dc2(0x1a0)][_0x3f0dc2(0x3be)]==='open')throw new g('The\x20instance\x20is\x20already\x20connected');let _0x41dcd0=this[_0x3f0dc2(0x366)][_0x3f0dc2(0x3a1)](_0x3f0dc2(0x23d))['TYPE'];return _0x9018e9[_0x3f0dc2(0x34d)](0xc8)[_0x3f0dc2(0x21e)](_0x3f0dc2(0x7e),{'type':_0x41dcd0,..._0x500060});}catch(_0x180887){console[_0x3f0dc2(0x1ce)](_0x3f0dc2(0x48e),_0x180887);}}},Ut=class{constructor(_0x168f59){const _0x2250a9=a0_0x5c767c;this[_0x2250a9(0x4bc)]=_0x168f59;}['create'](_0x536d26,_0x41b042){const _0x2c63bd=a0_0x5c767c;return this[_0x2c63bd(0x4bc)][_0x2c63bd(0x634)][_0x536d26[_0x2c63bd(0x32d)]][_0x2c63bd(0x132)](_0x41b042);}async[a0_0x5c767c(0x504)](_0x13bd0c){const _0x39a8e3=a0_0x5c767c;try{return await this[_0x39a8e3(0x4bc)]['waInstances'][_0x13bd0c['instanceName']]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ad=new N('FlowController'),Vt=class{constructor(_0x6bd5ab){this['waMonitor']=_0x6bd5ab;}async['editScheduleMessage'](_0x185476,_0x15b898){const _0x4beb63=a0_0x5c767c;return await this[_0x4beb63(0x4bc)][_0x4beb63(0x634)][_0x185476[_0x4beb63(0x32d)]][_0x4beb63(0x5b6)](_0x15b898);}async[a0_0x5c767c(0x636)](_0x37dc5e){const _0x347378=a0_0x5c767c;return await this[_0x347378(0x4bc)][_0x347378(0x634)][_0x37dc5e[_0x347378(0x32d)]][_0x347378(0x636)]();}async[a0_0x5c767c(0x2d1)](_0x119c61){const _0x1cc5de=a0_0x5c767c;return await this[_0x1cc5de(0x4bc)][_0x1cc5de(0x634)][_0x119c61[_0x1cc5de(0x32d)]][_0x1cc5de(0x2d1)]();}async['getAutomateSystem'](_0x3ba97b){const _0x41fed7=a0_0x5c767c;return await this['waMonitor'][_0x41fed7(0x634)][_0x3ba97b[_0x41fed7(0x32d)]][_0x41fed7(0x124)]();}async[a0_0x5c767c(0x1bf)](_0x2ca75b,_0x11264b){const _0x59d56a=a0_0x5c767c;return await this[_0x59d56a(0x4bc)][_0x59d56a(0x634)][_0x2ca75b[_0x59d56a(0x32d)]][_0x59d56a(0x1bf)](_0x11264b);}async['updateCustomFields'](_0x6faec5,_0x1888ea){const _0x4a2ee8=a0_0x5c767c;return await this[_0x4a2ee8(0x4bc)][_0x4a2ee8(0x634)][_0x6faec5['instanceName']][_0x4a2ee8(0x5b7)](_0x1888ea);}async[a0_0x5c767c(0x3bf)](_0x1e5eaa,_0x1a5776){const _0x43f9fd=a0_0x5c767c;return await this['waMonitor'][_0x43f9fd(0x634)][_0x1e5eaa[_0x43f9fd(0x32d)]]['updateFlowConfig'](_0x1a5776);}async[a0_0x5c767c(0x60e)](_0x20d3ca,_0x1f0eaa){const _0x24ac6e=a0_0x5c767c;return await this['waMonitor'][_0x24ac6e(0x634)][_0x20d3ca[_0x24ac6e(0x32d)]]['startFlow'](_0x1f0eaa);}async[a0_0x5c767c(0x40e)](_0x159d04,_0x160849){const _0x36c3f0=a0_0x5c767c;return await this[_0x36c3f0(0x4bc)][_0x36c3f0(0x634)][_0x159d04[_0x36c3f0(0x32d)]][_0x36c3f0(0x40e)](_0x160849);}async[a0_0x5c767c(0x276)](_0x588bdb,_0x24ec69){const _0x43e17b=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x588bdb[_0x43e17b(0x32d)]]['fetchConversation'](_0x24ec69);}async[a0_0x5c767c(0x610)](_0x458f02,_0xc288ac){const _0x1df6b3=a0_0x5c767c;return await this[_0x1df6b3(0x4bc)][_0x1df6b3(0x634)][_0x458f02[_0x1df6b3(0x32d)]][_0x1df6b3(0x610)](_0xc288ac);}async['deleteConversation'](_0x25beb9,_0x54341a){const _0x11cd40=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x25beb9[_0x11cd40(0x32d)]]['deleteConversation'](_0x54341a);}async[a0_0x5c767c(0x35e)](_0x585983,_0x5db2f8){const _0x361ff3=a0_0x5c767c;return await this['waMonitor'][_0x361ff3(0x634)][_0x585983['instanceName']][_0x361ff3(0x35e)](_0x5db2f8[_0x361ff3(0x259)]);}async[a0_0x5c767c(0x58a)](_0x3d7928,_0x2e7651){const _0x12a8aa=a0_0x5c767c;return await this[_0x12a8aa(0x4bc)][_0x12a8aa(0x634)][_0x3d7928[_0x12a8aa(0x32d)]][_0x12a8aa(0x58a)](_0x2e7651);}async[a0_0x5c767c(0x2bb)](_0x192117,_0x1b7a86){const _0x4c05e4=a0_0x5c767c;return await this[_0x4c05e4(0x4bc)]['waInstances'][_0x192117[_0x4c05e4(0x32d)]][_0x4c05e4(0x2bb)](_0x1b7a86);}async['editFlowBlock'](_0x5e0eea,_0x3105d6){const _0x4fbb2a=a0_0x5c767c;return await this['waMonitor'][_0x4fbb2a(0x634)][_0x5e0eea['instanceName']]['editFlowBlock'](_0x3105d6);}async['editFlowReply'](_0x58badf,_0x314072){const _0x2d7179=a0_0x5c767c;return await this[_0x2d7179(0x4bc)][_0x2d7179(0x634)][_0x58badf[_0x2d7179(0x32d)]][_0x2d7179(0x22d)](_0x314072);}async['editFlowGroup'](_0x44f9b3,_0x374ca2){const _0x4f1cf6=a0_0x5c767c;return await this['waMonitor']['waInstances'][_0x44f9b3['instanceName']][_0x4f1cf6(0x2b2)](_0x374ca2);}async[a0_0x5c767c(0x649)](_0x4c183b,_0xfd2bbe){const _0x4a5f58=a0_0x5c767c;return await this[_0x4a5f58(0x4bc)][_0x4a5f58(0x634)][_0x4c183b[_0x4a5f58(0x32d)]][_0x4a5f58(0x649)](_0xfd2bbe);}async[a0_0x5c767c(0x3c6)](_0x4e69ed,_0x6a94e4){const _0x357ad8=a0_0x5c767c;return await this[_0x357ad8(0x4bc)][_0x357ad8(0x634)][_0x4e69ed['instanceName']][_0x357ad8(0x3c6)](_0x6a94e4);}async[a0_0x5c767c(0x4b5)](_0x53f998,_0x3f0ec8){const _0x3365db=a0_0x5c767c;return await this[_0x3365db(0x4bc)][_0x3365db(0x634)][_0x53f998[_0x3365db(0x32d)]][_0x3365db(0x4b5)](_0x3f0ec8);}async['deleteFlow'](_0x1f1b02,_0x17a783){const _0x567d76=a0_0x5c767c;return await this['waMonitor'][_0x567d76(0x634)][_0x1f1b02[_0x567d76(0x32d)]][_0x567d76(0x5ad)](_0x17a783['name']);}async[a0_0x5c767c(0x525)](_0x50f105){const _0xdc91df=a0_0x5c767c;return await this[_0xdc91df(0x4bc)][_0xdc91df(0x634)][_0x50f105[_0xdc91df(0x32d)]][_0xdc91df(0x525)]();}},jt=class{constructor(_0x335bd9){const _0x3b3ae3=a0_0x5c767c;this[_0x3b3ae3(0x5ee)]=_0x335bd9;}async['createWebhook'](_0x51aebc,_0xa2094d){const _0x5b4a20=a0_0x5c767c;return this[_0x5b4a20(0x5ee)]['create'](_0x51aebc,_0xa2094d);}async[a0_0x5c767c(0x4f8)](_0x69ede6){const _0x5f1455=a0_0x5c767c;return this[_0x5f1455(0x5ee)][_0x5f1455(0x504)](_0x69ede6);}},Ft=class{constructor(_0x364e50,_0x1d0e97,_0x291a6c,_0x47274a,_0x8dfcc5,_0x59963f){const _0x3cc6e3=a0_0x5c767c;this[_0x3cc6e3(0x273)]=_0x364e50,this[_0x3cc6e3(0x5bb)]=_0x1d0e97,this[_0x3cc6e3(0xad)]=_0x291a6c,this[_0x3cc6e3(0x3dd)]=_0x47274a,this[_0x3cc6e3(0x408)]=_0x8dfcc5,this[_0x3cc6e3(0x1cd)]=_0x59963f;}get[a0_0x5c767c(0xdb)](){const _0x3949aa=a0_0x5c767c;return this[_0x3949aa(0x1cd)];}},hs=require(a0_0x5c767c(0x444)),to=require('fs'),Bt=class extends W{constructor(_0x34864d,_0x2acf25){const _0x2c900a=a0_0x5c767c;super(_0x2acf25),this[_0x2c900a(0x5ea)]=_0x34864d,this[_0x2c900a(0x366)]=_0x2acf25;}async[a0_0x5c767c(0x1ab)](_0x3baae3,_0x148522){const _0x5a9535=a0_0x5c767c;try{return this[_0x5a9535(0x41a)]['ENABLED']?{'insertCount':(await this[_0x5a9535(0x5ea)][_0x5a9535(0xf8)]({'_id':_0x148522},{..._0x3baae3},{'upsert':!0x0}))['modifiedCount']}:(this[_0x5a9535(0x3c5)]({'path':(0x0,hs[_0x5a9535(0x361)])(this['storePath'],_0x5a9535(0x3dd)),'fileName':_0x148522,'data':_0x3baae3}),{'insertCount':0x1});}catch(_0x4b201a){return _0x4b201a;}}async[a0_0x5c767c(0x504)](_0x555309){const _0x5e1245=a0_0x5c767c;try{return this[_0x5e1245(0x41a)]['ENABLED']?await this[_0x5e1245(0x5ea)]['findOne']({'_id':_0x555309}):JSON[_0x5e1245(0x23c)]((0x0,to[_0x5e1245(0x4c9)])((0x0,hs[_0x5e1245(0x361)])(this['storePath'],_0x5e1245(0x3dd),_0x555309+_0x5e1245(0x154)),{'encoding':'utf-8'}));}catch{return{};}}},fs=require(a0_0x5c767c(0x444)),so=require('fs'),qt=class extends W{constructor(_0x2e6a6d,_0xcef335){const _0x16b625=a0_0x5c767c;super(_0xcef335),this[_0x16b625(0x619)]=_0x2e6a6d,this['configService']=_0xcef335,this['auth']=_0xcef335[_0x16b625(0x3a1)](_0x16b625(0x23d));}async[a0_0x5c767c(0x1ab)](_0x39e985,_0x240b35){const _0x4297b4=a0_0x5c767c;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this['authModel'][_0x4297b4(0xf8)]({'_id':_0x240b35},{..._0x39e985},{'upsert':!0x0}))[_0x4297b4(0x46f)]}:(this['writeStore']({'path':(0x0,fs[_0x4297b4(0x361)])(Gt,this[_0x4297b4(0x408)][_0x4297b4(0x58c)]),'fileName':_0x240b35,'data':_0x39e985}),{'insertCount':0x1});}catch(_0xd59551){return{'error':_0xd59551};}}async[a0_0x5c767c(0x504)](_0x467c58){const _0x4ed936=a0_0x5c767c;try{return this[_0x4ed936(0x41a)]['ENABLED']?await this[_0x4ed936(0x619)]['findOne']({'_id':_0x467c58}):JSON[_0x4ed936(0x23c)]((0x0,so[_0x4ed936(0x4c9)])((0x0,fs[_0x4ed936(0x361)])(Gt,this[_0x4ed936(0x408)][_0x4ed936(0x58c)],_0x467c58+'.json'),{'encoding':'utf-8'}));}catch{return{};}}},Wo=new N(a0_0x5c767c(0x4c0)),Ho=new xe(S),Ko=new Ot(S),zo=new We(S),Qo=new Bt(Fs,S),Yo=new qt(Us,S),le=new Ft(Ho,Ko,zo,Qo,Yo,M?.[a0_0x5c767c(0x2c1)]()),B=new _t(Kt,S,le),Xo=new rt(S,B,le),Zo=new Ut(B),ls=new jt(Zo),R=new Vt(B),ie=new xt(B,S,le,Kt,Xo),Fa=new Lt(B,S),K=new $t(B),D=new Pt(B),U=new kt(B);Wo[a0_0x5c767c(0x1c7)](a0_0x5c767c(0x130));var Xd=require(a0_0x5c767c(0xed)),ws=require('fs'),ao=T(require(a0_0x5c767c(0x618))),oo=T(require(a0_0x5c767c(0x5fb))),Re=class c{static #e;static set[a0_0x5c767c(0x5e7)](_0x164d8d){this.#e=_0x164d8d;}static get['https'](){const _0x255cdb=a0_0x5c767c;let {FULLCHAIN:_0x3cdbc2,PRIVKEY:_0x1b6cfd}=S['get'](_0x255cdb(0x2a8));return ao[_0x255cdb(0x5de)]({'cert':(0x0,ws[_0x255cdb(0x4c9)])(_0x3cdbc2),'key':(0x0,ws[_0x255cdb(0x4c9)])(_0x1b6cfd)},c.#e);}static get[a0_0x5c767c(0x5fb)](){const _0x58d8eb=a0_0x5c767c;return oo[_0x58d8eb(0x5de)](c.#e);}},pe=T(require('fs')),uo=T(require(a0_0x5c767c(0x35f))),Me=T(require(a0_0x5c767c(0x416))),Ie=T(require('path')),De=require(a0_0x5c767c(0x551));function er(){const _0x317b77=a0_0x5c767c;B[_0x317b77(0x4bb)]();let _0x53b42d=Ie[_0x317b77(0x6c)][_0x317b77(0x361)](__dirname,_0x317b77(0x45c));lo(_0x53b42d);}var lo=_0x57a500=>{const _0x4b7f4a=a0_0x5c767c;let _0x2a433c=pe[_0x4b7f4a(0x6c)]['readdirSync'](_0x57a500),_0x16a238=0xc*0x3c*0x3c*0x3e8,_0x243dad=0x2*0x3c*0x3c*0x3e8,_0x563fde=new Date()[_0x4b7f4a(0x70)]();_0x2a433c[_0x4b7f4a(0xeb)](_0x45c54b=>{const _0xaf6ffe=_0x4b7f4a;let _0x26a920=Ie[_0xaf6ffe(0x6c)][_0xaf6ffe(0x361)](_0x57a500,_0x45c54b),_0x47dc32=pe[_0xaf6ffe(0x6c)][_0xaf6ffe(0x15f)](_0x26a920)[_0xaf6ffe(0x25a)][_0xaf6ffe(0x70)]();_0x563fde-_0x47dc32>_0x16a238&&(pe[_0xaf6ffe(0x6c)][_0xaf6ffe(0x52f)](_0x26a920),console[_0xaf6ffe(0x1ce)](_0xaf6ffe(0x523)+_0x45c54b));}),setTimeout(()=>lo(_0x57a500),_0x243dad);};function tr(){const _0x3e3bd1=a0_0x5c767c;let _0x2e89b3=new N(_0x3e3bd1(0x4ac)),_0x1bf891=(0x0,ge[_0x3e3bd1(0x6c)])();_0x1bf891['use']((0x0,co[_0x3e3bd1(0x6c)])({'origin'(_0x421fbc,_0x4fb8c4){const _0x2a9bad=_0x3e3bd1;let {ORIGIN:_0xbf35a4}=S[_0x2a9bad(0x3a1)](_0x2a9bad(0x101));return _0x421fbc||(_0x421fbc='*'),_0xbf35a4[_0x2a9bad(0x61d)]('*')!==-0x1||_0xbf35a4[_0x2a9bad(0x61d)](_0x421fbc)!==-0x1?_0x4fb8c4(null,!0x0):_0x4fb8c4(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x3e3bd1(0x3a1)](_0x3e3bd1(0x101))[_0x3e3bd1(0xef)]],'credentials':S[_0x3e3bd1(0x3a1)]('CORS')[_0x3e3bd1(0x61c)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x3e3bd1(0xbb)}),(0x0,ge[_0x3e3bd1(0x176)])({'limit':_0x3e3bd1(0xbb)})),_0x1bf891[_0x3e3bd1(0x5a3)]((_0x5bd9d9,_0x5f2f21,_0x2da57f)=>{const _0x212a81=_0x3e3bd1;_0x5bd9d9[_0x212a81(0x444)]['startsWith']('/events')?_0x2da57f():(0x0,no['default'])()(_0x5bd9d9,_0x5f2f21,_0x2da57f);}),_0x1bf891['set'](_0x3e3bd1(0x62e),'hbs'),_0x1bf891['set'](_0x3e3bd1(0x44f),(0x0,bs[_0x3e3bd1(0x361)])(Q,'views')),_0x1bf891['use'](ge['default'][_0x3e3bd1(0x129)]((0x0,bs[_0x3e3bd1(0x361)])(Q,_0x3e3bd1(0x5a5)))),_0x1bf891[_0x3e3bd1(0x5a3)]((_0x4d6450,_0x4558a5,_0x46d876)=>{const _0x5e0fd3=_0x3e3bd1;let _0x22128e=_0x4558a5[_0x5e0fd3(0x2df)];_0x4558a5[_0x5e0fd3(0x2df)]=function(_0x228fe0){const _0x5669f8=_0x5e0fd3;if(_0x4d6450[_0x5669f8(0x20a)][_0x5669f8(0x45d)]===_0x5669f8(0x5d1)||_0x4d6450['headers'][_0x5669f8(0x427)]===_0x5669f8(0x5d1)){let _0x15d96b=JSON[_0x5669f8(0x23c)](_0x228fe0);_0x228fe0=JSON[_0x5669f8(0x274)](_0x47defe(_0x15d96b));}return _0x22128e[_0x5669f8(0x580)](_0x4558a5,[_0x228fe0]);},_0x46d876();}),_0x1bf891['use']('/',vt),_0x1bf891[_0x3e3bd1(0x5a3)]((_0x2c0559,_0x5d1bbc,_0x277a12,_0x4badea)=>{const _0x471698=_0x3e3bd1;if(_0x2c0559)return _0x277a12[_0x471698(0x34d)](_0x2c0559[_0x471698(0x34d)]||0x1f4)['json'](_0x2c0559);},(_0x49c48d,_0x3d95e6,_0x407d47)=>{const _0x46658d=_0x3e3bd1;let {method:_0x20efb5,url:_0x16c52b}=_0x49c48d;_0x3d95e6[_0x46658d(0x34d)](0x194)[_0x46658d(0x176)]({'status':0x194,'message':'Cannot\x20'+_0x20efb5['toUpperCase']()+'\x20'+_0x16c52b,'error':_0x46658d(0x478)}),_0x407d47();});let _0x47defe=(_0x2bf238,_0x21e027=_0x3e3bd1(0x84))=>{const _0x2c2930=_0x3e3bd1;let _0x497340=(_0x3a28c7,_0x1b29ab=null,_0x12d253=!0x1)=>{const _0xbf6d9b=a0_0x277c;let _0x2b03f2={};return Object[_0xbf6d9b(0x363)](_0x3a28c7)[_0xbf6d9b(0xeb)](_0x3c6c20=>{const _0x41a64f=_0xbf6d9b;let _0x43bfbd=_0x3a28c7[_0x3c6c20],_0x262a1c=''+_0x21e027+_0x3c6c20;_0x1b29ab&&!_0x12d253&&(_0x262a1c=_0x1b29ab+'.'+_0x3c6c20),!_0x43bfbd&&_0x43bfbd!==0x0&&_0x43bfbd!==!0x1||typeof _0x43bfbd>'u'?_0x2b03f2[_0x262a1c]=null:typeof _0x43bfbd!='object'&&!Array['isArray'](_0x43bfbd)?_0x2b03f2[_0x262a1c]=_0x43bfbd:typeof _0x43bfbd==_0x41a64f(0x230)&&!Array[_0x41a64f(0x597)](_0x43bfbd)?_0x2b03f2=Object[_0x41a64f(0x15a)](_0x2b03f2,_0x497340(_0x43bfbd,_0x262a1c)):Array[_0x41a64f(0x597)](_0x43bfbd)&&(typeof _0x43bfbd[0x0]==_0x41a64f(0x230)?(_0x2b03f2[_0x262a1c]=[],_0x43bfbd[_0x41a64f(0xeb)](_0x584494=>{const _0x7ed4e0=_0x41a64f;_0x2b03f2[_0x262a1c][_0x7ed4e0(0x36a)](_0x497340(_0x584494,_0x262a1c,!0x0));})):_0x2b03f2[_0x262a1c]=_0x43bfbd);}),_0x2b03f2;};return Array[_0x2c2930(0x597)](_0x2bf238)?_0x2bf238['map'](_0x258491=>_0x497340(_0x258491)):typeof _0x2bf238=='object'&&_0x2bf238!==null?_0x497340(_0x2bf238):{};},_0x23ab54=S[_0x3e3bd1(0x3a1)](_0x3e3bd1(0x4ac));Re[_0x3e3bd1(0x5e7)]=_0x1bf891;let _0x2f38d6=Re[_0x23ab54['TYPE']],_0x3c0de4=_0x3e3bd1(0x3bc);_0x2f38d6[_0x3e3bd1(0x4ba)](_0x23ab54['PORT'],()=>{const _0x10c800=_0x3e3bd1;_0x2e89b3[_0x10c800(0x1ce)](_0x3c0de4),_0x2e89b3[_0x10c800(0x1ce)](_0x23ab54[_0x10c800(0x58c)][_0x10c800(0x3a8)]()+_0x10c800(0x3e7)+_0x23ab54[_0x10c800(0x526)]);}),er(),Ds();}var sr=a0_0x5c767c(0x533),ar=Ie[a0_0x5c767c(0x6c)][a0_0x5c767c(0x361)](__dirname,a0_0x5c767c(0x33a)),Ae=null;function or(){return new Promise((_0x420b4f,_0x2c117c)=>{const _0x33e715=a0_0x277c;pe[_0x33e715(0x6c)][_0x33e715(0x2fd)](ar,'utf-8',(_0x175bf1,_0x293663)=>{const _0x428188=_0x33e715;if(_0x175bf1){Ae=_0x175bf1,_0x420b4f();return;}uo[_0x428188(0x6c)][_0x428188(0x23c)](_0x293663)[_0x428188(0x37e)][_0x428188(0x367)]===sr?(Ae=null,_0x420b4f()):(Ae=new Error(_0x428188(0x38b)),_0x420b4f());});});}async function rr(){const _0x109d87=a0_0x5c767c;try{await or(),await Ss();}catch(_0x2f1932){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x2f1932),process[_0x109d87(0x59c)](0x1);}}rr();async function po(){const _0x4cfd89=a0_0x5c767c;let _0x198f8f;try{_0x198f8f=(await Me['default'][_0x4cfd89(0x3a1)](_0x4cfd89(0x2da)))['data']['ip'];}catch(_0x4fda26){console[_0x4cfd89(0x9a)](_0x4fda26);try{_0x198f8f=(await Me[_0x4cfd89(0x6c)][_0x4cfd89(0x3a1)](_0x4cfd89(0x630)))[_0x4cfd89(0x531)]['ip'];}catch(_0x491e81){console[_0x4cfd89(0x9a)](_0x491e81);try{_0x198f8f=(await Me[_0x4cfd89(0x6c)]['get'](_0x4cfd89(0x360)))[_0x4cfd89(0x531)][_0x4cfd89(0x58e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3e69f2){return console[_0x4cfd89(0x9a)](_0x3e69f2),!0x1;}}}return _0x198f8f;}var ro=0x0;async function ir(){const _0x3c4ad1=a0_0x5c767c;let _0x4505eb=await new ne(S[_0x3c4ad1(0x3a1)]('REDIS'))[_0x3c4ad1(0x12c)]();return console['log'](_0x3c4ad1(0x644),_0x4505eb['length']),_0x4505eb[_0x3c4ad1(0x44d)];}async function nr(){const _0x4472=a0_0x5c767c;let _0x1d1c7e=S[_0x4472(0x3a1)](_0x4472(0x2c4)),_0x54b139=S[_0x4472(0x3a1)]('AUTHENTICATION')['API_KEY'][_0x4472(0x30b)],_0x4c57b5=S[_0x4472(0x3a1)]('SSL_CONF'),_0x56eae6=await po(),_0x323409=S[_0x4472(0x3a1)](_0x4472(0x4ac))[_0x4472(0x526)];try{let _0x547dab={'ip':_0x56eae6||null,'redis_enable':_0x1d1c7e?.[_0x4472(0x168)]||null,'apikey':_0x54b139||null,'ssl':_0x4c57b5?.[_0x4472(0x440)]||null,'lastupdate':go||null,'port':_0x323409||null,'gitInstallError':Ae?.[_0x4472(0x273)]||null};if(console[_0x4472(0x1ce)](_0x4472(0x5eb),_0x547dab['ip']),_0x1d1c7e&&_0x1d1c7e[_0x4472(0x168)]){let _0x1abeec=await ir();_0x547dab['instanceCount']=_0x1abeec||null;}for(let _0x19693e in _0x547dab)_0x547dab[_0x4472(0x1d0)](_0x19693e)&&_0x19693e!=='ip'&&(_0x547dab[_0x19693e]=JSON[_0x4472(0x274)](_0x547dab[_0x19693e]));return(await Me['default'][_0x4472(0x1e9)](_0x4472(0x31e),_0x547dab))[_0x4472(0x531)];}catch(_0x19ccf2){return console['error'](_0x19ccf2),!0x1;}}var ys=!0x1,go=0x211,cr=0x3,io=0x1b7740;async function Ss(){const _0x267301=a0_0x5c767c;if(!await po())return console[_0x267301(0x9a)](_0x267301(0x110)),_0x267301(0x24c);let _0x5055f9=await nr();if(_0x5055f9){if(_0x5055f9['response'][_0x267301(0x3e1)]===!0x0){S[_0x267301(0x3a1)](_0x267301(0x2a8))[_0x267301(0x440)][_0x267301(0x3a7)](_0x267301(0x2c5))&&_0x5055f9[_0x267301(0x102)][_0x267301(0x575)]&&(await dr(_0x5055f9[_0x267301(0x102)][_0x267301(0x575)],ur),await pr(_0x267301(0x141),_0x5055f9[_0x267301(0x102)][_0x267301(0x575)]),console['log'](_0x267301(0x3f6)),setTimeout(()=>mr(),0x2710)),Ae===null&&_0x5055f9[_0x267301(0x102)]['last_update']-go>0x0&&await lr(),ys||(ys=!0x0,tr());let _0x2ea492=0x24*0x3c*0x3c,_0x59a722=_0x5055f9[_0x267301(0x102)]['segundos']>_0x2ea492?_0x2ea492:_0x5055f9[_0x267301(0x102)][_0x267301(0x184)],_0x33a1e9=Number(_0x59a722);if(isNaN(_0x33a1e9)){console['error'](_0x267301(0x5b4));return;}let _0x5867ea=Math['floor'](_0x33a1e9/0xe10),_0x5b103a=Math[_0x267301(0x46e)](_0x33a1e9%0xe10/0x3c),_0x33e11f=new Date(Date['now']()+_0x33a1e9*0x3e8);setTimeout(Ss,_0x33a1e9*0x3e8);let _0x3757e9=_0x6b65c=>_0x6b65c['toString']()[_0x267301(0x170)](0x2,'0'),_0x8aae22=_0x267301(0x33b)+_0x3757e9(_0x5867ea)+_0x267301(0x29a)+_0x3757e9(_0x5b103a)+_0x267301(0x31d)+_0x3757e9(_0x33e11f['getHours']())+':'+_0x3757e9(_0x33e11f[_0x267301(0x1bd)]())+'.';console['log'](_0x8aae22);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),ys&&(console[_0x267301(0x1ce)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x267301(0x59c)]()),_0x267301(0x2ed);}else{if(ro++,ro<cr)console[_0x267301(0x1ce)](_0x267301(0x1ba)+io/0xea60+_0x267301(0xae)),setTimeout(Ss,io);else return console[_0x267301(0x9a)](_0x267301(0x2e8)),_0x267301(0x2ba);}}async function lr(){const _0x4f0942=a0_0x5c767c;console[_0x4f0942(0x1ce)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x222f75=(0x0,De[_0x4f0942(0x52a)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x222f75[_0x4f0942(0x365)]['on'](_0x4f0942(0x531),_0x414727=>{const _0x482f42=_0x4f0942;console[_0x482f42(0x1ce)](_0x482f42(0x5fc)+_0x414727);}),_0x222f75[_0x4f0942(0x291)]['on']('data',_0x30ebd5=>{const _0x58bb9b=_0x4f0942;console['error'](_0x58bb9b(0x355)+_0x30ebd5);}),_0x222f75['on'](_0x4f0942(0x59c),_0x3f8cc1=>{const _0x71cac5=_0x4f0942;_0x3f8cc1!==0x0?console['error'](_0x71cac5(0x311)+_0x3f8cc1):console[_0x71cac5(0x1ce)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x71cac5(0x1d5)),setTimeout(()=>process[_0x71cac5(0x59c)](),0x2710);});}var ur=Ie[a0_0x5c767c(0x6c)][a0_0x5c767c(0x361)](__dirname,a0_0x5c767c(0x3cc));async function dr(_0x2eba3a,_0x37002a){const _0x25255e=a0_0x5c767c;let _0x22c5a4=gr();_0x2eba3a=_0x2eba3a[_0x25255e(0x8d)](_0x25255e(0x134),'');try{let _0x499e52=pe[_0x25255e(0x6c)][_0x25255e(0x4c9)](_0x37002a,_0x25255e(0x595));_0x499e52=_0x499e52[_0x25255e(0x8d)](/<apikey>/,_0x22c5a4),_0x499e52=_0x499e52['replace'](/<subdomain>/g,_0x2eba3a),pe[_0x25255e(0x6c)][_0x25255e(0x186)](_0x37002a,_0x499e52,'utf8'),console[_0x25255e(0x1ce)](_0x25255e(0x20f));}catch(_0x27171a){console[_0x25255e(0x9a)](_0x25255e(0xdd),_0x27171a);}}function pr(_0x571221,_0x2f4b57){return new Promise((_0x5ec132,_0x58814d)=>{const _0x3eef1e=a0_0x277c;let _0x1ce81d=(0x0,De['spawn'])(_0x3eef1e(0x25d),['certonly',_0x3eef1e(0x243),'-m',_0x571221,_0x3eef1e(0x62d),'-d',_0x2f4b57]);_0x1ce81d[_0x3eef1e(0x365)]['on']('data',_0x4a7824=>{const _0x4363fa=_0x3eef1e;console[_0x4363fa(0x1ce)](_0x4363fa(0x11c)+_0x4a7824[_0x4363fa(0x2d6)]());}),_0x1ce81d[_0x3eef1e(0x291)]['on']('data',_0x4973f0=>{const _0x1c6613=_0x3eef1e;console[_0x1c6613(0x9a)](_0x1c6613(0x621)+_0x4973f0[_0x1c6613(0x2d6)]());}),_0x1ce81d['on']('close',_0x4cb104=>{const _0x412b83=_0x3eef1e;_0x4cb104!==0x0?(console[_0x412b83(0x9a)](_0x412b83(0x5b8)+_0x4cb104),_0x58814d(_0x412b83(0x5b8)+_0x4cb104)):(console['log'](_0x412b83(0xf5)),_0x5ec132());});});}function a0_0x277c(_0x57af73,_0x17a45e){const _0x35b3cd=a0_0x35b3();return a0_0x277c=function(_0x277c90,_0x2992d6){_0x277c90=_0x277c90-0x64;let _0x13359a=_0x35b3cd[_0x277c90];return _0x13359a;},a0_0x277c(_0x57af73,_0x17a45e);}function gr(_0x33880b=0x32){const _0x4731f5=a0_0x5c767c;let _0x1220b9=_0x4731f5(0x2e4),_0x1e16cd='';for(let _0x1cd2bf=0x0;_0x1cd2bf<_0x33880b;_0x1cd2bf++)_0x1e16cd+=_0x1220b9['charAt'](Math[_0x4731f5(0x46e)](Math['random']()*_0x1220b9[_0x4731f5(0x44d)]));return _0x1e16cd;}function mr(){const _0x2de44a=a0_0x5c767c;(0x0,De[_0x2de44a(0x2db)])('shutdown\x20-r\x20now',(_0xb35efe,_0x511310,_0x88f255)=>{const _0x3aece0=_0x2de44a;if(_0xb35efe){console[_0x3aece0(0x9a)](_0x3aece0(0x370)+_0xb35efe);return;}if(_0x88f255){console[_0x3aece0(0x9a)](_0x3aece0(0x570)+_0x88f255);return;}console[_0x3aece0(0x1ce)]('Reinicialização\x20iniciada:\x20'+_0x511310);});}