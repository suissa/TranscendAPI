const a0_0x374876=a0_0x2a44;(function(_0x1525bf,_0x409bfe){const _0x8462eb=a0_0x2a44,_0x1bb00a=_0x1525bf();while(!![]){try{const _0x285c44=parseInt(_0x8462eb(0x513))/0x1*(-parseInt(_0x8462eb(0x681))/0x2)+parseInt(_0x8462eb(0x6ec))/0x3*(-parseInt(_0x8462eb(0x2a3))/0x4)+parseInt(_0x8462eb(0x17a))/0x5*(parseInt(_0x8462eb(0x6d4))/0x6)+-parseInt(_0x8462eb(0x4bb))/0x7+-parseInt(_0x8462eb(0x4b7))/0x8*(-parseInt(_0x8462eb(0x176))/0x9)+parseInt(_0x8462eb(0x10c))/0xa*(-parseInt(_0x8462eb(0x150))/0xb)+parseInt(_0x8462eb(0x6d8))/0xc*(parseInt(_0x8462eb(0x3f1))/0xd);if(_0x285c44===_0x409bfe)break;else _0x1bb00a['push'](_0x1bb00a['shift']());}catch(_0x2039ce){_0x1bb00a['push'](_0x1bb00a['shift']());}}}(a0_0x4def,0x5e139));var Pr=Object[a0_0x374876(0x37a)],Ie=Object[a0_0x374876(0x1e8)],$r=Object[a0_0x374876(0x6b2)],kr=Object[a0_0x374876(0x1a5)],Lr=Object['getPrototypeOf'],Fr=Object[a0_0x374876(0x467)][a0_0x374876(0x196)],jr=(_0x5bdf17,_0x54dd5b)=>{for(var _0x174928 in _0x54dd5b)Ie(_0x5bdf17,_0x174928,{'get':_0x54dd5b[_0x174928],'enumerable':!0x0});},_s=(_0x41d445,_0x53c9cd,_0x3a89fc,_0x268373)=>{const _0x2732b5=a0_0x374876;if(_0x53c9cd&&typeof _0x53c9cd==_0x2732b5(0x6a3)||typeof _0x53c9cd==_0x2732b5(0x1a9)){for(let _0xecae of kr(_0x53c9cd))!Fr[_0x2732b5(0x3fb)](_0x41d445,_0xecae)&&_0xecae!==_0x3a89fc&&Ie(_0x41d445,_0xecae,{'get':()=>_0x53c9cd[_0xecae],'enumerable':!(_0x268373=$r(_0x53c9cd,_0xecae))||_0x268373['enumerable']});}return _0x41d445;},T=(_0x42da59,_0x14fefc,_0x2b38f3)=>(_0x2b38f3=_0x42da59!=null?Pr(Lr(_0x42da59)):{},_s(_0x14fefc||!_0x42da59||!_0x42da59[a0_0x374876(0x16f)]?Ie(_0x2b38f3,a0_0x374876(0x701),{'value':_0x42da59,'enumerable':!0x0}):_0x2b38f3,_0x42da59)),Ur=_0x2c435a=>_s(Ie({},'__esModule',{'value':!0x0}),_0x2c435a),Hi={};function a0_0x2a44(_0x4c5cb5,_0x49167f){const _0x4def89=a0_0x4def();return a0_0x2a44=function(_0x2a44b0,_0xe4d083){_0x2a44b0=_0x2a44b0-0xb7;let _0x7346c3=_0x4def89[_0x2a44b0];return _0x7346c3;},a0_0x2a44(_0x4c5cb5,_0x49167f);}jr(Hi,{'subdomain':()=>Rs}),module[a0_0x374876(0x553)]=Ur(Hi);var Or=T(require(a0_0x374876(0x13a))),$s=require('fs'),ks=require(a0_0x374876(0x4ca)),Ls=require(a0_0x374876(0x64d)),xe=require(a0_0x374876(0x64d)),se=process[a0_0x374876(0x44b)](),ge=(0x0,xe[a0_0x374876(0x679)])(se,a0_0x374876(0x5be)),Ps=(0x0,xe['join'])(se,a0_0x374876(0x62f)),Vo=(0x0,xe[a0_0x374876(0x679)])(se,'store','auth'),es=class{constructor(){const _0x314ba8=a0_0x374876;this[_0x314ba8(0x303)]();}[a0_0x374876(0x34c)](_0x2b6b99){const _0x4835d5=a0_0x374876;return this[_0x4835d5(0x1a4)][_0x2b6b99];}[a0_0x374876(0x303)](){const _0x24903a=a0_0x374876;this[_0x24903a(0x1a4)]=process['env']?.[_0x24903a(0x181)]!==_0x24903a(0x16a)?this[_0x24903a(0x33f)]():this[_0x24903a(0x588)](),process[_0x24903a(0x1a4)]?.[_0x24903a(0x181)]===_0x24903a(0x16a)&&(this[_0x24903a(0x1a4)][_0x24903a(0x543)][_0x24903a(0x74d)]=_0x24903a(0xf3),this[_0x24903a(0x1a4)][_0x24903a(0x543)][_0x24903a(0x64f)]=Number[_0x24903a(0x663)](process[_0x24903a(0x1a4)]?.[_0x24903a(0x61c)]??'8080'));}['envYaml'](){const _0x3d29a8=a0_0x374876;return(0x0,ks[_0x3d29a8(0x331)])((0x0,$s[_0x3d29a8(0x378)])((0x0,Ls['join'])(Ps,_0x3d29a8(0x6c3)),{'encoding':_0x3d29a8(0x33d)}));}[a0_0x374876(0x588)](){const _0x510913=a0_0x374876;return{'SERVER':{'TYPE':process[_0x510913(0x1a4)][_0x510913(0xf6)],'PORT':Number[_0x510913(0x663)](process[_0x510913(0x1a4)][_0x510913(0x61c)]),'URL':process[_0x510913(0x1a4)]['SERVER_URL']},'CORS':{'ORIGIN':process['env'][_0x510913(0x509)]['split'](','),'METHODS':process[_0x510913(0x1a4)][_0x510913(0x70d)][_0x510913(0x443)](','),'CREDENTIALS':process[_0x510913(0x1a4)]?.[_0x510913(0xdd)]===_0x510913(0x16a)},'SSL_CONF':{'PRIVKEY':process[_0x510913(0x1a4)]?.[_0x510913(0x39f)],'FULLCHAIN':process[_0x510913(0x1a4)]?.[_0x510913(0x6f8)]},'STORE':{'CLEANING_INTERVAL':Number[_0x510913(0x690)](process[_0x510913(0x1a4)]?.[_0x510913(0x33e)])?Number['parseInt'](process[_0x510913(0x1a4)][_0x510913(0x33e)]):void 0x0,'MESSAGES':process[_0x510913(0x1a4)]?.[_0x510913(0x103)]==='true','CONTACTS':process[_0x510913(0x1a4)]?.['STORE_CONTACTS']===_0x510913(0x16a),'CHATS':process['env']?.[_0x510913(0x36a)]===_0x510913(0x16a)},'DATABASE':{'CONNECTION':{'HOST':process[_0x510913(0x1a4)]?.[_0x510913(0x3a4)],'PORT':Number[_0x510913(0x663)](process[_0x510913(0x1a4)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env'][_0x510913(0x2d9)],'PASSWORD':process[_0x510913(0x1a4)][_0x510913(0x627)],'URI':process[_0x510913(0x1a4)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x510913(0x4f8)]},'ENABLED':process[_0x510913(0x1a4)]?.[_0x510913(0x232)]==='true'},'REDIS':{'ENABLED':process[_0x510913(0x1a4)]?.[_0x510913(0x370)]===_0x510913(0x16a),'URI':process[_0x510913(0x1a4)]['REDIS_URI']||_0x510913(0x59d),'PREFIX_KEY':process[_0x510913(0x1a4)][_0x510913(0x120)]||_0x510913(0x3a2)},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x510913(0x443)](','),'COLOR':process[_0x510913(0x1a4)]?.['LOG_COLOR']===_0x510913(0x16a)},'PROXY':Number[_0x510913(0x663)](process[_0x510913(0x1a4)]?.[_0x510913(0x20b)]),'AUTHENTICATION':{'TYPE':process[_0x510913(0x1a4)][_0x510913(0x4be)],'API_KEY':{'KEY':process[_0x510913(0x1a4)][_0x510913(0x673)]},'JWT':{'EXPIRIN_IN':Number[_0x510913(0x690)](process[_0x510913(0x1a4)]?.[_0x510913(0x2aa)])?Number['parseInt'](process[_0x510913(0x1a4)][_0x510913(0x2aa)]):0xe10,'SECRET':process[_0x510913(0x1a4)][_0x510913(0x542)]}}};}},b=new es(),Ar=T(require('cors')),pe=T(require(a0_0x374876(0x47a))),xs=require('path'),ts=T(require('dayjs')),ss=(_0x44e984=>(_0x44e984[a0_0x374876(0x207)]=a0_0x374876(0x24f),_0x44e984['INFO']='\x1b[34m',_0x44e984[a0_0x374876(0x397)]=a0_0x374876(0x39e),_0x44e984[a0_0x374876(0x58e)]='\x1b[31m',_0x44e984['DEBUG']=a0_0x374876(0x243),_0x44e984['VERBOSE']=a0_0x374876(0x6ce),_0x44e984[a0_0x374876(0x438)]=a0_0x374876(0x1e5),_0x44e984))(ss||{}),Fs=(_0x1954b8=>(_0x1954b8[a0_0x374876(0x207)]=a0_0x374876(0x6f3),_0x1954b8[a0_0x374876(0x438)]=a0_0x374876(0x5f4),_0x1954b8[a0_0x374876(0x323)]='\x1b[34m%s\x1b[0m',_0x1954b8[a0_0x374876(0x397)]=a0_0x374876(0x42b),_0x1954b8[a0_0x374876(0x58e)]=a0_0x374876(0x14b),_0x1954b8[a0_0x374876(0x538)]='\x1b[36m%s\x1b[0m',_0x1954b8['VERBOSE']=a0_0x374876(0x5cd),_0x1954b8))(Fs||{}),js=(_0x195c1d=>(_0x195c1d[a0_0x374876(0x207)]=a0_0x374876(0x207),_0x195c1d['WARN']=a0_0x374876(0x397),_0x195c1d[a0_0x374876(0x323)]=a0_0x374876(0x323),_0x195c1d[a0_0x374876(0x438)]='DARK',_0x195c1d['ERROR']=a0_0x374876(0x58e),_0x195c1d['DEBUG']=a0_0x374876(0x538),_0x195c1d[a0_0x374876(0x54a)]=a0_0x374876(0x54a),_0x195c1d))(js||{}),Us=(_0xef5049=>(_0xef5049[a0_0x374876(0x207)]=a0_0x374876(0x24b),_0xef5049[a0_0x374876(0x323)]=a0_0x374876(0x267),_0xef5049[a0_0x374876(0x397)]='\x1b[43m',_0xef5049[a0_0x374876(0x438)]=a0_0x374876(0x2c7),_0xef5049[a0_0x374876(0x58e)]=a0_0x374876(0x48e),_0xef5049[a0_0x374876(0x538)]=a0_0x374876(0x371),_0xef5049['VERBOSE']=a0_0x374876(0x141),_0xef5049))(Us||{}),N=class{constructor(_0x1a6472=a0_0x374876(0xcd)){const _0x13a964=a0_0x374876;this['context']=_0x1a6472,this[_0x13a964(0x5c8)]=b;}[a0_0x374876(0x2c6)](_0x2d3bb9){const _0x2ff212=a0_0x374876;this[_0x2ff212(0x1dc)]=_0x2d3bb9;}['console'](_0x421cbf,_0x43bec3){const _0x174c59=a0_0x374876;let _0x497912=[];this[_0x174c59(0x5c8)]['get'](_0x174c59(0x207))[_0x174c59(0x743)][_0x174c59(0x489)](_0x3f3052=>_0x497912['push'](js[_0x3f3052]));let _0x206d13=typeof _0x421cbf;_0x497912[_0x174c59(0xea)](_0x43bec3)&&(b[_0x174c59(0x34c)](_0x174c59(0x207))[_0x174c59(0x72e)]?(console[_0x174c59(0x201)](_0x174c59(0x46d)+Fs[_0x43bec3],'\x1b[1m\x1b[37m',(0x0,ts['default'])()[_0x174c59(0xe1)](_0x174c59(0xe3)),_0x174c59(0xba),ss[_0x43bec3]+Us[_0x43bec3]+_0x174c59(0x46d),_0x43bec3+_0x174c59(0xb7),_0x174c59(0x137),this[_0x174c59(0x1dc)]+_0x174c59(0xba),ss[_0x43bec3],_0x206d13!==_0x174c59(0x6a3)?_0x421cbf:'',_0x174c59(0xba)),_0x206d13===_0x174c59(0x6a3)&&console[_0x174c59(0x201)](_0x421cbf,'\x0a')):console['log']((0x0,ts['default'])()[_0x174c59(0xe1)](_0x174c59(0x713)),_0x43bec3+'\x20',''+this[_0x174c59(0x1dc)],_0x421cbf));}[a0_0x374876(0x201)](_0xe7eb64){const _0x26deed=a0_0x374876;this[_0x26deed(0x727)](_0xe7eb64,'LOG');}[a0_0x374876(0x6ef)](_0x1f15de){const _0x419a5e=a0_0x374876;this[_0x419a5e(0x727)](_0x1f15de,_0x419a5e(0x323));}[a0_0x374876(0x10f)](_0x5f9cba){const _0xae6503=a0_0x374876;this[_0xae6503(0x727)](_0x5f9cba,_0xae6503(0x397));}[a0_0x374876(0x32e)](_0x11fcd7){const _0x1518b9=a0_0x374876;this['console'](_0x11fcd7,_0x1518b9(0x58e));}[a0_0x374876(0xc1)](_0x2e65d){const _0x2085aa=a0_0x374876;this[_0x2085aa(0x727)](_0x2e65d,_0x2085aa(0x54a));}[a0_0x374876(0x1b5)](_0x4b9902){const _0x1aea23=a0_0x374876;this[_0x1aea23(0x727)](_0x4b9902,_0x1aea23(0x538));}['dark'](_0x2321e6){const _0x408c32=a0_0x374876;this['console'](_0x2321e6,_0x408c32(0x438));}};function qs(){const _0x28e2d8=a0_0x374876;process['on'](_0x28e2d8(0x491),(_0x4b6907,_0x2daa9b)=>{const _0x59a7c7=_0x28e2d8;new N('uncaughtException')['error']({'origin':_0x2daa9b,'stderr':process[_0x59a7c7(0x18c)]['fd'],'error':_0x4b6907});}),process['on'](_0x28e2d8(0x737),(_0x3edccd,_0x11cec7)=>{const _0x53f5df=_0x28e2d8;new N(_0x53f5df(0x737))[_0x53f5df(0x32e)]({'origin':_0x11cec7,'stderr':process['stderr']['fd'],'error':_0x3edccd});});}var Js=T(require(a0_0x374876(0x289))),as=new Js[(a0_0x374876(0x701))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x374876(0x6e9)),rs=T(require(a0_0x374876(0x6e9))),qr=new N('Db\x20Connection'),J=b[a0_0x374876(0x34c)](a0_0x374876(0x326)),R=J[a0_0x374876(0x258)]?J['CONNECTION'][a0_0x374876(0x2bb)]?rs[a0_0x374876(0x701)][a0_0x374876(0x745)](J[a0_0x374876(0x6cf)][a0_0x374876(0x2bb)],{'dbName':J['CONNECTION'][a0_0x374876(0x638)]+a0_0x374876(0x2df)}):rs['default'][a0_0x374876(0x745)](a0_0x374876(0x499)+J[a0_0x374876(0x6cf)]['HOST']+':'+J[a0_0x374876(0x6cf)][a0_0x374876(0x64f)]+a0_0x374876(0x548),{'user':J[a0_0x374876(0x6cf)][a0_0x374876(0x544)],'pass':J['CONNECTION']['PASSWORD'],'dbName':J[a0_0x374876(0x6cf)]['DB_PREFIX_NAME']+a0_0x374876(0x2df)}):null;J[a0_0x374876(0x258)]&&qr[a0_0x374876(0x6ef)](a0_0x374876(0x42f)+R['$dbName']);var Jr=new De[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De[(a0_0x374876(0x106))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x512777=>{const _0x588321=a0_0x374876;let _0x4d8fb9='z_'+_0x512777+_0x588321(0x636);return R?.[_0x588321(0x316)](_0x588321(0x1ae),Br,_0x4d8fb9);},Bs=require(a0_0x374876(0x6e9)),Gr=new Bs[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x2e8de1=>{const _0x177af1=a0_0x374876;let _0xce77df='z_'+_0x2e8de1+_0x177af1(0x247);return R?.[_0x177af1(0x316)](_0x177af1(0x35f),Gr,_0xce77df);},Ws=require(a0_0x374876(0x6e9)),Wr=new Ws[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x3f2f33=>{let _0x578823='z_'+_0x3f2f33+'_Messages';return R?.['model']('MessageModel',Wr,_0x578823);},Hs=require(a0_0x374876(0x6e9)),is=class{},zr=new Hs[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.[a0_0x374876(0x316)](is[a0_0x374876(0x2f4)],zr,a0_0x374876(0x625)),Qs=require(a0_0x374876(0x6e9)),os=class{},Ys=new Qs[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x374876(0x20d)]('save',function(_0x11c14e){const _0x1207ce=a0_0x374876;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x1207ce(0x4bf)],delete this[_0x1207ce(0x31d)],delete this[_0x1207ce(0x3a9)],_0x11c14e();});var Xs=R?.['model'](os[a0_0x374876(0x2f4)],Ys,a0_0x374876(0x38d)),P=require(a0_0x374876(0x6e9)),Zs=require('uuid'),_e=class{},ea=new P[(a0_0x374876(0x106))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P[(a0_0x374876(0x106))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x374876(0x106))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x374876(0x121)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x374876(0x725)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x374876(0x41a)},'pollErrorMessage':{'type':String,'default':a0_0x374876(0x1a6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P[(a0_0x374876(0x106))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x374876(0x106))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x374876(0x106))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P[(a0_0x374876(0x106))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4e3621=a0_0x374876;return _0x4e3621(0x6dc)+Math[_0x4e3621(0x5bf)]()[_0x4e3621(0x5ab)](0x24)[_0x4e3621(0x531)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x374876(0x20d)](a0_0x374876(0x234),function(_0x3300cb){const _0x1d11bd=a0_0x374876;let _0x294b2e=new Set(),_0x3c7e43=new Set(this[_0x1d11bd(0x492)]?.[_0x1d11bd(0x675)](_0x42d392=>_0x42d392[_0x1d11bd(0x2f4)])),_0x56040d=JSON[_0x1d11bd(0x5f1)](this),_0x1c2b9c=/{{(?!_)([^}]*)}}/g,_0x2f0343;for(;(_0x2f0343=_0x1c2b9c[_0x1d11bd(0x55a)](_0x56040d))!==null;)_0x3c7e43[_0x1d11bd(0x42e)](_0x2f0343[0x1])||_0x294b2e['add'](_0x2f0343[0x1]);_0x294b2e[_0x1d11bd(0x4d0)]>0x0?(console[_0x1d11bd(0x10f)](_0x1d11bd(0x3ae),Array[_0x1d11bd(0x1df)](_0x294b2e)),this[_0x1d11bd(0x40f)]=Array[_0x1d11bd(0x1df)](_0x294b2e)):this['variablesNotFound']=[],_0x3300cb();}),Pe[a0_0x374876(0x20d)](a0_0x374876(0x468),function(_0x572f60){const _0x4f27c2=a0_0x374876;let _0x3ada45=this[_0x4f27c2(0x157)]();if(_0x3ada45&&typeof _0x3ada45==_0x4f27c2(0x6a3)&&_0x4f27c2(0x6d5)in _0x3ada45){let _0x2a8639=_0x3ada45['$set'];if(_0x2a8639){let _0xe9a088=new Set(),_0x2afd90=new Set(_0x2a8639['variables']?.[_0x4f27c2(0x675)](_0x1e92f4=>_0x1e92f4['name'])),_0x2d4aa7=JSON[_0x4f27c2(0x5f1)](_0x2a8639),_0x2e46c2=/{{(?!_)([^}]*)}}/g,_0x129569;for(;(_0x129569=_0x2e46c2['exec'](_0x2d4aa7))!==null;)_0x2afd90[_0x4f27c2(0x42e)](_0x129569[0x1])||_0xe9a088[_0x4f27c2(0x5fb)](_0x129569[0x1]);_0xe9a088[_0x4f27c2(0x4d0)]>0x0?(console[_0x4f27c2(0x10f)](_0x4f27c2(0x3ae),Array[_0x4f27c2(0x1df)](_0xe9a088)),_0x2a8639[_0x4f27c2(0x40f)]=Array[_0x4f27c2(0x1df)](_0xe9a088)):_0x2a8639['variablesNotFound']=[],this['setUpdate']({'$set':_0x2a8639});}}_0x572f60();});var ra=_0x4048da=>{const _0x2939a3=a0_0x374876;let _0x5901c3='z_'+_0x4048da+_0x2939a3(0x118);return R?.[_0x2939a3(0x316)](_0x2939a3(0x6c0),Pe,_0x5901c3);},ia=R?.[a0_0x374876(0x316)](cs[a0_0x374876(0x2f4)],Pe,a0_0x374876(0x3e9)),Yr=new P[(a0_0x374876(0x106))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x374876(0x2f1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x374876(0x41a)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x269295=>{const _0x3705ee=a0_0x374876;let _0x4ff608='z_'+_0x269295+_0x3705ee(0x3d4);return R?.[_0x3705ee(0x316)](_0x3705ee(0x3fa),oa,_0x4ff608);},ca=R?.['model'](ls[a0_0x374876(0x2f4)],oa,'flowConversation'),us=class{},Xr=new P['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P[(a0_0x374876(0x106))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x374876(0x67f)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x2aff68=>{const _0x309fd3=a0_0x374876;let _0x411f5c='z_'+_0x2aff68+_0x309fd3(0x1ef);return R?.['model'](_0x309fd3(0x16e),la,_0x411f5c);},da=R?.['model'](us['name'],la,a0_0x374876(0x1c3)),ds=class{},ei=new P[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x374876(0x106))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x374876(0x269)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x374876(0x106))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x374876(0x316)](ds[a0_0x374876(0x2f4)],ai,a0_0x374876(0x109)),pa=require(a0_0x374876(0x6e9)),ri=new pa[(a0_0x374876(0x106))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x145e55=>{const _0x4cf595=a0_0x374876;let _0x287314='z_'+_0x145e55+_0x4cf595(0x2bf);return R?.['model'](_0x4cf595(0x497),ri,_0x287314);},x=class{constructor(_0x908770){const _0x1148cf=a0_0x374876;this[_0x1148cf(0x100)]=_0x908770[_0x1148cf(0x34c)](_0x1148cf(0x326));}};function A(_0x2f5045){const _0xca62ff=a0_0x374876;let _0x24ee7e={};for(let [_0x22187b,_0x311d76]of Object['entries'](_0x2f5045))if(typeof _0x311d76==_0xca62ff(0x6a3)&&!Array[_0xca62ff(0x253)](_0x311d76)){for(let [_0x2e73b7,_0x10666e]of Object[_0xca62ff(0x337)](_0x311d76))_0x24ee7e[_0x22187b+'.'+_0x2e73b7]=_0x10666e;}else _0x24ee7e[_0x22187b]=_0x311d76;return _0x24ee7e;}var ke=class{constructor(_0x430af2,_0x7b8e02,_0xf1a5a8,_0x22fde0,_0x404db3,_0xfa7889,_0x526d05,_0x2e48b5,_0x33f62e,_0x49679a,_0x3cf870){const _0x14bd2a=a0_0x374876;this['message']=_0x430af2,this[_0x14bd2a(0x25d)]=_0x7b8e02,this['contact']=_0xf1a5a8,this[_0x14bd2a(0x38d)]=_0x22fde0,this[_0x14bd2a(0x558)]=_0x404db3,this[_0x14bd2a(0x3e9)]=_0xfa7889,this[_0x14bd2a(0x484)]=_0x526d05,this['label']=_0x2e48b5,this[_0x14bd2a(0x192)]=_0x33f62e,this[_0x14bd2a(0x678)]=_0x49679a,this[_0x14bd2a(0x431)]=_0x3cf870;}get['dbServer'](){const _0x4e6b2d=a0_0x374876;return this[_0x4e6b2d(0x431)];}},Le=class{},Fe=class extends x{[a0_0x374876(0x5f9)](_0x1a762d){return zs(_0x1a762d);}async[a0_0x374876(0x4e6)](_0x283523,_0x3d0c10){const _0x381b77=a0_0x374876;if(_0x283523['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x381b77(0x5f9)](_0x3d0c10)['insertMany']([..._0x283523]))['length']};}catch(_0x253d1b){return _0x253d1b;}}async[a0_0x374876(0x441)](_0x145e46,_0x5736f8){const _0x347167=a0_0x374876;try{let _0x472a84=this[_0x347167(0x5f9)](_0x5736f8),_0x53263a=A(_0x145e46['where']);return await _0x472a84[_0x347167(0x441)](_0x53263a)[_0x347167(0x1ab)]({'messageTimestamp':-0x1})[_0x347167(0xe7)](_0x145e46?.[_0x347167(0xe7)]??0x0)[_0x347167(0x449)]();}catch{return[];}}async[a0_0x374876(0x454)](_0x3f3e23,_0x41da6d){const _0x53c2ab=a0_0x374876;try{let _0xd4c641=this[_0x53c2ab(0x5f9)](_0x41da6d),_0x54a4ae=A(_0x3f3e23[_0x53c2ab(0x66c)]);await _0xd4c641[_0x53c2ab(0x284)](_0x54a4ae);}catch(_0x58b147){console['error'](_0x58b147);}}async[a0_0x374876(0x4dc)](_0x2506a9,_0x2fad39,_0x1805d){const _0x39eeed=a0_0x374876;try{let _0x1376be=this[_0x39eeed(0x5f9)](_0x1805d),_0xe40bd6=A(_0x2506a9[_0x39eeed(0x66c)]);return await _0x1376be['findOneAndUpdate'](_0xe40bd6,{'$set':_0x2fad39},{'new':!0x0});}catch(_0x44ab68){throw console[_0x39eeed(0x32e)](_0x44ab68),_0x44ab68;}}async[a0_0x374876(0x641)](_0x48f8a1,_0x4b1828){const _0xcfedd4=a0_0x374876;if(_0x48f8a1[_0xcfedd4(0x6ea)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4b1828)['insertMany']([..._0x48f8a1]))[_0xcfedd4(0x6ea)]};}catch(_0x11ea03){return console[_0xcfedd4(0x201)](_0xcfedd4(0x56d),_0x11ea03),_0x11ea03;}}async['deleteAll'](_0x206ed7){const _0x1576e7=a0_0x374876;try{return await this[_0x1576e7(0x5f9)](_0x206ed7)[_0x1576e7(0x579)]['drop'](),{'success':!0x0};}catch(_0x396827){return console[_0x1576e7(0x32e)](_0x396827),{'success':!0x1,'error':_0x396827};}}},yr=T(require(a0_0x374876(0x217))),m=T(require(a0_0x374876(0x401))),ve=require('fs'),j=T(require('path')),te=T(require(a0_0x374876(0x5f7))),br=require(a0_0x374876(0x695)),Sr=T(require(a0_0x374876(0x27d))),Er=T(require(a0_0x374876(0x299))),ga=[a0_0x374876(0x344),a0_0x374876(0xf1),'audioMessage',a0_0x374876(0x2f5),'stickerMessage'],ma=[a0_0x374876(0x3ea),a0_0x374876(0xc5),a0_0x374876(0x363),'viewOnceMessageV2'],Es=require('os'),It=T(require(a0_0x374876(0x163))),Pt=require('child_process'),xt=require(a0_0x374876(0x46e)),ne=T(require(a0_0x374876(0x6e9))),$=require(a0_0x374876(0x4b3)),me=class{constructor(_0x1ac3b5,_0x29a714,_0x46497b){const _0x507e3f=a0_0x374876;this[_0x507e3f(0x550)]=_0x1ac3b5,this[_0x507e3f(0x4c9)]=_0x29a714,this['name']=_0x46497b;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x374876(0x47a))),fa=require('fs'),wa=require('path');async function ze(_0x3ad4e6){const _0x3c2e23=a0_0x374876;let _0x54318f=V[_0x3c2e23(0x569)][_0x3ad4e6];if(J[_0x3c2e23(0x258)]){let _0x2d5900=R[_0x3c2e23(0x374)]()['db'](J[_0x3c2e23(0x6cf)][_0x3c2e23(0x638)]+_0x3c2e23(0x560))[_0x3c2e23(0x579)](_0x3ad4e6);return _0x54318f||(await _0x2d5900[_0x3c2e23(0x441)]({})[_0x3c2e23(0x27a)]())[_0x3c2e23(0x6ea)]>0x0;}return _0x54318f||(0x0,fa[_0x3c2e23(0x29a)])((0x0,wa['join'])(ge,_0x3ad4e6));}async function ya(_0x2b41ef,_0xf49232,_0x142eab){const _0x58563a=a0_0x374876;if(_0x2b41ef[_0x58563a(0x623)][_0x58563a(0xea)](_0x58563a(0x479))||_0x2b41ef[_0x58563a(0x623)]['includes'](_0x58563a(0x129))||_0x2b41ef[_0x58563a(0x623)][_0x58563a(0xea)](_0x58563a(0x39b))||_0x2b41ef[_0x58563a(0x623)][_0x58563a(0xea)](_0x58563a(0x1bb))||_0x2b41ef[_0x58563a(0x623)]['includes'](_0x58563a(0x60f))||_0x2b41ef[_0x58563a(0x623)]['includes'](_0x58563a(0x6be))||_0x2b41ef['originalUrl']['includes']('/instance/delete'))return _0x142eab();let _0x458e7b=_0x2b41ef[_0x58563a(0x4c6)];if(!_0x458e7b?.[_0x58563a(0x2b3)])throw new w(_0x58563a(0x565));if(!await ze(_0x458e7b[_0x58563a(0x2b3)]))throw new k(_0x58563a(0x24c)+_0x458e7b[_0x58563a(0x2b3)]+_0x58563a(0xf9));_0x142eab();}async function ba(_0x291a76,_0x3d64c6,_0x19b244){const _0x3204d5=a0_0x374876;if(_0x291a76[_0x3204d5(0x623)][_0x3204d5(0xea)]('/instance/create')){let _0x74503d=_0x291a76[_0x3204d5(0x180)];if(await ze(_0x74503d[_0x3204d5(0x2b3)]))throw new H(_0x3204d5(0x110)+_0x74503d[_0x3204d5(0x2b3)]+_0x3204d5(0x70e));V[_0x3204d5(0x569)][_0x74503d['instanceName']]&&delete V['waInstances'][_0x74503d['instanceName']];}_0x19b244();}var Sa=require('class-validator'),Ea=T(require(a0_0x374876(0x603))),He=a0_0x374876(0x3a2),oi=new N(a0_0x374876(0x111));async function ni(_0x384251,_0x35a748,_0x2a8f91){const _0x1834f6=a0_0x374876;let _0xa5f7e7=_0x384251[_0x1834f6(0x34c)](_0x1834f6(0x4b5));if(_0xa5f7e7&&b[_0x1834f6(0x34c)](_0x1834f6(0x1fb))['API_KEY'][_0x1834f6(0x471)]!==_0xa5f7e7)throw new Z();if(b[_0x1834f6(0x34c)]('AUTHENTICATION')[_0x1834f6(0x298)][_0x1834f6(0x471)]===_0xa5f7e7)return _0x2a8f91();if((_0x384251[_0x1834f6(0x623)][_0x1834f6(0xea)]('/instance/create')||_0x384251['originalUrl'][_0x1834f6(0xea)](_0x1834f6(0x129)))&&!_0xa5f7e7)throw new H(_0x1834f6(0x6b6),_0x1834f6(0x662));let _0x5d3d92=b['get'](_0x1834f6(0x1fb))[_0x1834f6(0x102)];try{let [_0x567563,_0x48714f]=_0x384251[_0x1834f6(0x34c)](_0x1834f6(0x734))[_0x1834f6(0x443)]('\x20');if(_0x567563[_0x1834f6(0x692)]()!==_0x1834f6(0x5d6))throw new Z();if(!(0x0,Sa[_0x1834f6(0x660)])(_0x48714f))throw new Z();let _0x4d68a3=_0x384251[_0x1834f6(0x4c6)],_0x30ad85=Ea[_0x1834f6(0x701)][_0x1834f6(0x68b)](_0x48714f,_0x5d3d92[_0x1834f6(0x2cd)],{'ignoreExpiration':_0x5d3d92[_0x1834f6(0x630)]===0x0});if(_0x4d68a3[_0x1834f6(0x2b3)]!==_0x30ad85[_0x1834f6(0x2b3)]||He!==_0x30ad85[_0x1834f6(0x645)])throw new Z();return _0x2a8f91();}catch(_0x151ca6){throw oi[_0x1834f6(0x32e)](_0x151ca6),new Z();}}async function ci(_0x50840e,_0xc0a433,_0x2dca2d){const _0x286712=a0_0x374876;let _0x5315c9=b[_0x286712(0x34c)]('AUTHENTICATION')[_0x286712(0x298)],_0x178b41=_0x50840e[_0x286712(0x34c)](_0x286712(0x4b5));if(_0x5315c9['KEY']===_0x178b41)return _0x2dca2d();if(_0x50840e[_0x286712(0x623)][_0x286712(0xea)]('/instance/create')){let _0x183a11=Ke,_0x5d0be1=_0x50840e[_0x286712(0x180)][_0x286712(0x2b3)];if(_0x183a11&&_0x5d0be1['toLowerCase']()['startsWith'](_0x183a11[_0x286712(0x692)]()))return _0x2dca2d();if(!_0x178b41)throw new H(_0x286712(0x6b6),_0x286712(0x662));}if(_0x50840e[_0x286712(0x623)]['includes'](_0x286712(0x129))&&!_0x178b41)throw new H(_0x286712(0x6b6),_0x286712(0x662));if(_0x50840e[_0x286712(0x623)][_0x286712(0xea)]('/exit')&&!_0x178b41)throw new H(_0x286712(0x6b6),_0x286712(0x662));if(_0x50840e[_0x286712(0x623)]['includes'](_0x286712(0x1bb))&&!_0x178b41)throw new H(_0x286712(0x6b6),_0x286712(0x662));try{let _0x356379=_0x50840e[_0x286712(0x4c6)];if((await le[_0x286712(0x558)][_0x286712(0x441)](_0x356379[_0x286712(0x2b3)]))[_0x286712(0x4b5)]===_0x178b41)return _0x2dca2d();}catch{}throw new Z();}var Ca={'jwt':ni,'apikey':ci},sr=require(a0_0x374876(0x47a)),C=require(a0_0x374876(0x695)),E=(..._0x51cc3c)=>{const _0x3ffd4e=a0_0x374876;let _0x39e5ae={};return _0x51cc3c['forEach'](_0x184808=>_0x39e5ae[_0x184808]={'minLength':0x1,'description':'The\x20\x22'+_0x184808+_0x3ffd4e(0x5dc)}),{'if':{'propertyNames':{'enum':[..._0x51cc3c]}},'then':{'properties':_0x39e5ae}};},v={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x374876(0x383)}},...E(a0_0x374876(0x2b3))},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'oldToken':{'type':a0_0x374876(0x383)}},'required':['oldToken'],...E('oldToken')},Yn={'properties':{'key':{'type':a0_0x374876(0x6a3),'properties':{'id':{'type':a0_0x374876(0x383)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x374876(0x46a),a0_0x374876(0x699)],...E('id',a0_0x374876(0x46a))},'message':{'type':a0_0x374876(0x6a3)}}},K={'properties':{'delay':{'type':a0_0x374876(0x44c),'description':a0_0x374876(0x31f)},'presence':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x45b),'available',a0_0x374876(0x72a),'recording',a0_0x374876(0x43b)]}}},W={'type':a0_0x374876(0x383),'pattern':a0_0x374876(0x21b),'description':a0_0x374876(0x105)},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x374876(0x383)}},'required':[a0_0x374876(0x215)],...E(a0_0x374876(0x215))}},'required':[a0_0x374876(0x50f),a0_0x374876(0x67d)]},va={'type':a0_0x374876(0x383),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x374876(0x105)},Xn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...va},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x374876(0x383)}},'required':[a0_0x374876(0x215)],...E('text')}},'required':[a0_0x374876(0x50f),a0_0x374876(0x67d)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':a0_0x374876(0x6a3),'properties':{'mediatype':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x61f),'document',a0_0x374876(0x4bc),a0_0x374876(0x511)]},'media':{'type':a0_0x374876(0x383)},'fileName':{'type':a0_0x374876(0x383)},'caption':{'type':'string'}},'required':[a0_0x374876(0x456),'media'],...E(a0_0x374876(0x356),a0_0x374876(0x277),a0_0x374876(0x381))}},'required':[a0_0x374876(0x487),a0_0x374876(0x67d)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x374876(0x6a3),'properties':{'image':{'type':'string'}},'required':[a0_0x374876(0x61f)],...E(a0_0x374876(0x61f))}},'required':[a0_0x374876(0x257),a0_0x374876(0x67d)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'statusMessage':{'type':a0_0x374876(0x6a3),'properties':{'type':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x215),a0_0x374876(0x61f),a0_0x374876(0x511),a0_0x374876(0x4bc)]},'content':{'type':'string'},'caption':{'type':a0_0x374876(0x383)},'backgroundColor':{'type':a0_0x374876(0x383)},'font':{'type':a0_0x374876(0x44c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x383),'pattern':a0_0x374876(0x1f2),'description':a0_0x374876(0x30c)}},'allContacts':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':['type',a0_0x374876(0x288)],...E(a0_0x374876(0x575),a0_0x374876(0x288))}},'required':[a0_0x374876(0x587)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x374876(0x6a3),'properties':{'mediatype':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x61f),a0_0x374876(0x116),a0_0x374876(0x4bc),a0_0x374876(0x511)]},'media':{'type':a0_0x374876(0x383)},'fileName':{'type':a0_0x374876(0x383)},'caption':{'type':a0_0x374876(0x383)}},'required':['mediatype',a0_0x374876(0x381)],...E('fileName',a0_0x374876(0x277),a0_0x374876(0x381))}},'required':[a0_0x374876(0x487),a0_0x374876(0x67d)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x374876(0x6a3),'properties':{'audio':{'type':'string'}},'required':['audio'],...E(a0_0x374876(0x511))}},'required':['audioMessage','number']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'pollMessage':{'type':a0_0x374876(0x6a3),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x374876(0x67d)},'values':{'type':a0_0x374876(0x6bc),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x374876(0x71d),a0_0x374876(0x15e)],...E(a0_0x374876(0x2f4),a0_0x374876(0x71d),a0_0x374876(0x15e))}},'required':[a0_0x374876(0x67d),'pollMessage']},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'menuMessage':{'type':a0_0x374876(0x6a3),'properties':{'text':{'type':a0_0x374876(0x383)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x374876(0x215),'choices'],...E(a0_0x374876(0x215),'choices')}},'required':[a0_0x374876(0x67d),a0_0x374876(0x4e1)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x374876(0x6a3),'properties':{'title':{'type':a0_0x374876(0x383)},'description':{'type':a0_0x374876(0x383)},'footerText':{'type':a0_0x374876(0x383)},'buttons':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x6a3),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x374876(0x6b4),a0_0x374876(0x647)],...E('buttonText',a0_0x374876(0x647))}},'mediaMessage':{'type':a0_0x374876(0x6a3),'properties':{'media':{'type':a0_0x374876(0x383)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x61f),a0_0x374876(0x116),a0_0x374876(0x4bc)]}},'required':['media',a0_0x374876(0x456)],...E('media',a0_0x374876(0x356))}},'required':[a0_0x374876(0x591),a0_0x374876(0x62b)],...E(a0_0x374876(0x591),a0_0x374876(0x422))}},'required':[a0_0x374876(0x67d),a0_0x374876(0x132)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x374876(0x67d)},'longitude':{'type':a0_0x374876(0x67d)},'name':{'type':a0_0x374876(0x383)},'address':{'type':'string'}},'required':[a0_0x374876(0x62d),a0_0x374876(0x31e)],...E(a0_0x374876(0x2f4),a0_0x374876(0x32b))}},'required':[a0_0x374876(0x67d),a0_0x374876(0x2e7)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x374876(0x6a3),'properties':{'title':{'type':a0_0x374876(0x383)},'description':{'type':a0_0x374876(0x383)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x374876(0x383)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x6a3),'properties':{'title':{'type':a0_0x374876(0x383)},'rows':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x6a3),'properties':{'title':{'type':a0_0x374876(0x383)},'description':{'type':a0_0x374876(0x383)},'rowId':{'type':'string'}},'required':[a0_0x374876(0x591),a0_0x374876(0x35e)],...E(a0_0x374876(0x591),a0_0x374876(0x35e))}}},'required':[a0_0x374876(0x591),a0_0x374876(0x5e8)],...E(a0_0x374876(0x591))}}},'required':[a0_0x374876(0x591),a0_0x374876(0x422),a0_0x374876(0x6b4),'sections'],...E(a0_0x374876(0x591),a0_0x374876(0x422),a0_0x374876(0x6b4),'footerText')}},'required':[a0_0x374876(0x67d),a0_0x374876(0x160)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x374876(0x6bc),'items':{'type':a0_0x374876(0x6a3),'properties':{'fullName':{'type':a0_0x374876(0x383)},'phoneNumber':{'type':a0_0x374876(0x383),'minLength':0xa}},'required':['fullName',a0_0x374876(0x5a0)],...E(a0_0x374876(0x6e2))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x374876(0x2b8)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'reactionMessage':{'type':a0_0x374876(0x6a3),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x374876(0x383)},'remoteJid':{'type':a0_0x374876(0x383)},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x374876(0x46a),a0_0x374876(0x699)],...E('id',a0_0x374876(0x46a))},'reaction':{'type':a0_0x374876(0x383)}},'required':['key',a0_0x374876(0x350)],...E(a0_0x374876(0x350))}},'required':[a0_0x374876(0x1c0)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'numbers':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x383),'pattern':a0_0x374876(0x1f2),'description':a0_0x374876(0x125)}}}},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x374876(0x383)},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x374876(0x383)}},'required':['id',a0_0x374876(0x699),a0_0x374876(0x46a)],...E('id',a0_0x374876(0x46a))}}},'required':['readMessages']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x374876(0x383),'enum':['all',a0_0x374876(0x3d6)]},'profile':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x361),a0_0x374876(0x685),'contact_blacklist',a0_0x374876(0x3d6)]},'status':{'type':'string','enum':[a0_0x374876(0x361),a0_0x374876(0x685),a0_0x374876(0x40b),a0_0x374876(0x3d6)]},'online':{'type':'string','enum':[a0_0x374876(0x361),'match_last_seen']},'last':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x361),a0_0x374876(0x685),a0_0x374876(0x40b),'none']},'groupadd':{'type':a0_0x374876(0x383),'enum':['all','contacts',a0_0x374876(0x40b),a0_0x374876(0x3d6)]}},'required':[a0_0x374876(0x22f),'profile',a0_0x374876(0x3d2),a0_0x374876(0x6d7),a0_0x374876(0x162),a0_0x374876(0xeb)],...E(a0_0x374876(0x22f),a0_0x374876(0x5ca),a0_0x374876(0x3d2),'online',a0_0x374876(0x162),a0_0x374876(0xeb))}},'required':['privacySettings']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'lastMessage':{'type':a0_0x374876(0x6a3),'properties':{'key':{'type':a0_0x374876(0x6a3),'properties':{'id':{'type':a0_0x374876(0x383)},'remoteJid':{'type':a0_0x374876(0x383)},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x374876(0x699),a0_0x374876(0x46a)],...E('id',a0_0x374876(0x46a))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x374876(0x674)],...E(a0_0x374876(0x46b))},'archive':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x374876(0x699),a0_0x374876(0x46a)],...E('id',a0_0x374876(0x46a),a0_0x374876(0x21e))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'where':{'type':a0_0x374876(0x6a3),'properties':{'_id':{'type':a0_0x374876(0x383),'minLength':0x1},'pushName':{'type':a0_0x374876(0x383),'minLength':0x1},'id':{'type':a0_0x374876(0x383),'minLength':0x1}},...E('_id','id',a0_0x374876(0x529))}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x374876(0x383)}},...E(a0_0x374876(0x2f4))},Va={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'status':{'type':'string'}},...E(a0_0x374876(0x3d2))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x374876(0x383)}}},Ba={'type':a0_0x374876(0x6a3),'properties':{'wuid':{'type':a0_0x374876(0x383)},'name':{'type':a0_0x374876(0x383)},'picture':{'type':a0_0x374876(0x383)},'status':{'type':'string'},'isBusiness':{'type':a0_0x374876(0x5a1)}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'where':{'type':a0_0x374876(0x6a3),'properties':{'_id':{'type':a0_0x374876(0x383),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x374876(0x699),a0_0x374876(0x46a),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x374876(0x383),'minLength':0x1,'description':a0_0x374876(0x58d)},'id':{'type':a0_0x374876(0x383),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x374876(0x6a3)}},...E('_id')},'limit':{'type':a0_0x374876(0x44c)}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'where':{'type':a0_0x374876(0x6a3),'properties':{'_id':{'type':a0_0x374876(0x383)},'remoteJid':{'type':a0_0x374876(0x383)},'id':{'type':'string'},'fromMe':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x58e),a0_0x374876(0xc3),'SERVER_ACK',a0_0x374876(0x44a),a0_0x374876(0x528),a0_0x374876(0x6d2)]}},...E(a0_0x374876(0x168),a0_0x374876(0x46a),'id','status')},'limit':{'type':'integer'}}},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'number':{...W},'presence':{'type':a0_0x374876(0x383),'enum':['unavailable',a0_0x374876(0x452),a0_0x374876(0x72a),a0_0x374876(0x30e),a0_0x374876(0x43b)]}},'required':[a0_0x374876(0x32d),a0_0x374876(0x67d)]},za={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'subject':{'type':a0_0x374876(0x383)},'description':{'type':a0_0x374876(0x383)},'profilePicture':{'type':a0_0x374876(0x383)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x374876(0x1b4),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x374876(0x50c),a0_0x374876(0x6ac)],...E(a0_0x374876(0x50c),a0_0x374876(0x422),a0_0x374876(0x5c2))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':a0_0x374876(0x383),'pattern':a0_0x374876(0x498)}},'required':['groupJid'],...E(a0_0x374876(0x351))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':a0_0x374876(0x383)},'action':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x5fb),a0_0x374876(0x541),a0_0x374876(0x5d5),'demote']},'participants':{'type':a0_0x374876(0x6bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x374876(0x383),'minLength':0xa,'pattern':a0_0x374876(0x1b4),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x374876(0x351),'action',a0_0x374876(0x6ac)],...E(a0_0x374876(0x351),a0_0x374876(0x6b9))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x374876(0x67d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x374876(0x351),a0_0x374876(0x600)],...E('groupJid',a0_0x374876(0x600))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':a0_0x374876(0x383)},'image':{'type':a0_0x374876(0x383)}},'required':[a0_0x374876(0x351),'image'],...E(a0_0x374876(0x351),'image')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':a0_0x374876(0x383)},'description':{'type':a0_0x374876(0x383)}},'required':[a0_0x374876(0x351),'description'],...E('groupJid','description')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'groupJid':{'type':a0_0x374876(0x383)},'name':{'type':a0_0x374876(0x383)}},'required':['groupJid',a0_0x374876(0x2f4)],...E(a0_0x374876(0x351),'name')},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x374876(0x383)},'setting':{'type':a0_0x374876(0x383),'enum':[a0_0x374876(0x65f),a0_0x374876(0x735),a0_0x374876(0xc0),a0_0x374876(0x2fd)]}},'required':[a0_0x374876(0x351),a0_0x374876(0x242)],...E(a0_0x374876(0x351),a0_0x374876(0x242))},er={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x374876(0x3d9)],...E(a0_0x374876(0x3d9))},tr={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'url':{'type':a0_0x374876(0x383)},'enabled':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':[a0_0x374876(0x710),a0_0x374876(0x523)]},tc={'$id':(0x0,C['v4'])(),'type':a0_0x374876(0x6a3),'properties':{'local_map':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x374876(0x5a1),'enum':[!0x0,!0x1]}},'required':[a0_0x374876(0x540),a0_0x374876(0x372),a0_0x374876(0x56a),a0_0x374876(0x6a8),a0_0x374876(0x5a6),a0_0x374876(0x152),'SEND_MESSAGE',a0_0x374876(0x506),'CONTACTS_UPSERT',a0_0x374876(0x28f),a0_0x374876(0x47f),a0_0x374876(0x619),a0_0x374876(0x6ae),a0_0x374876(0x286),a0_0x374876(0x5a7),a0_0x374876(0x6c1),a0_0x374876(0x4c7),'GROUPS_UPDATE',a0_0x374876(0x421)],...E('local_map',a0_0x374876(0x372),a0_0x374876(0x56a),a0_0x374876(0x6a8),'MESSAGES_UPDATE',a0_0x374876(0x152),a0_0x374876(0x40e),a0_0x374876(0x506),a0_0x374876(0x4f1),a0_0x374876(0x28f),a0_0x374876(0x47f),'CHATS_SET',a0_0x374876(0x6ae),a0_0x374876(0x286),a0_0x374876(0x5a7),a0_0x374876(0x6c1),'GROUPS_UPSERT',a0_0x374876(0x464),'GROUP_PARTICIPANTS_UPDATE')},Qe=class{},Ye=class extends x{[a0_0x374876(0xbc)](_0x4f912e){return Gs(_0x4f912e);}async[a0_0x374876(0x4e6)](_0x327fab){const _0x42240c=a0_0x374876;if(_0x327fab[_0x42240c(0x6ea)]!==0x0)try{return{'insertCount':(await this[_0x42240c(0xbc)](_0x327fab[0x0][_0x42240c(0x4d5)])['insertMany']([..._0x327fab]))[_0x42240c(0x6ea)]};}catch(_0x4d884b){return _0x4d884b;}}async[a0_0x374876(0x454)](_0x5d5d2d,_0xbe1dca){const _0xb6c44=a0_0x374876;try{return{'deletedCount':(await this[_0xb6c44(0xbc)](_0xbe1dca)[_0xb6c44(0x284)]({..._0x5d5d2d[_0xb6c44(0x66c)]}))[_0xb6c44(0x2c8)]};}catch(_0x34a819){return{'error':_0x34a819?.['toString']()};}}async[a0_0x374876(0x4dc)](_0x324131,_0x1800ce){const _0x2726d9=a0_0x374876;try{if(_0x324131[_0x2726d9(0x6ea)]===0x0)return;let _0x55925e=this[_0x2726d9(0xbc)](_0x1800ce),_0x3bbf0e=_0x324131[_0x2726d9(0x675)](_0x5b7dec=>({'updateOne':{'filter':{'_id':_0x5b7dec[_0x2726d9(0x168)],'owner':_0x1800ce},'update':{..._0x5b7dec}}})),{modifiedCount:_0x4cad54}=await _0x55925e[_0x2726d9(0x455)](_0x3bbf0e);return{'insertCount':_0x4cad54};}catch{return;}}async[a0_0x374876(0x441)](_0x52b7d6,_0x12f805){const _0x1214fb=a0_0x374876;try{let _0x5ebe85=this[_0x1214fb(0xbc)](_0x12f805),_0x1c0f91=A(_0x52b7d6[_0x1214fb(0x66c)]);return await _0x5ebe85[_0x1214fb(0x441)](_0x1c0f91)[_0x1214fb(0xe7)](_0x52b7d6?.[_0x1214fb(0xe7)]??0x0)[_0x1214fb(0x449)]();}catch{return[];}}async['findOne'](_0x3a72a5,_0x5a2048){const _0x136b42=a0_0x374876;try{let _0x28c2be=this['getContactModelForOwner'](_0x5a2048),_0x5ae60b=A(_0x3a72a5[_0x136b42(0x66c)]);return await _0x28c2be[_0x136b42(0x108)](_0x5ae60b)[_0x136b42(0x449)]();}catch{return null;}}async[a0_0x374876(0xd4)](_0x39368d){const _0x411c69=a0_0x374876;try{return await this[_0x411c69(0xbc)](_0x39368d)[_0x411c69(0x579)][_0x411c69(0x36b)](),{'success':!0x0};}catch(_0x31b6e9){return console[_0x411c69(0x32e)](_0x31b6e9),{'success':!0x1,'error':_0x31b6e9};}}},Xe=require(a0_0x374876(0x65b)),uc=require('express-async-errors'),hs=new N(a0_0x374876(0x235)),U=class{[a0_0x374876(0x6a1)](_0x365d7f,_0x5450fb=!0x0){const _0x3d89f0=a0_0x374876;let _0x41a1a7='/'+_0x365d7f;return _0x5450fb&&(_0x41a1a7+=_0x3d89f0(0x404)),_0x41a1a7;}async['dataValidate'](_0x42086f){const _0x2ee2c4=a0_0x374876;let {request:_0x1188fa,schema:_0x72c26c,ClassRef:_0xb8ce2,execute:_0xce0387}=_0x42086f,_0x2e5b2d=new _0xb8ce2(),_0x1eb47e=_0x1188fa[_0x2ee2c4(0x180)],_0x16c4b9=_0x1188fa[_0x2ee2c4(0x4c6)];_0x1188fa?.[_0x2ee2c4(0x58a)]&&Object[_0x2ee2c4(0x583)](_0x1188fa['query'])[_0x2ee2c4(0x6ea)]>0x0&&Object[_0x2ee2c4(0x598)](_0x16c4b9,_0x1188fa[_0x2ee2c4(0x58a)]),_0x1188fa[_0x2ee2c4(0x623)][_0x2ee2c4(0xea)]('/instance/create')&&Object[_0x2ee2c4(0x598)](_0x16c4b9,_0x1eb47e),Object[_0x2ee2c4(0x598)](_0x2e5b2d,_0x1eb47e);let _0x46700c=_0x72c26c?(0x0,Xe['validate'])(_0x2e5b2d,_0x72c26c):{'valid':!0x0,'errors':[]};if(!_0x46700c[_0x2ee2c4(0x3e1)]){let _0x37f697=_0x46700c[_0x2ee2c4(0x57b)][_0x2ee2c4(0x675)](({property:_0x577e48,stack:_0x5969c4,schema:_0x7514fb})=>{const _0x4b1228=_0x2ee2c4;let _0x479049;return _0x7514fb[_0x4b1228(0x422)]?_0x479049=_0x7514fb[_0x4b1228(0x422)]:_0x479049=_0x5969c4[_0x4b1228(0x6fa)](_0x4b1228(0x38c),''),{'property':_0x577e48[_0x4b1228(0x6fa)](_0x4b1228(0x38c),''),'message':_0x479049};});throw hs['error']([..._0x37f697]),new w(..._0x37f697);}return await _0xce0387(_0x16c4b9,_0x2e5b2d);}async[a0_0x374876(0x297)](_0x596260){const _0x8ce6ef=a0_0x374876;let {request:_0x26241f,ClassRef:_0x4f1008,schema:_0x53a2dc,execute:_0x59fc24}=_0x596260,_0x3ca2e2=_0x26241f['query'];if(!_0x3ca2e2?.['groupJid'])throw new w(_0x8ce6ef(0x671),_0x8ce6ef(0x648));let _0x5517ed=_0x26241f['params'],_0x1edd37=_0x26241f[_0x8ce6ef(0x180)],_0x1345a2=new _0x4f1008();Object[_0x8ce6ef(0x598)](_0x1edd37,_0x3ca2e2),Object[_0x8ce6ef(0x598)](_0x1345a2,_0x1edd37);let _0x1601ba=(0x0,Xe[_0x8ce6ef(0x304)])(_0x1345a2,_0x53a2dc);if(!_0x1601ba['valid']){let _0x30a0bf=_0x1601ba['errors'][_0x8ce6ef(0x675)](({property:_0x107ab3,stack:_0x307f40,schema:_0x5a6557})=>{const _0x16df1b=_0x8ce6ef;let _0x404a88;return _0x5a6557[_0x16df1b(0x422)]?_0x404a88=_0x5a6557['description']:_0x404a88=_0x307f40[_0x16df1b(0x6fa)](_0x16df1b(0x38c),''),{'property':_0x107ab3[_0x16df1b(0x6fa)](_0x16df1b(0x38c),''),'message':_0x404a88};});throw hs['error']([..._0x30a0bf]),new w(..._0x30a0bf);}return await _0x59fc24(_0x5517ed,_0x1345a2);}async[a0_0x374876(0xc4)](_0x5760ae){const _0x2c69e7=a0_0x374876;let {request:_0x1a40dd,ClassRef:_0x2bd047,schema:_0x558892,execute:_0x4104bb}=_0x5760ae,_0x1bb069=_0x1a40dd[_0x2c69e7(0x180)];if(!_0x1bb069?.[_0x2c69e7(0x3d9)])throw new w(_0x2c69e7(0x658),_0x2c69e7(0x457));let _0xa1da1d=_0x1a40dd['params'],_0x2f0d67=_0x1a40dd['body'],_0x22dc75=new _0x2bd047();Object[_0x2c69e7(0x598)](_0x2f0d67,_0x1bb069),Object[_0x2c69e7(0x598)](_0x22dc75,_0x2f0d67);let _0x519779=(0x0,Xe[_0x2c69e7(0x304)])(_0x22dc75,_0x558892);if(!_0x519779[_0x2c69e7(0x3e1)]){let _0x13f48b=_0x519779[_0x2c69e7(0x57b)]['map'](({property:_0x4d15c1,stack:_0x530870,schema:_0x556c1f})=>{const _0x4d3e73=_0x2c69e7;let _0xd35081;return _0x556c1f[_0x4d3e73(0x422)]?_0xd35081=_0x556c1f['description']:_0xd35081=_0x530870[_0x4d3e73(0x6fa)](_0x4d3e73(0x38c),''),{'property':_0x4d15c1[_0x4d3e73(0x6fa)]('instance.',''),'message':_0xd35081};});throw hs['error']([..._0x13f48b]),new w(..._0x13f48b);}return await _0x4104bb(_0xa1da1d,_0x22dc75);}},S=class{},Nc=new N(a0_0x374876(0x285)),Ze=class extends U{constructor(..._0x1920e7){const _0x106e6d=a0_0x374876;super(),this[_0x106e6d(0x665)]=(0x0,sr[_0x106e6d(0x610)])(),this['router']['post'](this[_0x106e6d(0x6a1)](_0x106e6d(0x3d7)),..._0x1920e7,async(_0x2f2a7b,_0x30f473)=>{const _0x509f2b=_0x106e6d;let _0x3f1211=await this[_0x509f2b(0x43f)]({'request':_0x2f2a7b,'schema':Wa,'ClassRef':je,'execute':(_0x3ff56c,_0x3f9d08)=>D[_0x509f2b(0x3d7)](_0x3ff56c,_0x3f9d08)});return _0x30f473[_0x509f2b(0x3d2)](0xc9)[_0x509f2b(0x1c7)](_0x3f1211);})[_0x106e6d(0x317)](this['routerPath']('whatsappNumbers'),..._0x1920e7,async(_0x46ed9c,_0x252c7c)=>{const _0x52797d=_0x106e6d;let _0x483c33=await this['dataValidate']({'request':_0x46ed9c,'schema':ka,'ClassRef':Ue,'execute':(_0x2c19ea,_0x3b9afd)=>D[_0x52797d(0x30b)](_0x2c19ea,_0x3b9afd)});return _0x252c7c['status'](0xc9)['json'](_0x483c33);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)](_0x106e6d(0x179)),..._0x1920e7,async(_0x29b47e,_0x5d3991)=>{const _0x3f6667=_0x106e6d;let _0x4f70a5=await this[_0x3f6667(0x43f)]({'request':_0x29b47e,'schema':v,'ClassRef':S,'execute':(_0x160b5d,_0xd701f6)=>D['editChat'](_0x160b5d,_0xd701f6)});return _0x5d3991['status'](0xc9)[_0x3f6667(0x1c7)](_0x4f70a5);})[_0x106e6d(0x409)](this['routerPath'](_0x106e6d(0x4d2)),..._0x1920e7,async(_0x10a8f7,_0x118e88)=>{const _0x2f5b55=_0x106e6d;let _0x1f4059=await this[_0x2f5b55(0x43f)]({'request':_0x10a8f7,'schema':La,'ClassRef':Ve,'execute':(_0x5f3b94,_0x1a4be2)=>D[_0x2f5b55(0x546)](_0x5f3b94,_0x1a4be2)});return _0x118e88[_0x2f5b55(0x3d2)](0xc9)[_0x2f5b55(0x1c7)](_0x1f4059);})[_0x106e6d(0x409)](this[_0x106e6d(0x6a1)](_0x106e6d(0x5b1)),..._0x1920e7,async(_0x329a2b,_0x41bd2d)=>{const _0x24aaf6=_0x106e6d;let _0x2db054=await this[_0x24aaf6(0x43f)]({'request':_0x329a2b,'schema':ja,'ClassRef':Be,'execute':(_0x39e714,_0x15b321)=>D[_0x24aaf6(0x5b1)](_0x39e714,_0x15b321)});return _0x41bd2d[_0x24aaf6(0x3d2)](0xc9)['json'](_0x2db054);})[_0x106e6d(0x454)](this[_0x106e6d(0x6a1)](_0x106e6d(0x728)),..._0x1920e7,async(_0x31d346,_0x39cbc0)=>{const _0x1f8e59=_0x106e6d;let _0x3d4161=await this[_0x1f8e59(0x43f)]({'request':_0x31d346,'schema':Ua,'ClassRef':We,'execute':(_0x38ec3e,_0x585407)=>D[_0x1f8e59(0x154)](_0x38ec3e,_0x585407)});return _0x39cbc0['status'](0xc9)[_0x1f8e59(0x1c7)](_0x3d4161);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)](_0x106e6d(0x63e)),..._0x1920e7,async(_0x227d4e,_0x51cfe2)=>{const _0x314c1d=_0x106e6d;let _0x403160=await this[_0x314c1d(0x43f)]({'request':_0x227d4e,'schema':Se,'ClassRef':be,'execute':(_0x5768db,_0x463790)=>D[_0x314c1d(0x463)](_0x5768db,_0x463790)});return _0x51cfe2[_0x314c1d(0x3d2)](0xc8)[_0x314c1d(0x1c7)](_0x403160);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)](_0x106e6d(0x556)),..._0x1920e7,async(_0x132333,_0x51e154)=>{const _0x40bc51=_0x106e6d;let _0x23d963=await this[_0x40bc51(0x43f)]({'request':_0x132333,'schema':Ba,'ClassRef':be,'execute':(_0x5333c2,_0x5b4354)=>D[_0x40bc51(0x556)](_0x5333c2,_0x5b4354)});return _0x51e154['status'](0xc8)[_0x40bc51(0x1c7)](_0x23d963);})['post'](this['routerPath']('findContacts'),..._0x1920e7,async(_0x379567,_0x3b7bf8)=>{const _0x11e648=_0x106e6d;let _0x35bd20=await this[_0x11e648(0x43f)]({'request':_0x379567,'schema':qa,'ClassRef':Qe,'execute':(_0x3c52cd,_0x2f91ed)=>D['fetchContacts'](_0x3c52cd,_0x2f91ed)});return _0x3b7bf8[_0x11e648(0x3d2)](0xc8)[_0x11e648(0x1c7)](_0x35bd20);})[_0x106e6d(0x317)](this['routerPath'](_0x106e6d(0x655)),..._0x1920e7,async(_0x369b18,_0x37936a)=>{const _0x27edc3=_0x106e6d;let _0x25445b=await this[_0x27edc3(0x43f)]({'request':_0x369b18,'schema':null,'ClassRef':Object,'execute':(_0x3f2e1a,_0x365b1e)=>D['getBase64FromMediaMessage'](_0x3f2e1a,_0x365b1e)});return _0x37936a[_0x27edc3(0x3d2)](0xc9)[_0x27edc3(0x1c7)](_0x25445b);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)]('findMessages'),..._0x1920e7,async(_0x4278b8,_0x4c8607)=>{const _0x9a7f4b=_0x106e6d;let _0x4c13f4=await this[_0x9a7f4b(0x43f)]({'request':_0x4278b8,'schema':Ga,'ClassRef':Le,'execute':(_0x55fee8,_0x40b31c)=>D['fetchMessages'](_0x55fee8,_0x40b31c)});return _0x4c8607[_0x9a7f4b(0x3d2)](0xc8)[_0x9a7f4b(0x1c7)](_0x4c13f4);})[_0x106e6d(0x34c)](this['routerPath'](_0x106e6d(0x3b5)),..._0x1920e7,async(_0x5f3fc4,_0x1054c5)=>{const _0x48ef82=_0x106e6d;let _0x7f6a62=await this[_0x48ef82(0x43f)]({'request':_0x5f3fc4,'schema':null,'ClassRef':S,'execute':_0x3acc03=>D['fetchChats'](_0x3acc03)});return _0x1054c5[_0x48ef82(0x3d2)](0xc8)[_0x48ef82(0x1c7)](_0x7f6a62);})[_0x106e6d(0x34c)](this[_0x106e6d(0x6a1)](_0x106e6d(0x490)),..._0x1920e7,async(_0x5efd10,_0x97a57d)=>{const _0x5177fa=_0x106e6d;let _0x2c0390=await this['dataValidate']({'request':_0x5efd10,'schema':null,'ClassRef':S,'execute':_0x52260e=>D[_0x5177fa(0x135)](_0x52260e)});return _0x97a57d[_0x5177fa(0x3d2)](0xc8)[_0x5177fa(0x1c7)](_0x2c0390);})[_0x106e6d(0x409)](this[_0x106e6d(0x6a1)](_0x106e6d(0x227)),..._0x1920e7,async(_0xdbbb80,_0x4e6393)=>{const _0x346d9b=_0x106e6d;let _0x5c9af7=await this['dataValidate']({'request':_0xdbbb80,'schema':null,'ClassRef':Array,'execute':(_0x482ec3,_0x4b85dd)=>D[_0x346d9b(0x227)](_0x482ec3,_0x4b85dd)});return _0x4e6393['status'](0xc8)[_0x346d9b(0x1c7)](_0x5c9af7);})[_0x106e6d(0x34c)](this[_0x106e6d(0x6a1)](_0x106e6d(0x64b)),..._0x1920e7,async(_0x2b73ab,_0x2f524b)=>{const _0x53a1e8=_0x106e6d;let _0x49d64f=await this[_0x53a1e8(0x43f)]({'request':_0x2b73ab,'schema':null,'ClassRef':S,'execute':_0x5e2063=>D[_0x53a1e8(0x64b)](_0x5e2063)});return _0x2f524b['status'](0xc8)[_0x53a1e8(0x1c7)](_0x49d64f);})[_0x106e6d(0x409)](this[_0x106e6d(0x6a1)](_0x106e6d(0x425)),..._0x1920e7,async(_0x4cce15,_0xd14c33)=>{const _0x49bf6f=_0x106e6d;let _0x94cbe4=await this['dataValidate']({'request':_0x4cce15,'schema':Fa,'ClassRef':Ge,'execute':(_0x475575,_0x36c799)=>D[_0x49bf6f(0x425)](_0x475575,_0x36c799)});return _0xd14c33[_0x49bf6f(0x3d2)](0xc9)[_0x49bf6f(0x1c7)](_0x94cbe4);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)]('fetchBusinessProfile'),..._0x1920e7,async(_0x4c029f,_0x34b100)=>{const _0x341b7f=_0x106e6d;let _0x4fd9de=await this[_0x341b7f(0x43f)]({'request':_0x4c029f,'schema':Se,'ClassRef':fe,'execute':(_0x57b4a5,_0x5ea0de)=>D[_0x341b7f(0x494)](_0x57b4a5,_0x5ea0de)});return _0x34b100[_0x341b7f(0x3d2)](0xc8)['json'](_0x4fd9de);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)](_0x106e6d(0x69b)),..._0x1920e7,async(_0x2b0827,_0x3a4f77)=>{const _0x18a69a=_0x106e6d;let _0x53cf8e=await this[_0x18a69a(0x43f)]({'request':_0x2b0827,'schema':Ja,'ClassRef':qe,'execute':(_0x46f6d0,_0x1aff7f)=>D['updateProfileName'](_0x46f6d0,_0x1aff7f)});return _0x3a4f77[_0x18a69a(0x3d2)](0xc8)['json'](_0x53cf8e);})[_0x106e6d(0x317)](this[_0x106e6d(0x6a1)]('updateProfileStatus'),..._0x1920e7,async(_0x46fd0b,_0x2161e6)=>{const _0x3eda40=_0x106e6d;let _0xd3ee3b=await this[_0x3eda40(0x43f)]({'request':_0x46fd0b,'schema':Va,'ClassRef':Je,'execute':(_0x4c73b3,_0x4dac98)=>D[_0x3eda40(0x3c6)](_0x4c73b3,_0x4dac98)});return _0x2161e6[_0x3eda40(0x3d2)](0xc8)[_0x3eda40(0x1c7)](_0xd3ee3b);})['put'](this[_0x106e6d(0x6a1)](_0x106e6d(0x4c3)),..._0x1920e7,async(_0x38f0ee,_0x5013ca)=>{const _0x48659f=_0x106e6d;let _0x2f5cdd=await this['dataValidate']({'request':_0x38f0ee,'schema':Se,'ClassRef':fe,'execute':(_0x539f97,_0x4fff11)=>D['updateProfilePicture'](_0x539f97,_0x4fff11)});return _0x5013ca[_0x48659f(0x3d2)](0xc8)[_0x48659f(0x1c7)](_0x2f5cdd);})[_0x106e6d(0x454)](this[_0x106e6d(0x6a1)](_0x106e6d(0x3c7)),..._0x1920e7,async(_0x1d4010,_0x27cf27)=>{const _0x31494a=_0x106e6d;let _0x3ba679=await this[_0x31494a(0x43f)]({'request':_0x1d4010,'schema':Se,'ClassRef':fe,'execute':(_0x4f5de6,_0x108b94)=>D[_0x31494a(0x3c7)](_0x4f5de6,_0x108b94)});return _0x27cf27[_0x31494a(0x3d2)](0xc8)['json'](_0x3ba679);});}},ar=require('express'),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x519f){const _0x8201e7=a0_0x374876;super(),this[_0x8201e7(0x665)]=(0x0,ar['Router'])(),this[_0x8201e7(0x665)][_0x8201e7(0x317)](this[_0x8201e7(0x6a1)](_0x8201e7(0x37a)),..._0x519f,async(_0x10dffb,_0x493ad2)=>{const _0x4d6b86=_0x8201e7;let _0x2f3057=await this['dataValidate']({'request':_0x10dffb,'schema':za,'ClassRef':et,'execute':(_0xd110e6,_0x102018)=>F[_0x4d6b86(0x732)](_0xd110e6,_0x102018)});_0x493ad2[_0x4d6b86(0x3d2)](0xc9)[_0x4d6b86(0x1c7)](_0x2f3057);})[_0x8201e7(0x409)](this['routerPath'](_0x8201e7(0x5ed)),..._0x519f,async(_0x1c64e5,_0x488a6f)=>{const _0x25e780=_0x8201e7;let _0x2ed2e4=await this[_0x25e780(0x297)]({'request':_0x1c64e5,'schema':Qa,'ClassRef':tt,'execute':(_0x4ea350,_0x482fc5)=>F[_0x25e780(0x5ed)](_0x4ea350,_0x482fc5)});_0x488a6f['status'](0xc9)[_0x25e780(0x1c7)](_0x2ed2e4);})['put'](this[_0x8201e7(0x6a1)](_0x8201e7(0x535)),..._0x519f,async(_0x269fcf,_0x576940)=>{const _0x2bd6ca=_0x8201e7;let _0x13a1fd=await this['groupValidate']({'request':_0x269fcf,'schema':Ya,'ClassRef':st,'execute':(_0x26a4ce,_0x4a88b4)=>F[_0x2bd6ca(0x535)](_0x26a4ce,_0x4a88b4)});_0x576940[_0x2bd6ca(0x3d2)](0xc9)[_0x2bd6ca(0x1c7)](_0x13a1fd);})[_0x8201e7(0x409)](this[_0x8201e7(0x6a1)](_0x8201e7(0x193)),..._0x519f,async(_0x4a1495,_0x136b93)=>{const _0x1fec85=_0x8201e7;let _0x184097=await this['groupValidate']({'request':_0x4a1495,'schema':Xa,'ClassRef':at,'execute':(_0x30182c,_0x5bffc8)=>F[_0x1fec85(0x193)](_0x30182c,_0x5bffc8)});_0x136b93[_0x1fec85(0x3d2)](0xc9)[_0x1fec85(0x1c7)](_0x184097);})[_0x8201e7(0x409)](this[_0x8201e7(0x6a1)](_0x8201e7(0x237)),..._0x519f,async(_0x3b09fe,_0x32431a)=>{const _0x2888a5=_0x8201e7;let _0x1cdd01=await this['groupValidate']({'request':_0x3b09fe,'schema':Za,'ClassRef':rt,'execute':(_0xf0d719,_0x218dd4)=>F[_0x2888a5(0x237)](_0xf0d719,_0x218dd4)});_0x32431a[_0x2888a5(0x3d2)](0xc9)[_0x2888a5(0x1c7)](_0x1cdd01);})[_0x8201e7(0x409)](this[_0x8201e7(0x6a1)](_0x8201e7(0x518)),..._0x519f,async(_0x5e0ca0,_0x438375)=>{const _0x5e9309=_0x8201e7;let _0x30bbf3=await this['groupValidate']({'request':_0x5e0ca0,'schema':Ka,'ClassRef':nt,'execute':(_0x3ce58e,_0x4f5c56)=>F['toggleEphemeral'](_0x3ce58e,_0x4f5c56)});_0x438375['status'](0xc9)[_0x5e9309(0x1c7)](_0x30bbf3);})[_0x8201e7(0x34c)](this[_0x8201e7(0x6a1)](_0x8201e7(0x642)),..._0x519f,async(_0x3805ad,_0x464c13)=>{const _0x185f4d=_0x8201e7;let _0x23e5c2=await this[_0x185f4d(0x297)]({'request':_0x3805ad,'schema':Ee,'ClassRef':Q,'execute':(_0x57a588,_0x463e42)=>F[_0x185f4d(0x3b8)](_0x57a588,_0x463e42)});_0x464c13[_0x185f4d(0x3d2)](0xc8)['json'](_0x23e5c2);})[_0x8201e7(0x34c)](this['routerPath'](_0x8201e7(0x4ea)),..._0x519f,async(_0x2f98dc,_0x2f4e3f)=>{const _0x4f075e=_0x8201e7;let _0x5568dc=await this[_0x4f075e(0x43f)]({'request':_0x2f98dc,'schema':v,'ClassRef':S,'execute':_0x2c1467=>F[_0x4f075e(0x4ea)](_0x2c1467)});_0x2f4e3f[_0x4f075e(0x3d2)](0xc8)[_0x4f075e(0x1c7)](_0x5568dc);})[_0x8201e7(0x34c)](this[_0x8201e7(0x6a1)](_0x8201e7(0x6ac)),..._0x519f,async(_0x220609,_0x638bdc)=>{const _0x1d8119=_0x8201e7;let _0x452f8b=await this[_0x1d8119(0x297)]({'request':_0x220609,'schema':Ee,'ClassRef':Q,'execute':(_0x39ccd8,_0x308b2d)=>F[_0x1d8119(0x3e6)](_0x39ccd8,_0x308b2d)});_0x638bdc[_0x1d8119(0x3d2)](0xc8)[_0x1d8119(0x1c7)](_0x452f8b);})['get'](this[_0x8201e7(0x6a1)]('inviteCode'),..._0x519f,async(_0x8a2fe3,_0xe7007c)=>{const _0x4455ba=_0x8201e7;let _0x34a3fb=await this[_0x4455ba(0x297)]({'request':_0x8a2fe3,'schema':Ee,'ClassRef':Q,'execute':(_0x309d64,_0x4972ec)=>F[_0x4455ba(0x3d9)](_0x309d64,_0x4972ec)});_0xe7007c[_0x4455ba(0x3d2)](0xc8)[_0x4455ba(0x1c7)](_0x34a3fb);})[_0x8201e7(0x409)](this[_0x8201e7(0x6a1)](_0x8201e7(0x571)),..._0x519f,async(_0x523137,_0x194f4a)=>{const _0x352951=_0x8201e7;let _0x34ff5d=await this[_0x352951(0xc4)]({'request':_0x523137,'schema':er,'ClassRef':it,'execute':(_0x463ff4,_0x1eee7d)=>F[_0x352951(0x571)](_0x463ff4,_0x1eee7d)});_0x194f4a[_0x352951(0x3d2)](0xc9)['json'](_0x34ff5d);})[_0x8201e7(0x409)](this[_0x8201e7(0x6a1)](_0x8201e7(0x2f7)),..._0x519f,async(_0xe9c82f,_0x2e8fb2)=>{const _0x24028c=_0x8201e7;let _0xe005bc=await this['groupValidate']({'request':_0xe9c82f,'schema':Ee,'ClassRef':Q,'execute':(_0x8141b4,_0x28fd5d)=>F[_0x24028c(0x2f7)](_0x8141b4,_0x28fd5d)});_0x2e8fb2[_0x24028c(0x3d2)](0xc9)[_0x24028c(0x1c7)](_0xe005bc);})['put'](this['routerPath']('updateParticipant'),..._0x519f,async(_0x26b5bd,_0x580325)=>{const _0x1fe783=_0x8201e7;let _0x2c4291=await this[_0x1fe783(0x297)]({'request':_0x26b5bd,'schema':Ha,'ClassRef':ot,'execute':(_0x1e4fe3,_0x2eccb0)=>F[_0x1fe783(0x49f)](_0x1e4fe3,_0x2eccb0)});_0x580325[_0x1fe783(0x3d2)](0xc9)[_0x1fe783(0x1c7)](_0x2c4291);})[_0x8201e7(0x454)](this[_0x8201e7(0x6a1)](_0x8201e7(0x664)),..._0x519f,async(_0x1f201e,_0x1336a3)=>{const _0x3ae79b=_0x8201e7;let _0x55d49e=await this[_0x3ae79b(0x297)]({'request':_0x1f201e,'schema':{},'ClassRef':Q,'execute':(_0x3a4d43,_0x29b416)=>F[_0x3ae79b(0x664)](_0x3a4d43,_0x29b416)});_0x1336a3[_0x3ae79b(0x3d2)](0xc8)[_0x3ae79b(0x1c7)](_0x55d49e);});}},rr=require(a0_0x374876(0x47a)),lt=class extends U{constructor(_0x42186d,..._0x1a1eb2){const _0x420de9=a0_0x374876;super(),this['configService']=_0x42186d,this[_0x420de9(0x665)]=(0x0,rr[_0x420de9(0x610)])();let _0x2bb226=_0x42186d['get'](_0x420de9(0x1fb));this['router']['post'](_0x420de9(0x50b),..._0x1a1eb2,async(_0x126d78,_0x1a4765)=>{const _0x47bf4b=_0x420de9;let {instanceName:_0x53deeb,apikey:_0x5f23da,number:_0x55fd42}=_0x126d78['body'],_0x220e53=await ae[_0x47bf4b(0x628)]({'instanceName':_0x53deeb,'apikey':_0x5f23da,'number':_0x55fd42});return _0x1a4765[_0x47bf4b(0x3d2)](0xc9)['json'](_0x220e53);})[_0x420de9(0x409)](this[_0x420de9(0x6a1)](_0x420de9(0x117)),..._0x1a1eb2,async(_0x178a81,_0x4238ca)=>{const _0x27d054=_0x420de9;let _0x1226ce=await this[_0x27d054(0x43f)]({'request':_0x178a81,'schema':v,'ClassRef':S,'execute':_0x58c05c=>ae[_0x27d054(0xdb)](_0x58c05c)});return _0x4238ca[_0x27d054(0x3d2)](0xc8)[_0x27d054(0x1c7)](_0x1226ce);})[_0x420de9(0x34c)](this[_0x420de9(0x6a1)](_0x420de9(0x61a)),..._0x1a1eb2,async(_0x191326,_0x2deb0a)=>{const _0x45a02c=_0x420de9;let _0x29f448=await this[_0x45a02c(0x43f)]({'request':_0x191326,'schema':v,'ClassRef':S,'execute':_0x4e23f9=>ae[_0x45a02c(0xd9)](_0x4e23f9)});return _0x2deb0a[_0x45a02c(0x3d2)](0xc8)[_0x45a02c(0x1c7)](_0x29f448);})[_0x420de9(0x34c)](this[_0x420de9(0x6a1)](_0x420de9(0x2b5)),..._0x1a1eb2,async(_0xf40f2b,_0x272b79)=>{const _0x4f2c2d=_0x420de9;let _0x5ee22c=await this['dataValidate']({'request':_0xf40f2b,'schema':v,'ClassRef':S,'execute':_0x3cb085=>ae['connectionState'](_0x3cb085)});return _0x272b79[_0x4f2c2d(0x3d2)](0xc8)['json'](_0x5ee22c);})[_0x420de9(0x34c)](this['routerPath'](_0x420de9(0x66e),!0x1),..._0x1a1eb2,async(_0x546b43,_0x51d596)=>{const _0x42d086=_0x420de9;let _0x4c5add=await this[_0x42d086(0x43f)]({'request':_0x546b43,'schema':null,'ClassRef':S,'execute':_0xb6b874=>ae['fetchInstances'](_0xb6b874)});return _0x51d596['status'](0xc8)['json'](_0x4c5add);})[_0x420de9(0x454)](this['routerPath'](_0x420de9(0x55d)),..._0x1a1eb2,async(_0x48c1af,_0x2295c2)=>{const _0x58f021=_0x420de9;let _0x31f3b3=await this[_0x58f021(0x43f)]({'request':_0x48c1af,'schema':v,'ClassRef':S,'execute':_0x2571b9=>ae[_0x58f021(0x55d)](_0x2571b9)});return _0x2295c2['status'](0xc8)[_0x58f021(0x1c7)](_0x31f3b3);})['delete'](this['routerPath'](_0x420de9(0x454)),..._0x1a1eb2,async(_0x2f8d9b,_0x2120c0)=>{const _0x11a2b8=_0x420de9;let _0x30c605=await this[_0x11a2b8(0x43f)]({'request':_0x2f8d9b,'schema':v,'ClassRef':S,'execute':_0x327d8c=>ae['deleteInstance'](_0x327d8c)});return _0x2120c0[_0x11a2b8(0x3d2)](0xc8)[_0x11a2b8(0x1c7)](_0x30c605);});}},ir=require(a0_0x374876(0x47a)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x2bc1c1){const _0x1baa69=a0_0x374876;super(),this[_0x1baa69(0x665)]=(0x0,ir[_0x1baa69(0x610)])(),this[_0x1baa69(0x665)][_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x57a)),..._0x2bc1c1,async(_0xd22e9c,_0x4c6c00)=>{const _0x3bf5a2=_0x1baa69;let _0x3ede8f=await this['dataValidate']({'request':_0xd22e9c,'schema':Ma,'ClassRef':ut,'execute':(_0x3627a9,_0x4de3b2)=>B['sendText'](_0x3627a9,_0x4de3b2)});return _0x4c6c00[_0x3bf5a2(0x3d2)](0xc9)[_0x3bf5a2(0x1c7)](_0x3ede8f);})['post'](this[_0x1baa69(0x6a1)]('sendMedia'),..._0x2bc1c1,async(_0x4a4107,_0x5eda1c)=>{const _0x3dfdbd=_0x1baa69;let _0x36137d=await this[_0x3dfdbd(0x43f)]({'request':_0x4a4107,'schema':Ta,'ClassRef':Ce,'execute':(_0x54a3c1,_0x5ad62b)=>B[_0x3dfdbd(0x1ff)](_0x54a3c1,_0x5ad62b)});return _0x5eda1c['status'](0xc9)[_0x3dfdbd(0x1c7)](_0x36137d);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x29d)),..._0x2bc1c1,async(_0x4c407e,_0x29a6d4)=>{const _0x29efc6=_0x1baa69;let _0x30d0e0=await this[_0x29efc6(0x43f)]({'request':_0x4c407e,'schema':Ia,'ClassRef':ht,'execute':(_0x170a29,_0x5d87cd)=>B[_0x29efc6(0x29d)](_0x170a29,_0x5d87cd)});return _0x29a6d4[_0x29efc6(0x3d2)](0xc9)[_0x29efc6(0x1c7)](_0x30d0e0);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x161)),..._0x2bc1c1,async(_0x3e72d2,_0x1e1435)=>{const _0x5beeb5=_0x1baa69;let _0xb1c4cc=await this[_0x5beeb5(0x43f)]({'request':_0x3e72d2,'schema':Oa,'ClassRef':Ce,'execute':(_0x34684e,_0x4c8cf6)=>B[_0x5beeb5(0x161)](_0x34684e,_0x4c8cf6)});return _0x1e1435[_0x5beeb5(0x3d2)](0xc9)[_0x5beeb5(0x1c7)](_0xb1c4cc);})['post'](this[_0x1baa69(0x6a1)](_0x1baa69(0x410)),..._0x2bc1c1,async(_0x6562cc,_0xc86b70)=>{const _0x387bbd=_0x1baa69;let _0x321a4a=await this[_0x387bbd(0x43f)]({'request':_0x6562cc,'schema':xa,'ClassRef':mt,'execute':(_0x435471,_0x5f3aa4)=>B[_0x387bbd(0x410)](_0x435471,_0x5f3aa4)});return _0xc86b70[_0x387bbd(0x3d2)](0xc9)[_0x387bbd(0x1c7)](_0x321a4a);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x5fa)),..._0x2bc1c1,async(_0x2172e5,_0x349c45)=>{const _0x14fde3=_0x1baa69;let _0xa00d5a=await this[_0x14fde3(0x43f)]({'request':_0x2172e5,'schema':Da,'ClassRef':ft,'execute':(_0xaa7ba2,_0x196142)=>B[_0x14fde3(0x5fa)](_0xaa7ba2,_0x196142)});return _0x349c45[_0x14fde3(0x3d2)](0xc9)[_0x14fde3(0x1c7)](_0xa00d5a);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)]('sendList'),..._0x2bc1c1,async(_0x289012,_0x2978d3)=>{const _0x26e750=_0x1baa69;let _0x3a7a31=await this['dataValidate']({'request':_0x289012,'schema':_a,'ClassRef':wt,'execute':(_0x5af0a3,_0xf14746)=>B[_0x26e750(0x5a5)](_0x5af0a3,_0xf14746)});return _0x2978d3['status'](0xc9)[_0x26e750(0x1c7)](_0x3a7a31);})['post'](this['routerPath'](_0x1baa69(0x29b)),..._0x2bc1c1,async(_0x3853f9,_0x3f66df)=>{const _0x2aa806=_0x1baa69;let _0x5c4bcb=await this[_0x2aa806(0x43f)]({'request':_0x3853f9,'schema':Pa,'ClassRef':yt,'execute':(_0x1d319e,_0x322df3)=>B['sendContact'](_0x1d319e,_0x322df3)});return _0x3f66df[_0x2aa806(0x3d2)](0xc9)['json'](_0x5c4bcb);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x696)),..._0x2bc1c1,async(_0x15acaa,_0x557e1)=>{const _0x51f1c1=_0x1baa69;let _0x49dd72=await this[_0x51f1c1(0x43f)]({'request':_0x15acaa,'schema':$a,'ClassRef':bt,'execute':(_0x4601ed,_0x2de803)=>B[_0x51f1c1(0x696)](_0x4601ed,_0x2de803)});return _0x557e1['status'](0xc9)['json'](_0x49dd72);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)]('sendPoll'),..._0x2bc1c1,async(_0x4b21af,_0x581789)=>{const _0x3d7936=_0x1baa69;let _0x27385b=await this[_0x3d7936(0x43f)]({'request':_0x4b21af,'schema':Aa,'ClassRef':pt,'execute':(_0x3984f0,_0xdffddb)=>B[_0x3d7936(0x68d)](_0x3984f0,_0xdffddb)});return _0x581789[_0x3d7936(0x3d2)](0xc9)['json'](_0x27385b);})[_0x1baa69(0x317)](this[_0x1baa69(0x6a1)](_0x1baa69(0x4ad)),..._0x2bc1c1,async(_0x33021b,_0x138017)=>{const _0x1dc5e0=_0x1baa69;let _0x36b495=await this[_0x1dc5e0(0x43f)]({'request':_0x33021b,'schema':Ra,'ClassRef':dt,'execute':(_0x2de355,_0x36ab80)=>B[_0x1dc5e0(0x4ad)](_0x2de355,_0x36ab80)});return _0x138017[_0x1dc5e0(0x3d2)](0xc9)[_0x1dc5e0(0x1c7)](_0x36b495);})['post'](this[_0x1baa69(0x6a1)](_0x1baa69(0x226)),..._0x2bc1c1,async(_0x10c4de,_0x83793f)=>{const _0x30a9cd=_0x1baa69;let _0x379a09=await this['dataValidate']({'request':_0x10c4de,'schema':Na,'ClassRef':gt,'execute':(_0x5aa58f,_0x3d94f7)=>B[_0x30a9cd(0x226)](_0x5aa58f,_0x3d94f7)});return _0x83793f[_0x30a9cd(0x3d2)](0xc9)['json'](_0x379a09);});}},or=require(a0_0x374876(0x47a)),Et=class{},Ct=class extends U{constructor(..._0x2a7864){const _0x586079=a0_0x374876;super(),this[_0x586079(0x665)]=(0x0,or[_0x586079(0x610)])(),this[_0x586079(0x665)]['post'](this['routerPath'](_0x586079(0x53d)),..._0x2a7864,async(_0x2febb0,_0x58aa33)=>{const _0x468e72=_0x586079;let _0x4951c4=await this[_0x468e72(0x43f)]({'request':_0x2febb0,'schema':tr,'ClassRef':Et,'execute':(_0x201546,_0x1aa920)=>ms[_0x468e72(0x392)](_0x201546,_0x1aa920)});_0x58aa33[_0x468e72(0x3d2)](0xc9)[_0x468e72(0x1c7)](_0x4951c4);})[_0x586079(0x34c)](this[_0x586079(0x6a1)](_0x586079(0x441)),..._0x2a7864,async(_0x3491dc,_0x4db8b7)=>{const _0x46ece0=_0x586079;let _0x59fa87=await this[_0x46ece0(0x43f)]({'request':_0x3491dc,'schema':v,'ClassRef':S,'execute':_0x27327=>ms[_0x46ece0(0x280)](_0x27327)});_0x4db8b7['status'](0xc8)[_0x46ece0(0x1c7)](_0x59fa87);});}},nr=require(a0_0x374876(0x47a)),y=new N(a0_0x374876(0x182)),Mt=class extends U{constructor(..._0x5b6187){const _0xf98584=a0_0x374876;super(),this['router']=(0x0,nr[_0xf98584(0x610)])(),this[_0xf98584(0x665)][_0xf98584(0x317)](this['routerPath'](_0xf98584(0x192)),..._0x5b6187,async(_0x53cac9,_0x44ac7f)=>{const _0x3f9f0b=_0xf98584;let _0x4ffd8e=_0x53cac9[_0x3f9f0b(0x180)];y[_0x3f9f0b(0xc1)](_0x3f9f0b(0x1b2)),y[_0x3f9f0b(0xc1)]('request\x20body:\x20'),y['verbose'](_0x53cac9[_0x3f9f0b(0x180)]);let _0x564363=await this[_0x3f9f0b(0x43f)]({'request':_0x53cac9,'schema':v,'ClassRef':S,'execute':_0x3b107e=>O[_0x3f9f0b(0x517)](_0x3b107e,_0x4ffd8e)});_0x44ac7f[_0x3f9f0b(0x3d2)](0xc8)[_0x3f9f0b(0x1c7)](_0x564363);})['get'](this[_0xf98584(0x6a1)](_0xf98584(0x192)),..._0x5b6187,async(_0x10bbad,_0x443bde)=>{const _0x700314=_0xf98584;let _0x85987a=await this[_0x700314(0x43f)]({'request':_0x10bbad,'schema':v,'ClassRef':S,'execute':_0x5bae9c=>O[_0x700314(0x31a)](_0x5bae9c)});_0x443bde[_0x700314(0x3d2)](0xc8)[_0x700314(0x1c7)](_0x85987a);})[_0xf98584(0x454)](this[_0xf98584(0x6a1)]('deleteDoneMessages'),..._0x5b6187,async(_0x5b061d,_0x52fec5)=>{const _0x3ee84d=_0xf98584;y[_0x3ee84d(0xc1)](_0x3ee84d(0x650));let _0xd1368=await this[_0x3ee84d(0x43f)]({'request':_0x5b061d,'schema':v,'ClassRef':S,'execute':_0x476e03=>O['deleteDoneMessages'](_0x476e03)});_0x52fec5[_0x3ee84d(0x3d2)](0xc8)[_0x3ee84d(0x1c7)](_0xd1368);})[_0xf98584(0x317)](this['routerPath'](_0xf98584(0x389)),..._0x5b6187,async(_0x3bd88a,_0x5383b6)=>{const _0x206d98=_0xf98584;let _0x4c883e=_0x3bd88a[_0x206d98(0x180)];y[_0x206d98(0xc1)](_0x206d98(0x3b6)),y[_0x206d98(0xc1)](_0x206d98(0x4b6)),y[_0x206d98(0xc1)](_0x3bd88a[_0x206d98(0x180)]);let _0x23cb8b=await this[_0x206d98(0x43f)]({'request':_0x3bd88a,'schema':v,'ClassRef':S,'execute':_0x2ec58e=>O[_0x206d98(0x389)](_0x2ec58e,_0x4c883e)});_0x5383b6[_0x206d98(0x3d2)](0xc8)[_0x206d98(0x1c7)](_0x23cb8b);})[_0xf98584(0x34c)](this['routerPath']('getAutomateSystem'),..._0x5b6187,async(_0x55a70f,_0x55aa03)=>{const _0x4fc29d=_0xf98584;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x1cc04d=await this[_0x4fc29d(0x43f)]({'request':_0x55a70f,'schema':v,'ClassRef':S,'execute':_0x1fe58f=>O[_0x4fc29d(0x4b4)](_0x1fe58f)});_0x55aa03[_0x4fc29d(0x3d2)](0xc8)[_0x4fc29d(0x1c7)](_0x1cc04d);})[_0xf98584(0x34c)](this[_0xf98584(0x6a1)](_0xf98584(0x27c)),..._0x5b6187,async(_0x5390e8,_0x45ead4)=>{const _0x1c40e0=_0xf98584;y['verbose'](_0x1c40e0(0x6f0));let _0x35255e=await this['dataValidate']({'request':_0x5390e8,'schema':v,'ClassRef':S,'execute':_0x31cdb9=>O[_0x1c40e0(0x4b4)](_0x31cdb9)});_0x45ead4[_0x1c40e0(0x3d2)](0xc8)[_0x1c40e0(0x1c7)](_0x35255e);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x481)),..._0x5b6187,async(_0x2f3370,_0x127803)=>{const _0x26fc2a=_0xf98584;let _0x573506=_0x2f3370[_0x26fc2a(0x180)];y[_0x26fc2a(0xc1)](_0x26fc2a(0x63d)),y['verbose'](_0x26fc2a(0x4b6)),y[_0x26fc2a(0xc1)](_0x2f3370[_0x26fc2a(0x180)]);let _0x11f1bc=await this[_0x26fc2a(0x43f)]({'request':_0x2f3370,'schema':v,'ClassRef':S,'execute':_0x2c66b6=>O['updateAgent'](_0x2c66b6,_0x573506)});_0x127803[_0x26fc2a(0x3d2)](0xc8)['json'](_0x11f1bc);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x2e1)),..._0x5b6187,async(_0x4fe489,_0x1e2dfd)=>{const _0x26c6c7=_0xf98584;let _0x16afcb=_0x4fe489['body'];y[_0x26c6c7(0xc1)](_0x26c6c7(0x67a)),y[_0x26c6c7(0xc1)](_0x26c6c7(0x4b6)),y['verbose'](_0x4fe489['body']);let _0x49f28c=await this['dataValidate']({'request':_0x4fe489,'schema':v,'ClassRef':S,'execute':_0x1c4ee2=>O['updateCustomFields'](_0x1c4ee2,_0x16afcb)});_0x1e2dfd[_0x26c6c7(0x3d2)](0xc8)[_0x26c6c7(0x1c7)](_0x49f28c);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x238)),..._0x5b6187,async(_0x455d60,_0x2e48d8)=>{const _0x2c3cc8=_0xf98584;let _0x47cdec=_0x455d60[_0x2c3cc8(0x180)];y[_0x2c3cc8(0xc1)](_0x2c3cc8(0x2a9)),y[_0x2c3cc8(0xc1)](_0x2c3cc8(0x4b6)),y[_0x2c3cc8(0xc1)](_0x455d60['body']);let _0x1d681d=await this[_0x2c3cc8(0x43f)]({'request':_0x455d60,'schema':v,'ClassRef':S,'execute':_0x3e0745=>O[_0x2c3cc8(0x238)](_0x3e0745,_0x47cdec)});_0x2e48d8[_0x2c3cc8(0x3d2)](0xc8)['json'](_0x1d681d);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x554)),..._0x5b6187,async(_0x5a3fb7,_0x852a8c)=>{const _0x2cac41=_0xf98584;let _0x4f525a=_0x5a3fb7[_0x2cac41(0x180)];y[_0x2cac41(0xc1)]('request\x20received\x20in\x20getConversation'),y[_0x2cac41(0xc1)]('request\x20body:\x20'),y[_0x2cac41(0xc1)](_0x5a3fb7[_0x2cac41(0x180)]);let _0x31f53e=await this[_0x2cac41(0x43f)]({'request':_0x5a3fb7,'schema':v,'ClassRef':S,'execute':_0x1dc320=>O[_0x2cac41(0x554)](_0x1dc320,_0x4f525a)});_0x852a8c[_0x2cac41(0x3d2)](0xc8)['json'](_0x31f53e);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x552)),..._0x5b6187,async(_0xc90219,_0x33fd9a)=>{const _0x2568fd=_0xf98584;let _0x4bd2b4=_0xc90219[_0x2568fd(0x180)];y[_0x2568fd(0xc1)]('request\x20received\x20in\x20fetchConversation'),y[_0x2568fd(0xc1)](_0x2568fd(0x4b6)),y[_0x2568fd(0xc1)](_0xc90219[_0x2568fd(0x180)]);let _0x52650a=await this[_0x2568fd(0x43f)]({'request':_0xc90219,'schema':v,'ClassRef':S,'execute':_0x361b9b=>O[_0x2568fd(0x552)](_0x361b9b,_0x4bd2b4)});_0x33fd9a['status'](0xc8)[_0x2568fd(0x1c7)](_0x52650a);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)]('editConversation'),..._0x5b6187,async(_0xbc254d,_0x312115)=>{const _0xd9fa89=_0xf98584;let _0x480378=_0xbc254d[_0xd9fa89(0x180)];y[_0xd9fa89(0xc1)](_0xd9fa89(0x113)),y[_0xd9fa89(0xc1)](_0xd9fa89(0x4b6)),y[_0xd9fa89(0xc1)](_0xbc254d[_0xd9fa89(0x180)]);let _0x48dd8f=await this['dataValidate']({'request':_0xbc254d,'schema':v,'ClassRef':S,'execute':_0x3b1575=>O['editConversation'](_0x3b1575,_0x480378)});_0x312115[_0xd9fa89(0x3d2)](0xc8)[_0xd9fa89(0x1c7)](_0x48dd8f);})[_0xf98584(0x454)](this[_0xf98584(0x6a1)](_0xf98584(0x197)),..._0x5b6187,async(_0x11a56b,_0x4fd6dd)=>{const _0x59bf26=_0xf98584;let _0x301d56=_0x11a56b[_0x59bf26(0x180)];y[_0x59bf26(0xc1)](_0x59bf26(0x45e)),y[_0x59bf26(0xc1)](_0x59bf26(0x4b6)),y[_0x59bf26(0xc1)](_0x11a56b['body']);let _0x37809f=await this[_0x59bf26(0x43f)]({'request':_0x11a56b,'schema':v,'ClassRef':S,'execute':_0x1fcaf0=>O['deleteConversation'](_0x1fcaf0,_0x301d56)});_0x4fd6dd[_0x59bf26(0x3d2)](0xc8)['json'](_0x37809f);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x167)),..._0x5b6187,async(_0x290cfb,_0x5cb603)=>{const _0xdfb0d8=_0xf98584;let _0x3b7c63=_0x290cfb[_0xdfb0d8(0x180)];y['verbose'](_0xdfb0d8(0x53f)),y[_0xdfb0d8(0xc1)](_0xdfb0d8(0x4b6)),y['verbose'](_0x290cfb[_0xdfb0d8(0x180)]);let _0x514d1c=await this[_0xdfb0d8(0x43f)]({'request':_0x290cfb,'schema':v,'ClassRef':S,'execute':_0x398d94=>O[_0xdfb0d8(0x320)](_0x398d94,_0x3b7c63)});_0x5cb603[_0xdfb0d8(0x3d2)](0xc8)[_0xdfb0d8(0x1c7)](_0x514d1c);})['post'](this[_0xf98584(0x6a1)](_0xf98584(0x42d)),..._0x5b6187,async(_0x4a69a4,_0x1c5d01)=>{const _0x11b4ca=_0xf98584;let _0x3caf27=_0x4a69a4[_0x11b4ca(0x180)];y[_0x11b4ca(0xc1)](_0x11b4ca(0x649)),y['verbose'](_0x11b4ca(0x4b6)),y['verbose'](_0x4a69a4[_0x11b4ca(0x180)]),delete _0x3caf27[_0x11b4ca(0x6a9)],delete _0x3caf27[_0x11b4ca(0x492)],delete _0x3caf27['groups'],delete _0x3caf27[_0x11b4ca(0x255)];let _0x2ba1fe=await this[_0x11b4ca(0x43f)]({'request':_0x4a69a4,'schema':v,'ClassRef':S,'execute':_0xbef59a=>O[_0x11b4ca(0x4f5)](_0xbef59a,_0x3caf27)});_0x1c5d01[_0x11b4ca(0x3d2)](0xc8)[_0x11b4ca(0x1c7)](_0x2ba1fe);})[_0xf98584(0x317)](this['routerPath'](_0xf98584(0x122)),..._0x5b6187,async(_0xef8c13,_0xaf95cb)=>{const _0x4b8fc3=_0xf98584;let _0x4303a2=_0xef8c13['body'];y[_0x4b8fc3(0xc1)]('request\x20received\x20in\x20editFlow'),y[_0x4b8fc3(0xc1)](_0x4b8fc3(0x4b6)),y[_0x4b8fc3(0xc1)](_0xef8c13[_0x4b8fc3(0x180)]);let _0x2973e7=await this[_0x4b8fc3(0x43f)]({'request':_0xef8c13,'schema':v,'ClassRef':S,'execute':_0x5f10fa=>O['editFlowBlock'](_0x5f10fa,_0x4303a2)});_0xaf95cb[_0x4b8fc3(0x3d2)](0xc8)[_0x4b8fc3(0x1c7)](_0x2973e7);})['post'](this[_0xf98584(0x6a1)](_0xf98584(0x67b)),..._0x5b6187,async(_0x185bdf,_0x3f5718)=>{const _0x15ddf3=_0xf98584;let _0x306db4=_0x185bdf[_0x15ddf3(0x180)];y[_0x15ddf3(0xc1)]('request\x20received\x20in\x20editFlow'),y[_0x15ddf3(0xc1)](_0x15ddf3(0x4b6)),y[_0x15ddf3(0xc1)](_0x185bdf[_0x15ddf3(0x180)]);let _0x51b723=await this[_0x15ddf3(0x43f)]({'request':_0x185bdf,'schema':v,'ClassRef':S,'execute':_0x5a5afc=>O['editFlowReply'](_0x5a5afc,_0x306db4)});_0x3f5718[_0x15ddf3(0x3d2)](0xc8)[_0x15ddf3(0x1c7)](_0x51b723);})['post'](this['routerPath'](_0xf98584(0x593)),..._0x5b6187,async(_0x4d07a4,_0x97812c)=>{const _0x350e4e=_0xf98584;let _0x2e5c70=_0x4d07a4[_0x350e4e(0x180)];y[_0x350e4e(0xc1)]('request\x20received\x20in\x20editFlow'),y[_0x350e4e(0xc1)]('request\x20body:\x20'),y['verbose'](_0x4d07a4[_0x350e4e(0x180)]);let _0x1f996c=await this[_0x350e4e(0x43f)]({'request':_0x4d07a4,'schema':v,'ClassRef':S,'execute':_0x2a63a4=>O[_0x350e4e(0x462)](_0x2a63a4,_0x2e5c70)});_0x97812c[_0x350e4e(0x3d2)](0xc8)['json'](_0x1f996c);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)]('editflowgroup'),..._0x5b6187,async(_0x2d0ab0,_0x40d534)=>{const _0x3fb2a2=_0xf98584;let _0x29b832=_0x2d0ab0['body'];y['verbose'](_0x3fb2a2(0x5f6)),y[_0x3fb2a2(0xc1)](_0x3fb2a2(0x4b6)),y['verbose'](_0x2d0ab0[_0x3fb2a2(0x180)]);let _0x42eb27=await this['dataValidate']({'request':_0x2d0ab0,'schema':v,'ClassRef':S,'execute':_0x421a74=>O['editFlowGroup'](_0x421a74,_0x29b832)});_0x40d534[_0x3fb2a2(0x3d2)](0xc8)['json'](_0x42eb27);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x1f5)),..._0x5b6187,async(_0x597fb5,_0x11ceb4)=>{const _0x40314c=_0xf98584;let _0x49c214=_0x597fb5[_0x40314c(0x180)];y[_0x40314c(0xc1)]('request\x20received\x20in\x20editFlowcondition'),y[_0x40314c(0xc1)](_0x40314c(0x4b6)),y[_0x40314c(0xc1)](_0x597fb5[_0x40314c(0x180)]);let _0x14ed0d=await this[_0x40314c(0x43f)]({'request':_0x597fb5,'schema':v,'ClassRef':S,'execute':_0x18ed07=>O[_0x40314c(0x33c)](_0x18ed07,_0x49c214)});_0x11ceb4[_0x40314c(0x3d2)](0xc8)[_0x40314c(0x1c7)](_0x14ed0d);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)]('editflowvariable'),..._0x5b6187,async(_0x3ae0d4,_0x4a0ec8)=>{const _0x37830b=_0xf98584;let _0x407b50=_0x3ae0d4[_0x37830b(0x180)];y[_0x37830b(0xc1)](_0x37830b(0x2d2)),y[_0x37830b(0xc1)](_0x37830b(0x4b6)),y[_0x37830b(0xc1)](_0x3ae0d4[_0x37830b(0x180)]);let _0x6e4673=await this[_0x37830b(0x43f)]({'request':_0x3ae0d4,'schema':v,'ClassRef':S,'execute':_0xd8b602=>O[_0x37830b(0x2ce)](_0xd8b602,_0x407b50)});_0x4a0ec8[_0x37830b(0x3d2)](0xc8)[_0x37830b(0x1c7)](_0x6e4673);})[_0xf98584(0x317)](this[_0xf98584(0x6a1)](_0xf98584(0x296)),..._0x5b6187,async(_0x431713,_0x253eb9)=>{const _0x862930=_0xf98584;let _0x31ab94=_0x431713['body'];y[_0x862930(0xc1)](_0x862930(0x4d3)),y[_0x862930(0xc1)](_0x862930(0x4b6)),y[_0x862930(0xc1)](_0x431713[_0x862930(0x180)]);let _0x34f585=await this[_0x862930(0x43f)]({'request':_0x431713,'schema':v,'ClassRef':S,'execute':_0x18c922=>O[_0x862930(0x402)](_0x18c922,_0x31ab94)});_0x253eb9[_0x862930(0x3d2)](0xc8)['json'](_0x34f585);})['delete'](this[_0xf98584(0x6a1)](_0xf98584(0x69d)),..._0x5b6187,async(_0x549f69,_0x16aa25)=>{const _0x3192d6=_0xf98584;let _0x458d29=_0x549f69['body'];y[_0x3192d6(0xc1)](_0x3192d6(0x26e)),y['verbose'](_0x3192d6(0x4b6)),y['verbose'](_0x549f69[_0x3192d6(0x180)]);let _0x1c1dac=await this[_0x3192d6(0x43f)]({'request':_0x549f69,'schema':v,'ClassRef':S,'execute':_0x446e0e=>O[_0x3192d6(0x6f9)](_0x446e0e,_0x458d29)});_0x16aa25[_0x3192d6(0x3d2)](0xc8)[_0x3192d6(0x1c7)](_0x1c1dac);})[_0xf98584(0x34c)](this['routerPath']('allflows'),..._0x5b6187,async(_0x16754d,_0x9b144a)=>{const _0x5a6946=_0xf98584;y[_0x5a6946(0xc1)]('request\x20received\x20in\x20allFlows');let _0x1c8b82=await this[_0x5a6946(0x43f)]({'request':_0x16754d,'schema':v,'ClassRef':S,'execute':_0x59065a=>O['allFlows'](_0x59065a)});_0x9b144a[_0x5a6946(0x3d2)](0xc8)['json'](_0x1c8b82);});}},dr=T(require(a0_0x374876(0x64d))),Y={};function cr(_0x595176,_0x23f7c0,_0x57cab1,_0x48ccd6){Y[_0x595176]||(Y[_0x595176]={}),Y[_0x595176][_0x23f7c0]={'id':_0x23f7c0,'response':_0x57cab1,'events':_0x48ccd6};}function lr(_0x5e6fbe,_0xf84c7c){!Y[_0x5e6fbe]||!Y[_0x5e6fbe][_0xf84c7c]||delete Y[_0x5e6fbe][_0xf84c7c];}function q(_0x309cf2,_0x557106,_0x398ae3){const _0x94379c=a0_0x374876;if(!Y[_0x309cf2])return;let _0xa61cf4=_0x94379c(0x1cb)+JSON[_0x94379c(0x5f1)](_0x398ae3)+'\x0a\x0a';Object['values'](Y[_0x309cf2])['forEach'](_0x2597ff=>{const _0xe9bad3=_0x94379c;_0x2597ff[_0xe9bad3(0x5db)]['includes'](_0x557106)&&_0x2597ff[_0xe9bad3(0x133)]['write'](_0xa61cf4);});}function ur(){const _0x5eee9f=a0_0x374876;let _0x31d0c4={};for(let _0x3523f1 in Y)_0x31d0c4[_0x3523f1]=Object[_0x5eee9f(0x15e)](Y[_0x3523f1])[_0x5eee9f(0x675)](_0x28d7bd=>({'id':_0x28d7bd['id'],'events':_0x28d7bd[_0x5eee9f(0x5db)]}));return _0x31d0c4;}var pr=require(a0_0x374876(0x695)),ws=require('mongoose'),fs=class{},li=new ws[(a0_0x374876(0x106))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x374876(0x106))]({'_id':{'type':String,'default':a0_0x374876(0x43d)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x374876(0x316)](fs['name'],ui,a0_0x374876(0x640)),di=dr[a0_0x374876(0x701)][a0_0x374876(0x679)](__dirname,a0_0x374876(0x694)),Nt=(0x0,vt[a0_0x374876(0x610)])(),pi=b[a0_0x374876(0x34c)](a0_0x374876(0x1fb))[a0_0x374876(0x74d)],ee=[ya,ba,Ca[pi]];Nt[a0_0x374876(0x437)](a0_0x374876(0x5dd),vt[a0_0x374876(0x701)][a0_0x374876(0x2d0)](di))['get'](a0_0x374876(0x166),async(_0x5a7900,_0x4eaa87)=>{const _0x577bdb=a0_0x374876;console[_0x577bdb(0x201)](_0x577bdb(0x2d3));let _0x22a257=_0x5a7900[_0x577bdb(0x4c6)][_0x577bdb(0x526)],_0x1511ed=(_0x5a7900[_0x577bdb(0x58a)]['events']||'')[_0x577bdb(0x443)](','),_0xd2c6a2=(0x0,pr['v4'])();console[_0x577bdb(0x201)](_0x577bdb(0x568),_0x22a257),console['log'](_0x577bdb(0x3bc),_0x1511ed);let _0x442e0f=b[_0x577bdb(0x34c)](_0x577bdb(0x1fb))['API_KEY'],_0x314177=_0x5a7900[_0x577bdb(0x58a)][_0x577bdb(0x4b5)];if(console[_0x577bdb(0x201)](_0x577bdb(0x1c1),_0x314177),_0x442e0f[_0x577bdb(0x471)]!==_0x314177){console['log'](_0x577bdb(0x4df));try{let _0x174356=await le['auth'][_0x577bdb(0x441)](_0x22a257);if(console[_0x577bdb(0x201)](_0x577bdb(0x723),_0x174356),!_0x174356||_0x174356[_0x577bdb(0x4b5)]!==_0x314177)return console['log'](_0x577bdb(0x34d)),_0x4eaa87['status'](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x4cf10b){return console['error'](_0x577bdb(0x672),_0x4cf10b),_0x4eaa87[_0x577bdb(0x3d2)](0x191)[_0x577bdb(0x1d0)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await ze(_0x22a257))return _0x4eaa87[_0x577bdb(0x3d2)](0x194)[_0x577bdb(0x1d0)](_0x577bdb(0x4ba));_0x4eaa87[_0x577bdb(0x34f)](_0x577bdb(0x470),_0x577bdb(0x720)),_0x4eaa87[_0x577bdb(0x34f)](_0x577bdb(0x747),_0x577bdb(0x748)),_0x4eaa87[_0x577bdb(0x34f)]('Connection',_0x577bdb(0x4ec)),_0x4eaa87[_0x577bdb(0x209)]();let _0xdb79f7=_0x577bdb(0x1cb)+JSON[_0x577bdb(0x5f1)]({'info':_0x577bdb(0x35b)})+'\x0a\x0a';_0x4eaa87['write'](_0xdb79f7),cr(_0x22a257,_0xd2c6a2,_0x4eaa87,_0x1511ed),_0x5a7900['on'](_0x577bdb(0x368),()=>{const _0x2b66d0=_0x577bdb;console[_0x2b66d0(0x201)]('Connection\x20closed\x20for\x20instance:\x20'+_0x22a257),lr(_0x22a257,_0xd2c6a2);});}),Nt['get'](a0_0x374876(0x1bc),(_0x584254,_0x1ee4aa)=>{const _0x3e93ef=a0_0x374876;let _0xd49bde=ur();_0x1ee4aa[_0x3e93ef(0x1c7)](_0xd49bde);})[a0_0x374876(0x34c)]('/',(_0x16fd34,_0x1fe798)=>{const _0x254100=a0_0x374876;let _0xd2693b=b['get'](_0x254100(0x543))[_0x254100(0x1b1)];if(_0xd2693b){let _0x2db183=encodeURIComponent(''+_0xd2693b);_0x1fe798[_0x254100(0x42c)](_0x254100(0x293)+_0x2db183);return;}let _0x1c16f7=b[_0x254100(0x34c)](_0x254100(0x30d)),_0x19b638=_0x1c16f7&&_0x1c16f7[_0x254100(0x124)][_0x254100(0x443)]('/')[0x4];if(_0x19b638){let _0x15ce56=encodeURIComponent(_0x254100(0x18f)+_0x19b638);_0x1fe798[_0x254100(0x42c)](_0x254100(0x293)+_0x15ce56);}else _0x1fe798[_0x254100(0x42c)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x374876(0x39b),...ee,async(_0x309d26,_0x38ead2)=>{const _0x15b79c=a0_0x374876;try{console['log'](_0x15b79c(0x13f)),_0x38ead2[_0x15b79c(0x3d2)](0xc8)[_0x15b79c(0x1c7)]({'message':_0x15b79c(0x367)}),_0x38ead2['on'](_0x15b79c(0x411),()=>process[_0x15b79c(0x50e)](0x0));}catch(_0x1bd836){console['error'](_0x15b79c(0x49e),_0x1bd836),_0x38ead2[_0x15b79c(0x3d2)](0x1f4)[_0x15b79c(0x1c7)]({'message':_0x15b79c(0x5f2)});}})[a0_0x374876(0x409)]('/config',...ee,async(_0x33c826,_0x12f287)=>{const _0x3ce2a2=a0_0x374876;try{let _0x279564=_0x33c826[_0x3ce2a2(0x180)];await we[_0x3ce2a2(0x6fe)]({},{'$set':_0x279564},{'upsert':!0x0});let _0x29360c=await we[_0x3ce2a2(0x108)]();_0x12f287['json'](_0x29360c);}catch(_0x228aa4){_0x12f287['status'](0x190)[_0x3ce2a2(0x1d0)](_0x228aa4['message']);}})['get']('/config',...ee,async(_0x1af3a8,_0x1aff03)=>{const _0x1d5451=a0_0x374876;try{let _0x398954=await we['findOne']();if(!_0x398954)return _0x1aff03[_0x1d5451(0x1c7)]({});_0x1aff03['json'](_0x398954);}catch(_0x1c519b){_0x1aff03[_0x1d5451(0x3d2)](0x1f4)[_0x1d5451(0x1d0)](_0x1c519b['message']);}})['use']('/instance',new lt(b,...ee)[a0_0x374876(0x665)])['use']('/message',new St(...ee)[a0_0x374876(0x665)])[a0_0x374876(0x437)]('/chat',new Ze(...ee)['router'])['use']('/group',new ct(...ee)[a0_0x374876(0x665)])[a0_0x374876(0x437)](a0_0x374876(0x376),new Ct(...ee)[a0_0x374876(0x665)])['use']('/automate',new Mt(...ee)['router']);var w=class{constructor(..._0x50e1ef){throw{'status':0x190,'error':'Bad\x20Request','message':_0x50e1ef['length']>0x0?_0x50e1ef:void 0x0};}},Z=class{constructor(..._0x55d1e5){const _0x5c98e4=a0_0x374876;throw{'status':0x191,'error':_0x5c98e4(0x3b3),'message':_0x55d1e5[_0x5c98e4(0x6ea)]>0x0?_0x55d1e5:void 0x0};}},H=class{constructor(..._0x3be0ee){const _0x5cc3fe=a0_0x374876;throw{'status':0x193,'error':_0x5cc3fe(0x5a2),'message':_0x3be0ee['length']>0x0?_0x3be0ee:void 0x0};}},k=class{constructor(..._0x54fce2){const _0x5ecdd2=a0_0x374876;throw{'status':0x194,'error':_0x5ecdd2(0x364),'message':_0x54fce2[_0x5ecdd2(0x6ea)]>0x0?_0x54fce2:void 0x0};}},I=class{constructor(..._0x1afe60){const _0x2d88ca=a0_0x374876;throw{'status':0x1f4,'error':_0x2d88ca(0x21c),'message':_0x1afe60[_0x2d88ca(0x6ea)]>0x0?_0x1afe60:void 0x0};}},ue=require('@whiskeysockets/baileys');async function ys(_0x306e2a){const _0x231a99=a0_0x374876;let _0x4d5374=new N(ys[_0x231a99(0x2f4)]),_0x43c1e5=R['getClient'](),_0x322805=_0x43c1e5['db'](b[_0x231a99(0x34c)]('DATABASE')[_0x231a99(0x6cf)][_0x231a99(0x638)]+'-instances')[_0x231a99(0x579)](_0x306e2a),_0x525137=async(_0x4a3566,_0x1d7865)=>{const _0x1ab47b=_0x231a99;try{return await _0x43c1e5[_0x1ab47b(0x61a)](),await _0x322805[_0x1ab47b(0xf5)]({'_id':_0x1d7865},JSON[_0x1ab47b(0x601)](JSON[_0x1ab47b(0x5f1)](_0x4a3566,ue[_0x1ab47b(0x23a)][_0x1ab47b(0x729)])),{'upsert':!0x0});}catch{}},_0x418fca=async _0xa6340f=>{const _0x53a16c=_0x231a99;try{await _0x43c1e5[_0x53a16c(0x61a)]();let _0x3d5e84=await _0x322805[_0x53a16c(0x108)]({'_id':_0xa6340f}),_0x4d5d72=JSON[_0x53a16c(0x5f1)](_0x3d5e84);return JSON[_0x53a16c(0x601)](_0x4d5d72,ue[_0x53a16c(0x23a)][_0x53a16c(0x466)]);}catch{}},_0x4784c6=async _0x18fef2=>{const _0x4f8866=_0x231a99;try{return await _0x43c1e5[_0x4f8866(0x61a)](),await _0x322805[_0x4f8866(0x6f6)]({'_id':_0x18fef2});}catch{}},_0x4117d9=await _0x418fca(_0x231a99(0x2f6))||(0x0,ue['initAuthCreds'])();return{'state':{'creds':_0x4117d9,'keys':{'get':async(_0x388be1,_0x1b6f46)=>{const _0x48deb6=_0x231a99;let _0x55bcad={};return await Promise['all'](_0x1b6f46[_0x48deb6(0x675)](async _0x106dcb=>{const _0xd92c65=_0x48deb6;let _0x18b77e=await _0x418fca(_0x388be1+'-'+_0x106dcb);_0x388be1===_0xd92c65(0x39d)&&_0x18b77e&&(_0x18b77e=ue[_0xd92c65(0x1f1)][_0xd92c65(0x2f2)][_0xd92c65(0x6b5)][_0xd92c65(0x1a0)](_0x18b77e)),_0x55bcad[_0x106dcb]=_0x18b77e;})),_0x55bcad;},'set':async _0x39a1a5=>{const _0xea0c64=_0x231a99;let _0x1ffc1b=[];for(let _0x52d0ab in _0x39a1a5)for(let _0x32f79b in _0x39a1a5[_0x52d0ab]){let _0x44b7e9=_0x39a1a5[_0x52d0ab][_0x32f79b],_0x5131a4=_0x52d0ab+'-'+_0x32f79b;_0x1ffc1b[_0xea0c64(0x36f)](_0x44b7e9?_0x525137(_0x44b7e9,_0x5131a4):_0x4784c6(_0x5131a4));}await Promise[_0xea0c64(0x361)](_0x1ffc1b);}}},'saveCreds':async()=>_0x525137(_0x4117d9,'creds')};}var Cs=T(require(a0_0x374876(0x360))),Ms=T(require(a0_0x374876(0x4a9))),Ot=require(a0_0x374876(0x401)),hr=require(a0_0x374876(0x33a)),Tt=require('@whiskeysockets/baileys'),Rt;function hi(_0x4b3162){const _0x32b001=a0_0x374876;return Rt||(Rt=(0x0,hr[_0x32b001(0x67e)])({'url':_0x4b3162[_0x32b001(0x2bb)]}),Rt[_0x32b001(0x61a)]()),Rt;}var re=class c{constructor(_0x30c136,_0x11d2ea){const _0x581e70=a0_0x374876;this[_0x581e70(0x6e0)]=_0x30c136,this[_0x581e70(0x2b3)]=_0x11d2ea,this['logger']=new N(c[_0x581e70(0x2f4)]),this[_0x581e70(0x6c7)]=hi(_0x30c136);}set[a0_0x374876(0x439)](_0x2c16b5){this['instanceName']=_0x2c16b5;}async[a0_0x374876(0x478)](){const _0x1aef38=a0_0x374876;try{return await this[_0x1aef38(0x6c7)][_0x1aef38(0x5aa)](['keys',this[_0x1aef38(0x6e0)][_0x1aef38(0x11c)]+':*']);}catch(_0x25e70a){this[_0x1aef38(0x131)][_0x1aef38(0x32e)](_0x25e70a);}}async[a0_0x374876(0x52e)](_0x2b3605,_0x329f04){const _0x208c91=a0_0x374876;try{let _0x1fed9d=JSON[_0x208c91(0x5f1)](_0x329f04,Tt['BufferJSON'][_0x208c91(0x729)]);return await this['client']['hSet'](this[_0x208c91(0x6e0)][_0x208c91(0x11c)]+':'+this[_0x208c91(0x2b3)],_0x2b3605,_0x1fed9d);}catch(_0x3ed6f7){this[_0x208c91(0x131)][_0x208c91(0x32e)](_0x3ed6f7);}}async[a0_0x374876(0x52a)](){const _0x2bac77=a0_0x374876;try{let _0x13693d=await this['client'][_0x2bac77(0x1a8)](this[_0x2bac77(0x6e0)][_0x2bac77(0x11c)]+':'+this[_0x2bac77(0x2b3)]);if(_0x13693d){for(let _0x1f49b0 in _0x13693d)Object[_0x2bac77(0x467)][_0x2bac77(0x196)][_0x2bac77(0x3fb)](_0x13693d,_0x1f49b0)&&(_0x13693d[_0x1f49b0]=JSON[_0x2bac77(0x601)](_0x13693d[_0x1f49b0],Tt[_0x2bac77(0x23a)][_0x2bac77(0x466)]));return _0x13693d;}}catch(_0xf75d68){this[_0x2bac77(0x131)]['error'](_0xf75d68);}}async[a0_0x374876(0x6ab)](_0x2de2f9){const _0x44cbb5=a0_0x374876;try{let _0x2b2b71=await this['client'][_0x44cbb5(0x633)](this[_0x44cbb5(0x6e0)]['PREFIX_KEY']+':'+this[_0x44cbb5(0x2b3)],_0x2de2f9);if(_0x2b2b71)return JSON[_0x44cbb5(0x601)](_0x2b2b71,Tt[_0x44cbb5(0x23a)]['reviver']);}catch(_0x276d1d){this['logger']['error'](_0x276d1d);}}async['removeData'](_0x5dc628){const _0x56b117=a0_0x374876;try{return await this[_0x56b117(0x6c7)][_0x56b117(0x399)](this[_0x56b117(0x6e0)][_0x56b117(0x11c)]+':'+this['instanceName'],_0x5dc628);}catch(_0x30907a){this[_0x56b117(0x131)][_0x56b117(0x32e)](_0x30907a);}}async[a0_0x374876(0x3c3)](_0x5c5898){const _0x48d68f=a0_0x374876;try{return await this[_0x48d68f(0x6c7)]['del'](_0x5c5898||this[_0x48d68f(0x6e0)][_0x48d68f(0x11c)]+':'+this[_0x48d68f(0x2b3)]);}catch(_0x50bc11){this[_0x48d68f(0x131)][_0x48d68f(0x32e)](_0x50bc11);}}};async function bs(_0x40aa5c,_0x5014c4){const _0x39a4b6=a0_0x374876;let _0x6f35d8=new N(bs[_0x39a4b6(0x2f4)]),_0x4ec1a2=new re(_0x40aa5c,_0x5014c4),_0x1f85bb=async(_0x54b3e8,_0x9f8187)=>{const _0xa5fd8f=_0x39a4b6;try{return await _0x4ec1a2[_0xa5fd8f(0x52e)](_0x9f8187,_0x54b3e8);}catch(_0x5dd0b8){return _0x6f35d8[_0xa5fd8f(0x32e)]({'localError':_0xa5fd8f(0x52e),'error':_0x5dd0b8});}},_0x21a918=async _0x241146=>{const _0x5f52d1=_0x39a4b6;try{return await _0x4ec1a2[_0x5f52d1(0x6ab)](_0x241146);}catch(_0x33a3e7){_0x6f35d8[_0x5f52d1(0x32e)]({'readData':_0x5f52d1(0x52e),'error':_0x33a3e7});return;}},_0x1cee59=async _0x4bb531=>{const _0x27f7b6=_0x39a4b6;try{return await _0x4ec1a2[_0x27f7b6(0x1ad)](_0x4bb531);}catch(_0x3f5ad4){_0x6f35d8['error']({'readData':_0x27f7b6(0x1ad),'error':_0x3f5ad4});}},_0x2357be=await _0x21a918('creds')||(0x0,Ot['initAuthCreds'])();return{'state':{'creds':_0x2357be,'keys':{'get':async(_0x636865,_0x2bf8f2)=>{const _0x482670=_0x39a4b6;let _0x249378={};return await Promise[_0x482670(0x361)](_0x2bf8f2[_0x482670(0x675)](async _0x558fd1=>{const _0x12c513=_0x482670;let _0x414696=await _0x21a918(_0x636865+'-'+_0x558fd1);_0x636865===_0x12c513(0x39d)&&_0x414696&&(_0x414696=Ot[_0x12c513(0x1f1)][_0x12c513(0x2f2)][_0x12c513(0x6b5)][_0x12c513(0x1a0)](_0x414696)),_0x249378[_0x558fd1]=_0x414696;})),_0x249378;},'set':async _0xe6238c=>{const _0x24f2f1=_0x39a4b6;let _0x34d791=[];for(let _0x12ea66 in _0xe6238c)for(let _0x558adc in _0xe6238c[_0x12ea66]){let _0x26f099=_0xe6238c[_0x12ea66][_0x558adc],_0xdaeaf0=_0x12ea66+'-'+_0x558adc;_0x34d791['push'](_0x26f099?await _0x1f85bb(_0x26f099,_0xdaeaf0):await _0x1cee59(_0xdaeaf0));}await Promise[_0x24f2f1(0x361)](_0x34d791);}}},'saveCreds':async()=>await _0x1f85bb(_0x2357be,_0x39a4b6(0x2f6))};}var L=T(require('fs')),Me=require(a0_0x374876(0x695)),Dt=T(require(a0_0x374876(0x55b))),_t=require('https-proxy-agent'),gi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x374876(0x3ba)](),At=gi[a0_0x374876(0x443)]('\x0a')['map'](_0x1f0ce6=>{const _0xfd4e4f=a0_0x374876;let _0x5c5621=_0x1f0ce6[_0xfd4e4f(0x443)](':'),_0x2b7fa8={'host':_0x5c5621[0x0],'port':_0x5c5621[0x1],'protocol':_0xfd4e4f(0xf3)};return _0x5c5621['length']===0x4&&(_0x2b7fa8[_0xfd4e4f(0x44d)]=_0x5c5621[0x2],_0x2b7fa8[_0xfd4e4f(0x3e2)]=_0x5c5621[0x3]),_0x2b7fa8;});function gr(_0x594933){const _0x57da20=a0_0x374876;return At[_0x57da20(0x441)](_0x493519=>_0x493519[_0x57da20(0x6e7)]===_0x594933)||null;}function mr(){const _0x373ff4=a0_0x374876;if(At[_0x373ff4(0x6ea)]===0x0)return null;let _0xfa9a0f=Math[_0x373ff4(0x2ee)](Math[_0x373ff4(0x5bf)]()*At['length']);return At[_0xfa9a0f];}function a0_0x4def(){const _0x51e90e=['):\x20Erro\x20ao\x20editar\x20agentes:\x20','\x1b[30m%s\x1b[0m','Erro\x20ao\x20atualizar\x20o\x20fluxo:','request\x20received\x20in\x20editFlowgroup','axios','Data\x20inválida\x20fornecida','getMessageModelForOwner','sendLocation','add','ListType','CORS','contactHandle','waitingMenu_text','expiration','parse','processgoToFlow','jsonwebtoken','qrCode','SERVER_ACK','unreadcount','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20não\x20encontrou','saveCreds','toLocaleString','):\x20Bloco\x20copiado:\x20','utf8','RECONNECT_TIME_FRAME','):\x20Buscando\x20flow...','/instance/connect','Router','AddChatLabel','removeInstance','endsWith','URL:','apirequest','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','mediaSticker','replyOptions','CHATS_SET','connect','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','SERVER_PORT','activatedCount','authService','image','mentioned','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','group-participants.update','originalUrl','copyBlock','authentication','sendPresenceUpdate','DATABASE_CONNECTION_PASSWORD','createInstance','firstValue','eventHandler','buttons','messageId','latitude','timerId','src','EXPIRIN_IN','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','groupLeave','hGet','deleteChat','decryptPollVote','_Chats','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','DB_PREFIX_NAME','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','verifiedName','agents','apiResponse','request\x20received\x20in\x20updateAgent','fetchProfilePictureUrl','processApiRequest','All_Instances_Config','insertMany','findGroupInfos','ListMessage','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','apiName','\x20inseridos\x20no\x20banco\x20de\x20dados...','buttonId','ex:\x20\x22groupJid=120362@g.us\x22','request\x20received\x20in\x20editFlow','lastBlockId','fetchPrivacySettings','Operador:\x20\x22','path','#ff9484','PORT','request\x20received\x20in\x20deleteDoneMessages','generateHash','waitingForReplyMenu','allContacts','pollUpdateMessage','getBase64FromMediaMessage','prefixCommand','protocolMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','atendimentoAberto','pop','jsonschema','badSession','createSharedFlow','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','announcement','isJWT','isLong','The\x20global\x20api\x20key\x20must\x20be\x20set','parseInt','leaveGroup','router','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','hbs','\x20}\x0a','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','notEmpty','waitingMenu_ExpiredMessage','where','message_normalized','fetchInstances','namespace','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','AUTHENTICATION_API_KEY','key','map','#ffc5c7','chats.delete','automateSystem','join','request\x20received\x20in\x20updateCustomFields','editflowreply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','number','createClient','scheduled','#9ab6c1','715976zDydci','convertedOptions','pollErrorMessage','extractMessageContent','contacts','updateStatusPrivacy','\x20com\x20sucesso.','contactsArrayMessage','pollCreationMessageKey','spawn','verify','Converted\x20image\x20deleted','sendPoll','uazapiSendLocation','readFile','isInteger','):\x20Conversa\x20está\x20expirada\x20-\x20voto','toLowerCase','updateOnlinePrivacy','downloads','uuid','sendReaction','stopMinutes','reorderReplyOptions','fromMe','copyDataToNewModel','updateProfileName','findByIdAndUpdate','deleteflow','CLEANING_INTERVAL','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','#64c4ff','routerPath','Error\x20writing\x20file:\x20','object','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','connecting','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','uazapiSendMenu','MESSAGES_SET','blocks','remoteJids','readData','participants','):\x20teve\x20mudanças\x20chat.name:\x20','CHATS_UPSERT','env.yml','Cached\x20audio\x20found,\x20returning\x20existing\x20file','HeaderType','getOwnPropertyDescriptor','getRandomText','buttonText','AppStateSyncKeyData','Missing\x20global\x20api\x20key','):\x20Editando\x20grupo\x20do\x20fluxo...','LICENSE_INVALID','action','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Contacts\x20not\x20found','array','):\x20Query\x20params:','/instance/connectionState','#01d0e2','FlowModel','CONNECTION_UPDATE','):\x20Flow\x20não\x20encontrado','../env.yml','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','listType','insertCount','client','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','updateMissingShareOwners','readMessageBot','):\x20Deletando\x20mensagem','Erro:','allFlows','\x1b[37m','CONNECTION','BRL','website','PLAYED','Erro\x20ao\x20atualizar\x20conversa:\x20','2499186ZQspWH','$set','getTime','online','6260940vTHDHZ','remoteJidsRemaining','fone','repeat','!cmd_','#dfaef0','#9ba6ff','groupFetchAllParticipating','redisEnv','useMultiFileAuthState','fullName','toUpperCase','padEnd','):\x20lastBlockId:\x20','#d3a91f','host','repository','mongoose','length','):\x20[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','3NpYxfT','groupInviteCode','):\x20delete\x20=\x20true','info','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20atualização\x20chat:\x20','\x1b[32m%s\x1b[0m','saveChatVariables','subdomain','deleteOne','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','SSL_CONF_FULLCHAIN','deleteFlow','replace','Error\x20fetching\x20and\x20updating\x20profile:\x20','toBRL','replaceVariablesInReplyOptions','updateOne','end','Flow\x20iniciado\x20com\x20','default','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','leadInfo.customFields','\x22reaction\x22\x20must\x20be\x20an\x20emoji','ObjectId','Erro\x20ao\x20atualizar\x20AutomateSystem:','status.instance','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','messages','#00a1f2','sendAudio','#92ceac','CORS_METHODS','\x20is\x20already\x20in\x20use.','chats.update','url','):\x20Conversa\x20está\x20expirada','messages.set','HH:mm:ss','groupCreate','delaySecMin','Valor\x20inicial:\x20\x22','):\x20Visualizando\x20AutomateSystem','Erro\x20ao\x20remover\x20label\x20','hex','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20Iniciando\x20bot...','public','selectableCount','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','text/event-stream','\x20->\x20NÃO\x20CORRESPONDE.','HttpsProxyAgent','Instance\x20Key\x20from\x20DB:','leadInfo.desativadoFluxoAte','Selecione','Output\x20path:\x20','console','deleteMessageForEveryone','replacer','composing','messageHandle','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','\x22,\x20valor\x20a\x20substituir:\x20\x22','COLOR','interval\x20não\x20é\x20um\x20número','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Deletando\x20conversa...','createGroup','contacts.upsert','authorization','not_announcement','#f64847','unhandledRejection','Fluxo\x20não\x20encontrado','updateLastSeenPrivacy','):\x20Bloco\x20com\x20ID\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','convertToWebP','formatBRNumber','endSession','):\x20transformedCustomFieldVariables','?timestamp=','checkAndUpdateChatStatus','updateMissingTags','LEVEL','ms\x20(Attempt\x20','createConnection',',\x20lastCondition:\x20','Cache-Control','no-cache','remote\x20\x22origin\x22','isRunning','customFields','\x20chats\x20de\x20','TYPE','Error\x20occurred\x20while\x20archiving\x20chat:\x20','\x20\x1b[0m','and',',\x20Resultado:\x20','\x1b[0m','mkdirSync','getContactModelForOwner','flowName','getConversationModelForOwner','poll','unlocked','verbose','findOrCreate','PENDING','joinGroupValidate','documentWithCaptionMessage','ORG:','evaluateCondition','Error\x20creating\x20group','InstancesAlterarTodas','lastmsg','groups.upsert','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Logger',',\x20resultado:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','buffer','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Error\x20updating\x20message\x20status:','deleteAll','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','startsWith','no.connection','processConditions','connectToWhatsappController','currency','restartInstance','subjectOwner','CORS_CREDENTIALS','Erro\x20ao\x20editar\x20o\x20bloco:\x20','/wa-chats','convertaudio','format','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','DD/MM\x20HH:mm:ss','checkAndRestartProcess','leadInfo.','):\x20Editando\x20bloco...','limit','$pull','toBrazilianNumberFormat','includes','groupadd','preview','Error\x20updating\x20profile\x20picture','protocol','setNewValue','fileLength','documentMessage','http://ifconfig.me/ip','http','addBlock','replaceOne','SERVER_TYPE','sendDataWebhook','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','\x20instance\x20does\x20not\x20exist','match','quoted','readdirSync','lastDisconnect','status@broadcast','https://chat.whatsapp.com/','dbSettings','closed','JWT','STORE_MESSAGE','out','Invalid\x20format','Schema','certonly','findOne','AutomateSystem','cache','stanzaId','15360WbjIRf','capitalizedWords','findFlow','warn','This\x20name\x20','GUARD','Certbot\x20executado\x20com\x20sucesso.','request\x20received\x20in\x20editConversation','content-type','Parando\x20aplicação,\x20atualização\x20recebida','document','restart','_Flows','\x20minutos.\x20Será\x20às\x20','StatusJidList\x20is\x20required','archive','PREFIX_KEY','Temp\x20image\x20deleted','/wa-groups','):\x20nextBlock.uazapi.name','REDIS_PREFIX_KEY','list','editflowblock','fileUrl','FULLCHAIN','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','matchRegex','Erro\x20do\x20Certbot:\x20','writeFile','/instance/fetchInstances','\x22\x20-\x20REMOVED','including\x20timestamp\x20in\x20url:\x20','normalizeMessageContent','stateConnection','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x20não\x20encontrado','connection.update','logger','buttonMessage','response','messageType','fetchLabels','conversation','\x1b[33m\x1b[1m','release','replaceVariables','compression','everyOne','notas','):\x20Editando\x20edição\x20do\x20fluxo...','uazapiSendMedia','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','processingScheduleMessageId','\x1b[47m','webhookModel','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20Enviando\x20texto','requestPairingCode','option','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Comando\x20desconhecido:\x20','Erro\x20ao\x20editar\x20agentes:\x20','addReplyOption','\x1b[31m%s\x1b[0m','groups_ignore','success','ip:\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','132cwvhpi','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','MESSAGES_UPSERT','noConnection','deleteMessage','50mb','contains','getUpdate','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','connectionStatus','https://ipinfo.io/json','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','sleep','values','upsertChats','listMessage','sendWhatsAppAudio','last','pino','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','connectedClient','/events/:instance','createflow','_id','Atualização:\x20','true','pollCreationMessageV3','Chat\x20','):\x20Editando\x20variável\x20do\x20fluxo...','ScheduleMessageModel','__esModule','Erro\x20ao\x20iniciar\x20fluxo:\x20','fetchLatestBaileysVersion','createRegularFlow','Image\x20created','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','_error','342sicLGJ','ReplyOption\x20com\x20ID\x20','application/json','editChat','5uJLMEc','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','chatHandle','lastCondition','lastReceivedMessage','getDevice','body','DOCKER_ENV','FlowRouter','):\x20expirationTime:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','role','unknown\x20operation\x20type\x20[','Module\x20-\x20ON','METHODS','https://api.openai.com/v1/audio/speech','vcard','getBusinessProfile','stderr','findConversation','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','https://','StartBot','copy','scheduleMessage','groupName','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','isBase64','hasOwnProperty','deleteConversation','Imagem\x20não\x20encontrada',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','Erro\x20ao\x20buscar\x20conversa:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','connectToWhatsapp','secondValue','fromObject','webhookService','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','waUploadToServer','env','getOwnPropertyNames','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','updateMissingCustomFields','hGetAll','function','linkPreview','sort','isJidUser','removeData','ChatModel','connectionUpdate','SERVER_OFFLINE','URL','request\x20received\x20in\x20scheduleMessage','views','\x5cd+','debug','width','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Desconectado,\x20parando\x20execução.','cpf','/config','/clients-info','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','/wa-message','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','reactionMessage','API\x20Key\x20from\x20Request:','labels.association','scheduleMessages','replaceValue','chatModify','):\x20','json','\x20mensagens\x20de\x20','privacySettings','):\x20Conversa\x20atualizada\x20em\x20memória','data:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','AutomateFunctions','uazapiSendText','/media/','send','flattenObject','Conversa\x20deletada\x20com\x20sucesso.','varedits','\x20-i\x20','Chat\x20com\x20ID\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Error\x20updating\x20profile\x20name','dbServer','indexOf','sending','announce','context','contentText','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','from','applyvaredit','sendMessage','mentions','importChatsBatch','jpegThumbnail','\x1b[30m','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','defineProperty','charAt','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','findIndex','mediaKey','http://icanhazip.com/','EMAIL:','_ScheduleMessages','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','proto','^\x5cd+','groupHandler','):\x20Não\x20achou\x20nenhum\x20flow','editflowcondition','Image\x20path:\x20','Instance\x20deleted','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','isURL','ReplyOptions\x20finais\x20após\x20reordenação:','AUTHENTICATION','labels.edit','command','Valor\x20de\x20find\x20ou\x20replace\x20ausente','sendMedia',',\x20fará\x20nova\x20verificação\x20em\x20','log','lastSend','Error\x20change\x20group\x20setting','reconnectTimestamps','pollOnReplyDelete','splice','LOG','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','flushHeaders','creds.json','PROXY','Revoke\x20error','pre','createAndSave','scheduleSendText','moreLogs','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20[messages.upsert]\x20group\x20ignored','contacts.update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','text','label','@ffmpeg-installer/ffmpeg','Erro\x20ao\x20inserir\x20chats:','when','generateWAMessageFromContent','^\x5cd+[\x5c.@\x5cw-]+','Internal\x20Server\x20Error','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','participant','):\x20Deletando\x20fluxo...','CONECTADO\x20À\x20UAZAPI','urlencoded','count','Nenhum\x20chat\x20encontrado\x20para\x20editar.','pollCreationMessage','.mp4','sendSticker','importChats','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','reorderBlocks','replaceVariablesChat','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','normalizeMessage','.TEL;waid=','readreceipts','detail','updateChatWithMessage','DATABASE_ENABLED','groupToggleEphemeral','save','Validate','createConversationforgoToFlow','groupSetting','updateFlowConfig','Safari\x20(MacOS)','BufferJSON','\x20não\x20encontrado\x20para\x20atualização.','goNextblock','updateMediaMessage','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','NO_IP','truncatedtoEnd','setting','\x1b[36m','delayChatLabel','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Enviando\x20mídia','_Contacts','temp-','equal','):\x20Alterando\x20fluxo...','\x1b[42m','The\x20','updateMessage','Font\x20is\x20required','\x1b[32m','cleaningUp',',\x20Comparador:\x20','):\x20Edit\x20schedule\x20message...','isArray','PRIVKEY','conditions','code','stickerMessage','ENABLED','#b4ebff',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','less','#6f7bcf','chat','createSectionsFromValues','readMessages','max','createConversationforStartFlow','toDataURL','blockId','next_groupId','saveConversationToDatabase','flush','\x1b[44m','lastSendMessage','!stop','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','group','rm\x20-rf\x20','processConditionsTest','request\x20received\x20in\x20deleteFlow','notContains','/*.json','conversationTimestamp','\x20quoted:\x20','scheduleSendMedia','loadproxy','):\x20Editando\x20replyOption...','inner','caption','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','Last\x20message\x20not\x20found\x20for\x20number:','toArray','):\x20[messages.update]\x20group\x20ignored','getTicketSystem','qrcode','vote','@broadcast','findWebhook','_activatedCount','Business\x20profile\x20fetched','/wa-connection-update','deleteMany','ChatRouter','CHATS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','content','eventemitter2','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Notifying\x20clients\x20for\x20chat:\x20','connectionClosed','chats','testProxy','CONTACTS_UPDATE','webhookMap','scheduleNextCheck','Type\x20defined\x20as\x20audio','https://uazapi-plugin.bubbleapps.io/?url=','Chrome','Reinicialização\x20iniciada:\x20','getflow','groupValidate','API_KEY','qrcode-terminal','existsSync','sendContact','waitingMenu_replyOptions','sendMenu','findAndReplace','imported','Flow\x20não\x20encontrado','ignoreGroups','item','811012JWSPVI','certbot','empty','goToFlow','stopMinutesMaxActives','.pdf','request\x20received\x20in\x20updateFlowConfig','AUTHENTICATION_JWT_EXPIRIN_IN','Log\x20out\x20instance:\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','messageStubType','state','Types',',\x20Expiration\x20Time:\x20','delayChatLabel_MAX_RETRIES','instanceName','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','connectionState','crypto','):\x20alterando\x20this.AutomateSystem','contactMessage','./.git/config','):\x20tem\x20blocks','URI','REDIS','authModel','http://checkip.dyndns.org','_Labels','Erro\x20ao\x20buscar\x20conversas:\x20','makeCacheableSignalKeyStore','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','updateBlock','etiquetas','setContext','\x1b[40m','deletedCount','updateOneById','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','SECRET','editFlowVariable','Profile\x20not\x20found','static','Getting\x20profile\x20with\x20jid:\x20','request\x20received\x20in\x20editFlowvariable','bateu\x20events','DELETED',':\x20Tentativa\x20','importChatsAntigo','replyOption','not\x20loaded','DATABASE_CONNECTION_USER','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Certbot:\x20','Database\x20is\x20not\x20enabled','updateProfilePicturePrivacy','getMIMEType','-whatsapp-api','DaysToDelete','updateCustomFields','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','responsavelid',',\x20valor\x20passado:\x20\x22','variablesToObject','chats.upsert','locationMessage','desativadoFluxoAte','lastMessage','defineAuthState','replaceVariablesInObject','Erro\x20ao\x20normalizar\x20a\x20mensagem:','notify','floor','method','displayName','open','Message','numbers','name','videoMessage','creds','revokeInviteCode','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','getStatus','https://api.ipify.org?format=json','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','changeVariables','locked','pollCreationMessageV2','TEXT','):\x20Mensagem\x20já\x20enviada\x20para\x20','updateMissingLabels','deleted','loadEnv','validate','Deleted\x20','min','Bloco\x20com\x20ID\x20','notEqual','video-cover.png','groups','whatsappNumber','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','SSL_CONF','recording','\x20removido\x20do\x20chat\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','messages.update','isJidGroup','folder','Authentication\x20error','https://api.elevenlabs.io/v1/text-to-speech/','model','post','fetchStatus','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','getScheduleMessage','Sending\x20audio\x20whatsapp','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','flowStopConversation','longitude','Enter\x20a\x20value\x20in\x20milliseconds','createFlow','isConnected','):\x20Enviando\x20contato','INFO','\x0aFN:','Erro\x20ao\x20editar\x20a\x20conversa:\x20','DATABASE','):\x20Enviando\x20áudio','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','created','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','addresss','processvaredits','presence','error',',\x20Minutes\x20to\x20Close:\x20','.xlsx','load','some','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','unlinkSync','):\x20customFieldVariables','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','entries','.mp3','\x22\x20-\x20NOT\x20CONNECTION','@redis/client','Sistema\x20atualizado\x20com\x20sucesso!','editFlowCondition','utf-8','STORE_CLEANING_TERMINAL','envYaml','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20Entrou\x20na\x20função\x20goToFlow','presenceSubscribe','uazapiSendContact','imageMessage','fetchMessages','Image\x20converted\x20to\x20WebP','stopped','createJid','sendMessageWithTyping','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','resetReconnectionVariables','get','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','statusCode','setHeader','reaction','groupJid','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','shareOwners','removed','address','fileName','\x20saindo\x20da\x20função','getHours','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Conexão\x20estabelecida','arrayUnique','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','rowId','ContactModel','long','all','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','viewOnceMessage','Not\x20Found','authState',',\x20qrcodeCount:\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','close','mimetype','STORE_CHATS','drop','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20isVote:\x20','Instance\x20\x22','push','REDIS_ENABLED','\x1b[46m','STATUS_INSTANCE','optionDescription','getClient',',\x20saindo.','/webhook','reconnectAttempts','readFileSync','Tentando\x20reconectar...','create','msgRetryCounterCache','):\x20Procurando\x20conversa','Button\x20IDs\x20cannot\x20be\x20repeated.','chatId','delay','Processing\x20audio','media','archived','string','audioWhatsapp','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','getLabelModelForOwner','getScheduleMessageModelForOwner','https://api.openai.com/v1/images/generations','startFlow','gifPlayback','generate','instance.','webhook','\x5c$&','segundos','cleanStore','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','createWebhook','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','toNumber','Read\x20messages\x20fail','\x20adicionado\x20ao\x20chat\x20','WARN','closeExistingConversations','hDel','lowerCase','/exit','END:VCARD','app-state-sync-key','\x1b[33m','SSL_CONF_PRIVKEY','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','messages.upsert','uazapi','Not\x20is\x20business\x20profile','DATABASE_CONNECTION_HOST','flowConfig','<subdomain>','Error\x20updating\x20profile\x20status','processUazapi','flowStopMinutes','Rótulo\x20inválido\x20ou\x20sem\x20ID.','editFlowReply','sharePass','digest','Variáveis\x20não\x20encontradas:','messagesSend','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','@g.us','Archiving\x20chat','Unauthorized','waMonitor','findChats','request\x20received\x20in\x20starFlow','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','findGroupInfo','\x20-\x20retornado:\x20','trim','sem\x20texto\x20na\x20mensagem','Subscribed\x20Events:','Content\x20is\x20required','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','enviado\x20para','updateGParticipant','uazapiSendAudio','updateReadReceiptsPrivacy','delAll','loadInstance','variable','updateProfileStatus','removeProfilePicture','TEL','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','setRestartTimer','):\x20conversation.waitingMenu_name','editFlowGroup','\x20não\x20encontrado\x20para\x20cópia','):\x20updateResult:','\x20attempts.','delaySecMax','status','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','_FlowHistorico','chatLog','none','updatePresence',',\x20valor\x20a\x20encontrar:\x20\x22','inviteCode','process','isBusiness','eventEmitter','tags','}}\x20->\x20valor\x20não\x20encontrado','):\x20Erro\x20durante\x20a\x20atualização:\x20','pairingCode','valid','password','\x20de\x20conectar\x20com\x20IP\x20extra.','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','#000000','findParticipants','):\x20Erro\x20ao\x20buscar\x20conversas\x20','port','flow','ephemeralMessage','Erro\x20ao\x20aplicar\x20varedit:\x20','https://github.com/uazapi/uazapi.git','.txt','fetchContacts','messageContextInfo','newStoppedUntil','13EWGXkM','No\x20invite\x20code','dbInstance','Trying\x20to\x20get\x20business\x20profile','/wa-message-update','storePath','@newsletter','evaluateConditionTest','editedMessage','ConversationModel','call','.jwt','binary','shift','\x20after\x20','editOperator','@whiskeysockets/baileys','getFlow','g.us','/:instanceName','metadata','\x20inseridas\x20no\x20banco\x20de\x20dados...','Última\x20tentativa\x20de\x20recuperação\x20para\x20a\x20mensagem:\x20ID\x20=\x20','nome','put','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','contact_blacklist','refused','stopWhenYouSendMsg','SEND_MESSAGE','variablesNotFound','sendButtons','finish','#ffffff','):\x20Entrou\x20na\x20função\x20stop','setWebhook','editConversation','stopConversation','headerString','EMAIL','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Esse\x20fluxo\x20expirou','instanceCount','color','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','header','view\x20engine','Erro\x20ao\x20deletar\x20chat:','GROUP_PARTICIPANTS_UPDATE','description','saveMediaToFile','https','updatePrivacySettings','remove.instance','Getting\x20image\x20from\x20url','):\x20this.processingScheduleMessageId:\x20','Erro\x20ao\x20copiar\x20dados:','scheduleSendAudio','\x1b[33m%s\x1b[0m','redirect','editflow','has','ON\x20-\x20dbName:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','dbClient','Group\x20not\x20found','deleteBlock','removeOlderDisconnectedInstances','realVariables','Error\x20in\x20markMessageAsRead:','use','DARK','reference','Last\x20message\x20not\x20found','paused','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','config','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','dataValidate','File\x20written\x20to\x20path:\x20','find','Fluxos\x20não\x20estão\x20ativados','split','statSync','localWebhook','.gif','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','messageSecret','lean','DELIVERY_ACK','cwd','integer','username','WA\x20MODULE','font','chats.set','getChatModelForOwner','available','convert','delete','bulkWrite','mediatype','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','user','Close\x20connection','unavailable','nomecompleto','\x20not\x20found,\x20retrying\x20in\x20','request\x20received\x20in\x20deleteConversation','notMatchRegex','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','desc','editFlowVaredit','fetchProfilePicture','GROUPS_UPDATE','Variável\x20não\x20encontrada!','reviver','prototype','findOneAndUpdate','audio/mp4','remoteJid','messageTimestamp','maxActives','\x1b[1m','node-mime-types','flowname:\x20','Content-Type','KEY','):\x20Limpando\x20AutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','test','child_process','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','instanceKeys','/instance/create','express','headers','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','downloadMediaMessage','$addToSet','PRESENCE_UPDATE','):\x20Criando\x20nova\x20conversa[createNewConversation]','updateAgent','pollMessageOnDelete','error\x20get\x20vote','flowConversation','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','messaging-history.set','mediaMessage','.doc','forEach','getFlowModelForOwner','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','subjectTime','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','\x1b[41m','Unable\x20to\x20leave\x20the\x20group','findLabels','uncaughtException','variables','getMessage','fetchBusinessProfile','groups.update','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','LabelModel','^\x5cd+([-]\x5cd+)*@g.us$','mongodb://','formatStatusMessage','findGroup','Erro\x20de\x20atualização:\x20','order','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','updateGParticipate','processblock','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','\x22\x20not\x20found','):\x20Error\x20processing\x20the\x20block:\x20','formatVCard','send.message','augusto.fcs@gmail.com','creation','.webm','node-cache','pt-BR','menuIgnoreNonVotes','Número:\x20','sendStatus','/wa-contacts','labelId','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','SendScheduleMessage','groupRevokeInvite','class-validator','getAutomateSystem','apikey','request\x20body:\x20','17728oJazNU','getProfileName','oldValue','Instância\x20não\x20encontrada.','405818RLNgvE','video','leadInfo','AUTHENTICATION_TYPE','flowPrefixCommand','):\x20teve\x20mudanças\x20chat.displayName:\x20','saveVariable','Background\x20color\x20is\x20required','updateProfilePicture','Type\x20not\x20found','statusJidList','params','GROUPS_UPSERT','getMinutes','exists','js-yaml','contextInfo','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','groupId','Message\x20not\x20found','bodyString','size','groupSettingUpdate','markMessageAsRead','request\x20received\x20in\x20getFlow','contactname','owner','substring','replaceVariablesLogs','.ogg','licenca','audio/mpeg','):\x20Enviando\x20enquete','update','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','prepareMediaMessage','env.KEY\x20!==\x20key','\x0a*Você\x20respondeu*:\x0a','menuMessage','mongodb','listen','qrcode.updated','now','insert','WebhookGlobal','trimmed','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','findGroups','CONFIGURAÇÃO\x20GERAL:','keep-alive','filter','):\x20newSecondValue\x20após\x20replaceVariables:','uazapiDeleteMessage','):\x20Ler\x20mensagem','CONTACTS_UPSERT','contact','createServer','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editFlow','modifiedCount','requestFile','DATABASE_CONNECTION_DB_PREFIX_NAME','base64','RemoveChatLabel','Erro\x20ao\x20adicionar\x20label\x20','groupParticipantsUpdate','.webp','ini','waitingMenu_id','round','NextBlock','\x20horas\x20e\x20','):\x20Enviando\x20localização','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','CONTACTS_SET','emit','Read\x20messages','CORS_ORIGIN','http://ip-api.com/json','/create','subject','Button\x20texts\x20cannot\x20be\x20repeated','exit','textMessage','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','audio','):\x20Fluxos\x20não\x20estão\x20ativados','1xYlsHa','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20',',\x20Segundo\x20Valor:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','editScheduleMessage','toggleEphemeral','Deletion\x20failed','Instance\x20restarted','updateConversation','Erro\x20ao\x20atualizar\x20o\x20flow.','saveTextReply','silent','greater','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','sections','.xls','enabled','Erro\x20ao\x20importar\x20chats:','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','instance','MAX_RECONNECT_ATTEMPTS','READ','pushName','getAllData','synchronizeFlows','ephemeralExpiration',']\x20(','writeData','unreadCount','):\x20enviado\x20para\x20[','slice','\x0a{\x20instance:\x20','onWhatsApp','collections','groupDesc','Rótulo\x20deletado:','updateStopChat','DEBUG','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','ButtonsMessage','findAll','Erro\x20de\x20reinicialização:\x20','set','groupAcceptInvite','request\x20received\x20in\x20createFlow','local_map','remove','AUTHENTICATION_JWT_SECRET','SERVER','USER','choices','readMessage','wuid','?authSource=admin&readPreference=primary&directConnection=true','start','VERBOSE','writeFileSync','nextBlock:','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','No\x20join\x20group\x20invite\x20code\x20or\x20url','Label\x20','jid','):\x20Going\x20to\x20','fetchConversation','exports','getConversation','Erro\x20ao\x20editar\x20o\x20chat:\x20','fetchProfile','listResponseMessage','auth','Não\x20respondeu\x20com\x20a\x20enquete.','exec','sharp','\x20Tentativa\x20de\x20reconexão\x20','logout','/wa-qrcode','delayChatLabel_RETRY_DELAY_MS','-instances','sha256','InstancesAsDisconnectedX','\x20ao\x20chat\x20','email','instanceName\x20not\x20provided.','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Instance\x20ID:','waInstances','QRCODE_UPDATED','encoding','stdout','ERROR:\x20','fetchChats','apply','toFile','joinGroup','*\x0a\x0a','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','menuType','type','instanceInfo','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','createNewConversation','collection','sendText','errors','throwAndLogError','://','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','deleteInstance','value','done','footerText','keys','Error\x20updating\x20participants','errorLog','\x20-\x20ON:\x20','statusMessage','envProcess','truncatedto','query','getDelay','processPollUpdateMessage','The\x20property\x20cannot\x20be\x20empty','ERROR','Error\x20removing\x20profile\x20picture','organization','title','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','editflowvaredit','findById','blockLogs','\x20minutos','updateReplyOption','assign','varedit','delayMessage','arraybuffer','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','redis://127.0.0.1:6379','):\x20Buscando\x20conversa...','expression','phoneNumber','boolean','Forbidden','sectionsToString','optionName','sendList','MESSAGES_UPDATE','CHATS_DELETE','groupUpdateSubject','):\x20Buscando\x20conversas...','sendCommand','toString','getContentType','OrAnd','express-async-errors','sign','error_log','archiveChat','groupUpdateDescription','#d8e651','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','lastInteraction','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20Dados\x20migrados\x20com\x20sucesso','Início','data','Error\x20update\x20group\x20picture','\x20foi\x20interrompido\x20pelo\x20usuário.','\x20segundos','menuExpiredMessage','instances','random','audioMessage','http://myexternalip.com/raw','profilePicture','backgroundColor','@s.whatsapp.net','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','height','deleteDoneMessages','configService','jwt','profile','Cannot\x20','Getting\x20profile\x20info','\x1b[37m%s\x1b[0m','upperCase','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','urlOrBase64','groupMetadata','createHash','deleteReplyOption','loggedOut','promote','bearer','block','Error\x20fetching\x20group','output','last_update','events','\x22\x20cannot\x20be\x20empty','/media','updateMany','DisconnectReason','):\x20Mensagem\x20não\x20descriptografada\x20detectada:\x20ID\x20=\x20','imagechat','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada:\x20ID\x20=\x20','condition','getVariablesChat','redis','pollMessage','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','rows','message','.png','Audio\x20processed','No\x20participants','updateGroupPicture','options','connectedName','profilePictureUrl','stringify','Erro\x20ao\x20encerrar\x20a\x20API'];a0_0x4def=function(){return _0x51e90e;};return a0_0x4def();}function Ss(_0x404fb2){const _0x1c4b63=a0_0x374876;let _0x29374a=_0x5c0686=>typeof _0x5c0686==_0x1c4b63(0x383)&&_0x5c0686[_0x1c4b63(0x6ea)]>0x0,_0x23f703=_0x53c215=>{let _0x398c3f=parseInt(_0x53c215,0xa);return!isNaN(_0x398c3f)&&_0x398c3f>0x0&&_0x398c3f<=0xffff;},_0x205c15=_0x776ed=>typeof _0x776ed==_0x1c4b63(0x383)&&_0x776ed[_0x1c4b63(0x6ea)]>0x0;return _0x404fb2&&_0x29374a(_0x404fb2[_0x1c4b63(0x6e7)])&&_0x23f703(_0x404fb2[_0x1c4b63(0x3e8)])&&(!_0x404fb2[_0x1c4b63(0x44d)]||_0x205c15(_0x404fb2[_0x1c4b63(0x44d)]))&&(!_0x404fb2[_0x1c4b63(0x3e2)]||_0x205c15(_0x404fb2[_0x1c4b63(0x3e2)]))&&(_0x404fb2[_0x1c4b63(0xee)]===_0x1c4b63(0xf3)||_0x404fb2['protocol']===_0x1c4b63(0x424));}var vs=require(a0_0x374876(0x2b6)),Cr=a0_0x374876(0x239),Ns,oe=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x26f290=a0_0x374876;let _0x113d8f=await we['findOne']();oe=_0x113d8f?.[_0x26f290(0x4e7)]??null,fi=_0x113d8f?.[_0x26f290(0x2e0)]??null,Cr=_0x113d8f?.[_0x26f290(0x165)]??_0x26f290(0x294),Ns=_0x113d8f?.[_0x26f290(0x5ef)]??Rs??_0x26f290(0x3a2),console[_0x26f290(0x201)](_0x26f290(0x4eb)),console['log'](_0x113d8f);}async function yi(){await wi();}yi();var wr={},ie={},ye=class c{constructor(_0x534f55,_0x1e01ff,_0x4b462f){const _0x1f2f6b=a0_0x374876;this[_0x1f2f6b(0x5c8)]=_0x534f55,this[_0x1f2f6b(0x3dc)]=_0x1e01ff,this[_0x1f2f6b(0x6e8)]=_0x4b462f,this['AutomateSystem']=null,this['logger']=new N(c[_0x1f2f6b(0x2f4)]),this[_0x1f2f6b(0x526)]={},this[_0x1f2f6b(0x445)]={},this[_0x1f2f6b(0x12d)]={'state':_0x1f2f6b(0x368)},this[_0x1f2f6b(0x3f6)]=(0x0,j[_0x1f2f6b(0x679)])(se,'downloads'),this['msgRetryCounterCache']=new Ms[(_0x1f2f6b(0x701))](),this['userDevicesCache']=new Ms['default'](),this[_0x1f2f6b(0x73e)]=!0x1,this[_0x1f2f6b(0x290)]={'status.instance':_0x1f2f6b(0x283),'qrcode.updated':_0x1f2f6b(0x55e),'messages.upsert':_0x1f2f6b(0x1be),'messages.update':_0x1f2f6b(0x3f5),'send.message':_0x1f2f6b(0x1be),'group.upsert':'/wa-groups','group.update':_0x1f2f6b(0x11e),'group-participants.update':_0x1f2f6b(0x11e),'connection.update':_0x1f2f6b(0x283),'messages.set':_0x1f2f6b(0x1be),'contacts.set':_0x1f2f6b(0x4ae),'contacts.upsert':_0x1f2f6b(0x4ae),'contacts.update':_0x1f2f6b(0x4ae),'presence.update':'/wa-presence','chats.set':_0x1f2f6b(0xdf),'chats.update':_0x1f2f6b(0xdf),'chats.upsert':_0x1f2f6b(0xdf),'chats.delete':'/wa-chats'},this[_0x1f2f6b(0x377)]=0x0,this['reconnectTimestamps']=[],this[_0x1f2f6b(0x527)]=0xa,this[_0x1f2f6b(0x60d)]=0xea60,this[_0x1f2f6b(0x74a)]=!0x1,this[_0x1f2f6b(0x17c)]={'chats.upsert':async(_0x12d752,_0x4db078)=>{const _0x63258e=_0x1f2f6b;let _0x555507=[];for await(let _0x35f91b of _0x12d752)_0x555507[_0x63258e(0x36f)]({'_id':_0x35f91b['id'],'owner':this[_0x63258e(0x526)][_0x63258e(0x547)],'group':_0x35f91b['id'][_0x63258e(0x613)](_0x63258e(0x3b1)),'name':_0x35f91b[_0x63258e(0x2f4)]||_0x35f91b[_0x63258e(0x2f0)]||null,'contactname':null,'lastmsg':_0x35f91b[_0x63258e(0x271)]&&_0x35f91b[_0x63258e(0x271)][_0x63258e(0x5ab)]()['length']<0xd?_0x35f91b['conversationTimestamp']*0x3e8:_0x35f91b[_0x63258e(0x271)]||null,'archived':_0x35f91b[_0x63258e(0x382)]||!0x1,'unreadcount':_0x35f91b[_0x63258e(0x52f)]||0x0});this['sendDataWebhook']('chats.upsert',_0x555507);},'chats.update':async(_0x4cd350,_0x582ac4)=>{const _0x28c725=_0x1f2f6b;for(let _0x2c4dca of _0x4cd350){let _0x8a10c9={'_id':_0x2c4dca['id'],'owner':this[_0x28c725(0x526)][_0x28c725(0x547)],'group':_0x2c4dca['id']['endsWith'](_0x28c725(0x3b1)),'name':_0x2c4dca[_0x28c725(0x2f4)]||_0x2c4dca[_0x28c725(0x2f0)],'archived':_0x2c4dca[_0x28c725(0x382)],'ephemeralExpiration':_0x2c4dca[_0x28c725(0x52c)]},_0x397057=!0x1,_0x432966={};_0x8a10c9[_0x28c725(0x382)]!=null&&(this[_0x28c725(0x131)]['verbose'](this[_0x28c725(0x2b3)]+'\x20('+this['instance'][_0x28c725(0x547)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x2c4dca[_0x28c725(0x382)]),_0x397057=!0x0,_0x432966[_0x28c725(0x382)]=_0x2c4dca['archived']),_0x2c4dca[_0x28c725(0x2f4)]!=null&&(this[_0x28c725(0x131)][_0x28c725(0xc1)](this['instanceName']+'\x20('+this[_0x28c725(0x526)][_0x28c725(0x547)]+_0x28c725(0x6ad)+_0x2c4dca['name']),_0x397057=!0x0,_0x432966[_0x28c725(0x2f4)]=_0x2c4dca[_0x28c725(0x2f4)]),_0x2c4dca['displayName']!=null&&(this[_0x28c725(0x131)][_0x28c725(0xc1)](this[_0x28c725(0x2b3)]+'\x20('+this[_0x28c725(0x526)]['wuid']+_0x28c725(0x4c0)+_0x2c4dca[_0x28c725(0x2f0)]),_0x397057=!0x0,_0x432966[_0x28c725(0x2f4)]=_0x2c4dca[_0x28c725(0x2f0)]);let _0x4b1dc1;_0x397057&&(_0x4b1dc1=await this['repository'][_0x28c725(0x25d)][_0x28c725(0x6fe)]({'where':{'_id':_0x2c4dca['id']}},_0x432966,this[_0x28c725(0x526)]['wuid'])),_0x4b1dc1&&q(this[_0x28c725(0x2b3)],_0x28c725(0x28d),{'chat':_0x4b1dc1});}},'chats.delete':async _0x3fe646=>{const _0x3b5a56=_0x1f2f6b;this[_0x3b5a56(0xf7)]('chats.delete',[..._0x3fe646]);}},this[_0x1f2f6b(0x5fe)]={'contacts.upsert':async(_0x40e6fc,_0x5dd60a)=>{const _0x49305f=_0x1f2f6b;let _0x589559=await this[_0x49305f(0x6e8)][_0x49305f(0x4f2)][_0x49305f(0x441)]({'where':{}},this[_0x49305f(0x526)][_0x49305f(0x547)]),_0x2efa20=[];for await(let _0x421a85 of _0x40e6fc)_0x589559[_0x49305f(0x441)](_0x3fb82d=>_0x3fb82d['_id']===_0x421a85['id'])||_0x2efa20[_0x49305f(0x36f)]({'_id':_0x421a85['id'],'pushName':_0x421a85?.['name']||_0x421a85?.[_0x49305f(0x63a)],'owner':this[_0x49305f(0x526)][_0x49305f(0x547)]});this['sendDataWebhook'](_0x49305f(0x733),_0x2efa20),await this[_0x49305f(0x6e8)][_0x49305f(0x4f2)]['insert'](_0x2efa20);},'contacts.update':async(_0x4bce61,_0x50ab07)=>{const _0x229aee=_0x1f2f6b;let _0x47e545=[];for await(let _0x5df4e1 of _0x4bce61)_0x47e545['push']({'_id':_0x5df4e1['id'],'pushName':_0x5df4e1?.[_0x229aee(0x2f4)]??_0x5df4e1?.[_0x229aee(0x63a)],'owner':this[_0x229aee(0x526)][_0x229aee(0x547)]});this[_0x229aee(0xf7)](_0x229aee(0x213),_0x47e545);}},this['messageHandle']={'messaging-history.set':async({messages:_0x501d4c,chats:_0x53f1c2,isLatest:_0x326581},_0x58d39d)=>{const _0x1a7429=_0x1f2f6b;if(_0x326581){let _0x37d561=await Promise['all'](_0x53f1c2['map'](async _0x36ab0b=>({'_id':_0x36ab0b['id'],'owner':this['instance'][_0x1a7429(0x547)],'group':_0x36ab0b['id'][_0x1a7429(0x613)](_0x1a7429(0x3b1)),'name':_0x36ab0b[_0x1a7429(0x2f4)]||_0x36ab0b[_0x1a7429(0x2f0)]||null,'contactname':null,'lastmsg':_0x36ab0b[_0x1a7429(0x271)]&&_0x36ab0b['conversationTimestamp'][_0x1a7429(0x5ab)]()[_0x1a7429(0x6ea)]<0xd?_0x36ab0b['conversationTimestamp']*0x3e8:_0x36ab0b[_0x1a7429(0x271)]||null,'archived':_0x36ab0b[_0x1a7429(0x382)]||!0x1,'unreadcount':_0x36ab0b[_0x1a7429(0x52f)]||0x0})));this[_0x1a7429(0xf7)](_0x1a7429(0x450),_0x37d561),await this['upsertChats'](_0x37d561,_0x58d39d);}let _0x452cef=[],_0x1c4b5c=Date[_0x1a7429(0x4e5)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5e97fe]of Object[_0x1a7429(0x337)](_0x501d4c)){if(_0x5e97fe[_0x1a7429(0x5e9)]?.[_0x1a7429(0x657)]||_0x5e97fe[_0x1a7429(0x5e9)]?.['senderKeyDistributionMessage']||!_0x5e97fe[_0x1a7429(0x5e9)]||_0x5e97fe[_0x1a7429(0x674)][_0x1a7429(0x46a)]===_0x1a7429(0xfe)||(Cs['default'][_0x1a7429(0x661)](_0x5e97fe?.['messageTimestamp'])&&(_0x5e97fe[_0x1a7429(0x46b)]=_0x5e97fe[_0x1a7429(0x46b)]?.[_0x1a7429(0x394)]()),_0x5e97fe[_0x1a7429(0x46b)]&&_0x5e97fe['messageTimestamp'][_0x1a7429(0x5ab)]()['length']<0xd&&(_0x5e97fe[_0x1a7429(0x46b)]=_0x5e97fe[_0x1a7429(0x46b)]*0x3e8),_0x5e97fe[_0x1a7429(0x46b)]<_0x1c4b5c))continue;let _0x5159e1=(0x0,m['normalizeMessageContent'])(_0x5e97fe[_0x1a7429(0x5e9)]),_0x5870fa=(0x0,m[_0x1a7429(0x5ac)])(_0x5159e1),{message_normalized:_0x503cbe}=this[_0x1a7429(0x22d)](_0x5159e1,_0x5870fa,null);Object[_0x1a7429(0x583)](_0x503cbe)[_0x1a7429(0x6ea)]>0x0&&_0x452cef[_0x1a7429(0x36f)]({'_id':_0x5e97fe[_0x1a7429(0x674)]['id'],'key':_0x5e97fe[_0x1a7429(0x674)],'pushName':_0x5e97fe[_0x1a7429(0x529)],'participant':_0x5e97fe[_0x1a7429(0x21e)],'message':_0x5159e1,'messageType':_0x5870fa,'message_normalized':{'key':_0x5e97fe[_0x1a7429(0x674)],'pushName':_0x5e97fe[_0x1a7429(0x529)],'messageTimestamp':_0x5e97fe[_0x1a7429(0x46b)],..._0x503cbe},'messageTimestamp':_0x5e97fe[_0x1a7429(0x46b)],'owner':this[_0x1a7429(0x526)][_0x1a7429(0x547)]});}_0x58d39d[_0x1a7429(0x258)]&&_0x452cef[_0x1a7429(0x6ea)]>0x0&&(this[_0x1a7429(0x131)][_0x1a7429(0xc1)](this[_0x1a7429(0x2b3)]+'\x20('+this[_0x1a7429(0x526)][_0x1a7429(0x547)]+'):\x20'+_0x452cef[_0x1a7429(0x6ea)]+_0x1a7429(0x1c8)+this[_0x1a7429(0x526)][_0x1a7429(0x547)]+_0x1a7429(0x406)),await this[_0x1a7429(0x6e8)][_0x1a7429(0x5e9)][_0x1a7429(0x4e6)]([..._0x452cef],this[_0x1a7429(0x526)]['wuid'])),this[_0x1a7429(0xf7)](_0x1a7429(0x712),[..._0x452cef]),_0x501d4c=void 0x0;},'messages.upsert':async({messages:_0x83c607,type:_0x4c2047},_0x4d2284)=>{const _0x527268=_0x1f2f6b;let _0x58392e=_0x83c607[0x0],_0x53f448=_0x58392e[_0x527268(0x674)]['id'],_0x555645=_0x58392e[_0x527268(0x2ae)]===0x2,_0x1f894a=0xa;if(this[_0x527268(0x445)]?.[_0x527268(0x14c)]&&_0x58392e[_0x527268(0x674)]['remoteJid'][_0x527268(0xea)](_0x527268(0x3b1))){this[_0x527268(0x131)][_0x527268(0xc1)](this[_0x527268(0x2b3)]+'\x20('+this['instance'][_0x527268(0x547)]+_0x527268(0x212));return;}if(_0x555645){if(console['error'](this[_0x527268(0x2b3)]+'\x20('+this[_0x527268(0x526)]['wuid']+_0x527268(0x5e0)+_0x53f448),ie[_0x53f448]||(ie[_0x53f448]=0x0),ie[_0x53f448]++,console[_0x527268(0x32e)](this[_0x527268(0x2b3)]+'\x20('+this[_0x527268(0x526)]['wuid']+'):\x20Tentativas\x20para\x20ID\x20'+_0x53f448+':\x20'+ie[_0x53f448]+'/'+_0x1f894a),ie[_0x53f448]>=_0x1f894a){console[_0x527268(0x32e)](_0x527268(0x407)+_0x53f448);let _0x102f70={'key':{..._0x58392e[_0x527268(0x674)]},'message':{'conversation':_0x527268(0x4a1)+_0x53f448+_0x527268(0x22b)}};_0x58392e[_0x527268(0x674)][_0x527268(0x46a)][_0x527268(0xea)](_0x527268(0x5c4))&&this[_0x527268(0x6c7)]['ev']['emit'](_0x527268(0x3a1),{'messages':[_0x102f70],'type':_0x527268(0x2ed)}),console[_0x527268(0x32e)](this[_0x527268(0x2b3)]+'\x20('+this[_0x527268(0x526)]['wuid']+_0x527268(0x6eb)+_0x53f448+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'),delete ie[_0x53f448];}}else ie[_0x53f448]&&(console['error'](_0x527268(0x5e2)+_0x53f448),delete ie[_0x53f448]);if(_0x4c2047!=='notify'||!_0x58392e?.[_0x527268(0x5e9)]||_0x58392e[_0x527268(0x5e9)]?.[_0x527268(0x657)]||_0x58392e['message']['senderKeyDistributionMessage']||_0x58392e[_0x527268(0x674)][_0x527268(0x46a)]===_0x527268(0xfe))return;let _0x2e56ec=null,_0x11e06f=null;try{_0x2e56ec=await this[_0x527268(0x58c)](_0x58392e),_0x11e06f=_0x2e56ec?_0x2e56ec[_0x527268(0x679)](','):null;}catch(_0x2bc708){this[_0x527268(0x131)]['verbose'](this[_0x527268(0x2b3)]+'\x20('+this[_0x527268(0x526)][_0x527268(0x547)]+'):\x20'+(_0x2bc708 instanceof Error?_0x2bc708[_0x527268(0x5e9)]:JSON[_0x527268(0x5f1)](_0x2bc708,null,0x2))),_0x11e06f=_0x527268(0x483);}this[_0x527268(0x6c7)]['sendPresenceUpdate'](_0x527268(0x45b)),Cs['default'][_0x527268(0x661)](_0x58392e[_0x527268(0x46b)])&&(_0x58392e[_0x527268(0x46b)]=_0x58392e[_0x527268(0x46b)]?.[_0x527268(0x394)]()),_0x58392e[_0x527268(0x46b)]&&_0x58392e[_0x527268(0x46b)]['toString']()[_0x527268(0x6ea)]<0xd&&(_0x58392e[_0x527268(0x46b)]=_0x58392e[_0x527268(0x46b)]*0x3e8);let _0x3c3e05=_0x58392e[_0x527268(0x5e9)],_0x26b1c0=(0x0,m['normalizeMessageContent'])(_0x3c3e05),_0x16b519=(0x0,m[_0x527268(0x5ac)])(_0x26b1c0),{messageContent:_0x33ec6f,message_normalized:_0x112740}=this[_0x527268(0x22d)](_0x26b1c0,_0x16b519,_0x11e06f);_0x16b519==='protocolMessage'&&_0x33ec6f?.[_0x527268(0x3f9)]&&(_0x16b519='editedMessage');let _0x2305c7={'_id':_0x58392e['key']['id'],'key':_0x58392e[_0x527268(0x674)],'pushName':_0x58392e[_0x527268(0x529)],'message':_0x26b1c0,'messageType':_0x16b519,'message_normalized':{'key':_0x58392e[_0x527268(0x674)],'pushName':_0x58392e[_0x527268(0x529)],'messageTimestamp':_0x58392e[_0x527268(0x46b)],'source':(0x0,m[_0x527268(0x17f)])(_0x58392e[_0x527268(0x674)]['id']),..._0x112740},'messageTimestamp':_0x58392e[_0x527268(0x46b)],'owner':this[_0x527268(0x526)][_0x527268(0x547)],'source':(0x0,m[_0x527268(0x17f)])(_0x58392e[_0x527268(0x674)]['id'])};_0x33ec6f||(console[_0x527268(0x32e)]('Mensagem\x20não\x20suportada'),this[_0x527268(0x131)]['error'](_0x2305c7)),this[_0x527268(0x131)][_0x527268(0x201)](this['instanceName']+'\x20('+this[_0x527268(0x526)]['wuid']+_0x527268(0x1c6)+(_0x2305c7[_0x527268(0x674)]?.[_0x527268(0x699)]?_0x527268(0x3bf):'recebido\x20de')+'\x20['+_0x2305c7[_0x527268(0x674)]?.[_0x527268(0x46a)][_0x527268(0x6fa)](_0x527268(0x5c4),'')+_0x527268(0x52d)+_0x2305c7[_0x527268(0x134)]+')'),_0x2305c7[_0x527268(0x66d)]?.[_0x527268(0x215)]&&this[_0x527268(0x131)][_0x527268(0x201)](_0x53f448+':\x20'+_0x2305c7[_0x527268(0x66d)]?.['text']),await this[_0x527268(0x6e8)]['message'][_0x527268(0x4e6)]([_0x2305c7],this[_0x527268(0x526)][_0x527268(0x547)]),this[_0x527268(0xf7)](_0x527268(0x3a1),_0x2305c7),q(this[_0x527268(0x2b3)],'messages',{'message':_0x2305c7}),_0x58392e['key'][_0x527268(0x46a)]!==_0x527268(0xfe)&&await this[_0x527268(0x231)](_0x4d2284,_0x2305c7,'MESSAGES_UPSERT');},'messages.update':async(_0x5e9eac,_0x587b8c)=>{const _0x4e1136=_0x1f2f6b;let _0x1d4a25={0x0:_0x4e1136(0x58e),0x1:_0x4e1136(0xc3),0x2:_0x4e1136(0x605),0x3:_0x4e1136(0x44a),0x4:_0x4e1136(0x528),0x5:'PLAYED'};for await(let {key:_0x2baddd,update:_0x4c06b0}of _0x5e9eac){if(this[_0x4e1136(0x445)]?.[_0x4e1136(0x14c)]&&_0x2baddd[_0x4e1136(0x46a)][_0x4e1136(0xea)](_0x4e1136(0x3b1))){this[_0x4e1136(0x131)]['verbose'](this[_0x4e1136(0x2b3)]+'\x20('+this[_0x4e1136(0x526)][_0x4e1136(0x547)]+_0x4e1136(0x27b));return;}if(_0x2baddd[_0x4e1136(0x46a)]!==_0x4e1136(0xfe)){let _0x530c0b=Date[_0x4e1136(0x4e5)](),_0x5393d0;_0x4c06b0[_0x4e1136(0x5e9)]===null&&_0x4c06b0[_0x4e1136(0x3d2)]===void 0x0?_0x5393d0=_0x4e1136(0x2d4):_0x5393d0=_0x1d4a25[_0x4c06b0[_0x4e1136(0x3d2)]];let _0x431e62=_0x2baddd[_0x4e1136(0x46a)][_0x4e1136(0x6fa)](/:\d{1,2}@/g,'@'),_0x5e6580={..._0x2baddd,'remoteJid':_0x431e62,'status':_0x5393d0,'datetime':_0x530c0b,'owner':this[_0x4e1136(0x526)]['wuid']};this[_0x4e1136(0xf7)](_0x4e1136(0x311),_0x5e6580),await this[_0x4e1136(0x24d)](_0x2baddd,_0x5e6580);}}},'labels.association':async({type:_0x39191d,association:_0x2f5612})=>{const _0x13b754=_0x1f2f6b;if(_0x2f5612[_0x13b754(0x575)]==='label_jid'){let _0x27bdac,_0x3198c0=0x0;for(;!_0x27bdac&&_0x3198c0<this['delayChatLabel_MAX_RETRIES'];)_0x27bdac=await this[_0x13b754(0x6e8)][_0x13b754(0x25d)][_0x13b754(0x108)]({'where':{'_id':_0x2f5612[_0x13b754(0x37e)]}},this[_0x13b754(0x526)]['wuid']),_0x27bdac||(_0x3198c0++,console[_0x13b754(0x201)](_0x13b754(0x16c)+_0x2f5612[_0x13b754(0x37e)]+_0x13b754(0x45d)+this[_0x13b754(0x55f)]+_0x13b754(0x744)+_0x3198c0+'/'+this[_0x13b754(0x2b2)]+')'),await this[_0x13b754(0x244)](this[_0x13b754(0x55f)]));if(!_0x27bdac){console[_0x13b754(0x32e)]('Failed\x20to\x20find\x20chat\x20'+_0x2f5612['chatId']+_0x13b754(0x3ff)+this['delayChatLabel_MAX_RETRIES']+_0x13b754(0x3d0));return;}switch(_0x39191d){case'add':console['log'](_0x2f5612),await this[_0x13b754(0x6e8)][_0x13b754(0x25d)][_0x13b754(0x6fe)]({'where':{'_id':_0x2f5612['chatId']}},{'leadInfo.etiquetas':_0x2f5612[_0x13b754(0x4af)]},this[_0x13b754(0x526)][_0x13b754(0x547)],void 0x0,_0x13b754(0x47e));break;case _0x13b754(0x541):console[_0x13b754(0x201)](_0x2f5612),await this[_0x13b754(0x6e8)][_0x13b754(0x25d)][_0x13b754(0x6fe)]({'where':{'_id':_0x2f5612['chatId']}},{'leadInfo.etiquetas':_0x2f5612[_0x13b754(0x4af)]},this[_0x13b754(0x526)][_0x13b754(0x547)],void 0x0,_0x13b754(0xe8));break;default:console[_0x13b754(0x32e)](_0x13b754(0x186)+_0x39191d+']');}}},'labels.edit':async _0x295c0f=>{const _0x39edd6=_0x1f2f6b;if(!_0x295c0f||!_0x295c0f['id']){console[_0x39edd6(0x32e)](_0x39edd6(0x3aa));return;}if(!_0x295c0f[_0x39edd6(0x302)]){let _0x52bac0=[_0x39edd6(0x64e),_0x39edd6(0x6a0),'#fed428',_0x39edd6(0x6dd),_0x39edd6(0x680),'#56ccb4','#fe9dfe',_0x39edd6(0x6e6),_0x39edd6(0x25c),_0x39edd6(0x5b3),_0x39edd6(0x6bf),_0x39edd6(0x676),_0x39edd6(0x70c),_0x39edd6(0x736),_0x39edd6(0x70a),'#83e421','#ffae04',_0x39edd6(0x259),_0x39edd6(0x6de),'#9568cf'],_0x4818f9;typeof _0x295c0f[_0x39edd6(0x41c)]==_0x39edd6(0x67d)&&_0x295c0f[_0x39edd6(0x41c)]>=0x0&&_0x295c0f[_0x39edd6(0x41c)]<_0x52bac0[_0x39edd6(0x6ea)]?_0x4818f9=_0x52bac0[_0x295c0f[_0x39edd6(0x41c)]]:(console[_0x39edd6(0x32e)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x295c0f[_0x39edd6(0x41c)]),_0x4818f9=_0x39edd6(0x3e5));let _0x2e5f4b={'_id':_0x295c0f['id'],'colorHex':_0x4818f9,'color':_0x295c0f?.[_0x39edd6(0x41c)],'name':_0x295c0f?.['name'],'owner':this[_0x39edd6(0x526)]['wuid']};await this[_0x39edd6(0x6e8)]['label']['updateOne']({'where':{'_id':_0x295c0f['id']}},_0x2e5f4b,this[_0x39edd6(0x526)][_0x39edd6(0x547)]),console[_0x39edd6(0x201)]('Rótulo\x20atualizado:',_0x295c0f);}_0x295c0f[_0x39edd6(0x302)]&&(await this[_0x39edd6(0x6e8)][_0x39edd6(0x216)][_0x39edd6(0x454)]({'where':{'_id':_0x295c0f['id']}},this[_0x39edd6(0x526)][_0x39edd6(0x547)]),console[_0x39edd6(0x201)](_0x39edd6(0x536),_0x295c0f['id']));}},this[_0x1f2f6b(0x1f3)]={'groups.upsert':_0x1fc701=>{const _0x2c1805=_0x1f2f6b;this[_0x2c1805(0xf7)]('groups.upsert',_0x1fc701);},'groups.update':_0x540840=>{const _0x20dba4=_0x1f2f6b;this[_0x20dba4(0xf7)](_0x20dba4(0x495),_0x540840);},'group-participants.update':_0x38227c=>{const _0x43fcb3=_0x1f2f6b;this[_0x43fcb3(0xf7)](_0x43fcb3(0x622),_0x38227c);}},this[_0x1f2f6b(0x2b2)]=0x5,this[_0x1f2f6b(0x55f)]=0x1388,this[_0x1f2f6b(0x58c)]=async _0x5876cc=>{const _0x1e978a=_0x1f2f6b;if(_0x5876cc['message']?.['pollUpdateMessage']){let _0x199ac7=await this['getMessage'](_0x5876cc[_0x1e978a(0x5e9)]['pollUpdateMessage'][_0x1e978a(0x689)],!0x0);if(_0x199ac7){let _0x24696d=_0x199ac7[_0x1e978a(0x674)][_0x1e978a(0x699)]?this[_0x1e978a(0x526)]['wuid']+_0x1e978a(0x5c4):_0x199ac7[_0x1e978a(0x674)][_0x1e978a(0x21e)]||_0x199ac7[_0x1e978a(0x674)][_0x1e978a(0x46a)],_0x42a6e2=_0x199ac7['key']['id'],_0x2386e2=_0x199ac7[_0x1e978a(0x5e9)],_0xa1708d=Buffer[_0x1e978a(0x1df)](_0x2386e2[_0x1e978a(0x3ef)][_0x1e978a(0x448)][_0x1e978a(0x5ab)](_0x1e978a(0x719)),_0x1e978a(0x719)),_0x382e58=(0x0,m[_0x1e978a(0x635)])(_0x5876cc[_0x1e978a(0x5e9)][_0x1e978a(0x654)]['vote'],{'pollCreatorJid':_0x24696d,'pollMsgId':_0x42a6e2,'pollEncKey':_0xa1708d,'voterJid':_0x5876cc[_0x1e978a(0x674)][_0x1e978a(0x699)]?this[_0x1e978a(0x526)][_0x1e978a(0x547)]+_0x1e978a(0x5c4):_0x5876cc['key'][_0x1e978a(0x46a)][_0x1e978a(0x613)](_0x1e978a(0x403))?_0x5876cc['key'][_0x1e978a(0x21e)]:_0x5876cc['key']['remoteJid']}),_0x33ad57=[],_0x40b8c8=_0x382e58['selectedOptions'][_0x1e978a(0x675)](_0x2b36b8=>Buffer[_0x1e978a(0x1df)](_0x2b36b8)['toString']('hex'));for(let {optionName:_0x4c6642}of _0x2386e2['pollCreationMessage']?.[_0x1e978a(0x5ee)]||_0x2386e2[_0x1e978a(0x16b)]?.[_0x1e978a(0x5ee)]||_0x2386e2[_0x1e978a(0x2fe)]?.[_0x1e978a(0x5ee)])_0x40b8c8['indexOf']((0x0,m[_0x1e978a(0x561)])(Buffer[_0x1e978a(0x1df)](_0x4c6642))[_0x1e978a(0x5ab)](_0x1e978a(0x719)))>-0x1&&_0x33ad57['push'](_0x4c6642);return _0x33ad57;}}return null;},this[_0x1f2f6b(0x22d)]=(_0x55df1f,_0x4d6ebf,_0x22b283)=>{const _0x3f426b=_0x1f2f6b;try{let _0x450714=_0x55df1f?(0x0,m[_0x3f426b(0x684)])(_0x55df1f)[_0x4d6ebf]:void 0x0,_0x2a44e7={},_0x493fc5=null,_0x36f90c=null,_0x129c97=null;_0x4d6ebf===_0x3f426b(0x657)&&_0x450714?.['editedMessage']&&(_0x4d6ebf=(0x0,m[_0x3f426b(0x5ac)])(_0x450714['editedMessage']),_0x493fc5=_0x55df1f[_0x3f426b(0x657)][_0x3f426b(0x674)]['id'],_0x450714=_0x55df1f[_0x3f426b(0x657)][_0x3f426b(0x3f9)][_0x4d6ebf]),_0x55df1f[_0x4d6ebf]?.[_0x3f426b(0x4cb)]?.[_0x3f426b(0x10b)]&&_0x55df1f[_0x4d6ebf]?.[_0x3f426b(0x4cb)]?.['quotedMessage']&&(_0x36f90c=_0x55df1f[_0x4d6ebf][_0x3f426b(0x4cb)][_0x3f426b(0x10b)]),_0x55df1f['reactionMessage']&&(_0x129c97=_0x55df1f[_0x3f426b(0x1c0)][_0x3f426b(0x674)]['id']);let _0x5c0739;if(_0x450714&&typeof _0x450714=='object'&&'pollCreationMessageKey'in _0x450714&&({pollCreationMessageKey:_0x5c0739}=_0x450714),_0x4d6ebf===_0x3f426b(0x224)||_0x4d6ebf===_0x3f426b(0x2fe)||_0x4d6ebf===_0x3f426b(0x16b)){let _0x25d0bd=_0x450714[_0x3f426b(0x5ee)][_0x3f426b(0x675)](_0xc5ca1f=>_0xc5ca1f[_0x3f426b(0x5a4)])[_0x3f426b(0x679)]('|');_0x2a44e7[_0x3f426b(0x682)]=_0x25d0bd;}let _0x21d099='';if(_0x450714&&(_0x21d099+=_0x450714[_0x3f426b(0x2f4)]?_0x450714['name']:'',_0x21d099+=_0x450714[_0x3f426b(0x277)]?'\x20'+_0x450714[_0x3f426b(0x277)]:'',_0x21d099+=_0x450714[_0x3f426b(0x136)]?'\x20'+_0x450714[_0x3f426b(0x136)]:'',_0x21d099+=_0x450714[_0x3f426b(0x2f0)]?'\x20'+_0x450714[_0x3f426b(0x2f0)]:''),_0x4d6ebf===_0x3f426b(0x160)){_0x21d099=(_0x450714[_0x3f426b(0x591)]||'')+'\x0a'+(_0x450714[_0x3f426b(0x422)]||'')+'\x0a'+(_0x450714[_0x3f426b(0x582)]||'');let _0x5cffd3=this['sectionsToString'](_0x450714['sections']);_0x2a44e7[_0x3f426b(0x682)]=_0x5cffd3;}if(_0x4d6ebf===_0x3f426b(0x557)&&(_0x22b283=_0x450714[_0x3f426b(0x591)]),_0x450714&&_0x450714[_0x3f426b(0x18a)]){let _0x421ba8=this[_0x3f426b(0x4a4)](JSON[_0x3f426b(0x5f1)](_0x450714[_0x3f426b(0x18a)],null,0x2));_0x21d099=_0x21d099+'\x0a'+_0x421ba8;}if(_0x450714){let {sections:_0x27bced,listType:_0x25f8f7,displayName:_0x23f7dd,vcard:_0x56cf9e,contactVcard:_0x4b1038,name:_0x21942e,caption:_0x6fb6d,conversation:_0x5cdc2c,pollCreationMessageKey:_0x2bdcc4,footerText:_0x3a4cea,contentText:_0x3fea94,pageCount:_0x3d80c0,headerType:_0x546106,isAvatar:_0x2f8b6f,isAnimated:_0x23b247,fallbackLc:_0x26ff66,fallbackLg:_0x3d44e3,namespace:_0x46869c,elementName:_0x1e7eef,localizableParams:_0x24e48d,viewOnce:_0x527ea7,height:_0x1e28ce,width:_0x573178,key:_0x55813f,firstScanLength:_0x7d0804,firstScanSidecar:_0x4d42f0,gifPlayback:_0x353779,gifAttribution:_0x273f0a,midQualityFileSha256:_0xdca8c8,scansSidecar:_0x5c8ee0,streamingSidecar:_0xa39895,thumbnailHeight:_0x159215,thumbnailWidth:_0x226050,thumbnailEncSha256:_0x330290,thumbnailDirectPath:_0x4121d4,canonicalUrl:_0x22a606,matchedText:_0x4656c2,previewType:_0x584082,thumbnailSha256:_0x113d0e,deviceListMetadataVersion:_0xb45762,inviteLinkGroupTypeV2:_0x3302f0,interactiveAnnotations:_0xcb51fa,scanLengths:_0x5bfdc1,jpegThumbnail:_0x57f059,url:_0x57e838,mediaKeyTimestamp:_0x901a97,waveform:_0x531cee,stickerSentTs:_0x1e4c82,firstFrameLength:_0x3e0fa5,fileEncSha256:_0x50cd40,contextInfo:_0x3642e9,firstFrameSidecar:_0xed23c9,directPath:_0x521c13,fileSha256:_0x113812,mediaKey:_0x2af362,senderTimestampMs:_0x2341ea,..._0x23d2ea}=_0x450714;(_0x4d6ebf===_0x3f426b(0x160)||_0x4d6ebf===_0x3f426b(0x557))&&(delete _0x23d2ea[_0x3f426b(0x591)],delete _0x23d2ea[_0x3f426b(0x422)]),typeof _0x450714==_0x3f426b(0x383)?_0x2a44e7={'text':_0x450714,'type':_0x4d6ebf||_0x3f426b(0x136),..._0x493fc5&&{'edited':_0x493fc5},..._0x36f90c&&{'quoted':_0x36f90c},..._0x129c97&&{'reaction':_0x129c97}}:_0x2a44e7={'text':_0x21d099,..._0x23d2ea,..._0x4d6ebf==='pollUpdateMessage'?{'poll_id':_0x450714['pollCreationMessageKey']['id'],'quoted':_0x450714[_0x3f426b(0x689)]['id'],'vote':_0x22b283}:{},..._0x4d6ebf===_0x3f426b(0x557)?{'vote':_0x22b283}:{},'type':_0x4d6ebf,..._0x493fc5&&{'edited':_0x493fc5},..._0x36f90c&&{'quoted':_0x36f90c},..._0x129c97&&{'reaction':_0x129c97},...(_0x4d6ebf===_0x3f426b(0x224)||_0x4d6ebf==='pollCreationMessageV2'||_0x4d6ebf===_0x3f426b(0x16b)||_0x4d6ebf===_0x3f426b(0x160))&&{'convertedOptions':_0x2a44e7[_0x3f426b(0x682)]}};}return{'messageType':_0x4d6ebf,'messageContent':_0x450714,'message_normalized':_0x2a44e7};}catch(_0x34da44){return console[_0x3f426b(0x32e)](_0x3f426b(0x2ec),_0x34da44),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1f2f6b(0x140)]=null,this[_0x1f2f6b(0x202)]=0x0,this[_0x1f2f6b(0x62e)]=null,(this[_0x1f2f6b(0x390)](),this[_0x1f2f6b(0x526)][_0x1f2f6b(0x27d)]={'count':0x0});}set[a0_0x374876(0x2b3)](_0x1a48f5){const _0x3560d3=a0_0x374876;if(!_0x1a48f5){this[_0x3560d3(0x526)][_0x3560d3(0x2f4)]=(0x0,br['v4'])();return;}this[_0x3560d3(0x526)][_0x3560d3(0x2f4)]=_0x1a48f5,this['sendDataWebhook'](_0x3560d3(0x707),{'instance':this[_0x3560d3(0x526)]['name'],'status':_0x3560d3(0x329)});}get[a0_0x374876(0x2b3)](){const _0x5524d3=a0_0x374876;return this[_0x5524d3(0x526)]['name'];}get['wuid'](){const _0x1eb877=a0_0x374876;return this[_0x1eb877(0x526)][_0x1eb877(0x547)];}async['getProfileName'](){const _0x42b3fa=a0_0x374876;let _0x5e9b76=this[_0x42b3fa(0x6c7)][_0x42b3fa(0x459)]?.['name']??this[_0x42b3fa(0x6c7)][_0x42b3fa(0x459)]?.[_0x42b3fa(0x63a)];if(!_0x5e9b76){if(this[_0x42b3fa(0x5c8)][_0x42b3fa(0x34c)](_0x42b3fa(0x326))[_0x42b3fa(0x258)]){let _0xeee03a=await R[_0x42b3fa(0x374)]()['db'](this['configService'][_0x42b3fa(0x34c)](_0x42b3fa(0x326))[_0x42b3fa(0x6cf)][_0x42b3fa(0x638)]+_0x42b3fa(0x560))['collection'](this[_0x42b3fa(0x2b3)])[_0x42b3fa(0x108)]({'_id':_0x42b3fa(0x2f6)});if(_0xeee03a){let _0x127286=JSON[_0x42b3fa(0x601)](JSON[_0x42b3fa(0x5f1)](_0xeee03a),m[_0x42b3fa(0x23a)][_0x42b3fa(0x466)]);_0x5e9b76=_0x127286['me']?.[_0x42b3fa(0x2f4)]||_0x127286['me']?.[_0x42b3fa(0x63a)];}}else{if((0x0,ve[_0x42b3fa(0x29a)])((0x0,j[_0x42b3fa(0x679)])(ge,this[_0x42b3fa(0x2b3)],_0x42b3fa(0x20a)))){let _0x5f2bab=JSON[_0x42b3fa(0x601)]((0x0,ve['readFileSync'])((0x0,j[_0x42b3fa(0x679)])(ge,this[_0x42b3fa(0x2b3)],_0x42b3fa(0x20a)),{'encoding':_0x42b3fa(0x33d)}));_0x5e9b76=_0x5f2bab['me']?.[_0x42b3fa(0x2f4)]||_0x5f2bab['me']?.[_0x42b3fa(0x63a)];}}}return _0x5e9b76;}get['profilePictureUrl'](){const _0x547077=a0_0x374876;return this['instance'][_0x547077(0x5f0)];}get[a0_0x374876(0x604)](){const _0x1faeed=a0_0x374876;return{'pairingCode':this[_0x1faeed(0x526)][_0x1faeed(0x27d)]?.[_0x1faeed(0x3e0)],'code':this[_0x1faeed(0x526)][_0x1faeed(0x27d)]?.[_0x1faeed(0x256)],'base64':this[_0x1faeed(0x526)][_0x1faeed(0x27d)]?.[_0x1faeed(0x4f9)]};}async['loadWebhook'](){const _0x147e29=a0_0x374876;let _0x5295aa=await this[_0x147e29(0x6e8)]['webhook'][_0x147e29(0x441)](this[_0x147e29(0x2b3)]);this[_0x147e29(0x445)][_0x147e29(0x710)]=_0x5295aa?.[_0x147e29(0x710)],this[_0x147e29(0x445)][_0x147e29(0x523)]=_0x5295aa?.['enabled'],this['localWebhook']['local_map']=_0x5295aa?.[_0x147e29(0x540)],this[_0x147e29(0x445)][_0x147e29(0x372)]=_0x5295aa?.[_0x147e29(0x372)],this[_0x147e29(0x445)][_0x147e29(0x56a)]=_0x5295aa?.['QRCODE_UPDATED'],this[_0x147e29(0x445)][_0x147e29(0x40e)]=_0x5295aa?.[_0x147e29(0x40e)],this[_0x147e29(0x445)][_0x147e29(0x152)]=_0x5295aa?.['MESSAGES_UPSERT'],this[_0x147e29(0x445)][_0x147e29(0x5a6)]=_0x5295aa?.[_0x147e29(0x5a6)],this['localWebhook']['GROUPS_UPSERT']=_0x5295aa?.[_0x147e29(0x4c7)],this[_0x147e29(0x445)][_0x147e29(0x464)]=_0x5295aa?.[_0x147e29(0x464)],this[_0x147e29(0x445)]['GROUP_PARTICIPANTS_UPDATE']=_0x5295aa?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x147e29(0x619)]=_0x5295aa?.[_0x147e29(0x619)],this[_0x147e29(0x445)][_0x147e29(0x6ae)]=_0x5295aa?.[_0x147e29(0x6ae)],this['localWebhook'][_0x147e29(0x286)]=_0x5295aa?.[_0x147e29(0x286)],this[_0x147e29(0x445)][_0x147e29(0x5a7)]=_0x5295aa?.[_0x147e29(0x5a7)],this['localWebhook'][_0x147e29(0x506)]=_0x5295aa?.[_0x147e29(0x506)],this[_0x147e29(0x445)][_0x147e29(0x4f1)]=_0x5295aa?.[_0x147e29(0x4f1)],this[_0x147e29(0x445)][_0x147e29(0x28f)]=_0x5295aa?.[_0x147e29(0x28f)],this[_0x147e29(0x445)][_0x147e29(0x47f)]=_0x5295aa?.['PRESENCE_UPDATE'],this[_0x147e29(0x445)][_0x147e29(0x6a8)]=_0x5295aa?.[_0x147e29(0x6a8)],this[_0x147e29(0x445)][_0x147e29(0x6c1)]=_0x5295aa?.['CONNECTION_UPDATE'],this[_0x147e29(0x445)][_0x147e29(0x14c)]=_0x5295aa?.[_0x147e29(0x14c)];}async[a0_0x374876(0x414)](_0x2e3470){const _0x221c30=a0_0x374876;let _0x4c6257=[_0x221c30(0x168),_0x221c30(0x710),'enabled',_0x221c30(0x540),'STATUS_INSTANCE',_0x221c30(0x56a),'MESSAGES_UPDATE',_0x221c30(0x152),_0x221c30(0x40e),'GROUPS_UPSERT',_0x221c30(0x464),_0x221c30(0x421),_0x221c30(0x619),_0x221c30(0x6ae),_0x221c30(0x286),'CHATS_DELETE',_0x221c30(0x506),_0x221c30(0x4f1),_0x221c30(0x28f),'PRESENCE_UPDATE',_0x221c30(0x6a8),_0x221c30(0x6c1),_0x221c30(0x14c)],_0x154e7b={};return _0x4c6257[_0x221c30(0x489)](_0x23a601=>{_0x2e3470[_0x23a601]!==void 0x0&&(_0x154e7b[_0x23a601]=_0x2e3470[_0x23a601]);}),await this[_0x221c30(0x6e8)][_0x221c30(0x38d)]['create'](_0x154e7b,this[_0x221c30(0x2b3)]),Object[_0x221c30(0x598)](this[_0x221c30(0x445)],_0x154e7b),await this['repository']['webhook'][_0x221c30(0x441)](this[_0x221c30(0x2b3)]);}async[a0_0x374876(0x280)](){const _0x4712bf=a0_0x374876;return await this[_0x4712bf(0x6e8)][_0x4712bf(0x38d)][_0x4712bf(0x441)](this[_0x4712bf(0x2b3)]);}async[a0_0x374876(0xf7)](_0x55fd65,_0x312107){const _0x541fa6=a0_0x374876;let _0x3c32b6=_0x55fd65[_0x541fa6(0x6fa)](/[\.-]/gm,'_')[_0x541fa6(0x6e3)](),_0x3b5447=this[_0x541fa6(0x445)]['enabled']&&(0x0,$[_0x541fa6(0x1f9)])(this[_0x541fa6(0x445)][_0x541fa6(0x710)])?this[_0x541fa6(0x445)][_0x541fa6(0x710)]+(this['localWebhook'][_0x541fa6(0x540)]?this['webhookMap'][_0x55fd65]:''):null,_0x417828=this[_0x541fa6(0x445)][_0x3c32b6],_0x361a97=oe&&oe[_0x541fa6(0x523)]&&(0x0,$[_0x541fa6(0x1f9)])(oe[_0x541fa6(0x710)])?oe[_0x541fa6(0x710)]+(oe[_0x541fa6(0x540)]?this[_0x541fa6(0x290)][_0x55fd65]:''):null,_0x5d6cb4=oe?oe[_0x3c32b6]:null;if(_0x417828&&_0x3b5447)try{await te[_0x541fa6(0x701)][_0x541fa6(0x37a)]({'baseURL':_0x3b5447})['post']('',{'event':_0x55fd65,'instance':this[_0x541fa6(0x526)][_0x541fa6(0x2f4)],'apikey':this['instance'][_0x541fa6(0x4b5)],'data':_0x312107}),this[_0x541fa6(0x131)][_0x541fa6(0x201)](this[_0x541fa6(0x2b3)]+'\x20('+this[_0x541fa6(0x526)]['wuid']+_0x541fa6(0x4f4)+_0x55fd65+':\x20'+_0x3b5447);}catch{this[_0x541fa6(0x131)][_0x541fa6(0x32e)](this[_0x541fa6(0x2b3)]+'\x20('+this[_0x541fa6(0x526)][_0x541fa6(0x547)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x55fd65+':\x20'+_0x3b5447);}if(_0x5d6cb4&&_0x361a97)try{await te[_0x541fa6(0x701)][_0x541fa6(0x37a)]({'baseURL':_0x361a97})[_0x541fa6(0x317)]('',{'event':_0x55fd65,'instance':this[_0x541fa6(0x526)][_0x541fa6(0x2f4)],'apikey':this[_0x541fa6(0x526)][_0x541fa6(0x4b5)],'data':_0x312107}),this[_0x541fa6(0x131)][_0x541fa6(0x201)](this[_0x541fa6(0x2b3)]+'\x20('+this[_0x541fa6(0x526)][_0x541fa6(0x547)]+_0x541fa6(0x6a6)+_0x55fd65+':\x20'+_0x361a97);}catch{this[_0x541fa6(0x131)][_0x541fa6(0x32e)](this[_0x541fa6(0x2b3)]+'\x20('+this[_0x541fa6(0x526)][_0x541fa6(0x547)]+_0x541fa6(0x419)+_0x55fd65+':\x20'+_0x361a97);}}async[a0_0x374876(0x1af)]({qr:_0x6d94ea,connection:_0x496950,lastDisconnect:_0x435a7f}){const _0x4d67c6=a0_0x374876;if(_0x6d94ea){if(this['instance'][_0x4d67c6(0x27d)][_0x4d67c6(0x222)]===mi)return this['sendDataWebhook'](_0x4d67c6(0x4e4),{'message':_0x4d67c6(0x1e6),'statusCode':m['DisconnectReason'][_0x4d67c6(0x65c)]}),this[_0x4d67c6(0x12d)]={'state':_0x4d67c6(0x40c),'statusReason':m[_0x4d67c6(0x5df)][_0x4d67c6(0x28c)]},this[_0x4d67c6(0xf7)]('connection.update',{'instance':this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)],...this[_0x4d67c6(0x12d)]}),this[_0x4d67c6(0xf7)](_0x4d67c6(0x707),{'instance':this['instance'][_0x4d67c6(0x2f4)],'status':_0x4d67c6(0x354)}),this['repository'][_0x4d67c6(0x558)][_0x4d67c6(0x37a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4d67c6(0x4e5)]()},this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)]),this[_0x4d67c6(0x73e)]=!0x0,this[_0x4d67c6(0x3dc)][_0x4d67c6(0x507)](_0x4d67c6(0xd7),this[_0x4d67c6(0x526)]['name']);this[_0x4d67c6(0x526)][_0x4d67c6(0x27d)][_0x4d67c6(0x222)]++;let _0x5b28b0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4d67c6(0x412),'dark':'#000000'}};Sr[_0x4d67c6(0x701)][_0x4d67c6(0x262)](_0x6d94ea,_0x5b28b0,(_0x52527a,_0x1754f7)=>{const _0x2eda2f=_0x4d67c6;if(_0x52527a){this['logger']['error'](this[_0x2eda2f(0x2b3)]+'\x20('+this[_0x2eda2f(0x526)]['wuid']+_0x2eda2f(0x4e9)+(_0x52527a instanceof Error?_0x52527a[_0x2eda2f(0x5e9)]:JSON[_0x2eda2f(0x5f1)](_0x52527a,null,0x2)));return;}this[_0x2eda2f(0x526)]['qrcode'][_0x2eda2f(0x4f9)]=_0x1754f7,this['instance'][_0x2eda2f(0x27d)][_0x2eda2f(0x256)]=_0x6d94ea,this[_0x2eda2f(0xf7)](_0x2eda2f(0x4e4),{'qrcode':{'instance':this[_0x2eda2f(0x526)]['name'],'pairingCode':this[_0x2eda2f(0x526)]['qrcode'][_0x2eda2f(0x3e0)],'code':_0x6d94ea,'base64':_0x1754f7}});}),this['phoneNumber']?(await(0x0,m['delay'])(0x7d0),this[_0x4d67c6(0x526)][_0x4d67c6(0x27d)]['pairingCode']=await this['client'][_0x4d67c6(0x145)](this[_0x4d67c6(0x5a0)])):this[_0x4d67c6(0x526)][_0x4d67c6(0x27d)]['pairingCode']=null,Er[_0x4d67c6(0x701)][_0x4d67c6(0x38b)](_0x6d94ea,{'small':!0x0},_0x53ef62=>this['logger']['log'](_0x4d67c6(0x532)+this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)]+_0x4d67c6(0x366)+this[_0x4d67c6(0x526)][_0x4d67c6(0x27d)]['count']+',\x20pairCode:\x20'+this[_0x4d67c6(0x526)]['qrcode']['pairingCode']+_0x4d67c6(0x668)+_0x53ef62));}if(_0x496950&&(this[_0x4d67c6(0x12d)]={'state':_0x496950,'statusReason':_0x435a7f?.[_0x4d67c6(0x32e)]?.[_0x4d67c6(0x5d9)]?.[_0x4d67c6(0x34e)]??0xc8},this[_0x4d67c6(0xf7)](_0x4d67c6(0x130),{'instance':this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)],...this[_0x4d67c6(0x12d)]})),_0x496950==='close'){if(this['reconnectAttempts']++,this[_0x4d67c6(0x204)][_0x4d67c6(0x36f)](Date[_0x4d67c6(0x4e5)]()),this[_0x4d67c6(0x204)]=this[_0x4d67c6(0x204)][_0x4d67c6(0x4ed)](_0x5ea2e4=>Date[_0x4d67c6(0x4e5)]()-_0x5ea2e4<this[_0x4d67c6(0x60d)]),_0x435a7f[_0x4d67c6(0x32e)]?.[_0x4d67c6(0x5d9)]?.[_0x4d67c6(0x34e)]!==m['DisconnectReason'][_0x4d67c6(0x5d4)]&&this[_0x4d67c6(0x204)][_0x4d67c6(0x6ea)]<=this[_0x4d67c6(0x527)])console[_0x4d67c6(0x201)](this[_0x4d67c6(0x2b3)]+_0x4d67c6(0x55c)+this[_0x4d67c6(0x377)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console['log'](_0x4d67c6(0x379)),await this[_0x4d67c6(0x19e)]();else{this['sendDataWebhook'](_0x4d67c6(0x707),{'instance':this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)],'status':_0x4d67c6(0x354)}),this[_0x4d67c6(0x321)]=!0x1,this[_0x4d67c6(0x6e8)][_0x4d67c6(0x38d)][_0x4d67c6(0x454)](this[_0x4d67c6(0x2b3)]),this['repository']['auth'][_0x4d67c6(0x37a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4d67c6(0x4e5)]()},this['instance'][_0x4d67c6(0x2f4)]);try{this[_0x4d67c6(0x131)][_0x4d67c6(0xc1)](this[_0x4d67c6(0x2b3)]+'\x20('+this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x3d9817=await this[_0x4d67c6(0x6e8)][_0x4d67c6(0x5e9)]['deleteAll'](this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]);_0x3d9817[_0x4d67c6(0x14d)]?this[_0x4d67c6(0x131)][_0x4d67c6(0xc1)](this['instanceName']+'\x20('+this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]+_0x4d67c6(0x3d3)):console[_0x4d67c6(0x32e)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x3d9817[_0x4d67c6(0x32e)]);}catch(_0x176351){console[_0x4d67c6(0x32e)](_0x4d67c6(0x2e2),_0x176351);}this[_0x4d67c6(0x59a)]!==null&&(this[_0x4d67c6(0x131)]['verbose'](this[_0x4d67c6(0x2b3)]+'\x20('+this['instance'][_0x4d67c6(0x547)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x4d67c6(0x59a)]),this[_0x4d67c6(0x59a)]=null),this['logger'][_0x4d67c6(0xc1)](this[_0x4d67c6(0x2b3)]+'\x20('+this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]+_0x4d67c6(0x472)),this[_0x4d67c6(0x109)]=null,this[_0x4d67c6(0x3dc)]['emit'](_0x4d67c6(0x426),this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)],_0x4d67c6(0x276)),this[_0x4d67c6(0x6c7)]?.['ws']?.[_0x4d67c6(0x368)](),this['client'][_0x4d67c6(0x6ff)](new Error(_0x4d67c6(0x45a)));}}if(_0x496950==='open'){this[_0x4d67c6(0x6c7)]['ev'][_0x4d67c6(0x266)](),this[_0x4d67c6(0x34b)],this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]=this[_0x4d67c6(0x6c7)]['user']['id']['replace'](/:\d+/,'')[_0x4d67c6(0x6fa)](_0x4d67c6(0x5c4),''),this[_0x4d67c6(0x526)][_0x4d67c6(0x5f0)]=(await this[_0x4d67c6(0x5c2)](this[_0x4d67c6(0x526)][_0x4d67c6(0x547)]+_0x4d67c6(0x5c4)))[_0x4d67c6(0x5f0)],this['repository']['auth'][_0x4d67c6(0x37a)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)]);let _0x50b005=_0x4d67c6(0x4ac)+this['instance'][_0x4d67c6(0x547)],_0x5a4bbb=0x28,_0x2a3ad8=Math[_0x4d67c6(0x2ee)]((_0x5a4bbb-_0x50b005[_0x4d67c6(0x6ea)])/0x2),_0x5aceb7='\x20'[_0x4d67c6(0x6db)](_0x2a3ad8),_0x58ce53=_0x4d67c6(0x220),_0x3184bf='Instância:\x20'+this[_0x4d67c6(0x526)][_0x4d67c6(0x2f4)],_0x37dd2a=(''+_0x5aceb7+_0x50b005+_0x5aceb7)[_0x4d67c6(0x6e4)](_0x5a4bbb,'\x20'),_0x5d2551=(''+_0x5aceb7+_0x58ce53+_0x5aceb7)[_0x4d67c6(0x6e4)](_0x5a4bbb,'\x20'),_0x40b222=(''+_0x5aceb7+_0x3184bf+_0x5aceb7)[_0x4d67c6(0x6e4)](_0x5a4bbb,'\x20'),_0x3b4763=Math[_0x4d67c6(0x260)](_0x37dd2a[_0x4d67c6(0x6ea)],_0x5d2551[_0x4d67c6(0x6ea)],_0x40b222[_0x4d67c6(0x6ea)]),_0x12a5fc=_0x37dd2a[_0x4d67c6(0x6e4)](_0x3b4763,'\x20'),_0x3d803f=_0x5d2551[_0x4d67c6(0x6e4)](_0x3b4763,'\x20'),_0x3c47c3=_0x40b222[_0x4d67c6(0x6e4)](_0x3b4763,'\x20');this['logger'][_0x4d67c6(0x6ef)]((_0x4d67c6(0x35d)+'─'[_0x4d67c6(0x6db)](_0x3b4763)+_0x4d67c6(0x43e)+_0x3d803f+_0x4d67c6(0x333)+_0x3c47c3+_0x4d67c6(0x333)+_0x12a5fc+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x3b4763)+'┘')[_0x4d67c6(0x6fa)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}[a0_0x374876(0x34b)](){const _0x3e296c=a0_0x374876;this[_0x3e296c(0x377)]=0x0,this[_0x3e296c(0x204)]=[];}async[a0_0x374876(0x493)](_0x388de1,_0xb8152b=!0x1){const _0x300037=a0_0x374876;try{let _0x348643=await this[_0x300037(0x6e8)][_0x300037(0x5e9)][_0x300037(0x441)]({'where':{'_id':_0x388de1['id']}},this['instance'][_0x300037(0x547)]);return _0xb8152b?_0x348643[0x0]:_0x348643[0x0][_0x300037(0x5e9)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x52061b=a0_0x374876;let _0x2a90a6=this[_0x52061b(0x5c8)][_0x52061b(0x34c)]('STORE'),_0x1c4677=this[_0x52061b(0x5c8)][_0x52061b(0x34c)](_0x52061b(0x326));_0x2a90a6?.[_0x52061b(0x69e)]&&!_0x1c4677['ENABLED']&&setInterval(()=>{const _0x3fed09=_0x52061b;try{for(let [_0x56b463,_0x10a365]of Object[_0x3fed09(0x337)](_0x2a90a6))_0x10a365===!0x0&&(0x0,Pt['execSync'])(_0x3fed09(0x26c)+(0x0,j[_0x3fed09(0x679)])(this[_0x3fed09(0x3f6)],_0x56b463['toLowerCase'](),this['instance'][_0x3fed09(0x547)])+_0x3fed09(0x270));}catch{}},(_0x2a90a6?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x374876(0x2ea)](){const _0x29a3c5=a0_0x374876;let _0x37de14=this[_0x29a3c5(0x5c8)][_0x29a3c5(0x34c)](_0x29a3c5(0x326)),_0x213910=this['configService'][_0x29a3c5(0x34c)]('REDIS');return _0x213910?.[_0x29a3c5(0x258)]?await bs(_0x213910,this[_0x29a3c5(0x526)][_0x29a3c5(0x2f4)]):_0x37de14[_0x29a3c5(0x258)]?await ys(this[_0x29a3c5(0x526)][_0x29a3c5(0x2f4)]):await(0x0,m[_0x29a3c5(0x6e1)])((0x0,j['join'])(ge,this[_0x29a3c5(0x526)][_0x29a3c5(0x2f4)]));}async[a0_0x374876(0x1cd)](){const _0x581cde=a0_0x374876;let _0x1023e9=()=>Math[_0x581cde(0x2ee)](Math[_0x581cde(0x5bf)]()*0x2711)+0x7d0,_0x3d516e=async()=>{const _0x297e58=_0x581cde;if(!this[_0x297e58(0x321)]){this['logger'][_0x297e58(0xc1)](_0x297e58(0x1b9)),this[_0x297e58(0x74a)]=!0x1;return;}if(this[_0x297e58(0x526)][_0x297e58(0x547)]&&this[_0x297e58(0x109)]&&this[_0x297e58(0x59a)]!==null&&this[_0x297e58(0x59a)]!==void 0x0){let _0x5c9946=Math[_0x297e58(0x500)](this[_0x297e58(0x59a)]/0xea60);this[_0x297e58(0x131)][_0x297e58(0xc1)](this[_0x297e58(0x2b3)]+'\x20('+this[_0x297e58(0x526)][_0x297e58(0x547)]+_0x297e58(0x505)+_0x5c9946+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x297e58(0x74a)]=!0x1;return;}else this[_0x297e58(0x526)][_0x297e58(0x547)]&&(this[_0x297e58(0x131)][_0x297e58(0xc1)](this[_0x297e58(0x2b3)]+'\x20('+this[_0x297e58(0x526)][_0x297e58(0x547)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x297e58(0x131)][_0x297e58(0xc1)](this['instanceName']+'\x20('+this['instance'][_0x297e58(0x547)]+_0x297e58(0x5b7)),this[_0x297e58(0x109)]||await this[_0x297e58(0x4b4)](),(this['delayMessage']===null||this[_0x297e58(0x59a)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x297e58(0x74a)]){let _0x121b6d=_0x1023e9();this[_0x297e58(0x131)][_0x297e58(0xc1)](this[_0x297e58(0x2b3)]+_0x297e58(0x2ad)+_0x121b6d/0x3e8+_0x297e58(0x5bc)),setTimeout(_0x3d516e,_0x121b6d);}};if(this[_0x581cde(0x74a)])return;this['isRunning']=!0x0;let _0xadeaee=_0x1023e9();setTimeout(_0x3d516e,_0xadeaee);}async[a0_0x374876(0x274)](_0x264d08=0x0,_0x50307d=!0x1){const _0x232be9=a0_0x374876;try{let _0x47afaa=this[_0x232be9(0x5c8)][_0x232be9(0x34c)](_0x232be9(0x20b));if(_0x47afaa!==0x1||typeof _0x47afaa>'u'||_0x264d08>=0x5)return this[_0x232be9(0x131)][_0x232be9(0x10f)](_0x232be9(0x35a)),this[_0x232be9(0x6e8)][_0x232be9(0x558)][_0x232be9(0x37a)]({'ip':null},this[_0x232be9(0x526)][_0x232be9(0x2f4)]),{};this[_0x232be9(0x131)][_0x232be9(0xc1)](this[_0x232be9(0x2b3)]+_0x232be9(0x2d5)+(_0x264d08+0x1)+_0x232be9(0x3e3));let _0x1298d5;if(!_0x50307d){let _0x2df180=await this[_0x232be9(0x6e8)][_0x232be9(0x558)][_0x232be9(0x441)](this[_0x232be9(0x2b3)]);_0x2df180&&_0x2df180['ip']&&(_0x1298d5=gr(_0x2df180['ip']));}if((!_0x1298d5||!Ss(_0x1298d5))&&(this['logger'][_0x232be9(0x10f)](this[_0x232be9(0x2b3)]+_0x232be9(0x25a)),_0x1298d5=mr()),_0x1298d5&&Ss(_0x1298d5)){let _0x3557b3=_0x1298d5[_0x232be9(0x44d)]&&_0x1298d5[_0x232be9(0x3e2)]?_0x1298d5[_0x232be9(0xee)]+_0x232be9(0x57d)+_0x1298d5[_0x232be9(0x44d)]+':'+_0x1298d5[_0x232be9(0x3e2)]+'@'+_0x1298d5[_0x232be9(0x6e7)]+':'+_0x1298d5[_0x232be9(0x3e8)]:_0x1298d5[_0x232be9(0xee)]+_0x232be9(0x57d)+_0x1298d5[_0x232be9(0x6e7)]+':'+_0x1298d5[_0x232be9(0x3e8)];return await this[_0x232be9(0x28e)](_0x3557b3,_0x1298d5['host'])?(this[_0x232be9(0x131)][_0x232be9(0xc1)](this[_0x232be9(0x2b3)]+':\x20IP\x20funcionando!'),this['repository'][_0x232be9(0x558)][_0x232be9(0x37a)]({'ip':_0x1298d5[_0x232be9(0x6e7)]},this[_0x232be9(0x526)][_0x232be9(0x2f4)]),{'agent':new _t[(_0x232be9(0x722))](_0x3557b3),'fetchAgent':new _t['HttpsProxyAgent'](_0x3557b3)}):(this[_0x232be9(0x131)]['warn'](this[_0x232be9(0x2b3)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x232be9(0x37f)])(0xc8),this['loadproxy'](_0x264d08+0x1,!0x0));}else return this['logger'][_0x232be9(0x10f)](this[_0x232be9(0x2b3)]+_0x232be9(0x199)),await(0x0,m['delay'])(0xc8),this['loadproxy'](_0x264d08+0x1,!0x0);}catch(_0x31c06b){return this[_0x232be9(0x131)]['error'](this[_0x232be9(0x2b3)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x31c06b[_0x232be9(0x5e9)]),{};}}async[a0_0x374876(0x28e)](_0x33ec90,_0x5d9347){const _0x17868b=a0_0x374876;let _0x2a58f1=new _t[(_0x17868b(0x722))](_0x33ec90),_0x9f2d4d=0x1388,_0x383f6a=[{'url':'https://jsonip.com','parse':_0xaab19c=>_0xaab19c['ip']},{'url':_0x17868b(0x2fa),'parse':_0x48d0b8=>_0x48d0b8['ip']},{'url':'http://checkip.dyndns.org','parse':_0x19db16=>_0x19db16['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x17868b(0x15a),'parse':_0x4ffa6c=>_0x4ffa6c['ip']},{'url':_0x17868b(0xf2),'parse':_0x517e9d=>_0x517e9d['trim']()},{'url':'http://ipecho.net/plain','parse':_0x427e75=>_0x427e75[_0x17868b(0x3ba)]()},{'url':_0x17868b(0x50a),'parse':_0xce97d4=>_0xce97d4['query']},{'url':_0x17868b(0x5c1),'parse':_0x13fa8a=>_0x13fa8a[_0x17868b(0x3ba)]()},{'url':_0x17868b(0x1ed),'parse':_0x507c5c=>_0x507c5c[_0x17868b(0x3ba)]()}],_0x10314c=_0x383f6a[Math[_0x17868b(0x2ee)](Math[_0x17868b(0x5bf)]()*_0x383f6a[_0x17868b(0x6ea)])];try{let _0x2cf0b3=await te[_0x17868b(0x701)]['get'](_0x10314c['url'],{'httpsAgent':_0x2a58f1,'timeout':_0x9f2d4d}),_0x195f44=_0x10314c[_0x17868b(0x601)](_0x2cf0b3[_0x17868b(0x5b9)]);return _0x195f44===_0x5d9347?(this[_0x17868b(0x131)][_0x17868b(0xc1)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x5d9347+_0x17868b(0x3b9)+_0x195f44+'\x20->\x20CONFIRMADO.'),!0x0):(this['logger'][_0x17868b(0x32e)](this[_0x17868b(0x2b3)]+':\x20IP\x20configurado:\x20'+_0x5d9347+_0x17868b(0x3b9)+_0x195f44+_0x17868b(0x721)),!0x1);}catch(_0x2885a0){return this[_0x17868b(0x131)]['error'](this[_0x17868b(0x2b3)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x10314c[_0x17868b(0x710)]+':\x20'+_0x2885a0['message']),!0x1;}}async[a0_0x374876(0x19e)](_0x1fb537){const _0x278213=a0_0x374876;try{let _0x5a70a2=await this[_0x278213(0x274)]();this['loadWebhook'](),this[_0x278213(0x526)][_0x278213(0x4b5)]=(await this[_0x278213(0x6e8)]['auth']['find'](this[_0x278213(0x526)][_0x278213(0x2f4)]))[_0x278213(0x4b5)],this[_0x278213(0x526)][_0x278213(0x365)]=await this[_0x278213(0x2ea)]();let {version:_0xbea953}=await(0x0,m[_0x278213(0x171)])(),_0x3cf298=[Ns,Cr,(0x0,Es[_0x278213(0x138)])()],_0x4e0d15={..._0x5a70a2,'auth':{'creds':this[_0x278213(0x526)]['authState']['state'][_0x278213(0x2f6)],'keys':(0x0,m[_0x278213(0x2c1)])(this[_0x278213(0x526)][_0x278213(0x365)][_0x278213(0x2af)][_0x278213(0x583)],(0x0,It[_0x278213(0x701)])({'level':'error'}))},'logger':(0x0,It['default'])({'level':_0x278213(0x32e)}),'printQRInTerminal':!0x1,'browser':_0x1fb537?['Safari\x20(MacOS)',Ns,(0x0,Es[_0x278213(0x138)])()]:_0x3cf298,'version':_0xbea953,'maxMsgRetryCount':0x9,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4f86a7=>{const _0x3ef500=_0x278213;let _0x2c6281=_0x4f86a7[_0x3ef500(0x613)](_0x3ef500(0x3f7)),_0xb4d073=_0x4f86a7['endsWith'](_0x3ef500(0x27f));return _0x2c6281||_0xb4d073;},'msgRetryCounterCache':this[_0x278213(0x37b)],'getMessage':async _0x3992b3=>await this['getMessage'](_0x3992b3),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x20f830=>(_0x20f830[_0x278213(0x160)]?.[_0x278213(0x6c5)]==m[_0x278213(0x1f1)][_0x278213(0x2f2)][_0x278213(0x643)][_0x278213(0x5fc)]['PRODUCT_LIST']&&(_0x20f830=JSON[_0x278213(0x601)](JSON[_0x278213(0x5f1)](_0x20f830)),_0x20f830[_0x278213(0x160)]['listType']=m[_0x278213(0x1f1)]['Message']['ListMessage'][_0x278213(0x5fc)]['SINGLE_SELECT']),_0x20f830)};return this[_0x278213(0x73e)]=!0x1,this['client']=(0x0,m[_0x278213(0x701)])(_0x4e0d15),this[_0x278213(0x62a)](),this[_0x278213(0x5a0)]=_0x1fb537,this['client'];}catch(_0x341597){throw this[_0x278213(0x131)][_0x278213(0x32e)](this[_0x278213(0x2b3)]+'\x20('+this['instance'][_0x278213(0x547)]+'):\x20'+(_0x341597 instanceof Error?_0x341597[_0x278213(0x5e9)]:JSON[_0x278213(0x5f1)](_0x341597,null,0x2))),new I(_0x341597?.[_0x278213(0x5ab)]());}}[a0_0x374876(0x62a)](){const _0x52aa35=a0_0x374876;this[_0x52aa35(0x6c7)]['ev'][_0x52aa35(0x3da)](_0x368e58=>{const _0x3eebb8=_0x52aa35;if(!this[_0x3eebb8(0x73e)]){let _0x16541f=this[_0x3eebb8(0x5c8)][_0x3eebb8(0x34c)](_0x3eebb8(0x326));if(_0x368e58[_0x3eebb8(0x1fc)]){let _0x33dc5e=_0x368e58[_0x3eebb8(0x1fc)];this[_0x3eebb8(0x72b)][_0x3eebb8(0x1fc)](_0x33dc5e);}if(_0x368e58[_0x3eebb8(0x1c2)]){let _0x132c8d=_0x368e58[_0x3eebb8(0x1c2)];this[_0x3eebb8(0x72b)][_0x3eebb8(0x1c2)](_0x132c8d);}if(_0x368e58[_0x3eebb8(0x130)]&&this[_0x3eebb8(0x1af)](_0x368e58['connection.update']),_0x368e58['creds.update']&&this[_0x3eebb8(0x526)][_0x3eebb8(0x365)][_0x3eebb8(0x609)](),_0x368e58[_0x3eebb8(0x486)]){let _0x51d22b=_0x368e58[_0x3eebb8(0x486)];this[_0x3eebb8(0x72b)][_0x3eebb8(0x486)](_0x51d22b,_0x16541f);}if(_0x368e58[_0x3eebb8(0x3a1)]){let _0x2f9056=_0x368e58[_0x3eebb8(0x3a1)];this[_0x3eebb8(0x72b)][_0x3eebb8(0x3a1)](_0x2f9056,_0x16541f);}if(_0x368e58[_0x3eebb8(0x311)]){let _0x1df9d2=_0x368e58[_0x3eebb8(0x311)];_0x1df9d2[_0x3eebb8(0x489)](_0xceb4d3=>{const _0x388ee4=_0x3eebb8;if(wr[_0xceb4d3['key']['id']]){this[_0x388ee4(0x6c7)]['ev'][_0x388ee4(0x507)](_0x388ee4(0x3a1),{'messages':[_0xceb4d3],'type':'notify'}),delete wr[_0xceb4d3[_0x388ee4(0x674)]['id']];return;}}),this[_0x3eebb8(0x72b)][_0x3eebb8(0x311)](_0x1df9d2,_0x16541f);}if(_0x368e58['presence.update']){let _0x5de8c9=_0x368e58['presence.update'];if(this[_0x3eebb8(0x445)]?.[_0x3eebb8(0x14c)]&&_0x5de8c9['id']['includes']('@g.us'))return;this[_0x3eebb8(0xf7)]('presence.update',_0x5de8c9);}if(!this[_0x3eebb8(0x445)]?.[_0x3eebb8(0x14c)]){if(_0x368e58['groups.upsert']){let _0x37d49b=_0x368e58[_0x3eebb8(0xcb)];this[_0x3eebb8(0x1f3)][_0x3eebb8(0xcb)](_0x37d49b);}if(_0x368e58['groups.update']){let _0xf5ebd4=_0x368e58[_0x3eebb8(0x495)];this[_0x3eebb8(0x1f3)][_0x3eebb8(0x495)](_0xf5ebd4);}if(_0x368e58[_0x3eebb8(0x622)]){let _0x21e632=_0x368e58[_0x3eebb8(0x622)];this[_0x3eebb8(0x1f3)][_0x3eebb8(0x622)](_0x21e632);}}if(_0x368e58[_0x3eebb8(0x2e6)]){let _0x3b02c6=_0x368e58['chats.upsert'];this[_0x3eebb8(0x17c)][_0x3eebb8(0x2e6)](_0x3b02c6,_0x16541f);}if(_0x368e58[_0x3eebb8(0x70f)]){let _0x5deeb8=_0x368e58[_0x3eebb8(0x70f)];this[_0x3eebb8(0x17c)][_0x3eebb8(0x70f)](_0x5deeb8,_0x16541f);}if(_0x368e58[_0x3eebb8(0x677)]){let _0x331981=_0x368e58[_0x3eebb8(0x677)];this[_0x3eebb8(0x17c)][_0x3eebb8(0x677)](_0x331981);}if(_0x368e58[_0x3eebb8(0x733)]){let _0x5045b4=_0x368e58['contacts.upsert'];this[_0x3eebb8(0x5fe)][_0x3eebb8(0x733)](_0x5045b4,_0x16541f);}if(_0x368e58[_0x3eebb8(0x213)]){let _0x51ecb9=_0x368e58[_0x3eebb8(0x213)];this['contactHandle']['contacts.update'](_0x51ecb9,_0x16541f);}}});}[a0_0x374876(0x244)](_0x491503){return new Promise(_0x5d29b8=>setTimeout(_0x5d29b8,_0x491503));}['formatBRNumber'](_0x2ce5a5){const _0x187ae8=a0_0x374876;let _0x4fb9b0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x187ae8(0x55a)](_0x2ce5a5);if(_0x4fb9b0&&_0x4fb9b0[0x1]==='55'){let _0x5b2b51=_0x4fb9b0[0x2],_0x1f89d1=_0x4fb9b0[0x3],_0x54fa70=_0x4fb9b0[0x4];if(_0x5b2b51>='31'&&_0x1f89d1==='9')return _0x4fb9b0[0x1]+_0x5b2b51+_0x54fa70;}return _0x2ce5a5;}['createJid'](_0x1fd014){const _0x519265=a0_0x374876;return _0x1fd014[_0x519265(0xea)](_0x519265(0x3b1))||_0x1fd014[_0x519265(0xea)](_0x519265(0x5c4))||_0x1fd014[_0x519265(0xea)](_0x519265(0x27f))?_0x1fd014:(_0x1fd014=_0x1fd014?.[_0x519265(0x6fa)](/\s/g,'')[_0x519265(0x6fa)](/\+/g,'')[_0x519265(0x6fa)](/\(/g,'')[_0x519265(0x6fa)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x1fd014[_0x519265(0x6ea)]>=0x12?(_0x1fd014=_0x1fd014[_0x519265(0x6fa)](/[^\d-]/g,''),_0x1fd014+_0x519265(0x3b1)):(_0x1fd014=_0x1fd014['replace'](/\D/g,''),this[_0x519265(0x73d)](_0x1fd014)+'@s.whatsapp.net'));}async[a0_0x374876(0x3d7)](_0x948078){const _0x2ea679=a0_0x374876;let _0x121e97=this[_0x2ea679(0x348)](_0x948078[_0x2ea679(0x67d)]),_0x32e404=(await this[_0x2ea679(0x30b)]({'numbers':[_0x121e97]}))[0x0];if(!_0x32e404[_0x2ea679(0x4c9)]&&!(0x0,m[_0x2ea679(0x312)])(_0x32e404['jid']))throw new w(_0x32e404);let _0x1abd24=(0x0,m['isJidGroup'])(_0x121e97)?_0x121e97:_0x32e404[_0x2ea679(0x550)];if((0x0,m['isJidGroup'])(_0x1abd24))try{await this[_0x2ea679(0x6c7)][_0x2ea679(0x5d1)](_0x1abd24);}catch{throw new k('Group\x20not\x20found');}try{return await this[_0x2ea679(0x6c7)][_0x2ea679(0x342)](_0x1abd24),await this[_0x2ea679(0x6c7)][_0x2ea679(0x626)](_0x948078[_0x2ea679(0x32d)],_0x121e97),{'status':0xc8,'presence':_0x948078[_0x2ea679(0x32d)]};}catch(_0xc15423){throw new w(_0xc15423[_0x2ea679(0x5ab)]());}}async['profilePicture'](_0x58f713){const _0x187210=a0_0x374876;let _0xf5b75c=this[_0x187210(0x348)](_0x58f713);try{return{'wuid':_0xf5b75c,'profilePictureUrl':await this[_0x187210(0x6c7)][_0x187210(0x5f0)](_0xf5b75c,_0x187210(0x61f))};}catch{return{'wuid':_0xf5b75c,'profilePictureUrl':null};}}async[a0_0x374876(0x349)](_0x264dc0,_0x38819a,_0x349afb){const _0x1e82db=a0_0x374876;_0x349afb||(_0x349afb={});let _0x273005=(await this[_0x1e82db(0x30b)]({'numbers':[_0x264dc0]}))[0x0];if(!_0x273005[_0x1e82db(0x4c9)]&&!(0x0,m[_0x1e82db(0x312)])(_0x273005[_0x1e82db(0x550)])&&!_0x273005[_0x1e82db(0x550)]['includes'](_0x1e82db(0x27f)))throw new w(_0x273005);let _0x3dfc88=_0x273005[_0x1e82db(0x550)];try{_0x349afb?.[_0x1e82db(0x37f)]&&(await this[_0x1e82db(0x6c7)][_0x1e82db(0x342)](_0x3dfc88),await this['client']['sendPresenceUpdate'](_0x349afb?.['presence']??'composing',_0x3dfc88),await(0x0,m[_0x1e82db(0x37f)])(_0x349afb[_0x1e82db(0x37f)]),await this[_0x1e82db(0x6c7)][_0x1e82db(0x626)](_0x1e82db(0x43b),_0x3dfc88));let _0x3ead96=_0x349afb?.[_0x1e82db(0x1aa)]!=!0x1?void 0x0:!0x1,_0x2d6f97;if(_0x349afb?.[_0x1e82db(0xfb)]){let _0x57c8b0=_0x349afb?.['quoted'],_0x19be32=_0x57c8b0?.[_0x1e82db(0x5e9)]?_0x57c8b0:await this[_0x1e82db(0x493)](_0x57c8b0[_0x1e82db(0x674)],!0x0);if(!_0x19be32)throw _0x1e82db(0x4ce);_0x2d6f97=_0x19be32;}let _0x4353bb;if((0x0,m['isJidGroup'])(_0x3dfc88))try{let _0xe4a811=await this['client'][_0x1e82db(0x5d1)](_0x3dfc88);if(!_0xe4a811)throw new k('Group\x20not\x20found');_0x349afb?.[_0x1e82db(0x1e2)]&&(_0x349afb[_0x1e82db(0x1e2)]?.[_0x1e82db(0x13b)]?_0x4353bb=_0xe4a811[_0x1e82db(0x6ac)][_0x1e82db(0x675)](_0x102354=>_0x102354['id']):_0x349afb[_0x1e82db(0x1e2)]?.[_0x1e82db(0x620)]?.[_0x1e82db(0x6ea)]&&(_0x4353bb=_0x349afb[_0x1e82db(0x1e2)]['mentioned'][_0x1e82db(0x675)](_0x21f186=>{let _0x47918a=this['createJid'](_0x21f186);return(0x0,m['isJidGroup'])(_0x47918a)?null:_0x47918a;})));}catch{throw new k(_0x1e82db(0x432));}let _0x38ec0d=await((async()=>{const _0x388215=_0x1e82db;let _0x259838={'quoted':_0x2d6f97};if(!_0x38819a[_0x388215(0x511)]&&!_0x38819a['poll']&&!_0x38819a['sticker']&&!_0x38819a[_0x388215(0x136)]&&_0x3dfc88!==_0x388215(0xfe)&&!_0x38819a[_0x388215(0x511)])return await this[_0x388215(0x6c7)][_0x388215(0x1e1)](_0x3dfc88,{'forward':{'key':{'remoteJid':this[_0x388215(0x526)]['wuid'],'fromMe':!0x0},'message':_0x38819a},'mentions':_0x4353bb},_0x259838);if(_0x38819a[_0x388215(0x1c0)])return await this['client'][_0x388215(0x1e1)](_0x3dfc88,{'react':{'text':_0x38819a['reactionMessage'][_0x388215(0x215)],'key':_0x38819a[_0x388215(0x1c0)][_0x388215(0x674)]}},_0x259838);if(_0x38819a[_0x388215(0x136)]){let _0x43c617=_0x38819a[_0x388215(0x136)];return _0x349afb?.[_0x388215(0x2fc)]&&(_0x43c617=await this[_0x388215(0x22a)](_0x43c617,_0x3dfc88)),await this[_0x388215(0x6c7)][_0x388215(0x1e1)](_0x3dfc88,{'text':_0x43c617,'mentions':_0x4353bb,'linkPreview':_0x3ead96},_0x259838);}return _0x3dfc88==='status@broadcast'?await this[_0x388215(0x6c7)]['sendMessage'](_0x3dfc88,_0x38819a['status'][_0x388215(0x288)],{'backgroundColor':_0x38819a[_0x388215(0x3d2)][_0x388215(0x146)][_0x388215(0x5c3)],'font':_0x38819a['status'][_0x388215(0x146)]['font'],'statusJidList':_0x38819a[_0x388215(0x3d2)][_0x388215(0x146)]['statusJidList']}):await this[_0x388215(0x6c7)][_0x388215(0x1e1)](_0x3dfc88,_0x38819a,_0x259838);})()),_0x3979ef=(0x0,m[_0x1e82db(0x12c)])(_0x38ec0d['message']),_0xa0399e=(0x0,m['getContentType'])(_0x3979ef),{message_normalized:_0x262350}=this['normalizeMessage'](_0x3979ef,_0xa0399e,null),_0x12b514={'_id':_0x38ec0d[_0x1e82db(0x674)]['id'],'key':_0x38ec0d[_0x1e82db(0x674)],'pushName':_0x38ec0d[_0x1e82db(0x529)],'message':_0x3979ef,'messageType':_0xa0399e,'message_normalized':{'key':_0x38ec0d[_0x1e82db(0x674)],'pushName':_0x38ec0d[_0x1e82db(0x529)],'messageTimestamp':_0x38ec0d[_0x1e82db(0x46b)]&&_0x38ec0d['messageTimestamp']['toString']()[_0x1e82db(0x6ea)]<0xd?_0x38ec0d['messageTimestamp']*0x3e8:_0x38ec0d[_0x1e82db(0x46b)]||null,'source':(0x0,m[_0x1e82db(0x17f)])(_0x38ec0d[_0x1e82db(0x674)]['id']),..._0x262350},'messageTimestamp':_0x38ec0d['messageTimestamp']&&_0x38ec0d['messageTimestamp'][_0x1e82db(0x5ab)]()[_0x1e82db(0x6ea)]<0xd?_0x38ec0d[_0x1e82db(0x46b)]*0x3e8:_0x38ec0d['messageTimestamp']||null,'owner':this[_0x1e82db(0x526)][_0x1e82db(0x547)],'source':(0x0,m[_0x1e82db(0x17f)])(_0x38ec0d['key']['id'])};return this[_0x1e82db(0x131)][_0x1e82db(0x10f)](this[_0x1e82db(0x2b3)]+'\x20('+this[_0x1e82db(0x526)]['wuid']+_0x1e82db(0x530)+_0x12b514[_0x1e82db(0x674)]?.[_0x1e82db(0x46a)]['replace']('@s.whatsapp.net','')+_0x1e82db(0x52d)+_0x12b514[_0x1e82db(0x134)]+')'),_0x12b514[_0x1e82db(0x66d)]?.[_0x1e82db(0x215)]&&this['logger']['warn'](_0x12b514[_0x1e82db(0x66d)]?.[_0x1e82db(0x215)]),this[_0x1e82db(0xf7)](_0x1e82db(0x4a5),_0x12b514),q(this[_0x1e82db(0x2b3)],_0x1e82db(0x709),{'message':_0x12b514}),this[_0x1e82db(0x231)](this[_0x1e82db(0x5c8)][_0x1e82db(0x34c)](_0x1e82db(0x326)),_0x12b514,_0x1e82db(0x40e)),await this[_0x1e82db(0x6e8)][_0x1e82db(0x5e9)]['insert']([_0x12b514],this['instance']['wuid']),_0x38ec0d;}catch(_0x452c49){throw this[_0x1e82db(0x131)]['error'](this[_0x1e82db(0x2b3)]+'\x20('+this[_0x1e82db(0x526)][_0x1e82db(0x547)]+_0x1e82db(0x1c6)+_0x452c49[_0x1e82db(0x5ab)]()),new w(_0x452c49['toString']());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x374876(0x50f)](_0x2739c3){const _0x12493c=a0_0x374876;let _0xa1527d=fr,_0x21964f=Ke;return _0x21964f&&this[_0x12493c(0x2b3)][_0x12493c(0x692)]()[_0x12493c(0xea)](_0x21964f[_0x12493c(0x692)]())&&(_0x2739c3[_0x12493c(0x50f)][_0x12493c(0x215)]+='\x0a\x0a'+_0xa1527d),await this['sendMessageWithTyping'](_0x2739c3['number'],{'conversation':_0x2739c3[_0x12493c(0x50f)][_0x12493c(0x215)]},_0x2739c3?.['options']);}async['formatStatusMessage'](_0x210477){const _0x1f44bb=a0_0x374876;if(!_0x210477[_0x1f44bb(0x575)])throw new w('Type\x20is\x20required');if(!_0x210477[_0x1f44bb(0x288)])throw new w(_0x1f44bb(0x3bd));if(_0x210477[_0x1f44bb(0x653)]){let _0x24a5f0=await this[_0x1f44bb(0x6e8)][_0x1f44bb(0x4f2)][_0x1f44bb(0x441)]({'where':{}},this[_0x1f44bb(0x526)][_0x1f44bb(0x547)]);if(!_0x24a5f0['length'])throw new w(_0x1f44bb(0x6bb));_0x210477[_0x1f44bb(0x4c5)]=_0x24a5f0[_0x1f44bb(0x4ed)](_0x335bd1=>_0x335bd1[_0x1f44bb(0x529)])[_0x1f44bb(0x675)](_0x371780=>_0x371780['_id']);}if(!_0x210477[_0x1f44bb(0x4c5)]?.[_0x1f44bb(0x6ea)]&&!_0x210477[_0x1f44bb(0x653)])throw new w(_0x1f44bb(0x11a));if(_0x210477[_0x1f44bb(0x575)]===_0x1f44bb(0x215)){if(!_0x210477[_0x1f44bb(0x5c3)])throw new w(_0x1f44bb(0x4c2));if(!_0x210477[_0x1f44bb(0x44f)])throw new w(_0x1f44bb(0x24e));return{'content':{'text':_0x210477[_0x1f44bb(0x288)]},'option':{'backgroundColor':_0x210477['backgroundColor'],'font':_0x210477['font'],'statusJidList':_0x210477[_0x1f44bb(0x4c5)]}};}if(_0x210477[_0x1f44bb(0x575)]===_0x1f44bb(0x61f))return{'content':{'image':{'url':_0x210477[_0x1f44bb(0x288)]},'caption':_0x210477[_0x1f44bb(0x277)]},'option':{'statusJidList':_0x210477[_0x1f44bb(0x4c5)]}};if(_0x210477[_0x1f44bb(0x575)]==='video')return{'content':{'video':{'url':_0x210477[_0x1f44bb(0x288)]},'caption':_0x210477[_0x1f44bb(0x277)]},'option':{'statusJidList':_0x210477[_0x1f44bb(0x4c5)]}};if(_0x210477['type']===_0x1f44bb(0x511)){this[_0x1f44bb(0x131)][_0x1f44bb(0xc1)](_0x1f44bb(0x292)),this[_0x1f44bb(0x131)]['verbose']('Processing\x20audio');let _0x4ce426=await this[_0x1f44bb(0xe0)](_0x210477[_0x1f44bb(0x288)]);if(typeof _0x4ce426==_0x1f44bb(0x383)){this[_0x1f44bb(0x131)][_0x1f44bb(0xc1)](_0x1f44bb(0x5eb));let _0x333578=L['readFileSync'](_0x4ce426)['toString'](_0x1f44bb(0x4f9));return{'content':{'audio':Buffer[_0x1f44bb(0x1df)](_0x333578,_0x1f44bb(0x4f9)),'ptt':!0x0,'mimetype':_0x1f44bb(0x469)},'option':{'statusJidList':_0x210477[_0x1f44bb(0x4c5)]}};}else throw new I(_0x4ce426);}throw new w(_0x1f44bb(0x4c4));}async[a0_0x374876(0x587)](_0x1e626c){const _0x1109aa=a0_0x374876;return await this[_0x1109aa(0x349)](_0x1109aa(0xfe),{'status':await this[_0x1109aa(0x49a)](_0x1e626c[_0x1109aa(0x587)])});}async[a0_0x374876(0x4de)](_0x40f66b){const _0x4a2a04=a0_0x374876;try{let _0x238cda=await(0x0,m['prepareWAMessageMedia'])({[_0x40f66b[_0x4a2a04(0x456)]]:(0x0,$[_0x4a2a04(0x1f9)])(_0x40f66b[_0x4a2a04(0x381)])?{'url':_0x40f66b['media']}:Buffer[_0x4a2a04(0x1df)](_0x40f66b[_0x4a2a04(0x381)],_0x4a2a04(0x4f9))},{'upload':this[_0x4a2a04(0x6c7)][_0x4a2a04(0x1a3)]}),_0x583df9=_0x40f66b[_0x4a2a04(0x456)]+_0x4a2a04(0x2f2);if(_0x40f66b[_0x4a2a04(0x456)]===_0x4a2a04(0x116)&&!_0x40f66b[_0x4a2a04(0x356)]){let _0x2e7b1d=new RegExp(/.*\/(.+?)\./)[_0x4a2a04(0x55a)](_0x40f66b[_0x4a2a04(0x381)]);_0x40f66b[_0x4a2a04(0x356)]=_0x2e7b1d?_0x2e7b1d[0x1]:null;}let _0x1dfe2a=(0x0,$['isURL'])(_0x40f66b[_0x4a2a04(0x381)])?_0x40f66b[_0x4a2a04(0x381)][_0x4a2a04(0x443)]('?')[0x0]:_0x40f66b[_0x4a2a04(0x381)];this[_0x4a2a04(0x131)]['verbose']('URL\x20limpa:\x20'+_0x1dfe2a);let _0x66e882;(0x0,$[_0x4a2a04(0x1f9)])(_0x40f66b[_0x4a2a04(0x381)])?_0x66e882=(0x0,xt[_0x4a2a04(0x2de)])(_0x1dfe2a):_0x40f66b[_0x4a2a04(0x356)]&&_0x40f66b[_0x4a2a04(0x356)]['includes']('.')?_0x66e882=(0x0,xt[_0x4a2a04(0x2de)])(_0x40f66b[_0x4a2a04(0x356)]):_0x66e882=(0x0,xt[_0x4a2a04(0x2de)])(_0x40f66b[_0x4a2a04(0x381)]);let _0x4e6ded=fr,_0x860912=Ke;return _0x860912&&this[_0x4a2a04(0x2b3)]['toLowerCase']()[_0x4a2a04(0xea)](_0x860912[_0x4a2a04(0x692)]())&&(_0x40f66b[_0x4a2a04(0x277)]+='\x0a\x0a'+_0x4e6ded),_0x238cda[_0x583df9]['caption']=_0x40f66b?.[_0x4a2a04(0x277)],_0x238cda[_0x583df9][_0x4a2a04(0x369)]=_0x66e882,_0x238cda[_0x583df9][_0x4a2a04(0x356)]=_0x40f66b[_0x4a2a04(0x356)],_0x40f66b[_0x4a2a04(0x456)]==='video'&&(_0x238cda[_0x583df9][_0x4a2a04(0x1e4)]=Uint8Array[_0x4a2a04(0x1df)]((0x0,ve[_0x4a2a04(0x378)])((0x0,j[_0x4a2a04(0x679)])(process[_0x4a2a04(0x44b)](),_0x4a2a04(0x309)))),_0x238cda[_0x583df9][_0x4a2a04(0x38a)]=!0x1),(0x0,m[_0x4a2a04(0x21a)])('',{[_0x583df9]:{..._0x238cda[_0x583df9]}},{'userJid':this[_0x4a2a04(0x526)][_0x4a2a04(0x547)]});}catch(_0x3187d0){throw this[_0x4a2a04(0x131)][_0x4a2a04(0x32e)](this['instanceName']+'\x20('+this[_0x4a2a04(0x526)][_0x4a2a04(0x547)]+_0x4a2a04(0x1c6)+(_0x3187d0 instanceof Error?_0x3187d0['message']:JSON[_0x4a2a04(0x5f1)](_0x3187d0,null,0x2))),new I(_0x3187d0?.['toString']()||_0x3187d0);}}async[a0_0x374876(0x487)](_0x1f4240){const _0x244b00=a0_0x374876;let _0x280deb=await this[_0x244b00(0x4de)](_0x1f4240['mediaMessage']);return await this[_0x244b00(0x349)](_0x1f4240['number'],{..._0x280deb[_0x244b00(0x5e9)]},_0x1f4240?.[_0x244b00(0x5ee)]);}async['convertToWebP'](_0x51952b,_0x51e0e0){const _0x3017d5=a0_0x374876;try{this[_0x3017d5(0x131)][_0x3017d5(0xc1)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x3f1a18,_0x528450=_0x51e0e0+'-'+new Date()[_0x3017d5(0x6d6)]();this['logger']['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x528450);let _0x556d5b=''+(0x0,j[_0x3017d5(0x679)])(this[_0x3017d5(0x3f6)],_0x528450+_0x3017d5(0x4fd));if(this[_0x3017d5(0x131)][_0x3017d5(0xc1)](_0x3017d5(0x726)+_0x556d5b),(0x0,$['isBase64'])(_0x51952b)){this['logger']['verbose']('Image\x20is\x20base64');let _0x2711e3=_0x51952b[_0x3017d5(0x6fa)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x17f360=Buffer[_0x3017d5(0x1df)](_0x2711e3,_0x3017d5(0x4f9));_0x3f1a18=''+(0x0,j[_0x3017d5(0x679)])(this[_0x3017d5(0x3f6)],_0x3017d5(0x248)+_0x528450+_0x3017d5(0x5ea)),this[_0x3017d5(0x131)][_0x3017d5(0xc1)](_0x3017d5(0x1f6)+_0x3f1a18),await(0x0,Dt[_0x3017d5(0x701)])(_0x17f360)[_0x3017d5(0x570)](_0x3f1a18),this[_0x3017d5(0x131)][_0x3017d5(0xc1)](_0x3017d5(0x173));}else{this[_0x3017d5(0x131)][_0x3017d5(0xc1)]('Image\x20is\x20url');let _0x1884f6=new Date()[_0x3017d5(0x6d6)](),_0x1949c8=_0x51952b+'?timestamp='+_0x1884f6;this['logger'][_0x3017d5(0xc1)](_0x3017d5(0x12b)+_0x1949c8);let _0x264ae4=await te[_0x3017d5(0x701)][_0x3017d5(0x34c)](_0x1949c8,{'responseType':_0x3017d5(0x59b)});this['logger'][_0x3017d5(0xc1)](_0x3017d5(0x427));let _0x478143=Buffer[_0x3017d5(0x1df)](_0x264ae4[_0x3017d5(0x5b9)],_0x3017d5(0x3fd));_0x3f1a18=''+(0x0,j[_0x3017d5(0x679)])(this[_0x3017d5(0x3f6)],_0x3017d5(0x248)+_0x528450+_0x3017d5(0x5ea)),this[_0x3017d5(0x131)][_0x3017d5(0xc1)]('Image\x20path:\x20'+_0x3f1a18),await(0x0,Dt[_0x3017d5(0x701)])(_0x478143)[_0x3017d5(0x570)](_0x3f1a18),this[_0x3017d5(0x131)]['verbose'](_0x3017d5(0x173));}return await(0x0,Dt[_0x3017d5(0x701)])(_0x3f1a18)['webp']()[_0x3017d5(0x570)](_0x556d5b),this[_0x3017d5(0x131)]['verbose'](_0x3017d5(0x346)),L[_0x3017d5(0x334)](_0x3f1a18),this[_0x3017d5(0x131)][_0x3017d5(0xc1)](_0x3017d5(0x11d)),_0x556d5b;}catch(_0x13764f){console[_0x3017d5(0x32e)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x13764f instanceof Error?_0x13764f['message']:JSON[_0x3017d5(0x5f1)](_0x13764f,null,0x2));}}async['mediaSticker'](_0x48438d){const _0x34967f=a0_0x374876;let _0x2ea3f7=await this[_0x34967f(0x73c)](_0x48438d[_0x34967f(0x257)]['image'],_0x48438d['number']),_0x20bf73=await this[_0x34967f(0x349)](_0x48438d['number'],{'sticker':{'url':_0x2ea3f7}},_0x48438d?.['options']);return L[_0x34967f(0x334)](_0x2ea3f7),this[_0x34967f(0x131)][_0x34967f(0xc1)](_0x34967f(0x68c)),_0x20bf73;}async['audioWhatsapp'](_0x606777){const _0x183f44=a0_0x374876;if(this[_0x183f44(0x131)][_0x183f44(0xc1)](_0x183f44(0x31b)),!_0x606777['options']?.[_0x183f44(0x56b)]&&_0x606777['options']?.[_0x183f44(0x56b)]!==!0x1&&(_0x606777[_0x183f44(0x5ee)][_0x183f44(0x56b)]=!0x0),_0x606777[_0x183f44(0x5ee)]?.[_0x183f44(0x56b)]){let _0x54d684=await this[_0x183f44(0xe0)](_0x606777[_0x183f44(0x5c0)][_0x183f44(0x511)]);if(typeof _0x54d684==_0x183f44(0x383)){let _0x3882ea=L[_0x183f44(0x378)](_0x54d684)[_0x183f44(0x5ab)](_0x183f44(0x4f9));return this[_0x183f44(0x349)](_0x606777['number'],{'audio':Buffer[_0x183f44(0x1df)](_0x3882ea,_0x183f44(0x4f9)),'ptt':!0x0,'mimetype':_0x183f44(0x469)},{'presence':_0x183f44(0x30e),'delay':_0x606777?.[_0x183f44(0x5ee)]?.['delay']});}else throw new I(_0x54d684);}return await this[_0x183f44(0x349)](_0x606777[_0x183f44(0x67d)],{'audio':(0x0,$['isURL'])(_0x606777[_0x183f44(0x5c0)][_0x183f44(0x511)])?{'url':_0x606777[_0x183f44(0x5c0)]['audio']}:Buffer[_0x183f44(0x1df)](_0x606777[_0x183f44(0x5c0)][_0x183f44(0x511)],_0x183f44(0x4f9)),'ptt':!0x0,'mimetype':_0x183f44(0x4da)},{'presence':_0x183f44(0x30e),'delay':_0x606777?.['options']?.['delay']});}async[a0_0x374876(0xe0)](_0x164322){const _0x5d4e1c=a0_0x374876;this[_0x5d4e1c(0x131)][_0x5d4e1c(0xc1)](_0x5d4e1c(0x380));let _0x5cf75d=(0x0,$[_0x5d4e1c(0x1f9)])(_0x164322)?(0x0,vs[_0x5d4e1c(0x5d2)])('sha256')[_0x5d4e1c(0x4dc)](_0x164322)['digest']('hex'):(0x0,vs[_0x5d4e1c(0x5d2)])(_0x5d4e1c(0x561))['update'](_0x164322)[_0x5d4e1c(0x3ad)](_0x5d4e1c(0x719)),_0x3853ae=''+(0x0,j[_0x5d4e1c(0x679)])(this[_0x5d4e1c(0x3f6)],_0x5cf75d+_0x5d4e1c(0x225));if(L['existsSync'](_0x3853ae))return this['logger'][_0x5d4e1c(0xc1)](_0x5d4e1c(0x6b0)),_0x3853ae;let _0x4d73b5=''+(0x0,j['join'])(this['storePath'],'temp-'+(0x0,Me['v4'])()+_0x5d4e1c(0x338));if((0x0,$[_0x5d4e1c(0x1f9)])(_0x164322)){let _0x196738=new Date()['getTime'](),_0x23b8a2=_0x164322+_0x5d4e1c(0x740)+_0x196738,_0x642012=await te[_0x5d4e1c(0x701)][_0x5d4e1c(0x34c)](_0x23b8a2,{'responseType':_0x5d4e1c(0x59b)});L[_0x5d4e1c(0x54b)](_0x4d73b5,_0x642012['data']);}else{let _0x20f047=Buffer['from'](_0x164322,_0x5d4e1c(0x4f9));L['writeFileSync'](_0x4d73b5,_0x20f047);}return new Promise((_0x27d723,_0x32097c)=>{const _0x4619bb=_0x5d4e1c;(0x0,Pt[_0x4619bb(0x55a)])(yr['default']['path']+_0x4619bb(0x1d4)+_0x4d73b5+_0x4619bb(0x6c4)+_0x3853ae+'\x20-y',_0x123476=>{const _0x41c473=_0x4619bb;if(L[_0x41c473(0x334)](_0x4d73b5),_0x123476){this[_0x41c473(0x131)][_0x41c473(0xc1)]('Error\x20in\x20converting\x20audio'),_0x32097c(_0x123476);return;}this[_0x41c473(0x131)][_0x41c473(0xc1)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x27d723(_0x3853ae);});});}async[a0_0x374876(0x132)](_0x537b22){const _0x5321ba=a0_0x374876;let _0x485fe8={},_0x146973=_0x5321ba(0x2ff);if(_0x537b22[_0x5321ba(0x132)]?.['mediaMessage']){_0x146973=_0x537b22['buttonMessage'][_0x5321ba(0x487)]?.['mediatype'][_0x5321ba(0x6e3)]()??_0x5321ba(0x2ff),_0x485fe8['mediaKey']=_0x146973[_0x5321ba(0x692)]()+'Message';let _0x4c2efd=await this[_0x5321ba(0x4de)](_0x537b22['buttonMessage'][_0x5321ba(0x487)]);_0x485fe8['message']=_0x4c2efd['message'][_0x485fe8['mediaKey']],_0x485fe8[_0x5321ba(0x1dd)]='*'+_0x537b22[_0x5321ba(0x132)][_0x5321ba(0x591)]+_0x5321ba(0x572)+_0x537b22[_0x5321ba(0x132)][_0x5321ba(0x422)];}let _0x10bc7a={'text':_0x537b22[_0x5321ba(0x132)][_0x5321ba(0x62b)]['map'](_0x5372c5=>_0x5372c5[_0x5321ba(0x6b4)]),'ids':_0x537b22['buttonMessage'][_0x5321ba(0x62b)]['map'](_0xe40b98=>_0xe40b98[_0x5321ba(0x647)])};if(!(0x0,$[_0x5321ba(0x35c)])(_0x10bc7a[_0x5321ba(0x215)])||!(0x0,$[_0x5321ba(0x35c)])(_0x10bc7a['ids']))throw new w(_0x5321ba(0x50d),_0x5321ba(0x37d));return await this[_0x5321ba(0x349)](_0x537b22[_0x5321ba(0x67d)],{'buttonsMessage':{'text':_0x485fe8?.[_0x5321ba(0x1ec)]?void 0x0:_0x537b22[_0x5321ba(0x132)]['title'],'contentText':_0x485fe8?.['contentText']??_0x537b22[_0x5321ba(0x132)][_0x5321ba(0x422)],'footerText':_0x537b22[_0x5321ba(0x132)]?.[_0x5321ba(0x582)],'buttons':_0x537b22['buttonMessage'][_0x5321ba(0x62b)][_0x5321ba(0x675)](_0x5baee3=>({'buttonText':{'displayText':_0x5baee3[_0x5321ba(0x6b4)]},'buttonId':_0x5baee3[_0x5321ba(0x647)],'type':0x1})),'headerType':m[_0x5321ba(0x1f1)][_0x5321ba(0x2f2)][_0x5321ba(0x53a)][_0x5321ba(0x6b1)][_0x146973],[_0x485fe8?.[_0x5321ba(0x1ec)]]:_0x485fe8?.[_0x5321ba(0x5e9)]}},_0x537b22?.[_0x5321ba(0x5ee)]);}async[a0_0x374876(0x2e7)](_0x55b43e){const _0x8c201a=a0_0x374876;return await this['sendMessageWithTyping'](_0x55b43e[_0x8c201a(0x67d)],{'locationMessage':{'degreesLatitude':_0x55b43e[_0x8c201a(0x2e7)][_0x8c201a(0x62d)],'degreesLongitude':_0x55b43e['locationMessage']['longitude'],'name':_0x55b43e['locationMessage']?.[_0x8c201a(0x2f4)],'address':_0x55b43e['locationMessage']?.[_0x8c201a(0x355)]}},_0x55b43e?.[_0x8c201a(0x5ee)]);}async[a0_0x374876(0x2b8)](_0x2b6a87){const _0x2a6513=a0_0x374876;let _0x47321c={},_0x208ee3=_0x101fb7=>{const _0x351885=a0_0x2a44;let _0x50bd7f=_0x351885(0x359)+_0x101fb7[_0x351885(0x6e2)]+_0x351885(0x324)+_0x101fb7[_0x351885(0x6e2)]+'\x0a';_0x101fb7[_0x351885(0x590)]&&(_0x50bd7f+=_0x351885(0xc6)+_0x101fb7[_0x351885(0x590)]+';\x0a'),_0x101fb7[_0x351885(0x564)]&&(_0x50bd7f+=_0x351885(0x1ee)+_0x101fb7[_0x351885(0x564)]+'\x0a'),_0x101fb7['url']&&(_0x50bd7f+=_0x351885(0x614)+_0x101fb7[_0x351885(0x710)]+'\x0a');let _0x565c35='';return _0x101fb7[_0x351885(0x5a0)]&&_0x101fb7[_0x351885(0x5a0)][_0x351885(0x443)]('|')[_0x351885(0x489)]((_0x1c987e,_0x3aa339)=>{const _0x380d61=_0x351885;let _0x5a3e7f=this[_0x380d61(0x348)](_0x1c987e)['replace'](_0x380d61(0x5c4),'');_0x565c35+=_0x380d61(0x2a2)+(_0x3aa339+0x1)+_0x380d61(0x22e)+_0x5a3e7f+':'+_0x1c987e+'\x0aitem'+(_0x3aa339+0x1)+'.X-ABLabel:Celular\x0a';}),_0x50bd7f+=_0x565c35+_0x351885(0x39c),_0x50bd7f;};return _0x2b6a87[_0x2a6513(0x2b8)][_0x2a6513(0x6ea)]===0x1?_0x47321c[_0x2a6513(0x2b8)]={'displayName':_0x2b6a87[_0x2a6513(0x2b8)][0x0][_0x2a6513(0x6e2)],'vcard':_0x208ee3(_0x2b6a87[_0x2a6513(0x2b8)][0x0])}:_0x47321c[_0x2a6513(0x688)]={'displayName':_0x2b6a87[_0x2a6513(0x2b8)][_0x2a6513(0x6ea)]+'\x20contacts','contacts':_0x2b6a87[_0x2a6513(0x2b8)][_0x2a6513(0x675)](_0x50d57e=>({'displayName':_0x50d57e[_0x2a6513(0x6e2)],'vcard':_0x208ee3(_0x50d57e)}))},await this[_0x2a6513(0x349)](_0x2b6a87[_0x2a6513(0x67d)],{..._0x47321c},_0x2b6a87?.['options']);}async[a0_0x374876(0x1c0)](_0x56e8f6){const _0x22df67=a0_0x374876;return await this[_0x22df67(0x349)](_0x56e8f6[_0x22df67(0x1c0)][_0x22df67(0x674)][_0x22df67(0x46a)],{'reactionMessage':{'key':_0x56e8f6[_0x22df67(0x1c0)][_0x22df67(0x674)],'text':_0x56e8f6['reactionMessage'][_0x22df67(0x350)]}});}async['whatsappNumber'](_0x355c20){const _0x27deaa=a0_0x374876;let _0x18e8a2=[];for await(let _0x40b404 of _0x355c20[_0x27deaa(0x2f3)]){let _0x2dc3cd=this['createJid'](_0x40b404),_0x418bef=!0x1;try{if((0x0,m[_0x27deaa(0x312)])(_0x2dc3cd)){let _0x59cdb5=await this['findGroup']({'groupJid':_0x2dc3cd},_0x27deaa(0x276));_0x18e8a2[_0x27deaa(0x36f)](new me(_0x59cdb5[_0x27deaa(0x405)]['id'],!!_0x59cdb5?.[_0x27deaa(0x405)]['id'],_0x59cdb5?.[_0x27deaa(0x405)][_0x27deaa(0x50c)])),_0x418bef=!!_0x59cdb5?.[_0x27deaa(0x405)]['id'];}else{let _0x276dba=(await this[_0x27deaa(0x6c7)][_0x27deaa(0x533)](_0x2dc3cd))[0x0];_0x18e8a2[_0x27deaa(0x36f)](new me(_0x276dba[_0x27deaa(0x550)],_0x276dba['exists'])),_0x418bef=_0x276dba[_0x27deaa(0x4c9)];}}catch{await this[_0x27deaa(0x741)](_0x2dc3cd,_0x418bef),_0x18e8a2[_0x27deaa(0x36f)](new me(_0x40b404,!0x1));}}return _0x18e8a2;}async[a0_0x374876(0x741)](_0x124f20,_0x3fd333){const _0x568086=a0_0x374876;try{await this['repository'][_0x568086(0x25d)][_0x568086(0x108)]({'where':{'_id':_0x124f20,'imported':!0x0}},this['instance'][_0x568086(0x547)])&&(_0x3fd333||(await this[_0x568086(0x6e8)]['chat'][_0x568086(0x634)](_0x124f20,this[_0x568086(0x526)][_0x568086(0x547)]),console[_0x568086(0x201)](_0x568086(0x1d5)+_0x124f20+_0x568086(0x1bd))));}catch(_0x30e13c){console[_0x568086(0x32e)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x30e13c);}}async['markMessageAsRead'](_0x47aed5){const _0x61295a=a0_0x374876;try{let _0x5063a1=_0x47aed5[_0x61295a(0x25f)][_0x61295a(0x4ed)](_0x33a611=>(0x0,m[_0x61295a(0x312)])(_0x33a611[_0x61295a(0x46a)])||(0x0,m[_0x61295a(0x1ac)])(_0x33a611[_0x61295a(0x46a)]))['map'](_0x12f379=>({'remoteJid':_0x12f379['remoteJid'],'fromMe':_0x12f379['fromMe'],'id':_0x12f379['id']}));await this['client'][_0x61295a(0x25f)](_0x5063a1);let _0x5bf395=_0x5063a1[_0x61295a(0x675)](_0x5d7e7d=>this[_0x61295a(0x24d)](_0x5d7e7d,{'status':_0x61295a(0x528),'owner':this[_0x61295a(0x526)][_0x61295a(0x547)]})),_0x530e01=_0x5063a1[_0x61295a(0x675)](_0x3dacb8=>this[_0x61295a(0x6e8)]['chat'][_0x61295a(0x6fe)]({'where':{'_id':_0x3dacb8[_0x61295a(0x46a)]}},{'unreadcount':0x0},this[_0x61295a(0x526)][_0x61295a(0x547)])),[_0x522a12,_0x2a95d1]=await Promise[_0x61295a(0x361)]([Promise['all'](_0x5bf395),Promise[_0x61295a(0x361)](_0x530e01)]);return _0x2a95d1[_0x61295a(0x4ed)](_0x2665db=>_0x2665db!==null)[_0x61295a(0x489)](_0x26a7a9=>{const _0x2ec003=_0x61295a;q(this[_0x2ec003(0x2b3)],_0x2ec003(0x28d),{'chat':_0x26a7a9});}),{'message':_0x61295a(0x508),'read':'success'};}catch(_0x43dc9d){throw console[_0x61295a(0x32e)](_0x61295a(0x436),_0x43dc9d),new I(_0x61295a(0x395),_0x43dc9d[_0x61295a(0x5ab)]());}}async['getLastMessage'](_0xbe709e){const _0x3081b3=a0_0x374876;let _0xdd6f47={'where':{'key':{'remoteJid':_0xbe709e}},'limit':0x1},_0x485adc=await this[_0x3081b3(0x345)](_0xdd6f47);return _0x485adc||(console['error'](_0x3081b3(0x279),_0xbe709e),null);}async[a0_0x374876(0x5b1)](_0x50d594){const _0x1a5633=a0_0x374876;this[_0x1a5633(0x131)]['verbose'](_0x1a5633(0x3b2));try{let _0x2dcd8f=_0x50d594[_0x1a5633(0x2e9)],_0x1fe2d5=_0x50d594[_0x1a5633(0x25d)];if(!_0x2dcd8f&&_0x1fe2d5?_0x2dcd8f=await this['getLastMessage'](_0x1fe2d5):(_0x2dcd8f=_0x50d594[_0x1a5633(0x2e9)],_0x2dcd8f[_0x1a5633(0x46b)]=_0x2dcd8f?.[_0x1a5633(0x46b)]??Date[_0x1a5633(0x4e5)](),_0x1fe2d5=_0x2dcd8f?.['key']?.[_0x1a5633(0x46a)]),!_0x2dcd8f||Object[_0x1a5633(0x583)](_0x2dcd8f)['length']===0x0)throw new k(_0x1a5633(0x43a));this[_0x1a5633(0x131)][_0x1a5633(0xc1)](_0x1a5633(0x18e)+_0x1fe2d5);try{await this['client'][_0x1a5633(0x1c5)]({'archive':_0x50d594[_0x1a5633(0x11b)],'lastMessages':[_0x2dcd8f]},this[_0x1a5633(0x348)](_0x1fe2d5));}catch(_0x9e22bd){this[_0x1a5633(0x131)][_0x1a5633(0x32e)](_0x1a5633(0x245)+_0x1fe2d5+':\x20'+_0x9e22bd['toString']());}this[_0x1a5633(0x131)][_0x1a5633(0xc1)](_0x1a5633(0x3c9)+_0x1fe2d5);let _0x33903b=await this[_0x1a5633(0x6e8)][_0x1a5633(0x25d)][_0x1a5633(0x6fe)]({'where':{'_id':_0x2dcd8f?.[_0x1a5633(0x674)]?.['remoteJid']}},{'archived':_0x50d594[_0x1a5633(0x11b)]},this[_0x1a5633(0x526)][_0x1a5633(0x547)]);return _0x33903b?(this[_0x1a5633(0x131)][_0x1a5633(0xc1)](_0x1a5633(0x28b)+JSON[_0x1a5633(0x5f1)](_0x33903b)),q(this[_0x1a5633(0x2b3)],_0x1a5633(0x28d),{'chat':_0x33903b})):this['logger']['error'](_0x1a5633(0x1b8)+_0x1fe2d5),{'chatId':_0x1fe2d5,'archived':_0x50d594[_0x1a5633(0x11b)]};}catch(_0x46f1ac){throw this[_0x1a5633(0x131)][_0x1a5633(0x32e)](_0x1a5633(0x74e)+_0x46f1ac[_0x1a5633(0x5ab)]()),new I({'archived':!0x1,'message':[_0x1a5633(0x36c),_0x46f1ac[_0x1a5633(0x5ab)]()]});}}async[a0_0x374876(0x154)](_0x4f65e2){const _0x27374b=a0_0x374876;try{let _0x1b2be8=await this['client'][_0x27374b(0x1e1)](_0x4f65e2[_0x27374b(0x46a)],{'delete':_0x4f65e2});try{let _0x183733=await this[_0x27374b(0x24d)](_0x4f65e2,{'status':_0x27374b(0x2d4),'owner':this[_0x27374b(0x526)][_0x27374b(0x547)]});this[_0x27374b(0x131)][_0x27374b(0xc1)](this[_0x27374b(0x2b3)]+'\x20('+this[_0x27374b(0x526)][_0x27374b(0x547)]+_0x27374b(0x3cf)+_0x183733);}catch(_0xfd0a8b){console['error'](_0x27374b(0xd3),_0xfd0a8b);}return _0x1b2be8;}catch(_0x2406aa){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x2406aa?.[_0x27374b(0x5ab)]());}}async[a0_0x374876(0x655)](_0x2b158f){const _0x4aca96=a0_0x374876;try{let _0x4599b1=_0x2b158f?.['message']?_0x2b158f:await this[_0x4aca96(0x493)](_0x2b158f['key'],!0x0);for(let _0x5efbac of ma)_0x4599b1['message'][_0x5efbac]&&(_0x4599b1['message']=_0x4599b1[_0x4aca96(0x5e9)][_0x5efbac][_0x4aca96(0x5e9)]);let _0x23e29e,_0x269d1f;for(let _0x149f9d of ga)if(_0x23e29e=_0x4599b1[_0x4aca96(0x5e9)][_0x149f9d],_0x23e29e){_0x269d1f=_0x149f9d;break;}if(!_0x23e29e)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x23e29e[_0x4aca96(0x1ec)]==_0x4aca96(0x6a3)&&(_0x4599b1['message']=JSON['parse'](JSON['stringify'](_0x4599b1['message'])));let _0xf238cd=await(0x0,m[_0x4aca96(0x47d)])({'key':_0x4599b1?.[_0x4aca96(0x674)],'message':_0x4599b1?.[_0x4aca96(0x5e9)]},_0x4aca96(0xd1),{},{'logger':(0x0,It[_0x4aca96(0x701)])({'level':_0x4aca96(0x51e)}),'reuploadRequest':this['client'][_0x4aca96(0x23d)]});if(!(_0xf238cd instanceof Buffer))throw new Error(_0x4aca96(0x19b));let _0x502327=this[_0x4aca96(0x5c8)]['get'](_0x4aca96(0x326)),_0x4e3294,_0x398629;if(_0x23e29e[_0x4aca96(0x356)])_0x4e3294=_0x23e29e[_0x4aca96(0x356)];else{let _0x21b89f=_0x23e29e[_0x4aca96(0x369)]?.[_0x4aca96(0xfa)](/\/(\w+)/),_0x53b23c=_0x21b89f?_0x21b89f[0x1]:null;if(!_0x53b23c)throw new Error(_0x4aca96(0x72c));_0x4e3294=(0x0,Me['v4'])()+'.'+_0x53b23c;}_0x269d1f===_0x4aca96(0x5c0)&&_0x23e29e['mimetype']==='audio/ogg'?(_0x4e3294=(0x0,Me['v4'])()+_0x4aca96(0x4d8),_0x398629=_0x4aca96(0x1cf)+await this[_0x4aca96(0xe0)](_0xf238cd[_0x4aca96(0x5ab)](_0x4aca96(0x4f9)))):(await this['saveMediaToFile'](_0xf238cd,_0x4e3294),_0x398629='/media/'+_0x4e3294);let _0x34e440=this['configService']['get'](_0x4aca96(0x543))[_0x4aca96(0x1b1)];if(!_0x34e440){let _0x29df51=this[_0x4aca96(0x5c8)][_0x4aca96(0x34c)]('SSL_CONF');_0x34e440='https://'+(_0x29df51&&_0x29df51[_0x4aca96(0x124)][_0x4aca96(0x443)]('/')[0x4]);}_0x398629=''+_0x34e440+_0x398629;let _0xeb0d5e=0xc*0x3c*0x3c*0x3e8,_0x208b94={'where':{'_id':_0x4599b1['key']['id']}},_0x56c291={'message_normalized.fileUrl':_0x398629,'message_normalized.expires_fileUrl':Date['now']()+_0xeb0d5e};try{let _0x1c5a9d=await this[_0x4aca96(0x6e8)]['message']['update'](_0x208b94,_0x56c291,this[_0x4aca96(0x526)][_0x4aca96(0x547)]);_0x1c5a9d&&q(this[_0x4aca96(0x2b3)],_0x4aca96(0x709),{'message':_0x1c5a9d});}catch(_0x199819){this[_0x4aca96(0x131)][_0x4aca96(0x32e)](this['instanceName']+'\x20('+this[_0x4aca96(0x526)][_0x4aca96(0x547)]+_0x4aca96(0x1c6)+(_0x199819 instanceof Error?_0x199819[_0x4aca96(0x5e9)]:JSON[_0x4aca96(0x5f1)](_0x199819,null,0x2)));}return{'mediaType':_0x269d1f,'fileName':_0x23e29e['fileName'],'caption':_0x23e29e[_0x4aca96(0x277)],'size':{'fileLength':_0x23e29e[_0x4aca96(0xf0)],'height':_0x23e29e[_0x4aca96(0x5c6)],'width':_0x23e29e[_0x4aca96(0x1b6)]},'mimetype':_0x23e29e[_0x4aca96(0x369)],'base64':_0xf238cd['toString'](_0x4aca96(0x4f9)),'fileUrl':_0x398629,'expires_fileUrl':Date[_0x4aca96(0x4e5)]()+_0xeb0d5e};}catch(_0x59b0fa){throw this[_0x4aca96(0x131)]['error'](this[_0x4aca96(0x2b3)]+'\x20('+this[_0x4aca96(0x526)]['wuid']+_0x4aca96(0x1c6)+(_0x59b0fa instanceof Error?_0x59b0fa[_0x4aca96(0x5e9)]:JSON['stringify'](_0x59b0fa,null,0x2))),new w(_0x59b0fa[_0x4aca96(0x5ab)]());}}async[a0_0x374876(0x423)](_0x112594,_0x3b7037){const _0x32c694=a0_0x374876;let _0x544528=j[_0x32c694(0x701)][_0x32c694(0x679)](__dirname,_0x32c694(0x694));L[_0x32c694(0x29a)](_0x544528)||L[_0x32c694(0xbb)](_0x544528,{'recursive':!0x0});let _0x2b0a1c=j[_0x32c694(0x701)][_0x32c694(0x679)](_0x544528,_0x3b7037);return new Promise((_0x37c6fc,_0x270786)=>{const _0x5f1ac6=_0x32c694;L[_0x5f1ac6(0x128)](_0x2b0a1c,_0x112594,_0x40b0c5=>{const _0x1a5323=_0x5f1ac6;_0x40b0c5?(this[_0x1a5323(0x131)][_0x1a5323(0x32e)](_0x1a5323(0x6a2)+(_0x40b0c5 instanceof Error?_0x40b0c5[_0x1a5323(0x5e9)]:JSON['stringify'](_0x40b0c5,null,0x2))),_0x270786(_0x40b0c5)):(this['logger'][_0x1a5323(0x201)](_0x1a5323(0x440)+_0x2b0a1c),_0x37c6fc(_0x2b0a1c));});});}async[a0_0x374876(0x3ee)](_0x41505f){const _0x35ca04=a0_0x374876;return await this[_0x35ca04(0x6e8)][_0x35ca04(0x4f2)][_0x35ca04(0x441)](_0x41505f,this[_0x35ca04(0x526)][_0x35ca04(0x547)]);}async[a0_0x374876(0x135)](){const _0x37468e=a0_0x374876;return await this[_0x37468e(0x6e8)]['label']['find']({'where':{}},this[_0x37468e(0x526)][_0x37468e(0x547)]);}async[a0_0x374876(0x345)](_0x2f19a7){const _0xa68901=a0_0x374876;return await this['repository'][_0xa68901(0x5e9)][_0xa68901(0x441)](_0x2f19a7,this[_0xa68901(0x526)]['wuid']);}async[a0_0x374876(0x56e)](){const _0x4fc07f=a0_0x374876;return this[_0x4fc07f(0x6e8)][_0x4fc07f(0x25d)][_0x4fc07f(0x301)](this[_0x4fc07f(0x526)][_0x4fc07f(0x547)]),this[_0x4fc07f(0x6e8)][_0x4fc07f(0x25d)]['updateMissingEtiquetas'](this['instance']['wuid']),this[_0x4fc07f(0x6e8)][_0x4fc07f(0x25d)][_0x4fc07f(0x742)](this[_0x4fc07f(0x526)][_0x4fc07f(0x547)]),this[_0x4fc07f(0x6e8)][_0x4fc07f(0x25d)][_0x4fc07f(0x1a7)](this[_0x4fc07f(0x526)][_0x4fc07f(0x547)]),await this[_0x4fc07f(0x6e8)][_0x4fc07f(0x25d)][_0x4fc07f(0x441)]({'where':{}},this['instance']['wuid']);}async[a0_0x374876(0x2d6)](_0x3f3519){const _0xf73f12=a0_0x374876;try{if(!Array[_0xf73f12(0x253)](_0x3f3519)||_0x3f3519['length']===0x0)throw new Error(_0xf73f12(0x644));let _0x4e4d58=[],_0x4249c5=[];for(let _0x34aa25 of _0x3f3519){if(_0x34aa25[_0xf73f12(0x168)])_0x34aa25[_0xf73f12(0x168)]=this[_0xf73f12(0x348)](_0x34aa25[_0xf73f12(0x168)]);else continue;await this['repository'][_0xf73f12(0x25d)][_0xf73f12(0x108)]({'where':{'_id':_0x34aa25[_0xf73f12(0x168)]}},this['instance'][_0xf73f12(0x547)])?_0x4249c5[_0xf73f12(0x36f)]({'_id':_0x34aa25[_0xf73f12(0x168)],'leadInfo':_0x34aa25[_0xf73f12(0x4bd)],'owner':this[_0xf73f12(0x526)]['wuid']}):_0x4e4d58['push']({'_id':_0x34aa25[_0xf73f12(0x168)],'owner':this[_0xf73f12(0x526)][_0xf73f12(0x547)],'leadInfo':_0x34aa25[_0xf73f12(0x4bd)],'imported':!0x0});}return _0x4249c5['length']>0x0&&await this['repository'][_0xf73f12(0x25d)][_0xf73f12(0x5de)](_0x4249c5['map'](_0x36f633=>({'query':{'where':{'_id':_0x36f633[_0xf73f12(0x168)],'owner':this['instance']['wuid']}},'update':_0x36f633}))),_0x4e4d58[_0xf73f12(0x6ea)]>0x0&&await this[_0xf73f12(0x6e8)][_0xf73f12(0x25d)][_0xf73f12(0x641)](_0x4e4d58,this['instance'][_0xf73f12(0x547)]),{'updated':_0x4249c5['length'],'inserted':_0x4e4d58[_0xf73f12(0x6ea)]};}catch(_0x269497){throw console[_0xf73f12(0x32e)](_0xf73f12(0x524),_0x269497),_0x269497;}}async[a0_0x374876(0x227)](_0x4f5984){const _0x197dba=a0_0x374876;try{if(!Array[_0x197dba(0x253)](_0x4f5984)||_0x4f5984[_0x197dba(0x6ea)]===0x0)throw new Error(_0x197dba(0x644));let _0x300792=0x64,_0x3d3446=0x0;for(let _0x4f64ab=0x0;_0x4f64ab<_0x4f5984[_0x197dba(0x6ea)];_0x4f64ab+=_0x300792){let _0x20062e=_0x4f5984[_0x197dba(0x531)](_0x4f64ab,_0x4f64ab+_0x300792),{updated:_0x572795}=await this['importChatsBatch'](_0x20062e);_0x3d3446+=_0x572795;}return{'updated':_0x3d3446};}catch(_0x5b0a99){throw console[_0x197dba(0x32e)](_0x197dba(0x524),_0x5b0a99),_0x5b0a99;}}async[a0_0x374876(0x1e3)](_0x278aa6){const _0x31136f=a0_0x374876;try{let _0x1472f2=await this[_0x31136f(0x6e8)]['label']['find']({'where':{}},this['instance'][_0x31136f(0x547)]),_0x13ad49=new Set(_0x1472f2[_0x31136f(0x675)](_0x570cae=>_0x570cae[_0x31136f(0x168)])),_0x5c8a81=[],_0x387a58=[];for(let _0x55e410 of _0x278aa6){if(!_0x55e410[_0x31136f(0x168)])continue;_0x55e410['_id']=this['createJid'](_0x55e410[_0x31136f(0x168)]);let _0x23f514=await this[_0x31136f(0x6e8)][_0x31136f(0x25d)]['findOne']({'where':{'_id':_0x55e410['_id']}},this[_0x31136f(0x526)][_0x31136f(0x547)]),_0x978475={};if(Object[_0x31136f(0x337)](_0x55e410[_0x31136f(0x4bd)])[_0x31136f(0x489)](([_0x5d954a,_0x5d3498])=>{const _0x1ce301=_0x31136f;_0x978475[_0x1ce301(0xe5)+_0x5d954a]=_0x5d3498;}),_0x23f514&&!_0x23f514[_0x31136f(0x29f)]){let _0x48e6d4=(_0x55e410['leadInfo'][_0x31136f(0x2c5)]||[])['filter'](_0x2c5736=>_0x13ad49[_0x31136f(0x42e)](_0x2c5736)),_0x2a3114=new Set(_0x23f514[_0x31136f(0x4bd)][_0x31136f(0x2c5)]||[]),_0x2ecf11=_0x48e6d4['filter'](_0x53231a=>!_0x2a3114[_0x31136f(0x42e)](_0x53231a)),_0x458f8a=[..._0x2a3114][_0x31136f(0x4ed)](_0x524412=>!_0x48e6d4[_0x31136f(0xea)](_0x524412));_0x387a58[_0x31136f(0x36f)](..._0x2ecf11[_0x31136f(0x675)](_0x55aad3=>this[_0x31136f(0x611)](_0x55aad3,_0x55e410[_0x31136f(0x168)]))),_0x387a58[_0x31136f(0x36f)](..._0x458f8a[_0x31136f(0x675)](_0xf0120c=>this[_0x31136f(0x4fa)](_0xf0120c,_0x55e410[_0x31136f(0x168)]))),_0x55e410[_0x31136f(0x4bd)][_0x31136f(0x2c5)]=_0x48e6d4,_0x5c8a81['push']({'query':{'where':{'_id':_0x55e410[_0x31136f(0x168)],'owner':this[_0x31136f(0x526)][_0x31136f(0x547)]}},'update':_0x978475});}else _0x978475[_0x31136f(0x29f)]=!0x0,_0x5c8a81[_0x31136f(0x36f)]({'query':{'where':{'_id':_0x55e410[_0x31136f(0x168)],'owner':this['instance'][_0x31136f(0x547)]}},'update':_0x978475});}let _0x557fd0=await this[_0x31136f(0x6e8)][_0x31136f(0x25d)]['updateMany'](_0x5c8a81);return await Promise[_0x31136f(0x361)](_0x387a58),{'updated':_0x557fd0};}catch(_0x23a220){throw console[_0x31136f(0x32e)](_0x31136f(0x524),_0x23a220),_0x23a220;}}async['fetchPrivacySettings'](){const _0x29d39d=a0_0x374876;return await this[_0x29d39d(0x6c7)][_0x29d39d(0x64b)]();}async['updatePrivacySettings'](_0x3d58f9){const _0x214407=a0_0x374876;try{return await this[_0x214407(0x6c7)][_0x214407(0x3c2)](_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x22f)]),await this[_0x214407(0x6c7)][_0x214407(0x2dd)](_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x5ca)]),await this['client'][_0x214407(0x686)](_0x3d58f9[_0x214407(0x1c9)]['status']),await this['client'][_0x214407(0x693)](_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x6d7)]),await this[_0x214407(0x6c7)][_0x214407(0x739)](_0x3d58f9[_0x214407(0x1c9)]['last']),await this[_0x214407(0x6c7)]['updateGroupsAddPrivacy'](_0x3d58f9[_0x214407(0x1c9)][_0x214407(0xeb)]),this[_0x214407(0x6c7)]?.['ws']?.[_0x214407(0x368)](),{'update':_0x214407(0x14d),'data':{'readreceipts':_0x3d58f9[_0x214407(0x1c9)]['readreceipts'],'profile':_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x5ca)],'status':_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x3d2)],'online':_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x6d7)],'last':_0x3d58f9[_0x214407(0x1c9)][_0x214407(0x162)],'groupadd':_0x3d58f9[_0x214407(0x1c9)][_0x214407(0xeb)]}};}catch(_0x5b3e60){throw new I('Error\x20updating\x20privacy\x20settings',_0x5b3e60[_0x214407(0x5ab)]());}}async['fetchProfile2'](_0x2a5283){const _0x4478d9=a0_0x374876;let _0x54d685=_0x2a5283?this['createJid'](_0x2a5283):this['client']?.[_0x4478d9(0x459)]?.['id'];this[_0x4478d9(0x131)][_0x4478d9(0xc1)](_0x4478d9(0x2d1)+_0x54d685);try{if(this[_0x4478d9(0x131)]['verbose'](_0x4478d9(0x5cc)),_0x2a5283){let _0x4b7062=(await this[_0x4478d9(0x30b)]({'numbers':[_0x54d685]}))?.[_0x4478d9(0x3fe)](),_0x3d959b=await this[_0x4478d9(0x5c2)](_0x4b7062?.[_0x4478d9(0x550)]),_0x2383fe=await this[_0x4478d9(0x2f9)](_0x4b7062?.[_0x4478d9(0x550)]),_0x2dc8a2=await this[_0x4478d9(0x494)](_0x4b7062?.[_0x4478d9(0x550)]);return{'wuid':_0x4b7062?.[_0x4478d9(0x550)]||_0x54d685,'name':_0x4b7062?.[_0x4478d9(0x2f4)],'numberExists':_0x4b7062?.[_0x4478d9(0x4c9)],'picture':_0x3d959b?.[_0x4478d9(0x5f0)],'status':_0x2383fe?.['status'],'isBusiness':_0x2dc8a2[_0x4478d9(0x3db)],'email':_0x2dc8a2?.['email'],'description':_0x2dc8a2?.['description'],'website':_0x2dc8a2?.[_0x4478d9(0x6d1)]?.[_0x4478d9(0x3fe)]()};}}catch{return this[_0x4478d9(0x131)][_0x4478d9(0xc1)](_0x4478d9(0x2cf)),{'wuid':_0x54d685,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x2135f6){const _0x1b9994=a0_0x374876;let _0x29c805=(_0x2135f6?this['createJid'](_0x2135f6):this[_0x1b9994(0x6c7)]?.[_0x1b9994(0x459)]?.['id'])[_0x1b9994(0x6fa)](/:\d{1,2}@/g,'@');this['logger'][_0x1b9994(0xc1)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x29c805);let _0x469c7d=await this[_0x1b9994(0x6e8)][_0x1b9994(0x4f2)]['findOne']({'where':{'_id':_0x29c805}},this[_0x1b9994(0x526)][_0x1b9994(0x547)]),_0x938893=_0x469c7d?_0x469c7d['pushName']:null;try{let _0x2099b8=(await this[_0x1b9994(0x30b)]({'numbers':[_0x29c805]}))?.[_0x1b9994(0x3fe)](),_0x2e55b3=await this[_0x1b9994(0x5c2)](_0x2099b8?.[_0x1b9994(0x550)]),_0x14804e=await this[_0x1b9994(0x2f9)](_0x2099b8?.[_0x1b9994(0x550)]),_0x3e9e5b=await this[_0x1b9994(0x494)](_0x2099b8?.[_0x1b9994(0x550)]),_0x19f92d=await this[_0x1b9994(0x6e8)][_0x1b9994(0x25d)]['findOne']({'where':{'_id':_0x29c805}},this[_0x1b9994(0x526)][_0x1b9994(0x547)]),_0x43d5c0={'imagechat':_0x2e55b3?.[_0x1b9994(0x5f0)],'contactname':_0x938893||null,'status':_0x14804e?.['status'],'isBusiness':_0x3e9e5b[_0x1b9994(0x3db)],'email':_0x3e9e5b?.['email'],'description':_0x3e9e5b?.['description'],'website':_0x3e9e5b?.['website']?.[_0x1b9994(0x3fe)](),'lastcache':Date[_0x1b9994(0x4e5)](),'imported':!_0x19f92d},_0x5dc4e3=await this[_0x1b9994(0x6e8)]['chat']['updateOne']({'where':{'_id':_0x29c805}},_0x43d5c0,this[_0x1b9994(0x526)][_0x1b9994(0x547)]),_0x1e9711={'owner':this['instance']['wuid'],'_id':_0x29c805,'profilePictureUrl':_0x2e55b3?.['profilePictureUrl'],'status':_0x14804e?.[_0x1b9994(0x3d2)]};return this['repository'][_0x1b9994(0x4f2)][_0x1b9994(0x4dc)]([_0x1e9711],this[_0x1b9994(0x526)][_0x1b9994(0x547)]),_0x5dc4e3&&q(this['instanceName'],'chats',{'chat':_0x5dc4e3}),{'wuid':_0x2099b8?.[_0x1b9994(0x550)]||_0x29c805,'name':_0x2099b8?.['name'],'numberExists':_0x2099b8?.[_0x1b9994(0x4c9)],'picture':_0x2e55b3?.[_0x1b9994(0x5f0)],'status':_0x14804e?.[_0x1b9994(0x3d2)],'isBusiness':_0x3e9e5b[_0x1b9994(0x3db)],'email':_0x3e9e5b?.[_0x1b9994(0x564)],'description':_0x3e9e5b?.[_0x1b9994(0x422)],'website':_0x3e9e5b?.[_0x1b9994(0x6d1)]?.[_0x1b9994(0x3fe)]()};}catch(_0x35d062){return this[_0x1b9994(0x131)][_0x1b9994(0x32e)](_0x1b9994(0x6fb)+(_0x35d062 instanceof Error?_0x35d062[_0x1b9994(0x5e9)]:JSON['stringify'](_0x35d062,null,0x2))),{};}}async[a0_0x374876(0x494)](_0x28a568){const _0x460739=a0_0x374876;this[_0x460739(0x131)][_0x460739(0xc1)]('Fetching\x20business\x20profile');try{let _0x397fd3=_0x28a568?this[_0x460739(0x348)](_0x28a568):this['instance'][_0x460739(0x547)],_0x4c1888=await this[_0x460739(0x6c7)][_0x460739(0x18b)](_0x397fd3);return this['logger'][_0x460739(0xc1)](_0x460739(0x3f4)),_0x4c1888?(this[_0x460739(0x131)]['verbose'](_0x460739(0x282)),{'isBusiness':!0x0,..._0x4c1888}):{'isBusiness':!0x1,'message':_0x460739(0x3a3),...(await this['whatsappNumber']({'numbers':[_0x397fd3]}))?.[_0x460739(0x3fe)]()};}catch(_0x272d65){throw new I(_0x460739(0x1d7),_0x272d65[_0x460739(0x5ab)]());}}async[a0_0x374876(0x2f9)](_0x16276a){const _0x3853c4=a0_0x374876;let _0xcdd9a9=this[_0x3853c4(0x348)](_0x16276a);try{return{'wuid':_0xcdd9a9,'status':(await this['client'][_0x3853c4(0x318)](_0xcdd9a9))?.[_0x3853c4(0x3d2)]};}catch{return{'wuid':_0xcdd9a9,'status':null};}}async[a0_0x374876(0x69b)](_0x1acef2){const _0x5f2f4a=a0_0x374876;try{return await this['client'][_0x5f2f4a(0x69b)](_0x1acef2),{'update':_0x5f2f4a(0x14d)};}catch(_0x4330c8){throw new I(_0x5f2f4a(0x1d7),_0x4330c8['toString']());}}async[a0_0x374876(0x3c6)](_0x39a7db){const _0x17477c=a0_0x374876;try{return await this[_0x17477c(0x6c7)]['updateProfileStatus'](_0x39a7db),{'update':_0x17477c(0x14d)};}catch(_0x536300){throw new I(_0x17477c(0x3a7),_0x536300[_0x17477c(0x5ab)]());}}async[a0_0x374876(0x4c3)](_0x1fb687){const _0x3c2ecd=a0_0x374876;try{let _0x428209;if((0x0,$[_0x3c2ecd(0x1f9)])(_0x1fb687)){let _0x2fcd04=new Date()[_0x3c2ecd(0x6d6)](),_0x21d9ce=_0x1fb687+_0x3c2ecd(0x740)+_0x2fcd04;_0x428209=(await te[_0x3c2ecd(0x701)][_0x3c2ecd(0x34c)](_0x21d9ce,{'responseType':_0x3c2ecd(0x59b)}))[_0x3c2ecd(0x5b9)];}else{if((0x0,$[_0x3c2ecd(0x195)])(_0x1fb687))_0x428209=Buffer[_0x3c2ecd(0x1df)](_0x1fb687,_0x3c2ecd(0x4f9));else throw new w(_0x3c2ecd(0x516));}return await this['client'][_0x3c2ecd(0x4c3)](this[_0x3c2ecd(0x526)][_0x3c2ecd(0x547)],_0x428209),{'update':_0x3c2ecd(0x14d)};}catch(_0x4ac9be){throw new I(_0x3c2ecd(0xed),_0x4ac9be[_0x3c2ecd(0x5ab)]());}}async['removeProfilePicture'](){const _0x1d605a=a0_0x374876;try{return await this['client'][_0x1d605a(0x3c7)](this[_0x1d605a(0x526)][_0x1d605a(0x547)]),{'update':_0x1d605a(0x14d)};}catch(_0x459277){throw new I(_0x1d605a(0x58f),_0x459277[_0x1d605a(0x5ab)]());}}async[a0_0x374876(0x732)](_0x50e268){const _0x1a2bf4=a0_0x374876;try{let _0x329f6d=_0x50e268[_0x1a2bf4(0x6ac)]['map'](_0x142532=>this[_0x1a2bf4(0x348)](_0x142532)),{id:_0x255a2e}=await this[_0x1a2bf4(0x6c7)][_0x1a2bf4(0x714)](_0x50e268[_0x1a2bf4(0x50c)],_0x329f6d);return _0x50e268?.['description']&&await this[_0x1a2bf4(0x6c7)]['groupUpdateDescription'](_0x255a2e,_0x50e268[_0x1a2bf4(0x422)]),{'metadata':await this['client'][_0x1a2bf4(0x5d1)](_0x255a2e)};}catch(_0x1d7b4e){throw this['logger'][_0x1a2bf4(0x32e)](this[_0x1a2bf4(0x2b3)]+'\x20('+this['instance'][_0x1a2bf4(0x547)]+_0x1a2bf4(0x1c6)+(_0x1d7b4e instanceof Error?_0x1d7b4e[_0x1a2bf4(0x5e9)]:JSON['stringify'](_0x1d7b4e,null,0x2))),new I(_0x1a2bf4(0xc8),_0x1d7b4e[_0x1a2bf4(0x5ab)]());}}async[a0_0x374876(0x5ed)](_0x312691){const _0x200300=a0_0x374876;try{let _0x1192f5;if((0x0,$[_0x200300(0x1f9)])(_0x312691[_0x200300(0x61f)])){let _0x118058=new Date()[_0x200300(0x6d6)](),_0xa7aade=_0x312691['image']+_0x200300(0x740)+_0x118058;_0x1192f5=(await te['default']['get'](_0xa7aade,{'responseType':'arraybuffer'}))[_0x200300(0x5b9)];}else{if((0x0,$[_0x200300(0x195)])(_0x312691['image']))_0x1192f5=Buffer[_0x200300(0x1df)](_0x312691[_0x200300(0x61f)],_0x200300(0x4f9));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x200300(0x6c7)][_0x200300(0x4c3)](_0x312691['groupJid'],_0x1192f5),{'update':'success'};}catch(_0x35e38e){throw new I(_0x200300(0x5ba),_0x35e38e[_0x200300(0x5ab)]());}}async[a0_0x374876(0x49b)](_0x104f86,_0x535b4b=a0_0x374876(0x104)){const _0x3ad1f4=a0_0x374876;try{let _0x4bd657=await this['client']['groupMetadata'](_0x104f86[_0x3ad1f4(0x351)]),_0x4f2c1d=null;try{_0x4f2c1d=(await this[_0x3ad1f4(0x5c2)](_0x104f86[_0x3ad1f4(0x351)]))[_0x3ad1f4(0x5f0)];}catch(_0x36d7eb){this[_0x3ad1f4(0x131)][_0x3ad1f4(0xc1)](this['instanceName']+'\x20('+this['instance'][_0x3ad1f4(0x547)]+_0x3ad1f4(0x666)+_0x104f86[_0x3ad1f4(0x351)]+':\x20'+(_0x36d7eb instanceof Error?_0x36d7eb[_0x3ad1f4(0x5e9)]:JSON[_0x3ad1f4(0x5f1)](_0x36d7eb,null,0x2)));}let _0x5a4a8d=await this[_0x3ad1f4(0x6e8)][_0x3ad1f4(0x25d)][_0x3ad1f4(0x6fe)]({'where':{'_id':_0x104f86[_0x3ad1f4(0x351)]}},{'imagechat':_0x4f2c1d,'name':_0x4bd657['subject'],'group_size':_0x4bd657[_0x3ad1f4(0x4d0)],'group_announce':_0x4bd657[_0x3ad1f4(0x1db)],'lastcache':Date['now']()},this['instance'][_0x3ad1f4(0x547)]);return _0x5a4a8d&&q(this[_0x3ad1f4(0x2b3)],'chats',{'chat':_0x5a4a8d}),{'metadata':_0x4bd657,'image':_0x4f2c1d};}catch(_0x16607f){if(_0x535b4b===_0x3ad1f4(0x276))return;throw new k(_0x3ad1f4(0x5d8),_0x16607f[_0x3ad1f4(0x5ab)]());}}async[a0_0x374876(0x535)](_0x2172ba){const _0x56fa91=a0_0x374876;try{return await this[_0x56fa91(0x6c7)][_0x56fa91(0x5b2)](_0x2172ba[_0x56fa91(0x351)],_0x2172ba[_0x56fa91(0x422)]),{'update':'success'};}catch(_0x3ed042){throw new I('Error\x20change\x20group\x20description',_0x3ed042['toString']());}}async['groupName'](_0x524d2c){const _0x1a41ab=a0_0x374876;try{return await this[_0x1a41ab(0x6c7)][_0x1a41ab(0x5a8)](_0x524d2c[_0x1a41ab(0x351)],_0x524d2c[_0x1a41ab(0x2f4)]),{'update':'success'};}catch(_0x51642c){throw new I('Error\x20change\x20group\x20name',_0x51642c[_0x1a41ab(0x5ab)]());}}async[a0_0x374876(0x237)](_0x20ccfa){const _0x15c17b=a0_0x374876;try{return await this[_0x15c17b(0x6c7)][_0x15c17b(0x4d1)](_0x20ccfa[_0x15c17b(0x351)],_0x20ccfa[_0x15c17b(0x242)]),{'update':_0x15c17b(0x14d)};}catch(_0x3b6a5b){throw new I(_0x15c17b(0x203),_0x3b6a5b['toString']());}}async['findGroups'](){const _0x509a35=a0_0x374876;try{let _0xed0b8f=[],_0x20438b=await this[_0x509a35(0x6c7)][_0x509a35(0x6df)](),_0x3f0070=Object[_0x509a35(0x15e)](_0x20438b),_0x12d7dd=_0x3f0070[_0x509a35(0x4ed)](_0x44027e=>(0x0,m[_0x509a35(0x312)])(_0x44027e?.['id']))[_0x509a35(0x675)](async _0x206878=>{const _0x4592b2=_0x509a35;try{return await this[_0x4592b2(0x6c7)][_0x4592b2(0x5f0)](_0x206878['id'],_0x4592b2(0xec));}catch(_0x487d53){return this[_0x4592b2(0x131)][_0x4592b2(0xc1)](this['instanceName']+'\x20('+this['instance'][_0x4592b2(0x547)]+_0x4592b2(0x666)+_0x206878['id']+':\x20'+(_0x487d53 instanceof Error?_0x487d53[_0x4592b2(0x5e9)]:JSON['stringify'](_0x487d53,null,0x2))),null;}}),_0x3dd024=await Promise[_0x509a35(0x361)](_0x12d7dd);for(let _0x29ecbd=0x0;_0x29ecbd<_0x3f0070[_0x509a35(0x6ea)];_0x29ecbd++){let _0x4bc169=_0x3f0070[_0x29ecbd];(0x0,m[_0x509a35(0x312)])(_0x4bc169?.['id'])&&_0xed0b8f[_0x509a35(0x36f)]({'groupJid':_0x4bc169?.['id'],'subject':_0x4bc169?.[_0x509a35(0x50c)],'subjectOwner':_0x4bc169?.[_0x509a35(0xdc)]?.[_0x509a35(0x443)]('@')[0x0],'subjectTime':_0x4bc169?.[_0x509a35(0x48c)],'size':_0x4bc169?.[_0x509a35(0x6ac)]?.['length'],'owner':_0x4bc169?.[_0x509a35(0x4d5)]?.['split']('@')[0x0],'creation':_0x4bc169?.[_0x509a35(0x4a7)],'desc':_0x4bc169?.[_0x509a35(0x461)],'restrict':_0x4bc169?.['restrict'],'announce':_0x4bc169?.[_0x509a35(0x1db)],'image':_0x3dd024[_0x29ecbd]});}return _0xed0b8f;}catch(_0x28cb53){throw new k(_0x509a35(0x5d8),_0x28cb53['toString']());}}async[a0_0x374876(0x3d9)](_0x3ba02d){const _0x4c4631=a0_0x374876;try{let _0x5ddd68=await this['client'][_0x4c4631(0x6ed)](_0x3ba02d[_0x4c4631(0x351)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x5ddd68,'inviteCode':_0x5ddd68};}catch(_0x3d5eca){throw new k(_0x4c4631(0x3f2),_0x3d5eca[_0x4c4631(0x5ab)]());}}async[a0_0x374876(0x2f7)](_0x3c802a){const _0x2b2ab9=a0_0x374876;try{let _0x48850e=await this[_0x2b2ab9(0x6c7)][_0x2b2ab9(0x4b2)](_0x3c802a[_0x2b2ab9(0x351)]);return{'revoked':!0x0,'inviteUrl':_0x2b2ab9(0xff)+_0x48850e,'inviteCode':_0x48850e};}catch(_0x4e3533){throw new k(_0x2b2ab9(0x20c),_0x4e3533[_0x2b2ab9(0x5ab)]());}}async[a0_0x374876(0x571)](_0x1a0aa2){const _0x4f5ea7=a0_0x374876;try{if((0x0,$['isURL'])(_0x1a0aa2[_0x4f5ea7(0x3d9)]))var _0x29086f=_0x1a0aa2[_0x4f5ea7(0x3d9)]['split']('/')[0x3];else var _0x29086f=_0x1a0aa2['inviteCode'];let _0x3f4eb4=await this['client'][_0x4f5ea7(0x53e)](_0x29086f);return this[_0x4f5ea7(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x4f5ea7(0x526)]['wuid']+_0x4f5ea7(0x1c6)+_0x3f4eb4),{'join':!0x0,'inviteCode':_0x29086f,'groupJid':_0x3f4eb4};}catch(_0x4196d3){throw new k(_0x4f5ea7(0x54e),_0x4196d3[_0x4f5ea7(0x5ab)]());}}async[a0_0x374876(0x3e6)](_0x1ab328){const _0x296052=a0_0x374876;try{return{'participants':(await this[_0x296052(0x6c7)][_0x296052(0x5d1)](_0x1ab328[_0x296052(0x351)]))[_0x296052(0x6ac)]};}catch(_0x101a69){throw new k(_0x296052(0x5ec),_0x101a69[_0x296052(0x5ab)]());}}async['updateGParticipant'](_0x945839){const _0x15bcd9=a0_0x374876;try{let _0xd4d672=_0x945839['participants']['map'](_0x4b9591=>this[_0x15bcd9(0x348)](_0x4b9591));return{'updateParticipants':await this[_0x15bcd9(0x6c7)][_0x15bcd9(0x4fc)](_0x945839['groupJid'],_0xd4d672,_0x945839[_0x15bcd9(0x6b9)])};}catch(_0x10386d){throw new w(_0x15bcd9(0x584),_0x10386d[_0x15bcd9(0x5ab)]());}}async[a0_0x374876(0x518)](_0xc6d0ed){const _0x541aa6=a0_0x374876;try{let _0x53a316=await this['client'][_0x541aa6(0x233)](_0xc6d0ed['groupJid'],_0xc6d0ed['expiration']);return{'success':!0x0};}catch(_0x4040ed){throw new w('Error\x20updating\x20setting',_0x4040ed[_0x541aa6(0x5ab)]());}}async[a0_0x374876(0x664)](_0x15ed8a){const _0x10fc8d=a0_0x374876;try{return await this[_0x10fc8d(0x6c7)][_0x10fc8d(0x632)](_0x15ed8a[_0x10fc8d(0x351)]),{'groupJid':_0x15ed8a[_0x10fc8d(0x351)],'leave':!0x0};}catch(_0x798588){throw new w(_0x10fc8d(0x48f),_0x798588[_0x10fc8d(0x5ab)]());}}async[a0_0x374876(0x5e6)](_0x34244d){const _0x3b83a1=a0_0x374876;return await this['sendMessageWithTyping'](_0x34244d[_0x3b83a1(0x67d)],{'poll':{'name':_0x34244d['pollMessage']?.[_0x3b83a1(0x2f4)],'selectableCount':_0x34244d[_0x3b83a1(0x5e6)][_0x3b83a1(0x71d)],'values':_0x34244d[_0x3b83a1(0x5e6)][_0x3b83a1(0x15e)]}},_0x34244d?.[_0x3b83a1(0x5ee)]);}async[a0_0x374876(0x160)](_0x143ec6){const _0x47208=a0_0x374876;return await this[_0x47208(0x349)](_0x143ec6[_0x47208(0x67d)],{'listMessage':{'title':_0x143ec6[_0x47208(0x160)]['title'],'description':_0x143ec6[_0x47208(0x160)][_0x47208(0x422)],'buttonText':_0x143ec6[_0x47208(0x160)]?.[_0x47208(0x6b4)],'footerText':_0x143ec6[_0x47208(0x160)]?.[_0x47208(0x582)],'sections':_0x143ec6[_0x47208(0x160)][_0x47208(0x521)],'listType':0x2}},_0x143ec6?.[_0x47208(0x5ee)]);}async[a0_0x374876(0x4e1)](_0x4447a9){const _0x34fb42=a0_0x374876;let _0x4eb800;if(_0x4447a9['menuMessage'][_0x34fb42(0x575)]===_0x34fb42(0x121)){let _0x5d7d1e=_0x4447a9[_0x34fb42(0x4e1)]['text'][_0x34fb42(0x1d9)]('\x0a'),_0x422cb2='',_0xa5ee80='';_0x5d7d1e!==-0x1?(_0x422cb2=_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x215)]['substring'](0x0,_0x5d7d1e)[_0x34fb42(0x3ba)](),_0xa5ee80=_0x4447a9['menuMessage']['text'][_0x34fb42(0x4d6)](_0x5d7d1e+0x1)):_0xa5ee80=_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x215)];let _0x8aa32f=_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x545)][_0x34fb42(0x4ed)](_0x8a96eb=>_0x8a96eb[_0x34fb42(0x3ba)]()!==''),_0x5e1e00=this['createSectionsFromValues'](_0x8aa32f);_0x4eb800={'listMessage':{'title':_0x422cb2,'description':_0xa5ee80,'buttonText':_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x6b4)]||'Selecione','footerText':_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x582)],'sections':_0x5e1e00,'listType':0x2}};}else{if(_0x4447a9['menuMessage']['type']==='poll'){let _0x4fed34=_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x545)][_0x34fb42(0x4ed)](_0x23a52c=>!(_0x23a52c[_0x34fb42(0xd6)]('[')&&_0x23a52c[_0x34fb42(0x613)](']'))&&_0x23a52c[_0x34fb42(0x3ba)]()!=='')[_0x34fb42(0x675)](_0x2e9e88=>_0x2e9e88[_0x34fb42(0x443)]('\x0a')[0x0]);_0x4eb800={'poll':{'name':_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x215)],'selectableCount':_0x4447a9[_0x34fb42(0x4e1)][_0x34fb42(0x71d)]||0x1,'values':_0x4fed34}};}}return await this[_0x34fb42(0x349)](_0x4447a9['number'],_0x4eb800,_0x4447a9?.[_0x34fb42(0x5ee)]);}[a0_0x374876(0x25e)](_0x464d30){const _0x1f7926=a0_0x374876;let _0x1d9081=[],_0x4f43da={'rows':[]};return _0x464d30[_0x1f7926(0x489)](_0x3522df=>{const _0x580c2a=_0x1f7926;if(_0x3522df['startsWith']('[')&&_0x3522df[_0x580c2a(0x613)](']'))_0x4f43da[_0x580c2a(0x5e8)][_0x580c2a(0x6ea)]>0x0&&_0x1d9081['push'](_0x4f43da),_0x4f43da={'title':_0x3522df[_0x580c2a(0x531)](0x1,-0x1),'rows':[]};else{let _0x3c552e=_0x3522df[_0x580c2a(0x443)]('\x0a')['map'](_0x246ea7=>_0x246ea7[_0x580c2a(0x3ba)]()),_0x42347a=_0x3c552e[0x0],_0x185375=_0x3c552e[0x1]||null,_0x34f33d=_0x3c552e[0x2]||_0x42347a;_0x4f43da['rows']['push']({'title':_0x42347a,'description':_0x185375,'rowId':_0x34f33d});}}),_0x4f43da['rows']['length']>0x0&&_0x1d9081[_0x1f7926(0x36f)](_0x4f43da),_0x1d9081;}async['updateMessage'](_0x3b4216,_0x5a7ab3){const _0x2f4c88=a0_0x374876;if(await this['getMessage'](_0x3b4216,!0x0)){let _0x270c3d={'where':{'_id':_0x3b4216['id']}},_0x513b06={'status':[_0x5a7ab3['status']][0x0]};try{let _0x4f2387=await this[_0x2f4c88(0x6e8)][_0x2f4c88(0x5e9)][_0x2f4c88(0x4dc)](_0x270c3d,_0x513b06,this[_0x2f4c88(0x526)][_0x2f4c88(0x547)]);_0x4f2387&&q(this[_0x2f4c88(0x2b3)],_0x2f4c88(0x709),{'message':_0x4f2387});}catch{}}}[a0_0x374876(0x5a3)](_0x4faf5e){const _0x40fce3=a0_0x374876;let _0xdd47be=[];return _0x4faf5e[_0x40fce3(0x489)](_0x3effa9=>{const _0x12e619=_0x40fce3;_0x3effa9[_0x12e619(0x591)]&&_0xdd47be[_0x12e619(0x36f)]('['+_0x3effa9[_0x12e619(0x591)]+']'),_0x3effa9[_0x12e619(0x5e8)][_0x12e619(0x489)](_0xda4809=>{const _0x1fe83f=_0x12e619;_0xdd47be[_0x1fe83f(0x36f)](_0xda4809[_0x1fe83f(0x591)]);});}),_0xdd47be[_0x40fce3(0x679)]('|');}['formatVCard'](_0x29ec44){const _0xf3d2a9=a0_0x374876;let _0xd9955f=_0x29ec44['replace'](/\\n/g,'\x0a')[_0xf3d2a9(0x443)]('\x0a')[_0xf3d2a9(0x4ed)](_0x402642=>_0x402642[_0xf3d2a9(0xea)](_0xf3d2a9(0x3c8))||_0x402642[_0xf3d2a9(0xea)](_0xf3d2a9(0x418))),_0x1b27c8='';return _0xd9955f[_0xf3d2a9(0x489)](_0x2d01ee=>{const _0x586553=_0xf3d2a9;let _0x1bfb8d=/TEL(?:.*):(.+)/,_0x588073=/EMAIL(?:.*):(.+)/,_0x15eda6=_0x2d01ee[_0x586553(0xfa)](_0x1bfb8d),_0x295c0a=_0x2d01ee['match'](_0x588073);if(_0x15eda6){let _0x424960=_0x15eda6[0x1][_0x586553(0x6fa)](/-| |\+|\(|\)/g,'')[_0x586553(0x3ba)]();_0x1b27c8+='Telefone:\x20'+_0x424960+'\x0a';}else{if(_0x295c0a){let _0x53a2cd=_0x295c0a[0x1][_0x586553(0x3ba)]();_0x1b27c8+='E-mail:\x20'+_0x53a2cd+'\x0a';}}}),_0x1b27c8[_0xf3d2a9(0x3ba)]();}async[a0_0x374876(0x231)](_0x2b3f21,_0x4cfd30,_0x5d8f4e){const _0x4b30c7=a0_0x374876;if(!_0x2b3f21[_0x4b30c7(0x258)])return;let _0x3689f2=_0x4cfd30[_0x4b30c7(0x674)][_0x4b30c7(0x46a)][_0x4b30c7(0x6fa)](/:\d{1,2}@/g,'@'),_0x690b35=_0x4cfd30['key'][_0x4b30c7(0x699)],_0xcf625a=_0x3689f2[_0x4b30c7(0x613)](_0x4b30c7(0x3b1)),_0x1c06ac=_0x4cfd30[_0x4b30c7(0x66d)]?.[_0x4b30c7(0x215)]||_0x4cfd30[_0x4b30c7(0x66d)]?.[_0x4b30c7(0x277)]||_0x4cfd30['message_normalized']?.['vote']||_0x4cfd30[_0x4b30c7(0x66d)]?.[_0x4b30c7(0x2f4)],_0x208217={'lastmsg':_0x4cfd30['messageTimestamp']||Date[_0x4b30c7(0x4e5)](),'unreadcount':_0x690b35?0x0:0x1,..._0x690b35||_0xcf625a?{}:{'name':_0x4cfd30[_0x4b30c7(0x529)]},..._0xcf625a?{'group':_0xcf625a}:{}},_0x271a78=await this[_0x4b30c7(0x6e8)][_0x4b30c7(0x25d)][_0x4b30c7(0x6fe)]({'where':{'_id':_0x3689f2}},_0x208217,this['instance'][_0x4b30c7(0x547)],{'new':!0x0,'upsert':!0x0});if(_0x271a78['imported']){let _0x5e430b=await this[_0x4b30c7(0x6e8)][_0x4b30c7(0x216)][_0x4b30c7(0x441)]({'where':{}},this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]),_0x4102cf=new Set(_0x5e430b['map'](_0x869f4d=>_0x869f4d[_0x4b30c7(0x168)])),_0x3f8b9e=(_0x271a78[_0x4b30c7(0x4bd)]?.[_0x4b30c7(0x2c5)]||[])[_0x4b30c7(0x4ed)](_0x539a1f=>_0x4102cf['has'](_0x539a1f)),_0x1c7c36={'leadInfo.etiquetas':_0x3f8b9e,'imported':!0x1};_0x271a78=await this[_0x4b30c7(0x6e8)][_0x4b30c7(0x25d)][_0x4b30c7(0x6fe)]({'where':{'_id':_0x3689f2}},_0x1c7c36,this['instance'][_0x4b30c7(0x547)]);for(let _0x285458 of _0x3f8b9e)await this['AddChatLabel'](_0x285458,_0x3689f2);}if(!_0xcf625a&&(!_0x271a78?.[_0x4b30c7(0x4bd)]||!_0x271a78['leadInfo'][_0x4b30c7(0x408)])&&_0x4cfd30['pushName']&&!_0x690b35&&(_0x271a78=await this[_0x4b30c7(0x6e8)]['chat'][_0x4b30c7(0x6fe)]({'where':{'_id':_0x3689f2}},{'leadInfo.nome':_0x4cfd30[_0x4b30c7(0x529)]},this['instance'][_0x4b30c7(0x547)],{'new':!0x0,'upsert':!0x0})),_0x5d8f4e===_0x4b30c7(0x152)&&_0x690b35&&this[_0x4b30c7(0x109)]?.[_0x4b30c7(0x3a5)][_0x4b30c7(0x523)]&&!_0x1c06ac[_0x4b30c7(0xd6)](this['AutomateSystem']?.[_0x4b30c7(0x3a5)][_0x4b30c7(0x656)])){let _0x263392=(this[_0x4b30c7(0x109)]?.[_0x4b30c7(0x3a5)][_0x4b30c7(0x40d)]||0x5)*0xea60,_0x192007=Date[_0x4b30c7(0x4e5)]()+_0x263392;_0x271a78?.[_0x4b30c7(0x4bd)]?.['desativadoFluxoAte']===0x0||(await this[_0x4b30c7(0x6e8)][_0x4b30c7(0x25d)][_0x4b30c7(0x6fe)]({'where':{'_id':_0x3689f2}},{'leadInfo.desativadoFluxoAte':_0x192007},this[_0x4b30c7(0x526)]['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x4b30c7(0x131)][_0x4b30c7(0xc1)](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]+_0x4b30c7(0x71a)+_0x192007+'.'));}if(_0x271a78)q(this[_0x4b30c7(0x2b3)],_0x4b30c7(0x28d),{'chat':_0x271a78});else{this[_0x4b30c7(0x131)][_0x4b30c7(0x32e)](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]+_0x4b30c7(0x2cb));return;}if(!this[_0x4b30c7(0x109)]?.['flowConfig'][_0x4b30c7(0x523)])return this[_0x4b30c7(0x131)]['verbose'](this[_0x4b30c7(0x2b3)]+'\x20('+this['instance'][_0x4b30c7(0x547)]+'):\x20Flow\x20desativado'),null;if(_0x271a78['_id'][_0x4b30c7(0xea)](_0x4b30c7(0x3b1))&&this[_0x4b30c7(0x109)]?.['flowConfig'][_0x4b30c7(0x2a1)]===!0x0)return this[_0x4b30c7(0x131)][_0x4b30c7(0xc1)](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x271a78[_0x4b30c7(0x4bd)]){if(_0x271a78[_0x4b30c7(0x4bd)]['desativadoFluxoAte']===0x0||_0x271a78[_0x4b30c7(0x4bd)][_0x4b30c7(0x659)])return this[_0x4b30c7(0x131)]['verbose'](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x3689f2+_0x4b30c7(0x375)),null;if(_0x271a78[_0x4b30c7(0x4bd)][_0x4b30c7(0x2e8)]>Date[_0x4b30c7(0x4e5)]()&&!_0x4cfd30[_0x4b30c7(0x66d)]?.[_0x4b30c7(0x27e)])return this[_0x4b30c7(0x131)][_0x4b30c7(0xc1)](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)]['wuid']+_0x4b30c7(0x362)+new Date(_0x271a78[_0x4b30c7(0x4bd)]['desativadoFluxoAte'])[_0x4b30c7(0x60a)]()+',\x20saindo.'),null;}this[_0x4b30c7(0x131)][_0x4b30c7(0xc1)](this[_0x4b30c7(0x2b3)]+'\x20('+this[_0x4b30c7(0x526)][_0x4b30c7(0x547)]+_0x4b30c7(0x730)),this[_0x4b30c7(0x190)](_0x5d8f4e,_0x4cfd30);}async[a0_0x374876(0x15f)](_0x1755ac,_0x273510){const _0x24e172=a0_0x374876;if(_0x273510[_0x24e172(0x258)]){let _0x3d3c22=_0x1755ac[_0x24e172(0x675)](async _0x3282e1=>{const _0x397a14=_0x24e172;try{let _0x27a563={'_id':_0x3282e1[_0x397a14(0x168)],'owner':_0x3282e1[_0x397a14(0x4d5)],'lastcache':0x0};if(_0x3282e1[_0x397a14(0x26b)]!==null&&(_0x27a563[_0x397a14(0x26b)]=_0x3282e1[_0x397a14(0x26b)]),_0x3282e1[_0x397a14(0x2f4)]!==null&&(_0x27a563[_0x397a14(0x2f4)]=_0x3282e1[_0x397a14(0x2f4)]),_0x3282e1[_0x397a14(0x4d4)]!==null&&(_0x27a563['contactname']=_0x3282e1['contactname']),_0x3282e1[_0x397a14(0x5e1)]!==null&&(_0x27a563[_0x397a14(0x5e1)]=_0x3282e1[_0x397a14(0x5e1)]),_0x3282e1[_0x397a14(0x5e1)]===null&&(_0x27a563[_0x397a14(0x5e1)]=_0x397a14(0x198)),_0x3282e1[_0x397a14(0xca)]!==null&&(_0x27a563[_0x397a14(0xca)]=_0x3282e1[_0x397a14(0xca)]),_0x3282e1[_0x397a14(0x382)]!==null&&(_0x27a563['archived']=_0x3282e1[_0x397a14(0x382)]),_0x3282e1[_0x397a14(0x606)]!==null&&(_0x27a563[_0x397a14(0x606)]=_0x3282e1[_0x397a14(0x606)]),Object['keys'](_0x27a563)[_0x397a14(0x6ea)]>0x0)return await this[_0x397a14(0x6e8)][_0x397a14(0x25d)][_0x397a14(0x6fe)]({'where':{'_id':_0x3282e1[_0x397a14(0x168)]}},_0x27a563,this[_0x397a14(0x526)][_0x397a14(0x547)]);}catch(_0x31cdfe){return console[_0x397a14(0x32e)](_0x397a14(0x430)+_0x3282e1[_0x397a14(0x168)]+':',_0x31cdfe),null;}}),_0x2dc91c=(await Promise[_0x24e172(0x361)](_0x3d3c22))['filter'](_0xb89bb7=>_0xb89bb7!==null)[_0x24e172(0x6ea)];this[_0x24e172(0x131)][_0x24e172(0xc1)](this[_0x24e172(0x2b3)]+'\x20('+this[_0x24e172(0x526)]['wuid']+'):\x20'+_0x2dc91c+_0x24e172(0x74c)+this['instance'][_0x24e172(0x547)]+_0x24e172(0x646));}}async[a0_0x374876(0x6ca)](_0x377e78){const _0x57ddb6=a0_0x374876;this[_0x57ddb6(0x131)][_0x57ddb6(0xc1)](this[_0x57ddb6(0x2b3)]+'\x20('+this[_0x57ddb6(0x526)]['wuid']+_0x57ddb6(0x4f0));let _0x3b9711={'readMessages':[{'remoteJid':_0x377e78[_0x57ddb6(0x3d5)][_0x57ddb6(0x17e)][_0x57ddb6(0x674)]['remoteJid'],'fromMe':_0x377e78['chatLog'][_0x57ddb6(0x17e)][_0x57ddb6(0x674)][_0x57ddb6(0x699)],'id':_0x377e78[_0x57ddb6(0x3d5)][_0x57ddb6(0x17e)][_0x57ddb6(0x674)]['id']}]};await this[_0x57ddb6(0x4d2)](_0x3b9711);}async[a0_0x374876(0x190)](_0x3fb1c6,_0x360ced){const _0x4a5702=a0_0x374876;try{let {key:_0x28a4f2,message_normalized:_0xd46e94}=_0x360ced,_0x575074=_0xd46e94,_0x3f3e59=_0xd46e94[_0x4a5702(0x215)]||_0xd46e94[_0x4a5702(0x277)]||_0xd46e94[_0x4a5702(0x27e)]||_0xd46e94[_0x4a5702(0x2f4)],_0x25a0db=_0x28a4f2[_0x4a5702(0x46a)],_0xef6b92;if(_0x575074['key'][_0x4a5702(0x699)]&&_0x3f3e59[_0x4a5702(0x3ba)]()!==this[_0x4a5702(0x109)]?.['flowConfig']['stopConversation'][_0x4a5702(0x3ba)]())return this[_0x4a5702(0x131)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4a5702(0x547)]+_0x4a5702(0x5b6)),null;if(_0x575074[_0x4a5702(0x674)][_0x4a5702(0x699)]&&_0x3f3e59[_0x4a5702(0x3ba)]()===this[_0x4a5702(0x109)]?.[_0x4a5702(0x3a5)][_0x4a5702(0x416)][_0x4a5702(0x3ba)]()){this[_0x4a5702(0x131)]['verbose'](this[_0x4a5702(0x2b3)]+'\x20('+this[_0x4a5702(0x526)][_0x4a5702(0x547)]+_0x4a5702(0x1d6));let _0x4da7da=await this[_0x4a5702(0x6e8)][_0x4a5702(0x484)][_0x4a5702(0x441)]({'remoteJid':_0x25a0db,'status':_0x4a5702(0x2f1)},this['instance'][_0x4a5702(0x547)]);this[_0x4a5702(0x131)][_0x4a5702(0xc1)](this[_0x4a5702(0x2b3)]+'\x20('+this['instance'][_0x4a5702(0x547)]+'):\x20Conversas\x20encontradas:'+_0x4da7da);let _0x16bd8e=Date[_0x4a5702(0x4e5)](),_0x25f47d;return this[_0x4a5702(0x109)]?.[_0x4a5702(0x3a5)][_0x4a5702(0x697)]===0x0?_0x25f47d={'stoppedUntil':_0x16bd8e+0x7591f6200}:_0x25f47d={'stoppedUntil':_0x16bd8e+this['AutomateSystem']?.[_0x4a5702(0x3a5)][_0x4a5702(0x697)]*0x3c*0x3e8},this[_0x4a5702(0x131)]['verbose'](this[_0x4a5702(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x25f47d),this['updateStopChat'](_0xef6b92,_0x25f47d['stoppedUntil']),null;}if(_0x3f3e59&&_0x3f3e59[_0x4a5702(0xd6)](this[_0x4a5702(0x109)]?.['flowConfig'][_0x4a5702(0x656)])&&_0x3f3e59[_0x4a5702(0x6ea)]>0x4){let _0x4d379f=await this[_0x4a5702(0x6e8)]['flow'][_0x4a5702(0x108)]({'where':{'startCommandWord':_0x3f3e59}},this['instance'][_0x4a5702(0x547)]);if(this[_0x4a5702(0x131)]['verbose'](this[_0x4a5702(0x2b3)]+'\x20('+this[_0x4a5702(0x526)][_0x4a5702(0x547)]+_0x4a5702(0x702)),_0x4d379f)_0xef6b92=await this['createNewConversation'](_0x4d379f,_0x575074[_0x4a5702(0x674)],_0x575074);else return this[_0x4a5702(0x131)][_0x4a5702(0xc1)](this[_0x4a5702(0x2b3)]+'\x20('+this['instance']['wuid']+_0x4a5702(0x6ba)),null;}else _0xef6b92=await this[_0x4a5702(0x18d)](_0x25a0db,_0x575074);if(_0xef6b92){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4a5702(0x547)]+_0x4a5702(0x621)),!_0x28a4f2[_0x4a5702(0x699)]&&_0xef6b92[_0x4a5702(0x25f)]&&this[_0x4a5702(0x6ca)](_0xef6b92);let _0x1d7e0d=await this[_0x4a5702(0x501)](_0xef6b92);_0x1d7e0d&&await this[_0x4a5702(0x4a0)](_0xef6b92,_0x1d7e0d);}}catch(_0x461c3c){this[_0x4a5702(0x131)]['error'](this[_0x4a5702(0x2b3)]+'\x20('+this['instance'][_0x4a5702(0x547)]+_0x4a5702(0x485)+(_0x461c3c instanceof Error?_0x461c3c['message']:JSON['stringify'](_0x461c3c,null,0x2)));}}[a0_0x374876(0x1d1)](_0x328bb0,_0x113330='',_0x40e994={},_0x1b4f64=!0x0){const _0x2ea83f=a0_0x374876;for(let _0x38c306 in _0x328bb0){let _0x246080=_0x1b4f64?'_'+_0x38c306:''+_0x113330+_0x38c306;typeof _0x328bb0[_0x38c306]==_0x2ea83f(0x6a3)&&_0x328bb0[_0x38c306]!==null?this['flattenObject'](_0x328bb0[_0x38c306],_0x246080+'.',_0x40e994,!0x1):_0x40e994[_0x246080]=String(_0x328bb0[_0x38c306]);}return _0x40e994;}[a0_0x374876(0x2e5)](_0x43b15e){const _0x52583f=a0_0x374876;let _0x24ed82={};for(let _0xd7879b of _0x43b15e)typeof _0xd7879b[_0x52583f(0x2f4)]==_0x52583f(0x383)&&typeof _0xd7879b['value']==_0x52583f(0x383)&&(_0x24ed82[_0xd7879b[_0x52583f(0x2f4)]]=_0xd7879b['value']);return _0x24ed82;}async['NextBlock'](_0x3d12bf){const _0x44deee=a0_0x374876;if(!this[_0x44deee(0x109)]?.[_0x44deee(0x3a5)]['enabled']||_0x3d12bf[_0x44deee(0x3d2)]!=='open'&&_0x3d12bf['waitingMenu_id']==='')return null;let _0x3a9b40=_0x3d12bf[_0x44deee(0x3d5)]['lastBlockId']||_0x44deee(0x549);typeof _0x3d12bf['chatLog']['lastCondition']>'u'&&(_0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x17d)]=!0x0);let _0x19db97=_0x3d12bf[_0x44deee(0x3d5)]['lastCondition'];this[_0x44deee(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x44deee(0x526)][_0x44deee(0x547)]+_0x44deee(0x6e5)+_0x3a9b40+_0x44deee(0x746)+_0x19db97);let _0x4bdc8f=_0x3a9b40===_0x44deee(0x549)?_0x3d12bf[_0x44deee(0x6a9)]['find'](_0x88239e=>_0x88239e['type']===_0x44deee(0x549)):_0x3d12bf[_0x44deee(0x6a9)][_0x44deee(0x441)](_0x15d0ac=>_0x15d0ac[_0x44deee(0x168)][_0x44deee(0x5ab)]()===_0x3a9b40[_0x44deee(0x5ab)]());if(!_0x4bdc8f)return this[_0x44deee(0x131)]['error'](this[_0x44deee(0x2b3)]+'\x20('+this[_0x44deee(0x526)][_0x44deee(0x547)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3a9b40),null;let _0x33144f={'_pushName':_0x3d12bf[_0x44deee(0x3d5)]['lastReceivedMessage'][_0x44deee(0x529)],..._0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x435)]},_0x237889=null;if(_0x3d12bf['waitingMenu_id']){let _0x1955a1=_0x3d12bf[_0x44deee(0x3d5)]['lastReceivedMessage'][_0x44deee(0x27e)],_0xb8f998=_0x3d12bf['waitingMenu_replyOptions'][_0x44deee(0x441)](_0x126b82=>_0x126b82['option']===_0x1955a1);if(_0xb8f998){let _0x112dec=_0xb8f998[_0x44deee(0x264)];if(_0x237889=_0x3d12bf[_0x44deee(0x6a9)][_0x44deee(0x441)](_0x33b25d=>_0x33b25d[_0x44deee(0x4cd)]===_0x112dec&&_0x33b25d[_0x44deee(0x49d)]===0x1),_0x4bdc8f['uazapi'][_0x44deee(0x205)]){let _0x89cd94={'id':_0x3d12bf[_0x44deee(0x4ff)],'remoteJid':_0x3d12bf[_0x44deee(0x46a)],'fromMe':!0x0};await this[_0x44deee(0x154)](_0x89cd94);}if(_0x4bdc8f[_0x44deee(0x3a2)][_0x44deee(0x205)]&&_0x4bdc8f['uazapi'][_0x44deee(0x482)]&&_0x4bdc8f[_0x44deee(0x3a2)][_0x44deee(0x574)]===_0x44deee(0xbf)){let _0x208738={'number':_0x3d12bf['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3d12bf[_0x44deee(0x5ff)]+_0x44deee(0x4e0)+_0x1955a1}};await this['textMessage'](_0x208738);}_0x3d12bf[_0x44deee(0x3d2)]='open',_0x3d12bf[_0x44deee(0x4ff)]='',_0x3d12bf[_0x44deee(0x5ff)]='',_0x3d12bf['waitingMenu_replyOptions']=[];}else{this[_0x44deee(0x131)][_0x44deee(0xc1)](this[_0x44deee(0x2b3)]+'\x20('+this[_0x44deee(0x526)][_0x44deee(0x547)]+_0x44deee(0x228));let _0x521c51={'activatedCount':_0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x595)]['filter'](_0x583556=>String(_0x583556[_0x44deee(0x263)])===String(_0x3a9b40))['length'],'moreLogs':[_0x44deee(0x559)]};if(_0x4bdc8f[_0x44deee(0x3a2)][_0x44deee(0x683)]){let _0x545bf8={'number':_0x3d12bf['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4bdc8f[_0x44deee(0x3a2)][_0x44deee(0x683)]}};await this[_0x44deee(0x50f)](_0x545bf8);}if(_0x4bdc8f[_0x44deee(0x46c)]!==void 0x0&&_0x521c51[_0x44deee(0x61d)]>=_0x4bdc8f[_0x44deee(0x46c)]){let _0x5d32b2=Date['now'](),_0x2b63cf=_0x4bdc8f['stopMinutesMaxActives']??0xa;isNaN(_0x2b63cf)&&(_0x2b63cf=0xa);let _0x218fd4=_0x5d32b2+_0x2b63cf*0x3c*0x3e8;_0x521c51[_0x44deee(0x3f0)]=_0x218fd4,_0x521c51[_0x44deee(0x210)][_0x44deee(0x36f)](_0x44deee(0x184)),this[_0x44deee(0x537)](_0x3d12bf,_0x218fd4),_0x3d12bf['waitingMenu_id']='',_0x3d12bf['waitingMenu_text']='',_0x3d12bf[_0x44deee(0x29c)]=[];}return this[_0x44deee(0x51b)](_0x3d12bf,_0x4bdc8f,_0x521c51,!0x0),null;}}if(_0x19db97&&_0x4bdc8f[_0x44deee(0x264)]&&!_0x3d12bf[_0x44deee(0x4ff)]){let _0x51b0f7=_0x3d12bf[_0x44deee(0x6a9)]['filter'](_0x5ba272=>_0x5ba272[_0x44deee(0x4cd)][_0x44deee(0x5ab)]()===_0x4bdc8f[_0x44deee(0x264)][_0x44deee(0x5ab)]())[_0x44deee(0x1ab)]((_0x433e39,_0x1c323e)=>_0x433e39['order']-_0x1c323e[_0x44deee(0x49d)]);_0x51b0f7[_0x44deee(0x6ea)]>0x0&&(_0x237889=_0x51b0f7[0x0]);}if(!_0x237889){let _0x37279b=_0x4bdc8f[_0x44deee(0x4cd)],_0x186745=_0x3d12bf['blocks'][_0x44deee(0x4ed)](_0x430239=>_0x430239[_0x44deee(0x4cd)]===_0x37279b&&_0x430239[_0x44deee(0x49d)]>_0x4bdc8f['order'])[_0x44deee(0x1ab)]((_0x1c5380,_0x1952d0)=>_0x1c5380[_0x44deee(0x49d)]-_0x1952d0[_0x44deee(0x49d)]);_0x186745[_0x44deee(0x6ea)]>0x0&&(_0x237889=_0x186745[0x0]);}if(!_0x237889)return _0x3d12bf[_0x44deee(0x3d2)]=_0x44deee(0x101),null;_0x3d12bf[_0x44deee(0x3d5)]['realVariables']=_0x33144f;let _0x13a8eb=JSON[_0x44deee(0x601)](JSON[_0x44deee(0x5f1)](_0x237889));return this[_0x44deee(0x2eb)](_0x13a8eb,_0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x435)]),_0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x64a)]=_0x13a8eb[_0x44deee(0x168)],_0x3d12bf[_0x44deee(0x3d5)][_0x44deee(0x17d)]=!0x0,_0x13a8eb;}['replaceVariables'](_0x2362f1,_0x3ca892){const _0x54cc4b=a0_0x374876;return _0x2362f1[_0x54cc4b(0x6fa)](/\{\{([^}]+)\}\}/g,(_0x5ccf72,_0x5a6b30)=>_0x3ca892[_0x5a6b30]||'');}[a0_0x374876(0x2eb)](_0x5cf6b5,_0x3d7b96){const _0xd8c935=a0_0x374876;for(let _0x5aed65 in _0x5cf6b5)typeof _0x5cf6b5[_0x5aed65]=='string'?_0x5cf6b5[_0x5aed65]=this[_0xd8c935(0x139)](_0x5cf6b5[_0x5aed65],_0x3d7b96):typeof _0x5cf6b5[_0x5aed65]==_0xd8c935(0x6a3)&&this['replaceVariablesInObject'](_0x5cf6b5[_0x5aed65],_0x3d7b96);}async[a0_0x374876(0x23c)](_0x11af30,_0x453815){const _0x440018=a0_0x374876;let _0x19d231=_0x453815['_id'];if(_0x11af30[_0x440018(0x3d5)]&&_0x11af30[_0x440018(0x3d5)][_0x440018(0x595)]){let _0x3e9ce0=_0x11af30[_0x440018(0x3d5)][_0x440018(0x595)][_0x440018(0x4ed)](_0x17452b=>String(_0x17452b[_0x440018(0x263)])===String(_0x19d231))[_0x440018(0x65a)]();if(_0x3e9ce0&&_0x3e9ce0[_0x440018(0x32e)]&&_0x453815['stopIfLastReturnedError'])return _0x11af30[_0x440018(0x3d2)]=_0x440018(0x101),await this['saveConversationToDatabase'](_0x11af30),null;}if(_0x453815[_0x440018(0x575)]===_0x440018(0x3a2)&&_0x453815[_0x440018(0x3a2)][_0x440018(0x1fd)]===_0x440018(0x68d)&&_0x11af30[_0x440018(0x4ff)])return _0x11af30[_0x440018(0x3d5)][_0x440018(0x64a)]=_0x19d231,await this[_0x440018(0x265)](_0x11af30),null;let _0x12dfd8=await this[_0x440018(0x501)](_0x11af30);if(_0x11af30[_0x440018(0x3d5)]&&_0x11af30[_0x440018(0x3d5)][_0x440018(0x595)]){let _0x107797=_0x11af30[_0x440018(0x3d5)]['blockLogs'][_0x440018(0x4ed)](_0x156a96=>String(_0x156a96['blockId'])===String(_0x19d231))['length'];if(_0x453815[_0x440018(0x46c)]!==void 0x0&&_0x107797>=_0x453815[_0x440018(0x46c)]){let _0x4b4ab3=Date[_0x440018(0x4e5)](),_0x5cf544=_0x453815[_0x440018(0x2a7)]??0xa;isNaN(_0x5cf544)&&(_0x5cf544=0xa);let _0x331a1=_0x4b4ab3+_0x5cf544*0x3c*0x3e8,_0x32507e={'newStoppedUntil':_0x331a1};return this[_0x440018(0x537)](_0x11af30,_0x331a1),this[_0x440018(0x51b)](_0x11af30,_0x453815,_0x32507e,!0x0),null;}}_0x12dfd8&&_0x12dfd8[_0x440018(0x575)]!==_0x440018(0x234)&&await this[_0x440018(0x4a0)](_0x11af30,_0x12dfd8),_0x12dfd8||await this['saveConversationToDatabase'](_0x11af30),_0x12dfd8&&_0x12dfd8[_0x440018(0x575)]==='save'&&(_0x11af30['chatLog'][_0x440018(0x64a)]=_0x19d231,await this[_0x440018(0x265)](_0x11af30));}async['processblock'](_0x1bc72f,_0xbd1648){const _0x4f0f69=a0_0x374876;try{let _0x4698de=_0xbd1648[_0x4f0f69(0x575)];this['logger']['verbose'](this[_0x4f0f69(0x2b3)]+'\x20('+this[_0x4f0f69(0x526)][_0x4f0f69(0x547)]+_0x4f0f69(0x551)+_0x4698de);let _0x3d7491={'uazapi':()=>this[_0x4f0f69(0x3a8)](_0x1bc72f,_0xbd1648),'save':()=>this[_0x4f0f69(0x51d)](_0x1bc72f,_0xbd1648),'stop':()=>this['stopConversation'](_0x1bc72f,_0xbd1648),'condition':()=>this[_0x4f0f69(0xd8)](_0x1bc72f,_0xbd1648),'varedit':()=>this[_0x4f0f69(0x32c)](_0x1bc72f,_0xbd1648),'apirequest':()=>this[_0x4f0f69(0x63f)](_0x1bc72f,_0xbd1648),'goToFlow':()=>this[_0x4f0f69(0x602)](_0x1bc72f,_0xbd1648)}[_0x4698de];_0x3d7491&&await _0x3d7491();}catch(_0x4c13d9){this[_0x4f0f69(0x131)][_0x4f0f69(0x32e)](this[_0x4f0f69(0x2b3)]+'\x20('+this[_0x4f0f69(0x526)][_0x4f0f69(0x547)]+_0x4f0f69(0x4a3)+(_0x4c13d9 instanceof Error?_0x4c13d9[_0x4f0f69(0x5e9)]:JSON[_0x4f0f69(0x5f1)](_0x4c13d9,null,0x2)));}}async[a0_0x374876(0x602)](_0x4047bf,_0x189418){const _0x3961da=a0_0x374876;if(this[_0x3961da(0x131)][_0x3961da(0xc1)](this[_0x3961da(0x2b3)]+'\x20('+this[_0x3961da(0x526)]['wuid']+_0x3961da(0x341)),!_0x4047bf||!_0x189418)return this[_0x3961da(0x131)][_0x3961da(0x32e)](this[_0x3961da(0x2b3)]+'\x20('+this[_0x3961da(0x526)][_0x3961da(0x547)]+_0x3961da(0x4b0)),null;await this[_0x3961da(0x51b)](_0x4047bf,_0x189418,{},!0x0,!0x0),console[_0x3961da(0x201)](_0x3961da(0x54c)),console[_0x3961da(0x201)](_0x189418);let _0x26f0f1=_0x189418[_0x3961da(0x2a6)];console[_0x3961da(0x201)](_0x3961da(0x46f),_0x26f0f1),_0x4047bf=await this[_0x3961da(0x236)](_0x26f0f1,_0x4047bf['remoteJid'],_0x4047bf[_0x3961da(0x3d5)][_0x3961da(0x435)]),this[_0x3961da(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x3961da(0x526)][_0x3961da(0x547)]+_0x3961da(0x41d));let _0x3e5d22=await this['NextBlock'](_0x4047bf);_0x3e5d22&&await this['processblock'](_0x4047bf,_0x3e5d22);}async[a0_0x374876(0x236)](_0xe3b023,_0x38c8cb,_0x3aba20){const _0x24f568=a0_0x374876;this[_0x24f568(0x131)][_0x24f568(0xc1)](this[_0x24f568(0x2b3)]+'\x20('+this[_0x24f568(0x526)][_0x24f568(0x547)]+_0x24f568(0x6a4));try{if(_0xe3b023=await this[_0x24f568(0x6e8)][_0x24f568(0x3e9)][_0x24f568(0x108)]({'where':{'name':_0xe3b023}},this['instance'][_0x24f568(0x547)]),!_0xe3b023)return this[_0x24f568(0x131)][_0x24f568(0x32e)](this[_0x24f568(0x2b3)]+'\x20('+this['instance'][_0x24f568(0x547)]+_0x24f568(0x6c2)),null;let _0x1bca30=require(_0x24f568(0x4e2))[_0x24f568(0x705)],_0x4b7bfc=Date[_0x24f568(0x4e5)](),_0x2720fa=_0x24f568(0x549),_0x5bca7e={},_0x1feeb3={},_0xd1840b={..._0xe3b023,'chatLog':null},_0x5114f0={'lastReceivedMessage':_0x5bca7e,'lastSendMessage':_0x1feeb3,'lastBlockId':_0x2720fa,'lastCondition':!0x0,'realVariables':_0x3aba20};_0xd1840b[_0x24f568(0x3d5)]=_0x5114f0,_0xd1840b[_0x24f568(0x3d5)][_0x24f568(0x435)]={..._0x3aba20},delete _0xd1840b['_id'],_0xd1840b['_id']=new _0x1bca30(),_0xd1840b[_0x24f568(0x5b5)]=_0x4b7bfc,_0xd1840b[_0x24f568(0x3d2)]='open',_0xd1840b[_0x24f568(0x46a)]=_0x38c8cb;let _0x1fb016=await this[_0x24f568(0x6e8)][_0x24f568(0x484)][_0x24f568(0x6fe)](_0xd1840b[_0x24f568(0x168)],_0xd1840b,this[_0x24f568(0x526)][_0x24f568(0x547)]);return this[_0x24f568(0x131)][_0x24f568(0xc1)](this[_0x24f568(0x2b3)]+'\x20('+this['instance']['wuid']+_0x24f568(0x12e)),_0x1fb016?_0xd1840b:null;}catch(_0x174bd2){throw this[_0x24f568(0x131)][_0x24f568(0x32e)](this[_0x24f568(0x2b3)]+'\x20('+this[_0x24f568(0x526)][_0x24f568(0x547)]+_0x24f568(0x1a2)+(_0x174bd2 instanceof Error?_0x174bd2[_0x24f568(0x5e9)]:JSON[_0x24f568(0x5f1)](_0x174bd2,null,0x2))),new w(_0x174bd2[_0x24f568(0x5e9)]);}}async[a0_0x374876(0x63f)](_0x210173,_0x154afe){const _0x13b969=a0_0x374876;let _0x2137e6,_0x162c32;try{let _0x5bd40b=_0x154afe[_0x13b969(0x615)];if(!_0x5bd40b||!_0x5bd40b[_0x13b969(0x710)]||!_0x5bd40b['method'])throw new Error(_0x13b969(0x211));let _0x372df5;([_0x13b969(0x189),_0x13b969(0x388),_0x13b969(0x315)][_0x13b969(0x332)](_0x1578e3=>_0x5bd40b[_0x13b969(0x710)][_0x13b969(0xea)](_0x1578e3))||_0x5bd40b[_0x13b969(0x4f7)])&&(_0x372df5=_0x13b969(0x59b));let _0x3f9296={'method':_0x5bd40b[_0x13b969(0x2ef)],'url':_0x5bd40b[_0x13b969(0x710)],'headers':_0x5bd40b[_0x13b969(0x41e)]||{},'data':_0x5bd40b[_0x13b969(0x180)]||{},..._0x372df5&&{'responseType':_0x372df5}},_0x478aee=await(0x0,te[_0x13b969(0x701)])(_0x3f9296),_0x240124=_0x478aee[_0x13b969(0x47b)][_0x13b969(0x114)];if(_0x240124&&_0x240124['includes'](_0x13b969(0x178))){_0x2137e6=_0x478aee['data'];let _0x12d343=_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)],_0x198169=this['flattenObject'](_0x2137e6);return Object[_0x13b969(0x598)](_0x12d343,_0x198169),_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)]=_0x12d343,_0x162c32={'error':!0x1,'apiResponse':_0x2137e6},this[_0x13b969(0x51b)](_0x210173,_0x154afe,_0x162c32),_0x2137e6;}if(_0x240124&&(_0x240124['includes']('application/octet-stream')||_0x240124[_0x13b969(0xea)](_0x13b969(0x61f))||_0x240124[_0x13b969(0xea)]('audio')||_0x240124[_0x13b969(0xea)](_0x13b969(0x4bc)))){this[_0x13b969(0x131)][_0x13b969(0xc1)](this[_0x13b969(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x240124);let _0x27b467=(0x0,Me['v4'])(),_0x2532a8='',_0x1f35b5={'image/jpeg':'.jpg','image/png':_0x13b969(0x5ea),'image/gif':_0x13b969(0x446),'image/webp':_0x13b969(0x4fd),'image/svg+xml':'.svg','audio/mpeg':_0x13b969(0x338),'audio/ogg':_0x13b969(0x4d8),'audio/wav':'.wav','video/mp4':_0x13b969(0x225),'video/webm':_0x13b969(0x4a8),'video/ogg':'.ogv','text/plain':_0x13b969(0x3ed),'application/pdf':_0x13b969(0x2a8),'application/msword':_0x13b969(0x488),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x13b969(0x522),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x13b969(0x330),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x1f35b5[_0x240124]?(_0x2532a8=_0x1f35b5[_0x240124],this['logger']['verbose'](this[_0x13b969(0x2b3)]+'\x20('+this[_0x13b969(0x526)][_0x13b969(0x547)]+_0x13b969(0x5c5)+_0x2532a8)):(_0x2532a8='.error',this[_0x13b969(0x131)][_0x13b969(0xc1)](this[_0x13b969(0x2b3)]+'\x20('+this['instance'][_0x13b969(0x547)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2532a8)),_0x27b467+=_0x2532a8,this['logger'][_0x13b969(0xc1)](this['instanceName']+'\x20('+this['instance'][_0x13b969(0x547)]+_0x13b969(0x539)+_0x27b467);let _0x1dc255=this[_0x13b969(0x5c8)][_0x13b969(0x34c)]('SERVER')[_0x13b969(0x1b1)];if(!_0x1dc255){let _0x349234=this['configService'][_0x13b969(0x34c)](_0x13b969(0x30d));_0x1dc255='https://'+(_0x349234&&_0x349234[_0x13b969(0x124)][_0x13b969(0x443)]('/')[0x4]);}let _0x190f16=Buffer[_0x13b969(0x1df)](_0x478aee['data']);await this[_0x13b969(0x423)](_0x190f16,_0x27b467);let _0xaea9b=_0x13b969(0x1cf)+_0x27b467;_0xaea9b=''+_0x1dc255+_0xaea9b,_0x2137e6={'fileUrl':_0xaea9b},_0x210173['chatLog'][_0x13b969(0x435)][_0x13b969(0x123)]=_0xaea9b;let _0x1a2c26=_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)],_0x47015f=this[_0x13b969(0x1d1)](_0x2137e6);return Object[_0x13b969(0x598)](_0x1a2c26,_0x47015f),_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)]=_0x1a2c26,_0x162c32={'error':!0x1,'apiResponse':{'fileUrl':_0xaea9b}},this[_0x13b969(0x51b)](_0x210173,_0x154afe,_0x162c32),_0x2137e6;}}catch(_0xccaf11){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0xccaf11),_0xccaf11[_0x13b969(0x133)]&&(_0x2137e6=_0xccaf11['response']['data']);let _0x4a9be3=_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)],_0x288464=this[_0x13b969(0x1d1)](_0x2137e6);return Object[_0x13b969(0x598)](_0x4a9be3,_0x288464),_0x210173[_0x13b969(0x3d5)][_0x13b969(0x435)]=_0x4a9be3,_0x162c32={'error':!0x0,'errorLog':_0xccaf11[_0x13b969(0x5ab)](),'apiResponse':_0x2137e6},this[_0x13b969(0x51b)](_0x210173,_0x154afe,_0x162c32),{'success':!0x1};}}[a0_0x374876(0x1e0)](_0x376878,_0x96faf9){const _0x57c33e=a0_0x374876;let _0x598abf=_0x4e60f7=>{const _0x3bd813=a0_0x2a44;let _0x24bf07=_0x4e60f7[_0x3bd813(0x6fa)](/[^0-9.,-]/g,'')[_0x3bd813(0x6fa)](',','.'),_0x1d8360=parseFloat(_0x24bf07);return isNaN(_0x1d8360)?null:_0x1d8360;},_0x1088d5=_0x96faf9['firstValue'],_0x5ec5a9=_0x96faf9[_0x57c33e(0x19f)];typeof _0x1088d5==_0x57c33e(0x383)&&(_0x1088d5=this[_0x57c33e(0x139)](_0x1088d5,_0x376878[_0x57c33e(0x3d5)]['realVariables'])??''),typeof _0x5ec5a9=='string'&&(_0x5ec5a9=this['replaceVariables'](_0x5ec5a9,_0x376878[_0x57c33e(0x3d5)]['realVariables'])??'');let _0x5f34be=null;if(!_0x96faf9['editOperator'])return null;switch(this[_0x57c33e(0x131)][_0x57c33e(0xc1)](this['instanceName']+'\x20('+this[_0x57c33e(0x526)][_0x57c33e(0x547)]+_0x57c33e(0x23e)+_0x1088d5),this[_0x57c33e(0x131)][_0x57c33e(0xc1)](this[_0x57c33e(0x2b3)]+'\x20('+this[_0x57c33e(0x526)][_0x57c33e(0x547)]+_0x57c33e(0x4ee)+_0x5ec5a9),_0x96faf9['editOperator']){case'+':case'-':case'*':case'/':let _0x2bb657=_0x598abf(_0x1088d5||'0'),_0x5ae78c=_0x598abf(_0x5ec5a9||'0');if(_0x2bb657===null)return null;switch(_0x96faf9[_0x57c33e(0x400)]){case'+':_0x5f34be=_0x2bb657+(_0x5ae78c??0x0);break;case'-':_0x5f34be=_0x2bb657-(_0x5ae78c??0x0);break;case'*':_0x5f34be=_0x2bb657*(_0x5ae78c??0x1);break;case'/':_0x5ae78c!==0x0&&(_0x5f34be=_0x2bb657/(_0x5ae78c??0x1));break;}break;case _0x57c33e(0x29e):case'findAndReplaceRegex':let _0x1a30cc=_0x5ec5a9,_0x2d1ef4=_0x96faf9[_0x57c33e(0x1c4)];if(typeof _0x2d1ef4==_0x57c33e(0x383)&&(_0x2d1ef4=this[_0x57c33e(0x139)](_0x2d1ef4,_0x376878[_0x57c33e(0x3d5)][_0x57c33e(0x435)])??''),_0x1a30cc&&_0x2d1ef4!==void 0x0){let _0x58e432=_0x96faf9[_0x57c33e(0x400)]==='findAndReplace'?new RegExp(_0x1a30cc[_0x57c33e(0x6fa)](/[-\/\\^$*+?.()|[\]{}]/g,_0x57c33e(0x38e)),'g'):new RegExp(_0x1a30cc,'g');_0x5f34be=_0x1088d5['replace'](_0x58e432,_0x2d1ef4);}else console[_0x57c33e(0x10f)](_0x57c33e(0x1fe));break;case _0x57c33e(0xef):_0x5f34be=_0x5ec5a9;break;case'extractRegex':let _0x8a6079=_0x1088d5[_0x57c33e(0xfa)](new RegExp(_0x5ec5a9||''));_0x5f34be=_0x8a6079?_0x8a6079[0x0]:'';break;case _0x57c33e(0x589):_0x5f34be=_0x1088d5[_0x57c33e(0x531)](0x0,parseInt(_0x5ec5a9||'0'));break;case _0x57c33e(0x241):let _0x325856=parseInt(_0x5ec5a9||'0');_0x5f34be=_0x1088d5[_0x57c33e(0x531)](_0x1088d5[_0x57c33e(0x6ea)]-_0x325856);break;case _0x57c33e(0xe9):let _0x1910d6=_0x598abf(_0x1088d5),_0x216f3c=parseInt(_0x5ec5a9||'0');_0x216f3c=Math['abs'](_0x216f3c),_0x1910d6!==null?_0x5f34be=_0x1910d6[_0x57c33e(0x60a)](_0x57c33e(0x4aa),{'minimumFractionDigits':_0x216f3c,'maximumFractionDigits':_0x216f3c}):(console[_0x57c33e(0x10f)](_0x57c33e(0x194)+_0x1088d5),_0x5f34be=null);break;case'toBRL':let _0x494b43=_0x598abf(_0x1088d5);_0x494b43!==null?_0x5f34be=_0x494b43['toLocaleString'](_0x57c33e(0x4aa),{'style':_0x57c33e(0xda),'currency':_0x57c33e(0x6d0)}):(console[_0x57c33e(0x10f)](_0x57c33e(0x2ac)+_0x1088d5),_0x5f34be=null);break;case _0x57c33e(0x5ce):_0x5f34be=_0x1088d5[_0x57c33e(0x6e3)]();break;case'lowerCase':_0x5f34be=_0x1088d5[_0x57c33e(0x692)]();break;case _0x57c33e(0x10d):_0x5f34be=_0x1088d5['split']('\x20')[_0x57c33e(0x675)](_0x14481c=>_0x14481c[_0x57c33e(0x1e9)](0x0)[_0x57c33e(0x6e3)]()+_0x14481c[_0x57c33e(0x531)](0x1)[_0x57c33e(0x692)]())[_0x57c33e(0x679)]('\x20');break;case _0x57c33e(0x4e8):_0x5f34be=_0x1088d5['trim']();break;default:_0x5f34be=_0x1088d5;}return _0x5f34be!==null?_0x5f34be[_0x57c33e(0x5ab)]():null;}async[a0_0x374876(0x32c)](_0x130ed5,_0x27d007){const _0x1a6333=a0_0x374876;try{let _0x108cfb=_0x130ed5[_0x1a6333(0x1d3)]?.[_0x1a6333(0x4ed)](_0x3e17e5=>_0x3e17e5['blockId']===_0x27d007[_0x1a6333(0x168)]?.['toString']())||[],_0x199cbe=_0x27d007[_0x1a6333(0x4c1)],_0x2a938d=null,_0x594e72=[],_0x12fe51=_0x130ed5[_0x1a6333(0x3d5)][_0x1a6333(0x435)][_0x199cbe];_0x594e72[_0x1a6333(0x36f)](_0x1a6333(0x716)+_0x12fe51+'\x22');for(let _0x59c629 of _0x108cfb){_0x59c629[_0x1a6333(0x629)]=_0x12fe51,_0x2a938d=_0x59c629[_0x1a6333(0x629)];let _0x17ae86;try{_0x17ae86=this[_0x1a6333(0x1e0)](_0x130ed5,_0x59c629);}catch(_0x11a757){console[_0x1a6333(0x32e)](_0x1a6333(0x3eb)+_0x11a757['message']);continue;}if(_0x17ae86!==null){let _0x3251fe=_0x1a6333(0x64c)+_0x59c629[_0x1a6333(0x400)]+'\x22',_0xd5192=[_0x1a6333(0x6fc),'upperCase',_0x1a6333(0x39a),_0x1a6333(0x10d),_0x1a6333(0x4e8)];_0x59c629[_0x1a6333(0x400)]==='findAndReplace'||_0x59c629[_0x1a6333(0x400)]==='findAndReplaceRegex'?_0x3251fe+=_0x1a6333(0x3d8)+_0x59c629['secondValue']+_0x1a6333(0x72d)+_0x59c629[_0x1a6333(0x1c4)]+'\x22':!_0xd5192[_0x1a6333(0xea)](_0x59c629['editOperator'])&&_0x59c629[_0x1a6333(0x19f)]!==null&&_0x59c629['secondValue']!==void 0x0&&(_0x3251fe+=_0x1a6333(0x2e4)+_0x59c629[_0x1a6333(0x19f)]+'\x22'),_0x3251fe+=_0x1a6333(0xce)+_0x17ae86+'.',_0x594e72[_0x1a6333(0x36f)](_0x3251fe);}_0x17ae86!==null&&(_0x12fe51=_0x17ae86);}if(_0x130ed5[_0x1a6333(0x3d5)]['realVariables']&&_0x27d007['saveVariable']){_0x130ed5[_0x1a6333(0x3d5)][_0x1a6333(0x435)][_0x27d007[_0x1a6333(0x4c1)]]=_0x12fe51;let _0xd4bd92={'variable':_0x27d007[_0x1a6333(0x4c1)],'oldValue':_0x2a938d,'newValue':_0x12fe51,'moreLogs':_0x594e72};try{this[_0x1a6333(0x51b)](_0x130ed5,_0x27d007,_0xd4bd92);}catch(_0x4019a6){console[_0x1a6333(0x32e)](_0x1a6333(0x6d3)+_0x4019a6[_0x1a6333(0x5e9)]);}}return _0x199cbe;}catch(_0x42a8ef){return console[_0x1a6333(0x32e)](_0x1a6333(0x71f)+_0x42a8ef['message']),null;}}async[a0_0x374876(0xd8)](_0x3168be,_0x401c01){const _0x2d7d38=a0_0x374876;try{let _0x145c16=[],_0x26229a=_0x3168be[_0x2d7d38(0x255)][_0x2d7d38(0x4ed)](_0x3ac808=>_0x3ac808[_0x2d7d38(0x263)]===_0x401c01['_id'][_0x2d7d38(0x5ab)]()),_0x22b136=null,_0x4a9c32=!0x1;for(let _0x5d51e2 of _0x26229a){let _0x3530ee=this['evaluateCondition'](_0x3168be,_0x5d51e2);_0x145c16[_0x2d7d38(0x36f)]('Primeiro\x20Valor:\x20'+_0x5d51e2['firstValue']+_0x2d7d38(0x251)+_0x5d51e2[_0x2d7d38(0x59f)]+_0x2d7d38(0x515)+_0x5d51e2[_0x2d7d38(0x19f)]+_0x2d7d38(0xb9)+_0x3530ee),_0x22b136===null?_0x22b136=_0x3530ee:_0x5d51e2[_0x2d7d38(0x5ad)]===_0x2d7d38(0xb8)?(_0x22b136=_0x22b136&&_0x3530ee,_0x3530ee||(_0x4a9c32=!0x0)):_0x5d51e2['OrAnd']==='or'&&(_0x4a9c32||(_0x22b136=_0x22b136||_0x3530ee));}_0x22b136===null&&(_0x22b136=!0x0);let _0x36e19f={'moreLogs':_0x145c16};_0x3168be[_0x2d7d38(0x3d5)][_0x2d7d38(0x17d)]=_0x22b136,await this[_0x2d7d38(0x51b)](_0x3168be,_0x401c01,_0x36e19f);}catch(_0x327a59){this[_0x2d7d38(0x131)][_0x2d7d38(0x32e)](this[_0x2d7d38(0x2b3)]+'\x20('+this[_0x2d7d38(0x526)][_0x2d7d38(0x547)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x327a59 instanceof Error?_0x327a59[_0x2d7d38(0x5e9)]:JSON[_0x2d7d38(0x5f1)](_0x327a59,null,0x2)));}}[a0_0x374876(0xc7)](_0xc7777f,_0x14d8c0){const _0x5c1486=a0_0x374876;let _0x1c4795=_0x14d8c0['firstValue'],_0x4d8267=_0x14d8c0[_0x5c1486(0x19f)];typeof _0x1c4795==_0x5c1486(0x383)&&(_0x1c4795=this[_0x5c1486(0x139)](_0x1c4795,_0xc7777f['chatLog'][_0x5c1486(0x435)])??''),typeof _0x4d8267==_0x5c1486(0x383)&&(_0x4d8267=this[_0x5c1486(0x139)](_0x4d8267,_0xc7777f[_0x5c1486(0x3d5)][_0x5c1486(0x435)])??'');try{switch(_0x14d8c0[_0x5c1486(0x59f)]){case'equal':return _0x1c4795===_0x4d8267;case _0x5c1486(0x308):return _0x1c4795!==_0x4d8267;case _0x5c1486(0x156):return this[_0x5c1486(0x156)](_0x1c4795,_0x4d8267);case _0x5c1486(0x26f):return!this['contains'](_0x1c4795,_0x4d8267);case _0x5c1486(0x51f):return parseFloat(_0x1c4795)>parseFloat(_0x4d8267);case'less':return parseFloat(_0x1c4795)<parseFloat(_0x4d8267);case _0x5c1486(0x66a):return _0x1c4795!=='';case _0x5c1486(0x2a5):return _0x1c4795==='';case'matchRegex':return new RegExp(_0x4d8267)[_0x5c1486(0x475)](_0x1c4795);case _0x5c1486(0x45f):return!new RegExp(_0x4d8267)[_0x5c1486(0x475)](_0x1c4795);default:return!0x1;}}catch(_0x52cf93){return console['error'](_0x5c1486(0x3be)+_0x52cf93),!0x1;}}[a0_0x374876(0x156)](_0x3ffea4,_0xd0fe67){const _0x47a4bc=a0_0x374876;if(_0x3ffea4===_0xd0fe67&&/^\d+$/[_0x47a4bc(0x475)](_0x3ffea4))return!0x0;if(this['isListOfNumbers'](_0x3ffea4)&&/^\d+$/[_0x47a4bc(0x475)](_0xd0fe67)){let _0x4e10e2=_0x3ffea4['split'](',')[_0x47a4bc(0x675)](_0x46bda7=>parseInt(_0x46bda7['trim']())),_0x5ea346=parseInt(_0xd0fe67);return _0x4e10e2[_0x47a4bc(0xea)](_0x5ea346);}return _0x3ffea4[_0x47a4bc(0xea)](_0xd0fe67);}['isListOfNumbers'](_0x10aba5){const _0x817f84=a0_0x374876;return/^\d+(,\d+)*$/[_0x817f84(0x475)](_0x10aba5);}[a0_0x374876(0x26d)](_0x170169){const _0x56d5d8=a0_0x374876;let _0x526651=!0x0,_0x2273fc=null;for(let _0x15645f of _0x170169){let _0x3a253a=this['evaluateConditionTest'](_0x15645f);if(_0x2273fc==='or'&&_0x3a253a){_0x526651=!0x0;break;}if(_0x2273fc===_0x56d5d8(0xb8)&&!_0x3a253a){_0x526651=!0x1;break;}_0x2273fc=_0x15645f[_0x56d5d8(0x5ad)];}return _0x526651;}[a0_0x374876(0x3f8)](_0x3a9438){const _0x3e12eb=a0_0x374876;let _0x9a7411=_0x3a9438[_0x3e12eb(0x629)],_0x4674ab=_0x3a9438[_0x3e12eb(0x19f)];try{switch(_0x3a9438[_0x3e12eb(0x59f)]){case _0x3e12eb(0x249):return String(_0x9a7411)===String(_0x4674ab);case _0x3e12eb(0x308):return String(_0x9a7411)!==String(_0x4674ab);case _0x3e12eb(0x156):return String(_0x9a7411)[_0x3e12eb(0xea)](String(_0x4674ab));case _0x3e12eb(0x26f):return!String(_0x9a7411)[_0x3e12eb(0xea)](String(_0x4674ab));case _0x3e12eb(0x51f):return parseFloat(String(_0x9a7411))>parseFloat(String(_0x4674ab));case _0x3e12eb(0x25b):return parseFloat(String(_0x9a7411))<parseFloat(String(_0x4674ab));case _0x3e12eb(0x66a):return String(_0x9a7411)!=='';case _0x3e12eb(0x2a5):return String(_0x9a7411)==='';case _0x3e12eb(0x126):return new RegExp(String(_0x4674ab))[_0x3e12eb(0x475)](String(_0x9a7411));case _0x3e12eb(0x45f):return!new RegExp(String(_0x4674ab))[_0x3e12eb(0x475)](String(_0x9a7411));default:return!0x1;}}catch(_0x29d803){return console[_0x3e12eb(0x32e)](_0x3e12eb(0x3be)+_0x29d803),!0x1;}}async[a0_0x374876(0x51d)](_0x425c4f,_0x343a8d){const _0x3e24b5=a0_0x374876;if(this[_0x3e24b5(0x131)][_0x3e24b5(0xc1)](this[_0x3e24b5(0x2b3)]+'\x20('+this[_0x3e24b5(0x526)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x425c4f||!_0x343a8d)return this[_0x3e24b5(0x131)]['error'](this[_0x3e24b5(0x2b3)]+'\x20('+this[_0x3e24b5(0x526)][_0x3e24b5(0x547)]+_0x3e24b5(0x4b0)),null;let _0x4e0526=_0x343a8d[_0x3e24b5(0x4c1)],_0x59910a=_0x425c4f['chatLog'][_0x3e24b5(0x17e)][_0x3e24b5(0x215)]||_0x425c4f['chatLog'][_0x3e24b5(0x17e)][_0x3e24b5(0x277)]||_0x425c4f[_0x3e24b5(0x3d5)][_0x3e24b5(0x17e)]['vote'];try{_0x425c4f[_0x3e24b5(0x3d5)][_0x3e24b5(0x435)]||(_0x425c4f[_0x3e24b5(0x3d5)][_0x3e24b5(0x435)]={});let _0x36c2e1=_0x425c4f[_0x3e24b5(0x3d5)][_0x3e24b5(0x435)][_0x4e0526];_0x425c4f[_0x3e24b5(0x3d5)][_0x3e24b5(0x435)][_0x4e0526]=_0x59910a;let _0x1f16b3={'variable':_0x4e0526,'oldValue':_0x36c2e1,'newValue':_0x59910a};this[_0x3e24b5(0x51b)](_0x425c4f,_0x343a8d,_0x1f16b3),this['logger'][_0x3e24b5(0xc1)](this[_0x3e24b5(0x2b3)]+'\x20('+this[_0x3e24b5(0x526)]['wuid']+_0x3e24b5(0x1ca));}catch(_0xbd61b2){let _0x312c39={'error':!0x0,'errorLog':_0xbd61b2['toString']()};return this[_0x3e24b5(0x51b)](_0x425c4f,_0x343a8d,_0x312c39),this[_0x3e24b5(0x131)][_0x3e24b5(0x32e)](this[_0x3e24b5(0x2b3)]+'\x20('+this['instance']['wuid']+_0x3e24b5(0x3df)+(_0xbd61b2 instanceof Error?_0xbd61b2[_0x3e24b5(0x5e9)]:JSON[_0x3e24b5(0x5f1)](_0xbd61b2,null,0x2))),null;}}async['stopConversation'](_0x3bc722,_0x563046){const _0x2ec979=a0_0x374876;if(this[_0x2ec979(0x131)][_0x2ec979(0xc1)](this[_0x2ec979(0x2b3)]+'\x20('+this[_0x2ec979(0x526)][_0x2ec979(0x547)]+_0x2ec979(0x413)),!_0x3bc722||!_0x563046)return this[_0x2ec979(0x131)][_0x2ec979(0x32e)](this[_0x2ec979(0x2b3)]+'\x20('+this[_0x2ec979(0x526)]['wuid']+_0x2ec979(0x4b0)),null;let _0x22b12b=Date[_0x2ec979(0x4e5)](),_0x4902e9=parseInt(_0x563046['stopMinutes'],0xa);if(isNaN(_0x4902e9))return this[_0x2ec979(0x131)][_0x2ec979(0x32e)](this[_0x2ec979(0x2b3)]+'\x20('+this['instance'][_0x2ec979(0x547)]+_0x2ec979(0x458)),null;let _0x930fbb={'newStoppedUntil':_0x22b12b+_0x4902e9*0x3c*0x3e8};return await this[_0x2ec979(0x51b)](_0x3bc722,_0x563046,_0x930fbb,!0x0),null;}async['processUazapi'](_0x263e40,_0x48a145){const _0x103814=a0_0x374876;try{switch(_0x48a145[_0x103814(0x3a2)][_0x103814(0x1fd)]){case _0x103814(0x57a):await this['uazapiSendText'](_0x263e40,_0x48a145);break;case _0x103814(0x1ff):await this[_0x103814(0x13e)](_0x263e40,_0x48a145);break;case _0x103814(0x5fa):await this[_0x103814(0x68e)](_0x263e40,_0x48a145);break;case _0x103814(0x70b):await this[_0x103814(0x3c1)](_0x263e40,_0x48a145);break;case _0x103814(0x29b):await this['uazapiSendContact'](_0x263e40,_0x48a145);break;case'sendPoll':await this[_0x103814(0x6a7)](_0x263e40,_0x48a145);break;case _0x103814(0x29d):await this['uazapiSendMenu'](_0x263e40,_0x48a145);break;case'deleteMessage':await this[_0x103814(0x4ef)](_0x263e40,_0x48a145);break;default:this[_0x103814(0x131)][_0x103814(0x32e)](this[_0x103814(0x2b3)]+'\x20('+this[_0x103814(0x526)][_0x103814(0x547)]+_0x103814(0x148)+_0x48a145['uazapi'][_0x103814(0x1fd)]);}}catch(_0x26dec6){this['logger'][_0x103814(0x32e)](this['instanceName']+'\x20('+this[_0x103814(0x526)][_0x103814(0x547)]+_0x103814(0x3a0)+(_0x26dec6 instanceof Error?_0x26dec6[_0x103814(0x5e9)]:JSON[_0x103814(0x5f1)](_0x26dec6,null,0x2)));}}async[a0_0x374876(0x51b)](_0x969940,_0x5e6d8a,_0x2be007,_0x5df0c8=!0x1,_0x17af51=!0x1){const _0x2e518f=a0_0x374876;_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x595)]||(_0x969940[_0x2e518f(0x3d5)]['blockLogs']=[]);let _0x1eaf7d=(_0x969940[_0x2e518f(0x3d5)]['blockLogs']?.[_0x2e518f(0x6ea)]??0x0)+0x1,_0xc5464b=_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x595)][_0x2e518f(0x4ed)](_0x5a1c4f=>String(_0x5a1c4f[_0x2e518f(0x263)])===String(_0x5e6d8a[_0x2e518f(0x168)]))['length']+0x1,_0x490e21=_0x2be007?.['onTime']??Date['now'](),_0x181620=_0x2be007?.[_0x2e518f(0x32e)]?_0x2be007[_0x2e518f(0x585)]??_0x2be007['error'][_0x2e518f(0x5ab)]():void 0x0,_0x5a46f4={'onTime':_0x490e21,'blockId':_0x5e6d8a[_0x2e518f(0x168)],'order':_0x1eaf7d,'activatedCount':_0xc5464b,'error':_0x2be007?.[_0x2e518f(0x32e)]??!0x1,'messageId':_0x2be007?.[_0x2e518f(0x62c)],'apiResponse':_0x2be007?.[_0x2e518f(0x63c)],'apiResponseString':_0x2be007?.[_0x2e518f(0x63c)]?JSON[_0x2e518f(0x5f1)](_0x2be007?.[_0x2e518f(0x63c)]):void 0x0,'variable':_0x2be007?.[_0x2e518f(0x3c5)],'oldValue':_0x2be007?.[_0x2e518f(0x4b9)],'newValue':_0x2be007?.['newValue'],'newStoppedUntil':_0x2be007?.[_0x2e518f(0x3f0)],'moreLogs':_0x2be007?.['moreLogs'],'errorLog':_0x181620};if(_0x2be007[_0x2e518f(0x210)]&&_0x2be007[_0x2e518f(0x210)][_0x2e518f(0x6ea)]>0x0){let _0x54dc1a=_0x2be007[_0x2e518f(0x210)][_0x2e518f(0x675)](_0x57455c=>this['replaceVariablesLogs'](_0x57455c,_0x969940['chatLog']['realVariables']));_0x5a46f4[_0x2e518f(0x210)]=_0x54dc1a;}_0x969940['chatLog'][_0x2e518f(0x435)]||(_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x435)]={}),_0x969940['chatLog'][_0x2e518f(0x435)][_0x2e518f(0x281)]=String(_0xc5464b),_0x969940['chatLog'][_0x2e518f(0x435)][_0x2e518f(0x175)]=String(_0x2be007[_0x2e518f(0x32e)]??!0x1),_0x969940[_0x2e518f(0x3d5)]['blockLogs'][_0x2e518f(0x36f)](_0x5a46f4),_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x64a)]=_0x5e6d8a['_id'][_0x2e518f(0x5ab)](),_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x268)]&&(_0x969940['chatLog'][_0x2e518f(0x268)]=_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x268)]),_0x969940[_0x2e518f(0x3d5)]['lastReceivedMessage']&&(_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x17e)]=_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x17e)]),_0x969940[_0x2e518f(0x3d5)][_0x2e518f(0x17d)]&&(_0x969940[_0x2e518f(0x3d5)]['lastCondition']=_0x969940['chatLog'][_0x2e518f(0x17d)]),_0x17af51&&(_0x969940['status']=_0x2e518f(0x101)),_0x5df0c8?this[_0x2e518f(0x265)](_0x969940):this[_0x2e518f(0x23c)](_0x969940,_0x5e6d8a);}[a0_0x374876(0x4d7)](_0x51231a,_0x17b834){const _0x5d292c=a0_0x374876;return _0x51231a[_0x5d292c(0x6fa)](/\{\{([^}]+)\}\}/g,(_0x2e8817,_0x29bf37)=>_0x17b834[_0x29bf37]?'{{'+_0x29bf37+'}}\x20->\x20\x22'+_0x17b834[_0x29bf37]+'\x22':'{{'+_0x29bf37+_0x5d292c(0x3de));}async[a0_0x374876(0x265)](_0x1e89a9){const _0x151f75=a0_0x374876;try{let _0x2cadaa=Object['entries'](_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x435)])[_0x151f75(0x675)](([_0xdd9df3,_0x151c26])=>({'name':_0xdd9df3,'value':_0x151c26})),_0x48d5a6={'status':_0x1e89a9[_0x151f75(0x3d2)],'blocks':_0x1e89a9[_0x151f75(0x6a9)],'waitingMenu_id':_0x1e89a9['waitingMenu_id'],'waitingMenu_text':_0x1e89a9[_0x151f75(0x5ff)],'waitingMenu_replyOptions':_0x1e89a9['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x1e89a9['chatLog'][_0x151f75(0x64a)],'lastSendMessage':_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x268)],'lastReceivedMessage':_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x17e)],'lastCondition':_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x17d)],'chatVariables':_0x2cadaa,'realVariables':_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x435)],'blockLogs':_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x595)]}},_0x496940=await this[_0x151f75(0x6e8)][_0x151f75(0x484)][_0x151f75(0x6fe)](_0x1e89a9[_0x151f75(0x168)],_0x48d5a6,this[_0x151f75(0x526)]['wuid']);if(_0x496940){this[_0x151f75(0x131)][_0x151f75(0xc1)](this[_0x151f75(0x2b3)]+'\x20('+this['instance'][_0x151f75(0x547)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x496940[_0x151f75(0x168)]);try{let _0x250077=['nome',_0x151f75(0x45c),_0x151f75(0x564),'cpf',_0x151f75(0x3d2),'notas',_0x151f75(0x2e3),'tags',_0x151f75(0x2c5)];if(!this[_0x151f75(0x109)]&&(await this['getAutomateSystem'](),!this[_0x151f75(0x109)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x205442=this[_0x151f75(0x109)]?.[_0x151f75(0x74b)][_0x151f75(0x675)](_0x3aa6ba=>_0x3aa6ba['name']),_0x119442={};Object[_0x151f75(0x337)](_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x435)])[_0x151f75(0x489)](([_0x440079,_0x7146d3])=>{const _0x1f6c84=_0x151f75;_0x250077['includes'](_0x440079)&&(_0x440079===_0x1f6c84(0x3dd)&&typeof _0x7146d3==_0x1f6c84(0x383)?_0x119442[_0x440079]=_0x7146d3[_0x1f6c84(0x443)](',')[_0x1f6c84(0x675)](_0x25f421=>_0x25f421['trim']())[_0x1f6c84(0x4ed)](_0x4c398d=>_0x4c398d!==''):_0x440079===_0x1f6c84(0x2c5)&&typeof _0x7146d3==_0x1f6c84(0x383)?_0x119442[_0x440079]=_0x7146d3['split'](',')[_0x1f6c84(0x675)](_0x3ad450=>_0x3ad450[_0x1f6c84(0x3ba)]())[_0x1f6c84(0x4ed)](_0x5283e9=>_0x5283e9!==''):_0x119442[_0x440079]=_0x7146d3);});let _0x45bc0d=_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x595)][_0x1e89a9[_0x151f75(0x3d5)][_0x151f75(0x595)][_0x151f75(0x6ea)]-0x1];if(_0x45bc0d){let _0x43946a=_0x45bc0d[_0x151f75(0x3f0)];_0x43946a!==void 0x0&&(_0x119442[_0x151f75(0x2e8)]=_0x43946a[_0x151f75(0x5ab)]());}let _0x9665=_0x2cadaa['filter'](_0x6169a3=>_0x205442[_0x151f75(0xea)](_0x6169a3[_0x151f75(0x2f4)]));this[_0x151f75(0x131)]['verbose'](this[_0x151f75(0x2b3)]+'\x20('+this[_0x151f75(0x526)]['wuid']+'):\x20leadInfoVariables'),this[_0x151f75(0x131)][_0x151f75(0xc1)](_0x119442),this[_0x151f75(0x131)][_0x151f75(0xc1)](this[_0x151f75(0x2b3)]+'\x20('+this[_0x151f75(0x526)][_0x151f75(0x547)]+_0x151f75(0x335)),this['logger'][_0x151f75(0xc1)](_0x9665);let _0x3bf086=_0x9665[_0x151f75(0x675)](_0x140cd5=>{const _0x497fcc=_0x151f75;let _0x549280=this[_0x497fcc(0x109)]?.[_0x497fcc(0x74b)]['find'](_0x2979c8=>_0x2979c8[_0x497fcc(0x2f4)]===_0x140cd5[_0x497fcc(0x2f4)]);if(!_0x549280)throw new Error(_0x497fcc(0x520)+_0x140cd5[_0x497fcc(0x2f4)]);return{'_id':_0x549280['_id'],'value':_0x140cd5[_0x497fcc(0x580)]};});this[_0x151f75(0x131)][_0x151f75(0xc1)](this[_0x151f75(0x2b3)]+'\x20('+this[_0x151f75(0x526)][_0x151f75(0x547)]+_0x151f75(0x73f)),this[_0x151f75(0x131)][_0x151f75(0xc1)](_0x3bf086),await this['saveChatVariables'](_0x1e89a9[_0x151f75(0x46a)],_0x119442,_0x3bf086);}catch(_0x2e222e){this[_0x151f75(0x131)][_0x151f75(0x32e)](this[_0x151f75(0x2b3)]+'\x20('+this['instance'][_0x151f75(0x547)]+_0x151f75(0x73b)+(_0x2e222e instanceof Error?_0x2e222e[_0x151f75(0x5e9)]:JSON[_0x151f75(0x5f1)](_0x2e222e,null,0x2)));}}else this[_0x151f75(0x131)][_0x151f75(0x32e)](this[_0x151f75(0x2b3)]+'\x20('+this[_0x151f75(0x526)][_0x151f75(0x547)]+_0x151f75(0xd2));}catch(_0x308439){this[_0x151f75(0x131)][_0x151f75(0x32e)](this['instanceName']+'\x20('+this[_0x151f75(0x526)]['wuid']+_0x151f75(0x525)+(_0x308439 instanceof Error?_0x308439[_0x151f75(0x5e9)]:JSON[_0x151f75(0x5f1)](_0x308439,null,0x2)));}}async[a0_0x374876(0x6f4)](_0x31b663,_0x15031b,_0x4edd11){const _0x62fd95=a0_0x374876;try{let _0x5bf436={'leadInfo.leadnome':_0x15031b[_0x62fd95(0x408)],'leadInfo.nomecompleto':_0x15031b[_0x62fd95(0x45c)],'leadInfo.email':_0x15031b[_0x62fd95(0x564)],'leadInfo.cpf':_0x15031b[_0x62fd95(0x1ba)],'leadInfo.status':_0x15031b['status'],'leadInfo.notas':_0x15031b[_0x62fd95(0x13c)],'leadInfo.responsavelid':_0x15031b[_0x62fd95(0x2e3)],'leadInfo.tags':_0x15031b[_0x62fd95(0x3dd)],'leadInfo.etiquetas':_0x15031b['etiquetas'],'leadInfo.customFields':_0x4edd11},_0x41e6ee=await this['repository'][_0x62fd95(0x25d)][_0x62fd95(0x108)]({'where':{'_id':_0x31b663}},this[_0x62fd95(0x526)][_0x62fd95(0x547)]),_0x537e21=new Set(_0x41e6ee[_0x62fd95(0x4bd)][_0x62fd95(0x2c5)]||[]),_0x216135=new Set(_0x15031b['etiquetas']||[]),_0x303511=await this[_0x62fd95(0x6e8)][_0x62fd95(0x216)]['find']({'where':{}},this[_0x62fd95(0x526)][_0x62fd95(0x547)]),_0x1655aa=new Set(_0x303511[_0x62fd95(0x675)](_0xf6a623=>_0xf6a623[_0x62fd95(0x168)])),_0x423c4f=[..._0x216135][_0x62fd95(0x4ed)](_0x27af1e=>!_0x537e21[_0x62fd95(0x42e)](_0x27af1e)&&_0x1655aa[_0x62fd95(0x42e)](_0x27af1e)),_0x201506=[..._0x537e21]['filter'](_0x246e4f=>!_0x216135[_0x62fd95(0x42e)](_0x246e4f));for(let _0x4dd2d8 of _0x423c4f)await this[_0x62fd95(0x611)](_0x4dd2d8,_0x41e6ee[_0x62fd95(0x168)]),_0x537e21[_0x62fd95(0x5fb)](_0x4dd2d8);for(let _0x4b47a6 of _0x201506)await this[_0x62fd95(0x4fa)](_0x4b47a6,_0x41e6ee[_0x62fd95(0x168)]),_0x537e21[_0x62fd95(0x454)](_0x4b47a6);if('desativadoFluxoAte'in _0x15031b){let _0x3ef9f0=_0x15031b[_0x62fd95(0x2e8)];_0x5bf436[_0x62fd95(0x724)]=_0x3ef9f0?Number(_0x3ef9f0):null;}let _0x6cbb12=await this[_0x62fd95(0x6e8)][_0x62fd95(0x25d)][_0x62fd95(0x6fe)]({'where':{'_id':_0x31b663}},_0x5bf436,this['instance'][_0x62fd95(0x547)]);_0x6cbb12?(this[_0x62fd95(0x131)][_0x62fd95(0xc1)](this[_0x62fd95(0x2b3)]+'\x20('+this[_0x62fd95(0x526)][_0x62fd95(0x547)]+_0x62fd95(0x143)+_0x6cbb12[_0x62fd95(0x168)]),q(this[_0x62fd95(0x2b3)],_0x62fd95(0x28d),{'chat':_0x6cbb12})):this[_0x62fd95(0x131)][_0x62fd95(0x32e)](this[_0x62fd95(0x2b3)]+'\x20('+this[_0x62fd95(0x526)][_0x62fd95(0x547)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x1aac7e){this[_0x62fd95(0x131)][_0x62fd95(0x32e)](this[_0x62fd95(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x1aac7e instanceof Error?_0x1aac7e[_0x62fd95(0x5e9)]:JSON[_0x62fd95(0x5f1)](_0x1aac7e,null,0x2)));}}async[a0_0x374876(0x537)](_0x4c9809,_0x3fe992){const _0x420f8d=a0_0x374876;this[_0x420f8d(0x131)][_0x420f8d(0xc1)](this['instanceName']+'\x20('+this[_0x420f8d(0x526)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x3fe992);try{let _0xa4f8ba=await this[_0x420f8d(0x6e8)][_0x420f8d(0x25d)][_0x420f8d(0x6fe)]({'where':{'_id':_0x4c9809['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x3fe992},this[_0x420f8d(0x526)][_0x420f8d(0x547)]);this[_0x420f8d(0x131)][_0x420f8d(0xc1)](this['instanceName']+'\x20('+this[_0x420f8d(0x526)][_0x420f8d(0x547)]+_0x420f8d(0x477)+_0x4c9809[_0x420f8d(0x168)]),this[_0x420f8d(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x420f8d(0x526)]['wuid']+_0x420f8d(0x6f2)+JSON[_0x420f8d(0x5f1)](_0xa4f8ba,null,0x2)),_0xa4f8ba&&q(this[_0x420f8d(0x2b3)],'chats',{'chat':_0xa4f8ba});}catch(_0x2b0dd2){this[_0x420f8d(0x131)][_0x420f8d(0x32e)](this['instanceName']+'\x20('+this['instance'][_0x420f8d(0x547)]+_0x420f8d(0xf8)+(_0x2b0dd2 instanceof Error?_0x2b0dd2[_0x420f8d(0x5e9)]:JSON[_0x420f8d(0x5f1)](_0x2b0dd2,null,0x2)));}}async[a0_0x374876(0x10e)](_0x4335d4){const _0xaa75ae=a0_0x374876;try{this[_0xaa75ae(0x131)][_0xaa75ae(0xc1)](this[_0xaa75ae(0x2b3)]+'\x20('+this[_0xaa75ae(0x526)]['wuid']+_0xaa75ae(0x60e));let _0x4a138e=_0x4335d4[_0xaa75ae(0x6fa)](/\D/g,''),_0x56817e=await this[_0xaa75ae(0x6e8)]['flow']['findOne']({'where':{'testingWith':_0x4a138e}},this['instance'][_0xaa75ae(0x547)]);return _0x56817e||(this[_0xaa75ae(0x131)]['verbose'](this[_0xaa75ae(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x56817e=await this[_0xaa75ae(0x6e8)][_0xaa75ae(0x3e9)][_0xaa75ae(0x108)]({'where':{'default':!0x0}},this[_0xaa75ae(0x526)][_0xaa75ae(0x547)])),_0x56817e||(this[_0xaa75ae(0x131)][_0xaa75ae(0xc1)](this[_0xaa75ae(0x2b3)]+'\x20('+this[_0xaa75ae(0x526)]['wuid']+_0xaa75ae(0x1f4)),null);}catch(_0xe2e93d){return this[_0xaa75ae(0x131)][_0xaa75ae(0x32e)](this[_0xaa75ae(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0xe2e93d instanceof Error?_0xe2e93d[_0xaa75ae(0x5e9)]:JSON[_0xaa75ae(0x5f1)](_0xe2e93d,null,0x2))),null;}}async[a0_0x374876(0x18d)](_0x2de55d,_0x40cee0){const _0x1656e7=a0_0x374876;try{let _0x16324b=!!_0x40cee0['vote'],_0x5f58ed=_0x40cee0[_0x1656e7(0xfb)],_0x41c0ea=null;if(this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this['instance']['wuid']+_0x1656e7(0x36d)+_0x16324b+_0x1656e7(0x272)+_0x5f58ed),_0x16324b){this['logger'][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this[_0x1656e7(0x526)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0xb968ba={'where':{'remoteJid':_0x2de55d,'waitingMenu_id':_0x5f58ed}};if(_0x41c0ea=await this['repository'][_0x1656e7(0x484)][_0x1656e7(0x108)](_0xb968ba,this[_0x1656e7(0x526)][_0x1656e7(0x547)]),!_0x41c0ea)return this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this['instance'][_0x1656e7(0x547)]+_0x1656e7(0x608)),null;let _0x5bf5c7=Date[_0x1656e7(0x4e5)](),_0x2dac12=_0x41c0ea?.['minutesToClose']||0x0,_0x17c9bd=_0x5bf5c7-_0x2dac12*0x3c*0x3e8;if(_0x41c0ea[_0x1656e7(0x5b5)]<_0x17c9bd){this[_0x1656e7(0x131)]['verbose'](this[_0x1656e7(0x2b3)]+'\x20('+this[_0x1656e7(0x526)]['wuid']+_0x1656e7(0x691));let _0x4389dc={'number':_0x41c0ea[_0x1656e7(0x46a)],'options':{'delay':0x0},'textMessage':{'text':_0x41c0ea[_0x1656e7(0x66b)]}};await this[_0x1656e7(0x50f)](_0x4389dc);let _0x1d4bc6={'status':_0x1656e7(0x101),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x1656e7(0x6e8)][_0x1656e7(0x484)]['updateOne'](_0x41c0ea[_0x1656e7(0x168)],_0x1d4bc6,this[_0x1656e7(0x526)][_0x1656e7(0x547)]),null;}return _0x41c0ea['lastInteraction']=Date['now'](),_0x41c0ea['chatLog']['lastReceivedMessage']=_0x40cee0,_0x41c0ea;}else{this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this['instance'][_0x1656e7(0x547)]+_0x1656e7(0x1c6)+this[_0x1656e7(0x526)][_0x1656e7(0x547)]+_0x1656e7(0x34a)),this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this[_0x1656e7(0x526)][_0x1656e7(0x547)]+_0x1656e7(0x37c));let _0x254a16={'where':{'remoteJid':_0x2de55d,'status':_0x1656e7(0x2f1)}};if(_0x41c0ea=await this[_0x1656e7(0x6e8)][_0x1656e7(0x484)][_0x1656e7(0x108)](_0x254a16,this[_0x1656e7(0x526)][_0x1656e7(0x547)]),!_0x41c0ea){let _0x213368=await this[_0x1656e7(0x10e)](_0x2de55d);if(_0x213368&&(_0x41c0ea=await this[_0x1656e7(0x578)](_0x213368,_0x40cee0[_0x1656e7(0x674)],_0x40cee0)),!_0x41c0ea)return null;}let _0x2afe69=Date['now'](),_0x152c06=_0x41c0ea?.['minutesToClose']||0x0,_0x1d39db=_0x2afe69-_0x152c06*0x3c*0x3e8;if(this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this[_0x1656e7(0x526)]['wuid']+'):\x20Current\x20Time:\x20'+_0x2afe69+_0x1656e7(0x32f)+_0x152c06+_0x1656e7(0x2b1)+_0x1d39db),this[_0x1656e7(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x1656e7(0x526)]['wuid']+_0x1656e7(0x1e7)),this[_0x1656e7(0x131)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x41c0ea[_0x1656e7(0x5b5)]),this[_0x1656e7(0x131)][_0x1656e7(0xc1)](this[_0x1656e7(0x2b3)]+'\x20('+this[_0x1656e7(0x526)][_0x1656e7(0x547)]+_0x1656e7(0x183)+_0x1d39db),_0x41c0ea[_0x1656e7(0x5b5)]<_0x1d39db){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1656e7(0x526)]['wuid']+_0x1656e7(0x711));let _0x236843=await this[_0x1656e7(0x10e)](_0x2de55d);if(_0x236843===null)return null;_0x41c0ea&&await this['repository']['flowConversation'][_0x1656e7(0x6fe)](_0x41c0ea[_0x1656e7(0x168)],{'status':_0x1656e7(0x101)},this[_0x1656e7(0x526)]['wuid']),_0x41c0ea=await this[_0x1656e7(0x578)](_0x236843,_0x40cee0[_0x1656e7(0x674)],_0x40cee0);}return _0x41c0ea[_0x1656e7(0x5b5)]=_0x2afe69,_0x41c0ea['chatLog'][_0x1656e7(0x17e)]=_0x40cee0,_0x41c0ea;}}catch(_0xf51b99){return this[_0x1656e7(0x131)][_0x1656e7(0x32e)](this[_0x1656e7(0x2b3)]+'\x20('+this['instance'][_0x1656e7(0x547)]+_0x1656e7(0x22c)+(_0xf51b99 instanceof Error?_0xf51b99['message']:JSON[_0x1656e7(0x5f1)](_0xf51b99,null,0x2))),null;}}async[a0_0x374876(0x578)](_0x4e5587,_0x561c09,_0x303bc6){const _0x23a9e9=a0_0x374876;this[_0x23a9e9(0x131)][_0x23a9e9(0xc1)](this[_0x23a9e9(0x2b3)]+'\x20('+this[_0x23a9e9(0x526)][_0x23a9e9(0x547)]+_0x23a9e9(0x480));try{let _0x542056=require(_0x23a9e9(0x4e2))[_0x23a9e9(0x705)],_0x5303ad=Date[_0x23a9e9(0x4e5)](),_0x32f9ec='start',_0x325fa3=_0x561c09[_0x23a9e9(0x699)]?null:_0x303bc6,_0x4684c8=_0x561c09[_0x23a9e9(0x699)]?_0x303bc6:null,_0x4a606e=_0x561c09[_0x23a9e9(0x46a)];await this[_0x23a9e9(0x398)](_0x4a606e);let _0x1c4918={..._0x4e5587,'chatLog':null},_0xd5909a=await this[_0x23a9e9(0x2e5)](_0x1c4918[_0x23a9e9(0x492)]),_0x276a0c=await this[_0x23a9e9(0x5e4)](_0x4a606e),_0x3cb7f4={..._0xd5909a,..._0x276a0c,'_remoteJid':_0x4a606e},_0x4b7da0={'lastReceivedMessage':_0x325fa3,'lastSendMessage':_0x4684c8,'lastBlockId':_0x32f9ec,'lastCondition':!0x0,'realVariables':_0x3cb7f4};_0x1c4918[_0x23a9e9(0x3d5)]=_0x4b7da0,delete _0x1c4918['_id'],_0x1c4918['_id']=new _0x542056(),_0x1c4918[_0x23a9e9(0x5b5)]=_0x5303ad,_0x1c4918[_0x23a9e9(0x3d2)]=_0x23a9e9(0x2f1),_0x1c4918['remoteJid']=_0x4a606e;let _0x5b5be0=await this[_0x23a9e9(0x6e8)][_0x23a9e9(0x484)]['updateOne'](_0x1c4918[_0x23a9e9(0x168)],_0x1c4918,this['instance']['wuid']);return this[_0x23a9e9(0x131)]['verbose'](this[_0x23a9e9(0x2b3)]+'\x20('+this[_0x23a9e9(0x526)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5b5be0?_0x1c4918:null;}catch(_0x1d1bce){return this[_0x23a9e9(0x131)][_0x23a9e9(0x32e)](this['instanceName']+'\x20('+this[_0x23a9e9(0x526)][_0x23a9e9(0x547)]+_0x23a9e9(0x1a2)+(_0x1d1bce instanceof Error?_0x1d1bce['message']:JSON[_0x23a9e9(0x5f1)](_0x1d1bce,null,0x2))),_0x1d1bce;}}async[a0_0x374876(0x1ce)](_0x543c8b,_0x52fb50){const _0x437e49=a0_0x374876;let _0x31b691=_0x543c8b[_0x437e49(0x46a)];_0x52fb50[_0x437e49(0x3a2)][_0x437e49(0x46a)]&&_0x52fb50[_0x437e49(0x3a2)]['remoteJid'][_0x437e49(0x3ba)]()!==''&&(_0x31b691=_0x52fb50[_0x437e49(0x3a2)][_0x437e49(0x46a)]['trim']()),this['logger'][_0x437e49(0xc1)](this[_0x437e49(0x2b3)]+'\x20('+this[_0x437e49(0x526)]['wuid']+_0x437e49(0x144));let _0x1f0cf5={'number':_0x31b691,'options':{'delay':_0x52fb50[_0x437e49(0x3a2)][_0x437e49(0x37f)]},'textMessage':{'text':_0x52fb50[_0x437e49(0x3a2)]['text']}};try{let _0x2ece82=await this[_0x437e49(0x50f)](_0x1f0cf5);if(_0x2ece82){let _0x57fceb={'_id':_0x2ece82['key']['id'],'_fromMe':_0x2ece82[_0x437e49(0x674)][_0x437e49(0x699)],'_remoteJid':_0x2ece82[_0x437e49(0x674)][_0x437e49(0x46a)]},_0x571fd3=(0x0,m[_0x437e49(0x12c)])(_0x2ece82[_0x437e49(0x5e9)]),_0x29214a=(0x0,m[_0x437e49(0x5ac)])(_0x571fd3);_0x543c8b['chatLog']['lastBlockId']=_0x52fb50[_0x437e49(0x168)][_0x437e49(0x5ab)]();let {message_normalized:_0x4dd82a}=this['normalizeMessage'](_0x571fd3,_0x29214a,null);_0x543c8b[_0x437e49(0x3d5)][_0x437e49(0x268)]=await _0x4dd82a;let _0x49c248={'messageId':_0x2ece82[_0x437e49(0x674)]['id']},_0x102ae3=_0x543c8b[_0x437e49(0x3d5)][_0x437e49(0x435)];Object[_0x437e49(0x598)](_0x102ae3,_0x57fceb),_0x543c8b[_0x437e49(0x3d5)]['realVariables']=_0x102ae3,this['updateConversation'](_0x543c8b,_0x52fb50,_0x49c248);}else{let _0x5c0d11={'error':!0x0};this['updateConversation'](_0x543c8b,_0x52fb50,_0x5c0d11),this[_0x437e49(0x131)]['error'](this[_0x437e49(0x2b3)]+'\x20('+this[_0x437e49(0x526)][_0x437e49(0x547)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x1e22b8){let _0x4cb0a0={'error':!0x0,'errorLog':_0x1e22b8['toString']()};this[_0x437e49(0x51b)](_0x543c8b,_0x52fb50,_0x4cb0a0),this[_0x437e49(0x131)][_0x437e49(0x32e)](this[_0x437e49(0x2b3)]+'\x20('+this[_0x437e49(0x526)][_0x437e49(0x547)]+_0x437e49(0x174)+(_0x1e22b8 instanceof Error?_0x1e22b8[_0x437e49(0x5e9)]:JSON[_0x437e49(0x5f1)](_0x1e22b8,null,0x2)));}}async[a0_0x374876(0x13e)](_0x51b110,_0x31566f){const _0x597b51=a0_0x374876;let _0x1b8f6b=_0x51b110['remoteJid'];_0x31566f['uazapi'][_0x597b51(0x46a)]&&_0x31566f['uazapi'][_0x597b51(0x46a)][_0x597b51(0x3ba)]()!==''&&(_0x1b8f6b=_0x31566f['uazapi'][_0x597b51(0x46a)][_0x597b51(0x3ba)]()),this['logger'][_0x597b51(0xc1)](this[_0x597b51(0x2b3)]+'\x20('+this['instance']['wuid']+_0x597b51(0x246));let _0x37c10f={'number':_0x1b8f6b,'options':{'delay':_0x31566f[_0x597b51(0x3a2)]['delay']},'mediaMessage':{'mediatype':_0x31566f['uazapi'][_0x597b51(0x456)],'caption':_0x31566f['uazapi']['caption'],'media':_0x31566f['uazapi'][_0x597b51(0x381)],'fileName':_0x31566f[_0x597b51(0x3a2)][_0x597b51(0x356)]}};try{let _0x4d7941=await this[_0x597b51(0x487)](_0x37c10f);if(_0x4d7941){let _0x3f0611={'_id':_0x4d7941[_0x597b51(0x674)]['id'],'_fromMe':_0x4d7941['key'][_0x597b51(0x699)],'_remoteJid':_0x4d7941[_0x597b51(0x674)][_0x597b51(0x46a)]},_0x37c1fb=(0x0,m[_0x597b51(0x12c)])(_0x4d7941[_0x597b51(0x5e9)]),_0x54e258=(0x0,m[_0x597b51(0x5ac)])(_0x37c1fb);_0x51b110[_0x597b51(0x3d5)]['lastBlockId']=_0x31566f[_0x597b51(0x168)][_0x597b51(0x5ab)]();let {message_normalized:_0x4ad51a}=this[_0x597b51(0x22d)](_0x37c1fb,_0x54e258,null);_0x51b110[_0x597b51(0x3d5)][_0x597b51(0x268)]=await _0x4ad51a;let _0x1ce128={'messageId':_0x4d7941[_0x597b51(0x674)]['id']},_0x268546=_0x51b110[_0x597b51(0x3d5)][_0x597b51(0x435)];Object['assign'](_0x268546,_0x3f0611),_0x51b110[_0x597b51(0x3d5)][_0x597b51(0x435)]=_0x268546,this[_0x597b51(0x51b)](_0x51b110,_0x31566f,_0x1ce128);}else{let _0x3cd8be={'error':!0x0};this['updateConversation'](_0x51b110,_0x31566f,_0x3cd8be),this['logger'][_0x597b51(0x32e)](this[_0x597b51(0x2b3)]+'\x20('+this[_0x597b51(0x526)][_0x597b51(0x547)]+_0x597b51(0x669));}}catch(_0x33a204){let _0x4ba8e9={'error':!0x0,'errorLog':_0x33a204[_0x597b51(0x5ab)]()};this[_0x597b51(0x51b)](_0x51b110,_0x31566f,_0x4ba8e9),this['logger'][_0x597b51(0x32e)](this[_0x597b51(0x2b3)]+'\x20('+this['instance']['wuid']+_0x597b51(0x5cf)+(_0x33a204 instanceof Error?_0x33a204[_0x597b51(0x5e9)]:JSON[_0x597b51(0x5f1)](_0x33a204,null,0x2)));}}async[a0_0x374876(0x68e)](_0x1cfac4,_0x271726){const _0x436e85=a0_0x374876;let _0x3f0456=_0x1cfac4[_0x436e85(0x46a)];_0x271726[_0x436e85(0x3a2)][_0x436e85(0x46a)]&&_0x271726[_0x436e85(0x3a2)]['remoteJid'][_0x436e85(0x3ba)]()!==''&&(_0x3f0456=_0x271726[_0x436e85(0x3a2)][_0x436e85(0x46a)][_0x436e85(0x3ba)]()),this['logger'][_0x436e85(0xc1)](this['instanceName']+'\x20('+this[_0x436e85(0x526)][_0x436e85(0x547)]+_0x436e85(0x503));let _0x11ec73={'number':_0x3f0456,'options':{'delay':_0x271726[_0x436e85(0x3a2)][_0x436e85(0x37f)]},'locationMessage':{'name':_0x271726[_0x436e85(0x3a2)][_0x436e85(0x2f4)],'address':_0x271726[_0x436e85(0x3a2)][_0x436e85(0x355)],'latitude':_0x271726[_0x436e85(0x3a2)][_0x436e85(0x62d)],'longitude':_0x271726[_0x436e85(0x3a2)][_0x436e85(0x31e)]}};try{let _0x5d484f=await this[_0x436e85(0x2e7)](_0x11ec73);if(_0x5d484f){let _0x344b4a={'_id':_0x5d484f[_0x436e85(0x674)]['id'],'_fromMe':_0x5d484f[_0x436e85(0x674)]['fromMe'],'_remoteJid':_0x5d484f[_0x436e85(0x674)][_0x436e85(0x46a)]},_0x26e13b=(0x0,m[_0x436e85(0x12c)])(_0x5d484f[_0x436e85(0x5e9)]),_0x144d2a=(0x0,m[_0x436e85(0x5ac)])(_0x26e13b);_0x1cfac4[_0x436e85(0x3d5)][_0x436e85(0x64a)]=_0x271726[_0x436e85(0x168)]['toString']();let {message_normalized:_0x458848}=this[_0x436e85(0x22d)](_0x26e13b,_0x144d2a,null);_0x1cfac4['chatLog']['lastSendMessage']=await _0x458848;let _0xab21de={'messageId':_0x5d484f[_0x436e85(0x674)]['id']},_0x164045=_0x1cfac4[_0x436e85(0x3d5)][_0x436e85(0x435)];Object[_0x436e85(0x598)](_0x164045,_0x344b4a),_0x1cfac4[_0x436e85(0x3d5)][_0x436e85(0x435)]=_0x164045,this[_0x436e85(0x51b)](_0x1cfac4,_0x271726,_0xab21de);}else{let _0x2315f7={'error':!0x0};this['updateConversation'](_0x1cfac4,_0x271726,_0x2315f7),this['logger']['error'](this[_0x436e85(0x2b3)]+'\x20('+this[_0x436e85(0x526)]['wuid']+_0x436e85(0x287));}}catch(_0x71a878){let _0x12359a={'error':!0x0,'errorLog':_0x71a878[_0x436e85(0x5ab)]()};this['updateConversation'](_0x1cfac4,_0x271726,_0x12359a),this[_0x436e85(0x131)][_0x436e85(0x32e)](this[_0x436e85(0x2b3)]+'\x20('+this[_0x436e85(0x526)][_0x436e85(0x547)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x71a878 instanceof Error?_0x71a878[_0x436e85(0x5e9)]:JSON[_0x436e85(0x5f1)](_0x71a878,null,0x2)));}}async[a0_0x374876(0x3c1)](_0xd1bb9f,_0x5cca9a){const _0x3f6cd3=a0_0x374876;let _0x15028d=_0xd1bb9f[_0x3f6cd3(0x46a)];_0x5cca9a[_0x3f6cd3(0x3a2)][_0x3f6cd3(0x46a)]&&_0x5cca9a[_0x3f6cd3(0x3a2)]['remoteJid'][_0x3f6cd3(0x3ba)]()!==''&&(_0x15028d=_0x5cca9a[_0x3f6cd3(0x3a2)][_0x3f6cd3(0x46a)][_0x3f6cd3(0x3ba)]()),this[_0x3f6cd3(0x131)][_0x3f6cd3(0xc1)](this[_0x3f6cd3(0x2b3)]+'\x20('+this[_0x3f6cd3(0x526)][_0x3f6cd3(0x547)]+_0x3f6cd3(0x327));let _0x1e7ce5={'number':_0x15028d,'options':{'delay':_0x5cca9a['uazapi'][_0x3f6cd3(0x37f)]},'audioMessage':{'audio':_0x5cca9a[_0x3f6cd3(0x3a2)][_0x3f6cd3(0x511)]}};try{let _0x8c92b7=await this[_0x3f6cd3(0x384)](_0x1e7ce5);if(_0x8c92b7){let _0x572bb8={'_id':_0x8c92b7[_0x3f6cd3(0x674)]['id'],'_fromMe':_0x8c92b7[_0x3f6cd3(0x674)][_0x3f6cd3(0x699)],'_remoteJid':_0x8c92b7[_0x3f6cd3(0x674)]['remoteJid']},_0x317fa9=(0x0,m[_0x3f6cd3(0x12c)])(_0x8c92b7[_0x3f6cd3(0x5e9)]),_0x3fbfe8=(0x0,m[_0x3f6cd3(0x5ac)])(_0x317fa9);_0xd1bb9f[_0x3f6cd3(0x3d5)][_0x3f6cd3(0x64a)]=_0x5cca9a['_id']['toString']();let {message_normalized:_0x1f21cf}=this[_0x3f6cd3(0x22d)](_0x317fa9,_0x3fbfe8,null);_0xd1bb9f[_0x3f6cd3(0x3d5)][_0x3f6cd3(0x268)]=await _0x1f21cf;let _0x3717df={'messageId':_0x8c92b7[_0x3f6cd3(0x674)]['id']},_0x56ee0b=_0xd1bb9f[_0x3f6cd3(0x3d5)][_0x3f6cd3(0x435)];Object[_0x3f6cd3(0x598)](_0x56ee0b,_0x572bb8),_0xd1bb9f[_0x3f6cd3(0x3d5)][_0x3f6cd3(0x435)]=_0x56ee0b,this[_0x3f6cd3(0x51b)](_0xd1bb9f,_0x5cca9a,_0x3717df);}else{let _0x703ee7={'error':!0x0};this[_0x3f6cd3(0x51b)](_0xd1bb9f,_0x5cca9a,_0x703ee7),this[_0x3f6cd3(0x131)]['error'](this['instanceName']+'\x20('+this[_0x3f6cd3(0x526)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x270c3a){let _0x277369={'error':!0x0,'errorLog':_0x270c3a[_0x3f6cd3(0x5ab)]()};this[_0x3f6cd3(0x51b)](_0xd1bb9f,_0x5cca9a,_0x277369),this[_0x3f6cd3(0x131)]['error'](this[_0x3f6cd3(0x2b3)]+'\x20('+this[_0x3f6cd3(0x526)]['wuid']+_0x3f6cd3(0x67c)+(_0x270c3a instanceof Error?_0x270c3a[_0x3f6cd3(0x5e9)]:JSON[_0x3f6cd3(0x5f1)](_0x270c3a,null,0x2)));}}async[a0_0x374876(0x343)](_0x2f24e7,_0x30a730){const _0xe973a5=a0_0x374876;let _0x2461eb=_0x2f24e7['remoteJid'];_0x30a730[_0xe973a5(0x3a2)][_0xe973a5(0x46a)]&&_0x30a730[_0xe973a5(0x3a2)][_0xe973a5(0x46a)][_0xe973a5(0x3ba)]()!==''&&(_0x2461eb=_0x30a730[_0xe973a5(0x3a2)]['remoteJid'][_0xe973a5(0x3ba)]()),this['logger'][_0xe973a5(0xc1)](this[_0xe973a5(0x2b3)]+'\x20('+this[_0xe973a5(0x526)][_0xe973a5(0x547)]+_0xe973a5(0x322));let _0x1c9079={'number':_0x2461eb,'options':{'delay':_0x30a730[_0xe973a5(0x3a2)][_0xe973a5(0x37f)]},'contactMessage':[{'fullName':_0x30a730[_0xe973a5(0x3a2)][_0xe973a5(0x6e2)],'phoneNumber':_0x30a730[_0xe973a5(0x3a2)][_0xe973a5(0x5a0)]}]};try{let _0x421ffd=await this['contactMessage'](_0x1c9079);if(_0x421ffd){let _0x3c29cb={'_id':_0x421ffd[_0xe973a5(0x674)]['id'],'_fromMe':_0x421ffd[_0xe973a5(0x674)][_0xe973a5(0x699)],'_remoteJid':_0x421ffd[_0xe973a5(0x674)][_0xe973a5(0x46a)]},_0x435ccf=(0x0,m[_0xe973a5(0x12c)])(_0x421ffd['message']),_0x4efdd5=(0x0,m[_0xe973a5(0x5ac)])(_0x435ccf);_0x2f24e7[_0xe973a5(0x3d5)][_0xe973a5(0x64a)]=_0x30a730[_0xe973a5(0x168)][_0xe973a5(0x5ab)]();let {message_normalized:_0x8f8ce3}=this['normalizeMessage'](_0x435ccf,_0x4efdd5,null);_0x2f24e7[_0xe973a5(0x3d5)]['lastSendMessage']=await _0x8f8ce3;let _0x393aea={'messageId':_0x421ffd[_0xe973a5(0x674)]['id']},_0x332eb6=_0x2f24e7['chatLog'][_0xe973a5(0x435)];Object['assign'](_0x332eb6,_0x3c29cb),_0x2f24e7[_0xe973a5(0x3d5)]['realVariables']=_0x332eb6,this[_0xe973a5(0x51b)](_0x2f24e7,_0x30a730,_0x393aea);}else{let _0x43b955={'error':!0x0};this[_0xe973a5(0x51b)](_0x2f24e7,_0x30a730,_0x43b955),this[_0xe973a5(0x131)][_0xe973a5(0x32e)](this['instanceName']+'\x20('+this['instance'][_0xe973a5(0x547)]+_0xe973a5(0x473));}}catch(_0x556dc5){let _0x5db2ad={'error':!0x0,'errorLog':_0x556dc5[_0xe973a5(0x5ab)]()};this[_0xe973a5(0x51b)](_0x2f24e7,_0x30a730,_0x5db2ad),this[_0xe973a5(0x131)][_0xe973a5(0x32e)](this['instanceName']+'\x20('+this['instance'][_0xe973a5(0x547)]+_0xe973a5(0x214)+(_0x556dc5 instanceof Error?_0x556dc5[_0xe973a5(0x5e9)]:JSON[_0xe973a5(0x5f1)](_0x556dc5,null,0x2)));}}[a0_0x374876(0x6fd)](_0x3714db,_0xc38475){const _0x547613=a0_0x374876;for(let _0x4284ee of _0x3714db)_0x4284ee['option']&&(_0x4284ee['option']=this[_0x547613(0x139)](_0x4284ee['option'],_0xc38475)),_0x4284ee[_0x547613(0x373)]&&(_0x4284ee[_0x547613(0x373)]=this[_0x547613(0x139)](_0x4284ee[_0x547613(0x373)],_0xc38475));}async[a0_0x374876(0x6a7)](_0x3063d9,_0x1b77e8){const _0x5f15fd=a0_0x374876;let _0x43468b=_0x3063d9[_0x5f15fd(0x46a)];_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x46a)]&&_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x46a)][_0x5f15fd(0x3ba)]()!==''&&(_0x43468b=_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x46a)]['trim']()),this[_0x5f15fd(0x131)][_0x5f15fd(0xc1)](this['instanceName']+'\x20('+this['instance'][_0x5f15fd(0x547)]+_0x5f15fd(0x4db));let _0x14fca4=_0x3063d9[_0x5f15fd(0x618)][_0x5f15fd(0x4ed)](_0x330ee1=>_0x330ee1[_0x5f15fd(0x263)]===_0x1b77e8[_0x5f15fd(0x168)])[_0x5f15fd(0x1ab)]((_0x59feab,_0x208649)=>_0x59feab['order']-_0x208649[_0x5f15fd(0x49d)]);this[_0x5f15fd(0x6fd)](_0x14fca4,_0x3063d9[_0x5f15fd(0x3d5)][_0x5f15fd(0x435)]);let _0x5d7378=_0x14fca4[_0x5f15fd(0x675)](_0x2b2908=>_0x2b2908['option']),_0x159890={'number':_0x43468b,'menuMessage':{'type':_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x574)]||_0x5f15fd(0xbf),'text':_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x215)]||_0x1b77e8['uazapi'][_0x5f15fd(0x2f4)],'footerText':_0x1b77e8[_0x5f15fd(0x3a2)]['footerText'],'buttonText':_0x1b77e8[_0x5f15fd(0x3a2)]['buttonText'],'selectableCount':0x1,'choices':_0x5d7378},'options':{'delay':_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x37f)]}};try{let _0x2dd432=await this[_0x5f15fd(0x4e1)](_0x159890);if(_0x2dd432){let _0x18eafc={'_id':_0x2dd432[_0x5f15fd(0x674)]['id'],'_fromMe':_0x2dd432[_0x5f15fd(0x674)]['fromMe'],'_remoteJid':_0x2dd432[_0x5f15fd(0x674)]['remoteJid']};_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x4ab)]===!0x0&&(_0x3063d9['status']=_0x5f15fd(0x652),this[_0x5f15fd(0x131)][_0x5f15fd(0xc1)](this['instanceName']+'\x20('+this[_0x5f15fd(0x526)][_0x5f15fd(0x547)]+'):\x20conversation.status:\x20'+_0x3063d9['status'])),this[_0x5f15fd(0x131)]['verbose'](this[_0x5f15fd(0x2b3)]+'\x20('+this[_0x5f15fd(0x526)][_0x5f15fd(0x547)]+_0x5f15fd(0x11f)+(_0x1b77e8['uazapi'][_0x5f15fd(0x2f4)]||_0x1b77e8['uazapi'][_0x5f15fd(0x215)])),_0x3063d9[_0x5f15fd(0x4ff)]=_0x2dd432[_0x5f15fd(0x674)]['id'],_0x3063d9[_0x5f15fd(0x5ff)]=_0x1b77e8['uazapi']['name']||_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x215)],_0x3063d9[_0x5f15fd(0x29c)]=_0x14fca4,_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x5bd)]&&(_0x3063d9['waitingMenu_ExpiredMessage']=_0x1b77e8[_0x5f15fd(0x3a2)][_0x5f15fd(0x5bd)]),this['logger'][_0x5f15fd(0xc1)](this[_0x5f15fd(0x2b3)]+'\x20('+this[_0x5f15fd(0x526)][_0x5f15fd(0x547)]+_0x5f15fd(0x3cc)+_0x3063d9['waitingMenu_text']);let _0x3986fe=(0x0,m[_0x5f15fd(0x12c)])(_0x2dd432[_0x5f15fd(0x5e9)]),_0x680c89=(0x0,m[_0x5f15fd(0x5ac)])(_0x3986fe);_0x3063d9['chatLog'][_0x5f15fd(0x64a)]=_0x1b77e8[_0x5f15fd(0x168)]['toString']();let {message_normalized:_0x57e03e}=this[_0x5f15fd(0x22d)](_0x3986fe,_0x680c89,null);_0x3063d9[_0x5f15fd(0x3d5)]['lastSendMessage']=await _0x57e03e;let _0x30a7d8={'messageId':_0x2dd432[_0x5f15fd(0x674)]['id']},_0x8b67ff=_0x3063d9[_0x5f15fd(0x3d5)]['realVariables'];Object['assign'](_0x8b67ff,_0x18eafc),_0x3063d9['chatLog'][_0x5f15fd(0x435)]=_0x8b67ff,this[_0x5f15fd(0x51b)](_0x3063d9,_0x1b77e8,_0x30a7d8);}else{let _0x4463fd={'error':!0x0};this[_0x5f15fd(0x51b)](_0x3063d9,_0x1b77e8,_0x4463fd),this[_0x5f15fd(0x131)][_0x5f15fd(0x32e)](this['instanceName']+'\x20('+this[_0x5f15fd(0x526)][_0x5f15fd(0x547)]+_0x5f15fd(0x164));}}catch(_0xd6ac84){let _0x1098ee={'error':!0x0,'errorLog':_0xd6ac84 instanceof Error?_0xd6ac84[_0x5f15fd(0x5e9)]:JSON[_0x5f15fd(0x5f1)](_0xd6ac84,null,0x2)};this[_0x5f15fd(0x51b)](_0x3063d9,_0x1b77e8,_0x1098ee),this[_0x5f15fd(0x131)][_0x5f15fd(0x32e)](this['instanceName']+'\x20('+this[_0x5f15fd(0x526)]['wuid']+_0x5f15fd(0x40a)+(_0xd6ac84 instanceof Error?_0xd6ac84[_0x5f15fd(0x5e9)]:JSON[_0x5f15fd(0x5f1)](_0xd6ac84,null,0x2)));}}async[a0_0x374876(0x4ef)](_0x543ae3,_0x355c71){const _0x2be32c=a0_0x374876;this[_0x2be32c(0x131)]['verbose'](this[_0x2be32c(0x2b3)]+'\x20('+this[_0x2be32c(0x526)]['wuid']+_0x2be32c(0x6cb));let _0x38840a=_0x543ae3[_0x2be32c(0x3d5)][_0x2be32c(0x595)][_0x2be32c(0x441)](_0x4851da=>_0x4851da[_0x2be32c(0x263)][_0x2be32c(0x5ab)]()===_0x355c71['uazapi']['blockId'][_0x2be32c(0x5ab)]()),_0x306f0f={'id':_0x38840a[_0x2be32c(0x62c)],'remoteJid':_0x38840a['remoteJid'],'fromMe':_0x38840a[_0x2be32c(0x699)]};try{let _0x531e7d=await this[_0x2be32c(0x154)](_0x306f0f);if(_0x531e7d){let _0x1d8b93=(0x0,m[_0x2be32c(0x12c)])(_0x531e7d['message']),_0x57e6c2=(0x0,m['getContentType'])(_0x1d8b93);_0x543ae3[_0x2be32c(0x3d5)][_0x2be32c(0x64a)]=_0x355c71['_id']['toString']();let {message_normalized:_0x14b79c}=this[_0x2be32c(0x22d)](_0x1d8b93,_0x57e6c2,null);_0x543ae3[_0x2be32c(0x3d5)][_0x2be32c(0x268)]=await _0x14b79c;let _0x1974fd={};this[_0x2be32c(0x51b)](_0x543ae3,_0x355c71,_0x1974fd);}else{let _0x4e50bf={'error':!0x0};this['updateConversation'](_0x543ae3,_0x355c71,_0x4e50bf),this['logger']['error'](this[_0x2be32c(0x2b3)]+'\x20('+this['instance'][_0x2be32c(0x547)]+_0x2be32c(0x504));}}catch(_0x1a658e){let _0x1254c2={'error':!0x0,'errorLog':_0x1a658e instanceof Error?_0x1a658e[_0x2be32c(0x5e9)]:JSON[_0x2be32c(0x5f1)](_0x1a658e,null,0x2)};this[_0x2be32c(0x51b)](_0x543ae3,_0x355c71,_0x1254c2),this['logger'][_0x2be32c(0x32e)](this[_0x2be32c(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1a658e instanceof Error?_0x1a658e[_0x2be32c(0x5e9)]:JSON[_0x2be32c(0x5f1)](_0x1a658e,null,0x2)));}}async['createFlow'](_0x1fe8e4){const _0x364c38=a0_0x374876;if(!_0x1fe8e4['name'])throw new w(_0x364c38(0x6c8));if(await this[_0x364c38(0x6e8)]['flow'][_0x364c38(0x108)]({'where':{'name':_0x1fe8e4[_0x364c38(0x2f4)]}},this[_0x364c38(0x526)][_0x364c38(0x547)]))throw new w(_0x364c38(0x340));return'name'in _0x1fe8e4&&_0x364c38(0x3ac)in _0x1fe8e4&&_0x364c38(0x4d5)in _0x1fe8e4&&Object[_0x364c38(0x583)](_0x1fe8e4)['length']===0x3?this[_0x364c38(0x65d)](_0x1fe8e4[_0x364c38(0x4d5)],_0x1fe8e4[_0x364c38(0x3ac)],_0x1fe8e4['name']):this[_0x364c38(0x172)](_0x1fe8e4);}async[a0_0x374876(0x65d)](_0x232ab2,_0x57034c,_0x2cfe22){const _0x17d75a=a0_0x374876;try{this[_0x17d75a(0x131)][_0x17d75a(0xc1)](this[_0x17d75a(0x2b3)]+'\x20('+this[_0x17d75a(0x526)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0xafc3f8=await this[_0x17d75a(0x6e8)]['flow'][_0x17d75a(0x108)]({'where':{'name':_0x2cfe22,'sharePass':_0x57034c}},_0x232ab2);if(!_0xafc3f8)throw new w('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x196df1={..._0xafc3f8};return _0x196df1[_0x17d75a(0x4d5)]=this[_0x17d75a(0x526)][_0x17d75a(0x547)],_0x196df1[_0x17d75a(0x353)]=Array[_0x17d75a(0x1df)](new Set([..._0xafc3f8[_0x17d75a(0x353)]||[],_0xafc3f8[_0x17d75a(0x4d5)],this['instance'][_0x17d75a(0x547)]])),_0xafc3f8[_0x17d75a(0x353)]=_0x196df1[_0x17d75a(0x353)],await this[_0x17d75a(0x6e8)]['flow'][_0x17d75a(0x6fe)](_0xafc3f8['_id'],{'shareOwners':_0xafc3f8[_0x17d75a(0x353)]},_0xafc3f8[_0x17d75a(0x4d5)]),_0xafc3f8[_0x17d75a(0x701)]===!0x0&&await this['repository'][_0x17d75a(0x3e9)]['updateMany']({},{'default':!0x1},this[_0x17d75a(0x526)][_0x17d75a(0x547)]),await this[_0x17d75a(0x6e8)][_0x17d75a(0x3e9)][_0x17d75a(0x20e)](_0x196df1,this[_0x17d75a(0x526)][_0x17d75a(0x547)]);}catch(_0x55d2f0){throw this['logger'][_0x17d75a(0x32e)](this[_0x17d75a(0x2b3)]+'\x20('+this['instance'][_0x17d75a(0x547)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x55d2f0),new w(_0x17d75a(0x28a)+_0x55d2f0);}}async['createRegularFlow'](_0xf13656){const _0x47dbb4=a0_0x374876;try{this[_0x47dbb4(0x131)][_0x47dbb4(0xc1)](this[_0x47dbb4(0x2b3)]+'\x20('+this[_0x47dbb4(0x526)]['wuid']+'):\x20Criando\x20fluxo\x20regular...'),delete _0xf13656[_0x47dbb4(0x353)],delete _0xf13656[_0x47dbb4(0x3ac)],delete _0xf13656[_0x47dbb4(0x4d5)],_0xf13656[_0x47dbb4(0x701)]===!0x0&&await this[_0x47dbb4(0x6e8)]['flow'][_0x47dbb4(0x5de)]({},{'default':!0x1},this['instance'][_0x47dbb4(0x547)]);let _0x5d39d5=new ne[(_0x47dbb4(0x2b0))][(_0x47dbb4(0x705))](),_0x13da28={'_id':_0x5d39d5,'default':!0x0,'title':_0x47dbb4(0x5b8),'x':0x0,'y':0x0},_0x3d7d6c={'_id':new ne[(_0x47dbb4(0x2b0))]['ObjectId'](),'order':0x1,'groupId':_0x5d39d5['toString'](),'type':'start'},_0x17a8ad={'_id':new ne['Types']['ObjectId'](),'owner':this['instance'][_0x47dbb4(0x547)],'name':_0xf13656[_0x47dbb4(0x2f4)],'groups':[_0x13da28],'blocks':[_0x3d7d6c],..._0xf13656};return await this[_0x47dbb4(0x6e8)][_0x47dbb4(0x3e9)]['createAndSave'](_0x17a8ad,this[_0x47dbb4(0x526)][_0x47dbb4(0x547)]);}catch(_0x376ff3){throw this[_0x47dbb4(0x131)][_0x47dbb4(0x32e)](this[_0x47dbb4(0x2b3)]+'\x20('+this[_0x47dbb4(0x526)][_0x47dbb4(0x547)]+_0x47dbb4(0x631)+_0x376ff3),new w('Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x376ff3);}}async[a0_0x374876(0x52b)](_0x464508,_0x3b812f){const _0x234319=a0_0x374876;try{let _0x58b7af=await this['repository'][_0x234319(0x3e9)][_0x234319(0x108)]({'where':{'_id':_0x464508}},_0x3b812f);if(_0x58b7af&&_0x58b7af[_0x234319(0x353)]){for(let _0x57ef37 of _0x58b7af[_0x234319(0x353)])if(_0x57ef37!==_0x3b812f){let _0x5389d7={..._0x58b7af,'owner':_0x57ef37};await this[_0x234319(0x6e8)][_0x234319(0x3e9)]['replaceOne'](_0x464508,_0x5389d7,_0x57ef37);}}}catch(_0x1104f3){this[_0x234319(0x131)][_0x234319(0x32e)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x1104f3);}}async[a0_0x374876(0x6f9)](_0x670b62){const _0x152f33=a0_0x374876;try{this['logger'][_0x152f33(0xc1)](this[_0x152f33(0x2b3)]+'\x20('+this[_0x152f33(0x526)]['wuid']+_0x152f33(0x21f));let _0x4ef95b=await this['repository'][_0x152f33(0x3e9)]['findOne']({'where':{'name':_0x670b62}},this[_0x152f33(0x526)][_0x152f33(0x547)]);if(_0x4ef95b&&_0x4ef95b['shareOwners']&&_0x4ef95b[_0x152f33(0x353)][_0x152f33(0x6ea)]>0x1){for(let _0x22586b of _0x4ef95b[_0x152f33(0x353)])if(_0x22586b!==this[_0x152f33(0x526)][_0x152f33(0x547)]){let _0x2668ae=await this[_0x152f33(0x6e8)][_0x152f33(0x3e9)]['findOne']({'where':{'sharePass':_0x4ef95b[_0x152f33(0x3ac)]}},_0x22586b);_0x2668ae&&(_0x2668ae[_0x152f33(0x353)]=_0x2668ae['shareOwners'][_0x152f33(0x4ed)](_0x2adfdc=>_0x2adfdc!==_0x4ef95b[_0x152f33(0x4d5)]),await this[_0x152f33(0x6e8)]['flow'][_0x152f33(0x6fe)](_0x2668ae['_id'],{'shareOwners':_0x2668ae['shareOwners']},_0x22586b));}}return await this[_0x152f33(0x6e8)][_0x152f33(0x3e9)][_0x152f33(0x6f6)]({'where':{'name':_0x670b62}},this[_0x152f33(0x526)][_0x152f33(0x547)]);}catch(_0x23e5df){return this[_0x152f33(0x131)][_0x152f33(0x32e)](this[_0x152f33(0x2b3)]+'\x20('+this[_0x152f33(0x526)][_0x152f33(0x547)]+_0x152f33(0x48b)+(_0x23e5df instanceof Error?_0x23e5df['message']:JSON[_0x152f33(0x5f1)](_0x23e5df,null,0x2))),{'message':_0x152f33(0x17b)+_0x23e5df};}}async[a0_0x374876(0x402)](_0x30dd22){const _0x53e4c5=a0_0x374876;try{this[_0x53e4c5(0x131)][_0x53e4c5(0xc1)](this[_0x53e4c5(0x2b3)]+'\x20('+this[_0x53e4c5(0x526)][_0x53e4c5(0x547)]+'):\x20Buscando\x20flow...');let _0x55e379=await this['repository']['flow'][_0x53e4c5(0x108)]({'where':{'name':_0x30dd22}},this[_0x53e4c5(0x526)][_0x53e4c5(0x547)]);if(!_0x55e379)throw new Error(_0x53e4c5(0x2a0));if(!this[_0x53e4c5(0x109)]&&(await this[_0x53e4c5(0x4b4)](),!this[_0x53e4c5(0x109)]))return null;let _0x5d3b3e=this[_0x53e4c5(0x109)]?.[_0x53e4c5(0x74b)][_0x53e4c5(0x675)](_0x1ef557=>_0x1ef557[_0x53e4c5(0x2f4)]),_0x42daa2=[_0x53e4c5(0x408),_0x53e4c5(0x45c),_0x53e4c5(0x564),_0x53e4c5(0x1ba),_0x53e4c5(0x3d2),_0x53e4c5(0x13c),_0x53e4c5(0x2e3),_0x53e4c5(0x3dd),_0x53e4c5(0x2c5)];_0x55e379['variables']=_0x55e379[_0x53e4c5(0x492)][_0x53e4c5(0x4ed)](_0x5d8c75=>!(_0x5d8c75[_0x53e4c5(0x313)]===_0x53e4c5(0x4bd)||_0x5d8c75[_0x53e4c5(0x4bd)])),_0x42daa2[_0x53e4c5(0x489)](_0x55f891=>{const _0x27395b=_0x53e4c5;_0x55e379['variables'][_0x27395b(0x36f)]({'folder':_0x27395b(0x4bd),'name':_0x55f891,'value':'','doc':'','leadInfo':!0x0});}),_0x5d3b3e['forEach'](_0x382725=>{const _0x52c999=_0x53e4c5;let _0x4723db=_0x55e379[_0x52c999(0x492)]['findIndex'](_0x36090f=>_0x36090f['name']===_0x382725);_0x4723db===-0x1?_0x55e379[_0x52c999(0x492)][_0x52c999(0x36f)]({'folder':_0x52c999(0x4bd),'name':_0x382725,'value':'','doc':'','leadInfo':!0x0}):(_0x55e379[_0x52c999(0x492)][_0x4723db][_0x52c999(0x313)]='leadInfo',_0x55e379[_0x52c999(0x492)][_0x4723db][_0x52c999(0x4bd)]=!0x0);}),_0x55e379['blocks']&&_0x55e379[_0x53e4c5(0x6a9)][_0x53e4c5(0x6ea)]>0x0&&_0x55e379[_0x53e4c5(0x6a9)][_0x53e4c5(0x489)](_0xba7dd8=>{const _0x4ce1d5=_0x53e4c5;_0xba7dd8[_0x4ce1d5(0x4cd)]&&_0xba7dd8['next_groupId']&&_0xba7dd8['groupId']===_0xba7dd8[_0x4ce1d5(0x264)]&&(_0xba7dd8['next_groupId']=null);});let _0x3040e1=await this['repository']['flow'][_0x53e4c5(0x6fe)](_0x55e379[_0x53e4c5(0x168)],_0x55e379,this['instance']['wuid']);if(!_0x3040e1)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3040e1;}catch(_0xf099b3){throw this[_0x53e4c5(0x131)]['error'](this[_0x53e4c5(0x2b3)]+'\x20('+this[_0x53e4c5(0x526)][_0x53e4c5(0x547)]+_0x53e4c5(0x4cc)+(_0xf099b3 instanceof Error?_0xf099b3['message']:JSON['stringify'](_0xf099b3,null,0x2))),new w('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0xf099b3);}}async['allFlows'](){const _0x5a04dd=a0_0x374876;try{return this[_0x5a04dd(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x5a04dd(0x526)][_0x5a04dd(0x547)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x5a04dd(0x6e8)][_0x5a04dd(0x3e9)]['updateMissingShareOwners'](this[_0x5a04dd(0x526)]['wuid']),await this[_0x5a04dd(0x6e8)][_0x5a04dd(0x3e9)][_0x5a04dd(0x53b)]({'where':{}},this[_0x5a04dd(0x526)]['wuid']);}catch(_0x2cf0c0){return this[_0x5a04dd(0x131)][_0x5a04dd(0x32e)](this['instanceName']+'\x20('+this[_0x5a04dd(0x526)][_0x5a04dd(0x547)]+_0x5a04dd(0x2b4)+(_0x2cf0c0 instanceof Error?_0x2cf0c0['message']:JSON[_0x5a04dd(0x5f1)](_0x2cf0c0,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x2cf0c0};}}async[a0_0x374876(0x4f5)](_0x58ceca){const _0x5b70fe=a0_0x374876;try{this[_0x5b70fe(0x131)][_0x5b70fe(0xc1)](this[_0x5b70fe(0x2b3)]+'\x20('+this[_0x5b70fe(0x526)][_0x5b70fe(0x547)]+_0x5b70fe(0x24a));let _0x10d459=await this[_0x5b70fe(0x6e8)]['flow']['findOne']({'where':{'name':_0x58ceca[_0x5b70fe(0x2f4)]}},this['instance']['wuid']);if(!_0x10d459)return{'message':_0x5b70fe(0x738)};_0x58ceca['default']===!0x0&&await this[_0x5b70fe(0x6e8)][_0x5b70fe(0x3e9)][_0x5b70fe(0x5de)]({},{'default':!0x1},this['instance'][_0x5b70fe(0x547)]),delete _0x58ceca['shareOwners'],delete _0x58ceca[_0x5b70fe(0x3ac)];let _0x1c72c4=await this['repository'][_0x5b70fe(0x3e9)]['updateOne'](_0x10d459[_0x5b70fe(0x168)],_0x58ceca,this[_0x5b70fe(0x526)][_0x5b70fe(0x547)]);return _0x1c72c4&&_0x1c72c4[_0x5b70fe(0x353)]&&_0x1c72c4['shareOwners'][_0x5b70fe(0x6ea)]>0x1&&this[_0x5b70fe(0x52b)](_0x1c72c4[_0x5b70fe(0x168)],this[_0x5b70fe(0x526)][_0x5b70fe(0x547)]),_0x1c72c4;}catch(_0x4e223d){throw this[_0x5b70fe(0x131)][_0x5b70fe(0x32e)](this[_0x5b70fe(0x2b3)]+'\x20('+this['instance'][_0x5b70fe(0x547)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x4e223d instanceof Error?_0x4e223d[_0x5b70fe(0x5e9)]:JSON['stringify'](_0x4e223d,null,0x2))),new w('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x4e223d instanceof Error?_0x4e223d[_0x5b70fe(0x5e9)]:JSON[_0x5b70fe(0x5f1)](_0x4e223d,null,0x2)));}}async['editFlowBlock'](_0x4d07){const _0x293196=a0_0x374876;try{this[_0x293196(0x131)][_0x293196(0xc1)](this[_0x293196(0x2b3)]+'\x20('+this['instance'][_0x293196(0x547)]+_0x293196(0xe6));let _0x3a1a22=await this['repository'][_0x293196(0x3e9)][_0x293196(0x108)]({'where':{'name':_0x4d07[_0x293196(0x2f4)]}},this[_0x293196(0x526)][_0x293196(0x547)]);_0x3a1a22||this['throwAndLogError'](_0x293196(0x2a0));let {block:_0x7f27ef}=_0x4d07;_0x7f27ef?.[_0x293196(0x191)]?this[_0x293196(0x624)](_0x3a1a22,_0x4d07):_0x7f27ef?.['delete']?this[_0x293196(0x433)](_0x3a1a22,_0x4d07):_0x7f27ef[_0x293196(0x168)]?await this[_0x293196(0x2c4)](_0x3a1a22,_0x4d07):this[_0x293196(0xf4)](_0x3a1a22,_0x4d07);let _0x4eb9fc=await this[_0x293196(0x6e8)]['flow'][_0x293196(0x6fe)](_0x3a1a22[_0x293196(0x168)],_0x3a1a22,this['instance'][_0x293196(0x547)]);if(_0x4eb9fc&&_0x4eb9fc[_0x293196(0x353)]&&_0x4eb9fc[_0x293196(0x353)]['length']>0x1&&this['synchronizeFlows'](_0x4eb9fc[_0x293196(0x168)],this[_0x293196(0x526)][_0x293196(0x547)]),!_0x4eb9fc)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4eb9fc;}catch(_0xb26141){this[_0x293196(0x57c)](_0x293196(0xde)+_0xb26141);}}async[a0_0x374876(0x624)](_0x9cf91b,_0x2e14de){const _0x15f609=a0_0x374876;let _0x441ae8=_0x2e14de['block'][_0x15f609(0x168)],_0x29c8f9=_0x9cf91b['blocks']['find'](_0x3f9c0f=>_0x3f9c0f[_0x15f609(0x168)][_0x15f609(0x5ab)]()===_0x441ae8);if(!_0x29c8f9){this['logger'][_0x15f609(0x32e)](this['instanceName']+'\x20('+this[_0x15f609(0x526)][_0x15f609(0x547)]+_0x15f609(0x73a)+_0x441ae8+_0x15f609(0x3ce));return;}this[_0x15f609(0x131)][_0x15f609(0xc1)](this[_0x15f609(0x2b3)]+'\x20('+this[_0x15f609(0x526)]['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x15f609(0x5f1)](_0x29c8f9));let _0x582d4a=JSON[_0x15f609(0x601)](JSON[_0x15f609(0x5f1)](_0x29c8f9));_0x582d4a['_id']=new ne[(_0x15f609(0x701))][(_0x15f609(0x2b0))][(_0x15f609(0x705))](),this[_0x15f609(0x131)][_0x15f609(0xc1)](this[_0x15f609(0x2b3)]+'\x20('+this['instance'][_0x15f609(0x547)]+_0x15f609(0x60b)+JSON[_0x15f609(0x5f1)](_0x582d4a)),_0x9cf91b['blocks'][_0x15f609(0x36f)](_0x582d4a),this[_0x15f609(0x229)](_0x9cf91b['blocks'],_0x582d4a[_0x15f609(0x4cd)]);}[a0_0x374876(0x57c)](_0x250340){const _0x30e2ae=a0_0x374876;throw this[_0x30e2ae(0x131)]['error'](this[_0x30e2ae(0x2b3)]+'\x20('+this[_0x30e2ae(0x526)][_0x30e2ae(0x547)]+_0x30e2ae(0x1c6)+_0x250340),new w(_0x250340);}[a0_0x374876(0x433)](_0x559d7,_0x5b1191){const _0x58d2c8=a0_0x374876;let {block:_0x28fc5e}=_0x5b1191;if(_0x28fc5e[_0x58d2c8(0x575)]===_0x58d2c8(0x549)){this[_0x58d2c8(0x57c)](_0x58d2c8(0x573));return;}if(!_0x28fc5e['_id']){this[_0x58d2c8(0x57c)](_0x58d2c8(0x1f0));return;}let _0x431cd7=_0x559d7[_0x58d2c8(0x6a9)][_0x58d2c8(0x441)](_0x1ff58c=>_0x1ff58c[_0x58d2c8(0x168)][_0x58d2c8(0x5ab)]()===_0x5b1191[_0x58d2c8(0x5d7)][_0x58d2c8(0x168)][_0x58d2c8(0x5ab)]());if(!_0x431cd7){this['throwAndLogError'](_0x58d2c8(0x307)+_0x28fc5e[_0x58d2c8(0x168)]+_0x58d2c8(0x12f));return;}_0x559d7['blocks']=_0x559d7[_0x58d2c8(0x6a9)]['filter'](_0x1508ae=>_0x1508ae[_0x58d2c8(0x168)]['toString']()!==_0x5b1191[_0x58d2c8(0x5d7)]['_id']['toString']()),_0x559d7[_0x58d2c8(0x255)]=_0x559d7[_0x58d2c8(0x255)][_0x58d2c8(0x4ed)](_0x4758fa=>_0x4758fa[_0x58d2c8(0x263)]!==_0x28fc5e[_0x58d2c8(0x168)][_0x58d2c8(0x5ab)]()),_0x559d7[_0x58d2c8(0x1d3)]=_0x559d7['varedits'][_0x58d2c8(0x4ed)](_0x32447c=>_0x32447c['blockId']!==_0x28fc5e[_0x58d2c8(0x168)][_0x58d2c8(0x5ab)]()),_0x559d7[_0x58d2c8(0x618)]=_0x559d7[_0x58d2c8(0x618)]['filter'](_0x18dc99=>_0x18dc99[_0x58d2c8(0x263)]!==_0x28fc5e[_0x58d2c8(0x168)][_0x58d2c8(0x5ab)]()),this['reorderBlocks'](_0x559d7[_0x58d2c8(0x6a9)],_0x431cd7[_0x58d2c8(0x4cd)]);}async[a0_0x374876(0x2c4)](_0x1bc024,_0x57992d){const _0x2631db=a0_0x374876;let _0x10a50c=_0x1bc024[_0x2631db(0x6a9)][_0x2631db(0x1eb)](_0x4cbad5=>_0x4cbad5[_0x2631db(0x168)]['toString']()===_0x57992d[_0x2631db(0x5d7)][_0x2631db(0x168)][_0x2631db(0x5ab)]());if(this[_0x2631db(0x131)][_0x2631db(0xc1)](this['instanceName']+'\x20('+this[_0x2631db(0x526)][_0x2631db(0x547)]+_0x2631db(0x69f)+_0x10a50c),_0x10a50c===-0x1){this[_0x2631db(0x131)][_0x2631db(0xc1)](_0x2631db(0x307)+_0x57992d['block'][_0x2631db(0x168)]+_0x2631db(0x23b));return;}if(_0x1bc024[_0x2631db(0x6a9)][_0x10a50c][_0x2631db(0x575)]===_0x2631db(0x549)){let _0x37ecc7=Object[_0x2631db(0x583)](_0x57992d[_0x2631db(0x5d7)]);if(_0x37ecc7['length']>0x2||_0x37ecc7[_0x2631db(0x6ea)]===0x2&&!_0x37ecc7['includes'](_0x2631db(0x264))){this[_0x2631db(0x57c)](_0x2631db(0x2da));return;}}let _0x504c1e=_0x1bc024['blocks'][_0x10a50c][_0x2631db(0x4cd)];for(let _0x3a7016 in _0x57992d[_0x2631db(0x5d7)])_0x57992d['block']['hasOwnProperty'](_0x3a7016)&&(_0x1bc024['blocks'][_0x10a50c][_0x3a7016]=_0x57992d['block'][_0x3a7016]);if(this[_0x2631db(0x131)][_0x2631db(0xc1)](this['instanceName']+'\x20('+this[_0x2631db(0x526)][_0x2631db(0x547)]+_0x2631db(0x65e)+JSON[_0x2631db(0x5f1)](_0x1bc024[_0x2631db(0x6a9)][_0x10a50c])),_0x1bc024[_0x2631db(0x6a9)][_0x10a50c]['apirequest']&&_0x2631db(0x41e)in _0x1bc024[_0x2631db(0x6a9)][_0x10a50c]['apirequest']){this[_0x2631db(0x131)][_0x2631db(0xc1)](this[_0x2631db(0x2b3)]+'\x20('+this['instance'][_0x2631db(0x547)]+_0x2631db(0xcc));let _0x51bbf0=JSON['stringify'](_0x1bc024[_0x2631db(0x6a9)][_0x10a50c]['apirequest']['header'],null,0x1);_0x51bbf0['length']>0x2&&(_0x51bbf0=_0x51bbf0['substring'](0x1,_0x51bbf0['length']-0x1)[_0x2631db(0x3ba)]()),_0x1bc024[_0x2631db(0x6a9)][_0x10a50c][_0x2631db(0x615)][_0x2631db(0x417)]=_0x51bbf0;}if(_0x1bc024[_0x2631db(0x6a9)][_0x10a50c][_0x2631db(0x615)]&&_0x2631db(0x180)in _0x1bc024[_0x2631db(0x6a9)][_0x10a50c]['apirequest']){this[_0x2631db(0x131)][_0x2631db(0xc1)](this[_0x2631db(0x2b3)]+'\x20('+this['instance'][_0x2631db(0x547)]+_0x2631db(0x147));let _0x234567=JSON[_0x2631db(0x5f1)](_0x1bc024['blocks'][_0x10a50c][_0x2631db(0x615)]['body'],null,0x1);_0x234567['length']>0x2&&(_0x234567=_0x234567[_0x2631db(0x4d6)](0x1,_0x234567[_0x2631db(0x6ea)]-0x1)[_0x2631db(0x3ba)]()),_0x1bc024[_0x2631db(0x6a9)][_0x10a50c][_0x2631db(0x615)][_0x2631db(0x4cf)]=_0x234567;}let _0x221e7e=_0x1bc024[_0x2631db(0x6a9)][_0x10a50c]['groupId'];_0x504c1e!==_0x221e7e?(this['reorderBlocks'](_0x1bc024['blocks'],_0x504c1e),this[_0x2631db(0x229)](_0x1bc024[_0x2631db(0x6a9)],_0x221e7e)):this['reorderBlocks'](_0x1bc024[_0x2631db(0x6a9)],_0x504c1e);}['addBlock'](_0x45059d,_0x55d2bb){const _0x1b87c4=a0_0x374876;if(_0x55d2bb['block'][_0x1b87c4(0x575)]===_0x1b87c4(0x549)){this[_0x1b87c4(0x57c)](_0x1b87c4(0x15c));return;}if(_0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x615)]&&_0x1b87c4(0x41e)in _0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x615)]){this['logger'][_0x1b87c4(0xc1)](this[_0x1b87c4(0x2b3)]+'\x20('+this[_0x1b87c4(0x526)][_0x1b87c4(0x547)]+_0x1b87c4(0xcc));let _0x1c785c=JSON[_0x1b87c4(0x5f1)](_0x55d2bb['block'][_0x1b87c4(0x615)][_0x1b87c4(0x41e)],null,0x1);_0x1c785c[_0x1b87c4(0x6ea)]>0x2&&(_0x1c785c=_0x1c785c['substring'](0x1,_0x1c785c['length']-0x1)[_0x1b87c4(0x3ba)]()),_0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x615)][_0x1b87c4(0x417)]=_0x1c785c;}_0x55d2bb[_0x1b87c4(0x5d7)]['apirequest']&&_0x1b87c4(0x180)in _0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x615)]&&(this[_0x1b87c4(0x131)]['verbose'](this[_0x1b87c4(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x615)][_0x1b87c4(0x4cf)]=JSON[_0x1b87c4(0x5f1)](_0x55d2bb['block'][_0x1b87c4(0x615)][_0x1b87c4(0x180)],null,0x1)[_0x1b87c4(0x3ba)]()),_0x45059d[_0x1b87c4(0x6a9)][_0x1b87c4(0x36f)](_0x55d2bb[_0x1b87c4(0x5d7)]),this[_0x1b87c4(0x229)](_0x45059d[_0x1b87c4(0x6a9)],_0x55d2bb[_0x1b87c4(0x5d7)][_0x1b87c4(0x4cd)]);}[a0_0x374876(0x229)](_0x37853a,_0x3e4be2){const _0x5edabf=a0_0x374876;let _0x1bfdac=_0x37853a[_0x5edabf(0x4ed)](_0x473ffc=>_0x473ffc['groupId']===_0x3e4be2);_0x1bfdac['sort']((_0xdd9ea8,_0x142b8d)=>_0xdd9ea8[_0x5edabf(0x49d)]-_0x142b8d[_0x5edabf(0x49d)]),_0x1bfdac[_0x5edabf(0x489)]((_0x30113b,_0x492abc)=>_0x30113b[_0x5edabf(0x49d)]=_0x492abc+0x1);}async['editFlowReply'](_0x5b1b69){const _0x5269c8=a0_0x374876;try{if(this[_0x5269c8(0x131)][_0x5269c8(0xc1)](this[_0x5269c8(0x2b3)]+'\x20('+this[_0x5269c8(0x526)][_0x5269c8(0x547)]+_0x5269c8(0x275)),!_0x5b1b69||!_0x5b1b69['replyOption']){this[_0x5269c8(0x57c)](_0x5269c8(0x5f8));return;}let _0xa300f5=await this[_0x5269c8(0x6e8)][_0x5269c8(0x3e9)]['findOne']({'where':{'name':_0x5b1b69[_0x5269c8(0x2f4)]}},this['instance'][_0x5269c8(0x547)]);_0xa300f5||this[_0x5269c8(0x57c)]('Flow\x20não\x20encontrado');let {replyOption:_0x1b1d6e}=_0x5b1b69;_0x1b1d6e?.['delete']?(this[_0x5269c8(0x5d3)](_0xa300f5,_0x5b1b69),this[_0x5269c8(0x698)](_0xa300f5['replyOptions'],_0x5b1b69[_0x5269c8(0x2d7)][_0x5269c8(0x263)])):_0x1b1d6e[_0x5269c8(0x168)]?(await this[_0x5269c8(0x597)](_0xa300f5,_0x5b1b69),this[_0x5269c8(0x698)](_0xa300f5['replyOptions'],_0x5b1b69[_0x5269c8(0x2d7)][_0x5269c8(0x263)])):(this[_0x5269c8(0x14a)](_0xa300f5,_0x5b1b69),this[_0x5269c8(0x698)](_0xa300f5[_0x5269c8(0x618)],_0x5b1b69[_0x5269c8(0x2d7)][_0x5269c8(0x263)]));let _0x105d6c=await this[_0x5269c8(0x6e8)][_0x5269c8(0x3e9)][_0x5269c8(0x6fe)](_0xa300f5[_0x5269c8(0x168)],_0xa300f5,this[_0x5269c8(0x526)]['wuid']);if(_0x105d6c&&_0x105d6c[_0x5269c8(0x353)]&&_0x105d6c[_0x5269c8(0x353)]['length']>0x1&&this[_0x5269c8(0x52b)](_0x105d6c[_0x5269c8(0x168)],this[_0x5269c8(0x526)][_0x5269c8(0x547)]),!_0x105d6c)throw new Error(_0x5269c8(0x51c));return _0x105d6c;}catch(_0x4b8751){this[_0x5269c8(0x57c)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x4b8751);}}[a0_0x374876(0x698)](_0x151173,_0x247c13){const _0x3901d4=a0_0x374876;console['log']('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x247c13),_0x151173[_0x3901d4(0x489)](_0x16819d=>{const _0x3fc0ab=_0x3901d4;_0x16819d[_0x3fc0ab(0x263)]===_0x247c13&&_0x16819d[_0x3fc0ab(0x49d)]===void 0x0&&(_0x16819d[_0x3fc0ab(0x49d)]=0x270f);});let _0x572f33=_0x151173[_0x3901d4(0x4ed)](_0x3ddd8c=>_0x3ddd8c[_0x3901d4(0x263)]===_0x247c13);_0x572f33[_0x3901d4(0x1ab)]((_0x496d18,_0x2774b6)=>_0x496d18['order']-_0x2774b6[_0x3901d4(0x49d)]),_0x572f33[_0x3901d4(0x489)]((_0x5945c9,_0x533319)=>{const _0x16351f=_0x3901d4;_0x5945c9[_0x16351f(0x49d)]=_0x533319+0x1;}),_0x151173[_0x3901d4(0x489)](_0x40b3dc=>{const _0x9668c0=_0x3901d4;if(_0x40b3dc[_0x9668c0(0x263)]===_0x247c13){let _0x5014fd=_0x572f33['find'](_0x358449=>_0x358449[_0x9668c0(0x168)]&&_0x40b3dc[_0x9668c0(0x168)]&&_0x358449[_0x9668c0(0x168)]['toString']()===_0x40b3dc[_0x9668c0(0x168)][_0x9668c0(0x5ab)]());_0x5014fd&&(_0x40b3dc[_0x9668c0(0x49d)]=_0x5014fd[_0x9668c0(0x49d)]);}}),console[_0x3901d4(0x201)](_0x3901d4(0x1fa),_0x151173);}[a0_0x374876(0x5d3)](_0xad694e,_0x1a8a58){const _0x58f267=a0_0x374876;let {replyOption:_0x2144c4}=_0x1a8a58;if(!_0x2144c4['_id']){this['throwAndLogError'](_0x58f267(0x310));return;}if(!_0xad694e[_0x58f267(0x618)][_0x58f267(0x441)](_0x1422c2=>_0x1422c2['_id'][_0x58f267(0x5ab)]()===_0x1a8a58[_0x58f267(0x2d7)][_0x58f267(0x168)][_0x58f267(0x5ab)]())){this[_0x58f267(0x57c)]('ReplyOption\x20com\x20ID\x20'+_0x2144c4[_0x58f267(0x168)]+_0x58f267(0x12f));return;}_0xad694e[_0x58f267(0x618)]=_0xad694e[_0x58f267(0x618)][_0x58f267(0x4ed)](_0x17bceb=>_0x17bceb['_id'][_0x58f267(0x5ab)]()!==_0x1a8a58['replyOption'][_0x58f267(0x168)][_0x58f267(0x5ab)]());}async['updateReplyOption'](_0x2d7d34,_0x1f2d66){const _0x313647=a0_0x374876;let _0x9ae608=_0x2d7d34['replyOptions']['findIndex'](_0x466d5b=>_0x466d5b[_0x313647(0x168)][_0x313647(0x5ab)]()===_0x1f2d66['replyOption'][_0x313647(0x168)][_0x313647(0x5ab)]());if(_0x9ae608===-0x1){this[_0x313647(0x57c)](_0x313647(0x177)+_0x1f2d66['replyOption']['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x34e3c3 in _0x1f2d66['replyOption'])_0x1f2d66[_0x313647(0x2d7)]['hasOwnProperty'](_0x34e3c3)&&(_0x2d7d34[_0x313647(0x618)][_0x9ae608][_0x34e3c3]=_0x1f2d66[_0x313647(0x2d7)][_0x34e3c3]);}[a0_0x374876(0x14a)](_0x153f46,_0x2c5f10){const _0x45f477=a0_0x374876;_0x153f46[_0x45f477(0x618)]['push'](_0x2c5f10[_0x45f477(0x2d7)]);}async[a0_0x374876(0x3cd)](_0x1c16c2){const _0x11b845=a0_0x374876;this['logger'][_0x11b845(0xc1)](this[_0x11b845(0x2b3)]+'\x20('+this[_0x11b845(0x526)][_0x11b845(0x547)]+_0x11b845(0x3b0)+_0x1c16c2);try{this['logger'][_0x11b845(0xc1)](this['instanceName']+'\x20('+this[_0x11b845(0x526)][_0x11b845(0x547)]+_0x11b845(0x6b7));let _0x88d5ff=await this[_0x11b845(0x6e8)][_0x11b845(0x3e9)][_0x11b845(0x108)]({'where':{'name':_0x1c16c2[_0x11b845(0x2f4)]}},this[_0x11b845(0x526)][_0x11b845(0x547)]);if(!_0x88d5ff)throw new Error(_0x11b845(0x2a0));if(_0x1c16c2[_0x11b845(0x26b)]&&_0x1c16c2[_0x11b845(0x26b)]?.[_0x11b845(0x454)]===!0x0){if(this['logger'][_0x11b845(0xc1)](this[_0x11b845(0x2b3)]+'\x20('+this[_0x11b845(0x526)][_0x11b845(0x547)]+_0x11b845(0x6ee)),_0x1c16c2[_0x11b845(0x26b)][_0x11b845(0x701)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x88d5ff[_0x11b845(0x6a9)][_0x11b845(0x332)](_0x5d93cb=>_0x5d93cb[_0x11b845(0x4cd)][_0x11b845(0x5ab)]()===_0x1c16c2[_0x11b845(0x26b)][_0x11b845(0x168)]))return this[_0x11b845(0x131)][_0x11b845(0xc1)](this[_0x11b845(0x2b3)]+'\x20('+this['instance'][_0x11b845(0x547)]+_0x11b845(0x2ba)),{'message':_0x11b845(0x26a)};_0x88d5ff[_0x11b845(0x30a)]=_0x88d5ff['groups'][_0x11b845(0x4ed)](_0x4ac806=>_0x4ac806['_id'][_0x11b845(0x5ab)]()!==_0x1c16c2['group'][_0x11b845(0x168)]);}else{if(_0x1c16c2[_0x11b845(0x26b)]){if(_0x1c16c2[_0x11b845(0x26b)][_0x11b845(0x701)]===!0x0)return{'message':_0x11b845(0xe2)};if(_0x1c16c2[_0x11b845(0x26b)][_0x11b845(0x168)]){let _0x484e24=_0x88d5ff[_0x11b845(0x30a)]['find'](_0x22bc39=>_0x22bc39[_0x11b845(0x168)]['toString']()===_0x1c16c2[_0x11b845(0x26b)][_0x11b845(0x168)]);_0x484e24&&(_0x1c16c2['group']['x']<0x0&&(_0x1c16c2[_0x11b845(0x26b)]['x']=0x0),_0x1c16c2['group']['y']<0x0&&(_0x1c16c2[_0x11b845(0x26b)]['y']=0x0),Object[_0x11b845(0x598)](_0x484e24,_0x1c16c2[_0x11b845(0x26b)]));}else _0x88d5ff['groups'][_0x11b845(0x36f)](_0x1c16c2[_0x11b845(0x26b)]);}}let _0x3a5ba4=await this[_0x11b845(0x6e8)][_0x11b845(0x3e9)]['updateOne'](_0x88d5ff['_id'],_0x88d5ff,this[_0x11b845(0x526)][_0x11b845(0x547)]);if(_0x3a5ba4&&_0x3a5ba4[_0x11b845(0x353)]&&_0x3a5ba4[_0x11b845(0x353)][_0x11b845(0x6ea)]>0x1&&this[_0x11b845(0x52b)](_0x3a5ba4[_0x11b845(0x168)],this[_0x11b845(0x526)]['wuid']),!_0x3a5ba4)throw new Error(_0x11b845(0x51c));return _0x3a5ba4;}catch(_0x1ece94){throw this['logger']['error'](this[_0x11b845(0x2b3)]+'\x20('+this['instance'][_0x11b845(0x547)]+_0x11b845(0x460)+(_0x1ece94 instanceof Error?_0x1ece94[_0x11b845(0x5e9)]:JSON[_0x11b845(0x5f1)](_0x1ece94,null,0x2))),new w(_0x11b845(0x2ca)+(_0x1ece94 instanceof Error?_0x1ece94[_0x11b845(0x5e9)]:JSON[_0x11b845(0x5f1)](_0x1ece94,null,0x2)));}}async[a0_0x374876(0x33c)](_0x4f746d){const _0xab2f97=a0_0x374876;try{this[_0xab2f97(0x131)][_0xab2f97(0xc1)](this['instanceName']+'\x20('+this[_0xab2f97(0x526)][_0xab2f97(0x547)]+_0xab2f97(0x1cc));let _0x257626=await this[_0xab2f97(0x6e8)][_0xab2f97(0x3e9)][_0xab2f97(0x108)]({'where':{'name':_0x4f746d[_0xab2f97(0x2f4)]}},this['instance']['wuid']);if(!_0x257626)throw new Error(_0xab2f97(0x2a0));let _0x5f4405=!0x1;if(_0x4f746d[_0xab2f97(0x5e3)]?.[_0xab2f97(0x454)]===!0x0)_0x257626[_0xab2f97(0x255)]=_0x257626[_0xab2f97(0x255)][_0xab2f97(0x4ed)](_0x5e393d=>_0x5e393d&&_0x4f746d[_0xab2f97(0x5e3)]&&_0x5e393d[_0xab2f97(0x168)]&&_0x4f746d[_0xab2f97(0x5e3)][_0xab2f97(0x168)]&&_0x5e393d[_0xab2f97(0x168)][_0xab2f97(0x5ab)]()!==_0x4f746d[_0xab2f97(0x5e3)]['_id']['toString']()),_0x5f4405=!0x0;else{let _0x335084=_0x257626['conditions'][_0xab2f97(0x441)](_0x3eb702=>_0x3eb702&&_0x4f746d[_0xab2f97(0x5e3)]&&_0x3eb702['_id']&&_0x4f746d[_0xab2f97(0x5e3)][_0xab2f97(0x168)]&&_0x3eb702[_0xab2f97(0x168)][_0xab2f97(0x5ab)]()===_0x4f746d[_0xab2f97(0x5e3)][_0xab2f97(0x168)][_0xab2f97(0x5ab)]());_0x335084?(_0x5f4405=_0x335084[_0xab2f97(0x49d)]!==_0x4f746d['condition'][_0xab2f97(0x49d)],Object[_0xab2f97(0x598)](_0x335084,_0x4f746d[_0xab2f97(0x5e3)])):(_0x257626['conditions'][_0xab2f97(0x36f)](_0x4f746d[_0xab2f97(0x5e3)]),_0x5f4405=!0x0);}if(_0x5f4405){_0x257626['conditions']['sort']((_0x4af5b8,_0xa65458)=>_0x4af5b8[_0xab2f97(0x49d)]>_0xa65458[_0xab2f97(0x49d)]?0x1:_0xa65458['order']>_0x4af5b8[_0xab2f97(0x49d)]?-0x1:0x0);for(let _0x3e51b1=0x0;_0x3e51b1<_0x257626[_0xab2f97(0x255)][_0xab2f97(0x6ea)];_0x3e51b1++)_0x257626[_0xab2f97(0x255)][_0x3e51b1][_0xab2f97(0x49d)]=_0x3e51b1+0x1;_0x257626[_0xab2f97(0x255)][_0xab2f97(0x6ea)]>0x0&&(_0x257626['conditions'][0x0][_0xab2f97(0x5ad)]=_0xab2f97(0xb8));}let _0xceaf1e=await this[_0xab2f97(0x6e8)]['flow']['updateOne'](_0x257626[_0xab2f97(0x168)],_0x257626,this['instance']['wuid']);if(_0xceaf1e&&_0xceaf1e[_0xab2f97(0x353)]&&_0xceaf1e['shareOwners']['length']>0x1&&this['synchronizeFlows'](_0xceaf1e[_0xab2f97(0x168)],this[_0xab2f97(0x526)][_0xab2f97(0x547)]),!_0xceaf1e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xceaf1e;}catch(_0x4b643e){throw this['logger'][_0xab2f97(0x32e)](this[_0xab2f97(0x2b3)]+'\x20('+this['instance'][_0xab2f97(0x547)]+_0xab2f97(0x319)+(_0x4b643e instanceof Error?_0x4b643e[_0xab2f97(0x5e9)]:JSON[_0xab2f97(0x5f1)](_0x4b643e,null,0x2))),new Error(_0xab2f97(0x474)+(_0x4b643e instanceof Error?_0x4b643e[_0xab2f97(0x5e9)]:JSON[_0xab2f97(0x5f1)](_0x4b643e,null,0x2)));}}async[a0_0x374876(0x462)](_0xdb183b){const _0x439ba0=a0_0x374876;try{this[_0x439ba0(0x131)][_0x439ba0(0xc1)](this[_0x439ba0(0x2b3)]+'\x20('+this[_0x439ba0(0x526)]['wuid']+_0x439ba0(0x13d));let _0x8b16d9=await this[_0x439ba0(0x6e8)][_0x439ba0(0x3e9)][_0x439ba0(0x108)]({'where':{'name':_0xdb183b['name']}},this['instance'][_0x439ba0(0x547)]);if(!_0x8b16d9)throw new Error(_0x439ba0(0x2a0));let _0x115d16=!0x1;if(_0xdb183b['varedit']?.['delete']===!0x0)_0x8b16d9['varedits']=_0x8b16d9[_0x439ba0(0x1d3)]['filter'](_0x3117fa=>_0x3117fa&&_0xdb183b['varedit']&&_0x3117fa[_0x439ba0(0x168)]&&_0xdb183b[_0x439ba0(0x599)][_0x439ba0(0x168)]&&_0x3117fa['_id'][_0x439ba0(0x5ab)]()!==_0xdb183b[_0x439ba0(0x599)][_0x439ba0(0x168)][_0x439ba0(0x5ab)]()),_0x115d16=!0x0;else{let _0x36c230=_0x8b16d9[_0x439ba0(0x1d3)][_0x439ba0(0x441)](_0x506b8a=>_0x506b8a&&_0xdb183b[_0x439ba0(0x599)]&&_0x506b8a[_0x439ba0(0x168)]&&_0xdb183b[_0x439ba0(0x599)][_0x439ba0(0x168)]&&_0x506b8a[_0x439ba0(0x168)][_0x439ba0(0x5ab)]()===_0xdb183b[_0x439ba0(0x599)][_0x439ba0(0x168)][_0x439ba0(0x5ab)]());_0x36c230?(_0x115d16=_0x36c230[_0x439ba0(0x49d)]!==_0xdb183b[_0x439ba0(0x599)]['order'],Object[_0x439ba0(0x598)](_0x36c230,_0xdb183b[_0x439ba0(0x599)])):(_0x8b16d9[_0x439ba0(0x1d3)][_0x439ba0(0x36f)](_0xdb183b[_0x439ba0(0x599)]),_0x115d16=!0x0);}if(_0x115d16){_0x8b16d9['varedits'][_0x439ba0(0x1ab)]((_0x3315c1,_0x511392)=>_0x3315c1[_0x439ba0(0x49d)]>_0x511392[_0x439ba0(0x49d)]?0x1:_0x511392['order']>_0x3315c1['order']?-0x1:0x0);for(let _0x59162d=0x0;_0x59162d<_0x8b16d9['varedits'][_0x439ba0(0x6ea)];_0x59162d++)_0x8b16d9[_0x439ba0(0x1d3)][_0x59162d]['order']=_0x59162d+0x1;}let _0x35044d=await this[_0x439ba0(0x6e8)][_0x439ba0(0x3e9)][_0x439ba0(0x6fe)](_0x8b16d9[_0x439ba0(0x168)],_0x8b16d9,this['instance'][_0x439ba0(0x547)]);if(_0x35044d&&_0x35044d[_0x439ba0(0x353)]&&_0x35044d[_0x439ba0(0x353)][_0x439ba0(0x6ea)]>0x1&&this[_0x439ba0(0x52b)](_0x35044d[_0x439ba0(0x168)],this[_0x439ba0(0x526)]['wuid']),!_0x35044d)throw new Error(_0x439ba0(0x51c));return _0x35044d;}catch(_0x2246dc){throw this[_0x439ba0(0x131)][_0x439ba0(0x32e)](this['instanceName']+'\x20('+this[_0x439ba0(0x526)][_0x439ba0(0x547)]+_0x439ba0(0x319)+(_0x2246dc instanceof Error?_0x2246dc[_0x439ba0(0x5e9)]:JSON[_0x439ba0(0x5f1)](_0x2246dc,null,0x2))),new w(_0x439ba0(0x474)+(_0x2246dc instanceof Error?_0x2246dc[_0x439ba0(0x5e9)]:JSON[_0x439ba0(0x5f1)](_0x2246dc,null,0x2)));}}async[a0_0x374876(0x2ce)](_0x5c0ecc){const _0x51a565=a0_0x374876;try{this[_0x51a565(0x131)][_0x51a565(0xc1)](this[_0x51a565(0x2b3)]+'\x20('+this[_0x51a565(0x526)]['wuid']+_0x51a565(0x16d));let _0x5bf77f=await this['repository'][_0x51a565(0x3e9)][_0x51a565(0x108)]({'where':{'name':_0x5c0ecc['name']}},this['instance'][_0x51a565(0x547)]);if(!_0x5bf77f)throw new Error(_0x51a565(0x2a0));_0x5c0ecc['variable'][_0x51a565(0x2f4)]=_0x5c0ecc[_0x51a565(0x3c5)]['name'][_0x51a565(0x3ba)](),_0x5c0ecc[_0x51a565(0x3c5)][_0x51a565(0x2f4)][_0x51a565(0xd6)]('_')&&(_0x5c0ecc['variable'][_0x51a565(0x2f4)]=_0x5c0ecc[_0x51a565(0x3c5)][_0x51a565(0x2f4)]['substring'](0x1)),_0x5c0ecc[_0x51a565(0x3c5)]['name']=_0x5c0ecc[_0x51a565(0x3c5)][_0x51a565(0x2f4)]['trim']();let _0x4c350a=_0x5bf77f['variables'][_0x51a565(0x441)](_0x3ebb20=>_0x3ebb20['name']===_0x5c0ecc[_0x51a565(0x3c5)][_0x51a565(0x2f4)]);if(_0x4c350a?.[_0x51a565(0x4bd)]===!0x0)throw new Error(_0x51a565(0x6f7));if(_0x5c0ecc[_0x51a565(0x3c5)]?.[_0x51a565(0x454)]===!0x0){if(!_0x4c350a)return{'message':_0x51a565(0x465)};_0x5bf77f[_0x51a565(0x492)]=_0x5bf77f[_0x51a565(0x492)][_0x51a565(0x4ed)](_0x5ac8a2=>_0x5ac8a2[_0x51a565(0x2f4)]!==_0x5c0ecc[_0x51a565(0x3c5)][_0x51a565(0x2f4)]);}else _0x4c350a?Object[_0x51a565(0x598)](_0x4c350a,_0x5c0ecc[_0x51a565(0x3c5)]):_0x5bf77f[_0x51a565(0x492)][_0x51a565(0x36f)](_0x5c0ecc[_0x51a565(0x3c5)]);let _0x5456de=await this[_0x51a565(0x6e8)][_0x51a565(0x3e9)][_0x51a565(0x6fe)](_0x5bf77f[_0x51a565(0x168)],_0x5bf77f,this[_0x51a565(0x526)][_0x51a565(0x547)]);if(_0x5456de&&_0x5456de['shareOwners']&&_0x5456de[_0x51a565(0x353)][_0x51a565(0x6ea)]>0x1&&this['synchronizeFlows'](_0x5456de[_0x51a565(0x168)],this[_0x51a565(0x526)]['wuid']),!_0x5456de)throw new Error(_0x51a565(0x51c));return _0x5456de;}catch(_0x335c42){throw this[_0x51a565(0x131)][_0x51a565(0x32e)](this[_0x51a565(0x2b3)]+'\x20('+this[_0x51a565(0x526)][_0x51a565(0x547)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x335c42 instanceof Error?_0x335c42[_0x51a565(0x5e9)]:JSON['stringify'](_0x335c42,null,0x2))),new w(_0x51a565(0x32a)+(_0x335c42 instanceof Error?_0x335c42[_0x51a565(0x5e9)]:JSON[_0x51a565(0x5f1)](_0x335c42,null,0x2)));}}async[a0_0x374876(0x389)](_0x4aec29){const _0x5c1c4f=a0_0x374876;let _0x543855=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x5c1c4f(0x523)])throw new w(_0x5c1c4f(0x442));this[_0x5c1c4f(0x131)][_0x5c1c4f(0xc1)](this[_0x5c1c4f(0x2b3)]+'\x20('+this[_0x5c1c4f(0x526)][_0x5c1c4f(0x547)]+_0x5c1c4f(0x71b));let _0x1fe0d7=(await this[_0x5c1c4f(0x30b)]({'numbers':[_0x4aec29[_0x5c1c4f(0x46a)]]}))[0x0];if(!_0x1fe0d7['exists']&&!(0x0,m[_0x5c1c4f(0x312)])(_0x1fe0d7[_0x5c1c4f(0x550)])&&!_0x1fe0d7[_0x5c1c4f(0x550)]['includes']('@broadcast'))throw _0x543855=JSON[_0x5c1c4f(0x5f1)](_0x1fe0d7,null,0x2),new w(_0x1fe0d7);let _0x214e2e=await this[_0x5c1c4f(0x6e8)]['flow'][_0x5c1c4f(0x108)]({'where':{'name':_0x4aec29['name']}},this[_0x5c1c4f(0x526)]['wuid']);if(!_0x214e2e)return this[_0x5c1c4f(0x131)][_0x5c1c4f(0x32e)](this[_0x5c1c4f(0x2b3)]+'\x20('+this['instance'][_0x5c1c4f(0x547)]+_0x5c1c4f(0x6c2)),{'message':_0x5c1c4f(0x2a0)};let _0xe1779d=await this[_0x5c1c4f(0x261)](_0x214e2e,_0x1fe0d7[_0x5c1c4f(0x550)],_0x4aec29['changeVariables']);if(_0xe1779d){this['logger'][_0x5c1c4f(0xc1)](this[_0x5c1c4f(0x2b3)]+'\x20('+this[_0x5c1c4f(0x526)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x30b9e=await this[_0x5c1c4f(0x501)](_0xe1779d);return _0x30b9e&&await this[_0x5c1c4f(0x4a0)](_0xe1779d,_0x30b9e),{'message':_0x5c1c4f(0x700)+_0x4aec29[_0x5c1c4f(0x46a)]};}}catch(_0x8bfc2c){if(this[_0x5c1c4f(0x131)][_0x5c1c4f(0x32e)](this[_0x5c1c4f(0x2b3)]+'\x20('+this[_0x5c1c4f(0x526)][_0x5c1c4f(0x547)]+_0x5c1c4f(0x23f)+(_0x8bfc2c instanceof Error?_0x8bfc2c[_0x5c1c4f(0x5e9)]:JSON[_0x5c1c4f(0x5f1)](_0x8bfc2c,null,0x2))),_0x543855=_0x8bfc2c instanceof Error?_0x8bfc2c[_0x5c1c4f(0x5e9)]:JSON[_0x5c1c4f(0x5f1)](_0x8bfc2c,null,0x2),_0x543855)throw new w(_0x5c1c4f(0x170)+_0x543855);}}async['closeExistingConversations'](_0x3178bc){const _0x1a304f=a0_0x374876;try{let _0x5872f0={'remoteJid':_0x3178bc,'status':_0x1a304f(0x2f1)},_0x5c22a3={'status':'closed'},_0x5dfbf7=await this['repository'][_0x1a304f(0x484)][_0x1a304f(0x5de)](_0x5872f0,_0x5c22a3,this[_0x1a304f(0x526)][_0x1a304f(0x547)]);return this[_0x1a304f(0x131)][_0x1a304f(0xc1)](this[_0x1a304f(0x2b3)]+'\x20('+this['instance'][_0x1a304f(0x547)]+_0x1a304f(0x43c)),_0x5dfbf7;}catch(_0x1af025){throw this[_0x1a304f(0x131)][_0x1a304f(0x32e)](this['instanceName']+'\x20('+this[_0x1a304f(0x526)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x1af025[_0x1a304f(0x5e9)]),_0x1af025;}}async[a0_0x374876(0x261)](_0xb03ae9,_0x4c05e0,_0xd4f2ef){const _0xbad6a=a0_0x374876;this['logger']['verbose'](this[_0xbad6a(0x2b3)]+'\x20('+this[_0xbad6a(0x526)][_0xbad6a(0x547)]+_0xbad6a(0x19d)),await this['closeExistingConversations'](_0x4c05e0);try{let _0x4bbf3e=require(_0xbad6a(0x4e2))[_0xbad6a(0x705)],_0x39f5f9=Date['now'](),_0xf07344=_0xbad6a(0x549),_0x3118ef={},_0x5aab6f={},_0x53e8e1={..._0xb03ae9,'chatLog':null},_0x40283c=await this[_0xbad6a(0x2e5)](_0x53e8e1[_0xbad6a(0x492)]),_0x350625=await this['getVariablesChat'](_0x4c05e0),_0x27b6fe={..._0x40283c,..._0x350625,'_remoteJid':_0x4c05e0},_0x365128={'lastReceivedMessage':_0x3118ef,'lastSendMessage':_0x5aab6f,'lastBlockId':_0xf07344,'lastCondition':!0x0,'realVariables':_0x27b6fe};_0x53e8e1[_0xbad6a(0x3d5)]=_0x365128,_0x53e8e1[_0xbad6a(0x3d5)][_0xbad6a(0x435)]={..._0x27b6fe,..._0xd4f2ef},delete _0x53e8e1[_0xbad6a(0x168)],_0x53e8e1[_0xbad6a(0x168)]=new _0x4bbf3e(),_0x53e8e1[_0xbad6a(0x5b5)]=_0x39f5f9,_0x53e8e1[_0xbad6a(0x3d2)]=_0xbad6a(0x2f1),_0x53e8e1[_0xbad6a(0x46a)]=_0x4c05e0;let _0x1d5863=await this[_0xbad6a(0x6e8)][_0xbad6a(0x484)][_0xbad6a(0x6fe)](_0x53e8e1[_0xbad6a(0x168)],_0x53e8e1,this[_0xbad6a(0x526)]['wuid']);return this[_0xbad6a(0x131)][_0xbad6a(0xc1)](this[_0xbad6a(0x2b3)]+'\x20('+this['instance']['wuid']+_0xbad6a(0x12e)),_0x1d5863?_0x53e8e1:null;}catch(_0x5bee41){throw this[_0xbad6a(0x131)][_0xbad6a(0x32e)](this[_0xbad6a(0x2b3)]+'\x20('+this[_0xbad6a(0x526)]['wuid']+_0xbad6a(0x1a2)+(_0x5bee41 instanceof Error?_0x5bee41[_0xbad6a(0x5e9)]:JSON[_0xbad6a(0x5f1)](_0x5bee41,null,0x2))),new w(_0x5bee41[_0xbad6a(0x5e9)]);}}async['getConversation'](_0x24e55e){const _0x28f6fa=a0_0x374876;try{this[_0x28f6fa(0x131)][_0x28f6fa(0xc1)](this[_0x28f6fa(0x2b3)]+'\x20('+this[_0x28f6fa(0x526)][_0x28f6fa(0x547)]+_0x28f6fa(0x59e)),this[_0x28f6fa(0x131)]['verbose'](this[_0x28f6fa(0x2b3)]+'\x20('+this[_0x28f6fa(0x526)]['wuid']+'):\x20Query\x20params:\x20'+_0x24e55e);let _0x18c3ca={'where':{'_id':_0x24e55e}};return await this[_0x28f6fa(0x6e8)]['flowConversation'][_0x28f6fa(0x108)](_0x18c3ca,this[_0x28f6fa(0x526)][_0x28f6fa(0x547)]);}catch(_0x402ff1){throw this[_0x28f6fa(0x131)][_0x28f6fa(0x32e)](this[_0x28f6fa(0x2b3)]+'\x20('+this[_0x28f6fa(0x526)][_0x28f6fa(0x547)]+_0x28f6fa(0x352)+(_0x402ff1 instanceof Error?_0x402ff1[_0x28f6fa(0x5e9)]:JSON[_0x28f6fa(0x5f1)](_0x402ff1,null,0x2))),new w(_0x28f6fa(0x19a)+_0x402ff1[_0x28f6fa(0x5e9)]);}}async['fetchConversation'](_0x578aed){const _0x29ff2c=a0_0x374876;try{return this[_0x29ff2c(0x131)][_0x29ff2c(0xc1)](this[_0x29ff2c(0x2b3)]+'\x20('+this[_0x29ff2c(0x526)][_0x29ff2c(0x547)]+_0x29ff2c(0x5a9)),await this[_0x29ff2c(0x6e8)][_0x29ff2c(0x484)]['find'](_0x578aed,this['instance']['wuid']);}catch(_0x1886e8){throw this[_0x29ff2c(0x131)][_0x29ff2c(0x32e)](this[_0x29ff2c(0x2b3)]+'\x20('+this['instance'][_0x29ff2c(0x547)]+_0x29ff2c(0x3e7)+(_0x1886e8 instanceof Error?_0x1886e8[_0x29ff2c(0x5e9)]:JSON['stringify'](_0x1886e8,null,0x2))),new w(_0x29ff2c(0x2c0)+_0x1886e8[_0x29ff2c(0x5e9)]);}}async[a0_0x374876(0x197)](_0x30d94a){const _0x3106ce=a0_0x374876;try{return this['logger'][_0x3106ce(0xc1)](this['instanceName']+'\x20('+this[_0x3106ce(0x526)][_0x3106ce(0x547)]+_0x3106ce(0x731)),this['logger']['verbose'](this[_0x3106ce(0x2b3)]+'\x20('+this[_0x3106ce(0x526)][_0x3106ce(0x547)]+_0x3106ce(0x6bd)+_0x30d94a),(await this[_0x3106ce(0x6e8)]['flowConversation']['deleteOne']({'where':{'_id':_0x30d94a}},this[_0x3106ce(0x526)]['wuid']))[_0x3106ce(0x2c8)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x3106ce(0x1d2)};}catch(_0x5b32d7){throw this[_0x3106ce(0x131)][_0x3106ce(0x32e)](this[_0x3106ce(0x2b3)]+'\x20('+this['instance'][_0x3106ce(0x547)]+_0x3106ce(0x14f)+(_0x5b32d7 instanceof Error?_0x5b32d7[_0x3106ce(0x5e9)]:JSON[_0x3106ce(0x5f1)](_0x5b32d7,null,0x2))),new w(_0x3106ce(0xd5)+_0x5b32d7['message']);}}async[a0_0x374876(0x415)](_0xa4f982){const _0x4ebdb3=a0_0x374876;try{let {_id:_0x835114,chatLog:_0x325beb,status:_0x291769}=_0xa4f982;if(!_0x835114)return{'message':_0x4ebdb3(0x328)};let _0x2ee042={};if(_0x291769!==void 0x0&&(_0x2ee042[_0x4ebdb3(0x3d2)]=_0x291769),Object['keys'](_0x2ee042)[_0x4ebdb3(0x6ea)]===0x0)return{'message':_0x4ebdb3(0x5e7)};let _0x2e4d49=await this['repository'][_0x4ebdb3(0x484)]['updateOne'](_0x835114,_0x2ee042,this[_0x4ebdb3(0x526)][_0x4ebdb3(0x547)]);return _0x2e4d49||{'message':_0x4ebdb3(0x592)};}catch(_0x25ad10){throw this['logger'][_0x4ebdb3(0x32e)](this[_0x4ebdb3(0x2b3)]+'\x20('+this[_0x4ebdb3(0x526)][_0x4ebdb3(0x547)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x25ad10 instanceof Error?_0x25ad10['message']:JSON[_0x4ebdb3(0x5f1)](_0x25ad10,null,0x2))),new w(_0x4ebdb3(0x325)+_0x25ad10['message']);}}async[a0_0x374876(0x179)](_0x32e411){const _0x171598=a0_0x374876;let _0x804249=await this[_0x171598(0x6e8)][_0x171598(0x25d)][_0x171598(0x108)]({'where':{'_id':_0x32e411[_0x171598(0x168)]}},this[_0x171598(0x526)]['wuid']);if(!_0x804249)throw new w(_0x171598(0x1f8));console[_0x171598(0x201)](_0x32e411);try{_0x32e411['_id']=this[_0x171598(0x348)](_0x32e411[_0x171598(0x168)]);let {_id:_0x5dd8c4,leadInfo:_0x17d056}=_0x32e411;if(!_0x5dd8c4)throw new Error(_0x171598(0x1bf));let _0xe354d3=(_0x5910bb,_0x9e9624,_0x476acb)=>{const _0x508cee=_0x171598;_0x5910bb&&_0x476acb[_0x508cee(0x489)](_0x30b4af=>{const _0x4f0489=_0x508cee;_0x5910bb[_0x30b4af]!==void 0x0&&(_0x9e9624[_0x4f0489(0xe5)+_0x30b4af]=_0x5910bb[_0x30b4af]);});},_0x16dc65={};if(_0x17d056&&(_0xe354d3(_0x17d056,_0x16dc65,[_0x171598(0x408),_0x171598(0x45c),'email','cpf',_0x171598(0x3d2),_0x171598(0x13c),_0x171598(0x3dd),_0x171598(0x659),_0x171598(0x2e3),'etiquetas']),Array[_0x171598(0x253)](_0x17d056[_0x171598(0x74b)])&&(_0x16dc65[_0x171598(0x703)]=_0x17d056[_0x171598(0x74b)][_0x171598(0x675)](_0x8754ae=>({'_id':_0x8754ae[_0x171598(0x168)],'value':_0x8754ae[_0x171598(0x580)]}))),_0x32e411[_0x171598(0x4bd)]['etiquetas']!==void 0x0)){let _0x1c11b1=await this['repository']['label'][_0x171598(0x441)]({'where':{}},this['instance'][_0x171598(0x547)]),_0x474b92=new Set(_0x32e411['leadInfo'][_0x171598(0x2c5)]||[]),_0x39915f=new Set(_0x32e411[_0x171598(0x4bd)]['etiquetas']),_0xa37d6f=new Set(_0x1c11b1[_0x171598(0x675)](_0x41c15c=>_0x41c15c[_0x171598(0x168)])),_0x38019d=[..._0x39915f][_0x171598(0x4ed)](_0x5ba6f8=>!_0x474b92['has'](_0x5ba6f8)&&_0xa37d6f[_0x171598(0x42e)](_0x5ba6f8)),_0x3e4ff1=[..._0x474b92]['filter'](_0x4512cf=>!_0x39915f['has'](_0x4512cf));if(_0x16dc65['leadInfo.etiquetas']=[..._0x474b92],_0x804249&&!_0x804249[_0x171598(0x29f)]){for(let _0x5f06fb of _0x38019d)await this[_0x171598(0x611)](_0x5f06fb,_0x32e411[_0x171598(0x168)]),_0x474b92[_0x171598(0x5fb)](_0x5f06fb);for(let _0x551fca of _0x3e4ff1)await this['RemoveChatLabel'](_0x551fca,_0x32e411[_0x171598(0x168)]),_0x474b92[_0x171598(0x454)](_0x551fca);}}if(_0x32e411[_0x171598(0x606)]!==void 0x0&&(_0x16dc65[_0x171598(0x606)]=Number(_0x32e411[_0x171598(0x606)])),Object[_0x171598(0x583)](_0x16dc65)['length']===0x0)throw new Error(_0x171598(0x5e7));let _0x2ff192=await this[_0x171598(0x6e8)]['chat'][_0x171598(0x6fe)]({'where':{'_id':_0x32e411['_id']}},_0x16dc65,this['instance'][_0x171598(0x547)]);return _0x2ff192&&q(this[_0x171598(0x2b3)],_0x171598(0x28d),{'chat':_0x2ff192}),_0x2ff192?(this[_0x171598(0x131)][_0x171598(0xc1)](this[_0x171598(0x2b3)]+'\x20('+this[_0x171598(0x526)][_0x171598(0x547)]+_0x171598(0x1c6)+JSON[_0x171598(0x5f1)](_0x2ff192,null,0x2)),_0x2ff192):{'message':_0x171598(0x223)};}catch(_0x5eb5fa){throw this[_0x171598(0x131)][_0x171598(0x32e)](this[_0x171598(0x2b3)]+'\x20('+this[_0x171598(0x526)][_0x171598(0x547)]+_0x171598(0x278)+(_0x5eb5fa instanceof Error?_0x5eb5fa[_0x171598(0x5e9)]:JSON[_0x171598(0x5f1)](_0x5eb5fa,null,0x2))),new w(_0x171598(0x555)+_0x5eb5fa[_0x171598(0x5e9)]);}}async[a0_0x374876(0x611)](_0x501a2e,_0xc0a528){const _0x20a259=a0_0x374876;try{await this[_0x20a259(0x6c7)]['addChatLabel'](_0xc0a528,_0x501a2e),console['log']('Label\x20'+_0x501a2e+_0x20a259(0x396)+_0xc0a528+'\x20com\x20sucesso.');}catch(_0x581368){console[_0x20a259(0x32e)](_0x20a259(0x4fb)+_0x501a2e+_0x20a259(0x563)+_0xc0a528+':',_0x581368);}}async[a0_0x374876(0x4fa)](_0xc28dac,_0x1237ce){const _0x59e20b=a0_0x374876;try{await this[_0x59e20b(0x6c7)]['removeChatLabel'](_0x1237ce,_0xc28dac),console['log'](_0x59e20b(0x54f)+_0xc28dac+_0x59e20b(0x30f)+_0x1237ce+_0x59e20b(0x687));}catch(_0x1c19ce){console[_0x59e20b(0x32e)](_0x59e20b(0x718)+_0xc28dac+'\x20do\x20chat\x20'+_0x1237ce+':',_0x1c19ce);}}async['updateAgent'](_0x33e6bd){const _0xc2cd81=a0_0x374876;try{let _0x325170=await this[_0xc2cd81(0x6e8)][_0xc2cd81(0x678)]['findOrCreate'](this['instance'][_0xc2cd81(0x547)]),_0x3cca7b=_0x33e6bd[_0xc2cd81(0x168)]?_0x325170['agents'][_0xc2cd81(0x1eb)](_0x963262=>_0x963262[_0xc2cd81(0x168)]===_0x33e6bd[_0xc2cd81(0x168)]):-0x1;if(_0x33e6bd['delete']&&_0x3cca7b>-0x1)_0x325170[_0xc2cd81(0x63b)][_0xc2cd81(0x206)](_0x3cca7b,0x1);else{if(_0x3cca7b>-0x1){let _0x342f9f=_0x325170['agents'][_0x3cca7b];_0x33e6bd[_0xc2cd81(0x6da)]&&(_0x342f9f['fone']=_0x33e6bd[_0xc2cd81(0x6da)]),_0x33e6bd[_0xc2cd81(0x2f4)]&&(_0x342f9f[_0xc2cd81(0x2f4)]=_0x33e6bd[_0xc2cd81(0x2f4)]),_0x33e6bd[_0xc2cd81(0x564)]&&(_0x342f9f[_0xc2cd81(0x564)]=_0x33e6bd[_0xc2cd81(0x564)]),_0x33e6bd['role']&&(_0x342f9f['role']=_0x33e6bd[_0xc2cd81(0x185)]);}else _0x325170[_0xc2cd81(0x63b)]['push']({'_id':_0x33e6bd[_0xc2cd81(0x168)]||new ne[(_0xc2cd81(0x701))]['Types']['ObjectId']()[_0xc2cd81(0x5ab)](),'fone':_0x33e6bd[_0xc2cd81(0x6da)],'name':_0x33e6bd[_0xc2cd81(0x2f4)],'email':_0x33e6bd[_0xc2cd81(0x564)],'role':_0x33e6bd[_0xc2cd81(0x185)]});}let _0x40024a={'agents':_0x325170[_0xc2cd81(0x63b)]},_0x2f4f65=await this['repository'][_0xc2cd81(0x678)]['update'](_0x40024a,this['instance'][_0xc2cd81(0x547)]);return this[_0xc2cd81(0x109)]=_0x2f4f65,this[_0xc2cd81(0x131)][_0xc2cd81(0xc1)](this['instanceName']+'\x20('+this[_0xc2cd81(0x526)][_0xc2cd81(0x547)]+_0xc2cd81(0x2b7)),this[_0xc2cd81(0x131)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc2cd81(0x1c6)+this[_0xc2cd81(0x109)]),_0x2f4f65;}catch(_0x21f915){throw this[_0xc2cd81(0x131)][_0xc2cd81(0x32e)](this['instanceName']+'\x20('+this[_0xc2cd81(0x526)][_0xc2cd81(0x547)]+_0xc2cd81(0x5f3)+(_0x21f915 instanceof Error?_0x21f915[_0xc2cd81(0x5e9)]:JSON[_0xc2cd81(0x5f1)](_0x21f915,null,0x2))),new w(_0xc2cd81(0x149)+_0x21f915[_0xc2cd81(0x5e9)]);}}async['updateCustomFields'](_0x5c1fa5){const _0xcb736f=a0_0x374876;try{let _0x1c98c4=await this[_0xcb736f(0x6e8)][_0xcb736f(0x678)]['findOrCreate'](this[_0xcb736f(0x526)][_0xcb736f(0x547)]),_0x474f3e=_0x5c1fa5['_id']?_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x1eb)](_0x34ab28=>_0x34ab28['_id']===_0x5c1fa5[_0xcb736f(0x168)]):-0x1,_0xd10b4c=!0x1,_0xae5253=_0x1c98c4['customFields'][_0xcb736f(0x332)](_0xd8d7d8=>_0xd8d7d8[_0xcb736f(0x49d)]===_0x5c1fa5['order']);if(_0x5c1fa5['delete']&&_0x474f3e>-0x1)_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x206)](_0x474f3e,0x1),_0xd10b4c=!0x0;else{if(_0x474f3e>-0x1){if(_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x332)](_0x27a561=>_0x27a561['name']===_0x5c1fa5['name']&&_0x27a561[_0xcb736f(0x168)]!==_0x5c1fa5['_id']))throw new Error(_0xcb736f(0x4dd));let _0x52be6c=_0x1c98c4[_0xcb736f(0x74b)][_0x474f3e];_0x5c1fa5['order']&&(_0xae5253||!Number[_0xcb736f(0x690)](_0x5c1fa5['order']))&&(_0x52be6c[_0xcb736f(0x49d)]=_0x5c1fa5[_0xcb736f(0x49d)],_0xd10b4c=!0x0),_0x5c1fa5[_0xcb736f(0x2f4)]&&(_0x52be6c[_0xcb736f(0x2f4)]=_0x5c1fa5['name']);}else{if(_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x332)](_0x202d82=>_0x202d82[_0xcb736f(0x2f4)]===_0x5c1fa5['name']&&_0x202d82[_0xcb736f(0x168)]!==_0x5c1fa5[_0xcb736f(0x168)]))throw new Error(_0xcb736f(0x4dd));_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x36f)]({'_id':_0x5c1fa5[_0xcb736f(0x168)]||new ne['default']['Types'][(_0xcb736f(0x705))]()[_0xcb736f(0x5ab)](),'order':_0x5c1fa5[_0xcb736f(0x49d)],'name':_0x5c1fa5[_0xcb736f(0x2f4)]}),_0xd10b4c=!0x0;}}if(_0xd10b4c){_0x1c98c4['customFields']['sort']((_0x34dfb7,_0x555e07)=>_0x34dfb7['order']>_0x555e07[_0xcb736f(0x49d)]?0x1:_0x555e07[_0xcb736f(0x49d)]>_0x34dfb7[_0xcb736f(0x49d)]?-0x1:0x0);for(let _0x58c482=0x0;_0x58c482<_0x1c98c4[_0xcb736f(0x74b)][_0xcb736f(0x6ea)];_0x58c482++)_0x1c98c4[_0xcb736f(0x74b)][_0x58c482][_0xcb736f(0x49d)]=_0x58c482+0x1;}let _0x24c863=await this[_0xcb736f(0x6e8)]['automateSystem'][_0xcb736f(0x4dc)](_0x1c98c4,this[_0xcb736f(0x526)][_0xcb736f(0x547)]);return this[_0xcb736f(0x109)]=_0x24c863,this[_0xcb736f(0x131)][_0xcb736f(0xc1)](this[_0xcb736f(0x2b3)]+'\x20('+this[_0xcb736f(0x526)][_0xcb736f(0x547)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0xcb736f(0x131)][_0xcb736f(0xc1)](this[_0xcb736f(0x2b3)]+'\x20('+this['instance']['wuid']+_0xcb736f(0x1c6)+this[_0xcb736f(0x109)]),_0x24c863;}catch(_0x1c98cb){throw this[_0xcb736f(0x131)]['error'](this[_0xcb736f(0x2b3)]+'\x20('+this[_0xcb736f(0x526)][_0xcb736f(0x547)]+_0xcb736f(0x71e)+(_0x1c98cb instanceof Error?_0x1c98cb[_0xcb736f(0x5e9)]:JSON[_0xcb736f(0x5f1)](_0x1c98cb,null,0x2))),new w(_0xcb736f(0x3b7)+_0x1c98cb[_0xcb736f(0x5e9)]);}}async['updateFlowConfig'](_0x278268){const _0x2958dd=a0_0x374876;try{let _0x17ef81=await this[_0x2958dd(0x6e8)]['automateSystem'][_0x2958dd(0xc2)](this['instance'][_0x2958dd(0x547)]);if(!_0x17ef81)throw new Error(_0x2958dd(0x637));let _0x2a40d3={'_id':_0x17ef81[_0x2958dd(0x168)],'flowConfig':{'enabled':_0x278268[_0x2958dd(0x523)]??_0x17ef81['flowConfig'][_0x2958dd(0x523)],'ignoreGroups':_0x278268[_0x2958dd(0x2a1)]??_0x17ef81[_0x2958dd(0x3a5)][_0x2958dd(0x2a1)],'prefixCommand':_0x278268[_0x2958dd(0x656)]??_0x17ef81[_0x2958dd(0x3a5)][_0x2958dd(0x656)],'stopConversation':_0x278268[_0x2958dd(0x416)]??_0x17ef81[_0x2958dd(0x3a5)]['stopConversation'],'stopMinutes':_0x278268[_0x2958dd(0x697)]??_0x17ef81[_0x2958dd(0x3a5)]['stopMinutes'],'stopWhenYouSendMsg':_0x278268[_0x2958dd(0x40d)]??_0x17ef81['flowConfig'][_0x2958dd(0x40d)]}},_0x7a63a8=await this['repository']['automateSystem'][_0x2958dd(0x4dc)](_0x2a40d3,this[_0x2958dd(0x526)][_0x2958dd(0x547)]);return this[_0x2958dd(0x109)]=_0x7a63a8,this['logger'][_0x2958dd(0xc1)](this['instanceName']+'\x20('+this[_0x2958dd(0x526)][_0x2958dd(0x547)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x2958dd(0xc1)](this[_0x2958dd(0x2b3)]+'\x20('+this['instance'][_0x2958dd(0x547)]+_0x2958dd(0x1c6)+this[_0x2958dd(0x109)]),setTimeout(()=>this[_0x2958dd(0x291)](),0x7d0),_0x7a63a8;}catch(_0x211856){throw this[_0x2958dd(0x131)][_0x2958dd(0x32e)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x211856 instanceof Error?_0x211856[_0x2958dd(0x5e9)]:JSON[_0x2958dd(0x5f1)](_0x211856,null,0x2))),new w(_0x2958dd(0x391)+_0x211856[_0x2958dd(0x5e9)]);}}async[a0_0x374876(0x4b4)](){const _0xe20bf0=a0_0x374876;try{let _0x125766=await this['repository'][_0xe20bf0(0x678)][_0xe20bf0(0xc2)](this[_0xe20bf0(0x526)][_0xe20bf0(0x547)]);return this[_0xe20bf0(0x109)]=_0x125766,this[_0xe20bf0(0x131)][_0xe20bf0(0xc1)](this[_0xe20bf0(0x2b3)]+'\x20('+this[_0xe20bf0(0x526)][_0xe20bf0(0x547)]+_0xe20bf0(0x717)),this[_0xe20bf0(0x131)][_0xe20bf0(0xc1)](this[_0xe20bf0(0x109)]),_0x125766;}catch(_0x1c599b){throw this[_0xe20bf0(0x131)]['error'](this[_0xe20bf0(0x2b3)]+'\x20('+this[_0xe20bf0(0x526)][_0xe20bf0(0x547)]+_0xe20bf0(0x1b7)+(_0x1c599b instanceof Error?_0x1c599b[_0xe20bf0(0x5e9)]:JSON['stringify'](_0x1c599b,null,0x2))),new w(_0xe20bf0(0x151)+_0x1c599b[_0xe20bf0(0x5e9)]);}}async[a0_0x374876(0x3cb)](){const _0x1c59e5=a0_0x374876;this['timerId']&&clearTimeout(this['timerId']),this[_0x1c59e5(0x62e)]=setTimeout(()=>{const _0x2f7a3a=_0x1c59e5;this[_0x2f7a3a(0xe4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x374876(0xe4)](){const _0x12f84b=a0_0x374876;Date[_0x12f84b(0x4e5)]()-this[_0x12f84b(0x202)]>=0x1d4c0&&(this[_0x12f84b(0x131)][_0x12f84b(0xc1)](this[_0x12f84b(0x2b3)]+'\x20('+this['instance'][_0x12f84b(0x547)]+_0x12f84b(0x510)),this[_0x12f84b(0x140)]=null,this[_0x12f84b(0x202)]=0x0,this[_0x12f84b(0x59a)]=0x0,await this[_0x12f84b(0x291)]());}async[a0_0x374876(0x291)](){const _0x427b78=a0_0x374876;let _0x1cc4b4=()=>{const _0x216e8c=a0_0x2a44;this[_0x216e8c(0x131)][_0x216e8c(0xc1)](this['instanceName']+'\x20('+this[_0x216e8c(0x526)][_0x216e8c(0x547)]+_0x216e8c(0x428)+this['processingScheduleMessageId']+_0x216e8c(0x357));},_0x4e5285=async()=>{const _0x5c048e=a0_0x2a44;this[_0x5c048e(0x131)]['verbose'](this[_0x5c048e(0x2b3)]+'\x20('+this[_0x5c048e(0x526)][_0x5c048e(0x547)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x9f41af=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0xd09a12={'where':{'status':{'$in':[_0x5c048e(0x67f),_0x5c048e(0x1da)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x9f41af}},{'when':0x0}]}};return await this[_0x5c048e(0x6e8)][_0x5c048e(0x192)][_0x5c048e(0x441)](_0xd09a12,this['instance'][_0x5c048e(0x547)]);},_0x32aa15=async _0x10fcea=>{const _0x58b167=a0_0x2a44;for(let _0x1b783c of _0x10fcea){let _0x55ec71={'_id':_0x1b783c[_0x58b167(0x168)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x58b167(0x4e5)]()-0x1770}}]},_0x1ea5e2={'startSend':Date['now']()};if(!await this[_0x58b167(0x6e8)]['scheduleMessage'][_0x58b167(0x6fe)](_0x55ec71,_0x1ea5e2,this[_0x58b167(0x526)][_0x58b167(0x547)]))return;if(!this[_0x58b167(0x321)]){this['logger']['verbose'](this[_0x58b167(0x2b3)]+'\x20('+this[_0x58b167(0x526)]['wuid']+_0x58b167(0xcf));break;}if(_0x1b783c[_0x58b167(0x575)]===_0x58b167(0x3e9)&&!this[_0x58b167(0x109)]?.[_0x58b167(0x3a5)][_0x58b167(0x523)]){this[_0x58b167(0x131)]['error'](this['instanceName']+'\x20('+this['instance'][_0x58b167(0x547)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x1b783c['remoteJidsRemaining']||_0x1b783c[_0x58b167(0x6d9)][_0x58b167(0x6ea)]===0x0)&&(_0x1b783c=await this[_0x58b167(0x6e8)][_0x58b167(0x192)]['updateOneById'](_0x1b783c[_0x58b167(0x168)],{'status':_0x58b167(0x1da),'remoteJidsRemaining':[..._0x1b783c[_0x58b167(0x6aa)]]},this['instance'][_0x58b167(0x547)]));for(let _0x3b4ac8 of _0x1b783c[_0x58b167(0x6d9)]){if(await this['setRestartTimer'](),this[_0x58b167(0x202)]=Date[_0x58b167(0x4e5)](),_0x1b783c[_0x58b167(0x3af)][_0x58b167(0x332)](_0xb94fc=>_0xb94fc[_0x58b167(0x46a)]===_0x3b4ac8)){this['logger']['verbose'](this[_0x58b167(0x2b3)]+'\x20('+this['instance']['wuid']+_0x58b167(0x300)+_0x3b4ac8+'.\x20Pulando.');continue;}if(!this[_0x58b167(0x321)]){this[_0x58b167(0x131)][_0x58b167(0xc1)](this['instanceName']+'\x20('+this[_0x58b167(0x526)]['wuid']+_0x58b167(0x1ea));break;}if(!this[_0x58b167(0x140)]){this['logger'][_0x58b167(0xc1)](this[_0x58b167(0x2b3)]+'\x20('+this[_0x58b167(0x526)]['wuid']+_0x58b167(0x514)+_0x1b783c['_id']+_0x58b167(0x5bb));break;}if(_0x1b783c[_0x58b167(0x575)]===_0x58b167(0x3e9)&&!this['AutomateSystem']?.[_0x58b167(0x3a5)][_0x58b167(0x523)]){this[_0x58b167(0x131)][_0x58b167(0x32e)](this[_0x58b167(0x2b3)]+'\x20('+this[_0x58b167(0x526)][_0x58b167(0x547)]+_0x58b167(0x5b4));break;}let _0x33108a={'remoteJid':_0x3b4ac8,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x58b167(0x4e5)]()},_0x3e5955=null;try{let _0x13b06d=await this[_0x58b167(0x4b1)](_0x3b4ac8,_0x1b783c);_0x33108a[_0x58b167(0x32e)]=_0x13b06d['error'],_0x33108a['id']=_0x13b06d[_0x58b167(0x32e)]?null:_0x13b06d['id'],_0x33108a[_0x58b167(0x5b0)]=_0x13b06d[_0x58b167(0x32e)]?_0x13b06d['detail']?_0x13b06d[_0x58b167(0x230)]['toString']():'':null;let _0x5ee92d={'$push':{'messagesSend':_0x33108a},'$pull':{'remoteJidsRemaining':_0x3b4ac8}},_0x3bb0c2=_0x1b783c[_0x58b167(0x168)];if(_0x3e5955=await this['repository']['scheduleMessage'][_0x58b167(0x2c9)](_0x3bb0c2,_0x5ee92d,this[_0x58b167(0x526)]['wuid']),_0x13b06d[_0x58b167(0x32e)])continue;let _0x549b7b=this[_0x58b167(0x58b)](_0x1b783c[_0x58b167(0x715)],_0x1b783c[_0x58b167(0x3d1)]);await this[_0x58b167(0x15d)](_0x549b7b);}catch(_0xea5f8a){this[_0x58b167(0x131)][_0x58b167(0x32e)](this[_0x58b167(0x2b3)]+'\x20('+this['instance'][_0x58b167(0x547)]+_0x58b167(0x208)+_0x3b4ac8+':\x20'+(_0xea5f8a instanceof Error?_0xea5f8a[_0x58b167(0x5e9)]:JSON[_0x58b167(0x5f1)](_0xea5f8a,null,0x2))),_0x33108a[_0x58b167(0x32e)]=!0x0,_0x33108a[_0x58b167(0x5b0)]=_0xea5f8a['message'];let _0x34f6cf={'$push':{'messagesSend':_0x33108a},'$pull':{'remoteJidsRemaining':_0x3b4ac8}},_0xae4377=_0x1b783c[_0x58b167(0x168)];_0x3e5955=await this[_0x58b167(0x6e8)]['scheduleMessage'][_0x58b167(0x2c9)](_0xae4377,_0x34f6cf,this['instance'][_0x58b167(0x547)]);}finally{if(_0x3e5955&&_0x3e5955[_0x58b167(0x3d2)]==='stopped'){this[_0x58b167(0x131)]['verbose'](this['instanceName']+'\x20('+this[_0x58b167(0x526)]['wuid']+_0x58b167(0x514)+_0x1b783c[_0x58b167(0x168)]+_0x58b167(0x496));break;}}}let _0x5f0671=await this['repository'][_0x58b167(0x192)][_0x58b167(0x594)](_0x1b783c[_0x58b167(0x168)],this[_0x58b167(0x526)][_0x58b167(0x547)]);if(_0x5f0671['remoteJidsRemaining'][_0x58b167(0x6ea)]===0x0&&_0x5f0671['status']!==_0x58b167(0x347)){let _0x5680f8={'$set':{'status':_0x58b167(0x581)}},_0x4fd19d=_0x5f0671[_0x58b167(0x168)];await this[_0x58b167(0x6e8)][_0x58b167(0x192)][_0x58b167(0x2c9)](_0x4fd19d,_0x5680f8,this[_0x58b167(0x526)][_0x58b167(0x547)]);}await new Promise(_0x11c10e=>setTimeout(_0x11c10e,0x1388));}},_0x1a10eb=async()=>{const _0x5ef5e9=a0_0x2a44;let _0x157cc2={'where':{'status':_0x5ef5e9(0x67f),'when':{'$gt':Date[_0x5ef5e9(0x4e5)]()}}},_0x28a351=await this[_0x5ef5e9(0x6e8)][_0x5ef5e9(0x192)][_0x5ef5e9(0x108)](_0x157cc2,this['instance'][_0x5ef5e9(0x547)]);_0x28a351&&_0x28a351[_0x5ef5e9(0x219)]-Date[_0x5ef5e9(0x4e5)]()<=0x5265c00?this[_0x5ef5e9(0x59a)]=_0x28a351[_0x5ef5e9(0x219)]-Date[_0x5ef5e9(0x4e5)]():this[_0x5ef5e9(0x59a)]=(0x3c+Math['floor'](Math[_0x5ef5e9(0x5bf)]()*0x3c))*0x3c*0x3e8,this[_0x5ef5e9(0x59a)]=Math[_0x5ef5e9(0x260)](this[_0x5ef5e9(0x59a)],0x7d0);let _0x5a652c=Math['round'](this[_0x5ef5e9(0x59a)]/0xea60);if(_0x28a351){let _0x235395=new Date(_0x28a351[_0x5ef5e9(0x219)])[_0x5ef5e9(0x60a)]();this[_0x5ef5e9(0x131)][_0x5ef5e9(0xc1)](this[_0x5ef5e9(0x2b3)]+'\x20('+this[_0x5ef5e9(0x526)][_0x5ef5e9(0x547)]+_0x5ef5e9(0x447)+_0x235395+_0x5ef5e9(0x200)+_0x5a652c+'\x20minutos');}else this['logger'][_0x5ef5e9(0xc1)](this[_0x5ef5e9(0x2b3)]+'\x20('+this[_0x5ef5e9(0x526)][_0x5ef5e9(0x547)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x5a652c+_0x5ef5e9(0x596));setTimeout(()=>this[_0x5ef5e9(0x291)](),this[_0x5ef5e9(0x59a)]);};if(this[_0x427b78(0x140)]){await this[_0x427b78(0x3cb)](),_0x1cc4b4();return;}if(!this['isConnected']){this['logger'][_0x427b78(0xc1)](this[_0x427b78(0x2b3)]+'\x20('+this[_0x427b78(0x526)][_0x427b78(0x547)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x427b78(0x140)]=null,this[_0x427b78(0x202)]=0x0,this[_0x427b78(0x59a)]=0x0;return;}try{let _0x57cad9=await _0x4e5285();_0x57cad9[_0x427b78(0x6ea)]===0x0?this[_0x427b78(0x131)]['verbose'](this[_0x427b78(0x2b3)]+'\x20('+this[_0x427b78(0x526)][_0x427b78(0x547)]+_0x427b78(0x31c)):(this['processingScheduleMessageId']=_0x57cad9[0x0][_0x427b78(0x168)],await _0x32aa15(_0x57cad9)),await _0x1a10eb(),this[_0x427b78(0x140)]=null;}catch(_0x137aed){this[_0x427b78(0x131)][_0x427b78(0x32e)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x137aed instanceof Error?_0x137aed[_0x427b78(0x5e9)]:JSON[_0x427b78(0x5f1)](_0x137aed,null,0x2)));}}[a0_0x374876(0x58b)](_0x4e0727,_0x125733){const _0x366be2=a0_0x374876;return _0x4e0727=Math[_0x366be2(0x260)](0.5,_0x4e0727),_0x125733=Math[_0x366be2(0x306)](Math['max'](0x3,_0x125733),0x78),Math['floor'](Math[_0x366be2(0x5bf)]()*(_0x125733-_0x4e0727+0x1)+_0x4e0727)*0x3e8;}[a0_0x374876(0x15d)](_0x50564d){return new Promise(_0x44e9d9=>setTimeout(_0x44e9d9,_0x50564d));}async['getVariablesChat'](_0x1fe78b){const _0x145ec3=a0_0x374876;if(!this[_0x145ec3(0x109)]&&(await this[_0x145ec3(0x4b4)](),!this[_0x145ec3(0x109)]))return null;_0x1fe78b=this[_0x145ec3(0x348)](_0x1fe78b);let _0x414c89=await this[_0x145ec3(0x6e8)][_0x145ec3(0x25d)][_0x145ec3(0x108)]({'where':{'_id':_0x1fe78b}},this[_0x145ec3(0x526)]['wuid']),_0x2b50fa={};if(_0x414c89&&_0x414c89[_0x145ec3(0x4bd)]){let _0x8dcbc0=_0x414c89[_0x145ec3(0x4bd)];typeof _0x8dcbc0[_0x145ec3(0x408)]=='string'&&(_0x2b50fa[_0x145ec3(0x408)]=_0x8dcbc0[_0x145ec3(0x408)]),typeof _0x8dcbc0[_0x145ec3(0x45c)]==_0x145ec3(0x383)&&(_0x2b50fa[_0x145ec3(0x45c)]=_0x8dcbc0['nomecompleto']),typeof _0x8dcbc0[_0x145ec3(0x564)]=='string'&&(_0x2b50fa['email']=_0x8dcbc0['email']),typeof _0x8dcbc0[_0x145ec3(0x1ba)]==_0x145ec3(0x383)&&(_0x2b50fa[_0x145ec3(0x1ba)]=_0x8dcbc0[_0x145ec3(0x1ba)]),typeof _0x8dcbc0[_0x145ec3(0x3d2)]==_0x145ec3(0x383)&&(_0x2b50fa[_0x145ec3(0x3d2)]=_0x8dcbc0[_0x145ec3(0x3d2)]),typeof _0x8dcbc0[_0x145ec3(0x13c)]=='string'&&(_0x2b50fa[_0x145ec3(0x13c)]=_0x8dcbc0[_0x145ec3(0x13c)]),typeof _0x8dcbc0[_0x145ec3(0x2e3)]==_0x145ec3(0x383)&&(_0x2b50fa[_0x145ec3(0x2e3)]=_0x8dcbc0[_0x145ec3(0x2e3)]),Array[_0x145ec3(0x253)](_0x8dcbc0[_0x145ec3(0x3dd)])&&(_0x2b50fa[_0x145ec3(0x3dd)]=_0x8dcbc0['tags'][_0x145ec3(0x679)](',\x20')),Array[_0x145ec3(0x253)](_0x8dcbc0[_0x145ec3(0x2c5)])&&(_0x2b50fa[_0x145ec3(0x2c5)]=_0x8dcbc0[_0x145ec3(0x2c5)][_0x145ec3(0x679)](',\x20'));}return _0x414c89&&_0x414c89[_0x145ec3(0x4bd)]&&_0x414c89[_0x145ec3(0x4bd)][_0x145ec3(0x74b)]&&_0x414c89[_0x145ec3(0x4bd)]['customFields'][_0x145ec3(0x489)](_0x1a91b8=>{const _0x2f9301=_0x145ec3;let _0x245364=this[_0x2f9301(0x109)]?.[_0x2f9301(0x74b)][_0x2f9301(0x441)](_0x3381c8=>_0x3381c8[_0x2f9301(0x168)]===_0x1a91b8[_0x2f9301(0x168)]);_0x245364&&(_0x2b50fa[_0x245364[_0x2f9301(0x2f4)]]=_0x1a91b8[_0x2f9301(0x580)]);}),_0x2b50fa;}async['replaceVariablesChat'](_0x3619ad,_0x5e29ae){const _0x15219c=a0_0x374876;let _0x165201=await this[_0x15219c(0x5e4)](_0x5e29ae);return this[_0x15219c(0x139)](_0x3619ad,_0x165201);}async[a0_0x374876(0x517)](_0x4c1fa4){const _0x196aa0=a0_0x374876;try{if(this['logger'][_0x196aa0(0xc1)](this[_0x196aa0(0x2b3)]+'\x20('+this[_0x196aa0(0x526)][_0x196aa0(0x547)]+_0x196aa0(0x252)),_0x4c1fa4[_0x196aa0(0x454)]&&_0x4c1fa4[_0x196aa0(0x168)]){if(this[_0x196aa0(0x140)]===_0x4c1fa4[_0x196aa0(0x168)][_0x196aa0(0x5ab)]())throw new Error(_0x196aa0(0x15b));let _0x111001=await this[_0x196aa0(0x6e8)]['scheduleMessage']['deleteOne'](_0x4c1fa4[_0x196aa0(0x168)],this['instance'][_0x196aa0(0x547)]);return setTimeout(()=>this[_0x196aa0(0x291)](),0x7d0),_0x111001;}let _0x525f26;if(_0x4c1fa4['_id']&&(_0x525f26=await this[_0x196aa0(0x6e8)][_0x196aa0(0x192)][_0x196aa0(0x594)](_0x4c1fa4['_id'],this[_0x196aa0(0x526)][_0x196aa0(0x547)])),_0x525f26){let _0xe16d4d;if(this['processingScheduleMessageId']===_0x525f26[_0x196aa0(0x168)]['toString']())_0xe16d4d={'$set':{'status':_0x4c1fa4['status']}};else{let {_id:_0x64bcb1,..._0x125551}=_0x4c1fa4;_0xe16d4d={'$set':_0x125551};}let _0x259d74=await this[_0x196aa0(0x6e8)][_0x196aa0(0x192)][_0x196aa0(0x2c9)](_0x4c1fa4[_0x196aa0(0x168)],_0xe16d4d,this['instance'][_0x196aa0(0x547)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x259d74;}else{_0x4c1fa4[_0x196aa0(0x4d5)]=this[_0x196aa0(0x526)][_0x196aa0(0x547)];let _0x24a27a=await this['repository'][_0x196aa0(0x192)][_0x196aa0(0x20e)](_0x4c1fa4,this[_0x196aa0(0x526)][_0x196aa0(0x547)]);return setTimeout(()=>this[_0x196aa0(0x291)](),0x7d0),_0x24a27a;}}catch(_0xbb3576){throw this[_0x196aa0(0x131)][_0x196aa0(0x32e)](this[_0x196aa0(0x2b3)]+'\x20('+this[_0x196aa0(0x526)][_0x196aa0(0x547)]+_0x196aa0(0x59c)+(_0xbb3576 instanceof Error?_0xbb3576[_0x196aa0(0x5e9)]:JSON[_0x196aa0(0x5f1)](_0xbb3576,null,0x2))),new w(_0x196aa0(0x6cc)+_0xbb3576[_0x196aa0(0x5e9)]);}}async[a0_0x374876(0x31a)](){const _0xde7ba1=a0_0x374876;try{return await this['repository'][_0xde7ba1(0x192)][_0xde7ba1(0x441)]({'where':{}},this[_0xde7ba1(0x526)][_0xde7ba1(0x547)]);}catch(_0x18d45a){throw this[_0xde7ba1(0x131)][_0xde7ba1(0x32e)](this[_0xde7ba1(0x2b3)]+'\x20('+this[_0xde7ba1(0x526)][_0xde7ba1(0x547)]+_0xde7ba1(0x393)+(_0x18d45a instanceof Error?_0x18d45a['message']:JSON[_0xde7ba1(0x5f1)](_0x18d45a,null,0x2))),new w(_0xde7ba1(0x6cc)+_0x18d45a[_0xde7ba1(0x5e9)]);}}async['deleteDoneMessages'](){const _0x29a763=a0_0x374876;try{let _0x5d2aa1={'status':_0x29a763(0x581)},_0x365bf1=await this['repository'][_0x29a763(0x192)][_0x29a763(0x284)](_0x5d2aa1,this[_0x29a763(0x526)][_0x29a763(0x547)]);if(!_0x365bf1[_0x29a763(0x32e)])this[_0x29a763(0x131)][_0x29a763(0xc1)](this[_0x29a763(0x2b3)]+'\x20('+this[_0x29a763(0x526)][_0x29a763(0x547)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x365bf1['error'][_0x29a763(0x5e9)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x460266){throw this[_0x29a763(0x131)][_0x29a763(0x32e)](this[_0x29a763(0x2b3)]+'\x20('+this[_0x29a763(0x526)][_0x29a763(0x547)]+_0x29a763(0x2fb)+(_0x460266 instanceof Error?_0x460266['message']:JSON[_0x29a763(0x5f1)](_0x460266,null,0x2))),new w(_0x29a763(0x6cc)+_0x460266[_0x29a763(0x5e9)]);}}async['SendScheduleMessage'](_0x2e70da,_0x211b70){const _0x3c06ed=a0_0x374876;try{if(_0x211b70[_0x3c06ed(0x575)]===_0x3c06ed(0x3e9)&&!this[_0x3c06ed(0x109)]?.[_0x3c06ed(0x3a5)][_0x3c06ed(0x523)])return this[_0x3c06ed(0x131)][_0x3c06ed(0x32e)](this['instanceName']+'\x20('+this['instance'][_0x3c06ed(0x547)]+_0x3c06ed(0x512)),{'error':!0x0,'detail':_0x3c06ed(0x442)};switch(_0x211b70[_0x3c06ed(0x575)]){case _0x3c06ed(0x215):return await this['scheduleSendText'](_0x211b70,_0x2e70da);case _0x3c06ed(0x381):return await this[_0x3c06ed(0x273)](_0x211b70,_0x2e70da);case'audio':return await this[_0x3c06ed(0x42a)](_0x211b70,_0x2e70da);case _0x3c06ed(0x3e9):let _0x5052ee=new _e();return _0x5052ee['name']=_0x211b70[_0x3c06ed(0xbd)],_0x5052ee[_0x3c06ed(0x46a)]=_0x2e70da,await this[_0x3c06ed(0x389)](_0x5052ee);break;default:return this[_0x3c06ed(0x131)][_0x3c06ed(0x32e)](this[_0x3c06ed(0x2b3)]+'\x20('+this[_0x3c06ed(0x526)]['wuid']+_0x3c06ed(0x148)+_0x211b70['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x5c18eb){return this[_0x3c06ed(0x131)]['error'](this['instanceName']+'\x20('+this[_0x3c06ed(0x526)][_0x3c06ed(0x547)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x5c18eb instanceof Error?_0x5c18eb['message']:JSON[_0x3c06ed(0x5f1)](_0x5c18eb,null,0x2))),{'error':!0x0,'detail':_0x5c18eb['message']};}}['getRandomText'](_0x181387){const _0x5c405b=a0_0x374876;let _0x23a9d8=_0x181387[_0x5c405b(0x443)]('|'),_0x21dcf0=Math[_0x5c405b(0x2ee)](Math['random']()*_0x23a9d8[_0x5c405b(0x6ea)]);return _0x23a9d8[_0x21dcf0][_0x5c405b(0x3ba)]();}async[a0_0x374876(0x20f)](_0x2c0d9d,_0x26f302){const _0x5884f7=a0_0x374876;if(this[_0x5884f7(0x131)]['verbose'](this[_0x5884f7(0x2b3)]+'\x20('+this['instance']['wuid']+_0x5884f7(0x144)),!_0x2c0d9d[_0x5884f7(0x5e9)][_0x5884f7(0x215)]||_0x2c0d9d[_0x5884f7(0x5e9)][_0x5884f7(0x215)][_0x5884f7(0x6ea)]===0x0)return{'error':!0x0,'detail':_0x5884f7(0x3bb)};let _0x42f10d=this['getRandomText'](_0x2c0d9d['message']['text']),_0x3752e4=await this[_0x5884f7(0x22a)](_0x42f10d,_0x26f302),_0x1d3ba1={'number':_0x26f302,'options':{'delay':_0x2c0d9d[_0x5884f7(0x5e9)][_0x5884f7(0x37f)]},'textMessage':{'text':_0x3752e4}},_0x400808=null;try{let _0x4e97bc=await this[_0x5884f7(0x50f)](_0x1d3ba1);if(_0x4e97bc&&_0x4e97bc[_0x5884f7(0x3d2)])return{'error':!0x1,'id':_0x4e97bc[_0x5884f7(0x674)]['id']};_0x400808=JSON[_0x5884f7(0x5f1)](_0x4e97bc),this[_0x5884f7(0x131)][_0x5884f7(0xc1)](this[_0x5884f7(0x2b3)]+'\x20('+this['instance'][_0x5884f7(0x547)]+_0x5884f7(0x1c6)+_0x400808);}catch(_0x1f9769){this[_0x5884f7(0x131)][_0x5884f7(0x32e)](this[_0x5884f7(0x2b3)]+'\x20('+this['instance'][_0x5884f7(0x547)]+_0x5884f7(0x708)+(_0x1f9769 instanceof Error?_0x1f9769[_0x5884f7(0x5e9)]:JSON[_0x5884f7(0x5f1)](_0x1f9769,null,0x2))),_0x400808=_0x1f9769[_0x5884f7(0x5e9)];}if(_0x400808)return{'error':!0x0,'detail':(typeof _0x400808==_0x5884f7(0x6a3)?JSON[_0x5884f7(0x5f1)](_0x400808,null,0x2):_0x400808)[_0x5884f7(0x6fa)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x374876(0x273)](_0x3c3fe5,_0x289ab7){const _0x48580f=a0_0x374876;this['logger'][_0x48580f(0xc1)](this['instanceName']+'\x20('+this[_0x48580f(0x526)]['wuid']+_0x48580f(0x246));let _0xea04f4;if(_0x3c3fe5[_0x48580f(0x5e9)]['text']&&_0x3c3fe5[_0x48580f(0x5e9)][_0x48580f(0x215)][_0x48580f(0x6ea)]>0x0){let _0x2e9f05=this[_0x48580f(0x6b3)](_0x3c3fe5[_0x48580f(0x5e9)]['text']);_0xea04f4=await this[_0x48580f(0x22a)](_0x2e9f05,_0x289ab7);}let _0x43e78a={'number':_0x289ab7,'options':{'delay':_0x3c3fe5[_0x48580f(0x5e9)][_0x48580f(0x37f)]},'mediaMessage':{'mediatype':_0x3c3fe5[_0x48580f(0x5e9)]['mediatype'],'caption':_0xea04f4,'media':_0x3c3fe5['message'][_0x48580f(0x5d0)]}},_0x57cb17=null;try{let _0x54d3e5=await this[_0x48580f(0x487)](_0x43e78a);if(_0x54d3e5&&_0x54d3e5[_0x48580f(0x3d2)])return{'error':!0x1,'id':_0x54d3e5[_0x48580f(0x674)]['id']};_0x57cb17=JSON[_0x48580f(0x5f1)](_0x54d3e5),this[_0x48580f(0x131)][_0x48580f(0xc1)](this[_0x48580f(0x2b3)]+'\x20('+this[_0x48580f(0x526)]['wuid']+_0x48580f(0x1c6)+_0x57cb17);}catch(_0x1c049c){this[_0x48580f(0x131)][_0x48580f(0x32e)](this['instanceName']+'\x20('+this[_0x48580f(0x526)][_0x48580f(0x547)]+_0x48580f(0x336)+(_0x1c049c instanceof Error?_0x1c049c[_0x48580f(0x5e9)]:JSON[_0x48580f(0x5f1)](_0x1c049c,null,0x2))),_0x57cb17=_0x1c049c[_0x48580f(0x5e9)];}if(_0x57cb17)return{'error':!0x0,'detail':(typeof _0x57cb17==_0x48580f(0x6a3)?JSON[_0x48580f(0x5f1)](_0x57cb17,null,0x2):_0x57cb17)[_0x48580f(0x6fa)](/[\[\]{}\n]/g,'\x20')[_0x48580f(0x6fa)](/  +/g,'\x20')};}async[a0_0x374876(0x42a)](_0x3faf77,_0x506e10){const _0x3e90bf=a0_0x374876;this[_0x3e90bf(0x131)][_0x3e90bf(0xc1)](this[_0x3e90bf(0x2b3)]+'\x20('+this['instance'][_0x3e90bf(0x547)]+'):\x20Enviando\x20áudio');let _0x31a4c8={'number':_0x506e10,'options':{'delay':_0x3faf77['message'][_0x3e90bf(0x37f)]},'audioMessage':{'audio':_0x3faf77[_0x3e90bf(0x5e9)][_0x3e90bf(0x5d0)]}},_0x5176ba=null;try{let _0x19036d=await this['audioWhatsapp'](_0x31a4c8);if(_0x19036d&&_0x19036d[_0x3e90bf(0x3d2)])return{'error':!0x1,'id':_0x19036d[_0x3e90bf(0x674)]['id']};_0x5176ba=JSON['stringify'](_0x19036d),this[_0x3e90bf(0x131)]['verbose'](this[_0x3e90bf(0x2b3)]+'\x20('+this[_0x3e90bf(0x526)]['wuid']+_0x3e90bf(0x1c6)+_0x5176ba);}catch(_0x42a41d){this[_0x3e90bf(0x131)][_0x3e90bf(0x32e)](this[_0x3e90bf(0x2b3)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x42a41d instanceof Error?_0x42a41d[_0x3e90bf(0x5e9)]:JSON[_0x3e90bf(0x5f1)](_0x42a41d,null,0x2))),_0x5176ba=_0x42a41d[_0x3e90bf(0x5e9)];}if(_0x5176ba)return{'error':!0x0,'detail':(typeof _0x5176ba==_0x3e90bf(0x6a3)?JSON[_0x3e90bf(0x5f1)](_0x5176ba,null,0x2):_0x5176ba)[_0x3e90bf(0x6fa)](/[\[\]{}\n]/g,'\x20')[_0x3e90bf(0x6fa)](/  +/g,'\x20')};}},$t=class c{constructor(_0x278fe8,_0x2baf42,_0x3a352b){const _0x5b3bed=a0_0x374876;this[_0x5b3bed(0x3dc)]=_0x278fe8,this[_0x5b3bed(0x5c8)]=_0x2baf42,this[_0x5b3bed(0x6e8)]=_0x3a352b,this['db']={},this['redis']={},this[_0x5b3bed(0x131)]=new N(c['name']),this[_0x5b3bed(0x569)]={},(this[_0x5b3bed(0x612)](),this[_0x5b3bed(0x153)](),Object[_0x5b3bed(0x598)](this['db'],_0x2baf42[_0x5b3bed(0x34c)](_0x5b3bed(0x326))),Object['assign'](this[_0x5b3bed(0x5e5)],_0x2baf42['get'](_0x5b3bed(0x2bc))),this[_0x5b3bed(0x3f3)]=this['db'][_0x5b3bed(0x258)]?this[_0x5b3bed(0x6e8)][_0x5b3bed(0x1d8)]?.['db'](this['db']['CONNECTION'][_0x5b3bed(0x638)]+_0x5b3bed(0x560)):void 0x0,this[_0x5b3bed(0x10a)]=this[_0x5b3bed(0x5e5)][_0x5b3bed(0x258)]?new re(this[_0x5b3bed(0x5e5)]):void 0x0);}async[a0_0x374876(0x576)](_0x24ce9b){const _0x1a9a8f=a0_0x374876;if(_0x24ce9b&&!this[_0x1a9a8f(0x569)][_0x24ce9b])throw new k(_0x1a9a8f(0x36e)+_0x24ce9b+_0x1a9a8f(0x4a2));let _0x47f776=[];for await(let [_0x58d4cf,_0xd752c]of Object[_0x1a9a8f(0x337)](this[_0x1a9a8f(0x569)]))if(_0xd752c&&_0xd752c['connectionStatus']['state']===_0x1a9a8f(0x2f1)){let _0x484473=await this[_0x1a9a8f(0x6e8)]['auth'][_0x1a9a8f(0x441)](_0x58d4cf);_0x47f776[_0x1a9a8f(0x36f)]({'instance':{'instanceName':_0x58d4cf,'apikey':_0x484473[_0x1a9a8f(0x4b5)],'owner':_0xd752c[_0x1a9a8f(0x547)],'profileName':await _0xd752c[_0x1a9a8f(0x4b8)]()||_0x1a9a8f(0x2d8),'profilePictureUrl':_0xd752c[_0x1a9a8f(0x5f0)]}});}return _0x47f776[_0x1a9a8f(0x441)](_0x173cfe=>_0x173cfe[_0x1a9a8f(0x526)]['instanceName']===_0x24ce9b)??_0x47f776;}async[a0_0x374876(0x250)](_0x7f232b){const _0x1a6bb5=a0_0x374876;if(this['db']['ENABLED']&&(await this[_0x1a6bb5(0x6e8)][_0x1a6bb5(0x1d8)][_0x1a6bb5(0x61a)](),(await this['dbInstance'][_0x1a6bb5(0x534)]())[_0x1a6bb5(0x6ea)]>0x0&&await this[_0x1a6bb5(0x3f3)]['dropCollection'](_0x7f232b)),this[_0x1a6bb5(0x5e5)][_0x1a6bb5(0x258)]){this[_0x1a6bb5(0x10a)][_0x1a6bb5(0x439)]=_0x7f232b,await this[_0x1a6bb5(0x10a)][_0x1a6bb5(0x3c3)]();return;}}async[a0_0x374876(0x3c4)](){const _0x3d4a35=a0_0x374876;await this[_0x3d4a35(0xc9)]();let _0x3afe0f=async _0x5936f4=>{const _0x513407=_0x3d4a35;let _0x57c278=new ye(this['configService'],this[_0x513407(0x3dc)],this[_0x513407(0x6e8)]);_0x57c278['instanceName']=_0x5936f4,await _0x57c278['connectToWhatsapp'](),this[_0x513407(0x569)][_0x5936f4]=_0x57c278;};try{if(this[_0x3d4a35(0x5e5)]['ENABLED']){let _0x3c2636=await this['cache'][_0x3d4a35(0x478)]();_0x3c2636?.[_0x3d4a35(0x6ea)]>0x0&&_0x3c2636[_0x3d4a35(0x489)](async _0x3f6d42=>await _0x3afe0f(_0x3f6d42[_0x3d4a35(0x443)](':')[0x1]));return;}if(this['db'][_0x3d4a35(0x258)]){await this[_0x3d4a35(0x6e8)][_0x3d4a35(0x1d8)][_0x3d4a35(0x61a)]();let _0x78811d=await this[_0x3d4a35(0x3f3)]['collections']();_0x78811d['length']>0x0&&_0x78811d[_0x3d4a35(0x489)](async _0x59dadb=>await _0x3afe0f(_0x59dadb[_0x3d4a35(0x66f)][_0x3d4a35(0x6fa)](/^[\w-]+\./,'')));return;}}catch(_0x270bf){this[_0x3d4a35(0x131)][_0x3d4a35(0x32e)](_0x270bf);}}async[a0_0x374876(0x562)](){const _0x587f63=a0_0x374876;let _0x262e8f=await this[_0x587f63(0x6e8)][_0x587f63(0x558)][_0x587f63(0x53b)](),_0x3b26ba=_0x262e8f['filter'](_0x444b97=>!this[_0x587f63(0x569)][_0x444b97[_0x587f63(0x168)]]&&(_0x444b97[_0x587f63(0x6d7)]||typeof _0x444b97[_0x587f63(0x6d7)]>'u'));_0x3b26ba[_0x587f63(0x6ea)]>0x0&&await Promise[_0x587f63(0x361)](_0x3b26ba['map'](async _0x3f9a9c=>{const _0x3d2c57=_0x587f63;let _0x2fc890={'online':!0x1,'lastDisconnect':Date[_0x3d2c57(0x4e5)]()};await this[_0x3d2c57(0x6e8)]['auth']['create'](_0x2fc890,_0x3f9a9c['_id']);}));let _0x219e5b=Date[_0x587f63(0x4e5)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x3fe59c=_0x262e8f['filter'](_0x90b9f9=>!this[_0x587f63(0x569)][_0x90b9f9[_0x587f63(0x168)]]&&typeof _0x90b9f9['lastDisconnect']<'u'&&_0x90b9f9[_0x587f63(0xfd)]<_0x219e5b);_0x3fe59c['length']>0x0&&await Promise[_0x587f63(0x361)](_0x3fe59c[_0x587f63(0x675)](async _0x4da15e=>{}));}async[a0_0x374876(0xc9)](){const _0x19b0eb=a0_0x374876;try{let _0x54124c={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x462f9a={'online':!0x1,'lastDisconnect':Date[_0x19b0eb(0x4e5)]()},_0x414be6=await this['repository'][_0x19b0eb(0x558)]['updateAll'](_0x54124c,_0x462f9a);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x414be6[_0x19b0eb(0x6c6)]),await this[_0x19b0eb(0x434)]();}catch(_0x5e7376){console['error'](_0x19b0eb(0x567),_0x5e7376);}}async[a0_0x374876(0x434)](){const _0x403227=a0_0x374876;try{let _0x261efe={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x122951=await this[_0x403227(0x6e8)]['auth'][_0x403227(0x284)](_0x261efe);console['log'](_0x403227(0x1de)+_0x122951[_0x403227(0x6c6)]);}catch(_0x5b4c2b){console[_0x403227(0x32e)](_0x403227(0x566),_0x5b4c2b);}}[a0_0x374876(0x612)](){const _0x1b7f69=a0_0x374876;this[_0x1b7f69(0x3dc)]['on'](_0x1b7f69(0x426),async _0x402c91=>{const _0x9ece5d=_0x1b7f69;try{this[_0x9ece5d(0x569)][_0x402c91]=void 0x0;}catch{}try{this[_0x9ece5d(0x250)](_0x402c91);}finally{this[_0x9ece5d(0x131)]['warn'](_0x9ece5d(0x36e)+_0x402c91+_0x9ece5d(0x12a));}});}['noConnection'](){const _0x35e9e8=a0_0x374876;this['eventEmitter']['on'](_0x35e9e8(0xd7),async _0x496ea5=>{const _0x565559=_0x35e9e8;try{this[_0x565559(0x569)][_0x496ea5]=void 0x0;}catch{}try{this[_0x565559(0x250)](_0x496ea5);}finally{this[_0x565559(0x131)]['warn'](_0x565559(0x36e)+_0x496ea5+_0x565559(0x339));}});}},kt=class extends x{[a0_0x374876(0x451)](_0x5c1d83){return Vs(_0x5c1d83);}async[a0_0x374876(0x4e6)](_0x4ec5dc){const _0x479fbc=a0_0x374876;if(_0x4ec5dc[_0x479fbc(0x6ea)]!==0x0)try{return{'insertCount':(await this[_0x479fbc(0x451)](_0x4ec5dc[0x0][_0x479fbc(0x4d5)])[_0x479fbc(0x641)]([..._0x4ec5dc]))[_0x479fbc(0x6ea)]};}catch(_0x29a239){return _0x29a239;}}async[a0_0x374876(0x441)](_0x175f86,_0x59c453){const _0x57a9db=a0_0x374876;try{let _0x16c4b2=this['getChatModelForOwner'](_0x59c453),_0x8224b=A(_0x175f86['where']);return await _0x16c4b2[_0x57a9db(0x441)](_0x8224b)[_0x57a9db(0x1ab)]({'lastmsg':-0x1})[_0x57a9db(0xe7)](_0x175f86?.[_0x57a9db(0xe7)]??0x0)[_0x57a9db(0x449)]();}catch{return[];}}async[a0_0x374876(0xd4)](_0x425b9b,_0x531e1d){const _0x4c34ae=a0_0x374876;try{return await this[_0x4c34ae(0x451)](_0x531e1d)[_0x4c34ae(0x284)]({..._0x425b9b[_0x4c34ae(0x66c)]}),[];}catch(_0x4f6b42){return{'error':_0x4f6b42?.[_0x4c34ae(0x5ab)]()};}}async[a0_0x374876(0x108)](_0x29caf1,_0x510aab){const _0x1b606d=a0_0x374876;try{let _0x17da3c=this[_0x1b606d(0x451)](_0x510aab),_0x50e349=A(_0x29caf1['where']);return await _0x17da3c['findOne'](_0x50e349)['lean']();}catch{return null;}}async[a0_0x374876(0x6fe)](_0x428f48,_0x1aa792,_0x3dbf79,_0x56107f,_0x3192c3='$set'){const _0x219996=a0_0x374876;try{let _0x488713={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x56107f},_0xd82822=this[_0x219996(0x451)](_0x3dbf79),_0x57b9b6=A(_0x428f48[_0x219996(0x66c)]);Object[_0x219996(0x583)](_0x1aa792)[_0x219996(0x489)](_0x35a0db=>{_0x1aa792[_0x35a0db]==null&&delete _0x1aa792[_0x35a0db];});let _0x4e1181={};return _0x4e1181[_0x3192c3]=_0x1aa792,await _0xd82822[_0x219996(0x468)](_0x57b9b6,_0x4e1181,_0x488713);}catch(_0x2aa0d4){return console[_0x219996(0x32e)](_0x2aa0d4),null;}}async[a0_0x374876(0x5de)](_0x380238){const _0x281d20=a0_0x374876;try{let _0x1f5480=this[_0x281d20(0x451)](_0x380238[0x0][_0x281d20(0x58a)][_0x281d20(0x66c)][_0x281d20(0x4d5)]),_0x2bb5c7=_0x380238[_0x281d20(0x675)](_0x194066=>({'updateOne':{'filter':{..._0x194066['query']['where']},'update':{'$set':_0x194066[_0x281d20(0x4dc)]},'upsert':!0x0}})),_0x1c5818=await _0x1f5480['bulkWrite'](_0x2bb5c7);return _0x1c5818['modifiedCount']+_0x1c5818['upsertedCount'];}catch(_0x24e065){return console[_0x281d20(0x32e)](_0x24e065),0x0;}}async[a0_0x374876(0x301)](_0x288af9){const _0x3355b2=a0_0x374876;try{let _0x3a83cd=this[_0x3355b2(0x451)](_0x288af9),_0x4ab90d={'labels':{'$exists':!0x0}},_0x377d4e={'$unset':{'labels':''}};return(await _0x3a83cd[_0x3355b2(0x5de)](_0x4ab90d,_0x377d4e))[_0x3355b2(0x4f6)];}catch(_0xba0989){return console[_0x3355b2(0x32e)](_0xba0989),0x0;}}async['updateMissingEtiquetas'](_0x5dc21e){const _0x1f88aa=a0_0x374876;try{let _0x6c2ef3=this['getChatModelForOwner'](_0x5dc21e),_0xbee70a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x53fc97={'$set':{'leadInfo.etiquetas':[]}};return(await _0x6c2ef3[_0x1f88aa(0x5de)](_0xbee70a,_0x53fc97))[_0x1f88aa(0x4f6)];}catch(_0x4669d1){return console[_0x1f88aa(0x32e)](_0x4669d1),0x0;}}async[a0_0x374876(0x742)](_0x5e2343){const _0x2c8af7=a0_0x374876;try{let _0x16ef1e=this['getChatModelForOwner'](_0x5e2343),_0x46564f={'leadInfo.tags':{'$exists':!0x1}},_0x39f98b={'$set':{'leadInfo.tags':[]}};return(await _0x16ef1e['updateMany'](_0x46564f,_0x39f98b))[_0x2c8af7(0x4f6)];}catch(_0x46cd14){return console[_0x2c8af7(0x32e)](_0x46cd14),0x0;}}async[a0_0x374876(0x1a7)](_0x352572){const _0x9b2add=a0_0x374876;try{let _0x2cfde8=this[_0x9b2add(0x451)](_0x352572),_0x1eb164={'leadInfo.customFields':{'$exists':!0x1}},_0x3bb244={'$set':{'leadInfo.customFields':[]}};return(await _0x2cfde8[_0x9b2add(0x5de)](_0x1eb164,_0x3bb244))['modifiedCount'];}catch(_0xf62c6){return console[_0x9b2add(0x32e)](_0xf62c6),0x0;}}async[a0_0x374876(0x641)](_0x47f58b,_0xdba8f1){const _0x5df562=a0_0x374876;if(!Array[_0x5df562(0x253)](_0x47f58b)||_0x47f58b[_0x5df562(0x6ea)]===0x0)throw new Error(_0x5df562(0x670));try{return(await this[_0x5df562(0x451)](_0xdba8f1)[_0x5df562(0x641)](_0x47f58b))[_0x5df562(0x6ea)];}catch(_0xf6429b){throw console[_0x5df562(0x32e)](_0x5df562(0x218),_0xf6429b),_0xf6429b;}}async[a0_0x374876(0x634)](_0x572add,_0x15dee7){const _0x1813cd=a0_0x374876;try{await this[_0x1813cd(0x451)](_0x15dee7)[_0x1813cd(0x6f6)]({'_id':_0x572add});}catch(_0x3f5e27){throw console[_0x1813cd(0x32e)](_0x1813cd(0x420),_0x3f5e27),_0x3f5e27;}}},Lt=class extends x{[a0_0x374876(0x386)](_0x7f1636){return ha(_0x7f1636);}async[a0_0x374876(0x6fe)](_0x2c2e72,_0x308f6c,_0x3f64f0,_0x5c77e1){const _0x58a622=a0_0x374876;try{let _0x5c3ddf={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5c77e1},_0x28bf0a=this[_0x58a622(0x386)](_0x3f64f0),_0x2ebb5e=A(_0x2c2e72['where']);return await _0x28bf0a[_0x58a622(0x468)](_0x2ebb5e,{'$set':_0x308f6c},_0x5c3ddf);}catch(_0x27296){return console[_0x58a622(0x32e)](_0x27296),null;}}async[a0_0x374876(0x441)](_0x66a5e0,_0x14d608){const _0xc0dcfd=a0_0x374876;try{let _0x32c273=this[_0xc0dcfd(0x386)](_0x14d608),_0x31b1f7=A(_0x66a5e0[_0xc0dcfd(0x66c)]);return await _0x32c273['find'](_0x31b1f7);}catch(_0x392a41){console['error'](_0x392a41);}}async[a0_0x374876(0x454)](_0x364568,_0xff0c76){const _0x3600f0=a0_0x374876;try{let _0x15e34d=this[_0x3600f0(0x386)](_0xff0c76),_0x1f96dd=A(_0x364568[_0x3600f0(0x66c)]);await _0x15e34d[_0x3600f0(0x284)](_0x1f96dd);}catch(_0x481316){console[_0x3600f0(0x32e)](_0x481316);}}async[a0_0x374876(0xd4)](_0x574037){const _0x539739=a0_0x374876;try{return await this['getLabelModelForOwner'](_0x574037)['collection'][_0x539739(0x36b)](),{'success':!0x0};}catch(_0x3e8798){return console[_0x539739(0x32e)](_0x3e8798),{'success':!0x1,'error':_0x3e8798};}}},Ft=class{constructor(_0x2bab6f){const _0x1a7c9b=a0_0x374876;this[_0x1a7c9b(0x3b4)]=_0x2bab6f;}async['editChat']({instanceName:_0x44dbea},_0x4fe28d){const _0x5287e1=a0_0x374876;return await this['waMonitor'][_0x5287e1(0x569)][_0x44dbea][_0x5287e1(0x179)](_0x4fe28d);}async[a0_0x374876(0x30b)]({instanceName:_0x1c0b68},_0x353cde){const _0x1b1d5c=a0_0x374876;return await this['waMonitor']['waInstances'][_0x1c0b68][_0x1b1d5c(0x30b)](_0x353cde);}async['importChats']({instanceName:_0x3e9b2c},_0x20a44d){const _0xfab11a=a0_0x374876;return await this['waMonitor']['waInstances'][_0x3e9b2c][_0xfab11a(0x227)](_0x20a44d);}async['readMessage']({instanceName:_0x12320c},_0x56aa56){const _0x19fe3d=a0_0x374876;return await this[_0x19fe3d(0x3b4)][_0x19fe3d(0x569)][_0x12320c][_0x19fe3d(0x4d2)](_0x56aa56);}async['archiveChat']({instanceName:_0x45a46d},_0x4475d9){const _0x912630=a0_0x374876;return await this[_0x912630(0x3b4)][_0x912630(0x569)][_0x45a46d][_0x912630(0x5b1)](_0x4475d9);}async['deleteMessage']({instanceName:_0x225248},_0x229569){const _0x46d610=a0_0x374876;return await this[_0x46d610(0x3b4)][_0x46d610(0x569)][_0x225248]['deleteMessage'](_0x229569);}async['fetchProfilePicture']({instanceName:_0x492f76},_0x45bb87){const _0x3bfd56=a0_0x374876;return await this[_0x3bfd56(0x3b4)]['waInstances'][_0x492f76][_0x3bfd56(0x5c2)](_0x45bb87['number']);}async[a0_0x374876(0x556)]({instanceName:_0x2c4fb9},_0x4c4dbf){const _0x48dc92=a0_0x374876;return await this[_0x48dc92(0x3b4)]['waInstances'][_0x2c4fb9][_0x48dc92(0x556)](_0x4c4dbf[_0x48dc92(0x67d)]);}async[a0_0x374876(0x3d7)]({instanceName:_0x15ba30},_0x3db7ca){const _0xf19d66=a0_0x374876;return await this[_0xf19d66(0x3b4)][_0xf19d66(0x569)][_0x15ba30][_0xf19d66(0x3d7)](_0x3db7ca);}async[a0_0x374876(0x3ee)]({instanceName:_0x462f12},_0x59047a){const _0x4438ec=a0_0x374876;return await this[_0x4438ec(0x3b4)][_0x4438ec(0x569)][_0x462f12][_0x4438ec(0x3ee)](_0x59047a);}async[a0_0x374876(0x655)]({instanceName:_0x467e45},_0x45748a){const _0x27a4a2=a0_0x374876;return await this[_0x27a4a2(0x3b4)][_0x27a4a2(0x569)][_0x467e45][_0x27a4a2(0x655)](_0x45748a);}async['fetchMessages']({instanceName:_0x430d66},_0x3151f6){const _0x35ca9d=a0_0x374876;return await this['waMonitor'][_0x35ca9d(0x569)][_0x430d66][_0x35ca9d(0x345)](_0x3151f6);}async[a0_0x374876(0x135)]({instanceName:_0x5f04b3}){const _0x199588=a0_0x374876;return await this[_0x199588(0x3b4)][_0x199588(0x569)][_0x5f04b3][_0x199588(0x135)]();}async['fetchChats']({instanceName:_0x601b16}){const _0x7918b2=a0_0x374876;return await this[_0x7918b2(0x3b4)]['waInstances'][_0x601b16][_0x7918b2(0x56e)]();}async['fetchPrivacySettings']({instanceName:_0x5669c4}){const _0x114a1a=a0_0x374876;return await this[_0x114a1a(0x3b4)][_0x114a1a(0x569)][_0x5669c4]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x52c2d2},_0x53c1e0){const _0x43ac08=a0_0x374876;return await this['waMonitor'][_0x43ac08(0x569)][_0x52c2d2][_0x43ac08(0x425)](_0x53c1e0);}async[a0_0x374876(0x494)]({instanceName:_0x52f2ce},_0x5631f9){const _0x502454=a0_0x374876;return await this[_0x502454(0x3b4)][_0x502454(0x569)][_0x52f2ce][_0x502454(0x494)](_0x5631f9[_0x502454(0x67d)]);}async[a0_0x374876(0x69b)]({instanceName:_0x55f1e3},_0x57247f){const _0x53c34f=a0_0x374876;return await this[_0x53c34f(0x3b4)][_0x53c34f(0x569)][_0x55f1e3][_0x53c34f(0x69b)](_0x57247f['name']);}async['updateProfileStatus']({instanceName:_0x19e11c},_0x1237e4){const _0x5f4170=a0_0x374876;return await this[_0x5f4170(0x3b4)]['waInstances'][_0x19e11c]['updateProfileStatus'](_0x1237e4[_0x5f4170(0x3d2)]);}async[a0_0x374876(0x4c3)]({instanceName:_0x4d7778},_0x2ccf31){const _0x980623=a0_0x374876;return await this['waMonitor'][_0x980623(0x569)][_0x4d7778]['updateProfilePicture'](_0x2ccf31['picture']);}async['removeProfilePicture']({instanceName:_0xb3d4e9},_0x43cbc8){const _0x2517b7=a0_0x374876;return await this[_0x2517b7(0x3b4)][_0x2517b7(0x569)][_0xb3d4e9][_0x2517b7(0x3c7)]();}},Ts=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x726d08,_0x2946f6,_0x42962c,_0x188e84,_0x14f154){const _0x20f767=a0_0x374876;this[_0x20f767(0x3b4)]=_0x726d08,this[_0x20f767(0x5c8)]=_0x2946f6,this['repository']=_0x42962c,this['eventEmitter']=_0x188e84,this[_0x20f767(0x61e)]=_0x14f154,this[_0x20f767(0x131)]=new N(c[_0x20f767(0x2f4)]);}async[a0_0x374876(0x628)]({instanceName:_0x3d1c96,apikey:_0x44803a,number:_0x554fbb,proxy:_0x544281=!0x0}){const _0x564317=a0_0x374876;try{let _0x29e739=new ye(this[_0x564317(0x5c8)],this['eventEmitter'],this[_0x564317(0x6e8)]);_0x29e739[_0x564317(0x2b3)]=_0x3d1c96,this['waMonitor']['waInstances'][_0x29e739[_0x564317(0x2b3)]]=_0x29e739;let _0x2ef778={};_0x44803a?(await this[_0x564317(0x6e8)]['auth']['create']({'apikey':_0x44803a},_0x3d1c96),_0x2ef778['apikey']=_0x44803a):_0x2ef778=await this['authService']['generateHash']({'instanceName':_0x29e739[_0x564317(0x2b3)]});let _0x50d53a;return await _0x29e739['connectToWhatsapp'](_0x554fbb),await(0x0,Ts[_0x564317(0x37f)])(0x7d0),_0x50d53a=_0x29e739['qrCode'],{'instance':{'instanceName':_0x29e739[_0x564317(0x2b3)],'status':_0x564317(0x329)},'hash':_0x2ef778,'qrcode':_0x50d53a};}catch(_0x1ecc77){this[_0x564317(0x131)][_0x564317(0x32e)](_0x1ecc77);}}async['connectToWhatsappController']({instanceName:_0x1dc719,number:_0x411282=null}){const _0x109bca=a0_0x374876;try{let _0x10caef=this['waMonitor'][_0x109bca(0x569)][_0x1dc719];switch(_0x10caef?.['connectionStatus']?.[_0x109bca(0x2af)]){case'close':return await _0x10caef[_0x109bca(0x19e)](_0x411282),await(0x0,Ts[_0x109bca(0x37f)])(0x7d0),_0x10caef[_0x109bca(0x604)];case'connecting':return _0x10caef[_0x109bca(0x604)];default:return await this[_0x109bca(0x2b5)]({'instanceName':_0x1dc719});}}catch(_0x5c7296){this[_0x109bca(0x131)]['log'](_0x5c7296);}}async['connectionState']({instanceName:_0xa8db3f}){const _0x5a1887=a0_0x374876;let _0x3a9833=this['waMonitor'][_0x5a1887(0x569)][_0xa8db3f]['connectionStatus'],_0x22102a=null;_0x3a9833['state']===_0x5a1887(0x2f1)&&_0xa8db3f&&(_0x22102a=await this[_0x5a1887(0x3b4)][_0x5a1887(0x576)](_0xa8db3f));let _0x355989=null;return _0x3a9833[_0x5a1887(0x2af)]===_0x5a1887(0x6a5)&&_0xa8db3f&&(_0x355989=this[_0x5a1887(0x3b4)]['waInstances'][_0xa8db3f][_0x5a1887(0x604)]),{'instance':_0xa8db3f,'connectionStatus':_0x3a9833,'instanceInfo':_0x22102a,'qrcode':_0x355989};}async[a0_0x374876(0xdb)]({instanceName:_0x3ea799}){const _0xbf514e=a0_0x374876;try{return this[_0xbf514e(0x3b4)][_0xbf514e(0x569)][_0x3ea799]?.['client']?.['ws']?.[_0xbf514e(0x368)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0xbf514e(0x51a)}};}catch(_0x2cc353){this[_0xbf514e(0x131)][_0xbf514e(0x32e)](_0x2cc353);}}async[a0_0x374876(0x66e)]({instanceName:_0x531985}){const _0x173493=a0_0x374876;return _0x531985?this[_0x173493(0x3b4)][_0x173493(0x576)](_0x531985):this[_0x173493(0x3b4)][_0x173493(0x576)]();}async[a0_0x374876(0x55d)]({instanceName:_0x4ae592}){const _0x214e8d=a0_0x374876;try{return await this[_0x214e8d(0x3b4)][_0x214e8d(0x569)][_0x4ae592]?.[_0x214e8d(0x6c7)]?.['logout'](_0x214e8d(0x2ab)+_0x4ae592),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x1fbc1a){throw new I(_0x1fbc1a[_0x214e8d(0x5ab)]());}}async[a0_0x374876(0x57f)]({instanceName:_0x5690fb}){const _0x37f915=a0_0x374876;if((await this['connectionState']({'instanceName':_0x5690fb}))[_0x37f915(0x159)][_0x37f915(0x2af)]===_0x37f915(0x2f1))throw new w([_0x37f915(0x519),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x37f915(0x3b4)][_0x37f915(0x569)][_0x5690fb],{'error':!0x1,'message':_0x37f915(0x1f7)};}catch(_0x17aac3){throw new w(_0x17aac3[_0x37f915(0x5ab)]());}}},X=require(a0_0x374876(0x4b3)),Ut=class{constructor(_0x38ef87){const _0x392e48=a0_0x374876;this[_0x392e48(0x3b4)]=_0x38ef87;}async[a0_0x374876(0x57a)]({instanceName:_0x5f2eeb},_0x42398d){const _0x5d5875=a0_0x374876;return await this[_0x5d5875(0x3b4)][_0x5d5875(0x569)][_0x5f2eeb][_0x5d5875(0x50f)](_0x42398d);}async[a0_0x374876(0x29d)]({instanceName:_0xbd8627},_0x337781){const _0x3bb936=a0_0x374876;return await this['waMonitor'][_0x3bb936(0x569)][_0xbd8627][_0x3bb936(0x4e1)](_0x337781);}async[a0_0x374876(0x1ff)]({instanceName:_0x372c7b},_0x9d2b27){const _0xdf87ef=a0_0x374876;if((0x0,X['isBase64'])(_0x9d2b27?.[_0xdf87ef(0x487)]?.[_0xdf87ef(0x381)])&&!_0x9d2b27?.[_0xdf87ef(0x487)]?.[_0xdf87ef(0x356)])throw new w(_0xdf87ef(0x158));if((0x0,X['isURL'])(_0x9d2b27?.[_0xdf87ef(0x487)]?.[_0xdf87ef(0x381)])||(0x0,X[_0xdf87ef(0x195)])(_0x9d2b27?.[_0xdf87ef(0x487)]?.[_0xdf87ef(0x381)]))return await this[_0xdf87ef(0x3b4)][_0xdf87ef(0x569)][_0x372c7b][_0xdf87ef(0x487)](_0x9d2b27);throw new w(_0xdf87ef(0x6f1));}async[a0_0x374876(0x226)]({instanceName:_0x2c0e82},_0x21d71b){const _0x30ba7b=a0_0x374876;if((0x0,X[_0x30ba7b(0x1f9)])(_0x21d71b[_0x30ba7b(0x257)][_0x30ba7b(0x61f)])||(0x0,X[_0x30ba7b(0x195)])(_0x21d71b['stickerMessage'][_0x30ba7b(0x61f)]))return await this[_0x30ba7b(0x3b4)][_0x30ba7b(0x569)][_0x2c0e82][_0x30ba7b(0x617)](_0x21d71b);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x374876(0x161)]({instanceName:_0x339146},_0x2fbc41){const _0x2312f6=a0_0x374876;if((0x0,X[_0x2312f6(0x1f9)])(_0x2fbc41[_0x2312f6(0x5c0)][_0x2312f6(0x511)])||(0x0,X['isBase64'])(_0x2fbc41['audioMessage'][_0x2312f6(0x511)]))return await this[_0x2312f6(0x3b4)][_0x2312f6(0x569)][_0x339146]['audioWhatsapp'](_0x2fbc41);throw new w(_0x2312f6(0x6f1));}async['sendButtons']({instanceName:_0x494fcc},_0x40df14){const _0x5795b0=a0_0x374876;if((0x0,X['isBase64'])(_0x40df14['buttonMessage'][_0x5795b0(0x487)]?.[_0x5795b0(0x381)])&&!_0x40df14['buttonMessage']['mediaMessage']?.[_0x5795b0(0x356)])throw new w(_0x5795b0(0x158));return await this[_0x5795b0(0x3b4)]['waInstances'][_0x494fcc][_0x5795b0(0x132)](_0x40df14);}async[a0_0x374876(0x5fa)]({instanceName:_0xff50b5},_0xf09913){return await this['waMonitor']['waInstances'][_0xff50b5]['locationMessage'](_0xf09913);}async[a0_0x374876(0x68d)]({instanceName:_0x107cec},_0x4191ab){const _0x3a31ef=a0_0x374876;return await this['waMonitor'][_0x3a31ef(0x569)][_0x107cec][_0x3a31ef(0x5e6)](_0x4191ab);}async['sendList']({instanceName:_0x7d9ff3},_0x438fa3){const _0x32b375=a0_0x374876;return await this[_0x32b375(0x3b4)][_0x32b375(0x569)][_0x7d9ff3]['listMessage'](_0x438fa3);}async[a0_0x374876(0x29b)]({instanceName:_0x159117},_0x13f289){const _0x55a4e0=a0_0x374876;return await this[_0x55a4e0(0x3b4)][_0x55a4e0(0x569)][_0x159117][_0x55a4e0(0x2b8)](_0x13f289);}async[a0_0x374876(0x696)]({instanceName:_0x277071},_0x290367){const _0x40dc58=a0_0x374876;if(!_0x290367[_0x40dc58(0x1c0)][_0x40dc58(0x350)][_0x40dc58(0xfa)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x40dc58(0x704));return await this[_0x40dc58(0x3b4)]['waInstances'][_0x277071][_0x40dc58(0x1c0)](_0x290367);}async[a0_0x374876(0x4ad)]({instanceName:_0x228758},_0x7b35fc){const _0x5446e4=a0_0x374876;return await this[_0x5446e4(0x3b4)]['waInstances'][_0x228758][_0x5446e4(0x587)](_0x7b35fc);}},Mr=require(a0_0x374876(0x603)),Os=require(a0_0x374876(0x695)),qt=class c{constructor(_0x5c6051,_0x43992f,_0x3d872c){const _0x511364=a0_0x374876;this[_0x511364(0x5c8)]=_0x5c6051,this[_0x511364(0x3b4)]=_0x43992f,this[_0x511364(0x6e8)]=_0x3d872c,this['logger']=new N(c['name']);}async[a0_0x374876(0x5c9)](_0x25536a){const _0x30479f=a0_0x374876;let _0x14951a=this['configService'][_0x30479f(0x34c)](_0x30479f(0x1fb))['JWT'],_0x4ae7d1=(0x0,Mr[_0x30479f(0x5af)])({'instanceName':_0x25536a[_0x30479f(0x2b3)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x14951a[_0x30479f(0x2cd)],{'expiresIn':_0x14951a[_0x30479f(0x630)],'encoding':_0x30479f(0x60c),'subject':'g-t'}),_0xddd339=await this[_0x30479f(0x6e8)][_0x30479f(0x558)][_0x30479f(0x37a)]({'jwt':_0x4ae7d1},_0x25536a[_0x30479f(0x2b3)]);if(_0xddd339[_0x30479f(0x32e)])throw this[_0x30479f(0x131)]['error']({'localError':c[_0x30479f(0x2f4)]+_0x30479f(0x3fc),'error':_0xddd339['error']}),new w(_0x30479f(0x314),_0xddd339[_0x30479f(0x32e)]?.['toString']());return{'jwt':_0x4ae7d1};}async[a0_0x374876(0x4b5)](_0x36b586){const _0x3d0bbe=a0_0x374876;let _0xa49141=(0x0,Os['v4'])()['toUpperCase'](),_0x1f4e34=await this[_0x3d0bbe(0x6e8)]['auth'][_0x3d0bbe(0x37a)]({'apikey':_0xa49141},_0x36b586[_0x3d0bbe(0x2b3)]);if(_0x1f4e34['error'])throw this[_0x3d0bbe(0x131)][_0x3d0bbe(0x32e)]({'localError':c[_0x3d0bbe(0x2f4)]+'.jwt','error':_0x1f4e34['error']}),new w('Authentication\x20error',_0x1f4e34[_0x3d0bbe(0x32e)]?.[_0x3d0bbe(0x5ab)]());return{'apikey':_0xa49141};}async[a0_0x374876(0x651)](_0x412f8a){const _0x1f1b0d=a0_0x374876;let _0x5c0827=this[_0x1f1b0d(0x5c8)][_0x1f1b0d(0x34c)](_0x1f1b0d(0x1fb));return await this[_0x5c0827[_0x1f1b0d(0x74d)]](_0x412f8a);}},Jt=class{constructor(_0x33f856){const _0x52c27d=a0_0x374876;this[_0x52c27d(0x3b4)]=_0x33f856;}async[a0_0x374876(0x732)](_0x3cf1f5,_0x3db3cd){const _0x36d490=a0_0x374876;return await this['waMonitor']['waInstances'][_0x3cf1f5[_0x36d490(0x2b3)]][_0x36d490(0x732)](_0x3db3cd);}async['updateGroupPicture'](_0x3f8214,_0x3098c2){const _0x4d7ede=a0_0x374876;return await this[_0x4d7ede(0x3b4)][_0x4d7ede(0x569)][_0x3f8214[_0x4d7ede(0x2b3)]][_0x4d7ede(0x5ed)](_0x3098c2);}async[a0_0x374876(0x535)](_0x1bbe1c,_0x269532){const _0x2910ac=a0_0x374876;return await this[_0x2910ac(0x3b4)][_0x2910ac(0x569)][_0x1bbe1c['instanceName']][_0x2910ac(0x535)](_0x269532);}async[a0_0x374876(0x193)](_0x4b9370,_0x810eba){const _0xc52e07=a0_0x374876;return await this['waMonitor'][_0xc52e07(0x569)][_0x4b9370[_0xc52e07(0x2b3)]][_0xc52e07(0x193)](_0x810eba);}async[a0_0x374876(0x237)](_0x41b423,_0x3085c5){const _0xd83699=a0_0x374876;return await this[_0xd83699(0x3b4)][_0xd83699(0x569)][_0x41b423[_0xd83699(0x2b3)]][_0xd83699(0x237)](_0x3085c5);}async[a0_0x374876(0x3b8)](_0xb3893f,_0x24a3d9){const _0x424551=a0_0x374876;return await this[_0x424551(0x3b4)][_0x424551(0x569)][_0xb3893f['instanceName']][_0x424551(0x49b)](_0x24a3d9);}async['findGroups'](_0x161609){const _0x38e331=a0_0x374876;return await this[_0x38e331(0x3b4)][_0x38e331(0x569)][_0x161609['instanceName']]['findGroups']();}async[a0_0x374876(0x3d9)](_0x10f357,_0x388466){const _0x178c81=a0_0x374876;return await this[_0x178c81(0x3b4)][_0x178c81(0x569)][_0x10f357[_0x178c81(0x2b3)]]['inviteCode'](_0x388466);}async[a0_0x374876(0x571)](_0x162326,_0x171d8a){const _0x40cdcc=a0_0x374876;return await this[_0x40cdcc(0x3b4)][_0x40cdcc(0x569)][_0x162326[_0x40cdcc(0x2b3)]][_0x40cdcc(0x571)](_0x171d8a);}async[a0_0x374876(0x2f7)](_0x31135c,_0x163b62){const _0x38c457=a0_0x374876;return await this[_0x38c457(0x3b4)][_0x38c457(0x569)][_0x31135c[_0x38c457(0x2b3)]][_0x38c457(0x2f7)](_0x163b62);}async['findParticipants'](_0x25617d,_0x15dbc4){const _0x535081=a0_0x374876;return await this[_0x535081(0x3b4)][_0x535081(0x569)][_0x25617d['instanceName']][_0x535081(0x3e6)](_0x15dbc4);}async[a0_0x374876(0x49f)](_0x4a991c,_0x5df315){const _0x35e794=a0_0x374876;return await this[_0x35e794(0x3b4)][_0x35e794(0x569)][_0x4a991c[_0x35e794(0x2b3)]][_0x35e794(0x3c0)](_0x5df315);}async[a0_0x374876(0x518)](_0x522e2b,_0xcdf812){const _0x227561=a0_0x374876;return await this['waMonitor'][_0x227561(0x569)][_0x522e2b[_0x227561(0x2b3)]][_0x227561(0x518)](_0xcdf812);}async[a0_0x374876(0x664)](_0x5847de,_0x5f4618){const _0x230eb7=a0_0x374876;return await this[_0x230eb7(0x3b4)][_0x230eb7(0x569)][_0x5847de[_0x230eb7(0x2b3)]]['leaveGroup'](_0x5f4618);}},Vt=class{constructor(_0x313ecb){const _0x372d15=a0_0x374876;this[_0x372d15(0x3b4)]=_0x313ecb;}[a0_0x374876(0x37a)](_0x27c5c0,_0x44a13b){const _0x2c9eb7=a0_0x374876;return this[_0x2c9eb7(0x3b4)]['waInstances'][_0x27c5c0[_0x2c9eb7(0x2b3)]][_0x2c9eb7(0x414)](_0x44a13b);}async[a0_0x374876(0x441)](_0x39ce30){const _0x3d8119=a0_0x374876;try{return await this[_0x3d8119(0x3b4)][_0x3d8119(0x569)][_0x39ce30['instanceName']][_0x3d8119(0x280)]();}catch{return{'enabled':null,'url':''};}}},Zd=new N('FlowController'),Bt=class{constructor(_0xa26e47){const _0x1caf19=a0_0x374876;this[_0x1caf19(0x3b4)]=_0xa26e47;}async[a0_0x374876(0x517)](_0xd12e47,_0x1d326d){const _0x4cac2f=a0_0x374876;return await this['waMonitor'][_0x4cac2f(0x569)][_0xd12e47[_0x4cac2f(0x2b3)]]['editScheduleMessage'](_0x1d326d);}async[a0_0x374876(0x31a)](_0x3f8d74){const _0x2d7a49=a0_0x374876;return await this[_0x2d7a49(0x3b4)][_0x2d7a49(0x569)][_0x3f8d74[_0x2d7a49(0x2b3)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x13b27e){const _0x5512b1=a0_0x374876;return await this[_0x5512b1(0x3b4)][_0x5512b1(0x569)][_0x13b27e[_0x5512b1(0x2b3)]][_0x5512b1(0x5c7)]();}async[a0_0x374876(0x4b4)](_0x22cace){const _0x30adab=a0_0x374876;return await this['waMonitor'][_0x30adab(0x569)][_0x22cace[_0x30adab(0x2b3)]]['getAutomateSystem']();}async[a0_0x374876(0x481)](_0x5ed7e4,_0x3e765e){const _0x1977cc=a0_0x374876;return await this['waMonitor'][_0x1977cc(0x569)][_0x5ed7e4[_0x1977cc(0x2b3)]]['updateAgent'](_0x3e765e);}async[a0_0x374876(0x2e1)](_0x1e438f,_0x41ae49){const _0x294515=a0_0x374876;return await this[_0x294515(0x3b4)][_0x294515(0x569)][_0x1e438f[_0x294515(0x2b3)]][_0x294515(0x2e1)](_0x41ae49);}async[a0_0x374876(0x238)](_0xe48e7f,_0x2391d2){const _0x2aab31=a0_0x374876;return await this['waMonitor'][_0x2aab31(0x569)][_0xe48e7f[_0x2aab31(0x2b3)]][_0x2aab31(0x238)](_0x2391d2);}async[a0_0x374876(0x389)](_0x526665,_0x13e904){const _0x1f7725=a0_0x374876;return await this[_0x1f7725(0x3b4)][_0x1f7725(0x569)][_0x526665[_0x1f7725(0x2b3)]][_0x1f7725(0x389)](_0x13e904);}async[a0_0x374876(0x554)](_0x342437,_0x30480e){const _0x345436=a0_0x374876;return await this[_0x345436(0x3b4)]['waInstances'][_0x342437[_0x345436(0x2b3)]][_0x345436(0x554)](_0x30480e);}async[a0_0x374876(0x552)](_0x3b9064,_0x572171){const _0x661d8c=a0_0x374876;return await this[_0x661d8c(0x3b4)][_0x661d8c(0x569)][_0x3b9064[_0x661d8c(0x2b3)]]['fetchConversation'](_0x572171);}async['editConversation'](_0x344988,_0x53b8ce){const _0x2ba90d=a0_0x374876;return await this['waMonitor'][_0x2ba90d(0x569)][_0x344988[_0x2ba90d(0x2b3)]][_0x2ba90d(0x415)](_0x53b8ce);}async[a0_0x374876(0x197)](_0x580079,_0x23115b){const _0x24c5fb=a0_0x374876;return await this[_0x24c5fb(0x3b4)]['waInstances'][_0x580079[_0x24c5fb(0x2b3)]][_0x24c5fb(0x197)](_0x23115b);}async[a0_0x374876(0x402)](_0x5cc090,_0x46fe1e){const _0x350d7d=a0_0x374876;return await this[_0x350d7d(0x3b4)][_0x350d7d(0x569)][_0x5cc090[_0x350d7d(0x2b3)]][_0x350d7d(0x402)](_0x46fe1e[_0x350d7d(0x2f4)]);}async[a0_0x374876(0x320)](_0x16ef63,_0x307717){const _0x53407b=a0_0x374876;return await this[_0x53407b(0x3b4)][_0x53407b(0x569)][_0x16ef63[_0x53407b(0x2b3)]][_0x53407b(0x320)](_0x307717);}async[a0_0x374876(0x4f5)](_0x43b59f,_0x58ba2f){const _0x153a6b=a0_0x374876;return await this[_0x153a6b(0x3b4)]['waInstances'][_0x43b59f[_0x153a6b(0x2b3)]][_0x153a6b(0x4f5)](_0x58ba2f);}async['editFlowBlock'](_0x4d12f6,_0x57a405){const _0x27d2c4=a0_0x374876;return await this['waMonitor'][_0x27d2c4(0x569)][_0x4d12f6[_0x27d2c4(0x2b3)]]['editFlowBlock'](_0x57a405);}async[a0_0x374876(0x3ab)](_0x557004,_0x19265c){const _0x2aac05=a0_0x374876;return await this[_0x2aac05(0x3b4)]['waInstances'][_0x557004['instanceName']][_0x2aac05(0x3ab)](_0x19265c);}async[a0_0x374876(0x3cd)](_0x4afd8b,_0xd94083){const _0x2632a7=a0_0x374876;return await this[_0x2632a7(0x3b4)][_0x2632a7(0x569)][_0x4afd8b[_0x2632a7(0x2b3)]][_0x2632a7(0x3cd)](_0xd94083);}async[a0_0x374876(0x33c)](_0x2855a7,_0x331f94){const _0x15dcf1=a0_0x374876;return await this[_0x15dcf1(0x3b4)]['waInstances'][_0x2855a7[_0x15dcf1(0x2b3)]][_0x15dcf1(0x33c)](_0x331f94);}async['editFlowVaredit'](_0x3d846d,_0xdb596c){const _0x5139f7=a0_0x374876;return await this[_0x5139f7(0x3b4)]['waInstances'][_0x3d846d['instanceName']][_0x5139f7(0x462)](_0xdb596c);}async[a0_0x374876(0x2ce)](_0x56ace6,_0x1cce2f){const _0x128729=a0_0x374876;return await this['waMonitor'][_0x128729(0x569)][_0x56ace6['instanceName']][_0x128729(0x2ce)](_0x1cce2f);}async[a0_0x374876(0x6f9)](_0xfb6415,_0x29aef0){const _0x4b3d39=a0_0x374876;return await this['waMonitor'][_0x4b3d39(0x569)][_0xfb6415[_0x4b3d39(0x2b3)]][_0x4b3d39(0x6f9)](_0x29aef0[_0x4b3d39(0x2f4)]);}async[a0_0x374876(0x6cd)](_0x6c740){const _0xd7f97e=a0_0x374876;return await this['waMonitor'][_0xd7f97e(0x569)][_0x6c740[_0xd7f97e(0x2b3)]][_0xd7f97e(0x6cd)]();}},Gt=class{constructor(_0x63a439){const _0x42e23f=a0_0x374876;this[_0x42e23f(0x1a1)]=_0x63a439;}async[a0_0x374876(0x392)](_0x1e9d42,_0x34e962){const _0x178552=a0_0x374876;return this[_0x178552(0x1a1)][_0x178552(0x37a)](_0x1e9d42,_0x34e962);}async[a0_0x374876(0x280)](_0x53bfc2){const _0x159ce2=a0_0x374876;return this[_0x159ce2(0x1a1)][_0x159ce2(0x441)](_0x53bfc2);}},Wt=class extends x{constructor(_0x5b252f,_0x2e397b){const _0xc9032a=a0_0x374876;super(_0x2e397b),this[_0xc9032a(0x142)]=_0x5b252f,this['configService']=_0x2e397b;}async['create'](_0x4414f1,_0x96c0c8){const _0x5c2c40=a0_0x374876;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x5c2c40(0x142)][_0x5c2c40(0xf5)]({'_id':_0x96c0c8},{..._0x4414f1},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x5bb23d){return _0x5bb23d;}}async[a0_0x374876(0x454)](_0x5c94f3){const _0x33bfda=a0_0x374876;try{if(this[_0x33bfda(0x100)][_0x33bfda(0x258)]){await this[_0x33bfda(0x142)][_0x33bfda(0x6f6)]({'_id':_0x5c94f3});return;}}catch(_0x35ecbc){return{'error':_0x35ecbc};}}async[a0_0x374876(0x441)](_0x58c6ae){const _0x37c912=a0_0x374876;try{if(this['dbSettings']['ENABLED'])return await this[_0x37c912(0x142)][_0x37c912(0x108)]({'_id':_0x58c6ae});}catch{return{};}}},zt=class extends x{constructor(_0x1257ff,_0x3a52a6){const _0x2eb872=a0_0x374876;super(_0x3a52a6),this[_0x2eb872(0x2bd)]=_0x1257ff,this[_0x2eb872(0x5c8)]=_0x3a52a6,this[_0x2eb872(0x558)]=_0x3a52a6['get']('AUTHENTICATION');}async[a0_0x374876(0x37a)](_0x1d8c6a,_0x16ccb7){const _0x2b9b8a=a0_0x374876;try{if(this[_0x2b9b8a(0x100)]['ENABLED'])return{'insertCount':(await this[_0x2b9b8a(0x2bd)][_0x2b9b8a(0x6fe)]({'_id':_0x16ccb7},{'$set':{..._0x1d8c6a}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x1c2a68){return{'error':_0x1c2a68};}}async['updateAll'](_0x174a23,_0x517078){const _0x2076ff=a0_0x374876;try{if(this[_0x2076ff(0x100)][_0x2076ff(0x258)])return{'insertCount':(await this['authModel']['updateMany'](_0x174a23,{'$set':_0x517078},{'upsert':!0x1}))[_0x2076ff(0x4f6)]};throw new Error(_0x2076ff(0x2dc));}catch(_0x5b646b){return{'error':_0x5b646b};}}async['deleteMany'](_0xd0e3a0){const _0x391944=a0_0x374876;try{if(this[_0x391944(0x100)][_0x391944(0x258)])return{'insertCount':(await this[_0x391944(0x2bd)][_0x391944(0x284)](_0xd0e3a0))[_0x391944(0x2c8)]};throw new Error(_0x391944(0x2dc));}catch(_0x1c0b4c){return{'error':_0x1c0b4c};}}async[a0_0x374876(0x454)](_0x4c8112){const _0x95df83=a0_0x374876;try{if(this['dbSettings'][_0x95df83(0x258)]){await this[_0x95df83(0x2bd)][_0x95df83(0x6f6)]({'_id':_0x4c8112});return;}}catch(_0x23d0e4){return{'error':_0x23d0e4};}}async[a0_0x374876(0x441)](_0x162fe2){const _0x14b45e=a0_0x374876;try{if(this['dbSettings'][_0x14b45e(0x258)])return await this['authModel']['findOne']({'_id':_0x162fe2});}catch{return{};}}async['findAll'](){const _0x1447cd=a0_0x374876;try{if(this[_0x1447cd(0x100)][_0x1447cd(0x258)])return await this['authModel'][_0x1447cd(0x441)]();}catch{return[];}}},Ht=class extends x{['getFlowModelForOwner'](_0x676638){return ra(_0x676638);}async[a0_0x374876(0x69a)](_0x11d23c){const _0x3e8047=a0_0x374876;try{let _0x161537=ia,_0x3c7f5e=this[_0x3e8047(0x48a)](_0x11d23c),_0x46080e=await _0x161537[_0x3e8047(0x441)]({'owner':_0x11d23c})['lean'](),_0x2c8b9b=[],_0x44548a=[];for(let _0x4dfb50 of _0x46080e)await _0x3c7f5e[_0x3e8047(0x594)](_0x4dfb50[_0x3e8047(0x168)])[_0x3e8047(0x449)]()||(_0x2c8b9b[_0x3e8047(0x36f)](_0x4dfb50),_0x44548a['push'](_0x4dfb50[_0x3e8047(0x168)]));return _0x2c8b9b[_0x3e8047(0x6ea)]>0x0&&await _0x3c7f5e[_0x3e8047(0x641)](_0x2c8b9b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4225f0){return console['error'](_0x3e8047(0x429),_0x4225f0),{'success':!0x1,'error':_0x4225f0};}}async[a0_0x374876(0x454)](_0x5b95da,_0x36dd04){const _0x169aee=a0_0x374876;try{let _0x4b5f10=this['getFlowModelForOwner'](_0x36dd04),_0x184055=A(_0x5b95da[_0x169aee(0x66c)]);return{'deletedCount':(await _0x4b5f10[_0x169aee(0x284)](_0x184055))[_0x169aee(0x2c8)]};}catch(_0x42926e){return{'error':_0x42926e?.[_0x169aee(0x5ab)]()};}}async['deleteOne'](_0x45ab2b,_0x1a8290){const _0x2c34e2=a0_0x374876;try{let _0x5bf710=this['getFlowModelForOwner'](_0x1a8290),_0x541c73=A(_0x45ab2b[_0x2c34e2(0x66c)]);return{'deletedCount':(await _0x5bf710[_0x2c34e2(0x6f6)](_0x541c73))[_0x2c34e2(0x2c8)]};}catch(_0x1de740){return{'error':_0x1de740?.[_0x2c34e2(0x5ab)]()};}}async[a0_0x374876(0xf5)](_0x162989,_0x532c66,_0x1a3af1){const _0x30df7f=a0_0x374876;try{let _0x4051e4=await this[_0x30df7f(0x48a)](_0x1a3af1)['findByIdAndUpdate'](_0x162989,_0x532c66,{'overwrite':!0x0,'new':!0x0});return _0x4051e4||(console['error'](_0x30df7f(0x2c3),_0x162989),null);}catch(_0x18b9f2){return console['error'](_0x30df7f(0x5f5),_0x18b9f2),null;}}async[a0_0x374876(0x6fe)](_0x51148d,_0x4b9c27,_0x34e227){const _0x563016=a0_0x374876;try{let _0x36c597=await this[_0x563016(0x48a)](_0x34e227)[_0x563016(0x594)](_0x51148d);return _0x36c597?(Object[_0x563016(0x598)](_0x36c597,_0x4b9c27),await _0x36c597['save']()):(console[_0x563016(0x32e)](_0x563016(0x54d),_0x51148d),null);}catch(_0x5c07f9){return console[_0x563016(0x32e)](_0x563016(0x5f5),_0x5c07f9),null;}}async[a0_0x374876(0x6c9)](_0xa2eceb){const _0x56713a=a0_0x374876;try{let _0x51d682=this['getFlowModelForOwner'](_0xa2eceb),_0x4f5693={'shareOwners':{'$exists':!0x1}},_0xd69548={'$set':{'shareOwners':[]}};return(await _0x51d682[_0x56713a(0x5de)](_0x4f5693,_0xd69548))[_0x56713a(0x4f6)];}catch(_0x4630f1){return console[_0x56713a(0x32e)](_0x4630f1),0x0;}}async[a0_0x374876(0x20e)](_0x3e8b16,_0x57a910){const _0xf06b05=a0_0x374876;try{let _0x3a401c=this['getFlowModelForOwner'](_0x57a910);return await new _0x3a401c(_0x3e8b16)[_0xf06b05(0x234)]();}catch(_0xe3416c){return console[_0xf06b05(0x32e)](_0xf06b05(0x607),_0xe3416c),null;}}async[a0_0x374876(0x5de)](_0x35c1ef,_0x201cb4,_0x24e0f5){const _0x44302b=a0_0x374876;try{return{'modifiedCount':(await this[_0x44302b(0x48a)](_0x24e0f5)[_0x44302b(0x5de)](_0x35c1ef,{'$set':_0x201cb4}))[_0x44302b(0x4f6)]};}catch(_0x28efe2){return console[_0x44302b(0x32e)](_0x44302b(0xd0),_0x28efe2),{'error':_0x28efe2};}}async[a0_0x374876(0x53b)](_0x114d87,_0xee3c14){const _0x3408d1=a0_0x374876;try{let _0x26860f=this[_0x3408d1(0x48a)](_0xee3c14),_0x20d172=A(_0x114d87['where']);return await _0x26860f[_0x3408d1(0x441)](_0x20d172)[_0x3408d1(0xe7)](_0x114d87?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x374876(0x108)](_0x17f053,_0x44d5a9){const _0x143d19=a0_0x374876;try{let _0x592035=this['getFlowModelForOwner'](_0x44d5a9),_0xeab6eb=A(_0x17f053[_0x143d19(0x66c)]);return await _0x592035[_0x143d19(0x108)](_0xeab6eb)[_0x143d19(0x449)]();}catch{return null;}}async[a0_0x374876(0xd4)](_0x7b8fd9){const _0x5cd8d1=a0_0x374876;try{return await this[_0x5cd8d1(0x48a)](_0x7b8fd9)[_0x5cd8d1(0x579)][_0x5cd8d1(0x36b)](),{'success':!0x0};}catch(_0x2bf4fa){return console[_0x5cd8d1(0x32e)](_0x2bf4fa),{'success':!0x1,'error':_0x2bf4fa};}}},Kt=class extends x{[a0_0x374876(0xbe)](_0x35ca56){return na(_0x35ca56);}async['copyDataToNewModel'](_0x19787d){const _0x348123=a0_0x374876;try{let _0x96fe85=ca,_0x5ba5dd=this['getConversationModelForOwner'](_0x19787d),_0x1ecd2e=await _0x96fe85[_0x348123(0x441)]({'owner':_0x19787d})['lean'](),_0x5eed5d=[],_0x252d6f=[];for(let _0x1b3074 of _0x1ecd2e)await _0x5ba5dd[_0x348123(0x594)](_0x1b3074[_0x348123(0x168)])['lean']()||(_0x5eed5d[_0x348123(0x36f)](_0x1b3074),_0x252d6f[_0x348123(0x36f)](_0x1b3074[_0x348123(0x168)]));return _0x5eed5d[_0x348123(0x6ea)]>0x0&&await _0x5ba5dd[_0x348123(0x641)](_0x5eed5d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x318468){return console['error'](_0x348123(0x429),_0x318468),{'success':!0x1,'error':_0x318468};}}async[a0_0x374876(0x4e6)](_0x2a088f){const _0x2483d2=a0_0x374876;if(_0x2a088f[_0x2483d2(0x6ea)]!==0x0)try{return{'insertCount':(await this[_0x2483d2(0xbe)](_0x2a088f[0x0][_0x2483d2(0x4d5)])[_0x2483d2(0x641)]([..._0x2a088f]))['length']};}catch(_0x484cc7){return _0x484cc7;}}async[a0_0x374876(0x454)](_0x10d8f9,_0x1c631d){const _0x3ebcd5=a0_0x374876;try{let _0x278e66=this[_0x3ebcd5(0xbe)](_0x1c631d),_0x1aded6=A(_0x10d8f9[_0x3ebcd5(0x66c)]);return{'deletedCount':(await _0x278e66[_0x3ebcd5(0x284)](_0x1aded6))['deletedCount']};}catch(_0x1fd12c){return{'error':_0x1fd12c?.[_0x3ebcd5(0x5ab)]()};}}async[a0_0x374876(0x6f6)](_0x27f669,_0x2a6ef1){const _0x1150cd=a0_0x374876;try{let _0x7140b4=this[_0x1150cd(0xbe)](_0x2a6ef1),_0x1c1212=A(_0x27f669['where']);return{'deletedCount':(await _0x7140b4[_0x1150cd(0x6f6)](_0x1c1212))[_0x1150cd(0x2c8)]};}catch(_0x3022f5){return{'error':_0x3022f5?.['toString']()};}}async[a0_0x374876(0x4dc)](_0x393db2,_0x2303dc){const _0x2331f6=a0_0x374876;try{if(_0x393db2['length']===0x0)return;let _0x4300cf=this[_0x2331f6(0xbe)](_0x2303dc),_0x273478=_0x393db2['map'](_0x30c848=>({'updateOne':{'filter':{'name':_0x30c848[_0x2331f6(0x2f4)],'owner':_0x2303dc},'update':{..._0x30c848}}})),{modifiedCount:_0x1c696a}=await _0x4300cf['bulkWrite'](_0x273478);return{'insertCount':_0x1c696a};}catch{return;}}async[a0_0x374876(0x5de)](_0x509e38,_0x236550,_0x700ac3){const _0x40506c=a0_0x374876;try{return{'modifiedCount':(await this[_0x40506c(0xbe)](_0x700ac3)[_0x40506c(0x5de)](_0x509e38,{'$set':_0x236550}))[_0x40506c(0x4f6)]};}catch(_0x54870a){return console['error'](_0x40506c(0x577),_0x54870a),{'error':_0x54870a};}}async[a0_0x374876(0x6fe)](_0x22678f,_0x524cd4,_0x2d2f63){const _0x201160=a0_0x374876;try{return await this[_0x201160(0xbe)](_0x2d2f63)[_0x201160(0x468)]({'_id':_0x22678f},{'$set':_0x524cd4},{'new':!0x0,'upsert':!0x0})[_0x201160(0x449)]();}catch(_0x26ff13){return console['error'](_0x26ff13),null;}}async[a0_0x374876(0x441)](_0x5e4f70,_0x3b3a06){const _0x5680a5=a0_0x374876;try{return await this[_0x5680a5(0xbe)](_0x3b3a06)['find'](_0x5e4f70)[_0x5680a5(0x1ab)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x374876(0x108)](_0x65bcd5,_0xec0434){const _0x5df898=a0_0x374876;try{return await this[_0x5df898(0xbe)](_0xec0434)[_0x5df898(0x108)]({..._0x65bcd5[_0x5df898(0x66c)]})[_0x5df898(0x449)]();}catch{return null;}}async['deleteAll'](_0x5d3da2){const _0x54fa0c=a0_0x374876;try{return await this['getConversationModelForOwner'](_0x5d3da2)[_0x54fa0c(0x579)][_0x54fa0c(0x36b)](),{'success':!0x0};}catch(_0x28e9f3){return console['error'](_0x28e9f3),{'success':!0x1,'error':_0x28e9f3};}}},Qt=class extends x{['getScheduleMessageModelForOwner'](_0x52f8d0){return ua(_0x52f8d0);}async[a0_0x374876(0x69a)](_0x287b64){const _0x2de00d=a0_0x374876;try{let _0x1ff81e=da,_0x4a7ab2=this['getScheduleMessageModelForOwner'](_0x287b64),_0x1c141a=await _0x1ff81e[_0x2de00d(0x441)]({'owner':_0x287b64})[_0x2de00d(0x449)](),_0x3df6bb=[],_0x31b4f2=[];for(let _0x22a831 of _0x1c141a)await _0x4a7ab2[_0x2de00d(0x594)](_0x22a831[_0x2de00d(0x168)])[_0x2de00d(0x449)]()||(_0x3df6bb[_0x2de00d(0x36f)](_0x22a831),_0x31b4f2['push'](_0x22a831['_id']));return _0x3df6bb[_0x2de00d(0x6ea)]>0x0&&await _0x4a7ab2['insertMany'](_0x3df6bb,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4d693a){return console['error'](_0x2de00d(0x429),_0x4d693a),{'success':!0x1,'error':_0x4d693a};}}async[a0_0x374876(0x20e)](_0x56cb73,_0x20bd34){const _0x492bb8=a0_0x374876;try{let _0x5c1966=this['getScheduleMessageModelForOwner'](_0x20bd34);return await new _0x5c1966(_0x56cb73)[_0x492bb8(0x234)]();}catch(_0x1fc134){return console['error'](_0x492bb8(0x607),_0x1fc134),null;}}async[a0_0x374876(0x6f6)](_0x4699a8,_0x49d3d0){const _0x1accae=a0_0x374876;try{return await this[_0x1accae(0x387)](_0x49d3d0)['findByIdAndDelete'](_0x4699a8),{};}catch(_0x488c14){return{'error':_0x488c14?.[_0x1accae(0x5ab)]()};}}async[a0_0x374876(0x6fe)](_0x54b92a,_0x4342a4,_0x2dc6b3){const _0x391b26=a0_0x374876;try{return await this[_0x391b26(0x387)](_0x2dc6b3)[_0x391b26(0x468)](_0x54b92a,{'$set':_0x4342a4},{'new':!0x0})[_0x391b26(0x449)]();}catch(_0x3de61c){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3de61c),null;}}async[a0_0x374876(0x2c9)](_0x134707,_0x452cbe,_0x2afa5b){const _0x1b228c=a0_0x374876;try{return await this[_0x1b228c(0x387)](_0x2afa5b)[_0x1b228c(0x69c)](_0x134707,_0x452cbe,{'new':!0x0})[_0x1b228c(0x449)]();}catch(_0x115630){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x115630),null;}}async[a0_0x374876(0x441)](_0x43d018,_0x29add1){const _0x4e4ec4=a0_0x374876;try{return await this[_0x4e4ec4(0x387)](_0x29add1)[_0x4e4ec4(0x441)](_0x43d018['where'])['limit'](_0x43d018?.[_0x4e4ec4(0xe7)]??0x0)[_0x4e4ec4(0x1ab)]({'when':0x1})[_0x4e4ec4(0x449)]();}catch{return[];}}async[a0_0x374876(0x108)](_0x51494f,_0x44a9cd){const _0x5eba87=a0_0x374876;try{return await this[_0x5eba87(0x387)](_0x44a9cd)[_0x5eba87(0x108)](_0x51494f[_0x5eba87(0x66c)])[_0x5eba87(0x1ab)]({'when':0x1})[_0x5eba87(0x449)]();}catch{return null;}}async['findById'](_0x21978a,_0x3ad774){const _0x193559=a0_0x374876;try{return await this[_0x193559(0x387)](_0x3ad774)[_0x193559(0x594)](_0x21978a)[_0x193559(0x449)]();}catch{return null;}}async['deleteMany'](_0x3a3b7a,_0x136cd6){const _0x5a9364=a0_0x374876;try{return{'deletedCount':(await this[_0x5a9364(0x387)](_0x136cd6)[_0x5a9364(0x284)](_0x3a3b7a))[_0x5a9364(0x2c8)]};}catch(_0x55683a){return console[_0x5a9364(0x32e)]('Erro\x20ao\x20deletar\x20mensagens:',_0x55683a),{'error':_0x55683a};}}async[a0_0x374876(0xd4)](_0x1265c0){const _0x47ae8c=a0_0x374876;try{return await this[_0x47ae8c(0x387)](_0x1265c0)['collection'][_0x47ae8c(0x36b)](),{'success':!0x0};}catch(_0x475b30){return console['error'](_0x475b30),{'success':!0x1,'error':_0x475b30};}}},Yt=class extends x{async[a0_0x374876(0x4dc)](_0x3abca9,_0x3e78b6){const _0x151451=a0_0x374876;try{if(this['dbSettings'][_0x151451(0x258)]){let _0x49f209=await $e['findOneAndUpdate']({'_id':_0x3e78b6},{'$set':_0x3abca9},{'new':!0x0});return console['log']('Resultado\x20da\x20atualização:',_0x49f209),_0x49f209;}}catch(_0x48a74c){throw console[_0x151451(0x32e)](_0x151451(0x706),_0x48a74c),_0x48a74c;}}async[a0_0x374876(0xc2)](_0x44d279){const _0x3bdd9a=a0_0x374876;try{let _0x1b2645=await $e[_0x3bdd9a(0x594)](_0x44d279);return _0x1b2645||(_0x1b2645=new $e({'_id':_0x44d279}),await _0x1b2645[_0x3bdd9a(0x234)]()),_0x1b2645;}catch(_0x3c6976){return console[_0x3bdd9a(0x32e)](_0x3bdd9a(0x21d),_0x3c6976),null;}}},bi=new N(a0_0x374876(0x44e)),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),le=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x374876(0x374)]()),V=new $t(as,b,le),Ii=new qt(b,V,le),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ae=new jt(V,b,le,as,Ii),B=new Ut(V),D=new Ft(V),F=new Jt(V);bi[a0_0x374876(0x6ef)](a0_0x374876(0x187));var mh=require(a0_0x374876(0x5ae)),As=require('fs'),vr=T(require(a0_0x374876(0x424))),Nr=T(require(a0_0x374876(0xf3))),Ne=class c{static #e;static set['app'](_0x50594a){this.#e=_0x50594a;}static get[a0_0x374876(0x424)](){const _0x25e02e=a0_0x374876;let {FULLCHAIN:_0x2b4c7d,PRIVKEY:_0x28560a}=b[_0x25e02e(0x34c)](_0x25e02e(0x30d));return vr[_0x25e02e(0x4f3)]({'cert':(0x0,As[_0x25e02e(0x378)])(_0x2b4c7d),'key':(0x0,As[_0x25e02e(0x378)])(_0x28560a)},c.#e);}static get[a0_0x374876(0xf3)](){const _0xdf86b2=a0_0x374876;return Nr[_0xdf86b2(0x4f3)](c.#e);}},de=T(require('fs')),xr=T(require(a0_0x374876(0x4fe))),Re=T(require(a0_0x374876(0x5f7))),Oe=T(require(a0_0x374876(0x64d))),Ae=require(a0_0x374876(0x476));function Di(){const _0x4a5c03=a0_0x374876;V[_0x4a5c03(0x3c4)]();let _0x401496=Oe[_0x4a5c03(0x701)][_0x4a5c03(0x679)](__dirname,_0x4a5c03(0x694));Ir(_0x401496);}var Ir=_0x4cb2a5=>{const _0x595431=a0_0x374876;let _0x506076=de['default'][_0x595431(0xfc)](_0x4cb2a5),_0x3b83ea=0xc*0x3c*0x3c*0x3e8,_0x25d561=0x2*0x3c*0x3c*0x3e8,_0x36f6d5=new Date()[_0x595431(0x6d6)]();_0x506076[_0x595431(0x489)](_0x484efa=>{const _0x5a1c22=_0x595431;let _0x26475d=Oe[_0x5a1c22(0x701)]['join'](_0x4cb2a5,_0x484efa),_0x336eeb=de[_0x5a1c22(0x701)][_0x5a1c22(0x444)](_0x26475d)['birthtime'][_0x5a1c22(0x6d6)]();_0x36f6d5-_0x336eeb>_0x3b83ea&&(de[_0x5a1c22(0x701)]['unlinkSync'](_0x26475d),console[_0x5a1c22(0x201)](_0x5a1c22(0x305)+_0x484efa));}),setTimeout(()=>Ir(_0x4cb2a5),_0x25d561);};function _i(){const _0x4ce586=a0_0x374876;let _0x14db4f=new N(_0x4ce586(0x543)),_0x49e955=(0x0,pe[_0x4ce586(0x701)])();_0x49e955[_0x4ce586(0x437)]((0x0,Ar[_0x4ce586(0x701)])({'origin'(_0x57e454,_0x4299cd){const _0x59f6a0=_0x4ce586;let {ORIGIN:_0x109fbc}=b[_0x59f6a0(0x34c)](_0x59f6a0(0x5fd));return _0x57e454||(_0x57e454='*'),_0x109fbc[_0x59f6a0(0x1d9)]('*')!==-0x1||_0x109fbc[_0x59f6a0(0x1d9)](_0x57e454)!==-0x1?_0x4299cd(null,!0x0):_0x4299cd(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x4ce586(0x34c)]('CORS')[_0x4ce586(0x188)]],'credentials':b[_0x4ce586(0x34c)](_0x4ce586(0x5fd))['CREDENTIALS']}),(0x0,pe[_0x4ce586(0x221)])({'extended':!0x0,'limit':_0x4ce586(0x155)}),(0x0,pe[_0x4ce586(0x1c7)])({'limit':'50mb'})),_0x49e955[_0x4ce586(0x437)]((_0x4aa88e,_0x36973b,_0x1a2908)=>{const _0x438461=_0x4ce586;_0x4aa88e[_0x438461(0x64d)]['startsWith']('/events')?_0x1a2908():(0x0,Or[_0x438461(0x701)])()(_0x4aa88e,_0x36973b,_0x1a2908);}),_0x49e955[_0x4ce586(0x53d)](_0x4ce586(0x41f),_0x4ce586(0x667)),_0x49e955['set'](_0x4ce586(0x1b3),(0x0,xs[_0x4ce586(0x679)])(se,_0x4ce586(0x1b3))),_0x49e955[_0x4ce586(0x437)](pe['default']['static']((0x0,xs[_0x4ce586(0x679)])(se,_0x4ce586(0x71c)))),_0x49e955[_0x4ce586(0x437)]((_0x1e8ac6,_0x4e9180,_0x1d7b33)=>{const _0x34062c=_0x4ce586;let _0x3366da=_0x4e9180['send'];_0x4e9180[_0x34062c(0x1d0)]=function(_0x3e170e){const _0x2b8b8c=_0x34062c;if(_0x1e8ac6[_0x2b8b8c(0x58a)][_0x2b8b8c(0x453)]===_0x2b8b8c(0x16a)||_0x1e8ac6[_0x2b8b8c(0x47b)][_0x2b8b8c(0x3a2)]===_0x2b8b8c(0x16a)){let _0x597504=JSON[_0x2b8b8c(0x601)](_0x3e170e);_0x3e170e=JSON[_0x2b8b8c(0x5f1)](_0x1d25bd(_0x597504));}return _0x3366da[_0x2b8b8c(0x56f)](_0x4e9180,[_0x3e170e]);},_0x1d7b33();}),_0x49e955[_0x4ce586(0x437)]('/',Nt),_0x49e955[_0x4ce586(0x437)]((_0x511dea,_0x236970,_0x14fe84,_0x2f0830)=>{const _0x1c08a0=_0x4ce586;if(_0x511dea)return _0x14fe84[_0x1c08a0(0x3d2)](_0x511dea[_0x1c08a0(0x3d2)]||0x1f4)[_0x1c08a0(0x1c7)](_0x511dea);},(_0x2963cf,_0x3ed905,_0x2f8a0e)=>{const _0x4fef5c=_0x4ce586;let {method:_0x17d994,url:_0x1c6659}=_0x2963cf;_0x3ed905[_0x4fef5c(0x3d2)](0x194)[_0x4fef5c(0x1c7)]({'status':0x194,'message':_0x4fef5c(0x5cb)+_0x17d994['toUpperCase']()+'\x20'+_0x1c6659,'error':'Not\x20Found'}),_0x2f8a0e();});let _0x1d25bd=(_0xc50a96,_0x2cf609='_p_')=>{const _0x32e034=_0x4ce586;let _0x304352=(_0x3f3928,_0x2a384c=null,_0x240a8c=!0x1)=>{const _0x273f8e=a0_0x2a44;let _0x3b62dd={};return Object[_0x273f8e(0x583)](_0x3f3928)[_0x273f8e(0x489)](_0x564fd8=>{const _0x4ee01d=_0x273f8e;let _0x382b4b=_0x3f3928[_0x564fd8],_0x2de522=''+_0x2cf609+_0x564fd8;_0x2a384c&&!_0x240a8c&&(_0x2de522=_0x2a384c+'.'+_0x564fd8),!_0x382b4b&&_0x382b4b!==0x0&&_0x382b4b!==!0x1||typeof _0x382b4b>'u'?_0x3b62dd[_0x2de522]=null:typeof _0x382b4b!=_0x4ee01d(0x6a3)&&!Array[_0x4ee01d(0x253)](_0x382b4b)?_0x3b62dd[_0x2de522]=_0x382b4b:typeof _0x382b4b=='object'&&!Array['isArray'](_0x382b4b)?_0x3b62dd=Object[_0x4ee01d(0x598)](_0x3b62dd,_0x304352(_0x382b4b,_0x2de522)):Array[_0x4ee01d(0x253)](_0x382b4b)&&(typeof _0x382b4b[0x0]==_0x4ee01d(0x6a3)?(_0x3b62dd[_0x2de522]=[],_0x382b4b[_0x4ee01d(0x489)](_0x133e3d=>{const _0xdef153=_0x4ee01d;_0x3b62dd[_0x2de522][_0xdef153(0x36f)](_0x304352(_0x133e3d,_0x2de522,!0x0));})):_0x3b62dd[_0x2de522]=_0x382b4b);}),_0x3b62dd;};return Array[_0x32e034(0x253)](_0xc50a96)?_0xc50a96[_0x32e034(0x675)](_0x76c768=>_0x304352(_0x76c768)):typeof _0xc50a96=='object'&&_0xc50a96!==null?_0x304352(_0xc50a96):{};},_0x537e4c=b['get'](_0x4ce586(0x543));Ne['app']=_0x49e955;let _0x169fc8=Ne[_0x537e4c['TYPE']],_0xc44b11='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x169fc8[_0x4ce586(0x4e3)](_0x537e4c[_0x4ce586(0x64f)],()=>{const _0xc58020=_0x4ce586;_0x14db4f[_0xc58020(0x201)](_0xc44b11),_0x14db4f['log'](_0x537e4c[_0xc58020(0x74d)]['toUpperCase']()+_0xc58020(0x586)+_0x537e4c['PORT']);}),Di(),qs();}var Pi=a0_0x374876(0x3ec),$i=Oe[a0_0x374876(0x701)][a0_0x374876(0x679)](__dirname,a0_0x374876(0x2b9)),Te=null;function ki(){return new Promise((_0x135e54,_0x1c6189)=>{const _0x531322=a0_0x2a44;de['default'][_0x531322(0x68f)]($i,_0x531322(0x33d),(_0x2e3070,_0x42f900)=>{const _0x2ed0c5=_0x531322;if(_0x2e3070){Te=_0x2e3070,_0x135e54();return;}xr[_0x2ed0c5(0x701)][_0x2ed0c5(0x601)](_0x42f900)[_0x2ed0c5(0x749)]['url']===Pi?(Te=null,_0x135e54()):(Te=new Error(_0x2ed0c5(0x2f8)),_0x135e54());});});}async function Li(){const _0xc34411=a0_0x374876;try{await ki(),await Ds();}catch(_0x449b27){console[_0xc34411(0x32e)](_0xc34411(0x57e)+_0x449b27),process[_0xc34411(0x50e)](0x1);}}Li();async function Dr(){const _0x3ca05b=a0_0x374876;let _0x496c0a;try{_0x496c0a=(await Re[_0x3ca05b(0x701)][_0x3ca05b(0x34c)]('https://jsonip.com'))['data']['ip'];}catch(_0x5593fe){console[_0x3ca05b(0x32e)](_0x5593fe);try{_0x496c0a=(await Re[_0x3ca05b(0x701)][_0x3ca05b(0x34c)](_0x3ca05b(0x2fa)))['data']['ip'];}catch(_0x119030){console['error'](_0x119030);try{_0x496c0a=(await Re['default'][_0x3ca05b(0x34c)](_0x3ca05b(0x2be)))[_0x3ca05b(0x5b9)][_0x3ca05b(0xfa)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5102ed){return console[_0x3ca05b(0x32e)](_0x5102ed),!0x1;}}}return _0x496c0a;}var Rr=0x0;async function Fi(){const _0x4348a0=a0_0x374876;let _0x12454c=await new re(b[_0x4348a0(0x34c)](_0x4348a0(0x2bc)))[_0x4348a0(0x478)]();return console[_0x4348a0(0x201)]('instancias:\x20',_0x12454c[_0x4348a0(0x6ea)]),_0x12454c[_0x4348a0(0x6ea)];}function ji(_0x589ed0){const _0x219721=a0_0x374876;let _0x29ef79=_0x589ed0[_0x219721(0x34c)](_0x219721(0x543))[_0x219721(0x1b1)],_0xdf2e7b=_0x589ed0['get'](_0x219721(0x30d)),_0x4770e1;if(_0x29ef79){let _0x196a2f=_0x29ef79[_0x219721(0xfa)](/\/\/(.*?)\./);_0x196a2f&&_0x196a2f[0x1]&&(_0x4770e1=_0x196a2f[0x1]);}if(!_0x4770e1&&_0xdf2e7b&&_0xdf2e7b[_0x219721(0x124)]){let _0x4c24a5=_0xdf2e7b['FULLCHAIN'][_0x219721(0x443)]('/'),_0x199804=_0x4c24a5[_0x4c24a5[_0x219721(0x6ea)]-0x2];if(_0x199804){let _0x2733be=_0x199804['split']('.');_0x2733be[_0x219721(0x6ea)]>0x2&&(_0x4770e1=_0x2733be[0x0]);}}return _0x4770e1;}var Rs=ji(b);async function Ui(){const _0xbf6457=a0_0x374876;let _0x5eb42d=b[_0xbf6457(0x34c)]('REDIS'),_0x4be864=b[_0xbf6457(0x34c)](_0xbf6457(0x1fb))[_0xbf6457(0x298)][_0xbf6457(0x471)],_0x4926a2=b[_0xbf6457(0x34c)]('SSL_CONF'),_0x56ae6a=await Dr(),_0x217346=b[_0xbf6457(0x34c)](_0xbf6457(0x543))[_0xbf6457(0x64f)],_0x39d286=b['get'](_0xbf6457(0x543))[_0xbf6457(0x1b1)];try{let _0x264541={'ip':_0x56ae6a||null,'redis_enable':_0x5eb42d?.[_0xbf6457(0x258)]||null,'apikey':_0x4be864||null,'ssl':_0x4926a2?.[_0xbf6457(0x254)]||null,'lastupdate':_r||null,'port':_0x217346||null,'gitInstallError':Te?.[_0xbf6457(0x5e9)]||null,'url':_0x39d286||null};if(console['log'](_0xbf6457(0x14e),_0x264541['ip']),_0x5eb42d&&_0x5eb42d['ENABLED']){let _0x338863=await Fi();_0x264541[_0xbf6457(0x41b)]=_0x338863||null;}for(let _0x5b9668 in _0x264541)_0x264541[_0xbf6457(0x196)](_0x5b9668)&&_0x5b9668!=='ip'&&(_0x264541[_0x5b9668]=JSON[_0xbf6457(0x5f1)](_0x264541[_0x5b9668]));return(await Re[_0xbf6457(0x701)][_0xbf6457(0x317)](_0xbf6457(0x639),_0x264541))[_0xbf6457(0x5b9)];}catch(_0x259c1b){return console[_0xbf6457(0x32e)](_0x259c1b),!0x1;}}var Is=!0x1,_r=0x229,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x17fcbb=a0_0x374876;if(!await Dr())return console[_0x17fcbb(0x32e)](_0x17fcbb(0x48d)),_0x17fcbb(0x240);let _0x570db8=await Ui();if(_0x570db8){if(_0x570db8[_0x17fcbb(0x133)][_0x17fcbb(0x4d9)]===!0x0){let _0x21cf67=b['get'](_0x17fcbb(0x30d)),_0x2cb44f=b[_0x17fcbb(0x34c)](_0x17fcbb(0x543))[_0x17fcbb(0x1b1)];_0x21cf67&&_0x21cf67?.['PRIVKEY']?.[_0x17fcbb(0xea)](_0x17fcbb(0x3a6))&&_0x570db8['response'][_0x17fcbb(0x6f5)]&&!_0x2cb44f&&(await Bi(_0x570db8[_0x17fcbb(0x133)][_0x17fcbb(0x6f5)],Vi),await Gi(_0x17fcbb(0x4a6),_0x570db8[_0x17fcbb(0x133)][_0x17fcbb(0x6f5)]),console[_0x17fcbb(0x201)](_0x17fcbb(0x2c2)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x570db8[_0x17fcbb(0x133)][_0x17fcbb(0x5da)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x329378=0x24*0x3c*0x3c,_0x5a0017=_0x570db8['response'][_0x17fcbb(0x38f)]>_0x329378?_0x329378:_0x570db8[_0x17fcbb(0x133)][_0x17fcbb(0x38f)],_0x1280d9=Number(_0x5a0017);if(isNaN(_0x1280d9)){console['error'](_0x17fcbb(0x72f));return;}let _0x4d2712=Math[_0x17fcbb(0x2ee)](_0x1280d9/0xe10),_0x242997=Math[_0x17fcbb(0x2ee)](_0x1280d9%0xe10/0x3c),_0x3d0ee0=new Date(Date[_0x17fcbb(0x4e5)]()+_0x1280d9*0x3e8);setTimeout(Ds,_0x1280d9*0x3e8);let _0x1b0db0=_0x4c749c=>_0x4c749c['toString']()['padStart'](0x2,'0'),_0x1543e0=_0x17fcbb(0x61b)+_0x1b0db0(_0x4d2712)+_0x17fcbb(0x502)+_0x1b0db0(_0x242997)+_0x17fcbb(0x119)+_0x1b0db0(_0x3d0ee0[_0x17fcbb(0x358)]())+':'+_0x1b0db0(_0x3d0ee0[_0x17fcbb(0x4c8)]())+'.';console[_0x17fcbb(0x201)](_0x1543e0);}else return console[_0x17fcbb(0x201)](_0x17fcbb(0x3ca)),Is&&(console[_0x17fcbb(0x201)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),_0x17fcbb(0x6b8);}else{if(Rr++,Rr<qi)console['log'](_0x17fcbb(0x47c)+Tr/0xea60+'\x20minutos...'),setTimeout(Ds,Tr);else return console[_0x17fcbb(0x32e)](_0x17fcbb(0x616)),_0x17fcbb(0x1b0);}}async function Ji(){const _0x11e60e=a0_0x374876;console[_0x11e60e(0x201)](_0x11e60e(0x115));let _0x31521d=(0x0,Ae[_0x11e60e(0x68a)])(_0x11e60e(0x385),{'shell':!0x0});_0x31521d['stdout']['on'](_0x11e60e(0x5b9),_0x238726=>{const _0x3363fc=_0x11e60e;console[_0x3363fc(0x201)](_0x3363fc(0x169)+_0x238726);}),_0x31521d[_0x11e60e(0x18c)]['on'](_0x11e60e(0x5b9),_0x268f0d=>{const _0x11a307=_0x11e60e;console[_0x11a307(0x32e)](_0x11a307(0x49c)+_0x268f0d);}),_0x31521d['on']('exit',_0x2d172d=>{const _0x1dcd2d=_0x11e60e;_0x2d172d!==0x0?console['error'](_0x1dcd2d(0x2cc)+_0x2d172d):console[_0x1dcd2d(0x201)](_0x1dcd2d(0x33b)),console[_0x1dcd2d(0x201)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x1dcd2d(0x50e)](),0x2710);});}var Vi=Oe[a0_0x374876(0x701)]['join'](__dirname,a0_0x374876(0x6af));async function Bi(_0x69df50,_0x5ef435){const _0x3d9c7f=a0_0x374876;let _0x2e6831=Wi();_0x69df50=_0x69df50[_0x3d9c7f(0x6fa)]('.uazapi.dev','');try{let _0x19706a=de['default'][_0x3d9c7f(0x378)](_0x5ef435,'utf8');_0x19706a=_0x19706a['replace'](/<apikey>/,_0x2e6831),_0x19706a=_0x19706a['replace'](/<subdomain>/g,_0x69df50),de[_0x3d9c7f(0x701)][_0x3d9c7f(0x54b)](_0x5ef435,_0x19706a,_0x3d9c7f(0x60c)),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x23747c){console['error'](_0x3d9c7f(0x3e4),_0x23747c);}}function Gi(_0x92e5e4,_0x4d8618){return new Promise((_0x45de21,_0x447dc3)=>{const _0x2604d3=a0_0x2a44;let _0x4a2e49=(0x0,Ae[_0x2604d3(0x68a)])(_0x2604d3(0x2a4),[_0x2604d3(0x107),'--standalone','-m',_0x92e5e4,'--agree-tos','-d',_0x4d8618]);_0x4a2e49[_0x2604d3(0x56c)]['on'](_0x2604d3(0x5b9),_0x754836=>{const _0x41ca36=_0x2604d3;console[_0x41ca36(0x201)](_0x41ca36(0x2db)+_0x754836[_0x41ca36(0x5ab)]());}),_0x4a2e49['stderr']['on']('data',_0x45a0c2=>{const _0x2240fa=_0x2604d3;console[_0x2240fa(0x32e)](_0x2240fa(0x127)+_0x45a0c2[_0x2240fa(0x5ab)]());}),_0x4a2e49['on']('close',_0x411c07=>{const _0xecbcf6=_0x2604d3;_0x411c07!==0x0?(console[_0xecbcf6(0x32e)](_0xecbcf6(0x19c)+_0x411c07),_0x447dc3(_0xecbcf6(0x19c)+_0x411c07)):(console[_0xecbcf6(0x201)](_0xecbcf6(0x112)),_0x45de21());});});}function Wi(_0x3981cf=0x32){const _0x3ef348=a0_0x374876;let _0x3261a2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x241335='';for(let _0x100a84=0x0;_0x100a84<_0x3981cf;_0x100a84++)_0x241335+=_0x3261a2[_0x3ef348(0x1e9)](Math[_0x3ef348(0x2ee)](Math['random']()*_0x3261a2['length']));return _0x241335;}function zi(){const _0x27dcf1=a0_0x374876;(0x0,Ae[_0x27dcf1(0x55a)])('shutdown\x20-r\x20now',(_0x49b37d,_0xff0566,_0x578347)=>{const _0x54a525=_0x27dcf1;if(_0x49b37d){console['error']('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x49b37d);return;}if(_0x578347){console[_0x54a525(0x32e)](_0x54a525(0x53c)+_0x578347);return;}console['log'](_0x54a525(0x295)+_0xff0566);});}0x0&&(module['exports']={'subdomain':subdomain});