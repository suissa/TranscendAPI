const a0_0x2caf34=a0_0x54b4;(function(_0x1eb912,_0x5ae416){const _0x8b1782=a0_0x54b4,_0x223d23=_0x1eb912();while(!![]){try{const _0x4f1944=parseInt(_0x8b1782(0x40b))/0x1*(parseInt(_0x8b1782(0x272))/0x2)+parseInt(_0x8b1782(0x38b))/0x3*(-parseInt(_0x8b1782(0x157))/0x4)+parseInt(_0x8b1782(0x663))/0x5*(parseInt(_0x8b1782(0x574))/0x6)+parseInt(_0x8b1782(0x636))/0x7+parseInt(_0x8b1782(0x12b))/0x8*(-parseInt(_0x8b1782(0xc8))/0x9)+-parseInt(_0x8b1782(0x4ce))/0xa+parseInt(_0x8b1782(0x12c))/0xb*(parseInt(_0x8b1782(0x60f))/0xc);if(_0x4f1944===_0x5ae416)break;else _0x223d23['push'](_0x223d23['shift']());}catch(_0x963c28){_0x223d23['push'](_0x223d23['shift']());}}}(a0_0x53f0,0x3ba4c));var fo=Object[a0_0x2caf34(0x333)],vs=Object[a0_0x2caf34(0x41a)],wo=Object[a0_0x2caf34(0x614)],yo=Object[a0_0x2caf34(0x2ef)],bo=Object[a0_0x2caf34(0x37e)],So=Object['prototype'][a0_0x2caf34(0x1c7)],Eo=(_0x240387,_0x133061,_0x4b3f2d,_0x3227b0)=>{const _0x3cfe20=a0_0x2caf34;if(_0x133061&&typeof _0x133061=='object'||typeof _0x133061==_0x3cfe20(0x620)){for(let _0x2d83ec of yo(_0x133061))!So[_0x3cfe20(0x59a)](_0x240387,_0x2d83ec)&&_0x2d83ec!==_0x4b3f2d&&vs(_0x240387,_0x2d83ec,{'get':()=>_0x133061[_0x2d83ec],'enumerable':!(_0x3227b0=wo(_0x133061,_0x2d83ec))||_0x3227b0[_0x3cfe20(0x495)]});}return _0x240387;},T=(_0x3eb348,_0x4dc8d5,_0x23c63b)=>(_0x23c63b=_0x3eb348!=null?fo(bo(_0x3eb348)):{},Eo(_0x4dc8d5||!_0x3eb348||!_0x3eb348[a0_0x2caf34(0x2f5)]?vs(_0x23c63b,a0_0x2caf34(0x418),{'value':_0x3eb348,'enumerable':!0x0}):_0x23c63b,_0x3eb348)),co=T(require('compression')),Ns=require('fs'),Ts=require(a0_0x2caf34(0x34c)),Rs=require('path'),_e=require('path'),Q=process[a0_0x2caf34(0x23c)](),V=(0x0,_e[a0_0x2caf34(0x2be)])(Q,a0_0x2caf34(0x492)),Cs=(0x0,_e['join'])(Q,a0_0x2caf34(0x3c9)),Gt=(0x0,_e[a0_0x2caf34(0x2be)])(Q,'store',a0_0x2caf34(0x194)),Ms=require('class-validator'),Jt=class{constructor(){const _0x258756=a0_0x2caf34;this[_0x258756(0x51e)]();}['get'](_0x3cd65a){return this['env'][_0x3cd65a];}[a0_0x2caf34(0x51e)](){const _0x23ab91=a0_0x2caf34;this[_0x23ab91(0x417)]=process[_0x23ab91(0x417)]?.[_0x23ab91(0x556)]!=='true'?this['envYaml']():this[_0x23ab91(0x17a)](),this['env'][_0x23ab91(0x370)]=process[_0x23ab91(0x417)]?.['NODE_ENV']===_0x23ab91(0x384),process[_0x23ab91(0x417)]?.[_0x23ab91(0x556)]===_0x23ab91(0x5fd)&&(this[_0x23ab91(0x417)]['SERVER'][_0x23ab91(0x301)]=_0x23ab91(0x159),this[_0x23ab91(0x417)]['SERVER']['PORT']=Number[_0x23ab91(0x30e)](process[_0x23ab91(0x417)]?.[_0x23ab91(0xef)]??_0x23ab91(0x3bc)));}[a0_0x2caf34(0x25a)](){const _0x51d4a4=a0_0x2caf34;return(0x0,Ts['load'])((0x0,Ns['readFileSync'])((0x0,Rs[_0x51d4a4(0x2be)])(Cs,_0x51d4a4(0x674)),{'encoding':_0x51d4a4(0x5d8)}));}[a0_0x2caf34(0x17a)](){const _0x10a30b=a0_0x2caf34;return{'SERVER':{'TYPE':process['env'][_0x10a30b(0x25f)],'PORT':Number[_0x10a30b(0x30e)](process[_0x10a30b(0x417)][_0x10a30b(0xef)])},'CORS':{'ORIGIN':process['env'][_0x10a30b(0x2aa)][_0x10a30b(0x226)](','),'METHODS':process[_0x10a30b(0x417)][_0x10a30b(0x3f3)][_0x10a30b(0x226)](','),'CREDENTIALS':process[_0x10a30b(0x417)]?.[_0x10a30b(0x214)]===_0x10a30b(0x5fd)},'SSL_CONF':{'PRIVKEY':process[_0x10a30b(0x417)]?.[_0x10a30b(0x680)],'FULLCHAIN':process[_0x10a30b(0x417)]?.[_0x10a30b(0x91)]},'STORE':{'CLEANING_INTERVAL':Number[_0x10a30b(0x435)](process['env']?.[_0x10a30b(0x624)])?Number[_0x10a30b(0x30e)](process[_0x10a30b(0x417)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x10a30b(0x417)]?.['STORE_MESSAGE']===_0x10a30b(0x5fd),'CONTACTS':process['env']?.['STORE_CONTACTS']===_0x10a30b(0x5fd),'CHATS':process[_0x10a30b(0x417)]?.[_0x10a30b(0x299)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x10a30b(0x417)]?.[_0x10a30b(0xc6)],'PORT':Number[_0x10a30b(0x30e)](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x10a30b(0x417)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x10a30b(0x417)][_0x10a30b(0x64f)],'URI':process[_0x10a30b(0x417)][_0x10a30b(0xc5)],'DB_PREFIX_NAME':process['env'][_0x10a30b(0x20e)]},'ENABLED':process['env']?.[_0x10a30b(0x2db)]===_0x10a30b(0x5fd)},'REDIS':{'ENABLED':process[_0x10a30b(0x417)]?.[_0x10a30b(0x2d4)]==='true','URI':process[_0x10a30b(0x417)]['REDIS_URI'],'PREFIX_KEY':process[_0x10a30b(0x417)][_0x10a30b(0x30f)]},'LOG':{'LEVEL':process[_0x10a30b(0x417)]?.[_0x10a30b(0x4b3)]['split'](','),'COLOR':process[_0x10a30b(0x417)]?.[_0x10a30b(0x4f0)]===_0x10a30b(0x5fd)},'DEL_INSTANCE':(0x0,Ms[_0x10a30b(0x4a9)])(process['env']?.[_0x10a30b(0x409)])?process[_0x10a30b(0x417)][_0x10a30b(0x409)]===_0x10a30b(0x5fd):Number['parseInt'](process['env']['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x10a30b(0x417)][_0x10a30b(0xc1)]?process[_0x10a30b(0x417)][_0x10a30b(0xc1)]===_0x10a30b(0x5fd):!0x1,'GLOBAL':{'URL':process['env']?.[_0x10a30b(0x31a)],'ENABLED':process[_0x10a30b(0x417)]?.['WEBHOOK_GLOBAL_ENABLED']==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x318)]==='true','QRCODE_UPDATED':process[_0x10a30b(0x417)]?.[_0x10a30b(0x236)]===_0x10a30b(0x5fd),'MESSAGES_SET':process[_0x10a30b(0x417)]?.[_0x10a30b(0x5c6)]===_0x10a30b(0x5fd),'MESSAGES_UPSERT':process[_0x10a30b(0x417)]?.[_0x10a30b(0x388)]===_0x10a30b(0x5fd),'MESSAGES_UPDATE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x1bd)]===_0x10a30b(0x5fd),'SEND_MESSAGE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x4b5)]===_0x10a30b(0x5fd),'CONTACTS_SET':process[_0x10a30b(0x417)]?.['WEBHOOK_EVENTS_CONTACTS_SET']===_0x10a30b(0x5fd),'CONTACTS_UPDATE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x46d)]===_0x10a30b(0x5fd),'CONTACTS_UPSERT':process['env']?.[_0x10a30b(0x122)]==='true','PRESENCE_UPDATE':process[_0x10a30b(0x417)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x10a30b(0x5fd),'CHATS_SET':process[_0x10a30b(0x417)]?.[_0x10a30b(0x1eb)]===_0x10a30b(0x5fd),'CHATS_UPDATE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x638)]===_0x10a30b(0x5fd),'CHATS_UPSERT':process[_0x10a30b(0x417)]?.[_0x10a30b(0x249)]===_0x10a30b(0x5fd),'CHATS_DELETE':process[_0x10a30b(0x417)]?.['WEBHOOK_EVENTS_CHATS_DELETE']===_0x10a30b(0x5fd),'CONNECTION_UPDATE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x2a0)]===_0x10a30b(0x5fd),'GROUPS_UPSERT':process[_0x10a30b(0x417)]?.[_0x10a30b(0x461)]===_0x10a30b(0x5fd),'GROUP_UPDATE':process[_0x10a30b(0x417)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x10a30b(0x5fd),'GROUP_PARTICIPANTS_UPDATE':process[_0x10a30b(0x417)]?.[_0x10a30b(0x4aa)]===_0x10a30b(0x5fd),'NEW_JWT_TOKEN':process['env']?.[_0x10a30b(0x3ec)]===_0x10a30b(0x5fd)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x10a30b(0x417)]?.[_0x10a30b(0x9c)]||'uazapi','NAME':process[_0x10a30b(0x417)]?.[_0x10a30b(0x35d)]||_0x10a30b(0x186)},'QRCODE':{'LIMIT':Number[_0x10a30b(0x30e)](process[_0x10a30b(0x417)][_0x10a30b(0x1f2)])||0x5},'TRIAL_AD':process[_0x10a30b(0x417)]?.[_0x10a30b(0x9a)],'TRIAL_INSTANCE_NAME':process['env']?.[_0x10a30b(0xf4)],'AUTHENTICATION':{'TYPE':process[_0x10a30b(0x417)][_0x10a30b(0x2ae)],'API_KEY':{'KEY':process[_0x10a30b(0x417)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x10a30b(0x435)](process['env']?.[_0x10a30b(0x5a6)])?Number[_0x10a30b(0x30e)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x10a30b(0x417)][_0x10a30b(0x9b)]}}};}},E=new Jt(),lo=T(require(a0_0x2caf34(0x320))),pe=T(require('express')),bs=require('path'),Wt=T(require(a0_0x2caf34(0x14c))),Ht=(_0x1703a0=>(_0x1703a0[a0_0x2caf34(0x62d)]=a0_0x2caf34(0x47f),_0x1703a0[a0_0x2caf34(0x36c)]=a0_0x2caf34(0x342),_0x1703a0[a0_0x2caf34(0x366)]=a0_0x2caf34(0x52e),_0x1703a0['ERROR']='\x1b[31m',_0x1703a0[a0_0x2caf34(0x427)]='\x1b[36m',_0x1703a0[a0_0x2caf34(0x2cc)]=a0_0x2caf34(0x430),_0x1703a0[a0_0x2caf34(0x17f)]='\x1b[30m',_0x1703a0))(Ht||{}),As=(_0x259afe=>(_0x259afe[a0_0x2caf34(0x62d)]=a0_0x2caf34(0x280),_0x259afe[a0_0x2caf34(0x17f)]='\x1b[30m%s\x1b[0m',_0x259afe[a0_0x2caf34(0x36c)]=a0_0x2caf34(0x582),_0x259afe[a0_0x2caf34(0x366)]=a0_0x2caf34(0x225),_0x259afe[a0_0x2caf34(0x1df)]=a0_0x2caf34(0x3f4),_0x259afe[a0_0x2caf34(0x427)]=a0_0x2caf34(0x57e),_0x259afe[a0_0x2caf34(0x2cc)]=a0_0x2caf34(0x1a5),_0x259afe))(As||{}),Is=(_0x359ced=>(_0x359ced[a0_0x2caf34(0x62d)]=a0_0x2caf34(0x62d),_0x359ced['WARN']=a0_0x2caf34(0x366),_0x359ced[a0_0x2caf34(0x36c)]=a0_0x2caf34(0x36c),_0x359ced['DARK']='DARK',_0x359ced[a0_0x2caf34(0x1df)]=a0_0x2caf34(0x1df),_0x359ced[a0_0x2caf34(0x427)]='DEBUG',_0x359ced[a0_0x2caf34(0x2cc)]=a0_0x2caf34(0x2cc),_0x359ced))(Is||{}),Ds=(_0x2f8790=>(_0x2f8790['LOG']=a0_0x2caf34(0x15a),_0x2f8790['INFO']=a0_0x2caf34(0x3d2),_0x2f8790[a0_0x2caf34(0x366)]=a0_0x2caf34(0x436),_0x2f8790[a0_0x2caf34(0x17f)]=a0_0x2caf34(0x25b),_0x2f8790[a0_0x2caf34(0x1df)]='\x1b[41m',_0x2f8790['DEBUG']=a0_0x2caf34(0x5a1),_0x2f8790[a0_0x2caf34(0x2cc)]=a0_0x2caf34(0x684),_0x2f8790))(Ds||{}),N=class{constructor(_0xb276a0=a0_0x2caf34(0x42f)){const _0xc93c8d=a0_0x2caf34;this[_0xc93c8d(0x179)]=_0xb276a0,this['configService']=E;}[a0_0x2caf34(0x2f4)](_0x2800f7){const _0x47aa08=a0_0x2caf34;this[_0x47aa08(0x179)]=_0x2800f7;}[a0_0x2caf34(0x4b7)](_0x5d5db8,_0x2ab72f){const _0x44652c=a0_0x2caf34;let _0x5149c7=[];this[_0x44652c(0xf2)]['get'](_0x44652c(0x62d))[_0x44652c(0x415)][_0x44652c(0x369)](_0x5e7c84=>_0x5149c7[_0x44652c(0x334)](Is[_0x5e7c84]));let _0x2d244b=typeof _0x5d5db8;_0x5149c7[_0x44652c(0xea)](_0x2ab72f)&&(E[_0x44652c(0x54d)](_0x44652c(0x62d))[_0x44652c(0x1a8)]?(console['log']('\x1b[1m'+As[_0x2ab72f],_0x44652c(0x670),(0x0,Wt[_0x44652c(0x418)])()[_0x44652c(0x240)](_0x44652c(0x142)),_0x44652c(0x4d1),Ht[_0x2ab72f]+Ds[_0x2ab72f]+_0x44652c(0x443),_0x2ab72f+_0x44652c(0x544),_0x44652c(0x4b9),this[_0x44652c(0x179)]+_0x44652c(0x4d1),Ht[_0x2ab72f],_0x2d244b!==_0x44652c(0x3f1)?_0x5d5db8:'',_0x44652c(0x4d1)),_0x2d244b===_0x44652c(0x3f1)&&console['log'](_0x5d5db8,'\x0a')):console[_0x44652c(0x174)]((0x0,Wt[_0x44652c(0x418)])()[_0x44652c(0x240)](_0x44652c(0x28f)),_0x2ab72f+'\x20',''+this['context'],_0x5d5db8));}[a0_0x2caf34(0x174)](_0x527655){const _0x3575c6=a0_0x2caf34;this['console'](_0x527655,_0x3575c6(0x62d));}[a0_0x2caf34(0x67b)](_0x414bba){const _0x251907=a0_0x2caf34;this[_0x251907(0x4b7)](_0x414bba,_0x251907(0x36c));}[a0_0x2caf34(0x41d)](_0x2de4f6){const _0x427903=a0_0x2caf34;this[_0x427903(0x4b7)](_0x2de4f6,'WARN');}['error'](_0x2b0004){const _0x14a663=a0_0x2caf34;this[_0x14a663(0x4b7)](_0x2b0004,_0x14a663(0x1df));}[a0_0x2caf34(0x208)](_0x58d767){const _0xef85b9=a0_0x2caf34;this[_0xef85b9(0x4b7)](_0x58d767,_0xef85b9(0x2cc));}[a0_0x2caf34(0x62b)](_0x3103fb){const _0x325cdc=a0_0x2caf34;this[_0x325cdc(0x4b7)](_0x3103fb,'DEBUG');}[a0_0x2caf34(0x48f)](_0xd30847){const _0x13aac=a0_0x2caf34;this[_0x13aac(0x4b7)](_0xd30847,_0x13aac(0x17f));}};function _s(){const _0x204509=a0_0x2caf34;process['on'](_0x204509(0x170),(_0x103d39,_0xb6ef19)=>{const _0x54a49f=_0x204509;new N(_0x54a49f(0x170))[_0x54a49f(0x348)]({'origin':_0xb6ef19,'stderr':process[_0x54a49f(0x49e)]['fd'],'error':_0x103d39});}),process['on']('unhandledRejection',(_0x532508,_0x5a12f0)=>{const _0xca42c5=_0x204509;new N('unhandledRejection')[_0xca42c5(0x348)]({'origin':_0x5a12f0,'stderr':process[_0xca42c5(0x49e)]['fd'],'error':_0x532508});});}var Os=T(require('eventemitter2')),Kt=new Os[(a0_0x2caf34(0x418))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require(a0_0x2caf34(0x38d)),zt=T(require('mongoose')),vo=new N(a0_0x2caf34(0x456)),G=E[a0_0x2caf34(0x54d)](a0_0x2caf34(0x293)),M=G[a0_0x2caf34(0x481)]?G[a0_0x2caf34(0x470)][a0_0x2caf34(0x144)]?zt[a0_0x2caf34(0x418)][a0_0x2caf34(0x623)](G[a0_0x2caf34(0x470)][a0_0x2caf34(0x144)],{'dbName':G[a0_0x2caf34(0x470)][a0_0x2caf34(0x4bb)]+a0_0x2caf34(0xc7)}):zt['default'][a0_0x2caf34(0x623)](a0_0x2caf34(0x579)+G[a0_0x2caf34(0x470)][a0_0x2caf34(0x673)]+':'+G[a0_0x2caf34(0x470)][a0_0x2caf34(0x584)]+a0_0x2caf34(0x500),{'user':G['CONNECTION'][a0_0x2caf34(0xdb)],'pass':G[a0_0x2caf34(0x470)][a0_0x2caf34(0x5bf)],'dbName':G[a0_0x2caf34(0x470)][a0_0x2caf34(0x4bb)]+a0_0x2caf34(0xc7)}):null;G[a0_0x2caf34(0x481)]&&vo[a0_0x2caf34(0x67b)](a0_0x2caf34(0x47c)+M[a0_0x2caf34(0x230)]);var Co=new Oe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),No=new Oe[(a0_0x2caf34(0x1c8))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),To=new Oe[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':No,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Ps=_0x457a0c=>{const _0x32238c=a0_0x2caf34;let _0x26c408='z_'+_0x457a0c+_0x32238c(0x27f);return M?.[_0x32238c(0x3e4)](_0x32238c(0x207),To,_0x26c408);},xs=require(a0_0x2caf34(0x38d)),Ro=new xs[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),$s=_0x3df161=>{const _0x1b9aa4=a0_0x2caf34;let _0x16eabc='z_'+_0x3df161+_0x1b9aa4(0x575);return M?.[_0x1b9aa4(0x3e4)]('ContactModel',Ro,_0x16eabc);},ks=require(a0_0x2caf34(0x38d)),Mo=new ks[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x2caf34(0x475),'web',a0_0x2caf34(0x62f)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ls=_0x6dd888=>{const _0x310c71=a0_0x2caf34;let _0x9f17ab='z_'+_0x6dd888+_0x310c71(0xaf);return M?.[_0x310c71(0x3e4)](_0x310c71(0x20d),Mo,_0x9f17ab);},Us=require(a0_0x2caf34(0x38d)),Qt=class{},Ao=new Us[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Vs=M?.[a0_0x2caf34(0x3e4)](Qt['name'],Ao,'authentication'),js=require(a0_0x2caf34(0x38d)),Yt=class{},Fs=new js[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Fs[a0_0x2caf34(0x63c)](a0_0x2caf34(0x4ff),function(_0x3b2ede){const _0x12db26=a0_0x2caf34;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x12db26(0x608)],delete this[_0x12db26(0x4ba)],delete this[_0x12db26(0x2bd)],_0x3b2ede();});var Bs=M?.[a0_0x2caf34(0x3e4)](Yt[a0_0x2caf34(0x3c7)],Fs,a0_0x2caf34(0x4e6)),_=require('mongoose'),qs=new _[(a0_0x2caf34(0x1c8))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x2caf34(0x1c8))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Io=new _[(a0_0x2caf34(0x1c8))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x2caf34(0x3fd)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new _[(a0_0x2caf34(0x1c8))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new _[(a0_0x2caf34(0x1c8))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Js=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Io},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _[(a0_0x2caf34(0x1c8))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ws=new _[(a0_0x2caf34(0x1c8))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Hs=new _['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x44a3dd=a0_0x2caf34;return _0x44a3dd(0x45a)+Math[_0x44a3dd(0x5ca)]()[_0x44a3dd(0x3c2)](0x24)[_0x44a3dd(0x4e3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]}});Hs[a0_0x2caf34(0x63c)]('save',function(_0x1e7d43){const _0x56e593=a0_0x2caf34;let _0x188da3=new Set(),_0x18f2b3=new Set(this[_0x56e593(0x26f)]?.['map'](_0x5008e9=>_0x5008e9[_0x56e593(0x3c7)])),_0x5e07ef=JSON[_0x56e593(0xff)](this),_0x171b28=/{{(?!_)([^}]*)}}/g,_0x231ac2;for(;(_0x231ac2=_0x171b28[_0x56e593(0x3d1)](_0x5e07ef))!==null;)_0x18f2b3[_0x56e593(0x413)](_0x231ac2[0x1])||_0x188da3[_0x56e593(0xcb)](_0x231ac2[0x1]);_0x188da3[_0x56e593(0x3d6)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x56e593(0x148)](_0x188da3)),this[_0x56e593(0x1c6)]=Array[_0x56e593(0x148)](_0x188da3)):this[_0x56e593(0x1c6)]=[],_0x1e7d43();});var I=M?.[a0_0x2caf34(0x3e4)](Zt[a0_0x2caf34(0x3c7)],Hs,a0_0x2caf34(0x166)),Oo=new _[(a0_0x2caf34(0x1c8))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),es=class{},Po=new _[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Js],'groups':[qs],'conditions':[Gs],'varedits':[Ws],'replyOptions':{'type':[Xt],'default':[]},'chatLog':Oo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2caf34(0x35b)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),j=M?.[a0_0x2caf34(0x3e4)](es[a0_0x2caf34(0x3c7)],Po,'flowConversation'),ts=class{},xo=new _[(a0_0x2caf34(0x1c8))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),$o=new _[(a0_0x2caf34(0x1c8))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x2caf34(0x24a)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.['model'](ts[a0_0x2caf34(0x3c7)],$o,a0_0x2caf34(0x52a)),ss=class{},ko=new _[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Lo=new _[(a0_0x2caf34(0x1c8))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x2caf34(0x4fe)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Uo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Vo=new _[(a0_0x2caf34(0x1c8))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Uo]},'customFields':{'type':[ko]},'flowConfig':{'type':Lo,'default':{}}}),ae=M?.['model'](ss['name'],Vo,a0_0x2caf34(0x60c)),ge=require('fs'),os=require(a0_0x2caf34(0x229)),W=class{constructor(_0x1623c9){const _0x3d9df4=a0_0x2caf34;this[_0x3d9df4(0x57b)]=(0x0,os[_0x3d9df4(0x2be)])(Q,'store'),this[_0x3d9df4(0x385)]=_0x496517=>{const _0x32efd0=_0x3d9df4;(0x0,ge[_0x32efd0(0x177)])(_0x496517[_0x32efd0(0x229)])||(0x0,ge[_0x32efd0(0x453)])(_0x496517['path'],{'recursive':!0x0});try{return(0x0,ge[_0x32efd0(0x19c)])((0x0,os['join'])(_0x496517[_0x32efd0(0x229)],_0x496517['fileName']+'.json'),JSON[_0x32efd0(0xff)]({..._0x496517[_0x32efd0(0x51b)]}),{'encoding':_0x32efd0(0x5d8)}),{'message':_0x32efd0(0x65e)};}finally{_0x496517['data']=void 0x0;}},this[_0x3d9df4(0x1ed)]=_0x1623c9[_0x3d9df4(0x54d)](_0x3d9df4(0x293));}[a0_0x2caf34(0x3d7)](_0x513815,_0x2d5a46=!0x1){const _0x4d61ed=a0_0x2caf34;throw new Error(_0x4d61ed(0x100));}[a0_0x2caf34(0x504)](_0x5a84ad){const _0x5edc1e=a0_0x2caf34;throw new Error(_0x5edc1e(0x100));}[a0_0x2caf34(0x126)](_0x7a1e44,_0x1d022b){const _0x5826da=a0_0x2caf34;throw new Error(_0x5826da(0x100));}},Pe=class{},xe=class extends W{constructor(_0x1943f){const _0xacc79a=a0_0x2caf34;super(_0x1943f),this[_0xacc79a(0xf2)]=_0x1943f;}[a0_0x2caf34(0x66b)](_0x398e4b){return Ls(_0x398e4b);}async['insert'](_0x45916c){const _0x507a45=a0_0x2caf34;if(_0x45916c[_0x507a45(0x59b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x507a45(0x66b)](_0x45916c[0x0]['owner'])[_0x507a45(0x199)]([..._0x45916c]))[_0x507a45(0x59b)]};}catch(_0x463cc6){return console[_0x507a45(0x174)](_0x507a45(0x302),_0x463cc6),_0x463cc6;}}async['find'](_0x2735d8){const _0x126b3e=a0_0x2caf34;try{let _0x305810=this['getMessageModelForOwner'](_0x2735d8[_0x126b3e(0x51a)][_0x126b3e(0x567)]);if(_0x2735d8?.[_0x126b3e(0x51a)]?.[_0x126b3e(0x465)]){for(let [_0x1407ab,_0x34b9ee]of Object[_0x126b3e(0x160)](_0x2735d8[_0x126b3e(0x51a)][_0x126b3e(0x465)]))_0x2735d8['where']['key.'+_0x1407ab]=_0x34b9ee;delete _0x2735d8?.[_0x126b3e(0x51a)]?.[_0x126b3e(0x465)];}return await _0x305810[_0x126b3e(0x504)]({..._0x2735d8[_0x126b3e(0x51a)]})[_0x126b3e(0x5f1)]({'messageTimestamp':-0x1})[_0x126b3e(0x287)](_0x2735d8?.[_0x126b3e(0x287)]??0x0)[_0x126b3e(0x37a)]();}catch{return[];}}async['delete'](_0x3d35db){const _0x57ea0b=a0_0x2caf34;try{await this[_0x57ea0b(0x66b)](_0x3d35db[_0x57ea0b(0x51a)][_0x57ea0b(0x567)])[_0x57ea0b(0x30b)]({..._0x3d35db['where']});}catch(_0x174b53){console['error'](_0x174b53);}}async['update'](_0x3eeff9,_0x50d377){const _0x44e680=a0_0x2caf34;try{return await this[_0x44e680(0x66b)](_0x3eeff9['where'][_0x44e680(0x567)])['findOneAndUpdate']({..._0x3eeff9['where']},{'$set':_0x50d377},{'new':!0x0});}catch(_0x248f22){throw console[_0x44e680(0x348)](_0x248f22),_0x248f22;}}async[a0_0x2caf34(0x199)](_0x3c2b3e){const _0x316788=a0_0x2caf34;if(_0x3c2b3e[_0x316788(0x59b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3c2b3e[0x0][_0x316788(0x567)])[_0x316788(0x199)]([..._0x3c2b3e]))['length']};}catch(_0x59f7f7){return console['log']('ERROR:\x20',_0x59f7f7),_0x59f7f7;}}async[a0_0x2caf34(0x52d)](_0x102108){const _0x50a90c=a0_0x2caf34;try{return await this[_0x50a90c(0x66b)](_0x102108)['collection'][_0x50a90c(0x643)](),{'success':!0x0};}catch(_0x1ee5f5){return console[_0x50a90c(0x348)](_0x1ee5f5),{'success':!0x1,'error':_0x1ee5f5};}}},te=require('fs'),Ya=T(require(a0_0x2caf34(0x140))),w=T(require(a0_0x2caf34(0x541))),Te=require('fs'),$=T(require(a0_0x2caf34(0x229))),ne=T(require(a0_0x2caf34(0x58b))),Xa=require(a0_0x2caf34(0x2d0)),Za=T(require(a0_0x2caf34(0x310))),eo=T(require(a0_0x2caf34(0x24d))),Ks=[a0_0x2caf34(0x3c3),a0_0x2caf34(0x1d5),a0_0x2caf34(0x101),a0_0x2caf34(0x316),a0_0x2caf34(0x352)],zs=[a0_0x2caf34(0xf1),'documentWithCaptionMessage','viewOnceMessage',a0_0x2caf34(0x2de)],to=require('os'),Rt=T(require('pino')),Dt=require(a0_0x2caf34(0x55f)),Mt=require(a0_0x2caf34(0x41e)),we=T(require('mongoose')),O=require(a0_0x2caf34(0x5f6)),me=class{constructor(_0x1500c1,_0xd0c658,_0x4c35d8){const _0x14d485=a0_0x2caf34;this['jid']=_0x1500c1,this[_0x14d485(0x3ac)]=_0xd0c658,this[_0x14d485(0x3c7)]=_0x4c35d8;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},he=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require(a0_0x2caf34(0x1fc))),Qs=require('fs'),Ys=require(a0_0x2caf34(0x229));async function qe(_0x4cf99b){const _0x18bf01=a0_0x2caf34;let _0x478b48=F['waInstances'][_0x4cf99b];if(G[_0x18bf01(0x481)]){let _0xc9d4c2=M[_0x18bf01(0x107)]()['db'](G[_0x18bf01(0x470)][_0x18bf01(0x4bb)]+_0x18bf01(0x56f))[_0x18bf01(0x428)](_0x4cf99b);return _0x478b48||(await _0xc9d4c2['find']({})[_0x18bf01(0x4f8)]())[_0x18bf01(0x59b)]>0x0;}return _0x478b48||(0x0,Qs['existsSync'])((0x0,Ys[_0x18bf01(0x2be)])(V,_0x4cf99b));}async function rs(_0x1aff6a,_0x328294,_0x89bc1){const _0x847464=a0_0x2caf34;if(_0x1aff6a[_0x847464(0x419)]['includes'](_0x847464(0x5c4))||_0x1aff6a['originalUrl']['includes'](_0x847464(0xda))||_0x1aff6a[_0x847464(0x419)]['includes']('/exit'))return _0x89bc1();let _0x4f1537=_0x1aff6a[_0x847464(0x27d)];if(!_0x4f1537?.[_0x847464(0x372)])throw new g(_0x847464(0x2c7));if(!await qe(_0x4f1537[_0x847464(0x372)]))throw new x(_0x847464(0xb3)+_0x4f1537[_0x847464(0x372)]+_0x847464(0x376));_0x89bc1();}async function Xs(_0x12519c,_0x30b3e4,_0x3e7d3a){const _0x40726f=a0_0x2caf34;if(_0x12519c[_0x40726f(0x419)][_0x40726f(0xea)]('/instance/create')){let _0x216054=_0x12519c['body'];if(await qe(_0x216054[_0x40726f(0x372)]))throw new oe(_0x40726f(0x1a7)+_0x216054['instanceName']+_0x40726f(0x3cc));F[_0x40726f(0x36a)][_0x216054['instanceName']]&&delete F[_0x40726f(0x36a)][_0x216054['instanceName']];}_0x3e7d3a();}var Zs=require(a0_0x2caf34(0x5f6)),ea=T(require(a0_0x2caf34(0x604))),Ge=a0_0x2caf34(0xad),Fo=new N(a0_0x2caf34(0x161));async function Bo(_0x4fe23b,_0x418fc5,_0x5766e1){const _0xf7c170=a0_0x2caf34;let _0x4cc885=_0x4fe23b[_0xf7c170(0x54d)](_0xf7c170(0x113));if(_0x4cc885&&E[_0xf7c170(0x54d)](_0xf7c170(0x5a4))['API_KEY'][_0xf7c170(0x154)]!==_0x4cc885)throw new re();if(E[_0xf7c170(0x54d)](_0xf7c170(0x5a4))['API_KEY'][_0xf7c170(0x154)]===_0x4cc885)return _0x5766e1();if((_0x4fe23b[_0xf7c170(0x419)][_0xf7c170(0xea)](_0xf7c170(0x5c4))||_0x4fe23b[_0xf7c170(0x419)][_0xf7c170(0xea)](_0xf7c170(0xda)))&&!_0x4cc885)throw new oe(_0xf7c170(0x184),_0xf7c170(0x132));let _0x111a02=E[_0xf7c170(0x54d)](_0xf7c170(0x5a4))['JWT'];try{let [_0x309f8e,_0x20f6e2]=_0x4fe23b[_0xf7c170(0x54d)](_0xf7c170(0x46e))[_0xf7c170(0x226)]('\x20');if(_0x309f8e[_0xf7c170(0x28c)]()!==_0xf7c170(0x649))throw new re();if(!(0x0,Zs[_0xf7c170(0x4cb)])(_0x20f6e2))throw new re();let _0x2b023a=_0x4fe23b['params'],_0x38be75=ea[_0xf7c170(0x418)][_0xf7c170(0x297)](_0x20f6e2,_0x111a02[_0xf7c170(0x539)],{'ignoreExpiration':_0x111a02[_0xf7c170(0x493)]===0x0});if(_0x2b023a[_0xf7c170(0x372)]!==_0x38be75[_0xf7c170(0x372)]||Ge!==_0x38be75[_0xf7c170(0x676)])throw new re();return _0x5766e1();}catch(_0x31782f){throw Fo['error'](_0x31782f),new re();}}async function qo(_0x213fcb,_0x51a94a,_0x4587bc){const _0x5007c0=a0_0x2caf34;let _0x164692=E[_0x5007c0(0x54d)](_0x5007c0(0x5a4))['API_KEY'],_0x34ed5a=_0x213fcb[_0x5007c0(0x54d)](_0x5007c0(0x113));if(_0x164692[_0x5007c0(0x154)]===_0x34ed5a)return _0x4587bc();if(_0x213fcb[_0x5007c0(0x419)]['includes'](_0x5007c0(0x5c4))){let _0x35e62d=E[_0x5007c0(0x54d)](_0x5007c0(0xf4)),_0x1221e4=_0x213fcb[_0x5007c0(0x515)][_0x5007c0(0x372)];if(_0x35e62d&&_0x1221e4['toLowerCase']()[_0x5007c0(0x601)](_0x35e62d[_0x5007c0(0x28c)]()))return _0x4587bc();if(!_0x34ed5a)throw new oe(_0x5007c0(0x184),_0x5007c0(0x132));}if(_0x213fcb[_0x5007c0(0x419)]['includes'](_0x5007c0(0xda))&&!_0x34ed5a)throw new oe(_0x5007c0(0x184),_0x5007c0(0x132));if(_0x213fcb[_0x5007c0(0x419)][_0x5007c0(0xea)](_0x5007c0(0x408))&&!_0x34ed5a)throw new oe(_0x5007c0(0x184),_0x5007c0(0x132));try{let _0x139dd1=_0x213fcb['params'];if((await ce[_0x5007c0(0x194)][_0x5007c0(0x504)](_0x139dd1[_0x5007c0(0x372)]))['apikey']===_0x34ed5a)return _0x4587bc();}catch{}throw new re();}var ta={'jwt':Bo,'apikey':qo},$a=require(a0_0x2caf34(0x1fc)),v=require('uuid'),S=(..._0x1ba27e)=>{const _0x3a6cfa=a0_0x2caf34;let _0x4ad0b2={};return _0x1ba27e[_0x3a6cfa(0x369)](_0x3727d0=>_0x4ad0b2[_0x3727d0]={'minLength':0x1,'description':'The\x20\x22'+_0x3727d0+_0x3a6cfa(0x2df)}),{'if':{'propertyNames':{'enum':[..._0x1ba27e]}},'then':{'properties':_0x4ad0b2}};},C={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'instanceName':{'type':a0_0x2caf34(0x600)}},...S(a0_0x2caf34(0x372))},sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x34a)],...S('oldToken')},un={'properties':{'key':{'type':a0_0x2caf34(0x3f1),'properties':{'id':{'type':a0_0x2caf34(0x600)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2caf34(0x4a8),a0_0x2caf34(0x19f)],...S('id',a0_0x2caf34(0x4a8))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x2caf34(0x3cf),'description':a0_0x2caf34(0xa1)},'presence':{'type':'string','enum':[a0_0x2caf34(0x42d),a0_0x2caf34(0x21f),a0_0x2caf34(0x20c),a0_0x2caf34(0x2b7),'paused']}}},X={'type':a0_0x2caf34(0x600),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x2caf34(0x36d)},aa={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x3f8)],...S('text')}},'required':['textMessage','number']},oa={'type':'string','pattern':a0_0x2caf34(0x4fa),'description':a0_0x2caf34(0x36d)},dn={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...oa},'options':{...Y},'textMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'text':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x3f8)],...S(a0_0x2caf34(0x3f8))}},'required':[a0_0x2caf34(0x5a8),a0_0x2caf34(0x487)]},pn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...oa},'options':{...Y},'mediaMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'mediatype':{'type':a0_0x2caf34(0x600),'enum':['image','document',a0_0x2caf34(0x3f5),a0_0x2caf34(0x44e)]},'media':{'type':a0_0x2caf34(0x600)},'fileName':{'type':'string'},'caption':{'type':a0_0x2caf34(0x600)}},'required':['mediatype',a0_0x2caf34(0x4c6)],...S(a0_0x2caf34(0x360),a0_0x2caf34(0x59e),a0_0x2caf34(0x4c6))}},'required':[a0_0x2caf34(0x527),a0_0x2caf34(0x487)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'image':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x3e7)],...S(a0_0x2caf34(0x3e7))}},'required':[a0_0x2caf34(0x352),a0_0x2caf34(0x487)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'statusMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'type':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x3f8),a0_0x2caf34(0x3e7),'audio',a0_0x2caf34(0x3f5)]},'content':{'type':a0_0x2caf34(0x600)},'caption':{'type':a0_0x2caf34(0x600)},'backgroundColor':{'type':a0_0x2caf34(0x600)},'font':{'type':a0_0x2caf34(0x3cf),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x2caf34(0x1b1),'description':a0_0x2caf34(0x1cb)}},'allContacts':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}},'required':[a0_0x2caf34(0x54a),a0_0x2caf34(0x283)],...S(a0_0x2caf34(0x54a),'content')}},'required':['statusMessage']},na={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'mediatype':{'type':'string','enum':[a0_0x2caf34(0x3e7),a0_0x2caf34(0x121),a0_0x2caf34(0x3f5),'audio']},'media':{'type':a0_0x2caf34(0x600)},'fileName':{'type':a0_0x2caf34(0x600)},'caption':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x2dc),a0_0x2caf34(0x4c6)],...S(a0_0x2caf34(0x360),'caption',a0_0x2caf34(0x4c6))}},'required':[a0_0x2caf34(0x527),a0_0x2caf34(0x487)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'audio':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x44e)],...S(a0_0x2caf34(0x44e))}},'required':[a0_0x2caf34(0x101),a0_0x2caf34(0x487)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x2caf34(0x600)},'selectableCount':{'type':a0_0x2caf34(0x487)},'values':{'type':a0_0x2caf34(0x1ba),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x2caf34(0x47d),a0_0x2caf34(0x13b)],...S(a0_0x2caf34(0x3c7),a0_0x2caf34(0x47d),a0_0x2caf34(0x13b))}},'required':[a0_0x2caf34(0x487),a0_0x2caf34(0x4c7)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'title':{'type':a0_0x2caf34(0x600)},'description':{'type':a0_0x2caf34(0x600)},'footerText':{'type':'string'},'buttons':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2caf34(0x3f1),'properties':{'buttonText':{'type':a0_0x2caf34(0x600)},'buttonId':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x5cd),'buttonId'],...S(a0_0x2caf34(0x5cd),a0_0x2caf34(0x621))}},'mediaMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x2caf34(0x600)},'mediatype':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x3e7),a0_0x2caf34(0x121),a0_0x2caf34(0x3f5)]}},'required':['media','mediatype'],...S('media',a0_0x2caf34(0x360))}},'required':[a0_0x2caf34(0x1bc),a0_0x2caf34(0x219)],...S(a0_0x2caf34(0x1bc),a0_0x2caf34(0x188))}},'required':['number',a0_0x2caf34(0x11e)]},da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'latitude':{'type':a0_0x2caf34(0x487)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x2caf34(0x647),a0_0x2caf34(0x5d4)],...S(a0_0x2caf34(0x3c7),a0_0x2caf34(0x3df))}},'required':['number','locationMessage']},pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'title':{'type':'string'},'description':{'type':a0_0x2caf34(0x600)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x2caf34(0x600)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2caf34(0x3f1),'properties':{'title':{'type':a0_0x2caf34(0x600)},'rows':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2caf34(0x3f1),'properties':{'title':{'type':'string'},'description':{'type':a0_0x2caf34(0x600)},'rowId':{'type':'string'}},'required':[a0_0x2caf34(0x1bc),a0_0x2caf34(0x188),a0_0x2caf34(0x3a4)],...S(a0_0x2caf34(0x1bc),a0_0x2caf34(0x188),a0_0x2caf34(0x3a4))}}},'required':[a0_0x2caf34(0x1bc),a0_0x2caf34(0x4f7)],...S('title')}}},'required':[a0_0x2caf34(0x1bc),a0_0x2caf34(0x188),a0_0x2caf34(0x5cd),a0_0x2caf34(0x12d)],...S('title','description',a0_0x2caf34(0x5cd),a0_0x2caf34(0x353))}},'required':['number',a0_0x2caf34(0xc4)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x2caf34(0x3f1),'properties':{'fullName':{'type':a0_0x2caf34(0x600)},'phoneNumber':{'type':a0_0x2caf34(0x600),'minLength':0xa}},'required':[a0_0x2caf34(0x19a),a0_0x2caf34(0x449)],...S(a0_0x2caf34(0x19a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2caf34(0x487),a0_0x2caf34(0x135)]},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x2caf34(0x600)},'fromMe':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2caf34(0x4a8),a0_0x2caf34(0x19f)],...S('id',a0_0x2caf34(0x4a8))},'reaction':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x465),a0_0x2caf34(0x509)],...S(a0_0x2caf34(0x509))}},'required':[a0_0x2caf34(0x3a2)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'numbers':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2caf34(0x600),'pattern':a0_0x2caf34(0x1b1),'description':a0_0x2caf34(0x260)}}}},fa={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'readMessages':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2caf34(0x600)}},'required':['id','fromMe',a0_0x2caf34(0x4a8)],...S('id',a0_0x2caf34(0x4a8))}}},'required':[a0_0x2caf34(0x1d9)]},wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x2caf34(0x3f1),'properties':{'readreceipts':{'type':'string','enum':[a0_0x2caf34(0x2ec),a0_0x2caf34(0x1c4)]},'profile':{'type':a0_0x2caf34(0x600),'enum':['all',a0_0x2caf34(0x133),a0_0x2caf34(0x9e),a0_0x2caf34(0x1c4)]},'status':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x2ec),a0_0x2caf34(0x133),a0_0x2caf34(0x9e),'none']},'online':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x2ec),'match_last_seen']},'last':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x2ec),'contacts','contact_blacklist','none']},'groupadd':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x2ec),'contacts','contact_blacklist',a0_0x2caf34(0x1c4)]}},'required':['readreceipts',a0_0x2caf34(0x3a9),a0_0x2caf34(0x505),a0_0x2caf34(0xbf),a0_0x2caf34(0x4ac),'groupadd'],...S(a0_0x2caf34(0x21b),a0_0x2caf34(0x3a9),a0_0x2caf34(0x505),a0_0x2caf34(0xbf),a0_0x2caf34(0x4ac),a0_0x2caf34(0x517))}},'required':[a0_0x2caf34(0x93)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'lastMessage':{'type':a0_0x2caf34(0x3f1),'properties':{'key':{'type':a0_0x2caf34(0x3f1),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x2caf34(0x600)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x2caf34(0x4a8)],...S('id',a0_0x2caf34(0x4a8))},'messageTimestamp':{'type':a0_0x2caf34(0x3cf),'minLength':0x1}},'required':[a0_0x2caf34(0x465)],...S(a0_0x2caf34(0x3e3))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2caf34(0x429),a0_0x2caf34(0x588)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'id':{'type':a0_0x2caf34(0x600)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2caf34(0x600)},'participant':{'type':'string'}},'required':['id','fromMe','remoteJid'],...S('id',a0_0x2caf34(0x4a8),a0_0x2caf34(0x31f))},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x2caf34(0x3f1),'properties':{'_id':{'type':a0_0x2caf34(0x600),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0x2caf34(0x4da),'id','pushName')}}},Ea={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...S(a0_0x2caf34(0x3c7))},va={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'status':{'type':'string'}},...S(a0_0x2caf34(0x505))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{'type':a0_0x2caf34(0x600)},'picture':{'type':a0_0x2caf34(0x600)}}},Ca={'type':a0_0x2caf34(0x3f1),'properties':{'wuid':{'type':a0_0x2caf34(0x600)},'name':{'type':a0_0x2caf34(0x600)},'picture':{'type':'string'},'status':{'type':a0_0x2caf34(0x600)},'isBusiness':{'type':a0_0x2caf34(0x1ad)}}},Na={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'where':{'type':a0_0x2caf34(0x3f1),'properties':{'_id':{'type':a0_0x2caf34(0x600),'minLength':0x1},'key':{'type':a0_0x2caf34(0x3f1),'if':{'propertyNames':{'enum':[a0_0x2caf34(0x19f),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2caf34(0x600),'minLength':0x1,'description':a0_0x2caf34(0x633)},'id':{'type':'string','minLength':0x1,'description':a0_0x2caf34(0x633)},'fromMe':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2caf34(0x3f1)}},...S('_id')},'limit':{'type':'integer'}}},gn={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x2caf34(0x600)},'remoteJid':{'type':a0_0x2caf34(0x600)},'id':{'type':a0_0x2caf34(0x600)},'fromMe':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2caf34(0x600)},'status':{'type':'string','enum':[a0_0x2caf34(0x1df),a0_0x2caf34(0x5ac),a0_0x2caf34(0x5fb),a0_0x2caf34(0xfd),a0_0x2caf34(0xa9),a0_0x2caf34(0x501)]}},...S(a0_0x2caf34(0x4da),a0_0x2caf34(0x4a8),'id',a0_0x2caf34(0x505))},'limit':{'type':a0_0x2caf34(0x3cf)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'number':{...X},'presence':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x42d),'available',a0_0x2caf34(0x20c),a0_0x2caf34(0x2b7),a0_0x2caf34(0x1e4)]}},'required':[a0_0x2caf34(0x682),a0_0x2caf34(0x487)]},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'subject':{'type':a0_0x2caf34(0x600)},'description':{'type':a0_0x2caf34(0x600)},'profilePicture':{'type':a0_0x2caf34(0x600)},'participants':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x2caf34(0x1f3),'description':a0_0x2caf34(0x4e4)}}},'required':[a0_0x2caf34(0x5a5),'participants'],...S(a0_0x2caf34(0x5a5),'description',a0_0x2caf34(0x3dc))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2caf34(0x600),'pattern':a0_0x2caf34(0x3ca)}},'required':[a0_0x2caf34(0x561)],...S(a0_0x2caf34(0x561))},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'groupJid':{'type':a0_0x2caf34(0x600)},'action':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0xcb),'remove','promote',a0_0x2caf34(0x3f9)]},'participants':{'type':a0_0x2caf34(0x1ba),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2caf34(0x600),'minLength':0xa,'pattern':a0_0x2caf34(0x1f3),'description':a0_0x2caf34(0x4e4)}}},'required':[a0_0x2caf34(0x561),a0_0x2caf34(0x54b),'participants'],...S(a0_0x2caf34(0x561),a0_0x2caf34(0x54b))},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2caf34(0x600)},'expiration':{'type':a0_0x2caf34(0x487),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2caf34(0x561),'expiration'],...S(a0_0x2caf34(0x561),'expiration')},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'groupJid':{'type':a0_0x2caf34(0x600)},'image':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x561),a0_0x2caf34(0x3e7)],...S(a0_0x2caf34(0x561),a0_0x2caf34(0x3e7))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x2caf34(0x600)}},'required':[a0_0x2caf34(0x561),'description'],...S('groupJid',a0_0x2caf34(0x188))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x2caf34(0x600)}},'required':['groupJid',a0_0x2caf34(0x3c7)],...S('groupJid','name')},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'groupJid':{'type':a0_0x2caf34(0x600)},'setting':{'type':a0_0x2caf34(0x600),'enum':[a0_0x2caf34(0x5d5),'not_announcement','unlocked',a0_0x2caf34(0xf7)]}},'required':[a0_0x2caf34(0x561),'setting'],...S(a0_0x2caf34(0x561),'setting')},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x2caf34(0x600)}},'required':['inviteCode'],...S('inviteCode')},xa={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'url':{'type':a0_0x2caf34(0x600)},'enabled':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}},'required':[a0_0x2caf34(0x61d),a0_0x2caf34(0x34f)]},mn={'$id':(0x0,v['v4'])(),'type':a0_0x2caf34(0x3f1),'properties':{'local_map':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2caf34(0x1ad),'enum':[!0x0,!0x1]}},'required':[a0_0x2caf34(0x15c),'STATUS_INSTANCE',a0_0x2caf34(0x4de),a0_0x2caf34(0x330),a0_0x2caf34(0x317),'MESSAGES_UPSERT',a0_0x2caf34(0x531),a0_0x2caf34(0x5d2),'CONTACTS_UPSERT',a0_0x2caf34(0x2d7),'PRESENCE_UPDATE','CHATS_SET',a0_0x2caf34(0x4f3),a0_0x2caf34(0x3bb),a0_0x2caf34(0x667),a0_0x2caf34(0x10a),a0_0x2caf34(0x3d3),a0_0x2caf34(0x494),a0_0x2caf34(0x612)],...S(a0_0x2caf34(0x15c),a0_0x2caf34(0x24e),a0_0x2caf34(0x4de),a0_0x2caf34(0x330),'MESSAGES_UPDATE',a0_0x2caf34(0x65d),a0_0x2caf34(0x531),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x2caf34(0x2d7),a0_0x2caf34(0x47b),a0_0x2caf34(0x1ef),a0_0x2caf34(0x4f3),a0_0x2caf34(0x3bb),'CHATS_DELETE',a0_0x2caf34(0x10a),a0_0x2caf34(0x3d3),a0_0x2caf34(0x494),'GROUP_PARTICIPANTS_UPDATE')},Je=class{},We=class extends W{constructor(_0x485f53){const _0x40d5a9=a0_0x2caf34;super(_0x485f53),this[_0x40d5a9(0xf2)]=_0x485f53;}['getContactModelForOwner'](_0x2cdfbb){return $s(_0x2cdfbb);}async[a0_0x2caf34(0x3d7)](_0x41c64e){const _0x246378=a0_0x2caf34;if(_0x41c64e['length']!==0x0)try{return{'insertCount':(await this[_0x246378(0x4a6)](_0x41c64e[0x0]['owner'])[_0x246378(0x199)]([..._0x41c64e]))['length']};}catch(_0x36f569){return _0x36f569;}}async[a0_0x2caf34(0x126)](_0xf7f7b0){const _0x40bf6e=a0_0x2caf34;try{return{'deletedCount':(await this[_0x40bf6e(0x4a6)](_0xf7f7b0[_0x40bf6e(0x51a)][_0x40bf6e(0x567)])[_0x40bf6e(0x30b)]({..._0xf7f7b0['where']}))[_0x40bf6e(0x147)]};}catch(_0x4c438e){return{'error':_0x4c438e?.[_0x40bf6e(0x3c2)]()};}}async[a0_0x2caf34(0x3ae)](_0x131ea5,_0x2cee12){const _0x26bc62=a0_0x2caf34;try{if(_0x131ea5['length']===0x0)return;let _0x409312=this[_0x26bc62(0x4a6)](_0x2cee12),_0x268313=_0x131ea5[_0x26bc62(0x566)](_0x289dde=>({'updateOne':{'filter':{'_id':_0x289dde[_0x26bc62(0x4da)],'owner':_0x2cee12},'update':{..._0x289dde}}})),{modifiedCount:_0x247a06}=await _0x409312['bulkWrite'](_0x268313);return{'insertCount':_0x247a06};}catch{return;}}async['find'](_0x1d8027){const _0x4e8ba5=a0_0x2caf34;try{return await this[_0x4e8ba5(0x4a6)](_0x1d8027[_0x4e8ba5(0x51a)][_0x4e8ba5(0x567)])[_0x4e8ba5(0x504)]({..._0x1d8027[_0x4e8ba5(0x51a)]})[_0x4e8ba5(0x287)](_0x1d8027?.['limit']??0x0)[_0x4e8ba5(0x37a)]();}catch{return[];}}async[a0_0x2caf34(0x400)](_0x2ee4b2){const _0xf1a7b2=a0_0x2caf34;try{return await this[_0xf1a7b2(0x4a6)](_0x2ee4b2['where'][_0xf1a7b2(0x567)])[_0xf1a7b2(0x400)]({..._0x2ee4b2[_0xf1a7b2(0x51a)]})['lean']();}catch{return null;}}async['deleteAll'](_0x156cb5){const _0x50bacd=a0_0x2caf34;try{return await this[_0x50bacd(0x4a6)](_0x156cb5)['collection'][_0x50bacd(0x643)](),{'success':!0x0};}catch(_0x49c8c8){return console['error'](_0x49c8c8),{'success':!0x1,'error':_0x49c8c8};}}},He=require(a0_0x2caf34(0x40a)),vn=require(a0_0x2caf34(0x4b2)),is=new N(a0_0x2caf34(0x151)),k=class{constructor(){}['routerPath'](_0x454a88,_0x114064=!0x0){let _0x1284f9='/'+_0x454a88;return _0x114064&&(_0x1284f9+='/:instanceName'),_0x1284f9;}async['dataValidate'](_0x34306a){const _0x4f0cd6=a0_0x2caf34;let {request:_0x5c4b12,schema:_0x4e4e43,ClassRef:_0x15f541,execute:_0x3b4935}=_0x34306a,_0x35ce00=new _0x15f541(),_0xf941f5=_0x5c4b12[_0x4f0cd6(0x515)],_0x4cf476=_0x5c4b12[_0x4f0cd6(0x27d)];_0x5c4b12?.[_0x4f0cd6(0x18a)]&&Object['keys'](_0x5c4b12[_0x4f0cd6(0x18a)])[_0x4f0cd6(0x59b)]>0x0&&Object[_0x4f0cd6(0x1a9)](_0x4cf476,_0x5c4b12['query']),_0x5c4b12[_0x4f0cd6(0x419)]['includes'](_0x4f0cd6(0x5c4))&&Object[_0x4f0cd6(0x1a9)](_0x4cf476,_0xf941f5),Object[_0x4f0cd6(0x1a9)](_0x35ce00,_0xf941f5);let _0x50e27b=_0x4e4e43?(0x0,He[_0x4f0cd6(0x545)])(_0x35ce00,_0x4e4e43):{'valid':!0x0,'errors':[]};if(!_0x50e27b[_0x4f0cd6(0x5b3)]){let _0x10ee19=_0x50e27b['errors'][_0x4f0cd6(0x566)](({property:_0x4d0b8c,stack:_0x22fe1d,schema:_0x5d247c})=>{const _0x449e39=_0x4f0cd6;let _0x39c3ce;return _0x5d247c[_0x449e39(0x188)]?_0x39c3ce=_0x5d247c['description']:_0x39c3ce=_0x22fe1d[_0x449e39(0xb1)](_0x449e39(0x290),''),{'property':_0x4d0b8c[_0x449e39(0xb1)](_0x449e39(0x290),''),'message':_0x39c3ce};});throw is['error']([..._0x10ee19]),new g(..._0x10ee19);}return await _0x3b4935(_0x4cf476,_0x35ce00);}async[a0_0x2caf34(0x1cc)](_0x1b58c9){const _0xaee52a=a0_0x2caf34;let {request:_0x3302f2,ClassRef:_0x17c5e4,schema:_0x262364,execute:_0x33bd64}=_0x1b58c9,_0x5071c0=_0x3302f2[_0xaee52a(0x18a)];if(!_0x5071c0?.['groupJid'])throw new g(_0xaee52a(0x4c9),_0xaee52a(0x222));let _0x197efd=_0x3302f2[_0xaee52a(0x27d)],_0x3da443=_0x3302f2[_0xaee52a(0x515)],_0xa5fe81=new _0x17c5e4();Object[_0xaee52a(0x1a9)](_0x3da443,_0x5071c0),Object['assign'](_0xa5fe81,_0x3da443);let _0x363f1b=(0x0,He[_0xaee52a(0x545)])(_0xa5fe81,_0x262364);if(!_0x363f1b['valid']){let _0x248150=_0x363f1b[_0xaee52a(0x2e0)][_0xaee52a(0x566)](({property:_0x4b4246,stack:_0x5a08db,schema:_0x3409e6})=>{const _0xcec01c=_0xaee52a;let _0x1c95fd;return _0x3409e6[_0xcec01c(0x188)]?_0x1c95fd=_0x3409e6['description']:_0x1c95fd=_0x5a08db['replace']('instance.',''),{'property':_0x4b4246['replace'](_0xcec01c(0x290),''),'message':_0x1c95fd};});throw is['error']([..._0x248150]),new g(..._0x248150);}return await _0x33bd64(_0x197efd,_0xa5fe81);}async[a0_0x2caf34(0x565)](_0xdae467){const _0x189408=a0_0x2caf34;let {request:_0x21347d,ClassRef:_0x4d0499,schema:_0x5efc18,execute:_0x5df465}=_0xdae467,_0x50c7a1=_0x21347d[_0x189408(0x515)];if(!_0x50c7a1?.[_0x189408(0x1a1)])throw new g(_0x189408(0x110),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x4c631e=_0x21347d['params'],_0x400cab=_0x21347d['body'],_0x32dc4e=new _0x4d0499();Object[_0x189408(0x1a9)](_0x400cab,_0x50c7a1),Object[_0x189408(0x1a9)](_0x32dc4e,_0x400cab);let _0x5a4ab4=(0x0,He[_0x189408(0x545)])(_0x32dc4e,_0x5efc18);if(!_0x5a4ab4['valid']){let _0x367dc2=_0x5a4ab4['errors']['map'](({property:_0x375820,stack:_0xfe1a41,schema:_0x4ad569})=>{const _0x286a8a=_0x189408;let _0x4aee2f;return _0x4ad569['description']?_0x4aee2f=_0x4ad569[_0x286a8a(0x188)]:_0x4aee2f=_0xfe1a41[_0x286a8a(0xb1)]('instance.',''),{'property':_0x375820[_0x286a8a(0xb1)](_0x286a8a(0x290),''),'message':_0x4aee2f};});throw is[_0x189408(0x348)]([..._0x367dc2]),new g(..._0x367dc2);}return await _0x5df465(_0x4c631e,_0x32dc4e);}},b=class{},Ke=class extends k{constructor(..._0x36004b){const _0x5c1864=a0_0x2caf34;super(),this[_0x5c1864(0x516)]=(0x0,$a[_0x5c1864(0x407)])(),this[_0x5c1864(0x516)][_0x5c1864(0x4d3)](this['routerPath']('updatePresence'),..._0x36004b,async(_0x41a81d,_0x1d6a23)=>{const _0x4f60ad=_0x5c1864;let _0x19173c=await this[_0x4f60ad(0xde)]({'request':_0x41a81d,'schema':Ta,'ClassRef':$e,'execute':(_0x4991a3,_0x17ffc2)=>D[_0x4f60ad(0x60a)](_0x4991a3,_0x17ffc2)});return _0x1d6a23['status'](0xc9)['json'](_0x19173c);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)](_0x5c1864(0x1ea)),..._0x36004b,async(_0x1388f7,_0x25ea5c)=>{const _0x13d204=_0x5c1864;let _0x4dc1bc=await this[_0x13d204(0xde)]({'request':_0x1388f7,'schema':ha,'ClassRef':ke,'execute':(_0xe6f049,_0x915d02)=>D[_0x13d204(0x2fb)](_0xe6f049,_0x915d02)});return _0x25ea5c[_0x13d204(0x505)](0xc9)[_0x13d204(0x38a)](_0x4dc1bc);})['post'](this[_0x5c1864(0x3c8)](_0x5c1864(0x4d7)),..._0x36004b,async(_0xf5bc3b,_0x2a2a2d)=>{const _0x542cc5=_0x5c1864;let _0xffd9db=await this[_0x542cc5(0xde)]({'request':_0xf5bc3b,'schema':C,'ClassRef':b,'execute':(_0x2171bb,_0x5b9e64)=>D[_0x542cc5(0x4d7)](_0x2171bb,_0x5b9e64)});return _0x2a2a2d['status'](0xc9)['json'](_0xffd9db);})[_0x5c1864(0x1f7)](this[_0x5c1864(0x3c8)]('markMessageAsRead'),..._0x36004b,async(_0x2a08d2,_0xa7bf8d)=>{const _0x37cfed=_0x5c1864;let _0x424619=await this['dataValidate']({'request':_0x2a08d2,'schema':fa,'ClassRef':Ve,'execute':(_0x4af1dd,_0x3af6c8)=>D['readMessage'](_0x4af1dd,_0x3af6c8)});return _0xa7bf8d[_0x37cfed(0x505)](0xc9)[_0x37cfed(0x38a)](_0x424619);})[_0x5c1864(0x1f7)](this[_0x5c1864(0x3c8)](_0x5c1864(0x2f9)),..._0x36004b,async(_0x48ef9b,_0x2423a0)=>{const _0x1cca10=_0x5c1864;let _0x308970=await this[_0x1cca10(0xde)]({'request':_0x48ef9b,'schema':ya,'ClassRef':je,'execute':(_0x36fd82,_0x2b5833)=>D[_0x1cca10(0x2f9)](_0x36fd82,_0x2b5833)});return _0x2423a0[_0x1cca10(0x505)](0xc9)[_0x1cca10(0x38a)](_0x308970);})['delete'](this[_0x5c1864(0x3c8)](_0x5c1864(0x4dc)),..._0x36004b,async(_0x22bb64,_0x4b8832)=>{const _0x2f7b71=_0x5c1864;let _0x527343=await this[_0x2f7b71(0xde)]({'request':_0x22bb64,'schema':ba,'ClassRef':Be,'execute':(_0x5a8c32,_0x48312d)=>D['deleteMessage'](_0x5a8c32,_0x48312d)});return _0x4b8832[_0x2f7b71(0x505)](0xc9)['json'](_0x527343);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)]('fetchProfilePictureUrl'),..._0x36004b,async(_0x2d314c,_0x5c3639)=>{const _0x2de0f9=_0x5c1864;let _0x2b2409=await this['dataValidate']({'request':_0x2d314c,'schema':Ee,'ClassRef':Se,'execute':(_0x5df1d4,_0x1a63a1)=>D[_0x2de0f9(0x553)](_0x5df1d4,_0x1a63a1)});return _0x5c3639[_0x2de0f9(0x505)](0xc8)[_0x2de0f9(0x38a)](_0x2b2409);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)](_0x5c1864(0x4f4)),..._0x36004b,async(_0x37ea49,_0x4bb991)=>{const _0x203ceb=_0x5c1864;let _0x4839b3=await this[_0x203ceb(0xde)]({'request':_0x37ea49,'schema':Ca,'ClassRef':Se,'execute':(_0x53d60e,_0x4d10c0)=>D[_0x203ceb(0x4f4)](_0x53d60e,_0x4d10c0)});return _0x4bb991[_0x203ceb(0x505)](0xc8)[_0x203ceb(0x38a)](_0x4839b3);})[_0x5c1864(0x4d3)](this['routerPath'](_0x5c1864(0x5bd)),..._0x36004b,async(_0xee3b37,_0x25a3a5)=>{const _0x5e9b30=_0x5c1864;let _0x959626=await this['dataValidate']({'request':_0xee3b37,'schema':Sa,'ClassRef':Je,'execute':(_0x3844ad,_0x5876d7)=>D[_0x5e9b30(0x217)](_0x3844ad,_0x5876d7)});return _0x25a3a5[_0x5e9b30(0x505)](0xc8)[_0x5e9b30(0x38a)](_0x959626);})['post'](this['routerPath']('getBase64FromMediaMessage'),..._0x36004b,async(_0x158a1d,_0x1b472e)=>{const _0x3a009b=_0x5c1864;let _0x5222ba=await this[_0x3a009b(0xde)]({'request':_0x158a1d,'schema':null,'ClassRef':Object,'execute':(_0x31f7fd,_0x435b1b)=>D[_0x3a009b(0x3b1)](_0x31f7fd,_0x435b1b)});return _0x1b472e[_0x3a009b(0x505)](0xc9)[_0x3a009b(0x38a)](_0x5222ba);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)](_0x5c1864(0x5cb)),..._0x36004b,async(_0x7748f7,_0x48b846)=>{const _0x455ead=_0x5c1864;let _0x5620d4=await this['dataValidate']({'request':_0x7748f7,'schema':Na,'ClassRef':Pe,'execute':(_0x399d1d,_0x1917e6)=>D[_0x455ead(0x50f)](_0x399d1d,_0x1917e6)});return _0x48b846[_0x455ead(0x505)](0xc8)[_0x455ead(0x38a)](_0x5620d4);})[_0x5c1864(0x54d)](this[_0x5c1864(0x3c8)](_0x5c1864(0x156)),..._0x36004b,async(_0x59f3dd,_0x1d23cd)=>{const _0x5684fc=_0x5c1864;let _0x49bbff=await this['dataValidate']({'request':_0x59f3dd,'schema':null,'ClassRef':b,'execute':_0x3c506e=>D[_0x5684fc(0x583)](_0x3c506e)});return _0x1d23cd['status'](0xc8)[_0x5684fc(0x38a)](_0x49bbff);})[_0x5c1864(0x54d)](this[_0x5c1864(0x3c8)](_0x5c1864(0x3e8)),..._0x36004b,async(_0x3b17b9,_0x2edc02)=>{const _0x58d45b=_0x5c1864;let _0x1e2ef3=await this[_0x58d45b(0xde)]({'request':_0x3b17b9,'schema':null,'ClassRef':b,'execute':_0xc148da=>D[_0x58d45b(0x3e8)](_0xc148da)});return _0x2edc02[_0x58d45b(0x505)](0xc8)['json'](_0x1e2ef3);})['put'](this[_0x5c1864(0x3c8)](_0x5c1864(0x50a)),..._0x36004b,async(_0x48d295,_0x1cd9ba)=>{const _0x31456f=_0x5c1864;let _0x218a9e=await this['dataValidate']({'request':_0x48d295,'schema':wa,'ClassRef':Fe,'execute':(_0x109456,_0x1cd816)=>D[_0x31456f(0x50a)](_0x109456,_0x1cd816)});return _0x1cd9ba[_0x31456f(0x505)](0xc9)[_0x31456f(0x38a)](_0x218a9e);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)](_0x5c1864(0x12f)),..._0x36004b,async(_0xd3078,_0x25869d)=>{const _0x13a6e1=_0x5c1864;let _0x2b85d5=await this[_0x13a6e1(0xde)]({'request':_0xd3078,'schema':Ee,'ClassRef':he,'execute':(_0x49837e,_0x4ccdde)=>D[_0x13a6e1(0x12f)](_0x49837e,_0x4ccdde)});return _0x25869d[_0x13a6e1(0x505)](0xc8)[_0x13a6e1(0x38a)](_0x2b85d5);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)]('updateProfileName'),..._0x36004b,async(_0x493f6a,_0x27fea7)=>{const _0x2050b8=_0x5c1864;let _0xe3a373=await this[_0x2050b8(0xde)]({'request':_0x493f6a,'schema':Ea,'ClassRef':Le,'execute':(_0x516c6b,_0x2d65d4)=>D[_0x2050b8(0x457)](_0x516c6b,_0x2d65d4)});return _0x27fea7['status'](0xc8)['json'](_0xe3a373);})[_0x5c1864(0x4d3)](this[_0x5c1864(0x3c8)](_0x5c1864(0x439)),..._0x36004b,async(_0x5990fa,_0x5a48e8)=>{const _0x4c605d=_0x5c1864;let _0x184cc5=await this[_0x4c605d(0xde)]({'request':_0x5990fa,'schema':va,'ClassRef':Ue,'execute':(_0x51ddb0,_0x4e2c03)=>D['updateProfileStatus'](_0x51ddb0,_0x4e2c03)});return _0x5a48e8[_0x4c605d(0x505)](0xc8)['json'](_0x184cc5);})[_0x5c1864(0x1f7)](this[_0x5c1864(0x3c8)]('updateProfilePicture'),..._0x36004b,async(_0x1fec42,_0x380834)=>{const _0x244f2f=_0x5c1864;let _0x59c3ab=await this[_0x244f2f(0xde)]({'request':_0x1fec42,'schema':Ee,'ClassRef':he,'execute':(_0x1ae98a,_0x4227b8)=>D[_0x244f2f(0x611)](_0x1ae98a,_0x4227b8)});return _0x380834['status'](0xc8)['json'](_0x59c3ab);})[_0x5c1864(0x126)](this['routerPath'](_0x5c1864(0x2e6)),..._0x36004b,async(_0xb33372,_0x2bde99)=>{const _0x442ae2=_0x5c1864;let _0x11bea4=await this[_0x442ae2(0xde)]({'request':_0xb33372,'schema':Ee,'ClassRef':he,'execute':(_0x918e16,_0x3e96c8)=>D[_0x442ae2(0x2e6)](_0x918e16,_0x3e96c8)});return _0x2bde99[_0x442ae2(0x505)](0xc8)['json'](_0x11bea4);});}},ka=require(a0_0x2caf34(0x1fc)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x59d8b6){const _0xf428d6=a0_0x2caf34;super(),this[_0xf428d6(0x516)]=(0x0,ka['Router'])(),this[_0xf428d6(0x516)][_0xf428d6(0x4d3)](this[_0xf428d6(0x3c8)](_0xf428d6(0x333)),..._0x59d8b6,async(_0x3fa508,_0x2f49bb)=>{const _0x51070e=_0xf428d6;let _0x3e64eb=await this['dataValidate']({'request':_0x3fa508,'schema':Ra,'ClassRef':ze,'execute':(_0x32b649,_0xf6f9fb)=>U[_0x51070e(0x529)](_0x32b649,_0xf6f9fb)});_0x2f49bb['status'](0xc9)['json'](_0x3e64eb);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)](_0xf428d6(0x108)),..._0x59d8b6,async(_0x2dc34b,_0x4f6d90)=>{const _0x51336f=_0xf428d6;let _0x556981=await this[_0x51336f(0x1cc)]({'request':_0x2dc34b,'schema':Ia,'ClassRef':Qe,'execute':(_0x525e6c,_0x21a569)=>U[_0x51336f(0x108)](_0x525e6c,_0x21a569)});_0x4f6d90[_0x51336f(0x505)](0xc9)[_0x51336f(0x38a)](_0x556981);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)](_0xf428d6(0x61f)),..._0x59d8b6,async(_0x167644,_0x3ae4d4)=>{const _0x66e1a0=_0xf428d6;let _0x14ca43=await this[_0x66e1a0(0x1cc)]({'request':_0x167644,'schema':Da,'ClassRef':Ye,'execute':(_0x1f1265,_0x40f893)=>U[_0x66e1a0(0x61f)](_0x1f1265,_0x40f893)});_0x3ae4d4[_0x66e1a0(0x505)](0xc9)[_0x66e1a0(0x38a)](_0x14ca43);})['put'](this[_0xf428d6(0x3c8)](_0xf428d6(0x1db)),..._0x59d8b6,async(_0x16bde2,_0x571362)=>{const _0x180042=_0xf428d6;let _0x38aab7=await this[_0x180042(0x1cc)]({'request':_0x16bde2,'schema':_a,'ClassRef':Xe,'execute':(_0x3907d0,_0x3914f6)=>U[_0x180042(0x1db)](_0x3907d0,_0x3914f6)});_0x571362[_0x180042(0x505)](0xc9)['json'](_0x38aab7);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)]('groupSetting'),..._0x59d8b6,async(_0x9044be,_0x25c532)=>{const _0x261968=_0xf428d6;let _0x1b6a31=await this[_0x261968(0x1cc)]({'request':_0x9044be,'schema':Oa,'ClassRef':Ze,'execute':(_0x10b8a8,_0x5ef0ac)=>U[_0x261968(0x618)](_0x10b8a8,_0x5ef0ac)});_0x25c532[_0x261968(0x505)](0xc9)[_0x261968(0x38a)](_0x1b6a31);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)](_0xf428d6(0x18e)),..._0x59d8b6,async(_0x5c6db6,_0x1fd7b8)=>{const _0x2ece6a=_0xf428d6;let _0x4d82d6=await this[_0x2ece6a(0x1cc)]({'request':_0x5c6db6,'schema':Aa,'ClassRef':st,'execute':(_0x21eaaf,_0x28cb23)=>U[_0x2ece6a(0x18e)](_0x21eaaf,_0x28cb23)});_0x1fd7b8[_0x2ece6a(0x505)](0xc9)[_0x2ece6a(0x38a)](_0x4d82d6);})['get'](this[_0xf428d6(0x3c8)](_0xf428d6(0x403)),..._0x59d8b6,async(_0x178ff9,_0x516f74)=>{const _0x5cc6b6=_0xf428d6;let _0x40a4ff=await this[_0x5cc6b6(0x1cc)]({'request':_0x178ff9,'schema':ve,'ClassRef':Z,'execute':(_0x37c4b0,_0x2f220e)=>U['findGroupInfo'](_0x37c4b0,_0x2f220e)});_0x516f74[_0x5cc6b6(0x505)](0xc8)['json'](_0x40a4ff);})[_0xf428d6(0x54d)](this['routerPath'](_0xf428d6(0x546)),..._0x59d8b6,async(_0x21fedd,_0x5881b1)=>{const _0x1b6509=_0xf428d6;let _0x29e6f3=await this[_0x1b6509(0xde)]({'request':_0x21fedd,'schema':C,'ClassRef':b,'execute':_0xf9e756=>U[_0x1b6509(0x546)](_0xf9e756)});_0x5881b1['status'](0xc8)[_0x1b6509(0x38a)](_0x29e6f3);})[_0xf428d6(0x54d)](this['routerPath']('participants'),..._0x59d8b6,async(_0x244f94,_0x40baac)=>{const _0x4304b6=_0xf428d6;let _0x312f38=await this['groupValidate']({'request':_0x244f94,'schema':ve,'ClassRef':Z,'execute':(_0xc21071,_0x42f874)=>U['findParticipants'](_0xc21071,_0x42f874)});_0x40baac[_0x4304b6(0x505)](0xc8)[_0x4304b6(0x38a)](_0x312f38);})[_0xf428d6(0x54d)](this[_0xf428d6(0x3c8)](_0xf428d6(0x1a1)),..._0x59d8b6,async(_0x15d5a9,_0x2ae332)=>{const _0x2f083c=_0xf428d6;let _0x24618b=await this[_0x2f083c(0x1cc)]({'request':_0x15d5a9,'schema':ve,'ClassRef':Z,'execute':(_0x32ce7d,_0x118a64)=>U[_0x2f083c(0x1a1)](_0x32ce7d,_0x118a64)});_0x2ae332[_0x2f083c(0x505)](0xc8)['json'](_0x24618b);})[_0xf428d6(0x1f7)](this['routerPath'](_0xf428d6(0x371)),..._0x59d8b6,async(_0x380e5e,_0x5432f0)=>{const _0x28e721=_0xf428d6;let _0x2078fd=await this[_0x28e721(0x565)]({'request':_0x380e5e,'schema':Pa,'ClassRef':et,'execute':(_0x110b0f,_0x50dd7)=>U['joinGroup'](_0x110b0f,_0x50dd7)});_0x5432f0[_0x28e721(0x505)](0xc9)['json'](_0x2078fd);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)](_0xf428d6(0x2d3)),..._0x59d8b6,async(_0x3e92cb,_0x3f180b)=>{const _0x4457a2=_0xf428d6;let _0x4d5c6e=await this['groupValidate']({'request':_0x3e92cb,'schema':ve,'ClassRef':Z,'execute':(_0x5a1177,_0x925a13)=>U[_0x4457a2(0x2d3)](_0x5a1177,_0x925a13)});_0x3f180b[_0x4457a2(0x505)](0xc9)[_0x4457a2(0x38a)](_0x4d5c6e);})[_0xf428d6(0x1f7)](this[_0xf428d6(0x3c8)](_0xf428d6(0xc0)),..._0x59d8b6,async(_0xced362,_0x1c6554)=>{const _0x3e2e52=_0xf428d6;let _0x24db26=await this[_0x3e2e52(0x1cc)]({'request':_0xced362,'schema':Ma,'ClassRef':tt,'execute':(_0x27abcf,_0x2a3e59)=>U['updateGParticipate'](_0x27abcf,_0x2a3e59)});_0x1c6554[_0x3e2e52(0x505)](0xc9)[_0x3e2e52(0x38a)](_0x24db26);})[_0xf428d6(0x126)](this[_0xf428d6(0x3c8)]('leaveGroup'),..._0x59d8b6,async(_0x5be3b8,_0x3fe284)=>{const _0x534b0f=_0xf428d6;let _0x20ea08=await this['groupValidate']({'request':_0x5be3b8,'schema':{},'ClassRef':Z,'execute':(_0x3a9ebc,_0x55cc5d)=>U['leaveGroup'](_0x3a9ebc,_0x55cc5d)});_0x3fe284[_0x534b0f(0x505)](0xc8)[_0x534b0f(0x38a)](_0x20ea08);});}},Va=require(a0_0x2caf34(0x1fc)),Ce=require(a0_0x2caf34(0x604)),ns=require(a0_0x2caf34(0x2d0)),La=require(a0_0x2caf34(0x5f6)),Ua=T(require(a0_0x2caf34(0x58b))),ot=class{},rt=class c{constructor(_0x592106,_0x277cf3,_0x2c1019){const _0x106a8a=a0_0x2caf34;this['configService']=_0x592106,this[_0x106a8a(0x36f)]=_0x277cf3,this[_0x106a8a(0x1bf)]=_0x2c1019,this[_0x106a8a(0x2ad)]=new N(c['name']);}async['jwt'](_0x38b02e){const _0x4994cc=a0_0x2caf34;let _0x3207e7=this['configService']['get'](_0x4994cc(0x5a4))[_0x4994cc(0x231)],_0x408a3e=(0x0,Ce[_0x4994cc(0x22e)])({'instanceName':_0x38b02e[_0x4994cc(0x372)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x3207e7[_0x4994cc(0x539)],{'expiresIn':_0x3207e7[_0x4994cc(0x493)],'encoding':'utf8','subject':_0x4994cc(0x268)}),_0x4e616b=await this[_0x4994cc(0x1bf)][_0x4994cc(0x194)]['create']({'jwt':_0x408a3e},_0x38b02e[_0x4994cc(0x372)]);if(_0x4e616b[_0x4994cc(0x348)])throw this[_0x4994cc(0x2ad)][_0x4994cc(0x348)]({'localError':c[_0x4994cc(0x3c7)]+_0x4994cc(0x25e),'error':_0x4e616b['error']}),new g(_0x4994cc(0x592),_0x4e616b[_0x4994cc(0x348)]?.['toString']());return{'jwt':_0x408a3e};}async[a0_0x2caf34(0x113)](_0x5a5432){const _0x129eb5=a0_0x2caf34;let _0x434b71=(0x0,ns['v4'])()[_0x129eb5(0x3ba)](),_0x2050db=await this['repository'][_0x129eb5(0x194)]['create']({'apikey':_0x434b71},_0x5a5432[_0x129eb5(0x372)]);if(_0x2050db[_0x129eb5(0x348)])throw this[_0x129eb5(0x2ad)][_0x129eb5(0x348)]({'localError':c[_0x129eb5(0x3c7)]+_0x129eb5(0x25e),'error':_0x2050db['error']}),new g(_0x129eb5(0x592),_0x2050db['error']?.[_0x129eb5(0x3c2)]());return{'apikey':_0x434b71};}async[a0_0x2caf34(0x615)](_0x5775db){const _0x597f04=a0_0x2caf34;let _0x339e0d=this['configService']['get'](_0x597f04(0x5a4));return await this[_0x339e0d[_0x597f04(0x301)]](_0x5775db);}async[a0_0x2caf34(0x238)]({oldToken:_0x5114d4}){const _0x3cf918=a0_0x2caf34;if(!(0x0,La['isJWT'])(_0x5114d4))throw new g(_0x3cf918(0xb2));try{let _0x5e70ff=this[_0x3cf918(0xf2)]['get'](_0x3cf918(0x5a4))['JWT'],_0x4aa4fd=(0x0,Ce['verify'])(_0x5114d4,_0x5e70ff[_0x3cf918(0x539)],{'ignoreExpiration':!0x0}),_0x294a84=await this[_0x3cf918(0x1bf)][_0x3cf918(0x194)][_0x3cf918(0x504)](_0x4aa4fd[_0x3cf918(0x372)]),_0x251c27=(0x0,Ce[_0x3cf918(0x297)])(_0x294a84['jwt'],_0x5e70ff[_0x3cf918(0x539)],{'ignoreExpiration':!0x0});if(_0x4aa4fd[_0x3cf918(0x616)]!==_0x251c27[_0x3cf918(0x616)])throw new g(_0x3cf918(0xb2));let _0x4a59ea={'jwt':(await this['jwt']({'instanceName':_0x4aa4fd[_0x3cf918(0x372)]}))[_0x3cf918(0x640)],'instanceName':_0x4aa4fd['instanceName']};try{let _0x468a94=await this[_0x3cf918(0x1bf)][_0x3cf918(0x4e6)]['find'](_0x4aa4fd['instanceName']);_0x468a94?.[_0x3cf918(0x34f)]&&this[_0x3cf918(0xf2)][_0x3cf918(0x54d)]('WEBHOOK')['EVENTS'][_0x3cf918(0x5bb)]&&await Ua[_0x3cf918(0x418)][_0x3cf918(0x333)]({'baseURL':_0x468a94[_0x3cf918(0x61d)]})['post']('',{'event':_0x3cf918(0x118),'instance':_0x4aa4fd[_0x3cf918(0x372)],'data':_0x4a59ea},{'params':{'owner':this[_0x3cf918(0x36f)]['waInstances'][_0x4aa4fd['instanceName']]['wuid']}});}catch(_0x56633c){this[_0x3cf918(0x2ad)][_0x3cf918(0x348)](_0x56633c);}return _0x4a59ea;}catch(_0x2264ce){throw this[_0x3cf918(0x2ad)][_0x3cf918(0x348)]({'localError':c[_0x3cf918(0x3c7)]+'.refreshToken','error':_0x2264ce}),new g(_0x3cf918(0xb2));}}},it=class extends k{constructor(_0x2d8073,..._0x20a274){const _0x59425d=a0_0x2caf34;super(),this[_0x59425d(0xf2)]=_0x2d8073,this[_0x59425d(0x516)]=(0x0,Va[_0x59425d(0x407)])();let _0x4ae612=_0x2d8073[_0x59425d(0x54d)](_0x59425d(0x5a4));this[_0x59425d(0x516)][_0x59425d(0x4d3)](_0x59425d(0x158),..._0x20a274,async(_0x262c5b,_0x53e6ef)=>{const _0x293762=_0x59425d;let {instanceName:_0x2ba514,apikey:_0x48c7a9}=_0x262c5b['body'],_0x308e2e=await ie['createInstance']({'instanceName':_0x2ba514,'apikey':_0x48c7a9});return _0x53e6ef[_0x293762(0x505)](0xc9)[_0x293762(0x38a)](_0x308e2e);})[_0x59425d(0x1f7)](this['routerPath'](_0x59425d(0x65c)),..._0x20a274,async(_0x5d47ed,_0x3d2aeb)=>{const _0x4d5736=_0x59425d;let _0x29479b=await this[_0x4d5736(0xde)]({'request':_0x5d47ed,'schema':C,'ClassRef':b,'execute':_0x38b961=>ie[_0x4d5736(0x265)](_0x38b961)});return _0x3d2aeb[_0x4d5736(0x505)](0xc8)[_0x4d5736(0x38a)](_0x29479b);})[_0x59425d(0x54d)](this['routerPath'](_0x59425d(0xb7)),..._0x20a274,async(_0x5de664,_0x5342c2)=>{const _0x513642=_0x59425d;let _0x5befa6=await this[_0x513642(0xde)]({'request':_0x5de664,'schema':C,'ClassRef':b,'execute':_0x461646=>ie[_0x513642(0x136)](_0x461646)});return _0x5342c2[_0x513642(0x505)](0xc8)['json'](_0x5befa6);})['get'](this[_0x59425d(0x3c8)](_0x59425d(0x462)),..._0x20a274,async(_0x5e5389,_0x5ccef5)=>{const _0x19eb9e=_0x59425d;let _0x2f444a=await this[_0x19eb9e(0xde)]({'request':_0x5e5389,'schema':C,'ClassRef':b,'execute':_0x315d5c=>ie[_0x19eb9e(0x462)](_0x315d5c)});return _0x5ccef5[_0x19eb9e(0x505)](0xc8)[_0x19eb9e(0x38a)](_0x2f444a);})[_0x59425d(0x54d)](this[_0x59425d(0x3c8)](_0x59425d(0xa7),!0x1),..._0x20a274,async(_0x572828,_0x10f929)=>{const _0x1dd2c5=_0x59425d;let _0x15501f=await this[_0x1dd2c5(0xde)]({'request':_0x572828,'schema':null,'ClassRef':b,'execute':_0x41c776=>ie['fetchInstances'](_0x41c776)});return _0x10f929['status'](0xc8)[_0x1dd2c5(0x38a)](_0x15501f);})['delete'](this[_0x59425d(0x3c8)]('logout'),..._0x20a274,async(_0xf722f0,_0xe26025)=>{const _0xc08d7e=_0x59425d;let _0x24876e=await this[_0xc08d7e(0xde)]({'request':_0xf722f0,'schema':C,'ClassRef':b,'execute':_0x5af597=>ie[_0xc08d7e(0x2ce)](_0x5af597)});return _0xe26025[_0xc08d7e(0x505)](0xc8)[_0xc08d7e(0x38a)](_0x24876e);})[_0x59425d(0x126)](this[_0x59425d(0x3c8)](_0x59425d(0x126)),..._0x20a274,async(_0x2edaf8,_0x3edebd)=>{const _0x1c4b3a=_0x59425d;let _0x11436d=await this[_0x1c4b3a(0xde)]({'request':_0x2edaf8,'schema':C,'ClassRef':b,'execute':_0x1c1d33=>ie[_0x1c4b3a(0x1b2)](_0x1c1d33)});return _0x3edebd[_0x1c4b3a(0x505)](0xc8)[_0x1c4b3a(0x38a)](_0x11436d);}),_0x4ae612['TYPE']===_0x59425d(0x640)&&this[_0x59425d(0x516)][_0x59425d(0x1f7)](_0x59425d(0x43f),async(_0x37e513,_0x205c8f)=>{const _0x582001=_0x59425d;let _0x56fbe1=await this['dataValidate']({'request':_0x37e513,'schema':sa,'ClassRef':ot,'execute':(_0x43d702,_0x362b66)=>ie[_0x582001(0x238)](_0x43d702,_0x362b66)});return _0x205c8f[_0x582001(0x505)](0xc9)[_0x582001(0x38a)](_0x56fbe1);});}},ja=require(a0_0x2caf34(0x1fc)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x117548){const _0x2ff777=a0_0x2caf34;super(),this[_0x2ff777(0x516)]=(0x0,ja['Router'])(),this[_0x2ff777(0x516)][_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)](_0x2ff777(0x187)),..._0x117548,async(_0x3a6461,_0x47e1d2)=>{const _0x379bd6=_0x2ff777;let _0x25d0be=await this[_0x379bd6(0xde)]({'request':_0x3a6461,'schema':aa,'ClassRef':nt,'execute':(_0x28e9b4,_0x11816a)=>K[_0x379bd6(0x187)](_0x28e9b4,_0x11816a)});return _0x47e1d2[_0x379bd6(0x505)](0xc9)[_0x379bd6(0x38a)](_0x25d0be);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)](_0x2ff777(0xce)),..._0x117548,async(_0x2b14c6,_0x52f586)=>{const _0x13c739=_0x2ff777;let _0x116025=await this['dataValidate']({'request':_0x2b14c6,'schema':na,'ClassRef':Ne,'execute':(_0x6aca1f,_0x4c0854)=>K[_0x13c739(0xce)](_0x6aca1f,_0x4c0854)});return _0x52f586[_0x13c739(0x505)](0xc9)['json'](_0x116025);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)]('sendWhatsAppAudio'),..._0x117548,async(_0x21545c,_0x2044d7)=>{const _0x39b4ef=_0x2ff777;let _0x493c8f=await this[_0x39b4ef(0xde)]({'request':_0x21545c,'schema':ca,'ClassRef':Ne,'execute':(_0x505d87,_0xb76d32)=>K['sendWhatsAppAudio'](_0x505d87,_0xb76d32)});return _0x2044d7[_0x39b4ef(0x505)](0xc9)[_0x39b4ef(0x38a)](_0x493c8f);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)]('sendButtons'),..._0x117548,async(_0x1990cf,_0x22f90f)=>{const _0x209f2a=_0x2ff777;let _0x4f2a60=await this[_0x209f2a(0xde)]({'request':_0x1990cf,'schema':ua,'ClassRef':dt,'execute':(_0xbaa9f8,_0x3a6b78)=>K[_0x209f2a(0x256)](_0xbaa9f8,_0x3a6b78)});return _0x22f90f[_0x209f2a(0x505)](0xc9)[_0x209f2a(0x38a)](_0x4f2a60);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)](_0x2ff777(0x2a2)),..._0x117548,async(_0x2da762,_0x5648ce)=>{const _0xfaaf52=_0x2ff777;let _0x3fc702=await this[_0xfaaf52(0xde)]({'request':_0x2da762,'schema':da,'ClassRef':pt,'execute':(_0x26c3b8,_0x2cab48)=>K[_0xfaaf52(0x2a2)](_0x26c3b8,_0x2cab48)});return _0x5648ce['status'](0xc9)[_0xfaaf52(0x38a)](_0x3fc702);})['post'](this[_0x2ff777(0x3c8)](_0x2ff777(0x335)),..._0x117548,async(_0x3a35b1,_0xa458d0)=>{const _0x4a61c4=_0x2ff777;let _0x202529=await this[_0x4a61c4(0xde)]({'request':_0x3a35b1,'schema':pa,'ClassRef':gt,'execute':(_0x2b8346,_0x5aa4b3)=>K[_0x4a61c4(0x335)](_0x2b8346,_0x5aa4b3)});return _0xa458d0[_0x4a61c4(0x505)](0xc9)[_0x4a61c4(0x38a)](_0x202529);})['post'](this[_0x2ff777(0x3c8)](_0x2ff777(0x5cf)),..._0x117548,async(_0x35c63e,_0x2683e7)=>{const _0x17f82f=_0x2ff777;let _0x1a76ae=await this['dataValidate']({'request':_0x35c63e,'schema':ga,'ClassRef':mt,'execute':(_0x3fe745,_0x57a4f0)=>K[_0x17f82f(0x5cf)](_0x3fe745,_0x57a4f0)});return _0x2683e7['status'](0xc9)[_0x17f82f(0x38a)](_0x1a76ae);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)](_0x2ff777(0x35e)),..._0x117548,async(_0x29ee5f,_0x148c00)=>{const _0x4d35c9=_0x2ff777;let _0x4b5a05=await this[_0x4d35c9(0xde)]({'request':_0x29ee5f,'schema':ma,'ClassRef':ht,'execute':(_0x14703d,_0x5504f0)=>K[_0x4d35c9(0x35e)](_0x14703d,_0x5504f0)});return _0x148c00['status'](0xc9)['json'](_0x4b5a05);})[_0x2ff777(0x4d3)](this[_0x2ff777(0x3c8)]('sendPoll'),..._0x117548,async(_0x4eaa97,_0x4a8426)=>{const _0x35c592=_0x2ff777;let _0x133f3b=await this['dataValidate']({'request':_0x4eaa97,'schema':la,'ClassRef':lt,'execute':(_0x55520a,_0x161591)=>K[_0x35c592(0x406)](_0x55520a,_0x161591)});return _0x4a8426[_0x35c592(0x505)](0xc9)[_0x35c592(0x38a)](_0x133f3b);})['post'](this['routerPath'](_0x2ff777(0x4f9)),..._0x117548,async(_0x286aca,_0x584ece)=>{const _0x4a3ff1=_0x2ff777;let _0x970b97=await this['dataValidate']({'request':_0x286aca,'schema':ia,'ClassRef':ct,'execute':(_0x1ad797,_0x2b1ffe)=>K[_0x4a3ff1(0x4f9)](_0x1ad797,_0x2b1ffe)});return _0x584ece[_0x4a3ff1(0x505)](0xc9)[_0x4a3ff1(0x38a)](_0x970b97);})[_0x2ff777(0x4d3)](this['routerPath']('sendSticker'),..._0x117548,async(_0x2c0745,_0x4a8b60)=>{const _0x4c4898=_0x2ff777;let _0x2aa175=await this[_0x4c4898(0xde)]({'request':_0x2c0745,'schema':ra,'ClassRef':ut,'execute':(_0xce2570,_0x15e230)=>K['sendSticker'](_0xce2570,_0x15e230)});return _0x4a8b60[_0x4c4898(0x505)](0xc9)['json'](_0x2aa175);});}},Fa=require(a0_0x2caf34(0x1fc)),wt=class extends k{constructor(..._0x33a88f){const _0x57b131=a0_0x2caf34;super(),this[_0x57b131(0x516)]=(0x0,Fa[_0x57b131(0x407)])(),this['router']['get'](this['routerPath'](_0x57b131(0x310)),..._0x33a88f,(_0xfa19e3,_0x2cbfde)=>Ba['qrcode'](_0xfa19e3,_0x2cbfde));}},qa=require(a0_0x2caf34(0x1fc)),yt=class{},bt=class extends k{constructor(..._0x12a897){const _0x4a0582=a0_0x2caf34;super(),this[_0x4a0582(0x516)]=(0x0,qa[_0x4a0582(0x407)])(),this[_0x4a0582(0x516)][_0x4a0582(0x4d3)](this[_0x4a0582(0x3c8)](_0x4a0582(0x16d)),..._0x12a897,async(_0x25e37f,_0x41449d)=>{const _0x235d7d=_0x4a0582;let _0x5645be=await this[_0x235d7d(0xde)]({'request':_0x25e37f,'schema':xa,'ClassRef':yt,'execute':(_0x520566,_0x466c08)=>ls['createWebhook'](_0x520566,_0x466c08)});_0x41449d['status'](0xc9)[_0x235d7d(0x38a)](_0x5645be);})[_0x4a0582(0x54d)](this['routerPath']('find'),..._0x12a897,async(_0x25d49f,_0x1e8e4f)=>{const _0xe3b391=_0x4a0582;let _0x25f532=await this[_0xe3b391(0xde)]({'request':_0x25d49f,'schema':C,'ClassRef':b,'execute':_0x336980=>ls[_0xe3b391(0x550)](_0x336980)});_0x1e8e4f[_0xe3b391(0x505)](0xc8)[_0xe3b391(0x38a)](_0x25f532);});}},Ga=require('express'),m=new N(a0_0x2caf34(0x285)),St=class extends k{constructor(..._0x532b7b){const _0x4f93bb=a0_0x2caf34;super(),this[_0x4f93bb(0x516)]=(0x0,Ga['Router'])(),this[_0x4f93bb(0x516)][_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x3a3)),..._0x532b7b,async(_0x41121a,_0x4d5d13)=>{const _0x2747b4=_0x4f93bb;let _0x558b9a=_0x41121a[_0x2747b4(0x515)];m['verbose'](_0x2747b4(0x29f)),m[_0x2747b4(0x208)](_0x2747b4(0x4c2)),m['verbose'](_0x41121a[_0x2747b4(0x515)]);let _0x2f4932=await this[_0x2747b4(0xde)]({'request':_0x41121a,'schema':C,'ClassRef':b,'execute':_0x19e913=>R[_0x2747b4(0x464)](_0x19e913,_0x558b9a)});_0x4d5d13[_0x2747b4(0x505)](0xc8)[_0x2747b4(0x38a)](_0x2f4932);})[_0x4f93bb(0x54d)](this['routerPath'](_0x4f93bb(0x3a3)),..._0x532b7b,async(_0x7742c5,_0x4ed2c8)=>{const _0x572727=_0x4f93bb;let _0x351fce=await this[_0x572727(0xde)]({'request':_0x7742c5,'schema':C,'ClassRef':b,'execute':_0x3ffb70=>R[_0x572727(0x5f5)](_0x3ffb70)});_0x4ed2c8[_0x572727(0x505)](0xc8)[_0x572727(0x38a)](_0x351fce);})['delete'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x389)),..._0x532b7b,async(_0x1f9374,_0x8d9b94)=>{const _0x10b5a9=_0x4f93bb;m[_0x10b5a9(0x208)](_0x10b5a9(0x116));let _0x48e2ca=await this[_0x10b5a9(0xde)]({'request':_0x1f9374,'schema':C,'ClassRef':b,'execute':_0x45dbf9=>R[_0x10b5a9(0x389)](_0x45dbf9)});_0x8d9b94[_0x10b5a9(0x505)](0xc8)[_0x10b5a9(0x38a)](_0x48e2ca);})['post'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x22a)),..._0x532b7b,async(_0x32c061,_0x59f52f)=>{const _0x4cef4e=_0x4f93bb;let _0x24cf21=_0x32c061['body'];m[_0x4cef4e(0x208)](_0x4cef4e(0x4e2)),m[_0x4cef4e(0x208)]('request\x20body:\x20'),m[_0x4cef4e(0x208)](_0x32c061[_0x4cef4e(0x515)]);let _0x13f537=await this[_0x4cef4e(0xde)]({'request':_0x32c061,'schema':C,'ClassRef':b,'execute':_0x27fdef=>R[_0x4cef4e(0x22a)](_0x27fdef,_0x24cf21)});_0x59f52f['status'](0xc8)[_0x4cef4e(0x38a)](_0x13f537);})[_0x4f93bb(0x54d)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x571)),..._0x532b7b,async(_0x28cf8a,_0xf85f53)=>{const _0x6072c9=_0x4f93bb;m['verbose'](_0x6072c9(0x16a));let _0x2e97b2=await this[_0x6072c9(0xde)]({'request':_0x28cf8a,'schema':C,'ClassRef':b,'execute':_0x43ac0e=>R[_0x6072c9(0x571)](_0x43ac0e)});_0xf85f53[_0x6072c9(0x505)](0xc8)['json'](_0x2e97b2);})['get'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x644)),..._0x532b7b,async(_0x1631a0,_0x4f1a34)=>{const _0x514a75=_0x4f93bb;m[_0x514a75(0x208)](_0x514a75(0x16c));let _0x12d56d=await this['dataValidate']({'request':_0x1631a0,'schema':C,'ClassRef':b,'execute':_0x2c7fca=>R['getAutomateSystem'](_0x2c7fca)});_0x4f1a34['status'](0xc8)[_0x514a75(0x38a)](_0x12d56d);})[_0x4f93bb(0x4d3)](this['routerPath'](_0x4f93bb(0x2fa)),..._0x532b7b,async(_0x1b3d12,_0x225a97)=>{const _0x222566=_0x4f93bb;let _0x23fa2e=_0x1b3d12[_0x222566(0x515)];m[_0x222566(0x208)](_0x222566(0x542)),m[_0x222566(0x208)](_0x222566(0x4c2)),m[_0x222566(0x208)](_0x1b3d12[_0x222566(0x515)]);let _0x2d6136=await this[_0x222566(0xde)]({'request':_0x1b3d12,'schema':C,'ClassRef':b,'execute':_0x47dcc1=>R['updateAgent'](_0x47dcc1,_0x23fa2e)});_0x225a97[_0x222566(0x505)](0xc8)[_0x222566(0x38a)](_0x2d6136);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)]('updateCustomFields'),..._0x532b7b,async(_0x31b273,_0x2bc877)=>{const _0x5448be=_0x4f93bb;let _0x9b45f7=_0x31b273[_0x5448be(0x515)];m[_0x5448be(0x208)](_0x5448be(0x420)),m[_0x5448be(0x208)](_0x5448be(0x4c2)),m[_0x5448be(0x208)](_0x31b273[_0x5448be(0x515)]);let _0xdf093f=await this[_0x5448be(0xde)]({'request':_0x31b273,'schema':C,'ClassRef':b,'execute':_0x1c354a=>R[_0x5448be(0x14b)](_0x1c354a,_0x9b45f7)});_0x2bc877[_0x5448be(0x505)](0xc8)[_0x5448be(0x38a)](_0xdf093f);})['post'](this[_0x4f93bb(0x3c8)]('updateFlowConfig'),..._0x532b7b,async(_0xe32af1,_0xb8ee1c)=>{const _0x528ce4=_0x4f93bb;let _0x1a43e=_0xe32af1[_0x528ce4(0x515)];m[_0x528ce4(0x208)]('request\x20received\x20in\x20updateFlowConfig'),m['verbose'](_0x528ce4(0x4c2)),m[_0x528ce4(0x208)](_0xe32af1[_0x528ce4(0x515)]);let _0x3098f1=await this['dataValidate']({'request':_0xe32af1,'schema':C,'ClassRef':b,'execute':_0x15b502=>R[_0x528ce4(0x4a0)](_0x15b502,_0x1a43e)});_0xb8ee1c[_0x528ce4(0x505)](0xc8)[_0x528ce4(0x38a)](_0x3098f1);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x5c7)),..._0x532b7b,async(_0x5d08c9,_0x478aae)=>{const _0x1dc0db=_0x4f93bb;let _0x1f2757=_0x5d08c9[_0x1dc0db(0x515)];m[_0x1dc0db(0x208)](_0x1dc0db(0x1d1)),m[_0x1dc0db(0x208)](_0x1dc0db(0x4c2)),m['verbose'](_0x5d08c9[_0x1dc0db(0x515)]);let _0x3da00e=await this[_0x1dc0db(0xde)]({'request':_0x5d08c9,'schema':C,'ClassRef':b,'execute':_0x1e7050=>R[_0x1dc0db(0x5c7)](_0x1e7050,_0x1f2757)});_0x478aae['status'](0xc8)[_0x1dc0db(0x38a)](_0x3da00e);})[_0x4f93bb(0x4d3)](this['routerPath']('fetchConversation'),..._0x532b7b,async(_0x441617,_0x3e420c)=>{const _0x9b6422=_0x4f93bb;let _0x2e8744=_0x441617['body'];m[_0x9b6422(0x208)]('request\x20received\x20in\x20fetchConversation'),m[_0x9b6422(0x208)]('request\x20body:\x20'),m[_0x9b6422(0x208)](_0x441617[_0x9b6422(0x515)]);let _0x79044c=await this[_0x9b6422(0xde)]({'request':_0x441617,'schema':C,'ClassRef':b,'execute':_0x5dbb35=>R['fetchConversation'](_0x5dbb35,_0x2e8744)});_0x3e420c[_0x9b6422(0x505)](0xc8)[_0x9b6422(0x38a)](_0x79044c);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x1b3)),..._0x532b7b,async(_0x1521b6,_0x244e05)=>{const _0x97a0f2=_0x4f93bb;let _0x1746b8=_0x1521b6[_0x97a0f2(0x515)];m[_0x97a0f2(0x208)](_0x97a0f2(0x137)),m[_0x97a0f2(0x208)]('request\x20body:\x20'),m['verbose'](_0x1521b6['body']);let _0xc8d559=await this[_0x97a0f2(0xde)]({'request':_0x1521b6,'schema':C,'ClassRef':b,'execute':_0x5d1cc3=>R[_0x97a0f2(0x1b3)](_0x5d1cc3,_0x1746b8)});_0x244e05[_0x97a0f2(0x505)](0xc8)[_0x97a0f2(0x38a)](_0xc8d559);})['delete'](this['routerPath'](_0x4f93bb(0x340)),..._0x532b7b,async(_0xf51272,_0x101a38)=>{const _0x20ab1b=_0x4f93bb;let _0x48df3e=_0xf51272[_0x20ab1b(0x515)];m[_0x20ab1b(0x208)](_0x20ab1b(0x526)),m[_0x20ab1b(0x208)](_0x20ab1b(0x4c2)),m[_0x20ab1b(0x208)](_0xf51272['body']);let _0x108b31=await this[_0x20ab1b(0xde)]({'request':_0xf51272,'schema':C,'ClassRef':b,'execute':_0x18b5ea=>R[_0x20ab1b(0x340)](_0x18b5ea,_0x48df3e)});_0x101a38['status'](0xc8)[_0x20ab1b(0x38a)](_0x108b31);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x3c4)),..._0x532b7b,async(_0x39417b,_0x2ddee5)=>{const _0x31fd13=_0x4f93bb;let _0x1b6257=_0x39417b[_0x31fd13(0x515)];m[_0x31fd13(0x208)](_0x31fd13(0x24b)),m[_0x31fd13(0x208)](_0x31fd13(0x4c2)),m[_0x31fd13(0x208)](_0x39417b['body']);let _0x54d534=await this['dataValidate']({'request':_0x39417b,'schema':C,'ClassRef':b,'execute':_0x2186f8=>R['createFlow'](_0x2186f8,_0x1b6257)});_0x2ddee5[_0x31fd13(0x505)](0xc8)[_0x31fd13(0x38a)](_0x54d534);})['post'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x52f)),..._0x532b7b,async(_0x65eb80,_0x49d3b7)=>{const _0x34261c=_0x4f93bb;let _0x326366=_0x65eb80[_0x34261c(0x515)];m['verbose'](_0x34261c(0x153)),m[_0x34261c(0x208)](_0x34261c(0x4c2)),m[_0x34261c(0x208)](_0x65eb80['body']),delete _0x326366[_0x34261c(0x328)],delete _0x326366[_0x34261c(0x26f)],delete _0x326366[_0x34261c(0x35a)],delete _0x326366[_0x34261c(0x3e6)];let _0x18612=await this['dataValidate']({'request':_0x65eb80,'schema':C,'ClassRef':b,'execute':_0x2837ec=>R[_0x34261c(0x3ed)](_0x2837ec,_0x326366)});_0x49d3b7[_0x34261c(0x505)](0xc8)['json'](_0x18612);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0xcf)),..._0x532b7b,async(_0x50dcfa,_0x5e2c05)=>{const _0x133949=_0x4f93bb;let _0x497644=_0x50dcfa[_0x133949(0x515)];m[_0x133949(0x208)](_0x133949(0x153)),m[_0x133949(0x208)](_0x133949(0x4c2)),m[_0x133949(0x208)](_0x50dcfa['body']);let _0x1e5ccb=await this[_0x133949(0xde)]({'request':_0x50dcfa,'schema':C,'ClassRef':b,'execute':_0xdf6328=>R['editFlowBlock'](_0xdf6328,_0x497644)});_0x5e2c05[_0x133949(0x505)](0xc8)[_0x133949(0x38a)](_0x1e5ccb);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)]('editflowreply'),..._0x532b7b,async(_0x4a8700,_0x161139)=>{const _0x32afa3=_0x4f93bb;let _0x550dd3=_0x4a8700['body'];m[_0x32afa3(0x208)]('request\x20received\x20in\x20editFlow'),m['verbose'](_0x32afa3(0x4c2)),m[_0x32afa3(0x208)](_0x4a8700[_0x32afa3(0x515)]);let _0x6f058d=await this[_0x32afa3(0xde)]({'request':_0x4a8700,'schema':C,'ClassRef':b,'execute':_0x13a857=>R[_0x32afa3(0x183)](_0x13a857,_0x550dd3)});_0x161139['status'](0xc8)[_0x32afa3(0x38a)](_0x6f058d);})['post'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x5ef)),..._0x532b7b,async(_0x1cfa56,_0x4c857d)=>{const _0x237a9e=_0x4f93bb;let _0x1cbcad=_0x1cfa56[_0x237a9e(0x515)];m[_0x237a9e(0x208)](_0x237a9e(0x153)),m[_0x237a9e(0x208)](_0x237a9e(0x4c2)),m[_0x237a9e(0x208)](_0x1cfa56[_0x237a9e(0x515)]);let _0x45b76c=await this[_0x237a9e(0xde)]({'request':_0x1cfa56,'schema':C,'ClassRef':b,'execute':_0x208cb8=>R[_0x237a9e(0x312)](_0x208cb8,_0x1cbcad)});_0x4c857d[_0x237a9e(0x505)](0xc8)['json'](_0x45b76c);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)]('editflowgroup'),..._0x532b7b,async(_0x3cac87,_0x12838e)=>{const _0x1f4b24=_0x4f93bb;let _0x4eee86=_0x3cac87['body'];m['verbose'](_0x1f4b24(0x377)),m[_0x1f4b24(0x208)](_0x1f4b24(0x4c2)),m[_0x1f4b24(0x208)](_0x3cac87[_0x1f4b24(0x515)]);let _0x32c47d=await this['dataValidate']({'request':_0x3cac87,'schema':C,'ClassRef':b,'execute':_0x1b57c8=>R['editFlowGroup'](_0x1b57c8,_0x4eee86)});_0x12838e[_0x1f4b24(0x505)](0xc8)[_0x1f4b24(0x38a)](_0x32c47d);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x43e)),..._0x532b7b,async(_0x25e277,_0x16bab8)=>{const _0x1cede5=_0x4f93bb;let _0x38bf84=_0x25e277[_0x1cede5(0x515)];m[_0x1cede5(0x208)](_0x1cede5(0x139)),m[_0x1cede5(0x208)]('request\x20body:\x20'),m['verbose'](_0x25e277[_0x1cede5(0x515)]);let _0x54658e=await this[_0x1cede5(0xde)]({'request':_0x25e277,'schema':C,'ClassRef':b,'execute':_0x22422e=>R[_0x1cede5(0x130)](_0x22422e,_0x38bf84)});_0x16bab8[_0x1cede5(0x505)](0xc8)['json'](_0x54658e);})['post'](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x48c)),..._0x532b7b,async(_0x3a1291,_0x455708)=>{const _0x586c43=_0x4f93bb;let _0x319dce=_0x3a1291[_0x586c43(0x515)];m[_0x586c43(0x208)](_0x586c43(0x105)),m['verbose'](_0x586c43(0x4c2)),m[_0x586c43(0x208)](_0x3a1291[_0x586c43(0x515)]);let _0x27b434=await this[_0x586c43(0xde)]({'request':_0x3a1291,'schema':C,'ClassRef':b,'execute':_0x11f0e7=>R[_0x586c43(0x648)](_0x11f0e7,_0x319dce)});_0x455708[_0x586c43(0x505)](0xc8)[_0x586c43(0x38a)](_0x27b434);})[_0x4f93bb(0x4d3)](this[_0x4f93bb(0x3c8)]('getflow'),..._0x532b7b,async(_0xfa87ef,_0x10e470)=>{const _0x4e8738=_0x4f93bb;let _0xc89a46=_0xfa87ef['body'];m[_0x4e8738(0x208)](_0x4e8738(0x458)),m[_0x4e8738(0x208)]('request\x20body:\x20'),m[_0x4e8738(0x208)](_0xfa87ef[_0x4e8738(0x515)]);let _0x139d72=await this[_0x4e8738(0xde)]({'request':_0xfa87ef,'schema':C,'ClassRef':b,'execute':_0x7e2b57=>R[_0x4e8738(0x1ab)](_0x7e2b57,_0xc89a46)});_0x10e470[_0x4e8738(0x505)](0xc8)[_0x4e8738(0x38a)](_0x139d72);})[_0x4f93bb(0x126)](this[_0x4f93bb(0x3c8)](_0x4f93bb(0x581)),..._0x532b7b,async(_0x33c2f7,_0x51cce4)=>{const _0x5cf790=_0x4f93bb;let _0xcfcee6=_0x33c2f7[_0x5cf790(0x515)];m[_0x5cf790(0x208)]('request\x20received\x20in\x20createFlow'),m[_0x5cf790(0x208)](_0x5cf790(0x4c2)),m[_0x5cf790(0x208)](_0x33c2f7[_0x5cf790(0x515)]);let _0x200768=await this['dataValidate']({'request':_0x33c2f7,'schema':C,'ClassRef':b,'execute':_0x13d3de=>R[_0x5cf790(0x5f9)](_0x13d3de,_0xcfcee6)});_0x51cce4[_0x5cf790(0x505)](0xc8)[_0x5cf790(0x38a)](_0x200768);})['get'](this['routerPath'](_0x4f93bb(0x4f2)),..._0x532b7b,async(_0x28838d,_0x1ef41f)=>{const _0x4012c0=_0x4f93bb;m[_0x4012c0(0x208)]('request\x20received\x20in\x20allFlows');let _0xac5052=await this[_0x4012c0(0xde)]({'request':_0x28838d,'schema':C,'ClassRef':b,'execute':_0x440491=>R[_0x4012c0(0x5be)](_0x440491)});_0x1ef41f[_0x4012c0(0x505)](0xc8)[_0x4012c0(0x38a)](_0xac5052);});}},Ka=T(require(a0_0x2caf34(0x229))),ee={};function Ja(_0x2610f1,_0x1da7f4,_0x3ad538,_0xcd8ada){ee[_0x2610f1]||(ee[_0x2610f1]={}),ee[_0x2610f1][_0x1da7f4]={'id':_0x1da7f4,'response':_0x3ad538,'events':_0xcd8ada};}function Wa(_0x447642,_0x6b77bc){!ee[_0x447642]||!ee[_0x447642][_0x6b77bc]||delete ee[_0x447642][_0x6b77bc];}function B(_0x339d9d,_0x1b1e15,_0x1513ca){const _0x5d45e3=a0_0x2caf34;if(!ee[_0x339d9d])return;let _0x2ca35a='data:\x20'+JSON[_0x5d45e3(0xff)](_0x1513ca)+'\x0a\x0a';Object['values'](ee[_0x339d9d])['forEach'](_0x1d2de0=>{const _0x84a299=_0x5d45e3;_0x1d2de0[_0x84a299(0x507)][_0x84a299(0xea)](_0x1b1e15)&&_0x1d2de0['response'][_0x84a299(0x355)](_0x2ca35a);});}function Ha(){const _0x20ac51=a0_0x2caf34;let _0x8e791b={};for(let _0x35e32d in ee)_0x8e791b[_0x35e32d]=Object[_0x20ac51(0x13b)](ee[_0x35e32d])[_0x20ac51(0x566)](_0x299264=>({'id':_0x299264['id'],'events':_0x299264[_0x20ac51(0x507)]}));return _0x8e791b;}var za=require('uuid'),Go=Ka[a0_0x2caf34(0x418)][a0_0x2caf34(0x2be)](__dirname,a0_0x2caf34(0x95)),vt=(0x0,Et[a0_0x2caf34(0x407)])(),Jo=E[a0_0x2caf34(0x54d)](a0_0x2caf34(0x5a4))[a0_0x2caf34(0x301)],le=[rs,Xs,ta[Jo]];vt['use']('/media',Et[a0_0x2caf34(0x418)][a0_0x2caf34(0x679)](Go))['get'](a0_0x2caf34(0x2b9),async(_0x13be96,_0x27c475)=>{const _0x22fafa=a0_0x2caf34;console[_0x22fafa(0x174)](_0x22fafa(0x635));let _0x2f931=_0x13be96['params']['instance'],_0x41095e=(_0x13be96[_0x22fafa(0x18a)][_0x22fafa(0x507)]||'')['split'](','),_0x1a6801=(0x0,za['v4'])();console['log'](_0x22fafa(0x61e),_0x2f931),console[_0x22fafa(0x174)](_0x22fafa(0x558),_0x41095e);let _0x422c6b=E[_0x22fafa(0x54d)]('AUTHENTICATION')[_0x22fafa(0x386)],_0x2736fc=_0x13be96['query']['apikey'];if(console[_0x22fafa(0x174)](_0x22fafa(0x55a),_0x2736fc),_0x422c6b[_0x22fafa(0x154)]!==_0x2736fc){console[_0x22fafa(0x174)](_0x22fafa(0x5f0));try{let _0x428eba=await ce['auth'][_0x22fafa(0x504)](_0x2f931);if(console[_0x22fafa(0x174)]('Instance\x20Key\x20from\x20DB:',_0x428eba),!_0x428eba||_0x428eba['apikey']!==_0x2736fc)return console['log'](_0x22fafa(0x337)),_0x27c475[_0x22fafa(0x505)](0x191)[_0x22fafa(0x60b)](_0x22fafa(0x62c));}catch(_0x8e3f65){return console[_0x22fafa(0x348)](_0x22fafa(0x540),_0x8e3f65),_0x27c475[_0x22fafa(0x505)](0x191)[_0x22fafa(0x60b)](_0x22fafa(0x33e));}}if(!await qe(_0x2f931))return _0x27c475[_0x22fafa(0x505)](0x194)[_0x22fafa(0x60b)](_0x22fafa(0x3d0));_0x27c475['setHeader'](_0x22fafa(0x192),_0x22fafa(0x1ae)),_0x27c475[_0x22fafa(0x2e9)](_0x22fafa(0x5d3),_0x22fafa(0x1c9)),_0x27c475['setHeader'](_0x22fafa(0x1f0),_0x22fafa(0x61b)),_0x27c475[_0x22fafa(0x197)]();let _0x480cbb='data:\x20'+JSON[_0x22fafa(0xff)]({'info':_0x22fafa(0x350)})+'\x0a\x0a';_0x27c475['write'](_0x480cbb),Ja(_0x2f931,_0x1a6801,_0x27c475,_0x41095e),_0x13be96['on']('close',()=>{const _0x45f16c=_0x22fafa;console['log'](_0x45f16c(0x2c8)+_0x2f931),Wa(_0x2f931,_0x1a6801);});}),vt[a0_0x2caf34(0x54d)](a0_0x2caf34(0x471),(_0x3c6ca4,_0x49322c)=>{let _0x277215=Ha();_0x49322c['json'](_0x277215);})[a0_0x2caf34(0x54d)]('/',(_0x2038f4,_0x517827)=>{const _0x54d8de=a0_0x2caf34;let _0xb8fbea=E[_0x54d8de(0x54d)](_0x54d8de(0x2e2)),_0x2d1812=_0xb8fbea&&_0xb8fbea['FULLCHAIN']['split']('/')[0x4];if(_0x2d1812){let _0x4e17d7=encodeURIComponent('https://'+_0x2d1812);_0x517827[_0x54d8de(0x5f8)](_0x54d8de(0x1f6)+_0x4e17d7);}else _0x517827['redirect'](_0x54d8de(0x451));})[a0_0x2caf34(0x1f7)](a0_0x2caf34(0x408),...le,async(_0x26e5c3,_0x588bfb)=>{const _0x3e3e40=a0_0x2caf34;try{console['log'](_0x3e3e40(0x13d)),_0x588bfb[_0x3e3e40(0x505)](0xc8)[_0x3e3e40(0x38a)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x588bfb['on'](_0x3e3e40(0x5dc),()=>process[_0x3e3e40(0x677)](0x0));}catch(_0x163d01){console[_0x3e3e40(0x348)](_0x3e3e40(0x1ac),_0x163d01),_0x588bfb[_0x3e3e40(0x505)](0x1f4)['json']({'message':_0x3e3e40(0x33f)});}})['use'](a0_0x2caf34(0x40c),new it(E,...le)[a0_0x2caf34(0x516)],new wt(rs)['router'])['use'](a0_0x2caf34(0x167),new ft(...le)[a0_0x2caf34(0x516)])[a0_0x2caf34(0x4c3)]('/chat',new Ke(...le)[a0_0x2caf34(0x516)])[a0_0x2caf34(0x4c3)](a0_0x2caf34(0x5b0),new at(...le)[a0_0x2caf34(0x516)])[a0_0x2caf34(0x4c3)](a0_0x2caf34(0x204),new bt(...le)['router'])[a0_0x2caf34(0x4c3)](a0_0x2caf34(0x224),new St(...le)[a0_0x2caf34(0x516)]);var g=class{constructor(..._0x1c05d8){const _0x4aebeb=a0_0x2caf34;throw{'status':0x190,'error':_0x4aebeb(0x467),'message':_0x1c05d8[_0x4aebeb(0x59b)]>0x0?_0x1c05d8:void 0x0};}},re=class{constructor(..._0x2d2520){const _0xc88123=a0_0x2caf34;throw{'status':0x191,'error':_0xc88123(0x327),'message':_0x2d2520['length']>0x0?_0x2d2520:void 0x0};}},oe=class{constructor(..._0x23aafe){const _0x52babd=a0_0x2caf34;throw{'status':0x193,'error':_0x52babd(0x596),'message':_0x23aafe[_0x52babd(0x59b)]>0x0?_0x23aafe:void 0x0};}},x=class{constructor(..._0x3eeaf1){const _0x302d70=a0_0x2caf34;throw{'status':0x194,'error':_0x302d70(0x4fb),'message':_0x3eeaf1[_0x302d70(0x59b)]>0x0?_0x3eeaf1:void 0x0};}},A=class{constructor(..._0x1b7784){const _0x323670=a0_0x2caf34;throw{'status':0x1f4,'error':_0x323670(0x380),'message':_0x1b7784['length']>0x0?_0x1b7784:void 0x0};}},ue=require(a0_0x2caf34(0x541));async function us(_0x1c6ebe){const _0x532dc9=a0_0x2caf34;let _0x2489e1=new N(us[_0x532dc9(0x3c7)]),_0x4faa8e=M['getClient'](),_0x5f5d3b=_0x4faa8e['db'](E[_0x532dc9(0x54d)](_0x532dc9(0x293))[_0x532dc9(0x470)]['DB_PREFIX_NAME']+'-instances')[_0x532dc9(0x428)](_0x1c6ebe),_0x2c1139=async(_0x2a730e,_0x5e2533)=>{const _0x2683de=_0x532dc9;try{return await _0x4faa8e['connect'](),await _0x5f5d3b[_0x2683de(0xd2)]({'_id':_0x5e2533},JSON[_0x2683de(0x44d)](JSON[_0x2683de(0xff)](_0x2a730e,ue[_0x2683de(0x14f)]['replacer'])),{'upsert':!0x0});}catch{}},_0x3cce29=async _0x3b92a8=>{const _0x5d92a4=_0x532dc9;try{await _0x4faa8e[_0x5d92a4(0xb7)]();let _0x423768=await _0x5f5d3b['findOne']({'_id':_0x3b92a8}),_0x1aebef=JSON[_0x5d92a4(0xff)](_0x423768);return JSON[_0x5d92a4(0x44d)](_0x1aebef,ue[_0x5d92a4(0x14f)]['reviver']);}catch{}},_0xe69cdc=async _0x423347=>{const _0x1ad6f3=_0x532dc9;try{return await _0x4faa8e[_0x1ad6f3(0xb7)](),await _0x5f5d3b[_0x1ad6f3(0x56a)]({'_id':_0x423347});}catch{}},_0x599952=await _0x3cce29(_0x532dc9(0x26e))||(0x0,ue[_0x532dc9(0x5e5)])();return{'state':{'creds':_0x599952,'keys':{'get':async(_0x53e24a,_0x573318)=>{const _0x2cde00=_0x532dc9;let _0x3d4bb8={};return await Promise[_0x2cde00(0x2ec)](_0x573318[_0x2cde00(0x566)](async _0x7cb85d=>{const _0xbf4265=_0x2cde00;let _0x16edd0=await _0x3cce29(_0x53e24a+'-'+_0x7cb85d);_0x53e24a==='app-state-sync-key'&&_0x16edd0&&(_0x16edd0=ue[_0xbf4265(0x4d0)][_0xbf4265(0x534)][_0xbf4265(0x267)][_0xbf4265(0x497)](_0x16edd0)),_0x3d4bb8[_0x7cb85d]=_0x16edd0;})),_0x3d4bb8;},'set':async _0x161a04=>{const _0x477131=_0x532dc9;let _0x38a26d=[];for(let _0x105e36 in _0x161a04)for(let _0x9c4cad in _0x161a04[_0x105e36]){let _0x5c506b=_0x161a04[_0x105e36][_0x9c4cad],_0x8d180a=_0x105e36+'-'+_0x9c4cad;_0x38a26d[_0x477131(0x334)](_0x5c506b?_0x2c1139(_0x5c506b,_0x8d180a):_0xe69cdc(_0x8d180a));}await Promise[_0x477131(0x2ec)](_0x38a26d);}}},'saveCreds':async()=>_0x2c1139(_0x599952,_0x532dc9(0x26e))};}var ps=T(require(a0_0x2caf34(0x661))),gs=T(require(a0_0x2caf34(0x469))),Tt=require(a0_0x2caf34(0x541)),Qa=require(a0_0x2caf34(0x564)),Nt=require(a0_0x2caf34(0x541)),Ct;function Wo(_0x137389){const _0x238982=a0_0x2caf34;return Ct||(Ct=(0x0,Qa['createClient'])({'url':_0x137389['URI']}),Ct[_0x238982(0xb7)]()),Ct;}var fe=class c{constructor(_0x6c247e,_0x36b680){const _0x4c4a79=a0_0x2caf34;this[_0x4c4a79(0x155)]=_0x6c247e,this['instanceName']=_0x36b680,this[_0x4c4a79(0x2ad)]=new N(c[_0x4c4a79(0x3c7)]),this[_0x4c4a79(0x2d2)]=Wo(_0x6c247e);}set['reference'](_0x46a1cc){const _0x54e925=a0_0x2caf34;this[_0x54e925(0x372)]=_0x46a1cc;}async['instanceKeys'](){const _0x47e95d=a0_0x2caf34;try{return await this[_0x47e95d(0x2d2)]['sendCommand']([_0x47e95d(0x3d5),this[_0x47e95d(0x155)][_0x47e95d(0x11d)]+':*']);}catch(_0x5777ad){this['logger'][_0x47e95d(0x348)](_0x5777ad);}}async['writeData'](_0x26501c,_0x2dca91){const _0x2332c6=a0_0x2caf34;try{let _0x2650f3=JSON[_0x2332c6(0xff)](_0x2dca91,Nt[_0x2332c6(0x14f)][_0x2332c6(0xb9)]);return await this['client']['hSet'](this[_0x2332c6(0x155)][_0x2332c6(0x11d)]+':'+this[_0x2332c6(0x372)],_0x26501c,_0x2650f3);}catch(_0x3cc926){this[_0x2332c6(0x2ad)]['error'](_0x3cc926);}}async[a0_0x2caf34(0x363)](){const _0xb830ec=a0_0x2caf34;try{let _0x278fe4=await this[_0xb830ec(0x2d2)][_0xb830ec(0x141)](this[_0xb830ec(0x155)][_0xb830ec(0x11d)]+':'+this[_0xb830ec(0x372)]);if(_0x278fe4){for(let _0x4d516c in _0x278fe4)Object['prototype']['hasOwnProperty']['call'](_0x278fe4,_0x4d516c)&&(_0x278fe4[_0x4d516c]=JSON[_0xb830ec(0x44d)](_0x278fe4[_0x4d516c],Nt[_0xb830ec(0x14f)][_0xb830ec(0x341)]));return _0x278fe4;}}catch(_0x4403e4){this['logger'][_0xb830ec(0x348)](_0x4403e4);}}async['readData'](_0x36df68){const _0x3d980b=a0_0x2caf34;try{let _0x4e901f=await this[_0x3d980b(0x2d2)][_0x3d980b(0x53a)](this[_0x3d980b(0x155)][_0x3d980b(0x11d)]+':'+this[_0x3d980b(0x372)],_0x36df68);if(_0x4e901f)return JSON[_0x3d980b(0x44d)](_0x4e901f,Nt['BufferJSON'][_0x3d980b(0x341)]);}catch(_0x193537){this['logger'][_0x3d980b(0x348)](_0x193537);}}async['removeData'](_0xb31263){const _0x22f42d=a0_0x2caf34;try{return await this['client'][_0x22f42d(0x594)](this['redisEnv'][_0x22f42d(0x11d)]+':'+this[_0x22f42d(0x372)],_0xb31263);}catch(_0x52d386){this[_0x22f42d(0x2ad)][_0x22f42d(0x348)](_0x52d386);}}async[a0_0x2caf34(0xe0)](_0x25b6fe){const _0xc2f897=a0_0x2caf34;try{return await this[_0xc2f897(0x2d2)][_0xc2f897(0x4f1)](_0x25b6fe||this[_0xc2f897(0x155)][_0xc2f897(0x11d)]+':'+this[_0xc2f897(0x372)]);}catch(_0x301f72){this[_0xc2f897(0x2ad)][_0xc2f897(0x348)](_0x301f72);}}};async function ds(_0x5da2a1,_0x2a635b){const _0x5d219b=a0_0x2caf34;let _0x108d08=new N(ds[_0x5d219b(0x3c7)]),_0x21fc68=new fe(_0x5da2a1,_0x2a635b),_0x43e4c9=async(_0x4ab2c9,_0x54715a)=>{const _0x5ae4cb=_0x5d219b;try{return await _0x21fc68[_0x5ae4cb(0x50b)](_0x54715a,_0x4ab2c9);}catch(_0x29fea4){return _0x108d08[_0x5ae4cb(0x348)]({'localError':_0x5ae4cb(0x50b),'error':_0x29fea4});}},_0x30b3c8=async _0x373326=>{const _0x4d7ac5=_0x5d219b;try{return await _0x21fc68['readData'](_0x373326);}catch(_0x18f604){_0x108d08[_0x4d7ac5(0x348)]({'readData':_0x4d7ac5(0x50b),'error':_0x18f604});return;}},_0x3ba896=async _0x4bf76b=>{const _0x528038=_0x5d219b;try{return await _0x21fc68['removeData'](_0x4bf76b);}catch(_0x17784b){_0x108d08[_0x528038(0x348)]({'readData':'removeData','error':_0x17784b});}},_0x681dd0=await _0x30b3c8(_0x5d219b(0x26e))||(0x0,Tt[_0x5d219b(0x5e5)])();return{'state':{'creds':_0x681dd0,'keys':{'get':async(_0xbafdaf,_0x362994)=>{const _0x83a55e=_0x5d219b;let _0x543b23={};return await Promise[_0x83a55e(0x2ec)](_0x362994[_0x83a55e(0x566)](async _0xa542a5=>{const _0x4bab70=_0x83a55e;let _0x366360=await _0x30b3c8(_0xbafdaf+'-'+_0xa542a5);_0xbafdaf===_0x4bab70(0x58e)&&_0x366360&&(_0x366360=Tt['proto']['Message'][_0x4bab70(0x267)][_0x4bab70(0x497)](_0x366360)),_0x543b23[_0xa542a5]=_0x366360;})),_0x543b23;},'set':async _0x202a72=>{const _0x1362c7=_0x5d219b;let _0x4a6a1b=[];for(let _0x57f64e in _0x202a72)for(let _0x260043 in _0x202a72[_0x57f64e]){let _0x14ea77=_0x202a72[_0x57f64e][_0x260043],_0x54bae4=_0x57f64e+'-'+_0x260043;_0x4a6a1b[_0x1362c7(0x334)](_0x14ea77?await _0x43e4c9(_0x14ea77,_0x54bae4):await _0x3ba896(_0x54bae4));}await Promise[_0x1362c7(0x2ec)](_0x4a6a1b);}}},'saveCreds':async()=>await _0x43e4c9(_0x681dd0,'creds')};}var P=T(require('fs')),At=require('uuid'),It=T(require(a0_0x2caf34(0x590)));function J(_0x1d8281){const _0x465db3=a0_0x2caf34;if(_0x1d8281['viewOnceMessage']||_0x1d8281['viewOnceMessageV2']){let _0x3693a2=_0x1d8281['viewOnceMessage']?_0x1d8281[_0x465db3(0x4d5)][_0x465db3(0x5c9)]:_0x1d8281[_0x465db3(0x2de)]['message'];return(0x0,w[_0x465db3(0x362)])(_0x3693a2);}return _0x1d8281[_0x465db3(0x58c)]?_0x465db3(0x58c):_0x1d8281['pollCreationMessageV2']?_0x465db3(0x1fa):(0x0,w[_0x465db3(0x362)])(_0x1d8281);}function a0_0x53f0(){const _0x251509=['storePath','Temp\x20audio\x20deleted','groupRevokeInvite','\x1b[36m%s\x1b[0m','addReplyOption','shutdown\x20-r\x20now','deleteflow','\x1b[34m%s\x1b[0m','fetchChats','PORT','getMinutes','HeaderType','The\x20instance\x20is\x20already\x20connected','archive','including\x20timestamp\x20in\x20url:\x20','mimetype','axios','pollCreationMessageV3','stateConnection','app-state-sync-key','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','sharp','formatVCard','Authentication\x20error','/*.json','hDel','certbot\x20certonly\x20--standalone\x20-m\x20','Forbidden','\x20horas\x20e\x20','\x0a{\x20instance:\x20','lastmsg','call','length','URL:','Erro\x20ao\x20editar\x20o\x20chat:\x20','caption','noConnection','code','\x1b[46m','findFlow','setting','AUTHENTICATION','subject','AUTHENTICATION_JWT_EXPIRIN_IN','.X-ABLabel:Celular\x0a','textMessage','.json','\x0aitem','50mb','PENDING','firstValue','moreLogs','repeat','/group','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Erro\x20ao\x20buscar\x20conversa:\x20','valid','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','convertedOptions','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','loadWebhook','Error\x20creating\x20group','spawn','ignoreGroups','NEW_JWT_TOKEN','\x22,\x20valor\x20a\x20substituir:\x20\x22','findContacts','allFlows','PASSWORD','RECONNECT_TIME_FRAME','execSync','public','findAndReplace','/instance/create','audioWhatsapp','WEBHOOK_EVENTS_MESSAGES_SET','getConversation','mentioned','message','random','findMessages','sem\x20texto\x20na\x20mensagem','buttonText','chatModify','sendContact','getTime','notContains','CONTACTS_SET','Cache-Control','longitude','announcement','backgroundColor','):\x20Conversa\x20está\x20expirada','utf-8','displayName','out','editFlowGroup','finish','Deletion\x20failed','\x20minutos\x20verificará\x20novas\x20mensagens','goToFlow','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','Output\x20audio\x20path:\x20','CONTACTS_UPSERT','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','opendirSync','initAuthCreds','uazapiSendAudio','dbInstance','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','ButtonsMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20Going\x20to\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','editflowvaredit','env.KEY\x20!==\x20key','sort','*Pergunta*:\x20\x0a','_error','apply','getScheduleMessage','class-validator','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','redirect','deleteFlow','width','SERVER_ACK','Parando\x20aplicação,\x20atualização\x20recebida','true',',\x20saindo.','convertToWebP','string','startsWith','urlOrBase64','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','jsonwebtoken','uazapiDeleteMessage','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','\x20segundos','flowPrefixCommand','\x20inseridas\x20no\x20banco\x20de\x20dados...','updatePresence','send','AutomateSystem','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','):\x20this.processingScheduleMessageId:\x20','156dzHhjO','URL\x20limpa:\x20','updateProfilePicture','GROUP_PARTICIPANTS_UPDATE','close','getOwnPropertyDescriptor','generateHash','tokenId','contactHandle','groupSetting','groupId','responsavelid','keep-alive','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','url','Instance\x20ID:','groupDesc','function','buttonId','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','createConnection','STORE_CLEANING_TERMINAL','groupUpdateDescription','.mp4','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Enviando\x20enquete','flattenObject','Getting\x20audio\x20from\x20url','debug','API\x20Key\x20inválida.','LOG','deleteMessage','ios','webhookService','pushName','):\x20Enviando\x20localização','The\x20property\x20cannot\x20be\x20empty','*\x0a\x0a','bateu\x20events','1430912POAUIL','uazapiSendLocation','WEBHOOK_EVENTS_CHATS_UPDATE','Error\x20change\x20group\x20setting','option','presence.update','pre','Module\x20-\x20ON','rm\x20-rf\x20','updateStatusPrivacy','jwt','createConversationforgoToFlow','\x22\x20-\x20REMOVED','drop','getTicketSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','latitude','editFlowVariable','bearer','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','evaluateConditionTest','nome','removeInstance','stopMinutesMaxActives','DATABASE_CONNECTION_PASSWORD','Temp\x20audio\x20path:\x20','quoted','chats.delete','goNextblock','Fetching\x20business\x20profile','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','optionDescription','stdout','Erro\x20do\x20Certbot:\x20','updateOnlinePrivacy','statusJidList','restart','MESSAGES_UPSERT','create\x20-\x20success','app','isJidUser','long','groupMetadata','5bnTouf','optionName','Audio\x20processed','findOneAndUpdate','CHATS_DELETE','expression','Atualização:\x20','ip:\x20','getMessageModelForOwner','createServer','replaceVariablesChat','senderKeyDistributionMessage','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','\x1b[1m\x1b[37m','status@broadcast','saveTextReply','HOST','../env.yml','syscall','apiName','exit','Type\x20defined\x20as\x20audio','static','groups.update','info','variable','view\x20engine','apirequest','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','SSL_CONF_PRIVKEY','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','presence','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','\x1b[47m','selectedOptions','group\x20ignored','SSL_CONF_FULLCHAIN','conversation','privacySettings','Erro\x20ao\x20executar\x20o\x20Certbot:\x20','downloads','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','chats.upsert','https://jsonip.com','E-mail:\x20','TRIAL_AD','AUTHENTICATION_JWT_SECRET','CONFIG_SESSION_PHONE_CLIENT','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','contact_blacklist','sticker','/wa-chats','Enter\x20a\x20value\x20in\x20milliseconds','chatLog','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','processApiRequest','equal','userDevicesCache','fetchInstances','lastSend','READ','processblock','):\x20Flow\x20desativado','chats','uazapi','CONECTADO\x20À\x20UAZAPI','_Messages','instanceInfo','replace','Invalid\x20\x22oldToken\x22','The\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','empty','end','connect','LIMIT','replacer','desativadoFluxoAte','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','updateMany','delayMessage','convert','online','updateParticipant','WEBHOOK_MAP','Instance\x20logged\x20out','localWebhook','listMessage','DATABASE_CONNECTION_URI','DATABASE_CONNECTION_HOST','-whatsapp-api','18xtdTEY','dropCollection','pop','add','Converting\x20image\x20to\x20WebP\x20to\x20sticker','authModel','sendMedia','editflowblock','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','replaceOne','activatedCount','):\x20não\x20encontrou','scheduleNextCheck','Converted\x20image\x20deleted','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','cleanStore','Trying\x20to\x20get\x20business\x20profile','/instance/fetchInstances','USER','refused','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','dataValidate','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','delAll','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','nomecompleto','):\x20Conversas\x20encontradas:','StatusJidList\x20is\x20required','@g.us','maxActives','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','bulkWrite','audio/ogg','includes','poll_id','blockId','getHours','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','SERVER_PORT','emit','ephemeralMessage','configService','ObjectId','TRIAL_INSTANCE_NAME','value','profilePictureUrl','locked','urlencoded','qrCode','Content\x20is\x20required','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','fileLength','DELIVERY_ACK','fetchConversation','stringify','Method\x20not\x20implemented.','audioMessage','Error\x20updating\x20profile\x20picture','ids','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','request\x20received\x20in\x20editFlowvariable','defineAuthState','getClient','updateGroupPicture','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','CONNECTION_UPDATE','createFlow','/wa-groups','replyOption','):\x20alterando\x20this.AutomateSystem','sendSticker','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','uazapiSendText','removed','apikey','):\x20Deletando\x20conversa...','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','request\x20received\x20in\x20deleteDoneMessages','minutesToClose','new.jwt','ReplyOption\x20com\x20ID\x20','Deleted\x20','temp-','reconnectTimestamps','PREFIX_KEY','buttonMessage','Desconectado,\x20parando\x20execução.','formatBRNumber','document','WEBHOOK_EVENTS_CONTACTS_UPSERT','groupFetchAllParticipating','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','some','delete','Read\x20messages','replaceVariablesInObject','updateMediaMessage','leadInfo.customFields','1698376uLPrmz','605011ADGsyJ','sections','connecting','fetchBusinessProfile','editFlowCondition','group','The\x20global\x20api\x20key\x20must\x20be\x20set','contacts','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','contactMessage','connectToWhatsapp','request\x20received\x20in\x20editConversation','TEL','request\x20received\x20in\x20editFlowcondition','scheduleSendAudio','values','connectionUpdate','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','replaceVariablesLogs','@ffmpeg-installer/ffmpeg','hGetAll','DD/MM\x20HH:mm:ss','Processing\x20audio','URI','Conversa\x20deletada\x20com\x20sucesso.','group-participants.update','deletedCount','from','delInstanceFiles','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','updateCustomFields','dayjs','extractRegex','isURL','BufferJSON','varedit','Validate','notMatchRegex','request\x20received\x20in\x20editFlow','KEY','redisEnv','findChats','56YDFgok','/create','http','\x1b[42m','qrcode.updated','local_map','newStoppedUntil','no.connection','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','entries','GUARD','):\x20Error\x20processing\x20conditions:\x20','vote','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Unknown\x20message\x20type\x20or\x20empty\x20message','flow','/message','evaluateCondition','chatHandle','request\x20received\x20in\x20getAutomateSystem','CONFIG_SESSION_PHONE','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','set','Temp\x20audio\x20created','editedMessage','uncaughtException','getDelay','processgoToFlow','Button\x20texts\x20cannot\x20be\x20repeated','log','SERVER','authService','existsSync','):\x20Entrou\x20na\x20função\x20stop','context','envProcess','rmSync','buttonsMessage','Error\x20deleting\x20instance\x20from\x20memory.',',\x20valor\x20a\x20encontrar:\x20\x22','DARK','CORS','No\x20invite\x20code','getChatModelForOwner','editFlowReply','Missing\x20global\x20api\x20key','prepareMediaMessage','chrome','sendText','description','unreadCount','query','release','/wa-contacts','TEXT','toggleEphemeral','FlowController','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','getMessage','Content-Type',',\x20lastCondition:\x20','auth','sendMessageWithTyping','webhookModel','flushHeaders','mentions','insertMany','fullName','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','writeFileSync','abs','organization','fromMe','STORE','inviteCode','msgRetryCounterCache','Message\x20not\x20found','Erro\x20ao\x20buscar\x20conversas:\x20','\x1b[37m%s\x1b[0m','Error\x20removing\x20profile\x20picture','This\x20name\x20','COLOR','assign','waMonit','getFlow','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','boolean','text/event-stream','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','^\x5cd+','deleteInstance','editConversation','saveChatVariables','next_groupId','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','options','array','replyOptions','title','WEBHOOK_EVENTS_MESSAGES_UPDATE','last_update','repository','.sendDataWebhook-local','pollMessageOnDelete','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','waitingPoll_name','none','addBlock','variablesNotFound','hasOwnProperty','Schema','no-cache','\x22\x20not\x20found','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','groupValidate','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','unreadcount','Error\x20fetching\x20group','):\x20Editando\x20variável\x20do\x20fluxo...','request\x20received\x20in\x20getConversation','pollUpdateMessage','@s.whatsapp.net','Operador:\x20\x22','documentMessage','findGroup','):\x20Alterando\x20fluxo...','redis','readMessages','groups_ignore','groupName','\x20-y','/wa-message-update','matchRegex','ERROR','):\x20Criando\x20nova\x20conversa','user','error_log','delaySecMax','paused','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','isConnected','hex','Falta\x20informação\x20para\x20a\x20chamada\x20API','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','whatsappNumbers','WEBHOOK_EVENTS_CHATS_SET','Início','dbSettings','licenca','CHATS_SET','Connection','):\x20conversation.lastInteraction:\x20','QRCODE_LIMIT','\x5cd+','header','Instance\x20\x22','https://uazapi-plugin.bubbleapps.io/?url=','put','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','uazapiSendContact','pollCreationMessageV2','groupLeave','express','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','_activatedCount','.uazapi.dev','):\x20Enviando\x20áudio','findIndex','downloadMediaMessage','/webhook','createJid','Sistema\x20atualizado\x20com\x20sucesso!','ChatModel','verbose','):\x20Query\x20params:','MAX_RECONNECT_ATTEMPTS','\x20contacts','composing','MessageModel','DATABASE_CONNECTION_DB_PREFIX_NAME','throwAndLogError','readMessageBot','Not\x20allowed\x20by\x20CORS','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Entrou\x20na\x20função\x20saveReply','CORS_CREDENTIALS','toNumber','getRandomText','fetchContacts','\x20-\x20ON:\x20','buttons','isArray','readreceipts','Flow\x20iniciado\x20com\x20','Getting\x20profile\x20info','response','available','processConditionsTest','Error\x20updating\x20setting','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','/automate','\x1b[33m%s\x1b[0m','split','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','createConversationforStartFlow','path','startFlow','lastInteraction','readMessage','writeFile','sign','sendPresenceUpdate','$dbName','JWT','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','prefixCommand','Error\x20writing\x20file:\x20','fetchProfile2','WEBHOOK_EVENTS_QRCODE_UPDATED','numbers','refreshToken',',\x20Expiration\x20Time:\x20','variablesToObject','shift','cwd','CLEANING_INTERVAL','subjectTime','Profile\x20not\x20found','format','getLastMessage','Bloco\x20com\x20ID\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','decryptPollVote','No\x20participants','conversationTimestamp','replaceValue','Error\x20while\x20deleting\x20message\x20for\x20everyone','WEBHOOK_EVENTS_CHATS_UPSERT','scheduled','request\x20received\x20in\x20createFlow','):\x20Erro\x20durante\x20a\x20atualização:\x20','qrcode-terminal','STATUS_INSTANCE','command','round','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','sha256','connectionClosed','stanzaId','QRCODE','sendButtons','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Telefone:\x20','fone','envYaml','\x1b[40m','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Erro\x20ao\x20atualizar\x20conversa:\x20','.jwt','SERVER_TYPE','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateStopChat','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Audio\x20converted\x20to\x20mp4','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','restartInstance','):\x20Limpando\x20AutomateSystem','AppStateSyncKeyData','g-t','readFile','findParticipants','Instância:\x20','inner','font','creds','variables','@broadcast','send.message','4222eMNONv','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Edit\x20schedule\x20message...','folder','listen','Flow\x20already\x20exists','Error\x20in\x20markMessageAsRead:','stack','https','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','onWhatsApp','params','EMAIL:','_Chats','\x1b[32m%s\x1b[0m','created','splice','content','\x20chats\x20de\x20','FlowRouter','WEBHOOK','limit','done','lowerCase','):\x20expirationTime:\x20','URL','toLowerCase','messageId','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','HH:mm:ss','instance.','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20customFieldVariables','DATABASE','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','modifiedCount','less','verify','webhookMap','STORE_CHATS','isJidGroup','upsertChats','messages.update','\x20minutos','capitalizedWords','request\x20received\x20in\x20scheduleMessage','WEBHOOK_EVENTS_CONNECTION_UPDATE','isRunning','sendLocation','\x20não\x20encontrado\x20para\x20atualização.','pollOnReplyDelete','):\x20newSecondValue\x20após\x20replaceVariables:','lastReceivedMessage','announce','stopMinutes','Background\x20color\x20is\x20required','CORS_ORIGIN','uazapiSendPoll','collections','logger','AUTHENTICATION_TYPE','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','leaveGroup','.TEL;waid=','messages','Hash\x20to\x20audio\x20name:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','blockLogs','generateWAMessageFromContent','recording','Fluxo\x20não\x20encontrado','/events/:instance','updateOne','NextBlock','editOperator','flowStopMinutes','join','test','):\x20Visualizando\x20AutomateSystem','.mp3','http://checkip.dyndns.org','secondValue','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','imagechat','Error\x20updating\x20privacy\x20settings','instanceName\x20not\x20provided.','Connection\x20closed\x20for\x20instance:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20','documentWithCaptionMessage','VERBOSE','newValue','logout','subjectOwner','uuid','getVariablesChat','client','revokeInviteCode','REDIS_ENABLED','lastSendMessage','):\x20teve\x20mudanças\x20chat.displayName:\x20','CONTACTS_UPDATE','varedits','Image\x20created','waitingPoll_id','DATABASE_ENABLED','mediatype','Original\x20filename:','viewOnceMessageV2','\x22\x20cannot\x20be\x20empty','errors','groupSettingUpdate','SSL_CONF','status.instance','segundos','SUCCESS','removeProfilePicture','createNewConversation','messageSecret','setHeader','_doc','\x22reaction\x22\x20must\x20be\x20an\x20emoji','all','encoding','Last\x20message\x20not\x20found','getOwnPropertyNames','headers','linkPreview','):\x20tem\x20blocks','toBRL','setContext','__esModule','errorLog','replaceVariablesInReplyOptions','\x0a*Você\x20respondeu*:\x0a','archiveChat','updateAgent','whatsappNumber','FULLCHAIN','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Não\x20achou\x20nenhum\x20flow','scheduleSendMedia','chat','TYPE','ERROR:\x20','groupToggleEphemeral','agents','reconnectAttempts','statusCode','Archiving\x20chat','remove.instance','):\x20updateResult:','convertaudio','deleteMany','messageHandle','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','parseInt','REDIS_PREFIX_KEY','qrcode','messages.upsert','editFlowVaredit','statusMessage','Error\x20updating\x20profile\x20name','groupHandler','videoMessage','MESSAGES_UPDATE','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Editando\x20replyOption...','WEBHOOK_GLOBAL_URL','nextBlock:','messagesSend','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','closed','participant','cors','getMIMEType','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','quotedMessage','notEqual','):\x20isVote','Unauthorized','blocks','contact','):\x20Current\x20Time:\x20','not\x20loaded','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20leadInfoVariables','stopped','):\x20Editando\x20bloco...','MESSAGES_SET','leadInfo','updateConversation','create','push','sendList','Parando\x20aplicação...','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','authState','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','address','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','updateMessage','Erro\x20ao\x20editar\x20a\x20conversa:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Erro\x20ao\x20encerrar\x20a\x20API','deleteConversation','reviver','\x1b[34m','participants','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Comando\x20desconhecido:\x20','isDirectory','currency','error','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','oldToken','Font\x20is\x20required','js-yaml','updateProfilePicturePrivacy','Converted\x20audio\x20deleted','enabled','Conexão\x20estabelecida','updateChatWithMessage','stickerMessage','footerText','processUazapi','write','filter','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','METHODS','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','groups','open','tags','CONFIG_SESSION_PHONE_NAME','sendReaction','deleteBlock','fileName','endSession','getContentType','getAllData','cpf','generate','WARN','Erro\x20ao\x20aplicar\x20varedit:\x20','\x20não\x20encontrado','forEach','waInstances','pt-BR','INFO','Invalid\x20format','deleteReplyOption','waMonitor','PRODUCTION','joinGroup','instanceName','augusto.fcs@gmail.com','method','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x20instance\x20does\x20not\x20exist','request\x20received\x20in\x20editFlowgroup','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','.ogg','lean','bodyString','webp','preview','getPrototypeOf','protocolMessage','Internal\x20Server\x20Error','/wa-qrcode','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Erro\x20ao\x20iniciar\x20fluxo:\x20','PROD','writeStore','API_KEY','success','WEBHOOK_EVENTS_MESSAGES_UPSERT','deleteDoneMessages','json','35832AilOYx','findAndReplaceRegex','mongoose','creation','upperCase','jpegThumbnail','\x20}\x0a','apiResponse','remoteJidsRemaining',',\x20valor\x20passado:\x20\x22','https://api.ipify.org?format=json','video-cover.png','):\x20teve\x20mudanças\x20chat.archived:\x20','Sending\x20audio\x20whatsapp','\x0aFN:','Não\x20respondeu\x20com\x20a\x20enquete.','Erro\x20inesperado\x20em\x20processvaredits:\x20','redisCache','Getting\x20profile\x20with\x20jid:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','buffer','CLIENT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','reactionMessage','scheduleMessage','rowId','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Buscando\x20conversa...','EMAIL',',\x20qrcodeCount:\x20','profile','saveMediaToFile','DELETED','exists','contacts.update','update','realVariables','when','getBase64FromMediaMessage','unlinkSync','processvaredits','charAt','connectionStatus','updateGParticipant','updateReplyOption','updateLastSeenPrivacy','):\x20Erro\x20ao\x20editar\x20agentes:\x20','toUpperCase','CHATS_UPDATE','8080','GLOBAL','readFileSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','indexOf','toString','imageMessage','createflow','eventHandler','findByIdAndDelete','name','routerPath','src','^\x5cd+([-]\x5cd+)*@g.us$','loadInstance','\x20is\x20already\x20in\x20use.','trim','Error\x20in\x20scheduleNextCheck:\x20','integer','Instância\x20não\x20encontrada.','exec','\x1b[44m','GROUPS_UPSERT','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','keys','size','insert','hostname','updateBlock','\x20foi\x20interrompido\x20pelo\x20usuário.','subdomain','profilePicture','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Entrou\x20na\x20função\x20goToFlow','addresss','truncatedto','REDIS','substring','messageTimestamp','model','arrayUnique','conditions','image','fetchPrivacySettings','jid','block','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','WEBHOOK_EVENTS_NEW_JWT_TOKEN','editFlow','Instance\x20restarted','Error\x20change\x20group\x20description','toFile','object','formatStatusMessage','CORS_METHODS','\x1b[31m%s\x1b[0m','video','):\x20Procurando\x20conversa','Erro:','text','demote','messaging-history.set','):\x20Flow\x20não\x20encontrado','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','oldValue','email','findOne','updateGParticipate','Close\x20connection','findGroupInfos','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','sendPoll','Router','/exit','DEL_INSTANCE','jsonschema','115CJhAxg','/instance','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Error\x20update\x20group\x20picture','atendimentoAberto','processConditions','):\x20Criando\x20fluxo...','normalizeMessage','has','SendScheduleMessage','LEVEL','process','env','default','originalUrl','defineProperty','setNewValue','Instance\x20deleted','warn','node-mime-types','NAME','request\x20received\x20in\x20updateCustomFields','statSync','leadInfo.desativadoFluxoAte','state','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','order','Fluxos\x20não\x20estão\x20ativados','DEBUG','collection','lastMessage','Error\x20updating\x20message\x20status:','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','expiration','unavailable','delay','Logger','\x1b[37m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','utf8','changeVariables','closeExistingConversations','isInteger','\x1b[43m','count','Image\x20is\x20url','updateProfileStatus','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','contacts.upsert','saveConversationToDatabase','getStatus','editflowcondition','/refreshToken','headerString','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','groupCreate','\x1b[1m','scheduleSendText','verifiedName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','creds.json','BRL','phoneNumber','StartBot','findByIdAndUpdate','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','parse','audio','toBrazilianNumberFormat','readdirSync','https://uazapi-plugin.bubbleapps.io/','):\x20debug\x20alterando\x20this.AutomateSystem','mkdirSync','):\x20nextBlock.uazapi.name','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Db\x20Connection','updateProfileName','request\x20received\x20in\x20getFlow','Número:\x20','!cmd_','Mensagem\x20não\x20suportada','Type\x20is\x20required','getProfileName','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','start','reorderBlocks','WEBHOOK_EVENTS_GROUPS_UPSERT','connectionState','chats.set','editScheduleMessage','key','AutomateSystem\x20não\x20foi\x20inicializado','Bad\x20Request','https://github.com/uazapi/uazapi.git','node-cache','resetReconnectionVariables','Cannot\x20','}}\x20->\x20\x22','WEBHOOK_EVENTS_CONTACTS_UPDATE','authorization','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','CONNECTION','/clients-info','match','OrAnd','Reinicialização\x20iniciada:\x20','android','):\x20Editando\x20grupo\x20do\x20fluxo...','lastCondition','):\x20transformedCustomFieldVariables','DisconnectReason','createWebhook','PRESENCE_UPDATE','ON\x20-\x20dbName:\x20','selectableCount','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','\x1b[32m','Data\x20inválida\x20fornecida','ENABLED','wuid','vcard','Contacts\x20not\x20found','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','waitingPoll_replyOptions','number','EVENTS','createInstance','Image\x20path:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','editflowvariable','loggedOut','endsWith','dark','replaceVariables','):\x20conversation.waitingPollname','instances','EXPIRIN_IN','GROUPS_UPDATE','enumerable','errno','fromObject','Error\x20fetching\x20and\x20updating\x20profile:\x20','.png','groups.upsert','render','sending','groupInviteCode','stderr','Group\x20not\x20found','updateFlowConfig','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','audio/mp4','padEnd','):\x20Enviando\x20mídia','AutomateFunctions','getContactModelForOwner','):\x20Error\x20processing\x20the\x20block:\x20','remoteJid','isBooleanString','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','delaySecMin','last','lastBlockId','floor','pollErrorMessage','greater','output','express-async-errors','LOG_LEVEL','website','WEBHOOK_EVENTS_SEND_MESSAGE','sendDataWebhook','console','processingScheduleMessageId','\x1b[33m\x1b[1m','flowStopConversation','DB_PREFIX_NAME','Media\x20folder\x20path:','setWebhook','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Valor\x20inicial:\x20\x22','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','request\x20body:\x20','use','pollCreationMessageKey',',\x20Resultado:\x20','media','pollMessage','stopConversation','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','editFlowBlock','isJWT','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','presenceSubscribe','4121440pZDPyT','}}\x20->\x20valor\x20não\x20encontrado','proto','\x1b[0m','birthtime','post','Converting\x20audio\x20to\x20mp4','viewOnceMessage','notEmpty','editChat','):\x20Falha\x20ao\x20deletar\x20mensagem.','arraybuffer','_id','processPollUpdateMessage','deleteMessageForEveryone','connection.update','QRCODE_UPDATED','chats.update','Unable\x20to\x20leave\x20the\x20group','newName','request\x20received\x20in\x20starFlow','slice','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sendMessage','webhook','https://','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','archived','eventEmitter','findConversation','/media/','<subdomain>','findById','Imagem\x20não\x20encontrada','LOG_COLOR','del','allflows','CHATS_UPSERT','fetchProfile','Types','\x22\x20-\x20NOT\x20CONNECTION','rows','toArray','sendStatus','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Not\x20Found','locationMessage','Erro\x20de\x20reinicialização:\x20','!stop','save','?authSource=admin&readPreference=primary&directConnection=true','PLAYED','):\x20Buscando\x20conversas...','./.git/config','find','status','getDevice','events','customFields','reaction','updatePrivacySettings','writeData','namespace','height','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','fetchMessages','/events','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','notas','isBusiness','):\x20Enviando\x20texto','body','router','groupadd','role',',\x20Minutes\x20to\x20Close:\x20','where','data','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20teve\x20mudanças\x20chat.name:\x20','loadEnv','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','mediaKey','CREDENTIALS','allContacts','remoteJids','max','applyvaredit','request\x20received\x20in\x20deleteConversation','mediaMessage','?timestamp=','createGroup','scheduleMessages','pollCreationMessage','flowConfig','deleteAll','\x1b[33m','editflow','/wa-message','SEND_MESSAGE','dbServer','delInstanceTime','Message','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','and','metadata','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','SECRET','hGet','toLocaleString','contentText','Flow\x20não\x20encontrado','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','isLong','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','@whiskeysockets/baileys','request\x20received\x20in\x20updateAgent','saveVariable','\x20\x1b[0m','validate','findGroups','Business\x20profile\x20fetched','):\x20atualização\x20chat:\x20','sendWhatsAppAudio','type','action','instance','get','contactname','reference','findWebhook','updateGroupsAddPrivacy','condition','fetchProfilePicture','Comando\x20desconhecido','Error\x20change\x20group\x20name','DOCKER_ENV','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Subscribed\x20Events:','mongodb','API\x20Key\x20from\x20Request:','groupUpdateSubject','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','sleep','contextInfo','child_process','base64','groupJid','https://chat.whatsapp.com/','Not\x20is\x20business\x20profile','@redis/client','joinGroupValidate','map','owner','Type\x20not\x20found','isBase64','deleteOne','SERVER_OFFLINE','views','Audio\x20is\x20url','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','-instances','markMessageAsRead','getAutomateSystem','now','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','516360nUTvAI','_Contacts','cleaningUp','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20editar\x20agentes:\x20','mongodb://','PRIVKEY'];a0_0x53f0=function(){return _0x251509;};return a0_0x53f0();}var ye=class c{constructor(_0x51daed,_0x5c9119,_0x2df5bf){const _0x79abf9=a0_0x2caf34;this[_0x79abf9(0xf2)]=_0x51daed,this[_0x79abf9(0x4ea)]=_0x5c9119,this[_0x79abf9(0x1bf)]=_0x2df5bf,this[_0x79abf9(0x60c)]=null,this[_0x79abf9(0x2ad)]=new N(c['name']),this[_0x79abf9(0x54c)]={},this['localWebhook']={},this[_0x79abf9(0x58d)]={'state':_0x79abf9(0x613)},this['storePath']=(0x0,$[_0x79abf9(0x2be)])(Q,_0x79abf9(0x95)),this[_0x79abf9(0x1a2)]=new gs[(_0x79abf9(0x418))](),this[_0x79abf9(0xa6)]=new gs[(_0x79abf9(0x418))](),this['endSession']=!0x1,this[_0x79abf9(0x298)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x79abf9(0x381),'messages.upsert':_0x79abf9(0x530),'messages.update':_0x79abf9(0x1dd),'send.message':_0x79abf9(0x530),'group.upsert':_0x79abf9(0x10c),'group.update':_0x79abf9(0x10c),'group-participants.update':_0x79abf9(0x10c),'connection.update':'/wa-connection-update','messages.set':_0x79abf9(0x530),'contacts.set':'/wa-contacts','contacts.upsert':_0x79abf9(0x18c),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':_0x79abf9(0xa0),'chats.update':_0x79abf9(0xa0),'chats.upsert':'/wa-chats','chats.delete':_0x79abf9(0xa0)},this[_0x79abf9(0x305)]=0x0,this[_0x79abf9(0x11c)]=[],this[_0x79abf9(0x20a)]=0xf,this[_0x79abf9(0x5c0)]=0x7530,this[_0x79abf9(0x2a1)]=!0x1,this[_0x79abf9(0x169)]={'chats.upsert':async(_0x24ec8a,_0x254543)=>{const _0x302193=_0x79abf9;let _0x363c2d=[];for await(let _0x4c963e of _0x24ec8a)_0x363c2d[_0x302193(0x334)]({'_id':_0x4c963e['id'],'owner':this['instance'][_0x302193(0x482)],'group':_0x4c963e['id'][_0x302193(0x48e)](_0x302193(0xe5)),'name':_0x4c963e['name']||_0x4c963e[_0x302193(0x5d9)]||null,'contactname':null,'lastmsg':_0x4c963e[_0x302193(0x246)]&&_0x4c963e[_0x302193(0x246)][_0x302193(0x3c2)]()[_0x302193(0x59b)]<0xd?_0x4c963e[_0x302193(0x246)]*0x3e8:_0x4c963e[_0x302193(0x246)]||null,'archived':_0x4c963e['archived']||!0x1,'unreadcount':_0x4c963e[_0x302193(0x189)]||0x0});await this[_0x302193(0x4b6)](_0x302193(0x97),_0x363c2d);},'chats.update':async(_0x39da41,_0x4ea38a)=>{const _0x246831=_0x79abf9;for(let _0x32018c of _0x39da41){let _0x38dc2f={'_id':_0x32018c['id'],'owner':this[_0x246831(0x54c)][_0x246831(0x482)],'group':_0x32018c['id'][_0x246831(0x48e)](_0x246831(0xe5)),'name':_0x32018c[_0x246831(0x3c7)]||_0x32018c[_0x246831(0x5d9)],'archived':_0x32018c[_0x246831(0x4e9)]},_0x262f17=!0x1,_0x110eef={};_0x38dc2f[_0x246831(0x4e9)]!=null&&(this[_0x246831(0x2ad)][_0x246831(0x208)](this['instanceName']+'\x20('+this[_0x246831(0x54c)][_0x246831(0x482)]+_0x246831(0x397)+_0x32018c['archived']),_0x262f17=!0x0,_0x110eef[_0x246831(0x4e9)]=_0x32018c[_0x246831(0x4e9)]),_0x32018c[_0x246831(0x3c7)]!=null&&(this[_0x246831(0x2ad)]['verbose'](this[_0x246831(0x372)]+'\x20('+this[_0x246831(0x54c)][_0x246831(0x482)]+_0x246831(0x51d)+_0x32018c[_0x246831(0x3c7)]),_0x262f17=!0x0,_0x110eef[_0x246831(0x3c7)]=_0x32018c['name']),_0x32018c[_0x246831(0x5d9)]!=null&&(this[_0x246831(0x2ad)][_0x246831(0x208)](this[_0x246831(0x372)]+'\x20('+this['instance'][_0x246831(0x482)]+_0x246831(0x2d6)+_0x32018c[_0x246831(0x5d9)]),_0x262f17=!0x0,_0x110eef[_0x246831(0x3c7)]=_0x32018c[_0x246831(0x5d9)]);let _0x42a58b;_0x262f17&&(_0x42a58b=await this[_0x246831(0x1bf)][_0x246831(0x300)][_0x246831(0x2ba)]({'where':{'_id':_0x32018c['id'],'owner':this[_0x246831(0x54c)][_0x246831(0x482)]}},_0x110eef)),_0x42a58b&&B(this[_0x246831(0x372)],_0x246831(0xac),{'chat':_0x42a58b});}},'chats.delete':async _0x3e3fff=>{const _0x3fd352=_0x79abf9;await this[_0x3fd352(0x4b6)]('chats.delete',[..._0x3e3fff]);}},this[_0x79abf9(0x617)]={'contacts.upsert':async(_0x3f07c1,_0x4db0aa)=>{const _0x2fde23=_0x79abf9;let _0x4e8e50=await this[_0x2fde23(0x1bf)][_0x2fde23(0x329)][_0x2fde23(0x504)]({'where':{'owner':this[_0x2fde23(0x54c)][_0x2fde23(0x482)]}}),_0x552c5f=[];for await(let _0x440fb2 of _0x3f07c1)_0x4e8e50[_0x2fde23(0x504)](_0x56e3aa=>_0x56e3aa[_0x2fde23(0x4da)]===_0x440fb2['id'])||_0x552c5f[_0x2fde23(0x334)]({'_id':_0x440fb2['id'],'pushName':_0x440fb2?.['name']||_0x440fb2?.[_0x2fde23(0x445)],'owner':this[_0x2fde23(0x54c)][_0x2fde23(0x482)]});await this['sendDataWebhook'](_0x2fde23(0x43b),_0x552c5f),await this['repository'][_0x2fde23(0x329)][_0x2fde23(0x3d7)](_0x552c5f);},'contacts.update':async(_0x953f51,_0x73c3e4)=>{const _0x1698bd=_0x79abf9;let _0x57e5ce=[];for await(let _0x17d2a0 of _0x953f51)_0x57e5ce['push']({'_id':_0x17d2a0['id'],'pushName':_0x17d2a0?.[_0x1698bd(0x3c7)]??_0x17d2a0?.[_0x1698bd(0x445)],'owner':this['instance'][_0x1698bd(0x482)]});await this[_0x1698bd(0x4b6)]('contacts.update',_0x57e5ce);}},this[_0x79abf9(0x30c)]={'messaging-history.set':async({messages:_0xc43427,chats:_0x3e4619,isLatest:_0x46e71d},_0x2dce43)=>{const _0x8202fc=_0x79abf9;if(_0x46e71d){let _0xae7db4=await Promise[_0x8202fc(0x2ec)](_0x3e4619[_0x8202fc(0x566)](async _0x2f0092=>({'_id':_0x2f0092['id'],'owner':this['instance']['wuid'],'group':_0x2f0092['id'][_0x8202fc(0x48e)](_0x8202fc(0xe5)),'name':_0x2f0092[_0x8202fc(0x3c7)]||_0x2f0092[_0x8202fc(0x5d9)]||null,'contactname':null,'lastmsg':_0x2f0092[_0x8202fc(0x246)]&&_0x2f0092[_0x8202fc(0x246)]['toString']()[_0x8202fc(0x59b)]<0xd?_0x2f0092[_0x8202fc(0x246)]*0x3e8:_0x2f0092['conversationTimestamp']||null,'archived':_0x2f0092[_0x8202fc(0x4e9)]||!0x1,'unreadcount':_0x2f0092[_0x8202fc(0x189)]||0x0})));await this[_0x8202fc(0x4b6)](_0x8202fc(0x463),_0xae7db4),await this[_0x8202fc(0x29b)](_0xae7db4,_0x2dce43);}let _0x32b394=[],_0x59dce1=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x54fd27]of Object[_0x8202fc(0x160)](_0xc43427)){if(_0x54fd27[_0x8202fc(0x5c9)]?.[_0x8202fc(0x37f)]||_0x54fd27[_0x8202fc(0x5c9)]?.['senderKeyDistributionMessage']||!_0x54fd27['message']||_0x54fd27[_0x8202fc(0x465)][_0x8202fc(0x4a8)]===_0x8202fc(0x671)||(ps['default']['isLong'](_0x54fd27?.[_0x8202fc(0x3e3)])&&(_0x54fd27[_0x8202fc(0x3e3)]=_0x54fd27[_0x8202fc(0x3e3)]?.[_0x8202fc(0x215)]()),_0x54fd27[_0x8202fc(0x3e3)]&&_0x54fd27[_0x8202fc(0x3e3)][_0x8202fc(0x3c2)]()[_0x8202fc(0x59b)]<0xd&&(_0x54fd27[_0x8202fc(0x3e3)]=_0x54fd27[_0x8202fc(0x3e3)]*0x3e8),_0x54fd27[_0x8202fc(0x3e3)]<_0x59dce1))continue;let {message_normalized:_0x3b4ca9}=this['normalizeMessage'](_0x54fd27[_0x8202fc(0x5c9)],J(_0x54fd27['message']),null);Object[_0x8202fc(0x3d5)](_0x3b4ca9)[_0x8202fc(0x59b)]>0x0&&_0x32b394[_0x8202fc(0x334)]({'_id':_0x54fd27[_0x8202fc(0x465)]['id'],'key':_0x54fd27['key'],'pushName':_0x54fd27['pushName'],'participant':_0x54fd27[_0x8202fc(0x31f)],'message':{..._0x54fd27['message']},'messageType':J(_0x54fd27[_0x8202fc(0x5c9)]),'message_normalized':{'key':_0x54fd27[_0x8202fc(0x465)],'pushName':_0x54fd27[_0x8202fc(0x631)],'messageTimestamp':_0x54fd27[_0x8202fc(0x3e3)],..._0x3b4ca9},'messageTimestamp':_0x54fd27['messageTimestamp'],'owner':this[_0x8202fc(0x54c)][_0x8202fc(0x482)]});}_0x2dce43['ENABLED']&&_0x32b394[_0x8202fc(0x59b)]>0x0&&(this[_0x8202fc(0x2ad)]['verbose'](this['instanceName']+'\x20('+this[_0x8202fc(0x54c)][_0x8202fc(0x482)]+_0x8202fc(0x2ca)+_0x32b394[_0x8202fc(0x59b)]+'\x20mensagens\x20de\x20'+this[_0x8202fc(0x54c)][_0x8202fc(0x482)]+_0x8202fc(0x609)),await this[_0x8202fc(0x1bf)][_0x8202fc(0x5c9)][_0x8202fc(0x3d7)]([..._0x32b394])),this[_0x8202fc(0x4b6)]('messages.set',[..._0x32b394]),_0xc43427=void 0x0;},'messages.upsert':async({messages:_0x2f6d3a,type:_0x50e568},_0x1393fb)=>{const _0x335885=_0x79abf9;let _0x26348c=_0x2f6d3a[0x0];if(_0x50e568!=='notify'||!_0x26348c?.[_0x335885(0x5c9)]||_0x26348c[_0x335885(0x5c9)]?.[_0x335885(0x37f)]||_0x26348c[_0x335885(0x5c9)][_0x335885(0x66e)]||_0x26348c[_0x335885(0x465)][_0x335885(0x4a8)]===_0x335885(0x671))return;let _0x51a4af=null,_0x1c9b7d=null;try{_0x51a4af=await this[_0x335885(0x4db)](_0x26348c),_0x1c9b7d=_0x51a4af?_0x51a4af['join'](','):null;}catch(_0x3c543e){this['logger'][_0x335885(0x208)](this['instanceName']+'\x20('+this['instance'][_0x335885(0x482)]+_0x335885(0x2ca)+_0x3c543e[_0x335885(0x5c9)]),_0x1c9b7d='error\x20get\x20vote';}if(this[_0x335885(0x2d2)]['sendPresenceUpdate'](_0x335885(0x42d)),ps[_0x335885(0x418)][_0x335885(0x53f)](_0x26348c['messageTimestamp'])&&(_0x26348c[_0x335885(0x3e3)]=_0x26348c[_0x335885(0x3e3)]?.['toNumber']()),this[_0x335885(0xc3)]?.['groups_ignore']&&_0x26348c[_0x335885(0x465)][_0x335885(0x4a8)][_0x335885(0xea)]('@g.us')){this[_0x335885(0x2ad)][_0x335885(0x208)](_0x335885(0x90));return;}_0x26348c['messageTimestamp']&&_0x26348c[_0x335885(0x3e3)][_0x335885(0x3c2)]()[_0x335885(0x59b)]<0xd&&(_0x26348c[_0x335885(0x3e3)]=_0x26348c[_0x335885(0x3e3)]*0x3e8);let _0x1060a2=_0x26348c['message'],{messageContent:_0x5f248e,message_normalized:_0x171b26}=this[_0x335885(0x412)](_0x1060a2,J(_0x26348c[_0x335885(0x5c9)]),_0x1c9b7d);_0x5f248e||console[_0x335885(0x348)](_0x335885(0x45b));let _0x5cdb6c={'_id':_0x26348c[_0x335885(0x465)]['id'],'key':_0x26348c[_0x335885(0x465)],'pushName':_0x26348c[_0x335885(0x631)],'message':{..._0x26348c[_0x335885(0x5c9)]},'messageType':J(_0x26348c[_0x335885(0x5c9)]),'message_normalized':{'key':_0x26348c[_0x335885(0x465)],'pushName':_0x26348c[_0x335885(0x631)],'messageTimestamp':_0x26348c['messageTimestamp'],'source':(0x0,w[_0x335885(0x506)])(_0x26348c[_0x335885(0x465)]['id']),..._0x171b26},'messageTimestamp':_0x26348c[_0x335885(0x3e3)],'owner':this[_0x335885(0x54c)]['wuid']};this['logger'][_0x335885(0x174)](_0x5cdb6c),await this[_0x335885(0x1bf)][_0x335885(0x5c9)][_0x335885(0x3d7)]([_0x5cdb6c]),await this[_0x335885(0x4b6)](_0x335885(0x311),_0x5cdb6c),B(this[_0x335885(0x372)],_0x335885(0x2b2),{'message':_0x5cdb6c}),_0x26348c['key'][_0x335885(0x4a8)]!=='status@broadcast'&&await this[_0x335885(0x351)](_0x1393fb,_0x5cdb6c,'MESSAGES_UPSERT');},'messages.update':async(_0x47ab98,_0x1e8de1)=>{const _0x25012f=_0x79abf9;let _0x52c03c={0x0:'ERROR',0x1:_0x25012f(0x5ac),0x2:_0x25012f(0x5fb),0x3:'DELIVERY_ACK',0x4:_0x25012f(0xa9),0x5:_0x25012f(0x501)};for await(let {key:_0xb86578,update:_0x1522f4}of _0x47ab98){if(this[_0x25012f(0xc3)]?.['groups_ignore']&&_0xb86578[_0x25012f(0x4a8)][_0x25012f(0xea)](_0x25012f(0xe5))){this[_0x25012f(0x2ad)][_0x25012f(0x208)]('group\x20ignored');return;}if(_0xb86578[_0x25012f(0x4a8)]!=='status@broadcast'){let _0x2d50de=Date[_0x25012f(0x572)](),_0x139502;_0x1522f4[_0x25012f(0x5c9)]===null&&_0x1522f4['status']===void 0x0?_0x139502=_0x25012f(0x3ab):_0x139502=_0x52c03c[_0x1522f4['status']];let _0x1594a9=_0xb86578[_0x25012f(0x4a8)][_0x25012f(0xb1)](/:\d{1,2}@/g,'@'),_0x75cc39={..._0xb86578,'remoteJid':_0x1594a9,'status':_0x139502,'datetime':_0x2d50de,'owner':this[_0x25012f(0x54c)]['wuid']};await this[_0x25012f(0x4b6)](_0x25012f(0x29c),_0x75cc39),await this[_0x25012f(0x33c)](_0xb86578,_0x1594a9,_0x75cc39);}}}},this['groupHandler']={'groups.upsert':_0x186663=>{const _0x1b6421=_0x79abf9;this[_0x1b6421(0x4b6)](_0x1b6421(0x49a),_0x186663);},'groups.update':_0x354ea1=>{const _0x2a5912=_0x79abf9;this[_0x2a5912(0x4b6)](_0x2a5912(0x67a),_0x354ea1);},'group-participants.update':_0x12ae0b=>{const _0x494d0a=_0x79abf9;this[_0x494d0a(0x4b6)](_0x494d0a(0x146),_0x12ae0b);}},this['processPollUpdateMessage']=async _0x5993c5=>{const _0x5ae7ec=_0x79abf9;if(_0x5993c5[_0x5ae7ec(0x5c9)]?.[_0x5ae7ec(0x1d2)]){let _0xb2f008=await this[_0x5ae7ec(0x191)](_0x5993c5[_0x5ae7ec(0x5c9)][_0x5ae7ec(0x1d2)][_0x5ae7ec(0x4c4)],!0x0);if(_0xb2f008){let _0x240327=_0xb2f008[_0x5ae7ec(0x465)][_0x5ae7ec(0x19f)]?this[_0x5ae7ec(0x54c)][_0x5ae7ec(0x482)]+_0x5ae7ec(0x1d3):_0xb2f008[_0x5ae7ec(0x465)][_0x5ae7ec(0x31f)]||_0xb2f008[_0x5ae7ec(0x465)]['remoteJid'],_0x13f14f=_0xb2f008[_0x5ae7ec(0x465)]['id'],_0x258894=_0xb2f008['message'],_0x2850cd=Buffer[_0x5ae7ec(0x148)](_0x258894['messageContextInfo'][_0x5ae7ec(0x2e8)][_0x5ae7ec(0x3c2)](_0x5ae7ec(0x1e7)),_0x5ae7ec(0x1e7)),_0x36919d=(0x0,w[_0x5ae7ec(0x244)])(_0x5993c5['message'][_0x5ae7ec(0x1d2)]['vote'],{'pollCreatorJid':_0x240327,'pollMsgId':_0x13f14f,'pollEncKey':_0x2850cd,'voterJid':_0x5993c5[_0x5ae7ec(0x465)][_0x5ae7ec(0x19f)]?this[_0x5ae7ec(0x54c)][_0x5ae7ec(0x482)]+_0x5ae7ec(0x1d3):_0x5993c5[_0x5ae7ec(0x465)]['remoteJid']['endsWith']('g.us')?_0x5993c5[_0x5ae7ec(0x465)][_0x5ae7ec(0x31f)]:_0x5993c5['key']['remoteJid']}),_0xfdba5e=[],_0x2e0f1f=_0x36919d[_0x5ae7ec(0x685)]['map'](_0x453567=>Buffer['from'](_0x453567)[_0x5ae7ec(0x3c2)](_0x5ae7ec(0x1e7)));for(let {optionName:_0x2dbc31}of _0x258894[_0x5ae7ec(0x52b)]?.[_0x5ae7ec(0x1b9)]||_0x258894[_0x5ae7ec(0x58c)]?.['options']||_0x258894[_0x5ae7ec(0x1fa)]?.[_0x5ae7ec(0x1b9)])_0x2e0f1f[_0x5ae7ec(0x3c1)]((0x0,w[_0x5ae7ec(0x252)])(Buffer['from'](_0x2dbc31))[_0x5ae7ec(0x3c2)](_0x5ae7ec(0x1e7)))>-0x1&&_0xfdba5e[_0x5ae7ec(0x334)](_0x2dbc31);return _0xfdba5e;}}return null;},this[_0x79abf9(0x412)]=(_0x4ace34,_0x1d900e,_0x505248)=>{const _0x1e0dcb=_0x79abf9;let _0x48e5df=_0x1d900e?_0x4ace34[_0x1d900e]:void 0x0,_0x392bce={},_0x417724=null,_0x4922b9=null,_0x3610be=null;if(_0x4ace34[_0x1e0dcb(0x2de)]?_0x48e5df=_0x4ace34['viewOnceMessageV2'][_0x1e0dcb(0x5c9)][_0x1d900e]:_0x4ace34[_0x1e0dcb(0x4d5)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0x4d5)][_0x1e0dcb(0x5c9)][_0x1d900e]:_0x4ace34[_0x1e0dcb(0xf1)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0xf1)][_0x1e0dcb(0x5c9)][_0x1d900e]:_0x4ace34[_0x1e0dcb(0x16f)]?.[_0x1e0dcb(0x5c9)]?.[_0x1e0dcb(0x37f)]?.[_0x1e0dcb(0x16f)]?(_0x417724=_0x4ace34['editedMessage']['message'][_0x1e0dcb(0x37f)][_0x1e0dcb(0x465)]['id'],_0x4ace34['editedMessage'][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)][_0x1e0dcb(0x16f)][_0x1e0dcb(0x92)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0x16f)]['message']['protocolMessage'][_0x1e0dcb(0x16f)][_0x1e0dcb(0x92)]:_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)]['protocolMessage'][_0x1e0dcb(0x16f)][_0x1e0dcb(0x3c3)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)]['editedMessage'][_0x1e0dcb(0x3c3)][_0x1e0dcb(0x59e)]:_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)]['editedMessage'][_0x1e0dcb(0x316)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)]['editedMessage'][_0x1e0dcb(0x316)][_0x1e0dcb(0x59e)]:_0x4ace34['editedMessage'][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)][_0x1e0dcb(0x16f)][_0x1e0dcb(0x2cb)]?_0x48e5df=_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)][_0x1e0dcb(0x37f)][_0x1e0dcb(0x16f)]['documentWithCaptionMessage']['message'][_0x1e0dcb(0x1d5)][_0x1e0dcb(0x59e)]:_0x48e5df=_0x4ace34[_0x1e0dcb(0x16f)][_0x1e0dcb(0x5c9)]['protocolMessage'][_0x1e0dcb(0x16f)]):_0x48e5df=_0x4ace34[_0x1d900e],!_0x1d900e||!_0x48e5df)return console[_0x1e0dcb(0x348)](_0x1e0dcb(0x165),_0x4ace34),{'messageType':_0x1d900e,'messageContent':_0x48e5df,'message_normalized':{}};_0x4ace34[_0x1d900e]?.['contextInfo']?.['stanzaId']&&_0x4ace34[_0x1d900e]?.[_0x1e0dcb(0x55e)]?.[_0x1e0dcb(0x324)]&&(_0x4922b9=_0x4ace34[_0x1d900e][_0x1e0dcb(0x55e)][_0x1e0dcb(0x254)]),_0x4ace34[_0x1e0dcb(0x3a2)]&&(_0x3610be=_0x4ace34[_0x1e0dcb(0x3a2)][_0x1e0dcb(0x465)]['id']);let _0x4ff49f;if(_0x48e5df&&typeof _0x48e5df==_0x1e0dcb(0x3f1)&&_0x1e0dcb(0x4c4)in _0x48e5df&&({pollCreationMessageKey:_0x4ff49f}=_0x48e5df),_0x1d900e===_0x1e0dcb(0x2cb)){let _0x40692a=_0x48e5df?.[_0x1e0dcb(0x5c9)]?.[_0x1e0dcb(0x1d5)];_0x40692a&&(_0x48e5df=_0x40692a);}if(_0x1d900e===_0x1e0dcb(0x52b)||_0x1d900e==='pollCreationMessageV2'||_0x1d900e==='pollCreationMessageV3'){let _0x5c2e93=_0x48e5df[_0x1e0dcb(0x1b9)]['map'](_0xb97798=>_0xb97798[_0x1e0dcb(0x664)])[_0x1e0dcb(0x2be)]('|');_0x392bce[_0x1e0dcb(0x5b5)]=_0x5c2e93;}let _0x50bb2e=_0x48e5df[_0x1e0dcb(0x3c7)]||_0x48e5df[_0x1e0dcb(0x59e)]||_0x48e5df[_0x1e0dcb(0x92)]||_0x48e5df[_0x1e0dcb(0x5d9)];if(_0x48e5df[_0x1e0dcb(0x483)]){let _0x32eab7=this[_0x1e0dcb(0x591)](JSON[_0x1e0dcb(0xff)](_0x48e5df[_0x1e0dcb(0x483)],null,0x2));_0x50bb2e=_0x50bb2e+'\x0a'+_0x32eab7;}if(_0x48e5df){let {displayName:_0x568a57,vcard:_0x42aaa8,contactVcard:_0x171da6,name:_0x5da971,caption:_0x145f20,conversation:_0x552877,pollCreationMessageKey:_0x310147,footerText:_0x47869f,contentText:_0x44dbec,pageCount:_0x4fe119,headerType:_0x4512af,isAvatar:_0x5a3fc6,isAnimated:_0x56ee1d,fallbackLc:_0x3f12f9,fallbackLg:_0x250b25,namespace:_0x411310,elementName:_0x192bd9,localizableParams:_0x434b90,viewOnce:_0x2f55f9,height:_0x3555bb,width:_0x1244ce,key:_0x2f0374,firstScanLength:_0x45a8a7,firstScanSidecar:_0x58ae97,gifPlayback:_0x18766b,gifAttribution:_0x341cf3,midQualityFileSha256:_0x2ccd08,scansSidecar:_0x5d4c63,streamingSidecar:_0x1e91a2,thumbnailHeight:_0x4beb6e,thumbnailWidth:_0x4e12e0,thumbnailEncSha256:_0x55420b,thumbnailDirectPath:_0x45d3bd,canonicalUrl:_0x2f5412,matchedText:_0x590f11,previewType:_0x4d88e5,thumbnailSha256:_0x56b21c,deviceListMetadataVersion:_0x56ff59,inviteLinkGroupTypeV2:_0x5cd4df,interactiveAnnotations:_0x4f58ac,scanLengths:_0x37ab00,jpegThumbnail:_0x3fc2ff,url:_0x428816,mediaKeyTimestamp:_0x4f4aa7,waveform:_0x2b114a,stickerSentTs:_0x227f51,firstFrameLength:_0x3369f4,fileEncSha256:_0x492b05,contextInfo:_0x56703d,firstFrameSidecar:_0x3404fd,directPath:_0x3f2172,fileSha256:_0x13a28f,mediaKey:_0x182983,senderTimestampMs:_0x4eb523,..._0x24911f}=_0x48e5df;typeof _0x48e5df==_0x1e0dcb(0x600)?_0x392bce={'text':_0x48e5df,'type':_0x1d900e||_0x1e0dcb(0x92),..._0x417724&&{'edited':_0x417724},..._0x4922b9&&{'quoted':_0x4922b9},..._0x3610be&&{'reaction':_0x3610be}}:_0x392bce={'text':_0x50bb2e,..._0x24911f,..._0x1d900e===_0x1e0dcb(0x1d2)?{'poll_id':_0x48e5df[_0x1e0dcb(0x4c4)]['id'],'vote':_0x505248}:{},'type':_0x1d900e,..._0x417724&&{'edited':_0x417724},..._0x4922b9&&{'quoted':_0x4922b9},..._0x3610be&&{'reaction':_0x3610be},...(_0x1d900e===_0x1e0dcb(0x52b)||_0x1d900e===_0x1e0dcb(0x1fa)||_0x1d900e===_0x1e0dcb(0x58c))&&{'convertedOptions':_0x392bce[_0x1e0dcb(0x5b5)]}};}return{'messageType':_0x1d900e,'messageContent':_0x48e5df,'message_normalized':_0x392bce};},this[_0x79abf9(0x4b8)]=null,this[_0x79abf9(0xa8)]=0x0,(this[_0x79abf9(0xd8)](),this['instance'][_0x79abf9(0x310)]={'count':0x0});}set[a0_0x2caf34(0x372)](_0x3acad9){const _0x59deeb=a0_0x2caf34;if(!_0x3acad9){this['instance']['name']=(0x0,Xa['v4'])();return;}this['instance'][_0x59deeb(0x3c7)]=_0x3acad9,this['sendDataWebhook'](_0x59deeb(0x2e3),{'instance':this[_0x59deeb(0x54c)][_0x59deeb(0x3c7)],'status':_0x59deeb(0x281)});}get[a0_0x2caf34(0x372)](){const _0x45f05d=a0_0x2caf34;return this[_0x45f05d(0x54c)][_0x45f05d(0x3c7)];}get['wuid'](){const _0x5cdf5a=a0_0x2caf34;return this[_0x5cdf5a(0x54c)]['wuid'];}async[a0_0x2caf34(0x45d)](){const _0x59960b=a0_0x2caf34;let _0x55d8a3=this[_0x59960b(0x2d2)][_0x59960b(0x1e1)]?.[_0x59960b(0x3c7)]??this['client'][_0x59960b(0x1e1)]?.[_0x59960b(0x445)];if(!_0x55d8a3){if(this[_0x59960b(0xf2)][_0x59960b(0x54d)](_0x59960b(0x293))[_0x59960b(0x481)]){let _0x5421e=await M[_0x59960b(0x107)]()['db'](this['configService'][_0x59960b(0x54d)](_0x59960b(0x293))['CONNECTION'][_0x59960b(0x4bb)]+_0x59960b(0x56f))['collection'](this[_0x59960b(0x372)])['findOne']({'_id':_0x59960b(0x26e)});if(_0x5421e){let _0x19461c=JSON[_0x59960b(0x44d)](JSON[_0x59960b(0xff)](_0x5421e),w[_0x59960b(0x14f)]['reviver']);_0x55d8a3=_0x19461c['me']?.[_0x59960b(0x3c7)]||_0x19461c['me']?.[_0x59960b(0x445)];}}else{if((0x0,Te['existsSync'])((0x0,$[_0x59960b(0x2be)])(V,this[_0x59960b(0x372)],_0x59960b(0x447)))){let _0x5f5988=JSON[_0x59960b(0x44d)]((0x0,Te[_0x59960b(0x3be)])((0x0,$[_0x59960b(0x2be)])(V,this[_0x59960b(0x372)],'creds.json'),{'encoding':'utf-8'}));_0x55d8a3=_0x5f5988['me']?.[_0x59960b(0x3c7)]||_0x5f5988['me']?.[_0x59960b(0x445)];}}}return _0x55d8a3;}get[a0_0x2caf34(0xf6)](){const _0x26cde8=a0_0x2caf34;return this[_0x26cde8(0x54c)][_0x26cde8(0xf6)];}get['qrCode'](){const _0x4751dd=a0_0x2caf34;return{'code':this[_0x4751dd(0x54c)][_0x4751dd(0x310)]?.[_0x4751dd(0x5a0)],'base64':this[_0x4751dd(0x54c)][_0x4751dd(0x310)]?.['base64']};}async[a0_0x2caf34(0x5b7)](){const _0x4cd2b0=a0_0x2caf34;let _0x208fcc=await this[_0x4cd2b0(0x1bf)][_0x4cd2b0(0x4e6)][_0x4cd2b0(0x504)](this[_0x4cd2b0(0x372)]);this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x61d)]=_0x208fcc?.[_0x4cd2b0(0x61d)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x34f)]=_0x208fcc?.[_0x4cd2b0(0x34f)],this['localWebhook'][_0x4cd2b0(0x15c)]=_0x208fcc?.[_0x4cd2b0(0x15c)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x24e)]=_0x208fcc?.[_0x4cd2b0(0x24e)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x4de)]=_0x208fcc?.[_0x4cd2b0(0x4de)],this[_0x4cd2b0(0xc3)]['SEND_MESSAGE']=_0x208fcc?.[_0x4cd2b0(0x531)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x65d)]=_0x208fcc?.[_0x4cd2b0(0x65d)],this[_0x4cd2b0(0xc3)]['MESSAGES_UPDATE']=_0x208fcc?.[_0x4cd2b0(0x317)],this[_0x4cd2b0(0xc3)]['GROUPS_UPSERT']=_0x208fcc?.[_0x4cd2b0(0x3d3)],this['localWebhook'][_0x4cd2b0(0x494)]=_0x208fcc?.[_0x4cd2b0(0x494)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x612)]=_0x208fcc?.[_0x4cd2b0(0x612)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x1ef)]=_0x208fcc?.[_0x4cd2b0(0x1ef)],this[_0x4cd2b0(0xc3)]['CHATS_UPSERT']=_0x208fcc?.['CHATS_UPSERT'],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x3bb)]=_0x208fcc?.['CHATS_UPDATE'],this['localWebhook']['CHATS_DELETE']=_0x208fcc?.[_0x4cd2b0(0x667)],this['localWebhook'][_0x4cd2b0(0x5d2)]=_0x208fcc?.['CONTACTS_SET'],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x5e2)]=_0x208fcc?.[_0x4cd2b0(0x5e2)],this[_0x4cd2b0(0xc3)]['CONTACTS_UPDATE']=_0x208fcc?.[_0x4cd2b0(0x2d7)],this['localWebhook'][_0x4cd2b0(0x47b)]=_0x208fcc?.[_0x4cd2b0(0x47b)],this['localWebhook'][_0x4cd2b0(0x330)]=_0x208fcc?.[_0x4cd2b0(0x330)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x10a)]=_0x208fcc?.[_0x4cd2b0(0x10a)],this[_0x4cd2b0(0xc3)][_0x4cd2b0(0x1da)]=_0x208fcc?.[_0x4cd2b0(0x1da)];}async[a0_0x2caf34(0x4bd)](_0x156b37){const _0x12ab4c=a0_0x2caf34;let _0x450a23=[_0x12ab4c(0x4da),'url',_0x12ab4c(0x34f),_0x12ab4c(0x15c),'STATUS_INSTANCE',_0x12ab4c(0x4de),_0x12ab4c(0x317),_0x12ab4c(0x65d),'SEND_MESSAGE','GROUPS_UPSERT',_0x12ab4c(0x494),_0x12ab4c(0x612),_0x12ab4c(0x1ef),_0x12ab4c(0x4f3),_0x12ab4c(0x3bb),'CHATS_DELETE',_0x12ab4c(0x5d2),_0x12ab4c(0x5e2),_0x12ab4c(0x2d7),'PRESENCE_UPDATE','MESSAGES_SET','CONNECTION_UPDATE',_0x12ab4c(0x1da)],_0x50b004={};return _0x450a23['forEach'](_0x1a419a=>{_0x156b37[_0x1a419a]!==void 0x0&&(_0x50b004[_0x1a419a]=_0x156b37[_0x1a419a]);}),await this[_0x12ab4c(0x1bf)]['webhook'][_0x12ab4c(0x333)](_0x50b004,this[_0x12ab4c(0x372)]),Object[_0x12ab4c(0x1a9)](this[_0x12ab4c(0xc3)],_0x50b004),await this[_0x12ab4c(0x1bf)][_0x12ab4c(0x4e6)][_0x12ab4c(0x504)](this[_0x12ab4c(0x372)]);}async[a0_0x2caf34(0x550)](){const _0x2ab083=a0_0x2caf34;return await this['repository'][_0x2ab083(0x4e6)][_0x2ab083(0x504)](this[_0x2ab083(0x372)]);}async[a0_0x2caf34(0x4b6)](_0x51e45a,_0x432a23){const _0x2ee0cc=a0_0x2caf34;let _0x48cce0=this[_0x2ee0cc(0xf2)][_0x2ee0cc(0x54d)](_0x2ee0cc(0x286)),_0x3634bb=_0x51e45a['replace'](/[\.-]/gm,'_')[_0x2ee0cc(0x3ba)](),_0x5d42f1=this[_0x2ee0cc(0xc3)][_0x2ee0cc(0x34f)]&&(0x0,O[_0x2ee0cc(0x14e)])(this[_0x2ee0cc(0xc3)][_0x2ee0cc(0x61d)])?this['localWebhook'][_0x2ee0cc(0x61d)]+(this[_0x2ee0cc(0xc3)][_0x2ee0cc(0x15c)]?this[_0x2ee0cc(0x298)][_0x51e45a]:''):null,_0xe056bc=_0x48cce0?.[_0x2ee0cc(0x3bd)],_0xb9bd0=_0xe056bc&&_0xe056bc?.[_0x2ee0cc(0x481)]&&(0x0,O[_0x2ee0cc(0x14e)])(_0xe056bc[_0x2ee0cc(0x28b)])?_0xe056bc['URL']+(_0x48cce0[_0x2ee0cc(0xc1)]?this[_0x2ee0cc(0x298)][_0x51e45a]:''):null,_0x4648a2=this[_0x2ee0cc(0xc3)][_0x3634bb],_0x4735f3=_0x48cce0?.[_0x2ee0cc(0x488)]?.[_0x3634bb];if(_0x4648a2&&_0x5d42f1)try{await ne['default'][_0x2ee0cc(0x333)]({'baseURL':_0x5d42f1})[_0x2ee0cc(0x4d3)]('',{'event':_0x51e45a,'instance':this[_0x2ee0cc(0x54c)][_0x2ee0cc(0x3c7)],'data':_0x432a23}),this['logger'][_0x2ee0cc(0x174)](_0x2ee0cc(0xd7)+_0x51e45a+':\x20'+_0x5d42f1);}catch(_0x371988){this[_0x2ee0cc(0x2ad)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2ee0cc(0x2ca)+{'local':c[_0x2ee0cc(0x3c7)]+_0x2ee0cc(0x1c0),'message':_0x371988?.[_0x2ee0cc(0x5c9)],'hostName':_0x371988?.[_0x2ee0cc(0x3d8)],'syscall':_0x371988?.[_0x2ee0cc(0x675)],'code':_0x371988?.[_0x2ee0cc(0x5a0)],'error':_0x371988?.['errno'],'stack':_0x371988?.[_0x2ee0cc(0x279)],'name':_0x371988?.['name']});}if(_0x4735f3&&_0xb9bd0)try{await ne[_0x2ee0cc(0x418)]['create']({'baseURL':_0xb9bd0})['post']('',{'event':_0x51e45a,'instance':this[_0x2ee0cc(0x54c)][_0x2ee0cc(0x3c7)],'data':_0x432a23}),this[_0x2ee0cc(0x2ad)]['log'](_0x2ee0cc(0x51c)+_0x51e45a+':\x20'+_0xb9bd0);}catch(_0x1a2674){this['logger']['error'](this[_0x2ee0cc(0x372)]+'\x20('+this[_0x2ee0cc(0x54c)][_0x2ee0cc(0x482)]+_0x2ee0cc(0x2ca)+{'local':c[_0x2ee0cc(0x3c7)]+'.sendDataWebhook-global','message':_0x1a2674?.['message'],'hostName':_0x1a2674?.['hostname'],'syscall':_0x1a2674?.[_0x2ee0cc(0x675)],'code':_0x1a2674?.[_0x2ee0cc(0x5a0)],'error':_0x1a2674?.[_0x2ee0cc(0x496)],'stack':_0x1a2674?.[_0x2ee0cc(0x279)],'name':_0x1a2674?.[_0x2ee0cc(0x3c7)]});}}async[a0_0x2caf34(0x13c)]({qr:_0x1440d1,connection:_0x58bb02,lastDisconnect:_0x14b6c9}){const _0x470591=a0_0x2caf34;if(_0x1440d1){if(this[_0x470591(0x54c)][_0x470591(0x310)]['count']===this[_0x470591(0xf2)][_0x470591(0x54d)](_0x470591(0x255))[_0x470591(0xb8)])return this[_0x470591(0x4b6)](_0x470591(0x15b),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x470591(0x479)]['badSession']}),this[_0x470591(0x4b6)](_0x470591(0x4dd),{'instance':this[_0x470591(0x54c)][_0x470591(0x3c7)],'state':_0x470591(0xdc),'statusReason':w[_0x470591(0x479)][_0x470591(0x253)]}),this[_0x470591(0x4b6)](_0x470591(0x2e3),{'instance':this['instance']['name'],'status':_0x470591(0x112)}),this[_0x470591(0x361)]=!0x0,this[_0x470591(0x4ea)][_0x470591(0xf0)](_0x470591(0x15e),this[_0x470591(0x54c)][_0x470591(0x3c7)]);this['instance'][_0x470591(0x310)][_0x470591(0x437)]++;let _0x5e76ed={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Za[_0x470591(0x418)]['toDataURL'](_0x1440d1,_0x5e76ed,(_0x5f1744,_0x592c7d)=>{const _0x2bace4=_0x470591;if(_0x5f1744){this[_0x2bace4(0x2ad)]['error'](this['instanceName']+'\x20('+this[_0x2bace4(0x54c)]['wuid']+_0x2bace4(0x2c4)+_0x5f1744['toString']());return;}this[_0x2bace4(0x54c)][_0x2bace4(0x310)][_0x2bace4(0x560)]=_0x592c7d,this[_0x2bace4(0x54c)]['qrcode'][_0x2bace4(0x5a0)]=_0x1440d1,this['sendDataWebhook'](_0x2bace4(0x15b),{'qrcode':{'instance':this[_0x2bace4(0x54c)][_0x2bace4(0x3c7)],'code':_0x1440d1,'base64':_0x592c7d}});}),eo[_0x470591(0x418)][_0x470591(0x365)](_0x1440d1,{'small':!0x0},_0x311a93=>this['logger'][_0x470591(0x174)](_0x470591(0x598)+this[_0x470591(0x54c)][_0x470591(0x3c7)]+_0x470591(0x3a8)+this['instance'][_0x470591(0x310)][_0x470591(0x437)]+_0x470591(0x391)+_0x311a93));}if(_0x58bb02&&(this[_0x470591(0x58d)]={'state':_0x58bb02,'statusReason':_0x14b6c9?.['error']?.[_0x470591(0x4b1)]?.[_0x470591(0x306)]??0xc8},this[_0x470591(0x4b6)](_0x470591(0x4dd),{'instance':this[_0x470591(0x54c)][_0x470591(0x3c7)],...this['stateConnection']})),_0x58bb02==='close'){if(this[_0x470591(0x305)]++,this[_0x470591(0x11c)][_0x470591(0x334)](Date[_0x470591(0x572)]()),this[_0x470591(0x11c)]=this[_0x470591(0x11c)][_0x470591(0x356)](_0x58f409=>Date[_0x470591(0x572)]()-_0x58f409<this[_0x470591(0x5c0)]),_0x14b6c9[_0x470591(0x348)]?.[_0x470591(0x4b1)]?.[_0x470591(0x306)]!==w['DisconnectReason'][_0x470591(0x48d)]&&this[_0x470591(0x11c)][_0x470591(0x59b)]<=this[_0x470591(0x20a)])await this['connectToWhatsapp']();else{this[_0x470591(0x4b6)](_0x470591(0x2e3),{'instance':this['instance']['name'],'status':'removed'}),this[_0x470591(0x1e6)]=!0x1;try{this[_0x470591(0x2ad)][_0x470591(0x208)](this[_0x470591(0x372)]+'\x20('+this[_0x470591(0x54c)][_0x470591(0x482)]+_0x470591(0x55c));let _0x30984e=await this['repository'][_0x470591(0x5c9)][_0x470591(0x52d)](this[_0x470591(0x54c)]['wuid']);_0x30984e[_0x470591(0x387)]?this['logger'][_0x470591(0x208)](this[_0x470591(0x372)]+'\x20('+this[_0x470591(0x54c)][_0x470591(0x482)]+_0x470591(0xfb)):console[_0x470591(0x348)](_0x470591(0x603),_0x30984e['error']);}catch(_0x30e760){console[_0x470591(0x348)](_0x470591(0x61c),_0x30e760);}this[_0x470591(0xbd)]!==null&&(this[_0x470591(0x2ad)][_0x470591(0x208)](this['instanceName']+'\x20('+this[_0x470591(0x54c)][_0x470591(0x482)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x470591(0xbd)]),this[_0x470591(0xbd)]=null),this[_0x470591(0x2ad)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x470591(0x482)]+_0x470591(0x266)),this['AutomateSystem']=null,this[_0x470591(0x4ea)]['emit'](_0x470591(0x308),this[_0x470591(0x54c)]['name'],'inner'),this[_0x470591(0x2d2)]?.['ws']?.[_0x470591(0x613)](),this['client'][_0x470591(0xb6)](new Error(_0x470591(0x402)));}}if(_0x58bb02===_0x470591(0x35b)){this[_0x470591(0x46a)],this[_0x470591(0x54c)]['wuid']=this[_0x470591(0x2d2)][_0x470591(0x1e1)]['id']['replace'](/:\d+/,'')[_0x470591(0xb1)](_0x470591(0x1d3),''),this['instance'][_0x470591(0xf6)]=(await this['profilePicture'](this[_0x470591(0x54c)][_0x470591(0x482)]+_0x470591(0x1d3)))['profilePictureUrl'];let _0x24b3f6=_0x470591(0x459)+this[_0x470591(0x54c)]['wuid'],_0x2d56fc=0x28,_0x873fc2=Math['floor']((_0x2d56fc-_0x24b3f6[_0x470591(0x59b)])/0x2),_0x11a3ea='\x20'[_0x470591(0x5af)](_0x873fc2),_0x404072=_0x470591(0xae),_0x5a1207=_0x470591(0x26b)+this[_0x470591(0x54c)][_0x470591(0x3c7)],_0x5f0f01=(''+_0x11a3ea+_0x24b3f6+_0x11a3ea)[_0x470591(0x4a3)](_0x2d56fc,'\x20'),_0x21791c=(''+_0x11a3ea+_0x404072+_0x11a3ea)[_0x470591(0x4a3)](_0x2d56fc,'\x20'),_0x1d1ff2=(''+_0x11a3ea+_0x5a1207+_0x11a3ea)[_0x470591(0x4a3)](_0x2d56fc,'\x20'),_0x344477=Math[_0x470591(0x524)](_0x5f0f01[_0x470591(0x59b)],_0x21791c[_0x470591(0x59b)],_0x1d1ff2[_0x470591(0x59b)]),_0x4c3d5c=_0x5f0f01[_0x470591(0x4a3)](_0x344477,'\x20'),_0x448841=_0x21791c[_0x470591(0x4a3)](_0x344477,'\x20'),_0x5aae7b=_0x1d1ff2[_0x470591(0x4a3)](_0x344477,'\x20');this['logger'][_0x470591(0x67b)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x344477)+_0x470591(0x1b6)+_0x448841+_0x470591(0x577)+_0x5aae7b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4c3d5c+_0x470591(0x424)+'─'[_0x470591(0x5af)](_0x344477)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x470591(0x4a5)](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x4e749a=a0_0x2caf34;this[_0x4e749a(0x305)]=0x0,this[_0x4e749a(0x11c)]=[];}async[a0_0x2caf34(0x191)](_0x51163e,_0x1c0749=!0x1){const _0x4ba541=a0_0x2caf34;try{let _0x477803=await this[_0x4ba541(0x1bf)]['message'][_0x4ba541(0x504)]({'where':{'owner':this[_0x4ba541(0x54c)][_0x4ba541(0x482)],'_id':_0x51163e['id']}});return _0x1c0749?_0x477803[0x0]:_0x477803[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x491186=a0_0x2caf34;let _0x36116f=this['configService'][_0x491186(0x54d)](_0x491186(0x1a0)),_0x85b284=this[_0x491186(0xf2)][_0x491186(0x54d)](_0x491186(0x293));_0x36116f?.['CLEANING_INTERVAL']&&!_0x85b284['ENABLED']&&setInterval(()=>{const _0x3a5adb=_0x491186;try{for(let [_0x569bab,_0x1c46dd]of Object[_0x3a5adb(0x160)](_0x36116f))_0x1c46dd===!0x0&&(0x0,Dt[_0x3a5adb(0x5c1)])(_0x3a5adb(0x63e)+(0x0,$[_0x3a5adb(0x2be)])(this['storePath'],_0x569bab[_0x3a5adb(0x28c)](),this[_0x3a5adb(0x54c)][_0x3a5adb(0x482)])+_0x3a5adb(0x593));}catch{}},(_0x36116f?.[_0x491186(0x23d)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4ac8f3=a0_0x2caf34;let _0x2b6547=this[_0x4ac8f3(0xf2)][_0x4ac8f3(0x54d)]('DATABASE'),_0x3d3b90=this[_0x4ac8f3(0xf2)][_0x4ac8f3(0x54d)](_0x4ac8f3(0x3e1));return _0x3d3b90?.[_0x4ac8f3(0x481)]?await ds(_0x3d3b90,this[_0x4ac8f3(0x54c)][_0x4ac8f3(0x3c7)]):_0x2b6547[_0x4ac8f3(0x481)]?await us(this[_0x4ac8f3(0x54c)][_0x4ac8f3(0x3c7)]):await(0x0,w['useMultiFileAuthState'])((0x0,$[_0x4ac8f3(0x2be)])(V,this[_0x4ac8f3(0x54c)][_0x4ac8f3(0x3c7)]));}async['AutomateFunctions'](){const _0x122481=a0_0x2caf34;let _0x39c946=()=>Math[_0x122481(0x4ae)](Math[_0x122481(0x5ca)]()*0x2711)+0x7d0,_0x4ce82c=async()=>{const _0x5888ef=_0x122481;if(!this['isConnected']){this[_0x5888ef(0x2ad)][_0x5888ef(0x208)](_0x5888ef(0x11f)),this[_0x5888ef(0x2a1)]=!0x1;return;}if(this[_0x5888ef(0x54c)][_0x5888ef(0x482)]&&this[_0x5888ef(0x60c)]&&this[_0x5888ef(0xbd)]!==null&&this[_0x5888ef(0xbd)]!==void 0x0){let _0x51a1ed=Math[_0x5888ef(0x250)](this[_0x5888ef(0xbd)]/0xea60);this[_0x5888ef(0x2ad)][_0x5888ef(0x208)](this[_0x5888ef(0x372)]+'\x20('+this[_0x5888ef(0x54c)]['wuid']+_0x5888ef(0x257)+_0x51a1ed+_0x5888ef(0x5de)),this['isRunning']=!0x1;return;}else this[_0x5888ef(0x54c)][_0x5888ef(0x482)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5888ef(0x54c)][_0x5888ef(0x482)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x5888ef(0xbd)]===null||this[_0x5888ef(0xbd)]===void 0x0)&&await this[_0x5888ef(0xd5)]());if(this[_0x5888ef(0x2a1)]){let _0x2dee07=_0x39c946();this[_0x5888ef(0x2ad)][_0x5888ef(0x208)](this[_0x5888ef(0x372)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2dee07/0x3e8+_0x5888ef(0x607)),setTimeout(_0x4ce82c,_0x2dee07);}};if(this['isRunning'])return;this[_0x122481(0x2a1)]=!0x0;let _0x279ebf=_0x39c946();setTimeout(_0x4ce82c,_0x279ebf);}async['connectToWhatsapp'](){const _0x84c379=a0_0x2caf34;try{this[_0x84c379(0x5b7)](),this[_0x84c379(0x54c)][_0x84c379(0x338)]=await this[_0x84c379(0x106)]();let {version:_0x416eb7}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x21222b=this[_0x84c379(0xf2)][_0x84c379(0x54d)](_0x84c379(0x16b)),_0x1f7cee=[_0x21222b[_0x84c379(0x3a0)],_0x21222b[_0x84c379(0x41f)],(0x0,to[_0x84c379(0x18b)])()],_0x3e842f={'auth':{'creds':this['instance']['authState'][_0x84c379(0x423)][_0x84c379(0x26e)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x84c379(0x54c)][_0x84c379(0x338)][_0x84c379(0x423)][_0x84c379(0x3d5)],(0x0,Rt[_0x84c379(0x418)])({'level':_0x84c379(0x348)}))},'logger':(0x0,Rt[_0x84c379(0x418)])({'level':_0x84c379(0x348)}),'printQRInTerminal':!0x1,'browser':_0x1f7cee,'version':_0x416eb7,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0xa66225=>await this[_0x84c379(0x191)](_0xa66225),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x84c379(0xa6)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x351d8e=>(!!(_0x351d8e[_0x84c379(0x17c)]||_0x351d8e[_0x84c379(0xc4)])&&(_0x351d8e={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x351d8e}}}),_0x351d8e)};return this['endSession']=!0x1,this[_0x84c379(0x2d2)]=(0x0,w[_0x84c379(0x418)])(_0x3e842f),this[_0x84c379(0x3c5)](),this[_0x84c379(0x2d2)];}catch(_0x1a1f97){throw this[_0x84c379(0x2ad)][_0x84c379(0x348)](this[_0x84c379(0x372)]+'\x20('+this['instance'][_0x84c379(0x482)]+_0x84c379(0x2ca)+_0x1a1f97),new A(_0x1a1f97?.[_0x84c379(0x3c2)]());}}[a0_0x2caf34(0x3c5)](){const _0x1997b0=a0_0x2caf34;this[_0x1997b0(0x2d2)]['ev'][_0x1997b0(0x416)](_0x3e236d=>{const _0x38e9d0=_0x1997b0;if(!this[_0x38e9d0(0x361)]){let _0x4c3d7d=this[_0x38e9d0(0xf2)][_0x38e9d0(0x54d)]('DATABASE');if(_0x3e236d[_0x38e9d0(0x4dd)]&&this['connectionUpdate'](_0x3e236d[_0x38e9d0(0x4dd)]),_0x3e236d['creds.update']&&this[_0x38e9d0(0x54c)]['authState']['saveCreds'](),_0x3e236d[_0x38e9d0(0x3fa)]){let _0x351a02=_0x3e236d[_0x38e9d0(0x3fa)];this[_0x38e9d0(0x30c)][_0x38e9d0(0x3fa)](_0x351a02,_0x4c3d7d);}if(_0x3e236d[_0x38e9d0(0x311)]){let _0x28c965=_0x3e236d['messages.upsert'];this[_0x38e9d0(0x30c)][_0x38e9d0(0x311)](_0x28c965,_0x4c3d7d);}if(_0x3e236d[_0x38e9d0(0x29c)]){let _0x428660=_0x3e236d[_0x38e9d0(0x29c)];this['messageHandle']['messages.update'](_0x428660,_0x4c3d7d);}if(_0x3e236d[_0x38e9d0(0x63b)]){let _0xef30aa=_0x3e236d['presence.update'];if(this[_0x38e9d0(0xc3)]?.[_0x38e9d0(0x1da)]&&_0xef30aa['id'][_0x38e9d0(0xea)](_0x38e9d0(0xe5)))return;this[_0x38e9d0(0x4b6)](_0x38e9d0(0x63b),_0xef30aa);}if(!this['localWebhook']?.[_0x38e9d0(0x1da)]){if(_0x3e236d[_0x38e9d0(0x49a)]){let _0x479716=_0x3e236d[_0x38e9d0(0x49a)];this[_0x38e9d0(0x315)]['groups.upsert'](_0x479716);}if(_0x3e236d['groups.update']){let _0x4752e3=_0x3e236d['groups.update'];this[_0x38e9d0(0x315)]['groups.update'](_0x4752e3);}if(_0x3e236d[_0x38e9d0(0x146)]){let _0x2415a4=_0x3e236d[_0x38e9d0(0x146)];this[_0x38e9d0(0x315)][_0x38e9d0(0x146)](_0x2415a4);}}if(_0x3e236d['chats.upsert']){let _0x2c3a20=_0x3e236d[_0x38e9d0(0x97)];this[_0x38e9d0(0x169)][_0x38e9d0(0x97)](_0x2c3a20,_0x4c3d7d);}if(_0x3e236d[_0x38e9d0(0x4df)]){let _0x4951a2=_0x3e236d[_0x38e9d0(0x4df)];this['chatHandle'][_0x38e9d0(0x4df)](_0x4951a2,_0x4c3d7d);}if(_0x3e236d[_0x38e9d0(0x652)]){let _0x5bb3ff=_0x3e236d[_0x38e9d0(0x652)];this[_0x38e9d0(0x169)][_0x38e9d0(0x652)](_0x5bb3ff);}if(_0x3e236d[_0x38e9d0(0x43b)]){let _0x15427f=_0x3e236d[_0x38e9d0(0x43b)];this[_0x38e9d0(0x617)]['contacts.upsert'](_0x15427f,_0x4c3d7d);}if(_0x3e236d['contacts.update']){let _0x19f899=_0x3e236d['contacts.update'];this[_0x38e9d0(0x617)][_0x38e9d0(0x3ad)](_0x19f899,_0x4c3d7d);}}});}[a0_0x2caf34(0x120)](_0x2e4bed){const _0x24d4c2=a0_0x2caf34;let _0x54092e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x24d4c2(0x3d1)](_0x2e4bed);if(_0x54092e&&_0x54092e[0x1]==='55'){let _0x54aab4=_0x54092e[0x2],_0x3da5a1=_0x54092e[0x3],_0x2875be=_0x54092e[0x4];if(_0x54aab4>='31'&&_0x3da5a1==='9')return _0x54092e[0x1]+_0x54aab4+_0x2875be;}return _0x2e4bed;}[a0_0x2caf34(0x205)](_0x362db3){const _0x113c0b=a0_0x2caf34;return _0x362db3[_0x113c0b(0xea)](_0x113c0b(0xe5))||_0x362db3['includes'](_0x113c0b(0x1d3))||_0x362db3[_0x113c0b(0xea)](_0x113c0b(0x270))?_0x362db3:(_0x362db3=_0x362db3?.[_0x113c0b(0xb1)](/\s/g,'')[_0x113c0b(0xb1)](/\+/g,'')[_0x113c0b(0xb1)](/\(/g,'')[_0x113c0b(0xb1)](/\)/g,'')[_0x113c0b(0x226)](/\:/)[0x0]['split']('@')[0x0],_0x362db3[_0x113c0b(0x59b)]>=0x12?(_0x362db3=_0x362db3['replace'](/[^\d-]/g,''),_0x362db3+_0x113c0b(0xe5)):(_0x362db3=_0x362db3[_0x113c0b(0xb1)](/\D/g,''),this['formatBRNumber'](_0x362db3)+_0x113c0b(0x1d3)));}async[a0_0x2caf34(0x60a)](_0x35ad9f){const _0x3ed457=a0_0x2caf34;let _0x35d38b=this[_0x3ed457(0x205)](_0x35ad9f[_0x3ed457(0x487)]),_0x325aa4=(await this[_0x3ed457(0x2fb)]({'numbers':[_0x35d38b]}))[0x0];if(!_0x325aa4[_0x3ed457(0x3ac)]&&!(0x0,w[_0x3ed457(0x29a)])(_0x325aa4[_0x3ed457(0x3e9)]))throw new g(_0x325aa4);let _0xb99599=(0x0,w[_0x3ed457(0x29a)])(_0x35d38b)?_0x35d38b:_0x325aa4[_0x3ed457(0x3e9)];if((0x0,w[_0x3ed457(0x29a)])(_0xb99599))try{await this[_0x3ed457(0x2d2)][_0x3ed457(0x662)](_0xb99599);}catch{throw new x(_0x3ed457(0x49f));}try{return await this[_0x3ed457(0x2d2)][_0x3ed457(0x4cd)](_0xb99599),await this[_0x3ed457(0x2d2)][_0x3ed457(0x22f)](_0x35ad9f[_0x3ed457(0x682)],_0x35d38b),{'status':0xc8,'presence':_0x35ad9f[_0x3ed457(0x682)]};}catch(_0x6acf38){throw new g(_0x6acf38[_0x3ed457(0x3c2)]());}}async[a0_0x2caf34(0x3dc)](_0x519bda){const _0x3a6da8=a0_0x2caf34;let _0x4ac53b=this[_0x3a6da8(0x205)](_0x519bda);try{return{'wuid':_0x4ac53b,'profilePictureUrl':await this[_0x3a6da8(0x2d2)][_0x3a6da8(0xf6)](_0x4ac53b,'image')};}catch{return{'wuid':_0x4ac53b,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x3b6aa1,_0x15c6fc,_0x5011fd){const _0x4ded51=a0_0x2caf34;let _0x4bfaca=(await this[_0x4ded51(0x2fb)]({'numbers':[_0x3b6aa1]}))[0x0];if(!_0x4bfaca[_0x4ded51(0x3ac)]&&!(0x0,w[_0x4ded51(0x29a)])(_0x4bfaca['jid'])&&!_0x4bfaca['jid']['includes']('@broadcast'))throw new g(_0x4bfaca);let _0x4005d6=_0x4bfaca['jid'];try{_0x5011fd?.['delay']&&(await this[_0x4ded51(0x2d2)][_0x4ded51(0x4cd)](_0x4005d6),await this[_0x4ded51(0x2d2)][_0x4ded51(0x22f)](_0x5011fd?.[_0x4ded51(0x682)]??_0x4ded51(0x20c),_0x4005d6),await(0x0,w[_0x4ded51(0x42e)])(_0x5011fd['delay']),await this[_0x4ded51(0x2d2)][_0x4ded51(0x22f)](_0x4ded51(0x1e4),_0x4005d6));let _0x212426=_0x5011fd?.[_0x4ded51(0x2f1)]!=!0x1?void 0x0:!0x1,_0x3a3293;if(_0x5011fd?.[_0x4ded51(0x651)]){let _0x76820c=_0x5011fd?.[_0x4ded51(0x651)],_0x1fdbd7=_0x76820c?.['message']?_0x76820c:await this[_0x4ded51(0x191)](_0x76820c[_0x4ded51(0x465)],!0x0);if(!_0x1fdbd7)throw _0x4ded51(0x1a3);_0x3a3293=_0x1fdbd7;}let _0xfb79fb;if((0x0,w['isJidGroup'])(_0x4005d6))try{let _0x2510e7=await this[_0x4ded51(0x2d2)]['groupMetadata'](_0x4005d6);if(!_0x2510e7)throw new x(_0x4ded51(0x49f));_0x5011fd?.[_0x4ded51(0x198)]&&(_0x5011fd[_0x4ded51(0x198)]?.['everyOne']?_0xfb79fb=_0x2510e7['participants'][_0x4ded51(0x566)](_0x21296b=>_0x21296b['id']):_0x5011fd[_0x4ded51(0x198)]?.['mentioned']?.[_0x4ded51(0x59b)]&&(_0xfb79fb=_0x5011fd[_0x4ded51(0x198)][_0x4ded51(0x5c8)][_0x4ded51(0x566)](_0x1511a2=>{const _0x14b366=_0x4ded51;let _0x3e1e0a=this[_0x14b366(0x205)](_0x1511a2);return(0x0,w[_0x14b366(0x29a)])(_0x3e1e0a)?null:_0x3e1e0a;})));}catch{throw new x(_0x4ded51(0x49f));}let _0xd10f0e=await((async()=>{const _0x3fad29=_0x4ded51;let _0x3ef2b0={'quoted':_0x3a3293};if(!_0x15c6fc[_0x3fad29(0x44e)]&&!_0x15c6fc['poll']&&!_0x15c6fc[_0x3fad29(0x9f)]&&!_0x15c6fc[_0x3fad29(0x92)]&&_0x4005d6!==_0x3fad29(0x671)&&!_0x15c6fc['audio'])return await this['client']['sendMessage'](_0x4005d6,{'forward':{'key':{'remoteJid':this['instance'][_0x3fad29(0x482)],'fromMe':!0x0},'message':_0x15c6fc},'mentions':_0xfb79fb},_0x3ef2b0);if(_0x15c6fc['conversation']){let _0x41c7d9=_0x15c6fc['conversation'];return _0x5011fd?.['changeVariables']&&(_0x41c7d9=await this[_0x3fad29(0x66d)](_0x41c7d9,_0x4005d6)),await this[_0x3fad29(0x2d2)]['sendMessage'](_0x4005d6,{'text':_0x41c7d9,'mentions':_0xfb79fb,'linkPreview':_0x212426},_0x3ef2b0);}return _0x4005d6===_0x3fad29(0x671)?await this[_0x3fad29(0x2d2)][_0x3fad29(0x4e5)](_0x4005d6,_0x15c6fc[_0x3fad29(0x505)][_0x3fad29(0x283)],{'backgroundColor':_0x15c6fc['status'][_0x3fad29(0x63a)][_0x3fad29(0x5d6)],'font':_0x15c6fc['status'][_0x3fad29(0x63a)][_0x3fad29(0x26d)],'statusJidList':_0x15c6fc[_0x3fad29(0x505)][_0x3fad29(0x63a)]['statusJidList']}):await this[_0x3fad29(0x2d2)]['sendMessage'](_0x4005d6,_0x15c6fc,_0x3ef2b0);})()),{message_normalized:_0x3539ed}=this[_0x4ded51(0x412)](_0xd10f0e['message'],J(_0xd10f0e[_0x4ded51(0x5c9)]),null),_0x3af9ed={'_id':_0xd10f0e[_0x4ded51(0x465)]['id'],'key':_0xd10f0e[_0x4ded51(0x465)],'pushName':_0xd10f0e[_0x4ded51(0x631)],'message':{..._0xd10f0e[_0x4ded51(0x5c9)]},'messageType':J(_0xd10f0e['message']),'message_normalized':{'key':_0xd10f0e['key'],'pushName':_0xd10f0e[_0x4ded51(0x631)],'messageTimestamp':_0xd10f0e['messageTimestamp']&&_0xd10f0e[_0x4ded51(0x3e3)][_0x4ded51(0x3c2)]()['length']<0xd?_0xd10f0e[_0x4ded51(0x3e3)]*0x3e8:_0xd10f0e[_0x4ded51(0x3e3)]||null,'source':(0x0,w[_0x4ded51(0x506)])(_0xd10f0e[_0x4ded51(0x465)]['id']),..._0x3539ed},'messageTimestamp':_0xd10f0e[_0x4ded51(0x3e3)]&&_0xd10f0e[_0x4ded51(0x3e3)]['toString']()[_0x4ded51(0x59b)]<0xd?_0xd10f0e[_0x4ded51(0x3e3)]*0x3e8:_0xd10f0e[_0x4ded51(0x3e3)]||null,'owner':this[_0x4ded51(0x54c)]['wuid'],'source':(0x0,w['getDevice'])(_0xd10f0e[_0x4ded51(0x465)]['id'])};return this['logger'][_0x4ded51(0x174)](_0x3af9ed),await this[_0x4ded51(0x4b6)](_0x4ded51(0x271),_0x3af9ed),B(this['instanceName'],'messages',{'message':_0x3af9ed}),this['updateChatWithMessage'](this[_0x4ded51(0xf2)][_0x4ded51(0x54d)](_0x4ded51(0x293)),_0x3af9ed,_0x4ded51(0x531)),await this[_0x4ded51(0x1bf)]['message'][_0x4ded51(0x3d7)]([_0x3af9ed]),_0xd10f0e;}catch(_0x519604){throw this[_0x4ded51(0x2ad)][_0x4ded51(0x348)](this[_0x4ded51(0x372)]+'\x20('+this[_0x4ded51(0x54c)][_0x4ded51(0x482)]+_0x4ded51(0x2ca)+_0x519604[_0x4ded51(0x3c2)]()),new g(_0x519604[_0x4ded51(0x3c2)]());}}get[a0_0x2caf34(0x3b5)](){const _0x11f2e1=a0_0x2caf34;return this[_0x11f2e1(0x58d)];}async[a0_0x2caf34(0x5a8)](_0x51d174){const _0x21be45=a0_0x2caf34;let _0x148755=this[_0x21be45(0xf2)][_0x21be45(0x54d)]('TRIAL_AD'),_0x17ad56=this[_0x21be45(0xf2)][_0x21be45(0x54d)](_0x21be45(0xf4));return _0x17ad56&&this['instanceName'][_0x21be45(0x28c)]()[_0x21be45(0xea)](_0x17ad56[_0x21be45(0x28c)]())&&(_0x51d174[_0x21be45(0x5a8)][_0x21be45(0x3f8)]+='\x0a\x0a'+_0x148755),await this[_0x21be45(0x195)](_0x51d174[_0x21be45(0x487)],{'conversation':_0x51d174[_0x21be45(0x5a8)][_0x21be45(0x3f8)]},_0x51d174?.[_0x21be45(0x1b9)]);}async[a0_0x2caf34(0x3f2)](_0x1a8c49){const _0x22f276=a0_0x2caf34;if(!_0x1a8c49[_0x22f276(0x54a)])throw new g(_0x22f276(0x45c));if(!_0x1a8c49['content'])throw new g(_0x22f276(0xfa));if(_0x1a8c49[_0x22f276(0x522)]){let _0x7525ca=await this['repository'][_0x22f276(0x329)][_0x22f276(0x504)]({'where':{'owner':this['instance']['wuid']}});if(!_0x7525ca[_0x22f276(0x59b)])throw new g(_0x22f276(0x484));_0x1a8c49[_0x22f276(0x65b)]=_0x7525ca[_0x22f276(0x356)](_0x3410cd=>_0x3410cd[_0x22f276(0x631)])['map'](_0x540275=>_0x540275[_0x22f276(0x4da)]);}if(!_0x1a8c49[_0x22f276(0x65b)]?.[_0x22f276(0x59b)]&&!_0x1a8c49[_0x22f276(0x522)])throw new g(_0x22f276(0xe4));if(_0x1a8c49[_0x22f276(0x54a)]===_0x22f276(0x3f8)){if(!_0x1a8c49[_0x22f276(0x5d6)])throw new g(_0x22f276(0x2a9));if(!_0x1a8c49[_0x22f276(0x26d)])throw new g(_0x22f276(0x34b));return{'content':{'text':_0x1a8c49[_0x22f276(0x283)]},'option':{'backgroundColor':_0x1a8c49[_0x22f276(0x5d6)],'font':_0x1a8c49[_0x22f276(0x26d)],'statusJidList':_0x1a8c49[_0x22f276(0x65b)]}};}if(_0x1a8c49['type']===_0x22f276(0x3e7))return{'content':{'image':{'url':_0x1a8c49[_0x22f276(0x283)]},'caption':_0x1a8c49[_0x22f276(0x59e)]},'option':{'statusJidList':_0x1a8c49[_0x22f276(0x65b)]}};if(_0x1a8c49[_0x22f276(0x54a)]===_0x22f276(0x3f5))return{'content':{'video':{'url':_0x1a8c49[_0x22f276(0x283)]},'caption':_0x1a8c49[_0x22f276(0x59e)]},'option':{'statusJidList':_0x1a8c49[_0x22f276(0x65b)]}};if(_0x1a8c49[_0x22f276(0x54a)]==='audio'){this[_0x22f276(0x2ad)][_0x22f276(0x208)](_0x22f276(0x678)),this[_0x22f276(0x2ad)][_0x22f276(0x208)](_0x22f276(0x143));let _0x2d52fa=await this['convertaudio'](_0x1a8c49['content']);if(typeof _0x2d52fa==_0x22f276(0x600)){this[_0x22f276(0x2ad)][_0x22f276(0x208)](_0x22f276(0x665));let _0x41e896=P[_0x22f276(0x3be)](_0x2d52fa)[_0x22f276(0x3c2)](_0x22f276(0x560)),_0x38d8ec={'content':{'audio':Buffer['from'](_0x41e896,_0x22f276(0x560)),'ptt':!0x0,'mimetype':_0x22f276(0x4a2)},'option':{'statusJidList':_0x1a8c49[_0x22f276(0x65b)]}};return P[_0x22f276(0x3b2)](_0x2d52fa),_0x38d8ec;}else throw new A(_0x2d52fa);}throw new g(_0x22f276(0x568));}async[a0_0x2caf34(0x313)](_0x28a1c7){const _0x483485=a0_0x2caf34;return await this[_0x483485(0x195)](_0x483485(0x671),{'status':await this[_0x483485(0x3f2)](_0x28a1c7[_0x483485(0x313)])});}async['prepareMediaMessage'](_0x4835d2){const _0x2b71d8=a0_0x2caf34;try{let _0x212fb2=await(0x0,w['prepareWAMessageMedia'])({[_0x4835d2[_0x2b71d8(0x2dc)]]:(0x0,O[_0x2b71d8(0x14e)])(_0x4835d2[_0x2b71d8(0x4c6)])?{'url':_0x4835d2[_0x2b71d8(0x4c6)]}:Buffer[_0x2b71d8(0x148)](_0x4835d2[_0x2b71d8(0x4c6)],_0x2b71d8(0x560))},{'upload':this[_0x2b71d8(0x2d2)]['waUploadToServer']}),_0x236bb7=_0x4835d2[_0x2b71d8(0x2dc)]+_0x2b71d8(0x534);if(_0x4835d2[_0x2b71d8(0x2dc)]==='document'&&!_0x4835d2[_0x2b71d8(0x360)]){let _0x4b7479=new RegExp(/.*\/(.+?)\./)[_0x2b71d8(0x3d1)](_0x4835d2[_0x2b71d8(0x4c6)]);_0x4835d2[_0x2b71d8(0x360)]=_0x4b7479?_0x4b7479[0x1]:null;}let _0x4ef710=(0x0,O['isURL'])(_0x4835d2['media'])?_0x4835d2[_0x2b71d8(0x4c6)]['split']('?')[0x0]:_0x4835d2['media'];this[_0x2b71d8(0x2ad)]['verbose'](_0x2b71d8(0x610)+_0x4ef710);let _0x4afd31;_0x4835d2[_0x2b71d8(0x360)]?_0x4afd31=(0x0,Mt[_0x2b71d8(0x321)])(_0x4835d2[_0x2b71d8(0x360)]):(0x0,O['isURL'])(_0x4835d2[_0x2b71d8(0x4c6)])?_0x4afd31=(0x0,Mt[_0x2b71d8(0x321)])(_0x4ef710):_0x4afd31=(0x0,Mt[_0x2b71d8(0x321)])(_0x4835d2[_0x2b71d8(0x4c6)]);let _0x47d6af=this['configService'][_0x2b71d8(0x54d)](_0x2b71d8(0x9a)),_0x5ab8d3=this[_0x2b71d8(0xf2)]['get'](_0x2b71d8(0xf4));return _0x5ab8d3&&this[_0x2b71d8(0x372)][_0x2b71d8(0x28c)]()[_0x2b71d8(0xea)](_0x5ab8d3[_0x2b71d8(0x28c)]())&&(_0x4835d2[_0x2b71d8(0x59e)]+='\x0a\x0a'+_0x47d6af),_0x212fb2[_0x236bb7]['caption']=_0x4835d2?.[_0x2b71d8(0x59e)],_0x212fb2[_0x236bb7]['mimetype']=_0x4afd31,_0x212fb2[_0x236bb7][_0x2b71d8(0x360)]=_0x4835d2[_0x2b71d8(0x360)],_0x4835d2[_0x2b71d8(0x2dc)]==='video'&&(_0x212fb2[_0x236bb7][_0x2b71d8(0x390)]=Uint8Array[_0x2b71d8(0x148)]((0x0,Te[_0x2b71d8(0x3be)])((0x0,$[_0x2b71d8(0x2be)])(process[_0x2b71d8(0x23c)](),_0x2b71d8(0x396)))),_0x212fb2[_0x236bb7]['gifPlayback']=!0x1),(0x0,w[_0x2b71d8(0x2b6)])('',{[_0x236bb7]:{..._0x212fb2[_0x236bb7]}},{'userJid':this[_0x2b71d8(0x54c)][_0x2b71d8(0x482)]});}catch(_0x1021cb){throw this[_0x2b71d8(0x2ad)]['error'](this[_0x2b71d8(0x372)]+'\x20('+this['instance']['wuid']+_0x2b71d8(0x2ca)+_0x1021cb),new A(_0x1021cb?.[_0x2b71d8(0x3c2)]()||_0x1021cb);}}async[a0_0x2caf34(0x527)](_0x2d6d50){const _0x200cc5=a0_0x2caf34;let _0xb709e2=await this[_0x200cc5(0x185)](_0x2d6d50[_0x200cc5(0x527)]);return await this[_0x200cc5(0x195)](_0x2d6d50['number'],{..._0xb709e2['message']},_0x2d6d50?.['options']);}async['convertToWebP'](_0x12536a,_0x740fe7){const _0x481811=a0_0x2caf34;try{this[_0x481811(0x2ad)]['verbose'](_0x481811(0xcc));let _0x3c1a4f,_0x3378df=_0x740fe7+'-'+new Date()[_0x481811(0x5d0)]();this[_0x481811(0x2ad)][_0x481811(0x208)]('Hash\x20to\x20image\x20name:\x20'+_0x3378df);let _0x459804=''+(0x0,$[_0x481811(0x2be)])(this['storePath'],_0x3378df+'.webp');if(this['logger']['verbose']('Output\x20path:\x20'+_0x459804),(0x0,O['isBase64'])(_0x12536a)){this[_0x481811(0x2ad)][_0x481811(0x208)]('Image\x20is\x20base64');let _0x5997f1=_0x12536a[_0x481811(0xb1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x24433f=Buffer[_0x481811(0x148)](_0x5997f1,_0x481811(0x560));_0x3c1a4f=''+(0x0,$['join'])(this[_0x481811(0x57b)],_0x481811(0x11b)+_0x3378df+_0x481811(0x499)),this[_0x481811(0x2ad)][_0x481811(0x208)](_0x481811(0x48a)+_0x3c1a4f),await(0x0,It[_0x481811(0x418)])(_0x24433f)[_0x481811(0x3f0)](_0x3c1a4f),this[_0x481811(0x2ad)][_0x481811(0x208)]('Image\x20created');}else{this[_0x481811(0x2ad)][_0x481811(0x208)](_0x481811(0x438));let _0x1a0b1f=new Date()[_0x481811(0x5d0)](),_0x49f296=_0x12536a+_0x481811(0x528)+_0x1a0b1f;this[_0x481811(0x2ad)][_0x481811(0x208)](_0x481811(0x589)+_0x49f296);let _0x5a6579=await ne['default'][_0x481811(0x54d)](_0x49f296,{'responseType':_0x481811(0x4d9)});this['logger']['verbose']('Getting\x20image\x20from\x20url');let _0x20c666=Buffer[_0x481811(0x148)](_0x5a6579[_0x481811(0x51b)],'binary');_0x3c1a4f=''+(0x0,$[_0x481811(0x2be)])(this['storePath'],_0x481811(0x11b)+_0x3378df+_0x481811(0x499)),this[_0x481811(0x2ad)]['verbose'](_0x481811(0x48a)+_0x3c1a4f),await(0x0,It[_0x481811(0x418)])(_0x20c666)[_0x481811(0x3f0)](_0x3c1a4f),this['logger'][_0x481811(0x208)](_0x481811(0x2d9));}return await(0x0,It['default'])(_0x3c1a4f)[_0x481811(0x37c)]()[_0x481811(0x3f0)](_0x459804),this[_0x481811(0x2ad)][_0x481811(0x208)]('Image\x20converted\x20to\x20WebP'),P[_0x481811(0x3b2)](_0x3c1a4f),this[_0x481811(0x2ad)]['verbose']('Temp\x20image\x20deleted'),_0x459804;}catch(_0x4caccc){console['error'](_0x481811(0x115),_0x4caccc);}}async['mediaSticker'](_0xab2a78){const _0x36f0d5=a0_0x2caf34;let _0x50e603=await this[_0x36f0d5(0x5ff)](_0xab2a78[_0x36f0d5(0x352)][_0x36f0d5(0x3e7)],_0xab2a78['number']),_0x82f0f4=await this[_0x36f0d5(0x195)](_0xab2a78['number'],{'sticker':{'url':_0x50e603}},_0xab2a78?.[_0x36f0d5(0x1b9)]);return P[_0x36f0d5(0x3b2)](_0x50e603),this[_0x36f0d5(0x2ad)][_0x36f0d5(0x208)](_0x36f0d5(0xd6)),_0x82f0f4;}async['audioWhatsapp'](_0x1c07f7){const _0x297d34=a0_0x2caf34;if(this[_0x297d34(0x2ad)][_0x297d34(0x208)](_0x297d34(0x398)),!_0x1c07f7[_0x297d34(0x1b9)]?.[_0x297d34(0x2ed)]&&_0x1c07f7[_0x297d34(0x1b9)]?.['encoding']!==!0x1&&(_0x1c07f7[_0x297d34(0x1b9)]['encoding']=!0x0),_0x1c07f7['options']?.['encoding']){let _0x36e1a8=await this['convertaudio'](_0x1c07f7['audioMessage'][_0x297d34(0x44e)]);if(typeof _0x36e1a8==_0x297d34(0x600)){let _0x1bcb5a=P[_0x297d34(0x3be)](_0x36e1a8)[_0x297d34(0x3c2)](_0x297d34(0x560)),_0x481cac=this[_0x297d34(0x195)](_0x1c07f7[_0x297d34(0x487)],{'audio':Buffer[_0x297d34(0x148)](_0x1bcb5a,_0x297d34(0x560)),'ptt':!0x0,'mimetype':_0x297d34(0x4a2)},{'presence':_0x297d34(0x2b7),'delay':_0x1c07f7?.[_0x297d34(0x1b9)]?.[_0x297d34(0x42e)]});return P['unlinkSync'](_0x36e1a8),this[_0x297d34(0x2ad)][_0x297d34(0x208)](_0x297d34(0x34e)),_0x481cac;}else throw new A(_0x36e1a8);}return await this[_0x297d34(0x195)](_0x1c07f7[_0x297d34(0x487)],{'audio':(0x0,O[_0x297d34(0x14e)])(_0x1c07f7[_0x297d34(0x101)][_0x297d34(0x44e)])?{'url':_0x1c07f7['audioMessage']['audio']}:Buffer[_0x297d34(0x148)](_0x1c07f7['audioMessage'][_0x297d34(0x44e)],_0x297d34(0x560)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x297d34(0x2b7),'delay':_0x1c07f7?.[_0x297d34(0x1b9)]?.[_0x297d34(0x42e)]});}async['convertaudio'](_0x2c00f7){const _0x4bc1e3=a0_0x2caf34;this['logger'][_0x4bc1e3(0x208)]('Processing\x20audio');let _0x4aef21,_0x3e7732,_0x22aa88=(0x0,At['v4'])();if(this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x2b3)+_0x22aa88),(0x0,O[_0x4bc1e3(0x14e)])(_0x2c00f7)){this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x56d)),_0x3e7732=''+(0x0,$[_0x4bc1e3(0x2be)])(this[_0x4bc1e3(0x57b)],_0x22aa88+_0x4bc1e3(0x626)),_0x4aef21=''+(0x0,$[_0x4bc1e3(0x2be)])(this['storePath'],_0x4bc1e3(0x11b)+_0x22aa88+_0x4bc1e3(0x2c1)),this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x5e1)+_0x3e7732),this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x650)+_0x4aef21);let _0x35b98a=new Date()['getTime'](),_0x14a9f9=_0x2c00f7+_0x4bc1e3(0x528)+_0x35b98a;this['logger'][_0x4bc1e3(0x208)]('Including\x20timestamp\x20in\x20url:\x20'+_0x14a9f9);let _0x23c394=await ne[_0x4bc1e3(0x418)][_0x4bc1e3(0x54d)](_0x14a9f9,{'responseType':'arraybuffer'});this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x62a)),P['writeFileSync'](_0x4aef21,_0x23c394['data']);}else{this['logger'][_0x4bc1e3(0x208)]('Audio\x20is\x20base64'),_0x3e7732=''+(0x0,$['join'])(this[_0x4bc1e3(0x57b)],_0x22aa88+_0x4bc1e3(0x626)),_0x4aef21=''+(0x0,$[_0x4bc1e3(0x2be)])(this[_0x4bc1e3(0x57b)],_0x4bc1e3(0x11b)+_0x22aa88+_0x4bc1e3(0x2c1)),this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x5e1)+_0x3e7732),this['logger'][_0x4bc1e3(0x208)](_0x4bc1e3(0x650)+_0x4aef21);let _0x5a2765=Buffer[_0x4bc1e3(0x148)](_0x2c00f7,_0x4bc1e3(0x560));P[_0x4bc1e3(0x19c)](_0x4aef21,_0x5a2765),this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x16e));}return this[_0x4bc1e3(0x2ad)][_0x4bc1e3(0x208)](_0x4bc1e3(0x4d4)),new Promise((_0x42b107,_0x140f09)=>{const _0x54acd5=_0x4bc1e3;(0x0,Dt[_0x54acd5(0x3d1)])(Ya[_0x54acd5(0x418)][_0x54acd5(0x229)]+'\x20-i\x20'+_0x4aef21+_0x54acd5(0x60d)+_0x3e7732+_0x54acd5(0x1dc),_0x2023ff=>{const _0x44a038=_0x54acd5;P['unlinkSync'](_0x4aef21),this['logger'][_0x44a038(0x208)](_0x44a038(0x57c)),_0x2023ff&&_0x140f09(_0x2023ff),this['logger'][_0x44a038(0x208)](_0x44a038(0x263)),_0x42b107(_0x3e7732);});});}async['buttonMessage'](_0x57d404){const _0x2423ef=a0_0x2caf34;let _0x342444={},_0xa43071='TEXT';if(_0x57d404['buttonMessage']?.[_0x2423ef(0x527)]){_0xa43071=_0x57d404[_0x2423ef(0x11e)][_0x2423ef(0x527)]?.[_0x2423ef(0x2dc)][_0x2423ef(0x3ba)]()??_0x2423ef(0x18d),_0x342444[_0x2423ef(0x520)]=_0xa43071[_0x2423ef(0x28c)]()+_0x2423ef(0x534);let _0x71b22e=await this[_0x2423ef(0x185)](_0x57d404[_0x2423ef(0x11e)][_0x2423ef(0x527)]);_0x342444[_0x2423ef(0x5c9)]=_0x71b22e[_0x2423ef(0x5c9)][_0x342444['mediaKey']],_0x342444[_0x2423ef(0x53c)]='*'+_0x57d404['buttonMessage'][_0x2423ef(0x1bc)]+_0x2423ef(0x634)+_0x57d404['buttonMessage'][_0x2423ef(0x188)];}let _0x3569cb={'text':_0x57d404[_0x2423ef(0x11e)][_0x2423ef(0x219)][_0x2423ef(0x566)](_0x359d3c=>_0x359d3c[_0x2423ef(0x5cd)]),'ids':_0x57d404[_0x2423ef(0x11e)][_0x2423ef(0x219)][_0x2423ef(0x566)](_0x12cc63=>_0x12cc63[_0x2423ef(0x621)])};if(!(0x0,O['arrayUnique'])(_0x3569cb['text'])||!(0x0,O[_0x2423ef(0x3e5)])(_0x3569cb[_0x2423ef(0x103)]))throw new g(_0x2423ef(0x173),_0x2423ef(0xb4));return await this[_0x2423ef(0x195)](_0x57d404[_0x2423ef(0x487)],{'buttonsMessage':{'text':_0x342444?.[_0x2423ef(0x520)]?void 0x0:_0x57d404['buttonMessage'][_0x2423ef(0x1bc)],'contentText':_0x342444?.[_0x2423ef(0x53c)]??_0x57d404[_0x2423ef(0x11e)]['description'],'footerText':_0x57d404[_0x2423ef(0x11e)]?.['footerText'],'buttons':_0x57d404[_0x2423ef(0x11e)][_0x2423ef(0x219)]['map'](_0x79ccd=>({'buttonText':{'displayText':_0x79ccd[_0x2423ef(0x5cd)]},'buttonId':_0x79ccd['buttonId'],'type':0x1})),'headerType':w[_0x2423ef(0x4d0)][_0x2423ef(0x534)][_0x2423ef(0x5eb)][_0x2423ef(0x586)][_0xa43071],[_0x342444?.['mediaKey']]:_0x342444?.['message']}},_0x57d404?.[_0x2423ef(0x1b9)]);}async['locationMessage'](_0x5dd0b6){const _0x46f071=a0_0x2caf34;return await this[_0x46f071(0x195)](_0x5dd0b6[_0x46f071(0x487)],{'locationMessage':{'degreesLatitude':_0x5dd0b6[_0x46f071(0x4fc)]['latitude'],'degreesLongitude':_0x5dd0b6[_0x46f071(0x4fc)][_0x46f071(0x5d4)],'name':_0x5dd0b6[_0x46f071(0x4fc)]?.['name'],'address':_0x5dd0b6[_0x46f071(0x4fc)]?.[_0x46f071(0x33a)]}},_0x5dd0b6?.[_0x46f071(0x1b9)]);}async['listMessage'](_0x418404){const _0x1dc70f=a0_0x2caf34;return await this[_0x1dc70f(0x195)](_0x418404[_0x1dc70f(0x487)],{'listMessage':{'title':_0x418404[_0x1dc70f(0xc4)]['title'],'description':_0x418404[_0x1dc70f(0xc4)][_0x1dc70f(0x188)],'buttonText':_0x418404[_0x1dc70f(0xc4)]?.[_0x1dc70f(0x5cd)],'footerText':_0x418404[_0x1dc70f(0xc4)]?.[_0x1dc70f(0x353)],'sections':_0x418404[_0x1dc70f(0xc4)]['sections'],'listType':0x1}},_0x418404?.[_0x1dc70f(0x1b9)]);}async[a0_0x2caf34(0x135)](_0x5d7241){const _0x4548ee=a0_0x2caf34;let _0x1e9a9b={},_0x17e5f9=_0x390f24=>{const _0x12a951=a0_0x54b4;let _0x4e50ad='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x390f24[_0x12a951(0x19a)]+_0x12a951(0x399)+_0x390f24[_0x12a951(0x19a)]+'\x0a';_0x390f24[_0x12a951(0x19e)]&&(_0x4e50ad+='ORG:'+_0x390f24[_0x12a951(0x19e)]+';\x0a'),_0x390f24[_0x12a951(0x3ff)]&&(_0x4e50ad+=_0x12a951(0x27e)+_0x390f24['email']+'\x0a'),_0x390f24['url']&&(_0x4e50ad+=_0x12a951(0x59c)+_0x390f24['url']+'\x0a');let _0xa6e4b8='';return _0x390f24[_0x12a951(0x449)]&&_0x390f24[_0x12a951(0x449)][_0x12a951(0x226)]('|')[_0x12a951(0x369)]((_0x20049f,_0x276f59)=>{const _0x484d74=_0x12a951;let _0x324bf0=this[_0x484d74(0x205)](_0x20049f)[_0x484d74(0xb1)]('@s.whatsapp.net','');_0xa6e4b8+='item'+(_0x276f59+0x1)+_0x484d74(0x2b1)+_0x324bf0+':'+_0x20049f+_0x484d74(0x5aa)+(_0x276f59+0x1)+_0x484d74(0x5a7);}),_0x4e50ad+=_0xa6e4b8+'END:VCARD',_0x4e50ad;};return _0x5d7241['contactMessage'][_0x4548ee(0x59b)]===0x1?_0x1e9a9b['contactMessage']={'displayName':_0x5d7241[_0x4548ee(0x135)][0x0]['fullName'],'vcard':_0x17e5f9(_0x5d7241[_0x4548ee(0x135)][0x0])}:_0x1e9a9b['contactsArrayMessage']={'displayName':_0x5d7241[_0x4548ee(0x135)]['length']+_0x4548ee(0x20b),'contacts':_0x5d7241[_0x4548ee(0x135)][_0x4548ee(0x566)](_0x400c12=>({'displayName':_0x400c12[_0x4548ee(0x19a)],'vcard':_0x17e5f9(_0x400c12)}))},await this[_0x4548ee(0x195)](_0x5d7241[_0x4548ee(0x487)],{..._0x1e9a9b},_0x5d7241?.['options']);}async[a0_0x2caf34(0x3a2)](_0x53374c){const _0x35737f=a0_0x2caf34;return await this[_0x35737f(0x195)](_0x53374c[_0x35737f(0x3a2)]['key'][_0x35737f(0x4a8)],{'reactionMessage':{'key':_0x53374c['reactionMessage']['key'],'text':_0x53374c[_0x35737f(0x3a2)][_0x35737f(0x509)]}});}async[a0_0x2caf34(0x2fb)](_0x15e87b){const _0x3c3faa=a0_0x2caf34;let _0x4d2de5=[];for await(let _0x199a77 of _0x15e87b[_0x3c3faa(0x237)]){let _0x21e136=this[_0x3c3faa(0x205)](_0x199a77);if((0x0,w[_0x3c3faa(0x29a)])(_0x21e136)){let _0x415ca9=await this[_0x3c3faa(0x1d6)]({'groupJid':_0x21e136},_0x3c3faa(0x26c));_0x4d2de5[_0x3c3faa(0x334)](new me(_0x415ca9['metadata']['id'],!!_0x415ca9?.[_0x3c3faa(0x537)]['id'],_0x415ca9?.[_0x3c3faa(0x537)]['subject']));}else try{let _0x45a7e5=(await this[_0x3c3faa(0x2d2)][_0x3c3faa(0x27c)](_0x21e136))[0x0];_0x4d2de5[_0x3c3faa(0x334)](new me(_0x45a7e5[_0x3c3faa(0x3e9)],_0x45a7e5[_0x3c3faa(0x3ac)]));}catch{_0x4d2de5[_0x3c3faa(0x334)](new me(_0x199a77,!0x1));}}return _0x4d2de5;}async[a0_0x2caf34(0x570)](_0x55029c){const _0x1acc7a=a0_0x2caf34;try{let _0x3ec359=_0x55029c[_0x1acc7a(0x1d9)]['filter'](_0xa5c818=>(0x0,w[_0x1acc7a(0x29a)])(_0xa5c818[_0x1acc7a(0x4a8)])||(0x0,w[_0x1acc7a(0x660)])(_0xa5c818[_0x1acc7a(0x4a8)]))['map'](_0x49f4a6=>({'remoteJid':_0x49f4a6['remoteJid'],'fromMe':_0x49f4a6[_0x1acc7a(0x19f)],'id':_0x49f4a6['id']}));await this[_0x1acc7a(0x2d2)]['readMessages'](_0x3ec359);let _0xe51f9b=_0x3ec359[_0x1acc7a(0x566)](_0x124699=>this[_0x1acc7a(0x33c)](_0x124699,_0x124699['remoteJid'],{'status':_0x1acc7a(0xa9),'owner':this[_0x1acc7a(0x54c)][_0x1acc7a(0x482)]})),_0x2783e5=_0x3ec359['map'](_0x124340=>this['repository'][_0x1acc7a(0x300)][_0x1acc7a(0x2ba)]({'where':{'_id':_0x124340[_0x1acc7a(0x4a8)],'owner':this[_0x1acc7a(0x54c)][_0x1acc7a(0x482)]}},{'unreadcount':0x0})),[_0x5cd7ca,_0x4908b5]=await Promise['all']([Promise[_0x1acc7a(0x2ec)](_0xe51f9b),Promise[_0x1acc7a(0x2ec)](_0x2783e5)]);return _0x4908b5[_0x1acc7a(0x356)](_0x78af8=>_0x78af8!==null)['forEach'](_0x532881=>{const _0x4f8f57=_0x1acc7a;B(this['instanceName'],_0x4f8f57(0xac),{'chat':_0x532881});}),{'message':_0x1acc7a(0x127),'read':'success'};}catch(_0x51dfaf){throw console['error'](_0x1acc7a(0x278),_0x51dfaf),new A('Read\x20messages\x20fail',_0x51dfaf[_0x1acc7a(0x3c2)]());}}async[a0_0x2caf34(0x241)](_0x54fd2a){const _0x3f8d17=a0_0x2caf34;let _0x257d1f=await this[_0x3f8d17(0x50f)]({'where':{'key':{'remoteJid':_0x54fd2a},'owner':this['instance'][_0x3f8d17(0x3c7)]}}),_0x3a6e29=_0x257d1f[_0x3f8d17(0xca)]();for(let _0x2c5031 of _0x257d1f)_0x2c5031[_0x3f8d17(0x3e3)]>=_0x3a6e29[_0x3f8d17(0x3e3)]&&(_0x3a6e29=_0x2c5031);return _0x3a6e29;}async[a0_0x2caf34(0x2f9)](_0x38ab79){const _0x91cf29=a0_0x2caf34;this[_0x91cf29(0x2ad)][_0x91cf29(0x208)](_0x91cf29(0x307));try{let _0x48b647=_0x38ab79[_0x91cf29(0x429)],_0x33b1a7=_0x38ab79['chat'];if(!_0x48b647&&_0x33b1a7?_0x48b647=await this['getLastMessage'](_0x33b1a7):(_0x48b647=_0x38ab79['lastMessage'],_0x48b647[_0x91cf29(0x3e3)]=_0x48b647?.['messageTimestamp']??Date[_0x91cf29(0x572)](),_0x33b1a7=_0x48b647?.[_0x91cf29(0x465)]?.[_0x91cf29(0x4a8)]),!_0x48b647||Object[_0x91cf29(0x3d5)](_0x48b647)[_0x91cf29(0x59b)]===0x0)throw new x(_0x91cf29(0x2ee));await this[_0x91cf29(0x2d2)][_0x91cf29(0x5ce)]({'archive':_0x38ab79[_0x91cf29(0x588)],'lastMessages':[_0x48b647]},this[_0x91cf29(0x205)](_0x33b1a7));let _0x1e7e50=await this[_0x91cf29(0x1bf)][_0x91cf29(0x300)]['updateOne']({'where':{'_id':_0x48b647?.['key']?.[_0x91cf29(0x4a8)],'owner':this[_0x91cf29(0x54c)][_0x91cf29(0x482)]}},{'archived':_0x38ab79[_0x91cf29(0x588)]});return _0x1e7e50&&B(this[_0x91cf29(0x372)],_0x91cf29(0xac),{'chat':_0x1e7e50}),{'chatId':_0x33b1a7,'archived':_0x38ab79[_0x91cf29(0x588)]};}catch(_0x356099){throw new A({'archived':!0x1,'message':[_0x91cf29(0x5f7),_0x356099[_0x91cf29(0x3c2)]()]});}}async[a0_0x2caf34(0x62e)](_0xd20154){const _0x39d88d=a0_0x2caf34;try{let _0x3c475e=await this[_0x39d88d(0x2d2)][_0x39d88d(0x4e5)](_0xd20154[_0x39d88d(0x4a8)],{'delete':_0xd20154});try{let _0x52d5c2=await this[_0x39d88d(0x33c)](_0xd20154,_0xd20154['remoteJid'],{'status':_0x39d88d(0x3ab),'owner':this[_0x39d88d(0x54c)]['wuid']});this[_0x39d88d(0x2ad)]['verbose'](this[_0x39d88d(0x372)]+'\x20('+this['instance'][_0x39d88d(0x482)]+_0x39d88d(0x309)+_0x52d5c2);}catch(_0x3f1e2b){console['error'](_0x39d88d(0x42a),_0x3f1e2b);}return _0x3c475e;}catch(_0x2e70d9){throw new A(_0x39d88d(0x248),_0x2e70d9?.[_0x39d88d(0x3c2)]());}}async[a0_0x2caf34(0x3b1)](_0x129f4c){const _0x271462=a0_0x2caf34;try{let _0x290efe=_0x129f4c?.['message']?_0x129f4c:await this[_0x271462(0x191)](_0x129f4c[_0x271462(0x465)],!0x0);for(let _0xe5ca34 of zs)_0x290efe[_0x271462(0x5c9)][_0xe5ca34]&&(_0x290efe['message']=_0x290efe[_0x271462(0x5c9)][_0xe5ca34][_0x271462(0x5c9)]);let _0x5f4652,_0x58b63a;for(let _0x22ad78 of Ks)if(_0x5f4652=_0x290efe[_0x271462(0x5c9)][_0x22ad78],_0x5f4652){_0x58b63a=_0x22ad78;break;}if(!_0x5f4652)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x5f4652[_0x271462(0x520)]==_0x271462(0x3f1)&&(_0x290efe[_0x271462(0x5c9)]=JSON[_0x271462(0x44d)](JSON['stringify'](_0x290efe[_0x271462(0x5c9)])));let _0x1154f1=await(0x0,w[_0x271462(0x203)])({'key':_0x290efe?.[_0x271462(0x465)],'message':_0x290efe?.['message']},_0x271462(0x39f),{},{'logger':(0x0,Rt[_0x271462(0x418)])({'level':_0x271462(0x348)}),'reuploadRequest':this['client'][_0x271462(0x129)]});if(!(_0x1154f1 instanceof Buffer))throw new Error(_0x271462(0x232));let _0x200917=this[_0x271462(0xf2)][_0x271462(0x54d)](_0x271462(0x293)),_0x4b1547,_0x3c5b65;if(_0x5f4652[_0x271462(0x360)])_0x4b1547=_0x5f4652[_0x271462(0x360)];else{let _0xbebf5=_0x5f4652[_0x271462(0x58a)]?.[_0x271462(0x472)](/\/(\w+)/),_0x4c9c97=_0xbebf5?_0xbebf5[0x1]:null;if(!_0x4c9c97)throw new Error(_0x271462(0x3dd));_0x4b1547=(0x0,At['v4'])()+'.'+_0x4c9c97;}_0x58b63a===_0x271462(0x101)&&_0x5f4652['mimetype']===_0x271462(0xe9)?(_0x4b1547=(0x0,At['v4'])()+_0x271462(0x379),_0x3c5b65=_0x271462(0x4ec)+await this[_0x271462(0x30a)](_0x1154f1[_0x271462(0x3c2)]('base64'))):(await this[_0x271462(0x3aa)](_0x1154f1,_0x4b1547),_0x3c5b65='/media/'+_0x4b1547);let _0x30ac38=this[_0x271462(0xf2)]['get'](_0x271462(0x2e2)),_0x10f7a7=this[_0x271462(0xf2)][_0x271462(0x54d)]('SERVER')[_0x271462(0x584)],_0x41de5e=_0x30ac38&&_0x30ac38[_0x271462(0x2fc)][_0x271462(0x226)]('/')[0x4];_0x10f7a7===0x1bb&&(_0x3c5b65=''+(_0x271462(0x4e7)+_0x41de5e)+_0x3c5b65);let _0x5e8b42=0xc*0x3c*0x3c*0x3e8,_0x1cf45b={'where':{'_id':_0x290efe[_0x271462(0x465)]['id'],'owner':this[_0x271462(0x54c)][_0x271462(0x482)]}};_0x290efe['key']['remoteJid'][_0x271462(0x48e)](_0x271462(0xe5))&&(_0x1cf45b[_0x271462(0x51a)]['key']['participant']=_0x290efe['key'][_0x271462(0x31f)]);let _0x5800ab={'message_normalized.fileUrl':_0x3c5b65,'message_normalized.expires_fileUrl':Date[_0x271462(0x572)]()+_0x5e8b42};try{let _0xd1fb65=await this[_0x271462(0x1bf)][_0x271462(0x5c9)]['update'](_0x1cf45b,_0x5800ab);_0xd1fb65&&B(this['instanceName'],_0x271462(0x2b2),{'message':_0xd1fb65});}catch{}return{'mediaType':_0x58b63a,'fileName':_0x5f4652[_0x271462(0x360)],'caption':_0x5f4652['caption'],'size':{'fileLength':_0x5f4652[_0x271462(0xfc)],'height':_0x5f4652[_0x271462(0x50d)],'width':_0x5f4652[_0x271462(0x5fa)]},'mimetype':_0x5f4652['mimetype'],'base64':_0x1154f1['toString'](_0x271462(0x560)),'fileUrl':_0x3c5b65,'expires_fileUrl':Date[_0x271462(0x572)]()+_0x5e8b42};}catch(_0x3aac6f){throw this[_0x271462(0x2ad)]['error'](this[_0x271462(0x372)]+'\x20('+this[_0x271462(0x54c)][_0x271462(0x482)]+_0x271462(0x2ca)+_0x3aac6f),new g(_0x3aac6f[_0x271462(0x3c2)]());}}async[a0_0x2caf34(0x3aa)](_0x11046c,_0x564285){const _0x5e4469=a0_0x2caf34;console[_0x5e4469(0x174)]('Initial\x20__dirname:',__dirname),console[_0x5e4469(0x174)](_0x5e4469(0x2dd),_0x564285);let _0x59025b=$['default'][_0x5e4469(0x2be)](__dirname,_0x5e4469(0x95));console[_0x5e4469(0x174)](_0x5e4469(0x4bc),_0x59025b),P[_0x5e4469(0x177)](_0x59025b)||(this[_0x5e4469(0x2ad)]['log'](_0x5e4469(0x251)),P[_0x5e4469(0x453)](_0x59025b,{'recursive':!0x0}));let _0x19eac2=$['default'][_0x5e4469(0x2be)](_0x59025b,_0x564285);return console[_0x5e4469(0x174)]('Full\x20file\x20path:',_0x19eac2),new Promise((_0x1d1a8c,_0x123202)=>{const _0x4cd131=_0x5e4469;P[_0x4cd131(0x22d)](_0x19eac2,_0x11046c,_0x395085=>{const _0x2b470e=_0x4cd131;_0x395085?(this[_0x2b470e(0x2ad)][_0x2b470e(0x348)](_0x2b470e(0x234)+_0x395085[_0x2b470e(0x5c9)]),_0x123202(_0x395085)):(this[_0x2b470e(0x2ad)]['log']('File\x20written\x20to\x20path:\x20'+_0x19eac2),_0x1d1a8c(_0x19eac2));});});}async[a0_0x2caf34(0x217)](_0x3b47ec){const _0x111a22=a0_0x2caf34;return _0x3b47ec?.[_0x111a22(0x51a)]?_0x3b47ec[_0x111a22(0x51a)][_0x111a22(0x567)]=this[_0x111a22(0x54c)]['wuid']:_0x3b47ec={'where':{'owner':this[_0x111a22(0x54c)][_0x111a22(0x482)]}},await this['repository'][_0x111a22(0x329)][_0x111a22(0x504)](_0x3b47ec);}async[a0_0x2caf34(0x50f)](_0x25874e){const _0x293794=a0_0x2caf34;return _0x25874e?.[_0x293794(0x51a)]?_0x25874e[_0x293794(0x51a)]['owner']=this[_0x293794(0x54c)][_0x293794(0x482)]:_0x25874e={'where':{'owner':this[_0x293794(0x54c)][_0x293794(0x482)]},'limit':_0x25874e?.[_0x293794(0x287)]},await this[_0x293794(0x1bf)][_0x293794(0x5c9)][_0x293794(0x504)](_0x25874e);}async[a0_0x2caf34(0x583)](){const _0x95b2a2=a0_0x2caf34;return await this[_0x95b2a2(0x1bf)][_0x95b2a2(0x300)]['find']({'where':{'owner':this[_0x95b2a2(0x54c)]['wuid']}});}async[a0_0x2caf34(0x3e8)](){const _0x24ef2b=a0_0x2caf34;return await this[_0x24ef2b(0x2d2)]['fetchPrivacySettings']();}async[a0_0x2caf34(0x50a)](_0x48daa0){const _0x4260b1=a0_0x2caf34;try{return await this[_0x4260b1(0x2d2)]['updateReadReceiptsPrivacy'](_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x21b)]),await this[_0x4260b1(0x2d2)][_0x4260b1(0x34d)](_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x3a9)]),await this[_0x4260b1(0x2d2)][_0x4260b1(0x63f)](_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x505)]),await this['client'][_0x4260b1(0x65a)](_0x48daa0['privacySettings']['online']),await this[_0x4260b1(0x2d2)][_0x4260b1(0x3b8)](_0x48daa0[_0x4260b1(0x93)]['last']),await this[_0x4260b1(0x2d2)][_0x4260b1(0x551)](_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x517)]),this[_0x4260b1(0x2d2)]?.['ws']?.[_0x4260b1(0x613)](),{'update':_0x4260b1(0x387),'data':{'readreceipts':_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x21b)],'profile':_0x48daa0[_0x4260b1(0x93)]['profile'],'status':_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x505)],'online':_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0xbf)],'last':_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x4ac)],'groupadd':_0x48daa0[_0x4260b1(0x93)][_0x4260b1(0x517)]}};}catch(_0x552285){throw new A(_0x4260b1(0x2c6),_0x552285['toString']());}}async[a0_0x2caf34(0x235)](_0x26d47d){const _0x14e029=a0_0x2caf34;let _0x17850d=_0x26d47d?this[_0x14e029(0x205)](_0x26d47d):this['client']?.[_0x14e029(0x1e1)]?.['id'];this['logger'][_0x14e029(0x208)](_0x14e029(0x39d)+_0x17850d);try{if(this[_0x14e029(0x2ad)][_0x14e029(0x208)](_0x14e029(0x21d)),_0x26d47d){let _0x264361=(await this[_0x14e029(0x2fb)]({'numbers':[_0x17850d]}))?.['shift'](),_0x4f2843=await this[_0x14e029(0x3dc)](_0x264361?.[_0x14e029(0x3e9)]),_0x342afa=await this[_0x14e029(0x43d)](_0x264361?.['jid']),_0x5b4de7=await this[_0x14e029(0x12f)](_0x264361?.[_0x14e029(0x3e9)]);return{'wuid':_0x264361?.['jid']||_0x17850d,'name':_0x264361?.[_0x14e029(0x3c7)],'numberExists':_0x264361?.[_0x14e029(0x3ac)],'picture':_0x4f2843?.[_0x14e029(0xf6)],'status':_0x342afa?.[_0x14e029(0x505)],'isBusiness':_0x5b4de7[_0x14e029(0x513)],'email':_0x5b4de7?.[_0x14e029(0x3ff)],'description':_0x5b4de7?.[_0x14e029(0x188)],'website':_0x5b4de7?.[_0x14e029(0x4b4)]?.[_0x14e029(0x23b)]()};}}catch{return this[_0x14e029(0x2ad)][_0x14e029(0x208)](_0x14e029(0x23f)),{'wuid':_0x17850d,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x2caf34(0x4f4)](_0x22f0fe){const _0x5260a1=a0_0x2caf34;let _0x551aee=(_0x22f0fe?this[_0x5260a1(0x205)](_0x22f0fe):this[_0x5260a1(0x2d2)]?.[_0x5260a1(0x1e1)]?.['id'])[_0x5260a1(0xb1)](/:\d{1,2}@/g,'@');this[_0x5260a1(0x2ad)][_0x5260a1(0x208)](_0x5260a1(0x19b)+_0x551aee);let _0x557588=await this['repository'][_0x5260a1(0x329)][_0x5260a1(0x400)]({'where':{'_id':_0x551aee,'owner':this[_0x5260a1(0x54c)][_0x5260a1(0x482)]}}),_0x273326=_0x557588?_0x557588[_0x5260a1(0x631)]:null;try{let _0x1495fc=(await this[_0x5260a1(0x2fb)]({'numbers':[_0x551aee]}))?.[_0x5260a1(0x23b)](),_0x2f1f6b=await this[_0x5260a1(0x3dc)](_0x1495fc?.[_0x5260a1(0x3e9)]),_0x500db1=await this[_0x5260a1(0x43d)](_0x1495fc?.[_0x5260a1(0x3e9)]),_0x4bbcf9=await this['fetchBusinessProfile'](_0x1495fc?.[_0x5260a1(0x3e9)]),_0x2faecc={'imagechat':_0x2f1f6b?.['profilePictureUrl'],'contactname':_0x273326||null,'status':_0x500db1?.[_0x5260a1(0x505)],'isBusiness':_0x4bbcf9[_0x5260a1(0x513)],'email':_0x4bbcf9?.[_0x5260a1(0x3ff)],'description':_0x4bbcf9?.[_0x5260a1(0x188)],'website':_0x4bbcf9?.[_0x5260a1(0x4b4)]?.['shift'](),'lastcache':Date[_0x5260a1(0x572)]()},_0x3fe9a6=await this['repository']['chat']['updateOne']({'where':{'_id':_0x551aee,'owner':this[_0x5260a1(0x54c)]['wuid']}},_0x2faecc),_0x5a25ae={'owner':this['instance'][_0x5260a1(0x482)],'_id':_0x551aee,'profilePictureUrl':_0x2f1f6b?.[_0x5260a1(0xf6)],'status':_0x500db1?.[_0x5260a1(0x505)]};return this['repository'][_0x5260a1(0x329)]['update']([_0x5a25ae],this['instance']['wuid']),_0x3fe9a6&&B(this[_0x5260a1(0x372)],_0x5260a1(0xac),{'chat':_0x3fe9a6}),{'wuid':_0x1495fc?.[_0x5260a1(0x3e9)]||_0x551aee,'name':_0x1495fc?.[_0x5260a1(0x3c7)],'numberExists':_0x1495fc?.['exists'],'picture':_0x2f1f6b?.[_0x5260a1(0xf6)],'status':_0x500db1?.[_0x5260a1(0x505)],'isBusiness':_0x4bbcf9[_0x5260a1(0x513)],'email':_0x4bbcf9?.['email'],'description':_0x4bbcf9?.[_0x5260a1(0x188)],'website':_0x4bbcf9?.[_0x5260a1(0x4b4)]?.['shift']()};}catch(_0x43fcca){return this[_0x5260a1(0x2ad)]['error'](_0x5260a1(0x498)+_0x43fcca),{};}}async[a0_0x2caf34(0x12f)](_0x4888c9){const _0x63af27=a0_0x2caf34;this[_0x63af27(0x2ad)][_0x63af27(0x208)](_0x63af27(0x654));try{let _0x11cd97=_0x4888c9?this[_0x63af27(0x205)](_0x4888c9):this[_0x63af27(0x54c)][_0x63af27(0x482)],_0x15a4a3=await this[_0x63af27(0x2d2)]['getBusinessProfile'](_0x11cd97);return this[_0x63af27(0x2ad)][_0x63af27(0x208)](_0x63af27(0xd9)),_0x15a4a3?(this['logger']['verbose'](_0x63af27(0x547)),{'isBusiness':!0x0,..._0x15a4a3}):{'isBusiness':!0x1,'message':_0x63af27(0x563),...(await this[_0x63af27(0x2fb)]({'numbers':[_0x11cd97]}))?.[_0x63af27(0x23b)]()};}catch(_0x19f15d){throw new A(_0x63af27(0x314),_0x19f15d['toString']());}}async[a0_0x2caf34(0x43d)](_0x589c50){const _0x5c72f4=a0_0x2caf34;let _0x3a2df0=this[_0x5c72f4(0x205)](_0x589c50);try{return{'wuid':_0x3a2df0,'status':(await this[_0x5c72f4(0x2d2)]['fetchStatus'](_0x3a2df0))?.['status']};}catch{return{'wuid':_0x3a2df0,'status':null};}}async[a0_0x2caf34(0x457)](_0x22bc4c){const _0x4e6f6e=a0_0x2caf34;try{return await this['client'][_0x4e6f6e(0x457)](_0x22bc4c),{'update':_0x4e6f6e(0x387)};}catch(_0x387464){throw new A(_0x4e6f6e(0x314),_0x387464[_0x4e6f6e(0x3c2)]());}}async[a0_0x2caf34(0x439)](_0x28e3e3){const _0x3dd1cf=a0_0x2caf34;try{return await this[_0x3dd1cf(0x2d2)][_0x3dd1cf(0x439)](_0x28e3e3),{'update':_0x3dd1cf(0x387)};}catch(_0x13bca9){throw new A('Error\x20updating\x20profile\x20status',_0x13bca9[_0x3dd1cf(0x3c2)]());}}async[a0_0x2caf34(0x611)](_0xcbd4da){const _0x5b4aa2=a0_0x2caf34;try{let _0x3e49aa;if((0x0,O[_0x5b4aa2(0x14e)])(_0xcbd4da)){let _0x5e9c5a=new Date()[_0x5b4aa2(0x5d0)](),_0x448e6b=_0xcbd4da+_0x5b4aa2(0x528)+_0x5e9c5a;_0x3e49aa=(await ne[_0x5b4aa2(0x418)]['get'](_0x448e6b,{'responseType':_0x5b4aa2(0x4d9)}))[_0x5b4aa2(0x51b)];}else{if((0x0,O[_0x5b4aa2(0x569)])(_0xcbd4da))_0x3e49aa=Buffer['from'](_0xcbd4da,_0x5b4aa2(0x560));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5b4aa2(0x2d2)]['updateProfilePicture'](this[_0x5b4aa2(0x54c)][_0x5b4aa2(0x482)],_0x3e49aa),{'update':'success'};}catch(_0x24dfba){throw new A(_0x5b4aa2(0x102),_0x24dfba['toString']());}}async[a0_0x2caf34(0x2e6)](){const _0x2f0722=a0_0x2caf34;try{return await this[_0x2f0722(0x2d2)][_0x2f0722(0x2e6)](this['instance'][_0x2f0722(0x482)]),{'update':_0x2f0722(0x387)};}catch(_0x3ca4b0){throw new A(_0x2f0722(0x1a6),_0x3ca4b0['toString']());}}async[a0_0x2caf34(0x529)](_0x35efba){const _0x444f87=a0_0x2caf34;try{let _0x12e375=_0x35efba[_0x444f87(0x343)][_0x444f87(0x566)](_0x9e986f=>this[_0x444f87(0x205)](_0x9e986f)),{id:_0x44d540}=await this[_0x444f87(0x2d2)][_0x444f87(0x442)](_0x35efba[_0x444f87(0x5a5)],_0x12e375);return _0x35efba?.[_0x444f87(0x188)]&&await this[_0x444f87(0x2d2)][_0x444f87(0x625)](_0x44d540,_0x35efba[_0x444f87(0x188)]),{'metadata':await this['client']['groupMetadata'](_0x44d540)};}catch(_0x6b78dc){throw this[_0x444f87(0x2ad)][_0x444f87(0x348)](this[_0x444f87(0x372)]+'\x20('+this['instance'][_0x444f87(0x482)]+'):\x20'+_0x6b78dc),new A(_0x444f87(0x5b8),_0x6b78dc[_0x444f87(0x3c2)]());}}async[a0_0x2caf34(0x108)](_0x385b87){const _0x335014=a0_0x2caf34;try{let _0x26f0ac;if((0x0,O[_0x335014(0x14e)])(_0x385b87['image'])){let _0xbbbec7=new Date()[_0x335014(0x5d0)](),_0x480c33=_0x385b87['image']+_0x335014(0x528)+_0xbbbec7;_0x26f0ac=(await ne[_0x335014(0x418)][_0x335014(0x54d)](_0x480c33,{'responseType':_0x335014(0x4d9)}))[_0x335014(0x51b)];}else{if((0x0,O[_0x335014(0x569)])(_0x385b87[_0x335014(0x3e7)]))_0x26f0ac=Buffer['from'](_0x385b87['image'],_0x335014(0x560));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x335014(0x611)](_0x385b87[_0x335014(0x561)],_0x26f0ac),{'update':_0x335014(0x387)};}catch(_0x11f472){throw new A(_0x335014(0x40e),_0x11f472[_0x335014(0x3c2)]());}}async[a0_0x2caf34(0x1d6)](_0x2da4f1,_0x40ad41=a0_0x2caf34(0x5da)){const _0x3fec7e=a0_0x2caf34;try{let _0x36303c=await this[_0x3fec7e(0x2d2)][_0x3fec7e(0x662)](_0x2da4f1['groupJid']),_0x4c7302=null;try{_0x4c7302=(await this[_0x3fec7e(0x3dc)](_0x2da4f1[_0x3fec7e(0x561)]))[_0x3fec7e(0xf6)];}catch(_0x3adf71){this[_0x3fec7e(0x2ad)][_0x3fec7e(0x208)](this[_0x3fec7e(0x372)]+'\x20('+this['instance']['wuid']+_0x3fec7e(0x124)+_0x2da4f1[_0x3fec7e(0x561)]+':\x20'+_0x3adf71[_0x3fec7e(0x3c2)]());}let _0x251852=await this[_0x3fec7e(0x1bf)]['chat'][_0x3fec7e(0x2ba)]({'where':{'_id':_0x2da4f1[_0x3fec7e(0x561)],'owner':this[_0x3fec7e(0x54c)]['wuid']}},{'imagechat':_0x4c7302,'name':_0x36303c[_0x3fec7e(0x5a5)],'group_size':_0x36303c[_0x3fec7e(0x3d6)],'group_announce':_0x36303c[_0x3fec7e(0x2a7)],'lastcache':Date['now']()});return _0x251852&&B(this[_0x3fec7e(0x372)],'chats',{'chat':_0x251852}),{'metadata':_0x36303c,'image':_0x4c7302};}catch(_0x4c836d){if(_0x40ad41==='inner')return;throw new x(_0x3fec7e(0x1cf),_0x4c836d['toString']());}}async[a0_0x2caf34(0x61f)](_0x1ad976){const _0x279b7c=a0_0x2caf34;try{return await this[_0x279b7c(0x2d2)]['groupUpdateDescription'](_0x1ad976[_0x279b7c(0x561)],_0x1ad976[_0x279b7c(0x188)]),{'update':'success'};}catch(_0x74c60f){throw new A(_0x279b7c(0x3ef),_0x74c60f[_0x279b7c(0x3c2)]());}}async[a0_0x2caf34(0x1db)](_0x380d1f){const _0x42e70a=a0_0x2caf34;try{return await this[_0x42e70a(0x2d2)][_0x42e70a(0x55b)](_0x380d1f[_0x42e70a(0x561)],_0x380d1f[_0x42e70a(0x3c7)]),{'update':_0x42e70a(0x387)};}catch(_0x4a4e5d){throw new A(_0x42e70a(0x555),_0x4a4e5d[_0x42e70a(0x3c2)]());}}async['groupSetting'](_0x15558d){const _0x11b040=a0_0x2caf34;try{return await this['client'][_0x11b040(0x2e1)](_0x15558d[_0x11b040(0x561)],_0x15558d[_0x11b040(0x5a3)]),{'update':'success'};}catch(_0x5f124b){throw new A(_0x11b040(0x639),_0x5f124b[_0x11b040(0x3c2)]());}}async[a0_0x2caf34(0x546)](){const _0x3ad41f=a0_0x2caf34;try{let _0x1ea573=[],_0x10c37f=await this[_0x3ad41f(0x2d2)][_0x3ad41f(0x123)](),_0x2c28e1=Object['values'](_0x10c37f),_0x3d457e=_0x2c28e1[_0x3ad41f(0x356)](_0x46cc0d=>(0x0,w['isJidGroup'])(_0x46cc0d?.['id']))[_0x3ad41f(0x566)](async _0x397a74=>{const _0x348690=_0x3ad41f;try{return await this[_0x348690(0x2d2)][_0x348690(0xf6)](_0x397a74['id'],_0x348690(0x37d));}catch(_0x2f3667){return this[_0x348690(0x2ad)][_0x348690(0x208)](this[_0x348690(0x372)]+'\x20('+this['instance'][_0x348690(0x482)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x397a74['id']+':\x20'+_0x2f3667[_0x348690(0x3c2)]()),null;}}),_0x3da9c9=await Promise[_0x3ad41f(0x2ec)](_0x3d457e);for(let _0x8bac06=0x0;_0x8bac06<_0x2c28e1[_0x3ad41f(0x59b)];_0x8bac06++){let _0x22ae1a=_0x2c28e1[_0x8bac06];(0x0,w['isJidGroup'])(_0x22ae1a?.['id'])&&_0x1ea573[_0x3ad41f(0x334)]({'groupJid':_0x22ae1a?.['id'],'subject':_0x22ae1a?.[_0x3ad41f(0x5a5)],'subjectOwner':_0x22ae1a?.[_0x3ad41f(0x2cf)]?.[_0x3ad41f(0x226)]('@')[0x0],'subjectTime':_0x22ae1a?.[_0x3ad41f(0x23e)],'size':_0x22ae1a?.[_0x3ad41f(0x343)]?.['length'],'owner':_0x22ae1a?.[_0x3ad41f(0x567)]?.[_0x3ad41f(0x226)]('@')[0x0],'creation':_0x22ae1a?.[_0x3ad41f(0x38e)],'desc':_0x22ae1a?.['desc'],'restrict':_0x22ae1a?.['restrict'],'announce':_0x22ae1a?.[_0x3ad41f(0x2a7)],'image':_0x3da9c9[_0x8bac06]});}return _0x1ea573;}catch(_0x32aab0){throw new x(_0x3ad41f(0x1cf),_0x32aab0[_0x3ad41f(0x3c2)]());}}async[a0_0x2caf34(0x1a1)](_0x5f3a3f){const _0x55c4e1=a0_0x2caf34;try{let _0x37a78a=await this[_0x55c4e1(0x2d2)][_0x55c4e1(0x49d)](_0x5f3a3f['groupJid']);return{'inviteUrl':_0x55c4e1(0x562)+_0x37a78a,'inviteCode':_0x37a78a};}catch(_0x49d6ab){throw new x(_0x55c4e1(0x181),_0x49d6ab[_0x55c4e1(0x3c2)]());}}async[a0_0x2caf34(0x2d3)](_0x5f32af){const _0x4a751e=a0_0x2caf34;try{let _0x4d94e4=await this[_0x4a751e(0x2d2)][_0x4a751e(0x57d)](_0x5f32af[_0x4a751e(0x561)]);return{'revoked':!0x0,'inviteUrl':_0x4a751e(0x562)+_0x4d94e4,'inviteCode':_0x4d94e4};}catch(_0x28c419){throw new x('Revoke\x20error',_0x28c419['toString']());}}async[a0_0x2caf34(0x371)](_0x91d0d0){const _0x41f101=a0_0x2caf34;try{if((0x0,O[_0x41f101(0x14e)])(_0x91d0d0[_0x41f101(0x1a1)]))var _0x2bc818=_0x91d0d0['inviteCode'][_0x41f101(0x226)]('/')[0x3];else var _0x2bc818=_0x91d0d0[_0x41f101(0x1a1)];let _0x2f8452=await this[_0x41f101(0x2d2)]['groupAcceptInvite'](_0x2bc818);return this[_0x41f101(0x2ad)][_0x41f101(0x208)](this[_0x41f101(0x372)]+'\x20('+this['instance'][_0x41f101(0x482)]+_0x41f101(0x2ca)+_0x2f8452),{'join':!0x0,'inviteCode':_0x2bc818,'groupJid':_0x2f8452};}catch(_0x1e5a9b){throw new x(_0x41f101(0x32c),_0x1e5a9b['toString']());}}async[a0_0x2caf34(0x26a)](_0x3abe2d){const _0x37fdc4=a0_0x2caf34;try{return{'participants':(await this[_0x37fdc4(0x2d2)][_0x37fdc4(0x662)](_0x3abe2d['groupJid']))[_0x37fdc4(0x343)]};}catch(_0x17e30b){throw new x(_0x37fdc4(0x245),_0x17e30b[_0x37fdc4(0x3c2)]());}}async[a0_0x2caf34(0x3b6)](_0x487d9c){const _0x253565=a0_0x2caf34;try{let _0x1a2509=_0x487d9c[_0x253565(0x343)][_0x253565(0x566)](_0x17eaea=>this[_0x253565(0x205)](_0x17eaea));return{'updateParticipants':await this[_0x253565(0x2d2)]['groupParticipantsUpdate'](_0x487d9c[_0x253565(0x561)],_0x1a2509,_0x487d9c[_0x253565(0x54b)])};}catch(_0x32e68c){throw new g('Error\x20updating\x20participants',_0x32e68c[_0x253565(0x3c2)]());}}async['toggleEphemeral'](_0x526215){const _0x1d23a7=a0_0x2caf34;try{let _0x1697b9=await this[_0x1d23a7(0x2d2)][_0x1d23a7(0x303)](_0x526215['groupJid'],_0x526215[_0x1d23a7(0x42c)]);return{'success':!0x0};}catch(_0x342504){throw new g(_0x1d23a7(0x221),_0x342504['toString']());}}async[a0_0x2caf34(0x2b0)](_0x2a8993){const _0x3926e4=a0_0x2caf34;try{return await this[_0x3926e4(0x2d2)][_0x3926e4(0x1fb)](_0x2a8993[_0x3926e4(0x561)]),{'groupJid':_0x2a8993[_0x3926e4(0x561)],'leave':!0x0};}catch(_0x295d6c){throw new g(_0x3926e4(0x4e0),_0x295d6c[_0x3926e4(0x3c2)]());}}async[a0_0x2caf34(0x4c7)](_0x17cfa4){const _0x5593d8=a0_0x2caf34;return await this[_0x5593d8(0x195)](_0x17cfa4[_0x5593d8(0x487)],{'poll':{'name':_0x17cfa4[_0x5593d8(0x4c7)]?.[_0x5593d8(0x3c7)],'selectableCount':_0x17cfa4[_0x5593d8(0x4c7)]['selectableCount'],'values':_0x17cfa4[_0x5593d8(0x4c7)][_0x5593d8(0x13b)]}},_0x17cfa4?.['options']);}async[a0_0x2caf34(0x33c)](_0x2edd5a,_0xdd8ac2,_0x575ee7){const _0xcef0fa=a0_0x2caf34;if(await this['getMessage'](_0x2edd5a,!0x0)){let _0x1588ec={'where':{'_id':_0x2edd5a['id'],'owner':this[_0xcef0fa(0x54c)][_0xcef0fa(0x482)]}},_0x2999a6={'status':[_0x575ee7['status']][0x0]};try{let _0x42e7a2=await this[_0xcef0fa(0x1bf)]['message']['update'](_0x1588ec,_0x2999a6);_0x42e7a2&&B(this[_0xcef0fa(0x372)],_0xcef0fa(0x2b2),{'message':_0x42e7a2});}catch{}}}[a0_0x2caf34(0x591)](_0x21ad21){const _0x4634d0=a0_0x2caf34;let _0x59bfdc=_0x21ad21['replace'](/\\n/g,'\x0a')[_0x4634d0(0x226)]('\x0a')[_0x4634d0(0x356)](_0x1ce514=>_0x1ce514[_0x4634d0(0xea)](_0x4634d0(0x138))||_0x1ce514['includes'](_0x4634d0(0x3a7))),_0x3b5d8e='';return _0x59bfdc[_0x4634d0(0x369)](_0x276f57=>{const _0x1a8068=_0x4634d0;let _0xd0e1d3=/TEL(?:.*):(.+)/,_0x5b2c8e=/EMAIL(?:.*):(.+)/,_0x336561=_0x276f57[_0x1a8068(0x472)](_0xd0e1d3),_0x109047=_0x276f57['match'](_0x5b2c8e);if(_0x336561){let _0x21b164=_0x336561[0x1][_0x1a8068(0xb1)](/-| |\+|\(|\)/g,'')[_0x1a8068(0x3cd)]();_0x3b5d8e+=_0x1a8068(0x258)+_0x21b164+'\x0a';}else{if(_0x109047){let _0x3c3653=_0x109047[0x1][_0x1a8068(0x3cd)]();_0x3b5d8e+=_0x1a8068(0x99)+_0x3c3653+'\x0a';}}}),_0x3b5d8e[_0x4634d0(0x3cd)]();}async['updateChatWithMessage'](_0x3804f8,_0x222e60,_0x1d27ec){const _0x3a0002=a0_0x2caf34;let _0x37cca2=_0x222e60[_0x3a0002(0x465)][_0x3a0002(0x4a8)][_0x3a0002(0xb1)](/:\d{1,2}@/g,'@'),_0x10c4a0=_0x222e60['key'][_0x3a0002(0x19f)],_0x3d3e14=_0x37cca2[_0x3a0002(0x48e)](_0x3a0002(0xe5));if(!_0x3804f8['ENABLED'])return;let _0x3e3356={'lastmsg':_0x222e60[_0x3a0002(0x3e3)]||Date[_0x3a0002(0x572)](),'unreadcount':_0x10c4a0?0x0:0x1,..._0x10c4a0||_0x3d3e14?{}:{'name':_0x222e60[_0x3a0002(0x631)]},..._0x3d3e14?{'group':_0x3d3e14}:{}},_0x1f02b0=await this[_0x3a0002(0x1bf)][_0x3a0002(0x300)][_0x3a0002(0x2ba)]({'where':{'_id':_0x37cca2,'owner':this['instance']['wuid']}},_0x3e3356,{'new':!0x0,'upsert':!0x0});if(!_0x3d3e14&&(!_0x1f02b0?.['leadInfo']||!_0x1f02b0[_0x3a0002(0x331)][_0x3a0002(0x64c)])&&_0x222e60[_0x3a0002(0x631)]&&!_0x10c4a0&&await this[_0x3a0002(0x1bf)][_0x3a0002(0x300)]['updateOne']({'where':{'_id':_0x37cca2,'owner':this[_0x3a0002(0x54c)][_0x3a0002(0x482)]}},{'leadInfo.nome':_0x222e60[_0x3a0002(0x631)]},{'new':!0x0,'upsert':!0x1}),_0x1f02b0?B(this[_0x3a0002(0x372)],_0x3a0002(0xac),{'chat':_0x1f02b0}):this[_0x3a0002(0x2ad)][_0x3a0002(0x348)](this[_0x3a0002(0x372)]+'\x20('+this[_0x3a0002(0x54c)][_0x3a0002(0x482)]+_0x3a0002(0x1af)),!this[_0x3a0002(0x60c)]?.[_0x3a0002(0x52c)][_0x3a0002(0x34f)])return this[_0x3a0002(0x2ad)][_0x3a0002(0x208)](this[_0x3a0002(0x372)]+'\x20('+this[_0x3a0002(0x54c)][_0x3a0002(0x482)]+_0x3a0002(0xab)),null;if(_0x1f02b0[_0x3a0002(0x4da)][_0x3a0002(0xea)]('@g.us')&&this[_0x3a0002(0x60c)]?.['flowConfig']['ignoreGroups']===!0x0)return this['logger']['verbose'](this[_0x3a0002(0x372)]+'\x20('+this['instance'][_0x3a0002(0x482)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1f02b0[_0x3a0002(0x331)]){if(_0x1f02b0[_0x3a0002(0x331)]['desativadoFluxoAte']===0x0||_0x1f02b0[_0x3a0002(0x331)]['atendimentoAberto'])return this[_0x3a0002(0x2ad)][_0x3a0002(0x208)](this[_0x3a0002(0x372)]+'\x20('+this[_0x3a0002(0x54c)][_0x3a0002(0x482)]+_0x3a0002(0x1b7)+_0x37cca2+_0x3a0002(0x5fe)),null;if(_0x1f02b0['leadInfo'][_0x3a0002(0xba)]>Date['now']())return this[_0x3a0002(0x2ad)]['verbose'](this['instanceName']+'\x20('+this[_0x3a0002(0x54c)][_0x3a0002(0x482)]+_0x3a0002(0x44c)+new Date(_0x1f02b0[_0x3a0002(0x331)]['desativadoFluxoAte'])['toLocaleString']()+_0x3a0002(0x5fe)),null;}this[_0x3a0002(0x2ad)][_0x3a0002(0x208)](this[_0x3a0002(0x372)]+'\x20('+this['instance'][_0x3a0002(0x482)]+_0x3a0002(0x655)),this[_0x3a0002(0x44a)](_0x1d27ec,_0x222e60,this['instance'][_0x3a0002(0x482)]);}async[a0_0x2caf34(0x29b)](_0x2fae78,_0x15aef5){const _0x4b12a9=a0_0x2caf34;if(_0x15aef5[_0x4b12a9(0x481)]){let _0x35ecdf=_0x2fae78[_0x4b12a9(0x566)](async _0x181c9b=>{const _0x52b7f6=_0x4b12a9;try{let _0x2dfba8={'_id':_0x181c9b[_0x52b7f6(0x4da)],'owner':_0x181c9b[_0x52b7f6(0x567)],'lastcache':0x0};if(_0x181c9b[_0x52b7f6(0x131)]!==null&&(_0x2dfba8[_0x52b7f6(0x131)]=_0x181c9b[_0x52b7f6(0x131)]),_0x181c9b[_0x52b7f6(0x3c7)]!==null&&(_0x2dfba8[_0x52b7f6(0x3c7)]=_0x181c9b[_0x52b7f6(0x3c7)]),_0x181c9b[_0x52b7f6(0x54e)]!==null&&(_0x2dfba8['contactname']=_0x181c9b[_0x52b7f6(0x54e)]),_0x181c9b[_0x52b7f6(0x2c5)]!==null&&(_0x2dfba8[_0x52b7f6(0x2c5)]=_0x181c9b['imagechat']),_0x181c9b[_0x52b7f6(0x2c5)]===null&&(_0x2dfba8[_0x52b7f6(0x2c5)]=_0x52b7f6(0x4ef)),_0x181c9b['lastmsg']!==null&&(_0x2dfba8[_0x52b7f6(0x599)]=_0x181c9b[_0x52b7f6(0x599)]),_0x181c9b['archived']!==null&&(_0x2dfba8['archived']=_0x181c9b[_0x52b7f6(0x4e9)]),_0x181c9b['unreadcount']!==null&&(_0x2dfba8[_0x52b7f6(0x1ce)]=_0x181c9b[_0x52b7f6(0x1ce)]),Object[_0x52b7f6(0x3d5)](_0x2dfba8)[_0x52b7f6(0x59b)]>0x0)return await this[_0x52b7f6(0x1bf)][_0x52b7f6(0x300)][_0x52b7f6(0x2ba)]({'where':{'_id':_0x181c9b[_0x52b7f6(0x4da)],'owner':_0x181c9b[_0x52b7f6(0x567)]}},_0x2dfba8);}catch(_0x31b08d){return console[_0x52b7f6(0x348)](_0x52b7f6(0x1fd)+_0x181c9b[_0x52b7f6(0x4da)]+':',_0x31b08d),null;}}),_0x31bd4f=(await Promise[_0x4b12a9(0x2ec)](_0x35ecdf))[_0x4b12a9(0x356)](_0x151948=>_0x151948!==null)['length'];this[_0x4b12a9(0x2ad)]['verbose'](this[_0x4b12a9(0x372)]+'\x20('+this[_0x4b12a9(0x54c)][_0x4b12a9(0x482)]+_0x4b12a9(0x2ca)+_0x31bd4f+_0x4b12a9(0x284)+this['instance'][_0x4b12a9(0x482)]+_0x4b12a9(0x375));}}async['readMessageBot'](_0x4c9c4a){const _0x515633=a0_0x2caf34;this['logger'][_0x515633(0x208)](this[_0x515633(0x372)]+'\x20('+this['instance']['wuid']+'):\x20Ler\x20mensagem');let _0x261b5e={'readMessages':[{'remoteJid':_0x4c9c4a[_0x515633(0xa2)][_0x515633(0x2a6)][_0x515633(0x465)][_0x515633(0x4a8)],'fromMe':_0x4c9c4a['chatLog']['lastReceivedMessage']['key'][_0x515633(0x19f)],'id':_0x4c9c4a[_0x515633(0xa2)]['lastReceivedMessage'][_0x515633(0x465)]['id']}]};await this[_0x515633(0x570)](_0x261b5e);}async[a0_0x2caf34(0x44a)](_0x184c46,_0x23dac5,_0xab80a2){const _0x44c650=a0_0x2caf34;try{let {key:_0x13c5f3,message_normalized:_0x3b281e}=_0x23dac5,_0x267e4b=_0x3b281e,_0x20b138=_0x3b281e[_0x44c650(0x3f8)]||_0x3b281e[_0x44c650(0x59e)]||_0x3b281e['vote']||_0x3b281e[_0x44c650(0x3c7)],_0x1b4036=_0x13c5f3[_0x44c650(0x4a8)],_0x3381eb;if(_0x267e4b[_0x44c650(0x465)]['fromMe']&&_0x20b138[_0x44c650(0x3cd)]()!==this[_0x44c650(0x60c)]?.['flowConfig'][_0x44c650(0x4c8)][_0x44c650(0x3cd)]())return this[_0x44c650(0x2ad)][_0x44c650(0x208)](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x51f)),null;if(_0x267e4b['key'][_0x44c650(0x19f)]&&_0x20b138[_0x44c650(0x3cd)]()===this[_0x44c650(0x60c)]?.[_0x44c650(0x52c)]['stopConversation'][_0x44c650(0x3cd)]()){this[_0x44c650(0x2ad)]['verbose'](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x683));let _0x543bf3=await j[_0x44c650(0x504)]({'owner':_0xab80a2,'remoteJid':_0x1b4036,'status':_0x44c650(0x35b)});this[_0x44c650(0x2ad)][_0x44c650(0x208)](this['instanceName']+'\x20('+this[_0x44c650(0x54c)]['wuid']+_0x44c650(0xe3)+_0x543bf3);let _0x954735=Date[_0x44c650(0x572)](),_0x5cc4e0;return this[_0x44c650(0x60c)]?.[_0x44c650(0x52c)]['stopMinutes']===0x0?_0x5cc4e0={'stoppedUntil':_0x954735+0x7591f6200}:_0x5cc4e0={'stoppedUntil':_0x954735+this['AutomateSystem']?.['flowConfig'][_0x44c650(0x2a8)]*0x3c*0x3e8},this[_0x44c650(0x2ad)][_0x44c650(0x208)](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x5cc4e0),this[_0x44c650(0x261)](_0x3381eb,_0x5cc4e0['stoppedUntil']),null;}if(_0x20b138&&_0x20b138['startsWith'](this[_0x44c650(0x60c)]?.[_0x44c650(0x52c)][_0x44c650(0x233)])&&_0x20b138[_0x44c650(0x59b)]>0x4){let _0x46299c=await I[_0x44c650(0x400)]({'owner':_0xab80a2,'startCommandWord':_0x20b138});if(this['logger'][_0x44c650(0x208)](this['instanceName']+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x223)),_0x46299c)_0x3381eb=await this[_0x44c650(0x2e7)](_0x46299c,_0x267e4b[_0x44c650(0x465)],_0x267e4b);else return this['logger'][_0x44c650(0x208)](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x5b6)),null;}else _0x3381eb=await this[_0x44c650(0x4eb)](_0xab80a2,_0x1b4036,_0x267e4b);if(_0x3381eb){this[_0x44c650(0x2ad)][_0x44c650(0x208)](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x573)),!_0x13c5f3[_0x44c650(0x19f)]&&_0x3381eb[_0x44c650(0x1d9)]&&this[_0x44c650(0x210)](_0x3381eb);let _0x41e559=await this['NextBlock'](_0x3381eb);_0x41e559&&await this[_0x44c650(0xaa)](_0x3381eb,_0x41e559,_0x3381eb['remoteJid']);}}catch(_0x516acb){this[_0x44c650(0x2ad)][_0x44c650(0x348)](this[_0x44c650(0x372)]+'\x20('+this[_0x44c650(0x54c)][_0x44c650(0x482)]+_0x44c650(0x5e3)+_0x516acb);}}[a0_0x2caf34(0x629)](_0x527c27,_0x4b9843='',_0x213dbf={},_0x28bea4=!0x0){const _0x30bc2d=a0_0x2caf34;for(let _0x3940f0 in _0x527c27){let _0x15584e=_0x28bea4?'_'+_0x3940f0:''+_0x4b9843+_0x3940f0;typeof _0x527c27[_0x3940f0]==_0x30bc2d(0x3f1)&&_0x527c27[_0x3940f0]!==null?this[_0x30bc2d(0x629)](_0x527c27[_0x3940f0],_0x15584e+'.',_0x213dbf,!0x1):_0x213dbf[_0x15584e]=String(_0x527c27[_0x3940f0]);}return _0x213dbf;}[a0_0x2caf34(0x23a)](_0x1d65ea){const _0x42116e=a0_0x2caf34;let _0x114e77={};for(let _0x4b0b6e of _0x1d65ea)typeof _0x4b0b6e[_0x42116e(0x3c7)]=='string'&&typeof _0x4b0b6e[_0x42116e(0xf5)]==_0x42116e(0x600)&&(_0x114e77[_0x4b0b6e[_0x42116e(0x3c7)]]=_0x4b0b6e[_0x42116e(0xf5)]);return _0x114e77;}async['NextBlock'](_0x43b6a3){const _0x5670d0=a0_0x2caf34;if(!this[_0x5670d0(0x60c)]?.['flowConfig']['enabled']||_0x43b6a3[_0x5670d0(0x505)]!==_0x5670d0(0x35b)&&_0x43b6a3[_0x5670d0(0x2da)]==='')return null;let _0x4ee0e4=_0x43b6a3['chatLog'][_0x5670d0(0x4ad)]||'start';typeof _0x43b6a3[_0x5670d0(0xa2)]['lastCondition']>'u'&&(_0x43b6a3['chatLog']['lastCondition']=!0x0);let _0x21d6e9=_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x477)];this[_0x5670d0(0x2ad)]['verbose'](this[_0x5670d0(0x372)]+'\x20('+this[_0x5670d0(0x54c)][_0x5670d0(0x482)]+'):\x20lastBlockId:\x20'+_0x4ee0e4+_0x5670d0(0x193)+_0x21d6e9);let _0x4c343f=_0x4ee0e4===_0x5670d0(0x45f)?_0x43b6a3[_0x5670d0(0x328)][_0x5670d0(0x504)](_0x4ddde6=>_0x4ddde6[_0x5670d0(0x54a)]===_0x5670d0(0x45f)):_0x43b6a3['blocks']['find'](_0x7442f5=>_0x7442f5[_0x5670d0(0x4da)]['toString']()===_0x4ee0e4['toString']());if(!_0x4c343f)return this[_0x5670d0(0x2ad)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5670d0(0x2b4)+_0x4ee0e4),null;let _0x5c8ea7={'_pushName':_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x2a6)][_0x5670d0(0x631)],..._0x43b6a3[_0x5670d0(0xa2)]['realVariables']},_0x1eec56=null;if(_0x43b6a3['waitingPoll_id']){let _0x237ebe=_0x43b6a3[_0x5670d0(0xa2)]['lastReceivedMessage'][_0x5670d0(0x163)],_0x327faf=_0x43b6a3[_0x5670d0(0x486)][_0x5670d0(0x504)](_0x5458a5=>_0x5458a5[_0x5670d0(0x63a)]===_0x237ebe);if(_0x327faf){let _0x5e58aa=_0x327faf[_0x5670d0(0x1b5)];if(_0x1eec56=_0x43b6a3[_0x5670d0(0x328)][_0x5670d0(0x504)](_0x3888d6=>_0x3888d6[_0x5670d0(0x619)]===_0x5e58aa&&_0x3888d6['order']===0x1),_0x4c343f[_0x5670d0(0xad)][_0x5670d0(0x2a4)]){let _0x1c8b05={'id':_0x43b6a3[_0x5670d0(0x2da)],'remoteJid':_0x43b6a3['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x1c8b05);}if(_0x4c343f[_0x5670d0(0xad)][_0x5670d0(0x2a4)]&&_0x4c343f[_0x5670d0(0xad)][_0x5670d0(0x1c1)]){let _0x597ff3={'number':_0x43b6a3['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5670d0(0x5f2)+_0x43b6a3[_0x5670d0(0x1c3)]+_0x5670d0(0x2f8)+_0x237ebe}};await this[_0x5670d0(0x5a8)](_0x597ff3);}_0x43b6a3[_0x5670d0(0x505)]='open',_0x43b6a3[_0x5670d0(0x2da)]='',_0x43b6a3[_0x5670d0(0x1c3)]='',_0x43b6a3['waitingPoll_replyOptions']=[];}else{this[_0x5670d0(0x2ad)][_0x5670d0(0x208)](this[_0x5670d0(0x372)]+'\x20('+this[_0x5670d0(0x54c)][_0x5670d0(0x482)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x2c56ac={'activatedCount':_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x2b5)]['filter'](_0x3dd2d6=>String(_0x3dd2d6['blockId'])===String(_0x4ee0e4))['length'],'moreLogs':[_0x5670d0(0x39a)]};if(_0x4c343f['uazapi'][_0x5670d0(0x4af)]){let _0x513e54={'number':_0x43b6a3[_0x5670d0(0x4a8)],'options':{'delay':0x0},'textMessage':{'text':_0x4c343f[_0x5670d0(0xad)][_0x5670d0(0x4af)]}};await this['textMessage'](_0x513e54);}if(_0x4c343f[_0x5670d0(0xe6)]!==void 0x0&&_0x2c56ac[_0x5670d0(0xd3)]>=_0x4c343f['maxActives']){let _0x32090f=Date[_0x5670d0(0x572)](),_0x5401bb=_0x4c343f[_0x5670d0(0x64e)]??0xa;isNaN(_0x5401bb)&&(_0x5401bb=0xa);let _0x2beb55=_0x32090f+_0x5401bb*0x3c*0x3e8;_0x2c56ac[_0x5670d0(0x15d)]=_0x2beb55,_0x2c56ac[_0x5670d0(0x5ae)][_0x5670d0(0x334)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x5670d0(0x261)](_0x43b6a3,_0x2beb55),_0x43b6a3['waitingPoll_id']='',_0x43b6a3[_0x5670d0(0x1c3)]='',_0x43b6a3['waitingPoll_replyOptions']=[];}return this[_0x5670d0(0x332)](_0x43b6a3,_0x4c343f,_0x2c56ac,!0x0),null;}}if(_0x21d6e9&&_0x4c343f[_0x5670d0(0x1b5)]&&!_0x43b6a3[_0x5670d0(0x2da)]){let _0x21d66e=_0x43b6a3[_0x5670d0(0x328)][_0x5670d0(0x356)](_0x4b358b=>_0x4b358b[_0x5670d0(0x619)][_0x5670d0(0x3c2)]()===_0x4c343f[_0x5670d0(0x1b5)]['toString']())['sort']((_0xb131f8,_0x329110)=>_0xb131f8[_0x5670d0(0x425)]-_0x329110[_0x5670d0(0x425)]);_0x21d66e['length']>0x0&&(_0x1eec56=_0x21d66e[0x0]);}if(!_0x1eec56){let _0x58101e=_0x4c343f['groupId'],_0x2d7aee=_0x43b6a3[_0x5670d0(0x328)][_0x5670d0(0x356)](_0xa4e43c=>_0xa4e43c[_0x5670d0(0x619)]===_0x58101e&&_0xa4e43c[_0x5670d0(0x425)]>_0x4c343f[_0x5670d0(0x425)])[_0x5670d0(0x5f1)]((_0x825b93,_0x765646)=>_0x825b93['order']-_0x765646[_0x5670d0(0x425)]);_0x2d7aee[_0x5670d0(0x59b)]>0x0&&(_0x1eec56=_0x2d7aee[0x0]);}if(!_0x1eec56)return _0x43b6a3[_0x5670d0(0x505)]='closed',null;_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x3af)]=_0x5c8ea7;let _0x279434=JSON[_0x5670d0(0x44d)](JSON[_0x5670d0(0xff)](_0x1eec56));return this[_0x5670d0(0x128)](_0x279434,_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x3af)]),_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x4ad)]=_0x279434[_0x5670d0(0x4da)],_0x43b6a3[_0x5670d0(0xa2)][_0x5670d0(0x477)]=!0x0,_0x279434;}['replaceVariables'](_0x21d60d,_0x57f4b8){const _0x12131a=a0_0x2caf34;return _0x21d60d[_0x12131a(0xb1)](/\{\{([^}]+)\}\}/g,(_0x42e9e4,_0x20a7e2)=>_0x57f4b8[_0x20a7e2]||'');}['replaceVariablesInObject'](_0x7da7d0,_0x32864e){const _0x4cebc6=a0_0x2caf34;for(let _0xee0552 in _0x7da7d0)typeof _0x7da7d0[_0xee0552]==_0x4cebc6(0x600)?_0x7da7d0[_0xee0552]=this[_0x4cebc6(0x490)](_0x7da7d0[_0xee0552],_0x32864e):typeof _0x7da7d0[_0xee0552]==_0x4cebc6(0x3f1)&&this[_0x4cebc6(0x128)](_0x7da7d0[_0xee0552],_0x32864e);}async[a0_0x2caf34(0x653)](_0x54e89f,_0x19006d){const _0x5635cb=a0_0x2caf34;let _0x5c8f48=_0x19006d[_0x5635cb(0x4da)];if(_0x54e89f[_0x5635cb(0xa2)]&&_0x54e89f[_0x5635cb(0xa2)][_0x5635cb(0x2b5)]){let _0x281412=_0x54e89f[_0x5635cb(0xa2)][_0x5635cb(0x2b5)][_0x5635cb(0x356)](_0x182e4f=>String(_0x182e4f['blockId'])===String(_0x5c8f48))[_0x5635cb(0xca)]();if(_0x281412&&_0x281412[_0x5635cb(0x348)]&&_0x19006d['stopIfLastReturnedError'])return _0x54e89f[_0x5635cb(0x505)]=_0x5635cb(0x31e),await this['saveConversationToDatabase'](_0x54e89f),null;}if(_0x19006d[_0x5635cb(0x54a)]==='uazapi'&&_0x19006d[_0x5635cb(0xad)]['command']===_0x5635cb(0x406)&&_0x54e89f[_0x5635cb(0x2da)])return _0x54e89f[_0x5635cb(0xa2)]['lastBlockId']=_0x5c8f48,await this[_0x5635cb(0x43c)](_0x54e89f),null;let _0x1af759=await this[_0x5635cb(0x2bb)](_0x54e89f);if(_0x54e89f[_0x5635cb(0xa2)]&&_0x54e89f[_0x5635cb(0xa2)][_0x5635cb(0x2b5)]){let _0x24ed02=_0x54e89f['chatLog'][_0x5635cb(0x2b5)][_0x5635cb(0x356)](_0x122504=>String(_0x122504['blockId'])===String(_0x5c8f48))[_0x5635cb(0x59b)];if(_0x19006d['maxActives']!==void 0x0&&_0x24ed02>=_0x19006d[_0x5635cb(0xe6)]){let _0x46d8fc=Date[_0x5635cb(0x572)](),_0x2efc48=_0x19006d[_0x5635cb(0x64e)]??0xa;isNaN(_0x2efc48)&&(_0x2efc48=0xa);let _0x3a8d96=_0x46d8fc+_0x2efc48*0x3c*0x3e8,_0x226ec4={'newStoppedUntil':_0x3a8d96};return this[_0x5635cb(0x261)](_0x54e89f,_0x3a8d96),this[_0x5635cb(0x332)](_0x54e89f,_0x19006d,_0x226ec4,!0x0),null;}}_0x1af759&&_0x1af759[_0x5635cb(0x54a)]!==_0x5635cb(0x4ff)&&await this[_0x5635cb(0xaa)](_0x54e89f,_0x1af759,_0x54e89f[_0x5635cb(0x4a8)]),_0x1af759||await this['saveConversationToDatabase'](_0x54e89f),_0x1af759&&_0x1af759['type']==='save'&&(_0x54e89f[_0x5635cb(0xa2)][_0x5635cb(0x4ad)]=_0x5c8f48,await this[_0x5635cb(0x43c)](_0x54e89f));}async['processblock'](_0x4ac502,_0xfdce1f,_0x155e19){const _0x2dfd0c=a0_0x2caf34;try{let _0x462f6b=_0xfdce1f[_0x2dfd0c(0x54a)];this[_0x2dfd0c(0x2ad)][_0x2dfd0c(0x208)](this[_0x2dfd0c(0x372)]+'\x20('+this[_0x2dfd0c(0x54c)][_0x2dfd0c(0x482)]+_0x2dfd0c(0x5ed)+_0x462f6b);let _0x15b7e3={'uazapi':()=>this[_0x2dfd0c(0x354)](_0x4ac502,_0xfdce1f,_0x155e19),'save':()=>this['saveTextReply'](_0x4ac502,_0xfdce1f),'stop':()=>this['stopConversation'](_0x4ac502,_0xfdce1f),'condition':()=>this[_0x2dfd0c(0x410)](_0x4ac502,_0xfdce1f),'varedit':()=>this[_0x2dfd0c(0x3b3)](_0x4ac502,_0xfdce1f),'apirequest':()=>this[_0x2dfd0c(0xa4)](_0x4ac502,_0xfdce1f),'goToFlow':()=>this[_0x2dfd0c(0x172)](_0x4ac502,_0xfdce1f)}[_0x462f6b];_0x15b7e3&&await _0x15b7e3();}catch(_0x470450){this[_0x2dfd0c(0x2ad)][_0x2dfd0c(0x348)](this[_0x2dfd0c(0x372)]+'\x20('+this[_0x2dfd0c(0x54c)][_0x2dfd0c(0x482)]+_0x2dfd0c(0x4a7)+_0x470450);}}async[a0_0x2caf34(0x172)](_0x85de8,_0x4c7111){const _0x173f40=a0_0x2caf34;if(this[_0x173f40(0x2ad)][_0x173f40(0x208)](this[_0x173f40(0x372)]+'\x20('+this[_0x173f40(0x54c)][_0x173f40(0x482)]+_0x173f40(0x3de)),!_0x85de8||!_0x4c7111)return this[_0x173f40(0x2ad)]['error'](this[_0x173f40(0x372)]+'\x20('+this[_0x173f40(0x54c)][_0x173f40(0x482)]+_0x173f40(0x4be)),null;await this[_0x173f40(0x332)](_0x85de8,_0x4c7111,{},!0x0,!0x0),console[_0x173f40(0x174)](_0x173f40(0x31b)),console[_0x173f40(0x174)](_0x4c7111);let _0xdbe33f=_0x4c7111[_0x173f40(0x5df)];console[_0x173f40(0x174)]('flowname:\x20',_0xdbe33f),_0x85de8=await this[_0x173f40(0x641)](_0xdbe33f,_0x85de8[_0x173f40(0x4a8)],_0x85de8[_0x173f40(0xa2)][_0x173f40(0x3af)]),this[_0x173f40(0x2ad)][_0x173f40(0x208)](this[_0x173f40(0x372)]+'\x20('+this['instance'][_0x173f40(0x482)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x397905=await this[_0x173f40(0x2bb)](_0x85de8);_0x397905&&await this[_0x173f40(0xaa)](_0x85de8,_0x397905,_0x85de8[_0x173f40(0x4a8)]);}async[a0_0x2caf34(0x641)](_0x7c9c2e,_0xab7d0c,_0x40fcf0){const _0x52cc39=a0_0x2caf34;this[_0x52cc39(0x2ad)]['verbose'](this['instanceName']+'\x20('+this[_0x52cc39(0x54c)][_0x52cc39(0x482)]+_0x52cc39(0x1e0));try{if(_0x7c9c2e=await I[_0x52cc39(0x400)]({'owner':this[_0x52cc39(0x54c)][_0x52cc39(0x482)],'name':_0x7c9c2e}),!_0x7c9c2e)return this[_0x52cc39(0x2ad)][_0x52cc39(0x348)](this[_0x52cc39(0x372)]+'\x20('+this[_0x52cc39(0x54c)][_0x52cc39(0x482)]+_0x52cc39(0x3fb)),null;let _0x8fe70b=require('mongodb')['ObjectId'],_0x38435e=Date[_0x52cc39(0x572)](),_0x34339c=_0x52cc39(0x45f),_0x509bce={},_0x46db76={},_0x5ad0e5={..._0x7c9c2e[_0x52cc39(0x2ea)],'chatLog':null},_0x4a7737={'lastReceivedMessage':_0x509bce,'lastSendMessage':_0x46db76,'lastBlockId':_0x34339c,'lastCondition':!0x0,'realVariables':_0x40fcf0};_0x5ad0e5['chatLog']=_0x4a7737,_0x5ad0e5[_0x52cc39(0xa2)][_0x52cc39(0x3af)]={..._0x40fcf0},delete _0x5ad0e5['_id'],_0x5ad0e5[_0x52cc39(0x4da)]=new _0x8fe70b(),_0x5ad0e5['lastInteraction']=_0x38435e,_0x5ad0e5['status']='open',_0x5ad0e5['remoteJid']=_0xab7d0c;let _0x4e35a2=await j[_0x52cc39(0x333)](_0x5ad0e5);return this[_0x52cc39(0x2ad)][_0x52cc39(0x208)](this[_0x52cc39(0x372)]+'\x20('+this[_0x52cc39(0x54c)][_0x52cc39(0x482)]+_0x52cc39(0x627)),_0x4e35a2?_0x5ad0e5:null;}catch(_0x3b1155){throw this['logger'][_0x52cc39(0x348)](this[_0x52cc39(0x372)]+'\x20('+this[_0x52cc39(0x54c)]['wuid']+_0x52cc39(0x9d)+_0x3b1155),new g(_0x3b1155[_0x52cc39(0x5c9)]);}}async['processApiRequest'](_0xbe4bbf,_0x395c79){const _0x177cda=a0_0x2caf34;let _0x1a6575,_0x3ef011;try{let _0x4901d1=_0x395c79[_0x177cda(0x67e)];if(!_0x4901d1||!_0x4901d1[_0x177cda(0x61d)]||!_0x4901d1[_0x177cda(0x374)])throw new Error(_0x177cda(0x1e8));let _0x228f07={'method':_0x4901d1[_0x177cda(0x374)],'url':_0x4901d1[_0x177cda(0x61d)],'headers':_0x4901d1[_0x177cda(0x1f4)]||{},'data':_0x4901d1['body']||{}};_0x1a6575=(await(0x0,ne[_0x177cda(0x418)])(_0x228f07))['data'];let _0x360bb4=_0xbe4bbf[_0x177cda(0xa2)]['realVariables'],_0x3499e7=this[_0x177cda(0x629)](_0x1a6575);return Object['assign'](_0x360bb4,_0x3499e7),_0xbe4bbf['chatLog'][_0x177cda(0x3af)]=_0x360bb4,_0x3ef011={'error':!0x1,'apiResponse':_0x1a6575},this['updateConversation'](_0xbe4bbf,_0x395c79,_0x3ef011),_0x1a6575;}catch(_0x2f98fb){console[_0x177cda(0x348)](_0x177cda(0x1e9),_0x2f98fb),_0x2f98fb['response']&&(_0x1a6575=_0x2f98fb['response'][_0x177cda(0x51b)]);let _0x20c89d=_0xbe4bbf[_0x177cda(0xa2)][_0x177cda(0x3af)],_0x2cf3ad=this['flattenObject'](_0x1a6575);return Object['assign'](_0x20c89d,_0x2cf3ad),_0xbe4bbf[_0x177cda(0xa2)][_0x177cda(0x3af)]=_0x20c89d,_0x3ef011={'error':!0x0,'errorLog':_0x2f98fb['toString'](),'apiResponse':_0x1a6575},this[_0x177cda(0x332)](_0xbe4bbf,_0x395c79,_0x3ef011),{'success':!0x1};}}[a0_0x2caf34(0x525)](_0x5e851e,_0x12ded4){const _0x5c61be=a0_0x2caf34;let _0xd72958=_0x467ae3=>{const _0x19c455=a0_0x54b4;let _0xfdc61c=_0x467ae3[_0x19c455(0xb1)](/[^0-9.,-]/g,'')[_0x19c455(0xb1)](',','.'),_0x47ca0d=parseFloat(_0xfdc61c);return isNaN(_0x47ca0d)?null:_0x47ca0d;},_0x3ed722=_0x12ded4['firstValue'],_0x3839a5=_0x12ded4['secondValue'];typeof _0x3ed722==_0x5c61be(0x600)&&(_0x3ed722=this[_0x5c61be(0x490)](_0x3ed722,_0x5e851e[_0x5c61be(0xa2)][_0x5c61be(0x3af)])??''),typeof _0x3839a5=='string'&&(_0x3839a5=this['replaceVariables'](_0x3839a5,_0x5e851e[_0x5c61be(0xa2)][_0x5c61be(0x3af)])??'');let _0x48696e=null;if(!_0x3ed722||!_0x12ded4['editOperator'])return null;switch(this[_0x5c61be(0x2ad)][_0x5c61be(0x208)](this['instanceName']+'\x20('+this[_0x5c61be(0x54c)][_0x5c61be(0x482)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x3ed722),this[_0x5c61be(0x2ad)][_0x5c61be(0x208)](this[_0x5c61be(0x372)]+'\x20('+this['instance'][_0x5c61be(0x482)]+_0x5c61be(0x2a5)+_0x3839a5),_0x12ded4[_0x5c61be(0x2bc)]){case'+':case'-':case'*':case'/':let _0x5b4535=_0xd72958(_0x3ed722),_0x584855=_0xd72958(_0x3839a5||'0');if(_0x5b4535===null)return null;switch(_0x12ded4[_0x5c61be(0x2bc)]){case'+':_0x48696e=_0x5b4535+(_0x584855??0x0);break;case'-':_0x48696e=_0x5b4535-(_0x584855??0x0);break;case'*':_0x48696e=_0x5b4535*(_0x584855??0x1);break;case'/':_0x584855!==0x0&&(_0x48696e=_0x5b4535/(_0x584855??0x1));break;}break;case _0x5c61be(0x5c3):case _0x5c61be(0x38c):let _0x2b7bda=_0x3839a5,_0x529f46=_0x12ded4[_0x5c61be(0x247)];if(typeof _0x529f46=='string'&&(_0x529f46=this[_0x5c61be(0x490)](_0x529f46,_0x5e851e['chatLog'][_0x5c61be(0x3af)])??''),_0x2b7bda&&_0x529f46!==void 0x0){let _0x16f5ce=_0x12ded4['editOperator']===_0x5c61be(0x5c3)?new RegExp(_0x2b7bda[_0x5c61be(0xb1)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x2b7bda,'g');_0x48696e=_0x3ed722[_0x5c61be(0xb1)](_0x16f5ce,_0x529f46);}else console[_0x5c61be(0x41d)](_0x5c61be(0x3a5));break;case _0x5c61be(0x41b):_0x48696e=_0x3839a5;break;case _0x5c61be(0x14d):let _0x306eeb=_0x3ed722[_0x5c61be(0x472)](new RegExp(_0x3839a5||''));_0x48696e=_0x306eeb?_0x306eeb[0x0]:'';break;case _0x5c61be(0x3e0):_0x48696e=_0x3ed722[_0x5c61be(0x4e3)](0x0,parseInt(_0x3839a5||'0'));break;case'truncatedtoEnd':let _0x424a8c=parseInt(_0x3839a5||'0');_0x48696e=_0x3ed722[_0x5c61be(0x4e3)](_0x3ed722[_0x5c61be(0x59b)]-_0x424a8c);break;case _0x5c61be(0x44f):let _0xfbd718=_0xd72958(_0x3ed722),_0x99400b=parseInt(_0x3839a5||'0');_0x99400b=Math[_0x5c61be(0x19d)](_0x99400b),_0xfbd718!==null?_0x48696e=_0xfbd718[_0x5c61be(0x53b)](_0x5c61be(0x36b),{'minimumFractionDigits':_0x99400b,'maximumFractionDigits':_0x99400b}):(console[_0x5c61be(0x41d)](_0x5c61be(0xa3)+_0x3ed722),_0x48696e=null);break;case'toBRL':let _0x4dfc4b=_0xd72958(_0x3ed722);_0x4dfc4b!==null?_0x48696e=_0x4dfc4b['toLocaleString'](_0x5c61be(0x36b),{'style':_0x5c61be(0x347),'currency':_0x5c61be(0x448)}):(console[_0x5c61be(0x41d)](_0x5c61be(0x441)+_0x3ed722),_0x48696e=null);break;case _0x5c61be(0x38f):_0x48696e=_0x3ed722['toUpperCase']();break;case _0x5c61be(0x289):_0x48696e=_0x3ed722[_0x5c61be(0x28c)]();break;case'capitalizedWords':_0x48696e=_0x3ed722['split']('\x20')[_0x5c61be(0x566)](_0x2e8e0c=>_0x2e8e0c[_0x5c61be(0x3b4)](0x0)[_0x5c61be(0x3ba)]()+_0x2e8e0c['slice'](0x1)[_0x5c61be(0x28c)]())[_0x5c61be(0x2be)]('\x20');break;case'trimmed':_0x48696e=_0x3ed722[_0x5c61be(0x3cd)]();break;default:_0x48696e=_0x3ed722;}return _0x48696e!==null?_0x48696e[_0x5c61be(0x3c2)]():null;}async[a0_0x2caf34(0x3b3)](_0x4aa7d3,_0x2f6fa8){const _0xdbcb8d=a0_0x2caf34;try{let _0x5c744a=_0x4aa7d3['varedits']?.[_0xdbcb8d(0x356)](_0x12788c=>_0x12788c['blockId']===_0x2f6fa8[_0xdbcb8d(0x4da)]?.[_0xdbcb8d(0x3c2)]())||[],_0x5dfb13=_0x2f6fa8['saveVariable'],_0x7add9d=null,_0x1c96fa=[],_0x404537=_0x4aa7d3[_0xdbcb8d(0xa2)][_0xdbcb8d(0x3af)][_0x5dfb13];_0x1c96fa[_0xdbcb8d(0x334)](_0xdbcb8d(0x4c0)+_0x404537+'\x22');for(let _0x10b28e of _0x5c744a){_0x10b28e[_0xdbcb8d(0x5ad)]=_0x404537,_0x7add9d=_0x10b28e['firstValue'];let _0x4d0b05;try{_0x4d0b05=this[_0xdbcb8d(0x525)](_0x4aa7d3,_0x10b28e);}catch(_0x22348b){console[_0xdbcb8d(0x348)](_0xdbcb8d(0x367)+_0x22348b[_0xdbcb8d(0x5c9)]);continue;}if(_0x4d0b05!==null){let _0x546482=_0xdbcb8d(0x1d4)+_0x10b28e[_0xdbcb8d(0x2bc)]+'\x22',_0x54fab8=[_0xdbcb8d(0x2f3),'upperCase',_0xdbcb8d(0x289),_0xdbcb8d(0x29e),'trimmed'];_0x10b28e['editOperator']===_0xdbcb8d(0x5c3)||_0x10b28e[_0xdbcb8d(0x2bc)]==='findAndReplaceRegex'?_0x546482+=_0xdbcb8d(0x17e)+_0x10b28e[_0xdbcb8d(0x2c3)]+_0xdbcb8d(0x5bc)+_0x10b28e[_0xdbcb8d(0x247)]+'\x22':!_0x54fab8[_0xdbcb8d(0xea)](_0x10b28e[_0xdbcb8d(0x2bc)])&&_0x10b28e[_0xdbcb8d(0x2c3)]!==null&&_0x10b28e[_0xdbcb8d(0x2c3)]!==void 0x0&&(_0x546482+=_0xdbcb8d(0x394)+_0x10b28e['secondValue']+'\x22'),_0x546482+=',\x20resultado:\x20'+_0x4d0b05+'.',_0x1c96fa[_0xdbcb8d(0x334)](_0x546482);}_0x4d0b05!==null&&(_0x404537=_0x4d0b05);}if(_0x4aa7d3[_0xdbcb8d(0xa2)]['realVariables']&&_0x2f6fa8[_0xdbcb8d(0x543)]){_0x4aa7d3[_0xdbcb8d(0xa2)][_0xdbcb8d(0x3af)][_0x2f6fa8['saveVariable']]=_0x404537;let _0x9d52ab={'variable':_0x2f6fa8[_0xdbcb8d(0x543)],'oldValue':_0x7add9d,'newValue':_0x404537,'moreLogs':_0x1c96fa};try{this[_0xdbcb8d(0x332)](_0x4aa7d3,_0x2f6fa8,_0x9d52ab);}catch(_0x42cb87){console[_0xdbcb8d(0x348)](_0xdbcb8d(0x25d)+_0x42cb87['message']);}}return _0x5dfb13;}catch(_0x30a921){return console[_0xdbcb8d(0x348)](_0xdbcb8d(0x39b)+_0x30a921[_0xdbcb8d(0x5c9)]),null;}}async[a0_0x2caf34(0x410)](_0x262092,_0x311a3f){const _0x45e73b=a0_0x2caf34;try{let _0x1cae0d=[],_0x1beb31=_0x262092[_0x45e73b(0x3e6)][_0x45e73b(0x356)](_0x2b2c53=>_0x2b2c53['blockId']===_0x311a3f[_0x45e73b(0x4da)][_0x45e73b(0x3c2)]()),_0x9e0f8f=null,_0x157480=!0x1;for(let _0x492946 of _0x1beb31){let _0x573edf=this[_0x45e73b(0x168)](_0x262092,_0x492946);_0x1cae0d[_0x45e73b(0x334)]('Primeiro\x20Valor:\x20'+_0x492946[_0x45e73b(0x5ad)]+',\x20Comparador:\x20'+_0x492946[_0x45e73b(0x668)]+',\x20Segundo\x20Valor:\x20'+_0x492946[_0x45e73b(0x2c3)]+_0x45e73b(0x4c5)+_0x573edf),_0x9e0f8f===null?_0x9e0f8f=_0x573edf:_0x492946['OrAnd']===_0x45e73b(0x536)?(_0x9e0f8f=_0x9e0f8f&&_0x573edf,_0x573edf||(_0x157480=!0x0)):_0x492946[_0x45e73b(0x473)]==='or'&&(_0x157480||(_0x9e0f8f=_0x9e0f8f||_0x573edf));}_0x9e0f8f===null&&(_0x9e0f8f=!0x0);let _0x53d1c0={'moreLogs':_0x1cae0d};_0x262092[_0x45e73b(0xa2)]['lastCondition']=_0x9e0f8f,await this[_0x45e73b(0x332)](_0x262092,_0x311a3f,_0x53d1c0);}catch(_0x2b313c){this[_0x45e73b(0x2ad)][_0x45e73b(0x348)](this[_0x45e73b(0x372)]+'\x20('+this[_0x45e73b(0x54c)]['wuid']+_0x45e73b(0x162)+_0x2b313c);}}[a0_0x2caf34(0x168)](_0x54a4c1,_0x4f39f8){const _0x2287a1=a0_0x2caf34;let _0x331952=_0x4f39f8['firstValue'],_0x3eeeb6=_0x4f39f8[_0x2287a1(0x2c3)];typeof _0x331952==_0x2287a1(0x600)&&(_0x331952=this[_0x2287a1(0x490)](_0x331952,_0x54a4c1['chatLog'][_0x2287a1(0x3af)])??''),typeof _0x3eeeb6==_0x2287a1(0x600)&&(_0x3eeeb6=this['replaceVariables'](_0x3eeeb6,_0x54a4c1[_0x2287a1(0xa2)][_0x2287a1(0x3af)])??'');try{switch(_0x4f39f8[_0x2287a1(0x668)]){case _0x2287a1(0xa5):return _0x331952===_0x3eeeb6;case _0x2287a1(0x325):return _0x331952!==_0x3eeeb6;case'contains':return _0x331952['includes'](_0x3eeeb6);case _0x2287a1(0x5d1):return!_0x331952[_0x2287a1(0xea)](_0x3eeeb6);case _0x2287a1(0x4b0):return parseFloat(_0x331952)>parseFloat(_0x3eeeb6);case _0x2287a1(0x296):return parseFloat(_0x331952)<parseFloat(_0x3eeeb6);case _0x2287a1(0x4d6):return _0x331952!=='';case _0x2287a1(0xb5):return _0x331952==='';case _0x2287a1(0x1de):return new RegExp(_0x3eeeb6)[_0x2287a1(0x2bf)](_0x331952);case _0x2287a1(0x152):return!new RegExp(_0x3eeeb6)['test'](_0x331952);default:return!0x1;}}catch(_0x437d15){return console[_0x2287a1(0x348)](_0x2287a1(0x46f)+_0x437d15),!0x1;}}[a0_0x2caf34(0x220)](_0x5410c3){const _0x41c2be=a0_0x2caf34;let _0x2b7e04=!0x0,_0x4db456=null;for(let _0xc44a89 of _0x5410c3){let _0x5cc603=this[_0x41c2be(0x64b)](_0xc44a89);if(_0x4db456==='or'&&_0x5cc603){_0x2b7e04=!0x0;break;}if(_0x4db456===_0x41c2be(0x536)&&!_0x5cc603){_0x2b7e04=!0x1;break;}_0x4db456=_0xc44a89[_0x41c2be(0x473)];}return _0x2b7e04;}[a0_0x2caf34(0x64b)](_0x12bd6c){const _0x2e9487=a0_0x2caf34;let _0x1f4ce4=_0x12bd6c[_0x2e9487(0x5ad)],_0x5df6d2=_0x12bd6c[_0x2e9487(0x2c3)];try{switch(_0x12bd6c[_0x2e9487(0x668)]){case _0x2e9487(0xa5):return String(_0x1f4ce4)===String(_0x5df6d2);case _0x2e9487(0x325):return String(_0x1f4ce4)!==String(_0x5df6d2);case'contains':return String(_0x1f4ce4)[_0x2e9487(0xea)](String(_0x5df6d2));case _0x2e9487(0x5d1):return!String(_0x1f4ce4)[_0x2e9487(0xea)](String(_0x5df6d2));case _0x2e9487(0x4b0):return parseFloat(String(_0x1f4ce4))>parseFloat(String(_0x5df6d2));case _0x2e9487(0x296):return parseFloat(String(_0x1f4ce4))<parseFloat(String(_0x5df6d2));case _0x2e9487(0x4d6):return String(_0x1f4ce4)!=='';case'empty':return String(_0x1f4ce4)==='';case _0x2e9487(0x1de):return new RegExp(String(_0x5df6d2))[_0x2e9487(0x2bf)](String(_0x1f4ce4));case _0x2e9487(0x152):return!new RegExp(String(_0x5df6d2))['test'](String(_0x1f4ce4));default:return!0x1;}}catch(_0x5d8965){return console['error'](_0x2e9487(0x46f)+_0x5d8965),!0x1;}}async[a0_0x2caf34(0x672)](_0x143675,_0x373683){const _0x3de35d=a0_0x2caf34;if(this['logger']['verbose'](this[_0x3de35d(0x372)]+'\x20('+this['instance'][_0x3de35d(0x482)]+_0x3de35d(0x213)),!_0x143675||!_0x373683)return this[_0x3de35d(0x2ad)]['error'](this[_0x3de35d(0x372)]+'\x20('+this[_0x3de35d(0x54c)][_0x3de35d(0x482)]+_0x3de35d(0x4be)),null;let _0x377d55=_0x373683[_0x3de35d(0x543)],_0x21e2ea=_0x143675[_0x3de35d(0xa2)][_0x3de35d(0x2a6)][_0x3de35d(0x3f8)]||_0x143675['chatLog']['lastReceivedMessage']['caption']||_0x143675['chatLog'][_0x3de35d(0x2a6)][_0x3de35d(0x163)];try{_0x143675[_0x3de35d(0xa2)][_0x3de35d(0x3af)]||(_0x143675[_0x3de35d(0xa2)][_0x3de35d(0x3af)]={});let _0x489795=_0x143675['chatLog'][_0x3de35d(0x3af)][_0x377d55];_0x143675[_0x3de35d(0xa2)][_0x3de35d(0x3af)][_0x377d55]=_0x21e2ea;let _0x2b521c={'variable':_0x377d55,'oldValue':_0x489795,'newValue':_0x21e2ea};this['updateConversation'](_0x143675,_0x373683,_0x2b521c),this[_0x3de35d(0x2ad)]['verbose'](this[_0x3de35d(0x372)]+'\x20('+this[_0x3de35d(0x54c)][_0x3de35d(0x482)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x3a8a6d){let _0x84e131={'error':!0x0,'errorLog':_0x3a8a6d[_0x3de35d(0x3c2)]()};return this[_0x3de35d(0x332)](_0x143675,_0x373683,_0x84e131),this['logger'][_0x3de35d(0x348)](this[_0x3de35d(0x372)]+'\x20('+this['instance'][_0x3de35d(0x482)]+_0x3de35d(0x24c)+_0x3a8a6d[_0x3de35d(0x5c9)]),null;}}async[a0_0x2caf34(0x4c8)](_0xd4143e,_0x2f7964){const _0x5ca42f=a0_0x2caf34;if(this[_0x5ca42f(0x2ad)][_0x5ca42f(0x208)](this['instanceName']+'\x20('+this[_0x5ca42f(0x54c)]['wuid']+_0x5ca42f(0x178)),!_0xd4143e||!_0x2f7964)return this[_0x5ca42f(0x2ad)][_0x5ca42f(0x348)](this['instanceName']+'\x20('+this[_0x5ca42f(0x54c)][_0x5ca42f(0x482)]+_0x5ca42f(0x4be)),null;let _0x36346d=Date[_0x5ca42f(0x572)](),_0x5ec5d7=parseInt(_0x2f7964['stopMinutes'],0xa);if(isNaN(_0x5ec5d7))return this[_0x5ca42f(0x2ad)][_0x5ca42f(0x348)](this[_0x5ca42f(0x372)]+'\x20('+this[_0x5ca42f(0x54c)][_0x5ca42f(0x482)]+_0x5ca42f(0x4a1)),null;let _0x3c7ce9={'newStoppedUntil':_0x36346d+_0x5ec5d7*0x3c*0x3e8};return await this[_0x5ca42f(0x332)](_0xd4143e,_0x2f7964,_0x3c7ce9,!0x0),null;}async[a0_0x2caf34(0x354)](_0x3ad086,_0x681ad,_0x5ba5e9){const _0x1dd9c4=a0_0x2caf34;try{switch(_0x681ad['uazapi'][_0x1dd9c4(0x24f)]){case _0x1dd9c4(0x187):await this[_0x1dd9c4(0x111)](_0x3ad086,_0x681ad,_0x5ba5e9);break;case _0x1dd9c4(0xce):await this['uazapiSendMedia'](_0x3ad086,_0x681ad,_0x5ba5e9);break;case _0x1dd9c4(0x2a2):await this[_0x1dd9c4(0x637)](_0x3ad086,_0x681ad,_0x5ba5e9);break;case'sendAudio':await this[_0x1dd9c4(0x5e6)](_0x3ad086,_0x681ad,_0x5ba5e9);break;case'sendContact':await this[_0x1dd9c4(0x1f9)](_0x3ad086,_0x681ad,_0x5ba5e9);break;case'sendPoll':await this[_0x1dd9c4(0x2ab)](_0x3ad086,_0x681ad,_0x5ba5e9);break;case _0x1dd9c4(0x62e):await this['uazapiDeleteMessage'](_0x3ad086,_0x681ad,_0x5ba5e9);break;default:this[_0x1dd9c4(0x2ad)][_0x1dd9c4(0x348)](this[_0x1dd9c4(0x372)]+'\x20('+this[_0x1dd9c4(0x54c)][_0x1dd9c4(0x482)]+_0x1dd9c4(0x345)+_0x681ad[_0x1dd9c4(0xad)]['command']);}}catch(_0x2f60ac){this[_0x1dd9c4(0x2ad)][_0x1dd9c4(0x348)](this['instanceName']+'\x20('+this[_0x1dd9c4(0x54c)][_0x1dd9c4(0x482)]+_0x1dd9c4(0x357)+_0x2f60ac);}}async['updateConversation'](_0x277779,_0x45e792,_0x49049a,_0x2f3660=!0x1,_0x4e6213=!0x1){const _0x4e41e4=a0_0x2caf34;_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2b5)]||(_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2b5)]=[]);let _0x53f28c=(_0x277779[_0x4e41e4(0xa2)]['blockLogs']?.[_0x4e41e4(0x59b)]??0x0)+0x1,_0x1350c1=_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2b5)][_0x4e41e4(0x356)](_0x10aa22=>String(_0x10aa22[_0x4e41e4(0xec)])===String(_0x45e792[_0x4e41e4(0x4da)]))['length']+0x1,_0x1c0e30=_0x49049a?.['onTime']??Date[_0x4e41e4(0x572)](),_0x41084b=_0x49049a?.[_0x4e41e4(0x348)]?_0x49049a[_0x4e41e4(0x2f6)]??_0x49049a[_0x4e41e4(0x348)][_0x4e41e4(0x3c2)]():void 0x0,_0x50cd05={'onTime':_0x1c0e30,'blockId':_0x45e792[_0x4e41e4(0x4da)],'order':_0x53f28c,'activatedCount':_0x1350c1,'error':_0x49049a?.[_0x4e41e4(0x348)]??!0x1,'messageId':_0x49049a?.['messageId'],'apiResponse':_0x49049a?.['apiResponse'],'apiResponseString':_0x49049a?.[_0x4e41e4(0x392)]?JSON[_0x4e41e4(0xff)](_0x49049a?.['apiResponse']):void 0x0,'variable':_0x49049a?.['variable'],'oldValue':_0x49049a?.[_0x4e41e4(0x3fe)],'newValue':_0x49049a?.[_0x4e41e4(0x2cd)],'newStoppedUntil':_0x49049a?.['newStoppedUntil'],'moreLogs':_0x49049a?.[_0x4e41e4(0x5ae)],'errorLog':_0x41084b};if(_0x49049a[_0x4e41e4(0x5ae)]&&_0x49049a[_0x4e41e4(0x5ae)][_0x4e41e4(0x59b)]>0x0){let _0x51b77b=_0x49049a[_0x4e41e4(0x5ae)][_0x4e41e4(0x566)](_0x41d367=>this[_0x4e41e4(0x13f)](_0x41d367,_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x3af)]));_0x50cd05[_0x4e41e4(0x5ae)]=_0x51b77b;}_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x3af)]||(_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x3af)]={}),_0x277779[_0x4e41e4(0xa2)]['realVariables'][_0x4e41e4(0x1ff)]=String(_0x1350c1),_0x277779[_0x4e41e4(0xa2)]['realVariables'][_0x4e41e4(0x5f3)]=String(_0x49049a['error']??!0x1),_0x277779[_0x4e41e4(0xa2)]['blockLogs']['push'](_0x50cd05),_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x4ad)]=_0x45e792[_0x4e41e4(0x4da)][_0x4e41e4(0x3c2)](),_0x277779[_0x4e41e4(0xa2)]['lastSendMessage']&&(_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2d5)]=_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2d5)]),_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2a6)]&&(_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x2a6)]=_0x277779['chatLog'][_0x4e41e4(0x2a6)]),_0x277779['chatLog'][_0x4e41e4(0x477)]&&(_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x477)]=_0x277779[_0x4e41e4(0xa2)][_0x4e41e4(0x477)]),_0x4e6213&&(_0x277779[_0x4e41e4(0x505)]='closed'),_0x2f3660?this['saveConversationToDatabase'](_0x277779):this[_0x4e41e4(0x653)](_0x277779,_0x45e792);}[a0_0x2caf34(0x13f)](_0x2f88a9,_0x484166){const _0x469609=a0_0x2caf34;return _0x2f88a9[_0x469609(0xb1)](/\{\{([^}]+)\}\}/g,(_0x13bdfa,_0x8fde7a)=>_0x484166[_0x8fde7a]?'{{'+_0x8fde7a+_0x469609(0x46c)+_0x484166[_0x8fde7a]+'\x22':'{{'+_0x8fde7a+_0x469609(0x4cf));}async[a0_0x2caf34(0x43c)](_0x472ed3){const _0x5b678d=a0_0x2caf34;try{let _0x1a19ca=Object['entries'](_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x3af)])['map'](([_0x1363aa,_0xde96d9])=>({'name':_0x1363aa,'value':_0xde96d9})),_0x1134bb=await j[_0x5b678d(0x666)]({'_id':_0x472ed3[_0x5b678d(0x4da)]},{'$set':{'chatLog.lastBlockId':_0x472ed3['chatLog'][_0x5b678d(0x4ad)],'blocks':_0x472ed3['blocks'],'chatLog.lastSendMessage':_0x472ed3[_0x5b678d(0xa2)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x2a6)],'chatLog.lastCondition':_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x477)],'chatLog.chatVariables':_0x1a19ca,'chatLog.realVariables':_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x3af)],'status':_0x472ed3[_0x5b678d(0x505)],'chatLog.blockLogs':_0x472ed3[_0x5b678d(0xa2)]['blockLogs'],'waitingPoll_id':_0x472ed3[_0x5b678d(0x2da)],'waitingPoll_name':_0x472ed3['waitingPoll_name'],'waitingPoll_replyOptions':_0x472ed3['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x1134bb){this[_0x5b678d(0x2ad)]['verbose'](this[_0x5b678d(0x372)]+'\x20('+this['instance'][_0x5b678d(0x482)]+_0x5b678d(0x2c9)+_0x1134bb[_0x5b678d(0x4da)]);try{let _0x43bb50=['nome',_0x5b678d(0xe2),_0x5b678d(0x3ff),'cpf',_0x5b678d(0x505),_0x5b678d(0x512),_0x5b678d(0x61a),_0x5b678d(0x35c)];if(!this['AutomateSystem']&&(await this[_0x5b678d(0x571)](),!this[_0x5b678d(0x60c)]))throw new Error(_0x5b678d(0x466));let _0x540a83=this[_0x5b678d(0x60c)]?.[_0x5b678d(0x508)][_0x5b678d(0x566)](_0x160d3c=>_0x160d3c[_0x5b678d(0x3c7)]),_0x412b73={};Object['entries'](_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x3af)])['forEach'](([_0x1d62c0,_0x1af833])=>{const _0x647cfb=_0x5b678d;_0x43bb50['includes'](_0x1d62c0)&&(_0x1d62c0===_0x647cfb(0x35c)&&typeof _0x1af833=='string'?_0x412b73[_0x1d62c0]=_0x1af833[_0x647cfb(0x226)](',')[_0x647cfb(0x566)](_0x36d1ef=>_0x36d1ef[_0x647cfb(0x3cd)]())['filter'](_0x2b9cac=>_0x2b9cac!==''):_0x412b73[_0x1d62c0]=_0x1af833);});let _0x1bf6aa=_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x2b5)][_0x472ed3[_0x5b678d(0xa2)][_0x5b678d(0x2b5)][_0x5b678d(0x59b)]-0x1];if(_0x1bf6aa){let _0x475a25=_0x1bf6aa['newStoppedUntil'];_0x475a25!==void 0x0&&(_0x412b73[_0x5b678d(0xba)]=_0x475a25[_0x5b678d(0x3c2)]());}let _0x4b1125=_0x1a19ca['filter'](_0x5c30b1=>_0x540a83[_0x5b678d(0xea)](_0x5c30b1[_0x5b678d(0x3c7)]));this[_0x5b678d(0x2ad)][_0x5b678d(0x208)](this[_0x5b678d(0x372)]+'\x20('+this[_0x5b678d(0x54c)]['wuid']+_0x5b678d(0x32d)),this['logger'][_0x5b678d(0x208)](_0x412b73),this[_0x5b678d(0x2ad)][_0x5b678d(0x208)](this[_0x5b678d(0x372)]+'\x20('+this[_0x5b678d(0x54c)]['wuid']+_0x5b678d(0x292)),this[_0x5b678d(0x2ad)][_0x5b678d(0x208)](_0x4b1125);let _0x472ec0=_0x4b1125['map'](_0x105f62=>{const _0x11f7d5=_0x5b678d;let _0x523fd0=this['AutomateSystem']?.[_0x11f7d5(0x508)]['find'](_0x20fc56=>_0x20fc56[_0x11f7d5(0x3c7)]===_0x105f62['name']);if(!_0x523fd0)throw new Error(_0x11f7d5(0x212)+_0x105f62['name']);return{'_id':_0x523fd0[_0x11f7d5(0x4da)],'value':_0x105f62[_0x11f7d5(0xf5)]};});this[_0x5b678d(0x2ad)][_0x5b678d(0x208)](this[_0x5b678d(0x372)]+'\x20('+this[_0x5b678d(0x54c)][_0x5b678d(0x482)]+_0x5b678d(0x478)),this[_0x5b678d(0x2ad)][_0x5b678d(0x208)](_0x472ec0),await this[_0x5b678d(0x1b4)](_0x472ed3['remoteJid'],_0x412b73,_0x472ec0);}catch(_0x27649c){this[_0x5b678d(0x2ad)][_0x5b678d(0x348)](this[_0x5b678d(0x372)]+'\x20('+this[_0x5b678d(0x54c)][_0x5b678d(0x482)]+_0x5b678d(0x294)+JSON['stringify'](_0x27649c));}}else this['logger'][_0x5b678d(0x348)](this[_0x5b678d(0x372)]+'\x20('+this[_0x5b678d(0x54c)][_0x5b678d(0x482)]+_0x5b678d(0x262));}catch(_0x496fee){this[_0x5b678d(0x2ad)][_0x5b678d(0x348)](this['instanceName']+'\x20('+this[_0x5b678d(0x54c)][_0x5b678d(0x482)]+_0x5b678d(0x359)+JSON['stringify'](_0x496fee));}}async[a0_0x2caf34(0x1b4)](_0x4ed6ad,_0x15a29b,_0x5aa3cd){const _0x3bcdef=a0_0x2caf34;try{let _0xde473d={'leadInfo.leadnome':_0x15a29b[_0x3bcdef(0x64c)],'leadInfo.nomecompleto':_0x15a29b[_0x3bcdef(0xe2)],'leadInfo.email':_0x15a29b[_0x3bcdef(0x3ff)],'leadInfo.cpf':_0x15a29b[_0x3bcdef(0x364)],'leadInfo.status':_0x15a29b[_0x3bcdef(0x505)],'leadInfo.notas':_0x15a29b[_0x3bcdef(0x512)],'leadInfo.responsavelid':_0x15a29b[_0x3bcdef(0x61a)],'leadInfo.tags':_0x15a29b[_0x3bcdef(0x35c)],'leadInfo.customFields':_0x5aa3cd};if(_0x3bcdef(0xba)in _0x15a29b){let _0x538691=_0x15a29b[_0x3bcdef(0xba)];_0xde473d[_0x3bcdef(0x422)]=_0x538691?Number(_0x538691):null;}let _0x852168=await this[_0x3bcdef(0x1bf)][_0x3bcdef(0x300)][_0x3bcdef(0x2ba)]({'where':{'_id':_0x4ed6ad,'owner':this[_0x3bcdef(0x54c)][_0x3bcdef(0x482)]}},_0xde473d);_0x852168?(this['logger'][_0x3bcdef(0x208)](this[_0x3bcdef(0x372)]+'\x20('+this[_0x3bcdef(0x54c)]['wuid']+_0x3bcdef(0x1f8)+_0x852168[_0x3bcdef(0x4da)]),B(this[_0x3bcdef(0x372)],'chats',{'chat':_0x852168})):this['logger'][_0x3bcdef(0x348)](this['instanceName']+'\x20('+this[_0x3bcdef(0x54c)]['wuid']+_0x3bcdef(0x3d4));}catch(_0x246764){this[_0x3bcdef(0x2ad)]['error'](this[_0x3bcdef(0x372)]+'\x20('+this[_0x3bcdef(0x54c)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+_0x246764);}}async[a0_0x2caf34(0x261)](_0x473525,_0x1451ba){const _0x1cd384=a0_0x2caf34;this[_0x1cd384(0x2ad)]['verbose'](this[_0x1cd384(0x372)]+'\x20('+this[_0x1cd384(0x54c)][_0x1cd384(0x482)]+_0x1cd384(0x548)+_0x1451ba);try{let _0x4b8dfc=await this[_0x1cd384(0x1bf)]['chat'][_0x1cd384(0x2ba)]({'where':{'_id':_0x473525[_0x1cd384(0x4a8)],'owner':_0x473525[_0x1cd384(0x567)]}},{'leadInfo.desativadoFluxoAte':_0x1451ba});this['logger'][_0x1cd384(0x208)](this[_0x1cd384(0x372)]+'\x20('+this['instance']['wuid']+_0x1cd384(0x15f)+_0x473525['_id']),this[_0x1cd384(0x2ad)]['verbose'](this[_0x1cd384(0x372)]+'\x20('+this[_0x1cd384(0x54c)][_0x1cd384(0x482)]+_0x1cd384(0x548)+JSON[_0x1cd384(0xff)](_0x4b8dfc,null,0x2)),_0x4b8dfc&&B(this[_0x1cd384(0x372)],_0x1cd384(0xac),{'chat':_0x4b8dfc});}catch(_0x524622){this[_0x1cd384(0x2ad)][_0x1cd384(0x348)](this[_0x1cd384(0x372)]+'\x20('+this[_0x1cd384(0x54c)]['wuid']+_0x1cd384(0xd1)+JSON[_0x1cd384(0xff)](_0x524622));}}async[a0_0x2caf34(0x5a2)](_0x302f6b,_0x2b7707){const _0x52aacd=a0_0x2caf34;try{this[_0x52aacd(0x2ad)][_0x52aacd(0x208)](this['instanceName']+'\x20('+this[_0x52aacd(0x54c)][_0x52aacd(0x482)]+'):\x20Buscando\x20flow...');let _0x31f21=_0x2b7707[_0x52aacd(0xb1)](/\D/g,''),_0x3277ce=await I['findOne']({'owner':_0x302f6b,'testingWith':_0x31f21});return _0x3277ce||(this[_0x52aacd(0x2ad)][_0x52aacd(0x208)](this['instanceName']+'\x20('+this[_0x52aacd(0x54c)]['wuid']+_0x52aacd(0x30d)),_0x3277ce=await I[_0x52aacd(0x400)]({'owner':_0x302f6b,'default':!0x0})),_0x3277ce||(this[_0x52aacd(0x2ad)][_0x52aacd(0x208)](this[_0x52aacd(0x372)]+'\x20('+this['instance'][_0x52aacd(0x482)]+_0x52aacd(0x2fe)),null);}catch(_0x54b168){return this['logger'][_0x52aacd(0x348)](this[_0x52aacd(0x372)]+'\x20('+this['instance'][_0x52aacd(0x482)]+_0x52aacd(0x134)+_0x54b168),null;}}async[a0_0x2caf34(0x4eb)](_0x402b1b,_0x4f789c,_0x59fb41){const _0x51954a=a0_0x2caf34;try{let _0x584564=!!_0x59fb41['vote'],_0x418ff1=_0x59fb41[_0x51954a(0xeb)],_0x24e5fe=null;if(this[_0x51954a(0x2ad)][_0x51954a(0x208)](this[_0x51954a(0x372)]+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x326)+_0x584564+_0x51954a(0xeb)+_0x418ff1),_0x584564)return this[_0x51954a(0x2ad)][_0x51954a(0x208)](this[_0x51954a(0x372)]+'\x20('+this['instance'][_0x51954a(0x482)]+_0x51954a(0x28e)),_0x24e5fe=await j[_0x51954a(0x400)]({'owner':_0x402b1b,'remoteJid':_0x4f789c,'waitingPoll_id':_0x418ff1}),_0x24e5fe?(_0x24e5fe[_0x51954a(0x22b)]=Date['now'](),_0x24e5fe[_0x51954a(0xa2)][_0x51954a(0x2a6)]=_0x59fb41,_0x24e5fe):(this[_0x51954a(0x2ad)][_0x51954a(0x208)](this['instanceName']+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0xd4)),null);{if(this[_0x51954a(0x2ad)][_0x51954a(0x208)](this['instanceName']+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x2ca)+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x4bf)),this[_0x51954a(0x2ad)]['verbose'](this[_0x51954a(0x372)]+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x3f6)),_0x24e5fe=await j['findOne']({'owner':_0x402b1b,'remoteJid':_0x4f789c,'status':'open'}),!_0x24e5fe){let _0xd5e04d=await this[_0x51954a(0x5a2)](_0x402b1b,_0x4f789c);if(_0xd5e04d&&(_0x24e5fe=await this[_0x51954a(0x2e7)](_0xd5e04d,_0x59fb41[_0x51954a(0x465)],_0x59fb41)),!_0x24e5fe)return null;}let _0x53b901=Date['now'](),_0x3e5889=_0x24e5fe?.[_0x51954a(0x117)]||0x0,_0x33ec4c=_0x53b901-_0x3e5889*0x3c*0x3e8;if(this[_0x51954a(0x2ad)]['verbose'](this[_0x51954a(0x372)]+'\x20('+this['instance']['wuid']+_0x51954a(0x32a)+_0x53b901+_0x51954a(0x519)+_0x3e5889+_0x51954a(0x239)+_0x33ec4c),this[_0x51954a(0x2ad)][_0x51954a(0x208)](this[_0x51954a(0x372)]+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x5ee)),this[_0x51954a(0x2ad)][_0x51954a(0x208)](this['instanceName']+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x1f1)+_0x24e5fe['lastInteraction']),this[_0x51954a(0x2ad)][_0x51954a(0x208)](this[_0x51954a(0x372)]+'\x20('+this['instance'][_0x51954a(0x482)]+_0x51954a(0x28a)+_0x33ec4c),_0x24e5fe[_0x51954a(0x22b)]<_0x33ec4c){this['logger']['verbose'](this[_0x51954a(0x372)]+'\x20('+this[_0x51954a(0x54c)][_0x51954a(0x482)]+_0x51954a(0x5d7));let _0x5220f6=await this[_0x51954a(0x5a2)](_0x402b1b,_0x4f789c);if(_0x5220f6===null)return null;_0x24e5fe&&await j[_0x51954a(0x2ba)]({'_id':_0x24e5fe[_0x51954a(0x4da)]},{'status':_0x51954a(0x31e)}),_0x24e5fe=await this[_0x51954a(0x2e7)](_0x5220f6,_0x59fb41['key'],_0x59fb41);}return _0x24e5fe[_0x51954a(0x22b)]=_0x53b901,_0x24e5fe[_0x51954a(0xa2)][_0x51954a(0x2a6)]=_0x59fb41,_0x24e5fe;}}catch(_0x524886){return this['logger']['error'](this[_0x51954a(0x372)]+'\x20('+this[_0x51954a(0x54c)]['wuid']+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+_0x524886),null;}}async[a0_0x2caf34(0x2e7)](_0x167c74,_0x23be88,_0x20df06){const _0x6ce7f6=a0_0x2caf34;this[_0x6ce7f6(0x2ad)][_0x6ce7f6(0x208)](this[_0x6ce7f6(0x372)]+'\x20('+this['instance']['wuid']+_0x6ce7f6(0x1e0));try{let _0x472b9e=require(_0x6ce7f6(0x559))['ObjectId'],_0x5ddbf5=Date[_0x6ce7f6(0x572)](),_0x15b798='start',_0x101208=_0x23be88['fromMe']?null:_0x20df06,_0x56533a=_0x23be88[_0x6ce7f6(0x19f)]?_0x20df06:null,_0x160e02=_0x23be88['remoteJid'];await this[_0x6ce7f6(0x434)](_0x160e02);let _0x5ebd8d={..._0x167c74[_0x6ce7f6(0x2ea)],'chatLog':null},_0x2cb2fe=await this['variablesToObject'](_0x5ebd8d['variables']),_0x233795=await this[_0x6ce7f6(0x2d1)](_0x160e02),_0x5d4bbd={..._0x2cb2fe,..._0x233795,'_remoteJid':_0x160e02},_0x39d8cd={'lastReceivedMessage':_0x101208,'lastSendMessage':_0x56533a,'lastBlockId':_0x15b798,'lastCondition':!0x0,'realVariables':_0x5d4bbd};_0x5ebd8d[_0x6ce7f6(0xa2)]=_0x39d8cd,delete _0x5ebd8d[_0x6ce7f6(0x4da)],_0x5ebd8d[_0x6ce7f6(0x4da)]=new _0x472b9e(),_0x5ebd8d[_0x6ce7f6(0x22b)]=_0x5ddbf5,_0x5ebd8d['status']='open',_0x5ebd8d[_0x6ce7f6(0x4a8)]=_0x160e02;let _0x4d4657=await j[_0x6ce7f6(0x333)](_0x5ebd8d);return this[_0x6ce7f6(0x2ad)][_0x6ce7f6(0x208)](this[_0x6ce7f6(0x372)]+'\x20('+this['instance'][_0x6ce7f6(0x482)]+_0x6ce7f6(0x627)),_0x4d4657?_0x5ebd8d:null;}catch(_0x5c9a8b){return this[_0x6ce7f6(0x2ad)][_0x6ce7f6(0x348)](this[_0x6ce7f6(0x372)]+'\x20('+this[_0x6ce7f6(0x54c)][_0x6ce7f6(0x482)]+_0x6ce7f6(0x9d)+_0x5c9a8b),_0x5c9a8b;}}async[a0_0x2caf34(0x111)](_0x5b79d6,_0x392a26,_0x31f573){const _0x48624e=a0_0x2caf34;this[_0x48624e(0x2ad)]['verbose'](this['instanceName']+'\x20('+this[_0x48624e(0x54c)][_0x48624e(0x482)]+'):\x20Enviando\x20texto');let _0x5d7006={'number':_0x31f573,'options':{'delay':_0x392a26[_0x48624e(0xad)][_0x48624e(0x42e)]},'textMessage':{'text':_0x392a26[_0x48624e(0xad)][_0x48624e(0x3f8)]}};try{let _0x3e13f4=await this[_0x48624e(0x5a8)](_0x5d7006);if(_0x3e13f4){let _0xbdf4c2={'_id':_0x3e13f4['key']['id'],'_fromMe':_0x3e13f4['key'][_0x48624e(0x19f)],'_remoteJid':_0x3e13f4['key'][_0x48624e(0x4a8)]};_0x5b79d6['chatLog'][_0x48624e(0x4ad)]=_0x392a26['_id'][_0x48624e(0x3c2)]();let {message_normalized:_0x29f621}=this[_0x48624e(0x412)](_0x3e13f4[_0x48624e(0x5c9)],J(_0x3e13f4[_0x48624e(0x5c9)]),null);_0x5b79d6[_0x48624e(0xa2)][_0x48624e(0x2d5)]=await _0x29f621;let _0x3383a5={'messageId':_0x3e13f4[_0x48624e(0x465)]['id']},_0x953c7d=_0x5b79d6[_0x48624e(0xa2)][_0x48624e(0x3af)];Object['assign'](_0x953c7d,_0xbdf4c2),_0x5b79d6[_0x48624e(0xa2)]['realVariables']=_0x953c7d,this[_0x48624e(0x332)](_0x5b79d6,_0x392a26,_0x3383a5);}else{let _0xef0c4d={'error':!0x0};this[_0x48624e(0x332)](_0x5b79d6,_0x392a26,_0xef0c4d),this['logger'][_0x48624e(0x348)](this['instanceName']+'\x20('+this[_0x48624e(0x54c)][_0x48624e(0x482)]+_0x48624e(0x511));}}catch(_0x425ff0){let _0x3190fa={'error':!0x0,'errorLog':_0x425ff0['toString']()};this[_0x48624e(0x332)](_0x5b79d6,_0x392a26,_0x3190fa),this[_0x48624e(0x2ad)][_0x48624e(0x348)](this[_0x48624e(0x372)]+'\x20('+this['instance']['wuid']+_0x48624e(0x3eb)+_0x425ff0['toString']());}}async['uazapiSendMedia'](_0x533c84,_0x1a4265,_0x5bc959){const _0x3cdb9e=a0_0x2caf34;this[_0x3cdb9e(0x2ad)][_0x3cdb9e(0x208)](this[_0x3cdb9e(0x372)]+'\x20('+this[_0x3cdb9e(0x54c)][_0x3cdb9e(0x482)]+_0x3cdb9e(0x4a4));let _0x1bf883={'number':_0x5bc959,'options':{'delay':_0x1a4265[_0x3cdb9e(0xad)][_0x3cdb9e(0x42e)]},'mediaMessage':{'mediatype':_0x1a4265[_0x3cdb9e(0xad)][_0x3cdb9e(0x2dc)],'caption':_0x1a4265[_0x3cdb9e(0xad)][_0x3cdb9e(0x59e)],'media':_0x1a4265[_0x3cdb9e(0xad)]['media'],'fileName':_0x1a4265[_0x3cdb9e(0xad)][_0x3cdb9e(0x360)]}};try{let _0x51ec53=await this[_0x3cdb9e(0x527)](_0x1bf883);if(_0x51ec53){let _0xd714a0={'_id':_0x51ec53[_0x3cdb9e(0x465)]['id'],'_fromMe':_0x51ec53[_0x3cdb9e(0x465)][_0x3cdb9e(0x19f)],'_remoteJid':_0x51ec53['key'][_0x3cdb9e(0x4a8)]};_0x533c84[_0x3cdb9e(0xa2)][_0x3cdb9e(0x4ad)]=_0x1a4265[_0x3cdb9e(0x4da)]['toString']();let {message_normalized:_0x28248a}=this['normalizeMessage'](_0x51ec53['message'],J(_0x51ec53['message']),null);_0x533c84[_0x3cdb9e(0xa2)][_0x3cdb9e(0x2d5)]=await _0x28248a;let _0x29416e={'messageId':_0x51ec53[_0x3cdb9e(0x465)]['id']},_0x12f6cd=_0x533c84['chatLog'][_0x3cdb9e(0x3af)];Object[_0x3cdb9e(0x1a9)](_0x12f6cd,_0xd714a0),_0x533c84[_0x3cdb9e(0xa2)][_0x3cdb9e(0x3af)]=_0x12f6cd,this['updateConversation'](_0x533c84,_0x1a4265,_0x29416e);}else{let _0x8ece19={'error':!0x0};this[_0x3cdb9e(0x332)](_0x533c84,_0x1a4265,_0x8ece19),this['logger']['error'](this[_0x3cdb9e(0x372)]+'\x20('+this[_0x3cdb9e(0x54c)][_0x3cdb9e(0x482)]+_0x3cdb9e(0x405));}}catch(_0x38cb57){let _0x350128={'error':!0x0,'errorLog':_0x38cb57[_0x3cdb9e(0x3c2)]()};this['updateConversation'](_0x533c84,_0x1a4265,_0x350128),this[_0x3cdb9e(0x2ad)][_0x3cdb9e(0x348)](this[_0x3cdb9e(0x372)]+'\x20('+this[_0x3cdb9e(0x54c)]['wuid']+_0x3cdb9e(0x3bf)+_0x38cb57[_0x3cdb9e(0x3c2)]());}}async[a0_0x2caf34(0x637)](_0x5538fc,_0x3987e8,_0x194c82){const _0x51e5a2=a0_0x2caf34;this[_0x51e5a2(0x2ad)][_0x51e5a2(0x208)](this[_0x51e5a2(0x372)]+'\x20('+this[_0x51e5a2(0x54c)][_0x51e5a2(0x482)]+_0x51e5a2(0x632));let _0x1f52c4={'number':_0x194c82,'options':{'delay':_0x3987e8[_0x51e5a2(0xad)][_0x51e5a2(0x42e)]},'locationMessage':{'name':_0x3987e8['uazapi'][_0x51e5a2(0x3c7)],'address':_0x3987e8['uazapi'][_0x51e5a2(0x33a)],'latitude':_0x3987e8[_0x51e5a2(0xad)][_0x51e5a2(0x647)],'longitude':_0x3987e8[_0x51e5a2(0xad)][_0x51e5a2(0x5d4)]}};try{let _0x5481b7=await this[_0x51e5a2(0x4fc)](_0x1f52c4);if(_0x5481b7){let _0x3b489c={'_id':_0x5481b7[_0x51e5a2(0x465)]['id'],'_fromMe':_0x5481b7[_0x51e5a2(0x465)][_0x51e5a2(0x19f)],'_remoteJid':_0x5481b7['key'][_0x51e5a2(0x4a8)]};_0x5538fc[_0x51e5a2(0xa2)][_0x51e5a2(0x4ad)]=_0x3987e8[_0x51e5a2(0x4da)][_0x51e5a2(0x3c2)]();let {message_normalized:_0x36ae43}=this[_0x51e5a2(0x412)](_0x5481b7[_0x51e5a2(0x5c9)],J(_0x5481b7[_0x51e5a2(0x5c9)]),null);_0x5538fc[_0x51e5a2(0xa2)][_0x51e5a2(0x2d5)]=await _0x36ae43;let _0x27f8a5={'messageId':_0x5481b7[_0x51e5a2(0x465)]['id']},_0x34245f=_0x5538fc[_0x51e5a2(0xa2)][_0x51e5a2(0x3af)];Object['assign'](_0x34245f,_0x3b489c),_0x5538fc[_0x51e5a2(0xa2)][_0x51e5a2(0x3af)]=_0x34245f,this['updateConversation'](_0x5538fc,_0x3987e8,_0x27f8a5);}else{let _0x4a6adc={'error':!0x0};this[_0x51e5a2(0x332)](_0x5538fc,_0x3987e8,_0x4a6adc),this[_0x51e5a2(0x2ad)][_0x51e5a2(0x348)](this[_0x51e5a2(0x372)]+'\x20('+this[_0x51e5a2(0x54c)][_0x51e5a2(0x482)]+_0x51e5a2(0x164));}}catch(_0x56333f){let _0x35bc49={'error':!0x0,'errorLog':_0x56333f[_0x51e5a2(0x3c2)]()};this['updateConversation'](_0x5538fc,_0x3987e8,_0x35bc49),this[_0x51e5a2(0x2ad)]['error'](this[_0x51e5a2(0x372)]+'\x20('+this['instance'][_0x51e5a2(0x482)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+_0x56333f['toString']());}}async[a0_0x2caf34(0x5e6)](_0x42f679,_0x26f757,_0x414c0d){const _0x49787b=a0_0x2caf34;this[_0x49787b(0x2ad)]['verbose'](this['instanceName']+'\x20('+this[_0x49787b(0x54c)][_0x49787b(0x482)]+_0x49787b(0x201));let _0x22e2ea={'number':_0x414c0d,'options':{'delay':_0x26f757[_0x49787b(0xad)]['delay']},'audioMessage':{'audio':_0x26f757[_0x49787b(0xad)][_0x49787b(0x44e)]}};try{let _0x5d5ac6=await this[_0x49787b(0x5c5)](_0x22e2ea);if(_0x5d5ac6){let _0x58f238={'_id':_0x5d5ac6[_0x49787b(0x465)]['id'],'_fromMe':_0x5d5ac6['key'][_0x49787b(0x19f)],'_remoteJid':_0x5d5ac6[_0x49787b(0x465)][_0x49787b(0x4a8)]};_0x42f679[_0x49787b(0xa2)][_0x49787b(0x4ad)]=_0x26f757['_id'][_0x49787b(0x3c2)]();let {message_normalized:_0x4270c2}=this[_0x49787b(0x412)](_0x5d5ac6[_0x49787b(0x5c9)],J(_0x5d5ac6['message']),null);_0x42f679[_0x49787b(0xa2)][_0x49787b(0x2d5)]=await _0x4270c2;let _0x52367d={'messageId':_0x5d5ac6[_0x49787b(0x465)]['id']},_0x386855=_0x42f679[_0x49787b(0xa2)][_0x49787b(0x3af)];Object['assign'](_0x386855,_0x58f238),_0x42f679[_0x49787b(0xa2)][_0x49787b(0x3af)]=_0x386855,this[_0x49787b(0x332)](_0x42f679,_0x26f757,_0x52367d);}else{let _0x752292={'error':!0x0};this[_0x49787b(0x332)](_0x42f679,_0x26f757,_0x752292),this['logger'][_0x49787b(0x348)](this['instanceName']+'\x20('+this['instance'][_0x49787b(0x482)]+_0x49787b(0x3a1));}}catch(_0x5a67a3){let _0x465641={'error':!0x0,'errorLog':_0x5a67a3[_0x49787b(0x3c2)]()};this['updateConversation'](_0x42f679,_0x26f757,_0x465641),this[_0x49787b(0x2ad)][_0x49787b(0x348)](this['instanceName']+'\x20('+this[_0x49787b(0x54c)]['wuid']+_0x49787b(0x446)+_0x5a67a3['toString']());}}async[a0_0x2caf34(0x1f9)](_0x3b33c4,_0x574461,_0x522ecb){const _0xc47a93=a0_0x2caf34;this['logger']['verbose'](this[_0xc47a93(0x372)]+'\x20('+this[_0xc47a93(0x54c)][_0xc47a93(0x482)]+'):\x20Enviando\x20contato');let _0x1ea896={'number':_0x522ecb,'options':{'delay':_0x574461[_0xc47a93(0xad)]['delay']},'contactMessage':[{'fullName':_0x574461[_0xc47a93(0xad)][_0xc47a93(0x19a)],'phoneNumber':_0x574461[_0xc47a93(0xad)][_0xc47a93(0x449)]}]};try{let _0x79103d=await this[_0xc47a93(0x135)](_0x1ea896);if(_0x79103d){let _0x2b4495={'_id':_0x79103d['key']['id'],'_fromMe':_0x79103d['key']['fromMe'],'_remoteJid':_0x79103d[_0xc47a93(0x465)][_0xc47a93(0x4a8)]};_0x3b33c4['chatLog'][_0xc47a93(0x4ad)]=_0x574461[_0xc47a93(0x4da)][_0xc47a93(0x3c2)]();let {message_normalized:_0x126f91}=this[_0xc47a93(0x412)](_0x79103d[_0xc47a93(0x5c9)],J(_0x79103d[_0xc47a93(0x5c9)]),null);_0x3b33c4[_0xc47a93(0xa2)][_0xc47a93(0x2d5)]=await _0x126f91;let _0x5abfe8={'messageId':_0x79103d[_0xc47a93(0x465)]['id']},_0x2c1a6c=_0x3b33c4[_0xc47a93(0xa2)][_0xc47a93(0x3af)];Object[_0xc47a93(0x1a9)](_0x2c1a6c,_0x2b4495),_0x3b33c4[_0xc47a93(0xa2)][_0xc47a93(0x3af)]=_0x2c1a6c,this[_0xc47a93(0x332)](_0x3b33c4,_0x574461,_0x5abfe8);}else{let _0x434c3e={'error':!0x0};this['updateConversation'](_0x3b33c4,_0x574461,_0x434c3e),this[_0xc47a93(0x2ad)][_0xc47a93(0x348)](this[_0xc47a93(0x372)]+'\x20('+this['instance']['wuid']+_0xc47a93(0x13e));}}catch(_0xe3777d){let _0x99403d={'error':!0x0,'errorLog':_0xe3777d[_0xc47a93(0x3c2)]()};this[_0xc47a93(0x332)](_0x3b33c4,_0x574461,_0x99403d),this[_0xc47a93(0x2ad)]['error'](this['instanceName']+'\x20('+this[_0xc47a93(0x54c)]['wuid']+_0xc47a93(0x323)+_0xe3777d[_0xc47a93(0x3c2)]());}}[a0_0x2caf34(0x2f7)](_0x2b0c4b,_0x2e785b){const _0x160514=a0_0x2caf34;for(let _0xc69fe6 of _0x2b0c4b)_0xc69fe6[_0x160514(0x63a)]&&(_0xc69fe6[_0x160514(0x63a)]=this['replaceVariables'](_0xc69fe6[_0x160514(0x63a)],_0x2e785b)),_0xc69fe6[_0x160514(0x657)]&&(_0xc69fe6[_0x160514(0x657)]=this[_0x160514(0x490)](_0xc69fe6[_0x160514(0x657)],_0x2e785b));}async['uazapiSendPoll'](_0x4b20c3,_0x1f8bd3,_0x51609b){const _0x40b671=a0_0x2caf34;this[_0x40b671(0x2ad)][_0x40b671(0x208)](this[_0x40b671(0x372)]+'\x20('+this[_0x40b671(0x54c)][_0x40b671(0x482)]+_0x40b671(0x628));let _0x9bbdbe=_0x4b20c3[_0x40b671(0x1bb)]['filter'](_0x11537f=>_0x11537f[_0x40b671(0xec)]===_0x1f8bd3[_0x40b671(0x4da)]);this['replaceVariablesInReplyOptions'](_0x9bbdbe,_0x4b20c3[_0x40b671(0xa2)]['realVariables']);let _0x35ec3c=_0x9bbdbe['map'](_0xf80169=>_0xf80169[_0x40b671(0x63a)]),_0x550177={'number':_0x51609b,'options':{'delay':_0x1f8bd3[_0x40b671(0xad)][_0x40b671(0x42e)]},'pollMessage':{'name':_0x1f8bd3['uazapi']['name'],'selectableCount':0x1,'values':_0x35ec3c}};try{let _0x175b7f=await this[_0x40b671(0x4c7)](_0x550177);if(_0x175b7f){let _0x2db9a4={'_id':_0x175b7f['key']['id'],'_fromMe':_0x175b7f[_0x40b671(0x465)][_0x40b671(0x19f)],'_remoteJid':_0x175b7f[_0x40b671(0x465)][_0x40b671(0x4a8)]};this[_0x40b671(0x2ad)][_0x40b671(0x208)](this[_0x40b671(0x372)]+'\x20('+this[_0x40b671(0x54c)][_0x40b671(0x482)]+_0x40b671(0x454)+_0x1f8bd3[_0x40b671(0xad)][_0x40b671(0x3c7)]),_0x4b20c3[_0x40b671(0x2da)]=_0x175b7f[_0x40b671(0x465)]['id'],_0x4b20c3['waitingPoll_name']=_0x1f8bd3['uazapi'][_0x40b671(0x3c7)],_0x4b20c3[_0x40b671(0x486)]=_0x9bbdbe,this[_0x40b671(0x2ad)][_0x40b671(0x208)](this[_0x40b671(0x372)]+'\x20('+this['instance'][_0x40b671(0x482)]+_0x40b671(0x491)+_0x4b20c3[_0x40b671(0x1c3)]),_0x4b20c3[_0x40b671(0xa2)][_0x40b671(0x4ad)]=_0x1f8bd3[_0x40b671(0x4da)][_0x40b671(0x3c2)]();let {message_normalized:_0xfbcdae}=this[_0x40b671(0x412)](_0x175b7f['message'],J(_0x175b7f[_0x40b671(0x5c9)]),null);_0x4b20c3[_0x40b671(0xa2)][_0x40b671(0x2d5)]=await _0xfbcdae;let _0x586b40={'messageId':_0x175b7f[_0x40b671(0x465)]['id']},_0x5060aa=_0x4b20c3[_0x40b671(0xa2)][_0x40b671(0x3af)];Object[_0x40b671(0x1a9)](_0x5060aa,_0x2db9a4),_0x4b20c3[_0x40b671(0xa2)][_0x40b671(0x3af)]=_0x5060aa,this[_0x40b671(0x332)](_0x4b20c3,_0x1f8bd3,_0x586b40);}else{let _0xc28741={'error':!0x0};this['updateConversation'](_0x4b20c3,_0x1f8bd3,_0xc28741),this[_0x40b671(0x2ad)][_0x40b671(0x348)](this[_0x40b671(0x372)]+'\x20('+this[_0x40b671(0x54c)]['wuid']+_0x40b671(0x431));}}catch(_0x1a8790){let _0x161b8a={'error':!0x0,'errorLog':_0x1a8790[_0x40b671(0x3c2)]()};this[_0x40b671(0x332)](_0x4b20c3,_0x1f8bd3,_0x161b8a),this[_0x40b671(0x2ad)][_0x40b671(0x348)](this['instanceName']+'\x20('+this['instance'][_0x40b671(0x482)]+_0x40b671(0x645)+_0x1a8790[_0x40b671(0x3c2)]());}}async[a0_0x2caf34(0x605)](_0xb41201,_0x341cb5,_0x506f84){const _0x4c7b12=a0_0x2caf34;this['logger']['verbose'](this[_0x4c7b12(0x372)]+'\x20('+this[_0x4c7b12(0x54c)][_0x4c7b12(0x482)]+'):\x20Deletando\x20mensagem');let _0x259b58=_0xb41201['chatLog']['blockLogs'][_0x4c7b12(0x504)](_0x599ffd=>_0x599ffd[_0x4c7b12(0xec)][_0x4c7b12(0x3c2)]()===_0x341cb5[_0x4c7b12(0xad)][_0x4c7b12(0xec)][_0x4c7b12(0x3c2)]()),_0xb66903={'id':_0x259b58[_0x4c7b12(0x28d)],'remoteJid':_0x259b58['remoteJid'],'fromMe':_0x259b58[_0x4c7b12(0x19f)]};try{let _0x128678=await this[_0x4c7b12(0x62e)](_0xb66903);if(_0x128678){_0xb41201[_0x4c7b12(0xa2)][_0x4c7b12(0x4ad)]=_0x341cb5[_0x4c7b12(0x4da)][_0x4c7b12(0x3c2)]();let {message_normalized:_0x240eea}=this[_0x4c7b12(0x412)](_0x128678[_0x4c7b12(0x5c9)],J(_0x128678['message']),null);_0xb41201[_0x4c7b12(0xa2)]['lastSendMessage']=await _0x240eea;let _0x84165a={};this[_0x4c7b12(0x332)](_0xb41201,_0x341cb5,_0x84165a);}else{let _0x1e251a={'error':!0x0};this['updateConversation'](_0xb41201,_0x341cb5,_0x1e251a),this[_0x4c7b12(0x2ad)][_0x4c7b12(0x348)](this[_0x4c7b12(0x372)]+'\x20('+this[_0x4c7b12(0x54c)][_0x4c7b12(0x482)]+_0x4c7b12(0x4d8));}}catch(_0x292b71){let _0x332c01={'error':!0x0,'errorLog':_0x292b71[_0x4c7b12(0x3c2)]()};this[_0x4c7b12(0x332)](_0xb41201,_0x341cb5,_0x332c01),this['logger'][_0x4c7b12(0x348)](this[_0x4c7b12(0x372)]+'\x20('+this[_0x4c7b12(0x54c)]['wuid']+_0x4c7b12(0x1b0)+_0x292b71[_0x4c7b12(0x3c2)]());}}async[a0_0x2caf34(0x10b)](_0x2dd376){const _0x16388d=a0_0x2caf34;try{if(this['logger'][_0x16388d(0x208)](this[_0x16388d(0x372)]+'\x20('+this['instance'][_0x16388d(0x482)]+_0x16388d(0x411)),await I[_0x16388d(0x400)]({'owner':this[_0x16388d(0x54c)][_0x16388d(0x482)],'name':_0x2dd376[_0x16388d(0x3c7)]}))return{'message':_0x16388d(0x277)};_0x2dd376[_0x16388d(0x418)]===!0x0&&await I[_0x16388d(0xbc)]({'owner':this[_0x16388d(0x54c)][_0x16388d(0x482)]},{'default':!0x1});let _0x3552dc=new we[(_0x16388d(0x4f5))][(_0x16388d(0xf3))](),_0x5d48da={'_id':_0x3552dc,'default':!0x0,'title':_0x16388d(0x1ec),'x':0x0,'y':0x0},_0x395e17={'_id':new we[(_0x16388d(0x4f5))][(_0x16388d(0xf3))](),'order':0x1,'groupId':_0x3552dc[_0x16388d(0x3c2)](),'type':_0x16388d(0x45f)};return await I[_0x16388d(0x333)]({'owner':this[_0x16388d(0x54c)]['wuid'],'name':_0x2dd376[_0x16388d(0x3c7)],'groups':[_0x5d48da],'blocks':[_0x395e17],..._0x2dd376});}catch(_0x69051c){throw this[_0x16388d(0x2ad)][_0x16388d(0x348)](this[_0x16388d(0x372)]+'\x20('+this[_0x16388d(0x54c)][_0x16388d(0x482)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20'+_0x69051c),new g('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x69051c);}}async['deleteFlow'](_0xaee98){const _0x3d7457=a0_0x2caf34;try{return this[_0x3d7457(0x2ad)][_0x3d7457(0x208)](this[_0x3d7457(0x372)]+'\x20('+this['instance']['wuid']+'):\x20Deletando\x20fluxo...'),await I['deleteOne']({'owner':this['instance'][_0x3d7457(0x482)],'name':_0xaee98});}catch(_0x37909f){return this[_0x3d7457(0x2ad)]['error'](this[_0x3d7457(0x372)]+'\x20('+this[_0x3d7457(0x54c)][_0x3d7457(0x482)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+_0x37909f),{'message':_0x3d7457(0x1e5)+_0x37909f};}}async['getFlow'](_0x1271ec){const _0x1df4cd=a0_0x2caf34;try{this['logger'][_0x1df4cd(0x208)](this[_0x1df4cd(0x372)]+'\x20('+this[_0x1df4cd(0x54c)][_0x1df4cd(0x482)]+'):\x20Buscando\x20flow...');let _0x5436d9=await I[_0x1df4cd(0x400)]({'owner':this[_0x1df4cd(0x54c)][_0x1df4cd(0x482)],'name':_0x1271ec});if(!_0x5436d9)throw new Error(_0x1df4cd(0x53d));if(!this[_0x1df4cd(0x60c)]&&(await this[_0x1df4cd(0x571)](),!this[_0x1df4cd(0x60c)]))return null;let _0x48fc5e=this[_0x1df4cd(0x60c)]?.[_0x1df4cd(0x508)][_0x1df4cd(0x566)](_0x4999d3=>_0x4999d3[_0x1df4cd(0x3c7)]),_0x439796=['nome',_0x1df4cd(0xe2),_0x1df4cd(0x3ff),_0x1df4cd(0x364),'status',_0x1df4cd(0x512),_0x1df4cd(0x61a),_0x1df4cd(0x35c)];return _0x5436d9[_0x1df4cd(0x26f)]=_0x5436d9[_0x1df4cd(0x26f)][_0x1df4cd(0x356)](_0x38f89e=>!(_0x38f89e['folder']===_0x1df4cd(0x331)||_0x38f89e[_0x1df4cd(0x331)])),_0x439796[_0x1df4cd(0x369)](_0x16a4e4=>{const _0x5e721c=_0x1df4cd;_0x5436d9['variables'][_0x5e721c(0x334)]({'folder':_0x5e721c(0x331),'name':_0x16a4e4,'value':'','doc':'','leadInfo':!0x0});}),_0x48fc5e[_0x1df4cd(0x369)](_0xd7e03d=>{const _0x4ae279=_0x1df4cd;let _0x2d1aa4=_0x5436d9[_0x4ae279(0x26f)]['findIndex'](_0x2ed5ba=>_0x2ed5ba[_0x4ae279(0x3c7)]===_0xd7e03d);_0x2d1aa4===-0x1?_0x5436d9['variables'][_0x4ae279(0x334)]({'folder':_0x4ae279(0x331),'name':_0xd7e03d,'value':'','doc':'','leadInfo':!0x0}):(_0x5436d9['variables'][_0x2d1aa4][_0x4ae279(0x275)]='leadInfo',_0x5436d9[_0x4ae279(0x26f)][_0x2d1aa4][_0x4ae279(0x331)]=!0x0);}),_0x5436d9[_0x1df4cd(0x328)]&&_0x5436d9[_0x1df4cd(0x328)][_0x1df4cd(0x59b)]>0x0&&_0x5436d9[_0x1df4cd(0x328)][_0x1df4cd(0x369)](_0x34aacd=>{const _0x416ab4=_0x1df4cd;_0x34aacd['groupId']&&_0x34aacd[_0x416ab4(0x1b5)]&&_0x34aacd[_0x416ab4(0x619)]===_0x34aacd['next_groupId']&&(_0x34aacd[_0x416ab4(0x1b5)]=null);}),await _0x5436d9[_0x1df4cd(0x4ff)](),_0x5436d9;}catch(_0x3ec092){throw this[_0x1df4cd(0x2ad)][_0x1df4cd(0x348)](this[_0x1df4cd(0x372)]+'\x20('+this[_0x1df4cd(0x54c)][_0x1df4cd(0x482)]+_0x1df4cd(0x339)+_0x3ec092),new g('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x3ec092);}}async[a0_0x2caf34(0x5be)](){const _0x37be4f=a0_0x2caf34;try{return this[_0x37be4f(0x2ad)][_0x37be4f(0x208)](this[_0x37be4f(0x372)]+'\x20('+this['instance'][_0x37be4f(0x482)]+_0x37be4f(0x39e)),await I['find']({'owner':this[_0x37be4f(0x54c)][_0x37be4f(0x482)]});}catch(_0x203425){return this[_0x37be4f(0x2ad)][_0x37be4f(0x348)](this[_0x37be4f(0x372)]+'\x20('+this[_0x37be4f(0x54c)]['wuid']+_0x37be4f(0x535)+_0x203425),{'message':_0x37be4f(0x227)+_0x203425};}}async[a0_0x2caf34(0x3ed)](_0x4a8c54){const _0x12790d=a0_0x2caf34;try{this[_0x12790d(0x2ad)][_0x12790d(0x208)](this[_0x12790d(0x372)]+'\x20('+this[_0x12790d(0x54c)]['wuid']+_0x12790d(0x1d7));let _0x4674ff=await I[_0x12790d(0x400)]({'owner':this[_0x12790d(0x54c)][_0x12790d(0x482)],'name':_0x4a8c54[_0x12790d(0x3c7)]});if(!_0x4674ff)return{'message':_0x12790d(0x2b8)};if(_0x4a8c54[_0x12790d(0x418)]===!0x0&&await I[_0x12790d(0xbc)]({'owner':this[_0x12790d(0x54c)]['wuid']},{'default':!0x1}),_0x4a8c54['newName']){if(await I['findOne']({'owner':this[_0x12790d(0x54c)][_0x12790d(0x482)],'name':_0x4a8c54[_0x12790d(0x4e1)]}))return{'message':_0x12790d(0x606)};_0x4a8c54[_0x12790d(0x3c7)]=_0x4a8c54['newName'],delete _0x4a8c54['newName'];}return await I[_0x12790d(0x44b)](_0x4674ff[_0x12790d(0x4da)],{'$set':_0x4a8c54},{'new':!0x0});}catch(_0x50b86d){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x12790d(0x54c)]['wuid']+_0x12790d(0x378)+_0x50b86d),new g(_0x12790d(0x64a)+_0x50b86d);}}async['editFlowBlock'](_0x1da54b){const _0x53d10d=a0_0x2caf34;try{this[_0x53d10d(0x2ad)][_0x53d10d(0x208)](this[_0x53d10d(0x372)]+'\x20('+this['instance'][_0x53d10d(0x482)]+_0x53d10d(0x32f));let _0x31971b={'owner':this[_0x53d10d(0x54c)][_0x53d10d(0x482)],'name':_0x1da54b[_0x53d10d(0x3c7)]},_0x2e38d8=await I['findOne'](_0x31971b);_0x2e38d8||this[_0x53d10d(0x20f)](_0x53d10d(0x53d));let {block:_0x3b3bf6}=_0x1da54b;return _0x3b3bf6?.['delete']?this[_0x53d10d(0x35f)](_0x2e38d8,_0x1da54b):_0x3b3bf6[_0x53d10d(0x4da)]?await this['updateBlock'](_0x2e38d8,_0x1da54b):this[_0x53d10d(0x1c5)](_0x2e38d8,_0x1da54b),await _0x2e38d8[_0x53d10d(0x4ff)](),_0x2e38d8;}catch(_0x9dac4a){this[_0x53d10d(0x20f)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x9dac4a);}}[a0_0x2caf34(0x20f)](_0x49c428){const _0x5d57a6=a0_0x2caf34;throw this['logger'][_0x5d57a6(0x348)](this[_0x5d57a6(0x372)]+'\x20('+this[_0x5d57a6(0x54c)][_0x5d57a6(0x482)]+_0x5d57a6(0x2ca)+_0x49c428),new g(_0x49c428);}[a0_0x2caf34(0x35f)](_0x15ebd4,_0x5d5aec){const _0x2dd8f4=a0_0x2caf34;let {block:_0x4f4289}=_0x5d5aec;if(_0x4f4289[_0x2dd8f4(0x54a)]===_0x2dd8f4(0x45f)){this[_0x2dd8f4(0x20f)](_0x2dd8f4(0x104));return;}if(!_0x4f4289[_0x2dd8f4(0x4da)]){this[_0x2dd8f4(0x20f)](_0x2dd8f4(0x47e));return;}let _0x209eff=_0x15ebd4[_0x2dd8f4(0x328)][_0x2dd8f4(0x504)](_0x3ead14=>_0x3ead14['_id'][_0x2dd8f4(0x3c2)]()===_0x5d5aec['block']['_id'][_0x2dd8f4(0x3c2)]());if(!_0x209eff){this['throwAndLogError'](_0x2dd8f4(0x242)+_0x4f4289[_0x2dd8f4(0x4da)]+_0x2dd8f4(0x368));return;}_0x15ebd4[_0x2dd8f4(0x328)]=_0x15ebd4[_0x2dd8f4(0x328)][_0x2dd8f4(0x356)](_0x14102c=>_0x14102c[_0x2dd8f4(0x4da)][_0x2dd8f4(0x3c2)]()!==_0x5d5aec[_0x2dd8f4(0x3ea)][_0x2dd8f4(0x4da)]['toString']()),_0x15ebd4[_0x2dd8f4(0x3e6)]=_0x15ebd4[_0x2dd8f4(0x3e6)][_0x2dd8f4(0x356)](_0x472acd=>_0x472acd[_0x2dd8f4(0xec)]!==_0x4f4289[_0x2dd8f4(0x4da)][_0x2dd8f4(0x3c2)]()),_0x15ebd4[_0x2dd8f4(0x2d8)]=_0x15ebd4['varedits'][_0x2dd8f4(0x356)](_0x1da4b3=>_0x1da4b3['blockId']!==_0x4f4289[_0x2dd8f4(0x4da)][_0x2dd8f4(0x3c2)]()),_0x15ebd4[_0x2dd8f4(0x1bb)]=_0x15ebd4[_0x2dd8f4(0x1bb)][_0x2dd8f4(0x356)](_0x173eab=>_0x173eab[_0x2dd8f4(0xec)]!==_0x4f4289[_0x2dd8f4(0x4da)]['toString']()),this[_0x2dd8f4(0x460)](_0x15ebd4[_0x2dd8f4(0x328)],_0x209eff['groupId']);}async[a0_0x2caf34(0x3d9)](_0x5d99cd,_0x595f4c){const _0x1a3b35=a0_0x2caf34;let _0x389939=_0x5d99cd[_0x1a3b35(0x328)]['findIndex'](_0x1acef4=>_0x1acef4[_0x1a3b35(0x4da)][_0x1a3b35(0x3c2)]()===_0x595f4c[_0x1a3b35(0x3ea)][_0x1a3b35(0x4da)][_0x1a3b35(0x3c2)]());if(this['logger'][_0x1a3b35(0x208)](this[_0x1a3b35(0x372)]+'\x20('+this[_0x1a3b35(0x54c)]['wuid']+_0x1a3b35(0xee)+_0x389939),_0x389939===-0x1){this['logger'][_0x1a3b35(0x208)]('Bloco\x20com\x20ID\x20'+_0x595f4c[_0x1a3b35(0x3ea)][_0x1a3b35(0x4da)]+_0x1a3b35(0x2a3));return;}if(_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x54a)]===_0x1a3b35(0x45f)){let _0x486b2e=Object[_0x1a3b35(0x3d5)](_0x595f4c[_0x1a3b35(0x3ea)]);if(_0x486b2e[_0x1a3b35(0x59b)]>0x2||_0x486b2e[_0x1a3b35(0x59b)]===0x2&&!_0x486b2e['includes'](_0x1a3b35(0x1b5))){this[_0x1a3b35(0x20f)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x412f12=_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x619)];for(let _0x342657 in _0x595f4c[_0x1a3b35(0x3ea)])_0x595f4c[_0x1a3b35(0x3ea)][_0x1a3b35(0x1c7)](_0x342657)&&(_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x342657]=_0x595f4c[_0x1a3b35(0x3ea)][_0x342657]);if(this['logger']['verbose'](this[_0x1a3b35(0x372)]+'\x20('+this['instance'][_0x1a3b35(0x482)]+_0x1a3b35(0x5e9)+JSON[_0x1a3b35(0xff)](_0x5d99cd[_0x1a3b35(0x328)][_0x389939])),_0x5d99cd['blocks'][_0x389939][_0x1a3b35(0x67e)]&&_0x1a3b35(0x1f4)in _0x5d99cd['blocks'][_0x389939][_0x1a3b35(0x67e)]){this[_0x1a3b35(0x2ad)][_0x1a3b35(0x208)](this[_0x1a3b35(0x372)]+'\x20('+this[_0x1a3b35(0x54c)][_0x1a3b35(0x482)]+_0x1a3b35(0x56e));let _0x2007d0=JSON[_0x1a3b35(0xff)](_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x67e)]['header'],null,0x1);_0x2007d0[_0x1a3b35(0x59b)]>0x2&&(_0x2007d0=_0x2007d0['substring'](0x1,_0x2007d0[_0x1a3b35(0x59b)]-0x1)[_0x1a3b35(0x3cd)]()),_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x67e)]['headerString']=_0x2007d0;}if(_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x67e)]&&_0x1a3b35(0x515)in _0x5d99cd['blocks'][_0x389939][_0x1a3b35(0x67e)]){this['logger'][_0x1a3b35(0x208)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x315c04=JSON[_0x1a3b35(0xff)](_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x67e)][_0x1a3b35(0x515)],null,0x1);_0x315c04[_0x1a3b35(0x59b)]>0x2&&(_0x315c04=_0x315c04[_0x1a3b35(0x3e2)](0x1,_0x315c04[_0x1a3b35(0x59b)]-0x1)[_0x1a3b35(0x3cd)]()),_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x67e)][_0x1a3b35(0x37b)]=_0x315c04;}let _0x181db3=_0x5d99cd[_0x1a3b35(0x328)][_0x389939][_0x1a3b35(0x619)];_0x412f12!==_0x181db3?(this[_0x1a3b35(0x460)](_0x5d99cd['blocks'],_0x412f12),this[_0x1a3b35(0x460)](_0x5d99cd['blocks'],_0x181db3)):this[_0x1a3b35(0x460)](_0x5d99cd[_0x1a3b35(0x328)],_0x412f12);}[a0_0x2caf34(0x1c5)](_0x2ebe2c,_0x3ca5b4){const _0x3eda7e=a0_0x2caf34;if(_0x3ca5b4[_0x3eda7e(0x3ea)][_0x3eda7e(0x54a)]==='start'){this[_0x3eda7e(0x20f)](_0x3eda7e(0x404));return;}if(_0x3ca5b4[_0x3eda7e(0x3ea)][_0x3eda7e(0x67e)]&&'header'in _0x3ca5b4['block']['apirequest']){this[_0x3eda7e(0x2ad)][_0x3eda7e(0x208)](this[_0x3eda7e(0x372)]+'\x20('+this[_0x3eda7e(0x54c)][_0x3eda7e(0x482)]+_0x3eda7e(0x56e));let _0x530c62=JSON[_0x3eda7e(0xff)](_0x3ca5b4[_0x3eda7e(0x3ea)]['apirequest']['header'],null,0x1);_0x530c62['length']>0x2&&(_0x530c62=_0x530c62[_0x3eda7e(0x3e2)](0x1,_0x530c62[_0x3eda7e(0x59b)]-0x1)[_0x3eda7e(0x3cd)]()),_0x3ca5b4[_0x3eda7e(0x3ea)][_0x3eda7e(0x67e)][_0x3eda7e(0x440)]=_0x530c62;}_0x3ca5b4[_0x3eda7e(0x3ea)][_0x3eda7e(0x67e)]&&'body'in _0x3ca5b4['block'][_0x3eda7e(0x67e)]&&(this['logger'][_0x3eda7e(0x208)](this[_0x3eda7e(0x372)]+'\x20('+this['instance'][_0x3eda7e(0x482)]+_0x3eda7e(0x264)),_0x3ca5b4['block']['apirequest'][_0x3eda7e(0x37b)]=JSON[_0x3eda7e(0xff)](_0x3ca5b4[_0x3eda7e(0x3ea)][_0x3eda7e(0x67e)][_0x3eda7e(0x515)],null,0x1)[_0x3eda7e(0x3cd)]()),_0x2ebe2c[_0x3eda7e(0x328)][_0x3eda7e(0x334)](_0x3ca5b4[_0x3eda7e(0x3ea)]),this[_0x3eda7e(0x460)](_0x2ebe2c[_0x3eda7e(0x328)],_0x3ca5b4[_0x3eda7e(0x3ea)]['groupId']);}[a0_0x2caf34(0x460)](_0x2c9577,_0x2be5e5){const _0x14674b=a0_0x2caf34;let _0x140279=_0x2c9577[_0x14674b(0x356)](_0x17dcaa=>_0x17dcaa['groupId']===_0x2be5e5);_0x140279[_0x14674b(0x5f1)]((_0x55e57a,_0x14875b)=>_0x55e57a[_0x14674b(0x425)]-_0x14875b[_0x14674b(0x425)]),_0x140279[_0x14674b(0x369)]((_0x170079,_0x5b8fda)=>_0x170079[_0x14674b(0x425)]=_0x5b8fda+0x1);}async['editFlowReply'](_0x35198d){const _0x4f1cf3=a0_0x2caf34;try{if(this['logger']['verbose'](this[_0x4f1cf3(0x372)]+'\x20('+this[_0x4f1cf3(0x54c)][_0x4f1cf3(0x482)]+_0x4f1cf3(0x319)),!_0x35198d||!_0x35198d['replyOption']){this[_0x4f1cf3(0x20f)](_0x4f1cf3(0x480));return;}let _0x59e75a={'owner':this[_0x4f1cf3(0x54c)][_0x4f1cf3(0x482)],'name':_0x35198d[_0x4f1cf3(0x3c7)]},_0x20f6b7=await I[_0x4f1cf3(0x400)](_0x59e75a);_0x20f6b7||this['throwAndLogError']('Flow\x20não\x20encontrado');let {replyOption:_0x3337b0}=_0x35198d;return _0x3337b0?.[_0x4f1cf3(0x126)]?this[_0x4f1cf3(0x36e)](_0x20f6b7,_0x35198d):_0x3337b0[_0x4f1cf3(0x4da)]?await this[_0x4f1cf3(0x3b7)](_0x20f6b7,_0x35198d):this['addReplyOption'](_0x20f6b7,_0x35198d),await _0x20f6b7['save'](),_0x20f6b7;}catch(_0x23e1ee){this['throwAndLogError'](_0x4f1cf3(0x485)+_0x23e1ee);}}['deleteReplyOption'](_0x26719e,_0x11a30f){const _0xb1eb30=a0_0x2caf34;let {replyOption:_0x49d8d3}=_0x11a30f;if(!_0x49d8d3[_0xb1eb30(0x4da)]){this[_0xb1eb30(0x20f)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x26719e['replyOptions'][_0xb1eb30(0x504)](_0x5279a7=>_0x5279a7[_0xb1eb30(0x4da)][_0xb1eb30(0x3c2)]()===_0x11a30f[_0xb1eb30(0x10d)]['_id'][_0xb1eb30(0x3c2)]())){this[_0xb1eb30(0x20f)](_0xb1eb30(0x119)+_0x49d8d3[_0xb1eb30(0x4da)]+_0xb1eb30(0x368));return;}_0x26719e[_0xb1eb30(0x1bb)]=_0x26719e[_0xb1eb30(0x1bb)][_0xb1eb30(0x356)](_0x3d0384=>_0x3d0384['_id'][_0xb1eb30(0x3c2)]()!==_0x11a30f[_0xb1eb30(0x10d)][_0xb1eb30(0x4da)][_0xb1eb30(0x3c2)]());}async[a0_0x2caf34(0x3b7)](_0x56dade,_0xbbe762){const _0x1317c7=a0_0x2caf34;let _0x3474f3=_0x56dade['replyOptions'][_0x1317c7(0x202)](_0x488e08=>_0x488e08[_0x1317c7(0x4da)][_0x1317c7(0x3c2)]()===_0xbbe762['replyOption'][_0x1317c7(0x4da)][_0x1317c7(0x3c2)]());if(_0x3474f3===-0x1){this[_0x1317c7(0x20f)](_0x1317c7(0x119)+_0xbbe762[_0x1317c7(0x10d)][_0x1317c7(0x4da)]+_0x1317c7(0x2a3));return;}for(let _0x4e3d31 in _0xbbe762[_0x1317c7(0x10d)])_0xbbe762['replyOption'][_0x1317c7(0x1c7)](_0x4e3d31)&&(_0x56dade[_0x1317c7(0x1bb)][_0x3474f3][_0x4e3d31]=_0xbbe762['replyOption'][_0x4e3d31]);}[a0_0x2caf34(0x57f)](_0x3a6ed0,_0x3afafd){const _0x281d11=a0_0x2caf34;_0x3a6ed0[_0x281d11(0x1bb)][_0x281d11(0x334)](_0x3afafd[_0x281d11(0x10d)]);}async[a0_0x2caf34(0x5db)](_0x487255){const _0x179792=a0_0x2caf34;this[_0x179792(0x2ad)][_0x179792(0x208)](this[_0x179792(0x372)]+'\x20('+this['instance'][_0x179792(0x482)]+_0x179792(0x5b1)+_0x487255);try{this[_0x179792(0x2ad)][_0x179792(0x208)](this[_0x179792(0x372)]+'\x20('+this[_0x179792(0x54c)][_0x179792(0x482)]+_0x179792(0x476));let _0x309cf5={'owner':this[_0x179792(0x54c)][_0x179792(0x482)],'name':_0x487255[_0x179792(0x3c7)]},_0x596d22=await I[_0x179792(0x400)](_0x309cf5);if(!_0x596d22)throw new Error(_0x179792(0x53d));if(_0x487255['group']&&_0x487255['group']?.['delete']===!0x0){if(this['logger'][_0x179792(0x208)](this[_0x179792(0x372)]+'\x20('+this[_0x179792(0x54c)]['wuid']+'):\x20delete\x20=\x20true'),_0x487255[_0x179792(0x131)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x596d22[_0x179792(0x328)][_0x179792(0x125)](_0x7c9626=>_0x7c9626[_0x179792(0x619)][_0x179792(0x3c2)]()===_0x487255[_0x179792(0x131)][_0x179792(0x4da)]))return this[_0x179792(0x2ad)]['verbose'](this[_0x179792(0x372)]+'\x20('+this[_0x179792(0x54c)][_0x179792(0x482)]+_0x179792(0x2f2)),{'message':_0x179792(0x4e8)};_0x596d22[_0x179792(0x35a)]=_0x596d22[_0x179792(0x35a)][_0x179792(0x356)](_0x291fbd=>_0x291fbd[_0x179792(0x4da)][_0x179792(0x3c2)]()!==_0x487255['group']['_id']);}else{if(_0x487255[_0x179792(0x131)]){if(_0x487255[_0x179792(0x131)][_0x179792(0x418)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x487255[_0x179792(0x131)][_0x179792(0x4da)]){let _0x42e551=_0x596d22[_0x179792(0x35a)][_0x179792(0x504)](_0x3f0ced=>_0x3f0ced[_0x179792(0x4da)][_0x179792(0x3c2)]()===_0x487255['group'][_0x179792(0x4da)]);_0x42e551&&(_0x487255['group']['x']<0x0&&(_0x487255[_0x179792(0x131)]['x']=0x0),_0x487255['group']['y']<0x0&&(_0x487255[_0x179792(0x131)]['y']=0x0),Object[_0x179792(0x1a9)](_0x42e551,_0x487255[_0x179792(0x131)]));}else _0x596d22['groups'][_0x179792(0x334)](_0x487255[_0x179792(0x131)]);}}return await _0x596d22[_0x179792(0x4ff)](),_0x596d22;}catch(_0x4e7584){throw this[_0x179792(0x2ad)]['error'](this[_0x179792(0x372)]+'\x20('+this[_0x179792(0x54c)][_0x179792(0x482)]+_0x179792(0x2fd)+_0x4e7584),new g('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x4e7584);}}async['editFlowCondition'](_0x250953){const _0x466cd6=a0_0x2caf34;try{this[_0x466cd6(0x2ad)][_0x466cd6(0x208)](this['instanceName']+'\x20('+this[_0x466cd6(0x54c)]['wuid']+_0x466cd6(0x48b));let _0x430d87={'owner':this['instance'][_0x466cd6(0x482)],'name':_0x250953[_0x466cd6(0x3c7)]},_0x44a6e0=await I[_0x466cd6(0x400)](_0x430d87);if(!_0x44a6e0)throw new Error(_0x466cd6(0x53d));let _0x191ed6=!0x1;if(_0x250953[_0x466cd6(0x552)]?.[_0x466cd6(0x126)]===!0x0)_0x44a6e0[_0x466cd6(0x3e6)]=_0x44a6e0[_0x466cd6(0x3e6)][_0x466cd6(0x356)](_0x113131=>_0x113131&&_0x250953['condition']&&_0x113131['_id']&&_0x250953[_0x466cd6(0x552)][_0x466cd6(0x4da)]&&_0x113131['_id'][_0x466cd6(0x3c2)]()!==_0x250953[_0x466cd6(0x552)]['_id'][_0x466cd6(0x3c2)]()),_0x191ed6=!0x0;else{let _0x34b9a5=_0x44a6e0[_0x466cd6(0x3e6)][_0x466cd6(0x504)](_0x242a43=>_0x242a43&&_0x250953[_0x466cd6(0x552)]&&_0x242a43['_id']&&_0x250953['condition']['_id']&&_0x242a43[_0x466cd6(0x4da)][_0x466cd6(0x3c2)]()===_0x250953[_0x466cd6(0x552)][_0x466cd6(0x4da)][_0x466cd6(0x3c2)]());_0x34b9a5?(_0x191ed6=_0x34b9a5['order']!==_0x250953[_0x466cd6(0x552)][_0x466cd6(0x425)],Object[_0x466cd6(0x1a9)](_0x34b9a5,_0x250953[_0x466cd6(0x552)])):(_0x44a6e0[_0x466cd6(0x3e6)][_0x466cd6(0x334)](_0x250953[_0x466cd6(0x552)]),_0x191ed6=!0x0);}if(_0x191ed6){_0x44a6e0[_0x466cd6(0x3e6)][_0x466cd6(0x5f1)]((_0x3d5787,_0x7887de)=>_0x3d5787[_0x466cd6(0x425)]>_0x7887de['order']?0x1:_0x7887de['order']>_0x3d5787[_0x466cd6(0x425)]?-0x1:0x0);for(let _0x48d3fb=0x0;_0x48d3fb<_0x44a6e0[_0x466cd6(0x3e6)][_0x466cd6(0x59b)];_0x48d3fb++)_0x44a6e0[_0x466cd6(0x3e6)][_0x48d3fb]['order']=_0x48d3fb+0x1;_0x44a6e0[_0x466cd6(0x3e6)]['length']>0x0&&(_0x44a6e0[_0x466cd6(0x3e6)][0x0][_0x466cd6(0x473)]='and');}return await _0x44a6e0['save'](),_0x44a6e0;}catch(_0x13626e){throw this[_0x466cd6(0x2ad)][_0x466cd6(0x348)](this['instanceName']+'\x20('+this[_0x466cd6(0x54c)][_0x466cd6(0x482)]+_0x466cd6(0xbb)+_0x13626e),new Error(_0x466cd6(0x1b8)+_0x13626e);}}async[a0_0x2caf34(0x312)](_0x1373f2){const _0x231058=a0_0x2caf34;try{this['logger'][_0x231058(0x208)](this[_0x231058(0x372)]+'\x20('+this[_0x231058(0x54c)]['wuid']+_0x231058(0x291));let _0x3d5f15={'owner':this[_0x231058(0x54c)][_0x231058(0x482)],'name':_0x1373f2['name']},_0x199808=await I[_0x231058(0x400)](_0x3d5f15);if(!_0x199808)throw new Error(_0x231058(0x53d));let _0x282e5b=!0x1;if(_0x1373f2['varedit']?.[_0x231058(0x126)]===!0x0)_0x199808[_0x231058(0x2d8)]=_0x199808['varedits'][_0x231058(0x356)](_0x13e46e=>_0x13e46e&&_0x1373f2['varedit']&&_0x13e46e[_0x231058(0x4da)]&&_0x1373f2[_0x231058(0x150)][_0x231058(0x4da)]&&_0x13e46e[_0x231058(0x4da)][_0x231058(0x3c2)]()!==_0x1373f2['varedit']['_id'][_0x231058(0x3c2)]()),_0x282e5b=!0x0;else{let _0x3ce997=_0x199808[_0x231058(0x2d8)]['find'](_0x24a0b4=>_0x24a0b4&&_0x1373f2[_0x231058(0x150)]&&_0x24a0b4['_id']&&_0x1373f2[_0x231058(0x150)]['_id']&&_0x24a0b4['_id'][_0x231058(0x3c2)]()===_0x1373f2[_0x231058(0x150)]['_id'][_0x231058(0x3c2)]());_0x3ce997?(_0x282e5b=_0x3ce997['order']!==_0x1373f2[_0x231058(0x150)][_0x231058(0x425)],Object[_0x231058(0x1a9)](_0x3ce997,_0x1373f2[_0x231058(0x150)])):(_0x199808[_0x231058(0x2d8)][_0x231058(0x334)](_0x1373f2[_0x231058(0x150)]),_0x282e5b=!0x0);}if(_0x282e5b){_0x199808[_0x231058(0x2d8)]['sort']((_0x5d89b2,_0x59a23d)=>_0x5d89b2['order']>_0x59a23d['order']?0x1:_0x59a23d[_0x231058(0x425)]>_0x5d89b2[_0x231058(0x425)]?-0x1:0x0);for(let _0x36d9b1=0x0;_0x36d9b1<_0x199808[_0x231058(0x2d8)][_0x231058(0x59b)];_0x36d9b1++)_0x199808['varedits'][_0x36d9b1]['order']=_0x36d9b1+0x1;}return await _0x199808['save'](),_0x199808;}catch(_0xebfc1e){throw this[_0x231058(0x2ad)][_0x231058(0x348)](this[_0x231058(0x372)]+'\x20('+this[_0x231058(0x54c)][_0x231058(0x482)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0xebfc1e),new g(_0x231058(0x1b8)+_0xebfc1e);}}async['editFlowVariable'](_0x502d89){const _0x5732f6=a0_0x2caf34;try{this['logger'][_0x5732f6(0x208)](this[_0x5732f6(0x372)]+'\x20('+this[_0x5732f6(0x54c)]['wuid']+_0x5732f6(0x1d0));let _0x50f38c={'owner':this['instance'][_0x5732f6(0x482)],'name':_0x502d89['name']},_0x42866c=await I['findOne'](_0x50f38c);if(!_0x42866c)throw new Error('Flow\x20não\x20encontrado');_0x502d89[_0x5732f6(0x67c)]['name']=_0x502d89[_0x5732f6(0x67c)][_0x5732f6(0x3c7)]['trim'](),_0x502d89[_0x5732f6(0x67c)][_0x5732f6(0x3c7)][_0x5732f6(0x601)]('_')&&(_0x502d89[_0x5732f6(0x67c)]['name']=_0x502d89['variable']['name'][_0x5732f6(0x3e2)](0x1)),_0x502d89['variable'][_0x5732f6(0x3c7)]=_0x502d89['variable'][_0x5732f6(0x3c7)][_0x5732f6(0x3cd)]();let _0x318145=_0x42866c[_0x5732f6(0x26f)][_0x5732f6(0x504)](_0x46bf6d=>_0x46bf6d['name']===_0x502d89['variable'][_0x5732f6(0x3c7)]);if(_0x318145?.[_0x5732f6(0x331)]===!0x0)throw new Error(_0x5732f6(0x40d));if(_0x502d89[_0x5732f6(0x67c)]?.[_0x5732f6(0x126)]===!0x0){if(!_0x318145)return{'message':'Variável\x20não\x20encontrada!'};_0x42866c['variables']=_0x42866c['variables'][_0x5732f6(0x356)](_0x195dca=>_0x195dca['name']!==_0x502d89[_0x5732f6(0x67c)][_0x5732f6(0x3c7)]);}else _0x318145?Object[_0x5732f6(0x1a9)](_0x318145,_0x502d89[_0x5732f6(0x67c)]):_0x42866c[_0x5732f6(0x26f)]['push'](_0x502d89[_0x5732f6(0x67c)]);return await _0x42866c[_0x5732f6(0x4ff)](),_0x42866c;}catch(_0x24d1dc){throw this['logger'][_0x5732f6(0x348)](this[_0x5732f6(0x372)]+'\x20('+this['instance']['wuid']+_0x5732f6(0xdf)+_0x24d1dc),new g('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x24d1dc);}}async[a0_0x2caf34(0x22a)](_0x33ffaf){const _0x240392=a0_0x2caf34;try{if(!this[_0x240392(0x60c)]?.[_0x240392(0x52c)][_0x240392(0x34f)])throw new g(_0x240392(0x426));this[_0x240392(0x2ad)][_0x240392(0x208)](this[_0x240392(0x372)]+'\x20('+this[_0x240392(0x54c)]['wuid']+'):\x20Iniciando\x20bot...');let _0xd1fe82=(await this['whatsappNumber']({'numbers':[_0x33ffaf[_0x240392(0x4a8)]]}))[0x0];if(!_0xd1fe82[_0x240392(0x3ac)]&&!(0x0,w[_0x240392(0x29a)])(_0xd1fe82[_0x240392(0x3e9)])&&!_0xd1fe82[_0x240392(0x3e9)][_0x240392(0xea)](_0x240392(0x270)))throw new g(_0xd1fe82);let _0x3000fa=await I[_0x240392(0x400)]({'owner':this[_0x240392(0x54c)][_0x240392(0x482)],'name':_0x33ffaf[_0x240392(0x3c7)]});if(!_0x3000fa)return this['logger']['error'](this[_0x240392(0x372)]+'\x20('+this[_0x240392(0x54c)][_0x240392(0x482)]+_0x240392(0x3fb)),{'message':'Flow\x20não\x20encontrado'};let _0x5a20d3=await this[_0x240392(0x228)](_0x3000fa,_0xd1fe82['jid'],_0x33ffaf[_0x240392(0x433)]);if(_0x5a20d3){this[_0x240392(0x2ad)][_0x240392(0x208)](this[_0x240392(0x372)]+'\x20('+this['instance']['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x52ff1d=await this['NextBlock'](_0x5a20d3);return _0x52ff1d&&await this[_0x240392(0xaa)](_0x5a20d3,_0x52ff1d,_0x5a20d3[_0x240392(0x4a8)]),{'message':_0x240392(0x21c)+_0x33ffaf[_0x240392(0x4a8)]};}}catch(_0x109144){if(this[_0x240392(0x2ad)][_0x240392(0x348)](this['instanceName']+'\x20('+this['instance'][_0x240392(0x482)]+_0x240392(0x53e)+_0x109144),_0x109144&&_0x109144[_0x240392(0x5c9)]&&Array[_0x240392(0x21a)](_0x109144[_0x240392(0x5c9)])&&_0x109144['message'][0x0]){let {jid:_0x15fc44,exists:_0xccf148}=_0x109144['message'][0x0];}throw new g(_0x240392(0x383)+_0x109144[_0x240392(0x5c9)]);}}async['closeExistingConversations'](_0x44240c){const _0x5bed9b=a0_0x2caf34;let _0x590077=await j[_0x5bed9b(0xbc)]({'owner':this[_0x5bed9b(0x54c)][_0x5bed9b(0x482)],'remoteJid':_0x44240c,'status':_0x5bed9b(0x35b)},{'$set':{'status':_0x5bed9b(0x31e)}});return this['logger']['verbose'](this[_0x5bed9b(0x372)]+'\x20('+this[_0x5bed9b(0x54c)][_0x5bed9b(0x482)]+_0x5bed9b(0x4c1)),_0x590077;}async[a0_0x2caf34(0x228)](_0xc13388,_0x2cd1fc,_0x5b4879){const _0x38a82d=a0_0x2caf34;this[_0x38a82d(0x2ad)][_0x38a82d(0x208)](this[_0x38a82d(0x372)]+'\x20('+this['instance'][_0x38a82d(0x482)]+'):\x20Criando\x20nova\x20conversa'),await this[_0x38a82d(0x434)](_0x2cd1fc);try{let _0x4eae04=require('mongodb')[_0x38a82d(0xf3)],_0x5ce0cc=Date[_0x38a82d(0x572)](),_0x3bd6dc=_0x38a82d(0x45f),_0x466f53={},_0x325a4d={},_0x5bb61d={..._0xc13388[_0x38a82d(0x2ea)],'chatLog':null},_0x43c5ed=await this[_0x38a82d(0x23a)](_0x5bb61d[_0x38a82d(0x26f)]),_0x300cb9=await this['getVariablesChat'](_0x2cd1fc),_0x1559f3={..._0x43c5ed,..._0x300cb9,'_remoteJid':_0x2cd1fc},_0x3e8ffb={'lastReceivedMessage':_0x466f53,'lastSendMessage':_0x325a4d,'lastBlockId':_0x3bd6dc,'lastCondition':!0x0,'realVariables':_0x1559f3};_0x5bb61d[_0x38a82d(0xa2)]=_0x3e8ffb,_0x5bb61d[_0x38a82d(0xa2)][_0x38a82d(0x3af)]={..._0x1559f3,..._0x5b4879},delete _0x5bb61d[_0x38a82d(0x4da)],_0x5bb61d['_id']=new _0x4eae04(),_0x5bb61d[_0x38a82d(0x22b)]=_0x5ce0cc,_0x5bb61d['status']=_0x38a82d(0x35b),_0x5bb61d['remoteJid']=_0x2cd1fc;let _0x4622a7=await j['create'](_0x5bb61d);return this[_0x38a82d(0x2ad)][_0x38a82d(0x208)](this[_0x38a82d(0x372)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4622a7?_0x5bb61d:null;}catch(_0x5d3e22){throw this[_0x38a82d(0x2ad)][_0x38a82d(0x348)](this['instanceName']+'\x20('+this[_0x38a82d(0x54c)][_0x38a82d(0x482)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x5d3e22),new g(_0x5d3e22[_0x38a82d(0x5c9)]);}}async[a0_0x2caf34(0x5c7)](_0x3173fe){const _0x296a30=a0_0x2caf34;try{return this[_0x296a30(0x2ad)]['verbose'](this[_0x296a30(0x372)]+'\x20('+this[_0x296a30(0x54c)]['wuid']+_0x296a30(0x3a6)),this[_0x296a30(0x2ad)]['verbose'](this[_0x296a30(0x372)]+'\x20('+this[_0x296a30(0x54c)][_0x296a30(0x482)]+_0x296a30(0x209)+{'owner':this['instance'][_0x296a30(0x482)],'_id':_0x3173fe}),await j[_0x296a30(0x400)]({'owner':this['instance']['wuid'],'_id':_0x3173fe});}catch(_0x56d124){throw this[_0x296a30(0x2ad)][_0x296a30(0x348)](this[_0x296a30(0x372)]+'\x20('+this[_0x296a30(0x54c)][_0x296a30(0x482)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+_0x56d124),new g(_0x296a30(0x5b2)+_0x56d124[_0x296a30(0x5c9)]);}}async[a0_0x2caf34(0xfe)](_0x1a499d,_0x2e48fa=0x64){const _0xefbf17=a0_0x2caf34;try{this[_0xefbf17(0x2ad)]['verbose'](this[_0xefbf17(0x372)]+'\x20('+this[_0xefbf17(0x54c)][_0xefbf17(0x482)]+_0xefbf17(0x502));let _0x5154ac={..._0x1a499d,'owner':this[_0xefbf17(0x54c)][_0xefbf17(0x482)]};return this[_0xefbf17(0x2ad)][_0xefbf17(0x208)](_0x5154ac),await j[_0xefbf17(0x504)](_0x5154ac)[_0xefbf17(0x287)](_0x2e48fa)[_0xefbf17(0x5f1)]({'lastInteraction':-0x1});}catch(_0x338de3){throw this[_0xefbf17(0x2ad)][_0xefbf17(0x348)](this['instanceName']+'\x20('+this['instance'][_0xefbf17(0x482)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x338de3),new g(_0xefbf17(0x1a4)+_0x338de3[_0xefbf17(0x5c9)]);}}async[a0_0x2caf34(0x340)](_0x59fbb9){const _0x148315=a0_0x2caf34;try{return this['logger'][_0x148315(0x208)](this[_0x148315(0x372)]+'\x20('+this[_0x148315(0x54c)][_0x148315(0x482)]+_0x148315(0x114)),this[_0x148315(0x2ad)]['verbose'](this[_0x148315(0x372)]+'\x20('+this['instance'][_0x148315(0x482)]+_0x148315(0x209)+{'owner':this[_0x148315(0x54c)][_0x148315(0x482)],'_id':_0x59fbb9}),(await j['deleteOne']({'owner':this[_0x148315(0x54c)]['wuid'],'_id':_0x59fbb9}))[_0x148315(0x147)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x148315(0x145)};}catch(_0x316bf7){throw this[_0x148315(0x2ad)][_0x148315(0x348)](this[_0x148315(0x372)]+'\x20('+this['instance'][_0x148315(0x482)]+_0x148315(0x45e)+_0x316bf7),new g(_0x148315(0x1c2)+_0x316bf7[_0x148315(0x5c9)]);}}async[a0_0x2caf34(0x1b3)](_0x59a191){const _0x309c9f=a0_0x2caf34;try{let {_id:_0x16b96e,chatLog:_0x109a57,status:_0x282ea1}=_0x59a191;if(!_0x16b96e)return{'message':_0x309c9f(0x42b)};let _0x3abaa9={};if(_0x282ea1!==void 0x0&&(_0x3abaa9[_0x309c9f(0x505)]=_0x282ea1),Object[_0x309c9f(0x3d5)](_0x3abaa9)[_0x309c9f(0x59b)]===0x0)return{'message':_0x309c9f(0x3fc)};let _0x1d91d5=this['instance'][_0x309c9f(0x482)],_0xe5a4c4=await j['findOneAndUpdate']({'_id':_0x16b96e,'owner':_0x1d91d5},{'$set':_0x3abaa9},{'new':!0x0});return _0xe5a4c4||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x3671d3){throw this[_0x309c9f(0x2ad)][_0x309c9f(0x348)](this[_0x309c9f(0x372)]+'\x20('+this[_0x309c9f(0x54c)][_0x309c9f(0x482)]+_0x309c9f(0x557)+_0x3671d3),new g(_0x309c9f(0x33d)+_0x3671d3['message']);}}async[a0_0x2caf34(0x4d7)](_0xcc4390){const _0x1ccb0a=a0_0x2caf34;try{_0xcc4390['_id']=this[_0x1ccb0a(0x205)](_0xcc4390[_0x1ccb0a(0x4da)]);let {_id:_0x2a7771,leadInfo:_0x157fc3}=_0xcc4390;if(!_0x2a7771)throw new Error(_0x1ccb0a(0x109));let _0x22bf02=(_0x1da51e,_0xadbbb8,_0x46618a)=>{_0x46618a['forEach'](_0x51ea8b=>{_0x1da51e[_0x51ea8b]!==void 0x0&&(_0xadbbb8['leadInfo.'+_0x51ea8b]=_0x1da51e[_0x51ea8b]);});},_0x5f34f1={};if(_0x22bf02(_0x157fc3,_0x5f34f1,[_0x1ccb0a(0x64c),_0x1ccb0a(0xe2),_0x1ccb0a(0x3ff),_0x1ccb0a(0x364),_0x1ccb0a(0x505),'notas',_0x1ccb0a(0x35c),_0x1ccb0a(0x40f),_0x1ccb0a(0x61a)]),Array[_0x1ccb0a(0x21a)](_0x157fc3['customFields'])&&(_0x5f34f1[_0x1ccb0a(0x12a)]=_0x157fc3[_0x1ccb0a(0x508)][_0x1ccb0a(0x566)](_0x49174c=>({'_id':_0x49174c[_0x1ccb0a(0x4da)],'value':_0x49174c[_0x1ccb0a(0xf5)]}))),_0xcc4390['leadInfo']['desativadoFluxoAte']!==void 0x0&&(_0x5f34f1['leadInfo.desativadoFluxoAte']=Number(_0xcc4390['leadInfo'][_0x1ccb0a(0xba)])),_0xcc4390['unreadcount']!==void 0x0&&(_0x5f34f1['unreadcount']=Number(_0xcc4390[_0x1ccb0a(0x1ce)])),Object[_0x1ccb0a(0x3d5)](_0x5f34f1)[_0x1ccb0a(0x59b)]===0x0)throw new Error(_0x1ccb0a(0x3fc));let _0x4772eb=this['instance']['wuid'];if(!_0x4772eb)throw new Error(_0x1ccb0a(0x14a));if(!await this[_0x1ccb0a(0x1bf)][_0x1ccb0a(0x300)][_0x1ccb0a(0x400)]({'where':{'_id':_0xcc4390['_id'],'owner':_0x4772eb}})){let _0x936d16=(await this['whatsappNumber']({'numbers':[_0xcc4390['_id']]}))[0x0];if(!_0x936d16[_0x1ccb0a(0x3ac)]&&!(0x0,w[_0x1ccb0a(0x29a)])(_0x936d16[_0x1ccb0a(0x3e9)])&&!_0x936d16[_0x1ccb0a(0x3e9)]['includes'](_0x1ccb0a(0x270)))throw new g(_0x936d16);_0xcc4390[_0x1ccb0a(0x4da)]=_0x936d16[_0x1ccb0a(0x3e9)];}let _0x56f016=await this[_0x1ccb0a(0x1bf)][_0x1ccb0a(0x300)][_0x1ccb0a(0x2ba)]({'where':{'_id':_0xcc4390['_id'],'owner':_0x4772eb}},_0x5f34f1);return _0x56f016&&B(this[_0x1ccb0a(0x372)],_0x1ccb0a(0xac),{'chat':_0x56f016}),_0x56f016?(this['logger'][_0x1ccb0a(0x208)](this[_0x1ccb0a(0x372)]+'\x20('+this[_0x1ccb0a(0x54c)]['wuid']+_0x1ccb0a(0x2ca)+_0x56f016),_0x56f016):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x115c5f){throw this[_0x1ccb0a(0x2ad)][_0x1ccb0a(0x348)](this[_0x1ccb0a(0x372)]+'\x20('+this['instance'][_0x1ccb0a(0x482)]+_0x1ccb0a(0xe1)+_0x115c5f),new g(_0x1ccb0a(0x59d)+_0x115c5f['message']);}}async['updateAgent'](_0x5023e0){const _0x3b61c2=a0_0x2caf34;let _0x9d088c=this[_0x3b61c2(0x54c)]['wuid'];try{let _0x48e2d1=await ae[_0x3b61c2(0x4ee)](_0x9d088c);_0x48e2d1||(_0x48e2d1=new ae({'_id':_0x9d088c}),await _0x48e2d1[_0x3b61c2(0x4ff)]());let _0x4a0ae3=_0x5023e0[_0x3b61c2(0x4da)]?_0x48e2d1['agents']['findIndex'](_0x4d29ec=>_0x4d29ec[_0x3b61c2(0x4da)]===_0x5023e0[_0x3b61c2(0x4da)]):-0x1;if(_0x5023e0['delete']&&_0x4a0ae3>-0x1)_0x48e2d1[_0x3b61c2(0x304)][_0x3b61c2(0x282)](_0x4a0ae3,0x1);else{if(_0x4a0ae3>-0x1){let _0x19958a=_0x48e2d1['agents'][_0x4a0ae3];_0x5023e0[_0x3b61c2(0x259)]&&(_0x19958a['fone']=_0x5023e0[_0x3b61c2(0x259)]),_0x5023e0[_0x3b61c2(0x3c7)]&&(_0x19958a[_0x3b61c2(0x3c7)]=_0x5023e0[_0x3b61c2(0x3c7)]),_0x5023e0[_0x3b61c2(0x3ff)]&&(_0x19958a[_0x3b61c2(0x3ff)]=_0x5023e0[_0x3b61c2(0x3ff)]),_0x5023e0[_0x3b61c2(0x518)]&&(_0x19958a[_0x3b61c2(0x518)]=_0x5023e0[_0x3b61c2(0x518)]);}else _0x48e2d1['agents']['push']({'_id':_0x5023e0['_id']||new we['default']['Types']['ObjectId']()[_0x3b61c2(0x3c2)](),'fone':_0x5023e0[_0x3b61c2(0x259)],'name':_0x5023e0[_0x3b61c2(0x3c7)],'email':_0x5023e0[_0x3b61c2(0x3ff)],'role':_0x5023e0[_0x3b61c2(0x518)]});}let _0x49e8c2=await _0x48e2d1['save']();return this[_0x3b61c2(0x60c)]=_0x49e8c2,this['logger'][_0x3b61c2(0x208)](this[_0x3b61c2(0x372)]+'\x20('+this[_0x3b61c2(0x54c)][_0x3b61c2(0x482)]+_0x3b61c2(0x10e)),this['logger'][_0x3b61c2(0x208)](this[_0x3b61c2(0x372)]+'\x20('+this[_0x3b61c2(0x54c)]['wuid']+_0x3b61c2(0x2ca)+this[_0x3b61c2(0x60c)]),_0x49e8c2;}catch(_0x441e69){throw this[_0x3b61c2(0x2ad)][_0x3b61c2(0x348)](this['instanceName']+'\x20('+this[_0x3b61c2(0x54c)][_0x3b61c2(0x482)]+_0x3b61c2(0x3b9)+_0x441e69),new g(_0x3b61c2(0x578)+_0x441e69[_0x3b61c2(0x5c9)]);}}async[a0_0x2caf34(0x14b)](_0xbb9fcd){const _0x674c60=a0_0x2caf34;let _0x5bdf32=this[_0x674c60(0x54c)][_0x674c60(0x482)];try{let _0x2619c9=await ae['findById'](_0x5bdf32);_0x2619c9||(_0x2619c9=new ae({'_id':_0x5bdf32}),await _0x2619c9['save']());let _0x17c26a=_0xbb9fcd[_0x674c60(0x4da)]?_0x2619c9[_0x674c60(0x508)][_0x674c60(0x202)](_0x3acaff=>_0x3acaff[_0x674c60(0x4da)]===_0xbb9fcd[_0x674c60(0x4da)]):-0x1,_0x46c7c5=!0x1,_0x49520=_0x2619c9[_0x674c60(0x508)]['some'](_0x3657fe=>_0x3657fe[_0x674c60(0x425)]===_0xbb9fcd[_0x674c60(0x425)]);if(_0xbb9fcd[_0x674c60(0x126)]&&_0x17c26a>-0x1)_0x2619c9[_0x674c60(0x508)][_0x674c60(0x282)](_0x17c26a,0x1),_0x46c7c5=!0x0;else{if(_0x17c26a>-0x1){if(_0x2619c9['customFields'][_0x674c60(0x125)](_0x1c0745=>_0x1c0745[_0x674c60(0x3c7)]===_0xbb9fcd[_0x674c60(0x3c7)]&&_0x1c0745[_0x674c60(0x4da)]!==_0xbb9fcd[_0x674c60(0x4da)]))throw new Error(_0x674c60(0x66f));let _0x24d817=_0x2619c9[_0x674c60(0x508)][_0x17c26a];_0xbb9fcd[_0x674c60(0x425)]&&(_0x49520||!Number[_0x674c60(0x435)](_0xbb9fcd[_0x674c60(0x425)]))&&(_0x24d817[_0x674c60(0x425)]=_0xbb9fcd[_0x674c60(0x425)],_0x46c7c5=!0x0),_0xbb9fcd[_0x674c60(0x3c7)]&&(_0x24d817['name']=_0xbb9fcd[_0x674c60(0x3c7)]);}else{if(_0x2619c9[_0x674c60(0x508)][_0x674c60(0x125)](_0x464a33=>_0x464a33[_0x674c60(0x3c7)]===_0xbb9fcd[_0x674c60(0x3c7)]&&_0x464a33[_0x674c60(0x4da)]!==_0xbb9fcd[_0x674c60(0x4da)]))throw new Error(_0x674c60(0x66f));_0x2619c9[_0x674c60(0x508)]['push']({'_id':_0xbb9fcd[_0x674c60(0x4da)]||new we[(_0x674c60(0x418))][(_0x674c60(0x4f5))][(_0x674c60(0xf3))]()[_0x674c60(0x3c2)](),'order':_0xbb9fcd['order'],'name':_0xbb9fcd['name']}),_0x46c7c5=!0x0;}}if(_0x46c7c5){_0x2619c9['customFields'][_0x674c60(0x5f1)]((_0x3f7168,_0x15c17a)=>_0x3f7168[_0x674c60(0x425)]>_0x15c17a[_0x674c60(0x425)]?0x1:_0x15c17a[_0x674c60(0x425)]>_0x3f7168['order']?-0x1:0x0);for(let _0x3b4d6c=0x0;_0x3b4d6c<_0x2619c9['customFields'][_0x674c60(0x59b)];_0x3b4d6c++)_0x2619c9['customFields'][_0x3b4d6c]['order']=_0x3b4d6c+0x1;}let _0x256abf=await _0x2619c9[_0x674c60(0x4ff)]();return this[_0x674c60(0x60c)]=_0x256abf,this['logger']['verbose'](this[_0x674c60(0x372)]+'\x20('+this['instance'][_0x674c60(0x482)]+_0x674c60(0x452)),this[_0x674c60(0x2ad)][_0x674c60(0x208)](this[_0x674c60(0x372)]+'\x20('+this[_0x674c60(0x54c)]['wuid']+_0x674c60(0x2ca)+this[_0x674c60(0x60c)]),_0x256abf;}catch(_0x43fc80){throw this[_0x674c60(0x2ad)]['error'](this[_0x674c60(0x372)]+'\x20('+this[_0x674c60(0x54c)][_0x674c60(0x482)]+_0x674c60(0x1fe)+_0x43fc80),new g(_0x674c60(0x455)+_0x43fc80['message']);}}async[a0_0x2caf34(0x4a0)](_0x10d3ee){const _0x29bb0b=a0_0x2caf34;let _0x1da2de=this[_0x29bb0b(0x54c)][_0x29bb0b(0x482)];try{let _0x38b363=await ae[_0x29bb0b(0x4ee)](_0x1da2de);_0x38b363||(_0x38b363=new ae({'_id':_0x1da2de}),await _0x38b363[_0x29bb0b(0x4ff)]()),_0x38b363[_0x29bb0b(0x52c)][_0x29bb0b(0x34f)]=_0x10d3ee?.['enabled']!==void 0x0?_0x10d3ee?.[_0x29bb0b(0x34f)]:_0x38b363[_0x29bb0b(0x52c)][_0x29bb0b(0x34f)],_0x38b363[_0x29bb0b(0x52c)]['ignoreGroups']=_0x10d3ee?.[_0x29bb0b(0x5ba)]!==void 0x0?_0x10d3ee?.[_0x29bb0b(0x5ba)]:_0x38b363[_0x29bb0b(0x52c)][_0x29bb0b(0x5ba)],_0x38b363['flowConfig'][_0x29bb0b(0x233)]=_0x10d3ee?.['prefixCommand']??_0x38b363[_0x29bb0b(0x52c)]['prefixCommand'],_0x38b363[_0x29bb0b(0x52c)][_0x29bb0b(0x4c8)]=_0x10d3ee?.[_0x29bb0b(0x4c8)]??_0x38b363[_0x29bb0b(0x52c)][_0x29bb0b(0x4c8)],_0x38b363[_0x29bb0b(0x52c)]['stopMinutes']=_0x10d3ee?.[_0x29bb0b(0x2a8)]??_0x38b363[_0x29bb0b(0x52c)]['stopMinutes'];let _0x2c4d98=await _0x38b363[_0x29bb0b(0x4ff)]();return this[_0x29bb0b(0x60c)]=_0x2c4d98,this[_0x29bb0b(0x2ad)][_0x29bb0b(0x208)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x29bb0b(0x208)](this[_0x29bb0b(0x372)]+'\x20('+this[_0x29bb0b(0x54c)][_0x29bb0b(0x482)]+_0x29bb0b(0x2ca)+this[_0x29bb0b(0x60c)]),_0x2c4d98;}catch(_0x35c780){throw this[_0x29bb0b(0x2ad)][_0x29bb0b(0x348)](this[_0x29bb0b(0x372)]+'\x20('+this[_0x29bb0b(0x54c)][_0x29bb0b(0x482)]+_0x29bb0b(0x3b9)+_0x35c780),new g(_0x29bb0b(0x578)+_0x35c780[_0x29bb0b(0x5c9)]);}}async['getAutomateSystem'](){const _0x151194=a0_0x2caf34;let _0x5de2c2=this[_0x151194(0x54c)][_0x151194(0x482)];try{let _0x5e0b88=await ae[_0x151194(0x4ee)](_0x5de2c2);return _0x5e0b88||(_0x5e0b88=new ae({'_id':_0x5de2c2})),_0x5e0b88[_0x151194(0x52c)]=_0x5e0b88['flowConfig']||{},_0x5e0b88[_0x151194(0x52c)]['enabled']===void 0x0&&(_0x5e0b88[_0x151194(0x52c)]['enabled']=!0x1),_0x5e0b88['flowConfig'][_0x151194(0x5ba)]===void 0x0&&(_0x5e0b88[_0x151194(0x52c)][_0x151194(0x5ba)]=!0x0),_0x5e0b88[_0x151194(0x52c)]['prefixCommand']===void 0x0&&(_0x5e0b88['flowConfig'][_0x151194(0x233)]='!'),_0x5e0b88['flowConfig'][_0x151194(0x4c8)]===void 0x0&&(_0x5e0b88[_0x151194(0x52c)]['stopConversation']=_0x151194(0x4fe)),_0x5e0b88[_0x151194(0x52c)]['stopMinutes']===void 0x0&&(_0x5e0b88[_0x151194(0x52c)][_0x151194(0x2a8)]=0x14),await _0x5e0b88['save'](),this[_0x151194(0x60c)]=_0x5e0b88,this[_0x151194(0x2ad)][_0x151194(0x208)](this['instanceName']+'\x20('+this[_0x151194(0x54c)][_0x151194(0x482)]+_0x151194(0x2c0)),this['logger'][_0x151194(0x208)](this[_0x151194(0x60c)]),_0x5e0b88;}catch(_0x1b4641){throw this['logger']['error'](this[_0x151194(0x372)]+'\x20('+this['instance'][_0x151194(0x482)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x1b4641['message']),new g('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x1b4641[_0x151194(0x5c9)]);}}async[a0_0x2caf34(0xd5)](){const _0x8d7080=a0_0x2caf34;let _0x100710=()=>{const _0x7858a4=a0_0x54b4;this[_0x7858a4(0x2ad)]['verbose'](this[_0x7858a4(0x372)]+'\x20('+this[_0x7858a4(0x54c)][_0x7858a4(0x482)]+_0x7858a4(0x60e)+this[_0x7858a4(0x4b8)]+'\x20saindo\x20da\x20função');},_0x433a4b=async()=>{const _0x298a44=a0_0x54b4;this[_0x298a44(0x2ad)][_0x298a44(0x208)](this[_0x298a44(0x372)]+'\x20('+this[_0x298a44(0x54c)][_0x298a44(0x482)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x3a1bde=Date[_0x298a44(0x572)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x298a44(0x504)]({'owner':this[_0x298a44(0x54c)][_0x298a44(0x482)],'status':{'$in':[_0x298a44(0x24a),'sending']},'$or':[{'when':{'$lte':Date[_0x298a44(0x572)](),'$gte':_0x3a1bde}},{'when':0x0}]});},_0x2796bc=async _0x5e6140=>{const _0x4b92e5=a0_0x54b4;for(let _0x2601d3 of _0x5e6140){if(!await L[_0x4b92e5(0x666)]({'_id':_0x2601d3['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4b92e5(0x572)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x4b92e5(0x1e6)]){this[_0x4b92e5(0x2ad)][_0x4b92e5(0x208)](this[_0x4b92e5(0x372)]+'\x20('+this[_0x4b92e5(0x54c)][_0x4b92e5(0x482)]+_0x4b92e5(0x1cd));break;}(!_0x2601d3[_0x4b92e5(0x393)]||_0x2601d3[_0x4b92e5(0x393)]['length']===0x0)&&(_0x2601d3=await L[_0x4b92e5(0x44b)](_0x2601d3[_0x4b92e5(0x4da)],{'$set':{'status':_0x4b92e5(0x49c),'remoteJidsRemaining':[..._0x2601d3[_0x4b92e5(0x523)]]}},{'new':!0x0}));for(let _0x3a53e9 of _0x2601d3[_0x4b92e5(0x393)]){if(this[_0x4b92e5(0xa8)]=Date[_0x4b92e5(0x572)](),_0x2601d3[_0x4b92e5(0x31c)]['some'](_0xf80204=>_0xf80204['remoteJid']===_0x3a53e9)){this[_0x4b92e5(0x2ad)][_0x4b92e5(0x208)](this['instanceName']+'\x20('+this[_0x4b92e5(0x54c)][_0x4b92e5(0x482)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x3a53e9+'.\x20Pulando.');continue;}try{let _0x5f1d2d=await this[_0x4b92e5(0x414)](_0x3a53e9,_0x2601d3),_0x1dfa91={'remoteJid':_0x3a53e9,'error':_0x5f1d2d[_0x4b92e5(0x348)],'id':_0x5f1d2d['id']||null,'error_log':_0x5f1d2d[_0x4b92e5(0x1e2)]||null,'log_timestamp':Date[_0x4b92e5(0x572)]()};if((await L[_0x4b92e5(0x44b)](_0x2601d3[_0x4b92e5(0x4da)],{'$push':{'messagesSend':_0x1dfa91},'$pull':{'remoteJidsRemaining':_0x3a53e9}},{'new':!0x0}))[_0x4b92e5(0x505)]===_0x4b92e5(0x32e)){this[_0x4b92e5(0x2ad)][_0x4b92e5(0x208)](this['instanceName']+'\x20('+this['instance'][_0x4b92e5(0x482)]+_0x4b92e5(0x5ec)+_0x2601d3[_0x4b92e5(0x4da)]+_0x4b92e5(0x3c0));break;}if(!this[_0x4b92e5(0x1e6)]){this[_0x4b92e5(0x2ad)][_0x4b92e5(0x208)](this[_0x4b92e5(0x372)]+'\x20('+this[_0x4b92e5(0x54c)][_0x4b92e5(0x482)]+_0x4b92e5(0x33b));break;}if(!this[_0x4b92e5(0x4b8)]){this[_0x4b92e5(0x2ad)]['verbose'](this[_0x4b92e5(0x372)]+'\x20('+this[_0x4b92e5(0x54c)]['wuid']+_0x4b92e5(0x5ec)+_0x2601d3['_id']+_0x4b92e5(0x3da));break;}let _0x14c1e5=this[_0x4b92e5(0x171)](_0x2601d3[_0x4b92e5(0x4ab)],_0x2601d3[_0x4b92e5(0x1e3)]);await this[_0x4b92e5(0x55d)](_0x14c1e5);}catch(_0x216564){this[_0x4b92e5(0x2ad)][_0x4b92e5(0x348)](this[_0x4b92e5(0x372)]+'\x20('+this[_0x4b92e5(0x54c)][_0x4b92e5(0x482)]+_0x4b92e5(0x5ea)+_0x3a53e9+':\x20'+_0x216564[_0x4b92e5(0x5c9)]);let _0x8913fd={'remoteJid':_0x3a53e9,'status':_0x4b92e5(0x348),'timestamp':Date[_0x4b92e5(0x572)](),'error':_0x216564[_0x4b92e5(0x5c9)]};await L[_0x4b92e5(0x44b)](_0x2601d3[_0x4b92e5(0x4da)],{'$push':{'messagesSend':_0x8913fd},'$pull':{'remoteJidsRemaining':_0x3a53e9}},{'new':!0x0});}}let _0x1f8592=await L[_0x4b92e5(0x4ee)](_0x2601d3[_0x4b92e5(0x4da)]);_0x1f8592[_0x4b92e5(0x393)][_0x4b92e5(0x59b)]===0x0&&_0x1f8592[_0x4b92e5(0x505)]!==_0x4b92e5(0x32e)&&await L['findByIdAndUpdate'](_0x2601d3[_0x4b92e5(0x4da)],{'$set':{'status':_0x4b92e5(0x288)}},{'new':!0x0}),await new Promise(_0x2d0a3c=>setTimeout(_0x2d0a3c,0x1388));}},_0x2d0644=async()=>{const _0x352435=a0_0x54b4;let _0x4e1be4=await L[_0x352435(0x400)]({'owner':this[_0x352435(0x54c)][_0x352435(0x482)],'status':_0x352435(0x24a),'when':{'$gt':Date[_0x352435(0x572)]()}})['sort']({'when':0x1});_0x4e1be4&&_0x4e1be4['when']-Date[_0x352435(0x572)]()<=0x5265c00?this[_0x352435(0xbd)]=_0x4e1be4[_0x352435(0x3b0)]-Date[_0x352435(0x572)]():this[_0x352435(0xbd)]=(0x3c+Math[_0x352435(0x4ae)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x352435(0xbd)]=Math[_0x352435(0x524)](this[_0x352435(0xbd)],0x7d0);let _0x29d077=Math[_0x352435(0x250)](this[_0x352435(0xbd)]/0xea60);if(_0x4e1be4){let _0x46ce1a=new Date(_0x4e1be4[_0x352435(0x3b0)])['toLocaleString']();this[_0x352435(0x2ad)][_0x352435(0x208)](this[_0x352435(0x372)]+'\x20('+this[_0x352435(0x54c)]['wuid']+_0x352435(0x31d)+_0x46ce1a+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x29d077+_0x352435(0x29d));}else this[_0x352435(0x2ad)][_0x352435(0x208)](this[_0x352435(0x372)]+'\x20('+this['instance'][_0x352435(0x482)]+_0x352435(0x96)+_0x29d077+_0x352435(0x29d));setTimeout(()=>this['scheduleNextCheck'](),this[_0x352435(0xbd)]);};if(this[_0x8d7080(0x4b8)]&&Date[_0x8d7080(0x572)]()-this[_0x8d7080(0xa8)]<0x1d4c0){_0x100710();return;}try{let _0x65e1cb=await _0x433a4b();_0x65e1cb[_0x8d7080(0x59b)]===0x0?this['logger'][_0x8d7080(0x208)](this['instanceName']+'\x20('+this[_0x8d7080(0x54c)][_0x8d7080(0x482)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['processingScheduleMessageId']=_0x65e1cb[0x0][_0x8d7080(0x4da)],await _0x2796bc(_0x65e1cb)),await _0x2d0644(),this['processingScheduleMessageId']=null;}catch(_0x1b0143){this['logger']['error'](_0x8d7080(0x3ce)+_0x1b0143[_0x8d7080(0x5c9)]);}}[a0_0x2caf34(0x171)](_0x34380d,_0x42ead6){const _0x20fb02=a0_0x2caf34;return _0x34380d=Math[_0x20fb02(0x524)](0.5,_0x34380d),_0x42ead6=Math['max'](0x3,_0x42ead6),Math[_0x20fb02(0x4ae)](Math[_0x20fb02(0x5ca)]()*(_0x42ead6-_0x34380d+0x1)+_0x34380d)*0x3e8;}[a0_0x2caf34(0x55d)](_0x2777e0){return new Promise(_0x490a33=>setTimeout(_0x490a33,_0x2777e0));}async[a0_0x2caf34(0x2d1)](_0x519bff){const _0x1c3fcc=a0_0x2caf34;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x1c3fcc(0x60c)]))return null;_0x519bff=this['createJid'](_0x519bff);let _0x513f85=await this[_0x1c3fcc(0x1bf)]['chat']['findOne']({'where':{'_id':_0x519bff,'owner':this[_0x1c3fcc(0x54c)][_0x1c3fcc(0x482)]}}),_0x470362={};if(_0x513f85&&_0x513f85[_0x1c3fcc(0x331)]){let _0x3eabff=_0x513f85[_0x1c3fcc(0x331)];typeof _0x3eabff['nome']=='string'&&(_0x470362[_0x1c3fcc(0x64c)]=_0x3eabff[_0x1c3fcc(0x64c)]),typeof _0x3eabff[_0x1c3fcc(0xe2)]=='string'&&(_0x470362['nomecompleto']=_0x3eabff[_0x1c3fcc(0xe2)]),typeof _0x3eabff[_0x1c3fcc(0x3ff)]=='string'&&(_0x470362[_0x1c3fcc(0x3ff)]=_0x3eabff[_0x1c3fcc(0x3ff)]),typeof _0x3eabff[_0x1c3fcc(0x364)]==_0x1c3fcc(0x600)&&(_0x470362[_0x1c3fcc(0x364)]=_0x3eabff['cpf']),typeof _0x3eabff[_0x1c3fcc(0x505)]==_0x1c3fcc(0x600)&&(_0x470362['status']=_0x3eabff[_0x1c3fcc(0x505)]),typeof _0x3eabff[_0x1c3fcc(0x512)]==_0x1c3fcc(0x600)&&(_0x470362[_0x1c3fcc(0x512)]=_0x3eabff[_0x1c3fcc(0x512)]),typeof _0x3eabff['responsavelid']==_0x1c3fcc(0x600)&&(_0x470362['responsavelid']=_0x3eabff[_0x1c3fcc(0x61a)]),Array[_0x1c3fcc(0x21a)](_0x3eabff[_0x1c3fcc(0x35c)])&&(_0x470362[_0x1c3fcc(0x35c)]=_0x3eabff[_0x1c3fcc(0x35c)][_0x1c3fcc(0x2be)](',\x20'));}return _0x513f85&&_0x513f85[_0x1c3fcc(0x331)]&&_0x513f85[_0x1c3fcc(0x331)][_0x1c3fcc(0x508)]&&_0x513f85[_0x1c3fcc(0x331)][_0x1c3fcc(0x508)][_0x1c3fcc(0x369)](_0x1889fc=>{const _0x50e1b9=_0x1c3fcc;let _0x11405e=this[_0x50e1b9(0x60c)]?.['customFields']['find'](_0x913b31=>_0x913b31[_0x50e1b9(0x4da)]===_0x1889fc[_0x50e1b9(0x4da)]);_0x11405e&&(_0x470362[_0x11405e[_0x50e1b9(0x3c7)]]=_0x1889fc[_0x50e1b9(0xf5)]);}),_0x470362;}async[a0_0x2caf34(0x66d)](_0x409f6f,_0x3e52d5){const _0x5c7050=a0_0x2caf34;let _0xbc6f8=await this[_0x5c7050(0x2d1)](_0x3e52d5);return this['replaceVariables'](_0x409f6f,_0xbc6f8);}async[a0_0x2caf34(0x464)](_0x344843){const _0x73dbbc=a0_0x2caf34;try{if(this[_0x73dbbc(0x2ad)][_0x73dbbc(0x208)](this[_0x73dbbc(0x372)]+'\x20('+this['instance']['wuid']+_0x73dbbc(0x274)),_0x344843['delete']&&_0x344843[_0x73dbbc(0x4da)]){if(this[_0x73dbbc(0x4b8)]===_0x344843['_id']['toString']())throw new Error(_0x73dbbc(0x5e8));let _0x1ffb02=await L[_0x73dbbc(0x3c6)](_0x344843[_0x73dbbc(0x4da)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1ffb02;}let _0x2849c4;if(_0x344843[_0x73dbbc(0x4da)]&&(_0x2849c4=await L['findOne']({'owner':this['instance'][_0x73dbbc(0x482)],'_id':_0x344843[_0x73dbbc(0x4da)]})),_0x2849c4){let _0x2bb98e=_0x344843;this[_0x73dbbc(0x4b8)]===_0x2849c4[_0x73dbbc(0x4da)][_0x73dbbc(0x3c2)]()&&(_0x2bb98e={'status':_0x344843['status'],'_id':_0x344843[_0x73dbbc(0x4da)]});let _0x523410=await L[_0x73dbbc(0x44b)](_0x2849c4[_0x73dbbc(0x4da)],{'$set':_0x2bb98e},{'new':!0x0});return setTimeout(()=>this[_0x73dbbc(0xd5)](),0x7d0),_0x523410;}else{_0x344843[_0x73dbbc(0x567)]=this[_0x73dbbc(0x54c)][_0x73dbbc(0x482)];let _0x191a0f=await new L(_0x344843)['save']();return setTimeout(()=>this[_0x73dbbc(0xd5)](),0x7d0),_0x191a0f;}}catch(_0x5ec4d7){throw this[_0x73dbbc(0x2ad)]['error'](this[_0x73dbbc(0x372)]+'\x20('+this['instance'][_0x73dbbc(0x482)]+_0x73dbbc(0x349)+_0x5ec4d7),new g(_0x73dbbc(0x3f7)+_0x5ec4d7['message']);}}async[a0_0x2caf34(0x5f5)](){const _0x235289=a0_0x2caf34;try{return await L[_0x235289(0x504)]({'owner':this[_0x235289(0x54c)]['wuid']})[_0x235289(0x5f1)]({'when':0x1});}catch(_0x32ed27){throw this[_0x235289(0x2ad)]['error'](this['instanceName']+'\x20('+this[_0x235289(0x54c)][_0x235289(0x482)]+_0x235289(0x243)+_0x32ed27),new g(_0x235289(0x3f7)+_0x32ed27[_0x235289(0x5c9)]);}}async[a0_0x2caf34(0x389)](){const _0x258b40=a0_0x2caf34;try{return await L[_0x258b40(0x30b)]({'owner':this[_0x258b40(0x54c)]['wuid'],'status':_0x258b40(0x288)}),this[_0x258b40(0x2ad)][_0x258b40(0x208)](this[_0x258b40(0x372)]+'\x20('+this[_0x258b40(0x54c)][_0x258b40(0x482)]+_0x258b40(0x622)),this[_0x258b40(0x5f5)]();}catch(_0x20bb65){throw this['logger']['error'](this[_0x258b40(0x372)]+'\x20('+this[_0x258b40(0x54c)][_0x258b40(0x482)]+_0x258b40(0x382)+_0x20bb65),new g(_0x258b40(0x3f7)+_0x20bb65[_0x258b40(0x5c9)]);}}async['SendScheduleMessage'](_0x115ddb,_0x116be6){const _0x143c59=a0_0x2caf34;try{switch(_0x116be6[_0x143c59(0x54a)]){case _0x143c59(0x3f8):return await this[_0x143c59(0x444)](_0x116be6,_0x115ddb);case'media':return await this[_0x143c59(0x2ff)](_0x116be6,_0x115ddb);case'audio':return await this[_0x143c59(0x13a)](_0x116be6,_0x115ddb);default:return this[_0x143c59(0x2ad)][_0x143c59(0x348)](this[_0x143c59(0x372)]+'\x20('+this['instance'][_0x143c59(0x482)]+'):\x20Comando\x20desconhecido:\x20'+_0x116be6[_0x143c59(0x54a)]),{'status':_0x143c59(0x348),'detail':_0x143c59(0x554)};}}catch(_0x48b7f4){return this[_0x143c59(0x2ad)][_0x143c59(0x348)](this['instanceName']+'\x20('+this['instance'][_0x143c59(0x482)]+_0x143c59(0xdd)+_0x48b7f4),{'status':_0x143c59(0x348),'detail':_0x48b7f4['message']};}}[a0_0x2caf34(0x216)](_0x1f60ef){const _0x256554=a0_0x2caf34;let _0xea5510=_0x1f60ef['split']('|'),_0x37a319=Math[_0x256554(0x4ae)](Math[_0x256554(0x5ca)]()*_0xea5510[_0x256554(0x59b)]);return _0xea5510[_0x37a319][_0x256554(0x3cd)]();}async[a0_0x2caf34(0x444)](_0x1f51dd,_0x3aef38){const _0x33b4e1=a0_0x2caf34;if(this[_0x33b4e1(0x2ad)][_0x33b4e1(0x208)](this[_0x33b4e1(0x372)]+'\x20('+this[_0x33b4e1(0x54c)][_0x33b4e1(0x482)]+_0x33b4e1(0x514)),!_0x1f51dd[_0x33b4e1(0x5c9)][_0x33b4e1(0x3f8)]||_0x1f51dd[_0x33b4e1(0x5c9)][_0x33b4e1(0x3f8)]['length']===0x0)return{'error':!0x0,'error_log':_0x33b4e1(0x5cc)};let _0x22a125=this['getRandomText'](_0x1f51dd[_0x33b4e1(0x5c9)]['text']),_0x2239ab=await this[_0x33b4e1(0x66d)](_0x22a125,_0x3aef38),_0x47be9a={'number':_0x3aef38,'options':{'delay':_0x1f51dd['message'][_0x33b4e1(0x42e)]},'textMessage':{'text':_0x2239ab}},_0x5489b0=null;try{let _0x178cef=await this[_0x33b4e1(0x5a8)](_0x47be9a);if(_0x178cef&&_0x178cef[_0x33b4e1(0x505)])return{'error':!0x1,'id':_0x178cef[_0x33b4e1(0x465)]['id']};_0x5489b0=JSON['stringify'](_0x178cef),this[_0x33b4e1(0x2ad)][_0x33b4e1(0x208)](this[_0x33b4e1(0x372)]+'\x20('+this['instance'][_0x33b4e1(0x482)]+_0x33b4e1(0x2ca)+_0x5489b0);}catch(_0x488ea0){this[_0x33b4e1(0x2ad)][_0x33b4e1(0x348)](this[_0x33b4e1(0x372)]+'\x20('+this[_0x33b4e1(0x54c)]['wuid']+_0x33b4e1(0x190)+_0x488ea0),_0x5489b0=_0x488ea0[_0x33b4e1(0x5c9)];}if(_0x5489b0)return{'error':!0x0,'error_log':(typeof _0x5489b0==_0x33b4e1(0x3f1)?JSON[_0x33b4e1(0xff)](_0x5489b0,null,0x2):_0x5489b0)['replace'](/[\[\]{}\n]/g,'\x20')[_0x33b4e1(0xb1)](/  +/g,'\x20')};}async[a0_0x2caf34(0x2ff)](_0x51bd85,_0x3ca5c3){const _0x52c8b5=a0_0x2caf34;this[_0x52c8b5(0x2ad)]['verbose'](this[_0x52c8b5(0x372)]+'\x20('+this['instance']['wuid']+_0x52c8b5(0x4a4));let _0x376e6f;if(_0x51bd85[_0x52c8b5(0x5c9)]['text']&&_0x51bd85['message'][_0x52c8b5(0x3f8)][_0x52c8b5(0x59b)]>0x0){let _0x278fa4=this[_0x52c8b5(0x216)](_0x51bd85[_0x52c8b5(0x5c9)][_0x52c8b5(0x3f8)]);_0x376e6f=await this[_0x52c8b5(0x66d)](_0x278fa4,_0x3ca5c3);}let _0x33dd92={'number':_0x3ca5c3,'options':{'delay':_0x51bd85['message']['delay']},'mediaMessage':{'mediatype':_0x51bd85[_0x52c8b5(0x5c9)]['mediatype'],'caption':_0x376e6f,'media':_0x51bd85[_0x52c8b5(0x5c9)][_0x52c8b5(0x602)]}},_0x129de4=null;try{let _0x28f1bc=await this[_0x52c8b5(0x527)](_0x33dd92);if(_0x28f1bc&&_0x28f1bc[_0x52c8b5(0x505)])return{'error':!0x1,'id':_0x28f1bc[_0x52c8b5(0x465)]['id']};_0x129de4=JSON[_0x52c8b5(0xff)](_0x28f1bc),this[_0x52c8b5(0x2ad)][_0x52c8b5(0x208)](this[_0x52c8b5(0x372)]+'\x20('+this[_0x52c8b5(0x54c)][_0x52c8b5(0x482)]+_0x52c8b5(0x2ca)+_0x129de4);}catch(_0x5cb9c6){this[_0x52c8b5(0x2ad)][_0x52c8b5(0x348)](this[_0x52c8b5(0x372)]+'\x20('+this['instance'][_0x52c8b5(0x482)]+_0x52c8b5(0x5e0)+_0x5cb9c6[_0x52c8b5(0x5c9)]),_0x129de4=_0x5cb9c6[_0x52c8b5(0x5c9)];}if(_0x129de4)return{'error':!0x0,'error_log':(typeof _0x129de4==_0x52c8b5(0x3f1)?JSON['stringify'](_0x129de4,null,0x2):_0x129de4)[_0x52c8b5(0xb1)](/[\[\]{}\n]/g,'\x20')[_0x52c8b5(0xb1)](/  +/g,'\x20')};}async[a0_0x2caf34(0x13a)](_0xd595cb,_0x34e58f){const _0x531c55=a0_0x2caf34;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x531c55(0x201));let _0x317be8={'number':_0x34e58f,'options':{'delay':_0xd595cb[_0x531c55(0x5c9)][_0x531c55(0x42e)]},'audioMessage':{'audio':_0xd595cb[_0x531c55(0x5c9)][_0x531c55(0x602)]}},_0x48fb7e=null;try{let _0x1322e1=await this[_0x531c55(0x5c5)](_0x317be8);if(_0x1322e1&&_0x1322e1['status'])return{'error':!0x1,'id':_0x1322e1[_0x531c55(0x465)]['id']};_0x48fb7e=JSON[_0x531c55(0xff)](_0x1322e1),this[_0x531c55(0x2ad)]['verbose'](this[_0x531c55(0x372)]+'\x20('+this[_0x531c55(0x54c)][_0x531c55(0x482)]+'):\x20'+_0x48fb7e);}catch(_0x503ee8){this[_0x531c55(0x2ad)][_0x531c55(0x348)](this[_0x531c55(0x372)]+'\x20('+this[_0x531c55(0x54c)][_0x531c55(0x482)]+_0x531c55(0x322)+_0x503ee8),_0x48fb7e=_0x503ee8['message'];}if(_0x48fb7e)return{'error':!0x0,'error_log':(typeof _0x48fb7e==_0x531c55(0x3f1)?JSON[_0x531c55(0xff)](_0x48fb7e,null,0x2):_0x48fb7e)[_0x531c55(0xb1)](/[\[\]{}\n]/g,'\x20')[_0x531c55(0xb1)](/  +/g,'\x20')};}},be=require(a0_0x2caf34(0x229)),_t=class c{constructor(_0x1a1a9a,_0x4ff075,_0x482ba1){const _0x1cdd88=a0_0x2caf34;this['eventEmitter']=_0x1a1a9a,this[_0x1cdd88(0xf2)]=_0x4ff075,this[_0x1cdd88(0x1bf)]=_0x482ba1,this['db']={},this[_0x1cdd88(0x1d8)]={},this['logger']=new N(c[_0x1cdd88(0x3c7)]),this[_0x1cdd88(0x36a)]={},(this['removeInstance'](),this[_0x1cdd88(0x59f)](),this[_0x1cdd88(0x149)](),Object[_0x1cdd88(0x1a9)](this['db'],_0x4ff075[_0x1cdd88(0x54d)](_0x1cdd88(0x293))),Object[_0x1cdd88(0x1a9)](this['redis'],_0x4ff075['get'](_0x1cdd88(0x3e1))),this['dbInstance']=this['db'][_0x1cdd88(0x481)]?this['repository'][_0x1cdd88(0x532)]?.['db'](this['db']['CONNECTION'][_0x1cdd88(0x4bb)]+_0x1cdd88(0x56f)):void 0x0,this[_0x1cdd88(0x39c)]=this[_0x1cdd88(0x1d8)][_0x1cdd88(0x481)]?new fe(this['redis']):void 0x0);}[a0_0x2caf34(0x533)](_0x4679c9){const _0x13e315=a0_0x2caf34;let _0x3f47b7=this[_0x13e315(0xf2)][_0x13e315(0x54d)]('DEL_INSTANCE');typeof _0x3f47b7==_0x13e315(0x487)&&_0x3f47b7>0x0&&setTimeout(()=>{const _0x141c97=_0x13e315;this[_0x141c97(0x36a)][_0x4679c9]?.['connectionStatus']?.[_0x141c97(0x423)]!=='open'&&delete this[_0x141c97(0x36a)][_0x4679c9];},0x3e8*0x3c*_0x3f47b7);}async[a0_0x2caf34(0xb0)](_0x5477ec){const _0x17597a=a0_0x2caf34;if(_0x5477ec&&!this[_0x17597a(0x36a)][_0x5477ec])throw new x(_0x17597a(0x1f5)+_0x5477ec+_0x17597a(0x1ca));let _0x1e9f3a=[];for await(let [_0x21a883,_0x930286]of Object[_0x17597a(0x160)](this[_0x17597a(0x36a)]))if(_0x930286&&_0x930286[_0x17597a(0x3b5)]['state']===_0x17597a(0x35b)){let _0x4729ae=await this[_0x17597a(0x1bf)][_0x17597a(0x194)]['find'](_0x21a883);_0x1e9f3a['push']({'instance':{'instanceName':_0x21a883,'apikey':_0x4729ae['apikey'],'owner':_0x930286['wuid'],'profileName':await _0x930286[_0x17597a(0x45d)]()||_0x17597a(0x32b),'profilePictureUrl':_0x930286[_0x17597a(0xf6)]}});}return _0x1e9f3a[_0x17597a(0x504)](_0x106a50=>_0x106a50[_0x17597a(0x54c)][_0x17597a(0x372)]===_0x5477ec)??_0x1e9f3a;}[a0_0x2caf34(0x149)](){setInterval(async()=>{const _0xafa5b7=a0_0x54b4;if(this['db'][_0xafa5b7(0x481)])(await this[_0xafa5b7(0x5e7)][_0xafa5b7(0x2ac)]())['forEach'](async _0x1d426c=>{const _0x5e3b38=_0xafa5b7;let _0x46f758=_0x1d426c['namespace']['replace'](/^[\w-]+./,'');await this['dbInstance'][_0x5e3b38(0x428)](_0x46f758)[_0x5e3b38(0x30b)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x268d2d=(0x0,te[_0xafa5b7(0x5e4)])(V,{'encoding':'utf-8'});for await(let _0x34e604 of _0x268d2d)_0x34e604[_0xafa5b7(0x346)]()&&(0x0,te['readdirSync'])((0x0,be[_0xafa5b7(0x2be)])(V,_0x34e604['name']),{'encoding':_0xafa5b7(0x5d8)})['forEach'](async _0x1a4d6a=>{const _0x4af7b6=_0xafa5b7;(_0x1a4d6a[_0x4af7b6(0x472)](/^app.state.*/)||_0x1a4d6a[_0x4af7b6(0x472)](/^session-.*/))&&(0x0,te[_0x4af7b6(0x17b)])((0x0,be[_0x4af7b6(0x2be)])(V,_0x34e604[_0x4af7b6(0x3c7)],_0x1a4d6a),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x1fdd01){const _0x266011=a0_0x2caf34;this['db']['ENABLED']&&(await this['repository']['dbServer'][_0x266011(0xb7)](),(await this['dbInstance'][_0x266011(0x2ac)]())[_0x266011(0x59b)]>0x0&&await this[_0x266011(0x5e7)][_0x266011(0xc9)](_0x1fdd01)),this[_0x266011(0x1d8)][_0x266011(0x481)]&&(this['redisCache'][_0x266011(0x54f)]=_0x1fdd01,await this[_0x266011(0x39c)][_0x266011(0xe0)]()),!this['db'][_0x266011(0x481)]&&!this[_0x266011(0x1d8)]['ENABLED']&&(0x0,te[_0x266011(0x17b)])((0x0,be[_0x266011(0x2be)])(V,_0x1fdd01),{'recursive':!0x0,'force':!0x0});}async[a0_0x2caf34(0x3cb)](){const _0x4fac0e=a0_0x2caf34;let _0x271b63=async _0xbeb75e=>{const _0x11bee3=a0_0x54b4;let _0x2e8937=new ye(this[_0x11bee3(0xf2)],this[_0x11bee3(0x4ea)],this[_0x11bee3(0x1bf)]);_0x2e8937[_0x11bee3(0x372)]=_0xbeb75e,await _0x2e8937['connectToWhatsapp'](),this[_0x11bee3(0x36a)][_0xbeb75e]=_0x2e8937;};try{if(this[_0x4fac0e(0x1d8)][_0x4fac0e(0x481)]){let _0x354bfe=await this['redisCache']['instanceKeys']();_0x354bfe?.[_0x4fac0e(0x59b)]>0x0&&_0x354bfe[_0x4fac0e(0x369)](async _0x3acfde=>await _0x271b63(_0x3acfde[_0x4fac0e(0x226)](':')[0x1]));}if(this['db']['ENABLED']){await this['repository'][_0x4fac0e(0x532)][_0x4fac0e(0xb7)]();let _0xdd692b=await this[_0x4fac0e(0x5e7)][_0x4fac0e(0x2ac)]();_0xdd692b[_0x4fac0e(0x59b)]>0x0&&_0xdd692b[_0x4fac0e(0x369)](async _0x52afcb=>await _0x271b63(_0x52afcb[_0x4fac0e(0x50c)][_0x4fac0e(0xb1)](/^[\w-]+\./,'')));return;}let _0x4cb531=(0x0,te[_0x4fac0e(0x5e4)])(V,{'encoding':_0x4fac0e(0x5d8)});for await(let _0x305964 of _0x4cb531)if(_0x305964[_0x4fac0e(0x346)]()){if((0x0,te[_0x4fac0e(0x450)])((0x0,be[_0x4fac0e(0x2be)])(V,_0x305964[_0x4fac0e(0x3c7)]),{'encoding':'utf-8'})[_0x4fac0e(0x59b)]===0x0){(0x0,te[_0x4fac0e(0x17b)])((0x0,be[_0x4fac0e(0x2be)])(V,_0x305964[_0x4fac0e(0x3c7)]),{'recursive':!0x0,'force':!0x0});break;}await _0x271b63(_0x305964[_0x4fac0e(0x3c7)]);}}catch(_0x531c42){this[_0x4fac0e(0x2ad)][_0x4fac0e(0x348)](_0x531c42);}}[a0_0x2caf34(0x64d)](){const _0x191d85=a0_0x2caf34;this['eventEmitter']['on'](_0x191d85(0x308),async _0x2dc650=>{const _0x1027b9=_0x191d85;try{this['waInstances'][_0x2dc650]=void 0x0;}catch{}try{this[_0x1027b9(0x576)](_0x2dc650);}finally{this[_0x1027b9(0x2ad)]['warn'](_0x1027b9(0x1f5)+_0x2dc650+_0x1027b9(0x642));}});}['noConnection'](){const _0x219931=a0_0x2caf34;this['eventEmitter']['on'](_0x219931(0x15e),async _0xe66870=>{const _0x57294a=_0x219931;try{this['waInstances'][_0xe66870]=void 0x0,this[_0x57294a(0x576)](_0xe66870);}catch(_0x422e1f){this[_0x57294a(0x2ad)][_0x57294a(0x348)]({'localError':'noConnection','warn':_0x57294a(0x17d),'error':_0x422e1f});}finally{this[_0x57294a(0x2ad)][_0x57294a(0x41d)](_0x57294a(0x1f5)+_0xe66870+_0x57294a(0x4f6));}});}},Ot=class extends W{constructor(_0x38d0a3){const _0x57f436=a0_0x2caf34;super(_0x38d0a3),this[_0x57f436(0xf2)]=_0x38d0a3;}['getChatModelForOwner'](_0x4b0138){return Ps(_0x4b0138);}async['insert'](_0xe5ffe0){const _0x219b18=a0_0x2caf34;if(_0xe5ffe0[_0x219b18(0x59b)]!==0x0)try{return{'insertCount':(await this[_0x219b18(0x182)](_0xe5ffe0[0x0]['owner'])['insertMany']([..._0xe5ffe0]))[_0x219b18(0x59b)]};}catch(_0x15a33b){return _0x15a33b;}}async[a0_0x2caf34(0x504)](_0x5c16f6){const _0x307d66=a0_0x2caf34;try{return await this[_0x307d66(0x182)](_0x5c16f6['where'][_0x307d66(0x567)])['find']({..._0x5c16f6['where']})[_0x307d66(0x5f1)]({'lastmsg':-0x1})[_0x307d66(0x287)](_0x5c16f6?.[_0x307d66(0x287)]??0x0)[_0x307d66(0x37a)]();}catch{return[];}}async[a0_0x2caf34(0x126)](_0x5a03ad){const _0x1b5878=a0_0x2caf34;try{return{'deletedCount':(await this[_0x1b5878(0x182)](_0x5a03ad[_0x1b5878(0x51a)][_0x1b5878(0x567)])['deleteMany']({..._0x5a03ad[_0x1b5878(0x51a)]}))['deletedCount']};}catch(_0x3300db){return{'error':_0x3300db?.[_0x1b5878(0x3c2)]()};}}async[a0_0x2caf34(0x52d)](_0x35e196){const _0x3fa1fb=a0_0x2caf34;try{return await this[_0x3fa1fb(0x182)](_0x35e196[_0x3fa1fb(0x51a)]['owner'])[_0x3fa1fb(0x30b)]({..._0x35e196[_0x3fa1fb(0x51a)]}),[];}catch(_0x16f9f0){return{'error':_0x16f9f0?.[_0x3fa1fb(0x3c2)]()};}}async[a0_0x2caf34(0x400)](_0x26e721){const _0x316f20=a0_0x2caf34;try{return await this[_0x316f20(0x182)](_0x26e721['where']['owner'])['findOne']({..._0x26e721[_0x316f20(0x51a)]})[_0x316f20(0x37a)]();}catch{return null;}}async[a0_0x2caf34(0x2ba)](_0x5231f7,_0x3478db,_0x3b257d){const _0x5ad07b=a0_0x2caf34;try{let _0x10e66e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3b257d};return await this['getChatModelForOwner'](_0x5231f7[_0x5ad07b(0x51a)][_0x5ad07b(0x567)])[_0x5ad07b(0x666)]({..._0x5231f7[_0x5ad07b(0x51a)]},{'$set':_0x3478db},_0x10e66e);}catch(_0x209090){return console[_0x5ad07b(0x348)](_0x209090),null;}}async[a0_0x2caf34(0xbc)](_0x414af9){const _0x52dc01=a0_0x2caf34;try{let _0x8d714e=this[_0x52dc01(0x182)](_0x414af9[0x0][_0x52dc01(0x18a)][_0x52dc01(0x51a)][_0x52dc01(0x567)]),_0x816167=_0x414af9[_0x52dc01(0x566)](_0x2c7e53=>({'updateOne':{'filter':{..._0x2c7e53[_0x52dc01(0x18a)][_0x52dc01(0x51a)]},'update':{'$set':_0x2c7e53['update']}}}));return(await _0x8d714e[_0x52dc01(0xe8)](_0x816167))[_0x52dc01(0x295)];}catch(_0x3da7da){return console[_0x52dc01(0x348)](_0x3da7da),0x0;}}},Pt=class{constructor(_0x4096af){const _0x596b04=a0_0x2caf34;this[_0x596b04(0x36f)]=_0x4096af;}async['editChat']({instanceName:_0x32d48a},_0x52aa9b){const _0x28da88=a0_0x2caf34;return await this['waMonitor'][_0x28da88(0x36a)][_0x32d48a][_0x28da88(0x4d7)](_0x52aa9b);}async[a0_0x2caf34(0x2fb)]({instanceName:_0x364264},_0x892be2){const _0x526fd5=a0_0x2caf34;return await this[_0x526fd5(0x36f)][_0x526fd5(0x36a)][_0x364264][_0x526fd5(0x2fb)](_0x892be2);}async[a0_0x2caf34(0x22c)]({instanceName:_0x40766a},_0x510060){const _0x491cfb=a0_0x2caf34;return await this['waMonitor'][_0x491cfb(0x36a)][_0x40766a][_0x491cfb(0x570)](_0x510060);}async[a0_0x2caf34(0x2f9)]({instanceName:_0xd9da38},_0x422323){const _0x239e10=a0_0x2caf34;return await this[_0x239e10(0x36f)][_0x239e10(0x36a)][_0xd9da38][_0x239e10(0x2f9)](_0x422323);}async[a0_0x2caf34(0x62e)]({instanceName:_0x522e0b},_0x4b2460){const _0x5f4844=a0_0x2caf34;return await this[_0x5f4844(0x36f)][_0x5f4844(0x36a)][_0x522e0b][_0x5f4844(0x62e)](_0x4b2460);}async[a0_0x2caf34(0x553)]({instanceName:_0x5845cb},_0x1c5d4a){const _0x1fec3b=a0_0x2caf34;return await this[_0x1fec3b(0x36f)][_0x1fec3b(0x36a)][_0x5845cb][_0x1fec3b(0x3dc)](_0x1c5d4a[_0x1fec3b(0x487)]);}async[a0_0x2caf34(0x4f4)]({instanceName:_0x5415b4},_0x461c5c){const _0x3046a7=a0_0x2caf34;return await this['waMonitor'][_0x3046a7(0x36a)][_0x5415b4][_0x3046a7(0x4f4)](_0x461c5c[_0x3046a7(0x487)]);}async[a0_0x2caf34(0x60a)]({instanceName:_0x5629d6},_0x12c3bb){const _0x87bbcf=a0_0x2caf34;return await this[_0x87bbcf(0x36f)][_0x87bbcf(0x36a)][_0x5629d6][_0x87bbcf(0x60a)](_0x12c3bb);}async['fetchContacts']({instanceName:_0x7555ed},_0x2018c2){const _0x1932e0=a0_0x2caf34;return await this[_0x1932e0(0x36f)][_0x1932e0(0x36a)][_0x7555ed]['fetchContacts'](_0x2018c2);}async[a0_0x2caf34(0x3b1)]({instanceName:_0x48ac80},_0x3412ee){const _0x493110=a0_0x2caf34;return await this[_0x493110(0x36f)][_0x493110(0x36a)][_0x48ac80][_0x493110(0x3b1)](_0x3412ee);}async['fetchMessages']({instanceName:_0x59c094},_0x4cec6e){const _0x219573=a0_0x2caf34;return await this[_0x219573(0x36f)][_0x219573(0x36a)][_0x59c094][_0x219573(0x50f)](_0x4cec6e);}async[a0_0x2caf34(0x583)]({instanceName:_0x46dff7}){const _0x4f0c2b=a0_0x2caf34;return await this[_0x4f0c2b(0x36f)]['waInstances'][_0x46dff7][_0x4f0c2b(0x583)]();}async[a0_0x2caf34(0x3e8)]({instanceName:_0x162ff6}){const _0x495033=a0_0x2caf34;return await this[_0x495033(0x36f)][_0x495033(0x36a)][_0x162ff6]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x3f6ec1},_0x36dd9a){const _0x4d1a0c=a0_0x2caf34;return await this[_0x4d1a0c(0x36f)][_0x4d1a0c(0x36a)][_0x3f6ec1][_0x4d1a0c(0x50a)](_0x36dd9a);}async['fetchBusinessProfile']({instanceName:_0x461c5f},_0x10b553){const _0xfd2134=a0_0x2caf34;return await this[_0xfd2134(0x36f)]['waInstances'][_0x461c5f][_0xfd2134(0x12f)](_0x10b553['number']);}async['updateProfileName']({instanceName:_0x248555},_0x24d73a){const _0x3b22df=a0_0x2caf34;return await this[_0x3b22df(0x36f)]['waInstances'][_0x248555][_0x3b22df(0x457)](_0x24d73a[_0x3b22df(0x3c7)]);}async['updateProfileStatus']({instanceName:_0x514bb6},_0x598698){const _0xd482=a0_0x2caf34;return await this[_0xd482(0x36f)][_0xd482(0x36a)][_0x514bb6][_0xd482(0x439)](_0x598698[_0xd482(0x505)]);}async[a0_0x2caf34(0x611)]({instanceName:_0x30ad5d},_0x3e6683){const _0x592e02=a0_0x2caf34;return await this[_0x592e02(0x36f)][_0x592e02(0x36a)][_0x30ad5d][_0x592e02(0x611)](_0x3e6683['picture']);}async[a0_0x2caf34(0x2e6)]({instanceName:_0x4448f5},_0x520d24){const _0x22ffca=a0_0x2caf34;return await this[_0x22ffca(0x36f)][_0x22ffca(0x36a)][_0x4448f5][_0x22ffca(0x2e6)]();}},ms=require(a0_0x2caf34(0x541)),xt=class c{constructor(_0x1f9507,_0x1a00f3,_0x1c3afb,_0x201c99,_0x9a8503){const _0x4a2be8=a0_0x2caf34;this['waMonitor']=_0x1f9507,this[_0x4a2be8(0xf2)]=_0x1a00f3,this['repository']=_0x1c3afb,this[_0x4a2be8(0x4ea)]=_0x201c99,this[_0x4a2be8(0x176)]=_0x9a8503,this[_0x4a2be8(0x2ad)]=new N(c[_0x4a2be8(0x3c7)]);}async[a0_0x2caf34(0x489)]({instanceName:_0x2c1bcb,apikey:_0x5a2b37}){const _0x407966=a0_0x2caf34;let _0x559bed=new ye(this[_0x407966(0xf2)],this[_0x407966(0x4ea)],this[_0x407966(0x1bf)]);_0x559bed[_0x407966(0x372)]=_0x2c1bcb,this['waMonitor'][_0x407966(0x36a)][_0x559bed[_0x407966(0x372)]]=_0x559bed,this[_0x407966(0x36f)]['delInstanceTime'](_0x559bed[_0x407966(0x372)]);let _0x20b620={};_0x5a2b37?(await this[_0x407966(0x1bf)][_0x407966(0x194)][_0x407966(0x333)]({'apikey':_0x5a2b37},_0x2c1bcb),_0x20b620[_0x407966(0x113)]=_0x5a2b37):_0x20b620=await this[_0x407966(0x176)]['generateHash']({'instanceName':_0x559bed[_0x407966(0x372)]});let _0x1bd386;return await _0x559bed[_0x407966(0x136)](),await(0x0,ms[_0x407966(0x42e)])(0x7d0),_0x1bd386=_0x559bed[_0x407966(0xf9)],{'instance':{'instanceName':_0x559bed['instanceName'],'status':_0x407966(0x281)},'hash':_0x20b620,'qrcode':_0x1bd386};}async[a0_0x2caf34(0x136)]({instanceName:_0x507c5f}){const _0x1416c1=a0_0x2caf34;try{let _0x6dcda9=this[_0x1416c1(0x36f)][_0x1416c1(0x36a)][_0x507c5f];switch(_0x6dcda9[_0x1416c1(0x3b5)]?.[_0x1416c1(0x423)]){case _0x1416c1(0x613):return await _0x6dcda9[_0x1416c1(0x136)](),await(0x0,ms[_0x1416c1(0x42e)])(0x7d0),_0x6dcda9[_0x1416c1(0xf9)];case'connecting':return _0x6dcda9[_0x1416c1(0xf9)];default:return await this[_0x1416c1(0x462)]({'instanceName':_0x507c5f});}}catch(_0x54fec9){this[_0x1416c1(0x2ad)][_0x1416c1(0x174)](_0x54fec9);}}async[a0_0x2caf34(0x462)]({instanceName:_0xbe9cd5}){const _0x224829=a0_0x2caf34;let _0x418bef=this[_0x224829(0x36f)][_0x224829(0x36a)][_0xbe9cd5][_0x224829(0x3b5)],_0x48bfc3=null;_0x418bef['state']==='open'&&_0xbe9cd5&&(_0x48bfc3=await this['waMonitor'][_0x224829(0xb0)](_0xbe9cd5));let _0x317599=null;return _0x418bef['state']===_0x224829(0x12e)&&_0xbe9cd5&&(_0x317599=this[_0x224829(0x36f)][_0x224829(0x36a)][_0xbe9cd5][_0x224829(0xf9)]),{'instance':_0xbe9cd5,'connectionStatus':_0x418bef,'instanceInfo':_0x48bfc3,'qrcode':_0x317599};}async[a0_0x2caf34(0x265)]({instanceName:_0xb679cc}){const _0x2540a1=a0_0x2caf34;try{return this[_0x2540a1(0x36f)][_0x2540a1(0x36a)][_0xb679cc]?.['client']?.['ws']?.['close'](),{'status':_0x2540a1(0x2e5),'error':!0x1,'response':{'message':_0x2540a1(0x3ee)}};}catch(_0x379de3){this['logger'][_0x2540a1(0x348)](_0x379de3);}}async[a0_0x2caf34(0xa7)]({instanceName:_0xd6d2c3}){const _0x47681f=a0_0x2caf34;return _0xd6d2c3?this[_0x47681f(0x36f)][_0x47681f(0xb0)](_0xd6d2c3):this[_0x47681f(0x36f)][_0x47681f(0xb0)]();}async[a0_0x2caf34(0x2ce)]({instanceName:_0x3cc98e}){const _0x62e9fd=a0_0x2caf34;try{return await this[_0x62e9fd(0x36f)][_0x62e9fd(0x36a)][_0x3cc98e]?.['client']?.[_0x62e9fd(0x2ce)]('Log\x20out\x20instance:\x20'+_0x3cc98e),{'error':!0x1,'message':_0x62e9fd(0xc2)};}catch(_0x338617){throw new A(_0x338617[_0x62e9fd(0x3c2)]());}}async[a0_0x2caf34(0x1b2)]({instanceName:_0x55c855}){const _0x5be54e=a0_0x2caf34;if((await this[_0x5be54e(0x462)]({'instanceName':_0x55c855}))['connectionStatus']['state']===_0x5be54e(0x35b))throw new g([_0x5be54e(0x5dd),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x5be54e(0x36f)]['waInstances'][_0x55c855],{'error':!0x1,'message':_0x5be54e(0x41c)};}catch(_0xab847){throw new g(_0xab847[_0x5be54e(0x3c2)]());}}async[a0_0x2caf34(0x238)](_0x56f77f,_0xbeb180){const _0x58edfc=a0_0x2caf34;return await this[_0x58edfc(0x176)][_0x58edfc(0x238)](_0xbeb180);}},se=require(a0_0x2caf34(0x5f6)),$t=class{constructor(_0x367857){const _0x3ad0c3=a0_0x2caf34;this[_0x3ad0c3(0x36f)]=_0x367857;}async['sendText']({instanceName:_0x34eb0f},_0x560841){const _0x4339a9=a0_0x2caf34;return await this[_0x4339a9(0x36f)][_0x4339a9(0x36a)][_0x34eb0f]['textMessage'](_0x560841);}async[a0_0x2caf34(0xce)]({instanceName:_0x530eed},_0x359cd3){const _0x107ae6=a0_0x2caf34;if((0x0,se['isBase64'])(_0x359cd3?.[_0x107ae6(0x527)]?.[_0x107ae6(0x4c6)])&&!_0x359cd3?.['mediaMessage']?.[_0x107ae6(0x360)])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se[_0x107ae6(0x14e)])(_0x359cd3?.[_0x107ae6(0x527)]?.[_0x107ae6(0x4c6)])||(0x0,se[_0x107ae6(0x569)])(_0x359cd3?.['mediaMessage']?.[_0x107ae6(0x4c6)]))return await this[_0x107ae6(0x36f)][_0x107ae6(0x36a)][_0x530eed]['mediaMessage'](_0x359cd3);throw new g(_0x107ae6(0x273));}async[a0_0x2caf34(0x10f)]({instanceName:_0x1b2be0},_0x9243fc){const _0x5a086c=a0_0x2caf34;if((0x0,se['isURL'])(_0x9243fc[_0x5a086c(0x352)][_0x5a086c(0x3e7)])||(0x0,se[_0x5a086c(0x569)])(_0x9243fc[_0x5a086c(0x352)][_0x5a086c(0x3e7)]))return await this[_0x5a086c(0x36f)][_0x5a086c(0x36a)][_0x1b2be0]['mediaSticker'](_0x9243fc);throw new g(_0x5a086c(0x273));}async[a0_0x2caf34(0x549)]({instanceName:_0x29eed4},_0x54c942){const _0x51d36a=a0_0x2caf34;if((0x0,se['isURL'])(_0x54c942[_0x51d36a(0x101)][_0x51d36a(0x44e)])||(0x0,se['isBase64'])(_0x54c942['audioMessage'][_0x51d36a(0x44e)]))return await this[_0x51d36a(0x36f)]['waInstances'][_0x29eed4][_0x51d36a(0x5c5)](_0x54c942);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x2caf34(0x256)]({instanceName:_0x2f6587},_0x382c73){const _0x23e2bf=a0_0x2caf34;if((0x0,se['isBase64'])(_0x382c73[_0x23e2bf(0x11e)][_0x23e2bf(0x527)]?.['media'])&&!_0x382c73[_0x23e2bf(0x11e)]['mediaMessage']?.[_0x23e2bf(0x360)])throw new g(_0x23e2bf(0x646));return await this[_0x23e2bf(0x36f)]['waInstances'][_0x2f6587][_0x23e2bf(0x11e)](_0x382c73);}async[a0_0x2caf34(0x2a2)]({instanceName:_0x50604a},_0x4aee1e){const _0x5eabba=a0_0x2caf34;return await this[_0x5eabba(0x36f)][_0x5eabba(0x36a)][_0x50604a]['locationMessage'](_0x4aee1e);}async[a0_0x2caf34(0x406)]({instanceName:_0xd016a0},_0x4fb17d){const _0x46d6e7=a0_0x2caf34;return await this['waMonitor'][_0x46d6e7(0x36a)][_0xd016a0]['pollMessage'](_0x4fb17d);}async[a0_0x2caf34(0x335)]({instanceName:_0x5f01de},_0x568c1c){const _0x39adcb=a0_0x2caf34;return await this[_0x39adcb(0x36f)][_0x39adcb(0x36a)][_0x5f01de]['listMessage'](_0x568c1c);}async[a0_0x2caf34(0x5cf)]({instanceName:_0x33e7b7},_0x2addcd){const _0x204b6c=a0_0x2caf34;return await this[_0x204b6c(0x36f)][_0x204b6c(0x36a)][_0x33e7b7][_0x204b6c(0x135)](_0x2addcd);}async[a0_0x2caf34(0x35e)]({instanceName:_0x55dff3},_0xf416fb){const _0x44cbdd=a0_0x2caf34;if(!_0xf416fb[_0x44cbdd(0x3a2)][_0x44cbdd(0x509)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x44cbdd(0x2eb));return await this[_0x44cbdd(0x36f)]['waInstances'][_0x55dff3][_0x44cbdd(0x3a2)](_0xf416fb);}async['sendStatus']({instanceName:_0x593658},_0x14d893){const _0xd44e83=a0_0x2caf34;return await this[_0xd44e83(0x36f)][_0xd44e83(0x36a)][_0x593658][_0xd44e83(0x313)](_0x14d893);}},kt=class{constructor(_0x4ac751){const _0x1d1c84=a0_0x2caf34;this[_0x1d1c84(0x36f)]=_0x4ac751;}async['createGroup'](_0x3f3e57,_0x276b0d){const _0x3dcb12=a0_0x2caf34;return await this['waMonitor'][_0x3dcb12(0x36a)][_0x3f3e57[_0x3dcb12(0x372)]][_0x3dcb12(0x529)](_0x276b0d);}async['updateGroupPicture'](_0x455e1c,_0x2f387a){const _0xbebbd5=a0_0x2caf34;return await this[_0xbebbd5(0x36f)][_0xbebbd5(0x36a)][_0x455e1c[_0xbebbd5(0x372)]][_0xbebbd5(0x108)](_0x2f387a);}async[a0_0x2caf34(0x61f)](_0x2bc73c,_0x286a9a){const _0x4ca78c=a0_0x2caf34;return await this[_0x4ca78c(0x36f)][_0x4ca78c(0x36a)][_0x2bc73c['instanceName']][_0x4ca78c(0x61f)](_0x286a9a);}async['groupName'](_0x14369f,_0x203f94){const _0x1c652a=a0_0x2caf34;return await this[_0x1c652a(0x36f)]['waInstances'][_0x14369f['instanceName']][_0x1c652a(0x1db)](_0x203f94);}async['groupSetting'](_0x325449,_0x591ebe){const _0x4b36be=a0_0x2caf34;return await this[_0x4b36be(0x36f)][_0x4b36be(0x36a)][_0x325449[_0x4b36be(0x372)]][_0x4b36be(0x618)](_0x591ebe);}async['findGroupInfo'](_0x454a26,_0x5cc13f){const _0x579e54=a0_0x2caf34;return await this[_0x579e54(0x36f)][_0x579e54(0x36a)][_0x454a26[_0x579e54(0x372)]][_0x579e54(0x1d6)](_0x5cc13f);}async[a0_0x2caf34(0x546)](_0x30bad4){const _0x383a2f=a0_0x2caf34;return await this[_0x383a2f(0x36f)][_0x383a2f(0x36a)][_0x30bad4[_0x383a2f(0x372)]][_0x383a2f(0x546)]();}async[a0_0x2caf34(0x1a1)](_0x7ee76,_0x58f0ed){const _0x5306f5=a0_0x2caf34;return await this[_0x5306f5(0x36f)][_0x5306f5(0x36a)][_0x7ee76['instanceName']][_0x5306f5(0x1a1)](_0x58f0ed);}async[a0_0x2caf34(0x371)](_0x460d56,_0xb863df){const _0x1557b0=a0_0x2caf34;return await this[_0x1557b0(0x36f)]['waInstances'][_0x460d56[_0x1557b0(0x372)]][_0x1557b0(0x371)](_0xb863df);}async[a0_0x2caf34(0x2d3)](_0x423c4a,_0x185aaa){const _0x500e90=a0_0x2caf34;return await this['waMonitor'][_0x500e90(0x36a)][_0x423c4a[_0x500e90(0x372)]][_0x500e90(0x2d3)](_0x185aaa);}async[a0_0x2caf34(0x26a)](_0x4698a6,_0x29069d){const _0x529e88=a0_0x2caf34;return await this[_0x529e88(0x36f)]['waInstances'][_0x4698a6[_0x529e88(0x372)]][_0x529e88(0x26a)](_0x29069d);}async[a0_0x2caf34(0x401)](_0x1cb531,_0x862a9f){const _0x38dd2f=a0_0x2caf34;return await this[_0x38dd2f(0x36f)][_0x38dd2f(0x36a)][_0x1cb531[_0x38dd2f(0x372)]][_0x38dd2f(0x3b6)](_0x862a9f);}async[a0_0x2caf34(0x18e)](_0x28cd9b,_0x321062){const _0x46c0f1=a0_0x2caf34;return await this[_0x46c0f1(0x36f)][_0x46c0f1(0x36a)][_0x28cd9b['instanceName']]['toggleEphemeral'](_0x321062);}async[a0_0x2caf34(0x2b0)](_0x3c5c53,_0xb5c55e){const _0x2ae209=a0_0x2caf34;return await this[_0x2ae209(0x36f)][_0x2ae209(0x36a)][_0x3c5c53['instanceName']][_0x2ae209(0x2b0)](_0xb5c55e);}},Lt=class{constructor(_0x192672,_0x4b98b7){const _0x3bcfdf=a0_0x2caf34;this['waMonit']=_0x192672,this[_0x3bcfdf(0xf2)]=_0x4b98b7;}async['qrcode'](_0x1a319b,_0x382c13){const _0x48cebc=a0_0x2caf34;try{let _0x4dfddd=_0x1a319b[_0x48cebc(0x27d)];if(this[_0x48cebc(0x1aa)][_0x48cebc(0x36a)][_0x4dfddd[_0x48cebc(0x372)]][_0x48cebc(0x3b5)]['state']===_0x48cebc(0x35b))throw new g(_0x48cebc(0x587));let _0x130e4c=this[_0x48cebc(0xf2)][_0x48cebc(0x54d)]('AUTHENTICATION')[_0x48cebc(0x301)];return _0x382c13['status'](0xc8)[_0x48cebc(0x49b)](_0x48cebc(0x310),{'type':_0x130e4c,..._0x4dfddd});}catch(_0x2aa7cf){console['log']('ERROR:\x20',_0x2aa7cf);}}},Ut=class{constructor(_0x4c0080){this['waMonitor']=_0x4c0080;}[a0_0x2caf34(0x333)](_0x45b14b,_0x56287f){const _0x433480=a0_0x2caf34;return this['waMonitor'][_0x433480(0x36a)][_0x45b14b[_0x433480(0x372)]][_0x433480(0x4bd)](_0x56287f);}async[a0_0x2caf34(0x504)](_0x2384f2){const _0x1086ba=a0_0x2caf34;try{return await this[_0x1086ba(0x36f)][_0x1086ba(0x36a)][_0x2384f2[_0x1086ba(0x372)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},sd=new N(a0_0x2caf34(0x18f)),Vt=class{constructor(_0x5b29e7){const _0x42d1a=a0_0x2caf34;this[_0x42d1a(0x36f)]=_0x5b29e7;}async[a0_0x2caf34(0x464)](_0x16ee5f,_0x16d98e){const _0x817e40=a0_0x2caf34;return await this['waMonitor'][_0x817e40(0x36a)][_0x16ee5f[_0x817e40(0x372)]][_0x817e40(0x464)](_0x16d98e);}async['getScheduleMessage'](_0x5f4e57){const _0x1599d4=a0_0x2caf34;return await this[_0x1599d4(0x36f)][_0x1599d4(0x36a)][_0x5f4e57[_0x1599d4(0x372)]][_0x1599d4(0x5f5)]();}async['deleteDoneMessages'](_0x557885){const _0x371d4e=a0_0x2caf34;return await this[_0x371d4e(0x36f)][_0x371d4e(0x36a)][_0x557885['instanceName']][_0x371d4e(0x389)]();}async[a0_0x2caf34(0x571)](_0x1034ec){const _0x2a16d1=a0_0x2caf34;return await this[_0x2a16d1(0x36f)][_0x2a16d1(0x36a)][_0x1034ec[_0x2a16d1(0x372)]][_0x2a16d1(0x571)]();}async[a0_0x2caf34(0x2fa)](_0x7b90d7,_0x1fc971){const _0xad9c7a=a0_0x2caf34;return await this[_0xad9c7a(0x36f)][_0xad9c7a(0x36a)][_0x7b90d7[_0xad9c7a(0x372)]][_0xad9c7a(0x2fa)](_0x1fc971);}async[a0_0x2caf34(0x14b)](_0xef5fde,_0x253360){const _0x2f9346=a0_0x2caf34;return await this[_0x2f9346(0x36f)][_0x2f9346(0x36a)][_0xef5fde[_0x2f9346(0x372)]][_0x2f9346(0x14b)](_0x253360);}async[a0_0x2caf34(0x4a0)](_0x1b4f15,_0x1d6bce){const _0x3641bc=a0_0x2caf34;return await this[_0x3641bc(0x36f)][_0x3641bc(0x36a)][_0x1b4f15[_0x3641bc(0x372)]][_0x3641bc(0x4a0)](_0x1d6bce);}async[a0_0x2caf34(0x22a)](_0x243d7e,_0x2bd8ee){const _0x33fa6c=a0_0x2caf34;return await this['waMonitor'][_0x33fa6c(0x36a)][_0x243d7e[_0x33fa6c(0x372)]][_0x33fa6c(0x22a)](_0x2bd8ee);}async[a0_0x2caf34(0x5c7)](_0x7c925c,_0x1a96fd){const _0x394f5e=a0_0x2caf34;return await this[_0x394f5e(0x36f)]['waInstances'][_0x7c925c[_0x394f5e(0x372)]][_0x394f5e(0x5c7)](_0x1a96fd);}async[a0_0x2caf34(0xfe)](_0x45cda0,_0x3133d0){const _0x33e76c=a0_0x2caf34;return await this[_0x33e76c(0x36f)][_0x33e76c(0x36a)][_0x45cda0['instanceName']]['fetchConversation'](_0x3133d0);}async[a0_0x2caf34(0x1b3)](_0x55be1f,_0xb11e2){const _0x14d02a=a0_0x2caf34;return await this[_0x14d02a(0x36f)][_0x14d02a(0x36a)][_0x55be1f['instanceName']][_0x14d02a(0x1b3)](_0xb11e2);}async[a0_0x2caf34(0x340)](_0x4b7718,_0x5935ec){const _0x3d69d1=a0_0x2caf34;return await this[_0x3d69d1(0x36f)]['waInstances'][_0x4b7718[_0x3d69d1(0x372)]][_0x3d69d1(0x340)](_0x5935ec);}async[a0_0x2caf34(0x1ab)](_0x7016d9,_0x5a6e1f){const _0x4ce7b3=a0_0x2caf34;return await this['waMonitor'][_0x4ce7b3(0x36a)][_0x7016d9[_0x4ce7b3(0x372)]]['getFlow'](_0x5a6e1f[_0x4ce7b3(0x3c7)]);}async[a0_0x2caf34(0x10b)](_0x576a32,_0x3c9e45){const _0x58f892=a0_0x2caf34;return await this[_0x58f892(0x36f)]['waInstances'][_0x576a32[_0x58f892(0x372)]][_0x58f892(0x10b)](_0x3c9e45);}async[a0_0x2caf34(0x3ed)](_0x5a7bfc,_0x21dcb5){const _0x3a1fa8=a0_0x2caf34;return await this[_0x3a1fa8(0x36f)][_0x3a1fa8(0x36a)][_0x5a7bfc['instanceName']][_0x3a1fa8(0x3ed)](_0x21dcb5);}async['editFlowBlock'](_0x1743dd,_0x21080c){const _0x6336fe=a0_0x2caf34;return await this[_0x6336fe(0x36f)][_0x6336fe(0x36a)][_0x1743dd[_0x6336fe(0x372)]][_0x6336fe(0x4ca)](_0x21080c);}async[a0_0x2caf34(0x183)](_0x38ff79,_0x230a18){const _0x4719f9=a0_0x2caf34;return await this['waMonitor'][_0x4719f9(0x36a)][_0x38ff79['instanceName']]['editFlowReply'](_0x230a18);}async[a0_0x2caf34(0x5db)](_0x5cdacf,_0x5a9a6a){const _0x260d2b=a0_0x2caf34;return await this[_0x260d2b(0x36f)][_0x260d2b(0x36a)][_0x5cdacf[_0x260d2b(0x372)]][_0x260d2b(0x5db)](_0x5a9a6a);}async[a0_0x2caf34(0x130)](_0x3136fd,_0x2d3725){const _0x5371ea=a0_0x2caf34;return await this[_0x5371ea(0x36f)]['waInstances'][_0x3136fd[_0x5371ea(0x372)]][_0x5371ea(0x130)](_0x2d3725);}async['editFlowVaredit'](_0x4932c6,_0x2a2fd5){const _0x23f78d=a0_0x2caf34;return await this[_0x23f78d(0x36f)]['waInstances'][_0x4932c6[_0x23f78d(0x372)]][_0x23f78d(0x312)](_0x2a2fd5);}async[a0_0x2caf34(0x648)](_0x6c7f2a,_0x570e81){const _0x1de5ca=a0_0x2caf34;return await this['waMonitor'][_0x1de5ca(0x36a)][_0x6c7f2a[_0x1de5ca(0x372)]]['editFlowVariable'](_0x570e81);}async[a0_0x2caf34(0x5f9)](_0x2b9a15,_0xfe2904){const _0x1bd669=a0_0x2caf34;return await this[_0x1bd669(0x36f)][_0x1bd669(0x36a)][_0x2b9a15[_0x1bd669(0x372)]]['deleteFlow'](_0xfe2904[_0x1bd669(0x3c7)]);}async[a0_0x2caf34(0x5be)](_0xd852ca){const _0x25640a=a0_0x2caf34;return await this[_0x25640a(0x36f)][_0x25640a(0x36a)][_0xd852ca[_0x25640a(0x372)]][_0x25640a(0x5be)]();}},jt=class{constructor(_0x1a795a){const _0x12d207=a0_0x2caf34;this[_0x12d207(0x630)]=_0x1a795a;}async[a0_0x2caf34(0x47a)](_0x55cdc9,_0x41a565){const _0x2d4817=a0_0x2caf34;return this[_0x2d4817(0x630)][_0x2d4817(0x333)](_0x55cdc9,_0x41a565);}async[a0_0x2caf34(0x550)](_0x2fbccb){const _0x538b2e=a0_0x2caf34;return this['webhookService'][_0x538b2e(0x504)](_0x2fbccb);}},Ft=class{constructor(_0x1301a1,_0x21b041,_0x41bc9e,_0x3e3519,_0x518d45,_0x299924){const _0x106997=a0_0x2caf34;this['message']=_0x1301a1,this['chat']=_0x21b041,this[_0x106997(0x329)]=_0x41bc9e,this['webhook']=_0x3e3519,this[_0x106997(0x194)]=_0x518d45,this['dbClient']=_0x299924;}get[a0_0x2caf34(0x532)](){return this['dbClient'];}},hs=require(a0_0x2caf34(0x229)),so=require('fs'),Bt=class extends W{constructor(_0x327a9c,_0x3f1901){const _0x3bb752=a0_0x2caf34;super(_0x3f1901),this[_0x3bb752(0x196)]=_0x327a9c,this[_0x3bb752(0xf2)]=_0x3f1901;}async[a0_0x2caf34(0x333)](_0xff98af,_0x170dae){const _0x4c9ee3=a0_0x2caf34;try{return this[_0x4c9ee3(0x1ed)]['ENABLED']?{'insertCount':(await this['webhookModel'][_0x4c9ee3(0xd2)]({'_id':_0x170dae},{..._0xff98af},{'upsert':!0x0}))['modifiedCount']}:(this[_0x4c9ee3(0x385)]({'path':(0x0,hs['join'])(this[_0x4c9ee3(0x57b)],_0x4c9ee3(0x4e6)),'fileName':_0x170dae,'data':_0xff98af}),{'insertCount':0x1});}catch(_0xfc4c59){return _0xfc4c59;}}async['find'](_0x2dfbd1){const _0x2cd399=a0_0x2caf34;try{return this[_0x2cd399(0x1ed)][_0x2cd399(0x481)]?await this[_0x2cd399(0x196)]['findOne']({'_id':_0x2dfbd1}):JSON[_0x2cd399(0x44d)]((0x0,so[_0x2cd399(0x3be)])((0x0,hs['join'])(this[_0x2cd399(0x57b)],_0x2cd399(0x4e6),_0x2dfbd1+_0x2cd399(0x5a9)),{'encoding':'utf-8'}));}catch{return{};}}},fs=require(a0_0x2caf34(0x229)),ao=require('fs'),qt=class extends W{constructor(_0x274f79,_0x40c61c){const _0x120a30=a0_0x2caf34;super(_0x40c61c),this[_0x120a30(0xcd)]=_0x274f79,this[_0x120a30(0xf2)]=_0x40c61c,this['auth']=_0x40c61c[_0x120a30(0x54d)](_0x120a30(0x5a4));}async[a0_0x2caf34(0x333)](_0x1f0dd9,_0x3a4389){const _0x53c9c7=a0_0x2caf34;try{return this[_0x53c9c7(0x1ed)]['ENABLED']?{'insertCount':(await this[_0x53c9c7(0xcd)]['replaceOne']({'_id':_0x3a4389},{..._0x1f0dd9},{'upsert':!0x0}))[_0x53c9c7(0x295)]}:(this[_0x53c9c7(0x385)]({'path':(0x0,fs['join'])(Gt,this[_0x53c9c7(0x194)][_0x53c9c7(0x301)]),'fileName':_0x3a4389,'data':_0x1f0dd9}),{'insertCount':0x1});}catch(_0x1d7e85){return{'error':_0x1d7e85};}}async[a0_0x2caf34(0x504)](_0x470840){const _0x4453b2=a0_0x2caf34;try{return this[_0x4453b2(0x1ed)]['ENABLED']?await this['authModel'][_0x4453b2(0x400)]({'_id':_0x470840}):JSON['parse']((0x0,ao[_0x4453b2(0x3be)])((0x0,fs['join'])(Gt,this[_0x4453b2(0x194)][_0x4453b2(0x301)],_0x470840+_0x4453b2(0x5a9)),{'encoding':_0x4453b2(0x5d8)}));}catch{return{};}}},Ho=new N('WA\x20MODULE'),Ko=new xe(E),zo=new Ot(E),Qo=new We(E),Yo=new Bt(Bs,E),Xo=new qt(Vs,E),ce=new Ft(Ko,zo,Qo,Yo,Xo,M?.[a0_0x2caf34(0x107)]()),F=new _t(Kt,E,ce),Zo=new rt(E,F,ce),er=new Ut(F),ls=new jt(er),R=new Vt(F),ie=new xt(F,E,ce,Kt,Zo),Ba=new Lt(F,E),K=new $t(F),D=new Pt(F),U=new kt(F);Ho[a0_0x2caf34(0x67b)](a0_0x2caf34(0x63d));var Yd=require('express-async-errors'),ws=require('fs'),oo=T(require(a0_0x2caf34(0x27a))),ro=T(require('http')),Re=class c{static #e;static set[a0_0x2caf34(0x65f)](_0x2dfff0){this.#e=_0x2dfff0;}static get[a0_0x2caf34(0x27a)](){const _0x58f4b6=a0_0x2caf34;let {FULLCHAIN:_0x4e3ec6,PRIVKEY:_0x5f0e23}=E[_0x58f4b6(0x54d)](_0x58f4b6(0x2e2));return oo[_0x58f4b6(0x66c)]({'cert':(0x0,ws['readFileSync'])(_0x4e3ec6),'key':(0x0,ws[_0x58f4b6(0x3be)])(_0x5f0e23)},c.#e);}static get[a0_0x2caf34(0x159)](){const _0x4bed75=a0_0x2caf34;return ro[_0x4bed75(0x66c)](c.#e);}},de=T(require('fs')),po=T(require('ini')),Me=T(require(a0_0x2caf34(0x58b))),Ie=T(require(a0_0x2caf34(0x229))),De=require(a0_0x2caf34(0x55f));function tr(){const _0x1dde7e=a0_0x2caf34;F[_0x1dde7e(0x3cb)]();let _0x4e3f14=Ie[_0x1dde7e(0x418)]['join'](__dirname,_0x1dde7e(0x95));uo(_0x4e3f14);}var uo=_0x4ef814=>{const _0x22210a=a0_0x2caf34;let _0x7d8b61=de[_0x22210a(0x418)][_0x22210a(0x450)](_0x4ef814),_0x40c8a4=0xc*0x3c*0x3c*0x3e8,_0x2293ab=0x2*0x3c*0x3c*0x3e8,_0x26b792=new Date()[_0x22210a(0x5d0)]();_0x7d8b61['forEach'](_0x318a7c=>{const _0x1c5610=_0x22210a;let _0x38388b=Ie['default']['join'](_0x4ef814,_0x318a7c),_0x72427d=de[_0x1c5610(0x418)][_0x1c5610(0x421)](_0x38388b)[_0x1c5610(0x4d2)][_0x1c5610(0x5d0)]();_0x26b792-_0x72427d>_0x40c8a4&&(de[_0x1c5610(0x418)][_0x1c5610(0x3b2)](_0x38388b),console[_0x1c5610(0x174)](_0x1c5610(0x11a)+_0x318a7c));}),setTimeout(()=>uo(_0x4ef814),_0x2293ab);};function sr(){const _0x45dd0e=a0_0x2caf34;let _0x1cb3f1=new N(_0x45dd0e(0x175)),_0x565484=(0x0,pe[_0x45dd0e(0x418)])();_0x565484[_0x45dd0e(0x4c3)]((0x0,lo[_0x45dd0e(0x418)])({'origin'(_0x2e4994,_0x1c01f0){const _0x11bcee=_0x45dd0e;let {ORIGIN:_0x2b450b}=E[_0x11bcee(0x54d)](_0x11bcee(0x180));return _0x2e4994||(_0x2e4994='*'),_0x2b450b[_0x11bcee(0x3c1)]('*')!==-0x1||_0x2b450b[_0x11bcee(0x3c1)](_0x2e4994)!==-0x1?_0x1c01f0(null,!0x0):_0x1c01f0(new Error(_0x11bcee(0x211)));},'methods':[...E['get'](_0x45dd0e(0x180))[_0x45dd0e(0x358)]],'credentials':E[_0x45dd0e(0x54d)](_0x45dd0e(0x180))[_0x45dd0e(0x521)]}),(0x0,pe[_0x45dd0e(0xf8)])({'extended':!0x0,'limit':'50mb'}),(0x0,pe[_0x45dd0e(0x38a)])({'limit':_0x45dd0e(0x5ab)})),_0x565484[_0x45dd0e(0x4c3)]((_0x832943,_0x343ffa,_0x35be48)=>{const _0x830b3b=_0x45dd0e;_0x832943['path'][_0x830b3b(0x601)](_0x830b3b(0x510))?_0x35be48():(0x0,co['default'])()(_0x832943,_0x343ffa,_0x35be48);}),_0x565484[_0x45dd0e(0x16d)](_0x45dd0e(0x67d),'hbs'),_0x565484[_0x45dd0e(0x16d)](_0x45dd0e(0x56c),(0x0,bs[_0x45dd0e(0x2be)])(Q,'views')),_0x565484[_0x45dd0e(0x4c3)](pe['default'][_0x45dd0e(0x679)]((0x0,bs['join'])(Q,_0x45dd0e(0x5c2)))),_0x565484[_0x45dd0e(0x4c3)]((_0x3ea3b9,_0x18fa73,_0x399435)=>{const _0x20ec8f=_0x45dd0e;let _0x232fd9=_0x18fa73[_0x20ec8f(0x60b)];_0x18fa73[_0x20ec8f(0x60b)]=function(_0x8dccc5){const _0x3763a0=_0x20ec8f;if(_0x3ea3b9['query'][_0x3763a0(0xbe)]===_0x3763a0(0x5fd)||_0x3ea3b9[_0x3763a0(0x2f0)]['uazapi']===_0x3763a0(0x5fd)){let _0x1db70b=JSON[_0x3763a0(0x44d)](_0x8dccc5);_0x8dccc5=JSON[_0x3763a0(0xff)](_0x4140a4(_0x1db70b));}return _0x232fd9[_0x3763a0(0x5f4)](_0x18fa73,[_0x8dccc5]);},_0x399435();}),_0x565484[_0x45dd0e(0x4c3)]('/',vt),_0x565484[_0x45dd0e(0x4c3)]((_0x1d9711,_0x59cc79,_0x1329dc,_0x556bc5)=>{const _0xd8c189=_0x45dd0e;if(_0x1d9711)return _0x1329dc[_0xd8c189(0x505)](_0x1d9711[_0xd8c189(0x505)]||0x1f4)[_0xd8c189(0x38a)](_0x1d9711);},(_0x50535b,_0x106fbf,_0x418a22)=>{const _0x3df7ff=_0x45dd0e;let {method:_0x385c8e,url:_0x4a87b6}=_0x50535b;_0x106fbf[_0x3df7ff(0x505)](0x194)[_0x3df7ff(0x38a)]({'status':0x194,'message':_0x3df7ff(0x46b)+_0x385c8e['toUpperCase']()+'\x20'+_0x4a87b6,'error':'Not\x20Found'}),_0x418a22();});let _0x4140a4=(_0x5398bf,_0x18249a='_p_')=>{const _0x47f05f=_0x45dd0e;let _0x3ab81d=(_0x54bf70,_0x4d706c=null,_0x2dcea9=!0x1)=>{const _0x545b40=a0_0x54b4;let _0x12a0e3={};return Object[_0x545b40(0x3d5)](_0x54bf70)['forEach'](_0x48d816=>{const _0x4f15e4=_0x545b40;let _0xb3d217=_0x54bf70[_0x48d816],_0x105b16=''+_0x18249a+_0x48d816;_0x4d706c&&!_0x2dcea9&&(_0x105b16=_0x4d706c+'.'+_0x48d816),!_0xb3d217&&_0xb3d217!==0x0&&_0xb3d217!==!0x1||typeof _0xb3d217>'u'?_0x12a0e3[_0x105b16]=null:typeof _0xb3d217!=_0x4f15e4(0x3f1)&&!Array['isArray'](_0xb3d217)?_0x12a0e3[_0x105b16]=_0xb3d217:typeof _0xb3d217==_0x4f15e4(0x3f1)&&!Array[_0x4f15e4(0x21a)](_0xb3d217)?_0x12a0e3=Object['assign'](_0x12a0e3,_0x3ab81d(_0xb3d217,_0x105b16)):Array[_0x4f15e4(0x21a)](_0xb3d217)&&(typeof _0xb3d217[0x0]=='object'?(_0x12a0e3[_0x105b16]=[],_0xb3d217[_0x4f15e4(0x369)](_0x2c736e=>{const _0x279e58=_0x4f15e4;_0x12a0e3[_0x105b16][_0x279e58(0x334)](_0x3ab81d(_0x2c736e,_0x105b16,!0x0));})):_0x12a0e3[_0x105b16]=_0xb3d217);}),_0x12a0e3;};return Array[_0x47f05f(0x21a)](_0x5398bf)?_0x5398bf[_0x47f05f(0x566)](_0x216a3c=>_0x3ab81d(_0x216a3c)):typeof _0x5398bf=='object'&&_0x5398bf!==null?_0x3ab81d(_0x5398bf):{};},_0x145a5e=E[_0x45dd0e(0x54d)](_0x45dd0e(0x175));Re[_0x45dd0e(0x65f)]=_0x565484;let _0x11bd8b=Re[_0x145a5e[_0x45dd0e(0x301)]],_0x2fd343=_0x45dd0e(0x656);_0x11bd8b[_0x45dd0e(0x276)](_0x145a5e[_0x45dd0e(0x584)],()=>{const _0x5751ba=_0x45dd0e;_0x1cb3f1[_0x5751ba(0x174)](_0x2fd343),_0x1cb3f1[_0x5751ba(0x174)](_0x145a5e[_0x5751ba(0x301)][_0x5751ba(0x3ba)]()+_0x5751ba(0x218)+_0x145a5e['PORT']);}),tr(),_s();}var ar=a0_0x2caf34(0x468),or=Ie[a0_0x2caf34(0x418)]['join'](__dirname,a0_0x2caf34(0x503)),Ae=null;function rr(){return new Promise((_0x3be20e,_0x5be0d9)=>{const _0x1c4c3a=a0_0x54b4;de['default'][_0x1c4c3a(0x269)](or,_0x1c4c3a(0x5d8),(_0x12f1b9,_0x382818)=>{const _0x5d7510=_0x1c4c3a;if(_0x12f1b9){Ae=_0x12f1b9,_0x3be20e();return;}po[_0x5d7510(0x418)]['parse'](_0x382818)['remote\x20\x22origin\x22'][_0x5d7510(0x61d)]===ar?(Ae=null,_0x3be20e()):(Ae=new Error(_0x5d7510(0x25c)),_0x3be20e());});});}async function ir(){const _0x429994=a0_0x2caf34;try{await rr(),await Ss();}catch(_0x3adf4a){console[_0x429994(0x348)](_0x429994(0xe7)+_0x3adf4a),process[_0x429994(0x677)](0x1);}}ir();async function go(){const _0x2f8194=a0_0x2caf34;let _0x13f7fa;try{_0x13f7fa=(await Me[_0x2f8194(0x418)][_0x2f8194(0x54d)](_0x2f8194(0x98)))[_0x2f8194(0x51b)]['ip'];}catch(_0x15606e){console['error'](_0x15606e);try{_0x13f7fa=(await Me['default'][_0x2f8194(0x54d)](_0x2f8194(0x395)))[_0x2f8194(0x51b)]['ip'];}catch(_0x4de429){console[_0x2f8194(0x348)](_0x4de429);try{_0x13f7fa=(await Me[_0x2f8194(0x418)][_0x2f8194(0x54d)](_0x2f8194(0x2c2)))[_0x2f8194(0x51b)][_0x2f8194(0x472)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xa2a22e){return console[_0x2f8194(0x348)](_0xa2a22e),!0x1;}}}return _0x13f7fa;}var io=0x0;async function nr(){const _0x58538a=a0_0x2caf34;let _0x12caff=E[_0x58538a(0x54d)](_0x58538a(0x3e1)),_0xc8fc45=E[_0x58538a(0x54d)](_0x58538a(0x5a4))[_0x58538a(0x386)]['KEY'],_0x148813=E['get'](_0x58538a(0x2e2)),_0x55765e=await go(),_0x5a6199=E[_0x58538a(0x54d)](_0x58538a(0x175))[_0x58538a(0x584)];try{let _0x430158={'ip':_0x55765e||null,'redis_enable':_0x12caff?.['ENABLED']||null,'apikey':_0xc8fc45||null,'ssl':_0x148813?.[_0x58538a(0x57a)]||null,'lastupdate':mo||null,'port':_0x5a6199||null,'gitInstallError':Ae?.[_0x58538a(0x5c9)]||null};console[_0x58538a(0x174)](_0x58538a(0x66a),_0x430158['ip']);for(let _0x3630a5 in _0x430158)_0x430158[_0x58538a(0x1c7)](_0x3630a5)&&_0x3630a5!=='ip'&&(_0x430158[_0x3630a5]=JSON[_0x58538a(0xff)](_0x430158[_0x3630a5]));return(await Me[_0x58538a(0x418)][_0x58538a(0x4d3)](_0x58538a(0x27b),_0x430158))['data'];}catch(_0x157854){return console[_0x58538a(0x348)](_0x157854),!0x1;}}var ys=!0x1,mo=0x20f,cr=0x3,no=0x1b7740;async function Ss(){const _0x524e6b=a0_0x2caf34;if(!await go())return console[_0x524e6b(0x348)](_0x524e6b(0x50e)),'NO_IP';let _0x2ee16b=await nr();if(_0x2ee16b){if(_0x2ee16b[_0x524e6b(0x21e)][_0x524e6b(0x1ee)]===!0x0){E['get'](_0x524e6b(0x2e2))[_0x524e6b(0x57a)]['includes'](_0x524e6b(0x4ed))&&_0x2ee16b[_0x524e6b(0x21e)][_0x524e6b(0x3db)]&&await dr(_0x2ee16b[_0x524e6b(0x21e)][_0x524e6b(0x3db)],ur),Ae===null&&_0x2ee16b['response'][_0x524e6b(0x1be)]-mo>0x0&&await lr(),ys||(ys=!0x0,sr());let _0x289da3=0x24*0x3c*0x3c,_0x38b7cd=_0x2ee16b[_0x524e6b(0x21e)][_0x524e6b(0x2e4)]>_0x289da3?_0x289da3:_0x2ee16b[_0x524e6b(0x21e)]['segundos'],_0x1b9052=Number(_0x38b7cd);if(isNaN(_0x1b9052)){console[_0x524e6b(0x348)]('interval\x20não\x20é\x20um\x20número');return;}let _0x33e5aa=Math[_0x524e6b(0x4ae)](_0x1b9052/0xe10),_0x4d9d7a=Math['floor'](_0x1b9052%0xe10/0x3c),_0x39769b=new Date(Date['now']()+_0x1b9052*0x3e8);setTimeout(Ss,_0x1b9052*0x3e8);let _0x499d25=_0x2d52ff=>_0x2d52ff[_0x524e6b(0x3c2)]()['padStart'](0x2,'0'),_0x5057c4=_0x524e6b(0x344)+_0x499d25(_0x33e5aa)+_0x524e6b(0x597)+_0x499d25(_0x4d9d7a)+'\x20minutos.\x20Será\x20às\x20'+_0x499d25(_0x39769b[_0x524e6b(0xed)]())+':'+_0x499d25(_0x39769b[_0x524e6b(0x585)]())+'.';console['log'](_0x5057c4);}else return console[_0x524e6b(0x174)](_0x524e6b(0x58f)),ys&&(console[_0x524e6b(0x174)](_0x524e6b(0x681)),process[_0x524e6b(0x677)]()),'LICENSE_INVALID';}else{if(io++,io<cr)console[_0x524e6b(0x174)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+no/0xea60+'\x20minutos...'),setTimeout(Ss,no);else return console[_0x524e6b(0x348)](_0x524e6b(0x538)),_0x524e6b(0x56b);}}function a0_0x54b4(_0x2a2474,_0x143d4a){const _0x53f039=a0_0x53f0();return a0_0x54b4=function(_0x54b46f,_0x192ecf){_0x54b46f=_0x54b46f-0x90;let _0x3e8f54=_0x53f039[_0x54b46f];return _0x3e8f54;},a0_0x54b4(_0x2a2474,_0x143d4a);}async function lr(){const _0x137ee1=a0_0x2caf34;console[_0x137ee1(0x174)](_0x137ee1(0x5fc));let _0x11f83e=(0x0,De[_0x137ee1(0x5b9)])(_0x137ee1(0x4cc),{'shell':!0x0});_0x11f83e[_0x137ee1(0x658)]['on']('data',_0x4eb529=>{const _0x1bf3e7=_0x137ee1;console[_0x1bf3e7(0x174)](_0x1bf3e7(0x669)+_0x4eb529);}),_0x11f83e[_0x137ee1(0x49e)]['on'](_0x137ee1(0x51b),_0x4d71fd=>{const _0x4c1e6b=_0x137ee1;console[_0x4c1e6b(0x348)]('Erro\x20de\x20atualização:\x20'+_0x4d71fd);}),_0x11f83e['on']('exit',_0x41ae27=>{const _0x5ad363=_0x137ee1;_0x41ae27!==0x0?console['error'](_0x5ad363(0xd0)+_0x41ae27):console[_0x5ad363(0x174)](_0x5ad363(0x206)),console[_0x5ad363(0x174)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}var ur=Ie[a0_0x2caf34(0x418)][a0_0x2caf34(0x2be)](__dirname,'env.yml');async function dr(_0x132cf4,_0x45b996){const _0x24ca57=a0_0x2caf34;let _0x517c9f=gr();_0x132cf4=_0x132cf4[_0x24ca57(0xb1)]('.uazapi.dev','');try{let _0x3f721b=de['default'][_0x24ca57(0x3be)](_0x45b996,'utf8');_0x3f721b=_0x3f721b[_0x24ca57(0xb1)](/<apikey>/,_0x517c9f),_0x3f721b=_0x3f721b[_0x24ca57(0xb1)](/<subdomain>/g,_0x132cf4),de['default'][_0x24ca57(0x19c)](_0x45b996,_0x3f721b,_0x24ca57(0x432)),console[_0x24ca57(0x174)](_0x24ca57(0x67f)),pr(_0x132cf4),console[_0x24ca57(0x174)](_0x24ca57(0x336)),setTimeout(()=>mr(),0x2710);}catch(_0x41b9ed){console[_0x24ca57(0x348)](_0x24ca57(0x5b4),_0x41b9ed);}}function pr(_0x58cb61){const _0x28aa46=a0_0x2caf34;let _0x59ddb6=_0x28aa46(0x373),_0x50f642=_0x58cb61+_0x28aa46(0x200),_0x5c68c5=_0x28aa46(0x595)+_0x59ddb6+'\x20--agree-tos\x20-d\x20'+_0x50f642;(0x0,De[_0x28aa46(0x3d1)])(_0x5c68c5,(_0x3fbd84,_0x47e13a,_0x3d16e2)=>{const _0x133cc4=_0x28aa46;if(_0x3fbd84){console[_0x133cc4(0x348)](_0x133cc4(0x94)+_0x3fbd84[_0x133cc4(0x5c9)]);return;}if(_0x3d16e2){console[_0x133cc4(0x348)](_0x133cc4(0x659)+_0x3d16e2);return;}console[_0x133cc4(0x174)]('Certbot\x20executado\x20com\x20sucesso:\x20'+_0x47e13a);});}function gr(_0x1816fb=0x32){const _0x565a69=a0_0x2caf34;let _0x3b9de4=_0x565a69(0x43a),_0x5dc8b1='';for(let _0x4a3cce=0x0;_0x4a3cce<_0x1816fb;_0x4a3cce++)_0x5dc8b1+=_0x3b9de4['charAt'](Math[_0x565a69(0x4ae)](Math[_0x565a69(0x5ca)]()*_0x3b9de4[_0x565a69(0x59b)]));return _0x5dc8b1;}function mr(){const _0x5382cb=a0_0x2caf34;(0x0,De[_0x5382cb(0x3d1)])(_0x5382cb(0x580),(_0x4cd567,_0x5214c6,_0x264f24)=>{const _0x43e502=_0x5382cb;if(_0x4cd567){console[_0x43e502(0x348)](_0x43e502(0x2af)+_0x4cd567);return;}if(_0x264f24){console['error'](_0x43e502(0x4fd)+_0x264f24);return;}console[_0x43e502(0x174)](_0x43e502(0x474)+_0x5214c6);});}