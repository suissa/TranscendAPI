const a0_0x2b042e=a0_0x2c3b;(function(_0x15b1e7,_0x1c70b5){const _0x40a17a=a0_0x2c3b,_0x6cc48d=_0x15b1e7();while(!![]){try{const _0x39eb38=-parseInt(_0x40a17a(0x879))/0x1*(parseInt(_0x40a17a(0x896))/0x2)+parseInt(_0x40a17a(0x802))/0x3*(parseInt(_0x40a17a(0x6a1))/0x4)+-parseInt(_0x40a17a(0x2e4))/0x5*(parseInt(_0x40a17a(0x31d))/0x6)+parseInt(_0x40a17a(0x822))/0x7*(parseInt(_0x40a17a(0x4b6))/0x8)+parseInt(_0x40a17a(0x375))/0x9+-parseInt(_0x40a17a(0x874))/0xa+parseInt(_0x40a17a(0x75c))/0xb*(parseInt(_0x40a17a(0x73e))/0xc);if(_0x39eb38===_0x1c70b5)break;else _0x6cc48d['push'](_0x6cc48d['shift']());}catch(_0x3060fd){_0x6cc48d['push'](_0x6cc48d['shift']());}}}(a0_0x1876,0xab315));var Hi=Object[a0_0x2b042e(0x5d4)],Be=Object['defineProperty'],Ki=Object[a0_0x2b042e(0x898)],Qi=Object[a0_0x2b042e(0x304)],Yi=Object[a0_0x2b042e(0x3d7)],Xi=Object[a0_0x2b042e(0x7a5)][a0_0x2b042e(0x517)],Zi=(_0x4f65ec,_0x392b3c)=>{for(var _0x51167e in _0x392b3c)Be(_0x4f65ec,_0x51167e,{'get':_0x392b3c[_0x51167e],'enumerable':!0x0});},Ws=(_0x53679c,_0x76d084,_0x437f5c,_0xb24620)=>{const _0x22ab1b=a0_0x2b042e;if(_0x76d084&&typeof _0x76d084==_0x22ab1b(0x880)||typeof _0x76d084==_0x22ab1b(0x48d)){for(let _0x2d4bab of Qi(_0x76d084))!Xi[_0x22ab1b(0x410)](_0x53679c,_0x2d4bab)&&_0x2d4bab!==_0x437f5c&&Be(_0x53679c,_0x2d4bab,{'get':()=>_0x76d084[_0x2d4bab],'enumerable':!(_0xb24620=Ki(_0x76d084,_0x2d4bab))||_0xb24620[_0x22ab1b(0x836)]});}return _0x53679c;},I=(_0x3e8833,_0x4af08c,_0x3fa5c2)=>(_0x3fa5c2=_0x3e8833!=null?Hi(Yi(_0x3e8833)):{},Ws(_0x4af08c||!_0x3e8833||!_0x3e8833['__esModule']?Be(_0x3fa5c2,a0_0x2b042e(0x1f4),{'value':_0x3e8833,'enumerable':!0x0}):_0x3fa5c2,_0x3e8833)),eo=_0x5e9f57=>Ws(Be({},'__esModule',{'value':!0x0}),_0x5e9f57),gr={};Zi(gr,{'fullURL':()=>Gs,'subdomain':()=>ee}),module[a0_0x2b042e(0x824)]=eo(gr);var qi=I(require('compression')),Hs=require('fs'),Ks=require(a0_0x2b042e(0x3e6)),Qs=require(a0_0x2b042e(0x1f5)),We=require('path'),ue=process[a0_0x2b042e(0x920)](),Me=(0x0,We[a0_0x2b042e(0x8f2)])(ue,a0_0x2b042e(0x649)),zs=(0x0,We[a0_0x2b042e(0x8f2)])(ue,'src'),an=(0x0,We[a0_0x2b042e(0x8f2)])(ue,'store','auth'),ps=class{constructor(){this['loadEnv']();}[a0_0x2b042e(0x7e0)](_0x4e4c2a){const _0x4111c2=a0_0x2b042e;return this[_0x4111c2(0x451)][_0x4e4c2a];}[a0_0x2b042e(0x66c)](){const _0x2aebbb=a0_0x2b042e;this[_0x2aebbb(0x451)]=process[_0x2aebbb(0x451)]?.[_0x2aebbb(0x7e7)]!==_0x2aebbb(0x2df)?this[_0x2aebbb(0x613)]():this['envProcess'](),process['env']?.[_0x2aebbb(0x7e7)]===_0x2aebbb(0x2df)&&(this[_0x2aebbb(0x451)]['SERVER'][_0x2aebbb(0x759)]=_0x2aebbb(0x50d),this[_0x2aebbb(0x451)][_0x2aebbb(0x643)][_0x2aebbb(0x872)]=Number[_0x2aebbb(0x29d)](process[_0x2aebbb(0x451)]?.[_0x2aebbb(0x346)]??'8080'));}[a0_0x2b042e(0x613)](){const _0xa824f7=a0_0x2b042e;return(0x0,Ks[_0xa824f7(0x402)])((0x0,Hs[_0xa824f7(0x51a)])((0x0,Qs[_0xa824f7(0x8f2)])(zs,_0xa824f7(0x5bd)),{'encoding':_0xa824f7(0x4cc)}));}[a0_0x2b042e(0x544)](){const _0x1a5f0d=a0_0x2b042e;return{'SERVER':{'TYPE':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x672)],'PORT':Number[_0x1a5f0d(0x29d)](process[_0x1a5f0d(0x451)][_0x1a5f0d(0x346)]),'URL':process['env'][_0x1a5f0d(0x61f)]},'CORS':{'ORIGIN':process[_0x1a5f0d(0x451)]['CORS_ORIGIN']['split'](','),'METHODS':process['env'][_0x1a5f0d(0x7d7)][_0x1a5f0d(0x5d7)](','),'CREDENTIALS':process[_0x1a5f0d(0x451)]?.['CORS_CREDENTIALS']===_0x1a5f0d(0x2df)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x1a5f0d(0x49f)],'FULLCHAIN':process['env']?.[_0x1a5f0d(0x47a)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x1a5f0d(0x451)]?.[_0x1a5f0d(0x4b9)])?Number['parseInt'](process['env'][_0x1a5f0d(0x4b9)]):void 0x0,'MESSAGES':process[_0x1a5f0d(0x451)]?.[_0x1a5f0d(0x1fc)]===_0x1a5f0d(0x2df),'CONTACTS':process[_0x1a5f0d(0x451)]?.[_0x1a5f0d(0x390)]==='true','CHATS':process['env']?.[_0x1a5f0d(0x382)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x1a5f0d(0x451)]?.[_0x1a5f0d(0x71f)],'PORT':Number[_0x1a5f0d(0x29d)](process['env']?.[_0x1a5f0d(0x71f)]),'USER':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x605)],'PASSWORD':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x785)],'URI':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x856)],'DB_PREFIX_NAME':process['env'][_0x1a5f0d(0x2b3)]},'ENABLED':process[_0x1a5f0d(0x451)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x1a5f0d(0x2df),'URI':process['env'][_0x1a5f0d(0x342)]||_0x1a5f0d(0x87f),'PREFIX_KEY':process[_0x1a5f0d(0x451)]['REDIS_PREFIX_KEY']||_0x1a5f0d(0x606)},'LOG':{'LEVEL':process[_0x1a5f0d(0x451)]?.['LOG_LEVEL'][_0x1a5f0d(0x5d7)](','),'COLOR':process['env']?.[_0x1a5f0d(0x5c9)]==='true'},'PROXY':process['env']?.[_0x1a5f0d(0x42b)]===_0x1a5f0d(0x2df),'AUTHENTICATION':{'TYPE':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x416)],'API_KEY':{'KEY':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x247)]},'JWT':{'EXPIRIN_IN':Number[_0x1a5f0d(0x6cf)](process[_0x1a5f0d(0x451)]?.[_0x1a5f0d(0x6d5)])?Number[_0x1a5f0d(0x29d)](process[_0x1a5f0d(0x451)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x1a5f0d(0x451)][_0x1a5f0d(0x74f)]}}};}},S=new ps(),Vi=I(require(a0_0x2b042e(0x7b7))),Se=I(require('express')),qs=require(a0_0x2b042e(0x1f5)),hs=I(require(a0_0x2b042e(0x50a))),gs=(_0x5874f1=>(_0x5874f1[a0_0x2b042e(0x8e6)]=a0_0x2b042e(0x774),_0x5874f1[a0_0x2b042e(0x854)]=a0_0x2b042e(0x7e4),_0x5874f1[a0_0x2b042e(0x80d)]='\x1b[33m',_0x5874f1[a0_0x2b042e(0x5ca)]=a0_0x2b042e(0x35f),_0x5874f1[a0_0x2b042e(0x453)]='\x1b[36m',_0x5874f1[a0_0x2b042e(0x531)]=a0_0x2b042e(0x8dd),_0x5874f1[a0_0x2b042e(0x63a)]='\x1b[30m',_0x5874f1))(gs||{}),Ys=(_0x20d43c=>(_0x20d43c[a0_0x2b042e(0x8e6)]=a0_0x2b042e(0x520),_0x20d43c[a0_0x2b042e(0x63a)]='\x1b[30m%s\x1b[0m',_0x20d43c['INFO']=a0_0x2b042e(0x24b),_0x20d43c[a0_0x2b042e(0x80d)]=a0_0x2b042e(0x3d3),_0x20d43c[a0_0x2b042e(0x5ca)]=a0_0x2b042e(0x479),_0x20d43c[a0_0x2b042e(0x453)]='\x1b[36m%s\x1b[0m',_0x20d43c[a0_0x2b042e(0x531)]=a0_0x2b042e(0x5e8),_0x20d43c))(Ys||{}),Xs=(_0x461982=>(_0x461982['LOG']=a0_0x2b042e(0x8e6),_0x461982[a0_0x2b042e(0x80d)]=a0_0x2b042e(0x80d),_0x461982['INFO']='INFO',_0x461982[a0_0x2b042e(0x63a)]=a0_0x2b042e(0x63a),_0x461982[a0_0x2b042e(0x5ca)]='ERROR',_0x461982['DEBUG']=a0_0x2b042e(0x453),_0x461982[a0_0x2b042e(0x531)]=a0_0x2b042e(0x531),_0x461982))(Xs||{}),Zs=(_0x1b89d=>(_0x1b89d[a0_0x2b042e(0x8e6)]=a0_0x2b042e(0x483),_0x1b89d['INFO']='\x1b[44m',_0x1b89d[a0_0x2b042e(0x80d)]=a0_0x2b042e(0x59d),_0x1b89d['DARK']=a0_0x2b042e(0x581),_0x1b89d['ERROR']='\x1b[41m',_0x1b89d[a0_0x2b042e(0x453)]=a0_0x2b042e(0x27d),_0x1b89d[a0_0x2b042e(0x531)]=a0_0x2b042e(0x881),_0x1b89d))(Zs||{}),$=class{constructor(_0x5d498d=a0_0x2b042e(0x266)){const _0x35b5cd=a0_0x2b042e;this['context']=_0x5d498d,this[_0x35b5cd(0x865)]=S;}[a0_0x2b042e(0x699)](_0x5eb818){this['context']=_0x5eb818;}['console'](_0x1b6d7e,_0x4ef656){const _0x34cdf2=a0_0x2b042e;let _0x205df3=[];this[_0x34cdf2(0x865)][_0x34cdf2(0x7e0)](_0x34cdf2(0x8e6))[_0x34cdf2(0x23d)]['forEach'](_0x332bbf=>_0x205df3[_0x34cdf2(0x2f6)](Xs[_0x332bbf]));let _0xcb2bc3=typeof _0x1b6d7e;_0x205df3[_0x34cdf2(0x8ef)](_0x4ef656)&&(S[_0x34cdf2(0x7e0)]('LOG')[_0x34cdf2(0x50c)]?(console[_0x34cdf2(0x364)](_0x34cdf2(0x512)+Ys[_0x4ef656],_0x34cdf2(0x2eb),(0x0,hs[_0x34cdf2(0x1f4)])()['format'](_0x34cdf2(0x214)),_0x34cdf2(0x26f),gs[_0x4ef656]+Zs[_0x4ef656]+_0x34cdf2(0x512),_0x4ef656+_0x34cdf2(0x8d2),'\x1b[33m\x1b[1m',this[_0x34cdf2(0x2f4)]+_0x34cdf2(0x26f),gs[_0x4ef656],_0xcb2bc3!==_0x34cdf2(0x880)?_0x1b6d7e:'','\x1b[0m'),_0xcb2bc3==='object'&&console[_0x34cdf2(0x364)](_0x1b6d7e,'\x0a')):console['log']((0x0,hs['default'])()[_0x34cdf2(0x6bd)](_0x34cdf2(0x372)),_0x4ef656+'\x20',''+this['context'],_0x1b6d7e));}['log'](_0x5f158f){const _0x3adea6=a0_0x2b042e;this[_0x3adea6(0x4e0)](_0x5f158f,_0x3adea6(0x8e6));}[a0_0x2b042e(0x246)](_0x196357){const _0x6054d1=a0_0x2b042e;this[_0x6054d1(0x4e0)](_0x196357,_0x6054d1(0x854));}[a0_0x2b042e(0x537)](_0x70b35){const _0x243861=a0_0x2b042e;this[_0x243861(0x4e0)](_0x70b35,_0x243861(0x80d));}[a0_0x2b042e(0x71a)](_0x542486){const _0x2b6aaa=a0_0x2b042e;this['console'](_0x542486,_0x2b6aaa(0x5ca));}[a0_0x2b042e(0x642)](_0x595b59){const _0x15702b=a0_0x2b042e;this[_0x15702b(0x4e0)](_0x595b59,_0x15702b(0x531));}['debug'](_0x29f44b){const _0x21561b=a0_0x2b042e;this[_0x21561b(0x4e0)](_0x29f44b,_0x21561b(0x453));}['dark'](_0x2d006f){const _0x1fb3f1=a0_0x2b042e;this[_0x1fb3f1(0x4e0)](_0x2d006f,'DARK');}};function ea(){const _0x29322f=a0_0x2b042e;process['on'](_0x29322f(0x583),(_0x310fa4,_0x46c3b4)=>{const _0x1fe3e2=_0x29322f;new $(_0x1fe3e2(0x583))[_0x1fe3e2(0x71a)]({'origin':_0x46c3b4,'stderr':process[_0x1fe3e2(0x658)]['fd'],'error':_0x310fa4});}),process['on'](_0x29322f(0x634),(_0x3ca68e,_0x37e8e9)=>{const _0x5b7c2b=_0x29322f;new $(_0x5b7c2b(0x634))[_0x5b7c2b(0x71a)]({'origin':_0x37e8e9,'stderr':process[_0x5b7c2b(0x658)]['fd'],'error':_0x3ca68e});});}var ta=I(require(a0_0x2b042e(0x860))),ms=new ta[(a0_0x2b042e(0x1f4))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require('mongoose'),Ie=I(require('mongoose')),ze=new $(a0_0x2b042e(0x833)),j=S[a0_0x2b042e(0x7e0)](a0_0x2b042e(0x3de)),A=j['ENABLED']?j[a0_0x2b042e(0x912)]['URI']?Ie[a0_0x2b042e(0x1f4)][a0_0x2b042e(0x294)](j['CONNECTION'][a0_0x2b042e(0x6df)],{'dbName':j[a0_0x2b042e(0x912)][a0_0x2b042e(0x60f)]+'-whatsapp-api'}):Ie['default'][a0_0x2b042e(0x294)](a0_0x2b042e(0x65e)+j[a0_0x2b042e(0x912)][a0_0x2b042e(0x3df)]+':'+j[a0_0x2b042e(0x912)]['PORT']+a0_0x2b042e(0x370),{'user':j['CONNECTION']['USER'],'pass':j[a0_0x2b042e(0x912)][a0_0x2b042e(0x5ea)],'dbName':j[a0_0x2b042e(0x912)]['DB_PREFIX_NAME']+a0_0x2b042e(0x7c6)}):null;j[a0_0x2b042e(0x460)]&&ze[a0_0x2b042e(0x246)](a0_0x2b042e(0x85c)+A['$dbName']);var de=j[a0_0x2b042e(0x460)]?j[a0_0x2b042e(0x912)][a0_0x2b042e(0x6df)]?Ie[a0_0x2b042e(0x1f4)][a0_0x2b042e(0x294)](j[a0_0x2b042e(0x912)][a0_0x2b042e(0x6df)],{'dbName':a0_0x2b042e(0x2f9)}):Ie['default']['createConnection'](a0_0x2b042e(0x65e)+j['CONNECTION'][a0_0x2b042e(0x3df)]+':'+j[a0_0x2b042e(0x912)][a0_0x2b042e(0x872)]+a0_0x2b042e(0x370),{'user':j[a0_0x2b042e(0x912)][a0_0x2b042e(0x8d7)],'pass':j[a0_0x2b042e(0x912)][a0_0x2b042e(0x5ea)],'dbName':a0_0x2b042e(0x4c3)}):null;de&&ze['info'](a0_0x2b042e(0x85c)+de[a0_0x2b042e(0x325)]),process['on'](a0_0x2b042e(0x656),()=>{const _0x5deb73=a0_0x2b042e;A&&A[_0x5deb73(0x409)](()=>{const _0x327d8f=_0x5deb73;ze[_0x327d8f(0x246)]('Database\x20connection\x20closed.');}),de&&de[_0x5deb73(0x409)](()=>{const _0x51b566=_0x5deb73;ze['info'](_0x51b566(0x207));});});function a0_0x2c3b(_0x125677,_0x202af3){const _0x1876b7=a0_0x1876();return a0_0x2c3b=function(_0x2c3ba9,_0x40bdbe){_0x2c3ba9=_0x2c3ba9-0x1e2;let _0x5c9208=_0x1876b7[_0x2c3ba9];return _0x5c9208;},a0_0x2c3b(_0x125677,_0x202af3);}var to=new Ce[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x2b042e(0x377))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x2b042e(0x377))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x20f2e2=>{const _0x1e3b26=a0_0x2b042e;let _0x5f4840='z_'+_0x20f2e2+'_Chats';return A?.[_0x1e3b26(0x45f)](_0x1e3b26(0x57a),oo,_0x5f4840);},aa=require(a0_0x2b042e(0x5a9)),ro=new aa[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x4159bc=>{const _0x25f40c=a0_0x2b042e;let _0x44054e='z_'+_0x4159bc+'_Contacts';return A?.['model'](_0x25f40c(0x297),ro,_0x44054e);},oa=require(a0_0x2b042e(0x5a9)),fs=class{},no=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=de?.[a0_0x2b042e(0x45f)](fs[a0_0x2b042e(0x69b)],no,a0_0x2b042e(0x355)),na=require(a0_0x2b042e(0x5a9)),ws=class{},co=new na[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=de?.['model'](ws['name'],co,a0_0x2b042e(0x649)),ca=require(a0_0x2b042e(0x5a9)),lo=new ca[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x59e9cb=>{const _0x12ae89=a0_0x2b042e;let _0x3eab45='z_'+_0x59e9cb+_0x12ae89(0x326);return A?.[_0x12ae89(0x45f)]('MessageModel',lo,_0x3eab45);},ua=require(a0_0x2b042e(0x5a9)),ys=class{},uo=new ua[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=A?.[a0_0x2b042e(0x45f)](ys[a0_0x2b042e(0x69b)],uo,a0_0x2b042e(0x43c)),pa=require(a0_0x2b042e(0x5a9)),bs=class{},ha=new pa[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha[a0_0x2b042e(0x5b2)](a0_0x2b042e(0x691),function(_0x371513){const _0x2fa33f=a0_0x2b042e;delete this[_0x2fa33f(0x88d)],delete this[_0x2fa33f(0x570)],delete this[_0x2fa33f(0x4b5)],delete this[_0x2fa33f(0x4ac)],delete this['flowStopMinutes'],_0x371513();});var ga=A?.['model'](bs[a0_0x2b042e(0x69b)],ha,'webhook'),D=require(a0_0x2b042e(0x5a9)),Ss=require(a0_0x2b042e(0x480)),Ke=class{},fa=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D[(a0_0x2b042e(0x377))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new D[(a0_0x2b042e(0x377))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2b042e(0x718)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2b042e(0x5b1)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new D[(a0_0x2b042e(0x377))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new D[(a0_0x2b042e(0x377))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new D[(a0_0x2b042e(0x377))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new D[(a0_0x2b042e(0x377))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x5f4fd0=a0_0x2b042e;return _0x5f4fd0(0x875)+Math[_0x5f4fd0(0x237)]()[_0x5f4fd0(0x413)](0x24)[_0x5f4fd0(0x526)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa['pre'](a0_0x2b042e(0x56d),function(_0x51f59f){const _0x15d240=a0_0x2b042e;let _0x5080c3=this[_0x15d240(0x87a)]();if(_0x5080c3&&typeof _0x5080c3==_0x15d240(0x880)&&_0x15d240(0x67a)in _0x5080c3){let _0x4ad711=_0x5080c3[_0x15d240(0x67a)];if(_0x4ad711){let _0x408f5b=new Set(),_0x26d4b5=new Set(_0x4ad711['variables']?.[_0x15d240(0x633)](_0x25c173=>_0x25c173['name'])),_0x3bfac5=JSON['stringify'](_0x4ad711),_0x54c4a2=/{{(?!_)([^}]*)}}/g,_0x133d17;for(;(_0x133d17=_0x54c4a2['exec'](_0x3bfac5))!==null;)_0x26d4b5['has'](_0x133d17[0x1])||_0x408f5b[_0x15d240(0x878)](_0x133d17[0x1]);_0x408f5b[_0x15d240(0x873)]>0x0?(console['warn'](_0x15d240(0x5be),Array[_0x15d240(0x223)](_0x408f5b)),_0x4ad711[_0x15d240(0x503)]=Array[_0x15d240(0x223)](_0x408f5b)):_0x4ad711[_0x15d240(0x503)]=[],this[_0x15d240(0x68e)]({'$set':_0x4ad711});}}_0x51f59f();});var Ee=A?.['model'](Cs['name'],Sa,'allFlows'),fo=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2b042e(0x81f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2b042e(0x6e0)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x3273bb=>{const _0x5ad122=a0_0x2b042e;let _0x583243='z_'+_0x3273bb+'_FlowHistorico';return A?.[_0x5ad122(0x45f)](_0x5ad122(0x248),wo,_0x583243);},yo=new D[(a0_0x2b042e(0x377))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new D[(a0_0x2b042e(0x377))]({'_id':{'type':String,'id':!0x0},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new D[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x2b042e(0x757)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x1eb39e=>{const _0x305f77=a0_0x2b042e;let _0x53458a='z_'+_0x1eb39e+_0x305f77(0x2a1);return A?.[_0x305f77(0x45f)](_0x305f77(0x4a9),bo,_0x53458a);},Es=class{},So=new D[(a0_0x2b042e(0x377))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new D[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new D['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new D[(a0_0x2b042e(0x377))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x2b042e(0x82f)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new D[(a0_0x2b042e(0x377))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Te=A?.['model'](Es['name'],No,a0_0x2b042e(0x69f)),Ea=require(a0_0x2b042e(0x5a9)),$o=new Ea[(a0_0x2b042e(0x377))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x200f92=>{const _0x37f044=a0_0x2b042e;let _0x58b4e6='z_'+_0x200f92+_0x37f044(0x59b);return A?.['model']('LabelModel',$o,_0x58b4e6);},O=class{constructor(_0x23d3db){const _0x275c04=a0_0x2b042e;this[_0x275c04(0x36a)]=_0x23d3db['get'](_0x275c04(0x3de));}};function T(_0x515b8c){const _0x55f044=a0_0x2b042e;let _0x304eea={};for(let [_0x304ee9,_0x3763ef]of Object['entries'](_0x515b8c))if(typeof _0x3763ef=='object'&&!Array[_0x55f044(0x330)](_0x3763ef)){for(let [_0x3f4972,_0x268ef4]of Object[_0x55f044(0x894)](_0x3763ef))_0x304eea[_0x304ee9+'.'+_0x3f4972]=_0x268ef4;}else _0x304eea[_0x304ee9]=_0x3763ef;return _0x304eea;}var Qe=class{constructor(_0x5b5b10,_0x4ca2c0,_0x29b22a,_0x32e86c,_0x3517bc,_0x3e00d7,_0x34f928,_0x1bb42c,_0x3d4c77,_0x2f6563,_0x1745b1,_0x41fbb0,_0x2b8239){const _0xbfc1ec=a0_0x2b042e;this[_0xbfc1ec(0x239)]=_0x5b5b10,this['chat']=_0x4ca2c0,this['contact']=_0x29b22a,this[_0xbfc1ec(0x400)]=_0x32e86c,this[_0xbfc1ec(0x5f3)]=_0x3517bc,this[_0xbfc1ec(0x805)]=_0x3e00d7,this[_0xbfc1ec(0x60b)]=_0x34f928,this[_0xbfc1ec(0x1ff)]=_0x1bb42c,this[_0xbfc1ec(0x82e)]=_0x3d4c77,this[_0xbfc1ec(0x72b)]=_0x2f6563,this[_0xbfc1ec(0x52a)]=_0x1745b1,this['automateSystem']=_0x41fbb0,this[_0xbfc1ec(0x236)]=_0x2b8239;}get[a0_0x2b042e(0x1e6)](){return this['dbClient'];}},Ye=class{},Xe=class extends O{['getMessageModelForOwner'](_0x523d1a){return la(_0x523d1a);}async[a0_0x2b042e(0x7e5)](_0x336488,_0xdbd6a5){const _0x283703=a0_0x2b042e;if(_0x336488['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0xdbd6a5)[_0x283703(0x66e)]([..._0x336488]))[_0x283703(0x3f7)]};}catch(_0x2c77fd){return _0x2c77fd;}}async[a0_0x2b042e(0x6da)](_0x416fc2,_0x1004b5){const _0x3df448=a0_0x2b042e;try{let _0x54ef08=this[_0x3df448(0x250)](_0x1004b5),_0x36d45a=T(_0x416fc2[_0x3df448(0x81b)]);return await _0x54ef08[_0x3df448(0x6da)](_0x36d45a)[_0x3df448(0x516)]({'messageTimestamp':-0x1})[_0x3df448(0x3cc)](_0x416fc2?.[_0x3df448(0x3cc)]??0x0)[_0x3df448(0x871)]();}catch{return[];}}async[a0_0x2b042e(0x231)](_0x2ede88,_0xdd36e7){const _0x3df67e=a0_0x2b042e;try{let _0x3eaea2=this[_0x3df67e(0x250)](_0xdd36e7),_0x4ff5c5=T(_0x2ede88[_0x3df67e(0x81b)]);await _0x3eaea2[_0x3df67e(0x88e)](_0x4ff5c5);}catch(_0x21b81a){console[_0x3df67e(0x71a)](_0x21b81a);}}async['update'](_0x119aba,_0x22629e,_0x6be8ce){const _0x4e6a0f=a0_0x2b042e;try{let _0xa9c3b2=this['getMessageModelForOwner'](_0x6be8ce),_0x50fcd2=T(_0x119aba[_0x4e6a0f(0x81b)]);return await _0xa9c3b2[_0x4e6a0f(0x56d)](_0x50fcd2,{'$set':_0x22629e},{'new':!0x0});}catch(_0x2055ff){throw console[_0x4e6a0f(0x71a)](_0x2055ff),_0x2055ff;}}async[a0_0x2b042e(0x66e)](_0x4a7554,_0x39d541){const _0x517f87=a0_0x2b042e;if(_0x4a7554[_0x517f87(0x3f7)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x517f87(0x250)](_0x39d541)[_0x517f87(0x66e)]([..._0x4a7554]))[_0x517f87(0x3f7)]};}catch(_0x3a6b09){return console[_0x517f87(0x364)](_0x517f87(0x466),_0x3a6b09),_0x3a6b09;}}async['deleteAll'](_0x20787f){const _0x592036=a0_0x2b042e;try{return await this['getMessageModelForOwner'](_0x20787f)['collection'][_0x592036(0x748)](),{'success':!0x0};}catch(_0xc03dc3){return console[_0x592036(0x71a)](_0xc03dc3),{'success':!0x1,'error':_0xc03dc3};}}},Ds=I(require(a0_0x2b042e(0x384))),w=I(require(a0_0x2b042e(0x1e9))),Fe=require('fs'),J=I(require(a0_0x2b042e(0x1f5))),Z=I(require(a0_0x2b042e(0x220))),Oi=require(a0_0x2b042e(0x480)),xi=I(require(a0_0x2b042e(0x882))),Di=I(require(a0_0x2b042e(0x38b))),Na=[a0_0x2b042e(0x594),a0_0x2b042e(0x5c8),a0_0x2b042e(0x8b7),a0_0x2b042e(0x8f7),a0_0x2b042e(0x6a2)],$a=[a0_0x2b042e(0x73d),a0_0x2b042e(0x2ed),a0_0x2b042e(0x807),a0_0x2b042e(0x7bf)],Ps=require('os'),Jt=I(require(a0_0x2b042e(0x554))),Ue=require(a0_0x2b042e(0x4fb)),Pi=require(a0_0x2b042e(0x4bd)),we=I(require('mongoose')),F=require(a0_0x2b042e(0x317)),pe=class{constructor(_0xf1c815,_0x3d0ccc,_0x1126f0){const _0x5df721=a0_0x2b042e;this['jid']=_0xf1c815,this[_0x5df721(0x373)]=_0x3d0ccc,this[_0x5df721(0x69b)]=_0x1126f0;}},Ze=class{},et=class{},_e=class{},tt=class{},st=class{},ve=class{},at=class{},it=class{},ot=class{},rt=class{},kt=I(require('express')),Ra=require('fs'),Aa=require(a0_0x2b042e(0x1f5));async function Oe(_0x4fca9c){const _0x50533a=a0_0x2b042e;let _0x31542c=z['waInstances'][_0x4fca9c];if(j['ENABLED']){let _0x14e12e=A[_0x50533a(0x686)]()['db'](j[_0x50533a(0x912)]['DB_PREFIX_NAME']+_0x50533a(0x8e2))['collection'](_0x4fca9c);return _0x31542c||(await _0x14e12e[_0x50533a(0x6da)]({})[_0x50533a(0x4dc)]())[_0x50533a(0x3f7)]>0x0;}return _0x31542c||(0x0,Ra[_0x50533a(0x258)])((0x0,Aa[_0x50533a(0x8f2)])(Me,_0x4fca9c));}async function Ia(_0x41a22a,_0x54c887,_0x11a3c8){const _0x466897=a0_0x2b042e;if(_0x41a22a[_0x466897(0x25c)][_0x466897(0x8ef)](_0x466897(0x2d0))||_0x41a22a['originalUrl']['includes'](_0x466897(0x386))||_0x41a22a[_0x466897(0x25c)][_0x466897(0x8ef)](_0x466897(0x690))||_0x41a22a[_0x466897(0x25c)][_0x466897(0x8ef)](_0x466897(0x292))||_0x41a22a[_0x466897(0x25c)]['includes'](_0x466897(0x674))||_0x41a22a['originalUrl'][_0x466897(0x8ef)](_0x466897(0x3a1))||_0x41a22a[_0x466897(0x25c)][_0x466897(0x8ef)](_0x466897(0x21e)))return _0x11a3c8();let _0x5e333e=_0x41a22a[_0x466897(0x2cd)];if(!_0x5e333e?.[_0x466897(0x3ae)])throw new m(_0x466897(0x680));if(!await Oe(_0x5e333e[_0x466897(0x3ae)]))throw new V(_0x466897(0x85f)+_0x5e333e[_0x466897(0x3ae)]+_0x466897(0x6fb));_0x11a3c8();}async function Ta(_0x383181,_0x2e1284,_0x273a2a){const _0x47f464=a0_0x2b042e;if(_0x383181[_0x47f464(0x25c)]['includes'](_0x47f464(0x2d0))){let _0x214aef=_0x383181['body'];if(await Oe(_0x214aef[_0x47f464(0x3ae)]))throw new se(_0x47f464(0x20d)+_0x214aef[_0x47f464(0x3ae)]+'\x20is\x20already\x20in\x20use.');z['waInstances'][_0x214aef['instanceName']]&&delete z[_0x47f464(0x3b1)][_0x214aef[_0x47f464(0x3ae)]];}_0x273a2a();}var _a=require(a0_0x2b042e(0x317)),Oa=I(require(a0_0x2b042e(0x357))),nt=a0_0x2b042e(0x606),Ao=new $(a0_0x2b042e(0x85a));async function Io(_0x36a3ab,_0x225d43,_0x2d9d13){const _0x5778fa=a0_0x2b042e;let _0x571dc6=_0x36a3ab[_0x5778fa(0x7e0)]('apikey');if(_0x571dc6&&S[_0x5778fa(0x7e0)](_0x5778fa(0x3bf))[_0x5778fa(0x682)][_0x5778fa(0x36b)]!==_0x571dc6)throw new ne();if(S[_0x5778fa(0x7e0)]('AUTHENTICATION')[_0x5778fa(0x682)]['KEY']===_0x571dc6)return _0x2d9d13();if((_0x36a3ab['originalUrl']['includes'](_0x5778fa(0x2d0))||_0x36a3ab[_0x5778fa(0x25c)][_0x5778fa(0x8ef)](_0x5778fa(0x386)))&&!_0x571dc6)throw new se(_0x5778fa(0x42a),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x1d5bb9=S[_0x5778fa(0x7e0)](_0x5778fa(0x3bf))[_0x5778fa(0x7a6)];try{let [_0xaec5a2,_0x33fca0]=_0x36a3ab[_0x5778fa(0x7e0)](_0x5778fa(0x89b))[_0x5778fa(0x5d7)]('\x20');if(_0xaec5a2[_0x5778fa(0x238)]()!==_0x5778fa(0x3f4))throw new ne();if(!(0x0,_a[_0x5778fa(0x60d)])(_0x33fca0))throw new ne();let _0x2b8e73=_0x36a3ab[_0x5778fa(0x2cd)],_0x28ea4d=Oa[_0x5778fa(0x1f4)][_0x5778fa(0x3c1)](_0x33fca0,_0x1d5bb9[_0x5778fa(0x64d)],{'ignoreExpiration':_0x1d5bb9[_0x5778fa(0x523)]===0x0});if(_0x2b8e73[_0x5778fa(0x3ae)]!==_0x28ea4d[_0x5778fa(0x3ae)]||nt!==_0x28ea4d['apiName'])throw new ne();return _0x2d9d13();}catch(_0x34b7ae){throw Ao[_0x5778fa(0x71a)](_0x34b7ae),new ne();}}async function To(_0x4cb3d5,_0x4d11a8,_0x4b4242){const _0xda92ad=a0_0x2b042e;let _0x29ef09=S[_0xda92ad(0x7e0)](_0xda92ad(0x3bf))['API_KEY'],_0x48f48b=_0x4cb3d5['get'](_0xda92ad(0x7b4));if(_0x29ef09[_0xda92ad(0x36b)]===_0x48f48b)return _0x4b4242();if(_0x4cb3d5[_0xda92ad(0x25c)][_0xda92ad(0x8ef)](_0xda92ad(0x2d0))){let _0x29c1d1=Da,_0x33dbb4=_0x4cb3d5[_0xda92ad(0x4ef)][_0xda92ad(0x3ae)];if(_0x29c1d1&&_0x33dbb4['toLowerCase']()[_0xda92ad(0x834)](_0x29c1d1['toLowerCase']()))return _0x4b4242();if(!_0x48f48b)throw new se('Missing\x20global\x20api\x20key',_0xda92ad(0x2bf));}if(_0x4cb3d5[_0xda92ad(0x25c)][_0xda92ad(0x8ef)](_0xda92ad(0x386))&&!_0x48f48b)throw new se(_0xda92ad(0x42a),_0xda92ad(0x2bf));if(_0x4cb3d5['originalUrl'][_0xda92ad(0x8ef)]('/exit')&&!_0x48f48b)throw new se(_0xda92ad(0x42a),_0xda92ad(0x2bf));if(_0x4cb3d5[_0xda92ad(0x25c)][_0xda92ad(0x8ef)]('/config')&&!_0x48f48b)throw new se(_0xda92ad(0x42a),_0xda92ad(0x2bf));try{let _0x272970=_0x4cb3d5[_0xda92ad(0x2cd)],_0x491669=await ye['auth'][_0xda92ad(0x6da)](_0x272970[_0xda92ad(0x3ae)]);if(_0x491669&&_0x491669[_0xda92ad(0x7b4)]===_0x48f48b)return _0x4b4242();}catch{}throw new ne();}var xa={'jwt':Io,'apikey':To},gi=require('express'),v=require(a0_0x2b042e(0x480)),E=(..._0x5bc349)=>{const _0x5559bd=a0_0x2b042e;let _0x2f87c6={};return _0x5bc349['forEach'](_0x51b68b=>_0x2f87c6[_0x51b68b]={'minLength':0x1,'description':'The\x20\x22'+_0x51b68b+_0x5559bd(0x868)}),{'if':{'propertyNames':{'enum':[..._0x5bc349]}},'then':{'properties':_0x2f87c6}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'instanceName':{'type':a0_0x2b042e(0x62d)}},...E(a0_0x2b042e(0x3ae))},fc={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'oldToken':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x5ec)],...E('oldToken')},wc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x2b042e(0x62d)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x2b042e(0x880)}}},ae={'properties':{'delay':{'type':'integer','description':a0_0x2b042e(0x65c)},'presence':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x63d),a0_0x2b042e(0x55f),'composing',a0_0x2b042e(0x513),a0_0x2b042e(0x2da)]}}},Y={'type':a0_0x2b042e(0x62d),'description':a0_0x2b042e(0x816)},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'textMessage':{'type':a0_0x2b042e(0x880),'properties':{'text':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x8de)],...E('text')}},'required':['textMessage',a0_0x2b042e(0x46a)]},ka={'type':'string','pattern':a0_0x2b042e(0x28c),'description':a0_0x2b042e(0x816)},yc={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...ka},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x2b042e(0x62d)}},'required':['text'],...E(a0_0x2b042e(0x8de))}},'required':['textMessage','number']},bc={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...ka},'options':{...ae},'mediaMessage':{'type':a0_0x2b042e(0x880),'properties':{'mediatype':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x7b2),a0_0x2b042e(0x4e3),'video',a0_0x2b042e(0x6ac)]},'media':{'type':a0_0x2b042e(0x62d)},'fileName':{'type':'string'},'caption':{'type':a0_0x2b042e(0x62d)}},'required':['mediatype',a0_0x2b042e(0x300)],...E('fileName',a0_0x2b042e(0x2b8),a0_0x2b042e(0x300))}},'required':[a0_0x2b042e(0x645),a0_0x2b042e(0x46a)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'stickerMessage':{'type':a0_0x2b042e(0x880),'properties':{'image':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x7b2)],...E(a0_0x2b042e(0x7b2))}},'required':[a0_0x2b042e(0x6a2),a0_0x2b042e(0x46a)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x8de),a0_0x2b042e(0x7b2),'audio',a0_0x2b042e(0x5e2)]},'content':{'type':a0_0x2b042e(0x62d)},'caption':{'type':a0_0x2b042e(0x62d)},'backgroundColor':{'type':a0_0x2b042e(0x62d)},'font':{'type':a0_0x2b042e(0x7df),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x62d),'pattern':a0_0x2b042e(0x8b3),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]}},'required':[a0_0x2b042e(0x1fa),a0_0x2b042e(0x262)],...E('type',a0_0x2b042e(0x262))}},'required':[a0_0x2b042e(0x2c5)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'mediaMessage':{'type':a0_0x2b042e(0x880),'properties':{'mediatype':{'type':a0_0x2b042e(0x62d),'enum':['image','document','video',a0_0x2b042e(0x6ac)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype',a0_0x2b042e(0x300)],...E('fileName',a0_0x2b042e(0x2b8),a0_0x2b042e(0x300))}},'required':[a0_0x2b042e(0x645),a0_0x2b042e(0x46a)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...ae},'audioMessage':{'type':a0_0x2b042e(0x880),'properties':{'audio':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x6ac)],...E(a0_0x2b042e(0x6ac))}},'required':[a0_0x2b042e(0x8b7),a0_0x2b042e(0x46a)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'pollMessage':{'type':a0_0x2b042e(0x880),'properties':{'name':{'type':a0_0x2b042e(0x62d)},'selectableCount':{'type':a0_0x2b042e(0x46a)},'values':{'type':a0_0x2b042e(0x302),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2b042e(0x69b),'selectableCount',a0_0x2b042e(0x88c)],...E(a0_0x2b042e(0x69b),'selectableCount',a0_0x2b042e(0x88c))}},'required':[a0_0x2b042e(0x46a),a0_0x2b042e(0x5d0)]},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'menuMessage':{'type':a0_0x2b042e(0x880),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2b042e(0x8de),a0_0x2b042e(0x2fb)],...E(a0_0x2b042e(0x8de),a0_0x2b042e(0x2fb))}},'required':[a0_0x2b042e(0x46a),a0_0x2b042e(0x61b)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'buttonMessage':{'type':a0_0x2b042e(0x880),'properties':{'title':{'type':a0_0x2b042e(0x62d)},'description':{'type':a0_0x2b042e(0x62d)},'footerText':{'type':'string'},'buttons':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x880),'properties':{'buttonText':{'type':a0_0x2b042e(0x62d)},'buttonId':{'type':a0_0x2b042e(0x62d)}},'required':['buttonText',a0_0x2b042e(0x905)],...E('buttonText',a0_0x2b042e(0x905))}},'mediaMessage':{'type':a0_0x2b042e(0x880),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x2b042e(0x62d)},'mediatype':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x7b2),a0_0x2b042e(0x4e3),a0_0x2b042e(0x5e2)]}},'required':[a0_0x2b042e(0x300),a0_0x2b042e(0x2af)],...E(a0_0x2b042e(0x300),a0_0x2b042e(0x324))}},'required':[a0_0x2b042e(0x664),a0_0x2b042e(0x78a)],...E('title',a0_0x2b042e(0x219))}},'required':[a0_0x2b042e(0x46a),'buttonMessage']},Ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...ae},'locationMessage':{'type':a0_0x2b042e(0x880),'properties':{'latitude':{'type':a0_0x2b042e(0x46a)},'longitude':{'type':a0_0x2b042e(0x46a)},'name':{'type':a0_0x2b042e(0x62d)},'address':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x8d9),a0_0x2b042e(0x3a7)],...E(a0_0x2b042e(0x69b),a0_0x2b042e(0x34a))}},'required':[a0_0x2b042e(0x46a),a0_0x2b042e(0x311)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x2b042e(0x62d)},'description':{'type':a0_0x2b042e(0x62d)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x2b042e(0x62d)},'sections':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x880),'properties':{'title':{'type':a0_0x2b042e(0x62d)},'rows':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x880),'properties':{'title':{'type':a0_0x2b042e(0x62d)},'description':{'type':a0_0x2b042e(0x62d)},'rowId':{'type':'string'}},'required':[a0_0x2b042e(0x664),a0_0x2b042e(0x35d)],...E(a0_0x2b042e(0x664),'rowId')}}},'required':[a0_0x2b042e(0x664),'rows'],...E(a0_0x2b042e(0x664))}}},'required':[a0_0x2b042e(0x664),a0_0x2b042e(0x219),a0_0x2b042e(0x327),a0_0x2b042e(0x256)],...E(a0_0x2b042e(0x664),'description','buttonText',a0_0x2b042e(0x557))}},'required':[a0_0x2b042e(0x46a),a0_0x2b042e(0x54c)]},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'options':{...ae},'contactMessage':{'type':a0_0x2b042e(0x302),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x2b042e(0x62d),'minLength':0xa}},'required':[a0_0x2b042e(0x493),'phoneNumber'],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2b042e(0x46a),a0_0x2b042e(0x4e8)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x2b042e(0x880),'properties':{'id':{'type':a0_0x2b042e(0x62d)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x2b042e(0x786))},'reaction':{'type':a0_0x2b042e(0x62d)}},'required':['key','reaction'],...E('reaction')}},'required':[a0_0x2b042e(0x720)]},Ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x62d),'pattern':a0_0x2b042e(0x8b3),'description':a0_0x2b042e(0x35e)}}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'readMessages':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2b042e(0x62d)}},'required':['id',a0_0x2b042e(0x35c),a0_0x2b042e(0x786)],...E('id',a0_0x2b042e(0x786))}}},'required':[a0_0x2b042e(0x767)]},Qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x2b042e(0x880),'properties':{'readreceipts':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x761),a0_0x2b042e(0x889)]},'profile':{'type':a0_0x2b042e(0x62d),'enum':['all','contacts',a0_0x2b042e(0x723),a0_0x2b042e(0x889)]},'status':{'type':a0_0x2b042e(0x62d),'enum':['all',a0_0x2b042e(0x696),a0_0x2b042e(0x723),'none']},'online':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x761),'match_last_seen']},'last':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x761),a0_0x2b042e(0x696),'contact_blacklist','none']},'groupadd':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x761),a0_0x2b042e(0x696),a0_0x2b042e(0x723),a0_0x2b042e(0x889)]}},'required':[a0_0x2b042e(0x6d4),a0_0x2b042e(0x45c),a0_0x2b042e(0x3cd),a0_0x2b042e(0x7db),a0_0x2b042e(0x41e),a0_0x2b042e(0x5f0)],...E(a0_0x2b042e(0x6d4),a0_0x2b042e(0x45c),a0_0x2b042e(0x3cd),a0_0x2b042e(0x7db),a0_0x2b042e(0x41e),a0_0x2b042e(0x5f0))}},'required':[a0_0x2b042e(0x455)]},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'lastMessage':{'type':a0_0x2b042e(0x880),'properties':{'key':{'type':a0_0x2b042e(0x880),'properties':{'id':{'type':a0_0x2b042e(0x62d)},'remoteJid':{'type':a0_0x2b042e(0x62d)},'fromMe':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2b042e(0x35c),a0_0x2b042e(0x786)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x2b042e(0x7df),'minLength':0x1}},'required':[a0_0x2b042e(0x730)],...E('messageTimestamp')},'archive':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]}},'required':[a0_0x2b042e(0x859),a0_0x2b042e(0x4dd)]},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'id':{'type':a0_0x2b042e(0x62d)},'fromMe':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2b042e(0x62d)},'participant':{'type':a0_0x2b042e(0x62d)}},'required':['id',a0_0x2b042e(0x35c),'remoteJid'],...E('id',a0_0x2b042e(0x786),a0_0x2b042e(0x2e0))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'where':{'type':a0_0x2b042e(0x880),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x2b042e(0x48a),'id','pushName')}}},ei={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'name':{'type':a0_0x2b042e(0x62d)}},...E(a0_0x2b042e(0x69b))},ti={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'status':{'type':'string'}},...E(a0_0x2b042e(0x3cd))},xe={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{'type':a0_0x2b042e(0x62d)},'picture':{'type':'string'}}},si={'type':a0_0x2b042e(0x880),'properties':{'wuid':{'type':a0_0x2b042e(0x62d)},'name':{'type':'string'},'picture':{'type':a0_0x2b042e(0x62d)},'status':{'type':a0_0x2b042e(0x62d)},'isBusiness':{'type':'boolean'}}},ai={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'where':{'type':a0_0x2b042e(0x880),'properties':{'_id':{'type':a0_0x2b042e(0x62d),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x2b042e(0x35c),a0_0x2b042e(0x786),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2b042e(0x62d),'minLength':0x1,'description':a0_0x2b042e(0x3dd)},'id':{'type':a0_0x2b042e(0x62d),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2b042e(0x880)}},...E(a0_0x2b042e(0x48a))},'limit':{'type':a0_0x2b042e(0x7df)}}},Sc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x2b042e(0x62d)},'remoteJid':{'type':a0_0x2b042e(0x62d)},'id':{'type':a0_0x2b042e(0x62d)},'fromMe':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2b042e(0x62d)},'status':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x5ca),a0_0x2b042e(0x5cc),a0_0x2b042e(0x533),'DELIVERY_ACK','READ',a0_0x2b042e(0x7b9)]}},...E(a0_0x2b042e(0x48a),a0_0x2b042e(0x786),'id',a0_0x2b042e(0x3cd))},'limit':{'type':'integer'}}},ii={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'number':{...Y},'presence':{'type':a0_0x2b042e(0x62d),'enum':['unavailable','available',a0_0x2b042e(0x201),a0_0x2b042e(0x513),a0_0x2b042e(0x2da)]}},'required':['presence',a0_0x2b042e(0x46a)]},oi={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x2b042e(0x62d)},'profilePicture':{'type':a0_0x2b042e(0x62d)},'participants':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x2b042e(0x52d),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x2b042e(0x7eb),a0_0x2b042e(0x34c)],...E(a0_0x2b042e(0x7eb),a0_0x2b042e(0x219),'profilePicture')},De={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'groupJid':{'type':a0_0x2b042e(0x62d),'pattern':a0_0x2b042e(0x70b)}},'required':['groupJid'],...E(a0_0x2b042e(0x374))},ri={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x2b042e(0x62d),'enum':['add',a0_0x2b042e(0x2ec),a0_0x2b042e(0x25d),a0_0x2b042e(0x708),a0_0x2b042e(0x7a9),a0_0x2b042e(0x843)]},'participants':{'type':a0_0x2b042e(0x302),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2b042e(0x62d),'minLength':0xa,'pattern':a0_0x2b042e(0x52d),'description':a0_0x2b042e(0x298)}}},'required':[a0_0x2b042e(0x374),'action','participants'],...E(a0_0x2b042e(0x374),a0_0x2b042e(0x2c9))},ni={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2b042e(0x62d)},'expiration':{'type':a0_0x2b042e(0x46a),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2b042e(0x374),a0_0x2b042e(0x63e)],...E('groupJid','expiration')},ci={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'groupJid':{'type':a0_0x2b042e(0x62d)},'image':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x374),a0_0x2b042e(0x7b2)],...E(a0_0x2b042e(0x374),a0_0x2b042e(0x7b2))},li={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'groupJid':{'type':a0_0x2b042e(0x62d)},'description':{'type':'string'}},'required':['groupJid',a0_0x2b042e(0x219)],...E(a0_0x2b042e(0x374),a0_0x2b042e(0x219))},ui={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'groupJid':{'type':a0_0x2b042e(0x62d)},'name':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x374),a0_0x2b042e(0x69b)],...E(a0_0x2b042e(0x374),'name')},di={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x2b042e(0x62d),'enum':[a0_0x2b042e(0x6b4),'not_announcement',a0_0x2b042e(0x32f),a0_0x2b042e(0x4c8)]}},'required':['groupJid',a0_0x2b042e(0x689)],...E(a0_0x2b042e(0x374),a0_0x2b042e(0x689))},pi={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'groupJid':{'type':a0_0x2b042e(0x62d)},'restrict':{'type':a0_0x2b042e(0x693)},'announce':{'type':a0_0x2b042e(0x693)},'memberAddMode':{'type':a0_0x2b042e(0x693)},'joinApprovalMode':{'type':a0_0x2b042e(0x693)},'expiration':{'type':a0_0x2b042e(0x7df),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x2b042e(0x62d)},'description':{'type':'string'},'image':{'type':a0_0x2b042e(0x62d)}}},Ns={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'inviteCode':{'type':a0_0x2b042e(0x62d)}},'required':[a0_0x2b042e(0x7f5)],...E('inviteCode')},hi={'$id':(0x0,v['v4'])(),'type':a0_0x2b042e(0x880),'properties':{'url':{'type':a0_0x2b042e(0x62d)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2b042e(0x78f),'enabled']},Mc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2b042e(0x693),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0x2b042e(0x6b6),'QRCODE_UPDATED','MESSAGES_SET',a0_0x2b042e(0x3ec),a0_0x2b042e(0x57c),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x2b042e(0x5fc),a0_0x2b042e(0x68a),'CHATS_SET',a0_0x2b042e(0x738),a0_0x2b042e(0x4cb),a0_0x2b042e(0x668),a0_0x2b042e(0x81c),'GROUPS_UPSERT',a0_0x2b042e(0x1fd),a0_0x2b042e(0x7f7)],...E(a0_0x2b042e(0x3b0),a0_0x2b042e(0x6b6),a0_0x2b042e(0x8e8),a0_0x2b042e(0x911),a0_0x2b042e(0x3ec),a0_0x2b042e(0x57c),a0_0x2b042e(0x4a2),a0_0x2b042e(0x4a1),a0_0x2b042e(0x2d1),'CONTACTS_UPDATE',a0_0x2b042e(0x68a),'CHATS_SET','CHATS_UPSERT',a0_0x2b042e(0x4cb),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x2b042e(0x5a8),a0_0x2b042e(0x1fd),a0_0x2b042e(0x7f7))},ct=class{},lt=class extends O{[a0_0x2b042e(0x5b6)](_0x22f8c4){return ia(_0x22f8c4);}async['insert'](_0x564d10){const _0x2c3a45=a0_0x2b042e;if(_0x564d10[_0x2c3a45(0x3f7)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x564d10[0x0][_0x2c3a45(0x2a2)])['insertMany']([..._0x564d10]))['length']};}catch(_0x276304){return _0x276304;}}async[a0_0x2b042e(0x231)](_0x54e9b7,_0x1c1e93){const _0x3c3a01=a0_0x2b042e;try{return{'deletedCount':(await this[_0x3c3a01(0x5b6)](_0x1c1e93)[_0x3c3a01(0x88e)]({..._0x54e9b7[_0x3c3a01(0x81b)]}))[_0x3c3a01(0x3a4)]};}catch(_0xc9e34e){return{'error':_0xc9e34e?.[_0x3c3a01(0x413)]()};}}async[a0_0x2b042e(0x914)](_0x42a5db,_0x46a835){const _0x3b322e=a0_0x2b042e;try{if(_0x42a5db['length']===0x0)return;let _0x58e693=this[_0x3b322e(0x5b6)](_0x46a835),_0x59ee1d=_0x42a5db[_0x3b322e(0x633)](_0x52d469=>({'updateOne':{'filter':{'_id':_0x52d469[_0x3b322e(0x48a)],'owner':_0x46a835},'update':{..._0x52d469}}})),{modifiedCount:_0xe90de0}=await _0x58e693[_0x3b322e(0x722)](_0x59ee1d);return{'insertCount':_0xe90de0};}catch{return;}}async[a0_0x2b042e(0x6da)](_0x416c40,_0x482b68){const _0x4db653=a0_0x2b042e;try{let _0x50136f=this[_0x4db653(0x5b6)](_0x482b68),_0x25417a=T(_0x416c40[_0x4db653(0x81b)]);return await _0x50136f[_0x4db653(0x6da)](_0x25417a)['limit'](_0x416c40?.[_0x4db653(0x3cc)]??0x0)[_0x4db653(0x871)]();}catch{return[];}}async[a0_0x2b042e(0x296)](_0x529a65,_0x483996){const _0x512469=a0_0x2b042e;try{let _0x4cc8ab=this[_0x512469(0x5b6)](_0x483996),_0x72775f=T(_0x529a65[_0x512469(0x81b)]);return await _0x4cc8ab[_0x512469(0x296)](_0x72775f)[_0x512469(0x871)]();}catch{return null;}}async[a0_0x2b042e(0x495)](_0x1e56f5){const _0x215a49=a0_0x2b042e;try{return await this[_0x215a49(0x5b6)](_0x1e56f5)['collection']['drop'](),{'success':!0x0};}catch(_0x478357){return console[_0x215a49(0x71a)](_0x478357),{'success':!0x1,'error':_0x478357};}}},ut=require(a0_0x2b042e(0x497)),Tc=require(a0_0x2b042e(0x5ad)),$s=new $(a0_0x2b042e(0x621)),W=class{[a0_0x2b042e(0x33d)](_0x300a88,_0x2a4df0=!0x0){const _0x4abd69=a0_0x2b042e;let _0x453e26='/'+_0x300a88;return _0x2a4df0&&(_0x453e26+=_0x4abd69(0x6a9)),_0x453e26;}async[a0_0x2b042e(0x804)](_0x1ad9ab){const _0x33e69c=a0_0x2b042e;let {request:_0x2a4f43,schema:_0x34b3c6,ClassRef:_0x302152,execute:_0x38f58a}=_0x1ad9ab,_0x317980=new _0x302152(),_0x2c5c11=_0x2a4f43['body'],_0xfb965e=_0x2a4f43[_0x33e69c(0x2cd)];_0x2a4f43?.['query']&&Object['keys'](_0x2a4f43[_0x33e69c(0x321)])[_0x33e69c(0x3f7)]>0x0&&Object['assign'](_0xfb965e,_0x2a4f43[_0x33e69c(0x321)]),_0x2a4f43[_0x33e69c(0x25c)]['includes'](_0x33e69c(0x2d0))&&Object[_0x33e69c(0x589)](_0xfb965e,_0x2c5c11),Object[_0x33e69c(0x589)](_0x317980,_0x2c5c11);let _0x1b3c89=_0x34b3c6?(0x0,ut['validate'])(_0x317980,_0x34b3c6):{'valid':!0x0,'errors':[]};if(!_0x1b3c89['valid']){let _0x3ba121=_0x1b3c89[_0x33e69c(0x22e)][_0x33e69c(0x633)](({property:_0x4a1623,stack:_0x4e8ed3,schema:_0x148f67})=>{const _0x39fb4f=_0x33e69c;let _0x36c0b5;return _0x148f67[_0x39fb4f(0x219)]?_0x36c0b5=_0x148f67[_0x39fb4f(0x219)]:_0x36c0b5=_0x4e8ed3['replace'](_0x39fb4f(0x240),''),{'property':_0x4a1623[_0x39fb4f(0x417)](_0x39fb4f(0x240),''),'message':_0x36c0b5};});throw $s[_0x33e69c(0x71a)]([..._0x3ba121]),new m(..._0x3ba121);}return await _0x38f58a(_0xfb965e,_0x317980);}async[a0_0x2b042e(0x2a7)](_0x15b351){const _0x45df67=a0_0x2b042e;let {request:_0x2561db,ClassRef:_0x5e1856,schema:_0x12f92b,execute:_0xe62b22}=_0x15b351,_0x92864e=_0x2561db[_0x45df67(0x321)];if(!_0x92864e?.['groupJid'])throw new m(_0x45df67(0x89a),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x319eba=_0x2561db[_0x45df67(0x2cd)],_0x1e8e4e=_0x2561db[_0x45df67(0x4ef)],_0x43c179=new _0x5e1856();Object[_0x45df67(0x589)](_0x1e8e4e,_0x92864e),Object[_0x45df67(0x589)](_0x43c179,_0x1e8e4e);let _0xa91640=(0x0,ut[_0x45df67(0x528)])(_0x43c179,_0x12f92b);if(!_0xa91640[_0x45df67(0x79a)]){let _0x18ee02=_0xa91640[_0x45df67(0x22e)]['map'](({property:_0x2b53f2,stack:_0x877d06,schema:_0x34b362})=>{const _0x254d8d=_0x45df67;let _0x3bfd50;return _0x34b362[_0x254d8d(0x219)]?_0x3bfd50=_0x34b362[_0x254d8d(0x219)]:_0x3bfd50=_0x877d06['replace'](_0x254d8d(0x240),''),{'property':_0x2b53f2[_0x254d8d(0x417)](_0x254d8d(0x240),''),'message':_0x3bfd50};});throw $s[_0x45df67(0x71a)]([..._0x18ee02]),new m(..._0x18ee02);}return await _0xe62b22(_0x319eba,_0x43c179);}async[a0_0x2b042e(0x260)](_0x32a1f6){const _0xbbe813=a0_0x2b042e;let {request:_0x39db59,ClassRef:_0x27d1d4,schema:_0x3874b1,execute:_0x50bf84}=_0x32a1f6,_0x41cf45=_0x39db59['body'];if(!_0x41cf45?.[_0xbbe813(0x7f5)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0xbbe813(0x60e));let _0x590b99=_0x39db59[_0xbbe813(0x2cd)],_0x55ea4b=_0x39db59['body'],_0x18df78=new _0x27d1d4();Object[_0xbbe813(0x589)](_0x55ea4b,_0x41cf45),Object[_0xbbe813(0x589)](_0x18df78,_0x55ea4b);let _0x16e0bd=(0x0,ut[_0xbbe813(0x528)])(_0x18df78,_0x3874b1);if(!_0x16e0bd[_0xbbe813(0x79a)]){let _0x101b80=_0x16e0bd[_0xbbe813(0x22e)]['map'](({property:_0x3df8d7,stack:_0x5ef30f,schema:_0x570bd3})=>{const _0x4c078e=_0xbbe813;let _0x4e337f;return _0x570bd3[_0x4c078e(0x219)]?_0x4e337f=_0x570bd3[_0x4c078e(0x219)]:_0x4e337f=_0x5ef30f[_0x4c078e(0x417)]('instance.',''),{'property':_0x3df8d7['replace'](_0x4c078e(0x240),''),'message':_0x4e337f};});throw $s['error']([..._0x101b80]),new m(..._0x101b80);}return await _0x50bf84(_0x590b99,_0x18df78);}},M=class{},Bc=new $('ChatRouter'),dt=class extends W{constructor(..._0x5be871){const _0x4a99d4=a0_0x2b042e;super(),this['router']=(0x0,gi[_0x4a99d4(0x78e)])(),this[_0x4a99d4(0x6a4)][_0x4a99d4(0x897)](this['routerPath'](_0x4a99d4(0x27a)),..._0x5be871,async(_0x57584f,_0x5920a2)=>{const _0x183bfd=_0x4a99d4;let _0x578bef=await this['dataValidate']({'request':_0x57584f,'schema':ii,'ClassRef':Ze,'execute':(_0x26fbe2,_0xf4fa23)=>k[_0x183bfd(0x27a)](_0x26fbe2,_0xf4fa23)});return _0x5920a2[_0x183bfd(0x3cd)](0xc9)['json'](_0x578bef);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x471)),..._0x5be871,async(_0x2f2b8e,_0x2fbf0e)=>{const _0x4372ad=_0x4a99d4;let _0x13d916=await this[_0x4372ad(0x804)]({'request':_0x2f2b8e,'schema':Ha,'ClassRef':et,'execute':(_0x4dec4a,_0x4b9597)=>k[_0x4372ad(0x32d)](_0x4dec4a,_0x4b9597)});return _0x2fbf0e['status'](0xc9)[_0x4372ad(0x90d)](_0x13d916);})[_0x4a99d4(0x897)](this['routerPath'](_0x4a99d4(0x576)),..._0x5be871,async(_0x3f19dd,_0x35693e)=>{const _0x411ff=_0x4a99d4;let _0x157704=await this[_0x411ff(0x804)]({'request':_0x3f19dd,'schema':N,'ClassRef':M,'execute':(_0x146cc5,_0x49154c)=>k[_0x411ff(0x576)](_0x146cc5,_0x49154c)});return _0x35693e[_0x411ff(0x3cd)](0xc9)['json'](_0x157704);})['put'](this['routerPath'](_0x4a99d4(0x4a7)),..._0x5be871,async(_0x279e60,_0x44e867)=>{const _0x38f6df=_0x4a99d4;let _0x2ee4ae=await this[_0x38f6df(0x804)]({'request':_0x279e60,'schema':Ka,'ClassRef':at,'execute':(_0x165a63,_0x1da72f)=>k[_0x38f6df(0x48c)](_0x165a63,_0x1da72f)});return _0x44e867[_0x38f6df(0x3cd)](0xc9)[_0x38f6df(0x90d)](_0x2ee4ae);})[_0x4a99d4(0x33a)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x348)),..._0x5be871,async(_0x251dfc,_0x108aa)=>{const _0xe77113=_0x4a99d4;let _0x19ff85=await this['dataValidate']({'request':_0x251dfc,'schema':Ya,'ClassRef':it,'execute':(_0x3fcce0,_0x211488)=>k[_0xe77113(0x348)](_0x3fcce0,_0x211488)});return _0x108aa['status'](0xc9)['json'](_0x19ff85);})[_0x4a99d4(0x231)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x853)),..._0x5be871,async(_0x142cdc,_0x564db3)=>{const _0x256ebf=_0x4a99d4;let _0x5afa8f=await this[_0x256ebf(0x804)]({'request':_0x142cdc,'schema':Xa,'ClassRef':rt,'execute':(_0x520c93,_0x17dac8)=>k[_0x256ebf(0x7ef)](_0x520c93,_0x17dac8)});return _0x564db3['status'](0xc9)[_0x256ebf(0x90d)](_0x5afa8f);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x1ec)),..._0x5be871,async(_0xd7b977,_0x5300de)=>{const _0x3cdfa0=_0x4a99d4;let _0x58f786=await this[_0x3cdfa0(0x804)]({'request':_0xd7b977,'schema':xe,'ClassRef':_e,'execute':(_0x31b519,_0x376a25)=>k[_0x3cdfa0(0x63f)](_0x31b519,_0x376a25)});return _0x5300de[_0x3cdfa0(0x3cd)](0xc8)['json'](_0x58f786);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x5c6)),..._0x5be871,async(_0x416cc1,_0x59c044)=>{const _0x44f517=_0x4a99d4;let _0x278a75=await this[_0x44f517(0x804)]({'request':_0x416cc1,'schema':si,'ClassRef':_e,'execute':(_0x25bc64,_0x5362c5)=>k[_0x44f517(0x5c6)](_0x25bc64,_0x5362c5)});return _0x59c044[_0x44f517(0x3cd)](0xc8)['json'](_0x278a75);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x665)),..._0x5be871,async(_0x5b9d8f,_0x3016ae)=>{const _0x2fa764=_0x4a99d4;let _0x520963=await this[_0x2fa764(0x804)]({'request':_0x5b9d8f,'schema':Za,'ClassRef':ct,'execute':(_0x204527,_0x4a9b18)=>k[_0x2fa764(0x4d0)](_0x204527,_0x4a9b18)});return _0x3016ae[_0x2fa764(0x3cd)](0xc8)[_0x2fa764(0x90d)](_0x520963);})[_0x4a99d4(0x897)](this['routerPath'](_0x4a99d4(0x8d1)),..._0x5be871,async(_0x27f5e2,_0x146701)=>{const _0x34148e=_0x4a99d4;let _0x578187=await this['dataValidate']({'request':_0x27f5e2,'schema':null,'ClassRef':Object,'execute':(_0x2257a2,_0x225dfe)=>k['getBase64FromMediaMessage'](_0x2257a2,_0x225dfe)});return _0x146701[_0x34148e(0x3cd)](0xc9)['json'](_0x578187);})['post'](this['routerPath']('findMessages'),..._0x5be871,async(_0x171d16,_0x254d5e)=>{const _0x14465b=_0x4a99d4;let _0x2513be=await this[_0x14465b(0x804)]({'request':_0x171d16,'schema':ai,'ClassRef':Ye,'execute':(_0x585730,_0x5e917a)=>k[_0x14465b(0x435)](_0x585730,_0x5e917a)});return _0x254d5e['status'](0xc8)[_0x14465b(0x90d)](_0x2513be);})['get'](this[_0x4a99d4(0x33d)](_0x4a99d4(0x522)),..._0x5be871,async(_0x467470,_0x5de5a3)=>{const _0x2cbe0f=_0x4a99d4;let _0x50d7e2=await this[_0x2cbe0f(0x804)]({'request':_0x467470,'schema':null,'ClassRef':M,'execute':_0x165071=>k[_0x2cbe0f(0x8e7)](_0x165071)});return _0x5de5a3[_0x2cbe0f(0x3cd)](0xc8)[_0x2cbe0f(0x90d)](_0x50d7e2);})[_0x4a99d4(0x7e0)](this[_0x4a99d4(0x33d)]('findLabels'),..._0x5be871,async(_0x5ee93a,_0x2a1b0f)=>{const _0x437211=_0x4a99d4;let _0x1d610e=await this[_0x437211(0x804)]({'request':_0x5ee93a,'schema':null,'ClassRef':M,'execute':_0x3f06f1=>k['fetchLabels'](_0x3f06f1)});return _0x2a1b0f[_0x437211(0x3cd)](0xc8)[_0x437211(0x90d)](_0x1d610e);})[_0x4a99d4(0x33a)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x7fb)),..._0x5be871,async(_0x2d5084,_0x1b680e)=>{const _0x434722=_0x4a99d4;let _0x33b719=await this['dataValidate']({'request':_0x2d5084,'schema':null,'ClassRef':Array,'execute':(_0x71e8af,_0x524a17)=>k[_0x434722(0x7fb)](_0x71e8af,_0x524a17)});return _0x1b680e[_0x434722(0x3cd)](0xc8)[_0x434722(0x90d)](_0x33b719);})[_0x4a99d4(0x7e0)](this['routerPath'](_0x4a99d4(0x335)),..._0x5be871,async(_0x4ded0b,_0x12e249)=>{const _0x1d9fcd=_0x4a99d4;let _0x69546d=await this[_0x1d9fcd(0x804)]({'request':_0x4ded0b,'schema':null,'ClassRef':M,'execute':_0x166263=>k[_0x1d9fcd(0x335)](_0x166263)});return _0x12e249[_0x1d9fcd(0x3cd)](0xc8)[_0x1d9fcd(0x90d)](_0x69546d);})['put'](this[_0x4a99d4(0x33d)](_0x4a99d4(0x2e5)),..._0x5be871,async(_0x1d3318,_0x156714)=>{const _0x54fc8c=_0x4a99d4;let _0x3992e0=await this[_0x54fc8c(0x804)]({'request':_0x1d3318,'schema':Qa,'ClassRef':ot,'execute':(_0x48682b,_0x5979c4)=>k['updatePrivacySettings'](_0x48682b,_0x5979c4)});return _0x156714[_0x54fc8c(0x3cd)](0xc9)[_0x54fc8c(0x90d)](_0x3992e0);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)]('fetchBusinessProfile'),..._0x5be871,async(_0x5aa2eb,_0x5d844b)=>{const _0x268000=_0x4a99d4;let _0x2a90b2=await this[_0x268000(0x804)]({'request':_0x5aa2eb,'schema':xe,'ClassRef':ve,'execute':(_0x171539,_0x13d9f9)=>k[_0x268000(0x2f2)](_0x171539,_0x13d9f9)});return _0x5d844b['status'](0xc8)[_0x268000(0x90d)](_0x2a90b2);})[_0x4a99d4(0x897)](this[_0x4a99d4(0x33d)]('updateProfileName'),..._0x5be871,async(_0x31e1b0,_0x503b3e)=>{const _0x30b29c=_0x4a99d4;let _0x2b6ada=await this[_0x30b29c(0x804)]({'request':_0x31e1b0,'schema':ei,'ClassRef':tt,'execute':(_0x260a8d,_0x3691ed)=>k[_0x30b29c(0x519)](_0x260a8d,_0x3691ed)});return _0x503b3e[_0x30b29c(0x3cd)](0xc8)['json'](_0x2b6ada);})[_0x4a99d4(0x897)](this['routerPath']('updateProfileStatus'),..._0x5be871,async(_0x4202e4,_0x1f5dbf)=>{const _0x14226b=_0x4a99d4;let _0x3c1233=await this[_0x14226b(0x804)]({'request':_0x4202e4,'schema':ti,'ClassRef':st,'execute':(_0x582f3c,_0x3b95f5)=>k[_0x14226b(0x343)](_0x582f3c,_0x3b95f5)});return _0x1f5dbf['status'](0xc8)[_0x14226b(0x90d)](_0x3c1233);})[_0x4a99d4(0x33a)](this[_0x4a99d4(0x33d)](_0x4a99d4(0x521)),..._0x5be871,async(_0x34b5ee,_0x2e9be5)=>{const _0x410616=_0x4a99d4;let _0x10b02c=await this[_0x410616(0x804)]({'request':_0x34b5ee,'schema':xe,'ClassRef':ve,'execute':(_0x5a7672,_0x35bf81)=>k[_0x410616(0x521)](_0x5a7672,_0x35bf81)});return _0x2e9be5[_0x410616(0x3cd)](0xc8)[_0x410616(0x90d)](_0x10b02c);})[_0x4a99d4(0x231)](this[_0x4a99d4(0x33d)]('removeProfilePicture'),..._0x5be871,async(_0x57fdbb,_0x26ea7f)=>{const _0x5560b4=_0x4a99d4;let _0x18425b=await this[_0x5560b4(0x804)]({'request':_0x57fdbb,'schema':xe,'ClassRef':ve,'execute':(_0x2645c0,_0x551d4e)=>k[_0x5560b4(0x206)](_0x2645c0,_0x551d4e)});return _0x26ea7f[_0x5560b4(0x3cd)](0xc8)[_0x5560b4(0x90d)](_0x18425b);});}},mi=require('express'),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},ie=class{},Pe=class{},yt=class extends ie{},bt=class extends ie{},St=class extends W{constructor(..._0x114c1c){const _0x4d9255=a0_0x2b042e;super(),this[_0x4d9255(0x6a4)]=(0x0,mi[_0x4d9255(0x78e)])(),this[_0x4d9255(0x6a4)][_0x4d9255(0x897)](this[_0x4d9255(0x33d)]('create'),..._0x114c1c,async(_0x512f28,_0x85282d)=>{const _0x3ea9ce=_0x4d9255;let _0x32f052=await this[_0x3ea9ce(0x804)]({'request':_0x512f28,'schema':oi,'ClassRef':pt,'execute':(_0x5666ca,_0x292def)=>G['createGroup'](_0x5666ca,_0x292def)});_0x85282d[_0x3ea9ce(0x3cd)](0xc9)[_0x3ea9ce(0x90d)](_0x32f052);})[_0x4d9255(0x33a)](this[_0x4d9255(0x33d)](_0x4d9255(0x496)),..._0x114c1c,async(_0x5efc15,_0x5caa51)=>{const _0x22f329=_0x4d9255;let _0x25e2fb=await this['groupValidate']({'request':_0x5efc15,'schema':ci,'ClassRef':ht,'execute':(_0x4e4ded,_0x1e4f60)=>G[_0x22f329(0x496)](_0x4e4ded,_0x1e4f60)});_0x5caa51[_0x22f329(0x3cd)](0xc9)[_0x22f329(0x90d)](_0x25e2fb);})[_0x4d9255(0x33a)](this[_0x4d9255(0x33d)](_0x4d9255(0x3a0)),..._0x114c1c,async(_0x4b2bb6,_0x46e880)=>{const _0x304b27=_0x4d9255;let _0x31ab2c=await this['groupValidate']({'request':_0x4b2bb6,'schema':li,'ClassRef':gt,'execute':(_0x16f86c,_0x502726)=>G[_0x304b27(0x3a0)](_0x16f86c,_0x502726)});_0x46e880[_0x304b27(0x3cd)](0xc9)[_0x304b27(0x90d)](_0x31ab2c);})['put'](this[_0x4d9255(0x33d)](_0x4d9255(0x59c)),..._0x114c1c,async(_0x5a229a,_0x2ecf67)=>{const _0x2f9541=_0x4d9255;let _0x44f090=await this[_0x2f9541(0x2a7)]({'request':_0x5a229a,'schema':ui,'ClassRef':mt,'execute':(_0x25eb1f,_0x66dfbe)=>G[_0x2f9541(0x59c)](_0x25eb1f,_0x66dfbe)});_0x2ecf67[_0x2f9541(0x3cd)](0xc9)['json'](_0x44f090);})[_0x4d9255(0x33a)](this[_0x4d9255(0x33d)](_0x4d9255(0x4ae)),..._0x114c1c,async(_0x2bdf1a,_0x3a38ee)=>{const _0x193c3f=_0x4d9255;let _0x3880d4=await this[_0x193c3f(0x2a7)]({'request':_0x2bdf1a,'schema':pi,'ClassRef':wt,'execute':(_0x432336,_0x23c4b2)=>G['groupBetterSetting'](_0x432336,_0x23c4b2)});_0x3a38ee[_0x193c3f(0x3cd)](0xc9)['json'](_0x3880d4);})['put'](this[_0x4d9255(0x33d)](_0x4d9255(0x467)),..._0x114c1c,async(_0x1d94c3,_0x1c4849)=>{const _0x3adf1e=_0x4d9255;let _0x7b7469=await this[_0x3adf1e(0x2a7)]({'request':_0x1d94c3,'schema':di,'ClassRef':ft,'execute':(_0x13a913,_0x1c46e0)=>G[_0x3adf1e(0x467)](_0x13a913,_0x1c46e0)});_0x1c4849['status'](0xc9)[_0x3adf1e(0x90d)](_0x7b7469);})['put'](this[_0x4d9255(0x33d)](_0x4d9255(0x3e5)),..._0x114c1c,async(_0x5649ec,_0x513550)=>{const _0x547352=_0x4d9255;let _0x5cd3ac=await this[_0x547352(0x2a7)]({'request':_0x5649ec,'schema':ni,'ClassRef':bt,'execute':(_0x3be82b,_0x544de5)=>G[_0x547352(0x3e5)](_0x3be82b,_0x544de5)});_0x513550[_0x547352(0x3cd)](0xc9)[_0x547352(0x90d)](_0x5cd3ac);})[_0x4d9255(0x7e0)](this[_0x4d9255(0x33d)](_0x4d9255(0x559)),..._0x114c1c,async(_0xe3341d,_0x2d9114)=>{const _0x361f30=_0x4d9255;let _0x42ce63=await this[_0x361f30(0x2a7)]({'request':_0xe3341d,'schema':De,'ClassRef':ie,'execute':(_0x3bd4fd,_0x27c83d)=>G[_0x361f30(0x38d)](_0x3bd4fd,_0x27c83d)});_0x2d9114[_0x361f30(0x3cd)](0xc8)[_0x361f30(0x90d)](_0x42ce63);})[_0x4d9255(0x7e0)](this[_0x4d9255(0x33d)](_0x4d9255(0x7d0)),..._0x114c1c,async(_0x309656,_0x4123d3)=>{const _0x4d0873=_0x4d9255;let _0x18956c=await this[_0x4d0873(0x804)]({'request':_0x309656,'schema':N,'ClassRef':M,'execute':_0x1e8395=>G[_0x4d0873(0x7d0)](_0x1e8395)});_0x4123d3[_0x4d0873(0x3cd)](0xc8)[_0x4d0873(0x90d)](_0x18956c);})[_0x4d9255(0x7e0)](this[_0x4d9255(0x33d)](_0x4d9255(0x34c)),..._0x114c1c,async(_0x934da6,_0x3072c0)=>{const _0x8f30d0=_0x4d9255;let _0x530d2c=await this[_0x8f30d0(0x2a7)]({'request':_0x934da6,'schema':De,'ClassRef':ie,'execute':(_0x382c8a,_0x13cd47)=>G[_0x8f30d0(0x562)](_0x382c8a,_0x13cd47)});_0x3072c0[_0x8f30d0(0x3cd)](0xc8)['json'](_0x530d2c);})[_0x4d9255(0x7e0)](this[_0x4d9255(0x33d)]('inviteCode'),..._0x114c1c,async(_0x327871,_0x11b677)=>{const _0x49d78a=_0x4d9255;let _0x26f611=await this[_0x49d78a(0x2a7)]({'request':_0x327871,'schema':De,'ClassRef':ie,'execute':(_0x40525a,_0x3dde74)=>G[_0x49d78a(0x7f5)](_0x40525a,_0x3dde74)});_0x11b677['status'](0xc8)['json'](_0x26f611);})[_0x4d9255(0x897)](this[_0x4d9255(0x33d)]('inviteCodeDetails'),..._0x114c1c,async(_0x33e144,_0x4ebe4c)=>{const _0x60e0f5=_0x4d9255;let _0x4f51b8=await this[_0x60e0f5(0x260)]({'request':_0x33e144,'schema':Ns,'ClassRef':Pe,'execute':(_0x5023fb,_0x4a3975)=>G['groupGetInviteInfo'](_0x5023fb,_0x4a3975)});_0x4ebe4c[_0x60e0f5(0x3cd)](0xc9)[_0x60e0f5(0x90d)](_0x4f51b8);})[_0x4d9255(0x33a)](this[_0x4d9255(0x33d)](_0x4d9255(0x6e1)),..._0x114c1c,async(_0x454e7a,_0x3d5429)=>{const _0x5c3ebd=_0x4d9255;let _0x45f13d=await this[_0x5c3ebd(0x260)]({'request':_0x454e7a,'schema':Ns,'ClassRef':Pe,'execute':(_0x441ac2,_0x30ddc7)=>G[_0x5c3ebd(0x6e1)](_0x441ac2,_0x30ddc7)});_0x3d5429[_0x5c3ebd(0x3cd)](0xc9)[_0x5c3ebd(0x90d)](_0x45f13d);})['put'](this[_0x4d9255(0x33d)](_0x4d9255(0x217)),..._0x114c1c,async(_0x2004eb,_0xf96fc4)=>{const _0x1ef365=_0x4d9255;let _0x4c29ea=await this[_0x1ef365(0x2a7)]({'request':_0x2004eb,'schema':De,'ClassRef':ie,'execute':(_0x4fdce6,_0x40081b)=>G[_0x1ef365(0x217)](_0x4fdce6,_0x40081b)});_0xf96fc4[_0x1ef365(0x3cd)](0xc9)[_0x1ef365(0x90d)](_0x4c29ea);})[_0x4d9255(0x33a)](this[_0x4d9255(0x33d)](_0x4d9255(0x2fc)),..._0x114c1c,async(_0x1ad2e7,_0x2c860a)=>{const _0x14c96f=_0x4d9255;let _0x2506ea=await this[_0x14c96f(0x2a7)]({'request':_0x1ad2e7,'schema':ri,'ClassRef':yt,'execute':(_0x1a93b3,_0x39f529)=>G[_0x14c96f(0x333)](_0x1a93b3,_0x39f529)});_0x2c860a[_0x14c96f(0x3cd)](0xc9)[_0x14c96f(0x90d)](_0x2506ea);})[_0x4d9255(0x231)](this[_0x4d9255(0x33d)]('leaveGroup'),..._0x114c1c,async(_0x27f080,_0x3480f5)=>{const _0x279069=_0x4d9255;let _0x6742a5=await this['groupValidate']({'request':_0x27f080,'schema':{},'ClassRef':ie,'execute':(_0x503ea2,_0x395a09)=>G[_0x279069(0x7a7)](_0x503ea2,_0x395a09)});_0x3480f5['status'](0xc8)[_0x279069(0x90d)](_0x6742a5);});}},fi=require('express'),Mt=class extends W{constructor(_0x261ccb,..._0x36cbe8){const _0x195326=a0_0x2b042e;super(),this[_0x195326(0x865)]=_0x261ccb,this[_0x195326(0x6a4)]=(0x0,fi['Router'])();let _0x5261f5=_0x261ccb[_0x195326(0x7e0)]('AUTHENTICATION');this[_0x195326(0x6a4)][_0x195326(0x897)](_0x195326(0x893),..._0x36cbe8,async(_0x11aa56,_0x498557)=>{const _0x4f9c60=_0x195326;let {instanceName:_0x1253e2,apikey:_0x215697,number:_0x576cda}=_0x11aa56[_0x4f9c60(0x4ef)],_0x38aade=await he[_0x4f9c60(0x5a6)]({'instanceName':_0x1253e2,'apikey':_0x215697,'number':_0x576cda});return _0x498557[_0x4f9c60(0x3cd)](0xc9)[_0x4f9c60(0x90d)](_0x38aade);})[_0x195326(0x33a)](this[_0x195326(0x33d)](_0x195326(0x7fa)),..._0x36cbe8,async(_0x3aff4a,_0x1af5d3)=>{const _0x125cf4=_0x195326;let _0x1e9c1b=await this['dataValidate']({'request':_0x3aff4a,'schema':N,'ClassRef':M,'execute':_0x2bbdbe=>he['restartInstance'](_0x2bbdbe)});return _0x1af5d3[_0x125cf4(0x3cd)](0xc8)['json'](_0x1e9c1b);})[_0x195326(0x7e0)](this[_0x195326(0x33d)](_0x195326(0x883)),..._0x36cbe8,async(_0x3a805e,_0x58d404)=>{const _0x60b684=_0x195326;let _0x34fbe1=await this[_0x60b684(0x804)]({'request':_0x3a805e,'schema':N,'ClassRef':M,'execute':_0x17f181=>he['connectToWhatsappController'](_0x17f181)});return _0x58d404['status'](0xc8)[_0x60b684(0x90d)](_0x34fbe1);})[_0x195326(0x7e0)](this['routerPath'](_0x195326(0x7ad)),..._0x36cbe8,async(_0x30a5fe,_0x53aa17)=>{const _0x2caf21=_0x195326;let _0x8f720a=await this['dataValidate']({'request':_0x30a5fe,'schema':N,'ClassRef':M,'execute':_0x113309=>he['connectionState'](_0x113309)});return _0x53aa17[_0x2caf21(0x3cd)](0xc8)['json'](_0x8f720a);})[_0x195326(0x7e0)](this[_0x195326(0x33d)](_0x195326(0x550),!0x1),..._0x36cbe8,async(_0x568771,_0x10ef58)=>{const _0x1f4d5e=_0x195326;let _0x4030c9=await this[_0x1f4d5e(0x804)]({'request':_0x568771,'schema':null,'ClassRef':M,'execute':_0x119b89=>he[_0x1f4d5e(0x550)](_0x119b89)});return _0x10ef58[_0x1f4d5e(0x3cd)](0xc8)[_0x1f4d5e(0x90d)](_0x4030c9);})[_0x195326(0x231)](this[_0x195326(0x33d)](_0x195326(0x563)),..._0x36cbe8,async(_0x5dc62e,_0x246103)=>{const _0x1c17a9=_0x195326;let _0x40ab8c=await this[_0x1c17a9(0x804)]({'request':_0x5dc62e,'schema':N,'ClassRef':M,'execute':_0x2dff05=>he[_0x1c17a9(0x563)](_0x2dff05)});return _0x246103[_0x1c17a9(0x3cd)](0xc8)[_0x1c17a9(0x90d)](_0x40ab8c);})[_0x195326(0x231)](this[_0x195326(0x33d)](_0x195326(0x231)),..._0x36cbe8,async(_0x49af22,_0x4a25b6)=>{const _0x19a378=_0x195326;let _0x15a698=await this[_0x19a378(0x804)]({'request':_0x49af22,'schema':N,'ClassRef':M,'execute':_0x1ca5bb=>he[_0x19a378(0x678)](_0x1ca5bb)});return _0x4a25b6[_0x19a378(0x3cd)](0xc8)[_0x19a378(0x90d)](_0x15a698);});}},wi=require(a0_0x2b042e(0x3b6)),Rs=class{},K=class extends Rs{},Ct=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},ke=class extends K{},$t=class extends K{},Rt=class extends K{},At=class extends K{},It=class extends K{},Tt=class extends K{},_t=class{},Ot=class extends W{constructor(..._0x55d75f){const _0x17de35=a0_0x2b042e;super(),this[_0x17de35(0x6a4)]=(0x0,wi['Router'])(),this[_0x17de35(0x6a4)][_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x306)),..._0x55d75f,async(_0xc483e0,_0x38e07a)=>{const _0x35bc27=_0x17de35;let _0x588a58=await this[_0x35bc27(0x804)]({'request':_0xc483e0,'schema':Pa,'ClassRef':Ct,'execute':(_0x36e30a,_0x5c7076)=>H[_0x35bc27(0x306)](_0x36e30a,_0x5c7076)});return _0x38e07a[_0x35bc27(0x3cd)](0xc9)[_0x35bc27(0x90d)](_0x588a58);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x817)),..._0x55d75f,async(_0x5a78d4,_0x25c6c0)=>{const _0x1272e4=_0x17de35;let _0x1b49d9=await this[_0x1272e4(0x804)]({'request':_0x5a78d4,'schema':Ua,'ClassRef':ke,'execute':(_0x23dd0b,_0x376764)=>H['sendMedia'](_0x23dd0b,_0x376764)});return _0x25c6c0['status'](0xc9)[_0x1272e4(0x90d)](_0x1b49d9);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x291)),..._0x55d75f,async(_0x12103d,_0x3d0d29)=>{const _0x5afd76=_0x17de35;let _0x39b262=await this[_0x5afd76(0x804)]({'request':_0x12103d,'schema':qa,'ClassRef':Nt,'execute':(_0x42d1c4,_0x4c912e)=>H[_0x5afd76(0x291)](_0x42d1c4,_0x4c912e)});return _0x3d0d29[_0x5afd76(0x3cd)](0xc9)[_0x5afd76(0x90d)](_0x39b262);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x62f)),..._0x55d75f,async(_0x3f94d6,_0x1d909d)=>{const _0x563a71=_0x17de35;let _0x497146=await this[_0x563a71(0x804)]({'request':_0x3f94d6,'schema':ja,'ClassRef':ke,'execute':(_0x5136e1,_0x42f681)=>H['sendWhatsAppAudio'](_0x5136e1,_0x42f681)});return _0x1d909d[_0x563a71(0x3cd)](0xc9)[_0x563a71(0x90d)](_0x497146);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x3e0)),..._0x55d75f,async(_0x5253b6,_0x2d9841)=>{const _0x10ecc9=_0x17de35;let _0x27a3b4=await this['dataValidate']({'request':_0x5253b6,'schema':Va,'ClassRef':Rt,'execute':(_0x3aa092,_0x582570)=>H['sendButtons'](_0x3aa092,_0x582570)});return _0x2d9841[_0x10ecc9(0x3cd)](0xc9)[_0x10ecc9(0x90d)](_0x27a3b4);})[_0x17de35(0x897)](this[_0x17de35(0x33d)]('sendLocation'),..._0x55d75f,async(_0x4f7945,_0x2c38e7)=>{const _0x1c9475=_0x17de35;let _0x3532b9=await this['dataValidate']({'request':_0x4f7945,'schema':Ga,'ClassRef':At,'execute':(_0x2bbc3f,_0x5af528)=>H[_0x1c9475(0x45b)](_0x2bbc3f,_0x5af528)});return _0x2c38e7[_0x1c9475(0x3cd)](0xc9)[_0x1c9475(0x90d)](_0x3532b9);})['post'](this[_0x17de35(0x33d)](_0x17de35(0x706)),..._0x55d75f,async(_0x51bc28,_0x394e0d)=>{const _0x55c348=_0x17de35;let _0x99465d=await this['dataValidate']({'request':_0x51bc28,'schema':Ba,'ClassRef':It,'execute':(_0x281bf2,_0x29df43)=>H[_0x55c348(0x706)](_0x281bf2,_0x29df43)});return _0x394e0d[_0x55c348(0x3cd)](0xc9)['json'](_0x99465d);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x7e2)),..._0x55d75f,async(_0x3b7f7c,_0x3d8fe1)=>{const _0x4eb931=_0x17de35;let _0x551a90=await this[_0x4eb931(0x804)]({'request':_0x3b7f7c,'schema':Wa,'ClassRef':Tt,'execute':(_0x33e4e1,_0x57804c)=>H[_0x4eb931(0x7e2)](_0x33e4e1,_0x57804c)});return _0x3d8fe1[_0x4eb931(0x3cd)](0xc9)[_0x4eb931(0x90d)](_0x551a90);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x6be)),..._0x55d75f,async(_0x463fd1,_0x28c9e1)=>{const _0x914329=_0x17de35;let _0x479366=await this[_0x914329(0x804)]({'request':_0x463fd1,'schema':za,'ClassRef':_t,'execute':(_0x501a8f,_0x15b17d)=>H[_0x914329(0x6be)](_0x501a8f,_0x15b17d)});return _0x28c9e1['status'](0xc9)[_0x914329(0x90d)](_0x479366);})['post'](this[_0x17de35(0x33d)](_0x17de35(0x3d0)),..._0x55d75f,async(_0x26b819,_0x27e114)=>{const _0x324d51=_0x17de35;let _0x1ecc7e=await this[_0x324d51(0x804)]({'request':_0x26b819,'schema':Ja,'ClassRef':vt,'execute':(_0x33eef9,_0x1b945b)=>H[_0x324d51(0x3d0)](_0x33eef9,_0x1b945b)});return _0x27e114[_0x324d51(0x3cd)](0xc9)[_0x324d51(0x90d)](_0x1ecc7e);})[_0x17de35(0x897)](this[_0x17de35(0x33d)](_0x17de35(0x86a)),..._0x55d75f,async(_0x29359d,_0x1ba345)=>{const _0x2cf98c=_0x17de35;let _0x5a1c9=await this[_0x2cf98c(0x804)]({'request':_0x29359d,'schema':Fa,'ClassRef':Et,'execute':(_0x25c741,_0x24066c)=>H[_0x2cf98c(0x86a)](_0x25c741,_0x24066c)});return _0x1ba345['status'](0xc9)['json'](_0x5a1c9);})[_0x17de35(0x897)](this[_0x17de35(0x33d)]('sendSticker'),..._0x55d75f,async(_0x122384,_0x3902fe)=>{const _0x24be6c=_0x17de35;let _0x23f106=await this['dataValidate']({'request':_0x122384,'schema':La,'ClassRef':$t,'execute':(_0x50692a,_0x155ce4)=>H[_0x24be6c(0x598)](_0x50692a,_0x155ce4)});return _0x3902fe[_0x24be6c(0x3cd)](0xc9)[_0x24be6c(0x90d)](_0x23f106);});}},yi=require(a0_0x2b042e(0x3b6)),xt=class{},Dt=class extends W{constructor(..._0x558e6a){const _0x584424=a0_0x2b042e;super(),this[_0x584424(0x6a4)]=(0x0,yi[_0x584424(0x78e)])(),this['router'][_0x584424(0x897)](this['routerPath'](_0x584424(0x54a)),..._0x558e6a,async(_0x1bfefb,_0x379211)=>{const _0x21e506=_0x584424;let _0x1ac660=await this[_0x21e506(0x804)]({'request':_0x1bfefb,'schema':hi,'ClassRef':xt,'execute':(_0x7510a1,_0x5ce5d2)=>As[_0x21e506(0x8ad)](_0x7510a1,_0x5ce5d2)});_0x379211[_0x21e506(0x3cd)](0xc9)[_0x21e506(0x90d)](_0x1ac660);})[_0x584424(0x7e0)](this['routerPath'](_0x584424(0x6da)),..._0x558e6a,async(_0x1b7049,_0x51ad1a)=>{const _0x449f95=_0x584424;let _0x375e4c=await this[_0x449f95(0x804)]({'request':_0x1b7049,'schema':N,'ClassRef':M,'execute':_0x5e9bf6=>As[_0x449f95(0x510)](_0x5e9bf6)});_0x51ad1a[_0x449f95(0x3cd)](0xc8)[_0x449f95(0x90d)](_0x375e4c);});}},bi=require(a0_0x2b042e(0x3b6)),y=new $(a0_0x2b042e(0x3c9)),Pt=class extends W{constructor(..._0x2197c6){const _0x38a9d8=a0_0x2b042e;super(),this[_0x38a9d8(0x6a4)]=(0x0,bi[_0x38a9d8(0x78e)])(),this[_0x38a9d8(0x6a4)][_0x38a9d8(0x897)](this['routerPath'](_0x38a9d8(0x52a)),..._0x2197c6,async(_0x217470,_0x12f9ad)=>{const _0x1a00fd=_0x38a9d8;let _0x4f937d=_0x217470[_0x1a00fd(0x4ef)];y[_0x1a00fd(0x642)]('request\x20received\x20in\x20scheduleMessage'),y[_0x1a00fd(0x642)](_0x1a00fd(0x6a3)),y['verbose'](_0x217470[_0x1a00fd(0x4ef)]);let _0x479d16=await this[_0x1a00fd(0x804)]({'request':_0x217470,'schema':N,'ClassRef':M,'execute':_0x269712=>_[_0x1a00fd(0x705)](_0x269712,_0x4f937d)});_0x12f9ad[_0x1a00fd(0x3cd)](0xc8)[_0x1a00fd(0x90d)](_0x479d16);})[_0x38a9d8(0x7e0)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x52a)),..._0x2197c6,async(_0x52e2a2,_0x2d5284)=>{const _0x1ae0a8=_0x38a9d8;let _0x52e1ae=await this[_0x1ae0a8(0x804)]({'request':_0x52e2a2,'schema':N,'ClassRef':M,'execute':_0x4da65d=>_[_0x1ae0a8(0x35b)](_0x4da65d)});_0x2d5284[_0x1ae0a8(0x3cd)](0xc8)['json'](_0x52e1ae);})[_0x38a9d8(0x231)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x34b)),..._0x2197c6,async(_0x291bef,_0x44db5e)=>{const _0x40c78e=_0x38a9d8;y[_0x40c78e(0x642)](_0x40c78e(0x775));let _0x43c31b=await this['dataValidate']({'request':_0x291bef,'schema':N,'ClassRef':M,'execute':_0x27c5a9=>_['deleteDoneMessages'](_0x27c5a9)});_0x44db5e[_0x40c78e(0x3cd)](0xc8)[_0x40c78e(0x90d)](_0x43c31b);})[_0x38a9d8(0x897)](this['routerPath'](_0x38a9d8(0x485)),..._0x2197c6,async(_0x202532,_0x29a22f)=>{const _0x148299=_0x38a9d8;let _0x4df4cc=_0x202532['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x148299(0x642)]('request\x20body:\x20'),y['verbose'](_0x202532[_0x148299(0x4ef)]);let _0x2f18cd=await this[_0x148299(0x804)]({'request':_0x202532,'schema':N,'ClassRef':M,'execute':_0x7f2fe6=>_[_0x148299(0x485)](_0x7f2fe6,_0x4df4cc)});_0x29a22f[_0x148299(0x3cd)](0xc8)[_0x148299(0x90d)](_0x2f18cd);})[_0x38a9d8(0x7e0)](this[_0x38a9d8(0x33d)]('getAutomateSystem'),..._0x2197c6,async(_0x4b70b6,_0x37fab6)=>{const _0xb1da4d=_0x38a9d8;y[_0xb1da4d(0x642)]('request\x20received\x20in\x20getAutomateSystem');let _0x344767=await this[_0xb1da4d(0x804)]({'request':_0x4b70b6,'schema':N,'ClassRef':M,'execute':_0x12e26f=>_[_0xb1da4d(0x539)](_0x12e26f)});_0x37fab6[_0xb1da4d(0x3cd)](0xc8)[_0xb1da4d(0x90d)](_0x344767);})[_0x38a9d8(0x7e0)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x37d)),..._0x2197c6,async(_0x544bcb,_0x1d8f2b)=>{const _0x479091=_0x38a9d8;y[_0x479091(0x642)](_0x479091(0x459));let _0x36f8c8=await this[_0x479091(0x804)]({'request':_0x544bcb,'schema':N,'ClassRef':M,'execute':_0x543cd4=>_[_0x479091(0x539)](_0x543cd4)});_0x1d8f2b[_0x479091(0x3cd)](0xc8)[_0x479091(0x90d)](_0x36f8c8);})[_0x38a9d8(0x897)](this['routerPath'](_0x38a9d8(0x751)),..._0x2197c6,async(_0x328f75,_0xea5ef4)=>{const _0x516b38=_0x38a9d8;let _0x5115a9=_0x328f75[_0x516b38(0x4ef)];y[_0x516b38(0x642)](_0x516b38(0x40f)),y[_0x516b38(0x642)](_0x516b38(0x6a3)),y['verbose'](_0x328f75[_0x516b38(0x4ef)]);let _0x51b714=await this[_0x516b38(0x804)]({'request':_0x328f75,'schema':N,'ClassRef':M,'execute':_0x5bbf41=>_[_0x516b38(0x751)](_0x5bbf41,_0x5115a9)});_0xea5ef4[_0x516b38(0x3cd)](0xc8)['json'](_0x51b714);})['post'](this[_0x38a9d8(0x33d)]('updateCustomFields'),..._0x2197c6,async(_0x50f065,_0x7fff0c)=>{const _0x1a7391=_0x38a9d8;let _0x2cd865=_0x50f065['body'];y[_0x1a7391(0x642)](_0x1a7391(0x3eb)),y[_0x1a7391(0x642)](_0x1a7391(0x6a3)),y[_0x1a7391(0x642)](_0x50f065[_0x1a7391(0x4ef)]);let _0x332227=await this[_0x1a7391(0x804)]({'request':_0x50f065,'schema':N,'ClassRef':M,'execute':_0x130d19=>_['updateCustomFields'](_0x130d19,_0x2cd865)});_0x7fff0c[_0x1a7391(0x3cd)](0xc8)[_0x1a7391(0x90d)](_0x332227);})[_0x38a9d8(0x897)](this['routerPath'](_0x38a9d8(0x653)),..._0x2197c6,async(_0x583050,_0x40868a)=>{const _0xe85c06=_0x38a9d8;let _0x38b8e6=_0x583050[_0xe85c06(0x4ef)];y[_0xe85c06(0x642)](_0xe85c06(0x3d8)),y['verbose'](_0xe85c06(0x6a3)),y[_0xe85c06(0x642)](_0x583050[_0xe85c06(0x4ef)]);let _0x5acc01=await this[_0xe85c06(0x804)]({'request':_0x583050,'schema':N,'ClassRef':M,'execute':_0x244d0c=>_[_0xe85c06(0x653)](_0x244d0c,_0x38b8e6)});_0x40868a['status'](0xc8)[_0xe85c06(0x90d)](_0x5acc01);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)]('updateFlowConfig'),..._0x2197c6,async(_0x2443ea,_0x755ccd)=>{const _0x6d2dbd=_0x38a9d8;let _0x329a8e=_0x2443ea[_0x6d2dbd(0x4ef)];y[_0x6d2dbd(0x642)](_0x6d2dbd(0x218)),y['verbose'](_0x6d2dbd(0x6a3)),y[_0x6d2dbd(0x642)](_0x2443ea[_0x6d2dbd(0x4ef)]);let _0x2581ef=await this[_0x6d2dbd(0x804)]({'request':_0x2443ea,'schema':N,'ClassRef':M,'execute':_0x575516=>_['updateFlowConfig'](_0x575516,_0x329a8e)});_0x755ccd[_0x6d2dbd(0x3cd)](0xc8)[_0x6d2dbd(0x90d)](_0x2581ef);})['post'](this[_0x38a9d8(0x33d)](_0x38a9d8(0x449)),..._0x2197c6,async(_0x17c80c,_0x5bf0b5)=>{const _0x290a4b=_0x38a9d8;let _0x22c79b=_0x17c80c[_0x290a4b(0x4ef)];y[_0x290a4b(0x642)](_0x290a4b(0x3fb)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x17c80c[_0x290a4b(0x4ef)]);let _0x51ff1c=await this[_0x290a4b(0x804)]({'request':_0x17c80c,'schema':N,'ClassRef':M,'execute':_0x3b7be2=>_[_0x290a4b(0x449)](_0x3b7be2,_0x22c79b)});_0x5bf0b5[_0x290a4b(0x3cd)](0xc8)[_0x290a4b(0x90d)](_0x51ff1c);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x6a0)),..._0x2197c6,async(_0x1a4597,_0x57d9a1)=>{const _0x24f09d=_0x38a9d8;let _0x142910=_0x1a4597[_0x24f09d(0x4ef)];y['verbose']('request\x20received\x20in\x20fetchConversation'),y['verbose'](_0x24f09d(0x6a3)),y['verbose'](_0x1a4597['body']);let _0xbfd807=await this[_0x24f09d(0x804)]({'request':_0x1a4597,'schema':N,'ClassRef':M,'execute':_0x75c908=>_[_0x24f09d(0x6a0)](_0x75c908,_0x142910)});_0x57d9a1[_0x24f09d(0x3cd)](0xc8)[_0x24f09d(0x90d)](_0xbfd807);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x8d8)),..._0x2197c6,async(_0x114b34,_0x557422)=>{const _0xf90a96=_0x38a9d8;let _0x49b45c=_0x114b34[_0xf90a96(0x4ef)];y[_0xf90a96(0x642)](_0xf90a96(0x918)),y[_0xf90a96(0x642)](_0xf90a96(0x6a3)),y[_0xf90a96(0x642)](_0x114b34['body']);let _0x17e5fd=await this[_0xf90a96(0x804)]({'request':_0x114b34,'schema':N,'ClassRef':M,'execute':_0x508bbb=>_['editConversation'](_0x508bbb,_0x49b45c)});_0x557422['status'](0xc8)[_0xf90a96(0x90d)](_0x17e5fd);})[_0x38a9d8(0x231)](this[_0x38a9d8(0x33d)]('deleteConversation'),..._0x2197c6,async(_0x56b967,_0x2887c7)=>{const _0x2bb73b=_0x38a9d8;let _0x2ca4fb=_0x56b967[_0x2bb73b(0x4ef)];y[_0x2bb73b(0x642)](_0x2bb73b(0x84b)),y[_0x2bb73b(0x642)](_0x2bb73b(0x6a3)),y[_0x2bb73b(0x642)](_0x56b967[_0x2bb73b(0x4ef)]);let _0x370a34=await this[_0x2bb73b(0x804)]({'request':_0x56b967,'schema':N,'ClassRef':M,'execute':_0x306cdf=>_[_0x2bb73b(0x24a)](_0x306cdf,_0x2ca4fb)});_0x2887c7[_0x2bb73b(0x3cd)](0xc8)[_0x2bb73b(0x90d)](_0x370a34);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x601)),..._0x2197c6,async(_0x18ebaf,_0x19d730)=>{const _0x11c956=_0x38a9d8;let _0x493354=_0x18ebaf['body'],_0x1300b4=_0x18ebaf[_0x11c956(0x825)][_0x11c956(0x7b4)];y[_0x11c956(0x642)](_0x11c956(0x51d)),y[_0x11c956(0x642)](_0x11c956(0x6a3)),y[_0x11c956(0x642)](_0x18ebaf['body']);let _0x3e9629=await this['dataValidate']({'request':_0x18ebaf,'schema':N,'ClassRef':M,'execute':_0x4585d9=>_['createFlow'](_0x4585d9,_0x493354,_0x1300b4)});_0x19d730[_0x11c956(0x3cd)](0xc8)[_0x11c956(0x90d)](_0x3e9629);})[_0x38a9d8(0x897)](this['routerPath']('editflow'),..._0x2197c6,async(_0x83eff0,_0x592eae)=>{const _0x281276=_0x38a9d8;let _0x3518a1=_0x83eff0[_0x281276(0x4ef)],_0xc97512=_0x83eff0[_0x281276(0x825)][_0x281276(0x7b4)];y[_0x281276(0x642)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x281276(0x642)](_0x83eff0[_0x281276(0x4ef)]),delete _0x3518a1['blocks'],delete _0x3518a1[_0x281276(0x4a4)],delete _0x3518a1['groups'],delete _0x3518a1[_0x281276(0x39c)];let _0x200758=await this[_0x281276(0x804)]({'request':_0x83eff0,'schema':N,'ClassRef':M,'execute':_0x2baf38=>_[_0x281276(0x71c)](_0x2baf38,_0x3518a1,_0xc97512)});_0x592eae[_0x281276(0x3cd)](0xc8)[_0x281276(0x90d)](_0x200758);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)]('editflowblock'),..._0x2197c6,async(_0x4b5f5e,_0x2e72a2)=>{const _0x23b09d=_0x38a9d8;let _0x3db3d9=_0x4b5f5e[_0x23b09d(0x4ef)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x23b09d(0x642)]('request\x20body:\x20'),y[_0x23b09d(0x642)](_0x4b5f5e[_0x23b09d(0x4ef)]);let _0x15313f=await this['dataValidate']({'request':_0x4b5f5e,'schema':N,'ClassRef':M,'execute':_0x370834=>_['editFlowBlock'](_0x370834,_0x3db3d9)});_0x2e72a2[_0x23b09d(0x3cd)](0xc8)['json'](_0x15313f);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x74d)),..._0x2197c6,async(_0x312897,_0x5deefc)=>{const _0x3956bc=_0x38a9d8;let _0x37fe62=_0x312897[_0x3956bc(0x4ef)];y[_0x3956bc(0x642)](_0x3956bc(0x644)),y[_0x3956bc(0x642)](_0x3956bc(0x6a3)),y[_0x3956bc(0x642)](_0x312897['body']);let _0xdee794=await this['dataValidate']({'request':_0x312897,'schema':N,'ClassRef':M,'execute':_0x5f4333=>_[_0x3956bc(0x7ce)](_0x5f4333,_0x37fe62)});_0x5deefc[_0x3956bc(0x3cd)](0xc8)[_0x3956bc(0x90d)](_0xdee794);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)]('editflowvaredit'),..._0x2197c6,async(_0x443ec6,_0x514158)=>{const _0x16b1c0=_0x38a9d8;let _0x4f7625=_0x443ec6[_0x16b1c0(0x4ef)];y[_0x16b1c0(0x642)](_0x16b1c0(0x644)),y[_0x16b1c0(0x642)](_0x16b1c0(0x6a3)),y[_0x16b1c0(0x642)](_0x443ec6[_0x16b1c0(0x4ef)]);let _0x385763=await this['dataValidate']({'request':_0x443ec6,'schema':N,'ClassRef':M,'execute':_0x32c889=>_[_0x16b1c0(0x39e)](_0x32c889,_0x4f7625)});_0x514158[_0x16b1c0(0x3cd)](0xc8)[_0x16b1c0(0x90d)](_0x385763);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x454)),..._0x2197c6,async(_0x9a0afa,_0x351861)=>{const _0xc64412=_0x38a9d8;let _0x3a2720=_0x9a0afa[_0xc64412(0x4ef)];y[_0xc64412(0x642)]('request\x20received\x20in\x20editFlowgroup'),y['verbose'](_0xc64412(0x6a3)),y[_0xc64412(0x642)](_0x9a0afa[_0xc64412(0x4ef)]);let _0x2801ae=await this['dataValidate']({'request':_0x9a0afa,'schema':N,'ClassRef':M,'execute':_0x95fe55=>_[_0xc64412(0x3bb)](_0x95fe55,_0x3a2720)});_0x351861[_0xc64412(0x3cd)](0xc8)['json'](_0x2801ae);})['post'](this[_0x38a9d8(0x33d)]('editflowcondition'),..._0x2197c6,async(_0x55a4a1,_0x5c6c9f)=>{const _0x256ee7=_0x38a9d8;let _0x1f758c=_0x55a4a1['body'];y[_0x256ee7(0x642)](_0x256ee7(0x380)),y[_0x256ee7(0x642)](_0x256ee7(0x6a3)),y[_0x256ee7(0x642)](_0x55a4a1[_0x256ee7(0x4ef)]);let _0x19738f=await this[_0x256ee7(0x804)]({'request':_0x55a4a1,'schema':N,'ClassRef':M,'execute':_0x554f35=>_['editFlowCondition'](_0x554f35,_0x1f758c)});_0x5c6c9f[_0x256ee7(0x3cd)](0xc8)[_0x256ee7(0x90d)](_0x19738f);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x5eb)),..._0x2197c6,async(_0x1e4a6f,_0x284300)=>{const _0x529163=_0x38a9d8;let _0x1f7361=_0x1e4a6f[_0x529163(0x4ef)];y[_0x529163(0x642)]('request\x20received\x20in\x20editFlowvariable'),y[_0x529163(0x642)]('request\x20body:\x20'),y[_0x529163(0x642)](_0x1e4a6f[_0x529163(0x4ef)]);let _0x494bea=await this[_0x529163(0x804)]({'request':_0x1e4a6f,'schema':N,'ClassRef':M,'execute':_0x1c2190=>_[_0x529163(0x620)](_0x1c2190,_0x1f7361)});_0x284300[_0x529163(0x3cd)](0xc8)[_0x529163(0x90d)](_0x494bea);})[_0x38a9d8(0x897)](this[_0x38a9d8(0x33d)](_0x38a9d8(0x780)),..._0x2197c6,async(_0x176e22,_0x4e79cc)=>{const _0x12e155=_0x38a9d8;let _0x26a75d=_0x176e22['body'];y[_0x12e155(0x642)](_0x12e155(0x244)),y[_0x12e155(0x642)](_0x12e155(0x6a3)),y[_0x12e155(0x642)](_0x176e22[_0x12e155(0x4ef)]);let _0x2f73e0=await this[_0x12e155(0x804)]({'request':_0x176e22,'schema':N,'ClassRef':M,'execute':_0xeba0ad=>_['getFlow'](_0xeba0ad,_0x26a75d)});_0x4e79cc[_0x12e155(0x3cd)](0xc8)[_0x12e155(0x90d)](_0x2f73e0);})[_0x38a9d8(0x231)](this[_0x38a9d8(0x33d)]('deleteflow'),..._0x2197c6,async(_0x50bae1,_0x58a293)=>{const _0x79c51c=_0x38a9d8;let _0x2186a0=_0x50bae1['body'];y[_0x79c51c(0x642)]('request\x20received\x20in\x20deleteFlow'),y[_0x79c51c(0x642)](_0x79c51c(0x6a3)),y['verbose'](_0x50bae1[_0x79c51c(0x4ef)]);let _0x54c529=await this[_0x79c51c(0x804)]({'request':_0x50bae1,'schema':N,'ClassRef':M,'execute':_0x229463=>_[_0x79c51c(0x752)](_0x229463,_0x2186a0)});_0x58a293[_0x79c51c(0x3cd)](0xc8)[_0x79c51c(0x90d)](_0x54c529);})[_0x38a9d8(0x7e0)](this['routerPath'](_0x38a9d8(0x8a4)),..._0x2197c6,async(_0x48920c,_0x5c3158)=>{const _0x37cda9=_0x38a9d8;y[_0x37cda9(0x642)](_0x37cda9(0x20f));let _0x411843=await this['dataValidate']({'request':_0x48920c,'schema':N,'ClassRef':M,'execute':_0x41c489=>_['allFlows'](_0x41c489)});_0x5c3158['status'](0xc8)['json'](_0x411843);});}},Ei=I(require(a0_0x2b042e(0x1f5))),oe={};function Si(_0x108d5f,_0x5a9167,_0x47714b,_0x3b60f1){oe[_0x108d5f]||(oe[_0x108d5f]={}),oe[_0x108d5f][_0x5a9167]={'id':_0x5a9167,'response':_0x47714b,'events':_0x3b60f1};}function Mi(_0x205322,_0x4a757b){!oe[_0x205322]||!oe[_0x205322][_0x4a757b]||delete oe[_0x205322][_0x4a757b];}function q(_0x15177e,_0x1b6426,_0x47723c){const _0x21d1fd=a0_0x2b042e;if(!oe[_0x15177e])return;let _0xfba788=_0x21d1fd(0x5b3)+JSON[_0x21d1fd(0x254)](_0x47723c)+'\x0a\x0a';Object[_0x21d1fd(0x88c)](oe[_0x15177e])[_0x21d1fd(0x1e3)](_0x591e41=>{const _0x365585=_0x21d1fd;_0x591e41[_0x365585(0x4db)][_0x365585(0x8ef)](_0x1b6426)&&_0x591e41[_0x365585(0x80a)][_0x365585(0x551)](_0xfba788);});}function Ci(){const _0x17d212=a0_0x2b042e;let _0x27a6b0={};for(let _0x17929a in oe)_0x27a6b0[_0x17929a]=Object['values'](oe[_0x17929a])[_0x17d212(0x633)](_0x50e639=>({'id':_0x50e639['id'],'events':_0x50e639[_0x17d212(0x4db)]}));return _0x27a6b0;}var vi=require(a0_0x2b042e(0x480)),Ts=require(a0_0x2b042e(0x5a9)),Is=class{},_o=new Ts['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Oo=new Ts['Schema']({'_id':{'type':String,'default':a0_0x2b042e(0x91e)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=A?.[a0_0x2b042e(0x45f)](Is[a0_0x2b042e(0x69b)],Oo,'All_Instances_Config'),xo=Ei[a0_0x2b042e(0x1f4)][a0_0x2b042e(0x8f2)](__dirname,a0_0x2b042e(0x791)),Le=(0x0,kt[a0_0x2b042e(0x78e)])(),Do=S[a0_0x2b042e(0x7e0)](a0_0x2b042e(0x3bf))[a0_0x2b042e(0x759)],ce=[Ia,Ta,xa[Do]];Le[a0_0x2b042e(0x463)]('/media',kt[a0_0x2b042e(0x1f4)][a0_0x2b042e(0x7b8)](xo))['get'](a0_0x2b042e(0x5d8),async(_0x5b682c,_0x299f36)=>{const _0x358808=a0_0x2b042e;console[_0x358808(0x364)](_0x358808(0x494));let _0x23121a=_0x5b682c['params'][_0x358808(0x60b)],_0x19acb3=(_0x5b682c[_0x358808(0x321)][_0x358808(0x4db)]||'')['split'](','),_0x3cbe8f=(0x0,vi['v4'])();console[_0x358808(0x364)](_0x358808(0x8a1),_0x23121a),console[_0x358808(0x364)]('Subscribed\x20Events:',_0x19acb3);let _0x610c12=S[_0x358808(0x7e0)](_0x358808(0x3bf))[_0x358808(0x682)],_0x2ed6d4=_0x5b682c[_0x358808(0x321)][_0x358808(0x7b4)];if(console[_0x358808(0x364)]('API\x20Key\x20from\x20Request:',_0x2ed6d4),_0x610c12[_0x358808(0x36b)]!==_0x2ed6d4){console[_0x358808(0x364)](_0x358808(0x798));try{let _0x5cfa21=await ye['auth']['find'](_0x23121a);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x5cfa21),!_0x5cfa21||_0x5cfa21[_0x358808(0x7b4)]!==_0x2ed6d4)return console[_0x358808(0x364)](_0x358808(0x709)),_0x299f36[_0x358808(0x3cd)](0x191)[_0x358808(0x584)](_0x358808(0x2f5));}catch(_0x786c4c){return console[_0x358808(0x71a)](_0x358808(0x4c1),_0x786c4c),_0x299f36[_0x358808(0x3cd)](0x191)[_0x358808(0x584)](_0x358808(0x225));}}if(!await Oe(_0x23121a))return _0x299f36[_0x358808(0x3cd)](0x194)[_0x358808(0x584)](_0x358808(0x53f));_0x299f36['setHeader'](_0x358808(0x360),_0x358808(0x376)),_0x299f36['setHeader'](_0x358808(0x541),_0x358808(0x2f0)),_0x299f36['setHeader'](_0x358808(0x5c1),_0x358808(0x609)),_0x299f36[_0x358808(0x436)]();let _0x61d050=_0x358808(0x5b3)+JSON[_0x358808(0x254)]({'info':_0x358808(0x7ed)})+'\x0a\x0a';_0x299f36[_0x358808(0x551)](_0x61d050),Si(_0x23121a,_0x3cbe8f,_0x299f36,_0x19acb3),_0x5b682c['on'](_0x358808(0x409),()=>{const _0x1ecf72=_0x358808;console[_0x1ecf72(0x364)](_0x1ecf72(0x1fe)+_0x23121a),Mi(_0x23121a,_0x3cbe8f);});}),Le[a0_0x2b042e(0x897)]('/startFlow/:instance/:startID',async(_0x3ef985,_0x52fe8b)=>{const _0xf8a839=a0_0x2b042e;console[_0xf8a839(0x364)](_0xf8a839(0x2b1));let _0x27c74b=_0x3ef985[_0xf8a839(0x2cd)][_0xf8a839(0x60b)],_0x6f864b=_0x3ef985['params'][_0xf8a839(0x4f8)],_0x2ebc3e=_0x3ef985[_0xf8a839(0x321)][_0xf8a839(0x786)]||'',_0x3785e6=_0x3ef985[_0xf8a839(0x4ef)];console[_0xf8a839(0x364)]('Instance\x20Name:',_0x27c74b),console[_0xf8a839(0x364)](_0xf8a839(0x64f),_0x6f864b),console[_0xf8a839(0x364)](_0xf8a839(0x6f9),_0x2ebc3e),console[_0xf8a839(0x364)](_0xf8a839(0x4ea),_0x3785e6);try{if(!await Oe(_0x27c74b))return _0x52fe8b[_0xf8a839(0x3cd)](0x194)[_0xf8a839(0x584)](_0xf8a839(0x53f));let _0x4afed9=await _[_0xf8a839(0x524)](_0x27c74b,_0x6f864b,_0x2ebc3e,_0x3785e6);_0x52fe8b[_0xf8a839(0x584)](_0x4afed9);}catch(_0xcbaa7){console[_0xf8a839(0x71a)](_0xcbaa7),_0x52fe8b[_0xf8a839(0x3cd)](0x1f4)['send'](_0xf8a839(0x835));}}),Le[a0_0x2b042e(0x7e0)](a0_0x2b042e(0x3e1),(_0x4b4e7b,_0x5b10db)=>{const _0x4fb843=a0_0x2b042e;let _0x1ba903=Ci();_0x5b10db[_0x4fb843(0x90d)](_0x1ba903);})['get']('/',(_0x7cab6f,_0x57e989)=>{const _0x33c9c7=a0_0x2b042e;let _0x149fb9=S['get']('SERVER')[_0x33c9c7(0x7bd)];if(_0x149fb9){let _0x26cac3=encodeURIComponent(''+_0x149fb9);_0x57e989['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x26cac3);return;}let _0xa7930d=S[_0x33c9c7(0x7e0)](_0x33c9c7(0x8a8)),_0x1d51af=_0xa7930d&&_0xa7930d[_0x33c9c7(0x2de)][_0x33c9c7(0x5d7)]('/')[0x4];if(_0x1d51af){let _0x1cfb7=encodeURIComponent(_0x33c9c7(0x26c)+_0x1d51af);_0x57e989[_0x33c9c7(0x6eb)](_0x33c9c7(0x926)+_0x1cfb7);}else _0x57e989[_0x33c9c7(0x6eb)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x2b042e(0x33a)]('/exit',...ce,async(_0x5545c7,_0x29b0bc)=>{const _0x3215e3=a0_0x2b042e;try{console[_0x3215e3(0x364)](_0x3215e3(0x6b2)),_0x29b0bc[_0x3215e3(0x3cd)](0xc8)[_0x3215e3(0x90d)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x29b0bc['on'](_0x3215e3(0x5e1),()=>process[_0x3215e3(0x82c)](0x0));}catch(_0x2efe7b){console[_0x3215e3(0x71a)](_0x3215e3(0x2ad),_0x2efe7b),_0x29b0bc['status'](0x1f4)[_0x3215e3(0x90d)]({'message':_0x3215e3(0x6d7)});}})[a0_0x2b042e(0x33a)]('/config',...ce,async(_0x551c44,_0x5f473e)=>{const _0x206536=a0_0x2b042e;try{let _0x417465=_0x551c44[_0x206536(0x4ef)];await Ne[_0x206536(0x2ba)]({},{'$set':_0x417465},{'upsert':!0x0});let _0x12663b=await Ne[_0x206536(0x296)]();_0x5f473e[_0x206536(0x90d)](_0x12663b);}catch(_0x1ad767){_0x5f473e[_0x206536(0x3cd)](0x190)[_0x206536(0x584)](_0x1ad767['message']);}})[a0_0x2b042e(0x7e0)](a0_0x2b042e(0x292),...ce,async(_0x27024b,_0xc7655)=>{const _0x332d6e=a0_0x2b042e;try{let _0x2dc57c=await Ne['findOne']();if(!_0x2dc57c)return _0xc7655['json']({});_0xc7655[_0x332d6e(0x90d)](_0x2dc57c);}catch(_0x58ac7e){_0xc7655[_0x332d6e(0x3cd)](0x1f4)[_0x332d6e(0x584)](_0x58ac7e[_0x332d6e(0x239)]);}})[a0_0x2b042e(0x463)](a0_0x2b042e(0x423),new Mt(S,...ce)[a0_0x2b042e(0x6a4)])[a0_0x2b042e(0x463)]('/message',new Ot(...ce)[a0_0x2b042e(0x6a4)])[a0_0x2b042e(0x463)](a0_0x2b042e(0x2a5),new dt(...ce)[a0_0x2b042e(0x6a4)])['use'](a0_0x2b042e(0x3ed),new St(...ce)['router'])[a0_0x2b042e(0x463)](a0_0x2b042e(0x877),new Dt(...ce)[a0_0x2b042e(0x6a4)])['use'](a0_0x2b042e(0x39d),new Pt(...ce)[a0_0x2b042e(0x6a4)]);function a0_0x1876(){const _0x3f6c8f=['):\x20delete\x20=\x20true','unreadCount','cors','static','PLAYED','\x20mensagens\x20de\x20','processConditions','.svg','URL',',\x20isAdmin:\x20','viewOnceMessageV2','createJid','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20atualização\x20chat:\x20','resetReconnectionVariables','BRL','contextInfo','-whatsapp-api','groups.update','):\x20isVote:\x20','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','filter','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20',',\x20global:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','editFlowReply','vir','findGroups','creds.update','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','inet6','stopConversation','downloadMediaMessage','firstValue','CORS_METHODS','EMAIL:','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','autoCompleteMessages','online','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','https://ipv6.jsonip.com','):Processing\x20audio','integer','get','reconnectAttempts','sendContact','send.message','\x1b[34m','insert','GET','DOCKER_ENV','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):Hash\x20to\x20image\x20name:\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','subject','dbConnection','Conexão\x20estabelecida','URL\x20não\x20disponível','deleteMessage','/media/','messageTimestamp','readdirSync','https','):Trying\x20to\x20get\x20business\x20profile','inviteCode','decryptPollVote','GROUP_PARTICIPANTS_UPDATE',',\x20fará\x20nova\x20verificação\x20em\x20','Deletion\x20failed','restart','importChats','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','reduce','fileLength','gifPlayback','):\x20Flow\x20\x27','webhookModel','652254ZoHUeQ','lastUpdate','dataValidate','auth','updateStatusPrivacy','viewOnceMessage','.jwt','updateChatGroupData','response','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','indexOf','WARN','stopMinutesMaxActives','updateMissingCustomFields','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','website','synchronizeAndMapFlows','chats.update','#92ceac','Operador:\x20\x22','Invalid\x20format','sendMedia','copyBlock','Resultado\x20da\x20correspondência\x20de\x20URL:','next_groupId','where','CONNECTION_UPDATE','#d8e651','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','open','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','#9ab6c1','14qZGNTO','statSync','exports','headers','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):Converted\x20image\x20deleted','Erro\x20ao\x20atualizar\x20o\x20flow.','Erro\x20ao\x20atualizar\x20conversa:\x20','Error\x20in\x20scheduleNextCheck:\x20','):\x20','exit','this.reconnectAttempts:\x20','flowConversation','!stop','audioWhatsapp','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Db\x20Connection','startsWith','Erro\x20ao\x20iniciar\x20o\x20fluxo.','enumerable','#dfaef0','ff:fe','contacts.update','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Message','result','catch','backgroundColor','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','trimmed','newStoppedUntil','menuIgnoreNonVotes','approve','triedToSend','\x20segundos','minutesToClose','connectionStatus','blocks','IPv6\x20address\x20removed:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','request\x20received\x20in\x20deleteConversation','matchRegex','END:VCARD','truncatedto','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','#83e421','and','pow','deleteMessageForEveryone','INFO','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','DATABASE_CONNECTION_URI','encoding','contacts.upsert','lastMessage','GUARD','views','ON\x20-\x20dbName:\x20','instanceInfo','--------------------------------------','The\x20','eventemitter2','temp-','testingWith','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','writeData','configService','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','\x22\x20cannot\x20be\x20empty','):Image\x20path:\x20','sendStatus','contactHandle','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','removeInstance','groupHandler','):\x20Entrou\x20na\x20função\x20scheduleFlow','qrcode.updated','lean','PORT','size','615940xzTuru','!cmd_','deleteBlock','/webhook','add','176SueByk','getUpdate','Telefone:\x20','messageType','detectIPv6PrefixAndInterface','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','redis://127.0.0.1:6379','object','\x1b[47m','qrcode','connect','pairingCode','saveVariable','getTime','getUniqueFlowName','trim','none','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Last\x20message\x20not\x20found','values','flowActive','deleteMany','updateStopChat','getProfileName','.extension','IPv6\x20addresses\x20detected:\x20','/create','entries',',\x20Expiration\x20Time:\x20','10346qBOoxe','post','getOwnPropertyDescriptor','unreadcount','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','authorization','isURL','Mac\x20OS','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','rm\x20-rf\x20','removeIPv6ById','Instance\x20ID:','):\x20\x27Enviando\x20mídia\x20para\x20\x27','.ppt','allflows','ids','nome','makeCacheableSignalKeyStore','SSL_CONF','):\x20Procurando\x20conversa','[all]','Content\x20is\x20required','min','createWebhook','stopIfLastReturnedError','\x0a*Você\x20respondeu*:\x0a','splice','):\x20Entrou\x20na\x20função\x20stop','ORG:','^\x5cd+','):\x20Chat\x20','Número\x20não\x20possui\x20WhatsApp.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','audioMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','https://api.elevenlabs.io/v1/text-to-speech/','pollCreationMessage','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','.fileUrl','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Subdomínio\x20final:','parse','collection','REDIS','$pull','toUpperCase','chats.set','some','\x20depois\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','lastSendMessage','error\x20get\x20vote','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','defineAuthState','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x27\x20removido\x20do\x20AutomateSystem.','delayChatLabel_MAX_RETRIES','audio/ogg','getBase64FromMediaMessage','\x20\x1b[0m','#6f7bcf','digest','getLastMessage','http://checkip.dyndns.org','USER','editConversation','latitude','addReplyOption','):\x20Adicionando\x20\x27','groupdata','\x1b[37m','text','flows','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','-instances','createFlow','segundos','Início','LOG','fetchChats','QRCODE_UPDATED','imported','all_member_add','):\x20Procurando\x20mensagens\x20para\x20envio','pt-BR','floor','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','includes','allFlows','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','join','):\x20\x27Enviando\x20audio\x20para\x20\x27','toNumber','item','setWebhook','videoMessage','Internal\x20Server\x20Error','updateMany','\x5c$&','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','randomMac','.doc','Falta\x20informação\x20para\x20a\x20chamada\x20API','Fluxo\x20id\x20\x27','mentions','toDataURL','convertaudioMP3','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','buttonId','order','Configured\x20IPv6:\x20','pop',',\x20resultado:\x20','apiResponse','chatId','folder','json','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','delayMessage','throwAndLogError','MESSAGES_SET','CONNECTION','convertaudio','update','writeFileSync','variable','statusJidList','request\x20received\x20in\x20editConversation','toBrazilianNumberFormat','removeIPv6','Erro\x20ao\x20iniciar\x20fluxo:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20conversation.lastInteraction:\x20','config','command','cwd','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','pollOnReplyDelete','labels.edit','normalizeMessageContent','https://uazapi-plugin.bubbleapps.io/?url=','urlencoded','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','https://api.openai.com/v1/audio/speech','authModel','repeat','forEach','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','fetchLabels','dbServer','/wa-qrcode','connectedClient','@whiskeysockets/baileys','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Tentando\x20reconectar...','fetchProfilePictureUrl','RECONNECT_TIME_FRAME','Forbidden','.docx','basename','ReplyOption\x20com\x20ID\x20','urlOrBase64','PRODUCT_LIST','default','path','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','match','delaySecMax','sha256','type','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','STORE_MESSAGE','GROUPS_UPDATE','Connection\x20closed\x20for\x20instance:\x20','flow','contains','composing','\x20com\x20sucesso.','eventHandler','presence','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','removeProfilePicture','CacheContacts\x20database\x20connection\x20closed.','\x20minutos','Cache\x20instance\x20update\x20result:\x20','/wa-groups','checkAndRestartProcess','Instâncias\x20removidas:\x20','This\x20name\x20','):\x20Usando\x20extensão\x20padrão:\x20','request\x20received\x20in\x20allFlows','Contacts\x20not\x20found','createIPv6','Error\x20updating\x20message\x20status:','Erro\x20ao\x20editar\x20a\x20conversa','DD/MM\x20HH:mm:ss','docker',',\x20Comparador:\x20','revokeInviteCode','request\x20received\x20in\x20updateFlowConfig','description','File\x20written\x20to\x20path:\x20','toFile','convert','\x20não\x20encontrado\x20para\x20atualização.','/instance/delete','\x20:\x20','axios','#9ba6ff','formatVCard','from','Types','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','ListMessage','capitalizedWords','groupInviteCode','fromObject','promisify','replaceVariables','hGet','errors','Button\x20texts\x20cannot\x20be\x20repeated','stanzaId','delete','Flow\x20\x27','audio/ogg;\x20codecs=opus','):\x20Criando\x20fluxo...','):\x20Editando\x20mensagens\x20no\x20grupo...','dbClient','random','toLowerCase','message','changeVariables','descOwner','stopWhenYouSendMsg','LEVEL','chats','Erro\x20ao\x20deletar\x20a\x20conversa','instance.','):\x20Limpando\x20AutomateSystem','MAX_SAFE_INTEGER','birthtime','request\x20received\x20in\x20getFlow','Database\x20update\x20result:','info','AUTHENTICATION_API_KEY','ConversationModel','refused','deleteConversation','\x1b[34m%s\x1b[0m','IPv6\x20address\x20configured:\x20','color','connectionUpdate','saveConversationToDatabase','getMessageModelForOwner','updateMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','hex','stringify','phoneNumber','sections','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','existsSync','OrAnd','\x27\x20do\x20banco\x20de\x20dados...','chats.upsert','originalUrl','promote','CHATS_SET','listResponseMessage','joinGroupValidate','delayChatLabel_RETRY_DELAY_MS','content','substring','sendMessage','#56ccb4','Logger','groupMemberAddMode','\x20não\x20encontrado\x20para\x20cópia','Mensagem\x20não\x20suportada','createNewConversation','getScheduleMessageModelForOwner','https://','):\x20Editando\x20replyOption...','/wa-presence','\x1b[0m','loggedOut','SUCCESS','replacer','.mimetype','whoCanEdit','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','lastBlockId','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','updatePresence','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','messageContextInfo','\x1b[46m','Error\x20removing\x20IPv6\x20address:\x20','profileName','connecting','messages','):\x20Query\x20params:','fetchStatus','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','messages.update','networkInterface','flowName','Data\x20inválida\x20fornecida','):\x20expirationTime:\x20','):Image\x20created','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','contact','myAppStateKeyId','scheduleSendText','\x27\x20não\x20encontrado','sendMenu','/config','address','createConnection','):\x20Não\x20achou\x20nenhum\x20flow','findOne','ContactModel','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','content-type','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','waMonitor','isRunning','parseInt','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20ev.flush\x20realizado','_ScheduleMessages','owner','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','getMessage','/chat','?timestamp=','groupValidate','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Novo\x20IP\x20criado:\x20','pendingMessages','getVariablesChat','editOperator','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','unknown\x20operation\x20type\x20[','mediatype','\x20Tentativa\x20de\x20reconexão\x20','iniciando\x20fluxo\x20router','Error\x20writing\x20file:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','Primeiro\x20Valor:\x20','):Fetching\x20business\x20profile','Font\x20is\x20required','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','caption','\x20foi\x20interrompido\x20pelo\x20usuário.','updateOne','recebido\x20de','arraybuffer','lastReceivedMessage','secondValue','The\x20global\x20api\x20key\x20must\x20be\x20set','\x27...','conversation','importChatsBatch','truncatedtoEnd','notas','statusMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','\x20and\x20data:','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','action','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','processUUID','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','params','padEnd','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','/instance/create','CONTACTS_UPSERT','public','test','/wa-all-message','#9568cf','Subdomínio\x20extraído\x20da\x20URL:','storePath','desc','restrict','paused','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','no.connection','authService','FULLCHAIN','true','participant','evaluateCondition','lastSend','NextBlock','38685ZFMvYv','updatePrivacySettings','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','profilePictureUrl','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','\x1b[1m\x1b[37m','remove','documentWithCaptionMessage','pollCreationMessageKey','client','no-cache','createSectionsFromValues','fetchBusinessProfile','upsertChats','context','API\x20Key\x20inválida.','push','padStart','closed','cachedData-whatsapp','upsertedCount','choices','updateParticipant','selectableCount','PREFIX_KEY','has','media','uazapiSendMenu','array','isJidUser','getOwnPropertyNames','FlowController','sendText','webhookService','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20Enviando\x20áudio','cacheInstanceRepository','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','):\x20whoCanUse\x20after\x20validation:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','setNewValue','organization','_activatedCount','locationMessage','fone','Erro\x20ao\x20deletar\x20mensagens:','readFile','.url','AddUserFlow','class-validator','updateGParticipant','oldValue','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','.wav','No\x20suitable\x20network\x20interface\x20found','852zSQkBH','yes','mongodb','Read\x20messages','query','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','createOrUpdate','fileName','$dbName','_Messages','buttonText','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','endsWith','updateGroupsAddPrivacy','inviteUrl','responsavelid','whatsappNumber','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','unlocked','isArray','):\x20enviado\x20para\x20[','deleteChat','updateGParticipate','linkPreview','fetchPrivacySettings','updateConversation','findAndReplace','ipv6Prefix','\x0a{\x20instance:\x20','put','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','updateBlock','routerPath','CONECTADO\x20À\x20UAZAPI','option','ip\x20-br\x20link\x20show','global','REDIS_URI','updateProfileStatus','Falha\x20ao\x20processar\x20a\x20solicitação','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','SERVER_PORT','error_log','archiveChat','chatLog','addresss','deleteDoneMessages','participants','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20Grupo\x20','):\x20conversation.waitingMenu_name','groups_ignore','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','protocolMessage','extractPhoneNumber','saveMediaToFile','ContactsAndGroups','Instance\x20restarted','jsonwebtoken','imgUrl','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','InstancesAlterarTodas','getScheduleMessage','fromMe','rowId','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[31m','Content-Type','ip6eui','):\x20Editando\x20condição\x20do\x20fluxo...','createConversationforgoToFlow','log','enviado\x20para','groupLeave','Erro\x20ao\x20adicionar\x20label\x20','Instance\x20logged\x20out','generateRandomIPv6','dbSettings','KEY','getLabelModelForOwner','pushName','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','isAdmin','?authSource=admin&readPreference=primary&directConnection=true','collections','HH:mm:ss','exists','groupJid','134865LyqrKT','text/event-stream','Schema','varedits','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','}}\x20->\x20valor\x20não\x20encontrado','):\x20Falha\x20ao\x20deletar\x20mensagem.','unlinkSync','getTicketSystem','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','variablesToObject','request\x20received\x20in\x20editFlowcondition','groupRequestParticipantsList','STORE_CHATS','/wa-chats','@ffmpeg-installer/ffmpeg','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','/instance/fetchInstances','redisEnv','Error\x20fetching\x20and\x20updating\x20profile:\x20','updateAll','):\x20tem\x20blocks','qrcode-terminal','\x20tentativas:\x20remotejid=','findGroupInfo','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','STORE_CONTACTS','agents','Button\x20IDs\x20cannot\x20be\x20repeated.','Imagem\x20não\x20encontrada','globalShow','/wa-connection-update','process','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20\x27Enviando\x20texto\x20para\x20\x27','Não\x20respondeu\x20com\x20a\x20enquete.','delay','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','conditions','/automate','editFlowVaredit','connection.update','groupDesc','/instance/connectionState','Fluxo\x20\x27','waitingMenu_text','deletedCount','remote\x20\x22origin\x22','isCommunity','longitude','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','upperCase','sendAudio','stateConnection','creds','wuid','instanceName','configureIPv6','local_map','waInstances','conversationTimestamp','\x20segundos\x20antes\x20de\x20reconectar...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','express','inner','uazapiSendContact','saveCreds',',\x20valor\x20a\x20encontrar:\x20\x22','editFlowGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','processgoToFlow','/wa-message','AUTHENTICATION','\x20ao\x20chat\x20','verify','):\x20customFieldVariables','isValidIPv6Config','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Error\x20updating\x20cache\x20contact:','):\x20Iniciando\x20bot...','Error\x20in\x20chatModify\x20for\x20number\x20','IP\x20mismatch:\x20configured\x20','FlowRouter','TEL','Erro\x20ao\x20criar\x20fluxo','limit','status','SERVER_OFFLINE','waitingMenu_id','sendPoll','round','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x1b[33m%s\x1b[0m','apirequest',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','buffer','getPrototypeOf','request\x20received\x20in\x20updateAutoCompleteMessages','):Type\x20defined\x20as\x20audio','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Flow\x20iniciado','):\x20Fluxo\x20\x27','The\x20property\x20cannot\x20be\x20empty','DATABASE','HOST','sendButtons','/clients-info','):Desconectado,\x20parando\x20execução.','subjectOwner','detail','toggleEphemeral','js-yaml','updateChatWithMessage','keyPattern','Network\x20interfaces\x20detected:\x20','addBlock','request\x20received\x20in\x20updateCustomFields','MESSAGES_UPDATE','/group','badSession','varedit','Número:\x20','dbInstance','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','createConversationforStartFlow','bearer','imagechat','binary','length','RemoveChatLabel','width','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','request\x20received\x20in\x20getConversation','arrayUnique','):\x20Enviando\x20contato','replaceVariablesInObject','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','cacheContact','request_method','load','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','_sender','autoCompleteMessages.command_1','tags','apply','close','.mp4','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','moreLogs','instanceCount','sendMessageWithTyping','request\x20received\x20in\x20updateAgent','call','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','createHash','toString','):\x20Enviando\x20mídia','updateOneById','AUTHENTICATION_TYPE','replace','getHours','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','spawn','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','admin_add','awaitSeconds','last','not_announcement','@broadcast','_p_','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','/instance','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Instance\x20deleted','waitingForReplyMenu','notMatchRegex','toBRL','Missing\x20global\x20api\x20key','PROXY','utf8','exec','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20[messages.update]\x20group\x20ignored','IPv6\x20Prefix\x20detected:\x20','condition','Erro\x20ao\x20buscar\x20conversas','):Business\x20profile\x20fetched','Removidas\x20as\x20variáveis:\x20','fetchMessages','flushHeaders','TEXT','#ffae04','readMessageBot','.webp','every','authentication','sticker','AutomateSystem\x20não\x20foi\x20inicializado','autoCompleteMessages.command','WebhookGlobal','):including\x20timestamp\x20in\x20url:\x20','notify','*Pergunta*:\x20\x0a','METHODS','saveChatVariables','pictureUrl','editFlowBlock','contentText','getConversation','block','stdout','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Label\x20','getContentType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','data','env','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','DEBUG','editflowgroup','privacySettings','release','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Configuração\x20SSL\x20recuperada:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','sendLocation','profile','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','model','ENABLED','Authentication\x20error','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','use','Fluxo\x20não\x20encontrado\x20na\x20memória.','textMessage','ERROR:\x20','groupSetting','@g.us','generateHash','number','):Sending\x20audio\x20whatsapp','replaceOne','application/octet-stream','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','descId','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','whatsappNumbers','.jpg','findAndUpdateCacheContact','base64','status@broadcast','processblock','updateLastSeenPrivacy','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x1b[31m%s\x1b[0m','SSL_CONF_FULLCHAIN','):\x20Editando\x20bloco...','stopped','Erro\x20inesperado\x20em\x20processvaredits:\x20','whoCanUse','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','uuid','):Image\x20converted\x20to\x20WebP','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','\x1b[42m','uazapiSendText','startFlow','.xlsx','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Type\x20not\x20found','DisconnectReason','_id','https://jsonip.com','readMessage','function','):\x20Enviando\x20mensagem\x20para\x20','findGroup','convertedOptions','not\x20loaded','author','fullName','bateu\x20events','deleteAll','updateGroupPicture','jsonschema','leadInfo.desativadoFluxoAte','Erro\x20de\x20atualização:\x20','):\x20conversation.status:\x20','\x20-y','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','@redis/client','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','SSL_CONF_PRIVKEY','/64\x20dev\x20','CONTACTS_SET','SEND_MESSAGE','Erro\x20ao\x20atualizar\x20agendamento\x20','variables','quotedMessage','Erro\x20ao\x20atualizar\x20AutomateSystem:','markMessageAsRead','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','ScheduleMessageModel',',\x20Resultado:\x20','last_update','flowStopConversation','code','groupBetterSetting','reaction','Erro\x20ao\x20alterar\x20fluxo','remove.instance','currency','\x20e\x20ID=','request_time','flowPrefixCommand','2422616RYAAtd','pollUpdateMessage','hGetAll','STORE_CLEANING_TERMINAL','joinApprovalMode','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','emit','node-mime-types','everyOne','profilePicture','E-mail:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','email','cachedContacts-whatsapp','https://ifconfig.me/ip','enabled','deleteImportedChat','Error\x20testing\x20IP\x20with\x20','locked','\x20minutos.\x20Será\x20às\x20','numbers','CHATS_UPDATE','utf-8','flowConfig','\x20contacts','/*.json','fetchContacts','.ogv','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','):Audio\x20processed','startCommandWord','https://api.openai.com/v1/images/generations','abs','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','https://api64.ipify.org?format=json','uazapiDeleteMessage','output','events','toArray','archive','\x20horas\x20e\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','console',',\x20Minutes\x20to\x20Close:\x20','findOrCreate','document','scheduleNextCheck','):\x20error:\x20','initAuthCreds','cleanStore','contactMessage','updateGroupParticipantsWebhook','Request\x20Body:','closeExistingConversations','reorderBlocks','sharePass','announce','body','findAll','Parando\x20aplicação,\x20atualização\x20recebida','bodyStringErrorParse','when','silent','prepareMediaMessage','connectionClosed','interval\x20não\x20é\x20um\x20número','startID','redis','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','child_process','):Error\x20in\x20converting\x20audio','admin','):\x20Rótulo\x20atualizado:\x20','Deleted\x20','Parando\x20aplicação...','):\x20alterando\x20this.AutomateSystem','isBusiness','variablesNotFound','):\x20Editando\x20grupo\x20do\x20fluxo...','Partes\x20do\x20caminho\x20FULLCHAIN:','archived','Safari','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','cpf','dayjs','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','COLOR','http','ButtonsMessage','connectToWhatsappController','findWebhook','messaging-history.set','\x1b[1m','recording','equal','Unauthorized','sort','hasOwnProperty','ephemeralExpiration','updateProfileName','readFileSync','notEqual','generateWAMessageFromContent','request\x20received\x20in\x20createFlow','_fromMe','localWebhook','\x1b[32m%s\x1b[0m','updateProfilePicture','findChats','EXPIRIN_IN','startFlowWebhook','):\x20Query\x20params:\x20','slice','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','validate','):Getting\x20image\x20from\x20url','scheduleMessage','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','cleaningUp','\x5cd+','start','updateProfilePicturePrivacy','getFlow','VERBOSE','webp','SERVER_ACK','.\x20Pulando.','processApiRequest','etiquetas','warn','Erro\x20ao\x20alterar\x20privacidade','getAutomateSystem','Erro\x20ao\x20inserir\x20chats:','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','mediaKey','@s.whatsapp.net','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Instância\x20não\x20encontrada.','undefined','Cache-Control','app','isConnected','envProcess','normalizeMessage','modifiedCount','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','g-t','set','chats.delete','listMessage','isValidAndUniqueIPv6','\x20não\x20encontrado','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','fetchInstances','write','):\x20Conversa\x20está\x20expirada\x20-\x20voto','end','pino','Cannot\x20','50mb','footerText','waUploadToServer','findGroupInfos','goNextblock','Pausado\x20por\x20','updateMissingEtiquetas','Error\x20parsing\x20JSON:','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','available','Group\x20not\x20found','messageHandle','findParticipants','logout','\x20adicionado\x20ao\x20chat\x20','):\x20\x27Deletando\x20fluxo,\x20id:\x20','.pptx','fetchLatestBaileysVersion','removeChatLabel','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','findIndex','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','sendDataWebhook','findOneAndUpdate','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Removendo\x20\x27','flowIgnoreGroups','):\x20Entrou\x20na\x20função\x20processawaitSeconds','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','deleteOne','messages.set','AppStateSyncKeyData','editChat','):\x20Conversa\x20inserida\x20com\x20sucesso.','updateReplyOption','SINGLE_SELECT','ChatModel','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','MESSAGES_UPSERT','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','ScheduleMessage','messageId','lowerCase','\x1b[40m','leadInfo.etiquetas','uncaughtException','send','selectedOptions','#b4ebff','\x20removido\x20do\x20chat\x20','logger','assign','picture','eventEmitter','cleanDisconnectedInstances','formatStatusMessage','clearVariables','AddChatLabel','updateMediaMessage','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','addMessagesToGroup','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','imageMessage',',\x20canSendMessage:\x20','READ','vcard','sendSticker','):\x20Ler\x20mensagem','Fluxos\x20não\x20estão\x20ativados','_Labels','groupName','\x1b[43m','count','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','lastFetchAwaitingApproval',']\x20(','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupAcceptInvite','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','_remoteJid','createInstance','processclearVariables','GROUPS_UPSERT','mongoose','readData','Nenhum\x20participante\x20válido\x20encontrado.','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','express-async-errors',',\x20qrcodeCount:\x20','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Erro\x20ao\x20aplicar\x20varedit:\x20','Selecione','pre','data:\x20','Erro\x20ao\x20normalizar\x20a\x20mensagem:','#000000','getContactModelForOwner','getValidWhatsAppNumbers','_error','repository','customFields','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','../env.yml','Variáveis\x20não\x20encontradas:','role','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Connection','removeUnusedChatFields','https://api.ipify.org?format=json','noConnection','namespace','fetchProfile','convertToWebP','documentMessage','LOG_COLOR','ERROR','header','PENDING','Usando\x20IP\x20existente:\x20','Erro\x20ao\x20arquivar\x20chat','DaysToDelete','pollMessage','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):Archiving\x20chat','sign','create','leadInfo.','keys','split','/events/:instance','):\x20Enviando\x20texto','waitingMenu_ExpiredMessage','g.us','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','displayName','Atualização:\x20','statusCode','beautifyWithPlaceholders','finish','video','dropCollection','ignoreGroups','extractRegex','nomecompleto','instanceKeys','\x1b[37m%s\x1b[0m','\x0aitem','PASSWORD','editflowvariable','oldToken','findByIdAndUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','rows','groupadd','execSync','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','webhook','Instance\x20\x22','processvaredits','atendimentoAberto','proto','notEmpty','uazapiSendMedia','ObjectId','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','CONTACTS_UPDATE','updateGroupWebhook','Type\x20is\x20required','subjectTime','max','createflow','Message\x20not\x20found','group','\x20-\x20ON:\x20','DATABASE_CONNECTION_USER','uazapi','creation','creds.json','keep-alive','#00a1f2','instance','findById','isJWT','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','DB_PREFIX_NAME','createGroup','delaySecMin','cache','envYaml','):Notifying\x20clients\x20for\x20chat:\x20','saveTextReply','realVariables','createClient','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','presenceSubscribe','ip\x20-6\x20addr\x20del\x20','menuMessage','Network\x20Interface\x20detected:\x20','shareOwners','isCommunityAnnounce','SERVER_URL','editFlowVariable','Validate','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','replaceValue','vote','done','flush','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','evaluateConditionTest','hbs','automateSystem','):\x20Criou\x20conversa\x20no\x20startFlow','hSet','string','Variável\x20não\x20encontrada!','sendWhatsAppAudio','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):\x20Editando\x20variável\x20do\x20fluxo...','isListOfNumbers','map','unhandledRejection','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','chatModify','replyOptions','leadInfo','leadInfo.atendimentoAberto','DARK','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','buttonMessage','unavailable','expiration','fetchProfilePicture','Close\x20connection','/wa-contacts','verbose','SERVER','request\x20received\x20in\x20editFlow','mediaMessage','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','isJidBroadcast','processConditionsTest','instances','uazapiSendLocation','value','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','SECRET','notContains','StartID:','processScheduleFlow','_activedCount','):Temp\x20image\x20deleted','updateAutoCompleteMessages','):\x20whoCanEdit\x20after\x20validation:\x20','maxActives','beforeExit','connectedName','stderr','cacheInstanceModel','Erro\x20ao\x20copiar\x20o\x20documento','):\x20Enviando\x20localização','Enter\x20a\x20value\x20in\x20milliseconds','Filtered\x20network\x20interfaces:\x20','mongodb://','poll','reorderReplyOptions','bodyString','group-participants.update','groupParticipantsUpdate','title','findContacts','hDel','removed','CHATS_DELETE','getAllData','groupGetInviteInfo','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','loadEnv','https://v6.ident.me','insertMany','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','applyvaredit','#64c4ff','SERVER_TYPE','):\x20Flow\x20desativado','/instance/connect','flattenObject','Instância:\x20','pollCreationMessageV3','deleteInstance','getStatus','$set','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','reconnectTimestamps','https://chat.whatsapp.com/','fileUrl','status.instance','instanceName\x20not\x20provided.','\x22\x20-\x20NOT\x20CONNECTION','API_KEY','Generated\x20IPv6:\x20','memberAddMode','copy','getClient','groupId','Conversa\x20deletada\x20com\x20sucesso.','setting','PRESENCE_UPDATE','getConversationModelForOwner','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','groupToggleEphemeral','setUpdate','charAt','/exit','save','telefone','boolean','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','deleteReplyOption','contacts','jid','fora\x20do\x20git','setContext','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','name','method','chat','timeout','AutomateSystem','fetchConversation','24gfBgaA','stickerMessage','request\x20body:\x20','router','findAndReplaceRegex','authState','menuExpiredMessage','):\x20[messages.upsert]\x20group\x20ignored','/:instanceName','jwt','app-state-sync-key','audio','):\x20Going\x20to\x20','processingGroup_id','\x20não\x20é\x20a\x20esperada.','cacheContactModel','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Rótulo\x20inválido\x20ou\x20sem\x20ID.','announcement','findConversation','STATUS_INSTANCE','):\x20Conversa\x20está\x20expirada','XX:XX:XX:XX:XX:XX','.TEL;waid=','#ff9484','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','replyOption','format','sendReaction','sendCommand','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','):\x20transformedCustomFieldVariables','groupJoinApprovalMode',',\x20Novo\x20tamanho:\x20','extractMessageContent','toLocaleString','editFlowCondition','sending','PRIVKEY','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','desativadoFluxoAte','):\x20Limpando\x20delayMessage','isLong','uazapiSendAudio','isInteger','groups.upsert','node-cache','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','\x20}\x0a','readreceipts','AUTHENTICATION_JWT_EXPIRIN_IN','groupUpdateDescription','Erro\x20ao\x20encerrar\x20a\x20API','Error\x20adding\x20IPv6\x20address:\x20','Mensagens\x20deletadas\x20com\x20sucesso.','find','BufferJSON','findManyByIds','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Sistema\x20atualizado\x20com\x20sucesso!','URI','Esse\x20fluxo\x20expirou','joinGroup','):\x20Bloco\x20com\x20ID\x20','loadInstance','/events','pollMessageOnDelete','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','delAll','nextMessageId','expression','):\x20Bloco\x20copiado:\x20','redirect','canSendMessage','processPollUpdateMessage','connectToWhatsapp','then','delayChatLabel','Erro\x20ao\x20tentar\x20autoCompleteMessages','):\x20leadInfoVariables','groupUpdateSubject','):\x20Criando\x20fluxo\x20compartilhado...','):\x20teve\x20mudanças\x20chat.archived:\x20','processUazapi','):Delete\x20chat','errorLog','RemoteJid:',',\x20saindo.','\x20instance\x20does\x20not\x20exist','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Bloco\x20com\x20ID\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','groupMetadata','lastInteraction','crypto','reorderMessages','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','verifyWhatsAppNumber','editScheduleMessage','sendList','Erro\x20ao\x20importar\x20chats','demote','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','out','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Comando\x20desconhecido:\x20','cachedContact','scheduleFlow','Comando\x20desconhecido','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','.ogg','lastCondition','isJidGroup','\x20tentativas.','#01d0e2','pollCreationMessageV2','user','list','StartBot','error','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','editFlow','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','now','DATABASE_CONNECTION_HOST','reactionMessage','mkdirSync','bulkWrite','contact_blacklist','[AUTH]\x20Database\x20is\x20not\x20enabled','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','findByIdAndDelete','stopMinutes','.gif','.mp3','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','label','jpegThumbnail','.png','mentioned','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','key','):\x20Conversa\x20atualizada\x20em\x20memória','transformScheduledMessagesByType','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','editedMessage','chatHandle','Erro\x20ao\x20remover\x20label\x20','requestPairingCode','CHATS_UPSERT','reviver','waitingMenu_replyOptions','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','listType','ephemeralMessage','456FFjDDH','\x20saindo\x20da\x20função','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','blockLogs','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','preview','ListType','groups','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','sectionsToString','drop','createServer','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','less','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','editflowreply','message_normalized','AUTHENTICATION_JWT_SECRET','):\x20não\x20encontrou','updateAgent','deleteFlow','font','groupRevokeInvite','removeData','view\x20engine','scheduled','Database\x20is\x20not\x20enabled','TYPE','ip:\x20','superadmin','245113gSSFmO','awaitingApproval','blockId','createAndSave','restartInstance','all','getMIMEType','getChatModelForOwner','isBase64','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','SendScheduleMessage','readMessages','created','application/json','):\x20Entrou\x20na\x20função\x20saveReply','The\x20instance\x20needs\x20to\x20be\x20disconnected','replaceVariablesChat','messages.upsert','writeFile','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','updateFlowConfig','mimetype','empty','qrCode','\x1b[32m','request\x20received\x20in\x20deleteDoneMessages','scheduleSendMedia','verifiedName','.txt','.error','optionDescription','lastMessage_id','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','scheduleSendAudio','state','insertCount','getflow','startCommand','Erro\x20ao\x20atualizar\x20cacheInstance:','options','):\x20Mensagem\x20já\x20enviada\x20para\x20','DATABASE_CONNECTION_PASSWORD','remoteJid','DELIVERY_ACK','labels.association','.webm','buttons','muteEndTime','\x22\x20not\x20found','groupFetchAllParticipating','Router','url','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','downloads','replaceVariablesInReplyOptions','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20this.processingGroup_id:\x20','):\x20Error\x20processing\x20conditions:\x20','updateCustomFields','AutomateFunctions','env.KEY\x20!==\x20key','listen','valid','mediaSticker','Last\x20message\x20not\x20found\x20for\x20number:\x20','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','URL\x20completa:','quoted','sendPresenceUpdate','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','shift','groupSettingUpdate','menuType','prototype','JWT','leaveGroup','success','reject','findFlow','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','IP\x20confirmed:\x20','connectionState','getDevice','webhookMap','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','setRestartTimeout','image','Bad\x20Request','apikey'];a0_0x1876=function(){return _0x3f6c8f;};return a0_0x1876();}var m=class{constructor(..._0xa51cea){const _0x2b9173=a0_0x2b042e;throw{'status':0x190,'error':_0x2b9173(0x7b3),'message':_0xa51cea[_0x2b9173(0x3f7)]>0x0?_0xa51cea:void 0x0};}},ne=class{constructor(..._0x24a140){const _0x384e8a=a0_0x2b042e;throw{'status':0x191,'error':_0x384e8a(0x515),'message':_0x24a140['length']>0x0?_0x24a140:void 0x0};}},se=class{constructor(..._0x1d65d8){const _0x5114d1=a0_0x2b042e;throw{'status':0x193,'error':_0x5114d1(0x1ee),'message':_0x1d65d8['length']>0x0?_0x1d65d8:void 0x0};}},V=class{constructor(..._0x59c1f9){const _0x207736=a0_0x2b042e;throw{'status':0x194,'error':'Not\x20Found','message':_0x59c1f9[_0x207736(0x3f7)]>0x0?_0x59c1f9:void 0x0};}},x=class{constructor(..._0x4ecc7f){const _0x3d8539=a0_0x2b042e;throw{'status':0x1f4,'error':_0x3d8539(0x8f8),'message':_0x4ecc7f[_0x3d8539(0x3f7)]>0x0?_0x4ecc7f:void 0x0};}},be=require(a0_0x2b042e(0x1e9));async function _s(_0x1a6f66){const _0x193978=a0_0x2b042e;let _0x1eddf5=new $(_s[_0x193978(0x69b)]),_0x1deccc=A[_0x193978(0x686)](),_0x3b72b9=_0x1deccc['db'](S[_0x193978(0x7e0)](_0x193978(0x3de))[_0x193978(0x912)][_0x193978(0x60f)]+_0x193978(0x8e2))[_0x193978(0x8c1)](_0x1a6f66),_0x33e30d=async(_0x5b2483,_0x174c5c)=>{const _0x1797e3=_0x193978;try{return await _0x1deccc[_0x1797e3(0x883)](),await _0x3b72b9[_0x1797e3(0x46c)]({'_id':_0x174c5c},JSON['parse'](JSON[_0x1797e3(0x254)](_0x5b2483,be[_0x1797e3(0x6db)][_0x1797e3(0x272)])),{'upsert':!0x0});}catch{}},_0x207bfd=async _0x45ee85=>{const _0x375b71=_0x193978;try{await _0x1deccc[_0x375b71(0x883)]();let _0x4294bd=await _0x3b72b9[_0x375b71(0x296)]({'_id':_0x45ee85}),_0x5beff0=JSON[_0x375b71(0x254)](_0x4294bd);return JSON['parse'](_0x5beff0,be[_0x375b71(0x6db)][_0x375b71(0x739)]);}catch{}},_0xe20155=async _0x2723f9=>{const _0x59dc66=_0x193978;try{return await _0x1deccc[_0x59dc66(0x883)](),await _0x3b72b9[_0x59dc66(0x573)]({'_id':_0x2723f9});}catch{}},_0x6e55bb=await _0x207bfd(_0x193978(0x3ac))||(0x0,be['initAuthCreds'])();return{'state':{'creds':_0x6e55bb,'keys':{'get':async(_0x462398,_0x3178fa)=>{const _0x2d1671=_0x193978;let _0x2220e6={};return await Promise[_0x2d1671(0x761)](_0x3178fa[_0x2d1671(0x633)](async _0x5adcba=>{const _0x3ac9c1=_0x2d1671;let _0x37884f=await _0x207bfd(_0x462398+'-'+_0x5adcba);_0x462398===_0x3ac9c1(0x6ab)&&_0x37884f&&(_0x37884f=be['proto'][_0x3ac9c1(0x83b)][_0x3ac9c1(0x575)]['fromObject'](_0x37884f)),_0x2220e6[_0x5adcba]=_0x37884f;})),_0x2220e6;},'set':async _0x2e9980=>{const _0x5ba08c=_0x193978;let _0x33dd26=[];for(let _0x27a57f in _0x2e9980)for(let _0x318f22 in _0x2e9980[_0x27a57f]){let _0x2f047d=_0x2e9980[_0x27a57f][_0x318f22],_0x589bf0=_0x27a57f+'-'+_0x318f22;_0x33dd26[_0x5ba08c(0x2f6)](_0x2f047d?_0x33e30d(_0x2f047d,_0x589bf0):_0xe20155(_0x589bf0));}await Promise['all'](_0x33dd26);}}},'saveCreds':async()=>_0x33e30d(_0x6e55bb,_0x193978(0x3ac))};}var ks=I(require('long')),Ls=I(require(a0_0x2b042e(0x6d1))),Ut=require('@whiskeysockets/baileys'),Ni=require(a0_0x2b042e(0x49d)),Ft=require('@whiskeysockets/baileys'),Lt;function Po(_0x49961b){const _0x1c8d9b=a0_0x2b042e;return Lt||(Lt=(0x0,Ni[_0x1c8d9b(0x617)])({'url':_0x49961b['URI']}),Lt[_0x1c8d9b(0x883)]()),Lt;}var ge=class u{constructor(_0x39eac3,_0x35f451){const _0x22cc99=a0_0x2b042e;this[_0x22cc99(0x387)]=_0x39eac3,this[_0x22cc99(0x3ae)]=_0x35f451,this[_0x22cc99(0x588)]=new $(u['name']),this[_0x22cc99(0x2ef)]=Po(_0x39eac3);}set['reference'](_0x57acaa){this['instanceName']=_0x57acaa;}async[a0_0x2b042e(0x5e7)](){const _0x3935b9=a0_0x2b042e;try{return await this['client'][_0x3935b9(0x6bf)]([_0x3935b9(0x5d6),this[_0x3935b9(0x387)][_0x3935b9(0x2fe)]+':*']);}catch(_0x13657f){this[_0x3935b9(0x588)]['error'](_0x13657f);}}async['writeData'](_0x5305f0,_0x4daaab){const _0x4e1027=a0_0x2b042e;try{let _0x228992=JSON['stringify'](_0x4daaab,Ft[_0x4e1027(0x6db)][_0x4e1027(0x272)]);return await this['client'][_0x4e1027(0x62c)](this[_0x4e1027(0x387)][_0x4e1027(0x2fe)]+':'+this[_0x4e1027(0x3ae)],_0x5305f0,_0x228992);}catch(_0x5d119d){this[_0x4e1027(0x588)][_0x4e1027(0x71a)](_0x5d119d);}}async[a0_0x2b042e(0x669)](){const _0x8ea9=a0_0x2b042e;try{let _0x38a5e6=await this[_0x8ea9(0x2ef)][_0x8ea9(0x4b8)](this[_0x8ea9(0x387)][_0x8ea9(0x2fe)]+':'+this['instanceName']);if(_0x38a5e6){for(let _0x482b6e in _0x38a5e6)Object[_0x8ea9(0x7a5)][_0x8ea9(0x517)][_0x8ea9(0x410)](_0x38a5e6,_0x482b6e)&&(_0x38a5e6[_0x482b6e]=JSON[_0x8ea9(0x8c0)](_0x38a5e6[_0x482b6e],Ft[_0x8ea9(0x6db)][_0x8ea9(0x739)]));return _0x38a5e6;}}catch(_0x36efbd){this['logger'][_0x8ea9(0x71a)](_0x36efbd);}}async[a0_0x2b042e(0x5aa)](_0x125e9e){const _0x26e8af=a0_0x2b042e;try{let _0x3b0a7c=await this['client'][_0x26e8af(0x22d)](this[_0x26e8af(0x387)][_0x26e8af(0x2fe)]+':'+this['instanceName'],_0x125e9e);if(_0x3b0a7c)return JSON[_0x26e8af(0x8c0)](_0x3b0a7c,Ft[_0x26e8af(0x6db)][_0x26e8af(0x739)]);}catch(_0x34f248){this[_0x26e8af(0x588)]['error'](_0x34f248);}}async['removeData'](_0x2daaa9){const _0x270c18=a0_0x2b042e;try{return await this[_0x270c18(0x2ef)][_0x270c18(0x666)](this['redisEnv'][_0x270c18(0x2fe)]+':'+this[_0x270c18(0x3ae)],_0x2daaa9);}catch(_0x264bb0){this['logger'][_0x270c18(0x71a)](_0x264bb0);}}async['delAll'](_0x1728fc){const _0x2d447d=a0_0x2b042e;try{return await this['client']['del'](_0x1728fc||this[_0x2d447d(0x387)]['PREFIX_KEY']+':'+this[_0x2d447d(0x3ae)]);}catch(_0x1be078){this[_0x2d447d(0x588)]['error'](_0x1be078);}}};async function Os(_0x5d4684,_0x53b938){const _0x1253dc=a0_0x2b042e;let _0x11b263=new $(Os[_0x1253dc(0x69b)]),_0x1f5869=new ge(_0x5d4684,_0x53b938),_0x447b06=async(_0x5eb67e,_0x58ac6c)=>{const _0x3009f0=_0x1253dc;try{return await _0x1f5869['writeData'](_0x58ac6c,_0x5eb67e);}catch(_0x2f6212){return _0x11b263[_0x3009f0(0x71a)]({'localError':_0x3009f0(0x864),'error':_0x2f6212});}},_0x23d549=async _0x3aa05d=>{const _0x31544f=_0x1253dc;try{return await _0x1f5869[_0x31544f(0x5aa)](_0x3aa05d);}catch(_0x2d99ef){_0x11b263['error']({'readData':_0x31544f(0x864),'error':_0x2d99ef});return;}},_0x15aba5=async _0xb6a283=>{const _0xa95ce5=_0x1253dc;try{return await _0x1f5869['removeData'](_0xb6a283);}catch(_0x16de78){_0x11b263[_0xa95ce5(0x71a)]({'readData':_0xa95ce5(0x755),'error':_0x16de78});}},_0x53d88e=await _0x23d549(_0x1253dc(0x3ac))||(0x0,Ut[_0x1253dc(0x4e6)])();return{'state':{'creds':_0x53d88e,'keys':{'get':async(_0x1d360f,_0x4d94bd)=>{const _0x2a5a0d=_0x1253dc;let _0x1c8677={};return await Promise[_0x2a5a0d(0x761)](_0x4d94bd[_0x2a5a0d(0x633)](async _0x218240=>{const _0x1cb8e3=_0x2a5a0d;let _0x42a68d=await _0x23d549(_0x1d360f+'-'+_0x218240);_0x1d360f===_0x1cb8e3(0x6ab)&&_0x42a68d&&(_0x42a68d=Ut[_0x1cb8e3(0x5f7)]['Message']['AppStateSyncKeyData'][_0x1cb8e3(0x22a)](_0x42a68d)),_0x1c8677[_0x218240]=_0x42a68d;})),_0x1c8677;},'set':async _0x427b35=>{const _0xa61009=_0x1253dc;let _0x1107f1=[];for(let _0x3a1dec in _0x427b35)for(let _0x36a173 in _0x427b35[_0x3a1dec]){let _0x3464ed=_0x427b35[_0x3a1dec][_0x36a173],_0x482b07=_0x3a1dec+'-'+_0x36a173;_0x1107f1[_0xa61009(0x2f6)](_0x3464ed?await _0x447b06(_0x3464ed,_0x482b07):await _0x15aba5(_0x482b07));}await Promise[_0xa61009(0x761)](_0x1107f1);}}},'saveCreds':async()=>await _0x447b06(_0x53d88e,_0x1253dc(0x3ac))};}var U=I(require('fs')),Q=require('uuid'),qt=I(require('sharp')),Vt=require(a0_0x2b042e(0x701)),$i=require('child_process'),Ri=require('util'),Ai=I(require(a0_0x2b042e(0x220))),$e=class extends O{constructor(_0x19827c,_0x1d1c42,_0xc8b24d){const _0x21660a=a0_0x2b042e;super(_0x1d1c42),this[_0x21660a(0x659)]=_0x19827c,this['configService']=_0x1d1c42,this[_0x21660a(0x7ec)]=_0xc8b24d;}async[a0_0x2b042e(0x323)](_0x55b82f,_0x3703f9){const _0x50e3bf=a0_0x2b042e;try{if(this['dbSettings'][_0x50e3bf(0x460)]){console[_0x50e3bf(0x364)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x3703f9+_0x50e3bf(0x2c7),_0x55b82f);let _0xc1925f=await this['cacheInstanceModel']['findOneAndUpdate']({'_id':_0x3703f9},{'$set':_0x55b82f},{'new':!0x0,'upsert':!0x0});return console[_0x50e3bf(0x364)](_0x50e3bf(0x245),_0xc1925f),_0xc1925f;}}catch(_0x1a7b62){throw console[_0x50e3bf(0x71a)](_0x50e3bf(0x782),_0x1a7b62),_0x1a7b62;}return null;}async['deleteOne'](_0x5dfef2){const _0x2e149d=a0_0x2b042e;try{let _0x244a33=T(_0x5dfef2[_0x2e149d(0x81b)]);return{'deletedCount':(await this[_0x2e149d(0x659)][_0x2e149d(0x573)](_0x244a33))[_0x2e149d(0x3a4)]};}catch(_0x498bc6){return{'error':_0x498bc6?.[_0x2e149d(0x413)]()};}}async['findOne'](_0x8bf526){const _0x4d3d06=a0_0x2b042e;try{let _0x26b77d=T(_0x8bf526[_0x4d3d06(0x81b)]);return await this[_0x4d3d06(0x659)]['findOne'](_0x26b77d)[_0x4d3d06(0x871)]();}catch{return null;}}},jt=(0x0,Ri[a0_0x2b042e(0x22b)])($i[a0_0x2b042e(0x42d)]),ko=S['get'](a0_0x2b042e(0x42b)),xs=class{constructor(){const _0x2e33d0=a0_0x2b042e;this[_0x2e33d0(0x30a)]=new $e(He,S),(!this[_0x2e33d0(0x338)]||!this[_0x2e33d0(0x287)])&&ko&&this[_0x2e33d0(0x87d)]()[_0x2e33d0(0x6ef)](()=>{const _0x19d96f=_0x2e33d0;console[_0x19d96f(0x364)](_0x19d96f(0x430)+this[_0x19d96f(0x338)]),console[_0x19d96f(0x364)](_0x19d96f(0x61c)+this['networkInterface']);})[_0x2e33d0(0x83d)](_0x1a0a23=>{const _0x1daeb0=_0x2e33d0;console[_0x1daeb0(0x71a)](_0x1daeb0(0x411)+_0x1a0a23['message']);});}async[a0_0x2b042e(0x87d)](){const _0x4face6=a0_0x2b042e;try{let {stdout:_0x23fedc}=await jt(_0x4face6(0x340));console[_0x4face6(0x364)](_0x4face6(0x3e9)+_0x23fedc);let _0x576461=_0x23fedc[_0x4face6(0x5d7)]('\x0a')[_0x4face6(0x633)](_0x2c7d0c=>_0x2c7d0c[_0x4face6(0x5d7)]('\x20')[0x0])[_0x4face6(0x7ca)](_0x47b4a2=>!_0x47b4a2['includes']('lo')&&!_0x47b4a2[_0x4face6(0x8ef)](_0x4face6(0x215))&&!_0x47b4a2[_0x4face6(0x8ef)](_0x4face6(0x7cf))&&!_0x47b4a2[_0x4face6(0x8ef)]('wl')&&!_0x47b4a2[_0x4face6(0x8ef)]('@'));if(console[_0x4face6(0x364)](_0x4face6(0x65d)+_0x576461),_0x576461[_0x4face6(0x3f7)]===0x0)throw new Error(_0x4face6(0x31c));this['networkInterface']=_0x576461[0x0];let {stdout:_0x2e2da4}=await jt('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console['log'](_0x4face6(0x892)+_0x2e2da4);let _0x5223d2=_0x2e2da4[_0x4face6(0x5d7)]('\x0a')[_0x4face6(0x6da)](_0x17bec5=>_0x17bec5['includes'](_0x4face6(0x7d3))&&_0x17bec5[_0x4face6(0x8ef)](_0x4face6(0x341)));if(!_0x5223d2)throw new Error(_0x4face6(0x5af));let _0x3e74fc=_0x5223d2[_0x4face6(0x1f7)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3e74fc)throw new Error(_0x4face6(0x2ea));let [_0x21258b,_0x13a5e0,_0x3a3e39]=_0x3e74fc,_0x3d8666=Math[_0x4face6(0x8ed)](Number(_0x3a3e39)/0x10),_0x1b0116=Number(_0x3a3e39)%0x10,_0x4713e0=_0x13a5e0[_0x4face6(0x5d7)](':')[_0x4face6(0x526)](0x0,_0x3d8666)[_0x4face6(0x8f2)](':');if(_0x1b0116>0x0){let _0x4ce42f=_0x13a5e0[_0x4face6(0x5d7)](':')[_0x3d8666],_0xd8ad7c=0xffff<<0x10-_0x1b0116&0xffff,_0x3e702a=(parseInt(_0x4ce42f,0x10)&_0xd8ad7c)[_0x4face6(0x413)](0x10)[_0x4face6(0x2f7)](0x4,'0');_0x4713e0+=':'+_0x3e702a;}this[_0x4face6(0x338)]=_0x4713e0+':';}catch(_0x286a13){console[_0x4face6(0x71a)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x286a13);}}async[a0_0x2b042e(0x3af)](_0x4c05c3){const _0x516209=a0_0x2b042e;let _0x5a5ae7='ip\x20-6\x20addr\x20add\x20'+_0x4c05c3+_0x516209(0x4a0)+this[_0x516209(0x287)];try{await jt(_0x5a5ae7),console[_0x516209(0x364)](_0x516209(0x24c)+_0x4c05c3);}catch(_0x37db0e){throw console[_0x516209(0x71a)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x37db0e),new Error(_0x516209(0x6d8)+_0x37db0e);}}async['removeIPv6'](_0x1ed1f3){const _0xc6a5f5=a0_0x2b042e;let _0x8662a1=_0xc6a5f5(0x61a)+_0x1ed1f3+'/64\x20dev\x20'+this['networkInterface'];try{await jt(_0x8662a1),console[_0xc6a5f5(0x364)](_0xc6a5f5(0x849)+_0x1ed1f3);}catch(_0x59ff36){throw console[_0xc6a5f5(0x71a)](_0xc6a5f5(0x27e)+_0x59ff36),new Error(_0xc6a5f5(0x27e)+_0x59ff36);}}[a0_0x2b042e(0x8fd)](){const _0x146249=a0_0x2b042e;return _0x146249(0x6b8)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x146249(0x68f)](Math[_0x146249(0x8ed)](Math[_0x146249(0x237)]()*0x10)));}[a0_0x2b042e(0x361)](_0x264b39,_0x3dd16e){const _0x4b0bf1=a0_0x2b042e;let _0x3a8873=_0x3dd16e['split'](':');return _0x3a8873[0x0]=(parseInt(_0x3a8873[0x0],0x10)^0x2)[_0x4b0bf1(0x413)](0x10)['padStart'](0x2,'0'),''+_0x264b39+_0x3a8873[0x0]+_0x3a8873[0x1]+':'+_0x3a8873[0x2]+_0x4b0bf1(0x838)+_0x3a8873[0x3]+':'+_0x3a8873[0x4]+_0x3a8873[0x5];}[a0_0x2b042e(0x369)](){const _0x1e90ba=a0_0x2b042e;let _0x90b56e=this['ipv6Prefix'];_0x90b56e[_0x1e90ba(0x329)](':')||(_0x90b56e+=':');let _0x370be9=this[_0x1e90ba(0x8fd)]();return this[_0x1e90ba(0x361)](_0x90b56e,_0x370be9);}[a0_0x2b042e(0x3c3)](_0x515532){const _0x22a558=a0_0x2b042e;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x22a558(0x2d3)](_0x515532);}async['testIPv6'](_0x4184fa){const _0x1033f8=a0_0x2b042e;let _0x127f2b=[{'url':_0x1033f8(0x7dd),'parse':_0x4512f4=>_0x4512f4['ip']},{'url':_0x1033f8(0x4d8),'parse':_0x27a30a=>_0x27a30a['ip']},{'url':_0x1033f8(0x4c4),'parse':_0x4eca11=>_0x4eca11[_0x1033f8(0x888)]()},{'url':_0x1033f8(0x66d),'parse':_0x3303d0=>_0x3303d0[_0x1033f8(0x888)]()}],_0x2cfb7f=_0x127f2b[Math[_0x1033f8(0x8ed)](Math[_0x1033f8(0x237)]()*_0x127f2b[_0x1033f8(0x3f7)])];try{let _0x33fddb=await Ai[_0x1033f8(0x1f4)]['get'](_0x2cfb7f[_0x1033f8(0x78f)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x4184fa}}),_0x3ec28d=_0x2cfb7f[_0x1033f8(0x8c0)](_0x33fddb[_0x1033f8(0x450)]);return _0x3ec28d[_0x1033f8(0x238)]()===_0x4184fa['toLowerCase']()?(console[_0x1033f8(0x364)](_0x1033f8(0x7ac)+_0x4184fa),!0x0):(console[_0x1033f8(0x71a)](_0x1033f8(0x3c8)+_0x4184fa+',\x20received\x20'+_0x3ec28d),!0x1);}catch(_0x817d15){return console[_0x1033f8(0x71a)](_0x1033f8(0x4c7)+_0x2cfb7f[_0x1033f8(0x78f)]+':\x20'+_0x817d15[_0x1033f8(0x239)]),!0x1;}}async[a0_0x2b042e(0x211)](_0x488295,_0x2339ce){const _0x1c9000=a0_0x2b042e;if(!this[_0x1c9000(0x338)]||!this[_0x1c9000(0x287)])return console[_0x1c9000(0x71a)](_0x1c9000(0x7ea)),null;let _0x51df48;do _0x51df48=this['generateRandomIPv6'](),console[_0x1c9000(0x364)](_0x1c9000(0x683)+_0x51df48);while(!await this[_0x1c9000(0x54d)](_0x51df48));await this['configureIPv6'](_0x51df48),console[_0x1c9000(0x364)](_0x1c9000(0x907)+_0x51df48);let _0xa93859={'_id':_0x488295+'-'+_0x2339ce,'ip':_0x51df48},_0x29951b=await this[_0x1c9000(0x30a)][_0x1c9000(0x323)](_0xa93859,_0xa93859[_0x1c9000(0x48a)]);return console[_0x1c9000(0x364)](_0x1c9000(0x209)+_0x29951b),_0x51df48;}async[a0_0x2b042e(0x54d)](_0x3c5758){const _0xf79851=a0_0x2b042e;return this['isValidIPv6Config'](_0x3c5758)?!await this[_0xf79851(0x30a)][_0xf79851(0x296)]({'where':{'ip':_0x3c5758}}):!0x1;}async['removeIPv6ById'](_0x5bd6cc,_0x430984){const _0x54c4cd=a0_0x2b042e;let _0x5ef666=_0x5bd6cc+'-'+_0x430984,_0xe75184=await this[_0x54c4cd(0x30a)][_0x54c4cd(0x296)]({'where':{'_id':_0x5ef666}});_0xe75184&&_0xe75184['ip']&&(await this[_0x54c4cd(0x91a)](_0xe75184['ip']),await this[_0x54c4cd(0x30a)][_0x54c4cd(0x573)]({'where':{'_id':_0x5ef666}}));}},Lo=new xs(),me=Lo,Fs=a0_0x2b042e(0x507),ki,fe=null,Da=null,Fo=0x3,Uo=null,Ii=S[a0_0x2b042e(0x7e0)](a0_0x2b042e(0x3bf))[a0_0x2b042e(0x682)]['KEY'],Ti=S['get']('PROXY');async function jo(){const _0x419ad2=a0_0x2b042e;let _0x106dc8=await Ne[_0x419ad2(0x296)]();fe=_0x106dc8?.[_0x419ad2(0x440)]??null,Uo=_0x106dc8?.[_0x419ad2(0x5cf)]??null,Fs=_0x106dc8?.[_0x419ad2(0x1e8)]??_0x419ad2(0x507),ki=_0x106dc8?.[_0x419ad2(0x657)]??ee??_0x419ad2(0x606);}async function Jo(){await jo();}Jo();var _i={},le={},Re=class u{constructor(_0x3bdfd7,_0xce4b0f,_0x374729){const _0x4cb9e=a0_0x2b042e;this[_0x4cb9e(0x865)]=_0x3bdfd7,this['eventEmitter']=_0xce4b0f,this['repository']=_0x374729,this['AutomateSystem']=null,this[_0x4cb9e(0x588)]=new $(u['name']),this['instance']={},this['localWebhook']={},this[_0x4cb9e(0x3ab)]={'state':_0x4cb9e(0x409)},this[_0x4cb9e(0x2d7)]=(0x0,J[_0x4cb9e(0x8f2)])(ue,_0x4cb9e(0x791)),this['msgRetryCounterCache']=new Ls[(_0x4cb9e(0x1f4))](),this['userDevicesCache']=new Ls['default'](),this['endSession']=!0x1,this[_0x4cb9e(0x7af)]={'status.instance':_0x4cb9e(0x395),'connection.update':_0x4cb9e(0x395),'qrcode.updated':_0x4cb9e(0x1e7),'messages.upsert':_0x4cb9e(0x3be),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':'/wa-groups','group.update':_0x4cb9e(0x20a),'group-participants.update':_0x4cb9e(0x20a),'messages.set':_0x4cb9e(0x2d4),'contacts.set':_0x4cb9e(0x641),'contacts.upsert':_0x4cb9e(0x641),'contacts.update':'/wa-contacts','presence.update':_0x4cb9e(0x26e),'chats.set':_0x4cb9e(0x383),'chats.update':_0x4cb9e(0x383),'chats.upsert':_0x4cb9e(0x383),'chats.delete':_0x4cb9e(0x383)},this[_0x4cb9e(0x7e1)]=0x0,this[_0x4cb9e(0x67c)]=[],this[_0x4cb9e(0x1ed)]=0xea60,this['isRunning']=!0x1,this[_0x4cb9e(0x735)]={'chats.upsert':async(_0x2d3d76,_0x13fe4a)=>{const _0x4aaca9=_0x4cb9e;let _0x5d0e94=[];for await(let _0x4c0bad of _0x2d3d76)_0x5d0e94['push']({'_id':_0x4c0bad['id'],'owner':this[_0x4aaca9(0x60b)][_0x4aaca9(0x3ad)],'group':_0x4c0bad['id'][_0x4aaca9(0x329)](_0x4aaca9(0x468)),'name':_0x4c0bad[_0x4aaca9(0x69b)]||_0x4c0bad[_0x4aaca9(0x5dd)]||null,'contactname':null,'lastmsg':_0x4c0bad[_0x4aaca9(0x3b2)]&&_0x4c0bad['conversationTimestamp'][_0x4aaca9(0x413)]()[_0x4aaca9(0x3f7)]<0xd?_0x4c0bad[_0x4aaca9(0x3b2)]*0x3e8:_0x4c0bad[_0x4aaca9(0x3b2)]||null,'archived':_0x4c0bad[_0x4aaca9(0x506)]||!0x1,'unreadcount':_0x4c0bad[_0x4aaca9(0x7b6)]||0x0,'ephemeralExpiration':_0x4c0bad['ephemeralExpiration']||0x0});this[_0x4aaca9(0x56c)](_0x4aaca9(0x25b),_0x5d0e94);},'chats.update':async(_0xfb0524,_0x12deb8)=>{const _0x157539=_0x4cb9e;for(let _0x4d65b4 of _0xfb0524){let _0x47a0bc={'_id':_0x4d65b4['id'],'owner':this[_0x157539(0x60b)][_0x157539(0x3ad)],'archived':_0x4d65b4[_0x157539(0x506)],'muteEndTime':_0x4d65b4['muteEndTime'],'ephemeralExpiration':_0x4d65b4[_0x157539(0x518)]},_0x369bfb=!0x1,_0x43f4dd={};_0x47a0bc['archived']!=null&&(this[_0x157539(0x588)][_0x157539(0x642)](this['instanceName']+'\x20('+this[_0x157539(0x60b)][_0x157539(0x3ad)]+_0x157539(0x6f5)+_0x4d65b4['id']+_0x157539(0x21f)+_0x4d65b4['archived']),_0x369bfb=!0x0,_0x43f4dd[_0x157539(0x506)]=_0x4d65b4[_0x157539(0x506)]),_0x157539(0x78b)in _0x4d65b4&&(this['logger'][_0x157539(0x642)](this['instanceName']+'\x20('+this[_0x157539(0x60b)][_0x157539(0x3ad)]+_0x157539(0x3a8)+_0x4d65b4['id']+'\x20:\x20'+(_0x4d65b4[_0x157539(0x78b)]??'0')),_0x369bfb=!0x0,_0x43f4dd[_0x157539(0x78b)]=_0x4d65b4['muteEndTime']??0x0),_0x157539(0x518)in _0x4d65b4&&(this[_0x157539(0x588)][_0x157539(0x642)](this['instanceName']+'\x20('+this[_0x157539(0x60b)]['wuid']+_0x157539(0x39b)+_0x4d65b4['id']+'\x20:\x20'+(_0x4d65b4[_0x157539(0x518)]!==void 0x0?_0x4d65b4[_0x157539(0x518)]:_0x157539(0x540))),_0x43f4dd[_0x157539(0x518)]=_0x4d65b4[_0x157539(0x518)]===null?0x0:_0x4d65b4['ephemeralExpiration'],_0x369bfb=!0x0);let _0x43e3f4;_0x369bfb&&(_0x43e3f4=await this[_0x157539(0x5b9)][_0x157539(0x69d)]['updateOne']({'where':{'_id':_0x4d65b4['id']}},_0x43f4dd,this['instance'][_0x157539(0x3ad)])),_0x43e3f4&&q(this[_0x157539(0x3ae)],'chats',{'chat':_0x43e3f4});}},'chats.delete':async _0x5524c0=>{const _0x2dbe0e=_0x4cb9e;for(let _0x4b693d of _0x5524c0)if(_0x4b693d[_0x2dbe0e(0x329)](_0x2dbe0e(0x468))){await this[_0x2dbe0e(0x5b9)]['chat'][_0x2dbe0e(0x231)]({'where':{'_id':_0x4b693d}},this['instance']['wuid']);let _0x59fbff={'where':{'key':{'remoteJid':_0x4b693d}}};await this[_0x2dbe0e(0x5b9)]['message'][_0x2dbe0e(0x231)](_0x59fbff,this[_0x2dbe0e(0x60b)][_0x2dbe0e(0x3ad)]);}else{await this[_0x2dbe0e(0x5b9)]['chat'][_0x2dbe0e(0x2ba)]({'where':{'_id':_0x4b693d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2dbe0e(0x60b)][_0x2dbe0e(0x3ad)]);let _0x437ba8={'where':{'key':{'remoteJid':_0x4b693d}}};await this[_0x2dbe0e(0x5b9)]['message'][_0x2dbe0e(0x231)](_0x437ba8,this[_0x2dbe0e(0x60b)][_0x2dbe0e(0x3ad)]);}this[_0x2dbe0e(0x56c)](_0x2dbe0e(0x54b),[..._0x5524c0]);}},this[_0x4cb9e(0x86b)]={'contacts.upsert':async(_0x1d065c,_0x30ada0)=>{const _0x3a6ee2=_0x4cb9e;let _0x51a992=await this['repository'][_0x3a6ee2(0x28d)][_0x3a6ee2(0x6da)]({'where':{}},this['instance'][_0x3a6ee2(0x3ad)]),_0x473b2d=[];for await(let _0x4e688c of _0x1d065c)_0x51a992[_0x3a6ee2(0x6da)](_0x210a49=>_0x210a49[_0x3a6ee2(0x48a)]===_0x4e688c['id'])||_0x473b2d[_0x3a6ee2(0x2f6)]({'_id':_0x4e688c['id'],'pushName':_0x4e688c?.[_0x3a6ee2(0x69b)]||_0x4e688c?.[_0x3a6ee2(0x777)],'owner':this[_0x3a6ee2(0x60b)]['wuid']});this[_0x3a6ee2(0x56c)](_0x3a6ee2(0x858),_0x473b2d),await this['repository']['contact'][_0x3a6ee2(0x7e5)](_0x473b2d);},'contacts.update':async(_0x48a2dd,_0x4f3c71)=>{const _0x2f316d=_0x4cb9e;let _0x3362ec=[];for await(let _0x21cae8 of _0x48a2dd)_0x3362ec[_0x2f316d(0x2f6)]({'_id':_0x21cae8['id'],'pushName':_0x21cae8?.[_0x2f316d(0x69b)]??_0x21cae8?.[_0x2f316d(0x777)],'owner':this[_0x2f316d(0x60b)][_0x2f316d(0x3ad)]});this[_0x2f316d(0x56c)](_0x2f316d(0x839),_0x3362ec);}},this[_0x4cb9e(0x561)]={'messaging-history.set':async({messages:_0x17ecc2,chats:_0x3056d5,isLatest:_0x2c632b},_0x1a3996)=>{const _0x3f11cf=_0x4cb9e;if(_0x2c632b){let _0x125598=await Promise[_0x3f11cf(0x761)](_0x3056d5[_0x3f11cf(0x633)](async _0x2cf63a=>({'_id':_0x2cf63a['id'],'owner':this[_0x3f11cf(0x60b)][_0x3f11cf(0x3ad)],'group':_0x2cf63a['id'][_0x3f11cf(0x329)]('@g.us'),'name':_0x2cf63a['name']||_0x2cf63a[_0x3f11cf(0x5dd)]||_0x2cf63a['username']||null,'contactname':null,'lastmsg':_0x2cf63a[_0x3f11cf(0x3b2)]&&_0x2cf63a['conversationTimestamp'][_0x3f11cf(0x413)]()[_0x3f11cf(0x3f7)]<0xd?_0x2cf63a['conversationTimestamp']*0x3e8:_0x2cf63a['conversationTimestamp']||null,'archived':_0x2cf63a[_0x3f11cf(0x506)]||!0x1,'unreadcount':_0x2cf63a[_0x3f11cf(0x7b6)]||0x0,'ephemeralExpiration':_0x2cf63a[_0x3f11cf(0x518)]||0x0,'muteEndTime':_0x2cf63a[_0x3f11cf(0x78b)]||0x0})));this['sendDataWebhook'](_0x3f11cf(0x8c5),_0x125598),await this[_0x3f11cf(0x2f3)](_0x125598,_0x1a3996);}let _0x1601a=[],_0x3e85de=Date[_0x3f11cf(0x71e)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x43178c]of Object['entries'](_0x17ecc2)){if(_0x43178c[_0x3f11cf(0x239)]?.[_0x3f11cf(0x352)]||_0x43178c[_0x3f11cf(0x239)]?.['senderKeyDistributionMessage']||!_0x43178c['message']||_0x43178c[_0x3f11cf(0x730)][_0x3f11cf(0x786)]===_0x3f11cf(0x475)||(ks[_0x3f11cf(0x1f4)][_0x3f11cf(0x6cd)](_0x43178c?.[_0x3f11cf(0x7f1)])&&(_0x43178c['messageTimestamp']=_0x43178c[_0x3f11cf(0x7f1)]?.[_0x3f11cf(0x8f4)]()),_0x43178c['messageTimestamp']&&_0x43178c['messageTimestamp'][_0x3f11cf(0x413)]()[_0x3f11cf(0x3f7)]<0xd&&(_0x43178c[_0x3f11cf(0x7f1)]=_0x43178c[_0x3f11cf(0x7f1)]*0x3e8),_0x43178c[_0x3f11cf(0x7f1)]<_0x3e85de))continue;let _0x519082=(0x0,w[_0x3f11cf(0x925)])(_0x43178c[_0x3f11cf(0x239)]),_0x14e44c=(0x0,w[_0x3f11cf(0x44e)])(_0x519082),{message_normalized:_0x4a204b}=this[_0x3f11cf(0x545)](_0x519082,_0x14e44c,null);Object['keys'](_0x4a204b)[_0x3f11cf(0x3f7)]>0x0&&_0x1601a[_0x3f11cf(0x2f6)]({'_id':_0x43178c[_0x3f11cf(0x730)]['id'],'key':_0x43178c[_0x3f11cf(0x730)],'pushName':_0x43178c[_0x3f11cf(0x36d)],'participant':_0x43178c[_0x3f11cf(0x2e0)],'message':_0x519082,'messageType':_0x14e44c,'message_normalized':{'key':_0x43178c[_0x3f11cf(0x730)],'pushName':_0x43178c[_0x3f11cf(0x36d)],'messageTimestamp':_0x43178c['messageTimestamp'],..._0x4a204b},'messageTimestamp':_0x43178c['messageTimestamp'],'owner':this['instance'][_0x3f11cf(0x3ad)]});}_0x1a3996[_0x3f11cf(0x460)]&&_0x1601a[_0x3f11cf(0x3f7)]>0x0&&(this[_0x3f11cf(0x588)][_0x3f11cf(0x642)](this[_0x3f11cf(0x3ae)]+'\x20('+this[_0x3f11cf(0x60b)]['wuid']+'):\x20'+_0x1601a[_0x3f11cf(0x3f7)]+_0x3f11cf(0x7ba)+this[_0x3f11cf(0x60b)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x3f11cf(0x5b9)][_0x3f11cf(0x239)][_0x3f11cf(0x7e5)]([..._0x1601a],this[_0x3f11cf(0x60b)][_0x3f11cf(0x3ad)])),this[_0x3f11cf(0x56c)](_0x3f11cf(0x574),[..._0x1601a]),_0x17ecc2=void 0x0;},'messages.upsert':async({messages:_0x18ab8a,type:_0x49b555},_0x1768f2)=>{const _0x34b964=_0x4cb9e;for(let _0x52e267 of _0x18ab8a){if(this[_0x34b964(0x51f)]?.[_0x34b964(0x350)]&&_0x52e267['key']['remoteJid'][_0x34b964(0x8ef)](_0x34b964(0x468))){this['logger'][_0x34b964(0x642)](this[_0x34b964(0x3ae)]+'\x20('+this['instance']['wuid']+_0x34b964(0x6a8));return;}let _0x32c019=_0x52e267[_0x34b964(0x730)]['id'],_0x445e11=_0x52e267['messageStubType']===0x2,_0x17e7f7=0xb;if(_0x445e11){if(le[_0x32c019]||(le[_0x32c019]=0x0),le[_0x32c019]++,this[_0x34b964(0x588)]['error'](this['instanceName']+'\x20('+this[_0x34b964(0x60b)][_0x34b964(0x3ad)]+_0x34b964(0x4a8)+_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)]+_0x34b964(0x4b3)+_0x32c019+':\x20'+le[_0x32c019]+'/'+_0x17e7f7),le[_0x32c019]>=_0x17e7f7){this[_0x34b964(0x588)][_0x34b964(0x71a)](this['instanceName']+'\x20('+this[_0x34b964(0x60b)][_0x34b964(0x3ad)]+_0x34b964(0x3fa)+_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)]+_0x34b964(0x4b3)+_0x32c019+'.');let _0x4d2b6b={'key':{..._0x52e267['key']},'message':{'conversation':_0x34b964(0x7dc)+_0x32c019+_0x34b964(0x572)}};this[_0x34b964(0x2ef)]['ev'][_0x34b964(0x4bc)](_0x34b964(0x76d),{'messages':[_0x4d2b6b],'type':_0x34b964(0x442)}),delete le[_0x32c019];}}else le[_0x32c019]&&(this[_0x34b964(0x588)]['warn'](_0x34b964(0x79d)+le[_0x32c019]+_0x34b964(0x38c)+_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)]+'\x20e\x20ID='+_0x32c019),delete le[_0x32c019]);if(_0x49b555!==_0x34b964(0x442)||!_0x52e267?.[_0x34b964(0x239)]||_0x52e267[_0x34b964(0x239)]?.[_0x34b964(0x352)]||_0x52e267[_0x34b964(0x239)]['senderKeyDistributionMessage']||_0x52e267['key'][_0x34b964(0x786)]==='status@broadcast')return;let _0x2e9274=null,_0x42c7cd=null;try{_0x2e9274=await this['processPollUpdateMessage'](_0x52e267),_0x42c7cd=_0x2e9274?_0x2e9274[_0x34b964(0x8f2)](','):null;}catch(_0x17081a){this[_0x34b964(0x588)][_0x34b964(0x642)](this[_0x34b964(0x3ae)]+'\x20('+this['instance'][_0x34b964(0x3ad)]+_0x34b964(0x82b)+(_0x17081a instanceof Error?_0x17081a[_0x34b964(0x239)]:JSON[_0x34b964(0x254)](_0x17081a,null,0x2))),_0x42c7cd=_0x34b964(0x8ca);}this[_0x34b964(0x2ef)]['sendPresenceUpdate'](_0x34b964(0x63d)),ks[_0x34b964(0x1f4)]['isLong'](_0x52e267['messageTimestamp'])&&(_0x52e267[_0x34b964(0x7f1)]=_0x52e267[_0x34b964(0x7f1)]?.[_0x34b964(0x8f4)]()),_0x52e267['messageTimestamp']&&_0x52e267[_0x34b964(0x7f1)][_0x34b964(0x413)]()[_0x34b964(0x3f7)]<0xd&&(_0x52e267[_0x34b964(0x7f1)]=_0x52e267[_0x34b964(0x7f1)]*0x3e8);let _0x44e323=_0x52e267[_0x34b964(0x239)],_0x49ead4=(0x0,w['normalizeMessageContent'])(_0x44e323),_0x3c32d7=(0x0,w[_0x34b964(0x44e)])(_0x49ead4),{messageContent:_0x4ec516,message_normalized:_0x1e7859}=this[_0x34b964(0x545)](_0x49ead4,_0x3c32d7,_0x42c7cd);_0x3c32d7===_0x34b964(0x352)&&_0x4ec516?.['editedMessage']&&(_0x3c32d7=_0x34b964(0x734));let _0x484ad9,_0x30100f=_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)][_0x34b964(0x329)]('@g.us');if(_0x52e267[_0x34b964(0x730)][_0x34b964(0x35c)])_0x484ad9=this[_0x34b964(0x60b)][_0x34b964(0x2e8)];else{let _0x4b6d39=_0x30100f?_0x52e267['key'][_0x34b964(0x2e0)]:_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)];_0x484ad9=(await this[_0x34b964(0x473)](_0x4b6d39,_0x52e267['pushName'],!0x1))[_0x34b964(0x70d)][_0x34b964(0x446)];}let _0x4e8023={'_id':_0x52e267[_0x34b964(0x730)]['id'],'key':_0x52e267['key'],'isGroup':_0x30100f,'profilePictureUrl':_0x484ad9,'pushName':_0x52e267[_0x34b964(0x36d)],'message':_0x49ead4,'messageType':_0x3c32d7,'message_normalized':{'key':_0x52e267['key'],'pushName':_0x52e267[_0x34b964(0x36d)],'messageTimestamp':_0x52e267[_0x34b964(0x7f1)],'source':(0x0,w[_0x34b964(0x7ae)])(_0x52e267[_0x34b964(0x730)]['id']),..._0x1e7859},'messageTimestamp':_0x52e267[_0x34b964(0x7f1)],'owner':this[_0x34b964(0x60b)]['wuid'],'source':(0x0,w[_0x34b964(0x7ae)])(_0x52e267[_0x34b964(0x730)]['id']),'expiration':_0x4ec516?.['contextInfo']?.['expiration']||0x0};_0x4ec516||(this['logger'][_0x34b964(0x71a)](_0x34b964(0x269)),this[_0x34b964(0x588)][_0x34b964(0x71a)](_0x4e8023)),this['logger'][_0x34b964(0x364)](this[_0x34b964(0x3ae)]+'\x20('+this[_0x34b964(0x60b)][_0x34b964(0x3ad)]+'):\x20'+(_0x4e8023[_0x34b964(0x730)]?.[_0x34b964(0x35c)]?_0x34b964(0x365):_0x34b964(0x2bb))+'\x20['+_0x4e8023[_0x34b964(0x730)]?.[_0x34b964(0x786)]['replace'](_0x34b964(0x53d),'')+_0x34b964(0x5a1)+_0x4e8023['messageType']+')'),_0x4e8023[_0x34b964(0x74e)]?.[_0x34b964(0x8de)]&&this[_0x34b964(0x588)][_0x34b964(0x364)](_0x52e267['key']['id']+':\x20'+_0x4e8023[_0x34b964(0x74e)]?.['text']),await this[_0x34b964(0x5b9)][_0x34b964(0x239)][_0x34b964(0x7e5)]([_0x4e8023],this['instance'][_0x34b964(0x3ad)]),this[_0x34b964(0x56c)](_0x34b964(0x76d),_0x4e8023),q(this[_0x34b964(0x3ae)],_0x34b964(0x281),{'message':_0x4e8023}),_0x52e267[_0x34b964(0x730)][_0x34b964(0x786)]!==_0x34b964(0x475)&&await this['updateChatWithMessage'](_0x1768f2,_0x4e8023,_0x34b964(0x57c));}},'messages.update':async(_0x3262fa,_0x24ed70)=>{const _0x265bb4=_0x4cb9e;let _0x498dbe={0x0:_0x265bb4(0x5ca),0x1:_0x265bb4(0x5cc),0x2:_0x265bb4(0x533),0x3:_0x265bb4(0x787),0x4:_0x265bb4(0x596),0x5:_0x265bb4(0x7b9)};for await(let {key:_0x3d86a1,update:_0x543a05}of _0x3262fa){if(this['localWebhook']?.[_0x265bb4(0x350)]&&_0x3d86a1['remoteJid'][_0x265bb4(0x8ef)](_0x265bb4(0x468))){this[_0x265bb4(0x588)][_0x265bb4(0x642)](this['instanceName']+'\x20('+this[_0x265bb4(0x60b)]['wuid']+_0x265bb4(0x42f));return;}if(_0x3d86a1[_0x265bb4(0x786)]!==_0x265bb4(0x475)){let _0x4cecf3=Date[_0x265bb4(0x71e)](),_0x5932c2;_0x543a05[_0x265bb4(0x239)]===null&&_0x543a05[_0x265bb4(0x3cd)]===void 0x0?_0x5932c2='DELETED':_0x5932c2=_0x498dbe[_0x543a05[_0x265bb4(0x3cd)]];let _0x275dfa=_0x3d86a1[_0x265bb4(0x786)][_0x265bb4(0x417)](/:\d{1,2}@/g,'@'),_0x302dfa={..._0x3d86a1,'remoteJid':_0x275dfa,'status':_0x5932c2,'datetime':_0x4cecf3,'owner':this[_0x265bb4(0x60b)][_0x265bb4(0x3ad)]};this[_0x265bb4(0x56c)](_0x265bb4(0x286),_0x302dfa),await this['updateMessage'](_0x3d86a1,_0x302dfa);}}},'labels.association':async({type:_0x19de0a,association:_0x1c87a9})=>{const _0x16047c=_0x4cb9e;if(_0x1c87a9[_0x16047c(0x1fa)]==='label_jid'){let _0x2d2c6c,_0x223a18=0x0;for(;!_0x2d2c6c&&_0x223a18<this[_0x16047c(0x8cf)];)_0x2d2c6c=await this[_0x16047c(0x5b9)][_0x16047c(0x69d)]['findOne']({'where':{'_id':_0x1c87a9['chatId']}},this['instance']['wuid']),_0x2d2c6c||(_0x223a18++,this[_0x16047c(0x588)][_0x16047c(0x246)](this[_0x16047c(0x3ae)]+'\x20('+this[_0x16047c(0x60b)][_0x16047c(0x3ad)]+_0x16047c(0x8b4)+_0x1c87a9[_0x16047c(0x90b)]+_0x16047c(0x285)+this[_0x16047c(0x261)]+'ms\x20(tentativa\x20'+_0x223a18+'/'+this[_0x16047c(0x8cf)]+')'),await this[_0x16047c(0x6f0)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x2d2c6c){this['logger']['error']('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x1c87a9[_0x16047c(0x90b)]+_0x16047c(0x8c7)+this[_0x16047c(0x8cf)]+_0x16047c(0x714));return;}switch(_0x19de0a){case _0x16047c(0x878):console[_0x16047c(0x364)](_0x1c87a9),await this[_0x16047c(0x5b9)]['chat'][_0x16047c(0x2ba)]({'where':{'_id':_0x1c87a9[_0x16047c(0x90b)]}},{'leadInfo.etiquetas':_0x1c87a9['labelId']},this[_0x16047c(0x60b)][_0x16047c(0x3ad)],void 0x0,'$addToSet');break;case _0x16047c(0x2ec):console['log'](_0x1c87a9),await this[_0x16047c(0x5b9)][_0x16047c(0x69d)][_0x16047c(0x2ba)]({'where':{'_id':_0x1c87a9['chatId']}},{'leadInfo.etiquetas':_0x1c87a9['labelId']},this['instance']['wuid'],void 0x0,_0x16047c(0x8c3));break;default:this['logger'][_0x16047c(0x71a)](_0x16047c(0x2ae)+_0x19de0a+']');}}},'labels.edit':async _0x27941f=>{const _0x1a1f76=_0x4cb9e;if(!_0x27941f||!_0x27941f['id']){this[_0x1a1f76(0x588)]['error'](_0x1a1f76(0x6b3));return;}if(!_0x27941f['deleted']){let _0x2927b6=[_0x1a1f76(0x6ba),_0x1a1f76(0x671),'#fed428',_0x1a1f76(0x837),_0x1a1f76(0x821),_0x1a1f76(0x265),'#fe9dfe','#d3a91f',_0x1a1f76(0x8d3),_0x1a1f76(0x81d),_0x1a1f76(0x715),'#ffc5c7',_0x1a1f76(0x814),'#f64847',_0x1a1f76(0x60a),_0x1a1f76(0x850),_0x1a1f76(0x438),_0x1a1f76(0x586),_0x1a1f76(0x221),_0x1a1f76(0x2d5)],_0x23febd;typeof _0x27941f['color']=='number'&&_0x27941f['color']>=0x0&&_0x27941f['color']<_0x2927b6[_0x1a1f76(0x3f7)]?_0x23febd=_0x2927b6[_0x27941f[_0x1a1f76(0x24d)]]:(this[_0x1a1f76(0x588)][_0x1a1f76(0x71a)](_0x1a1f76(0x351)+_0x27941f[_0x1a1f76(0x24d)]),_0x23febd=_0x1a1f76(0x5b5));let _0x3d75e6={'_id':_0x27941f['id'],'colorHex':_0x23febd,'color':_0x27941f?.[_0x1a1f76(0x24d)],'name':_0x27941f?.[_0x1a1f76(0x69b)],'owner':this[_0x1a1f76(0x60b)]['wuid']};await this[_0x1a1f76(0x5b9)][_0x1a1f76(0x72b)][_0x1a1f76(0x2ba)]({'where':{'_id':_0x27941f['id']}},_0x3d75e6,this[_0x1a1f76(0x60b)][_0x1a1f76(0x3ad)]),this[_0x1a1f76(0x588)]['info'](this[_0x1a1f76(0x3ae)]+'\x20('+this[_0x1a1f76(0x60b)][_0x1a1f76(0x3ad)]+_0x1a1f76(0x4fe)+_0x27941f);}_0x27941f['deleted']&&(await this['repository'][_0x1a1f76(0x72b)][_0x1a1f76(0x231)]({'where':{'_id':_0x27941f['id']}},this[_0x1a1f76(0x60b)][_0x1a1f76(0x3ad)]),this[_0x1a1f76(0x588)]['info']('Rótulo\x20deletado:\x27,\x20'+_0x27941f['id']));}},this[_0x4cb9e(0x86e)]={'groups.upsert':async _0x55c4e3=>{const _0x3e6aee=_0x4cb9e;this['localWebhook']?.[_0x3e6aee(0x350)]||this['sendDataWebhook']('groups.upsert',_0x55c4e3);for(let _0x106159 of _0x55c4e3)await this[_0x3e6aee(0x5fd)](_0x106159);},'groups.update':async _0x529051=>{const _0x3ae54e=_0x4cb9e;this[_0x3ae54e(0x51f)]?.['groups_ignore']||this['sendDataWebhook']('groups.update',_0x529051);for(let _0x5de56e of _0x529051)await this[_0x3ae54e(0x5fd)](_0x5de56e);},'group-participants.update':async _0xd3a405=>{const _0x59c0d5=_0x4cb9e;this[_0x59c0d5(0x51f)]?.['groups_ignore']||this[_0x59c0d5(0x56c)](_0x59c0d5(0x662),_0xd3a405),await this[_0x59c0d5(0x4e9)](_0xd3a405);}},this[_0x4cb9e(0x8cf)]=0x5,this[_0x4cb9e(0x261)]=0x1388,this[_0x4cb9e(0x6ed)]=async _0x2399c0=>{const _0x62ac11=_0x4cb9e;if(_0x2399c0[_0x62ac11(0x239)]?.[_0x62ac11(0x4b7)]){let _0x4aaf06=await this[_0x62ac11(0x2a4)](_0x2399c0[_0x62ac11(0x239)][_0x62ac11(0x4b7)]['pollCreationMessageKey'],!0x0);if(_0x4aaf06){let _0x54b801=_0x4aaf06['key'][_0x62ac11(0x35c)]?this[_0x62ac11(0x60b)][_0x62ac11(0x3ad)]+_0x62ac11(0x53d):_0x4aaf06[_0x62ac11(0x730)]['participant']||_0x4aaf06[_0x62ac11(0x730)][_0x62ac11(0x786)],_0x3a79bd=_0x4aaf06[_0x62ac11(0x730)]['id'],_0x11dc4f=_0x4aaf06[_0x62ac11(0x239)],_0x5bd9f8=Buffer['from'](_0x11dc4f[_0x62ac11(0x27c)]['messageSecret'][_0x62ac11(0x413)]('hex'),_0x62ac11(0x253)),_0x3f134d=(0x0,w[_0x62ac11(0x7f6)])(_0x2399c0[_0x62ac11(0x239)][_0x62ac11(0x4b7)][_0x62ac11(0x624)],{'pollCreatorJid':_0x54b801,'pollMsgId':_0x3a79bd,'pollEncKey':_0x5bd9f8,'voterJid':_0x2399c0['key'][_0x62ac11(0x35c)]?this[_0x62ac11(0x60b)]['wuid']+_0x62ac11(0x53d):_0x2399c0['key'][_0x62ac11(0x786)][_0x62ac11(0x329)](_0x62ac11(0x5db))?_0x2399c0[_0x62ac11(0x730)]['participant']:_0x2399c0[_0x62ac11(0x730)][_0x62ac11(0x786)]}),_0x38dd4c=[],_0x4ed935=_0x3f134d[_0x62ac11(0x585)][_0x62ac11(0x633)](_0x123ae1=>Buffer['from'](_0x123ae1)[_0x62ac11(0x413)]('hex'));for(let {optionName:_0x41c4c0}of _0x11dc4f['pollCreationMessage']?.['options']||_0x11dc4f[_0x62ac11(0x677)]?.[_0x62ac11(0x783)]||_0x11dc4f[_0x62ac11(0x716)]?.[_0x62ac11(0x783)])_0x4ed935[_0x62ac11(0x80c)]((0x0,w[_0x62ac11(0x1f9)])(Buffer[_0x62ac11(0x223)](_0x41c4c0))['toString'](_0x62ac11(0x253)))>-0x1&&_0x38dd4c[_0x62ac11(0x2f6)](_0x41c4c0);return _0x38dd4c;}}return null;},this['normalizeMessage']=(_0x4c758a,_0x5427a8,_0x9922c)=>{const _0x2bf7e1=_0x4cb9e;try{let _0x1f9861=_0x4c758a?(0x0,w[_0x2bf7e1(0x6c4)])(_0x4c758a)[_0x5427a8]:void 0x0,_0x341f55={},_0x32e5d6=null,_0x156673=null,_0x24fd61=null;_0x5427a8===_0x2bf7e1(0x352)&&_0x1f9861?.[_0x2bf7e1(0x734)]&&(_0x5427a8=(0x0,w[_0x2bf7e1(0x44e)])(_0x1f9861[_0x2bf7e1(0x734)]),_0x32e5d6=_0x4c758a['protocolMessage'][_0x2bf7e1(0x730)]['id'],_0x1f9861=_0x4c758a[_0x2bf7e1(0x352)][_0x2bf7e1(0x734)][_0x5427a8]),_0x4c758a[_0x5427a8]?.[_0x2bf7e1(0x7c5)]?.['stanzaId']&&_0x4c758a[_0x5427a8]?.[_0x2bf7e1(0x7c5)]?.[_0x2bf7e1(0x4a5)]&&(_0x156673=_0x4c758a[_0x5427a8][_0x2bf7e1(0x7c5)][_0x2bf7e1(0x230)]),_0x4c758a[_0x2bf7e1(0x720)]&&(_0x24fd61=_0x4c758a['reactionMessage'][_0x2bf7e1(0x730)]['id']);let _0x526b29;if(_0x1f9861&&typeof _0x1f9861==_0x2bf7e1(0x880)&&_0x2bf7e1(0x2ee)in _0x1f9861&&({pollCreationMessageKey:_0x526b29}=_0x1f9861),_0x5427a8==='pollCreationMessage'||_0x5427a8==='pollCreationMessageV2'||_0x5427a8===_0x2bf7e1(0x677)){let _0x117106=_0x1f9861[_0x2bf7e1(0x783)][_0x2bf7e1(0x633)](_0x4600d9=>_0x4600d9['optionName'])[_0x2bf7e1(0x8f2)]('|');_0x341f55[_0x2bf7e1(0x490)]=_0x117106;}let _0x2c11cc='';if(_0x1f9861&&(_0x2c11cc+=_0x1f9861[_0x2bf7e1(0x69b)]?_0x1f9861[_0x2bf7e1(0x69b)]:'',_0x2c11cc+=_0x1f9861[_0x2bf7e1(0x2b8)]?'\x20'+_0x1f9861[_0x2bf7e1(0x2b8)]:'',_0x2c11cc+=_0x1f9861[_0x2bf7e1(0x2c1)]?'\x20'+_0x1f9861[_0x2bf7e1(0x2c1)]:'',_0x2c11cc+=_0x1f9861[_0x2bf7e1(0x5dd)]?'\x20'+_0x1f9861[_0x2bf7e1(0x5dd)]:''),_0x5427a8===_0x2bf7e1(0x54c)){_0x2c11cc=(_0x1f9861['title']||'')+'\x0a'+(_0x1f9861[_0x2bf7e1(0x219)]||'')+'\x0a'+(_0x1f9861['footerText']||'');let _0x3550c7=this[_0x2bf7e1(0x747)](_0x1f9861['sections']);_0x341f55[_0x2bf7e1(0x490)]=_0x3550c7;}if(_0x5427a8===_0x2bf7e1(0x25f)&&(_0x9922c=_0x1f9861[_0x2bf7e1(0x664)]),_0x1f9861&&_0x1f9861[_0x2bf7e1(0x597)]){let _0x2ccaf4=this[_0x2bf7e1(0x222)](JSON[_0x2bf7e1(0x254)](_0x1f9861[_0x2bf7e1(0x597)],null,0x2));_0x2c11cc=_0x2c11cc+'\x0a'+_0x2ccaf4;}if(_0x1f9861){let {sections:_0x23743a,listType:_0x39f6b3,displayName:_0x9e2a91,vcard:_0x1d1c0c,contactVcard:_0x4754ce,name:_0x36a923,caption:_0x445a10,conversation:_0x1db58c,pollCreationMessageKey:_0xec1dd0,footerText:_0x663400,contentText:_0x34a906,pageCount:_0x54187a,headerType:_0x5f328a,isAvatar:_0x35e872,isAnimated:_0x459ba4,fallbackLc:_0x45a5da,fallbackLg:_0x1269df,namespace:_0x2bcc27,elementName:_0x3d63c9,localizableParams:_0x2e571e,viewOnce:_0x5c3e0a,height:_0x581351,width:_0x40860b,key:_0x37a07a,firstScanLength:_0x316a69,firstScanSidecar:_0x5f4bb4,gifPlayback:_0x117ee6,gifAttribution:_0x51437a,midQualityFileSha256:_0x17aaa2,scansSidecar:_0x98976f,streamingSidecar:_0x44082d,thumbnailHeight:_0x55832f,thumbnailWidth:_0x29adc1,thumbnailEncSha256:_0x5b1350,thumbnailDirectPath:_0x3bfb1b,canonicalUrl:_0x555ea5,matchedText:_0x135093,previewType:_0xdb4f40,thumbnailSha256:_0x277f3d,deviceListMetadataVersion:_0x43b7ff,inviteLinkGroupTypeV2:_0xa4f652,interactiveAnnotations:_0x414d9c,scanLengths:_0x3f2d9f,jpegThumbnail:_0x4ba29c,url:_0x3bba6e,mediaKeyTimestamp:_0x344ce6,waveform:_0x37471b,stickerSentTs:_0xdd2b75,firstFrameLength:_0x356105,fileEncSha256:_0x4b780f,contextInfo:_0x15aac0,firstFrameSidecar:_0x496d16,directPath:_0x1ac639,fileSha256:_0x1fc7c0,mediaKey:_0x555b8e,senderTimestampMs:_0x28e4e5,..._0x2b6209}=_0x1f9861;(_0x5427a8===_0x2bf7e1(0x54c)||_0x5427a8===_0x2bf7e1(0x25f))&&(delete _0x2b6209[_0x2bf7e1(0x664)],delete _0x2b6209[_0x2bf7e1(0x219)]),typeof _0x1f9861==_0x2bf7e1(0x62d)?_0x341f55={'text':_0x1f9861,'type':_0x5427a8||_0x2bf7e1(0x2c1),..._0x32e5d6&&{'edited':_0x32e5d6},..._0x156673&&{'quoted':_0x156673},..._0x24fd61&&{'reaction':_0x24fd61}}:_0x341f55={'text':_0x2c11cc,..._0x2b6209,..._0x5427a8===_0x2bf7e1(0x4b7)?{'poll_id':_0x1f9861['pollCreationMessageKey']['id'],'quoted':_0x1f9861[_0x2bf7e1(0x2ee)]['id'],'vote':_0x9922c}:{},..._0x5427a8===_0x2bf7e1(0x25f)?{'vote':_0x9922c}:{},'type':_0x5427a8,..._0x32e5d6&&{'edited':_0x32e5d6},..._0x156673&&{'quoted':_0x156673},..._0x24fd61&&{'reaction':_0x24fd61},...(_0x5427a8===_0x2bf7e1(0x8bb)||_0x5427a8===_0x2bf7e1(0x716)||_0x5427a8==='pollCreationMessageV3'||_0x5427a8==='listMessage')&&{'convertedOptions':_0x341f55['convertedOptions']}};}return{'messageType':_0x5427a8,'messageContent':_0x1f9861,'message_normalized':_0x341f55};}catch(_0x5ccb4b){return this['logger'][_0x2bf7e1(0x71a)](_0x2bf7e1(0x5b4)+_0x5ccb4b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x4cb9e(0x2aa)]=[],this[_0x4cb9e(0x6e8)]=null,this['processUUID']=null,(this[_0x4cb9e(0x4e7)](),this[_0x4cb9e(0x60b)][_0x4cb9e(0x882)]={'count':0x0},this[_0x4cb9e(0x60b)][_0x4cb9e(0x57e)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x2b042e(0x3ae)](_0x2a1618){const _0x1d9b0b=a0_0x2b042e;if(!_0x2a1618){this[_0x1d9b0b(0x60b)]['name']=(0x0,Oi['v4'])();return;}this[_0x1d9b0b(0x60b)][_0x1d9b0b(0x69b)]=_0x2a1618,this[_0x1d9b0b(0x56c)](_0x1d9b0b(0x67f),{'instance':this[_0x1d9b0b(0x60b)][_0x1d9b0b(0x69b)],'status':_0x1d9b0b(0x768)});}get['instanceName'](){const _0x56751b=a0_0x2b042e;return this[_0x56751b(0x60b)][_0x56751b(0x69b)];}get[a0_0x2b042e(0x3ad)](){const _0x468b83=a0_0x2b042e;return this[_0x468b83(0x60b)][_0x468b83(0x3ad)];}async[a0_0x2b042e(0x890)](){const _0x1f5e1d=a0_0x2b042e;let _0x1b0aa2=this[_0x1f5e1d(0x2ef)][_0x1f5e1d(0x717)]?.[_0x1f5e1d(0x69b)]??this['client'][_0x1f5e1d(0x717)]?.[_0x1f5e1d(0x777)];if(!_0x1b0aa2){if(this[_0x1f5e1d(0x865)]['get']('DATABASE')[_0x1f5e1d(0x460)]){let _0x3dc621=await A[_0x1f5e1d(0x686)]()['db'](this['configService']['get'](_0x1f5e1d(0x3de))[_0x1f5e1d(0x912)][_0x1f5e1d(0x60f)]+_0x1f5e1d(0x8e2))[_0x1f5e1d(0x8c1)](this['instanceName'])[_0x1f5e1d(0x296)]({'_id':_0x1f5e1d(0x3ac)});if(_0x3dc621){let _0x47f3cd=JSON[_0x1f5e1d(0x8c0)](JSON['stringify'](_0x3dc621),w[_0x1f5e1d(0x6db)][_0x1f5e1d(0x739)]);_0x1b0aa2=_0x47f3cd['me']?.[_0x1f5e1d(0x69b)]||_0x47f3cd['me']?.['verifiedName'];}}else{if((0x0,Fe[_0x1f5e1d(0x258)])((0x0,J[_0x1f5e1d(0x8f2)])(Me,this[_0x1f5e1d(0x3ae)],_0x1f5e1d(0x608)))){let _0x9f1531=JSON[_0x1f5e1d(0x8c0)]((0x0,Fe['readFileSync'])((0x0,J[_0x1f5e1d(0x8f2)])(Me,this[_0x1f5e1d(0x3ae)],'creds.json'),{'encoding':'utf-8'}));_0x1b0aa2=_0x9f1531['me']?.[_0x1f5e1d(0x69b)]||_0x9f1531['me']?.[_0x1f5e1d(0x777)];}}}return _0x1b0aa2;}get['profilePictureUrl'](){const _0x4b62b0=a0_0x2b042e;return this[_0x4b62b0(0x60b)][_0x4b62b0(0x2e8)];}get[a0_0x2b042e(0x773)](){const _0xb9e44d=a0_0x2b042e;return this[_0xb9e44d(0x60b)][_0xb9e44d(0x882)]?.['pairingCode']?{'pairingCode':this[_0xb9e44d(0x60b)][_0xb9e44d(0x882)]?.[_0xb9e44d(0x884)]}:{'code':this[_0xb9e44d(0x60b)]['qrcode']?.[_0xb9e44d(0x4ad)],'base64':this[_0xb9e44d(0x60b)]['qrcode']?.[_0xb9e44d(0x474)]};}async['loadWebhook'](){const _0x31e87e=a0_0x2b042e;let _0x1cca23=await this[_0x31e87e(0x5b9)][_0x31e87e(0x5f3)][_0x31e87e(0x6da)](this[_0x31e87e(0x3ae)]);this[_0x31e87e(0x51f)][_0x31e87e(0x78f)]=_0x1cca23?.[_0x31e87e(0x78f)],this[_0x31e87e(0x51f)][_0x31e87e(0x4c5)]=_0x1cca23?.[_0x31e87e(0x4c5)],this[_0x31e87e(0x51f)]['local_map']=_0x1cca23?.[_0x31e87e(0x3b0)],this['localWebhook'][_0x31e87e(0x6b6)]=_0x1cca23?.[_0x31e87e(0x6b6)],this[_0x31e87e(0x51f)][_0x31e87e(0x8e8)]=_0x1cca23?.[_0x31e87e(0x8e8)],this[_0x31e87e(0x51f)][_0x31e87e(0x4a2)]=_0x1cca23?.['SEND_MESSAGE'],this[_0x31e87e(0x51f)][_0x31e87e(0x57c)]=_0x1cca23?.[_0x31e87e(0x57c)],this['localWebhook'][_0x31e87e(0x3ec)]=_0x1cca23?.['MESSAGES_UPDATE'],this[_0x31e87e(0x51f)][_0x31e87e(0x5a8)]=_0x1cca23?.[_0x31e87e(0x5a8)],this[_0x31e87e(0x51f)][_0x31e87e(0x1fd)]=_0x1cca23?.[_0x31e87e(0x1fd)],this['localWebhook'][_0x31e87e(0x7f7)]=_0x1cca23?.[_0x31e87e(0x7f7)],this[_0x31e87e(0x51f)][_0x31e87e(0x25e)]=_0x1cca23?.[_0x31e87e(0x25e)],this['localWebhook'][_0x31e87e(0x738)]=_0x1cca23?.['CHATS_UPSERT'],this[_0x31e87e(0x51f)]['CHATS_UPDATE']=_0x1cca23?.[_0x31e87e(0x4cb)],this['localWebhook']['CHATS_DELETE']=_0x1cca23?.[_0x31e87e(0x668)],this[_0x31e87e(0x51f)][_0x31e87e(0x4a1)]=_0x1cca23?.['CONTACTS_SET'],this[_0x31e87e(0x51f)][_0x31e87e(0x2d1)]=_0x1cca23?.[_0x31e87e(0x2d1)],this['localWebhook'][_0x31e87e(0x5fc)]=_0x1cca23?.[_0x31e87e(0x5fc)],this['localWebhook'][_0x31e87e(0x68a)]=_0x1cca23?.[_0x31e87e(0x68a)],this['localWebhook']['MESSAGES_SET']=_0x1cca23?.[_0x31e87e(0x911)],this[_0x31e87e(0x51f)][_0x31e87e(0x81c)]=_0x1cca23?.[_0x31e87e(0x81c)],this['localWebhook']['groups_ignore']=_0x1cca23?.[_0x31e87e(0x350)];}async[a0_0x2b042e(0x8f6)](_0x4b2029){const _0x48c534=a0_0x2b042e;let _0x206989=['_id','url','enabled',_0x48c534(0x3b0),_0x48c534(0x6b6),_0x48c534(0x8e8),_0x48c534(0x3ec),_0x48c534(0x57c),_0x48c534(0x4a2),'GROUPS_UPSERT',_0x48c534(0x1fd),_0x48c534(0x7f7),_0x48c534(0x25e),'CHATS_UPSERT','CHATS_UPDATE',_0x48c534(0x668),_0x48c534(0x4a1),_0x48c534(0x2d1),_0x48c534(0x5fc),_0x48c534(0x68a),_0x48c534(0x911),_0x48c534(0x81c),_0x48c534(0x350)],_0x386abe={};return _0x206989[_0x48c534(0x1e3)](_0x1d93bf=>{_0x4b2029[_0x1d93bf]!==void 0x0&&(_0x386abe[_0x1d93bf]=_0x4b2029[_0x1d93bf]);}),_0x386abe[_0x48c534(0x78f)]&&(_0x386abe['url']=_0x386abe[_0x48c534(0x78f)][_0x48c534(0x888)]()),await this[_0x48c534(0x5b9)][_0x48c534(0x5f3)][_0x48c534(0x5d4)](_0x386abe,this[_0x48c534(0x3ae)]),Object[_0x48c534(0x589)](this[_0x48c534(0x51f)],_0x386abe),await this[_0x48c534(0x5b9)][_0x48c534(0x5f3)][_0x48c534(0x6da)](this[_0x48c534(0x3ae)]);}async[a0_0x2b042e(0x510)](){const _0x21c120=a0_0x2b042e;return await this[_0x21c120(0x5b9)][_0x21c120(0x5f3)]['find'](this[_0x21c120(0x3ae)]);}async[a0_0x2b042e(0x56c)](_0x2b03ac,_0x54ae47){const _0x12dd45=a0_0x2b042e;let _0x3e06ab=_0x2b03ac[_0x12dd45(0x417)](/[\.-]/gm,'_')[_0x12dd45(0x8c4)](),_0x33797b=this[_0x12dd45(0x51f)][_0x12dd45(0x4c5)]&&(0x0,F['isURL'])(this[_0x12dd45(0x51f)][_0x12dd45(0x78f)])?this[_0x12dd45(0x51f)][_0x12dd45(0x78f)]+(this[_0x12dd45(0x51f)][_0x12dd45(0x3b0)]?this['webhookMap'][_0x2b03ac]:''):null,_0x51b0b1=this['localWebhook'][_0x3e06ab],_0x3614db=fe&&fe[_0x12dd45(0x4c5)]&&(0x0,F[_0x12dd45(0x89c)])(fe[_0x12dd45(0x78f)])?fe['url']+(fe['local_map']?this[_0x12dd45(0x7af)][_0x2b03ac]:''):null,_0x55fb42=fe?fe[_0x3e06ab]:null;if(_0x51b0b1&&_0x33797b)try{await Z[_0x12dd45(0x1f4)][_0x12dd45(0x5d4)]({'baseURL':_0x33797b})[_0x12dd45(0x897)]('',{'event':_0x2b03ac,'instance':this[_0x12dd45(0x60b)][_0x12dd45(0x69b)],'apikey':this[_0x12dd45(0x60b)]['apikey'],'data':_0x54ae47}),this['logger'][_0x12dd45(0x364)](this['instanceName']+'\x20('+this[_0x12dd45(0x60b)]['wuid']+_0x12dd45(0x7cb)+_0x2b03ac+':\x20'+_0x33797b);}catch{this['logger'][_0x12dd45(0x71a)](this[_0x12dd45(0x3ae)]+'\x20('+this[_0x12dd45(0x60b)][_0x12dd45(0x3ad)]+_0x12dd45(0x419)+_0x2b03ac+':\x20'+_0x33797b);}if(_0x55fb42&&_0x3614db)try{await Z[_0x12dd45(0x1f4)]['create']({'baseURL':_0x3614db})['post']('',{'event':_0x2b03ac,'instance':this[_0x12dd45(0x60b)][_0x12dd45(0x69b)],'apikey':this[_0x12dd45(0x60b)][_0x12dd45(0x7b4)],'data':_0x54ae47}),this[_0x12dd45(0x588)][_0x12dd45(0x364)](this[_0x12dd45(0x3ae)]+'\x20('+this['instance'][_0x12dd45(0x3ad)]+_0x12dd45(0x478)+_0x2b03ac+':\x20'+_0x3614db);}catch{this[_0x12dd45(0x588)]['error'](this[_0x12dd45(0x3ae)]+'\x20('+this['instance'][_0x12dd45(0x3ad)]+_0x12dd45(0x462)+_0x2b03ac+':\x20'+_0x3614db);}}async[a0_0x2b042e(0x24e)]({qr:_0x1e9def,connection:_0x487699,lastDisconnect:_0x3a0670,receivedPendingNotifications:_0x147f90}){const _0x3287b2=a0_0x2b042e;if(_0x1e9def){if(this['instance'][_0x3287b2(0x882)][_0x3287b2(0x59e)]===Fo)return this[_0x3287b2(0x56c)](_0x3287b2(0x870),{'message':_0x3287b2(0x46e),'statusCode':w[_0x3287b2(0x489)][_0x3287b2(0x3ee)]}),this[_0x3287b2(0x3ab)]={'state':_0x3287b2(0x249),'statusReason':w[_0x3287b2(0x489)][_0x3287b2(0x4f6)]},this[_0x3287b2(0x56c)](_0x3287b2(0x39f),{'instance':this[_0x3287b2(0x60b)][_0x3287b2(0x69b)],...this[_0x3287b2(0x3ab)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x3287b2(0x60b)]['name'],'status':_0x3287b2(0x667)}),this[_0x3287b2(0x5b9)][_0x3287b2(0x805)][_0x3287b2(0x231)](this[_0x3287b2(0x60b)][_0x3287b2(0x69b)]),this['endSession']=!0x0,me[_0x3287b2(0x8a0)](ee,this[_0x3287b2(0x60b)]['name']),this[_0x3287b2(0x58b)]['emit'](_0x3287b2(0x2dc),this['instance']['name']);this['instance'][_0x3287b2(0x882)][_0x3287b2(0x59e)]++;let _0x24402a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};xi[_0x3287b2(0x1f4)][_0x3287b2(0x902)](_0x1e9def,_0x24402a,(_0x5b6f83,_0x1c7d88)=>{const _0x379210=_0x3287b2;if(_0x5b6f83){this[_0x379210(0x588)][_0x379210(0x71a)](this[_0x379210(0x3ae)]+'\x20('+this[_0x379210(0x60b)][_0x379210(0x3ad)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x5b6f83 instanceof Error?_0x5b6f83[_0x379210(0x239)]:JSON[_0x379210(0x254)](_0x5b6f83,null,0x2)));return;}this[_0x379210(0x60b)]['qrcode'][_0x379210(0x474)]=_0x1c7d88,this[_0x379210(0x60b)][_0x379210(0x882)][_0x379210(0x4ad)]=_0x1e9def,!this['phoneNumber']&&this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x379210(0x60b)][_0x379210(0x69b)],'pairingCode':this[_0x379210(0x60b)]['qrcode']['pairingCode'],'code':_0x1e9def,'base64':_0x1c7d88}});}),this[_0x3287b2(0x255)]?this['instance'][_0x3287b2(0x882)][_0x3287b2(0x884)]||(await(0x0,w['delay'])(0x7d0),this[_0x3287b2(0x60b)][_0x3287b2(0x882)][_0x3287b2(0x884)]=await this[_0x3287b2(0x2ef)][_0x3287b2(0x737)](this['phoneNumber'])):this[_0x3287b2(0x60b)]['qrcode']['pairingCode']=null,Di[_0x3287b2(0x1f4)]['generate'](_0x1e9def,{'small':!0x0},_0x5891f5=>this[_0x3287b2(0x588)]['log'](_0x3287b2(0x339)+this['instance'][_0x3287b2(0x69b)]+_0x3287b2(0x5ae)+this['instance'][_0x3287b2(0x882)]['count']+',\x20pairCode:\x20'+this[_0x3287b2(0x60b)][_0x3287b2(0x882)][_0x3287b2(0x884)]+_0x3287b2(0x6d3)+_0x5891f5));}if(_0x487699&&(this[_0x3287b2(0x3ab)]={'state':_0x487699,'statusReason':_0x3a0670?.['error']?.[_0x3287b2(0x4da)]?.['statusCode']??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x3287b2(0x60b)][_0x3287b2(0x69b)],...this[_0x3287b2(0x3ab)]})),_0x487699===_0x3287b2(0x409)){if(this[_0x3287b2(0x7e1)]++,this[_0x3287b2(0x67c)]['push'](Date['now']()),this[_0x3287b2(0x67c)]=this[_0x3287b2(0x67c)][_0x3287b2(0x7ca)](_0x2aa216=>Date['now']()-_0x2aa216<this[_0x3287b2(0x1ed)]),_0x3a0670['error']?.[_0x3287b2(0x4da)]?.[_0x3287b2(0x5df)]!==w[_0x3287b2(0x489)][_0x3287b2(0x270)]){let _0x4edf94=this[_0x3287b2(0x7e1)]<=0x1?0x0:Math[_0x3287b2(0x8ac)](Math[_0x3287b2(0x852)](0x2,this[_0x3287b2(0x7e1)]-0x1)*0x3e8,0x493e0);console['log'](this['instanceName']+_0x3287b2(0x2b0)+this[_0x3287b2(0x7e1)]+'.\x20Aguardando\x20'+_0x4edf94/0x3e8+_0x3287b2(0x3b3)),await new Promise(_0x19eabb=>setTimeout(_0x19eabb,_0x4edf94)),console['log'](_0x3287b2(0x1eb)),await this[_0x3287b2(0x6ee)]();}else{this[_0x3287b2(0x56c)](_0x3287b2(0x67f),{'instance':this['instance']['name'],'status':_0x3287b2(0x667)}),this['instance'][_0x3287b2(0x57e)]['isConnected']=!0x1,this[_0x3287b2(0x5b9)][_0x3287b2(0x5f3)]['delete'](this[_0x3287b2(0x3ae)]),this['repository'][_0x3287b2(0x805)][_0x3287b2(0x5d4)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance']['name']),me[_0x3287b2(0x8a0)](ee,this[_0x3287b2(0x60b)]['name']);try{this['logger']['verbose'](this[_0x3287b2(0x3ae)]+'\x20('+this[_0x3287b2(0x60b)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x15df06=await this[_0x3287b2(0x5b9)][_0x3287b2(0x239)]['deleteAll'](this['instance'][_0x3287b2(0x3ad)]);_0x15df06['success']?this[_0x3287b2(0x588)][_0x3287b2(0x642)](this[_0x3287b2(0x3ae)]+'\x20('+this[_0x3287b2(0x60b)][_0x3287b2(0x3ad)]+_0x3287b2(0x38f)):this[_0x3287b2(0x588)][_0x3287b2(0x71a)](_0x3287b2(0x2c8)+_0x15df06[_0x3287b2(0x71a)]);}catch(_0x36d607){this['logger'][_0x3287b2(0x71a)](_0x3287b2(0x37e)+_0x36d607[_0x3287b2(0x239)]);}this[_0x3287b2(0x60b)][_0x3287b2(0x57e)][_0x3287b2(0x90f)]!==null&&(this[_0x3287b2(0x588)][_0x3287b2(0x642)](this[_0x3287b2(0x3ae)]+'\x20('+this['instance'][_0x3287b2(0x3ad)]+_0x3287b2(0x6cc)),clearInterval(this[_0x3287b2(0x60b)][_0x3287b2(0x57e)][_0x3287b2(0x90f)]),this['instance'][_0x3287b2(0x57e)][_0x3287b2(0x90f)]=null),this['logger'][_0x3287b2(0x642)](this[_0x3287b2(0x3ae)]+'\x20('+this['instance'][_0x3287b2(0x3ad)]+_0x3287b2(0x241)),this[_0x3287b2(0x69f)]=null,this['eventEmitter'][_0x3287b2(0x4bc)]('remove.instance',this[_0x3287b2(0x60b)][_0x3287b2(0x69b)],_0x3287b2(0x3b7)),this[_0x3287b2(0x2ef)]?.['ws']?.['close'](),this[_0x3287b2(0x2ef)][_0x3287b2(0x553)](new Error(_0x3287b2(0x640)));}}if(_0x487699===_0x3287b2(0x81f)){this[_0x3287b2(0x588)]['warn'](this[_0x3287b2(0x3ae)]+'\x20('+this[_0x3287b2(0x60b)][_0x3287b2(0x3ad)]+_0x3287b2(0x57b)+this[_0x3287b2(0x2ef)][_0x3287b2(0x6a6)][_0x3287b2(0x3ac)]?.[_0x3287b2(0x28e)]),this[_0x3287b2(0x2ef)][_0x3287b2(0x6a6)][_0x3287b2(0x3ac)]?.[_0x3287b2(0x28e)]||(this[_0x3287b2(0x588)][_0x3287b2(0x537)](this[_0x3287b2(0x3ae)]+'\x20('+this['instance'][_0x3287b2(0x3ad)]+_0x3287b2(0x2a0)),this[_0x3287b2(0x2ef)]['ev'][_0x3287b2(0x626)]()),this[_0x3287b2(0x7c3)],this[_0x3287b2(0x60b)][_0x3287b2(0x3ad)]=this[_0x3287b2(0x2ef)][_0x3287b2(0x717)]['id'][_0x3287b2(0x417)](/:\d+/,'')[_0x3287b2(0x417)](_0x3287b2(0x53d),''),this['instance'][_0x3287b2(0x2e8)]=(await this[_0x3287b2(0x4bf)](this['instance']['wuid']+'@s.whatsapp.net'))[_0x3287b2(0x2e8)],this[_0x3287b2(0x5b9)][_0x3287b2(0x805)][_0x3287b2(0x5d4)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x3287b2(0x60b)][_0x3287b2(0x69b)]);let _0x1fdff1=_0x3287b2(0x3f0)+this[_0x3287b2(0x60b)][_0x3287b2(0x3ad)],_0x4445d9=0x28,_0x30a53e=Math['floor']((_0x4445d9-_0x1fdff1['length'])/0x2),_0x45f94a='\x20'[_0x3287b2(0x1e2)](_0x30a53e),_0x316887=_0x3287b2(0x33e),_0x1336c7=_0x3287b2(0x676)+this[_0x3287b2(0x60b)][_0x3287b2(0x69b)],_0x15ba54=(''+_0x45f94a+_0x1fdff1+_0x45f94a)[_0x3287b2(0x2ce)](_0x4445d9,'\x20'),_0x2edf3c=(''+_0x45f94a+_0x316887+_0x45f94a)[_0x3287b2(0x2ce)](_0x4445d9,'\x20'),_0x1b0f3b=(''+_0x45f94a+_0x1336c7+_0x45f94a)['padEnd'](_0x4445d9,'\x20'),_0xf3381e=Math[_0x3287b2(0x600)](_0x15ba54[_0x3287b2(0x3f7)],_0x2edf3c[_0x3287b2(0x3f7)],_0x1b0f3b[_0x3287b2(0x3f7)]),_0x116a60=_0x15ba54['padEnd'](_0xf3381e,'\x20'),_0x106cfb=_0x2edf3c['padEnd'](_0xf3381e,'\x20'),_0x23bfe5=_0x1b0f3b[_0x3287b2(0x2ce)](_0xf3381e,'\x20');this[_0x3287b2(0x588)][_0x3287b2(0x246)]((_0x3287b2(0x7e8)+'─'['repeat'](_0xf3381e)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x106cfb+_0x3287b2(0x5a2)+_0x23bfe5+_0x3287b2(0x5a2)+_0x116a60+_0x3287b2(0x47f)+'─'[_0x3287b2(0x1e2)](_0xf3381e)+'┘')[_0x3287b2(0x417)](/^ +/gm,'\x20\x20')),this[_0x3287b2(0x797)](),this['instance']['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x2b042e(0x7c3)](){const _0x593617=a0_0x2b042e;this[_0x593617(0x7e1)]=0x0,this[_0x593617(0x67c)]=[];}async[a0_0x2b042e(0x2a4)](_0xd6bf3b,_0x433ab1=!0x1){const _0x4736b7=a0_0x2b042e;try{let _0x4ee052=await this[_0x4736b7(0x5b9)][_0x4736b7(0x239)][_0x4736b7(0x6da)]({'where':{'_id':_0xd6bf3b['id']}},this[_0x4736b7(0x60b)][_0x4736b7(0x3ad)]);return _0x433ab1?_0x4ee052[0x0]:_0x4ee052[0x0][_0x4736b7(0x239)];}catch{return{'conversation':''};}}[a0_0x2b042e(0x4e7)](){const _0x3ec65f=a0_0x2b042e;let _0x18898d=this['configService']['get']('STORE'),_0x244c72=this[_0x3ec65f(0x865)][_0x3ec65f(0x7e0)]('DATABASE');_0x18898d?.['CLEANING_INTERVAL']&&!_0x244c72[_0x3ec65f(0x460)]&&setInterval(()=>{const _0x47dba9=_0x3ec65f;try{for(let [_0x462fdd,_0x54c7f8]of Object[_0x47dba9(0x894)](_0x18898d))_0x54c7f8===!0x0&&(0x0,Ue[_0x47dba9(0x5f1)])(_0x47dba9(0x89f)+(0x0,J['join'])(this[_0x47dba9(0x2d7)],_0x462fdd[_0x47dba9(0x238)](),this[_0x47dba9(0x60b)][_0x47dba9(0x3ad)])+_0x47dba9(0x4cf));}catch{}},(_0x18898d?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x2b042e(0x8cc)](){const _0x40076d=a0_0x2b042e;let _0x240b23=this[_0x40076d(0x865)]['get']('DATABASE'),_0xb28935=this['configService'][_0x40076d(0x7e0)]('REDIS');return _0xb28935?.[_0x40076d(0x460)]?await Os(_0xb28935,this[_0x40076d(0x60b)][_0x40076d(0x69b)]):_0x240b23['ENABLED']?await _s(this[_0x40076d(0x60b)][_0x40076d(0x69b)]):await(0x0,w['useMultiFileAuthState'])((0x0,J[_0x40076d(0x8f2)])(Me,this[_0x40076d(0x60b)][_0x40076d(0x69b)]));}async[a0_0x2b042e(0x797)](){const _0x223dc0=a0_0x2b042e;let _0x551648=()=>Math[_0x223dc0(0x8ed)](Math['random']()*0x4e21)+0x7d0,_0x2232e8=async()=>{const _0x37ad5a=_0x223dc0;if(!this[_0x37ad5a(0x60b)]['ScheduleMessage'][_0x37ad5a(0x543)]){this['logger'][_0x37ad5a(0x642)](this[_0x37ad5a(0x3ae)]+'\x20('+this[_0x37ad5a(0x60b)]['wuid']+_0x37ad5a(0x3e2)),this[_0x37ad5a(0x29c)]=!0x1;return;}if(this[_0x37ad5a(0x60b)]['wuid']&&this['AutomateSystem']&&this[_0x37ad5a(0x60b)][_0x37ad5a(0x57e)][_0x37ad5a(0x90f)]!==null&&this['instance'][_0x37ad5a(0x57e)][_0x37ad5a(0x90f)]!==void 0x0){let _0x3c4408=Math[_0x37ad5a(0x3d1)](this[_0x37ad5a(0x60b)][_0x37ad5a(0x57e)][_0x37ad5a(0x90f)]/0xea60);this[_0x37ad5a(0x588)][_0x37ad5a(0x642)](this['instanceName']+'\x20('+this[_0x37ad5a(0x60b)][_0x37ad5a(0x3ad)]+_0x37ad5a(0x3c4)+_0x3c4408+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x37ad5a(0x29c)]=!0x1;return;}else this[_0x37ad5a(0x60b)][_0x37ad5a(0x3ad)]&&(this[_0x37ad5a(0x588)][_0x37ad5a(0x642)](this[_0x37ad5a(0x3ae)]+'\x20('+this[_0x37ad5a(0x60b)][_0x37ad5a(0x3ad)]+_0x37ad5a(0x71d)),this['AutomateSystem']||(await this[_0x37ad5a(0x539)](),this[_0x37ad5a(0x7d0)](),this[_0x37ad5a(0x812)]()),(this[_0x37ad5a(0x60b)][_0x37ad5a(0x57e)][_0x37ad5a(0x90f)]===null||this[_0x37ad5a(0x60b)][_0x37ad5a(0x57e)][_0x37ad5a(0x90f)]===void 0x0)&&await this[_0x37ad5a(0x4e4)]());if(this[_0x37ad5a(0x29c)]){let _0x2a78b4=_0x551648();this[_0x37ad5a(0x588)]['verbose'](this[_0x37ad5a(0x3ae)]+_0x37ad5a(0x3d5)+_0x2a78b4/0x3e8+_0x37ad5a(0x845)),setTimeout(_0x2232e8,_0x2a78b4);}};if(this['isRunning'])return;this[_0x223dc0(0x29c)]=!0x0;let _0x322a57=_0x551648();setTimeout(_0x2232e8,_0x322a57);}async[a0_0x2b042e(0x812)](){const _0x564e4f=a0_0x2b042e;let _0x587fe4=this[_0x564e4f(0x60b)][_0x564e4f(0x3ad)];try{let _0xe06c1f=await this[_0x564e4f(0x5b9)]['flow'][_0x564e4f(0x4f0)]({'where':{'$or':[{'owner':_0x587fe4},{'whoCanUse':{'$in':[_0x587fe4]}},{'shareOwners':{'$in':[_0x587fe4]}}]}}),_0x29869a=new Map(this['AutomateSystem'][_0x564e4f(0x8df)][_0x564e4f(0x633)](_0x38ac50=>[_0x38ac50[_0x564e4f(0x48a)],_0x38ac50])),_0x29266f=_0xe06c1f[_0x564e4f(0x633)](_0x3f2be8=>{const _0x1dce61=_0x564e4f;let _0x2476b1=_0x29869a[_0x1dce61(0x7e0)](_0x3f2be8['_id']?.['toString']());return{'_id':_0x3f2be8[_0x1dce61(0x48a)]?.[_0x1dce61(0x413)](),'name':_0x2476b1?.['name']??_0x3f2be8['name'],'default':_0x2476b1?.[_0x1dce61(0x1f4)]??_0x3f2be8[_0x1dce61(0x1f4)]??!0x1,'startCommand':_0x2476b1?.['startCommand']??_0x3f2be8[_0x1dce61(0x4d4)],'minutesToClose':_0x2476b1?.[_0x1dce61(0x846)]??_0x3f2be8[_0x1dce61(0x846)]??0xa,'readMessages':_0x2476b1?.[_0x1dce61(0x767)]??_0x3f2be8[_0x1dce61(0x767)]??!0x1,'testingWith':_0x2476b1?.[_0x1dce61(0x862)]??_0x3f2be8[_0x1dce61(0x862)],'canEdit':_0x3f2be8[_0x1dce61(0x2a2)]===_0x587fe4||(_0x3f2be8['whoCanEdit']??[])[_0x1dce61(0x8ef)](_0x587fe4),'usersCount':(_0x3f2be8[_0x1dce61(0x61d)]??[])['length']??0x0};}),_0x33ad51=!0x1;_0x29266f['forEach'](_0x335720=>{const _0x34041a=_0x564e4f;_0x335720[_0x34041a(0x1f4)]&&(_0x33ad51?_0x335720[_0x34041a(0x1f4)]=!0x1:_0x33ad51=!0x0);}),this['AutomateSystem'][_0x564e4f(0x8df)]=_0x29266f;let _0x578938={'flows':_0x29266f};return await this[_0x564e4f(0x5b9)][_0x564e4f(0x62a)]['update'](_0x578938,_0x587fe4),this[_0x564e4f(0x588)][_0x564e4f(0x642)](this['instanceName']+'\x20('+_0x587fe4+_0x564e4f(0x49c)),_0x29266f[_0x564e4f(0x3f7)];}catch(_0x3b25e6){return this['logger']['error'](this[_0x564e4f(0x3ae)]+'\x20('+_0x587fe4+_0x564e4f(0x77c)+(_0x3b25e6 instanceof Error?_0x3b25e6[_0x564e4f(0x239)]:JSON[_0x564e4f(0x254)](_0x3b25e6,null,0x2))),{'message':_0x564e4f(0x904)+(_0x3b25e6 instanceof Error?_0x3b25e6[_0x564e4f(0x239)]:JSON[_0x564e4f(0x254)](_0x3b25e6,null,0x2))};}}async[a0_0x2b042e(0x6ee)](_0x429ebd){const _0xca6f89=a0_0x2b042e;try{let _0x481f5b=await this[_0xca6f89(0x5b9)][_0xca6f89(0x60b)][_0xca6f89(0x296)]({'where':{'_id':ee+'-'+this[_0xca6f89(0x3ae)]}}),_0x4f09b1;console['log']('--------------------------------------'),console['log']('proxy:\x20',Ti),console['log'](_0xca6f89(0x82d),this[_0xca6f89(0x7e1)]),console[_0xca6f89(0x364)](_0xca6f89(0x85e)),Ti&&(this[_0xca6f89(0x7e1)]<0x6||!this['reconnectAttempts'])&&(!me[_0xca6f89(0x338)]||!me[_0xca6f89(0x287)]?(console[_0xca6f89(0x71a)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),_0x4f09b1=void 0x0):_0x481f5b&&_0x481f5b['ip']?(_0x4f09b1=_0x481f5b['ip'],console['log'](_0xca6f89(0x5cd)+_0x4f09b1)):(_0x4f09b1=await me[_0xca6f89(0x211)](ee,this[_0xca6f89(0x60b)][_0xca6f89(0x69b)]),_0x4f09b1?(console['log'](_0xca6f89(0x2a9)+_0x4f09b1),await(0x0,w[_0xca6f89(0x39a)])(0x7d0)):console[_0xca6f89(0x71a)]('Falha\x20ao\x20criar\x20IPv6.'))),this['loadWebhook'](),this['instance'][_0xca6f89(0x7b4)]=(await this[_0xca6f89(0x5b9)][_0xca6f89(0x805)][_0xca6f89(0x6da)](this[_0xca6f89(0x60b)][_0xca6f89(0x69b)]))[_0xca6f89(0x7b4)],this['instance']['authState']=await this[_0xca6f89(0x8cc)]();let {version:_0x1125a1}=await(0x0,w[_0xca6f89(0x567)])(),_0x540238=[ki,Fs,(0x0,Ps[_0xca6f89(0x456)])()],_0x2adf17={'localAddress':_0x4f09b1,'auth':{'creds':this['instance'][_0xca6f89(0x6a6)][_0xca6f89(0x77e)][_0xca6f89(0x3ac)],'keys':(0x0,w[_0xca6f89(0x8a7)])(this[_0xca6f89(0x60b)][_0xca6f89(0x6a6)][_0xca6f89(0x77e)][_0xca6f89(0x5d6)],(0x0,Jt['default'])({'level':'error'}))},'logger':(0x0,Jt[_0xca6f89(0x1f4)])({'level':_0xca6f89(0x71a)}),'printQRInTerminal':!0x1,'browser':_0x429ebd?[_0xca6f89(0x89d),Fs,(0x0,Ps[_0xca6f89(0x456)])()]:_0x540238,'version':_0x1125a1,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x47d77=>{const _0x858e90=_0xca6f89;let _0x5b328a=this[_0x858e90(0x51f)]?.['groups_ignore']&&(0x0,w[_0x858e90(0x713)])(_0x47d77);return(0x0,w[_0x858e90(0x647)])(_0x47d77)||_0x5b328a;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x3c2891=>await this[_0xca6f89(0x2a4)](_0x3c2891),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5ecba3=>(_0x5ecba3[_0xca6f89(0x54c)]?.[_0xca6f89(0x73c)]==w[_0xca6f89(0x5f7)][_0xca6f89(0x83b)][_0xca6f89(0x227)][_0xca6f89(0x744)][_0xca6f89(0x1f3)]&&(_0x5ecba3=JSON[_0xca6f89(0x8c0)](JSON[_0xca6f89(0x254)](_0x5ecba3)),_0x5ecba3[_0xca6f89(0x54c)]['listType']=w[_0xca6f89(0x5f7)][_0xca6f89(0x83b)][_0xca6f89(0x227)]['ListType'][_0xca6f89(0x579)]),_0x5ecba3)};return this['endSession']=!0x1,this[_0xca6f89(0x2ef)]=(0x0,w[_0xca6f89(0x1f4)])(_0x2adf17),this[_0xca6f89(0x203)](),this['phoneNumber']=_0x429ebd,this[_0xca6f89(0x2ef)];}catch(_0x286f5c){let _0x2f61e2=_0xca6f89(0x8cb),_0x54a189=_0x286f5c instanceof Error?_0x286f5c['message']:typeof _0x286f5c==_0xca6f89(0x880)?JSON[_0xca6f89(0x254)](_0x286f5c):_0x286f5c,_0x522028=_0x2f61e2+':\x20'+_0x54a189;throw this[_0xca6f89(0x588)]['error'](this[_0xca6f89(0x3ae)]+'\x20('+this['instance'][_0xca6f89(0x3ad)]+_0xca6f89(0x82b)+_0x522028),new x(_0x522028);}}['eventHandler'](){const _0x537008=a0_0x2b042e;this[_0x537008(0x2ef)]['ev'][_0x537008(0x396)](_0x27981e=>{const _0x25485c=_0x537008;if(!this['endSession']){let _0x26cd23=this[_0x25485c(0x865)][_0x25485c(0x7e0)]('DATABASE');if(_0x27981e[_0x25485c(0x924)]){let _0x1f37eb=_0x27981e['labels.edit'];this[_0x25485c(0x561)]['labels.edit'](_0x1f37eb);}if(_0x27981e['labels.association']){let _0x37b582=_0x27981e[_0x25485c(0x788)];this[_0x25485c(0x561)]['labels.association'](_0x37b582);}if(_0x27981e[_0x25485c(0x39f)]&&this[_0x25485c(0x24e)](_0x27981e[_0x25485c(0x39f)]),_0x27981e[_0x25485c(0x7d1)]&&this[_0x25485c(0x60b)][_0x25485c(0x6a6)][_0x25485c(0x3b9)](),_0x27981e[_0x25485c(0x511)]){let _0x41a037=_0x27981e['messaging-history.set'];this['messageHandle'][_0x25485c(0x511)](_0x41a037,_0x26cd23);}if(_0x27981e[_0x25485c(0x76d)]){let _0x3d723b=_0x27981e[_0x25485c(0x76d)];this[_0x25485c(0x561)]['messages.upsert'](_0x3d723b,_0x26cd23);}if(_0x27981e['messages.update']){let _0x582ae6=_0x27981e[_0x25485c(0x286)];_0x582ae6['forEach'](_0x6bde67=>{const _0x2deef6=_0x25485c;if(_i[_0x6bde67[_0x2deef6(0x730)]['id']]){this[_0x2deef6(0x2ef)]['ev'][_0x2deef6(0x4bc)]('messages.upsert',{'messages':[_0x6bde67],'type':'notify'}),delete _i[_0x6bde67[_0x2deef6(0x730)]['id']];return;}}),this['messageHandle']['messages.update'](_0x582ae6,_0x26cd23);}if(_0x27981e['presence.update']){let _0x11aae0=_0x27981e['presence.update'];if(this[_0x25485c(0x51f)]?.[_0x25485c(0x350)]&&_0x11aae0['id'][_0x25485c(0x8ef)](_0x25485c(0x468)))return;this['sendDataWebhook']('presence.update',_0x11aae0);}if(_0x27981e[_0x25485c(0x6d0)]){let _0x34e852=_0x27981e[_0x25485c(0x6d0)];this[_0x25485c(0x86e)][_0x25485c(0x6d0)](_0x34e852);}if(_0x27981e[_0x25485c(0x7c7)]){let _0x1d78c8=_0x27981e[_0x25485c(0x7c7)];this['groupHandler'][_0x25485c(0x7c7)](_0x1d78c8);}if(_0x27981e[_0x25485c(0x662)]){let _0x8a474e=_0x27981e[_0x25485c(0x662)];this[_0x25485c(0x86e)]['group-participants.update'](_0x8a474e);}if(_0x27981e[_0x25485c(0x25b)]){let _0x2d1d47=_0x27981e[_0x25485c(0x25b)];this[_0x25485c(0x735)][_0x25485c(0x25b)](_0x2d1d47,_0x26cd23);}if(_0x27981e[_0x25485c(0x813)]){let _0x108098=_0x27981e[_0x25485c(0x813)];this[_0x25485c(0x735)][_0x25485c(0x813)](_0x108098,_0x26cd23);}if(_0x27981e[_0x25485c(0x54b)]){let _0x5d00fd=_0x27981e[_0x25485c(0x54b)];this[_0x25485c(0x735)][_0x25485c(0x54b)](_0x5d00fd);}if(_0x27981e[_0x25485c(0x858)]){let _0x57eb53=_0x27981e[_0x25485c(0x858)];this[_0x25485c(0x86b)][_0x25485c(0x858)](_0x57eb53,_0x26cd23);}if(_0x27981e['contacts.update']){let _0x2163d2=_0x27981e[_0x25485c(0x839)];this['contactHandle'][_0x25485c(0x839)](_0x2163d2,_0x26cd23);}}});}[a0_0x2b042e(0x6f0)](_0x1bc674){return new Promise(_0x4a1da6=>setTimeout(_0x4a1da6,_0x1bc674));}['formatBRNumber'](_0x12b05f){const _0x20e258=a0_0x2b042e;_0x12b05f=_0x12b05f[_0x20e258(0x417)](/\D/g,'');let _0x253151=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x12b05f);if(_0x253151&&_0x253151[0x1]==='55'){let _0x4cd8ef=_0x253151[0x2],_0x197e99=_0x253151[0x3],_0x4d95c2=_0x253151[0x4];if(parseInt(_0x4cd8ef)>=0x1f&&_0x197e99==='9')return _0x253151[0x1]+_0x4cd8ef+_0x4d95c2;}return _0x12b05f;}[a0_0x2b042e(0x7c0)](_0x3c19d6){const _0x2acc12=a0_0x2b042e;return _0x3c19d6['includes']('@g.us')||_0x3c19d6['includes'](_0x2acc12(0x53d))||_0x3c19d6[_0x2acc12(0x8ef)](_0x2acc12(0x420))?_0x3c19d6:(_0x3c19d6=_0x3c19d6?.[_0x2acc12(0x417)](/\s/g,'')[_0x2acc12(0x417)](/\+/g,'')[_0x2acc12(0x417)](/\(/g,'')[_0x2acc12(0x417)](/\)/g,'')[_0x2acc12(0x5d7)](/\:/)[0x0][_0x2acc12(0x5d7)]('@')[0x0],_0x3c19d6['length']>=0x12?(_0x3c19d6=_0x3c19d6['replace'](/[^\d-]/g,''),_0x3c19d6+_0x2acc12(0x468)):(_0x3c19d6=_0x3c19d6[_0x2acc12(0x417)](/\D/g,''),_0x3c19d6+_0x2acc12(0x53d)));}async[a0_0x2b042e(0x27a)](_0x5583b4){const _0x1245f6=a0_0x2b042e;let _0x3aae4c=(await this[_0x1245f6(0x32d)]({'numbers':[_0x5583b4[_0x1245f6(0x46a)]]}))[0x0];if(!_0x3aae4c[_0x1245f6(0x373)]&&!(0x0,w[_0x1245f6(0x713)])(_0x3aae4c[_0x1245f6(0x697)])&&!_0x3aae4c[_0x1245f6(0x697)][_0x1245f6(0x8ef)](_0x1245f6(0x420)))throw new m(_0x3aae4c);let _0x44348f=_0x3aae4c[_0x1245f6(0x697)];try{return await this[_0x1245f6(0x2ef)][_0x1245f6(0x619)](_0x44348f),await this[_0x1245f6(0x2ef)][_0x1245f6(0x7a0)](_0x5583b4['presence'],_0x44348f),{'status':0xc8,'presence':_0x5583b4[_0x1245f6(0x204)]};}catch(_0x3f8b25){let _0x5654c1=_0x1245f6(0x5ee),_0x35cd05=_0x3f8b25 instanceof Error?_0x3f8b25[_0x1245f6(0x239)]:typeof _0x3f8b25=='object'?JSON[_0x1245f6(0x254)](_0x3f8b25):_0x3f8b25,_0x21cc61=_0x5654c1+':\x20'+_0x35cd05;throw this[_0x1245f6(0x588)]['error'](this[_0x1245f6(0x3ae)]+'\x20('+this['instance'][_0x1245f6(0x3ad)]+_0x1245f6(0x82b)+_0x21cc61),new m(_0x21cc61);}}async[a0_0x2b042e(0x473)](_0x1727d7,_0x27b6b6,_0x6f35a5,_0x29d24b=!0x0){const _0x42539a=a0_0x2b042e;let _0xc98d84=await this['repository'][_0x42539a(0x400)][_0x42539a(0x296)]({'where':{'_id':_0x1727d7}});if(!_0xc98d84&&!_0x29d24b)return;let _0xb3e73c={'lastUpdate':Date[_0x42539a(0x71e)]()};if(_0x6f35a5||!_0xc98d84?.[_0x42539a(0x803)]||Date['now']()-_0xc98d84[_0x42539a(0x803)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1e425f=(await this[_0x42539a(0x4bf)](_0x1727d7))[_0x42539a(0x2e8)];_0xb3e73c['pictureUrl']=_0x1e425f;}catch(_0x5549b3){let _0x711ad7=_0x42539a(0x8e0),_0x352195=_0x5549b3 instanceof Error?_0x5549b3['message']:typeof _0x5549b3==_0x42539a(0x880)?JSON[_0x42539a(0x254)](_0x5549b3):_0x5549b3,_0x1e88d4=_0x711ad7+':\x20'+_0x352195;throw this[_0x42539a(0x588)][_0x42539a(0x71a)](this['instanceName']+'\x20('+this[_0x42539a(0x60b)][_0x42539a(0x3ad)]+_0x42539a(0x82b)+_0x1e88d4),new m(_0x1e88d4);}return _0x27b6b6&&_0xc98d84?.[_0x42539a(0x69b)]!==_0x27b6b6&&(_0xb3e73c[_0x42539a(0x69b)]=_0x27b6b6),Object['keys'](_0xb3e73c)['length']>0x1&&(_0xc98d84?await this[_0x42539a(0x5b9)][_0x42539a(0x400)][_0x42539a(0x914)]({'where':{'_id':_0x1727d7}},_0xb3e73c):await this[_0x42539a(0x5b9)]['cacheContact'][_0x42539a(0x7e5)]([{'_id':_0x1727d7,..._0xb3e73c}]),_0xc98d84={..._0xc98d84,..._0xb3e73c}),{'cachedContact':_0xc98d84};}async[a0_0x2b042e(0x4bf)](_0x4ab1a2){const _0x3f41d4=a0_0x2b042e;let _0x5ca384=this[_0x3f41d4(0x7c0)](_0x4ab1a2);try{return{'wuid':_0x5ca384,'profilePictureUrl':await this[_0x3f41d4(0x2ef)][_0x3f41d4(0x2e8)](_0x5ca384,_0x3f41d4(0x7b2))};}catch{return{'wuid':_0x5ca384,'profilePictureUrl':null};}}async[a0_0x2b042e(0x40e)](_0x68c305,_0x367973,_0x4563a1){const _0x2fea00=a0_0x2b042e;let _0x567984;try{let _0x18803f=(await this[_0x2fea00(0x32d)]({'numbers':[_0x68c305]}))[0x0];if(!_0x18803f[_0x2fea00(0x373)]&&!(0x0,w[_0x2fea00(0x713)])(_0x18803f[_0x2fea00(0x697)])&&!_0x18803f['jid'][_0x2fea00(0x8ef)](_0x2fea00(0x420)))throw new m(_0x18803f);_0x567984=_0x18803f[_0x2fea00(0x697)];}catch(_0x500db6){_0x567984=_0x68c305,this['logger'][_0x2fea00(0x537)](this[_0x2fea00(0x3ae)]+'\x20('+this[_0x2fea00(0x60b)]['wuid']+_0x2fea00(0x4e5)+_0x500db6[_0x2fea00(0x239)]),this[_0x2fea00(0x588)][_0x2fea00(0x537)](this[_0x2fea00(0x3ae)]+'\x20('+this[_0x2fea00(0x60b)][_0x2fea00(0x3ad)]+'):\x20sender\x20=\x20number:\x20'+_0x567984);}try{if(_0x567984||(_0x567984=_0x68c305,this[_0x2fea00(0x588)][_0x2fea00(0x537)](this['instanceName']+'\x20('+this[_0x2fea00(0x60b)]['wuid']+_0x2fea00(0x622)+_0x567984)),_0x4563a1||(_0x4563a1={}),_0x4563a1?.[_0x2fea00(0x39a)]){await this['client'][_0x2fea00(0x619)](_0x567984),await this[_0x2fea00(0x2ef)][_0x2fea00(0x7a0)](_0x4563a1?.[_0x2fea00(0x204)]??_0x2fea00(0x201),_0x567984);let _0x1e4030=Math[_0x2fea00(0x8ac)](_0x4563a1[_0x2fea00(0x39a)],0x2710);await(0x0,w[_0x2fea00(0x39a)])(_0x1e4030),await this[_0x2fea00(0x2ef)]['sendPresenceUpdate'](_0x2fea00(0x2da),_0x567984);}let _0x4790b1=_0x4563a1?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x2a5829;if(_0x4563a1?.[_0x2fea00(0x79f)]){let _0xcd7fbb=_0x4563a1?.[_0x2fea00(0x79f)],_0x6fdf9f=_0xcd7fbb?.[_0x2fea00(0x239)]?_0xcd7fbb:await this[_0x2fea00(0x2a4)](_0xcd7fbb[_0x2fea00(0x730)],!0x0);if(!_0x6fdf9f)throw _0x2fea00(0x602);_0x2a5829=_0x6fdf9f;}let _0x2c0ea5;if((0x0,w[_0x2fea00(0x713)])(_0x567984))try{let _0x351de9=(await this['repository']['chat'][_0x2fea00(0x296)]({'where':{'_id':_0x567984}},this['instance'][_0x2fea00(0x3ad)]))['groupdata'];if(!_0x351de9)throw new V(_0x2fea00(0x560));_0x4563a1?.[_0x2fea00(0x901)]&&(_0x4563a1['mentions']?.[_0x2fea00(0x4be)]?_0x2c0ea5=_0x351de9[_0x2fea00(0x34c)][_0x2fea00(0x633)](_0x1babac=>_0x1babac['id']):_0x4563a1[_0x2fea00(0x901)]?.[_0x2fea00(0x72e)]?.['length']&&(_0x2c0ea5=_0x4563a1[_0x2fea00(0x901)][_0x2fea00(0x72e)][_0x2fea00(0x633)](_0x1c6cd3=>{const _0x3fea3d=_0x2fea00;let _0xd58281=this[_0x3fea3d(0x7c0)](_0x1c6cd3);return(0x0,w[_0x3fea3d(0x713)])(_0xd58281)?null:_0xd58281;})));}catch{throw new V(_0x2fea00(0x560));}let _0x53dd5b=await this[_0x2fea00(0x5b9)][_0x2fea00(0x69d)][_0x2fea00(0x296)]({'where':{'_id':_0x567984}},this[_0x2fea00(0x60b)][_0x2fea00(0x3ad)]),_0x3f05a7=await((async()=>{const _0x5e702f=_0x2fea00;let _0x21868d={'quoted':_0x2a5829,'ephemeralExpiration':_0x53dd5b?.[_0x5e702f(0x518)]??0x0};if(!_0x367973['audio']&&!_0x367973[_0x5e702f(0x65f)]&&!_0x367973[_0x5e702f(0x43d)]&&!_0x367973[_0x5e702f(0x2c1)]&&_0x567984!==_0x5e702f(0x475)&&!_0x367973[_0x5e702f(0x6ac)])return await this['client']['sendMessage'](_0x567984,{'forward':{'key':{'remoteJid':this[_0x5e702f(0x60b)]['wuid'],'fromMe':!0x0},'message':_0x367973},'mentions':_0x2c0ea5},_0x21868d);if(_0x367973['reactionMessage'])return await this[_0x5e702f(0x2ef)][_0x5e702f(0x264)](_0x567984,{'react':{'text':_0x367973[_0x5e702f(0x720)][_0x5e702f(0x8de)],'key':_0x367973[_0x5e702f(0x720)][_0x5e702f(0x730)]}},_0x21868d);if(_0x367973[_0x5e702f(0x2c1)]){let _0x287012=_0x367973[_0x5e702f(0x2c1)];return _0x4563a1?.[_0x5e702f(0x23a)]&&(_0x287012=await this[_0x5e702f(0x76c)](_0x287012,_0x567984)),await this[_0x5e702f(0x2ef)]['sendMessage'](_0x567984,{'text':_0x287012,'mentions':_0x2c0ea5,'linkPreview':_0x4790b1},_0x21868d);}return _0x567984===_0x5e702f(0x475)?await this[_0x5e702f(0x2ef)][_0x5e702f(0x264)](_0x567984,_0x367973[_0x5e702f(0x3cd)][_0x5e702f(0x262)],{'backgroundColor':_0x367973['status'][_0x5e702f(0x33f)]['backgroundColor'],'font':_0x367973[_0x5e702f(0x3cd)]['option'][_0x5e702f(0x753)],'statusJidList':_0x367973['status'][_0x5e702f(0x33f)][_0x5e702f(0x917)]}):await this[_0x5e702f(0x2ef)]['sendMessage'](_0x567984,_0x367973,_0x21868d);})()),_0x52da4f=(0x0,w[_0x2fea00(0x925)])(_0x3f05a7['message']),_0x170565=(0x0,w[_0x2fea00(0x44e)])(_0x52da4f),{message_normalized:_0x28b330}=this['normalizeMessage'](_0x52da4f,_0x170565,null),_0x1f3ff5={'_id':_0x3f05a7[_0x2fea00(0x730)]['id'],'key':_0x3f05a7[_0x2fea00(0x730)],'pushName':_0x3f05a7[_0x2fea00(0x36d)],'isGroup':_0x3f05a7['key'][_0x2fea00(0x786)][_0x2fea00(0x329)](_0x2fea00(0x468)),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x52da4f,'messageType':_0x170565,'message_normalized':{'key':_0x3f05a7[_0x2fea00(0x730)],'pushName':_0x3f05a7[_0x2fea00(0x36d)],'messageTimestamp':_0x3f05a7[_0x2fea00(0x7f1)]&&_0x3f05a7['messageTimestamp'][_0x2fea00(0x413)]()[_0x2fea00(0x3f7)]<0xd?_0x3f05a7[_0x2fea00(0x7f1)]*0x3e8:_0x3f05a7['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x3f05a7[_0x2fea00(0x730)]['id']),..._0x28b330},'messageTimestamp':_0x3f05a7[_0x2fea00(0x7f1)]&&_0x3f05a7[_0x2fea00(0x7f1)][_0x2fea00(0x413)]()[_0x2fea00(0x3f7)]<0xd?_0x3f05a7[_0x2fea00(0x7f1)]*0x3e8:_0x3f05a7[_0x2fea00(0x7f1)]||null,'owner':this[_0x2fea00(0x60b)][_0x2fea00(0x3ad)],'source':(0x0,w[_0x2fea00(0x7ae)])(_0x3f05a7[_0x2fea00(0x730)]['id'])};return this[_0x2fea00(0x588)][_0x2fea00(0x537)](this[_0x2fea00(0x3ae)]+'\x20('+this['instance']['wuid']+_0x2fea00(0x331)+_0x1f3ff5['key']?.[_0x2fea00(0x786)]['replace'](_0x2fea00(0x53d),'')+_0x2fea00(0x5a1)+_0x1f3ff5[_0x2fea00(0x87c)]+')'),_0x1f3ff5[_0x2fea00(0x74e)]?.['text']&&this[_0x2fea00(0x588)][_0x2fea00(0x537)](_0x1f3ff5['message_normalized']?.[_0x2fea00(0x8de)]),this[_0x2fea00(0x56c)](_0x2fea00(0x7e3),_0x1f3ff5),q(this[_0x2fea00(0x3ae)],_0x2fea00(0x281),{'message':_0x1f3ff5}),this[_0x2fea00(0x3e7)](this[_0x2fea00(0x865)]['get'](_0x2fea00(0x3de)),_0x1f3ff5,'SEND_MESSAGE',_0x53dd5b),await this[_0x2fea00(0x5b9)][_0x2fea00(0x239)][_0x2fea00(0x7e5)]([_0x1f3ff5],this[_0x2fea00(0x60b)][_0x2fea00(0x3ad)]),_0x3f05a7;}catch(_0x29d549){let _0x46cc24=_0x2fea00(0x379)+_0x567984,_0x28076f=_0x29d549 instanceof Error?_0x29d549[_0x2fea00(0x239)]:typeof _0x29d549==_0x2fea00(0x880)?JSON[_0x2fea00(0x254)](_0x29d549):_0x29d549,_0x258ddd=_0x46cc24+':\x20'+_0x28076f;throw this['logger'][_0x2fea00(0x71a)](this[_0x2fea00(0x3ae)]+'\x20('+this['instance'][_0x2fea00(0x3ad)]+_0x2fea00(0x82b)+_0x258ddd),new m(_0x258ddd);}}get[a0_0x2b042e(0x847)](){const _0x4eed0c=a0_0x2b042e;return this[_0x4eed0c(0x3ab)];}async[a0_0x2b042e(0x465)](_0x520905){const _0x461ce8=a0_0x2b042e;return await this[_0x461ce8(0x40e)](_0x520905['number'],{'conversation':_0x520905[_0x461ce8(0x465)]['text']},_0x520905?.[_0x461ce8(0x783)]);}async[a0_0x2b042e(0x58d)](_0x212964){const _0x15960=a0_0x2b042e;if(!_0x212964['type'])throw new m(_0x15960(0x5fe));if(!_0x212964[_0x15960(0x262)])throw new m(_0x15960(0x8ab));if(_0x212964['allContacts']){let _0x24bb00=await this['repository'][_0x15960(0x28d)][_0x15960(0x6da)]({'where':{}},this[_0x15960(0x60b)][_0x15960(0x3ad)]);if(!_0x24bb00[_0x15960(0x3f7)])throw new m(_0x15960(0x210));_0x212964['statusJidList']=_0x24bb00[_0x15960(0x7ca)](_0x2d7f09=>_0x2d7f09[_0x15960(0x36d)])[_0x15960(0x633)](_0xc485ea=>_0xc485ea['_id']);}if(!_0x212964[_0x15960(0x917)]?.[_0x15960(0x3f7)]&&!_0x212964['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x212964['type']===_0x15960(0x8de)){if(!_0x212964['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x212964[_0x15960(0x753)])throw new m(_0x15960(0x2b6));return{'content':{'text':_0x212964[_0x15960(0x262)]},'option':{'backgroundColor':_0x212964[_0x15960(0x83e)],'font':_0x212964[_0x15960(0x753)],'statusJidList':_0x212964[_0x15960(0x917)]}};}if(_0x212964[_0x15960(0x1fa)]===_0x15960(0x7b2))return{'content':{'image':{'url':_0x212964[_0x15960(0x262)]},'caption':_0x212964[_0x15960(0x2b8)]},'option':{'statusJidList':_0x212964[_0x15960(0x917)]}};if(_0x212964['type']===_0x15960(0x5e2))return{'content':{'video':{'url':_0x212964[_0x15960(0x262)]},'caption':_0x212964[_0x15960(0x2b8)]},'option':{'statusJidList':_0x212964['statusJidList']}};if(_0x212964['type']===_0x15960(0x6ac)){this[_0x15960(0x588)]['verbose'](this[_0x15960(0x3ae)]+'\x20('+this['instance'][_0x15960(0x3ad)]+_0x15960(0x3d9)),this['logger']['verbose'](this[_0x15960(0x3ae)]+'\x20('+this[_0x15960(0x60b)]['wuid']+_0x15960(0x7de));let _0x3723b2=await this[_0x15960(0x913)](_0x212964[_0x15960(0x262)]);if(typeof _0x3723b2==_0x15960(0x62d)){this[_0x15960(0x588)][_0x15960(0x642)](this['instanceName']+'\x20('+this[_0x15960(0x60b)]['wuid']+_0x15960(0x4d3));let _0xf8455b=U[_0x15960(0x51a)](_0x3723b2)[_0x15960(0x413)](_0x15960(0x474));return{'content':{'audio':Buffer[_0x15960(0x223)](_0xf8455b,'base64'),'ptt':!0x0,'mimetype':_0x15960(0x8d0)},'option':{'statusJidList':_0x212964['statusJidList']}};}else throw new x(_0x3723b2);}throw new m(_0x15960(0x488));}async[a0_0x2b042e(0x2c5)](_0x6fb2a6){const _0xa99ea6=a0_0x2b042e;return await this[_0xa99ea6(0x40e)](_0xa99ea6(0x475),{'status':await this['formatStatusMessage'](_0x6fb2a6[_0xa99ea6(0x2c5)])});}async[a0_0x2b042e(0x4f5)](_0x46e8db){const _0x2641d2=a0_0x2b042e;try{let _0x1141ed=await(0x0,w['prepareWAMessageMedia'])({[_0x46e8db[_0x2641d2(0x2af)]]:(0x0,F[_0x2641d2(0x89c)])(_0x46e8db[_0x2641d2(0x300)])?{'url':_0x46e8db[_0x2641d2(0x300)]}:Buffer['from'](_0x46e8db[_0x2641d2(0x300)],_0x2641d2(0x474))},{'upload':this[_0x2641d2(0x2ef)][_0x2641d2(0x558)]}),_0xefba79=_0x46e8db[_0x2641d2(0x2af)]+_0x2641d2(0x83b);if(_0x46e8db[_0x2641d2(0x2af)]===_0x2641d2(0x4e3)&&!_0x46e8db[_0x2641d2(0x324)]){let _0x24eb31=new RegExp(/.*\/(.+?)\./)[_0x2641d2(0x42d)](_0x46e8db[_0x2641d2(0x300)]);_0x46e8db[_0x2641d2(0x324)]=_0x24eb31?_0x24eb31[0x1]:null;}let _0x2dd74e;return(0x0,F['isURL'])(_0x46e8db['media'])?_0x2dd74e=(await Z[_0x2641d2(0x1f4)][_0x2641d2(0x7e0)](_0x46e8db[_0x2641d2(0x300)],{'responseType':'arraybuffer'}))[_0x2641d2(0x825)][_0x2641d2(0x299)]:_0x2dd74e=(0x0,Pi[_0x2641d2(0x762)])(_0x46e8db[_0x2641d2(0x324)]),_0x1141ed[_0xefba79][_0x2641d2(0x2b8)]=_0x46e8db?.[_0x2641d2(0x2b8)],_0x1141ed[_0xefba79][_0x2641d2(0x771)]=_0x2dd74e,_0x1141ed[_0xefba79]['fileName']=_0x46e8db['fileName'],_0x46e8db[_0x2641d2(0x2af)]===_0x2641d2(0x5e2)&&(_0x1141ed[_0xefba79][_0x2641d2(0x72c)]=Uint8Array['from']((0x0,Fe[_0x2641d2(0x51a)])((0x0,J['join'])(process['cwd'](),'video-cover.png'))),_0x1141ed[_0xefba79][_0x2641d2(0x7ff)]=!0x1),(0x0,w[_0x2641d2(0x51c)])('',{[_0xefba79]:{..._0x1141ed[_0xefba79]}},{'userJid':this[_0x2641d2(0x60b)][_0x2641d2(0x3ad)]});}catch(_0x5e54a1){let _0x5e9560=_0x2641d2(0x2e7),_0x1d8173=_0x5e54a1 instanceof Error?_0x5e54a1[_0x2641d2(0x239)]:typeof _0x5e54a1==_0x2641d2(0x880)?JSON[_0x2641d2(0x254)](_0x5e54a1):_0x5e54a1,_0x348da3=_0x5e9560+':\x20'+_0x1d8173;throw this[_0x2641d2(0x588)][_0x2641d2(0x71a)](this['instanceName']+'\x20('+this[_0x2641d2(0x60b)][_0x2641d2(0x3ad)]+'):\x20'+_0x348da3),new x(_0x348da3);}}async[a0_0x2b042e(0x645)](_0x1d1ed9){const _0x157350=a0_0x2b042e;let _0x3e357b=await this['prepareMediaMessage'](_0x1d1ed9['mediaMessage']);return await this[_0x157350(0x40e)](_0x1d1ed9['number'],{..._0x3e357b['message']},_0x1d1ed9?.[_0x157350(0x783)]);}async['convertToWebP'](_0x20c4bf,_0x19c3d6){const _0x17eff9=a0_0x2b042e;try{this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)]['wuid']+_0x17eff9(0x40b));let _0x2a2032,_0x17aba2=_0x19c3d6+'-'+new Date()[_0x17eff9(0x886)]();this[_0x17eff9(0x588)]['verbose'](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x7e9)+_0x17aba2);let _0x262ad6=''+(0x0,J[_0x17eff9(0x8f2)])(this[_0x17eff9(0x2d7)],_0x17aba2+_0x17eff9(0x43a));if(this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)]['wuid']+'):Output\x20path:\x20'+_0x262ad6),(0x0,F[_0x17eff9(0x764)])(_0x20c4bf)){this[_0x17eff9(0x588)]['verbose'](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+'):Image\x20is\x20base64');let _0x2411d1=_0x20c4bf['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1ec773=Buffer[_0x17eff9(0x223)](_0x2411d1,_0x17eff9(0x474));_0x2a2032=''+(0x0,J[_0x17eff9(0x8f2)])(this[_0x17eff9(0x2d7)],_0x17eff9(0x861)+_0x17aba2+_0x17eff9(0x72d)),this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x869)+_0x2a2032),await(0x0,qt[_0x17eff9(0x1f4)])(_0x1ec773)['toFile'](_0x2a2032),this[_0x17eff9(0x588)]['verbose'](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+'):Image\x20created');}else{this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)]['wuid']+'):Image\x20is\x20url');let _0x37e04d=new Date()['getTime'](),_0x3b2986=_0x20c4bf+_0x17eff9(0x2a6)+_0x37e04d;this['logger'][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this['instance'][_0x17eff9(0x3ad)]+_0x17eff9(0x441)+_0x3b2986);let _0x451789=await Z[_0x17eff9(0x1f4)][_0x17eff9(0x7e0)](_0x3b2986,{'responseType':'arraybuffer'});this[_0x17eff9(0x588)]['verbose'](this[_0x17eff9(0x3ae)]+'\x20('+this['instance'][_0x17eff9(0x3ad)]+_0x17eff9(0x529));let _0x2f0141=Buffer[_0x17eff9(0x223)](_0x451789[_0x17eff9(0x450)],_0x17eff9(0x3f6));_0x2a2032=''+(0x0,J[_0x17eff9(0x8f2)])(this[_0x17eff9(0x2d7)],_0x17eff9(0x861)+_0x17aba2+_0x17eff9(0x72d)),this[_0x17eff9(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x869)+_0x2a2032),await(0x0,qt[_0x17eff9(0x1f4)])(_0x2f0141)['toFile'](_0x2a2032),this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x28b));}return await(0x0,qt[_0x17eff9(0x1f4)])(_0x2a2032)[_0x17eff9(0x532)]()[_0x17eff9(0x21b)](_0x262ad6),this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x481)),U[_0x17eff9(0x37c)](_0x2a2032),this[_0x17eff9(0x588)][_0x17eff9(0x642)](this[_0x17eff9(0x3ae)]+'\x20('+this[_0x17eff9(0x60b)]['wuid']+_0x17eff9(0x652)),_0x262ad6;}catch(_0x1f2e2a){let _0x38a1a0='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x5dfb46=_0x1f2e2a instanceof Error?_0x1f2e2a['message']:typeof _0x1f2e2a==_0x17eff9(0x880)?JSON[_0x17eff9(0x254)](_0x1f2e2a):_0x1f2e2a,_0x5ebe36=_0x38a1a0+':\x20'+_0x5dfb46;this[_0x17eff9(0x588)][_0x17eff9(0x71a)](this['instanceName']+'\x20('+this[_0x17eff9(0x60b)][_0x17eff9(0x3ad)]+_0x17eff9(0x82b)+_0x5ebe36);}}async[a0_0x2b042e(0x79b)](_0x2b36fb){const _0x2209a9=a0_0x2b042e;let _0x2cf6e6=await this[_0x2209a9(0x5c7)](_0x2b36fb[_0x2209a9(0x6a2)][_0x2209a9(0x7b2)],_0x2b36fb['number']),_0x3c2511=await this[_0x2209a9(0x40e)](_0x2b36fb['number'],{'sticker':{'url':_0x2cf6e6}},_0x2b36fb?.[_0x2209a9(0x783)]);return U[_0x2209a9(0x37c)](_0x2cf6e6),this[_0x2209a9(0x588)]['verbose'](this[_0x2209a9(0x3ae)]+'\x20('+this[_0x2209a9(0x60b)][_0x2209a9(0x3ad)]+_0x2209a9(0x827)),_0x3c2511;}async[a0_0x2b042e(0x830)](_0x5f09eb){const _0x31a59d=a0_0x2b042e;if(this[_0x31a59d(0x588)][_0x31a59d(0x642)](this['instanceName']+'\x20('+this[_0x31a59d(0x60b)]['wuid']+_0x31a59d(0x46b)),!_0x5f09eb[_0x31a59d(0x783)]?.['encoding']&&_0x5f09eb[_0x31a59d(0x783)]?.[_0x31a59d(0x857)]!==!0x1&&(_0x5f09eb[_0x31a59d(0x783)][_0x31a59d(0x857)]=!0x0),_0x5f09eb['options']?.[_0x31a59d(0x857)]){let _0x3e4e31=await this[_0x31a59d(0x913)](_0x5f09eb[_0x31a59d(0x8b7)][_0x31a59d(0x6ac)]);if(typeof _0x3e4e31==_0x31a59d(0x62d)){let _0x5411ce=U[_0x31a59d(0x51a)](_0x3e4e31)[_0x31a59d(0x413)](_0x31a59d(0x474));return this[_0x31a59d(0x40e)](_0x5f09eb[_0x31a59d(0x46a)],{'audio':Buffer[_0x31a59d(0x223)](_0x5411ce,_0x31a59d(0x474)),'ptt':!0x0,'mimetype':_0x31a59d(0x233)},{'presence':_0x31a59d(0x513),'delay':_0x5f09eb?.['options']?.[_0x31a59d(0x39a)]});}else throw new x(_0x3e4e31);}return await this['sendMessageWithTyping'](_0x5f09eb[_0x31a59d(0x46a)],{'audio':(0x0,F[_0x31a59d(0x89c)])(_0x5f09eb[_0x31a59d(0x8b7)][_0x31a59d(0x6ac)])?{'url':_0x5f09eb['audioMessage']['audio']}:Buffer['from'](_0x5f09eb[_0x31a59d(0x8b7)]['audio'],_0x31a59d(0x474)),'ptt':!0x0,'mimetype':_0x31a59d(0x233)},{'presence':'recording','delay':_0x5f09eb?.['options']?.[_0x31a59d(0x39a)]});}async[a0_0x2b042e(0x913)](_0x50cb0f){const _0xe5e479=a0_0x2b042e;this[_0xe5e479(0x588)][_0xe5e479(0x642)](this[_0xe5e479(0x3ae)]+'\x20('+this[_0xe5e479(0x60b)]['wuid']+_0xe5e479(0x7de));let _0x17129c=(0x0,F['isURL'])(_0x50cb0f)?(0x0,Vt['createHash'])('sha256')[_0xe5e479(0x914)](_0x50cb0f)[_0xe5e479(0x8d4)]('hex'):(0x0,Vt[_0xe5e479(0x412)])(_0xe5e479(0x1f9))['update'](_0x50cb0f)[_0xe5e479(0x8d4)](_0xe5e479(0x253)),_0x3c9037=''+(0x0,J['join'])(this[_0xe5e479(0x2d7)],_0x17129c+'.ogg');if(U['existsSync'](_0x3c9037))return this[_0xe5e479(0x588)][_0xe5e479(0x642)](this[_0xe5e479(0x3ae)]+'\x20('+this[_0xe5e479(0x60b)][_0xe5e479(0x3ad)]+_0xe5e479(0x55e)),_0x3c9037;let _0x4a4457=''+(0x0,J[_0xe5e479(0x8f2)])(this[_0xe5e479(0x2d7)],_0xe5e479(0x861)+(0x0,Q['v4'])()+_0xe5e479(0x729));if((0x0,F[_0xe5e479(0x89c)])(_0x50cb0f)){let _0x51cf80=new Date()[_0xe5e479(0x886)](),_0x23a6c0=_0x50cb0f+_0xe5e479(0x2a6)+_0x51cf80,_0x5a8135=await Z[_0xe5e479(0x1f4)][_0xe5e479(0x7e0)](_0x23a6c0,{'responseType':_0xe5e479(0x2bc)});U[_0xe5e479(0x915)](_0x4a4457,_0x5a8135[_0xe5e479(0x450)]);}else{let _0x5283ba=Buffer[_0xe5e479(0x223)](_0x50cb0f,_0xe5e479(0x474));U[_0xe5e479(0x915)](_0x4a4457,_0x5283ba);}return new Promise((_0x236736,_0x2b4ebf)=>{const _0x34d9ce=_0xe5e479;(0x0,Ue[_0x34d9ce(0x42d)])(Ds['default'][_0x34d9ce(0x1f5)]+'\x20-i\x20'+_0x4a4457+_0x34d9ce(0x76f)+_0x3c9037+_0x34d9ce(0x49b),_0x5f1274=>{const _0x1cfd4f=_0x34d9ce;if(U[_0x1cfd4f(0x37c)](_0x4a4457),_0x5f1274){this['logger'][_0x1cfd4f(0x642)](this[_0x1cfd4f(0x3ae)]+'\x20('+this[_0x1cfd4f(0x60b)][_0x1cfd4f(0x3ad)]+_0x1cfd4f(0x4fc)),_0x2b4ebf(_0x5f1274);return;}this['logger'][_0x1cfd4f(0x642)](this[_0x1cfd4f(0x3ae)]+'\x20('+this[_0x1cfd4f(0x60b)][_0x1cfd4f(0x3ad)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x236736(_0x3c9037);});});}async[a0_0x2b042e(0x903)](_0x7053dd){const _0x98e17=a0_0x2b042e;this[_0x98e17(0x588)]['verbose'](this[_0x98e17(0x3ae)]+'\x20('+this[_0x98e17(0x60b)][_0x98e17(0x3ad)]+_0x98e17(0x7de));let _0x538d09=(0x0,Vt[_0x98e17(0x412)])(_0x98e17(0x1f9))[_0x98e17(0x914)](_0x7053dd)[_0x98e17(0x8d4)](_0x98e17(0x253)),_0x387e0c=''+(0x0,J[_0x98e17(0x8f2)])(this[_0x98e17(0x2d7)],_0x538d09+_0x98e17(0x729));if(U[_0x98e17(0x258)](_0x387e0c))return this[_0x98e17(0x588)]['verbose'](this[_0x98e17(0x3ae)]+'\x20('+this[_0x98e17(0x60b)][_0x98e17(0x3ad)]+_0x98e17(0x55e)),J[_0x98e17(0x1f4)][_0x98e17(0x1f0)](_0x387e0c);let _0x3242f6=''+(0x0,J['join'])(this[_0x98e17(0x2d7)],_0x98e17(0x861)+_0x538d09+_0x98e17(0x711));if((0x0,F[_0x98e17(0x89c)])(_0x7053dd)){let _0x23e026=new Date()[_0x98e17(0x886)](),_0x2043d8=_0x7053dd+_0x98e17(0x2a6)+_0x23e026,_0x188df8=await Z['default'][_0x98e17(0x7e0)](_0x2043d8,{'responseType':'arraybuffer'});U[_0x98e17(0x915)](_0x3242f6,_0x188df8[_0x98e17(0x450)]);}else{let _0x4aedd9=Buffer['from'](_0x7053dd,_0x98e17(0x474));U[_0x98e17(0x915)](_0x3242f6,_0x4aedd9);}return new Promise((_0x117b24,_0xb8a47)=>{const _0x5e8d77=_0x98e17;(0x0,Ue[_0x5e8d77(0x42d)])(Ds[_0x5e8d77(0x1f4)][_0x5e8d77(0x1f5)]+'\x20-i\x20'+_0x3242f6+_0x5e8d77(0x3ff)+_0x387e0c+_0x5e8d77(0x49b),_0x6879f8=>{const _0x7201b7=_0x5e8d77;if(U[_0x7201b7(0x37c)](_0x3242f6),_0x6879f8){this['logger'][_0x7201b7(0x642)](this[_0x7201b7(0x3ae)]+'\x20('+this[_0x7201b7(0x60b)]['wuid']+_0x7201b7(0x4fc)),_0xb8a47(_0x6879f8);return;}this[_0x7201b7(0x588)][_0x7201b7(0x642)](this[_0x7201b7(0x3ae)]+'\x20('+this[_0x7201b7(0x60b)]['wuid']+_0x7201b7(0x308)),_0x117b24(J[_0x7201b7(0x1f4)][_0x7201b7(0x1f0)](_0x387e0c));});});}async['buttonMessage'](_0x4f04a1){const _0x5926a9=a0_0x2b042e;let _0x28fc9c={},_0x3ff802='TEXT';if(_0x4f04a1['buttonMessage']?.[_0x5926a9(0x645)]){_0x3ff802=_0x4f04a1[_0x5926a9(0x63c)][_0x5926a9(0x645)]?.[_0x5926a9(0x2af)][_0x5926a9(0x8c4)]()??_0x5926a9(0x437),_0x28fc9c['mediaKey']=_0x3ff802[_0x5926a9(0x238)]()+_0x5926a9(0x83b);let _0x3b73bd=await this['prepareMediaMessage'](_0x4f04a1[_0x5926a9(0x63c)][_0x5926a9(0x645)]);_0x28fc9c[_0x5926a9(0x239)]=_0x3b73bd[_0x5926a9(0x239)][_0x28fc9c['mediaKey']],_0x28fc9c[_0x5926a9(0x448)]='*'+_0x4f04a1[_0x5926a9(0x63c)]['title']+'*\x0a\x0a'+_0x4f04a1[_0x5926a9(0x63c)]['description'];}let _0x495861={'text':_0x4f04a1[_0x5926a9(0x63c)][_0x5926a9(0x78a)][_0x5926a9(0x633)](_0x5800b9=>_0x5800b9['buttonText']),'ids':_0x4f04a1[_0x5926a9(0x63c)][_0x5926a9(0x78a)][_0x5926a9(0x633)](_0x21ac35=>_0x21ac35[_0x5926a9(0x905)])};if(!(0x0,F[_0x5926a9(0x3fc)])(_0x495861['text'])||!(0x0,F['arrayUnique'])(_0x495861[_0x5926a9(0x8a5)]))throw new m(_0x5926a9(0x22f),_0x5926a9(0x392));return await this['sendMessageWithTyping'](_0x4f04a1[_0x5926a9(0x46a)],{'buttonsMessage':{'text':_0x28fc9c?.[_0x5926a9(0x53c)]?void 0x0:_0x4f04a1[_0x5926a9(0x63c)][_0x5926a9(0x664)],'contentText':_0x28fc9c?.['contentText']??_0x4f04a1['buttonMessage'][_0x5926a9(0x219)],'footerText':_0x4f04a1[_0x5926a9(0x63c)]?.['footerText'],'buttons':_0x4f04a1['buttonMessage'][_0x5926a9(0x78a)][_0x5926a9(0x633)](_0x1059e4=>({'buttonText':{'displayText':_0x1059e4[_0x5926a9(0x327)]},'buttonId':_0x1059e4['buttonId'],'type':0x1})),'headerType':w['proto']['Message'][_0x5926a9(0x50e)]['HeaderType'][_0x3ff802],[_0x28fc9c?.[_0x5926a9(0x53c)]]:_0x28fc9c?.[_0x5926a9(0x239)]}},_0x4f04a1?.[_0x5926a9(0x783)]);}async[a0_0x2b042e(0x311)](_0x1bd800){const _0x4d926e=a0_0x2b042e;return await this['sendMessageWithTyping'](_0x1bd800['number'],{'locationMessage':{'degreesLatitude':_0x1bd800[_0x4d926e(0x311)][_0x4d926e(0x8d9)],'degreesLongitude':_0x1bd800['locationMessage']['longitude'],'name':_0x1bd800[_0x4d926e(0x311)]?.[_0x4d926e(0x69b)],'address':_0x1bd800[_0x4d926e(0x311)]?.[_0x4d926e(0x293)]}},_0x1bd800?.[_0x4d926e(0x783)]);}async[a0_0x2b042e(0x4e8)](_0x7ac9f){const _0x364ec6=a0_0x2b042e;let _0xd9f61={},_0x14a91d=async _0x243272=>{const _0x15a30b=a0_0x2c3b;let _0x9cfbfd=_0x15a30b(0x279)+_0x243272[_0x15a30b(0x493)]+'\x0aFN:'+_0x243272[_0x15a30b(0x493)]+'\x0a';_0x243272[_0x15a30b(0x30f)]&&(_0x9cfbfd+=_0x15a30b(0x8b2)+_0x243272[_0x15a30b(0x30f)]+';\x0a'),_0x243272[_0x15a30b(0x4c2)]&&(_0x9cfbfd+=_0x15a30b(0x7d8)+_0x243272[_0x15a30b(0x4c2)]+'\x0a'),_0x243272['url']&&(_0x9cfbfd+='URL:'+_0x243272['url']+'\x0a');let _0x74cc64='',_0xc0e97e=0x1;if(_0x243272[_0x15a30b(0x255)]){let _0x355fdf=_0x243272[_0x15a30b(0x255)][_0x15a30b(0x5d7)]('|');for(let _0x24579c of _0x355fdf){let _0x3cf25d=await this[_0x15a30b(0x32d)]({'numbers':[_0x24579c]}),_0x5a85cc=(_0x3cf25d[_0x15a30b(0x3f7)]>0x0?_0x3cf25d[0x0][_0x15a30b(0x697)]:this[_0x15a30b(0x7c0)](_0x24579c))[_0x15a30b(0x417)](_0x15a30b(0x53d),'');_0x74cc64+=_0x15a30b(0x8f5)+_0xc0e97e+_0x15a30b(0x6b9)+_0x5a85cc+':'+_0x24579c+_0x15a30b(0x5e9)+_0xc0e97e+'.X-ABLabel:Celular\x0a',_0xc0e97e++;}}return _0x9cfbfd+=_0x74cc64+_0x15a30b(0x84d),_0x9cfbfd;};return _0x7ac9f[_0x364ec6(0x4e8)][_0x364ec6(0x3f7)]===0x1?_0xd9f61[_0x364ec6(0x4e8)]={'displayName':_0x7ac9f[_0x364ec6(0x4e8)][0x0]['fullName'],'vcard':await _0x14a91d(_0x7ac9f[_0x364ec6(0x4e8)][0x0])}:_0xd9f61['contactsArrayMessage']={'displayName':_0x7ac9f[_0x364ec6(0x4e8)][_0x364ec6(0x3f7)]+_0x364ec6(0x4ce),'contacts':await Promise[_0x364ec6(0x761)](_0x7ac9f['contactMessage'][_0x364ec6(0x633)](async _0x38e3e4=>({'displayName':_0x38e3e4[_0x364ec6(0x493)],'vcard':await _0x14a91d(_0x38e3e4)})))},await this[_0x364ec6(0x40e)](_0x7ac9f[_0x364ec6(0x46a)],{..._0xd9f61},_0x7ac9f?.[_0x364ec6(0x783)]);}async[a0_0x2b042e(0x720)](_0x228949){const _0x500f48=a0_0x2b042e;return await this[_0x500f48(0x40e)](_0x228949[_0x500f48(0x720)][_0x500f48(0x730)][_0x500f48(0x786)],{'reactionMessage':{'key':_0x228949[_0x500f48(0x720)][_0x500f48(0x730)],'text':_0x228949[_0x500f48(0x720)][_0x500f48(0x4af)]}});}async['whatsappNumber'](_0x3b84f1){const _0x469c57=a0_0x2b042e;let _0x2f3039=[];for await(let _0x31bfb5 of _0x3b84f1[_0x469c57(0x4ca)]){let _0xe0f137=this[_0x469c57(0x7c0)](_0x31bfb5),_0x38555f=!0x1;try{if((0x0,w[_0x469c57(0x713)])(_0xe0f137)){let _0x3a5aa9=(await this['repository'][_0x469c57(0x69d)]['findOne']({'where':{'_id':_0xe0f137}},this[_0x469c57(0x60b)]['wuid']))[_0x469c57(0x8dc)];_0x3a5aa9?(_0x38555f=!0x0,_0x2f3039[_0x469c57(0x2f6)](new pe(_0x3a5aa9['id'],_0x38555f,_0x3a5aa9?.['subject']))):(_0x3a5aa9=await this[_0x469c57(0x48f)]({'groupJid':_0xe0f137},'inner'),_0x2f3039[_0x469c57(0x2f6)](new pe(_0x3a5aa9['id'],!!_0x3a5aa9?.['id'],_0x3a5aa9?.[_0x469c57(0x7eb)])));}else{if(_0xe0f137[_0x469c57(0x8ef)](_0x469c57(0x420)))_0x2f3039[_0x469c57(0x2f6)](new pe(_0xe0f137,!0x0));else{let _0x270243=(await this[_0x469c57(0x2ef)]['onWhatsApp'](_0xe0f137))[0x0];_0x2f3039[_0x469c57(0x2f6)](new pe(_0x270243[_0x469c57(0x697)],_0x270243[_0x469c57(0x373)]));}}}catch{(0x0,w[_0x469c57(0x713)])(_0xe0f137)||await this['deleteImportedChat'](_0xe0f137),_0x2f3039[_0x469c57(0x2f6)](new pe(_0x31bfb5,!0x1));}}return _0x2f3039;}async[a0_0x2b042e(0x4c6)](_0x550aef){const _0x2ee893=a0_0x2b042e;try{await this[_0x2ee893(0x5b9)][_0x2ee893(0x69d)][_0x2ee893(0x296)]({'where':{'_id':_0x550aef,'imported':!0x0}},this[_0x2ee893(0x60b)][_0x2ee893(0x3ad)])&&(await this[_0x2ee893(0x5b9)][_0x2ee893(0x69d)][_0x2ee893(0x332)](_0x550aef,this[_0x2ee893(0x60b)][_0x2ee893(0x3ad)]),this['logger'][_0x2ee893(0x246)]('Chat\x20com\x20ID\x20'+_0x550aef+_0x2ee893(0x4bb)));}catch(_0x9955f3){let _0x31b261=_0x2ee893(0x73b),_0x2b5e87=_0x9955f3 instanceof Error?_0x9955f3['message']:typeof _0x9955f3=='object'?JSON[_0x2ee893(0x254)](_0x9955f3):_0x9955f3,_0x427127=_0x31b261+':\x20'+_0x2b5e87;this[_0x2ee893(0x588)]['error'](this[_0x2ee893(0x3ae)]+'\x20('+this[_0x2ee893(0x60b)]['wuid']+_0x2ee893(0x82b)+_0x427127);}}async[a0_0x2b042e(0x4a7)](_0x1ac85d){const _0x549ae6=a0_0x2b042e;try{let _0x357f8c=_0x1ac85d[_0x549ae6(0x767)]['filter'](_0x4f8498=>(0x0,w[_0x549ae6(0x713)])(_0x4f8498['remoteJid'])||(0x0,w[_0x549ae6(0x303)])(_0x4f8498[_0x549ae6(0x786)]))['map'](_0x3bd956=>({'remoteJid':_0x3bd956[_0x549ae6(0x786)],'fromMe':_0x3bd956[_0x549ae6(0x35c)],'id':_0x3bd956['id']}));await this[_0x549ae6(0x2ef)][_0x549ae6(0x767)](_0x357f8c);let _0x537824=_0x357f8c[_0x549ae6(0x633)](_0x51951e=>this[_0x549ae6(0x251)](_0x51951e,{'status':_0x549ae6(0x596),'owner':this[_0x549ae6(0x60b)][_0x549ae6(0x3ad)]})),_0x3af5c8=_0x357f8c[_0x549ae6(0x633)](_0xab74eb=>this['repository']['chat']['updateOne']({'where':{'_id':_0xab74eb[_0x549ae6(0x786)]}},{'unreadcount':0x0},this['instance'][_0x549ae6(0x3ad)])),[_0x180cfb,_0x554c58]=await Promise[_0x549ae6(0x761)]([Promise[_0x549ae6(0x761)](_0x537824),Promise[_0x549ae6(0x761)](_0x3af5c8)]);return _0x554c58[_0x549ae6(0x7ca)](_0x59909d=>_0x59909d!==null)[_0x549ae6(0x1e3)](_0x51d43c=>{const _0x3d5586=_0x549ae6;q(this[_0x3d5586(0x3ae)],_0x3d5586(0x23e),{'chat':_0x51d43c});}),{'message':_0x549ae6(0x320),'read':_0x549ae6(0x7a8)};}catch(_0x170b09){let _0x10367c=_0x549ae6(0x56b),_0x432072=_0x170b09 instanceof Error?_0x170b09[_0x549ae6(0x239)]:typeof _0x170b09==_0x549ae6(0x880)?JSON[_0x549ae6(0x254)](_0x170b09):_0x170b09,_0x4692a=_0x10367c+':\x20'+_0x432072;throw this[_0x549ae6(0x588)][_0x549ae6(0x71a)](this[_0x549ae6(0x3ae)]+'\x20('+this['instance'][_0x549ae6(0x3ad)]+_0x549ae6(0x82b)+_0x4692a),new x(_0x4692a);}}async['getLastMessage'](_0x2b4c86){const _0x597247=a0_0x2b042e;let _0x50ab84={'where':{'key':{'remoteJid':_0x2b4c86}},'limit':0x1},_0x3572c8=await this['fetchMessages'](_0x50ab84);return _0x3572c8||(this[_0x597247(0x588)][_0x597247(0x71a)](_0x597247(0x79c)+_0x2b4c86),null);}async[a0_0x2b042e(0x348)](_0x335a95){const _0x255126=a0_0x2b042e;this[_0x255126(0x588)][_0x255126(0x642)](this[_0x255126(0x3ae)]+'\x20('+this[_0x255126(0x60b)]['wuid']+_0x255126(0x5d2));try{let _0x95ceb9=_0x335a95[_0x255126(0x859)],_0x3d72f5=_0x335a95['chat'];if(!_0x95ceb9&&_0x3d72f5?_0x95ceb9=await this[_0x255126(0x8d5)](_0x3d72f5):(_0x95ceb9=_0x335a95[_0x255126(0x859)],_0x95ceb9['messageTimestamp']=_0x95ceb9?.[_0x255126(0x7f1)]??Date[_0x255126(0x71e)](),_0x3d72f5=_0x95ceb9?.[_0x255126(0x730)]?.[_0x255126(0x786)]),!_0x95ceb9||Object['keys'](_0x95ceb9)['length']===0x0)throw new V(_0x255126(0x88b));this[_0x255126(0x588)][_0x255126(0x642)](this[_0x255126(0x3ae)]+'\x20('+this[_0x255126(0x60b)]['wuid']+_0x255126(0x7c9)+_0x3d72f5);try{await this[_0x255126(0x2ef)][_0x255126(0x636)]({'archive':_0x335a95[_0x255126(0x4dd)],'lastMessages':[_0x95ceb9]},this[_0x255126(0x7c0)](_0x3d72f5));}catch(_0x109a28){let _0x2315da=_0x255126(0x3c7)+_0x3d72f5,_0x16f4b2=_0x109a28 instanceof Error?_0x109a28['message']:typeof _0x109a28=='object'?JSON[_0x255126(0x254)](_0x109a28):_0x109a28,_0x58bba3=_0x2315da+':\x20'+_0x16f4b2;this['logger'][_0x255126(0x71a)](this[_0x255126(0x3ae)]+'\x20('+this['instance'][_0x255126(0x3ad)]+'):\x20'+_0x58bba3);}this[_0x255126(0x588)]['verbose'](this[_0x255126(0x3ae)]+'\x20('+this[_0x255126(0x60b)][_0x255126(0x3ad)]+_0x255126(0x832)+_0x3d72f5);let _0x1d671e=await this['repository'][_0x255126(0x69d)][_0x255126(0x2ba)]({'where':{'_id':_0x95ceb9?.[_0x255126(0x730)]?.['remoteJid']}},{'archived':_0x335a95[_0x255126(0x4dd)]},this['instance']['wuid']);return _0x1d671e?(this['logger'][_0x255126(0x642)](this['instanceName']+'\x20('+this['instance'][_0x255126(0x3ad)]+_0x255126(0x614)+JSON[_0x255126(0x254)](_0x1d671e)),q(this[_0x255126(0x3ae)],_0x255126(0x23e),{'chat':_0x1d671e})):this[_0x255126(0x588)][_0x255126(0x71a)](this['instanceName']+'\x20('+this[_0x255126(0x60b)][_0x255126(0x3ad)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3d72f5),{'chatId':_0x3d72f5,'archived':_0x335a95['archive']};}catch(_0x51dcf1){let _0x378fab=_0x255126(0x5ce),_0x56145d=_0x51dcf1 instanceof Error?_0x51dcf1[_0x255126(0x239)]:typeof _0x51dcf1==_0x255126(0x880)?JSON[_0x255126(0x254)](_0x51dcf1):_0x51dcf1,_0x541001=_0x378fab+':\x20'+_0x56145d;throw this[_0x255126(0x588)][_0x255126(0x71a)](this[_0x255126(0x3ae)]+'\x20('+this[_0x255126(0x60b)][_0x255126(0x3ad)]+_0x255126(0x82b)+_0x541001),new x(_0x541001);}}async[a0_0x2b042e(0x332)](_0x3c27b8){const _0x223ece=a0_0x2b042e;this['logger'][_0x223ece(0x642)](this[_0x223ece(0x3ae)]+'\x20('+this[_0x223ece(0x60b)]['wuid']+_0x223ece(0x6f7));try{let _0x281802=await this['getLastMessage'](_0x3c27b8);if(!_0x281802||Object[_0x223ece(0x5d6)](_0x281802)['length']===0x0)throw new V(_0x223ece(0x88b));let _0x471a8f=_0x281802[0x0];this[_0x223ece(0x588)][_0x223ece(0x642)](this['instanceName']+'\x20('+this[_0x223ece(0x60b)][_0x223ece(0x3ad)]+_0x223ece(0x67b)+_0x3c27b8);try{await this[_0x223ece(0x2ef)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x471a8f['key'],'messageTimestamp':_0x471a8f[_0x223ece(0x7f1)]}]},this['createJid'](_0x3c27b8));}catch(_0x1319fc){this[_0x223ece(0x588)][_0x223ece(0x71a)](_0x223ece(0x3c7)+_0x3c27b8+':\x20'+_0x1319fc[_0x223ece(0x413)]());}this['logger'][_0x223ece(0x642)](this[_0x223ece(0x3ae)]+'\x20('+this[_0x223ece(0x60b)]['wuid']+_0x223ece(0x832)+_0x3c27b8);return;}catch(_0x434763){throw this[_0x223ece(0x588)][_0x223ece(0x71a)](this[_0x223ece(0x3ae)]+'\x20('+this[_0x223ece(0x60b)][_0x223ece(0x3ad)]+_0x223ece(0x2db)+_0x434763['toString']()),new x({'archived':!0x1,'message':[_0x223ece(0x66b),_0x434763[_0x223ece(0x413)]()]});}}async[a0_0x2b042e(0x7ef)](_0x5f01b0){const _0x26acc4=a0_0x2b042e;try{let _0x53bc4b=await this[_0x26acc4(0x2ef)][_0x26acc4(0x264)](_0x5f01b0[_0x26acc4(0x786)],{'delete':_0x5f01b0});try{let _0x4c4fe0=await this['updateMessage'](_0x5f01b0,{'status':'DELETED','owner':this['instance'][_0x26acc4(0x3ad)]});this[_0x26acc4(0x588)][_0x26acc4(0x642)](this[_0x26acc4(0x3ae)]+'\x20('+this['instance'][_0x26acc4(0x3ad)]+'):\x20updateResult:'+_0x4c4fe0);}catch(_0x2427d1){this[_0x26acc4(0x588)][_0x26acc4(0x71a)](_0x26acc4(0x212)+_0x2427d1);}return _0x53bc4b;}catch(_0x3553ad){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x3553ad?.[_0x26acc4(0x413)]());}}async['getBase64FromMediaMessage'](_0x5e644b){const _0x1bed70=a0_0x2b042e;try{let _0x2f2c2e=_0x5e644b?.['message']?_0x5e644b:await this[_0x1bed70(0x2a4)](_0x5e644b[_0x1bed70(0x730)],!0x0);for(let _0x2786c7 of $a)_0x2f2c2e['message'][_0x2786c7]&&(_0x2f2c2e[_0x1bed70(0x239)]=_0x2f2c2e['message'][_0x2786c7][_0x1bed70(0x239)]);let _0x119e41,_0xcb5d1a;for(let _0x2cbaa3 of Na)if(_0x119e41=_0x2f2c2e['message'][_0x2cbaa3],_0x119e41){_0xcb5d1a=_0x2cbaa3;break;}if(!_0x119e41)throw _0x1bed70(0x6b1);typeof _0x119e41['mediaKey']==_0x1bed70(0x880)&&(_0x2f2c2e[_0x1bed70(0x239)]=JSON['parse'](JSON[_0x1bed70(0x254)](_0x2f2c2e[_0x1bed70(0x239)])));let _0xe9d3cf=await(0x0,w[_0x1bed70(0x7d5)])({'key':_0x2f2c2e?.[_0x1bed70(0x730)],'message':_0x2f2c2e?.[_0x1bed70(0x239)]},_0x1bed70(0x3d6),{},{'logger':(0x0,Jt[_0x1bed70(0x1f4)])({'level':_0x1bed70(0x4f4)}),'reuploadRequest':this['client'][_0x1bed70(0x590)]});if(!(_0xe9d3cf instanceof Buffer))throw new Error(_0x1bed70(0x7cd));let _0x5513d1=this[_0x1bed70(0x865)]['get']('DATABASE'),_0x39c15a,_0x208c2a;if(_0x119e41[_0x1bed70(0x324)])_0x39c15a=_0x119e41[_0x1bed70(0x324)];else{let _0x4f65e0=_0x119e41['mimetype']?.[_0x1bed70(0x1f7)](/\/(\w+)/),_0x27eb6f=_0x4f65e0?_0x4f65e0[0x1]:null;if(!_0x27eb6f)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x39c15a=(0x0,Q['v4'])()+'.'+_0x27eb6f;}_0xcb5d1a==='audioMessage'?_0x208c2a='/media/'+await this[_0x1bed70(0x903)](_0xe9d3cf[_0x1bed70(0x413)](_0x1bed70(0x474))):(await this[_0x1bed70(0x354)](_0xe9d3cf,_0x39c15a),_0x208c2a=_0x1bed70(0x7f0)+_0x39c15a);let _0xa3d2d2=this[_0x1bed70(0x865)]['get'](_0x1bed70(0x643))[_0x1bed70(0x7bd)];if(!_0xa3d2d2){let _0x56224d=this['configService'][_0x1bed70(0x7e0)](_0x1bed70(0x8a8));_0xa3d2d2=_0x1bed70(0x26c)+(_0x56224d&&_0x56224d[_0x1bed70(0x2de)][_0x1bed70(0x5d7)]('/')[0x4]);}_0x208c2a=''+_0xa3d2d2+_0x208c2a;let _0x16e96e=0xc*0x3c*0x3c*0x3e8,_0xe689c4={'where':{'_id':_0x2f2c2e[_0x1bed70(0x730)]['id']}},_0x56c897={'message_normalized.fileUrl':_0x208c2a,'message_normalized.expires_fileUrl':Date[_0x1bed70(0x71e)]()+_0x16e96e};try{let _0x5af95c=await this[_0x1bed70(0x5b9)]['message']['update'](_0xe689c4,_0x56c897,this[_0x1bed70(0x60b)]['wuid']);_0x5af95c&&q(this[_0x1bed70(0x3ae)],_0x1bed70(0x281),{'message':_0x5af95c});}catch(_0x1ddfd2){let _0x573306=_0x1bed70(0x30b),_0x21a7d6=_0x1ddfd2 instanceof Error?_0x1ddfd2[_0x1bed70(0x239)]:typeof _0x1ddfd2==_0x1bed70(0x880)?JSON['stringify'](_0x1ddfd2):_0x1ddfd2,_0x4537c2=_0x573306+':\x20'+_0x21a7d6;this[_0x1bed70(0x588)][_0x1bed70(0x71a)](this[_0x1bed70(0x3ae)]+'\x20('+this[_0x1bed70(0x60b)][_0x1bed70(0x3ad)]+_0x1bed70(0x82b)+_0x4537c2);}return{'mediaType':_0xcb5d1a,'fileName':_0x119e41[_0x1bed70(0x324)],'caption':_0x119e41[_0x1bed70(0x2b8)],'size':{'fileLength':_0x119e41[_0x1bed70(0x7fe)],'height':_0x119e41['height'],'width':_0x119e41[_0x1bed70(0x3f9)]},'mimetype':_0x119e41[_0x1bed70(0x771)],'base64':_0xe9d3cf[_0x1bed70(0x413)](_0x1bed70(0x474)),'fileUrl':_0x208c2a,'expires_fileUrl':Date[_0x1bed70(0x71e)]()+_0x16e96e};}catch(_0x5d817d){let _0x53cec9=_0x1bed70(0x344),_0x182f05=_0x5d817d instanceof Error?_0x5d817d[_0x1bed70(0x239)]:typeof _0x5d817d==_0x1bed70(0x880)?JSON[_0x1bed70(0x254)](_0x5d817d):_0x5d817d,_0x5af1df=_0x53cec9+':\x20'+_0x182f05;throw this[_0x1bed70(0x588)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1bed70(0x3ad)]+'):\x20'+_0x5af1df),new m(_0x5af1df);}}async[a0_0x2b042e(0x354)](_0x1a07d5,_0x594608){const _0x3a0d27=a0_0x2b042e;let _0x6f01b9=J['default'][_0x3a0d27(0x8f2)](__dirname,_0x3a0d27(0x791));U[_0x3a0d27(0x258)](_0x6f01b9)||U[_0x3a0d27(0x721)](_0x6f01b9,{'recursive':!0x0});let _0x219c6a=J[_0x3a0d27(0x1f4)]['join'](_0x6f01b9,_0x594608);return new Promise((_0x39deb1,_0x5f0d0c)=>{const _0x1f65ea=_0x3a0d27;U[_0x1f65ea(0x76e)](_0x219c6a,_0x1a07d5,_0x438778=>{const _0x4226f3=_0x1f65ea;_0x438778?(this[_0x4226f3(0x588)][_0x4226f3(0x71a)](_0x4226f3(0x2b2)+(_0x438778 instanceof Error?_0x438778[_0x4226f3(0x239)]:JSON[_0x4226f3(0x254)](_0x438778,null,0x2))),_0x5f0d0c(_0x438778)):(this[_0x4226f3(0x588)][_0x4226f3(0x364)](_0x4226f3(0x21a)+_0x219c6a),_0x39deb1(_0x219c6a));});});}async[a0_0x2b042e(0x4d0)](_0x423624){const _0x384432=a0_0x2b042e;return await this[_0x384432(0x5b9)][_0x384432(0x28d)]['find'](_0x423624,this[_0x384432(0x60b)][_0x384432(0x3ad)]);}async[a0_0x2b042e(0x1e5)](){const _0x4ea220=a0_0x2b042e;return await this[_0x4ea220(0x5b9)]['label']['find']({'where':{}},this[_0x4ea220(0x60b)][_0x4ea220(0x3ad)]);}async['fetchMessages'](_0x38eede){const _0x4f9ddf=a0_0x2b042e;return await this[_0x4f9ddf(0x5b9)][_0x4f9ddf(0x239)][_0x4f9ddf(0x6da)](_0x38eede,this[_0x4f9ddf(0x60b)][_0x4f9ddf(0x3ad)]);}async[a0_0x2b042e(0x8e7)](){const _0x3000ce=a0_0x2b042e;return this[_0x3000ce(0x5b9)][_0x3000ce(0x69d)][_0x3000ce(0x5c2)](this[_0x3000ce(0x60b)][_0x3000ce(0x3ad)]),this[_0x3000ce(0x5b9)]['chat'][_0x3000ce(0x55c)](this[_0x3000ce(0x60b)]['wuid']),this['repository']['chat']['updateMissingTags'](this['instance'][_0x3000ce(0x3ad)]),this[_0x3000ce(0x5b9)][_0x3000ce(0x69d)][_0x3000ce(0x80f)](this[_0x3000ce(0x60b)][_0x3000ce(0x3ad)]),await this['repository']['chat'][_0x3000ce(0x6da)]({'where':{}},this[_0x3000ce(0x60b)][_0x3000ce(0x3ad)]);}async['importChatsAntigo'](_0x3082d1){const _0x412511=a0_0x2b042e;try{if(!Array[_0x412511(0x330)](_0x3082d1)||_0x3082d1[_0x412511(0x3f7)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x46b4bc=[],_0x33d0ca=[];for(let _0x323452 of _0x3082d1){if(_0x323452['_id'])_0x323452['_id']=this[_0x412511(0x7c0)](_0x323452[_0x412511(0x48a)]);else continue;await this[_0x412511(0x5b9)]['chat'][_0x412511(0x296)]({'where':{'_id':_0x323452['_id']}},this[_0x412511(0x60b)]['wuid'])?_0x33d0ca[_0x412511(0x2f6)]({'_id':_0x323452[_0x412511(0x48a)],'leadInfo':_0x323452[_0x412511(0x638)],'owner':this[_0x412511(0x60b)]['wuid']}):_0x46b4bc[_0x412511(0x2f6)]({'_id':_0x323452[_0x412511(0x48a)],'owner':this[_0x412511(0x60b)][_0x412511(0x3ad)],'leadInfo':_0x323452[_0x412511(0x638)],'imported':!0x0});}return _0x33d0ca[_0x412511(0x3f7)]>0x0&&await this['repository'][_0x412511(0x69d)][_0x412511(0x8f9)](_0x33d0ca['map'](_0x583ac5=>({'query':{'where':{'_id':_0x583ac5[_0x412511(0x48a)],'owner':this['instance'][_0x412511(0x3ad)]}},'update':_0x583ac5}))),_0x46b4bc[_0x412511(0x3f7)]>0x0&&await this['repository'][_0x412511(0x69d)][_0x412511(0x66e)](_0x46b4bc,this['instance']['wuid']),{'updated':_0x33d0ca[_0x412511(0x3f7)],'inserted':_0x46b4bc[_0x412511(0x3f7)]};}catch(_0x5ba2cc){let _0xca45e5=_0x412511(0x707),_0x388f7c=_0x5ba2cc instanceof Error?_0x5ba2cc[_0x412511(0x239)]:typeof _0x5ba2cc==_0x412511(0x880)?JSON[_0x412511(0x254)](_0x5ba2cc):_0x5ba2cc,_0x3fd9af=_0xca45e5+':\x20'+_0x388f7c;throw this[_0x412511(0x588)][_0x412511(0x71a)](this[_0x412511(0x3ae)]+'\x20('+this[_0x412511(0x60b)][_0x412511(0x3ad)]+_0x412511(0x82b)+_0x3fd9af),new m(_0x3fd9af);}}async[a0_0x2b042e(0x7fb)](_0x40d223){const _0x340416=a0_0x2b042e;try{if(!Array[_0x340416(0x330)](_0x40d223)||_0x40d223['length']===0x0)throw new Error(_0x340416(0x457));let _0x304f4e=0x64,_0x504b2d=0x0;for(let _0x2abdfd=0x0;_0x2abdfd<_0x40d223[_0x340416(0x3f7)];_0x2abdfd+=_0x304f4e){let _0x577543=_0x40d223[_0x340416(0x526)](_0x2abdfd,_0x2abdfd+_0x304f4e),{updated:_0x4db04c}=await this[_0x340416(0x2c2)](_0x577543);_0x504b2d+=_0x4db04c;}return{'updated':_0x504b2d};}catch(_0x3727b4){let _0x4f16c1=_0x340416(0x707),_0xdaf35a=_0x3727b4 instanceof Error?_0x3727b4[_0x340416(0x239)]:typeof _0x3727b4==_0x340416(0x880)?JSON[_0x340416(0x254)](_0x3727b4):_0x3727b4,_0x34ce68=_0x4f16c1+':\x20'+_0xdaf35a;throw this['logger'][_0x340416(0x71a)](this[_0x340416(0x3ae)]+'\x20('+this[_0x340416(0x60b)]['wuid']+'):\x20'+_0x34ce68),new m(_0x34ce68);}}async[a0_0x2b042e(0x2c2)](_0x1cd427){const _0x4e75f8=a0_0x2b042e;try{let _0x10e267=await this['repository'][_0x4e75f8(0x72b)]['find']({'where':{}},this[_0x4e75f8(0x60b)][_0x4e75f8(0x3ad)]),_0x3aa205=new Set(_0x10e267[_0x4e75f8(0x633)](_0x49d555=>_0x49d555[_0x4e75f8(0x48a)])),_0x39e5a7=[],_0x52cd57=[];for(let _0x4ea098 of _0x1cd427){if(!_0x4ea098[_0x4e75f8(0x48a)])continue;_0x4ea098['_id']=this['createJid'](_0x4ea098[_0x4e75f8(0x48a)]);let _0xb6d6fe=await this['repository'][_0x4e75f8(0x69d)]['findOne']({'where':{'_id':_0x4ea098[_0x4e75f8(0x48a)]}},this['instance'][_0x4e75f8(0x3ad)]),_0x42ce35={};if(Object[_0x4e75f8(0x894)](_0x4ea098[_0x4e75f8(0x638)])[_0x4e75f8(0x1e3)](([_0x34089e,_0x93a4cc])=>{const _0x4219b0=_0x4e75f8;_0x42ce35[_0x4219b0(0x5d5)+_0x34089e]=_0x93a4cc;}),_0xb6d6fe&&!_0xb6d6fe[_0x4e75f8(0x8e9)]){let _0x1785f5=(_0x4ea098[_0x4e75f8(0x638)][_0x4e75f8(0x536)]||[])['filter'](_0x52f367=>_0x3aa205[_0x4e75f8(0x2ff)](_0x52f367)),_0x4321c4=new Set(_0xb6d6fe['leadInfo'][_0x4e75f8(0x536)]||[]),_0x394f98=_0x1785f5[_0x4e75f8(0x7ca)](_0x9523b6=>!_0x4321c4[_0x4e75f8(0x2ff)](_0x9523b6)),_0x5906c=[..._0x4321c4][_0x4e75f8(0x7ca)](_0x1fe42b=>!_0x1785f5[_0x4e75f8(0x8ef)](_0x1fe42b));_0x52cd57['push'](..._0x394f98[_0x4e75f8(0x633)](_0x3dbedc=>this[_0x4e75f8(0x58f)](_0x3dbedc,_0x4ea098[_0x4e75f8(0x48a)]))),_0x52cd57['push'](..._0x5906c['map'](_0x553eb4=>this[_0x4e75f8(0x3f8)](_0x553eb4,_0x4ea098[_0x4e75f8(0x48a)]))),_0x4ea098[_0x4e75f8(0x638)]['etiquetas']=_0x1785f5,_0x39e5a7[_0x4e75f8(0x2f6)]({'query':{'where':{'_id':_0x4ea098['_id'],'owner':this[_0x4e75f8(0x60b)][_0x4e75f8(0x3ad)]}},'update':_0x42ce35});}else _0x42ce35['imported']=!0x0,_0x39e5a7[_0x4e75f8(0x2f6)]({'query':{'where':{'_id':_0x4ea098[_0x4e75f8(0x48a)],'owner':this[_0x4e75f8(0x60b)][_0x4e75f8(0x3ad)]}},'update':_0x42ce35});}let _0x397280=await this[_0x4e75f8(0x5b9)][_0x4e75f8(0x69d)][_0x4e75f8(0x8f9)](_0x39e5a7);return await Promise[_0x4e75f8(0x761)](_0x52cd57),{'updated':_0x397280};}catch(_0x951871){let _0x5bc261=_0x4e75f8(0x707),_0x2337e1=_0x951871 instanceof Error?_0x951871['message']:typeof _0x951871==_0x4e75f8(0x880)?JSON[_0x4e75f8(0x254)](_0x951871):_0x951871,_0x42dc1c=_0x5bc261+':\x20'+_0x2337e1;throw this['logger'][_0x4e75f8(0x71a)](this[_0x4e75f8(0x3ae)]+'\x20('+this['instance'][_0x4e75f8(0x3ad)]+_0x4e75f8(0x82b)+_0x42dc1c),new m(_0x42dc1c);}}async[a0_0x2b042e(0x335)](){const _0x50f956=a0_0x2b042e;return await this[_0x50f956(0x2ef)][_0x50f956(0x335)]();}async[a0_0x2b042e(0x2e5)](_0xd4e221){const _0x549be6=a0_0x2b042e;try{return await this[_0x549be6(0x2ef)]['updateReadReceiptsPrivacy'](_0xd4e221['privacySettings'][_0x549be6(0x6d4)]),await this['client'][_0x549be6(0x52f)](_0xd4e221[_0x549be6(0x455)][_0x549be6(0x45c)]),await this['client'][_0x549be6(0x806)](_0xd4e221[_0x549be6(0x455)]['status']),await this['client']['updateOnlinePrivacy'](_0xd4e221[_0x549be6(0x455)][_0x549be6(0x7db)]),await this[_0x549be6(0x2ef)][_0x549be6(0x477)](_0xd4e221[_0x549be6(0x455)]['last']),await this[_0x549be6(0x2ef)][_0x549be6(0x32a)](_0xd4e221[_0x549be6(0x455)][_0x549be6(0x5f0)]),this['client']?.['ws']?.[_0x549be6(0x409)](),{'update':_0x549be6(0x7a8),'data':{'readreceipts':_0xd4e221[_0x549be6(0x455)]['readreceipts'],'profile':_0xd4e221[_0x549be6(0x455)][_0x549be6(0x45c)],'status':_0xd4e221[_0x549be6(0x455)][_0x549be6(0x3cd)],'online':_0xd4e221[_0x549be6(0x455)][_0x549be6(0x7db)],'last':_0xd4e221[_0x549be6(0x455)]['last'],'groupadd':_0xd4e221['privacySettings'][_0x549be6(0x5f0)]}};}catch(_0x3c18f2){let _0xca8768=_0x549be6(0x538),_0x2c8840=_0x3c18f2 instanceof Error?_0x3c18f2[_0x549be6(0x239)]:typeof _0x3c18f2==_0x549be6(0x880)?JSON[_0x549be6(0x254)](_0x3c18f2):_0x3c18f2,_0x1ace3a=_0xca8768+':\x20'+_0x2c8840;throw this[_0x549be6(0x588)][_0x549be6(0x71a)](this[_0x549be6(0x3ae)]+'\x20('+this['instance'][_0x549be6(0x3ad)]+'):\x20'+_0x1ace3a),new m(_0x1ace3a);}}async[a0_0x2b042e(0x5c6)](_0x37c7eb){const _0x4a8607=a0_0x2b042e;let _0x555754=(_0x37c7eb?this[_0x4a8607(0x7c0)](_0x37c7eb):this[_0x4a8607(0x2ef)]?.[_0x4a8607(0x717)]?.['id'])[_0x4a8607(0x417)](/:\d{1,2}@/g,'@');this[_0x4a8607(0x588)]['verbose'](this[_0x4a8607(0x3ae)]+'\x20('+this[_0x4a8607(0x60b)][_0x4a8607(0x3ad)]+_0x4a8607(0x8be)+_0x555754);let _0x56cc7c=await this[_0x4a8607(0x5b9)]['contact'][_0x4a8607(0x296)]({'where':{'_id':_0x555754}},this['instance'][_0x4a8607(0x3ad)]),_0x344339=_0x56cc7c?_0x56cc7c['pushName']:null;try{let _0x25e737=(await this[_0x4a8607(0x32d)]({'numbers':[_0x555754]}))?.[_0x4a8607(0x7a2)](),_0x5a6a00=(await this[_0x4a8607(0x473)](_0x555754,null,!0x1))[_0x4a8607(0x70d)][_0x4a8607(0x446)],_0x5a15cc=await this[_0x4a8607(0x679)](_0x25e737?.[_0x4a8607(0x697)]),_0x23eca4=await this[_0x4a8607(0x2f2)](_0x25e737?.['jid']),_0x5ce3c8=(await this[_0x4a8607(0x473)](_0x555754,null,!0x1))['cachedContact']['name'],_0x151f09=await this[_0x4a8607(0x5b9)][_0x4a8607(0x69d)][_0x4a8607(0x296)]({'where':{'_id':_0x555754}},this[_0x4a8607(0x60b)][_0x4a8607(0x3ad)]),_0x29b0d2={'imagechat':_0x5a6a00,'contactname':_0x344339||null,'pushName':_0x5ce3c8,'status':_0x5a15cc?.[_0x4a8607(0x3cd)],'isBusiness':_0x23eca4[_0x4a8607(0x502)],'email':_0x23eca4?.['email'],'description':_0x23eca4?.['description'],'website':_0x23eca4?.[_0x4a8607(0x811)]?.[_0x4a8607(0x7a2)](),'lastcache':Date[_0x4a8607(0x71e)](),'imported':!_0x151f09},_0x27ad44=await this[_0x4a8607(0x5b9)][_0x4a8607(0x69d)]['updateOne']({'where':{'_id':_0x555754}},_0x29b0d2,this['instance'][_0x4a8607(0x3ad)]),_0x157f60={'owner':this['instance']['wuid'],'_id':_0x555754,'profilePictureUrl':_0x5a6a00,'status':_0x5a15cc?.['status']};return this[_0x4a8607(0x5b9)]['contact'][_0x4a8607(0x914)]([_0x157f60],this['instance'][_0x4a8607(0x3ad)]),_0x27ad44&&q(this['instanceName'],_0x4a8607(0x23e),{'chat':_0x27ad44}),{'wuid':_0x25e737?.[_0x4a8607(0x697)]||_0x555754,'name':_0x25e737?.[_0x4a8607(0x69b)],'pushName':_0x5ce3c8,'numberExists':_0x25e737?.[_0x4a8607(0x373)],'picture':_0x5a6a00,'status':_0x5a15cc?.[_0x4a8607(0x3cd)],'isBusiness':_0x23eca4[_0x4a8607(0x502)],'email':_0x23eca4?.[_0x4a8607(0x4c2)],'description':_0x23eca4?.[_0x4a8607(0x219)],'website':_0x23eca4?.[_0x4a8607(0x811)]?.[_0x4a8607(0x7a2)]()};}catch(_0x50ce4f){return this['logger']['error'](_0x4a8607(0x388)+(_0x50ce4f instanceof Error?_0x50ce4f[_0x4a8607(0x239)]:JSON[_0x4a8607(0x254)](_0x50ce4f,null,0x2))),{};}}async[a0_0x2b042e(0x2f2)](_0x71c7db){const _0x5b6ac6=a0_0x2b042e;this[_0x5b6ac6(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x5b6ac6(0x60b)]['wuid']+_0x5b6ac6(0x2b5));try{let _0x2b9025=_0x71c7db?this[_0x5b6ac6(0x7c0)](_0x71c7db):this['instance'][_0x5b6ac6(0x3ad)],_0x445ac3=await this[_0x5b6ac6(0x2ef)]['getBusinessProfile'](_0x2b9025);return this[_0x5b6ac6(0x588)][_0x5b6ac6(0x642)](this['instanceName']+'\x20('+this[_0x5b6ac6(0x60b)][_0x5b6ac6(0x3ad)]+_0x5b6ac6(0x7f4)),_0x445ac3?(this[_0x5b6ac6(0x588)]['verbose'](this[_0x5b6ac6(0x3ae)]+'\x20('+this[_0x5b6ac6(0x60b)]['wuid']+_0x5b6ac6(0x433)),{'isBusiness':!0x0,..._0x445ac3}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x5b6ac6(0x32d)]({'numbers':[_0x2b9025]}))?.['shift']()};}catch(_0x5b07a4){let _0x1c27b3='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x39fc98=_0x5b07a4 instanceof Error?_0x5b07a4[_0x5b6ac6(0x239)]:typeof _0x5b07a4==_0x5b6ac6(0x880)?JSON[_0x5b6ac6(0x254)](_0x5b07a4):_0x5b07a4,_0x367a3c=_0x1c27b3+':\x20'+_0x39fc98;throw this[_0x5b6ac6(0x588)][_0x5b6ac6(0x71a)](this[_0x5b6ac6(0x3ae)]+'\x20('+this[_0x5b6ac6(0x60b)][_0x5b6ac6(0x3ad)]+_0x5b6ac6(0x82b)+_0x367a3c),new x(_0x367a3c);}}async[a0_0x2b042e(0x679)](_0x1544fb){const _0x451b85=a0_0x2b042e;let _0x4c316b=this[_0x451b85(0x7c0)](_0x1544fb);try{return{'wuid':_0x4c316b,'status':(await this[_0x451b85(0x2ef)][_0x451b85(0x283)](_0x4c316b))?.[_0x451b85(0x3cd)]};}catch{return{'wuid':_0x4c316b,'status':null};}}async['updateProfileName'](_0x1e1c59){const _0x53eccd=a0_0x2b042e;try{return await this[_0x53eccd(0x2ef)][_0x53eccd(0x519)](_0x1e1c59),{'update':_0x53eccd(0x7a8)};}catch(_0x5b5b05){let _0x4e1f6c='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x3b16b9=_0x5b5b05 instanceof Error?_0x5b5b05[_0x53eccd(0x239)]:typeof _0x5b5b05=='object'?JSON[_0x53eccd(0x254)](_0x5b5b05):_0x5b5b05,_0x129e01=_0x4e1f6c+':\x20'+_0x3b16b9;throw this[_0x53eccd(0x588)][_0x53eccd(0x71a)](this['instanceName']+'\x20('+this[_0x53eccd(0x60b)][_0x53eccd(0x3ad)]+_0x53eccd(0x82b)+_0x129e01),new x(_0x129e01);}}async[a0_0x2b042e(0x343)](_0xf3a23c){const _0xd36686=a0_0x2b042e;try{return await this[_0xd36686(0x2ef)][_0xd36686(0x343)](_0xf3a23c),{'update':_0xd36686(0x7a8)};}catch(_0x3d2106){let _0x3d067e=_0xd36686(0x630),_0x550d19=_0x3d2106 instanceof Error?_0x3d2106[_0xd36686(0x239)]:typeof _0x3d2106==_0xd36686(0x880)?JSON[_0xd36686(0x254)](_0x3d2106):_0x3d2106,_0x5e369f=_0x3d067e+':\x20'+_0x550d19;throw this['logger'][_0xd36686(0x71a)](this[_0xd36686(0x3ae)]+'\x20('+this[_0xd36686(0x60b)]['wuid']+_0xd36686(0x82b)+_0x5e369f),new x(_0x5e369f);}}async['updateProfilePicture'](_0x56123f){const _0x4f9009=a0_0x2b042e;try{let _0x1abc2c;if((0x0,F[_0x4f9009(0x89c)])(_0x56123f)){let _0x2e4481=new Date()[_0x4f9009(0x886)](),_0xb473c5=_0x56123f+_0x4f9009(0x2a6)+_0x2e4481;_0x1abc2c=(await Z[_0x4f9009(0x1f4)]['get'](_0xb473c5,{'responseType':_0x4f9009(0x2bc)}))[_0x4f9009(0x450)];}else{if((0x0,F[_0x4f9009(0x764)])(_0x56123f))_0x1abc2c=Buffer['from'](_0x56123f,_0x4f9009(0x474));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x4f9009(0x521)](this[_0x4f9009(0x60b)]['wuid'],_0x1abc2c),{'update':_0x4f9009(0x7a8)};}catch(_0x303c72){let _0x4646c9=_0x4f9009(0x81e),_0x2b84d6=_0x303c72 instanceof Error?_0x303c72[_0x4f9009(0x239)]:typeof _0x303c72==_0x4f9009(0x880)?JSON[_0x4f9009(0x254)](_0x303c72):_0x303c72,_0x3ff9fc=_0x4646c9+':\x20'+_0x2b84d6;throw this[_0x4f9009(0x588)][_0x4f9009(0x71a)](this[_0x4f9009(0x3ae)]+'\x20('+this[_0x4f9009(0x60b)][_0x4f9009(0x3ad)]+_0x4f9009(0x82b)+_0x3ff9fc),new x(_0x3ff9fc);}}async[a0_0x2b042e(0x206)](){const _0x4383cb=a0_0x2b042e;try{return await this[_0x4383cb(0x2ef)][_0x4383cb(0x206)](this[_0x4383cb(0x60b)][_0x4383cb(0x3ad)]),{'update':_0x4383cb(0x7a8)};}catch(_0x5ee812){let _0x26b3aa='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x31f5f1=_0x5ee812 instanceof Error?_0x5ee812[_0x4383cb(0x239)]:typeof _0x5ee812==_0x4383cb(0x880)?JSON[_0x4383cb(0x254)](_0x5ee812):_0x5ee812,_0x4762f8=_0x26b3aa+':\x20'+_0x31f5f1;throw this[_0x4383cb(0x588)]['error'](this[_0x4383cb(0x3ae)]+'\x20('+this[_0x4383cb(0x60b)][_0x4383cb(0x3ad)]+_0x4383cb(0x82b)+_0x4762f8),new x(_0x4762f8);}}async[a0_0x2b042e(0x610)](_0x436352){const _0x1b4971=a0_0x2b042e;try{let _0x45a991=(await this[_0x1b4971(0x32d)]({'numbers':_0x436352[_0x1b4971(0x34c)]}))[_0x1b4971(0x7ca)](_0x1c7e3c=>_0x1c7e3c[_0x1b4971(0x373)])[_0x1b4971(0x633)](_0x2e582c=>_0x2e582c[_0x1b4971(0x697)]),{id:_0x5b8b61}=await this['client']['groupCreate'](_0x436352[_0x1b4971(0x7eb)],_0x45a991);_0x436352?.[_0x1b4971(0x219)]&&await this[_0x1b4971(0x2ef)][_0x1b4971(0x6d6)](_0x5b8b61,_0x436352[_0x1b4971(0x219)]);let _0x4ac750=await this[_0x1b4971(0x2ef)][_0x1b4971(0x6ff)](_0x5b8b61);return _0x4ac750['awaitingApproval']=[],{'metadata':_0x4ac750};}catch(_0x548a0e){let _0x3206f6='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x174ba4=_0x548a0e instanceof Error?_0x548a0e[_0x1b4971(0x239)]:typeof _0x548a0e=='object'?JSON[_0x1b4971(0x254)](_0x548a0e):_0x548a0e,_0x15373a=_0x3206f6+':\x20'+_0x174ba4;throw this[_0x1b4971(0x588)][_0x1b4971(0x71a)](this[_0x1b4971(0x3ae)]+'\x20('+this[_0x1b4971(0x60b)][_0x1b4971(0x3ad)]+_0x1b4971(0x82b)+_0x15373a),new x(_0x15373a);}}async[a0_0x2b042e(0x4ae)](_0xf6ea0c){const _0x579f5a=a0_0x2b042e;try{if(_0xf6ea0c[_0x579f5a(0x2d9)]===!0x0&&await this[_0x579f5a(0x2ef)]['groupSettingUpdate'](_0xf6ea0c[_0x579f5a(0x374)],_0x579f5a(0x4c8)),_0xf6ea0c[_0x579f5a(0x2d9)]===!0x1&&await this[_0x579f5a(0x2ef)][_0x579f5a(0x7a3)](_0xf6ea0c['groupJid'],_0x579f5a(0x32f)),_0xf6ea0c[_0x579f5a(0x4ee)]===!0x0&&await this[_0x579f5a(0x2ef)][_0x579f5a(0x7a3)](_0xf6ea0c[_0x579f5a(0x374)],'announcement'),_0xf6ea0c[_0x579f5a(0x4ee)]===!0x1&&await this['client'][_0x579f5a(0x7a3)](_0xf6ea0c[_0x579f5a(0x374)],_0x579f5a(0x41f)),_0xf6ea0c[_0x579f5a(0x684)]===!0x0&&await this[_0x579f5a(0x2ef)]['groupMemberAddMode'](_0xf6ea0c[_0x579f5a(0x374)],_0x579f5a(0x8ea)),_0xf6ea0c[_0x579f5a(0x684)]===!0x1&&await this[_0x579f5a(0x2ef)][_0x579f5a(0x267)](_0xf6ea0c[_0x579f5a(0x374)],_0x579f5a(0x41c)),_0xf6ea0c[_0x579f5a(0x4ba)]===!0x0&&await this['client'][_0x579f5a(0x6c2)](_0xf6ea0c[_0x579f5a(0x374)],'on'),_0xf6ea0c[_0x579f5a(0x4ba)]===!0x1&&await this[_0x579f5a(0x2ef)][_0x579f5a(0x6c2)](_0xf6ea0c[_0x579f5a(0x374)],'off'),typeof _0xf6ea0c[_0x579f5a(0x63e)]<'u'&&_0xf6ea0c['expiration']!==null&&await this['client'][_0x579f5a(0x68d)](_0xf6ea0c[_0x579f5a(0x374)],_0xf6ea0c[_0x579f5a(0x63e)]),_0xf6ea0c[_0x579f5a(0x69b)]&&await this[_0x579f5a(0x2ef)][_0x579f5a(0x6f3)](_0xf6ea0c[_0x579f5a(0x374)],_0xf6ea0c[_0x579f5a(0x69b)]),_0xf6ea0c[_0x579f5a(0x219)]&&await this[_0x579f5a(0x2ef)]['groupUpdateDescription'](_0xf6ea0c[_0x579f5a(0x374)],_0xf6ea0c[_0x579f5a(0x219)]),_0xf6ea0c[_0x579f5a(0x7b2)]){let _0x2e1912;if((0x0,F[_0x579f5a(0x89c)])(_0xf6ea0c[_0x579f5a(0x7b2)])){let _0x3ea553=new Date()[_0x579f5a(0x886)](),_0x3a7245=_0xf6ea0c[_0x579f5a(0x7b2)]+_0x579f5a(0x2a6)+_0x3ea553;_0x2e1912=(await Z['default'][_0x579f5a(0x7e0)](_0x3a7245,{'responseType':'arraybuffer'}))[_0x579f5a(0x450)];}else{if((0x0,F[_0x579f5a(0x764)])(_0xf6ea0c['image']))_0x2e1912=Buffer[_0x579f5a(0x223)](_0xf6ea0c[_0x579f5a(0x7b2)],_0x579f5a(0x474));else throw new m(_0x579f5a(0x31a));}await this[_0x579f5a(0x2ef)][_0x579f5a(0x521)](_0xf6ea0c[_0x579f5a(0x374)],_0x2e1912);}return await this[_0x579f5a(0x48f)]({'groupJid':_0xf6ea0c[_0x579f5a(0x374)]});}catch(_0xe861d7){let _0x435eda='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x4c60cb=_0xe861d7 instanceof Error?_0xe861d7[_0x579f5a(0x239)]:typeof _0xe861d7=='object'?JSON[_0x579f5a(0x254)](_0xe861d7):_0xe861d7,_0x139dd3=_0x435eda+':\x20'+_0x4c60cb;throw this[_0x579f5a(0x588)][_0x579f5a(0x71a)](this[_0x579f5a(0x3ae)]+'\x20('+this[_0x579f5a(0x60b)][_0x579f5a(0x3ad)]+'):\x20'+_0x139dd3),new x(_0x139dd3);}}async[a0_0x2b042e(0x318)](_0x1b7b48){const _0x403d36=a0_0x2b042e;try{if(_0x1b7b48[_0x403d36(0x2c9)]===_0x403d36(0x843)||_0x1b7b48[_0x403d36(0x2c9)]===_0x403d36(0x7a9)){let _0x354686=_0x1b7b48[_0x403d36(0x34c)][_0x403d36(0x633)](_0x22ed33=>this[_0x403d36(0x7c0)](_0x22ed33));await this[_0x403d36(0x2ef)]['groupRequestParticipantsUpdate'](_0x1b7b48[_0x403d36(0x374)],_0x354686,_0x1b7b48[_0x403d36(0x2c9)]);}else{if(_0x1b7b48['action']===_0x403d36(0x878)){let _0x1b4274=(await this[_0x403d36(0x32d)]({'numbers':_0x1b7b48[_0x403d36(0x34c)]}))[_0x403d36(0x7ca)](_0x3d423e=>_0x3d423e[_0x403d36(0x373)])[_0x403d36(0x633)](_0x4c8edc=>this[_0x403d36(0x7c0)](_0x4c8edc[_0x403d36(0x697)]));if(_0x1b4274[_0x403d36(0x3f7)]===0x0)throw new m(_0x403d36(0x5ab));await this[_0x403d36(0x2ef)][_0x403d36(0x663)](_0x1b7b48['groupJid'],_0x1b4274,_0x403d36(0x878));}else{let _0x1db702=_0x1b7b48[_0x403d36(0x34c)][_0x403d36(0x633)](_0x5b61c5=>this[_0x403d36(0x7c0)](_0x5b61c5));await this[_0x403d36(0x2ef)][_0x403d36(0x663)](_0x1b7b48['groupJid'],_0x1db702,_0x1b7b48[_0x403d36(0x2c9)]);}}return await this['findGroup']({'groupJid':_0x1b7b48[_0x403d36(0x374)]});}catch(_0x4232bc){let _0x2faa77='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x3e6ec0=_0x4232bc instanceof Error?_0x4232bc[_0x403d36(0x239)]:typeof _0x4232bc=='object'?JSON['stringify'](_0x4232bc):_0x4232bc,_0x3187f1=_0x2faa77+':\x20'+_0x3e6ec0;throw this[_0x403d36(0x588)][_0x403d36(0x71a)](this[_0x403d36(0x3ae)]+'\x20('+this['instance']['wuid']+_0x403d36(0x82b)+_0x3187f1),new m(_0x3187f1);}}async[a0_0x2b042e(0x66a)](_0x452367){const _0x59321a=a0_0x2b042e;try{return await this[_0x59321a(0x2ef)]['groupGetInviteInfo'](_0x452367[_0x59321a(0x7f5)]);}catch(_0x3af0be){let _0x2d3ff7=_0x59321a(0x49e),_0x1a059a=_0x3af0be instanceof Error?_0x3af0be['message']:typeof _0x3af0be==_0x59321a(0x880)?JSON[_0x59321a(0x254)](_0x3af0be):_0x3af0be,_0x55a7ef=_0x2d3ff7+':\x20'+_0x1a059a;throw this['logger'][_0x59321a(0x71a)](this[_0x59321a(0x3ae)]+'\x20('+this['instance'][_0x59321a(0x3ad)]+'):\x20'+_0x55a7ef),new m(_0x55a7ef);}}async[a0_0x2b042e(0x48f)](_0x23bbeb,_0x617ab0=a0_0x2b042e(0x70a)){const _0x438d32=a0_0x2b042e;try{let _0x12cf26=await this['repository']['chat'][_0x438d32(0x296)]({'where':{'_id':_0x23bbeb['groupJid']}},this['instance'][_0x438d32(0x3ad)]),_0x4bb2d1=_0x12cf26?_0x12cf26['groupdata']:null,_0x256e2f=0x18*0x3c*0x3c*0x3e8;if(!_0x4bb2d1||_0x4bb2d1[_0x438d32(0x803)]&&Date[_0x438d32(0x71e)]()-_0x4bb2d1[_0x438d32(0x803)]>_0x256e2f){let _0x1855fc=await this['client'][_0x438d32(0x6ff)](_0x23bbeb[_0x438d32(0x374)]);if(_0x1855fc[_0x438d32(0x5ff)]=_0x1855fc?.[_0x438d32(0x5ff)]&&_0x1855fc[_0x438d32(0x5ff)]['toString']()[_0x438d32(0x3f7)]<0xd?_0x1855fc?.[_0x438d32(0x5ff)]*0x3e8:_0x1855fc?.['subjectTime']||null,_0x1855fc[_0x438d32(0x607)]=_0x1855fc?.[_0x438d32(0x607)]&&_0x1855fc[_0x438d32(0x607)][_0x438d32(0x413)]()[_0x438d32(0x3f7)]<0xd?_0x1855fc?.[_0x438d32(0x607)]*0x3e8:_0x1855fc?.[_0x438d32(0x607)]||null,_0x4bb2d1={..._0x1855fc,'lastUpdate':Date[_0x438d32(0x71e)]()},!_0x1855fc)return;}let _0x4dcb90=_0x4bb2d1[_0x438d32(0x34c)][_0x438d32(0x8c6)](_0x9b75a=>_0x9b75a['id']===this[_0x438d32(0x60b)][_0x438d32(0x3ad)]+_0x438d32(0x53d)&&_0x9b75a[_0x438d32(0x4fd)]!=null);!_0x4bb2d1[_0x438d32(0x7f5)]&&_0x4dcb90&&(_0x4bb2d1[_0x438d32(0x7f5)]=(await this[_0x438d32(0x7f5)](_0x23bbeb,!0x1))[_0x438d32(0x32b)]);let _0x5c3a85=(!_0x4bb2d1[_0x438d32(0x4ee)]||_0x4dcb90)&&(!_0x4bb2d1[_0x438d32(0x3a6)]||_0x4bb2d1['isCommunity']&&_0x4bb2d1[_0x438d32(0x61e)]&&_0x4dcb90);_0x4bb2d1['isAdmin']=_0x4dcb90,_0x4bb2d1[_0x438d32(0x6ec)]=_0x5c3a85;let _0x160a9a=[];if(_0x4dcb90&&_0x4bb2d1[_0x438d32(0x4ba)])try{_0x160a9a=await this[_0x438d32(0x2ef)][_0x438d32(0x381)](_0x23bbeb['groupJid']),_0x4bb2d1[_0x438d32(0x5a0)]=Date[_0x438d32(0x71e)]();}catch(_0xa432bf){this['logger']['verbose'](this[_0x438d32(0x3ae)]+'\x20('+this[_0x438d32(0x60b)][_0x438d32(0x3ad)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x23bbeb[_0x438d32(0x374)]+':\x20'+(_0xa432bf instanceof Error?_0xa432bf['message']:JSON[_0x438d32(0x254)](_0xa432bf,null,0x2)));}try{_0x4bb2d1[_0x438d32(0x7b2)]=(await this['findAndUpdateCacheContact'](_0x23bbeb['groupJid'],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x2a42d0){this[_0x438d32(0x588)][_0x438d32(0x642)](this[_0x438d32(0x3ae)]+'\x20('+this[_0x438d32(0x60b)][_0x438d32(0x3ad)]+_0x438d32(0x87e)+_0x23bbeb[_0x438d32(0x374)]+':\x20'+(_0x2a42d0 instanceof Error?_0x2a42d0[_0x438d32(0x239)]:JSON[_0x438d32(0x254)](_0x2a42d0,null,0x2)));}let _0x262d9e=_0x4bb2d1[_0x438d32(0x34c)][_0x438d32(0x633)](_0x3f0e7e=>_0x3f0e7e['id']),_0x8ee695=_0x160a9a[_0x438d32(0x633)](_0x39bb82=>_0x39bb82[_0x438d32(0x697)]),_0x4267d9=await this[_0x438d32(0x5b9)]['cacheContact'][_0x438d32(0x6dc)]([..._0x262d9e,..._0x8ee695]);_0x4bb2d1['participants']=_0x4bb2d1[_0x438d32(0x34c)][_0x438d32(0x633)](_0x4e5ff0=>{const _0x4b1d95=_0x438d32;let _0x381657=_0x4267d9['find'](_0x2d7f45=>_0x2d7f45['_id']===_0x4e5ff0['id']);return{'id':_0x4e5ff0['id'],'isAdmin':['admin','superadmin'][_0x4b1d95(0x8ef)](_0x4e5ff0['admin']),'admin':_0x4e5ff0[_0x4b1d95(0x4fd)],'pushName':_0x381657?.[_0x4b1d95(0x69b)],'profilePictureUrl':_0x381657?.[_0x4b1d95(0x446)]};}),_0x4bb2d1[_0x438d32(0x75d)]=_0x160a9a[_0x438d32(0x633)](_0x5be0e3=>{const _0x21739e=_0x438d32;let _0x158146=_0x4267d9[_0x21739e(0x6da)](_0xfa78ee=>_0xfa78ee[_0x21739e(0x48a)]===_0x5be0e3[_0x21739e(0x697)]);return{'id':_0x5be0e3[_0x21739e(0x697)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x158146?.[_0x21739e(0x69b)],'profilePictureUrl':_0x158146?.['pictureUrl'],'request_method':_0x5be0e3[_0x21739e(0x401)],'request_time':_0x5be0e3[_0x21739e(0x4b4)]};});let _0x5e68ec=await this['repository'][_0x438d32(0x69d)][_0x438d32(0x2ba)]({'where':{'_id':_0x23bbeb['groupJid']}},{'imagechat':_0x4bb2d1[_0x438d32(0x7b2)],'name':_0x4bb2d1[_0x438d32(0x7eb)],'lastcache':Date[_0x438d32(0x71e)](),'groupdata':_0x4bb2d1},this[_0x438d32(0x60b)]['wuid']);return q(this[_0x438d32(0x3ae)],_0x438d32(0x23e),{'chat':_0x5e68ec}),{'metadata':_0x4bb2d1};}catch(_0x22686a){if(_0x617ab0===_0x438d32(0x3b7))return;throw new V('Error\x20fetching\x20group',_0x22686a[_0x438d32(0x239)][_0x438d32(0x413)]());}}async[a0_0x2b042e(0x7d0)](){const _0x35387b=a0_0x2b042e;try{let _0x2688da=[],_0x25bcb6=await this[_0x35387b(0x2ef)][_0x35387b(0x78d)](),_0x1f8be7=Object[_0x35387b(0x88c)](_0x25bcb6),_0x578de2=_0x1f8be7[_0x35387b(0x7ca)](_0xb2d0f3=>(0x0,w[_0x35387b(0x713)])(_0xb2d0f3?.['id']))[_0x35387b(0x633)](async _0x43e650=>{const _0x35e327=_0x35387b;try{return await this['client'][_0x35e327(0x2e8)](_0x43e650['id'],_0x35e327(0x743));}catch(_0x4ee8d4){return this[_0x35e327(0x588)]['verbose'](this[_0x35e327(0x3ae)]+'\x20('+this['instance'][_0x35e327(0x3ad)]+_0x35e327(0x87e)+_0x43e650['id']+':\x20'+(_0x4ee8d4 instanceof Error?_0x4ee8d4['message']:JSON['stringify'](_0x4ee8d4,null,0x2))),null;}}),_0x39d250=await Promise[_0x35387b(0x761)](_0x578de2);for(let _0x56385b=0x0;_0x56385b<_0x1f8be7[_0x35387b(0x3f7)];_0x56385b++){let _0x1d3574=_0x1f8be7[_0x56385b];(0x0,w[_0x35387b(0x713)])(_0x1d3574?.['id'])&&(_0x2688da['push']({'groupJid':_0x1d3574?.['id'],'subject':_0x1d3574?.['subject'],'subjectOwner':_0x1d3574?.[_0x35387b(0x3e3)]?.[_0x35387b(0x5d7)]('@')[0x0],'subjectTime':_0x1d3574?.['subjectTime'],'creation':_0x1d3574?.[_0x35387b(0x607)],'size':_0x1d3574?.['participants']?.[_0x35387b(0x3f7)],'owner':_0x1d3574?.[_0x35387b(0x2a2)]?.['split']('@')[0x0],'desc':_0x1d3574?.[_0x35387b(0x2d8)],'restrict':_0x1d3574?.[_0x35387b(0x2d9)],'announce':_0x1d3574?.[_0x35387b(0x4ee)],'image':_0x39d250[_0x56385b],'isCommunity':_0x1d3574?.['isCommunity'],'joinApprovalMode':_0x1d3574?.[_0x35387b(0x4ba)],'memberCanAddParticipant':_0x1d3574?.['memberAddMode'],'participants':_0x1d3574?.['participants'],'descOwner':_0x1d3574?.[_0x35387b(0x23b)],'descId':_0x1d3574?.[_0x35387b(0x46f)],'memberAddMode':_0x1d3574?.[_0x35387b(0x684)],'isCommunityAnnounce':_0x1d3574?.['isCommunityAnnounce'],'ephemeralDuration':_0x1d3574?.['ephemeralDuration']||0x0,'author':_0x1d3574?.[_0x35387b(0x492)]}),this[_0x35387b(0x809)](_0x1f8be7[_0x56385b]));}return _0x2688da;}catch(_0x2b6af3){let _0x166856=_0x35387b(0x3bc),_0x2022e2=_0x2b6af3 instanceof Error?_0x2b6af3[_0x35387b(0x239)]:typeof _0x2b6af3==_0x35387b(0x880)?JSON['stringify'](_0x2b6af3):_0x2b6af3,_0x60c76b=_0x166856+':\x20'+_0x2022e2;throw this[_0x35387b(0x588)][_0x35387b(0x71a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x35387b(0x82b)+_0x60c76b),new V(_0x60c76b);}}async[a0_0x2b042e(0x809)](_0x41b089){const _0x2a58d6=a0_0x2b042e;let _0x4fcc00=await this[_0x2a58d6(0x5b9)][_0x2a58d6(0x69d)][_0x2a58d6(0x296)]({'where':{'_id':_0x41b089['id']}},this[_0x2a58d6(0x60b)][_0x2a58d6(0x3ad)]);_0x41b089['subjectTime']=_0x41b089?.[_0x2a58d6(0x5ff)]&&_0x41b089[_0x2a58d6(0x5ff)][_0x2a58d6(0x413)]()[_0x2a58d6(0x3f7)]<0xd?_0x41b089?.[_0x2a58d6(0x5ff)]*0x3e8:_0x41b089?.['subjectTime']||null,_0x41b089[_0x2a58d6(0x607)]=_0x41b089?.[_0x2a58d6(0x607)]&&_0x41b089[_0x2a58d6(0x607)][_0x2a58d6(0x413)]()[_0x2a58d6(0x3f7)]<0xd?_0x41b089?.[_0x2a58d6(0x607)]*0x3e8:_0x41b089?.[_0x2a58d6(0x607)]||null;let _0x6f073f=_0x4fcc00?.[_0x2a58d6(0x8dc)]?.['awaitingApproval']||[],_0xb798cc=_0x4fcc00?.[_0x2a58d6(0x8dc)]?.[_0x2a58d6(0x5a0)],_0x2b9127=_0x41b089[_0x2a58d6(0x34c)][_0x2a58d6(0x633)](_0x14a29b=>{const _0x3a1fe7=_0x2a58d6;let _0x39be84=_0x4fcc00?.[_0x3a1fe7(0x8dc)]?.[_0x3a1fe7(0x34c)][_0x3a1fe7(0x6da)](_0x50b07a=>_0x50b07a['id']===_0x14a29b['id']);return{..._0x14a29b,'isAdmin':[_0x3a1fe7(0x4fd),_0x3a1fe7(0x75b)][_0x3a1fe7(0x8ef)](_0x14a29b[_0x3a1fe7(0x4fd)]),'admin':_0x14a29b[_0x3a1fe7(0x4fd)],'name':_0x39be84?.[_0x3a1fe7(0x69b)]||_0x14a29b[_0x3a1fe7(0x69b)],'imgUrl':_0x39be84?.[_0x3a1fe7(0x358)]||_0x14a29b[_0x3a1fe7(0x358)]};}),_0x264529=_0x2b9127[_0x2a58d6(0x8c6)](_0x488a0a=>_0x488a0a['id']===this[_0x2a58d6(0x60b)][_0x2a58d6(0x3ad)]+_0x2a58d6(0x53d)&&_0x488a0a[_0x2a58d6(0x36f)]),_0x470f84=(!_0x41b089[_0x2a58d6(0x4ee)]||_0x264529)&&(!_0x41b089[_0x2a58d6(0x3a6)]||_0x41b089[_0x2a58d6(0x3a6)]&&_0x41b089['isCommunityAnnounce']&&_0x264529),_0x1ee364={..._0x41b089,'participants':_0x2b9127,'awaitingApproval':_0x6f073f,'lastFetchAwaitingApproval':_0xb798cc,'isAdmin':_0x264529,'canSendMessage':_0x470f84,'lastUpdate':Date[_0x2a58d6(0x71e)]()};await this[_0x2a58d6(0x5b9)][_0x2a58d6(0x69d)]['updateOne']({'where':{'_id':_0x41b089['id']}},{'name':_0x41b089[_0x2a58d6(0x7eb)],'group':!0x0,'groupdata':_0x1ee364,'lastcache':Date['now']()},this[_0x2a58d6(0x60b)][_0x2a58d6(0x3ad)]),q(this[_0x2a58d6(0x3ae)],'chats',{'chat':_0x41b089});}async[a0_0x2b042e(0x5fd)](_0x32baca){const _0x3db8c0=a0_0x2b042e;let _0xa09f10=await this['repository']['chat'][_0x3db8c0(0x296)]({'where':{'_id':_0x32baca['id']}},this[_0x3db8c0(0x60b)][_0x3db8c0(0x3ad)]);_0x32baca['subjectTime']=_0x32baca?.[_0x3db8c0(0x5ff)]&&_0x32baca[_0x3db8c0(0x5ff)][_0x3db8c0(0x413)]()['length']<0xd?_0x32baca?.[_0x3db8c0(0x5ff)]*0x3e8:_0x32baca?.['subjectTime']||null,_0x32baca['creation']=_0x32baca?.['creation']&&_0x32baca['creation'][_0x3db8c0(0x413)]()[_0x3db8c0(0x3f7)]<0xd?_0x32baca?.[_0x3db8c0(0x607)]*0x3e8:_0x32baca?.[_0x3db8c0(0x607)]||null,_0x32baca[_0x3db8c0(0x7f5)]&&(_0x32baca[_0x3db8c0(0x7f5)]=_0x3db8c0(0x67d)+_0x32baca[_0x3db8c0(0x7f5)]);let _0x4a29af=_0xa09f10?.[_0x3db8c0(0x8dc)]?{..._0xa09f10[_0x3db8c0(0x8dc)]}:{};Object[_0x3db8c0(0x5d6)](_0x32baca)['forEach'](_0x28af9a=>{_0x28af9a!=='id'&&(_0x4a29af[_0x28af9a]=_0x32baca[_0x28af9a]);});let _0x401554=_0x4a29af[_0x3db8c0(0x34c)]?.[_0x3db8c0(0x8c6)](_0x16f561=>_0x16f561['id']===this['instance']['wuid']+_0x3db8c0(0x53d)&&_0x16f561[_0x3db8c0(0x36f)])||!0x1;_0x4a29af[_0x3db8c0(0x36f)]=_0x401554;let _0x53579a=(!_0x4a29af[_0x3db8c0(0x4ee)]||_0x401554)&&(!_0x4a29af[_0x3db8c0(0x3a6)]||_0x4a29af[_0x3db8c0(0x3a6)]&&_0x4a29af[_0x3db8c0(0x61e)]&&_0x401554);_0x4a29af['canSendMessage']=_0x53579a;let _0x136f2f={'group':!0x0,'groupdata':_0x4a29af};_0x32baca[_0x3db8c0(0x7eb)]&&(_0x136f2f[_0x3db8c0(0x69b)]=_0x32baca['subject']),await this[_0x3db8c0(0x5b9)]['chat'][_0x3db8c0(0x2ba)]({'where':{'_id':_0x32baca['id']}},_0x136f2f,this[_0x3db8c0(0x60b)][_0x3db8c0(0x3ad)],{'upsert':!0x0}),q(this[_0x3db8c0(0x3ae)],_0x3db8c0(0x23e),{'chat':_0x136f2f});}async[a0_0x2b042e(0x4e9)](_0x14d97a){const _0x2d32d1=a0_0x2b042e;let _0x57bdac=await this[_0x2d32d1(0x5b9)][_0x2d32d1(0x69d)]['findOne']({'where':{'_id':_0x14d97a['id']}},this['instance']['wuid']);if(!_0x57bdac||!_0x57bdac[_0x2d32d1(0x8dc)]){this['logger'][_0x2d32d1(0x246)](this[_0x2d32d1(0x3ae)]+'\x20('+this[_0x2d32d1(0x60b)][_0x2d32d1(0x3ad)]+_0x2d32d1(0x820)+_0x14d97a['id']);return;}let _0x58ac18=await this['repository']['cacheContact']['findManyByIds'](_0x14d97a[_0x2d32d1(0x34c)]),_0x239ea5=[..._0x57bdac[_0x2d32d1(0x8dc)]?.['participants']];switch(_0x14d97a[_0x2d32d1(0x2c9)]){case _0x2d32d1(0x878):let _0x52a027=_0x58ac18[_0x2d32d1(0x633)](_0x5d75e7=>({'id':_0x5d75e7['_id'],'isAdmin':!0x1,'name':_0x5d75e7[_0x2d32d1(0x69b)],'imgUrl':_0x5d75e7[_0x2d32d1(0x446)]}));_0x239ea5=[..._0x239ea5,..._0x52a027];break;case'remove':_0x239ea5=_0x239ea5['filter'](_0x596b25=>!_0x14d97a[_0x2d32d1(0x34c)][_0x2d32d1(0x8ef)](_0x596b25['id']));break;case _0x2d32d1(0x25d):case _0x2d32d1(0x708):_0x239ea5=_0x239ea5[_0x2d32d1(0x633)](_0x3f0652=>_0x14d97a[_0x2d32d1(0x34c)][_0x2d32d1(0x8ef)](_0x3f0652['id'])?{..._0x3f0652,'isAdmin':_0x14d97a[_0x2d32d1(0x2c9)]===_0x2d32d1(0x25d)}:_0x3f0652);break;}let _0x51b45c=_0x239ea5['length'],_0x5b4e80=_0x239ea5[_0x2d32d1(0x8c6)](_0x5bf6f9=>_0x5bf6f9['id']===this[_0x2d32d1(0x60b)][_0x2d32d1(0x3ad)]+_0x2d32d1(0x53d)),_0x4285db=_0x5b4e80&&_0x239ea5[_0x2d32d1(0x8c6)](_0x53fcfe=>_0x53fcfe['id']===this[_0x2d32d1(0x60b)][_0x2d32d1(0x3ad)]+_0x2d32d1(0x53d)&&_0x53fcfe[_0x2d32d1(0x36f)]),_0xe7c27f=_0x5b4e80&&(!_0x57bdac[_0x2d32d1(0x8dc)][_0x2d32d1(0x4ee)]||_0x4285db)&&(!_0x57bdac[_0x2d32d1(0x8dc)][_0x2d32d1(0x3a6)]||_0x57bdac[_0x2d32d1(0x8dc)][_0x2d32d1(0x3a6)]&&_0x4285db);await this['repository'][_0x2d32d1(0x69d)][_0x2d32d1(0x2ba)]({'where':{'_id':_0x14d97a['id']}},{'groupdata':{..._0x57bdac[_0x2d32d1(0x8dc)],'participants':_0x239ea5,'size':_0x51b45c,'isAdmin':_0x4285db,'canSendMessage':_0xe7c27f}},this[_0x2d32d1(0x60b)][_0x2d32d1(0x3ad)]),this[_0x2d32d1(0x588)][_0x2d32d1(0x246)](this[_0x2d32d1(0x3ae)]+'\x20('+this['instance']['wuid']+_0x2d32d1(0x34e)+_0x14d97a['id']+_0x2d32d1(0x1ea)+_0x14d97a[_0x2d32d1(0x2c9)]+_0x2d32d1(0x6c3)+_0x51b45c+_0x2d32d1(0x7be)+_0x4285db+_0x2d32d1(0x595)+_0xe7c27f);}async['inviteCode'](_0x29a1ba,_0x580371=!0x0){const _0x33c634=a0_0x2b042e;try{let _0x15966e=await this[_0x33c634(0x2ef)][_0x33c634(0x229)](_0x29a1ba[_0x33c634(0x374)]),_0xfc5768={'groupdata.inviteCode':_0x33c634(0x67d)+_0x15966e};if(_0x580371){let _0x2ffb3d=await this[_0x33c634(0x5b9)]['chat'][_0x33c634(0x2ba)]({'where':{'_id':_0x29a1ba[_0x33c634(0x374)]}},_0xfc5768,this[_0x33c634(0x60b)]['wuid']);}return{'inviteUrl':_0x33c634(0x67d)+_0x15966e,'inviteCode':_0x15966e};}catch(_0x4b7f2e){let _0x3b77c9='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x5e392a=_0x4b7f2e instanceof Error?_0x4b7f2e[_0x33c634(0x239)]:typeof _0x4b7f2e==_0x33c634(0x880)?JSON['stringify'](_0x4b7f2e):_0x4b7f2e,_0x5125ed=_0x3b77c9+':\x20'+_0x5e392a;throw this['logger'][_0x33c634(0x71a)](this[_0x33c634(0x3ae)]+'\x20('+this['instance'][_0x33c634(0x3ad)]+_0x33c634(0x82b)+_0x5125ed),new V(_0x5125ed);}}async[a0_0x2b042e(0x217)](_0x44506e){const _0x47e0d1=a0_0x2b042e;try{let _0x2acaba=await this['client'][_0x47e0d1(0x754)](_0x44506e['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x47e0d1(0x67d)+_0x2acaba,'inviteCode':_0x2acaba};}catch(_0x2433e1){let _0x7de9f9=_0x47e0d1(0x8b9),_0x402bc5=_0x2433e1 instanceof Error?_0x2433e1[_0x47e0d1(0x239)]:typeof _0x2433e1==_0x47e0d1(0x880)?JSON['stringify'](_0x2433e1):_0x2433e1,_0x1f5421=_0x7de9f9+':\x20'+_0x402bc5;throw this[_0x47e0d1(0x588)][_0x47e0d1(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x47e0d1(0x3ad)]+'):\x20'+_0x1f5421),new V(_0x1f5421);}}async[a0_0x2b042e(0x6e1)](_0x51eb22){const _0x23ee4c=a0_0x2b042e;try{if((0x0,F[_0x23ee4c(0x89c)])(_0x51eb22[_0x23ee4c(0x7f5)]))var _0x1c01ca=_0x51eb22[_0x23ee4c(0x7f5)]['split']('/')[0x3];else var _0x1c01ca=_0x51eb22[_0x23ee4c(0x7f5)];let _0x3dace3=await this[_0x23ee4c(0x2ef)][_0x23ee4c(0x5a3)](_0x1c01ca);return this[_0x23ee4c(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x23ee4c(0x60b)][_0x23ee4c(0x3ad)]+'):\x20'+_0x3dace3),{'join':!0x0,'inviteCode':_0x1c01ca,'groupJid':_0x3dace3};}catch(_0x422221){let _0x15291e=_0x23ee4c(0x29a),_0x55f59a=_0x422221 instanceof Error?_0x422221[_0x23ee4c(0x239)]:typeof _0x422221==_0x23ee4c(0x880)?JSON[_0x23ee4c(0x254)](_0x422221):_0x422221,_0x5d023c=_0x15291e+':\x20'+_0x55f59a;throw this[_0x23ee4c(0x588)][_0x23ee4c(0x71a)](this[_0x23ee4c(0x3ae)]+'\x20('+this[_0x23ee4c(0x60b)][_0x23ee4c(0x3ad)]+_0x23ee4c(0x82b)+_0x5d023c),new V(_0x5d023c);}}async[a0_0x2b042e(0x562)](_0x127e03){const _0x5ceddc=a0_0x2b042e;try{return{'participants':(await this[_0x5ceddc(0x5b9)][_0x5ceddc(0x69d)][_0x5ceddc(0x296)]({'where':{'_id':_0x127e03['groupJid']}},this[_0x5ceddc(0x60b)][_0x5ceddc(0x3ad)]))[_0x5ceddc(0x8dc)][_0x5ceddc(0x34c)]};}catch(_0x2c0e0e){let _0x4d3858=_0x5ceddc(0x205),_0x2df0f9=_0x2c0e0e instanceof Error?_0x2c0e0e[_0x5ceddc(0x239)]:typeof _0x2c0e0e==_0x5ceddc(0x880)?JSON[_0x5ceddc(0x254)](_0x2c0e0e):_0x2c0e0e,_0x2ba284=_0x4d3858+':\x20'+_0x2df0f9;throw this[_0x5ceddc(0x588)][_0x5ceddc(0x71a)](this['instanceName']+'\x20('+this[_0x5ceddc(0x60b)]['wuid']+_0x5ceddc(0x82b)+_0x2ba284),new V(_0x2ba284);}}async['leaveGroup'](_0xa0b345){const _0x4471b7=a0_0x2b042e;try{return await this[_0x4471b7(0x2ef)][_0x4471b7(0x366)](_0xa0b345[_0x4471b7(0x374)]),{'groupJid':_0xa0b345[_0x4471b7(0x374)],'leave':!0x0};}catch(_0x16400f){let _0x3b4b0e=_0x4471b7(0x6ca),_0x18aabe=_0x16400f instanceof Error?_0x16400f[_0x4471b7(0x239)]:typeof _0x16400f==_0x4471b7(0x880)?JSON[_0x4471b7(0x254)](_0x16400f):_0x16400f,_0x11d323=_0x3b4b0e+':\x20'+_0x18aabe;throw this[_0x4471b7(0x588)][_0x4471b7(0x71a)](this[_0x4471b7(0x3ae)]+'\x20('+this[_0x4471b7(0x60b)][_0x4471b7(0x3ad)]+_0x4471b7(0x82b)+_0x11d323),new m(_0x11d323);}}async[a0_0x2b042e(0x5d0)](_0x5e2f49){const _0x4d1543=a0_0x2b042e;return await this[_0x4d1543(0x40e)](_0x5e2f49['number'],{'poll':{'name':_0x5e2f49[_0x4d1543(0x5d0)]?.[_0x4d1543(0x69b)],'selectableCount':_0x5e2f49[_0x4d1543(0x5d0)][_0x4d1543(0x2fd)],'values':_0x5e2f49[_0x4d1543(0x5d0)][_0x4d1543(0x88c)]}},_0x5e2f49?.['options']);}async[a0_0x2b042e(0x54c)](_0x276777){const _0x29896d=a0_0x2b042e;return await this['sendMessageWithTyping'](_0x276777[_0x29896d(0x46a)],{'listMessage':{'title':_0x276777['listMessage'][_0x29896d(0x664)],'description':_0x276777[_0x29896d(0x54c)][_0x29896d(0x219)],'buttonText':_0x276777['listMessage']?.[_0x29896d(0x327)],'footerText':_0x276777[_0x29896d(0x54c)]?.[_0x29896d(0x557)],'sections':_0x276777[_0x29896d(0x54c)][_0x29896d(0x256)],'listType':0x2}},_0x276777?.[_0x29896d(0x783)]);}async[a0_0x2b042e(0x61b)](_0x371ce8){const _0x21116e=a0_0x2b042e;let _0x137e34;if(_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x1fa)]===_0x21116e(0x718)){let _0x485c60=_0x371ce8['menuMessage'][_0x21116e(0x8de)][_0x21116e(0x80c)]('\x0a'),_0x52f9c6='',_0x1be1a7='';_0x485c60!==-0x1?(_0x52f9c6=_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x8de)][_0x21116e(0x263)](0x0,_0x485c60)[_0x21116e(0x888)](),_0x1be1a7=_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x8de)][_0x21116e(0x263)](_0x485c60+0x1)):_0x1be1a7=_0x371ce8[_0x21116e(0x61b)]['text'];let _0x5e8e9b=_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x2fb)][_0x21116e(0x7ca)](_0x1a3a10=>_0x1a3a10['trim']()!==''),_0xb30132=this[_0x21116e(0x2f1)](_0x5e8e9b);_0x137e34={'listMessage':{'title':_0x52f9c6,'description':_0x1be1a7,'buttonText':_0x371ce8[_0x21116e(0x61b)]['buttonText']||_0x21116e(0x5b1),'footerText':_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x557)],'sections':_0xb30132,'listType':0x2}};}else{if(_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x1fa)]===_0x21116e(0x65f)){let _0x2eb808=_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x2fb)][_0x21116e(0x7ca)](_0x1e9844=>!(_0x1e9844['startsWith']('[')&&_0x1e9844['endsWith'](']'))&&_0x1e9844[_0x21116e(0x888)]()!=='')[_0x21116e(0x633)](_0x8a098e=>_0x8a098e[_0x21116e(0x5d7)]('\x0a')[0x0]);_0x137e34={'poll':{'name':_0x371ce8[_0x21116e(0x61b)][_0x21116e(0x8de)],'selectableCount':_0x371ce8[_0x21116e(0x61b)]['selectableCount']||0x1,'values':_0x2eb808}};}}return await this['sendMessageWithTyping'](_0x371ce8['number'],_0x137e34,_0x371ce8?.['options']);}[a0_0x2b042e(0x2f1)](_0x4423cb){const _0x12aa98=a0_0x2b042e;let _0x18d04d=[],_0x1fe8e0={'rows':[]};return _0x4423cb[_0x12aa98(0x1e3)](_0x5d9078=>{const _0x417533=_0x12aa98;if(_0x5d9078['startsWith']('[')&&_0x5d9078['endsWith'](']'))_0x1fe8e0[_0x417533(0x5ef)]['length']>0x0&&_0x18d04d[_0x417533(0x2f6)](_0x1fe8e0),_0x1fe8e0={'title':_0x5d9078['slice'](0x1,-0x1),'rows':[]};else{let _0x5be904=_0x5d9078['split']('\x0a')[_0x417533(0x633)](_0x8f548a=>_0x8f548a[_0x417533(0x888)]()),_0xa0877a=_0x5be904[0x0],_0x4290ca=_0x5be904[0x1]||null,_0x35ec9c=_0x5be904[0x2]||_0xa0877a;_0x1fe8e0[_0x417533(0x5ef)][_0x417533(0x2f6)]({'title':_0xa0877a,'description':_0x4290ca,'rowId':_0x35ec9c});}}),_0x1fe8e0[_0x12aa98(0x5ef)][_0x12aa98(0x3f7)]>0x0&&_0x18d04d['push'](_0x1fe8e0),_0x18d04d;}async[a0_0x2b042e(0x251)](_0x39ef6f,_0x545f48){const _0x1ee87f=a0_0x2b042e;if(await this[_0x1ee87f(0x2a4)](_0x39ef6f,!0x0)){let _0x3e73a8={'where':{'_id':_0x39ef6f['id']}},_0xb6430e={'status':[_0x545f48[_0x1ee87f(0x3cd)]][0x0]};try{let _0x829ede=await this['repository']['message'][_0x1ee87f(0x914)](_0x3e73a8,_0xb6430e,this[_0x1ee87f(0x60b)][_0x1ee87f(0x3ad)]);_0x829ede&&q(this[_0x1ee87f(0x3ae)],_0x1ee87f(0x281),{'message':_0x829ede});}catch{}}}['sectionsToString'](_0x27f90b){const _0xba8cc0=a0_0x2b042e;let _0x37e441=[];return _0x27f90b[_0xba8cc0(0x1e3)](_0x512ac3=>{const _0x4a8de3=_0xba8cc0;_0x512ac3[_0x4a8de3(0x664)]&&_0x37e441[_0x4a8de3(0x2f6)]('['+_0x512ac3[_0x4a8de3(0x664)]+']'),_0x512ac3['rows'][_0x4a8de3(0x1e3)](_0x38193d=>{const _0x12bfc5=_0x4a8de3;_0x37e441[_0x12bfc5(0x2f6)](_0x38193d[_0x12bfc5(0x664)]);});}),_0x37e441[_0xba8cc0(0x8f2)]('|');}[a0_0x2b042e(0x222)](_0x18ad89){const _0x11cf73=a0_0x2b042e;let _0x2d35db=_0x18ad89['replace'](/\\n/g,'\x0a')[_0x11cf73(0x5d7)]('\x0a')[_0x11cf73(0x7ca)](_0xa7022c=>_0xa7022c['includes'](_0x11cf73(0x3ca))||_0xa7022c['includes']('EMAIL')),_0x2cfabf='';return _0x2d35db['forEach'](_0xa6cd86=>{const _0x58b5e8=_0x11cf73;let _0x4230e5=/TEL(?:.*):(.+)/,_0x396681=/EMAIL(?:.*):(.+)/,_0x223e31=_0xa6cd86['match'](_0x4230e5),_0x3c2b0f=_0xa6cd86[_0x58b5e8(0x1f7)](_0x396681);if(_0x223e31){let _0x1a67f8=_0x223e31[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x58b5e8(0x888)]();_0x2cfabf+=_0x58b5e8(0x87b)+_0x1a67f8+'\x0a';}else{if(_0x3c2b0f){let _0xd17d86=_0x3c2b0f[0x1][_0x58b5e8(0x888)]();_0x2cfabf+=_0x58b5e8(0x4c0)+_0xd17d86+'\x0a';}}}),_0x2cfabf[_0x11cf73(0x888)]();}async[a0_0x2b042e(0x3e7)](_0x2238fe,_0x382922,_0x5a9a31,_0x511fd8=null){const _0x4aca61=a0_0x2b042e;if(_0x2238fe['ENABLED'])try{let _0x282764=_0x382922[_0x4aca61(0x730)][_0x4aca61(0x786)][_0x4aca61(0x417)](/:\d{1,2}@/g,'@'),_0x1b1bf2=_0x382922[_0x4aca61(0x730)][_0x4aca61(0x35c)],_0x351f3d=_0x282764[_0x4aca61(0x329)](_0x4aca61(0x468)),_0x45e2e2=_0x382922[_0x4aca61(0x2e0)]?.[_0x4aca61(0x417)](/:\d{1,2}@/g,'@')||'',_0x361c12=_0x382922[_0x4aca61(0x74e)]?.[_0x4aca61(0x8de)]||_0x382922[_0x4aca61(0x74e)]?.[_0x4aca61(0x2b8)]||_0x382922[_0x4aca61(0x74e)]?.[_0x4aca61(0x624)]||_0x382922['message_normalized']?.[_0x4aca61(0x69b)]||'',_0x3630dd={'_id':_0x382922[_0x4aca61(0x48a)],'remoteJid':_0x1b1bf2?this['instance'][_0x4aca61(0x3ad)]:_0x351f3d?_0x45e2e2:_0x282764,'pushName':_0x1b1bf2?this[_0x4aca61(0x60b)][_0x4aca61(0x27f)]||'Eu':_0x382922[_0x4aca61(0x36d)],'text':_0x361c12,'type':_0x382922[_0x4aca61(0x87c)],'when':_0x382922[_0x4aca61(0x7f1)]||Date[_0x4aca61(0x71e)]()};_0x511fd8||(_0x511fd8=await this[_0x4aca61(0x5b9)]['chat'][_0x4aca61(0x296)]({'where':{'_id':_0x282764}},this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]));let _0x3dbec7=_0x511fd8?_0x1b1bf2?_0x511fd8[_0x4aca61(0x899)]:(_0x511fd8[_0x4aca61(0x899)]||0x0)+0x1:_0x1b1bf2?0x0:0x1,_0x4385ab={'lastmsg':_0x382922[_0x4aca61(0x7f1)]||Date[_0x4aca61(0x71e)](),'ephemeralExpiration':_0x382922[_0x4aca61(0x63e)],'lastMessage':_0x3630dd,'unreadcount':_0x3dbec7,..._0x1b1bf2||_0x351f3d?{}:{'name':_0x382922[_0x4aca61(0x36d)]},..._0x351f3d?{'group':_0x351f3d}:{},...!_0x1b1bf2&&!_0x351f3d&&_0x382922[_0x4aca61(0x2e8)]?{'imagechat':_0x382922[_0x4aca61(0x2e8)]}:{}};if(!_0x351f3d&&(!_0x511fd8?.['leadInfo']||!_0x511fd8['leadInfo'][_0x4aca61(0x8a6)])&&_0x382922[_0x4aca61(0x36d)]&&!_0x1b1bf2&&(_0x4385ab={..._0x4385ab,'leadInfo.nome':_0x382922[_0x4aca61(0x36d)]}),_0x511fd8?.[_0x4aca61(0x638)][_0x4aca61(0x536)]||(_0x4385ab={..._0x4385ab,'leadInfo.etiquetas':[]}),_0x511fd8?.['leadInfo'][_0x4aca61(0x5ba)]||(_0x4385ab={..._0x4385ab,'leadInfo.customFields':[]}),_0x511fd8?.[_0x4aca61(0x638)][_0x4aca61(0x407)]||(_0x4385ab={..._0x4385ab,'leadInfo.tags':[]}),_0x511fd8&&_0x511fd8?.[_0x4aca61(0x8e9)]){let _0xcdb4cd=await this[_0x4aca61(0x5b9)][_0x4aca61(0x72b)][_0x4aca61(0x6da)]({'where':{}},this['instance'][_0x4aca61(0x3ad)]),_0x1d85d5=new Set(_0xcdb4cd[_0x4aca61(0x633)](_0x6a3d1b=>_0x6a3d1b[_0x4aca61(0x48a)])),_0xdd3ec0=(_0x511fd8[_0x4aca61(0x638)]?.[_0x4aca61(0x536)]||[])[_0x4aca61(0x7ca)](_0x182873=>_0x1d85d5[_0x4aca61(0x2ff)](_0x182873));_0x4385ab={..._0x4385ab,'imported':!0x1,'leadInfo.etiquetas':_0xdd3ec0};for(let _0x478197 of _0xdd3ec0)await this[_0x4aca61(0x58f)](_0x478197,_0x282764);}if(!this[_0x4aca61(0x69f)][_0x4aca61(0x8df)][_0x4aca61(0x6da)](_0x2654c6=>_0x2654c6[_0x4aca61(0x781)]&&_0x361c12[_0x4aca61(0x8ef)](_0x2654c6[_0x4aca61(0x781)]))&&_0x5a9a31===_0x4aca61(0x57c)&&_0x1b1bf2&&this[_0x4aca61(0x69f)]?.[_0x4aca61(0x4cd)]['enabled']&&_0x361c12[_0x4aca61(0x888)]()!==this[_0x4aca61(0x69f)]?.[_0x4aca61(0x4cd)]['stopConversation'][_0x4aca61(0x888)]()){let _0x41cd71=(this['AutomateSystem']?.[_0x4aca61(0x4cd)][_0x4aca61(0x23c)]||0x0)*0xea60,_0x394331=Date['now']()+_0x41cd71;_0x511fd8?.['leadInfo']?.[_0x4aca61(0x6cb)]===0x0||(_0x4385ab={..._0x4385ab,'leadInfo.desativadoFluxoAte':_0x394331},this[_0x4aca61(0x588)]['verbose'](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]+_0x4aca61(0x482)+_0x394331+'.'));}if(_0x361c12[_0x4aca61(0x888)]()===this[_0x4aca61(0x69f)]?.[_0x4aca61(0x4cd)][_0x4aca61(0x7d4)]['trim']()){this[_0x4aca61(0x588)][_0x4aca61(0x642)](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x361c12);let _0x28fe69=Date['now']();this['AutomateSystem']?.[_0x4aca61(0x4cd)][_0x4aca61(0x727)]===0x0?_0x4385ab={..._0x4385ab,'leadInfo.desativadoFluxoAte':_0x28fe69+0x7591f6200}:_0x4385ab={..._0x4385ab,'leadInfo.desativadoFluxoAte':_0x28fe69+this[_0x4aca61(0x69f)]?.[_0x4aca61(0x4cd)][_0x4aca61(0x727)]*0x3c*0x3e8};}if(_0x511fd8=await this['repository'][_0x4aca61(0x69d)][_0x4aca61(0x2ba)]({'where':{'_id':_0x282764}},_0x4385ab,this[_0x4aca61(0x60b)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x511fd8)q(this['instanceName'],_0x4aca61(0x23e),{'chat':_0x511fd8});else{this[_0x4aca61(0x588)][_0x4aca61(0x71a)](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]+_0x4aca61(0x66f));return;}if(_0x1b1bf2)return this[_0x4aca61(0x588)][_0x4aca61(0x642)](this[_0x4aca61(0x3ae)]+'\x20('+this['instance']['wuid']+_0x4aca61(0x7d2)),null;if(!this[_0x4aca61(0x69f)]?.[_0x4aca61(0x4cd)][_0x4aca61(0x4c5)])return this[_0x4aca61(0x588)][_0x4aca61(0x642)](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]+_0x4aca61(0x673)),null;if(_0x511fd8['_id'][_0x4aca61(0x8ef)](_0x4aca61(0x468))&&this[_0x4aca61(0x69f)]?.['flowConfig'][_0x4aca61(0x5e4)]===!0x0)return this['logger']['verbose'](this[_0x4aca61(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x511fd8[_0x4aca61(0x638)]){if(_0x511fd8[_0x4aca61(0x638)][_0x4aca61(0x6cb)]===0x0||_0x511fd8[_0x4aca61(0x638)][_0x4aca61(0x5f6)])return this['logger']['verbose'](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)][_0x4aca61(0x3ad)]+_0x4aca61(0x8f1)+_0x282764+_0x4aca61(0x6fa)),null;if(_0x511fd8[_0x4aca61(0x638)][_0x4aca61(0x6cb)]>Date[_0x4aca61(0x71e)]()&&!_0x382922[_0x4aca61(0x74e)]?.[_0x4aca61(0x624)])return this['logger'][_0x4aca61(0x642)](this['instanceName']+'\x20('+this[_0x4aca61(0x60b)]['wuid']+_0x4aca61(0x27b)+new Date(_0x511fd8['leadInfo'][_0x4aca61(0x6cb)])[_0x4aca61(0x6c5)]()+_0x4aca61(0x6fa)),null;}this[_0x4aca61(0x588)][_0x4aca61(0x642)](this[_0x4aca61(0x3ae)]+'\x20('+this[_0x4aca61(0x60b)]['wuid']+_0x4aca61(0x8e1)),this['StartBot'](_0x382922,_0x5a9a31);}catch(_0x1b70e7){let _0x15ab93='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x4d5eff=_0x1b70e7 instanceof Error?_0x1b70e7[_0x4aca61(0x239)]:typeof _0x1b70e7==_0x4aca61(0x880)?JSON[_0x4aca61(0x254)](_0x1b70e7):_0x1b70e7,_0x1d1364=_0x15ab93+':\x20'+_0x4d5eff;return this[_0x4aca61(0x588)]['error'](this['instanceName']+'\x20('+this[_0x4aca61(0x60b)]['wuid']+_0x4aca61(0x82b)+_0x1d1364),null;}}async[a0_0x2b042e(0x2f3)](_0x22ddc1,_0x4bda2f){const _0x16aa80=a0_0x2b042e;if(_0x4bda2f[_0x16aa80(0x460)]){let _0x2f2f13=_0x22ddc1[_0x16aa80(0x633)](async _0x4e97b2=>{const _0x4ed7c1=_0x16aa80;try{let _0x1adcff={'_id':_0x4e97b2['_id'],'owner':_0x4e97b2[_0x4ed7c1(0x2a2)],'lastcache':0x0};if(Object[_0x4ed7c1(0x5d6)](_0x4e97b2)[_0x4ed7c1(0x1e3)](_0x5eaa6c=>{_0x4e97b2[_0x5eaa6c]!==null&&(_0x1adcff[_0x5eaa6c]=_0x4e97b2[_0x5eaa6c]);}),_0x1adcff[_0x4ed7c1(0x3f5)]===null&&(_0x1adcff[_0x4ed7c1(0x3f5)]=_0x4ed7c1(0x393)),Object[_0x4ed7c1(0x5d6)](_0x1adcff)[_0x4ed7c1(0x3f7)]>0x0)return await this[_0x4ed7c1(0x5b9)]['chat'][_0x4ed7c1(0x2ba)]({'where':{'_id':_0x4e97b2[_0x4ed7c1(0x48a)]}},_0x1adcff,this[_0x4ed7c1(0x60b)][_0x4ed7c1(0x3ad)]);}catch(_0x597ab3){let _0x4fd20a='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x4e97b2[_0x4ed7c1(0x48a)],_0x2d47f8=_0x597ab3 instanceof Error?_0x597ab3[_0x4ed7c1(0x239)]:typeof _0x597ab3==_0x4ed7c1(0x880)?JSON[_0x4ed7c1(0x254)](_0x597ab3):_0x597ab3,_0x1b856c=_0x4fd20a+':\x20'+_0x2d47f8;return this[_0x4ed7c1(0x588)][_0x4ed7c1(0x71a)](this[_0x4ed7c1(0x3ae)]+'\x20('+this['instance'][_0x4ed7c1(0x3ad)]+_0x4ed7c1(0x82b)+_0x1b856c),null;}}),_0x49a076=(await Promise[_0x16aa80(0x761)](_0x2f2f13))[_0x16aa80(0x7ca)](_0x27be67=>_0x27be67!==null)[_0x16aa80(0x3f7)];this[_0x16aa80(0x588)]['verbose'](this[_0x16aa80(0x3ae)]+'\x20('+this[_0x16aa80(0x60b)][_0x16aa80(0x3ad)]+_0x16aa80(0x82b)+_0x49a076+'\x20chats\x20de\x20'+this[_0x16aa80(0x60b)][_0x16aa80(0x3ad)]+_0x16aa80(0x84a));}}async[a0_0x2b042e(0x439)](_0x508a96){const _0x3c366d=a0_0x2b042e;this[_0x3c366d(0x588)][_0x3c366d(0x642)](this['instanceName']+'\x20('+this[_0x3c366d(0x60b)]['wuid']+_0x3c366d(0x599));let _0xec437d={'readMessages':[{'remoteJid':_0x508a96[_0x3c366d(0x349)][_0x3c366d(0x2bd)][_0x3c366d(0x730)][_0x3c366d(0x786)],'fromMe':_0x508a96[_0x3c366d(0x349)][_0x3c366d(0x2bd)][_0x3c366d(0x730)][_0x3c366d(0x35c)],'id':_0x508a96['chatLog']['lastReceivedMessage']['key']['id']}]};await this[_0x3c366d(0x4a7)](_0xec437d);}async[a0_0x2b042e(0x719)](_0x1cab2f,_0x3d411c){const _0x4f93a7=a0_0x2b042e;try{let {key:_0x411de9,message_normalized:_0x11f54e}=_0x1cab2f,_0x4498bf=_0x11f54e,_0x5d7c7c=_0x11f54e['text']||_0x11f54e[_0x4f93a7(0x2b8)]||_0x11f54e['vote']||_0x11f54e[_0x4f93a7(0x69b)]||'',_0x242b10=_0x411de9[_0x4f93a7(0x786)],_0x2ce35b=null,_0x59b7b9=this[_0x4f93a7(0x69f)][_0x4f93a7(0x8df)]['find'](_0x27f49d=>_0x27f49d['startCommand']&&_0x5d7c7c[_0x4f93a7(0x8ef)](_0x27f49d['startCommand']));if(_0x59b7b9&&_0x3d411c===_0x4f93a7(0x57c)){let _0x4e2efc=await this[_0x4f93a7(0x5b9)][_0x4f93a7(0x1ff)][_0x4f93a7(0x296)]({'where':{'_id':_0x59b7b9['_id']}});if(this[_0x4f93a7(0x588)][_0x4f93a7(0x642)](this[_0x4f93a7(0x3ae)]+'\x20('+this[_0x4f93a7(0x60b)][_0x4f93a7(0x3ad)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x4e2efc&&_0x4e2efc[_0x4f93a7(0x47e)]?.[_0x4f93a7(0x8ef)](this[_0x4f93a7(0x60b)][_0x4f93a7(0x3ad)]))_0x2ce35b=await this[_0x4f93a7(0x26a)](_0x4e2efc,_0x411de9,_0x4498bf);else return this[_0x4f93a7(0x588)][_0x4f93a7(0x642)](this[_0x4f93a7(0x3ae)]+'\x20('+this[_0x4f93a7(0x60b)][_0x4f93a7(0x3ad)]+_0x4f93a7(0x54f)),null;}else this['logger'][_0x4f93a7(0x642)](this[_0x4f93a7(0x3ae)]+'\x20('+this['instance'][_0x4f93a7(0x3ad)]+_0x4f93a7(0x328));if(_0x2ce35b=await this[_0x4f93a7(0x6b5)](_0x242b10,_0x4498bf),_0x2ce35b){this[_0x4f93a7(0x588)]['verbose'](this[_0x4f93a7(0x3ae)]+'\x20('+this[_0x4f93a7(0x60b)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x411de9[_0x4f93a7(0x35c)]&&_0x2ce35b[_0x4f93a7(0x767)]&&this['readMessageBot'](_0x2ce35b);let _0x446e9d=await this[_0x4f93a7(0x2e3)](_0x2ce35b);_0x446e9d&&await this[_0x4f93a7(0x476)](_0x2ce35b,_0x446e9d);}}catch(_0x46c00b){this[_0x4f93a7(0x588)]['error'](this[_0x4f93a7(0x3ae)]+'\x20('+this['instance'][_0x4f93a7(0x3ad)]+_0x4f93a7(0x56e)+(_0x46c00b instanceof Error?_0x46c00b['message']:JSON[_0x4f93a7(0x254)](_0x46c00b,null,0x2)));}}[a0_0x2b042e(0x675)](_0x31450c,_0x5d0284='',_0x24fa02={}){const _0x152780=a0_0x2b042e;return typeof _0x31450c!=_0x152780(0x880)||_0x31450c===null?(_0x5d0284&&(_0x24fa02[_0x5d0284]=_0x31450c),_0x24fa02):(Object['entries'](_0x31450c)['forEach'](([_0x53c8e9,_0x5bd22b])=>{const _0x442153=_0x152780;let _0x42343b=_0x5d0284?_0x5d0284+'.'+_0x53c8e9:'_'+_0x53c8e9;Array['isArray'](_0x5bd22b)?_0x5bd22b['forEach']((_0x439421,_0x21701b)=>{const _0x99a01d=a0_0x2c3b;this[_0x99a01d(0x675)](_0x439421,_0x42343b+'['+_0x21701b+']',_0x24fa02);}):typeof _0x5bd22b==_0x442153(0x880)&&_0x5bd22b!==null?this['flattenObject'](_0x5bd22b,_0x42343b,_0x24fa02):_0x24fa02[_0x42343b]=String(_0x5bd22b);}),_0x24fa02);}[a0_0x2b042e(0x37f)](_0x5ed08e){const _0x3843e9=a0_0x2b042e;let _0x876cd9={};for(let _0xa2a69e of _0x5ed08e)typeof _0xa2a69e[_0x3843e9(0x69b)]==_0x3843e9(0x62d)&&typeof _0xa2a69e[_0x3843e9(0x64b)]==_0x3843e9(0x62d)&&(_0x876cd9[_0xa2a69e['name']]=_0xa2a69e[_0x3843e9(0x64b)]);return _0x876cd9;}async[a0_0x2b042e(0x2e3)](_0x25fe66){const _0x137da9=a0_0x2b042e;if(!this[_0x137da9(0x69f)]?.[_0x137da9(0x4cd)][_0x137da9(0x4c5)]||_0x25fe66['status']!==_0x137da9(0x81f)&&_0x25fe66['waitingMenu_id']==='')return null;let _0x4304d0=_0x25fe66[_0x137da9(0x349)]['lastBlockId']||_0x137da9(0x52e);typeof _0x25fe66[_0x137da9(0x349)][_0x137da9(0x712)]>'u'&&(_0x25fe66[_0x137da9(0x349)][_0x137da9(0x712)]=!0x0);let _0x125055=_0x25fe66[_0x137da9(0x349)][_0x137da9(0x712)];this[_0x137da9(0x588)][_0x137da9(0x642)](this[_0x137da9(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20lastBlockId:\x20'+_0x4304d0+',\x20lastCondition:\x20'+_0x125055);let _0x49e817=_0x4304d0==='start'?_0x25fe66[_0x137da9(0x848)][_0x137da9(0x6da)](_0x55b0dd=>_0x55b0dd['type']===_0x137da9(0x52e)):_0x25fe66['blocks'][_0x137da9(0x6da)](_0x166cdf=>_0x166cdf[_0x137da9(0x48a)][_0x137da9(0x413)]()===_0x4304d0[_0x137da9(0x413)]());if(!_0x49e817)return this[_0x137da9(0x588)][_0x137da9(0x71a)](this[_0x137da9(0x3ae)]+'\x20('+this[_0x137da9(0x60b)][_0x137da9(0x3ad)]+_0x137da9(0x8fb)+_0x4304d0),null;let _0x4c76bd={'_pushName':_0x25fe66?.[_0x137da9(0x349)]?.[_0x137da9(0x2bd)]?.[_0x137da9(0x36d)]||'','_sender':this['instance'][_0x137da9(0x3ad)]||'',..._0x25fe66[_0x137da9(0x349)][_0x137da9(0x616)]},_0x932fdf=null;if(_0x25fe66[_0x137da9(0x3cf)]){let _0x1f9954=_0x25fe66[_0x137da9(0x349)][_0x137da9(0x2bd)][_0x137da9(0x624)],_0x1df49f=_0x25fe66[_0x137da9(0x73a)][_0x137da9(0x6da)](_0x128dab=>_0x128dab[_0x137da9(0x33f)]===_0x1f9954);if(_0x1df49f){let _0x6e1594=_0x1df49f['next_groupId'];if(_0x932fdf=_0x25fe66[_0x137da9(0x848)][_0x137da9(0x6da)](_0x1f6571=>_0x1f6571[_0x137da9(0x687)]===_0x6e1594&&_0x1f6571['order']===0x1),_0x49e817[_0x137da9(0x606)][_0x137da9(0x923)]){let _0x5ec6ef={'id':_0x25fe66['waitingMenu_id'],'remoteJid':_0x25fe66[_0x137da9(0x786)],'fromMe':!0x0};await this[_0x137da9(0x7ef)](_0x5ec6ef);}if(_0x49e817[_0x137da9(0x606)][_0x137da9(0x923)]&&_0x49e817['uazapi'][_0x137da9(0x6e5)]&&_0x49e817[_0x137da9(0x606)][_0x137da9(0x7a4)]===_0x137da9(0x65f)){let _0x5b2170={'number':_0x25fe66[_0x137da9(0x786)],'options':{'delay':0x0},'textMessage':{'text':_0x137da9(0x443)+_0x25fe66[_0x137da9(0x3a3)]+_0x137da9(0x8af)+_0x1f9954}};await this[_0x137da9(0x465)](_0x5b2170);}_0x25fe66['status']=_0x137da9(0x81f),_0x25fe66['waitingMenu_id']='',_0x25fe66[_0x137da9(0x3a3)]='',_0x25fe66[_0x137da9(0x73a)]=[];}else{this[_0x137da9(0x588)][_0x137da9(0x642)](this['instanceName']+'\x20('+this[_0x137da9(0x60b)]['wuid']+_0x137da9(0x703));let _0xb3dd5c={'activatedCount':_0x25fe66[_0x137da9(0x349)]['blockLogs'][_0x137da9(0x7ca)](_0xce4cab=>String(_0xce4cab[_0x137da9(0x75e)])===String(_0x4304d0))[_0x137da9(0x3f7)],'moreLogs':[_0x137da9(0x399)]};if(_0x49e817[_0x137da9(0x606)]['pollErrorMessage']){let _0x15a61d={'number':_0x25fe66['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x49e817[_0x137da9(0x606)]['pollErrorMessage']}};await this['textMessage'](_0x15a61d);}if(_0x49e817[_0x137da9(0x655)]!==void 0x0&&_0xb3dd5c['activatedCount']>=_0x49e817[_0x137da9(0x655)]){let _0x1c3804=Date['now'](),_0x2c12b3=_0x49e817[_0x137da9(0x80e)]??0xa;isNaN(_0x2c12b3)&&(_0x2c12b3=0xa);let _0x262d34=_0x1c3804+_0x2c12b3*0x3c*0x3e8;_0xb3dd5c[_0x137da9(0x841)]=_0x262d34,_0xb3dd5c[_0x137da9(0x40c)][_0x137da9(0x2f6)](_0x137da9(0x2e6)),this[_0x137da9(0x88f)](_0x25fe66,_0x262d34),_0x25fe66[_0x137da9(0x3cf)]='',_0x25fe66[_0x137da9(0x3a3)]='',_0x25fe66['waitingMenu_replyOptions']=[];}return this[_0x137da9(0x336)](_0x25fe66,_0x49e817,_0xb3dd5c,!0x0),null;}}if(_0x125055&&_0x49e817[_0x137da9(0x81a)]&&!_0x25fe66['waitingMenu_id']){let _0x4817f8=_0x25fe66['blocks'][_0x137da9(0x7ca)](_0x1c0bd5=>_0x1c0bd5[_0x137da9(0x687)]['toString']()===_0x49e817['next_groupId']['toString']())[_0x137da9(0x516)]((_0x15fc15,_0x4b6633)=>_0x15fc15[_0x137da9(0x906)]-_0x4b6633[_0x137da9(0x906)]);_0x4817f8[_0x137da9(0x3f7)]>0x0&&(_0x932fdf=_0x4817f8[0x0]);}if(!_0x932fdf){let _0x5b1327=_0x49e817['groupId'],_0x1423e2=_0x25fe66[_0x137da9(0x848)]['filter'](_0x288872=>_0x288872[_0x137da9(0x687)]===_0x5b1327&&_0x288872[_0x137da9(0x906)]>_0x49e817['order'])['sort']((_0x533c42,_0x2a34b9)=>_0x533c42[_0x137da9(0x906)]-_0x2a34b9[_0x137da9(0x906)]);_0x1423e2[_0x137da9(0x3f7)]>0x0&&(_0x932fdf=_0x1423e2[0x0]);}if(!_0x932fdf)return _0x25fe66[_0x137da9(0x3cd)]=_0x137da9(0x2f8),null;_0x25fe66['chatLog']['realVariables']=_0x4c76bd;let _0x5ac1bb=JSON[_0x137da9(0x8c0)](JSON[_0x137da9(0x254)](_0x932fdf));return this[_0x137da9(0x3fe)](_0x5ac1bb,_0x25fe66[_0x137da9(0x349)][_0x137da9(0x616)]),_0x25fe66[_0x137da9(0x349)][_0x137da9(0x276)]=_0x5ac1bb[_0x137da9(0x48a)],_0x25fe66['chatLog']['lastCondition']=!0x0,_0x5ac1bb;}[a0_0x2b042e(0x22c)](_0xdf1a5,_0x11b5ca){return _0xdf1a5['replace'](/\{\{([^}]+)\}\}/g,(_0x1ac578,_0x289262)=>_0x11b5ca[_0x289262]||'');}[a0_0x2b042e(0x3fe)](_0x522455,_0x520ee0){const _0x4075b4=a0_0x2b042e;for(let _0x54a704 in _0x522455)typeof _0x522455[_0x54a704]=='string'?_0x522455[_0x54a704]=this[_0x4075b4(0x22c)](_0x522455[_0x54a704],_0x520ee0):typeof _0x522455[_0x54a704]=='object'&&this['replaceVariablesInObject'](_0x522455[_0x54a704],_0x520ee0);}async['goNextblock'](_0x215013,_0x5a68fb){const _0x3a5bea=a0_0x2b042e;let _0x46abb0=_0x5a68fb['_id'];if(_0x215013[_0x3a5bea(0x349)]&&_0x215013[_0x3a5bea(0x349)]['blockLogs']){let _0x1eaa02=_0x215013['chatLog'][_0x3a5bea(0x741)][_0x3a5bea(0x7ca)](_0x2124d3=>String(_0x2124d3[_0x3a5bea(0x75e)])===String(_0x46abb0))[_0x3a5bea(0x908)]();if(_0x1eaa02&&_0x1eaa02['error']&&_0x5a68fb[_0x3a5bea(0x8ae)])return _0x215013[_0x3a5bea(0x3cd)]='closed',await this[_0x3a5bea(0x24f)](_0x215013),null;}if(_0x5a68fb['type']==='uazapi'&&_0x5a68fb[_0x3a5bea(0x606)][_0x3a5bea(0x91f)]===_0x3a5bea(0x3d0)&&_0x215013['waitingMenu_id'])return _0x215013[_0x3a5bea(0x349)][_0x3a5bea(0x276)]=_0x46abb0,await this[_0x3a5bea(0x24f)](_0x215013),null;let _0x2f0567=await this[_0x3a5bea(0x2e3)](_0x215013);if(_0x215013['chatLog']&&_0x215013['chatLog'][_0x3a5bea(0x741)]){let _0x58eb24=_0x215013[_0x3a5bea(0x349)]['blockLogs'][_0x3a5bea(0x7ca)](_0xc5baa6=>String(_0xc5baa6[_0x3a5bea(0x75e)])===String(_0x46abb0))['length'];if(_0x5a68fb[_0x3a5bea(0x655)]!==void 0x0&&_0x58eb24>=_0x5a68fb[_0x3a5bea(0x655)]){let _0x4c354d=Date[_0x3a5bea(0x71e)](),_0x1a1d9f=_0x5a68fb[_0x3a5bea(0x80e)]??0xa;isNaN(_0x1a1d9f)&&(_0x1a1d9f=0xa);let _0x4e848e=_0x4c354d+_0x1a1d9f*0x3c*0x3e8,_0x35425e={'newStoppedUntil':_0x4e848e};return this[_0x3a5bea(0x88f)](_0x215013,_0x4e848e),this[_0x3a5bea(0x336)](_0x215013,_0x5a68fb,_0x35425e,!0x0),null;}}_0x2f0567&&_0x2f0567[_0x3a5bea(0x1fa)]!=='save'&&await this['processblock'](_0x215013,_0x2f0567),_0x2f0567||await this[_0x3a5bea(0x24f)](_0x215013),_0x2f0567&&_0x2f0567[_0x3a5bea(0x1fa)]===_0x3a5bea(0x691)&&(_0x215013[_0x3a5bea(0x349)]['lastBlockId']=_0x46abb0,await this[_0x3a5bea(0x24f)](_0x215013));}async['processblock'](_0x435af4,_0x49dab8){const _0x5585bd=a0_0x2b042e;try{let _0x190328=_0x49dab8[_0x5585bd(0x1fa)];this[_0x5585bd(0x588)][_0x5585bd(0x642)](this[_0x5585bd(0x3ae)]+'\x20('+this[_0x5585bd(0x60b)][_0x5585bd(0x3ad)]+_0x5585bd(0x6ad)+_0x190328);let _0x1b09c9={'uazapi':()=>this[_0x5585bd(0x6f6)](_0x435af4,_0x49dab8),'save':()=>this['saveTextReply'](_0x435af4,_0x49dab8),'stop':()=>this['stopConversation'](_0x435af4,_0x49dab8),'condition':()=>this[_0x5585bd(0x7bb)](_0x435af4,_0x49dab8),'varedit':()=>this[_0x5585bd(0x5f5)](_0x435af4,_0x49dab8),'apirequest':()=>this[_0x5585bd(0x535)](_0x435af4,_0x49dab8),'goToFlow':()=>this['processgoToFlow'](_0x435af4,_0x49dab8),'scheduleFlow':()=>this[_0x5585bd(0x650)](_0x435af4,_0x49dab8),'awaitSeconds':()=>this['processawaitSeconds'](_0x435af4,_0x49dab8),'clearVariables':()=>this[_0x5585bd(0x5a7)](_0x435af4,_0x49dab8)}[_0x190328];_0x1b09c9&&await _0x1b09c9();}catch(_0x2f354c){this[_0x5585bd(0x588)][_0x5585bd(0x71a)](this[_0x5585bd(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x2f354c instanceof Error?_0x2f354c[_0x5585bd(0x239)]:JSON[_0x5585bd(0x254)](_0x2f354c,null,0x2)));}}async['processawaitSeconds'](_0x1bb83e,_0x33e23e){const _0xa50a40=a0_0x2b042e;if(this[_0xa50a40(0x588)][_0xa50a40(0x642)](this[_0xa50a40(0x3ae)]+'\x20('+this[_0xa50a40(0x60b)]['wuid']+_0xa50a40(0x571)),!_0x1bb83e||!_0x33e23e)return this['logger']['error'](this['instanceName']+'\x20('+this[_0xa50a40(0x60b)]['wuid']+_0xa50a40(0x63b)),null;let _0x9d871a=+_0x33e23e[_0xa50a40(0x41d)];isNaN(_0x9d871a)&&(_0x9d871a=0x0),_0x9d871a=Math[_0xa50a40(0x8ac)](_0x9d871a,0x3c),await(0x0,w[_0xa50a40(0x39a)])(_0x9d871a*0x3e8);let _0x574ef4={'moreLogs':[_0xa50a40(0x55b)+_0x9d871a+'\x20segundos']};return await this['updateConversation'](_0x1bb83e,_0x33e23e,_0x574ef4),_0x9d871a;}async[a0_0x2b042e(0x5a7)](_0x686a68,_0x49fb76){const _0xc0e703=a0_0x2b042e;if(this[_0xc0e703(0x588)]['verbose'](this[_0xc0e703(0x3ae)]+'\x20('+this[_0xc0e703(0x60b)][_0xc0e703(0x3ad)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x686a68||!_0x49fb76)return this[_0xc0e703(0x588)]['error'](this[_0xc0e703(0x3ae)]+'\x20('+this[_0xc0e703(0x60b)][_0xc0e703(0x3ad)]+_0xc0e703(0x63b)),null;let _0x35b283=[];if(_0x49fb76[_0xc0e703(0x58e)][_0xc0e703(0x888)]()===_0xc0e703(0x8aa)){let _0x49a683=[_0xc0e703(0x405),'_pushName',_0xc0e703(0x5b8),_0xc0e703(0x651),_0xc0e703(0x5a5),'_id',_0xc0e703(0x51e)];_0x35b283=Object[_0xc0e703(0x5d6)](_0x686a68[_0xc0e703(0x349)]['realVariables'])['filter'](_0x3db3fb=>_0x3db3fb[_0xc0e703(0x834)]('_')&&!_0x49a683['includes'](_0x3db3fb));}else _0x35b283=_0x49fb76[_0xc0e703(0x58e)]['split']('|')[_0xc0e703(0x633)](_0x3ae8af=>(_0x3ae8af=_0x3ae8af[_0xc0e703(0x417)](/[{}]/g,'')[_0xc0e703(0x888)](),_0x3ae8af[_0xc0e703(0x834)]('_')?_0x3ae8af:'_'+_0x3ae8af));let _0x5ca86b=[];_0x35b283[_0xc0e703(0x1e3)](_0x3d574e=>{const _0x324335=_0xc0e703;_0x3d574e in _0x686a68['chatLog'][_0x324335(0x616)]&&(delete _0x686a68[_0x324335(0x349)][_0x324335(0x616)][_0x3d574e],_0x5ca86b[_0x324335(0x2f6)](_0x3d574e));}),_0x5ca86b[_0xc0e703(0x3f7)]>0x0?this['logger'][_0xc0e703(0x642)](this[_0xc0e703(0x3ae)]+'\x20('+this[_0xc0e703(0x60b)]['wuid']+_0xc0e703(0x5dc)+_0x5ca86b[_0xc0e703(0x8f2)](',\x20')):this[_0xc0e703(0x588)][_0xc0e703(0x642)](this[_0xc0e703(0x3ae)]+'\x20('+this[_0xc0e703(0x60b)][_0xc0e703(0x3ad)]+_0xc0e703(0x591));let _0x19368d={'moreLogs':[_0xc0e703(0x434)+_0x5ca86b[_0xc0e703(0x8f2)](',\x20')]};return await this[_0xc0e703(0x336)](_0x686a68,_0x49fb76,_0x19368d),null;}async[a0_0x2b042e(0x650)](_0xcc1415,_0xb0b63a){const _0x1dcc25=a0_0x2b042e;if(this[_0x1dcc25(0x588)]['verbose'](this[_0x1dcc25(0x3ae)]+'\x20('+this[_0x1dcc25(0x60b)][_0x1dcc25(0x3ad)]+_0x1dcc25(0x86f)),!_0xcc1415||!_0xb0b63a)return this[_0x1dcc25(0x588)][_0x1dcc25(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x1dcc25(0x3ad)]+_0x1dcc25(0x63b)),null;let _0x525e92=_0xcc1415[_0x1dcc25(0x786)];_0xb0b63a['scheduleFlow']['remoteJid']&&_0xb0b63a[_0x1dcc25(0x70e)][_0x1dcc25(0x786)][_0x1dcc25(0x888)]()!==''&&(_0x525e92=_0xb0b63a['uazapi'][_0x1dcc25(0x786)][_0x1dcc25(0x888)]());let _0x159b1a=_0xb0b63a['scheduleFlow']['timeInMinutes']*0xea60,_0x4a8324=Date[_0x1dcc25(0x71e)]()+_0x159b1a,_0xf993e5={'status':_0x1dcc25(0x757),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0xcc1415[_0x1dcc25(0x69b)],'remoteJids':[_0x525e92],'when':_0x4a8324,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1dcc25(0x1ff),'flowName':_0xb0b63a[_0x1dcc25(0x70e)][_0x1dcc25(0x288)]};this['editScheduleMessage'](_0xf993e5);let _0x23e23c=await this['NextBlock'](_0xcc1415);_0x23e23c&&await this[_0x1dcc25(0x476)](_0xcc1415,_0x23e23c);}async[a0_0x2b042e(0x3bd)](_0x35c000,_0x143cd3){const _0x59022d=a0_0x2b042e;if(this['logger'][_0x59022d(0x642)](this[_0x59022d(0x3ae)]+'\x20('+this[_0x59022d(0x60b)][_0x59022d(0x3ad)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x35c000||!_0x143cd3)return this['logger'][_0x59022d(0x71a)](this[_0x59022d(0x3ae)]+'\x20('+this[_0x59022d(0x60b)]['wuid']+_0x59022d(0x63b)),null;await this[_0x59022d(0x336)](_0x35c000,_0x143cd3,{},!0x0,!0x0);let _0x41953a=_0x143cd3['goToFlow'];_0x35c000=await this['createConversationforgoToFlow'](_0x41953a,_0x35c000[_0x59022d(0x786)],_0x35c000[_0x59022d(0x349)][_0x59022d(0x616)]);let _0x4e83cc=await this[_0x59022d(0x2e3)](_0x35c000);_0x4e83cc&&await this[_0x59022d(0x476)](_0x35c000,_0x4e83cc);}async[a0_0x2b042e(0x363)](_0x2acbb5,_0x1d7633,_0x307f59){const _0x31238f=a0_0x2b042e;this['logger'][_0x31238f(0x642)](this[_0x31238f(0x3ae)]+'\x20('+this[_0x31238f(0x60b)][_0x31238f(0x3ad)]+_0x31238f(0x7d9));try{let _0x4f999=this[_0x31238f(0x69f)][_0x31238f(0x8df)]['find'](_0x54c861=>_0x54c861[_0x31238f(0x48a)]===_0x2acbb5);_0x4f999||this['logger'][_0x31238f(0x71a)](this[_0x31238f(0x3ae)]+'\x20('+this['instance'][_0x31238f(0x3ad)]+_0x31238f(0x800)+_0x2acbb5+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x4d0082=await this[_0x31238f(0x5b9)][_0x31238f(0x1ff)][_0x31238f(0x296)]({'where':{'_id':_0x4f999[_0x31238f(0x48a)]}});if(!_0x4d0082||!_0x4d0082[_0x31238f(0x47e)]?.[_0x31238f(0x8ef)](this[_0x31238f(0x60b)][_0x31238f(0x3ad)]))throw this[_0x31238f(0x588)][_0x31238f(0x71a)](this[_0x31238f(0x3ae)]+'\x20('+this[_0x31238f(0x60b)][_0x31238f(0x3ad)]+_0x31238f(0x800)+_0x2acbb5+_0x31238f(0x34d)),new m(_0x31238f(0x232)+_0x2acbb5+_0x31238f(0x34d));let _0x1e82c0=require(_0x31238f(0x31f))[_0x31238f(0x5fa)],_0x1659e9=Date[_0x31238f(0x71e)](),_0x37e148='start',_0x3416a8={},_0x4a3056={},_0x327103=this[_0x31238f(0x69f)][_0x31238f(0x8df)]['find'](_0x159616=>_0x159616[_0x31238f(0x48a)]===_0x4d0082[_0x31238f(0x48a)]?.[_0x31238f(0x413)]()),_0xc1693c=_0x327103?.[_0x31238f(0x846)]??_0x4d0082[_0x31238f(0x846)]??0x0,_0x1ea980=_0x327103?.[_0x31238f(0x767)]??_0x4d0082[_0x31238f(0x767)]??!0x1,_0x59c803={'flowId':_0x4f999[_0x31238f(0x48a)],'readMessages':_0x4f999[_0x31238f(0x767)],..._0x4d0082,'chatLog':null},_0x3c64bd={'lastReceivedMessage':_0x3416a8,'lastSendMessage':_0x4a3056,'lastBlockId':_0x37e148,'lastCondition':!0x0,'realVariables':_0x307f59};_0x59c803[_0x31238f(0x349)]=_0x3c64bd,_0x59c803[_0x31238f(0x349)][_0x31238f(0x616)]={..._0x307f59},delete _0x59c803['_id'],_0x59c803[_0x31238f(0x48a)]=new _0x1e82c0(),_0x59c803[_0x31238f(0x700)]=_0x1659e9,_0x59c803['status']=_0x31238f(0x81f),_0x59c803['remoteJid']=_0x1d7633,_0x59c803[_0x31238f(0x846)]=_0xc1693c,_0x59c803[_0x31238f(0x767)]=_0x1ea980;let _0x3a74a7=await this[_0x31238f(0x5b9)][_0x31238f(0x82e)][_0x31238f(0x2ba)](_0x59c803[_0x31238f(0x48a)],_0x59c803,this[_0x31238f(0x60b)][_0x31238f(0x3ad)]);return this[_0x31238f(0x588)][_0x31238f(0x642)](this['instanceName']+'\x20('+this[_0x31238f(0x60b)][_0x31238f(0x3ad)]+_0x31238f(0x577)),_0x3a74a7?_0x59c803:null;}catch(_0x309b74){let _0x409539=_0x31238f(0x65a),_0x3b4e4a=_0x309b74 instanceof Error?_0x309b74[_0x31238f(0x239)]:typeof _0x309b74==_0x31238f(0x880)?JSON['stringify'](_0x309b74):_0x309b74,_0x5e3d7c=_0x409539+':\x20'+_0x3b4e4a;throw this[_0x31238f(0x588)][_0x31238f(0x71a)](this['instanceName']+'\x20('+this[_0x31238f(0x60b)][_0x31238f(0x3ad)]+_0x31238f(0x82b)+_0x5e3d7c),new m(_0x5e3d7c);}}async[a0_0x2b042e(0x535)](_0x6b6078,_0x2c9a79){const _0x80475e=a0_0x2b042e;let _0x44a84f,_0x167072;try{let _0x193388=_0x2c9a79[_0x80475e(0x3d4)];if(!_0x193388||!_0x193388[_0x80475e(0x78f)]||!_0x193388['method'])throw new Error(_0x80475e(0x8ff));let _0x1ec89e;([_0x80475e(0x929),_0x80475e(0x4d5),_0x80475e(0x8ba)][_0x80475e(0x8c6)](_0x162f1c=>_0x193388['url'][_0x80475e(0x8ef)](_0x162f1c))||_0x193388['requestFile'])&&(_0x1ec89e=_0x80475e(0x2bc));let _0x578196='\u205f',_0x23efa5;try{_0x23efa5=JSON[_0x80475e(0x8c0)](_0x193388[_0x80475e(0x661)][_0x80475e(0x417)](new RegExp(_0x578196,'g'),''));}catch(_0x1ae20b){throw _0x1ae20b;}let _0x4414eb={'method':_0x193388['method'],'url':_0x193388[_0x80475e(0x78f)],'headers':_0x193388[_0x80475e(0x5cb)]||{},..._0x193388[_0x80475e(0x69c)][_0x80475e(0x8c4)]()!==_0x80475e(0x7e6)&&_0x193388[_0x80475e(0x661)]?{'data':JSON[_0x80475e(0x8c0)](_0x193388[_0x80475e(0x661)][_0x80475e(0x417)](new RegExp(_0x578196,'g'),''))}:{},..._0x1ec89e&&{'responseType':_0x1ec89e}},_0xb88df2=await(0x0,Z[_0x80475e(0x1f4)])(_0x4414eb),_0x24b0bb=_0xb88df2['headers']['content-type'];if(_0x24b0bb&&_0x24b0bb['includes'](_0x80475e(0x769))||typeof _0xb88df2[_0x80475e(0x450)]==_0x80475e(0x62d)){if(typeof _0xb88df2[_0x80475e(0x450)]==_0x80475e(0x62d)){let _0x1e2f8a=_0xb88df2['data'][_0x80475e(0x417)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x80475e(0x888)]();try{_0x44a84f=JSON[_0x80475e(0x8c0)](_0x1e2f8a);}catch(_0x4b371d){this['logger'][_0x80475e(0x71a)](_0x80475e(0x1e4)+_0x4b371d[_0x80475e(0x239)]),_0x44a84f={'_apiResponse':_0xb88df2[_0x80475e(0x450)]};}}else _0x44a84f=_0xb88df2[_0x80475e(0x450)];let _0x59e757=_0x6b6078[_0x80475e(0x349)][_0x80475e(0x616)],_0x44cf75=this[_0x80475e(0x675)](_0x44a84f);return Object[_0x80475e(0x589)](_0x59e757,_0x44cf75),_0x6b6078[_0x80475e(0x349)][_0x80475e(0x616)]=_0x59e757,_0x167072={'error':!0x1,'apiResponse':_0x44a84f},this['updateConversation'](_0x6b6078,_0x2c9a79,_0x167072),_0x44a84f;}if(_0x24b0bb&&(_0x24b0bb[_0x80475e(0x8ef)](_0x80475e(0x46d))||_0x24b0bb[_0x80475e(0x8ef)]('image')||_0x24b0bb[_0x80475e(0x8ef)](_0x80475e(0x6ac))||_0x24b0bb[_0x80475e(0x8ef)](_0x80475e(0x5e2)))){this[_0x80475e(0x588)][_0x80475e(0x642)](this['instanceName']+'\x20('+this[_0x80475e(0x60b)][_0x80475e(0x3ad)]+_0x80475e(0x618)+_0x24b0bb);let _0x29ba5f=(0x0,Q['v4'])(),_0x3c6a2='',_0x4a2e81={'image/jpeg':_0x80475e(0x472),'image/png':'.png','image/gif':_0x80475e(0x728),'image/webp':_0x80475e(0x43a),'image/svg+xml':_0x80475e(0x7bc),'audio/mpeg':_0x80475e(0x729),'audio/ogg':'.ogg','audio/wav':_0x80475e(0x31b),'video/mp4':_0x80475e(0x40a),'video/webm':_0x80475e(0x789),'video/ogg':_0x80475e(0x4d1),'text/plain':_0x80475e(0x778),'application/pdf':'.pdf','application/msword':_0x80475e(0x8fe),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x80475e(0x1ef),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x80475e(0x486),'application/vnd.ms-powerpoint':_0x80475e(0x8a3),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x80475e(0x566)};_0x4a2e81[_0x24b0bb]?(_0x3c6a2=_0x4a2e81[_0x24b0bb],this[_0x80475e(0x588)][_0x80475e(0x642)](this[_0x80475e(0x3ae)]+'\x20('+this[_0x80475e(0x60b)][_0x80475e(0x3ad)]+_0x80475e(0x7c1)+_0x3c6a2)):(_0x3c6a2=_0x80475e(0x779),this['logger']['verbose'](this[_0x80475e(0x3ae)]+'\x20('+this[_0x80475e(0x60b)][_0x80475e(0x3ad)]+_0x80475e(0x20e)+_0x3c6a2)),_0x29ba5f+=_0x3c6a2,this[_0x80475e(0x588)][_0x80475e(0x642)](this[_0x80475e(0x3ae)]+'\x20('+this[_0x80475e(0x60b)]['wuid']+_0x80475e(0x3d2)+_0x29ba5f);let _0x6cf7b3=this[_0x80475e(0x865)][_0x80475e(0x7e0)](_0x80475e(0x643))[_0x80475e(0x7bd)];if(!_0x6cf7b3){let _0x3779d5=this[_0x80475e(0x865)][_0x80475e(0x7e0)](_0x80475e(0x8a8));_0x6cf7b3=_0x80475e(0x26c)+(_0x3779d5&&_0x3779d5[_0x80475e(0x2de)]['split']('/')[0x4]);}let _0x5c6491=Buffer[_0x80475e(0x223)](_0xb88df2[_0x80475e(0x450)]);await this['saveMediaToFile'](_0x5c6491,_0x29ba5f);let _0x559adb=_0x80475e(0x7f0)+_0x29ba5f;_0x559adb=''+_0x6cf7b3+_0x559adb,_0x44a84f={'fileUrl':_0x559adb},_0x6b6078['chatLog'][_0x80475e(0x616)][_0x80475e(0x67e)]=_0x559adb;let _0x1d1ffc=_0x6b6078[_0x80475e(0x349)][_0x80475e(0x616)],_0x3455b1=this[_0x80475e(0x675)](_0x44a84f);return Object[_0x80475e(0x589)](_0x1d1ffc,_0x3455b1),_0x6b6078[_0x80475e(0x349)]['realVariables']=_0x1d1ffc,_0x167072={'error':!0x1,'apiResponse':{'fileUrl':_0x559adb}},this[_0x80475e(0x336)](_0x6b6078,_0x2c9a79,_0x167072),_0x44a84f;}}catch(_0x45c299){this[_0x80475e(0x588)][_0x80475e(0x71a)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x45c299[_0x80475e(0x239)]),_0x45c299['response']&&(_0x44a84f=_0x45c299[_0x80475e(0x80a)][_0x80475e(0x450)]);let _0x1366b6=_0x6b6078[_0x80475e(0x349)][_0x80475e(0x616)],_0x55721b=this[_0x80475e(0x675)](_0x44a84f);return Object['assign'](_0x1366b6,_0x55721b),_0x6b6078[_0x80475e(0x349)]['realVariables']=_0x1366b6,_0x167072={'error':!0x0,'errorLog':_0x45c299[_0x80475e(0x413)](),'apiResponse':_0x44a84f},this['updateConversation'](_0x6b6078,_0x2c9a79,_0x167072),{'success':!0x1};}}[a0_0x2b042e(0x670)](_0x1fc78f,_0x3ea5dd){const _0x401552=a0_0x2b042e;let _0x4f7b15=_0x5c29b9=>{const _0xbda3de=a0_0x2c3b;let _0x3cb48c=_0x5c29b9[_0xbda3de(0x417)](/[^0-9.,-]/g,'')[_0xbda3de(0x417)](',','.'),_0x48ac1f=parseFloat(_0x3cb48c);return isNaN(_0x48ac1f)?null:_0x48ac1f;},_0x434e4d=_0x3ea5dd[_0x401552(0x7d6)],_0x54ba49=_0x3ea5dd[_0x401552(0x2be)];typeof _0x434e4d=='string'&&(_0x434e4d=this[_0x401552(0x22c)](_0x434e4d,_0x1fc78f[_0x401552(0x349)]['realVariables'])??''),typeof _0x54ba49==_0x401552(0x62d)&&(_0x54ba49=this['replaceVariables'](_0x54ba49,_0x1fc78f['chatLog'][_0x401552(0x616)])??'');let _0x35c1e1=null;if(!_0x3ea5dd['editOperator'])return null;switch(this[_0x401552(0x588)][_0x401552(0x642)](this[_0x401552(0x3ae)]+'\x20('+this[_0x401552(0x60b)][_0x401552(0x3ad)]+_0x401552(0x29e)+_0x434e4d),this[_0x401552(0x588)][_0x401552(0x642)](this[_0x401552(0x3ae)]+'\x20('+this[_0x401552(0x60b)][_0x401552(0x3ad)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x54ba49),_0x3ea5dd[_0x401552(0x2ac)]){case'+':case'-':case'*':case'/':let _0x53831c=_0x4f7b15(_0x434e4d||'0'),_0x1543ba=_0x4f7b15(_0x54ba49||'0');if(_0x53831c===null)return null;switch(_0x3ea5dd['editOperator']){case'+':_0x35c1e1=_0x53831c+(_0x1543ba??0x0);break;case'-':_0x35c1e1=_0x53831c-(_0x1543ba??0x0);break;case'*':_0x35c1e1=_0x53831c*(_0x1543ba??0x1);break;case'/':_0x1543ba!==0x0&&(_0x35c1e1=_0x53831c/(_0x1543ba??0x1));break;}break;case'findAndReplace':case _0x401552(0x6a5):let _0x59b928=_0x54ba49,_0x31f535=_0x3ea5dd[_0x401552(0x623)];if(typeof _0x31f535==_0x401552(0x62d)&&(_0x31f535=this[_0x401552(0x22c)](_0x31f535,_0x1fc78f['chatLog'][_0x401552(0x616)])??''),_0x59b928&&_0x31f535!==void 0x0){let _0x49d01f=_0x3ea5dd[_0x401552(0x2ac)]===_0x401552(0x337)?new RegExp(_0x59b928[_0x401552(0x417)](/[-\/\\^$*+?.()|[\]{}]/g,_0x401552(0x8fa)),'g'):new RegExp(_0x59b928,'g');_0x35c1e1=_0x434e4d[_0x401552(0x417)](_0x49d01f,_0x31f535);}else console[_0x401552(0x537)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x401552(0x30e):_0x35c1e1=_0x54ba49;break;case _0x401552(0x5e5):let _0x40641c=_0x434e4d[_0x401552(0x1f7)](new RegExp(_0x54ba49||''));_0x35c1e1=_0x40641c?_0x40641c[0x0]:'';break;case _0x401552(0x84e):_0x35c1e1=_0x434e4d[_0x401552(0x526)](0x0,parseInt(_0x54ba49||'0'));break;case _0x401552(0x2c3):let _0x4a4e19=parseInt(_0x54ba49||'0');_0x35c1e1=_0x434e4d['slice'](_0x434e4d['length']-_0x4a4e19);break;case _0x401552(0x919):let _0x543e3d=_0x4f7b15(_0x434e4d),_0x2da3a3=parseInt(_0x54ba49||'0');_0x2da3a3=Math[_0x401552(0x4d6)](_0x2da3a3),_0x543e3d!==null?_0x35c1e1=_0x543e3d[_0x401552(0x6c5)](_0x401552(0x8ec),{'minimumFractionDigits':_0x2da3a3,'maximumFractionDigits':_0x2da3a3}):(console[_0x401552(0x537)](_0x401552(0x8c8)+_0x434e4d),_0x35c1e1=null);break;case _0x401552(0x429):let _0x14be4b=_0x4f7b15(_0x434e4d);_0x14be4b!==null?_0x35c1e1=_0x14be4b['toLocaleString'](_0x401552(0x8ec),{'style':_0x401552(0x4b2),'currency':_0x401552(0x7c4)}):(console[_0x401552(0x537)](_0x401552(0x867)+_0x434e4d),_0x35c1e1=null);break;case _0x401552(0x3a9):_0x35c1e1=_0x434e4d[_0x401552(0x8c4)]();break;case _0x401552(0x580):_0x35c1e1=_0x434e4d[_0x401552(0x238)]();break;case'capitalizedWords':_0x35c1e1=_0x434e4d[_0x401552(0x5d7)]('\x20')[_0x401552(0x633)](_0x425007=>_0x425007[_0x401552(0x68f)](0x0)['toUpperCase']()+_0x425007['slice'](0x1)['toLowerCase']())[_0x401552(0x8f2)]('\x20');break;case _0x401552(0x840):_0x35c1e1=_0x434e4d[_0x401552(0x888)]();break;default:_0x35c1e1=_0x434e4d;}return _0x35c1e1!==null?_0x35c1e1['toString']():null;}async[a0_0x2b042e(0x5f5)](_0x230cbd,_0xe434d3){const _0x568e14=a0_0x2b042e;try{let _0x4e9d07=_0x230cbd[_0x568e14(0x378)]?.[_0x568e14(0x7ca)](_0x11cd43=>_0x11cd43['blockId']===_0xe434d3[_0x568e14(0x48a)]?.[_0x568e14(0x413)]())||[],_0x829340=_0xe434d3[_0x568e14(0x885)],_0x46d09a=null,_0x5d66a1=[],_0x568da7=_0x230cbd[_0x568e14(0x349)]['realVariables'][_0x829340];_0x5d66a1[_0x568e14(0x2f6)]('Valor\x20inicial:\x20\x22'+_0x568da7+'\x22');for(let _0x59a240 of _0x4e9d07){_0x59a240['firstValue']=_0x568da7,_0x46d09a=_0x59a240[_0x568e14(0x7d6)];let _0x108f40;try{_0x108f40=this[_0x568e14(0x670)](_0x230cbd,_0x59a240);}catch(_0x1d532e){this['logger'][_0x568e14(0x71a)](_0x568e14(0x5b0)+_0x1d532e['message']);continue;}if(_0x108f40!==null){let _0x372e75=_0x568e14(0x815)+_0x59a240[_0x568e14(0x2ac)]+'\x22',_0x4187b5=[_0x568e14(0x429),'upperCase',_0x568e14(0x580),_0x568e14(0x228),_0x568e14(0x840)];_0x59a240[_0x568e14(0x2ac)]===_0x568e14(0x337)||_0x59a240['editOperator']===_0x568e14(0x6a5)?_0x372e75+=_0x568e14(0x3ba)+_0x59a240['secondValue']+_0x568e14(0x91c)+_0x59a240[_0x568e14(0x623)]+'\x22':!_0x4187b5['includes'](_0x59a240[_0x568e14(0x2ac)])&&_0x59a240['secondValue']!==null&&_0x59a240['secondValue']!==void 0x0&&(_0x372e75+=',\x20valor\x20passado:\x20\x22'+_0x59a240[_0x568e14(0x2be)]+'\x22'),_0x372e75+=_0x568e14(0x909)+_0x108f40+'.',_0x5d66a1[_0x568e14(0x2f6)](_0x372e75);}_0x108f40!==null&&(_0x568da7=_0x108f40);}if(_0x230cbd[_0x568e14(0x349)][_0x568e14(0x616)]&&_0xe434d3[_0x568e14(0x885)]){_0x230cbd['chatLog'][_0x568e14(0x616)][_0xe434d3[_0x568e14(0x885)]]=_0x568da7;let _0x56e4bb={'variable':_0xe434d3[_0x568e14(0x885)],'oldValue':_0x46d09a,'newValue':_0x568da7,'moreLogs':_0x5d66a1};try{this[_0x568e14(0x336)](_0x230cbd,_0xe434d3,_0x56e4bb);}catch(_0x6d778){this[_0x568e14(0x588)]['error'](_0x568e14(0x829)+_0x6d778[_0x568e14(0x239)]);}}return _0x829340;}catch(_0x190382){return this[_0x568e14(0x588)][_0x568e14(0x71a)](_0x568e14(0x47d)+_0x190382[_0x568e14(0x239)]),null;}}async['processConditions'](_0x52012a,_0x10b289){const _0x24586b=a0_0x2b042e;try{let _0x1fbb72=[],_0x361d62=_0x52012a[_0x24586b(0x39c)][_0x24586b(0x7ca)](_0x301795=>_0x301795[_0x24586b(0x75e)]===_0x10b289[_0x24586b(0x48a)]['toString']()),_0x397b91=null,_0x46e71a=!0x1;for(let _0x57cbd4 of _0x361d62){let _0x2a9a35=this['evaluateCondition'](_0x52012a,_0x57cbd4);_0x1fbb72['push'](_0x24586b(0x2b4)+_0x57cbd4[_0x24586b(0x7d6)]+_0x24586b(0x216)+_0x57cbd4[_0x24586b(0x6e9)]+',\x20Segundo\x20Valor:\x20'+_0x57cbd4[_0x24586b(0x2be)]+_0x24586b(0x4aa)+_0x2a9a35),_0x397b91===null?_0x397b91=_0x2a9a35:_0x57cbd4[_0x24586b(0x259)]===_0x24586b(0x851)?(_0x397b91=_0x397b91&&_0x2a9a35,_0x2a9a35||(_0x46e71a=!0x0)):_0x57cbd4['OrAnd']==='or'&&(_0x46e71a||(_0x397b91=_0x397b91||_0x2a9a35));}_0x397b91===null&&(_0x397b91=!0x0);let _0x55fb93={'moreLogs':_0x1fbb72};_0x52012a[_0x24586b(0x349)][_0x24586b(0x712)]=_0x397b91,await this[_0x24586b(0x336)](_0x52012a,_0x10b289,_0x55fb93);}catch(_0x327ec2){this[_0x24586b(0x588)]['error'](this[_0x24586b(0x3ae)]+'\x20('+this[_0x24586b(0x60b)][_0x24586b(0x3ad)]+_0x24586b(0x795)+(_0x327ec2 instanceof Error?_0x327ec2[_0x24586b(0x239)]:JSON['stringify'](_0x327ec2,null,0x2)));}}[a0_0x2b042e(0x2e1)](_0x597bb9,_0x2d6b94){const _0x46a7e4=a0_0x2b042e;let _0x1be0de=_0x2d6b94[_0x46a7e4(0x7d6)],_0x5e0f8f=_0x2d6b94[_0x46a7e4(0x2be)];typeof _0x1be0de==_0x46a7e4(0x62d)&&(_0x1be0de=this[_0x46a7e4(0x22c)](_0x1be0de,_0x597bb9['chatLog']['realVariables'])??''),typeof _0x5e0f8f==_0x46a7e4(0x62d)&&(_0x5e0f8f=this[_0x46a7e4(0x22c)](_0x5e0f8f,_0x597bb9[_0x46a7e4(0x349)][_0x46a7e4(0x616)])??'');try{switch(_0x2d6b94[_0x46a7e4(0x6e9)]){case _0x46a7e4(0x514):return _0x1be0de===_0x5e0f8f;case _0x46a7e4(0x51b):return _0x1be0de!==_0x5e0f8f;case _0x46a7e4(0x200):return this[_0x46a7e4(0x200)](_0x1be0de,_0x5e0f8f);case _0x46a7e4(0x64e):return!this[_0x46a7e4(0x200)](_0x1be0de,_0x5e0f8f);case'greater':return parseFloat(_0x1be0de)>parseFloat(_0x5e0f8f);case _0x46a7e4(0x74b):return parseFloat(_0x1be0de)<parseFloat(_0x5e0f8f);case _0x46a7e4(0x5f8):return _0x1be0de!=='';case _0x46a7e4(0x772):return _0x1be0de==='';case _0x46a7e4(0x84c):return new RegExp(_0x5e0f8f)[_0x46a7e4(0x2d3)](_0x1be0de);case _0x46a7e4(0x428):return!new RegExp(_0x5e0f8f)[_0x46a7e4(0x2d3)](_0x1be0de);default:return!0x1;}}catch(_0xb93c43){return this[_0x46a7e4(0x588)][_0x46a7e4(0x71a)](_0x46a7e4(0x80b)+_0xb93c43),!0x1;}}[a0_0x2b042e(0x200)](_0x2699ae,_0x264c90){const _0x19eb56=a0_0x2b042e;if(_0x2699ae===_0x264c90&&/^\d+$/[_0x19eb56(0x2d3)](_0x2699ae))return!0x0;if(this[_0x19eb56(0x632)](_0x2699ae)&&/^\d+$/[_0x19eb56(0x2d3)](_0x264c90)){let _0x2c4c8e=_0x2699ae['split'](',')[_0x19eb56(0x633)](_0x3377d9=>parseInt(_0x3377d9[_0x19eb56(0x888)]())),_0x2055a7=parseInt(_0x264c90);return _0x2c4c8e[_0x19eb56(0x8ef)](_0x2055a7);}return _0x2699ae['includes'](_0x264c90);}[a0_0x2b042e(0x632)](_0x585c2e){const _0x366a19=a0_0x2b042e;return/^\d+(,\d+)*$/[_0x366a19(0x2d3)](_0x585c2e);}[a0_0x2b042e(0x648)](_0x45dcdf){const _0x5c9899=a0_0x2b042e;let _0x5a38c2=!0x0,_0x403194=null;for(let _0x1c37c9 of _0x45dcdf){let _0x7f328c=this[_0x5c9899(0x628)](_0x1c37c9);if(_0x403194==='or'&&_0x7f328c){_0x5a38c2=!0x0;break;}if(_0x403194===_0x5c9899(0x851)&&!_0x7f328c){_0x5a38c2=!0x1;break;}_0x403194=_0x1c37c9[_0x5c9899(0x259)];}return _0x5a38c2;}[a0_0x2b042e(0x628)](_0x561b14){const _0x8e307c=a0_0x2b042e;let _0x5d5ab0=_0x561b14[_0x8e307c(0x7d6)],_0x1b6251=_0x561b14[_0x8e307c(0x2be)];try{switch(_0x561b14[_0x8e307c(0x6e9)]){case'equal':return String(_0x5d5ab0)===String(_0x1b6251);case _0x8e307c(0x51b):return String(_0x5d5ab0)!==String(_0x1b6251);case'contains':return String(_0x5d5ab0)[_0x8e307c(0x8ef)](String(_0x1b6251));case _0x8e307c(0x64e):return!String(_0x5d5ab0)[_0x8e307c(0x8ef)](String(_0x1b6251));case'greater':return parseFloat(String(_0x5d5ab0))>parseFloat(String(_0x1b6251));case _0x8e307c(0x74b):return parseFloat(String(_0x5d5ab0))<parseFloat(String(_0x1b6251));case _0x8e307c(0x5f8):return String(_0x5d5ab0)!=='';case _0x8e307c(0x772):return String(_0x5d5ab0)==='';case _0x8e307c(0x84c):return new RegExp(String(_0x1b6251))['test'](String(_0x5d5ab0));case _0x8e307c(0x428):return!new RegExp(String(_0x1b6251))['test'](String(_0x5d5ab0));default:return!0x1;}}catch(_0x49cb4e){return this[_0x8e307c(0x588)][_0x8e307c(0x71a)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x49cb4e),!0x1;}}async[a0_0x2b042e(0x615)](_0x24d9ab,_0x3c715d){const _0x233422=a0_0x2b042e;if(this[_0x233422(0x588)]['verbose'](this[_0x233422(0x3ae)]+'\x20('+this['instance'][_0x233422(0x3ad)]+_0x233422(0x76a)),!_0x24d9ab||!_0x3c715d)return this[_0x233422(0x588)][_0x233422(0x71a)](this[_0x233422(0x3ae)]+'\x20('+this['instance']['wuid']+_0x233422(0x63b)),null;let _0x5481a7=_0x24d9ab[_0x233422(0x349)][_0x233422(0x2bd)][_0x233422(0x730)]['id'];this[_0x233422(0x588)]['verbose'](this[_0x233422(0x3ae)]+'\x20('+this[_0x233422(0x60b)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x5481a7);let _0x288cc5={'key':{'id':_0x5481a7}},_0x1bd574=_0x3c715d[_0x233422(0x885)];_0x24d9ab['chatLog'][_0x233422(0x616)]['_'+_0x1bd574+_0x233422(0x8bd)]=null,_0x24d9ab[_0x233422(0x349)][_0x233422(0x616)]['_'+_0x1bd574+_0x233422(0x273)]=null,_0x24d9ab['chatLog'][_0x233422(0x616)]['_'+_0x1bd574+_0x233422(0x891)]=null,_0x24d9ab[_0x233422(0x349)][_0x233422(0x616)]['_'+_0x1bd574+'.type']=_0x24d9ab[_0x233422(0x349)][_0x233422(0x2bd)][_0x233422(0x1fa)];try{let _0x496aa7=await this[_0x233422(0x8d1)](_0x288cc5);this[_0x233422(0x588)][_0x233422(0x642)](this[_0x233422(0x3ae)]+'\x20('+this[_0x233422(0x60b)]['wuid']+_0x233422(0x593)),_0x24d9ab[_0x233422(0x349)]['realVariables']['_'+_0x1bd574+_0x233422(0x315)]=_0x496aa7[_0x233422(0x67e)],_0x24d9ab[_0x233422(0x349)][_0x233422(0x616)]['_'+_0x1bd574+_0x233422(0x273)]=_0x496aa7[_0x233422(0x771)];let _0x12b878=_0x496aa7[_0x233422(0x771)][_0x233422(0x1f7)](/\/(\w+)$/),_0x15c1cc=_0x12b878?_0x12b878[0x1]:null;_0x24d9ab[_0x233422(0x349)][_0x233422(0x616)]['_'+_0x1bd574+_0x233422(0x891)]=_0x15c1cc,this[_0x233422(0x588)][_0x233422(0x642)](this[_0x233422(0x3ae)]+'\x20('+this['instance'][_0x233422(0x3ad)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x1bd574+'\x27.');}catch(_0xe33bd1){this['logger'][_0x233422(0x71a)](this['instanceName']+'\x20('+this[_0x233422(0x60b)][_0x233422(0x3ad)]+_0x233422(0x44c)+_0xe33bd1['message']);}let _0x1db439=_0x24d9ab[_0x233422(0x349)]['lastReceivedMessage'][_0x233422(0x8de)]||_0x24d9ab['chatLog'][_0x233422(0x2bd)][_0x233422(0x2b8)]||_0x24d9ab[_0x233422(0x349)][_0x233422(0x2bd)][_0x233422(0x624)];try{_0x24d9ab[_0x233422(0x349)]['realVariables']||(_0x24d9ab['chatLog']['realVariables']={});let _0x2489a3=_0x24d9ab['chatLog'][_0x233422(0x616)][_0x1bd574];_0x24d9ab[_0x233422(0x349)][_0x233422(0x616)][_0x1bd574]=_0x1db439;let _0x53d750={'variable':_0x1bd574,'oldValue':_0x2489a3,'newValue':_0x1db439};this[_0x233422(0x336)](_0x24d9ab,_0x3c715d,_0x53d750),this[_0x233422(0x588)][_0x233422(0x642)](this[_0x233422(0x3ae)]+'\x20('+this[_0x233422(0x60b)][_0x233422(0x3ad)]+_0x233422(0x731));}catch(_0x590a2c){let _0x3af1d0={'error':!0x0,'errorLog':_0x590a2c[_0x233422(0x413)]()};return this[_0x233422(0x336)](_0x24d9ab,_0x3c715d,_0x3af1d0),this['logger'][_0x233422(0x71a)](this[_0x233422(0x3ae)]+'\x20('+this[_0x233422(0x60b)][_0x233422(0x3ad)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x590a2c instanceof Error?_0x590a2c[_0x233422(0x239)]:JSON[_0x233422(0x254)](_0x590a2c,null,0x2))),null;}}async[a0_0x2b042e(0x7d4)](_0x359edc,_0x269414){const _0x4ce8fb=a0_0x2b042e;if(this[_0x4ce8fb(0x588)][_0x4ce8fb(0x642)](this[_0x4ce8fb(0x3ae)]+'\x20('+this[_0x4ce8fb(0x60b)][_0x4ce8fb(0x3ad)]+_0x4ce8fb(0x8b1)),!_0x359edc||!_0x269414)return this[_0x4ce8fb(0x588)][_0x4ce8fb(0x71a)](this['instanceName']+'\x20('+this[_0x4ce8fb(0x60b)][_0x4ce8fb(0x3ad)]+_0x4ce8fb(0x63b)),null;let _0x4dad49=Date[_0x4ce8fb(0x71e)](),_0x889803=parseInt(_0x269414[_0x4ce8fb(0x727)],0xa);if(isNaN(_0x889803))return this[_0x4ce8fb(0x588)][_0x4ce8fb(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x4ce8fb(0x3ad)]+_0x4ce8fb(0x470)),null;let _0x492701={'newStoppedUntil':_0x4dad49+_0x889803*0x3c*0x3e8};return await this[_0x4ce8fb(0x336)](_0x359edc,_0x269414,_0x492701,!0x0),null;}async[a0_0x2b042e(0x6f6)](_0x46928f,_0x1a7cc3){const _0x3194ba=a0_0x2b042e;try{switch(_0x1a7cc3[_0x3194ba(0x606)]['command']){case'sendText':await this[_0x3194ba(0x484)](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x817):await this[_0x3194ba(0x5f9)](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x45b):await this['uazapiSendLocation'](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x3aa):await this[_0x3194ba(0x6ce)](_0x46928f,_0x1a7cc3);break;case'sendContact':await this[_0x3194ba(0x3b8)](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x3d0):await this[_0x3194ba(0x301)](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x291):await this['uazapiSendMenu'](_0x46928f,_0x1a7cc3);break;case _0x3194ba(0x7ef):await this[_0x3194ba(0x4d9)](_0x46928f,_0x1a7cc3);break;default:this[_0x3194ba(0x588)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3194ba(0x3ad)]+_0x3194ba(0x70c)+_0x1a7cc3[_0x3194ba(0x606)][_0x3194ba(0x91f)]);}}catch(_0x55a573){this[_0x3194ba(0x588)][_0x3194ba(0x71a)](this['instanceName']+'\x20('+this[_0x3194ba(0x60b)][_0x3194ba(0x3ad)]+_0x3194ba(0x2cf)+(_0x55a573 instanceof Error?_0x55a573[_0x3194ba(0x239)]:JSON['stringify'](_0x55a573,null,0x2)));}}async['updateConversation'](_0x5dbde4,_0x2cade4,_0x175d06,_0x5081f4=!0x1,_0x55183b=!0x1){const _0x267095=a0_0x2b042e;_0x5dbde4['chatLog'][_0x267095(0x741)]||(_0x5dbde4['chatLog'][_0x267095(0x741)]=[]);let _0x1bbaf0=(_0x5dbde4[_0x267095(0x349)][_0x267095(0x741)]?.[_0x267095(0x3f7)]??0x0)+0x1,_0x3373b4=_0x5dbde4[_0x267095(0x349)][_0x267095(0x741)][_0x267095(0x7ca)](_0xfde72=>String(_0xfde72[_0x267095(0x75e)])===String(_0x2cade4[_0x267095(0x48a)]))[_0x267095(0x3f7)]+0x1,_0x491b1b=_0x175d06?.['onTime']??Date[_0x267095(0x71e)](),_0x35478c=_0x175d06?.[_0x267095(0x71a)]?_0x175d06[_0x267095(0x6f8)]??_0x175d06[_0x267095(0x71a)][_0x267095(0x413)]():void 0x0,_0x39f899={'onTime':_0x491b1b,'blockId':_0x2cade4[_0x267095(0x48a)],'order':_0x1bbaf0,'activatedCount':_0x3373b4,'error':_0x175d06?.[_0x267095(0x71a)]??!0x1,'messageId':_0x175d06?.['messageId'],'apiResponse':_0x175d06?.['apiResponse'],'apiResponseString':_0x175d06?.[_0x267095(0x90a)]?JSON[_0x267095(0x254)](_0x175d06?.['apiResponse']):void 0x0,'variable':_0x175d06?.[_0x267095(0x916)],'oldValue':_0x175d06?.[_0x267095(0x319)],'newValue':_0x175d06?.['newValue'],'newStoppedUntil':_0x175d06?.[_0x267095(0x841)],'moreLogs':_0x175d06?.[_0x267095(0x40c)],'errorLog':_0x35478c};if(_0x175d06[_0x267095(0x40c)]&&_0x175d06[_0x267095(0x40c)][_0x267095(0x3f7)]>0x0){let _0x555666=_0x175d06[_0x267095(0x40c)][_0x267095(0x633)](_0x495d01=>this['replaceVariablesLogs'](_0x495d01,_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)]));_0x39f899[_0x267095(0x40c)]=_0x555666;}if(_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)]||(_0x5dbde4['chatLog'][_0x267095(0x616)]={}),_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)][_0x267095(0x310)]=String(_0x3373b4),_0x5dbde4[_0x267095(0x349)]['realVariables'][_0x267095(0x5b8)]=String(_0x175d06['error']??!0x1),_0x5dbde4[_0x267095(0x349)][_0x267095(0x741)][_0x267095(0x2f6)](_0x39f899),_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)][_0x267095(0x692)]&&_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)][_0x267095(0x692)]!==_0x5dbde4[_0x267095(0x786)]){let _0x5db6d9=(await this['whatsappNumber']({'numbers':[_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)][_0x267095(0x692)]]}))[0x0][_0x267095(0x697)];_0x5dbde4[_0x267095(0x349)]['realVariables'][_0x267095(0x692)]=_0x5db6d9,_0x5dbde4[_0x267095(0x786)]=_0x5db6d9;try{let _0x43a984={'_id':{'$ne':_0x5dbde4[_0x267095(0x48a)]},'remoteJid':_0x5db6d9,'status':'open'},_0x34a5a3={'status':_0x267095(0x2f8)};await this[_0x267095(0x5b9)][_0x267095(0x82e)][_0x267095(0x8f9)](_0x43a984,_0x34a5a3,this['instance'][_0x267095(0x3ad)]),this[_0x267095(0x588)][_0x267095(0x642)](this[_0x267095(0x3ae)]+'\x20('+this[_0x267095(0x60b)][_0x267095(0x3ad)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x5edf9c){this[_0x267095(0x588)][_0x267095(0x71a)](this[_0x267095(0x3ae)]+'\x20('+this[_0x267095(0x60b)][_0x267095(0x3ad)]+_0x267095(0x694)+_0x5edf9c[_0x267095(0x239)]);}try{let _0x4885d3=_0x5dbde4[_0x267095(0x349)][_0x267095(0x616)],_0x1aceca=await this[_0x267095(0x2ab)](_0x5db6d9),_0x436f4c={..._0x4885d3,..._0x1aceca,'_remoteJid':_0x5db6d9};_0x5dbde4[_0x267095(0x349)]['realVariables']=_0x436f4c;}catch(_0x135db5){this[_0x267095(0x588)][_0x267095(0x71a)](this[_0x267095(0x3ae)]+'\x20('+this[_0x267095(0x60b)]['wuid']+_0x267095(0x277)+_0x135db5['message']);}}_0x5dbde4[_0x267095(0x349)][_0x267095(0x276)]=_0x2cade4[_0x267095(0x48a)]['toString'](),_0x5dbde4[_0x267095(0x349)]['lastSendMessage']&&(_0x5dbde4['chatLog'][_0x267095(0x8c9)]=_0x5dbde4[_0x267095(0x349)][_0x267095(0x8c9)]),_0x5dbde4[_0x267095(0x349)]['lastReceivedMessage']&&(_0x5dbde4[_0x267095(0x349)][_0x267095(0x2bd)]=_0x5dbde4[_0x267095(0x349)][_0x267095(0x2bd)]),_0x5dbde4[_0x267095(0x349)][_0x267095(0x712)]&&(_0x5dbde4[_0x267095(0x349)][_0x267095(0x712)]=_0x5dbde4[_0x267095(0x349)][_0x267095(0x712)]),_0x55183b&&(_0x5dbde4['status']=_0x267095(0x2f8)),_0x5081f4?this[_0x267095(0x24f)](_0x5dbde4):this[_0x267095(0x55a)](_0x5dbde4,_0x2cade4);}['replaceVariablesLogs'](_0x4af759,_0x805223){const _0x17ec54=a0_0x2b042e;return _0x4af759[_0x17ec54(0x417)](/\{\{([^}]+)\}\}/g,(_0x13fcf0,_0x51cff5)=>_0x805223[_0x51cff5]?'{{'+_0x51cff5+'}}\x20->\x20\x22'+_0x805223[_0x51cff5]+'\x22':'{{'+_0x51cff5+_0x17ec54(0x37a));}async[a0_0x2b042e(0x24f)](_0x5c87af){const _0x3de9ce=a0_0x2b042e;try{let _0x425c59=Object[_0x3de9ce(0x894)](_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x616)])[_0x3de9ce(0x633)](([_0xfc2e87,_0x20e316])=>({'name':_0xfc2e87,'value':_0x20e316})),_0x26e24b={'status':_0x5c87af[_0x3de9ce(0x3cd)],'remoteJid':_0x5c87af[_0x3de9ce(0x786)],'blocks':_0x5c87af[_0x3de9ce(0x848)],'waitingMenu_id':_0x5c87af['waitingMenu_id'],'waitingMenu_text':_0x5c87af['waitingMenu_text'],'waitingMenu_replyOptions':_0x5c87af['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x5c87af['chatLog'][_0x3de9ce(0x276)],'lastSendMessage':_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x8c9)],'lastReceivedMessage':_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x2bd)],'lastCondition':_0x5c87af[_0x3de9ce(0x349)]['lastCondition'],'chatVariables':_0x425c59,'realVariables':_0x5c87af['chatLog'][_0x3de9ce(0x616)],'blockLogs':_0x5c87af[_0x3de9ce(0x349)]['blockLogs']}},_0x23d151=await this[_0x3de9ce(0x5b9)][_0x3de9ce(0x82e)][_0x3de9ce(0x2ba)](_0x5c87af[_0x3de9ce(0x48a)],_0x26e24b,this[_0x3de9ce(0x60b)][_0x3de9ce(0x3ad)]);if(_0x23d151){this[_0x3de9ce(0x588)]['verbose'](this[_0x3de9ce(0x3ae)]+'\x20('+this[_0x3de9ce(0x60b)]['wuid']+_0x3de9ce(0x3f2)+_0x23d151[_0x3de9ce(0x48a)]);try{let _0x37745f=[_0x3de9ce(0x8a6),'nomecompleto',_0x3de9ce(0x4c2),_0x3de9ce(0x509),_0x3de9ce(0x3cd),_0x3de9ce(0x2c4),_0x3de9ce(0x32c),_0x3de9ce(0x407),_0x3de9ce(0x536),_0x3de9ce(0x5f6)];if(!this[_0x3de9ce(0x69f)]&&(await this[_0x3de9ce(0x539)](),!this[_0x3de9ce(0x69f)]))throw new Error(_0x3de9ce(0x43e));let _0x4e1ec1=this['AutomateSystem']?.['customFields']['map'](_0x4f7783=>_0x4f7783['name']),_0x1902cc={};Object[_0x3de9ce(0x894)](_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x616)])['forEach'](([_0x2fb403,_0x7c5e41])=>{const _0x37af0c=_0x3de9ce;_0x37745f[_0x37af0c(0x8ef)](_0x2fb403)&&(_0x2fb403==='tags'&&typeof _0x7c5e41==_0x37af0c(0x62d)?_0x1902cc[_0x2fb403]=_0x7c5e41[_0x37af0c(0x5d7)](',')[_0x37af0c(0x633)](_0x4162db=>_0x4162db[_0x37af0c(0x888)]())['filter'](_0x574e1d=>_0x574e1d!==''):_0x2fb403==='etiquetas'&&typeof _0x7c5e41==_0x37af0c(0x62d)?_0x1902cc[_0x2fb403]=_0x7c5e41[_0x37af0c(0x5d7)](',')[_0x37af0c(0x633)](_0x2c3e9b=>_0x2c3e9b[_0x37af0c(0x888)]())[_0x37af0c(0x7ca)](_0x14625e=>_0x14625e!==''):_0x1902cc[_0x2fb403]=_0x7c5e41);});let _0x5e7ff9=_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x741)][_0x5c87af[_0x3de9ce(0x349)][_0x3de9ce(0x741)][_0x3de9ce(0x3f7)]-0x1];if(_0x5e7ff9){let _0x503a06=_0x5e7ff9[_0x3de9ce(0x841)];_0x503a06!==void 0x0&&(_0x1902cc[_0x3de9ce(0x6cb)]=_0x503a06[_0x3de9ce(0x413)]());}let _0x422831=_0x425c59['filter'](_0x2b4cb6=>_0x4e1ec1[_0x3de9ce(0x8ef)](_0x2b4cb6[_0x3de9ce(0x69b)]));this['logger'][_0x3de9ce(0x642)](this['instanceName']+'\x20('+this[_0x3de9ce(0x60b)][_0x3de9ce(0x3ad)]+_0x3de9ce(0x6f2)),this[_0x3de9ce(0x588)][_0x3de9ce(0x642)](_0x1902cc),this[_0x3de9ce(0x588)][_0x3de9ce(0x642)](this[_0x3de9ce(0x3ae)]+'\x20('+this[_0x3de9ce(0x60b)]['wuid']+_0x3de9ce(0x3c2)),this['logger'][_0x3de9ce(0x642)](_0x422831);let _0x2b76ea=_0x422831['map'](_0x704fca=>{const _0x22983b=_0x3de9ce;let _0x151e97=this['AutomateSystem']?.[_0x22983b(0x5ba)][_0x22983b(0x6da)](_0x3b49bc=>_0x3b49bc[_0x22983b(0x69b)]===_0x704fca[_0x22983b(0x69b)]);if(!_0x151e97)throw new Error(_0x22983b(0x72f)+_0x704fca[_0x22983b(0x69b)]);return{'_id':_0x151e97[_0x22983b(0x48a)],'value':_0x704fca[_0x22983b(0x64b)]};});this[_0x3de9ce(0x588)][_0x3de9ce(0x642)](this[_0x3de9ce(0x3ae)]+'\x20('+this['instance'][_0x3de9ce(0x3ad)]+_0x3de9ce(0x6c1)),this[_0x3de9ce(0x588)][_0x3de9ce(0x642)](_0x2b76ea),await this[_0x3de9ce(0x445)](_0x5c87af['remoteJid'],_0x1902cc,_0x2b76ea);}catch(_0x35f8e8){this['logger']['error'](this[_0x3de9ce(0x3ae)]+'\x20('+this[_0x3de9ce(0x60b)][_0x3de9ce(0x3ad)]+_0x3de9ce(0x8bc)+(_0x35f8e8 instanceof Error?_0x35f8e8[_0x3de9ce(0x239)]:JSON[_0x3de9ce(0x254)](_0x35f8e8,null,0x2)));}}else this['logger'][_0x3de9ce(0x71a)](this[_0x3de9ce(0x3ae)]+'\x20('+this['instance']['wuid']+_0x3de9ce(0x68c));}catch(_0x435da5){this[_0x3de9ce(0x588)][_0x3de9ce(0x71a)](this[_0x3de9ce(0x3ae)]+'\x20('+this[_0x3de9ce(0x60b)][_0x3de9ce(0x3ad)]+_0x3de9ce(0x922)+(_0x435da5 instanceof Error?_0x435da5[_0x3de9ce(0x239)]:JSON[_0x3de9ce(0x254)](_0x435da5,null,0x2)));}}async[a0_0x2b042e(0x445)](_0x5a7064,_0x493620,_0x3e18a8){const _0x1859e9=a0_0x2b042e;try{let _0x12851a={'leadInfo.leadnome':_0x493620[_0x1859e9(0x8a6)],'leadInfo.nomecompleto':_0x493620['nomecompleto'],'leadInfo.email':_0x493620[_0x1859e9(0x4c2)],'leadInfo.cpf':_0x493620[_0x1859e9(0x509)],'leadInfo.status':_0x493620[_0x1859e9(0x3cd)],'leadInfo.notas':_0x493620[_0x1859e9(0x2c4)],'leadInfo.responsavelid':_0x493620['responsavelid'],'leadInfo.tags':_0x493620['tags'],'leadInfo.etiquetas':_0x493620['etiquetas'],'leadInfo.customFields':_0x3e18a8,'leadInfo.atendimentoAberto':_0x493620['atendimentoAberto']},_0x304aa8=await this[_0x1859e9(0x5b9)][_0x1859e9(0x69d)]['findOne']({'where':{'_id':_0x5a7064}},this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]);if(!_0x304aa8)return'chat\x20não\x20encontrado';let _0x235f37=new Set(_0x304aa8['leadInfo'][_0x1859e9(0x536)]||[]),_0x23c0df=new Set(_0x493620[_0x1859e9(0x536)]||[]),_0x3a8f3e=await this['repository'][_0x1859e9(0x72b)][_0x1859e9(0x6da)]({'where':{}},this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]),_0x1f5df5=new Set(_0x3a8f3e['map'](_0x1a7f1a=>_0x1a7f1a[_0x1859e9(0x48a)])),_0x43263f=[..._0x23c0df][_0x1859e9(0x7ca)](_0x2fc62c=>!_0x235f37[_0x1859e9(0x2ff)](_0x2fc62c)&&_0x1f5df5['has'](_0x2fc62c)),_0xa430bc=[..._0x235f37][_0x1859e9(0x7ca)](_0x4a5225=>!_0x23c0df[_0x1859e9(0x2ff)](_0x4a5225));for(let _0x215cbe of _0x43263f)await this[_0x1859e9(0x58f)](_0x215cbe,_0x304aa8[_0x1859e9(0x48a)]),_0x235f37[_0x1859e9(0x878)](_0x215cbe);for(let _0x361c87 of _0xa430bc)await this[_0x1859e9(0x3f8)](_0x361c87,_0x304aa8[_0x1859e9(0x48a)]),_0x235f37[_0x1859e9(0x231)](_0x361c87);if('desativadoFluxoAte'in _0x493620){let _0x13996f=_0x493620[_0x1859e9(0x6cb)];_0x12851a[_0x1859e9(0x498)]=_0x13996f?Number(_0x13996f):null;}if(_0x1859e9(0x5f6)in _0x493620){let _0x1e20fc=_0x493620[_0x1859e9(0x5f6)][_0x1859e9(0x238)]();_0x12851a[_0x1859e9(0x639)]=_0x1e20fc===_0x1859e9(0x2df)||_0x1e20fc==='1'||_0x1e20fc===_0x1859e9(0x31e)||_0x1e20fc==='sim';}let _0x37ae62=await this[_0x1859e9(0x5b9)][_0x1859e9(0x69d)][_0x1859e9(0x2ba)]({'where':{'_id':_0x5a7064}},_0x12851a,this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]);_0x37ae62?(this['logger']['verbose'](this[_0x1859e9(0x3ae)]+'\x20('+this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x37ae62['_id']),q(this[_0x1859e9(0x3ae)],_0x1859e9(0x23e),{'chat':_0x37ae62})):this[_0x1859e9(0x588)][_0x1859e9(0x71a)](this[_0x1859e9(0x3ae)]+'\x20('+this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]+_0x1859e9(0x3b5));}catch(_0x8d8902){this['logger'][_0x1859e9(0x71a)](this['instanceName']+'\x20('+this[_0x1859e9(0x60b)][_0x1859e9(0x3ad)]+_0x1859e9(0x7ab)+(_0x8d8902 instanceof Error?_0x8d8902[_0x1859e9(0x239)]:JSON[_0x1859e9(0x254)](_0x8d8902,null,0x2)));}}async[a0_0x2b042e(0x88f)](_0x25b429,_0x42c454){const _0x26ab8b=a0_0x2b042e;this[_0x26ab8b(0x588)][_0x26ab8b(0x642)](this[_0x26ab8b(0x3ae)]+'\x20('+this[_0x26ab8b(0x60b)][_0x26ab8b(0x3ad)]+_0x26ab8b(0x7c2)+_0x42c454);try{let _0x372b67=await this[_0x26ab8b(0x5b9)][_0x26ab8b(0x69d)][_0x26ab8b(0x2ba)]({'where':{'_id':_0x25b429[_0x26ab8b(0x786)]}},{'leadInfo.desativadoFluxoAte':_0x42c454},this[_0x26ab8b(0x60b)][_0x26ab8b(0x3ad)]);this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x26ab8b(0x60b)][_0x26ab8b(0x3ad)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x25b429['_id']),this[_0x26ab8b(0x588)]['verbose'](this[_0x26ab8b(0x3ae)]+'\x20('+this[_0x26ab8b(0x60b)][_0x26ab8b(0x3ad)]+'):\x20atualização\x20chat:\x20'+JSON[_0x26ab8b(0x254)](_0x372b67,null,0x2)),_0x372b67&&q(this[_0x26ab8b(0x3ae)],'chats',{'chat':_0x372b67});}catch(_0x451d85){this[_0x26ab8b(0x588)][_0x26ab8b(0x71a)](this[_0x26ab8b(0x3ae)]+'\x20('+this['instance']['wuid']+_0x26ab8b(0x635)+(_0x451d85 instanceof Error?_0x451d85[_0x26ab8b(0x239)]:JSON[_0x26ab8b(0x254)](_0x451d85,null,0x2)));}}async[a0_0x2b042e(0x7aa)](_0x5a268){const _0x281cf1=a0_0x2b042e;try{this['logger']['verbose'](this[_0x281cf1(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow...');let _0xa09d9a=_0x5a268['replace'](/\D/g,''),_0x21079e=this[_0x281cf1(0x69f)][_0x281cf1(0x8df)]['find'](_0x323939=>_0x323939[_0x281cf1(0x862)]===_0xa09d9a);if(_0x21079e||(this[_0x281cf1(0x588)][_0x281cf1(0x642)](this[_0x281cf1(0x3ae)]+'\x20('+this[_0x281cf1(0x60b)][_0x281cf1(0x3ad)]+_0x281cf1(0x8cd)),_0x21079e=this[_0x281cf1(0x69f)][_0x281cf1(0x8df)]['find'](_0xe59619=>_0xe59619['default']===!0x0)),!_0x21079e)return this[_0x281cf1(0x588)][_0x281cf1(0x642)](this[_0x281cf1(0x3ae)]+'\x20('+this['instance'][_0x281cf1(0x3ad)]+_0x281cf1(0x295)),null;let _0x516e91=await this[_0x281cf1(0x5b9)][_0x281cf1(0x1ff)]['findOne']({'where':{'_id':_0x21079e[_0x281cf1(0x48a)]}});if(!_0x516e91||!_0x516e91[_0x281cf1(0x47e)]?.[_0x281cf1(0x8ef)](this[_0x281cf1(0x60b)][_0x281cf1(0x3ad)]))throw this[_0x281cf1(0x588)][_0x281cf1(0x71a)](this['instanceName']+'\x20('+this[_0x281cf1(0x60b)][_0x281cf1(0x3ad)]+_0x281cf1(0x800)+_0x516e91['_id']+_0x281cf1(0x34d)),new m('Flow\x20\x27'+_0x516e91[_0x281cf1(0x48a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x516e91;}catch(_0x1facce){return this['logger'][_0x281cf1(0x71a)](this['instanceName']+'\x20('+this[_0x281cf1(0x60b)][_0x281cf1(0x3ad)]+_0x281cf1(0x32e)+(_0x1facce instanceof Error?_0x1facce[_0x281cf1(0x239)]:JSON[_0x281cf1(0x254)](_0x1facce,null,0x2))),null;}}async[a0_0x2b042e(0x6b5)](_0x1e3e2e,_0x4ee92f){const _0x3c4ec2=a0_0x2b042e;try{let _0x144fa2=!!_0x4ee92f[_0x3c4ec2(0x624)],_0xef319c=_0x4ee92f['quoted'],_0x487844=null;if(this[_0x3c4ec2(0x588)]['verbose'](this[_0x3c4ec2(0x3ae)]+'\x20('+this['instance']['wuid']+_0x3c4ec2(0x7c8)+_0x144fa2+'\x20quoted:\x20'+_0xef319c),_0x144fa2){this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this['instanceName']+'\x20('+this['instance'][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x71b));let _0x2ed665={'where':{'remoteJid':_0x1e3e2e,'waitingMenu_id':_0xef319c}};if(_0x487844=await this[_0x3c4ec2(0x5b9)][_0x3c4ec2(0x82e)][_0x3c4ec2(0x296)](_0x2ed665,this['instance'][_0x3c4ec2(0x3ad)]),!_0x487844)return this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this['instanceName']+'\x20('+this[_0x3c4ec2(0x60b)]['wuid']+_0x3c4ec2(0x750)),null;let _0x3b353f=Date[_0x3c4ec2(0x71e)](),_0x142fc7=_0x487844?.[_0x3c4ec2(0x846)]||0x0,_0x4efcb3=_0x3b353f-_0x142fc7*0x3c*0x3e8;if(_0x487844[_0x3c4ec2(0x700)]<_0x4efcb3){this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x552));let _0x161938={'number':_0x487844[_0x3c4ec2(0x786)],'options':{'delay':0x0},'textMessage':{'text':_0x487844[_0x3c4ec2(0x5da)]}};await this['textMessage'](_0x161938);let _0x48a58d={'status':_0x3c4ec2(0x2f8),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3c4ec2(0x5b9)]['flowConversation']['updateOne'](_0x487844[_0x3c4ec2(0x48a)],_0x48a58d,this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]),null;}return _0x487844['lastInteraction']=Date[_0x3c4ec2(0x71e)](),_0x487844[_0x3c4ec2(0x349)][_0x3c4ec2(0x2bd)]=_0x4ee92f,_0x487844;}else{this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)]['wuid']+_0x3c4ec2(0x82b)+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x8a9));let _0x806c77={'where':{'remoteJid':_0x1e3e2e,'status':_0x3c4ec2(0x81f)}};if(_0x487844=await this[_0x3c4ec2(0x5b9)][_0x3c4ec2(0x82e)][_0x3c4ec2(0x296)](_0x806c77,this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]),!_0x487844){let _0x1c7165=await this['findFlow'](_0x1e3e2e);if(_0x1c7165&&(_0x487844=await this[_0x3c4ec2(0x26a)](_0x1c7165,_0x4ee92f[_0x3c4ec2(0x730)],_0x4ee92f)),!_0x487844)return null;}let _0x52bafe=Date[_0x3c4ec2(0x71e)](),_0x39da68=_0x487844?.[_0x3c4ec2(0x846)]||0x0,_0x545b6f=_0x52bafe-_0x39da68*0x3c*0x3e8;if(this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)]['wuid']+'):\x20Current\x20Time:\x20'+_0x52bafe+_0x3c4ec2(0x4e1)+_0x39da68+_0x3c4ec2(0x895)+_0x545b6f),this['logger'][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x3c4ec2(0x642)](this['instanceName']+'\x20('+this[_0x3c4ec2(0x60b)]['wuid']+_0x3c4ec2(0x91d)+_0x487844[_0x3c4ec2(0x700)]),this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x28a)+_0x545b6f),_0x487844[_0x3c4ec2(0x700)]<_0x545b6f){this[_0x3c4ec2(0x588)][_0x3c4ec2(0x642)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x6b7));let _0x1bedbf=await this['findFlow'](_0x1e3e2e);if(_0x1bedbf===null)return null;_0x487844&&await this[_0x3c4ec2(0x5b9)][_0x3c4ec2(0x82e)][_0x3c4ec2(0x2ba)](_0x487844[_0x3c4ec2(0x48a)],{'status':'closed'},this[_0x3c4ec2(0x60b)]['wuid']),_0x487844=await this[_0x3c4ec2(0x26a)](_0x1bedbf,_0x4ee92f[_0x3c4ec2(0x730)],_0x4ee92f);}return _0x487844[_0x3c4ec2(0x700)]=_0x52bafe,_0x487844[_0x3c4ec2(0x349)][_0x3c4ec2(0x2bd)]=_0x4ee92f,_0x487844;}}catch(_0x3849a4){return this[_0x3c4ec2(0x588)][_0x3c4ec2(0x71a)](this[_0x3c4ec2(0x3ae)]+'\x20('+this[_0x3c4ec2(0x60b)][_0x3c4ec2(0x3ad)]+_0x3c4ec2(0x45e)+(_0x3849a4 instanceof Error?_0x3849a4[_0x3c4ec2(0x239)]:JSON['stringify'](_0x3849a4,null,0x2))),null;}}async['createNewConversation'](_0x3b9d7a,_0x2de221,_0x5980d9){const _0x326de8=a0_0x2b042e;this[_0x326de8(0x588)][_0x326de8(0x642)](this[_0x326de8(0x3ae)]+'\x20('+this[_0x326de8(0x60b)][_0x326de8(0x3ad)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x468589=require(_0x326de8(0x31f))[_0x326de8(0x5fa)],_0x1eddfa=Date[_0x326de8(0x71e)](),_0x2ccd68=_0x326de8(0x52e),_0xf14794=_0x2de221[_0x326de8(0x35c)]?null:_0x5980d9,_0x44bbcf=_0x2de221['fromMe']?_0x5980d9:null,_0x528252=_0x2de221[_0x326de8(0x786)],_0x262560=this[_0x326de8(0x69f)][_0x326de8(0x8df)][_0x326de8(0x6da)](_0x100bb6=>_0x100bb6['_id']===_0x3b9d7a[_0x326de8(0x48a)]?.[_0x326de8(0x413)]()),_0x40209d=_0x262560?.[_0x326de8(0x846)]??_0x3b9d7a[_0x326de8(0x846)]??0x0,_0x8a0787=_0x262560?.['readMessages']??_0x3b9d7a['readMessages']??!0x1;await this[_0x326de8(0x4eb)](_0x528252);let _0xc654b5={'flowId':_0x3b9d7a['_id'],..._0x3b9d7a,'chatLog':null},_0x34aa66=await this[_0x326de8(0x37f)](_0xc654b5[_0x326de8(0x4a4)]),_0x1b7bb5=await this[_0x326de8(0x2ab)](_0x528252),_0x2fcacd={..._0x34aa66,..._0x1b7bb5,'_remoteJid':_0x528252},_0x2d48de={'lastReceivedMessage':_0xf14794,'lastSendMessage':_0x44bbcf,'lastBlockId':_0x2ccd68,'lastCondition':!0x0,'realVariables':_0x2fcacd};_0xc654b5['chatLog']=_0x2d48de,delete _0xc654b5[_0x326de8(0x48a)],_0xc654b5[_0x326de8(0x48a)]=new _0x468589(),_0xc654b5[_0x326de8(0x700)]=_0x1eddfa,_0xc654b5['status']=_0x326de8(0x81f),_0xc654b5['remoteJid']=_0x528252,_0xc654b5[_0x326de8(0x846)]=_0x40209d,_0xc654b5[_0x326de8(0x767)]=_0x8a0787;let _0x2c321f=await this[_0x326de8(0x5b9)][_0x326de8(0x82e)][_0x326de8(0x2ba)](_0xc654b5[_0x326de8(0x48a)],_0xc654b5,this['instance'][_0x326de8(0x3ad)]);return this[_0x326de8(0x588)]['verbose'](this[_0x326de8(0x3ae)]+'\x20('+this['instance'][_0x326de8(0x3ad)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2c321f?_0xc654b5:null;}catch(_0x1a6dfe){return this[_0x326de8(0x588)][_0x326de8(0x71a)](this[_0x326de8(0x3ae)]+'\x20('+this['instance'][_0x326de8(0x3ad)]+_0x326de8(0x5bb)+(_0x1a6dfe instanceof Error?_0x1a6dfe['message']:JSON[_0x326de8(0x254)](_0x1a6dfe,null,0x2))),_0x1a6dfe;}}async[a0_0x2b042e(0x484)](_0x10ca3d,_0x175a33){const _0x5fcb2d=a0_0x2b042e;let _0x1f471f=_0x10ca3d[_0x5fcb2d(0x786)];_0x175a33[_0x5fcb2d(0x606)]['remoteJid']&&_0x175a33[_0x5fcb2d(0x606)][_0x5fcb2d(0x786)][_0x5fcb2d(0x888)]()!==''&&(_0x1f471f=_0x175a33[_0x5fcb2d(0x606)][_0x5fcb2d(0x786)][_0x5fcb2d(0x888)]()),this['logger'][_0x5fcb2d(0x642)](this[_0x5fcb2d(0x3ae)]+'\x20('+this[_0x5fcb2d(0x60b)][_0x5fcb2d(0x3ad)]+_0x5fcb2d(0x5d9));let _0x3048fe={'number':_0x1f471f,'options':{'delay':_0x175a33[_0x5fcb2d(0x606)][_0x5fcb2d(0x39a)],'linkPreview':_0x175a33['uazapi']['linkPreview']},'textMessage':{'text':_0x175a33['uazapi'][_0x5fcb2d(0x8de)]}};try{let _0x2c8f9f=await this[_0x5fcb2d(0x465)](_0x3048fe);if(_0x2c8f9f){let _0xce4b5f={'_id':_0x2c8f9f[_0x5fcb2d(0x730)]['id'],'_fromMe':_0x2c8f9f['key'][_0x5fcb2d(0x35c)],'_remoteJid':_0x2c8f9f[_0x5fcb2d(0x730)][_0x5fcb2d(0x786)]},_0x153002=(0x0,w[_0x5fcb2d(0x925)])(_0x2c8f9f['message']),_0x5229d4=(0x0,w[_0x5fcb2d(0x44e)])(_0x153002);_0x10ca3d[_0x5fcb2d(0x349)][_0x5fcb2d(0x276)]=_0x175a33[_0x5fcb2d(0x48a)]['toString']();let {message_normalized:_0x45cc27}=this[_0x5fcb2d(0x545)](_0x153002,_0x5229d4,null);_0x10ca3d[_0x5fcb2d(0x349)][_0x5fcb2d(0x8c9)]=await _0x45cc27;let _0x19f637={'messageId':_0x2c8f9f[_0x5fcb2d(0x730)]['id']},_0x21676f=_0x10ca3d[_0x5fcb2d(0x349)][_0x5fcb2d(0x616)];Object[_0x5fcb2d(0x589)](_0x21676f,_0xce4b5f),_0x10ca3d[_0x5fcb2d(0x349)][_0x5fcb2d(0x616)]=_0x21676f,this[_0x5fcb2d(0x336)](_0x10ca3d,_0x175a33,_0x19f637);}else{let _0x40d9bc={'error':!0x0};this[_0x5fcb2d(0x336)](_0x10ca3d,_0x175a33,_0x40d9bc),this[_0x5fcb2d(0x588)][_0x5fcb2d(0x71a)](this[_0x5fcb2d(0x3ae)]+'\x20('+this['instance'][_0x5fcb2d(0x3ad)]+_0x5fcb2d(0x8b6));}}catch(_0x525131){let _0x536d93={'error':!0x0,'errorLog':_0x525131['toString']()};this['updateConversation'](_0x10ca3d,_0x175a33,_0x536d93),this[_0x5fcb2d(0x588)][_0x5fcb2d(0x71a)](this[_0x5fcb2d(0x3ae)]+'\x20('+this[_0x5fcb2d(0x60b)][_0x5fcb2d(0x3ad)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x525131 instanceof Error?_0x525131[_0x5fcb2d(0x239)]:JSON[_0x5fcb2d(0x254)](_0x525131,null,0x2)));}}async[a0_0x2b042e(0x5f9)](_0x3bb94d,_0x42cb5f){const _0xe0ece=a0_0x2b042e;let _0x57bd02=_0x3bb94d['remoteJid'];_0x42cb5f['uazapi'][_0xe0ece(0x786)]&&_0x42cb5f[_0xe0ece(0x606)][_0xe0ece(0x786)]['trim']()!==''&&(_0x57bd02=_0x42cb5f[_0xe0ece(0x606)][_0xe0ece(0x786)][_0xe0ece(0x888)]()),this['logger'][_0xe0ece(0x642)](this[_0xe0ece(0x3ae)]+'\x20('+this[_0xe0ece(0x60b)][_0xe0ece(0x3ad)]+_0xe0ece(0x414));let _0x20f234={'number':_0x57bd02,'options':{'delay':_0x42cb5f[_0xe0ece(0x606)][_0xe0ece(0x39a)],'linkPreview':_0x42cb5f['uazapi'][_0xe0ece(0x334)]},'mediaMessage':{'mediatype':_0x42cb5f[_0xe0ece(0x606)][_0xe0ece(0x2af)],'caption':_0x42cb5f['uazapi']['caption'],'media':_0x42cb5f['uazapi'][_0xe0ece(0x300)],'fileName':_0x42cb5f[_0xe0ece(0x606)][_0xe0ece(0x324)]}};try{let _0x1c2c0b=await this[_0xe0ece(0x645)](_0x20f234);if(_0x1c2c0b){let _0x20560f={'_id':_0x1c2c0b[_0xe0ece(0x730)]['id'],'_fromMe':_0x1c2c0b[_0xe0ece(0x730)]['fromMe'],'_remoteJid':_0x1c2c0b[_0xe0ece(0x730)][_0xe0ece(0x786)]},_0x14ad10=(0x0,w['normalizeMessageContent'])(_0x1c2c0b[_0xe0ece(0x239)]),_0x62f98=(0x0,w[_0xe0ece(0x44e)])(_0x14ad10);_0x3bb94d[_0xe0ece(0x349)]['lastBlockId']=_0x42cb5f['_id'][_0xe0ece(0x413)]();let {message_normalized:_0x22caff}=this[_0xe0ece(0x545)](_0x14ad10,_0x62f98,null);_0x3bb94d[_0xe0ece(0x349)][_0xe0ece(0x8c9)]=await _0x22caff;let _0x19cd12={'messageId':_0x1c2c0b['key']['id']},_0x2ea374=_0x3bb94d[_0xe0ece(0x349)][_0xe0ece(0x616)];Object[_0xe0ece(0x589)](_0x2ea374,_0x20560f),_0x3bb94d[_0xe0ece(0x349)]['realVariables']=_0x2ea374,this[_0xe0ece(0x336)](_0x3bb94d,_0x42cb5f,_0x19cd12);}else{let _0x23e22c={'error':!0x0};this['updateConversation'](_0x3bb94d,_0x42cb5f,_0x23e22c),this[_0xe0ece(0x588)][_0xe0ece(0x71a)](this[_0xe0ece(0x3ae)]+'\x20('+this[_0xe0ece(0x60b)][_0xe0ece(0x3ad)]+_0xe0ece(0x5a4));}}catch(_0x2077ba){let _0x242bd8={'error':!0x0,'errorLog':_0x2077ba[_0xe0ece(0x413)]()};this[_0xe0ece(0x336)](_0x3bb94d,_0x42cb5f,_0x242bd8),this['logger'][_0xe0ece(0x71a)](this[_0xe0ece(0x3ae)]+'\x20('+this['instance']['wuid']+_0xe0ece(0x7b0)+(_0x2077ba instanceof Error?_0x2077ba[_0xe0ece(0x239)]:JSON[_0xe0ece(0x254)](_0x2077ba,null,0x2)));}}async[a0_0x2b042e(0x64a)](_0x14eb60,_0xa166e9){const _0x41ec13=a0_0x2b042e;let _0x492b00=_0x14eb60[_0x41ec13(0x786)];_0xa166e9[_0x41ec13(0x606)]['remoteJid']&&_0xa166e9[_0x41ec13(0x606)]['remoteJid']['trim']()!==''&&(_0x492b00=_0xa166e9[_0x41ec13(0x606)]['remoteJid']['trim']()),this[_0x41ec13(0x588)][_0x41ec13(0x642)](this['instanceName']+'\x20('+this['instance'][_0x41ec13(0x3ad)]+_0x41ec13(0x65b));let _0x19ca70={'number':_0x492b00,'options':{'delay':_0xa166e9[_0x41ec13(0x606)][_0x41ec13(0x39a)]},'locationMessage':{'name':_0xa166e9[_0x41ec13(0x606)]['name'],'address':_0xa166e9[_0x41ec13(0x606)]['address'],'latitude':_0xa166e9[_0x41ec13(0x606)][_0x41ec13(0x8d9)],'longitude':_0xa166e9[_0x41ec13(0x606)][_0x41ec13(0x3a7)]}};try{let _0x4f2d4f=await this[_0x41ec13(0x311)](_0x19ca70);if(_0x4f2d4f){let _0x3ace91={'_id':_0x4f2d4f[_0x41ec13(0x730)]['id'],'_fromMe':_0x4f2d4f['key'][_0x41ec13(0x35c)],'_remoteJid':_0x4f2d4f['key'][_0x41ec13(0x786)]},_0x220194=(0x0,w[_0x41ec13(0x925)])(_0x4f2d4f[_0x41ec13(0x239)]),_0x34410f=(0x0,w[_0x41ec13(0x44e)])(_0x220194);_0x14eb60['chatLog'][_0x41ec13(0x276)]=_0xa166e9[_0x41ec13(0x48a)]['toString']();let {message_normalized:_0x4ed164}=this[_0x41ec13(0x545)](_0x220194,_0x34410f,null);_0x14eb60['chatLog'][_0x41ec13(0x8c9)]=await _0x4ed164;let _0x220f8a={'messageId':_0x4f2d4f[_0x41ec13(0x730)]['id']},_0x59a2c2=_0x14eb60[_0x41ec13(0x349)][_0x41ec13(0x616)];Object[_0x41ec13(0x589)](_0x59a2c2,_0x3ace91),_0x14eb60[_0x41ec13(0x349)][_0x41ec13(0x616)]=_0x59a2c2,this[_0x41ec13(0x336)](_0x14eb60,_0xa166e9,_0x220f8a);}else{let _0x511caa={'error':!0x0};this[_0x41ec13(0x336)](_0x14eb60,_0xa166e9,_0x511caa),this[_0x41ec13(0x588)]['error'](this[_0x41ec13(0x3ae)]+'\x20('+this[_0x41ec13(0x60b)][_0x41ec13(0x3ad)]+_0x41ec13(0x710));}}catch(_0x3568f3){let _0x43beea={'error':!0x0,'errorLog':_0x3568f3[_0x41ec13(0x413)]()};this['updateConversation'](_0x14eb60,_0xa166e9,_0x43beea),this['logger'][_0x41ec13(0x71a)](this[_0x41ec13(0x3ae)]+'\x20('+this[_0x41ec13(0x60b)][_0x41ec13(0x3ad)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x3568f3 instanceof Error?_0x3568f3[_0x41ec13(0x239)]:JSON[_0x41ec13(0x254)](_0x3568f3,null,0x2)));}}async['uazapiSendAudio'](_0x186b61,_0x4815d2){const _0x4ff438=a0_0x2b042e;let _0x8222d3=_0x186b61['remoteJid'];_0x4815d2[_0x4ff438(0x606)][_0x4ff438(0x786)]&&_0x4815d2[_0x4ff438(0x606)][_0x4ff438(0x786)]['trim']()!==''&&(_0x8222d3=_0x4815d2[_0x4ff438(0x606)][_0x4ff438(0x786)][_0x4ff438(0x888)]()),this['logger'][_0x4ff438(0x642)](this[_0x4ff438(0x3ae)]+'\x20('+this[_0x4ff438(0x60b)][_0x4ff438(0x3ad)]+_0x4ff438(0x309));let _0x5c865c={'number':_0x8222d3,'options':{'delay':_0x4815d2[_0x4ff438(0x606)][_0x4ff438(0x39a)]},'audioMessage':{'audio':_0x4815d2[_0x4ff438(0x606)][_0x4ff438(0x6ac)]}};try{let _0x2fd454=await this['audioWhatsapp'](_0x5c865c);if(_0x2fd454){let _0x2538ed={'_id':_0x2fd454[_0x4ff438(0x730)]['id'],'_fromMe':_0x2fd454[_0x4ff438(0x730)][_0x4ff438(0x35c)],'_remoteJid':_0x2fd454['key'][_0x4ff438(0x786)]},_0x2a8b35=(0x0,w[_0x4ff438(0x925)])(_0x2fd454['message']),_0x2c7dcd=(0x0,w['getContentType'])(_0x2a8b35);_0x186b61['chatLog'][_0x4ff438(0x276)]=_0x4815d2[_0x4ff438(0x48a)][_0x4ff438(0x413)]();let {message_normalized:_0x47be92}=this[_0x4ff438(0x545)](_0x2a8b35,_0x2c7dcd,null);_0x186b61[_0x4ff438(0x349)][_0x4ff438(0x8c9)]=await _0x47be92;let _0x77a540={'messageId':_0x2fd454[_0x4ff438(0x730)]['id']},_0x541534=_0x186b61[_0x4ff438(0x349)]['realVariables'];Object[_0x4ff438(0x589)](_0x541534,_0x2538ed),_0x186b61['chatLog'][_0x4ff438(0x616)]=_0x541534,this[_0x4ff438(0x336)](_0x186b61,_0x4815d2,_0x77a540);}else{let _0x32339d={'error':!0x0};this[_0x4ff438(0x336)](_0x186b61,_0x4815d2,_0x32339d),this[_0x4ff438(0x588)][_0x4ff438(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x4ff438(0x3ad)]+_0x4ff438(0x487));}}catch(_0x306bc9){let _0xeb100f={'error':!0x0,'errorLog':_0x306bc9[_0x4ff438(0x413)]()};this[_0x4ff438(0x336)](_0x186b61,_0x4815d2,_0xeb100f),this['logger'][_0x4ff438(0x71a)](this['instanceName']+'\x20('+this[_0x4ff438(0x60b)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x306bc9 instanceof Error?_0x306bc9[_0x4ff438(0x239)]:JSON[_0x4ff438(0x254)](_0x306bc9,null,0x2)));}}async['uazapiSendContact'](_0x4db336,_0x54607f){const _0x1c82fa=a0_0x2b042e;let _0x37bbbe=_0x4db336[_0x1c82fa(0x786)];_0x54607f['uazapi']['remoteJid']&&_0x54607f[_0x1c82fa(0x606)][_0x1c82fa(0x786)][_0x1c82fa(0x888)]()!==''&&(_0x37bbbe=_0x54607f['uazapi']['remoteJid']['trim']()),this[_0x1c82fa(0x588)][_0x1c82fa(0x642)](this[_0x1c82fa(0x3ae)]+'\x20('+this[_0x1c82fa(0x60b)][_0x1c82fa(0x3ad)]+_0x1c82fa(0x3fd));let _0x3a9969={'number':_0x37bbbe,'options':{'delay':_0x54607f[_0x1c82fa(0x606)][_0x1c82fa(0x39a)]},'contactMessage':[{'fullName':_0x54607f['uazapi'][_0x1c82fa(0x493)],'phoneNumber':_0x54607f[_0x1c82fa(0x606)]['phoneNumber']}]};try{let _0x482922=await this[_0x1c82fa(0x4e8)](_0x3a9969);if(_0x482922){let _0x890e67={'_id':_0x482922[_0x1c82fa(0x730)]['id'],'_fromMe':_0x482922[_0x1c82fa(0x730)][_0x1c82fa(0x35c)],'_remoteJid':_0x482922[_0x1c82fa(0x730)][_0x1c82fa(0x786)]},_0x1821fc=(0x0,w['normalizeMessageContent'])(_0x482922[_0x1c82fa(0x239)]),_0x2c98f0=(0x0,w[_0x1c82fa(0x44e)])(_0x1821fc);_0x4db336['chatLog']['lastBlockId']=_0x54607f[_0x1c82fa(0x48a)][_0x1c82fa(0x413)]();let {message_normalized:_0x468bc6}=this[_0x1c82fa(0x545)](_0x1821fc,_0x2c98f0,null);_0x4db336[_0x1c82fa(0x349)]['lastSendMessage']=await _0x468bc6;let _0x151c1d={'messageId':_0x482922['key']['id']},_0x1a9cfd=_0x4db336['chatLog'][_0x1c82fa(0x616)];Object[_0x1c82fa(0x589)](_0x1a9cfd,_0x890e67),_0x4db336[_0x1c82fa(0x349)]['realVariables']=_0x1a9cfd,this[_0x1c82fa(0x336)](_0x4db336,_0x54607f,_0x151c1d);}else{let _0x384d1e={'error':!0x0};this['updateConversation'](_0x4db336,_0x54607f,_0x384d1e),this['logger'][_0x1c82fa(0x71a)](this[_0x1c82fa(0x3ae)]+'\x20('+this['instance'][_0x1c82fa(0x3ad)]+_0x1c82fa(0x44f));}}catch(_0x35d1a3){let _0x3fc4f7={'error':!0x0,'errorLog':_0x35d1a3[_0x1c82fa(0x413)]()};this['updateConversation'](_0x4db336,_0x54607f,_0x3fc4f7),this[_0x1c82fa(0x588)][_0x1c82fa(0x71a)](this[_0x1c82fa(0x3ae)]+'\x20('+this['instance']['wuid']+_0x1c82fa(0x69a)+(_0x35d1a3 instanceof Error?_0x35d1a3['message']:JSON[_0x1c82fa(0x254)](_0x35d1a3,null,0x2)));}}[a0_0x2b042e(0x792)](_0x315baf,_0x15d932){const _0x251044=a0_0x2b042e;for(let _0x156ccd of _0x315baf)_0x156ccd[_0x251044(0x33f)]&&(_0x156ccd[_0x251044(0x33f)]=this[_0x251044(0x22c)](_0x156ccd[_0x251044(0x33f)],_0x15d932)),_0x156ccd[_0x251044(0x77a)]&&(_0x156ccd['optionDescription']=this[_0x251044(0x22c)](_0x156ccd[_0x251044(0x77a)],_0x15d932));}async['uazapiSendMenu'](_0x293733,_0x4c1444){const _0x1da6bc=a0_0x2b042e;let _0x1fe882=_0x293733['remoteJid'];_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x786)]&&_0x4c1444[_0x1da6bc(0x606)]['remoteJid']['trim']()!==''&&(_0x1fe882=_0x4c1444[_0x1da6bc(0x606)]['remoteJid'][_0x1da6bc(0x888)]()),this[_0x1da6bc(0x588)][_0x1da6bc(0x642)](this[_0x1da6bc(0x3ae)]+'\x20('+this['instance'][_0x1da6bc(0x3ad)]+'):\x20Enviando\x20enquete');let _0x31d8e9=_0x293733[_0x1da6bc(0x637)]['filter'](_0x18ca9a=>_0x18ca9a[_0x1da6bc(0x75e)]===_0x4c1444['_id'])['sort']((_0x3a5619,_0x14c139)=>_0x3a5619[_0x1da6bc(0x906)]-_0x14c139[_0x1da6bc(0x906)]);this['replaceVariablesInReplyOptions'](_0x31d8e9,_0x293733[_0x1da6bc(0x349)][_0x1da6bc(0x616)]);let _0x115ed7=_0x31d8e9[_0x1da6bc(0x633)](_0x4c2650=>_0x4c2650[_0x1da6bc(0x33f)]),_0x4708c5={'number':_0x1fe882,'menuMessage':{'type':_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x7a4)]||'poll','text':_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x8de)]||_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x69b)],'footerText':_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x557)],'buttonText':_0x4c1444['uazapi'][_0x1da6bc(0x327)],'selectableCount':0x1,'choices':_0x115ed7},'options':{'delay':_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x39a)]}};try{let _0x3032f9=await this[_0x1da6bc(0x61b)](_0x4708c5);if(_0x3032f9){let _0x23ccff={'_id':_0x3032f9[_0x1da6bc(0x730)]['id'],'_fromMe':_0x3032f9[_0x1da6bc(0x730)][_0x1da6bc(0x35c)],'_remoteJid':_0x3032f9['key'][_0x1da6bc(0x786)]};_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x842)]===!0x0&&(_0x293733['status']=_0x1da6bc(0x427),this[_0x1da6bc(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x1da6bc(0x60b)][_0x1da6bc(0x3ad)]+_0x1da6bc(0x49a)+_0x293733[_0x1da6bc(0x3cd)])),this['logger'][_0x1da6bc(0x642)](this[_0x1da6bc(0x3ae)]+'\x20('+this[_0x1da6bc(0x60b)][_0x1da6bc(0x3ad)]+'):\x20nextBlock.uazapi.name'+(_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x69b)]||_0x4c1444['uazapi'][_0x1da6bc(0x8de)])),_0x293733[_0x1da6bc(0x3cf)]=_0x3032f9['key']['id'],_0x293733[_0x1da6bc(0x3a3)]=_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x69b)]||_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x8de)],_0x293733[_0x1da6bc(0x73a)]=_0x31d8e9,_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x6a7)]&&(_0x293733[_0x1da6bc(0x5da)]=_0x4c1444[_0x1da6bc(0x606)][_0x1da6bc(0x6a7)]),this[_0x1da6bc(0x588)][_0x1da6bc(0x642)](this['instanceName']+'\x20('+this[_0x1da6bc(0x60b)][_0x1da6bc(0x3ad)]+_0x1da6bc(0x34f)+_0x293733[_0x1da6bc(0x3a3)]);let _0x303574=(0x0,w[_0x1da6bc(0x925)])(_0x3032f9[_0x1da6bc(0x239)]),_0x4e8943=(0x0,w[_0x1da6bc(0x44e)])(_0x303574);_0x293733[_0x1da6bc(0x349)][_0x1da6bc(0x276)]=_0x4c1444[_0x1da6bc(0x48a)]['toString']();let {message_normalized:_0x193b87}=this['normalizeMessage'](_0x303574,_0x4e8943,null);_0x293733[_0x1da6bc(0x349)]['lastSendMessage']=await _0x193b87;let _0x25ec42={'messageId':_0x3032f9[_0x1da6bc(0x730)]['id']},_0x1767f0=_0x293733[_0x1da6bc(0x349)][_0x1da6bc(0x616)];Object[_0x1da6bc(0x589)](_0x1767f0,_0x23ccff),_0x293733['chatLog']['realVariables']=_0x1767f0,this[_0x1da6bc(0x336)](_0x293733,_0x4c1444,_0x25ec42);}else{let _0x2a243b={'error':!0x0};this[_0x1da6bc(0x336)](_0x293733,_0x4c1444,_0x2a243b),this[_0x1da6bc(0x588)][_0x1da6bc(0x71a)](this[_0x1da6bc(0x3ae)]+'\x20('+this[_0x1da6bc(0x60b)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x27ee76){let _0xaadb47={'error':!0x0,'errorLog':_0x27ee76 instanceof Error?_0x27ee76[_0x1da6bc(0x239)]:JSON[_0x1da6bc(0x254)](_0x27ee76,null,0x2)};this[_0x1da6bc(0x336)](_0x293733,_0x4c1444,_0xaadb47),this[_0x1da6bc(0x588)][_0x1da6bc(0x71a)](this['instanceName']+'\x20('+this[_0x1da6bc(0x60b)][_0x1da6bc(0x3ad)]+_0x1da6bc(0x1f6)+(_0x27ee76 instanceof Error?_0x27ee76[_0x1da6bc(0x239)]:JSON[_0x1da6bc(0x254)](_0x27ee76,null,0x2)));}}async[a0_0x2b042e(0x4d9)](_0x19cb41,_0x123c4a){const _0x3cc39b=a0_0x2b042e;this[_0x3cc39b(0x588)][_0x3cc39b(0x642)](this[_0x3cc39b(0x3ae)]+'\x20('+this[_0x3cc39b(0x60b)][_0x3cc39b(0x3ad)]+'):\x20Deletando\x20mensagem');let _0x59b3e1=_0x19cb41['chatLog'][_0x3cc39b(0x741)][_0x3cc39b(0x6da)](_0x298f32=>_0x298f32[_0x3cc39b(0x75e)]['toString']()===_0x123c4a[_0x3cc39b(0x606)][_0x3cc39b(0x75e)][_0x3cc39b(0x413)]()),_0x1928d0={'id':_0x59b3e1[_0x3cc39b(0x57f)],'remoteJid':_0x59b3e1[_0x3cc39b(0x786)],'fromMe':_0x59b3e1[_0x3cc39b(0x35c)]};try{let _0x122bbc=await this['deleteMessage'](_0x1928d0);if(_0x122bbc){let _0x202fa7=(0x0,w[_0x3cc39b(0x925)])(_0x122bbc[_0x3cc39b(0x239)]),_0x477dca=(0x0,w['getContentType'])(_0x202fa7);_0x19cb41[_0x3cc39b(0x349)][_0x3cc39b(0x276)]=_0x123c4a[_0x3cc39b(0x48a)][_0x3cc39b(0x413)]();let {message_normalized:_0x341d44}=this[_0x3cc39b(0x545)](_0x202fa7,_0x477dca,null);_0x19cb41['chatLog'][_0x3cc39b(0x8c9)]=await _0x341d44;let _0x542b8b={};this[_0x3cc39b(0x336)](_0x19cb41,_0x123c4a,_0x542b8b);}else{let _0xdbdd72={'error':!0x0};this[_0x3cc39b(0x336)](_0x19cb41,_0x123c4a,_0xdbdd72),this[_0x3cc39b(0x588)][_0x3cc39b(0x71a)](this[_0x3cc39b(0x3ae)]+'\x20('+this[_0x3cc39b(0x60b)][_0x3cc39b(0x3ad)]+_0x3cc39b(0x37b));}}catch(_0x46e27c){let _0xebca7c={'error':!0x0,'errorLog':_0x46e27c instanceof Error?_0x46e27c[_0x3cc39b(0x239)]:JSON[_0x3cc39b(0x254)](_0x46e27c,null,0x2)};this[_0x3cc39b(0x336)](_0x19cb41,_0x123c4a,_0xebca7c),this[_0x3cc39b(0x588)][_0x3cc39b(0x71a)](this[_0x3cc39b(0x3ae)]+'\x20('+this[_0x3cc39b(0x60b)][_0x3cc39b(0x3ad)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x46e27c instanceof Error?_0x46e27c[_0x3cc39b(0x239)]:JSON[_0x3cc39b(0x254)](_0x46e27c,null,0x2)));}}async[a0_0x2b042e(0x8e3)](_0x25b966,_0xf7ec02){const _0x273e3b=a0_0x2b042e;if(_0x25b966[_0x273e3b(0x69b)]||(_0x25b966['name']=(0x0,Q['v4'])()),_0xf7ec02!==Ii&&_0x25b966?.[_0x273e3b(0x394)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x273e3b(0x48a)in _0x25b966&&_0x273e3b(0x2a2)in _0x25b966)return this[_0x273e3b(0x316)](_0x25b966['owner'],_0x25b966['_id']);this['logger'][_0x273e3b(0x642)](this['instanceName']+'\x20('+this[_0x273e3b(0x60b)]['wuid']+_0x273e3b(0x234));let _0x29e107=this['getUniqueFlowName'](_0x25b966[_0x273e3b(0x69b)]),_0x34dafe=new we[(_0x273e3b(0x224))][(_0x273e3b(0x5fa))](),_0x11337b={'_id':_0x34dafe,'default':!0x0,'title':_0x273e3b(0x8e5),'x':0x0,'y':0x0},_0xcff96d={'_id':new we['Types'][(_0x273e3b(0x5fa))](),'order':0x1,'groupId':_0x34dafe[_0x273e3b(0x413)](),'type':_0x273e3b(0x52e)},_0x3eb129=this[_0x273e3b(0x60b)][_0x273e3b(0x3ad)],_0x2b3bd0={'_id':(0x0,Q['v4'])(),'owner':_0x3eb129,'name':_0x29e107,'whoCanEdit':[_0x3eb129],'whoCanUse':[_0x3eb129],'groups':[_0x11337b],'blocks':[_0xcff96d],..._0x25b966};try{let _0x1b9f10=await this[_0x273e3b(0x5b9)]['flow'][_0x273e3b(0x75f)](_0x2b3bd0);return await this['synchronizeAndMapFlows'](),_0x1b9f10;}catch(_0x1b3406){let _0x459151=_0x273e3b(0x3cb),_0x5720ba=_0x1b3406 instanceof Error?_0x1b3406['message']:typeof _0x1b3406==_0x273e3b(0x880)?JSON[_0x273e3b(0x254)](_0x1b3406):_0x1b3406,_0x100119=_0x459151+':\x20'+_0x5720ba;throw this['logger'][_0x273e3b(0x71a)](this[_0x273e3b(0x3ae)]+'\x20('+this[_0x273e3b(0x60b)][_0x273e3b(0x3ad)]+'):\x20'+_0x100119),new m(_0x100119);}}async[a0_0x2b042e(0x316)](_0x22d897,_0x3edae6){const _0x6bbbb4=a0_0x2b042e;try{this[_0x6bbbb4(0x588)][_0x6bbbb4(0x642)](this['instanceName']+'\x20('+this[_0x6bbbb4(0x60b)][_0x6bbbb4(0x3ad)]+_0x6bbbb4(0x6f4));let _0xe40288=await this[_0x6bbbb4(0x5b9)][_0x6bbbb4(0x1ff)][_0x6bbbb4(0x296)]({'where':{'_id':_0x3edae6,'owner':_0x22d897}});if(!_0xe40288)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0xe40288['shareFlow']===!0x1&&!_0xe40288[_0x6bbbb4(0x394)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x580f59=new Set(_0xe40288['whoCanUse']??[]);_0x580f59[_0x6bbbb4(0x878)](this[_0x6bbbb4(0x60b)][_0x6bbbb4(0x3ad)]);let _0x3c2ce2=await this['repository'][_0x6bbbb4(0x1ff)][_0x6bbbb4(0x2ba)](_0x3edae6,{..._0xe40288,'whoCanUse':Array[_0x6bbbb4(0x223)](_0x580f59)});return await this['synchronizeAndMapFlows'](),_0x3c2ce2;}catch(_0x1f487f){let _0x4a3f97=_0x6bbbb4(0x508),_0x518f7d=_0x1f487f instanceof Error?_0x1f487f[_0x6bbbb4(0x239)]:typeof _0x1f487f=='object'?JSON[_0x6bbbb4(0x254)](_0x1f487f):_0x1f487f,_0x1c46da=_0x4a3f97+':\x20'+_0x518f7d;throw this[_0x6bbbb4(0x588)][_0x6bbbb4(0x71a)](this[_0x6bbbb4(0x3ae)]+'\x20('+this[_0x6bbbb4(0x60b)]['wuid']+_0x6bbbb4(0x82b)+_0x1c46da),new m(_0x1c46da);}}[a0_0x2b042e(0x887)](_0x24d74e){const _0x16ad15=a0_0x2b042e;let _0x14b094=_0x24d74e,_0x16a980=0x1;for(;this[_0x16ad15(0x69f)][_0x16ad15(0x8df)][_0x16ad15(0x8c6)](_0x13227f=>_0x13227f['name']===_0x14b094);)_0x16a980++,_0x14b094=_0x24d74e+'\x20('+_0x16a980+')';return _0x14b094;}async['deleteFlow'](_0x925721){const _0x422dbd=a0_0x2b042e;try{if(this[_0x422dbd(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]+_0x422dbd(0x565)+_0x925721[_0x422dbd(0x48a)]+_0x422dbd(0x7cc)+_0x925721[_0x422dbd(0x341)]),!this[_0x422dbd(0x69f)][_0x422dbd(0x8df)][_0x422dbd(0x6da)](_0x551682=>_0x551682[_0x422dbd(0x48a)]===_0x925721[_0x422dbd(0x48a)]))throw this['logger'][_0x422dbd(0x642)](this[_0x422dbd(0x3ae)]+'\x20('+this[_0x422dbd(0x60b)]['wuid']+_0x422dbd(0x3dc)+_0x925721[_0x422dbd(0x48a)]+_0x422dbd(0x290)),new m(_0x422dbd(0x464));let _0x121e9d=await this['repository'][_0x422dbd(0x1ff)][_0x422dbd(0x296)]({'where':{'_id':_0x925721['_id']}});if(!_0x121e9d)throw new m(_0x422dbd(0x278));if(this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]===_0x121e9d['owner']){this[_0x422dbd(0x588)][_0x422dbd(0x642)](this[_0x422dbd(0x3ae)]+'\x20('+this[_0x422dbd(0x60b)]['wuid']+_0x422dbd(0x2cc)+_0x925721[_0x422dbd(0x48a)]+_0x422dbd(0x25a));let _0x4e3f9c=await this[_0x422dbd(0x5b9)][_0x422dbd(0x1ff)][_0x422dbd(0x573)]({'where':{'_id':_0x925721[_0x422dbd(0x48a)]}});return await this[_0x422dbd(0x812)](),_0x4e3f9c;}return this[_0x422dbd(0x588)][_0x422dbd(0x642)](this['instanceName']+'\x20('+this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]+_0x422dbd(0x56f)+this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]+_0x422dbd(0x64c)+_0x925721[_0x422dbd(0x48a)]+_0x422dbd(0x2c0)),_0x121e9d[_0x422dbd(0x47e)]=(_0x121e9d['whoCanUse']??[])[_0x422dbd(0x7ca)](_0x535a8a=>_0x535a8a!==this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]),_0x121e9d[_0x422dbd(0x274)]=(_0x121e9d[_0x422dbd(0x274)]??[])[_0x422dbd(0x7ca)](_0xeadcf6=>_0xeadcf6!==this[_0x422dbd(0x60b)]['wuid']),_0x121e9d[_0x422dbd(0x274)][_0x422dbd(0x3f7)]===0x0&&_0x121e9d[_0x422dbd(0x47e)][_0x422dbd(0x3f7)]>0x0&&(_0x121e9d['whoCanEdit'][_0x422dbd(0x2f6)](_0x121e9d[_0x422dbd(0x47e)][0x0]),this[_0x422dbd(0x588)][_0x422dbd(0x642)](this[_0x422dbd(0x3ae)]+'\x20('+this[_0x422dbd(0x60b)]['wuid']+_0x422dbd(0x8db)+_0x121e9d[_0x422dbd(0x47e)][0x0]+_0x422dbd(0x53b)+_0x925721[_0x422dbd(0x48a)]+'\x27...')),await this[_0x422dbd(0x5b9)]['flow'][_0x422dbd(0x2ba)](_0x121e9d[_0x422dbd(0x48a)],_0x121e9d),await this[_0x422dbd(0x812)](),{'message':_0x422dbd(0x3a2)+_0x925721[_0x422dbd(0x69b)]+_0x422dbd(0x8ce)};}catch(_0x25ca17){return this[_0x422dbd(0x588)][_0x422dbd(0x71a)](this[_0x422dbd(0x3ae)]+'\x20('+this[_0x422dbd(0x60b)][_0x422dbd(0x3ad)]+_0x422dbd(0x2c6)+(_0x25ca17 instanceof Error?_0x25ca17['message']:JSON[_0x422dbd(0x254)](_0x25ca17,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x25ca17 instanceof Error?_0x25ca17[_0x422dbd(0x239)]:JSON[_0x422dbd(0x254)](_0x25ca17,null,0x2))};}}async['getFlow'](_0x1c1a93){const _0x3dd99b=a0_0x2b042e;try{if(this[_0x3dd99b(0x588)]['info'](this['instanceName']+'\x20('+this[_0x3dd99b(0x60b)][_0x3dd99b(0x3ad)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x1c1a93),!this[_0x3dd99b(0x69f)]&&(await this[_0x3dd99b(0x539)](),!this[_0x3dd99b(0x69f)]))return null;let _0x535f92=await this['repository'][_0x3dd99b(0x1ff)][_0x3dd99b(0x296)]({'where':{'_id':_0x1c1a93}});if(!_0x535f92)throw new m(_0x3dd99b(0x900)+_0x1c1a93+_0x3dd99b(0x86c));if(!(_0x535f92[_0x3dd99b(0x394)]||_0x535f92['whoCanUse']?.[_0x3dd99b(0x8ef)](this[_0x3dd99b(0x60b)][_0x3dd99b(0x3ad)])))throw new m(_0x3dd99b(0x547)+name+'\x27');_0x535f92[_0x3dd99b(0x394)]&&!_0x535f92[_0x3dd99b(0x47e)]?.[_0x3dd99b(0x8ef)](this[_0x3dd99b(0x60b)][_0x3dd99b(0x3ad)])&&(_0x535f92[_0x3dd99b(0x47e)]=[..._0x535f92[_0x3dd99b(0x47e)]??[],this[_0x3dd99b(0x60b)][_0x3dd99b(0x3ad)]],await this[_0x3dd99b(0x5b9)][_0x3dd99b(0x1ff)]['updateOne'](_0x535f92[_0x3dd99b(0x48a)],_0x535f92),this[_0x3dd99b(0x812)]());let _0x524fd4=this[_0x3dd99b(0x69f)]?.[_0x3dd99b(0x5ba)]['map'](_0x3f430a=>_0x3f430a[_0x3dd99b(0x69b)]),_0x1309fe=[_0x3dd99b(0x8a6),_0x3dd99b(0x5e6),'email','cpf',_0x3dd99b(0x3cd),'notas',_0x3dd99b(0x32c),_0x3dd99b(0x407),_0x3dd99b(0x536),_0x3dd99b(0x692),_0x3dd99b(0x5f6)];_0x535f92[_0x3dd99b(0x4a4)]=_0x535f92[_0x3dd99b(0x4a4)][_0x3dd99b(0x7ca)](_0x2daafd=>!(_0x2daafd[_0x3dd99b(0x90c)]===_0x3dd99b(0x638)||_0x2daafd['leadInfo'])),_0x1309fe[_0x3dd99b(0x1e3)](_0x40ab81=>{const _0x44de20=_0x3dd99b;_0x535f92[_0x44de20(0x4a4)]['push']({'folder':_0x44de20(0x638),'name':_0x40ab81,'value':'','doc':'','leadInfo':!0x0});}),_0x524fd4[_0x3dd99b(0x1e3)](_0x2b0ec7=>{const _0x28ecec=_0x3dd99b;let _0x2e453a=_0x535f92[_0x28ecec(0x4a4)][_0x28ecec(0x56a)](_0x118538=>_0x118538[_0x28ecec(0x69b)]===_0x2b0ec7);_0x2e453a===-0x1?_0x535f92[_0x28ecec(0x4a4)][_0x28ecec(0x2f6)]({'folder':'leadInfo','name':_0x2b0ec7,'value':'','doc':'','leadInfo':!0x0}):(_0x535f92[_0x28ecec(0x4a4)][_0x2e453a][_0x28ecec(0x90c)]=_0x28ecec(0x638),_0x535f92[_0x28ecec(0x4a4)][_0x2e453a][_0x28ecec(0x638)]=!0x0);}),_0x535f92[_0x3dd99b(0x848)]&&_0x535f92['blocks'][_0x3dd99b(0x3f7)]>0x0&&_0x535f92['blocks'][_0x3dd99b(0x1e3)](_0x44684f=>{const _0x2cf6fc=_0x3dd99b;_0x44684f[_0x2cf6fc(0x687)]&&_0x44684f[_0x2cf6fc(0x81a)]&&_0x44684f[_0x2cf6fc(0x687)]===_0x44684f['next_groupId']&&(_0x44684f[_0x2cf6fc(0x81a)]=null);});let _0x472830=await this['repository'][_0x3dd99b(0x1ff)][_0x3dd99b(0x2ba)](_0x535f92[_0x3dd99b(0x48a)],_0x535f92);if(!_0x472830)throw new Error(_0x3dd99b(0x828));return _0x472830;}catch(_0xcbc475){let _0x46d290='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x29b5d1=_0xcbc475 instanceof Error?_0xcbc475[_0x3dd99b(0x239)]:typeof _0xcbc475==_0x3dd99b(0x880)?JSON[_0x3dd99b(0x254)](_0xcbc475):_0xcbc475,_0x1b126a=_0x46d290+':\x20'+_0x29b5d1;throw this[_0x3dd99b(0x588)][_0x3dd99b(0x71a)](this[_0x3dd99b(0x3ae)]+'\x20('+this['instance']['wuid']+_0x3dd99b(0x82b)+_0x1b126a),new m(_0x1b126a);}}async['allFlows'](){const _0x4cfd97=a0_0x2b042e;try{this[_0x4cfd97(0x588)][_0x4cfd97(0x642)](this[_0x4cfd97(0x3ae)]+'\x20('+this[_0x4cfd97(0x60b)][_0x4cfd97(0x3ad)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x4cfd97(0x812)]();let _0x574479=await this[_0x4cfd97(0x5b9)][_0x4cfd97(0x1ff)][_0x4cfd97(0x4f0)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x4cfd97(0x8df)],..._0x574479];}catch(_0x2e08d9){return this[_0x4cfd97(0x588)][_0x4cfd97(0x71a)](this['instanceName']+'\x20('+this[_0x4cfd97(0x60b)][_0x4cfd97(0x3ad)]+_0x4cfd97(0x8b8)+(_0x2e08d9 instanceof Error?_0x2e08d9[_0x4cfd97(0x239)]:JSON[_0x4cfd97(0x254)](_0x2e08d9,null,0x2))),{'message':_0x4cfd97(0x6e6)+(_0x2e08d9 instanceof Error?_0x2e08d9[_0x4cfd97(0x239)]:String(_0x2e08d9))};}}async[a0_0x2b042e(0x71c)](_0x1139cb,_0x57a0c7){const _0x561e2e=a0_0x2b042e;try{this['logger']['verbose'](this[_0x561e2e(0x3ae)]+'\x20('+this[_0x561e2e(0x60b)][_0x561e2e(0x3ad)]+'):\x20Alterando\x20fluxo...');let _0x5ddd30=this[_0x561e2e(0x69f)][_0x561e2e(0x8df)][_0x561e2e(0x6da)](_0x9ccade=>_0x9ccade[_0x561e2e(0x48a)]===_0x1139cb[_0x561e2e(0x48a)]);if(!_0x5ddd30)throw this[_0x561e2e(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x561e2e(0x60b)]['wuid']+_0x561e2e(0x3dc)+_0x1139cb['_id']+'\x27\x20não\x20encontrado'),new m(_0x561e2e(0x464));let _0x6376a9=await this['repository']['flow'][_0x561e2e(0x296)]({'where':{'_id':_0x1139cb[_0x561e2e(0x48a)]}});if(!_0x6376a9||!_0x6376a9['whoCanUse']?.[_0x561e2e(0x8ef)](this[_0x561e2e(0x60b)][_0x561e2e(0x3ad)]))throw this[_0x561e2e(0x588)][_0x561e2e(0x71a)](this['instanceName']+'\x20('+this[_0x561e2e(0x60b)]['wuid']+_0x561e2e(0x800)+_0x1139cb[_0x561e2e(0x48a)]+_0x561e2e(0x34d)),new m('Flow\x20\x27'+_0x1139cb[_0x561e2e(0x48a)]+_0x561e2e(0x34d));let _0x156ef6=this[_0x561e2e(0x69f)][_0x561e2e(0x8df)][_0x561e2e(0x56a)](_0x101f2e=>_0x101f2e[_0x561e2e(0x48a)]===_0x5ddd30[_0x561e2e(0x48a)]);if(_0x156ef6!==-0x1){let _0x392513=this['AutomateSystem'][_0x561e2e(0x8df)][_0x156ef6];if(_0x392513[_0x561e2e(0x69b)]=_0x1139cb[_0x561e2e(0x69b)]??_0x392513[_0x561e2e(0x69b)],_0x392513[_0x561e2e(0x1f4)]=_0x1139cb[_0x561e2e(0x1f4)]??_0x392513[_0x561e2e(0x1f4)],_0x392513[_0x561e2e(0x862)]=_0x1139cb[_0x561e2e(0x862)]??_0x392513[_0x561e2e(0x862)],_0x392513[_0x561e2e(0x781)]=_0x1139cb[_0x561e2e(0x4d4)]??_0x392513[_0x561e2e(0x781)],_0x392513[_0x561e2e(0x846)]=_0x1139cb[_0x561e2e(0x846)]??_0x392513['minutesToClose'],_0x392513['readMessages']=_0x1139cb[_0x561e2e(0x767)]??_0x392513[_0x561e2e(0x767)],_0x1139cb[_0x561e2e(0x1f4)]&&this[_0x561e2e(0x69f)]['flows'][_0x561e2e(0x1e3)]((_0x471677,_0x3734b7)=>{const _0x5bc731=_0x561e2e;_0x3734b7!==_0x156ef6&&(_0x471677[_0x5bc731(0x1f4)]=!0x1);}),this[_0x561e2e(0x69f)]['flows'][_0x156ef6]=_0x392513,!await this[_0x561e2e(0x5b9)][_0x561e2e(0x62a)]['update']({'flows':this[_0x561e2e(0x69f)][_0x561e2e(0x8df)]},this[_0x561e2e(0x60b)]['wuid']))throw new m(_0x561e2e(0x57d));}let _0x1619c7=['global','startID',_0x561e2e(0x4ed),_0x561e2e(0x61d)];for(let _0x3c6851 of _0x1619c7)delete _0x1139cb[_0x3c6851];if(_0x6376a9[_0x561e2e(0x274)]?.[_0x561e2e(0x8ef)](this[_0x561e2e(0x60b)]['wuid'])||(_0x1139cb={'_id':_0x1139cb['_id']}),_0x57a0c7!==Ii&&_0x1139cb?.[_0x561e2e(0x394)]&&!_0x6376a9?.[_0x561e2e(0x394)])throw new m(_0x561e2e(0x322));let _0x26daf7=new Set(_0x1139cb[_0x561e2e(0x274)]??_0x6376a9['whoCanEdit']);_0x26daf7[_0x561e2e(0x878)](_0x6376a9['owner']);let _0x3cfa6a=new Set(_0x1139cb[_0x561e2e(0x47e)]??_0x6376a9['whoCanUse']??[]);_0x26daf7[_0x561e2e(0x1e3)](_0x260e54=>_0x3cfa6a[_0x561e2e(0x878)](_0x260e54)),_0x3cfa6a[_0x561e2e(0x878)](_0x6376a9[_0x561e2e(0x2a2)]),this['logger'][_0x561e2e(0x642)](this[_0x561e2e(0x3ae)]+'\x20('+this[_0x561e2e(0x60b)][_0x561e2e(0x3ad)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x561e2e(0x223)](_0x26daf7)),this[_0x561e2e(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x561e2e(0x60b)][_0x561e2e(0x3ad)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x561e2e(0x223)](_0x3cfa6a));let _0x5bcc5e=await this['getValidWhatsAppNumbers'](Array[_0x561e2e(0x223)](_0x3cfa6a)),_0x4ae16f=Array[_0x561e2e(0x223)](_0x26daf7)[_0x561e2e(0x7ca)](_0x15d114=>_0x5bcc5e[_0x561e2e(0x8ef)](_0x15d114)),_0x5a89af=Array[_0x561e2e(0x223)](_0x3cfa6a)['filter'](_0x4442d3=>_0x5bcc5e['includes'](_0x4442d3));this['logger']['verbose'](this[_0x561e2e(0x3ae)]+'\x20('+this[_0x561e2e(0x60b)]['wuid']+_0x561e2e(0x654)+_0x4ae16f),this[_0x561e2e(0x588)][_0x561e2e(0x642)](this[_0x561e2e(0x3ae)]+'\x20('+this[_0x561e2e(0x60b)]['wuid']+_0x561e2e(0x30c)+_0x5a89af);let _0x2c2545={..._0x6376a9,..._0x1139cb,'whoCanEdit':_0x4ae16f,'whoCanUse':_0x5a89af},_0x4b3650=await this[_0x561e2e(0x5b9)][_0x561e2e(0x1ff)][_0x561e2e(0x2ba)](_0x6376a9[_0x561e2e(0x48a)],_0x2c2545);return await this['synchronizeAndMapFlows'](),_0x4b3650;}catch(_0x57f4d6){let _0x592454=_0x561e2e(0x4b0),_0x184ada=_0x57f4d6 instanceof Error?_0x57f4d6['message']:typeof _0x57f4d6==_0x561e2e(0x880)?JSON[_0x561e2e(0x254)](_0x57f4d6):_0x57f4d6,_0x2d12af=_0x592454+':\x20'+_0x184ada;throw this[_0x561e2e(0x588)][_0x561e2e(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x561e2e(0x3ad)]+_0x561e2e(0x82b)+_0x2d12af),new m(_0x2d12af);}}async[a0_0x2b042e(0x5b7)](_0x35799c){const _0x173bf9=a0_0x2b042e;let _0x40ff0e={'numbers':_0x35799c};return(await this[_0x173bf9(0x32d)](_0x40ff0e))[_0x173bf9(0x7ca)](_0x52aff8=>_0x52aff8[_0x173bf9(0x373)])[_0x173bf9(0x633)](_0x3ad523=>_0x3ad523[_0x173bf9(0x697)])[_0x173bf9(0x633)](_0xa412ba=>this[_0x173bf9(0x353)](_0xa412ba));}[a0_0x2b042e(0x353)](_0x17f82f){const _0x329d9e=a0_0x2b042e;let _0x36f50b=_0x17f82f[_0x329d9e(0x1f7)](/\d+/);return _0x36f50b?_0x36f50b[0x0]:'';}async[a0_0x2b042e(0x447)](_0x52b737){const _0x3e7c24=a0_0x2b042e;try{if(this[_0x3e7c24(0x588)]['verbose'](this[_0x3e7c24(0x3ae)]+'\x20('+this['instance'][_0x3e7c24(0x3ad)]+_0x3e7c24(0x47b)),!this[_0x3e7c24(0x69f)][_0x3e7c24(0x8df)]['find'](_0x34021a=>_0x34021a['_id']===_0x52b737[_0x3e7c24(0x48a)]))throw this['logger']['verbose'](this[_0x3e7c24(0x3ae)]+'\x20('+this['instance'][_0x3e7c24(0x3ad)]+_0x3e7c24(0x3dc)+_0x52b737[_0x3e7c24(0x48a)]+_0x3e7c24(0x290)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2b19f9=await this[_0x3e7c24(0x5b9)][_0x3e7c24(0x1ff)][_0x3e7c24(0x296)]({'where':{'_id':_0x52b737[_0x3e7c24(0x48a)]}});if(!_0x2b19f9||!_0x2b19f9['whoCanUse']?.[_0x3e7c24(0x8ef)](this['instance'][_0x3e7c24(0x3ad)]))throw this['logger'][_0x3e7c24(0x71a)](this[_0x3e7c24(0x3ae)]+'\x20('+this[_0x3e7c24(0x60b)][_0x3e7c24(0x3ad)]+_0x3e7c24(0x800)+_0x52b737['_id']+_0x3e7c24(0x34d)),new m(_0x3e7c24(0x232)+_0x52b737[_0x3e7c24(0x48a)]+_0x3e7c24(0x34d));if(!_0x2b19f9[_0x3e7c24(0x274)]?.[_0x3e7c24(0x8ef)](this[_0x3e7c24(0x60b)][_0x3e7c24(0x3ad)]))throw new m(_0x3e7c24(0x627));let {block:_0x478422}=_0x52b737;_0x478422?.[_0x3e7c24(0x685)]?this[_0x3e7c24(0x818)](_0x2b19f9,_0x52b737):_0x478422?.[_0x3e7c24(0x231)]?this['deleteBlock'](_0x2b19f9,_0x52b737):_0x478422['_id']?await this['updateBlock'](_0x2b19f9,_0x52b737):this[_0x3e7c24(0x3ea)](_0x2b19f9,_0x52b737);let _0x1f49e5=await this[_0x3e7c24(0x5b9)]['flow'][_0x3e7c24(0x2ba)](_0x2b19f9['_id'],_0x2b19f9);if(!_0x1f49e5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1f49e5;}catch(_0x4de1ec){this[_0x3e7c24(0x910)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4de1ec[_0x3e7c24(0x239)]);}}async[a0_0x2b042e(0x818)](_0x80c309,_0x26b7a4){const _0x3a1d9f=a0_0x2b042e;let _0x3e2e1d=_0x26b7a4[_0x3a1d9f(0x44a)][_0x3a1d9f(0x48a)],_0x41a88b=_0x80c309[_0x3a1d9f(0x848)][_0x3a1d9f(0x6da)](_0x47758b=>_0x47758b[_0x3a1d9f(0x48a)][_0x3a1d9f(0x413)]()===_0x3e2e1d);if(!_0x41a88b){this['logger'][_0x3a1d9f(0x71a)](this[_0x3a1d9f(0x3ae)]+'\x20('+this[_0x3a1d9f(0x60b)]['wuid']+_0x3a1d9f(0x6e2)+_0x3e2e1d+_0x3a1d9f(0x268));return;}this[_0x3a1d9f(0x588)][_0x3a1d9f(0x642)](this[_0x3a1d9f(0x3ae)]+'\x20('+this[_0x3a1d9f(0x60b)][_0x3a1d9f(0x3ad)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x3a1d9f(0x254)](_0x41a88b));let _0x6780db=JSON[_0x3a1d9f(0x8c0)](JSON['stringify'](_0x41a88b));_0x6780db[_0x3a1d9f(0x48a)]=new we['default']['Types'][(_0x3a1d9f(0x5fa))](),this[_0x3a1d9f(0x588)][_0x3a1d9f(0x642)](this[_0x3a1d9f(0x3ae)]+'\x20('+this[_0x3a1d9f(0x60b)][_0x3a1d9f(0x3ad)]+_0x3a1d9f(0x6ea)+JSON[_0x3a1d9f(0x254)](_0x6780db)),_0x80c309[_0x3a1d9f(0x848)][_0x3a1d9f(0x2f6)](_0x6780db),this[_0x3a1d9f(0x4ec)](_0x80c309[_0x3a1d9f(0x848)],_0x6780db[_0x3a1d9f(0x687)]);}['throwAndLogError'](_0x59c7ef){const _0x4e658f=a0_0x2b042e;throw this[_0x4e658f(0x588)][_0x4e658f(0x71a)](this[_0x4e658f(0x3ae)]+'\x20('+this[_0x4e658f(0x60b)][_0x4e658f(0x3ad)]+_0x4e658f(0x82b)+_0x59c7ef),new m(_0x59c7ef);}[a0_0x2b042e(0x876)](_0x15dc8e,_0x2e8848){const _0x2e07f9=a0_0x2b042e;let {block:_0x3514c2}=_0x2e8848;if(_0x3514c2[_0x2e07f9(0x1fa)]===_0x2e07f9(0x52e)){this['throwAndLogError'](_0x2e07f9(0x855));return;}if(!_0x3514c2['_id']){this[_0x2e07f9(0x910)](_0x2e07f9(0x50b));return;}let _0x4f764c=_0x15dc8e[_0x2e07f9(0x848)][_0x2e07f9(0x6da)](_0x440097=>_0x440097['_id'][_0x2e07f9(0x413)]()===_0x2e8848[_0x2e07f9(0x44a)][_0x2e07f9(0x48a)][_0x2e07f9(0x413)]());if(!_0x4f764c){this[_0x2e07f9(0x910)](_0x2e07f9(0x6fd)+_0x3514c2[_0x2e07f9(0x48a)]+'\x20não\x20encontrado');return;}_0x15dc8e['blocks']=_0x15dc8e[_0x2e07f9(0x848)]['filter'](_0x2e3a57=>_0x2e3a57[_0x2e07f9(0x48a)][_0x2e07f9(0x413)]()!==_0x2e8848[_0x2e07f9(0x44a)]['_id'][_0x2e07f9(0x413)]()),_0x15dc8e[_0x2e07f9(0x39c)]=_0x15dc8e[_0x2e07f9(0x39c)][_0x2e07f9(0x7ca)](_0x4eb1b0=>_0x4eb1b0[_0x2e07f9(0x75e)]!==_0x3514c2[_0x2e07f9(0x48a)][_0x2e07f9(0x413)]()),_0x15dc8e[_0x2e07f9(0x378)]=_0x15dc8e[_0x2e07f9(0x378)][_0x2e07f9(0x7ca)](_0x574047=>_0x574047['blockId']!==_0x3514c2[_0x2e07f9(0x48a)][_0x2e07f9(0x413)]()),_0x15dc8e[_0x2e07f9(0x637)]=_0x15dc8e['replyOptions'][_0x2e07f9(0x7ca)](_0x494906=>_0x494906[_0x2e07f9(0x75e)]!==_0x3514c2[_0x2e07f9(0x48a)][_0x2e07f9(0x413)]()),this[_0x2e07f9(0x4ec)](_0x15dc8e[_0x2e07f9(0x848)],_0x4f764c['groupId']);}async[a0_0x2b042e(0x33c)](_0x11bb24,_0x49011b){const _0x2efcac=a0_0x2b042e;let _0x2219e9=_0x11bb24[_0x2efcac(0x848)][_0x2efcac(0x56a)](_0x3deadb=>_0x3deadb[_0x2efcac(0x48a)][_0x2efcac(0x413)]()===_0x49011b['block']['_id'][_0x2efcac(0x413)]());if(this[_0x2efcac(0x588)][_0x2efcac(0x642)](this[_0x2efcac(0x3ae)]+'\x20('+this[_0x2efcac(0x60b)][_0x2efcac(0x3ad)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x2219e9),_0x2219e9===-0x1){this[_0x2efcac(0x588)][_0x2efcac(0x642)](_0x2efcac(0x6fd)+_0x49011b[_0x2efcac(0x44a)][_0x2efcac(0x48a)]+_0x2efcac(0x21d));return;}if(_0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x1fa)]===_0x2efcac(0x52e)){let _0x292b77=Object[_0x2efcac(0x5d6)](_0x49011b['block']);if(_0x292b77['length']>0x2||_0x292b77[_0x2efcac(0x3f7)]===0x2&&!_0x292b77[_0x2efcac(0x8ef)](_0x2efcac(0x81a))){this[_0x2efcac(0x910)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x4d90a2=_0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x687)];for(let _0x298dcc in _0x49011b[_0x2efcac(0x44a)])_0x49011b[_0x2efcac(0x44a)][_0x2efcac(0x517)](_0x298dcc)&&(_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x298dcc]=_0x49011b[_0x2efcac(0x44a)][_0x298dcc]);if(this['logger'][_0x2efcac(0x642)](this[_0x2efcac(0x3ae)]+'\x20('+this[_0x2efcac(0x60b)][_0x2efcac(0x3ad)]+_0x2efcac(0x83a)+JSON[_0x2efcac(0x254)](_0x11bb24[_0x2efcac(0x848)][_0x2219e9])),_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)]&&'header'in _0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x3d4)]){this[_0x2efcac(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x2efcac(0x60b)][_0x2efcac(0x3ad)]+_0x2efcac(0x733));let _0x4ba365=JSON['stringify'](_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x5cb)],null,0x1);_0x4ba365['length']>0x2&&(_0x4ba365=_0x4ba365['substring'](0x1,_0x4ba365[_0x2efcac(0x3f7)]-0x1)[_0x2efcac(0x888)]()),_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)]['headerString']=_0x4ba365;}if(_0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x3d4)]&&_0x2efcac(0x4ef)in _0x11bb24[_0x2efcac(0x848)][_0x2219e9]['apirequest']&&!(_0x2efcac(0x661)in _0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)])){this[_0x2efcac(0x588)][_0x2efcac(0x642)](this[_0x2efcac(0x3ae)]+'\x20('+this[_0x2efcac(0x60b)][_0x2efcac(0x3ad)]+_0x2efcac(0x425)),_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x4f2)]=!0x1;let _0x39072f=JSON[_0x2efcac(0x254)](_0x11bb24['blocks'][_0x2219e9]['apirequest'][_0x2efcac(0x4ef)],null,0x2);_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x661)]=_0x39072f;}if(_0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x3d4)]&&_0x2efcac(0x661)in _0x11bb24['blocks'][_0x2219e9][_0x2efcac(0x3d4)]){_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)]['bodyStringErrorParse']=!0x1;let _0x10a2ad=_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x661)],_0x14b234=this[_0x2efcac(0x5e0)](_0x10a2ad);_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x661)]=_0x14b234[_0x2efcac(0x83c)],_0x11bb24[_0x2efcac(0x848)][_0x2219e9][_0x2efcac(0x3d4)][_0x2efcac(0x4f2)]=_0x14b234[_0x2efcac(0x71a)];}let _0x214071=_0x11bb24[_0x2efcac(0x848)][_0x2219e9]['groupId'];_0x4d90a2!==_0x214071?(this[_0x2efcac(0x4ec)](_0x11bb24[_0x2efcac(0x848)],_0x4d90a2),this[_0x2efcac(0x4ec)](_0x11bb24[_0x2efcac(0x848)],_0x214071)):this[_0x2efcac(0x4ec)](_0x11bb24[_0x2efcac(0x848)],_0x4d90a2);}[a0_0x2b042e(0x5e0)](_0x1401c9){const _0x4128ed=a0_0x2b042e;let _0x526c32='\u205f',_0x36879f=!0x1,_0x392523='';for(let _0x2bdfaa=0x0;_0x2bdfaa<_0x1401c9[_0x4128ed(0x3f7)];_0x2bdfaa++){let _0x3e36c4=_0x1401c9[_0x2bdfaa];_0x3e36c4==='\x22'&&(_0x2bdfaa===0x0||_0x1401c9[_0x2bdfaa-0x1]!=='\x5c')&&(_0x36879f=!_0x36879f),!(!_0x36879f&&(_0x3e36c4==='\x0a'||_0x3e36c4==='\x20'||_0x3e36c4===_0x526c32))&&(_0x392523+=_0x3e36c4);}let _0x3b4c28={},_0xf0b495=9876543210.1234,_0x44fe5d=_0x392523[_0x4128ed(0x417)](/\{\{([^}]+)\}\}/g,_0x1ad16e=>{let _0x317e47=_0x1ad16e,_0x48168b=''+_0xf0b495;return _0x3b4c28[_0x48168b]=_0x317e47,_0xf0b495+=0.0001,_0x48168b;}),_0x1941be='',_0x2b2f64=!0x1;try{let _0x5b66bd=JSON[_0x4128ed(0x8c0)](_0x44fe5d);_0x1941be=JSON[_0x4128ed(0x254)](_0x5b66bd,null,0x2),_0x1941be=_0x1941be['replace'](/\n( +)/g,(_0x1f38a0,_0x39788d)=>{let _0x594c86=_0x39788d['length'];return'\x0a'+_0x526c32['repeat'](_0x594c86*0x2);}),_0x1941be=_0x1941be[_0x4128ed(0x417)](/(\d{10,}\.\d+)/g,_0x367e0c=>_0x3b4c28[_0x367e0c]||_0x367e0c);}catch(_0x398bcd){this['logger']['error'](_0x4128ed(0x55d)+_0x398bcd),_0x1941be=_0x1401c9,_0x2b2f64=!0x0;}return{'result':_0x1941be,'error':_0x2b2f64};}['addBlock'](_0x521d44,_0x4bd9a4){const _0x4d6231=a0_0x2b042e;if(_0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x1fa)]==='start'){this['throwAndLogError'](_0x4d6231(0x6dd));return;}if(_0x4bd9a4[_0x4d6231(0x44a)]['apirequest']&&_0x4d6231(0x5cb)in _0x4bd9a4['block'][_0x4d6231(0x3d4)]){this[_0x4d6231(0x588)][_0x4d6231(0x642)](this[_0x4d6231(0x3ae)]+'\x20('+this[_0x4d6231(0x60b)][_0x4d6231(0x3ad)]+_0x4d6231(0x733));let _0x2b379c=JSON[_0x4d6231(0x254)](_0x4bd9a4['block'][_0x4d6231(0x3d4)][_0x4d6231(0x5cb)],null,0x1);_0x2b379c[_0x4d6231(0x3f7)]>0x2&&(_0x2b379c=_0x2b379c[_0x4d6231(0x263)](0x1,_0x2b379c['length']-0x1)[_0x4d6231(0x888)]()),_0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x3d4)]['headerString']=_0x2b379c;}_0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x3d4)]&&_0x4d6231(0x4ef)in _0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x3d4)]&&(this[_0x4d6231(0x588)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4d6231(0x3ad)]+_0x4d6231(0x425)),_0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x3d4)][_0x4d6231(0x661)]=JSON[_0x4d6231(0x254)](_0x4bd9a4['block'][_0x4d6231(0x3d4)][_0x4d6231(0x4ef)],null,0x1)[_0x4d6231(0x888)]()),_0x521d44[_0x4d6231(0x848)][_0x4d6231(0x2f6)](_0x4bd9a4[_0x4d6231(0x44a)]),this[_0x4d6231(0x4ec)](_0x521d44[_0x4d6231(0x848)],_0x4bd9a4[_0x4d6231(0x44a)][_0x4d6231(0x687)]);}[a0_0x2b042e(0x4ec)](_0x5d54bc,_0x497153){const _0x331386=a0_0x2b042e;let _0x3d9e3e=_0x5d54bc[_0x331386(0x7ca)](_0x15aa1d=>_0x15aa1d[_0x331386(0x687)]===_0x497153);_0x3d9e3e['sort']((_0x4dcd3f,_0x4402ca)=>_0x4dcd3f['order']-_0x4402ca['order']),_0x3d9e3e[_0x331386(0x1e3)]((_0x17415b,_0x2b52c4)=>_0x17415b[_0x331386(0x906)]=_0x2b52c4+0x1);}async['editFlowReply'](_0x4ef650){const _0x12054e=a0_0x2b042e;try{if(this['logger'][_0x12054e(0x642)](this[_0x12054e(0x3ae)]+'\x20('+this[_0x12054e(0x60b)][_0x12054e(0x3ad)]+_0x12054e(0x26d)),!_0x4ef650||!_0x4ef650[_0x12054e(0x6bc)]){this['throwAndLogError'](_0x12054e(0x289));return;}if(!this[_0x12054e(0x69f)][_0x12054e(0x8df)]['find'](_0x3d9788=>_0x3d9788['_id']===_0x4ef650[_0x12054e(0x48a)]))throw this[_0x12054e(0x588)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x12054e(0x3ad)]+_0x12054e(0x3dc)+_0x4ef650[_0x12054e(0x48a)]+_0x12054e(0x290)),new m(_0x12054e(0x464));let _0x1a26ed=await this[_0x12054e(0x5b9)]['flow'][_0x12054e(0x296)]({'where':{'_id':_0x4ef650[_0x12054e(0x48a)]}});if(!_0x1a26ed||!_0x1a26ed[_0x12054e(0x47e)]?.[_0x12054e(0x8ef)](this[_0x12054e(0x60b)][_0x12054e(0x3ad)]))throw this[_0x12054e(0x588)][_0x12054e(0x71a)](this[_0x12054e(0x3ae)]+'\x20('+this[_0x12054e(0x60b)]['wuid']+_0x12054e(0x800)+_0x4ef650[_0x12054e(0x48a)]+_0x12054e(0x34d)),new m('Flow\x20\x27'+_0x4ef650['_id']+_0x12054e(0x34d));if(!_0x1a26ed['whoCanEdit']?.[_0x12054e(0x8ef)](this[_0x12054e(0x60b)][_0x12054e(0x3ad)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0xc605be}=_0x4ef650;_0xc605be?.[_0x12054e(0x231)]?(this[_0x12054e(0x695)](_0x1a26ed,_0x4ef650),this[_0x12054e(0x660)](_0x1a26ed[_0x12054e(0x637)],_0x4ef650[_0x12054e(0x6bc)]['blockId'])):_0xc605be[_0x12054e(0x48a)]?(await this[_0x12054e(0x578)](_0x1a26ed,_0x4ef650),this['reorderReplyOptions'](_0x1a26ed[_0x12054e(0x637)],_0x4ef650[_0x12054e(0x6bc)][_0x12054e(0x75e)])):(this[_0x12054e(0x8da)](_0x1a26ed,_0x4ef650),this[_0x12054e(0x660)](_0x1a26ed[_0x12054e(0x637)],_0x4ef650[_0x12054e(0x6bc)][_0x12054e(0x75e)]));let _0x1e0d1f=await this['repository'][_0x12054e(0x1ff)]['updateOne'](_0x1a26ed['_id'],_0x1a26ed);if(!_0x1e0d1f)throw new Error(_0x12054e(0x828));return _0x1e0d1f;}catch(_0x357033){this[_0x12054e(0x910)](_0x12054e(0x29f)+_0x357033);}}[a0_0x2b042e(0x660)](_0x101490,_0x5bf9b8){const _0x3dfbbe=a0_0x2b042e;_0x101490[_0x3dfbbe(0x1e3)](_0x34a9c4=>{const _0x19c65d=_0x3dfbbe;_0x34a9c4[_0x19c65d(0x75e)]===_0x5bf9b8&&_0x34a9c4[_0x19c65d(0x906)]===void 0x0&&(_0x34a9c4[_0x19c65d(0x906)]=0x270f);});let _0x224df3=_0x101490['filter'](_0x119fe4=>_0x119fe4[_0x3dfbbe(0x75e)]===_0x5bf9b8);_0x224df3[_0x3dfbbe(0x516)]((_0x2cd809,_0x24ce74)=>_0x2cd809[_0x3dfbbe(0x906)]-_0x24ce74[_0x3dfbbe(0x906)]),_0x224df3[_0x3dfbbe(0x1e3)]((_0x6fb736,_0x24da51)=>{_0x6fb736['order']=_0x24da51+0x1;}),_0x101490[_0x3dfbbe(0x1e3)](_0x5515f1=>{const _0x3c3b66=_0x3dfbbe;if(_0x5515f1[_0x3c3b66(0x75e)]===_0x5bf9b8){let _0x1a5110=_0x224df3[_0x3c3b66(0x6da)](_0x2aa5ab=>_0x2aa5ab[_0x3c3b66(0x48a)]&&_0x5515f1[_0x3c3b66(0x48a)]&&_0x2aa5ab[_0x3c3b66(0x48a)][_0x3c3b66(0x413)]()===_0x5515f1[_0x3c3b66(0x48a)][_0x3c3b66(0x413)]());_0x1a5110&&(_0x5515f1['order']=_0x1a5110[_0x3c3b66(0x906)]);}});}['deleteReplyOption'](_0x3e43fe,_0x5262d5){const _0x8d047e=a0_0x2b042e;let {replyOption:_0x1036d4}=_0x5262d5;if(!_0x1036d4[_0x8d047e(0x48a)]){this['throwAndLogError'](_0x8d047e(0x527));return;}if(!_0x3e43fe['replyOptions'][_0x8d047e(0x6da)](_0x194fe9=>_0x194fe9[_0x8d047e(0x48a)][_0x8d047e(0x413)]()===_0x5262d5[_0x8d047e(0x6bc)]['_id']['toString']())){this[_0x8d047e(0x910)](_0x8d047e(0x1f1)+_0x1036d4[_0x8d047e(0x48a)]+_0x8d047e(0x54e));return;}_0x3e43fe[_0x8d047e(0x637)]=_0x3e43fe[_0x8d047e(0x637)][_0x8d047e(0x7ca)](_0x6dd346=>_0x6dd346[_0x8d047e(0x48a)][_0x8d047e(0x413)]()!==_0x5262d5[_0x8d047e(0x6bc)]['_id']['toString']());}async['updateReplyOption'](_0x52a985,_0x346c8f){const _0x4db7e8=a0_0x2b042e;let _0x1e421e=_0x52a985['replyOptions'][_0x4db7e8(0x56a)](_0xa32a34=>_0xa32a34[_0x4db7e8(0x48a)][_0x4db7e8(0x413)]()===_0x346c8f[_0x4db7e8(0x6bc)][_0x4db7e8(0x48a)][_0x4db7e8(0x413)]());if(_0x1e421e===-0x1){this[_0x4db7e8(0x910)](_0x4db7e8(0x1f1)+_0x346c8f[_0x4db7e8(0x6bc)][_0x4db7e8(0x48a)]+_0x4db7e8(0x21d));return;}for(let _0x1e89b9 in _0x346c8f[_0x4db7e8(0x6bc)])_0x346c8f[_0x4db7e8(0x6bc)][_0x4db7e8(0x517)](_0x1e89b9)&&(_0x52a985[_0x4db7e8(0x637)][_0x1e421e][_0x1e89b9]=_0x346c8f['replyOption'][_0x1e89b9]);}[a0_0x2b042e(0x8da)](_0x12343d,_0x1f0d00){const _0x3e0000=a0_0x2b042e;_0x12343d[_0x3e0000(0x637)][_0x3e0000(0x2f6)](_0x1f0d00[_0x3e0000(0x6bc)]);}async['editFlowGroup'](_0x16c73a){const _0x3fe04d=a0_0x2b042e;this['logger'][_0x3fe04d(0x642)](this[_0x3fe04d(0x3ae)]+'\x20('+this['instance'][_0x3fe04d(0x3ad)]+_0x3fe04d(0x4d2)+JSON[_0x3fe04d(0x254)](_0x16c73a,null,0x2));try{if(this['logger'][_0x3fe04d(0x642)](this[_0x3fe04d(0x3ae)]+'\x20('+this[_0x3fe04d(0x60b)][_0x3fe04d(0x3ad)]+_0x3fe04d(0x504)),!this[_0x3fe04d(0x69f)][_0x3fe04d(0x8df)][_0x3fe04d(0x6da)](_0x3db3ff=>_0x3db3ff[_0x3fe04d(0x48a)]===_0x16c73a[_0x3fe04d(0x48a)]))throw this['logger']['verbose'](this[_0x3fe04d(0x3ae)]+'\x20('+this[_0x3fe04d(0x60b)][_0x3fe04d(0x3ad)]+_0x3fe04d(0x3dc)+_0x16c73a[_0x3fe04d(0x48a)]+_0x3fe04d(0x290)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1ebf48=await this['repository'][_0x3fe04d(0x1ff)][_0x3fe04d(0x296)]({'where':{'_id':_0x16c73a[_0x3fe04d(0x48a)]}});if(!_0x1ebf48||!_0x1ebf48[_0x3fe04d(0x47e)]?.[_0x3fe04d(0x8ef)](this['instance'][_0x3fe04d(0x3ad)]))throw this[_0x3fe04d(0x588)][_0x3fe04d(0x71a)](this[_0x3fe04d(0x3ae)]+'\x20('+this['instance']['wuid']+_0x3fe04d(0x800)+_0x16c73a[_0x3fe04d(0x48a)]+_0x3fe04d(0x34d)),new m('Flow\x20\x27'+_0x16c73a[_0x3fe04d(0x48a)]+_0x3fe04d(0x34d));if(!_0x1ebf48[_0x3fe04d(0x274)]?.[_0x3fe04d(0x8ef)](this[_0x3fe04d(0x60b)][_0x3fe04d(0x3ad)]))throw new m(_0x3fe04d(0x627));if(_0x16c73a['group']&&_0x16c73a[_0x3fe04d(0x603)]?.[_0x3fe04d(0x231)]===!0x0){if(this['logger']['verbose'](this[_0x3fe04d(0x3ae)]+'\x20('+this[_0x3fe04d(0x60b)][_0x3fe04d(0x3ad)]+_0x3fe04d(0x7b5)),_0x16c73a[_0x3fe04d(0x603)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x1ebf48[_0x3fe04d(0x848)][_0x3fe04d(0x8c6)](_0x472659=>_0x472659['groupId'][_0x3fe04d(0x413)]()===_0x16c73a[_0x3fe04d(0x603)][_0x3fe04d(0x48a)]))return this[_0x3fe04d(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x3fe04d(0x60b)]['wuid']+_0x3fe04d(0x38a)),{'message':_0x3fe04d(0x7fc)};_0x1ebf48[_0x3fe04d(0x745)]=_0x1ebf48[_0x3fe04d(0x745)]['filter'](_0x45b39c=>_0x45b39c[_0x3fe04d(0x48a)][_0x3fe04d(0x413)]()!==_0x16c73a[_0x3fe04d(0x603)]['_id']);}else{if(_0x16c73a[_0x3fe04d(0x603)]){if(_0x16c73a[_0x3fe04d(0x603)][_0x3fe04d(0x1f4)]===!0x0)return{'message':_0x3fe04d(0x41b)};if(_0x16c73a[_0x3fe04d(0x603)][_0x3fe04d(0x48a)]){let _0x42a7c4=_0x1ebf48[_0x3fe04d(0x745)][_0x3fe04d(0x6da)](_0x2db5db=>_0x2db5db[_0x3fe04d(0x48a)][_0x3fe04d(0x413)]()===_0x16c73a[_0x3fe04d(0x603)][_0x3fe04d(0x48a)]);_0x42a7c4&&(_0x16c73a['group']['x']<0x0&&(_0x16c73a[_0x3fe04d(0x603)]['x']=0x0),_0x16c73a[_0x3fe04d(0x603)]['y']<0x0&&(_0x16c73a['group']['y']=0x0),Object[_0x3fe04d(0x589)](_0x42a7c4,_0x16c73a[_0x3fe04d(0x603)]));}else _0x1ebf48[_0x3fe04d(0x745)][_0x3fe04d(0x2f6)](_0x16c73a[_0x3fe04d(0x603)]);}}let _0x351bf4=await this[_0x3fe04d(0x5b9)][_0x3fe04d(0x1ff)][_0x3fe04d(0x2ba)](_0x1ebf48[_0x3fe04d(0x48a)],_0x1ebf48);if(!_0x351bf4)throw new Error(_0x3fe04d(0x828));return _0x351bf4;}catch(_0x5780b3){let _0x1abf40=_0x3fe04d(0x452),_0x852716=_0x5780b3 instanceof Error?_0x5780b3[_0x3fe04d(0x239)]:typeof _0x5780b3==_0x3fe04d(0x880)?JSON[_0x3fe04d(0x254)](_0x5780b3):_0x5780b3,_0x324c2b=_0x1abf40+':\x20'+_0x852716;throw this[_0x3fe04d(0x588)]['error'](this[_0x3fe04d(0x3ae)]+'\x20('+this['instance'][_0x3fe04d(0x3ad)]+_0x3fe04d(0x82b)+_0x324c2b),new m(_0x324c2b);}}async['editFlowCondition'](_0x467b1c){const _0x4f3dc3=a0_0x2b042e;try{if(this[_0x4f3dc3(0x588)][_0x4f3dc3(0x642)](this[_0x4f3dc3(0x3ae)]+'\x20('+this[_0x4f3dc3(0x60b)][_0x4f3dc3(0x3ad)]+_0x4f3dc3(0x362)),!this[_0x4f3dc3(0x69f)][_0x4f3dc3(0x8df)][_0x4f3dc3(0x6da)](_0x254cc9=>_0x254cc9[_0x4f3dc3(0x48a)]===_0x467b1c[_0x4f3dc3(0x48a)]))throw this[_0x4f3dc3(0x588)][_0x4f3dc3(0x642)](this[_0x4f3dc3(0x3ae)]+'\x20('+this[_0x4f3dc3(0x60b)]['wuid']+_0x4f3dc3(0x3dc)+_0x467b1c[_0x4f3dc3(0x48a)]+'\x27\x20não\x20encontrado'),new m(_0x4f3dc3(0x464));let _0x38f919=await this[_0x4f3dc3(0x5b9)]['flow'][_0x4f3dc3(0x296)]({'where':{'_id':_0x467b1c[_0x4f3dc3(0x48a)]}});if(!_0x38f919||!_0x38f919[_0x4f3dc3(0x47e)]?.[_0x4f3dc3(0x8ef)](this[_0x4f3dc3(0x60b)]['wuid']))throw this[_0x4f3dc3(0x588)][_0x4f3dc3(0x71a)](this[_0x4f3dc3(0x3ae)]+'\x20('+this[_0x4f3dc3(0x60b)]['wuid']+_0x4f3dc3(0x800)+_0x467b1c[_0x4f3dc3(0x48a)]+_0x4f3dc3(0x34d)),new m(_0x4f3dc3(0x232)+_0x467b1c[_0x4f3dc3(0x48a)]+_0x4f3dc3(0x34d));if(!_0x38f919[_0x4f3dc3(0x274)]?.[_0x4f3dc3(0x8ef)](this[_0x4f3dc3(0x60b)]['wuid']))throw new m(_0x4f3dc3(0x627));let _0x1eac03=!0x1;if(_0x467b1c[_0x4f3dc3(0x431)]?.[_0x4f3dc3(0x231)]===!0x0)_0x38f919['conditions']=_0x38f919[_0x4f3dc3(0x39c)]['filter'](_0xa29b54=>_0xa29b54&&_0x467b1c[_0x4f3dc3(0x431)]&&_0xa29b54[_0x4f3dc3(0x48a)]&&_0x467b1c[_0x4f3dc3(0x431)][_0x4f3dc3(0x48a)]&&_0xa29b54[_0x4f3dc3(0x48a)][_0x4f3dc3(0x413)]()!==_0x467b1c[_0x4f3dc3(0x431)][_0x4f3dc3(0x48a)][_0x4f3dc3(0x413)]()),_0x1eac03=!0x0;else{let _0x4894a2=_0x38f919[_0x4f3dc3(0x39c)][_0x4f3dc3(0x6da)](_0x282885=>_0x282885&&_0x467b1c['condition']&&_0x282885['_id']&&_0x467b1c[_0x4f3dc3(0x431)][_0x4f3dc3(0x48a)]&&_0x282885[_0x4f3dc3(0x48a)][_0x4f3dc3(0x413)]()===_0x467b1c['condition'][_0x4f3dc3(0x48a)]['toString']());_0x4894a2?(_0x1eac03=_0x4894a2[_0x4f3dc3(0x906)]!==_0x467b1c[_0x4f3dc3(0x431)][_0x4f3dc3(0x906)],Object[_0x4f3dc3(0x589)](_0x4894a2,_0x467b1c[_0x4f3dc3(0x431)])):(_0x38f919[_0x4f3dc3(0x39c)][_0x4f3dc3(0x2f6)](_0x467b1c[_0x4f3dc3(0x431)]),_0x1eac03=!0x0);}if(_0x1eac03){_0x38f919[_0x4f3dc3(0x39c)]['sort']((_0x426a0d,_0xa63e01)=>_0x426a0d[_0x4f3dc3(0x906)]>_0xa63e01[_0x4f3dc3(0x906)]?0x1:_0xa63e01[_0x4f3dc3(0x906)]>_0x426a0d[_0x4f3dc3(0x906)]?-0x1:0x0);for(let _0x26ffc7=0x0;_0x26ffc7<_0x38f919[_0x4f3dc3(0x39c)][_0x4f3dc3(0x3f7)];_0x26ffc7++)_0x38f919[_0x4f3dc3(0x39c)][_0x26ffc7][_0x4f3dc3(0x906)]=_0x26ffc7+0x1;_0x38f919[_0x4f3dc3(0x39c)]['length']>0x0&&(_0x38f919[_0x4f3dc3(0x39c)][0x0]['OrAnd']=_0x4f3dc3(0x851));}let _0x234213=await this[_0x4f3dc3(0x5b9)][_0x4f3dc3(0x1ff)][_0x4f3dc3(0x2ba)](_0x38f919['_id'],_0x38f919);if(!_0x234213)throw new Error(_0x4f3dc3(0x828));return _0x234213;}catch(_0x25c385){let _0x434397=_0x4f3dc3(0x52b),_0x490608=_0x25c385 instanceof Error?_0x25c385[_0x4f3dc3(0x239)]:typeof _0x25c385==_0x4f3dc3(0x880)?JSON[_0x4f3dc3(0x254)](_0x25c385):_0x25c385,_0x1672b8=_0x434397+':\x20'+_0x490608;throw this[_0x4f3dc3(0x588)]['error'](this[_0x4f3dc3(0x3ae)]+'\x20('+this[_0x4f3dc3(0x60b)]['wuid']+_0x4f3dc3(0x82b)+_0x1672b8),new m(_0x1672b8);}}async[a0_0x2b042e(0x39e)](_0x3f3216){const _0x5ec4ee=a0_0x2b042e;try{if(this[_0x5ec4ee(0x588)][_0x5ec4ee(0x642)](this[_0x5ec4ee(0x3ae)]+'\x20('+this[_0x5ec4ee(0x60b)][_0x5ec4ee(0x3ad)]+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x5ec4ee(0x69f)][_0x5ec4ee(0x8df)][_0x5ec4ee(0x6da)](_0xde6ec9=>_0xde6ec9[_0x5ec4ee(0x48a)]===_0x3f3216[_0x5ec4ee(0x48a)]))throw this[_0x5ec4ee(0x588)][_0x5ec4ee(0x642)](this['instanceName']+'\x20('+this[_0x5ec4ee(0x60b)][_0x5ec4ee(0x3ad)]+'):\x20Fluxo\x20\x27'+_0x3f3216[_0x5ec4ee(0x48a)]+_0x5ec4ee(0x290)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3f11c6=await this[_0x5ec4ee(0x5b9)]['flow'][_0x5ec4ee(0x296)]({'where':{'_id':_0x3f3216[_0x5ec4ee(0x48a)]}});if(!_0x3f11c6||!_0x3f11c6[_0x5ec4ee(0x47e)]?.['includes'](this['instance'][_0x5ec4ee(0x3ad)]))throw this['logger'][_0x5ec4ee(0x71a)](this['instanceName']+'\x20('+this[_0x5ec4ee(0x60b)][_0x5ec4ee(0x3ad)]+_0x5ec4ee(0x800)+_0x3f3216[_0x5ec4ee(0x48a)]+_0x5ec4ee(0x34d)),new m(_0x5ec4ee(0x232)+_0x3f3216['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3f11c6[_0x5ec4ee(0x274)]?.['includes'](this['instance'][_0x5ec4ee(0x3ad)]))throw new m(_0x5ec4ee(0x627));let _0x1e8dbd=!0x1;if(_0x3f3216['varedit']?.[_0x5ec4ee(0x231)]===!0x0)_0x3f11c6[_0x5ec4ee(0x378)]=_0x3f11c6[_0x5ec4ee(0x378)][_0x5ec4ee(0x7ca)](_0x2d15e8=>_0x2d15e8&&_0x3f3216[_0x5ec4ee(0x3ef)]&&_0x2d15e8[_0x5ec4ee(0x48a)]&&_0x3f3216[_0x5ec4ee(0x3ef)][_0x5ec4ee(0x48a)]&&_0x2d15e8[_0x5ec4ee(0x48a)][_0x5ec4ee(0x413)]()!==_0x3f3216[_0x5ec4ee(0x3ef)][_0x5ec4ee(0x48a)]['toString']()),_0x1e8dbd=!0x0;else{let _0x3f52d8=_0x3f11c6[_0x5ec4ee(0x378)][_0x5ec4ee(0x6da)](_0x2d93d1=>_0x2d93d1&&_0x3f3216[_0x5ec4ee(0x3ef)]&&_0x2d93d1[_0x5ec4ee(0x48a)]&&_0x3f3216['varedit'][_0x5ec4ee(0x48a)]&&_0x2d93d1[_0x5ec4ee(0x48a)][_0x5ec4ee(0x413)]()===_0x3f3216[_0x5ec4ee(0x3ef)][_0x5ec4ee(0x48a)][_0x5ec4ee(0x413)]());_0x3f52d8?(_0x1e8dbd=_0x3f52d8['order']!==_0x3f3216['varedit'][_0x5ec4ee(0x906)],Object[_0x5ec4ee(0x589)](_0x3f52d8,_0x3f3216[_0x5ec4ee(0x3ef)])):(_0x3f11c6['varedits']['push'](_0x3f3216[_0x5ec4ee(0x3ef)]),_0x1e8dbd=!0x0);}if(_0x1e8dbd){_0x3f11c6[_0x5ec4ee(0x378)]['sort']((_0x8abb9b,_0x3e89e5)=>_0x8abb9b[_0x5ec4ee(0x906)]>_0x3e89e5[_0x5ec4ee(0x906)]?0x1:_0x3e89e5[_0x5ec4ee(0x906)]>_0x8abb9b['order']?-0x1:0x0);for(let _0x33347e=0x0;_0x33347e<_0x3f11c6['varedits'][_0x5ec4ee(0x3f7)];_0x33347e++)_0x3f11c6[_0x5ec4ee(0x378)][_0x33347e][_0x5ec4ee(0x906)]=_0x33347e+0x1;}let _0xf83e30=await this[_0x5ec4ee(0x5b9)]['flow'][_0x5ec4ee(0x2ba)](_0x3f11c6['_id'],_0x3f11c6);if(!_0xf83e30)throw new Error(_0x5ec4ee(0x828));return _0xf83e30;}catch(_0x588aa5){let _0x259ef3=_0x5ec4ee(0x52b),_0x5d5815=_0x588aa5 instanceof Error?_0x588aa5[_0x5ec4ee(0x239)]:typeof _0x588aa5==_0x5ec4ee(0x880)?JSON[_0x5ec4ee(0x254)](_0x588aa5):_0x588aa5,_0x3b8341=_0x259ef3+':\x20'+_0x5d5815;throw this[_0x5ec4ee(0x588)][_0x5ec4ee(0x71a)](this[_0x5ec4ee(0x3ae)]+'\x20('+this[_0x5ec4ee(0x60b)][_0x5ec4ee(0x3ad)]+_0x5ec4ee(0x82b)+_0x3b8341),new m(_0x3b8341);}}async[a0_0x2b042e(0x620)](_0x5b20bd){const _0x51e756=a0_0x2b042e;try{if(this[_0x51e756(0x588)][_0x51e756(0x642)](this['instanceName']+'\x20('+this['instance'][_0x51e756(0x3ad)]+_0x51e756(0x631)),!this['AutomateSystem'][_0x51e756(0x8df)][_0x51e756(0x6da)](_0x193099=>_0x193099[_0x51e756(0x48a)]===_0x5b20bd[_0x51e756(0x48a)]))throw this[_0x51e756(0x588)][_0x51e756(0x642)](this[_0x51e756(0x3ae)]+'\x20('+this[_0x51e756(0x60b)][_0x51e756(0x3ad)]+'):\x20Fluxo\x20\x27'+_0x5b20bd[_0x51e756(0x48a)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x515c79=await this[_0x51e756(0x5b9)][_0x51e756(0x1ff)][_0x51e756(0x296)]({'where':{'_id':_0x5b20bd[_0x51e756(0x48a)]}});if(!_0x515c79||!_0x515c79['whoCanUse']?.['includes'](this['instance']['wuid']))throw this[_0x51e756(0x588)][_0x51e756(0x71a)](this['instanceName']+'\x20('+this[_0x51e756(0x60b)][_0x51e756(0x3ad)]+_0x51e756(0x800)+_0x5b20bd[_0x51e756(0x48a)]+_0x51e756(0x34d)),new m(_0x51e756(0x232)+_0x5b20bd[_0x51e756(0x48a)]+_0x51e756(0x34d));if(!_0x515c79[_0x51e756(0x274)]?.[_0x51e756(0x8ef)](this[_0x51e756(0x60b)][_0x51e756(0x3ad)]))throw new m(_0x51e756(0x627));_0x5b20bd[_0x51e756(0x916)][_0x51e756(0x69b)]=_0x5b20bd['variable'][_0x51e756(0x69b)][_0x51e756(0x888)](),_0x5b20bd[_0x51e756(0x916)][_0x51e756(0x69b)][_0x51e756(0x834)]('_')&&(_0x5b20bd['variable'][_0x51e756(0x69b)]=_0x5b20bd[_0x51e756(0x916)][_0x51e756(0x69b)][_0x51e756(0x263)](0x1)),_0x5b20bd['variable'][_0x51e756(0x69b)]=_0x5b20bd['variable']['name']['trim']();let _0x32cb84=_0x515c79[_0x51e756(0x4a4)][_0x51e756(0x6da)](_0x743d41=>_0x743d41['name']===_0x5b20bd[_0x51e756(0x916)]['name']);if(_0x32cb84?.[_0x51e756(0x638)]===!0x0)throw new Error(_0x51e756(0x88a));if(_0x5b20bd[_0x51e756(0x916)]?.[_0x51e756(0x231)]===!0x0){if(!_0x32cb84)return{'message':_0x51e756(0x62e)};_0x515c79[_0x51e756(0x4a4)]=_0x515c79[_0x51e756(0x4a4)][_0x51e756(0x7ca)](_0x3faf6d=>_0x3faf6d[_0x51e756(0x69b)]!==_0x5b20bd['variable']['name']);}else _0x32cb84?Object[_0x51e756(0x589)](_0x32cb84,_0x5b20bd[_0x51e756(0x916)]):_0x515c79[_0x51e756(0x4a4)]['push'](_0x5b20bd[_0x51e756(0x916)]);let _0x3b5392=await this[_0x51e756(0x5b9)][_0x51e756(0x1ff)][_0x51e756(0x2ba)](_0x515c79[_0x51e756(0x48a)],_0x515c79);if(!_0x3b5392)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3b5392;}catch(_0x307b5d){let _0x2bcd5d=_0x51e756(0x89e),_0x31eb76=_0x307b5d instanceof Error?_0x307b5d['message']:typeof _0x307b5d==_0x51e756(0x880)?JSON[_0x51e756(0x254)](_0x307b5d):_0x307b5d,_0x37bc20=_0x2bcd5d+':\x20'+_0x31eb76;throw this['logger'][_0x51e756(0x71a)](this['instanceName']+'\x20('+this[_0x51e756(0x60b)][_0x51e756(0x3ad)]+_0x51e756(0x82b)+_0x37bc20),new m(_0x37bc20);}}async[a0_0x2b042e(0x485)](_0x17a63b){const _0xc096b8=a0_0x2b042e;let _0x41caa5=null;try{if(!this[_0xc096b8(0x69f)]?.['flowConfig'][_0xc096b8(0x4c5)])throw new m(_0xc096b8(0x59a));this[_0xc096b8(0x588)][_0xc096b8(0x642)](this[_0xc096b8(0x3ae)]+'\x20('+this[_0xc096b8(0x60b)][_0xc096b8(0x3ad)]+_0xc096b8(0x3c6));let _0x267dac=(await this[_0xc096b8(0x32d)]({'numbers':[_0x17a63b['remoteJid']]}))[0x0];if(!_0x267dac[_0xc096b8(0x373)]&&!(0x0,w['isJidGroup'])(_0x267dac[_0xc096b8(0x697)])&&!_0x267dac['jid'][_0xc096b8(0x8ef)](_0xc096b8(0x420)))throw _0x41caa5=JSON[_0xc096b8(0x254)](_0x267dac,null,0x2),new m(_0x267dac);let _0x1b562a;if(_0x17a63b[_0xc096b8(0x69b)][_0xc096b8(0x3f7)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0xc096b8(0x2d3)](_0x17a63b[_0xc096b8(0x69b)])?_0x1b562a=this[_0xc096b8(0x69f)][_0xc096b8(0x8df)][_0xc096b8(0x6da)](_0xf18217=>_0xf18217[_0xc096b8(0x48a)]===_0x17a63b[_0xc096b8(0x69b)]):_0x1b562a=this['AutomateSystem']['flows'][_0xc096b8(0x6da)](_0x270a49=>_0x270a49[_0xc096b8(0x69b)]===_0x17a63b[_0xc096b8(0x69b)]),!_0x1b562a)throw this[_0xc096b8(0x588)]['verbose'](this[_0xc096b8(0x3ae)]+'\x20('+this[_0xc096b8(0x60b)][_0xc096b8(0x3ad)]+_0xc096b8(0x3dc)+_0x17a63b[_0xc096b8(0x69b)]+_0xc096b8(0x290)),new m(_0xc096b8(0x464));let _0x4b401d=await this[_0xc096b8(0x5b9)][_0xc096b8(0x1ff)][_0xc096b8(0x296)]({'where':{'_id':_0x1b562a['_id']}});if(!_0x4b401d||!_0x4b401d[_0xc096b8(0x47e)]?.[_0xc096b8(0x8ef)](this[_0xc096b8(0x60b)][_0xc096b8(0x3ad)]))throw this[_0xc096b8(0x588)][_0xc096b8(0x71a)](this[_0xc096b8(0x3ae)]+'\x20('+this[_0xc096b8(0x60b)]['wuid']+'):\x20Flow\x20\x27'+_0x1b562a['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x41caa5=_0xc096b8(0x232)+_0x1b562a['_id']+_0xc096b8(0x34d),new m(_0x41caa5);let _0x4d1904=await this['createConversationforStartFlow'](_0x4b401d,_0x267dac[_0xc096b8(0x697)],_0x17a63b[_0xc096b8(0x23a)]);if(_0x4d1904){this['logger']['verbose'](this[_0xc096b8(0x3ae)]+'\x20('+this[_0xc096b8(0x60b)][_0xc096b8(0x3ad)]+_0xc096b8(0x62b));let _0x48e09f=await this[_0xc096b8(0x2e3)](_0x4d1904);return _0x48e09f&&await this[_0xc096b8(0x476)](_0x4d1904,_0x48e09f),{'message':'Flow\x20iniciado\x20com\x20'+_0x17a63b[_0xc096b8(0x786)]};}}catch(_0x1d8ae7){if(this[_0xc096b8(0x588)][_0xc096b8(0x71a)](this[_0xc096b8(0x3ae)]+'\x20('+this[_0xc096b8(0x60b)]['wuid']+_0xc096b8(0x422)+(_0x1d8ae7 instanceof Error?_0x1d8ae7[_0xc096b8(0x239)]:JSON[_0xc096b8(0x254)](_0x1d8ae7,null,0x2))),_0x41caa5=_0x1d8ae7 instanceof Error?_0x1d8ae7['message']:JSON[_0xc096b8(0x254)](_0x1d8ae7,null,0x2),_0x41caa5)throw new m(_0xc096b8(0x91b)+_0x41caa5);}}async['startFlowWebhook'](_0x1625b2,_0x3adcea,_0xaa3b08){const _0x49cff9=a0_0x2b042e;let _0x4e35f2=null;try{if(!this[_0x49cff9(0x69f)]?.['flowConfig'][_0x49cff9(0x4c5)])throw new m(_0x49cff9(0x59a));if(this[_0x49cff9(0x588)][_0x49cff9(0x642)](this[_0x49cff9(0x3ae)]+'\x20('+this[_0x49cff9(0x60b)][_0x49cff9(0x3ad)]+_0x49cff9(0x3c6)),_0x3adcea){let _0xa828ab=(await this['whatsappNumber']({'numbers':[_0x3adcea]}))[0x0];if(!_0xa828ab[_0x49cff9(0x373)]&&!(0x0,w['isJidGroup'])(_0xa828ab['jid'])&&!_0xa828ab[_0x49cff9(0x697)][_0x49cff9(0x8ef)]('@broadcast'))throw _0x4e35f2=JSON['stringify'](_0xa828ab,null,0x2),new m(_0xa828ab);_0x3adcea=_0xa828ab['jid'];}else _0x3adcea||(_0x3adcea=(0x0,Q['v4'])());let _0x171de7=await this['repository'][_0x49cff9(0x1ff)][_0x49cff9(0x296)]({'where':{'_id':_0x1625b2}});if(!_0x171de7||!_0x171de7[_0x49cff9(0x47e)]?.[_0x49cff9(0x8ef)](this['instance'][_0x49cff9(0x3ad)]))throw this[_0x49cff9(0x588)]['error'](this[_0x49cff9(0x3ae)]+'\x20('+this[_0x49cff9(0x60b)]['wuid']+'):\x20Flow\x20\x27'+_0x1625b2+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1625b2+_0x49cff9(0x34d));let _0x1ee2ad=await this[_0x49cff9(0x3f3)](_0x171de7,_0x3adcea,null);if(_0x1ee2ad){this[_0x49cff9(0x588)][_0x49cff9(0x642)](this[_0x49cff9(0x3ae)]+'\x20('+this[_0x49cff9(0x60b)][_0x49cff9(0x3ad)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x1179be;if(_0xaa3b08){let _0x4ccae9=_0x1ee2ad[_0x49cff9(0x349)][_0x49cff9(0x616)],_0xc9e680=this[_0x49cff9(0x675)](_0xaa3b08);Object[_0x49cff9(0x589)](_0x4ccae9,_0xc9e680),_0x1ee2ad[_0x49cff9(0x349)][_0x49cff9(0x616)]=_0x4ccae9,_0x1179be={'error':!0x1,'apiResponse':_0xaa3b08};}let _0x57f14a=await this[_0x49cff9(0x2e3)](_0x1ee2ad);return _0x57f14a&&await this[_0x49cff9(0x476)](_0x1ee2ad,_0x57f14a),{'message':_0x49cff9(0x3db)};}}catch(_0x5a99f1){if(this['logger']['error'](this[_0x49cff9(0x3ae)]+'\x20('+this[_0x49cff9(0x60b)]['wuid']+_0x49cff9(0x422)+(_0x5a99f1 instanceof Error?_0x5a99f1[_0x49cff9(0x239)]:JSON[_0x49cff9(0x254)](_0x5a99f1,null,0x2))),_0x4e35f2=_0x5a99f1 instanceof Error?_0x5a99f1['message']:JSON['stringify'](_0x5a99f1,null,0x2),_0x4e35f2)throw new m(_0x49cff9(0x91b)+_0x4e35f2);}}async['closeExistingConversations'](_0x4adc10){const _0x3bf227=a0_0x2b042e;try{let _0x16b0f0={'remoteJid':_0x4adc10,'status':_0x3bf227(0x81f)},_0x4795cf={'status':_0x3bf227(0x2f8)},_0xae9898=await this[_0x3bf227(0x5b9)][_0x3bf227(0x82e)][_0x3bf227(0x8f9)](_0x16b0f0,_0x4795cf,this['instance'][_0x3bf227(0x3ad)]);return this['logger'][_0x3bf227(0x642)](this['instanceName']+'\x20('+this['instance'][_0x3bf227(0x3ad)]+_0x3bf227(0x397)),_0xae9898;}catch(_0x2107da){throw this[_0x3bf227(0x588)]['error'](this[_0x3bf227(0x3ae)]+'\x20('+this[_0x3bf227(0x60b)]['wuid']+_0x3bf227(0x694)+_0x2107da[_0x3bf227(0x239)]),_0x2107da;}}async[a0_0x2b042e(0x3f3)](_0x2a2df0,_0x211d30,_0xfdbbf0){const _0x169a8d=a0_0x2b042e;this[_0x169a8d(0x588)][_0x169a8d(0x642)](this[_0x169a8d(0x3ae)]+'\x20('+this[_0x169a8d(0x60b)]['wuid']+_0x169a8d(0x8ee)),await this[_0x169a8d(0x4eb)](_0x211d30);try{let _0x1ad143=require(_0x169a8d(0x31f))[_0x169a8d(0x5fa)],_0x5a4a11=Date['now'](),_0x493101=_0x169a8d(0x52e),_0x3c100c={},_0x435be7={},_0x2a30dc=this['AutomateSystem'][_0x169a8d(0x8df)][_0x169a8d(0x6da)](_0x22e357=>_0x22e357[_0x169a8d(0x48a)]===_0x2a2df0['_id']?.[_0x169a8d(0x413)]()),_0x5d7c63=_0x2a30dc?.['minutesToClose']??_0x2a2df0[_0x169a8d(0x846)]??0x0,_0x4db5f9=_0x2a30dc?.[_0x169a8d(0x767)]??_0x2a2df0[_0x169a8d(0x767)]??!0x1,_0x4672d9={'flowId':_0x2a2df0[_0x169a8d(0x48a)],..._0x2a2df0,'chatLog':null},_0x252fa2=await this[_0x169a8d(0x37f)](_0x4672d9[_0x169a8d(0x4a4)]),_0x1a2f10=await this[_0x169a8d(0x2ab)](_0x211d30),_0xd63103={..._0x252fa2,..._0x1a2f10,'_remoteJid':_0x211d30},_0x4ec229={'lastReceivedMessage':_0x3c100c,'lastSendMessage':_0x435be7,'lastBlockId':_0x493101,'lastCondition':!0x0,'realVariables':_0xd63103};_0x4672d9[_0x169a8d(0x349)]=_0x4ec229,_0x4672d9[_0x169a8d(0x349)][_0x169a8d(0x616)]={..._0xd63103,..._0xfdbbf0},delete _0x4672d9['_id'],_0x4672d9[_0x169a8d(0x48a)]=new _0x1ad143(),_0x4672d9[_0x169a8d(0x700)]=_0x5a4a11,_0x4672d9['status']=_0x169a8d(0x81f),_0x4672d9[_0x169a8d(0x786)]=_0x211d30,_0x4672d9[_0x169a8d(0x846)]=_0x5d7c63,_0x4672d9[_0x169a8d(0x767)]=_0x4db5f9,_0x4672d9[_0x169a8d(0x48a)]=_0x2a2df0[_0x169a8d(0x48a)];let _0x388c09=await this[_0x169a8d(0x5b9)][_0x169a8d(0x82e)][_0x169a8d(0x2ba)](_0x4672d9[_0x169a8d(0x48a)],_0x4672d9,this[_0x169a8d(0x60b)][_0x169a8d(0x3ad)]);return this[_0x169a8d(0x588)][_0x169a8d(0x642)](this[_0x169a8d(0x3ae)]+'\x20('+this[_0x169a8d(0x60b)][_0x169a8d(0x3ad)]+_0x169a8d(0x577)),_0x388c09?_0x4672d9:null;}catch(_0x4423f8){let _0xe614ac=_0x169a8d(0x65a),_0x10918a=_0x4423f8 instanceof Error?_0x4423f8[_0x169a8d(0x239)]:typeof _0x4423f8==_0x169a8d(0x880)?JSON[_0x169a8d(0x254)](_0x4423f8):_0x4423f8,_0x2491f8=_0xe614ac+':\x20'+_0x10918a;throw this[_0x169a8d(0x588)][_0x169a8d(0x71a)](this[_0x169a8d(0x3ae)]+'\x20('+this['instance'][_0x169a8d(0x3ad)]+_0x169a8d(0x82b)+_0x2491f8),new m(_0x2491f8);}}async[a0_0x2b042e(0x449)](_0x3899b5){const _0x9820b6=a0_0x2b042e;try{this[_0x9820b6(0x588)][_0x9820b6(0x642)](this[_0x9820b6(0x3ae)]+'\x20('+this[_0x9820b6(0x60b)]['wuid']+'):\x20Buscando\x20conversa...'),this[_0x9820b6(0x588)][_0x9820b6(0x642)](this['instanceName']+'\x20('+this[_0x9820b6(0x60b)][_0x9820b6(0x3ad)]+_0x9820b6(0x525)+_0x3899b5);let _0x5ec929={'where':{'_id':_0x3899b5}};return await this[_0x9820b6(0x5b9)][_0x9820b6(0x82e)]['findOne'](_0x5ec929,this['instance'][_0x9820b6(0x3ad)]);}catch(_0x5d3b40){let _0x4a8a72='Erro\x20ao\x20buscar\x20a\x20conversa',_0x1cee1b=_0x5d3b40 instanceof Error?_0x5d3b40[_0x9820b6(0x239)]:typeof _0x5d3b40=='object'?JSON[_0x9820b6(0x254)](_0x5d3b40):_0x5d3b40,_0x56eb88=_0x4a8a72+':\x20'+_0x1cee1b;throw this[_0x9820b6(0x588)][_0x9820b6(0x71a)](this[_0x9820b6(0x3ae)]+'\x20('+this['instance'][_0x9820b6(0x3ad)]+_0x9820b6(0x82b)+_0x56eb88),new m(_0x56eb88);}}async[a0_0x2b042e(0x6a0)](_0x9914cd){const _0x4222f4=a0_0x2b042e;try{return this[_0x4222f4(0x588)][_0x4222f4(0x642)](this[_0x4222f4(0x3ae)]+'\x20('+this[_0x4222f4(0x60b)]['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x4222f4(0x5b9)][_0x4222f4(0x82e)][_0x4222f4(0x6da)](_0x9914cd,this['instance'][_0x4222f4(0x3ad)]);}catch(_0x1ecceb){let _0x4a0551=_0x4222f4(0x432),_0x3d9771=_0x1ecceb instanceof Error?_0x1ecceb['message']:typeof _0x1ecceb=='object'?JSON[_0x4222f4(0x254)](_0x1ecceb):_0x1ecceb,_0x3ee8fc=_0x4a0551+':\x20'+_0x3d9771;throw this['logger'][_0x4222f4(0x71a)](this[_0x4222f4(0x3ae)]+'\x20('+this[_0x4222f4(0x60b)][_0x4222f4(0x3ad)]+_0x4222f4(0x82b)+_0x3ee8fc),new m(_0x3ee8fc);}}async[a0_0x2b042e(0x24a)](_0x1d0dd5){const _0x25da11=a0_0x2b042e;try{return this['logger'][_0x25da11(0x642)](this[_0x25da11(0x3ae)]+'\x20('+this[_0x25da11(0x60b)][_0x25da11(0x3ad)]+'):\x20Deletando\x20conversa...'),this[_0x25da11(0x588)]['verbose'](this[_0x25da11(0x3ae)]+'\x20('+this[_0x25da11(0x60b)][_0x25da11(0x3ad)]+_0x25da11(0x282)+_0x1d0dd5),(await this[_0x25da11(0x5b9)]['flowConversation'][_0x25da11(0x573)]({'where':{'_id':_0x1d0dd5['_id']}},this[_0x25da11(0x60b)]['wuid']))['deletedCount']===0x0?{'message':_0x25da11(0x404)}:{'message':_0x25da11(0x688)};}catch(_0x4affed){let _0xe35333=_0x25da11(0x23f),_0x28a7c3=_0x4affed instanceof Error?_0x4affed[_0x25da11(0x239)]:typeof _0x4affed==_0x25da11(0x880)?JSON[_0x25da11(0x254)](_0x4affed):_0x4affed,_0x204d8e=_0xe35333+':\x20'+_0x28a7c3;throw this[_0x25da11(0x588)]['error'](this[_0x25da11(0x3ae)]+'\x20('+this['instance']['wuid']+_0x25da11(0x82b)+_0x204d8e),new m(_0x204d8e);}}async[a0_0x2b042e(0x8d8)](_0x4231a4){const _0x1ec9fb=a0_0x2b042e;try{let {_id:_0x43786,chatLog:_0x3def20,status:_0x287500}=_0x4231a4;if(!_0x43786)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x54adea={};if(_0x287500!==void 0x0&&(_0x54adea[_0x1ec9fb(0x3cd)]=_0x287500),Object['keys'](_0x54adea)[_0x1ec9fb(0x3f7)]===0x0)return{'message':_0x1ec9fb(0x740)};let _0x586120=await this[_0x1ec9fb(0x5b9)][_0x1ec9fb(0x82e)]['updateOne'](_0x43786,_0x54adea,this[_0x1ec9fb(0x60b)]['wuid']);return _0x586120||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x1201f6){let _0x22409d=_0x1ec9fb(0x213),_0x10df58=_0x1201f6 instanceof Error?_0x1201f6[_0x1ec9fb(0x239)]:typeof _0x1201f6==_0x1ec9fb(0x880)?JSON[_0x1ec9fb(0x254)](_0x1201f6):_0x1201f6,_0x5500a5=_0x22409d+':\x20'+_0x10df58;throw this[_0x1ec9fb(0x588)]['error'](this[_0x1ec9fb(0x3ae)]+'\x20('+this[_0x1ec9fb(0x60b)][_0x1ec9fb(0x3ad)]+_0x1ec9fb(0x82b)+_0x5500a5),new m(_0x5500a5);}}async['editChat'](_0x2b1633){const _0x321b58=a0_0x2b042e;try{_0x2b1633['_id']=this[_0x321b58(0x7c0)](_0x2b1633['_id']);let _0x13728f=await this['repository'][_0x321b58(0x69d)]['findOne']({'where':{'_id':_0x2b1633[_0x321b58(0x48a)]}},this['instance']['wuid']);if(!_0x13728f)throw new m(_0x321b58(0x921));let {_id:_0x52b11b,leadInfo:_0x5bda67}=_0x2b1633;if(!_0x52b11b)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x2b1633[_0x321b58(0x231)]===_0x321b58(0x761))return await this['deleteChat'](_0x2b1633[_0x321b58(0x48a)]),await this[_0x321b58(0x5b9)]['chat']['delete']({'where':{'_id':_0x2b1633[_0x321b58(0x48a)]}},this['instance'][_0x321b58(0x3ad)]),await this[_0x321b58(0x5b9)][_0x321b58(0x239)][_0x321b58(0x231)]({'where':{'key':{'remoteJid':_0x2b1633['_id']}}},this['instance'][_0x321b58(0x3ad)]),_0x2b1633=await this['repository'][_0x321b58(0x69d)][_0x321b58(0x2ba)]({'where':{'_id':_0x2b1633[_0x321b58(0x48a)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),q(this['instanceName'],_0x321b58(0x23e),{'chat':_0x2b1633}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x2b1633[_0x321b58(0x231)]===_0x321b58(0x281))return await this[_0x321b58(0x5b9)][_0x321b58(0x239)][_0x321b58(0x231)]({'where':{'key':{'remoteJid':_0x2b1633[_0x321b58(0x48a)]}}},this[_0x321b58(0x60b)][_0x321b58(0x3ad)]),_0x2b1633=await this['repository'][_0x321b58(0x69d)]['updateOne']({'where':{'_id':_0x2b1633[_0x321b58(0x48a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x321b58(0x60b)][_0x321b58(0x3ad)]),q(this[_0x321b58(0x3ae)],_0x321b58(0x23e),{'chat':_0x2b1633}),{'message':_0x321b58(0x6d9)};let _0x264024=(_0x3c98e2,_0x178f8c,_0x51c759)=>{_0x3c98e2&&_0x51c759['forEach'](_0x5ab4f3=>{const _0x31bd2e=a0_0x2c3b;_0x3c98e2[_0x5ab4f3]!==void 0x0&&(_0x178f8c[_0x31bd2e(0x5d5)+_0x5ab4f3]=_0x3c98e2[_0x5ab4f3]);});},_0x36cfb2={};if(_0x321b58(0x78b)in _0x2b1633&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x321b58(0x60b)][_0x321b58(0x3ad)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x2b1633[_0x321b58(0x48a)]),_0x2b1633['muteEndTime']=_0x2b1633[_0x321b58(0x78b)]===0x0?null:-0x1,await this[_0x321b58(0x2ef)][_0x321b58(0x636)]({'mute':_0x2b1633[_0x321b58(0x78b)]},_0x2b1633[_0x321b58(0x48a)]),_0x36cfb2['muteEndTime']=Number(_0x2b1633[_0x321b58(0x78b)])),_0x5bda67&&(_0x264024(_0x5bda67,_0x36cfb2,[_0x321b58(0x8a6),'nomecompleto',_0x321b58(0x4c2),_0x321b58(0x509),_0x321b58(0x3cd),_0x321b58(0x2c4),_0x321b58(0x407),_0x321b58(0x5f6),_0x321b58(0x32c),_0x321b58(0x536),_0x321b58(0x6cb)]),Array[_0x321b58(0x330)](_0x5bda67[_0x321b58(0x5ba)])&&(_0x36cfb2['leadInfo.customFields']=_0x5bda67[_0x321b58(0x5ba)][_0x321b58(0x633)](_0x3ed5c2=>({'_id':_0x3ed5c2[_0x321b58(0x48a)],'value':_0x3ed5c2[_0x321b58(0x64b)]}))),_0x2b1633[_0x321b58(0x638)][_0x321b58(0x536)]!==void 0x0)){let _0x2980ca=await this[_0x321b58(0x5b9)][_0x321b58(0x72b)][_0x321b58(0x6da)]({'where':{}},this[_0x321b58(0x60b)]['wuid']),_0x60edb=new Set(_0x2b1633[_0x321b58(0x638)][_0x321b58(0x536)]||[]),_0xd3a9d3=new Set(_0x2b1633[_0x321b58(0x638)][_0x321b58(0x536)]),_0x5748bb=new Set(_0x2980ca[_0x321b58(0x633)](_0x16243b=>_0x16243b[_0x321b58(0x48a)])),_0x9c7806=[..._0xd3a9d3][_0x321b58(0x7ca)](_0x530add=>!_0x60edb[_0x321b58(0x2ff)](_0x530add)&&_0x5748bb[_0x321b58(0x2ff)](_0x530add)),_0x1ab449=[..._0x60edb][_0x321b58(0x7ca)](_0xf5ef9=>!_0xd3a9d3[_0x321b58(0x2ff)](_0xf5ef9));if(_0x36cfb2[_0x321b58(0x582)]=[..._0x60edb],_0x13728f&&!_0x13728f['imported']){for(let _0x473764 of _0x9c7806)await this[_0x321b58(0x58f)](_0x473764,_0x2b1633[_0x321b58(0x48a)]),_0x60edb[_0x321b58(0x878)](_0x473764);for(let _0x1bdec1 of _0x1ab449)await this[_0x321b58(0x3f8)](_0x1bdec1,_0x2b1633['_id']),_0x60edb[_0x321b58(0x231)](_0x1bdec1);}}if(_0x2b1633[_0x321b58(0x899)]!==void 0x0&&(_0x36cfb2[_0x321b58(0x899)]=Number(_0x2b1633[_0x321b58(0x899)])),Object[_0x321b58(0x5d6)](_0x36cfb2)[_0x321b58(0x3f7)]===0x0)throw new Error(_0x321b58(0x740));let _0x283db3=await this[_0x321b58(0x5b9)][_0x321b58(0x69d)]['updateOne']({'where':{'_id':_0x2b1633[_0x321b58(0x48a)]}},_0x36cfb2,this[_0x321b58(0x60b)]['wuid']);return _0x283db3&&q(this[_0x321b58(0x3ae)],'chats',{'chat':_0x283db3}),_0x283db3?(this[_0x321b58(0x588)]['verbose'](this[_0x321b58(0x3ae)]+'\x20('+this[_0x321b58(0x60b)]['wuid']+_0x321b58(0x82b)+JSON[_0x321b58(0x254)](_0x283db3,null,0x2)),_0x283db3):{'message':_0x321b58(0x866)};}catch(_0xecc0a4){let _0x2a379c='Erro\x20ao\x20editar\x20o\x20chat',_0x163837=_0xecc0a4 instanceof Error?_0xecc0a4[_0x321b58(0x239)]:typeof _0xecc0a4==_0x321b58(0x880)?JSON[_0x321b58(0x254)](_0xecc0a4):_0xecc0a4,_0x2fdbd5=_0x2a379c+':\x20'+_0x163837;throw this[_0x321b58(0x588)][_0x321b58(0x71a)](this['instanceName']+'\x20('+this[_0x321b58(0x60b)][_0x321b58(0x3ad)]+_0x321b58(0x82b)+_0x2fdbd5),new m(_0x2fdbd5);}}async[a0_0x2b042e(0x58f)](_0x440db7,_0x3b7ccf){const _0x305361=a0_0x2b042e;try{await this[_0x305361(0x2ef)]['addChatLabel'](_0x3b7ccf,_0x440db7),this[_0x305361(0x588)][_0x305361(0x246)](this[_0x305361(0x3ae)]+'\x20('+this[_0x305361(0x60b)][_0x305361(0x3ad)]+_0x305361(0x44d)+_0x440db7+_0x305361(0x564)+_0x3b7ccf+_0x305361(0x202));}catch(_0x25cb06){this['logger'][_0x305361(0x71a)](_0x305361(0x367)+_0x440db7+_0x305361(0x3c0)+_0x3b7ccf+':\x20'+_0x25cb06);}}async[a0_0x2b042e(0x3f8)](_0x2ab7fa,_0x2f13f3){const _0x421e2f=a0_0x2b042e;try{await this[_0x421e2f(0x2ef)][_0x421e2f(0x568)](_0x2f13f3,_0x2ab7fa),this[_0x421e2f(0x588)]['info'](this[_0x421e2f(0x3ae)]+'\x20('+this[_0x421e2f(0x60b)][_0x421e2f(0x3ad)]+_0x421e2f(0x44d)+_0x2ab7fa+_0x421e2f(0x587)+_0x2f13f3+_0x421e2f(0x202));}catch(_0x3b0682){this['logger'][_0x421e2f(0x71a)](_0x421e2f(0x736)+_0x2ab7fa+'\x20do\x20chat\x20'+_0x2f13f3+':\x20'+_0x3b0682);}}async[a0_0x2b042e(0x751)](_0x53f80b){const _0x4aba05=a0_0x2b042e;try{let _0x74f74e=await this[_0x4aba05(0x5b9)][_0x4aba05(0x62a)][_0x4aba05(0x4e2)](this[_0x4aba05(0x60b)][_0x4aba05(0x3ad)]),_0x38c939=_0x53f80b[_0x4aba05(0x48a)]?_0x74f74e[_0x4aba05(0x391)]['findIndex'](_0x39a755=>_0x39a755[_0x4aba05(0x48a)]===_0x53f80b[_0x4aba05(0x48a)]):-0x1;if(_0x53f80b[_0x4aba05(0x231)]&&_0x38c939>-0x1)_0x74f74e[_0x4aba05(0x391)][_0x4aba05(0x8b0)](_0x38c939,0x1);else{if(_0x38c939>-0x1){let _0x352ecd=_0x74f74e[_0x4aba05(0x391)][_0x38c939];_0x53f80b[_0x4aba05(0x312)]&&(_0x352ecd[_0x4aba05(0x312)]=_0x53f80b[_0x4aba05(0x312)]),_0x53f80b[_0x4aba05(0x69b)]&&(_0x352ecd['name']=_0x53f80b['name']),_0x53f80b[_0x4aba05(0x4c2)]&&(_0x352ecd[_0x4aba05(0x4c2)]=_0x53f80b[_0x4aba05(0x4c2)]),_0x53f80b[_0x4aba05(0x5bf)]&&(_0x352ecd[_0x4aba05(0x5bf)]=_0x53f80b[_0x4aba05(0x5bf)]);}else _0x74f74e[_0x4aba05(0x391)][_0x4aba05(0x2f6)]({'_id':_0x53f80b['_id']||new we[(_0x4aba05(0x1f4))][(_0x4aba05(0x224))]['ObjectId']()['toString'](),'fone':_0x53f80b['fone'],'name':_0x53f80b['name'],'email':_0x53f80b[_0x4aba05(0x4c2)],'role':_0x53f80b[_0x4aba05(0x5bf)]});}let _0x225725={'agents':_0x74f74e[_0x4aba05(0x391)]},_0x5a70f2=await this[_0x4aba05(0x5b9)][_0x4aba05(0x62a)][_0x4aba05(0x914)](_0x225725,this[_0x4aba05(0x60b)][_0x4aba05(0x3ad)]);return this['AutomateSystem']=_0x5a70f2,this[_0x4aba05(0x588)]['verbose'](this[_0x4aba05(0x3ae)]+'\x20('+this[_0x4aba05(0x60b)][_0x4aba05(0x3ad)]+_0x4aba05(0x501)),this['logger'][_0x4aba05(0x642)](this['instanceName']+'\x20('+this[_0x4aba05(0x60b)][_0x4aba05(0x3ad)]+_0x4aba05(0x82b)+this['AutomateSystem']),_0x5a70f2;}catch(_0x19f442){let _0x17bca9='Erro\x20ao\x20editar\x20agentes',_0x487d1a=_0x19f442 instanceof Error?_0x19f442[_0x4aba05(0x239)]:typeof _0x19f442=='object'?JSON[_0x4aba05(0x254)](_0x19f442):_0x19f442,_0x39f414=_0x17bca9+':\x20'+_0x487d1a;throw this['logger'][_0x4aba05(0x71a)](this[_0x4aba05(0x3ae)]+'\x20('+this[_0x4aba05(0x60b)][_0x4aba05(0x3ad)]+'):\x20'+_0x39f414),new m(_0x39f414);}}async[a0_0x2b042e(0x796)](_0x451513){const _0x2dedd6=a0_0x2b042e;try{let _0x27d353=await this[_0x2dedd6(0x5b9)][_0x2dedd6(0x62a)][_0x2dedd6(0x4e2)](this[_0x2dedd6(0x60b)][_0x2dedd6(0x3ad)]),_0x71685=_0x451513['_id']?_0x27d353[_0x2dedd6(0x5ba)][_0x2dedd6(0x56a)](_0x5c2e6d=>_0x5c2e6d[_0x2dedd6(0x48a)]===_0x451513['_id']):-0x1,_0x43e587=!0x1,_0x344eb5=_0x27d353[_0x2dedd6(0x5ba)][_0x2dedd6(0x8c6)](_0xf6b016=>_0xf6b016[_0x2dedd6(0x906)]===_0x451513['order']);if(_0x451513[_0x2dedd6(0x231)]&&_0x71685>-0x1)_0x27d353['customFields']['splice'](_0x71685,0x1),_0x43e587=!0x0;else{if(_0x71685>-0x1){if(_0x27d353[_0x2dedd6(0x5ba)][_0x2dedd6(0x8c6)](_0x2640f9=>_0x2640f9['name']===_0x451513[_0x2dedd6(0x69b)]&&_0x2640f9[_0x2dedd6(0x48a)]!==_0x451513[_0x2dedd6(0x48a)]))throw new Error(_0x2dedd6(0x863));let _0x84d723=_0x27d353[_0x2dedd6(0x5ba)][_0x71685];_0x451513['order']&&(_0x344eb5||!Number[_0x2dedd6(0x6cf)](_0x451513[_0x2dedd6(0x906)]))&&(_0x84d723[_0x2dedd6(0x906)]=_0x451513[_0x2dedd6(0x906)],_0x43e587=!0x0),_0x451513[_0x2dedd6(0x69b)]&&(_0x84d723[_0x2dedd6(0x69b)]=_0x451513[_0x2dedd6(0x69b)]);}else{if(_0x27d353[_0x2dedd6(0x5ba)][_0x2dedd6(0x8c6)](_0xab64dc=>_0xab64dc['name']===_0x451513[_0x2dedd6(0x69b)]&&_0xab64dc['_id']!==_0x451513[_0x2dedd6(0x48a)]))throw new Error(_0x2dedd6(0x863));_0x27d353[_0x2dedd6(0x5ba)]['push']({'_id':_0x451513[_0x2dedd6(0x48a)]||new we[(_0x2dedd6(0x1f4))][(_0x2dedd6(0x224))][(_0x2dedd6(0x5fa))]()[_0x2dedd6(0x413)](),'order':_0x451513[_0x2dedd6(0x906)],'name':_0x451513[_0x2dedd6(0x69b)]}),_0x43e587=!0x0;}}if(_0x43e587){_0x27d353[_0x2dedd6(0x5ba)]['sort']((_0xa12aba,_0x52e8c6)=>_0xa12aba[_0x2dedd6(0x906)]>_0x52e8c6[_0x2dedd6(0x906)]?0x1:_0x52e8c6[_0x2dedd6(0x906)]>_0xa12aba[_0x2dedd6(0x906)]?-0x1:0x0);for(let _0x2d693f=0x0;_0x2d693f<_0x27d353['customFields']['length'];_0x2d693f++)_0x27d353[_0x2dedd6(0x5ba)][_0x2d693f]['order']=_0x2d693f+0x1;}let _0x3c63be=await this[_0x2dedd6(0x5b9)][_0x2dedd6(0x62a)]['update'](_0x27d353,this['instance'][_0x2dedd6(0x3ad)]);return this['AutomateSystem']=_0x3c63be,this[_0x2dedd6(0x588)][_0x2dedd6(0x642)](this[_0x2dedd6(0x3ae)]+'\x20('+this[_0x2dedd6(0x60b)][_0x2dedd6(0x3ad)]+_0x2dedd6(0x793)),this['logger'][_0x2dedd6(0x642)](this[_0x2dedd6(0x3ae)]+'\x20('+this[_0x2dedd6(0x60b)]['wuid']+'):\x20'+this['AutomateSystem']),_0x3c63be;}catch(_0x4f8863){let _0x2885b2=_0x2dedd6(0x42e),_0x23c858=_0x4f8863 instanceof Error?_0x4f8863[_0x2dedd6(0x239)]:typeof _0x4f8863==_0x2dedd6(0x880)?JSON[_0x2dedd6(0x254)](_0x4f8863):_0x4f8863,_0x41f1e4=_0x2885b2+':\x20'+_0x23c858;throw this['logger'][_0x2dedd6(0x71a)](this['instanceName']+'\x20('+this[_0x2dedd6(0x60b)][_0x2dedd6(0x3ad)]+_0x2dedd6(0x82b)+_0x41f1e4),new m(_0x41f1e4);}}async[a0_0x2b042e(0x653)](_0x43e3d3){const _0xa565fb=a0_0x2b042e;try{let _0x57e337=await this[_0xa565fb(0x5b9)]['automateSystem']['findOrCreate'](this['instance']['wuid']),_0x1bb93b=_0x57e337?.[_0xa565fb(0x7da)]?.[_0xa565fb(0x56a)](_0x36f62f=>_0x36f62f[_0xa565fb(0x48a)]===_0x43e3d3?.[_0xa565fb(0x48a)]);if(_0x43e3d3?.[_0xa565fb(0x231)])_0x1bb93b>-0x1&&_0x57e337?.[_0xa565fb(0x7da)]?.[_0xa565fb(0x8b0)](_0x1bb93b,0x1);else{if(_0x1bb93b>-0x1){let _0x41077e=_0x57e337[_0xa565fb(0x7da)][_0x1bb93b];_0x41077e['order']=_0x43e3d3?.[_0xa565fb(0x906)]||_0x41077e[_0xa565fb(0x906)],_0x41077e[_0xa565fb(0x91f)]=_0x43e3d3?.[_0xa565fb(0x91f)]||_0x41077e[_0xa565fb(0x91f)],_0x41077e[_0xa565fb(0x239)]=_0x43e3d3?.[_0xa565fb(0x239)]||_0x41077e[_0xa565fb(0x239)];}else{let _0x429e04={'_id':_0x43e3d3?.['_id']||new we[(_0xa565fb(0x1f4))]['Types'][(_0xa565fb(0x5fa))]()[_0xa565fb(0x413)](),'order':_0x43e3d3?.[_0xa565fb(0x906)],'command':_0x43e3d3?.[_0xa565fb(0x91f)],'message':_0x43e3d3?.[_0xa565fb(0x239)]};_0x57e337?.[_0xa565fb(0x7da)]?.[_0xa565fb(0x2f6)](_0x429e04);}}_0x57e337?.[_0xa565fb(0x7da)]?.['sort']((_0xa0332e,_0x512461)=>_0xa0332e[_0xa565fb(0x906)]-_0x512461[_0xa565fb(0x906)]);let _0x119f16=await this[_0xa565fb(0x5b9)][_0xa565fb(0x62a)][_0xa565fb(0x914)](_0x57e337,this[_0xa565fb(0x60b)][_0xa565fb(0x3ad)]);return this[_0xa565fb(0x69f)]=_0x119f16,this[_0xa565fb(0x588)][_0xa565fb(0x642)](this[_0xa565fb(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x119f16;}catch(_0x9dd0b8){let _0x301d36=_0xa565fb(0x6f1),_0x15d1d4=_0x9dd0b8 instanceof Error?_0x9dd0b8['message']:typeof _0x9dd0b8=='object'?JSON[_0xa565fb(0x254)](_0x9dd0b8):_0x9dd0b8,_0x206b9b=_0x301d36+':\x20'+_0x15d1d4;throw this[_0xa565fb(0x588)]['error'](this[_0xa565fb(0x3ae)]+'\x20('+this[_0xa565fb(0x60b)][_0xa565fb(0x3ad)]+_0xa565fb(0x82b)+_0x206b9b),new m(_0x206b9b);}}async[a0_0x2b042e(0x770)](_0x149a8c){const _0x3105b9=a0_0x2b042e;try{let _0x37b51e=await this[_0x3105b9(0x5b9)][_0x3105b9(0x62a)][_0x3105b9(0x4e2)](this[_0x3105b9(0x60b)][_0x3105b9(0x3ad)]);if(!_0x37b51e)throw new Error(_0x3105b9(0x569));let _0x3f4594={'_id':_0x37b51e['_id'],'flowConfig':{'enabled':_0x149a8c[_0x3105b9(0x4c5)]??_0x37b51e[_0x3105b9(0x4cd)][_0x3105b9(0x4c5)],'ignoreGroups':_0x149a8c[_0x3105b9(0x5e4)]??_0x37b51e[_0x3105b9(0x4cd)]['ignoreGroups'],'stopConversation':_0x149a8c[_0x3105b9(0x7d4)][_0x3105b9(0x888)]()??_0x37b51e[_0x3105b9(0x4cd)][_0x3105b9(0x7d4)][_0x3105b9(0x888)](),'stopMinutes':_0x149a8c[_0x3105b9(0x727)]??_0x37b51e[_0x3105b9(0x4cd)][_0x3105b9(0x727)],'stopWhenYouSendMsg':_0x149a8c[_0x3105b9(0x23c)]??_0x37b51e[_0x3105b9(0x4cd)][_0x3105b9(0x23c)]}},_0x3df65f=await this[_0x3105b9(0x5b9)][_0x3105b9(0x62a)][_0x3105b9(0x914)](_0x3f4594,this[_0x3105b9(0x60b)][_0x3105b9(0x3ad)]);return this[_0x3105b9(0x69f)]=_0x3df65f,this[_0x3105b9(0x588)][_0x3105b9(0x642)](this[_0x3105b9(0x3ae)]+'\x20('+this[_0x3105b9(0x60b)][_0x3105b9(0x3ad)]+_0x3105b9(0x501)),this['logger']['verbose'](this[_0x3105b9(0x3ae)]+'\x20('+this[_0x3105b9(0x60b)][_0x3105b9(0x3ad)]+_0x3105b9(0x82b)+this['AutomateSystem']),setTimeout(()=>this[_0x3105b9(0x4e4)](),0x7d0),_0x3df65f;}catch(_0x1e4054){let _0x16a868=_0x3105b9(0x275),_0x418cdf=_0x1e4054 instanceof Error?_0x1e4054[_0x3105b9(0x239)]:typeof _0x1e4054==_0x3105b9(0x880)?JSON['stringify'](_0x1e4054):_0x1e4054,_0x4cfbf0=_0x16a868+':\x20'+_0x418cdf;throw this['logger'][_0x3105b9(0x71a)](this['instanceName']+'\x20('+this[_0x3105b9(0x60b)][_0x3105b9(0x3ad)]+_0x3105b9(0x82b)+_0x4cfbf0),new m(_0x4cfbf0);}}async[a0_0x2b042e(0x539)](){const _0x41f782=a0_0x2b042e;try{let _0x141d3e=await this[_0x41f782(0x5b9)][_0x41f782(0x62a)][_0x41f782(0x4e2)](this['instance'][_0x41f782(0x3ad)]);return this[_0x41f782(0x69f)]=_0x141d3e,_0x141d3e;}catch(_0xeb3987){let _0x18f20e=_0x41f782(0x84f),_0x4cd215=_0xeb3987 instanceof Error?_0xeb3987['message']:typeof _0xeb3987==_0x41f782(0x880)?JSON[_0x41f782(0x254)](_0xeb3987):_0xeb3987,_0x34fe35=_0x18f20e+':\x20'+_0x4cd215;throw this[_0x41f782(0x588)][_0x41f782(0x71a)](this[_0x41f782(0x3ae)]+'\x20('+this['instance'][_0x41f782(0x3ad)]+_0x41f782(0x82b)+_0x34fe35),new m(_0x34fe35);}}async['setRestartTimeout'](){const _0x23aec9=a0_0x2b042e;this['instance'][_0x23aec9(0x57e)][_0x23aec9(0x69e)]&&clearTimeout(this[_0x23aec9(0x60b)][_0x23aec9(0x57e)]['timeout']),this[_0x23aec9(0x60b)][_0x23aec9(0x57e)][_0x23aec9(0x69e)]=setTimeout(()=>{const _0x78c6df=_0x23aec9;this[_0x78c6df(0x20b)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x2b042e(0x20b)](){const _0x54e31f=a0_0x2b042e;Date[_0x54e31f(0x71e)]()-this['instance']['ScheduleMessage'][_0x54e31f(0x2e2)]>=0x1d4c0&&(this[_0x54e31f(0x588)]['verbose'](this[_0x54e31f(0x3ae)]+'\x20('+this[_0x54e31f(0x60b)][_0x54e31f(0x3ad)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x54e31f(0x60b)][_0x54e31f(0x57e)]['processingGroup_id']=null,this[_0x54e31f(0x60b)][_0x54e31f(0x57e)][_0x54e31f(0x2e2)]=0x0,this[_0x54e31f(0x60b)]['ScheduleMessage'][_0x54e31f(0x90f)]=0x0,this[_0x54e31f(0x2aa)]=[],this['nextMessageId']=null,this[_0x54e31f(0x2cb)]=null,await this['scheduleNextCheck']());}async['scheduleNextCheck'](){const _0x32f3fc=a0_0x2b042e;let _0x3ce524=!0x1;this['pendingMessages']=[],this['nextMessageId']=null,this[_0x32f3fc(0x2cb)]=(0x0,Q['v4'])(),await this['transformScheduledMessagesByType']();let _0x12d9d9=()=>{const _0x23e7eb=_0x32f3fc;this[_0x23e7eb(0x588)]['verbose'](this[_0x23e7eb(0x3ae)]+'\x20('+this[_0x23e7eb(0x60b)]['wuid']+_0x23e7eb(0x794)+this[_0x23e7eb(0x60b)][_0x23e7eb(0x57e)][_0x23e7eb(0x6ae)]+_0x23e7eb(0x73f));},_0x2827f8=async()=>{const _0x46acea=_0x32f3fc;this[_0x46acea(0x588)][_0x46acea(0x642)](this[_0x46acea(0x3ae)]+'\x20('+this[_0x46acea(0x60b)][_0x46acea(0x3ad)]+_0x46acea(0x8eb));let _0x66e892=Date[_0x46acea(0x71e)]()-0xc*0x3c*0x3c*0x3e8,_0x5efc53={'where':{'status':{'$in':[_0x46acea(0x757),_0x46acea(0x6c7)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x66e892}},{'when':0x0}]}};return await this[_0x46acea(0x5b9)][_0x46acea(0x52a)][_0x46acea(0x6da)](_0x5efc53,this[_0x46acea(0x60b)][_0x46acea(0x3ad)]);},_0x319dfa=async _0x523827=>{const _0x513c6a=_0x32f3fc;let _0x4437f6=await this[_0x513c6a(0x5b9)][_0x513c6a(0x52a)][_0x513c6a(0x60c)](_0x523827,this[_0x513c6a(0x60b)][_0x513c6a(0x3ad)]);this[_0x513c6a(0x2aa)]=_0x4437f6[_0x513c6a(0x281)][_0x513c6a(0x7ca)](_0x244657=>!_0x244657[_0x513c6a(0x844)]);},_0x5ae42f=async _0x5c29ff=>{const _0x2fc96e=_0x32f3fc;let _0x430bc8=Math['floor'](Math['random']()*0x1389)+0xbb8;for(let _0x118e2b of _0x5c29ff){let _0x54ca08={'_id':_0x118e2b[_0x2fc96e(0x48a)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2fc96e(0x71e)]()-0x2710}}]},_0x184102={'startSend':Date[_0x2fc96e(0x71e)](),'processUUID':this[_0x2fc96e(0x2cb)]};if(!await this[_0x2fc96e(0x5b9)]['scheduleMessage'][_0x2fc96e(0x2ba)](_0x54ca08,_0x184102,this[_0x2fc96e(0x60b)]['wuid']))return;if(!this[_0x2fc96e(0x60b)]['ScheduleMessage'][_0x2fc96e(0x543)]){this[_0x2fc96e(0x588)]['verbose'](this[_0x2fc96e(0x3ae)]+'\x20('+this['instance']['wuid']+_0x2fc96e(0x72a));break;}for((this[_0x2fc96e(0x2aa)][_0x2fc96e(0x3f7)]===0x0||!_0x3ce524)&&await _0x319dfa(_0x118e2b[_0x2fc96e(0x48a)]);this[_0x2fc96e(0x2aa)][_0x2fc96e(0x3f7)]>0x0||!_0x3ce524;){await this[_0x2fc96e(0x7b1)]();let _0x2fbed2=this[_0x2fc96e(0x2aa)][_0x2fc96e(0x7fd)]((_0x2cc09d,_0x3061fd)=>(_0x2cc09d['order']??Number[_0x2fc96e(0x242)])<(_0x3061fd['order']??Number['MAX_SAFE_INTEGER'])?_0x2cc09d:_0x3061fd);if(!_0x2fbed2)continue;if(this[_0x2fc96e(0x6e8)]&&this['nextMessageId']!==_0x2fbed2['_id']){this['logger'][_0x2fc96e(0x642)](this[_0x2fc96e(0x3ae)]+'\x20('+this['instance']['wuid']+'):\x20Detecção\x20de\x20condição\x20de\x20corrida,\x20a\x20mensagem\x20'+_0x2fbed2[_0x2fc96e(0x48a)]+_0x2fc96e(0x6af));break;}if(this[_0x2fc96e(0x6e8)]=_0x2fbed2['_id'],this[_0x2fc96e(0x60b)][_0x2fc96e(0x57e)][_0x2fc96e(0x2e2)]=Date[_0x2fc96e(0x71e)](),this[_0x2fc96e(0x60b)]['ScheduleMessage'][_0x2fc96e(0x77b)]===_0x2fbed2[_0x2fc96e(0x48a)]){this[_0x2fc96e(0x588)][_0x2fc96e(0x71a)](this[_0x2fc96e(0x3ae)]+'\x20('+this['instance']['wuid']+_0x2fc96e(0x36e)+_0x2fbed2[_0x2fc96e(0x48a)]+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');continue;}if(this['instance']['ScheduleMessage'][_0x2fc96e(0x77b)]=_0x2fbed2[_0x2fc96e(0x48a)],_0x2fbed2['triedToSend']){this['logger'][_0x2fc96e(0x642)](this['instanceName']+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x784)+_0x2fbed2[_0x2fc96e(0x786)]+_0x2fc96e(0x534));continue;}if(!this[_0x2fc96e(0x60b)][_0x2fc96e(0x57e)][_0x2fc96e(0x543)]){this[_0x2fc96e(0x588)][_0x2fc96e(0x642)](this[_0x2fc96e(0x3ae)]+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x4df));break;}if(!this['instance']['ScheduleMessage']['processingGroup_id']){this[_0x2fc96e(0x588)][_0x2fc96e(0x642)](this['instanceName']+'\x20('+this['instance'][_0x2fc96e(0x3ad)]+_0x2fc96e(0x252)+_0x118e2b[_0x2fc96e(0x48a)]+_0x2fc96e(0x2b9));break;}if(_0x2fbed2[_0x2fc96e(0x1fa)]===_0x2fc96e(0x1ff)&&!this[_0x2fc96e(0x69f)]?.[_0x2fc96e(0x4cd)][_0x2fc96e(0x4c5)]){this['logger']['error'](this['instanceName']+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x4d7));break;}let _0x37a47a={'idControl':_0x2fbed2['_id'],'remoteJid':_0x2fbed2[_0x2fc96e(0x786)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x2ca859=null;try{this[_0x2fc96e(0x588)][_0x2fc96e(0x642)](this[_0x2fc96e(0x3ae)]+'\x20('+this['instance'][_0x2fc96e(0x3ad)]+_0x2fc96e(0x48e)+_0x2fbed2[_0x2fc96e(0x786)]);let _0x5e463f=await this[_0x2fc96e(0x766)](_0x2fbed2[_0x2fc96e(0x786)],_0x2fbed2);_0x37a47a['error']=_0x5e463f[_0x2fc96e(0x71a)],_0x37a47a['id']=_0x5e463f[_0x2fc96e(0x71a)]?null:_0x5e463f['id'],_0x37a47a[_0x2fc96e(0x347)]=_0x5e463f['error']?_0x5e463f[_0x2fc96e(0x3e4)]?_0x5e463f['detail'][_0x2fc96e(0x413)]():'':null;let _0x41de1b=_0x118e2b['messages'][_0x2fc96e(0x56a)](_0x1e51b2=>_0x1e51b2['_id']===_0x2fbed2[_0x2fc96e(0x48a)]);_0x41de1b!==-0x1&&(_0x118e2b[_0x2fc96e(0x281)][_0x41de1b][_0x2fc96e(0x844)]=!0x0);let _0x27b558={'$push':{'messagesSend':_0x37a47a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x6546d8=[{'elem._id':_0x2fbed2[_0x2fc96e(0x48a)]}];if(this[_0x2fc96e(0x588)][_0x2fc96e(0x642)](this['instanceName']+'\x20('+this[_0x2fc96e(0x60b)]['wuid']+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x2fbed2[_0x2fc96e(0x48a)]),_0x2ca859=await this['repository']['scheduleMessage'][_0x2fc96e(0x2ba)]({'_id':_0x118e2b['_id']},_0x27b558,this['instance']['wuid'],{'arrayFilters':_0x6546d8}),_0x5e463f[_0x2fc96e(0x71a)]){this[_0x2fc96e(0x588)][_0x2fc96e(0x71a)](this[_0x2fc96e(0x3ae)]+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x5bc)+_0x5e463f[_0x2fc96e(0x3e4)]);continue;}let _0x26fbe8=this['getDelay'](_0x118e2b[_0x2fc96e(0x611)],_0x118e2b[_0x2fc96e(0x1f8)]);await this['sleep'](_0x26fbe8);}catch(_0xbe01b1){this[_0x2fc96e(0x588)][_0x2fc96e(0x71a)](this[_0x2fc96e(0x3ae)]+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x74c)+_0x2fbed2[_0x2fc96e(0x786)]+':\x20'+(_0xbe01b1 instanceof Error?_0xbe01b1[_0x2fc96e(0x239)]:JSON[_0x2fc96e(0x254)](_0xbe01b1,null,0x2))),_0x37a47a[_0x2fc96e(0x71a)]=!0x0,_0x37a47a[_0x2fc96e(0x347)]=_0xbe01b1[_0x2fc96e(0x239)];let _0x504509=_0x118e2b['messages'][_0x2fc96e(0x56a)](_0x1dc7b1=>_0x1dc7b1['_id']===_0x2fbed2[_0x2fc96e(0x48a)]);_0x504509!==-0x1&&(_0x118e2b[_0x2fc96e(0x281)][_0x504509]['triedToSend']=!0x0);let _0x2faac3={'$push':{'messagesSend':_0x37a47a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x145d28=[{'elem._id':_0x2fbed2[_0x2fc96e(0x48a)]}];this[_0x2fc96e(0x588)][_0x2fc96e(0x642)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x2fbed2['_id']),_0x2ca859=await this[_0x2fc96e(0x5b9)][_0x2fc96e(0x52a)]['updateOne']({'_id':_0x118e2b['_id']},_0x2faac3,this['instance']['wuid'],{'arrayFilters':_0x145d28});}finally{if(_0x2ca859&&_0x2ca859['status']===_0x2fc96e(0x47c)){this['logger'][_0x2fc96e(0x642)](this[_0x2fc96e(0x3ae)]+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x252)+_0x2fbed2[_0x2fc96e(0x48a)]+_0x2fc96e(0x6fc));break;}let _0x5b2b48=_0x2ca859['messages'][_0x2fc96e(0x6da)](_0x3606a0=>_0x3606a0[_0x2fc96e(0x48a)]===_0x2fbed2[_0x2fc96e(0x48a)]);if(_0x5b2b48&&!_0x5b2b48[_0x2fc96e(0x844)]){let _0x5f05d0={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xb50158=[{'elem._id':_0x2fbed2[_0x2fc96e(0x48a)]}];await this[_0x2fc96e(0x5b9)][_0x2fc96e(0x52a)][_0x2fc96e(0x2ba)]({'_id':_0x2ca859['_id']},_0x5f05d0,this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)],{'arrayFilters':_0xb50158});}if(this[_0x2fc96e(0x2aa)]=_0x2ca859['messages'][_0x2fc96e(0x7ca)](_0x29e95a=>!_0x29e95a['triedToSend']),_0x3ce524=this[_0x2fc96e(0x2aa)]['length']===0x0,this[_0x2fc96e(0x6e8)]=this[_0x2fc96e(0x2aa)]['length']>0x0?this['pendingMessages']['reduce']((_0x4386ba,_0x2369a6)=>(_0x4386ba[_0x2fc96e(0x906)]??Number[_0x2fc96e(0x242)])<(_0x2369a6[_0x2fc96e(0x906)]??Number[_0x2fc96e(0x242)])?_0x4386ba:_0x2369a6)[_0x2fc96e(0x48a)]:null,_0x2ca859[_0x2fc96e(0x2cb)]!==this[_0x2fc96e(0x2cb)]){this[_0x2fc96e(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]+_0x2fc96e(0x742));break;}}}this['pendingMessages']=[],this[_0x2fc96e(0x6e8)]=null;let _0x3d1e20=await this[_0x2fc96e(0x5b9)][_0x2fc96e(0x52a)]['findById'](_0x118e2b[_0x2fc96e(0x48a)],this[_0x2fc96e(0x60b)][_0x2fc96e(0x3ad)]);if(_0x3ce524=_0x3d1e20[_0x2fc96e(0x281)][_0x2fc96e(0x43b)](_0x20ee66=>_0x20ee66['triedToSend']),_0x3ce524&&_0x3d1e20[_0x2fc96e(0x3cd)]!=='stopped'){this[_0x2fc96e(0x60b)]['ScheduleMessage'][_0x2fc96e(0x77b)]=null;let _0xa4618d={'$set':{'status':'done'}};await this[_0x2fc96e(0x5b9)][_0x2fc96e(0x52a)][_0x2fc96e(0x415)](_0x3d1e20['_id'],_0xa4618d,this[_0x2fc96e(0x60b)]['wuid']);}await new Promise(_0x39de22=>setTimeout(_0x39de22,_0x430bc8));}this[_0x2fc96e(0x2aa)]=[],this['nextMessageId']=null,this['processUUID']=null;},_0x225489=async()=>{const _0x1f6414=_0x32f3fc;let _0x126092={'where':{'status':_0x1f6414(0x757),'when':{'$gt':Date[_0x1f6414(0x71e)]()}}},_0x54db60=await this[_0x1f6414(0x5b9)][_0x1f6414(0x52a)][_0x1f6414(0x296)](_0x126092,this[_0x1f6414(0x60b)]['wuid']);_0x54db60&&_0x54db60[_0x1f6414(0x4f3)]-Date[_0x1f6414(0x71e)]()<=0x5265c00?this[_0x1f6414(0x60b)][_0x1f6414(0x57e)][_0x1f6414(0x90f)]=_0x54db60['when']-Date['now']():this[_0x1f6414(0x60b)][_0x1f6414(0x57e)][_0x1f6414(0x90f)]=(0x3c+Math[_0x1f6414(0x8ed)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x1f6414(0x60b)]['ScheduleMessage'][_0x1f6414(0x90f)]=Math[_0x1f6414(0x600)](this[_0x1f6414(0x60b)][_0x1f6414(0x57e)][_0x1f6414(0x90f)],0x1*0x2*0x3e8);let _0x1e287a=Math['round'](this['instance'][_0x1f6414(0x57e)][_0x1f6414(0x90f)]/0xea60);if(_0x54db60){let _0x44db56=new Date(_0x54db60[_0x1f6414(0x4f3)])[_0x1f6414(0x6c5)]();this[_0x1f6414(0x588)][_0x1f6414(0x642)](this[_0x1f6414(0x3ae)]+'\x20('+this['instance'][_0x1f6414(0x3ad)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x44db56+_0x1f6414(0x7f8)+_0x1e287a+'\x20minutos');}else this[_0x1f6414(0x588)][_0x1f6414(0x642)](this[_0x1f6414(0x3ae)]+'\x20('+this[_0x1f6414(0x60b)]['wuid']+_0x1f6414(0x45a)+_0x1e287a+_0x1f6414(0x208));setTimeout(()=>this[_0x1f6414(0x4e4)](),this[_0x1f6414(0x60b)]['ScheduleMessage'][_0x1f6414(0x90f)]);};if(this['instance'][_0x32f3fc(0x57e)][_0x32f3fc(0x6ae)]){await this[_0x32f3fc(0x7b1)](),_0x12d9d9();return;}if(!this[_0x32f3fc(0x60b)][_0x32f3fc(0x57e)][_0x32f3fc(0x543)]){this['logger'][_0x32f3fc(0x642)](this['instanceName']+'\x20('+this[_0x32f3fc(0x60b)][_0x32f3fc(0x3ad)]+_0x32f3fc(0x4fa)),this['instance'][_0x32f3fc(0x57e)]['processingGroup_id']=null,this['instance'][_0x32f3fc(0x57e)]['lastSend']=0x0,this[_0x32f3fc(0x60b)][_0x32f3fc(0x57e)][_0x32f3fc(0x90f)]=0x0,this[_0x32f3fc(0x60b)][_0x32f3fc(0x57e)][_0x32f3fc(0x77b)]=null;return;}try{let _0x58a0f5=await _0x2827f8();_0x58a0f5[_0x32f3fc(0x3f7)]===0x0?this[_0x32f3fc(0x588)][_0x32f3fc(0x642)](this[_0x32f3fc(0x3ae)]+'\x20('+this[_0x32f3fc(0x60b)][_0x32f3fc(0x3ad)]+_0x32f3fc(0x74a)):(this[_0x32f3fc(0x60b)][_0x32f3fc(0x57e)][_0x32f3fc(0x6ae)]=_0x58a0f5[0x0]['_id'],await _0x5ae42f(_0x58a0f5)),await _0x225489(),this[_0x32f3fc(0x60b)][_0x32f3fc(0x57e)][_0x32f3fc(0x6ae)]=null,this[_0x32f3fc(0x60b)]['ScheduleMessage'][_0x32f3fc(0x77b)]=null;}catch(_0x49a61e){this[_0x32f3fc(0x588)][_0x32f3fc(0x71a)](_0x32f3fc(0x82a)+(_0x49a61e instanceof Error?_0x49a61e[_0x32f3fc(0x239)]:JSON['stringify'](_0x49a61e,null,0x2)));}}['getDelay'](_0x510f19,_0x4c8100){const _0x59ab75=a0_0x2b042e;return _0x510f19=Math[_0x59ab75(0x600)](0.5,_0x510f19),_0x4c8100=Math[_0x59ab75(0x8ac)](Math['max'](0x3,_0x4c8100),0x78),Math[_0x59ab75(0x8ed)](Math[_0x59ab75(0x237)]()*(_0x4c8100-_0x510f19+0x1)+_0x510f19)*0x3e8;}['sleep'](_0x597500){return new Promise(_0x34f0c6=>setTimeout(_0x34f0c6,_0x597500));}async[a0_0x2b042e(0x2ab)](_0x4d2d07){const _0x1097f6=a0_0x2b042e;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x1097f6(0x69f)]))return null;_0x4d2d07=this[_0x1097f6(0x7c0)](_0x4d2d07);let _0x54ce83=await this[_0x1097f6(0x5b9)][_0x1097f6(0x69d)][_0x1097f6(0x296)]({'where':{'_id':_0x4d2d07}},this[_0x1097f6(0x60b)][_0x1097f6(0x3ad)]),_0x5b89a7={};if(_0x54ce83&&_0x54ce83[_0x1097f6(0x638)]){let _0x11bc0c=_0x54ce83[_0x1097f6(0x638)];typeof _0x11bc0c['nome']==_0x1097f6(0x62d)&&(_0x5b89a7['nome']=_0x11bc0c[_0x1097f6(0x8a6)]),typeof _0x11bc0c['nomecompleto']==_0x1097f6(0x62d)&&(_0x5b89a7['nomecompleto']=_0x11bc0c[_0x1097f6(0x5e6)]),typeof _0x11bc0c[_0x1097f6(0x4c2)]=='string'&&(_0x5b89a7['email']=_0x11bc0c[_0x1097f6(0x4c2)]),typeof _0x11bc0c[_0x1097f6(0x509)]==_0x1097f6(0x62d)&&(_0x5b89a7[_0x1097f6(0x509)]=_0x11bc0c['cpf']),typeof _0x11bc0c[_0x1097f6(0x3cd)]==_0x1097f6(0x62d)&&(_0x5b89a7[_0x1097f6(0x3cd)]=_0x11bc0c[_0x1097f6(0x3cd)]),typeof _0x11bc0c[_0x1097f6(0x2c4)]==_0x1097f6(0x62d)&&(_0x5b89a7[_0x1097f6(0x2c4)]=_0x11bc0c[_0x1097f6(0x2c4)]),typeof _0x11bc0c['responsavelid']==_0x1097f6(0x62d)&&(_0x5b89a7[_0x1097f6(0x32c)]=_0x11bc0c['responsavelid']),Array['isArray'](_0x11bc0c[_0x1097f6(0x407)])&&(_0x5b89a7[_0x1097f6(0x407)]=_0x11bc0c[_0x1097f6(0x407)]['join'](',\x20')),Array[_0x1097f6(0x330)](_0x11bc0c[_0x1097f6(0x536)])&&(_0x5b89a7['etiquetas']=_0x11bc0c[_0x1097f6(0x536)][_0x1097f6(0x8f2)](',\x20'));}return _0x54ce83&&_0x54ce83[_0x1097f6(0x638)]&&_0x54ce83[_0x1097f6(0x638)][_0x1097f6(0x5ba)]&&_0x54ce83[_0x1097f6(0x638)][_0x1097f6(0x5ba)][_0x1097f6(0x1e3)](_0x11d1bb=>{const _0x26987d=_0x1097f6;let _0x387013=this[_0x26987d(0x69f)]?.[_0x26987d(0x5ba)][_0x26987d(0x6da)](_0x412be9=>_0x412be9[_0x26987d(0x48a)]===_0x11d1bb[_0x26987d(0x48a)]);_0x387013&&(_0x5b89a7[_0x387013[_0x26987d(0x69b)]]=_0x11d1bb[_0x26987d(0x64b)]);}),_0x5b89a7;}async['replaceVariablesChat'](_0x45d741,_0x6d1d30){const _0x489ff4=a0_0x2b042e;try{let _0x2bce91=await this['getVariablesChat'](_0x6d1d30);return this[_0x489ff4(0x22c)](_0x45d741,_0x2bce91);}catch(_0x239c1d){return this[_0x489ff4(0x588)][_0x489ff4(0x71a)](_0x489ff4(0x5d1)+_0x6d1d30+':\x20'+_0x239c1d),_0x45d741;}}async[a0_0x2b042e(0x732)](){const _0x414a79=a0_0x2b042e;let _0x19283f=async(_0x661883,_0x15f6cf)=>{const _0x54505c=a0_0x2c3b;let _0x351112=(await this[_0x54505c(0x5b9)][_0x54505c(0x52a)][_0x54505c(0x6da)]({'where':{'type':_0x661883}},this[_0x54505c(0x60b)]['wuid']))[_0x54505c(0x633)](async _0x14ebe0=>{const _0x1003d8=_0x54505c;let _0x5d2915=_0x15f6cf(_0x14ebe0),_0x35d77c=_0x520838=>/^\d+$/[_0x1003d8(0x2d3)](_0x520838),_0x4404da=_0x14ebe0['remoteJids'][_0x1003d8(0x7ca)](_0x583055=>_0x583055[_0x1003d8(0x329)]('@s.whatsapp.net')?_0x583055[_0x1003d8(0x3f7)]>0x19:_0x583055[_0x1003d8(0x329)](_0x1003d8(0x468))?_0x583055['length']>0xf:_0x35d77c(_0x583055)?_0x583055[_0x1003d8(0x3f7)]>=0xb:!0x1)[_0x1003d8(0x633)](_0x133e20=>({'_id':(0x0,Q['v4'])(),'type':_0x5d2915,'remoteJid':_0x133e20,'flow':_0x14ebe0['flowName'],'text':_0x14ebe0[_0x1003d8(0x239)]?.[_0x1003d8(0x8de)],'delay':_0x14ebe0[_0x1003d8(0x239)]?.[_0x1003d8(0x39a)],'urlOrBase64':_0x14ebe0[_0x1003d8(0x239)]?.[_0x1003d8(0x1f2)],'linkPreview':_0x14ebe0[_0x1003d8(0x239)]?.['linkPreview'],'fileName':_0x14ebe0['message']?.[_0x1003d8(0x324)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x1003d8(0x5b9)]['scheduleMessage'][_0x1003d8(0x415)](_0x14ebe0[_0x1003d8(0x48a)],{'$set':{'messages':_0x4404da},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x1003d8(0x60b)][_0x1003d8(0x3ad)]);}catch(_0x35b4ca){console[_0x1003d8(0x71a)](_0x1003d8(0x4a3)+_0x14ebe0['_id']+':',_0x35b4ca);}});await Promise[_0x54505c(0x761)](_0x351112);};await _0x19283f(_0x414a79(0x8de),_0x201a40=>'text'),await _0x19283f(_0x414a79(0x300),_0x14fadd=>_0x14fadd[_0x414a79(0x239)]?.[_0x414a79(0x2af)]||_0x414a79(0x300)),await _0x19283f('audio',_0x455ae2=>_0x414a79(0x6ac)),await _0x19283f(_0x414a79(0x1ff),_0x2a9d45=>'flow'),await _0x19283f(_0x414a79(0x7b2),_0x3dd4d6=>_0x414a79(0x7b2)),await _0x19283f(_0x414a79(0x5e2),_0x1f1299=>'video'),await _0x19283f(_0x414a79(0x4e3),_0x2f1912=>_0x414a79(0x4e3)),this[_0x414a79(0x588)][_0x414a79(0x642)](this[_0x414a79(0x3ae)]+'\x20('+this[_0x414a79(0x60b)][_0x414a79(0x3ad)]+_0x414a79(0x3da));}async[a0_0x2b042e(0x705)](_0x428bb6){const _0x566579=a0_0x2b042e;try{if(this[_0x566579(0x588)][_0x566579(0x642)](this[_0x566579(0x3ae)]+'\x20('+this['instance'][_0x566579(0x3ad)]+_0x566579(0x83f)),_0x428bb6[_0x566579(0x48a)]||(_0x428bb6[_0x566579(0x48a)]=(0x0,Q['v4'])()),this['instance'][_0x566579(0x57e)][_0x566579(0x6ae)]===_0x428bb6['_id']?.[_0x566579(0x413)]()&&_0x428bb6[_0x566579(0x3cd)]!==_0x566579(0x47c))throw new Error(_0x566579(0x90e));if(_0x428bb6[_0x566579(0x231)]&&_0x428bb6[_0x566579(0x48a)]){let _0x110579=await this[_0x566579(0x5b9)][_0x566579(0x52a)][_0x566579(0x573)](_0x428bb6[_0x566579(0x48a)],this[_0x566579(0x60b)][_0x566579(0x3ad)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x110579;}let _0x295030=null;if(_0x428bb6['_id']&&(_0x295030=await this[_0x566579(0x5b9)][_0x566579(0x52a)][_0x566579(0x60c)](_0x428bb6[_0x566579(0x48a)],this[_0x566579(0x60b)][_0x566579(0x3ad)])),_0x295030){let {_id:_0x3dcd42,owner:_0xd3409b,messages:_0x53bcae,status:_0x12146b,..._0x23befb}=_0x428bb6;if(_0x53bcae&&_0x12146b!==_0x566579(0x47c)){let _0x12a051=_0x53bcae[_0x566579(0x7ca)](_0x2ec6f9=>!_0x2ec6f9[_0x566579(0x48a)]),_0x521967=_0x53bcae['filter'](_0xd0d859=>_0xd0d859[_0x566579(0x48a)]&&!_0xd0d859[_0x566579(0x231)]),_0x393084=_0x53bcae['filter'](_0xf101e9=>_0xf101e9[_0x566579(0x48a)]&&_0xf101e9[_0x566579(0x231)]);if(_0x12a051[_0x566579(0x3f7)]>0x0&&await this[_0x566579(0x592)](_0x428bb6[_0x566579(0x48a)],_0x12a051),_0x521967[_0x566579(0x3f7)]>0x0&&await this['editMessagesInGroup']({'_id':_0x428bb6[_0x566579(0x48a)],'messages':_0x521967}),_0x393084[_0x566579(0x3f7)]>0x0){let _0x5dbcd4=_0x393084[_0x566579(0x633)](_0x528646=>({'updateOne':{'filter':{'_id':_0x428bb6[_0x566579(0x48a)]},'update':{'$pull':{'messages':{'_id':_0x528646[_0x566579(0x48a)]}}}}}));await this['repository']['scheduleMessage']['bulkWrite'](_0x5dbcd4,this['instance']['wuid']);}}let _0x1b1620=_0x12146b==='stopped'?{'$set':{'status':_0x12146b}}:{'$set':_0x23befb},_0x3b0580=await this[_0x566579(0x5b9)][_0x566579(0x52a)][_0x566579(0x415)](_0x428bb6[_0x566579(0x48a)],_0x1b1620,this[_0x566579(0x60b)]['wuid']);return _0x3b0580&&(this[_0x566579(0x702)](_0x3b0580['messages']),await this[_0x566579(0x5b9)][_0x566579(0x52a)]['updateOneById'](_0x3b0580[_0x566579(0x48a)],{'$set':{'messages':_0x3b0580[_0x566579(0x281)]}},this[_0x566579(0x60b)][_0x566579(0x3ad)])),setTimeout(()=>this[_0x566579(0x4e4)](),0x7d0),await this['transformScheduledMessagesByType'](),_0x3b0580;}else{_0x428bb6['owner']=this['instance']['wuid'],_0x428bb6[_0x566579(0x281)]&&_0x428bb6[_0x566579(0x281)]['forEach'](_0x1f81da=>{const _0x3ec004=_0x566579;_0x1f81da[_0x3ec004(0x48a)]||(_0x1f81da['_id']=(0x0,Q['v4'])()),delete _0x1f81da[_0x3ec004(0x844)];});let _0x54b58d=await this[_0x566579(0x5b9)][_0x566579(0x52a)]['createAndSave'](_0x428bb6,this[_0x566579(0x60b)]['wuid']);return _0x54b58d&&(this[_0x566579(0x702)](_0x54b58d['messages']),await this[_0x566579(0x5b9)]['scheduleMessage']['updateOneById'](_0x54b58d['_id'],{'$set':{'messages':_0x54b58d['messages']}},this[_0x566579(0x60b)]['wuid'])),setTimeout(()=>this[_0x566579(0x4e4)](),0x7d0),_0x54b58d;}}catch(_0x4487d1){let _0x563aba='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x4dc2a1=_0x4487d1 instanceof Error?_0x4487d1[_0x566579(0x239)]:typeof _0x4487d1==_0x566579(0x880)?JSON['stringify'](_0x4487d1):_0x4487d1,_0x328cc5=_0x563aba+':\x20'+_0x4dc2a1;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x566579(0x60b)][_0x566579(0x3ad)]+_0x566579(0x82b)+_0x328cc5),new m(_0x328cc5);}}async[a0_0x2b042e(0x592)](_0x49588e,_0x4ffa97){const _0x2e3d53=a0_0x2b042e;try{this[_0x2e3d53(0x588)][_0x2e3d53(0x642)](this['instanceName']+'\x20('+this['instance'][_0x2e3d53(0x3ad)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x4ffa97[_0x2e3d53(0x1e3)](_0x350425=>{const _0x102d8d=_0x2e3d53;_0x350425[_0x102d8d(0x48a)]||(_0x350425[_0x102d8d(0x48a)]=(0x0,Q['v4'])()),delete _0x350425[_0x102d8d(0x844)];});let _0xaa84f4={'$push':{'messages':{'$each':_0x4ffa97}}},_0xe6270e=await this[_0x2e3d53(0x5b9)][_0x2e3d53(0x52a)][_0x2e3d53(0x415)](_0x49588e,_0xaa84f4,this[_0x2e3d53(0x60b)][_0x2e3d53(0x3ad)]);return _0xe6270e&&(this[_0x2e3d53(0x702)](_0xe6270e[_0x2e3d53(0x281)]),await this['repository'][_0x2e3d53(0x52a)][_0x2e3d53(0x415)](_0xe6270e[_0x2e3d53(0x48a)],{'$set':{'messages':_0xe6270e[_0x2e3d53(0x281)]}},this[_0x2e3d53(0x60b)][_0x2e3d53(0x3ad)])),_0xe6270e;}catch(_0x2ce8a3){let _0x36fdb5='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x228669=_0x2ce8a3 instanceof Error?_0x2ce8a3[_0x2e3d53(0x239)]:typeof _0x2ce8a3==_0x2e3d53(0x880)?JSON['stringify'](_0x2ce8a3):_0x2ce8a3,_0x5dfb0a=_0x36fdb5+':\x20'+_0x228669;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2e3d53(0x60b)][_0x2e3d53(0x3ad)]+_0x2e3d53(0x82b)+_0x5dfb0a),new m(_0x5dfb0a);}}async['editMessagesInGroup'](_0x3ea099){const _0x393fb2=a0_0x2b042e;try{if(this[_0x393fb2(0x588)][_0x393fb2(0x642)](this[_0x393fb2(0x3ae)]+'\x20('+this[_0x393fb2(0x60b)][_0x393fb2(0x3ad)]+_0x393fb2(0x235)),!_0x3ea099[_0x393fb2(0x48a)]||!_0x3ea099['messages'])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x39b661=_0x3ea099['_id'],_0x1fea01=_0x3ea099['messages'],_0x1a9096=_0x1fea01[_0x393fb2(0x7ca)](_0x310ed3=>!_0x310ed3[_0x393fb2(0x231)])['map'](_0x2ae624=>{const _0x26320f=_0x393fb2;let _0x8006aa=_0x2ae624[_0x26320f(0x48a)];if(!_0x8006aa)throw new Error(_0x26320f(0x403));return delete _0x2ae624[_0x26320f(0x844)],{'updateOne':{'filter':{'_id':_0x39b661,'messages._id':_0x8006aa},'update':{'$set':{'messages.$[elem]':_0x2ae624}},'arrayFilters':[{'elem._id':_0x8006aa}]}};}),_0x10adbe=_0x1fea01[_0x393fb2(0x7ca)](_0x7f6da4=>_0x7f6da4[_0x393fb2(0x231)])[_0x393fb2(0x633)](_0x4eceaa=>{const _0x583cb7=_0x393fb2;let _0x8b7738=_0x4eceaa[_0x583cb7(0x48a)];if(!_0x8b7738)throw new Error(_0x583cb7(0x1fb));return{'updateOne':{'filter':{'_id':_0x39b661},'update':{'$pull':{'messages':{'_id':_0x8b7738}}}}};}),_0x17bfa2=[..._0x1a9096,..._0x10adbe],_0x16675f=await this['repository'][_0x393fb2(0x52a)][_0x393fb2(0x722)](_0x17bfa2,this[_0x393fb2(0x60b)]['wuid']),_0x1a6e76=await this[_0x393fb2(0x5b9)]['scheduleMessage'][_0x393fb2(0x60c)](_0x39b661,this['instance'][_0x393fb2(0x3ad)]);return _0x1a6e76&&(this[_0x393fb2(0x702)](_0x1a6e76[_0x393fb2(0x281)]),await this['repository']['scheduleMessage'][_0x393fb2(0x415)](_0x1a6e76[_0x393fb2(0x48a)],{'$set':{'messages':_0x1a6e76[_0x393fb2(0x281)]}},this['instance'][_0x393fb2(0x3ad)])),_0x1a6e76;}catch(_0x1fd387){let _0x3d324f='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x1ac45d=_0x1fd387 instanceof Error?_0x1fd387[_0x393fb2(0x239)]:typeof _0x1fd387==_0x393fb2(0x880)?JSON['stringify'](_0x1fd387):_0x1fd387,_0x37f7b0=_0x3d324f+':\x20'+_0x1ac45d;throw this['logger'][_0x393fb2(0x71a)](this[_0x393fb2(0x3ae)]+'\x20('+this[_0x393fb2(0x60b)]['wuid']+_0x393fb2(0x82b)+_0x37f7b0),new m(_0x37f7b0);}}async[a0_0x2b042e(0x34b)](){const _0xedcb67=a0_0x2b042e;try{let _0x29e5c2={'status':{'$in':[_0xedcb67(0x625),_0xedcb67(0x47c)]}},_0x1cb7ce=await this[_0xedcb67(0x5b9)][_0xedcb67(0x52a)][_0xedcb67(0x88e)](_0x29e5c2,this['instance'][_0xedcb67(0x3ad)]);if(!_0x1cb7ce['error'])this[_0xedcb67(0x588)]['verbose'](this[_0xedcb67(0x3ae)]+'\x20('+this[_0xedcb67(0x60b)]['wuid']+_0xedcb67(0x33b));else throw new Error(_0x1cb7ce[_0xedcb67(0x71a)][_0xedcb67(0x239)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0xedcb67(0x35b)]();}catch(_0x3371d3){let _0x52bf2c=_0xedcb67(0x725),_0x109e45=_0x3371d3 instanceof Error?_0x3371d3[_0xedcb67(0x239)]:typeof _0x3371d3==_0xedcb67(0x880)?JSON['stringify'](_0x3371d3):_0x3371d3,_0x593198=_0x52bf2c+':\x20'+_0x109e45;throw this[_0xedcb67(0x588)][_0xedcb67(0x71a)](this[_0xedcb67(0x3ae)]+'\x20('+this[_0xedcb67(0x60b)]['wuid']+'):\x20'+_0x593198),new m(_0x593198);}}async[a0_0x2b042e(0x35b)](){const _0x360264=a0_0x2b042e;try{return await this[_0x360264(0x5b9)][_0x360264(0x52a)][_0x360264(0x6da)]({'where':{}},this[_0x360264(0x60b)][_0x360264(0x3ad)]);}catch(_0x5a8c8d){let _0x4bd544='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0xc6fdbe=_0x5a8c8d instanceof Error?_0x5a8c8d[_0x360264(0x239)]:typeof _0x5a8c8d=='object'?JSON['stringify'](_0x5a8c8d):_0x5a8c8d,_0xc678eb=_0x4bd544+':\x20'+_0xc6fdbe;throw this[_0x360264(0x588)][_0x360264(0x71a)](this[_0x360264(0x3ae)]+'\x20('+this[_0x360264(0x60b)][_0x360264(0x3ad)]+_0x360264(0x82b)+_0xc678eb),new m(_0xc678eb);}}['reorderMessages'](_0x1b4548){const _0x209126=a0_0x2b042e;_0x1b4548[_0x209126(0x516)]((_0x5669c8,_0x1bf8ae)=>_0x5669c8['order']-_0x1bf8ae[_0x209126(0x906)]),_0x1b4548['forEach']((_0x31ade4,_0x1d00ba)=>{const _0x50832a=_0x209126;_0x31ade4[_0x50832a(0x906)]=_0x1d00ba+0x1;});}async['SendScheduleMessage'](_0x298141,_0x308a54){const _0x30c7fc=a0_0x2b042e;try{if(!_0x308a54)return this[_0x30c7fc(0x588)][_0x30c7fc(0x71a)](this[_0x30c7fc(0x3ae)]+'\x20('+this[_0x30c7fc(0x60b)][_0x30c7fc(0x3ad)]+_0x30c7fc(0x6bb)),{'error':!0x0,'detail':_0x30c7fc(0x385)};if(_0x308a54['type']===_0x30c7fc(0x1ff)&&!this[_0x30c7fc(0x69f)]?.[_0x30c7fc(0x4cd)][_0x30c7fc(0x4c5)])return this[_0x30c7fc(0x588)][_0x30c7fc(0x71a)](this[_0x30c7fc(0x3ae)]+'\x20('+this['instance'][_0x30c7fc(0x3ad)]+_0x30c7fc(0x38e)),{'error':!0x0,'detail':_0x30c7fc(0x59a)};switch(_0x308a54[_0x30c7fc(0x1fa)]){case _0x30c7fc(0x8de):return await this[_0x30c7fc(0x28f)](_0x308a54,_0x298141);case'video':case _0x30c7fc(0x7b2):case _0x30c7fc(0x4e3):return await this[_0x30c7fc(0x776)](_0x308a54,_0x298141);case _0x30c7fc(0x6ac):return await this[_0x30c7fc(0x77d)](_0x308a54,_0x298141);case _0x30c7fc(0x1ff):let _0x2cb570=new Ke();return _0x2cb570[_0x30c7fc(0x69b)]=_0x308a54[_0x30c7fc(0x1ff)],_0x2cb570[_0x30c7fc(0x786)]=_0x298141,await this['startFlow'](_0x2cb570);default:return this[_0x30c7fc(0x588)][_0x30c7fc(0x71a)](this['instanceName']+'\x20('+this['instance'][_0x30c7fc(0x3ad)]+_0x30c7fc(0x70c)+_0x308a54[_0x30c7fc(0x1fa)]),{'error':!0x0,'detail':_0x30c7fc(0x70f)};}}catch(_0x11f538){return this[_0x30c7fc(0x588)][_0x30c7fc(0x71a)](this[_0x30c7fc(0x3ae)]+'\x20('+this[_0x30c7fc(0x60b)][_0x30c7fc(0x3ad)]+_0x30c7fc(0x45d)+(_0x11f538 instanceof Error?_0x11f538[_0x30c7fc(0x239)]:JSON[_0x30c7fc(0x254)](_0x11f538,null,0x2))),{'error':!0x0,'detail':_0x11f538[_0x30c7fc(0x239)]};}}async['scheduleSendText'](_0x59b6a0,_0x5ed3bd){const _0xd130c7=a0_0x2b042e;if(this[_0xd130c7(0x588)][_0xd130c7(0x642)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd130c7(0x398)+_0x5ed3bd+'\x27'),!_0x59b6a0['text']||_0x59b6a0[_0xd130c7(0x8de)][_0xd130c7(0x3f7)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1dcb1c=await this[_0xd130c7(0x76c)](_0x59b6a0['text'],_0x5ed3bd),_0x3402e2={'number':_0x5ed3bd,'options':{'delay':_0x59b6a0[_0xd130c7(0x39a)],'linkPreview':_0x59b6a0['linkPreview']},'textMessage':{'text':_0x1dcb1c}},_0x367ef5=null;try{let _0x29d9d8=await this[_0xd130c7(0x465)](_0x3402e2);if(_0x29d9d8&&_0x29d9d8['status'])return{'error':!0x1,'id':_0x29d9d8[_0xd130c7(0x730)]['id']};_0x367ef5=JSON[_0xd130c7(0x254)](_0x29d9d8),this[_0xd130c7(0x588)][_0xd130c7(0x642)](this['instanceName']+'\x20('+this[_0xd130c7(0x60b)][_0xd130c7(0x3ad)]+_0xd130c7(0x82b)+_0x367ef5);}catch(_0x323e62){this[_0xd130c7(0x588)][_0xd130c7(0x71a)](this[_0xd130c7(0x3ae)]+'\x20('+this[_0xd130c7(0x60b)][_0xd130c7(0x3ad)]+_0xd130c7(0x2b7)+(_0x323e62 instanceof Error?_0x323e62[_0xd130c7(0x239)]:JSON['stringify'](_0x323e62,null,0x2))),_0x367ef5=_0x323e62[_0xd130c7(0x239)];}if(_0x367ef5)return{'error':!0x0,'detail':(typeof _0x367ef5=='object'?JSON[_0xd130c7(0x254)](_0x367ef5,null,0x2):_0x367ef5)['replace'](/[\[\]{}\n]/g,'\x20')[_0xd130c7(0x417)](/  +/g,'\x20')};}async[a0_0x2b042e(0x776)](_0x1c1a89,_0xa560a3){const _0x45eec5=a0_0x2b042e;this['logger'][_0x45eec5(0x642)](this[_0x45eec5(0x3ae)]+'\x20('+this['instance'][_0x45eec5(0x3ad)]+_0x45eec5(0x8a2)+_0xa560a3+'\x27');let _0x36f58e;_0x1c1a89[_0x45eec5(0x8de)]&&_0x1c1a89[_0x45eec5(0x8de)][_0x45eec5(0x3f7)]>0x0&&(_0x36f58e=await this['replaceVariablesChat'](_0x1c1a89['text'],_0xa560a3));let _0x12f08c={'number':_0xa560a3,'options':{'delay':_0x1c1a89[_0x45eec5(0x39a)],'linkPreview':_0x1c1a89['linkPreview']},'mediaMessage':{'mediatype':_0x1c1a89['type'],'caption':_0x36f58e,'media':_0x1c1a89[_0x45eec5(0x1f2)]}},_0x3c34e1=null;try{let _0x58b060=await this[_0x45eec5(0x645)](_0x12f08c);if(_0x58b060&&_0x58b060['status'])return{'error':!0x1,'id':_0x58b060[_0x45eec5(0x730)]['id']};_0x3c34e1=JSON[_0x45eec5(0x254)](_0x58b060),this[_0x45eec5(0x588)][_0x45eec5(0x642)](this[_0x45eec5(0x3ae)]+'\x20('+this[_0x45eec5(0x60b)][_0x45eec5(0x3ad)]+_0x45eec5(0x82b)+_0x3c34e1);}catch(_0x247e90){this['logger'][_0x45eec5(0x71a)](this[_0x45eec5(0x3ae)]+'\x20('+this[_0x45eec5(0x60b)][_0x45eec5(0x3ad)]+_0x45eec5(0x53e)+(_0x247e90 instanceof Error?_0x247e90[_0x45eec5(0x239)]:JSON['stringify'](_0x247e90,null,0x2))),_0x3c34e1=_0x247e90[_0x45eec5(0x239)];}if(_0x3c34e1)return{'error':!0x0,'detail':(typeof _0x3c34e1=='object'?JSON['stringify'](_0x3c34e1,null,0x2):_0x3c34e1)[_0x45eec5(0x417)](/[\[\]{}\n]/g,'\x20')[_0x45eec5(0x417)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x2a33b9,_0x3d731e){const _0xca14a8=a0_0x2b042e;this[_0xca14a8(0x588)]['verbose'](this['instanceName']+'\x20('+this[_0xca14a8(0x60b)][_0xca14a8(0x3ad)]+_0xca14a8(0x8f3)+_0x3d731e+'\x27');let _0x14309c={'number':_0x3d731e,'options':{'delay':_0x2a33b9[_0xca14a8(0x39a)]},'audioMessage':{'audio':_0x2a33b9[_0xca14a8(0x1f2)]}},_0x34759b=null;try{let _0x29ac93=await this[_0xca14a8(0x830)](_0x14309c);if(_0x29ac93&&_0x29ac93[_0xca14a8(0x3cd)])return{'error':!0x1,'id':_0x29ac93['key']['id']};_0x34759b=JSON['stringify'](_0x29ac93),this[_0xca14a8(0x588)][_0xca14a8(0x642)](this['instanceName']+'\x20('+this[_0xca14a8(0x60b)][_0xca14a8(0x3ad)]+_0xca14a8(0x82b)+_0x34759b);}catch(_0x43b59c){this[_0xca14a8(0x588)]['error'](this[_0xca14a8(0x3ae)]+'\x20('+this[_0xca14a8(0x60b)][_0xca14a8(0x3ad)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x43b59c instanceof Error?_0x43b59c['message']:JSON[_0xca14a8(0x254)](_0x43b59c,null,0x2))),_0x34759b=_0x43b59c['message'];}if(_0x34759b)return{'error':!0x0,'detail':(typeof _0x34759b==_0xca14a8(0x880)?JSON[_0xca14a8(0x254)](_0x34759b,null,0x2):_0x34759b)[_0xca14a8(0x417)](/[\[\]{}\n]/g,'\x20')[_0xca14a8(0x417)](/  +/g,'\x20')};}async['groupDesc'](_0x235d0d){const _0x29b2f0=a0_0x2b042e;try{return await this['client'][_0x29b2f0(0x6d6)](_0x235d0d['groupJid'],_0x235d0d['description']),{'update':_0x29b2f0(0x7a8)};}catch(_0x27cc72){let _0x56a725='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x3b4d2f=_0x27cc72 instanceof Error?_0x27cc72[_0x29b2f0(0x239)]:typeof _0x27cc72==_0x29b2f0(0x880)?JSON[_0x29b2f0(0x254)](_0x27cc72):_0x27cc72,_0x3c2254=_0x56a725+':\x20'+_0x3b4d2f;throw this[_0x29b2f0(0x588)][_0x29b2f0(0x71a)](this[_0x29b2f0(0x3ae)]+'\x20('+this[_0x29b2f0(0x60b)][_0x29b2f0(0x3ad)]+_0x29b2f0(0x82b)+_0x3c2254),new x(_0x3c2254);}}async[a0_0x2b042e(0x59c)](_0x32be14){const _0x14412c=a0_0x2b042e;try{return await this['client']['groupUpdateSubject'](_0x32be14['groupJid'],_0x32be14[_0x14412c(0x69b)]),{'update':'success'};}catch(_0x10de55){let _0x592355=_0x14412c(0x3b4),_0x1f198f=_0x10de55 instanceof Error?_0x10de55['message']:typeof _0x10de55==_0x14412c(0x880)?JSON[_0x14412c(0x254)](_0x10de55):_0x10de55,_0x525d8e=_0x592355+':\x20'+_0x1f198f;throw this[_0x14412c(0x588)]['error'](this[_0x14412c(0x3ae)]+'\x20('+this[_0x14412c(0x60b)]['wuid']+'):\x20'+_0x525d8e),new x(_0x525d8e);}}async[a0_0x2b042e(0x3e5)](_0x412456){const _0x3c9653=a0_0x2b042e;try{let _0x59e8d9=await this[_0x3c9653(0x2ef)][_0x3c9653(0x68d)](_0x412456[_0x3c9653(0x374)],_0x412456['expiration']);return{'success':!0x0};}catch(_0x177162){let _0x23bf62='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x44010c=_0x177162 instanceof Error?_0x177162['message']:typeof _0x177162=='object'?JSON[_0x3c9653(0x254)](_0x177162):_0x177162,_0x4c2367=_0x23bf62+':\x20'+_0x44010c;throw this['logger'][_0x3c9653(0x71a)](this[_0x3c9653(0x3ae)]+'\x20('+this[_0x3c9653(0x60b)]['wuid']+_0x3c9653(0x82b)+_0x4c2367),new x(_0x4c2367);}}async[a0_0x2b042e(0x467)](_0x39eb0e){const _0x2b0819=a0_0x2b042e;try{return await this[_0x2b0819(0x2ef)]['groupSettingUpdate'](_0x39eb0e[_0x2b0819(0x374)],_0x39eb0e[_0x2b0819(0x689)]),{'update':_0x2b0819(0x7a8)};}catch(_0x5abe6c){let _0x2998e2=_0x2b0819(0x746),_0x545458=_0x5abe6c instanceof Error?_0x5abe6c['message']:typeof _0x5abe6c==_0x2b0819(0x880)?JSON[_0x2b0819(0x254)](_0x5abe6c):_0x5abe6c,_0x12965a=_0x2998e2+':\x20'+_0x545458;throw this[_0x2b0819(0x588)][_0x2b0819(0x71a)](this[_0x2b0819(0x3ae)]+'\x20('+this[_0x2b0819(0x60b)][_0x2b0819(0x3ad)]+_0x2b0819(0x82b)+_0x12965a),new x(_0x12965a);}}async[a0_0x2b042e(0x496)](_0x3bab5c){const _0x289b20=a0_0x2b042e;try{let _0x11839d;if((0x0,F[_0x289b20(0x89c)])(_0x3bab5c[_0x289b20(0x7b2)])){let _0x4b03bf=new Date()[_0x289b20(0x886)](),_0x550d5f=_0x3bab5c['image']+'?timestamp='+_0x4b03bf;_0x11839d=(await Z['default'][_0x289b20(0x7e0)](_0x550d5f,{'responseType':'arraybuffer'}))[_0x289b20(0x450)];}else{if((0x0,F['isBase64'])(_0x3bab5c['image']))_0x11839d=Buffer[_0x289b20(0x223)](_0x3bab5c[_0x289b20(0x7b2)],_0x289b20(0x474));else throw new m(_0x289b20(0x31a));}return await this['client']['updateProfilePicture'](_0x3bab5c['groupJid'],_0x11839d),{'update':_0x289b20(0x7a8)};}catch(_0x30f36d){let _0x176e79=_0x289b20(0x826),_0x59dc03=_0x30f36d instanceof Error?_0x30f36d['message']:typeof _0x30f36d==_0x289b20(0x880)?JSON[_0x289b20(0x254)](_0x30f36d):_0x30f36d,_0x440826=_0x176e79+':\x20'+_0x59dc03;throw this[_0x289b20(0x588)][_0x289b20(0x71a)](this[_0x289b20(0x3ae)]+'\x20('+this['instance']['wuid']+_0x289b20(0x82b)+_0x440826),new x(_0x440826);}}},Gt=class u{constructor(_0x4cbbb7,_0x5c49ca,_0x3aa6c2){const _0x6aaa8f=a0_0x2b042e;this[_0x6aaa8f(0x58b)]=_0x4cbbb7,this[_0x6aaa8f(0x865)]=_0x5c49ca,this[_0x6aaa8f(0x5b9)]=_0x3aa6c2,this['db']={},this[_0x6aaa8f(0x4f9)]={},this[_0x6aaa8f(0x588)]=new $(u[_0x6aaa8f(0x69b)]),this['waInstances']={},(this[_0x6aaa8f(0x86d)](),this[_0x6aaa8f(0x5c4)](),Object[_0x6aaa8f(0x589)](this['db'],_0x5c49ca['get']('DATABASE')),Object[_0x6aaa8f(0x589)](this['redis'],_0x5c49ca['get'](_0x6aaa8f(0x8c2))),this[_0x6aaa8f(0x3f1)]=this['db'][_0x6aaa8f(0x460)]?this[_0x6aaa8f(0x5b9)][_0x6aaa8f(0x1e6)]?.['db'](this['db']['CONNECTION'][_0x6aaa8f(0x60f)]+_0x6aaa8f(0x8e2)):void 0x0,this[_0x6aaa8f(0x612)]=this[_0x6aaa8f(0x4f9)]['ENABLED']?new ge(this['redis']):void 0x0);}async[a0_0x2b042e(0x85d)](_0x10b487){const _0x34ee1c=a0_0x2b042e;if(_0x10b487&&!this[_0x34ee1c(0x3b1)][_0x10b487])throw new V(_0x34ee1c(0x5f4)+_0x10b487+_0x34ee1c(0x78c));let _0x209f83=[];for await(let [_0x4cab25,_0x56b15b]of Object['entries'](this[_0x34ee1c(0x3b1)]))if(_0x56b15b&&_0x56b15b[_0x34ee1c(0x847)][_0x34ee1c(0x77e)]===_0x34ee1c(0x81f)){let _0x1e3222=await this[_0x34ee1c(0x5b9)][_0x34ee1c(0x805)][_0x34ee1c(0x6da)](_0x4cab25);_0x209f83[_0x34ee1c(0x2f6)]({'instance':{'instanceName':_0x4cab25,'apikey':_0x1e3222[_0x34ee1c(0x7b4)],'owner':_0x56b15b[_0x34ee1c(0x3ad)],'profileName':await _0x56b15b['getProfileName']()||_0x34ee1c(0x491),'profilePictureUrl':_0x56b15b[_0x34ee1c(0x2e8)]}});}return _0x209f83[_0x34ee1c(0x6da)](_0x66e3e1=>_0x66e3e1[_0x34ee1c(0x60b)][_0x34ee1c(0x3ae)]===_0x10b487)??_0x209f83;}async['cleaningUp'](_0x116f5b){const _0x44c66a=a0_0x2b042e;if(this['db']['ENABLED']&&(await this[_0x44c66a(0x5b9)][_0x44c66a(0x1e6)]['connect'](),(await this[_0x44c66a(0x3f1)][_0x44c66a(0x371)]())[_0x44c66a(0x3f7)]>0x0&&await this['dbInstance'][_0x44c66a(0x5e3)](_0x116f5b)),this[_0x44c66a(0x4f9)]['ENABLED']){this['cache']['reference']=_0x116f5b,await this[_0x44c66a(0x612)][_0x44c66a(0x6e7)]();return;}}async[a0_0x2b042e(0x6e3)](){const _0x2f0182=a0_0x2b042e;await this[_0x2f0182(0x35a)]();let _0x411bea=async _0x4443df=>{const _0x2ce13f=_0x2f0182;let _0x279d08=new Re(this[_0x2ce13f(0x865)],this[_0x2ce13f(0x58b)],this[_0x2ce13f(0x5b9)]);_0x279d08['instanceName']=_0x4443df,await _0x279d08[_0x2ce13f(0x6ee)](),this[_0x2ce13f(0x3b1)][_0x4443df]=_0x279d08;};try{if(this[_0x2f0182(0x4f9)]['ENABLED']){let _0x17ba84=await this[_0x2f0182(0x612)][_0x2f0182(0x5e7)]();_0x17ba84?.['length']>0x0&&_0x17ba84[_0x2f0182(0x1e3)](async _0x2bd03f=>await _0x411bea(_0x2bd03f[_0x2f0182(0x5d7)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x2f0182(0x5b9)][_0x2f0182(0x1e6)]['connect']();let _0x3c5319=await this[_0x2f0182(0x3f1)][_0x2f0182(0x371)]();_0x3c5319['length']>0x0&&_0x3c5319[_0x2f0182(0x1e3)](async _0x37496c=>await _0x411bea(_0x37496c[_0x2f0182(0x5c5)][_0x2f0182(0x417)](/^[\w-]+\./,'')));return;}}catch(_0x28324d){this['logger'][_0x2f0182(0x71a)](_0x28324d);}}async[a0_0x2b042e(0x58c)](){const _0x5c9bda=a0_0x2b042e;try{let _0x7aaf1d=await this[_0x5c9bda(0x5b9)][_0x5c9bda(0x805)]['findMany']({'online':!0x1});for(let _0x1593f5 of _0x7aaf1d){let _0x486fd4=_0x1593f5[_0x5c9bda(0x48a)];await me[_0x5c9bda(0x8a0)](ee,_0x486fd4);}console[_0x5c9bda(0x364)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x7aaf1d[_0x5c9bda(0x3f7)]);let _0x2d942e={'online':!0x1},_0x20cd0f=await this['repository'][_0x5c9bda(0x805)]['deleteMany'](_0x2d942e);console[_0x5c9bda(0x364)](_0x5c9bda(0x20c)+_0x20cd0f[_0x5c9bda(0x77f)]);}catch(_0x4fd099){console['error']('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x4fd099);}}async[a0_0x2b042e(0x35a)](){const _0x45373c=a0_0x2b042e;try{let _0x19b379={'online':!0x1},_0x2326f4={'online':!0x1,'lastDisconnect':Date['now']()},_0x511577=await this[_0x45373c(0x5b9)][_0x45373c(0x805)][_0x45373c(0x389)](_0x19b379,_0x2326f4);await this['cleanDisconnectedInstances']();}catch(_0x1ad230){console[_0x45373c(0x71a)](_0x45373c(0x790),_0x1ad230);}}['removeInstance'](){const _0x40ff2a=a0_0x2b042e;this[_0x40ff2a(0x58b)]['on'](_0x40ff2a(0x4b1),async _0x12500f=>{const _0x595305=_0x40ff2a;try{this[_0x595305(0x3b1)][_0x12500f]=void 0x0;}catch{}try{this[_0x595305(0x52c)](_0x12500f);}finally{this[_0x595305(0x588)][_0x595305(0x537)](_0x595305(0x5f4)+_0x12500f+'\x22\x20-\x20REMOVED');}});}[a0_0x2b042e(0x5c4)](){const _0x31ec6b=a0_0x2b042e;this[_0x31ec6b(0x58b)]['on'](_0x31ec6b(0x2dc),async _0x4968f2=>{const _0x5a432a=_0x31ec6b;try{this['waInstances'][_0x4968f2]=void 0x0;}catch{}try{this[_0x5a432a(0x52c)](_0x4968f2);}finally{this[_0x5a432a(0x588)][_0x5a432a(0x537)](_0x5a432a(0x5f4)+_0x4968f2+_0x5a432a(0x681));}});}},Bt=class extends O{[a0_0x2b042e(0x763)](_0x5ec402){return sa(_0x5ec402);}async['insert'](_0x52ff71){const _0x5e9c25=a0_0x2b042e;if(_0x52ff71[_0x5e9c25(0x3f7)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x52ff71[0x0][_0x5e9c25(0x2a2)])[_0x5e9c25(0x66e)]([..._0x52ff71]))[_0x5e9c25(0x3f7)]};}catch(_0xffb6ed){return _0xffb6ed;}}async[a0_0x2b042e(0x6da)](_0x1be8b8,_0x1c8655){const _0x51598d=a0_0x2b042e;try{let _0x56802a=this['getChatModelForOwner'](_0x1c8655),_0x2072d2=T(_0x1be8b8[_0x51598d(0x81b)]);return await _0x56802a[_0x51598d(0x6da)](_0x2072d2)[_0x51598d(0x516)]({'lastmsg':-0x1})[_0x51598d(0x3cc)](_0x1be8b8?.[_0x51598d(0x3cc)]??0x0)[_0x51598d(0x871)]();}catch{return[];}}async['delete'](_0x1671e0,_0x413080){const _0x313ada=a0_0x2b042e;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x413080)[_0x313ada(0x88e)]({..._0x1671e0['where']}))[_0x313ada(0x3a4)]};}catch(_0x14e187){return{'error':_0x14e187?.['toString']()};}}async[a0_0x2b042e(0x495)](_0x3b7ee9,_0x19722d){const _0x1430e6=a0_0x2b042e;try{return await this['getChatModelForOwner'](_0x19722d)[_0x1430e6(0x88e)]({..._0x3b7ee9[_0x1430e6(0x81b)]}),[];}catch(_0x5e398b){return{'error':_0x5e398b?.['toString']()};}}async[a0_0x2b042e(0x296)](_0x4bc9f5,_0x1d0cd9){const _0x59b73c=a0_0x2b042e;try{let _0x33fc97=this[_0x59b73c(0x763)](_0x1d0cd9),_0x42a4b1=T(_0x4bc9f5[_0x59b73c(0x81b)]);return await _0x33fc97[_0x59b73c(0x296)](_0x42a4b1)[_0x59b73c(0x871)]();}catch{return null;}}async['updateOne'](_0x4bdb43,_0xcd9a2,_0x33e392,_0x3539fd,_0xb39930='$set'){const _0x11d06c=a0_0x2b042e;try{let _0x28b381={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3539fd},_0x1c0bb1=this[_0x11d06c(0x763)](_0x33e392),_0x4eaa90=T(_0x4bdb43[_0x11d06c(0x81b)]);Object['keys'](_0xcd9a2)['forEach'](_0x5dad13=>{_0xcd9a2[_0x5dad13]==null&&delete _0xcd9a2[_0x5dad13];});let _0x16faa5={};return _0x16faa5[_0xb39930]=_0xcd9a2,await _0x1c0bb1[_0x11d06c(0x56d)](_0x4eaa90,_0x16faa5,_0x28b381);}catch(_0x595775){return console['error'](_0x595775),null;}}async[a0_0x2b042e(0x8f9)](_0x4d4afe){const _0x2d028f=a0_0x2b042e;try{let _0x29c097=this[_0x2d028f(0x763)](_0x4d4afe[0x0]['query'][_0x2d028f(0x81b)][_0x2d028f(0x2a2)]),_0x430129=_0x4d4afe[_0x2d028f(0x633)](_0x203f8b=>({'updateOne':{'filter':{..._0x203f8b[_0x2d028f(0x321)]['where']},'update':{'$set':_0x203f8b[_0x2d028f(0x914)]},'upsert':!0x0}})),_0x7caf8d=await _0x29c097['bulkWrite'](_0x430129);return _0x7caf8d[_0x2d028f(0x546)]+_0x7caf8d[_0x2d028f(0x2fa)];}catch(_0x16defe){return console[_0x2d028f(0x71a)](_0x16defe),0x0;}}async[a0_0x2b042e(0x5c2)](_0x664d70){const _0x334f48=a0_0x2b042e;try{let _0x369ab8={'group_isCommunity':'','group_announce':'','group_size':''},_0x264d03={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2218fd={'$unset':_0x369ab8};return(await this['getChatModelForOwner'](_0x664d70)['updateMany'](_0x264d03,_0x2218fd))['modifiedCount'];}catch(_0x2cbe1c){return console[_0x334f48(0x71a)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x2cbe1c),0x0;}}async[a0_0x2b042e(0x55c)](_0x27ff50){const _0x48dafc=a0_0x2b042e;try{let _0xaaed64=this[_0x48dafc(0x763)](_0x27ff50),_0x52f1e4={'leadInfo.etiquetas':{'$exists':!0x1}},_0x50de2f={'$set':{'leadInfo.etiquetas':[]}};return(await _0xaaed64[_0x48dafc(0x8f9)](_0x52f1e4,_0x50de2f))[_0x48dafc(0x546)];}catch(_0xefe29c){return console[_0x48dafc(0x71a)](_0xefe29c),0x0;}}async['updateMissingTags'](_0x468de4){const _0x13de96=a0_0x2b042e;try{let _0x5d1c74=this['getChatModelForOwner'](_0x468de4),_0x3aba1e={'leadInfo.tags':{'$exists':!0x1}},_0x1a3d00={'$set':{'leadInfo.tags':[]}};return(await _0x5d1c74[_0x13de96(0x8f9)](_0x3aba1e,_0x1a3d00))['modifiedCount'];}catch(_0x3be827){return console[_0x13de96(0x71a)](_0x3be827),0x0;}}async[a0_0x2b042e(0x80f)](_0x4bc00d){const _0x4724fc=a0_0x2b042e;try{let _0x330299=this[_0x4724fc(0x763)](_0x4bc00d),_0x33b0c0={'leadInfo.customFields':{'$exists':!0x1}},_0x87722b={'$set':{'leadInfo.customFields':[]}};return(await _0x330299[_0x4724fc(0x8f9)](_0x33b0c0,_0x87722b))[_0x4724fc(0x546)];}catch(_0x4ac2d5){return console['error'](_0x4ac2d5),0x0;}}async[a0_0x2b042e(0x66e)](_0x32b4ac,_0x3614d4){const _0xe9e746=a0_0x2b042e;if(!Array['isArray'](_0x32b4ac)||_0x32b4ac[_0xe9e746(0x3f7)]===0x0)throw new Error(_0xe9e746(0x6c9));try{return(await this['getChatModelForOwner'](_0x3614d4)[_0xe9e746(0x66e)](_0x32b4ac))[_0xe9e746(0x3f7)];}catch(_0x1aaf02){throw console[_0xe9e746(0x71a)](_0xe9e746(0x53a),_0x1aaf02),_0x1aaf02;}}async[a0_0x2b042e(0x332)](_0x407541,_0x14ef84){const _0x3acf4f=a0_0x2b042e;try{await this[_0x3acf4f(0x763)](_0x14ef84)[_0x3acf4f(0x573)]({'_id':_0x407541});}catch(_0x29e5c4){throw console[_0x3acf4f(0x71a)]('Erro\x20ao\x20deletar\x20chat:',_0x29e5c4),_0x29e5c4;}}},Wt=class extends O{constructor(_0x1a2c14,_0x2077ae,_0x261843){const _0x2a0527=a0_0x2b042e;super(_0x2077ae),this['cacheContactModel']=_0x1a2c14,this[_0x2a0527(0x865)]=_0x2077ae,this[_0x2a0527(0x7ec)]=_0x261843;}async[a0_0x2b042e(0x7e5)](_0x1f211b){const _0x550f2e=a0_0x2b042e;if(_0x1f211b[_0x550f2e(0x3f7)]!==0x0)try{return{'insertCount':(await this[_0x550f2e(0x6b0)][_0x550f2e(0x66e)]([..._0x1f211b]))[_0x550f2e(0x3f7)]};}catch(_0x12f584){return _0x12f584;}}async[a0_0x2b042e(0x914)](_0x15e27b,_0x1d3a0e){const _0x1a430b=a0_0x2b042e;try{let _0x20315c=T(_0x15e27b['where']);return{'updatedCount':(await this['cacheContactModel'][_0x1a430b(0x8f9)](_0x20315c,{'$set':_0x1d3a0e}))[_0x1a430b(0x546)]};}catch(_0x3d8521){return console[_0x1a430b(0x71a)](_0x1a430b(0x3c5),_0x3d8521),{'error':_0x3d8521[_0x1a430b(0x413)]()};}}async[a0_0x2b042e(0x6dc)](_0x8bc2fb){const _0x230405=a0_0x2b042e;try{let _0x107a21={'_id':{'$in':_0x8bc2fb}};return await this[_0x230405(0x6b0)][_0x230405(0x6da)](_0x107a21)[_0x230405(0x871)]();}catch(_0x2a9794){return console[_0x230405(0x71a)]('Error\x20finding\x20many\x20contacts:',_0x2a9794),[];}}async[a0_0x2b042e(0x231)](_0x380aa5){const _0x3cd7dc=a0_0x2b042e;try{return{'deletedCount':(await this[_0x3cd7dc(0x6b0)][_0x3cd7dc(0x88e)]({..._0x380aa5['where']}))[_0x3cd7dc(0x3a4)]};}catch(_0x584ab9){return{'error':_0x584ab9?.[_0x3cd7dc(0x413)]()};}}async[a0_0x2b042e(0x6da)](_0x4b94b5){const _0x2e3ebb=a0_0x2b042e;try{let _0x27b5bb=T(_0x4b94b5[_0x2e3ebb(0x81b)]);return await this[_0x2e3ebb(0x6b0)][_0x2e3ebb(0x6da)](_0x27b5bb)[_0x2e3ebb(0x3cc)](_0x4b94b5?.[_0x2e3ebb(0x3cc)]??0x0)[_0x2e3ebb(0x871)]();}catch{return[];}}async[a0_0x2b042e(0x296)](_0x4b85aa){const _0x4bb0d2=a0_0x2b042e;try{let _0x21c9df=T(_0x4b85aa[_0x4bb0d2(0x81b)]);return await this[_0x4bb0d2(0x6b0)]['findOne'](_0x21c9df)[_0x4bb0d2(0x871)]();}catch{return null;}}},zt=class extends O{[a0_0x2b042e(0x36c)](_0x173f91){return va(_0x173f91);}async['updateOne'](_0x26fc0d,_0x5f264b,_0xd701d2,_0x4a6ffd){const _0x23338f=a0_0x2b042e;try{let _0x5ad07e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4a6ffd},_0x3f34e8=this[_0x23338f(0x36c)](_0xd701d2),_0x4b8de0=T(_0x26fc0d[_0x23338f(0x81b)]);return await _0x3f34e8['findOneAndUpdate'](_0x4b8de0,{'$set':_0x5f264b},_0x5ad07e);}catch(_0x2d5e1c){return console['error'](_0x2d5e1c),null;}}async[a0_0x2b042e(0x6da)](_0x54f81b,_0x1b9f7c){const _0x1b018c=a0_0x2b042e;try{let _0x2106bc=this[_0x1b018c(0x36c)](_0x1b9f7c),_0x4c1382=T(_0x54f81b['where']);return await _0x2106bc[_0x1b018c(0x6da)](_0x4c1382);}catch(_0x5440a1){console[_0x1b018c(0x71a)](_0x5440a1);}}async[a0_0x2b042e(0x231)](_0x521bde,_0x1d952a){const _0x8c7c4b=a0_0x2b042e;try{let _0x43a9c1=this[_0x8c7c4b(0x36c)](_0x1d952a),_0x5ea05d=T(_0x521bde[_0x8c7c4b(0x81b)]);await _0x43a9c1[_0x8c7c4b(0x88e)](_0x5ea05d);}catch(_0x7a9b4e){console[_0x8c7c4b(0x71a)](_0x7a9b4e);}}async[a0_0x2b042e(0x495)](_0x91b34a){const _0xea7bd6=a0_0x2b042e;try{return await this[_0xea7bd6(0x36c)](_0x91b34a)[_0xea7bd6(0x8c1)][_0xea7bd6(0x748)](),{'success':!0x0};}catch(_0x7c64f2){return console[_0xea7bd6(0x71a)](_0x7c64f2),{'success':!0x1,'error':_0x7c64f2};}}},Ht=class{constructor(_0x1b2b3c){const _0xb42b7d=a0_0x2b042e;this[_0xb42b7d(0x29b)]=_0x1b2b3c;}async['editChat']({instanceName:_0x441973},_0x5887db){const _0x35f190=a0_0x2b042e;return await this['waMonitor'][_0x35f190(0x3b1)][_0x441973][_0x35f190(0x576)](_0x5887db);}async[a0_0x2b042e(0x32d)]({instanceName:_0x34969b},_0x282763){const _0x53babe=a0_0x2b042e;return await this[_0x53babe(0x29b)][_0x53babe(0x3b1)][_0x34969b]['whatsappNumber'](_0x282763);}async['importChats']({instanceName:_0x467d64},_0x3eaf2c){const _0x8b6575=a0_0x2b042e;return await this[_0x8b6575(0x29b)][_0x8b6575(0x3b1)][_0x467d64][_0x8b6575(0x7fb)](_0x3eaf2c);}async[a0_0x2b042e(0x48c)]({instanceName:_0x4b82f4},_0x1a3548){const _0x4d63ee=a0_0x2b042e;return await this[_0x4d63ee(0x29b)]['waInstances'][_0x4b82f4]['markMessageAsRead'](_0x1a3548);}async[a0_0x2b042e(0x348)]({instanceName:_0x3aecab},_0x548537){const _0x823428=a0_0x2b042e;return await this[_0x823428(0x29b)][_0x823428(0x3b1)][_0x3aecab][_0x823428(0x348)](_0x548537);}async[a0_0x2b042e(0x7ef)]({instanceName:_0x94535e},_0x1dc13d){const _0xe62297=a0_0x2b042e;return await this[_0xe62297(0x29b)]['waInstances'][_0x94535e][_0xe62297(0x7ef)](_0x1dc13d);}async[a0_0x2b042e(0x63f)]({instanceName:_0x2bb968},_0x22dee9){const _0x55246f=a0_0x2b042e;return await this[_0x55246f(0x29b)][_0x55246f(0x3b1)][_0x2bb968][_0x55246f(0x4bf)](_0x22dee9[_0x55246f(0x46a)]);}async[a0_0x2b042e(0x5c6)]({instanceName:_0x3d80f0},_0xe4e46e){const _0x181e50=a0_0x2b042e;return await this['waMonitor'][_0x181e50(0x3b1)][_0x3d80f0][_0x181e50(0x5c6)](_0xe4e46e['number']);}async[a0_0x2b042e(0x27a)]({instanceName:_0x499506},_0x4dc66f){const _0x5e0631=a0_0x2b042e;return await this[_0x5e0631(0x29b)]['waInstances'][_0x499506][_0x5e0631(0x27a)](_0x4dc66f);}async['fetchContacts']({instanceName:_0x4ea56f},_0x47f520){const _0x5cdc91=a0_0x2b042e;return await this[_0x5cdc91(0x29b)][_0x5cdc91(0x3b1)][_0x4ea56f]['fetchContacts'](_0x47f520);}async[a0_0x2b042e(0x8d1)]({instanceName:_0x11a916},_0x15a7ad){const _0xff7eb7=a0_0x2b042e;return await this['waMonitor'][_0xff7eb7(0x3b1)][_0x11a916]['getBase64FromMediaMessage'](_0x15a7ad);}async[a0_0x2b042e(0x435)]({instanceName:_0x27e384},_0x5f43d8){const _0x1d1fd9=a0_0x2b042e;return await this[_0x1d1fd9(0x29b)][_0x1d1fd9(0x3b1)][_0x27e384][_0x1d1fd9(0x435)](_0x5f43d8);}async[a0_0x2b042e(0x1e5)]({instanceName:_0x54a747}){const _0x4419d9=a0_0x2b042e;return await this[_0x4419d9(0x29b)]['waInstances'][_0x54a747][_0x4419d9(0x1e5)]();}async[a0_0x2b042e(0x8e7)]({instanceName:_0x580744}){const _0x57ecb1=a0_0x2b042e;return await this[_0x57ecb1(0x29b)][_0x57ecb1(0x3b1)][_0x580744][_0x57ecb1(0x8e7)]();}async[a0_0x2b042e(0x335)]({instanceName:_0xb87d54}){const _0x4b4629=a0_0x2b042e;return await this[_0x4b4629(0x29b)]['waInstances'][_0xb87d54][_0x4b4629(0x335)]();}async['updatePrivacySettings']({instanceName:_0xac6712},_0x47d9d3){const _0x334276=a0_0x2b042e;return await this[_0x334276(0x29b)][_0x334276(0x3b1)][_0xac6712][_0x334276(0x2e5)](_0x47d9d3);}async[a0_0x2b042e(0x2f2)]({instanceName:_0x3be3ee},_0x5e21a9){const _0x10626a=a0_0x2b042e;return await this[_0x10626a(0x29b)][_0x10626a(0x3b1)][_0x3be3ee][_0x10626a(0x2f2)](_0x5e21a9['number']);}async[a0_0x2b042e(0x519)]({instanceName:_0x34ea7e},_0x142a3a){const _0x5c39a5=a0_0x2b042e;return await this[_0x5c39a5(0x29b)][_0x5c39a5(0x3b1)][_0x34ea7e][_0x5c39a5(0x519)](_0x142a3a['name']);}async[a0_0x2b042e(0x343)]({instanceName:_0x25c504},_0x537b7d){const _0x270fce=a0_0x2b042e;return await this[_0x270fce(0x29b)][_0x270fce(0x3b1)][_0x25c504][_0x270fce(0x343)](_0x537b7d['status']);}async[a0_0x2b042e(0x521)]({instanceName:_0x3e793b},_0x692bff){const _0x1648b1=a0_0x2b042e;return await this[_0x1648b1(0x29b)][_0x1648b1(0x3b1)][_0x3e793b][_0x1648b1(0x521)](_0x692bff[_0x1648b1(0x58a)]);}async[a0_0x2b042e(0x206)]({instanceName:_0x1619c6},_0x2d080f){const _0x3a9380=a0_0x2b042e;return await this[_0x3a9380(0x29b)][_0x3a9380(0x3b1)][_0x1619c6][_0x3a9380(0x206)]();}},Kt=require(a0_0x2b042e(0x1e9)),Qt=class u{constructor(_0x160c0d,_0x3d272f,_0x50b696,_0x54fc87,_0x419a36){const _0xc718a2=a0_0x2b042e;this[_0xc718a2(0x29b)]=_0x160c0d,this['configService']=_0x3d272f,this[_0xc718a2(0x5b9)]=_0x50b696,this['eventEmitter']=_0x54fc87,this['authService']=_0x419a36,this[_0xc718a2(0x588)]=new $(u[_0xc718a2(0x69b)]);}async[a0_0x2b042e(0x5a6)]({instanceName:_0x26423d,apikey:_0x83ff0,number:_0x489cf3,proxy:_0x381ed8=!0x0}){const _0x176caa=a0_0x2b042e;try{let _0x246ada=new Re(this[_0x176caa(0x865)],this[_0x176caa(0x58b)],this['repository']);_0x246ada[_0x176caa(0x3ae)]=_0x26423d,this['waMonitor'][_0x176caa(0x3b1)][_0x246ada[_0x176caa(0x3ae)]]=_0x246ada;let _0x1feb3e={};_0x83ff0?(await this[_0x176caa(0x5b9)]['auth']['create']({'apikey':_0x83ff0},_0x26423d),_0x1feb3e[_0x176caa(0x7b4)]=_0x83ff0):_0x1feb3e=await this[_0x176caa(0x2dd)][_0x176caa(0x469)]({'instanceName':_0x246ada[_0x176caa(0x3ae)]});let _0x56d4d4;if(_0x489cf3){if(_0x56d4d4=await this[_0x176caa(0x704)](_0x489cf3),_0x56d4d4['error'])throw new x(_0x56d4d4[_0x176caa(0x71a)][_0x176caa(0x413)]());_0x489cf3=_0x56d4d4[_0x176caa(0x46a)];}let _0x274934;return await _0x246ada[_0x176caa(0x6ee)](_0x489cf3),await(0x0,Kt[_0x176caa(0x39a)])(0xfa0),_0x489cf3&&await(0x0,Kt[_0x176caa(0x39a)])(0xbb8),_0x274934=_0x246ada[_0x176caa(0x773)],{'instance':{'instanceName':_0x246ada['instanceName'],'status':'created'},'hash':_0x1feb3e,'qrcode':_0x274934};}catch(_0xc407e){throw this[_0x176caa(0x588)][_0x176caa(0x71a)](_0xc407e),_0xc407e;}}async[a0_0x2b042e(0x50f)]({instanceName:_0x423c6f,number:_0x5a63b4=null}){const _0x1be7e0=a0_0x2b042e;try{let _0x42febe=this['waMonitor'][_0x1be7e0(0x3b1)][_0x423c6f];switch(_0x42febe?.[_0x1be7e0(0x847)]?.['state']){case _0x1be7e0(0x409):return await _0x42febe[_0x1be7e0(0x6ee)](_0x5a63b4),await(0x0,Kt[_0x1be7e0(0x39a)])(0x7d0),_0x42febe['qrCode'];case _0x1be7e0(0x280):return _0x42febe[_0x1be7e0(0x773)];default:return await this[_0x1be7e0(0x7ad)]({'instanceName':_0x423c6f});}}catch(_0x52be43){this['logger'][_0x1be7e0(0x364)](_0x52be43);}}async[a0_0x2b042e(0x7ad)]({instanceName:_0x3cdc7d}){const _0x546ccd=a0_0x2b042e;let _0x48f550=this[_0x546ccd(0x29b)][_0x546ccd(0x3b1)][_0x3cdc7d][_0x546ccd(0x847)],_0x46af67=null;_0x48f550[_0x546ccd(0x77e)]==='open'&&_0x3cdc7d&&(_0x46af67=await this[_0x546ccd(0x29b)][_0x546ccd(0x85d)](_0x3cdc7d));let _0x39e0e6=null;return _0x48f550[_0x546ccd(0x77e)]===_0x546ccd(0x280)&&_0x3cdc7d&&(_0x39e0e6=this['waMonitor'][_0x546ccd(0x3b1)][_0x3cdc7d]['qrCode']),{'instance':_0x3cdc7d,'connectionStatus':_0x48f550,'instanceInfo':_0x46af67,'qrcode':_0x39e0e6};}async[a0_0x2b042e(0x704)](_0x1e75cd){const _0x2f88ff=a0_0x2b042e;_0x1e75cd=_0x1e75cd[_0x2f88ff(0x417)](/\D/g,'');let _0x5c19bd=Object[_0x2f88ff(0x5d6)](this['waMonitor'][_0x2f88ff(0x3b1)])[_0x2f88ff(0x7ca)](_0x536369=>{const _0x15a2a9=_0x2f88ff;let _0xf5ae36=this[_0x15a2a9(0x29b)][_0x15a2a9(0x3b1)][_0x536369];return _0xf5ae36&&_0xf5ae36['connectionStatus']&&_0xf5ae36[_0x15a2a9(0x847)][_0x15a2a9(0x77e)]===_0x15a2a9(0x81f);});if(_0x5c19bd[_0x2f88ff(0x3f7)]===0x0)return{'number':this['formatBRNumber'](_0x1e75cd)};let _0x516393=Math[_0x2f88ff(0x8ed)](Math[_0x2f88ff(0x237)]()*_0x5c19bd[_0x2f88ff(0x3f7)]),_0x3a078d=_0x5c19bd[_0x516393];try{let _0x5263c5=(await this['waMonitor'][_0x2f88ff(0x3b1)][_0x3a078d][_0x2f88ff(0x32d)]({'numbers':[_0x1e75cd]}))[_0x2f88ff(0x7a2)]();return _0x5263c5[_0x2f88ff(0x373)]?{'number':_0x5263c5[_0x2f88ff(0x697)][_0x2f88ff(0x417)]('@s.whatsapp.net','')}:{'number':_0x1e75cd,'error':_0x2f88ff(0x8b5)};}catch(_0x28d1a4){return this[_0x2f88ff(0x588)][_0x2f88ff(0x71a)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x28d1a4),{'number':_0x1e75cd,'error':_0x2f88ff(0x831)};}}['formatBRNumber'](_0x507cc5){const _0x591734=a0_0x2b042e;let _0x19a4d0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x591734(0x42d)](_0x507cc5);if(_0x19a4d0&&_0x19a4d0[0x1]==='55'){let _0x28ae2a=_0x19a4d0[0x2],_0x31aaf4=_0x19a4d0[0x3],_0x97fa9f=_0x19a4d0[0x4];if(parseInt(_0x28ae2a)>=0x1f&&_0x31aaf4==='9')return _0x19a4d0[0x1]+_0x28ae2a+_0x97fa9f;}return _0x507cc5;}async[a0_0x2b042e(0x760)]({instanceName:_0xa68ba4}){const _0x2b0dbe=a0_0x2b042e;try{return this[_0x2b0dbe(0x29b)][_0x2b0dbe(0x3b1)][_0xa68ba4]?.[_0x2b0dbe(0x2ef)]?.['ws']?.['close'](),{'status':_0x2b0dbe(0x271),'error':!0x1,'response':{'message':_0x2b0dbe(0x356)}};}catch(_0x883f9e){this[_0x2b0dbe(0x588)]['error'](_0x883f9e);}}async[a0_0x2b042e(0x550)]({instanceName:_0x39aea9}){const _0x295d31=a0_0x2b042e;return _0x39aea9?this[_0x295d31(0x29b)][_0x295d31(0x85d)](_0x39aea9):this['waMonitor'][_0x295d31(0x85d)]();}async[a0_0x2b042e(0x563)]({instanceName:_0x5c65b9}){const _0x3f73bc=a0_0x2b042e;try{return await this['waMonitor'][_0x3f73bc(0x3b1)][_0x5c65b9]?.[_0x3f73bc(0x2ef)]?.[_0x3f73bc(0x563)]('Log\x20out\x20instance:\x20'+_0x5c65b9),{'error':!0x1,'message':_0x3f73bc(0x368)};}catch(_0x5151b7){throw new x(_0x5151b7[_0x3f73bc(0x413)]());}}async[a0_0x2b042e(0x678)]({instanceName:_0x143dd0}){const _0xf0ff0=a0_0x2b042e;if((await this[_0xf0ff0(0x7ad)]({'instanceName':_0x143dd0}))[_0xf0ff0(0x847)][_0xf0ff0(0x77e)]===_0xf0ff0(0x81f))throw new m([_0xf0ff0(0x7f9),_0xf0ff0(0x76b)]);try{return delete this[_0xf0ff0(0x29b)][_0xf0ff0(0x3b1)][_0x143dd0],{'error':!0x1,'message':_0xf0ff0(0x426)};}catch(_0x5c88d7){throw new m(_0x5c88d7[_0xf0ff0(0x413)]());}}},re=require('class-validator'),Yt=class{constructor(_0x3cd62f){const _0x56cb0b=a0_0x2b042e;this[_0x56cb0b(0x29b)]=_0x3cd62f;}async[a0_0x2b042e(0x306)]({instanceName:_0x363161},_0x3092f5){const _0x61c1df=a0_0x2b042e;return await this['waMonitor'][_0x61c1df(0x3b1)][_0x363161]['textMessage'](_0x3092f5);}async[a0_0x2b042e(0x291)]({instanceName:_0x2241e4},_0x1dde0f){const _0x18789c=a0_0x2b042e;return await this[_0x18789c(0x29b)][_0x18789c(0x3b1)][_0x2241e4][_0x18789c(0x61b)](_0x1dde0f);}async[a0_0x2b042e(0x817)]({instanceName:_0x55a3a0},_0x5e9927){const _0x40cc48=a0_0x2b042e;if((0x0,re[_0x40cc48(0x764)])(_0x5e9927?.[_0x40cc48(0x645)]?.[_0x40cc48(0x300)])&&!_0x5e9927?.[_0x40cc48(0x645)]?.[_0x40cc48(0x324)])throw new m(_0x40cc48(0x5f2));if((0x0,re[_0x40cc48(0x89c)])(_0x5e9927?.[_0x40cc48(0x645)]?.['media'])||(0x0,re['isBase64'])(_0x5e9927?.['mediaMessage']?.[_0x40cc48(0x300)]))return await this[_0x40cc48(0x29b)][_0x40cc48(0x3b1)][_0x55a3a0][_0x40cc48(0x645)](_0x5e9927);throw new m(_0x40cc48(0x548));}async[a0_0x2b042e(0x598)]({instanceName:_0x391557},_0x28bf8c){const _0xb2ad39=a0_0x2b042e;if((0x0,re['isURL'])(_0x28bf8c[_0xb2ad39(0x6a2)][_0xb2ad39(0x7b2)])||(0x0,re[_0xb2ad39(0x764)])(_0x28bf8c[_0xb2ad39(0x6a2)]['image']))return await this[_0xb2ad39(0x29b)][_0xb2ad39(0x3b1)][_0x391557][_0xb2ad39(0x79b)](_0x28bf8c);throw new m(_0xb2ad39(0x548));}async[a0_0x2b042e(0x62f)]({instanceName:_0x213872},_0x4a1461){const _0xdc5465=a0_0x2b042e;if((0x0,re[_0xdc5465(0x89c)])(_0x4a1461[_0xdc5465(0x8b7)][_0xdc5465(0x6ac)])||(0x0,re[_0xdc5465(0x764)])(_0x4a1461[_0xdc5465(0x8b7)]['audio']))return await this[_0xdc5465(0x29b)][_0xdc5465(0x3b1)][_0x213872][_0xdc5465(0x830)](_0x4a1461);throw new m(_0xdc5465(0x548));}async[a0_0x2b042e(0x3e0)]({instanceName:_0x2a167c},_0x576be6){const _0x32a498=a0_0x2b042e;if((0x0,re[_0x32a498(0x764)])(_0x576be6[_0x32a498(0x63c)]['mediaMessage']?.['media'])&&!_0x576be6[_0x32a498(0x63c)]['mediaMessage']?.[_0x32a498(0x324)])throw new m(_0x32a498(0x5f2));return await this[_0x32a498(0x29b)]['waInstances'][_0x2a167c][_0x32a498(0x63c)](_0x576be6);}async[a0_0x2b042e(0x45b)]({instanceName:_0x936251},_0x3293d9){const _0x150ebe=a0_0x2b042e;return await this[_0x150ebe(0x29b)]['waInstances'][_0x936251][_0x150ebe(0x311)](_0x3293d9);}async[a0_0x2b042e(0x3d0)]({instanceName:_0x5c64e1},_0x5358d8){const _0x2dad90=a0_0x2b042e;return await this[_0x2dad90(0x29b)]['waInstances'][_0x5c64e1][_0x2dad90(0x5d0)](_0x5358d8);}async[a0_0x2b042e(0x706)]({instanceName:_0x47dad5},_0xd32f43){return await this['waMonitor']['waInstances'][_0x47dad5]['listMessage'](_0xd32f43);}async['sendContact']({instanceName:_0x151715},_0x13ec7c){const _0x37b1cc=a0_0x2b042e;return await this[_0x37b1cc(0x29b)]['waInstances'][_0x151715][_0x37b1cc(0x4e8)](_0x13ec7c);}async[a0_0x2b042e(0x6be)]({instanceName:_0x1beee3},_0x5cdbae){const _0x12eadd=a0_0x2b042e;if(!_0x5cdbae[_0x12eadd(0x720)][_0x12eadd(0x4af)][_0x12eadd(0x1f7)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x12eadd(0x30d));return await this[_0x12eadd(0x29b)][_0x12eadd(0x3b1)][_0x1beee3]['reactionMessage'](_0x5cdbae);}async[a0_0x2b042e(0x86a)]({instanceName:_0x16a78d},_0xa58f52){const _0x1dad90=a0_0x2b042e;return await this[_0x1dad90(0x29b)][_0x1dad90(0x3b1)][_0x16a78d][_0x1dad90(0x2c5)](_0xa58f52);}},Li=require(a0_0x2b042e(0x357)),Us=require(a0_0x2b042e(0x480)),Xt=class u{constructor(_0x1cec0a,_0x30abd1,_0x2e2a5b){const _0x105981=a0_0x2b042e;this['configService']=_0x1cec0a,this[_0x105981(0x29b)]=_0x30abd1,this[_0x105981(0x5b9)]=_0x2e2a5b,this[_0x105981(0x588)]=new $(u[_0x105981(0x69b)]);}async[a0_0x2b042e(0x6aa)](_0x2e93dd){const _0x451077=a0_0x2b042e;let _0x3639b5=this['configService'][_0x451077(0x7e0)]('AUTHENTICATION')[_0x451077(0x7a6)],_0x103353=(0x0,Li[_0x451077(0x5d3)])({'instanceName':_0x2e93dd[_0x451077(0x3ae)],'apiName':nt,'tokenId':(0x0,Us['v4'])()},_0x3639b5['SECRET'],{'expiresIn':_0x3639b5[_0x451077(0x523)],'encoding':_0x451077(0x42c),'subject':_0x451077(0x549)}),_0x11e8e1=await this[_0x451077(0x5b9)][_0x451077(0x805)]['create']({'jwt':_0x103353},_0x2e93dd[_0x451077(0x3ae)]);if(_0x11e8e1[_0x451077(0x71a)])throw this[_0x451077(0x588)]['error']({'localError':u[_0x451077(0x69b)]+_0x451077(0x808),'error':_0x11e8e1[_0x451077(0x71a)]}),new m(_0x451077(0x461),_0x11e8e1[_0x451077(0x71a)]?.[_0x451077(0x413)]());return{'jwt':_0x103353};}async['apikey'](_0x498e4e){const _0x15a770=a0_0x2b042e;let _0x261f7c=(0x0,Us['v4'])()[_0x15a770(0x8c4)](),_0x399830=await this['repository'][_0x15a770(0x805)][_0x15a770(0x5d4)]({'apikey':_0x261f7c},_0x498e4e[_0x15a770(0x3ae)]);if(_0x399830[_0x15a770(0x71a)])throw this[_0x15a770(0x588)][_0x15a770(0x71a)]({'localError':u[_0x15a770(0x69b)]+_0x15a770(0x808),'error':_0x399830[_0x15a770(0x71a)]}),new m('Authentication\x20error',_0x399830[_0x15a770(0x71a)]?.[_0x15a770(0x413)]());return{'apikey':_0x261f7c};}async['generateHash'](_0x2f8a36){const _0x1a8a16=a0_0x2b042e;let _0x365096=this['configService'][_0x1a8a16(0x7e0)](_0x1a8a16(0x3bf));return await this[_0x365096[_0x1a8a16(0x759)]](_0x2f8a36);}},Zt=class{constructor(_0x112cbe){this['waMonitor']=_0x112cbe;}async['createGroup'](_0x272ebe,_0x58d08f){const _0x59bbe2=a0_0x2b042e;return await this[_0x59bbe2(0x29b)][_0x59bbe2(0x3b1)][_0x272ebe[_0x59bbe2(0x3ae)]][_0x59bbe2(0x610)](_0x58d08f);}async[a0_0x2b042e(0x496)](_0x64e12,_0x3b12ed){const _0x565cd0=a0_0x2b042e;return await this['waMonitor'][_0x565cd0(0x3b1)][_0x64e12[_0x565cd0(0x3ae)]][_0x565cd0(0x496)](_0x3b12ed);}async[a0_0x2b042e(0x3a0)](_0x51440c,_0x1d1dd5){const _0x489d5c=a0_0x2b042e;return await this[_0x489d5c(0x29b)][_0x489d5c(0x3b1)][_0x51440c[_0x489d5c(0x3ae)]][_0x489d5c(0x3a0)](_0x1d1dd5);}async[a0_0x2b042e(0x59c)](_0x3ecd27,_0x1f3878){const _0x4d90b7=a0_0x2b042e;return await this[_0x4d90b7(0x29b)][_0x4d90b7(0x3b1)][_0x3ecd27['instanceName']][_0x4d90b7(0x59c)](_0x1f3878);}async['groupBetterSetting'](_0x24710c,_0x573a0e){const _0x2f00c6=a0_0x2b042e;return await this['waMonitor']['waInstances'][_0x24710c[_0x2f00c6(0x3ae)]][_0x2f00c6(0x4ae)](_0x573a0e);}async[a0_0x2b042e(0x467)](_0x5a0758,_0x138e09){const _0x444026=a0_0x2b042e;return await this[_0x444026(0x29b)][_0x444026(0x3b1)][_0x5a0758[_0x444026(0x3ae)]][_0x444026(0x467)](_0x138e09);}async[a0_0x2b042e(0x38d)](_0x54bb3f,_0x19f483){const _0x1f97dc=a0_0x2b042e;return await this[_0x1f97dc(0x29b)]['waInstances'][_0x54bb3f[_0x1f97dc(0x3ae)]][_0x1f97dc(0x48f)](_0x19f483);}async[a0_0x2b042e(0x7d0)](_0x2490ce){const _0x2998b2=a0_0x2b042e;return await this[_0x2998b2(0x29b)]['waInstances'][_0x2490ce[_0x2998b2(0x3ae)]]['findGroups']();}async[a0_0x2b042e(0x7f5)](_0x4b7570,_0x3f906d){const _0x5a1b20=a0_0x2b042e;return await this[_0x5a1b20(0x29b)][_0x5a1b20(0x3b1)][_0x4b7570[_0x5a1b20(0x3ae)]][_0x5a1b20(0x7f5)](_0x3f906d);}async[a0_0x2b042e(0x6e1)](_0x529d21,_0x819540){const _0x36cbe0=a0_0x2b042e;return await this[_0x36cbe0(0x29b)][_0x36cbe0(0x3b1)][_0x529d21[_0x36cbe0(0x3ae)]][_0x36cbe0(0x6e1)](_0x819540);}async[a0_0x2b042e(0x66a)](_0x213db3,_0x408fc2){const _0x16db8f=a0_0x2b042e;return await this[_0x16db8f(0x29b)][_0x16db8f(0x3b1)][_0x213db3[_0x16db8f(0x3ae)]][_0x16db8f(0x66a)](_0x408fc2);}async[a0_0x2b042e(0x217)](_0x556ad8,_0x41fce2){const _0x3f762b=a0_0x2b042e;return await this['waMonitor'][_0x3f762b(0x3b1)][_0x556ad8[_0x3f762b(0x3ae)]][_0x3f762b(0x217)](_0x41fce2);}async[a0_0x2b042e(0x562)](_0x409bf7,_0x318195){const _0x263651=a0_0x2b042e;return await this[_0x263651(0x29b)][_0x263651(0x3b1)][_0x409bf7[_0x263651(0x3ae)]][_0x263651(0x562)](_0x318195);}async[a0_0x2b042e(0x333)](_0x520b08,_0x30642b){const _0x2072a8=a0_0x2b042e;return await this['waMonitor'][_0x2072a8(0x3b1)][_0x520b08[_0x2072a8(0x3ae)]][_0x2072a8(0x318)](_0x30642b);}async[a0_0x2b042e(0x3e5)](_0x6c5d6,_0x3aea7e){const _0x240df1=a0_0x2b042e;return await this[_0x240df1(0x29b)][_0x240df1(0x3b1)][_0x6c5d6[_0x240df1(0x3ae)]][_0x240df1(0x3e5)](_0x3aea7e);}async[a0_0x2b042e(0x7a7)](_0x26377d,_0x23c53b){const _0xf406ed=a0_0x2b042e;return await this[_0xf406ed(0x29b)][_0xf406ed(0x3b1)][_0x26377d[_0xf406ed(0x3ae)]]['leaveGroup'](_0x23c53b);}},es=class{constructor(_0x280f4a){const _0x334a35=a0_0x2b042e;this[_0x334a35(0x29b)]=_0x280f4a;}['create'](_0x5f47fe,_0x2502cf){const _0x8db1f3=a0_0x2b042e;return this['waMonitor'][_0x8db1f3(0x3b1)][_0x5f47fe[_0x8db1f3(0x3ae)]]['setWebhook'](_0x2502cf);}async['find'](_0x5bf043){const _0x576f3b=a0_0x2b042e;try{return await this[_0x576f3b(0x29b)][_0x576f3b(0x3b1)][_0x5bf043[_0x576f3b(0x3ae)]][_0x576f3b(0x510)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x2b042e(0x305)),ts=class{constructor(_0x577238){const _0x1b0de2=a0_0x2b042e;this[_0x1b0de2(0x29b)]=_0x577238;}async[a0_0x2b042e(0x705)](_0x40f4db,_0x4221d7){const _0x97ab3f=a0_0x2b042e;return await this[_0x97ab3f(0x29b)]['waInstances'][_0x40f4db[_0x97ab3f(0x3ae)]][_0x97ab3f(0x705)](_0x4221d7);}async[a0_0x2b042e(0x35b)](_0x2883e4){const _0x44e2dd=a0_0x2b042e;return await this[_0x44e2dd(0x29b)]['waInstances'][_0x2883e4[_0x44e2dd(0x3ae)]]['getScheduleMessage']();}async[a0_0x2b042e(0x34b)](_0x56fdd3){const _0x4b2e1a=a0_0x2b042e;return await this[_0x4b2e1a(0x29b)][_0x4b2e1a(0x3b1)][_0x56fdd3[_0x4b2e1a(0x3ae)]][_0x4b2e1a(0x34b)]();}async[a0_0x2b042e(0x539)](_0x33b3f2){const _0x49664e=a0_0x2b042e;return await this['waMonitor'][_0x49664e(0x3b1)][_0x33b3f2['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0x287098,_0x479cb){const _0x4b590d=a0_0x2b042e;return await this[_0x4b590d(0x29b)][_0x4b590d(0x3b1)][_0x287098[_0x4b590d(0x3ae)]][_0x4b590d(0x751)](_0x479cb);}async[a0_0x2b042e(0x796)](_0x3205e9,_0x51f291){const _0x2793ad=a0_0x2b042e;return await this[_0x2793ad(0x29b)][_0x2793ad(0x3b1)][_0x3205e9[_0x2793ad(0x3ae)]][_0x2793ad(0x796)](_0x51f291);}async[a0_0x2b042e(0x653)](_0x3314a9,_0x3153f6){const _0x2fd723=a0_0x2b042e;return await this[_0x2fd723(0x29b)][_0x2fd723(0x3b1)][_0x3314a9[_0x2fd723(0x3ae)]]['updateAutoCompleteMessages'](_0x3153f6);}async[a0_0x2b042e(0x770)](_0xe97182,_0x53d039){const _0x1e4bed=a0_0x2b042e;return await this[_0x1e4bed(0x29b)][_0x1e4bed(0x3b1)][_0xe97182[_0x1e4bed(0x3ae)]][_0x1e4bed(0x770)](_0x53d039);}async[a0_0x2b042e(0x485)](_0x2e61e7,_0x4e0722){const _0x4d4c60=a0_0x2b042e;return await this[_0x4d4c60(0x29b)][_0x4d4c60(0x3b1)][_0x2e61e7[_0x4d4c60(0x3ae)]][_0x4d4c60(0x485)](_0x4e0722);}async[a0_0x2b042e(0x524)](_0x3f4fb6,_0x1406fa,_0x4142b4,_0x4b8a25){const _0x17761d=a0_0x2b042e;return await this['waMonitor']['waInstances'][_0x3f4fb6][_0x17761d(0x524)](_0x1406fa,_0x4142b4,_0x4b8a25);}async[a0_0x2b042e(0x449)](_0x6a475d,_0x4da976){const _0x67ca88=a0_0x2b042e;return await this[_0x67ca88(0x29b)][_0x67ca88(0x3b1)][_0x6a475d[_0x67ca88(0x3ae)]]['getConversation'](_0x4da976);}async[a0_0x2b042e(0x6a0)](_0x20ccf5,_0xf8564c){const _0x53a1d4=a0_0x2b042e;return await this[_0x53a1d4(0x29b)]['waInstances'][_0x20ccf5[_0x53a1d4(0x3ae)]][_0x53a1d4(0x6a0)](_0xf8564c);}async[a0_0x2b042e(0x8d8)](_0x46dd1b,_0x4b1f4e){const _0x59239c=a0_0x2b042e;return await this['waMonitor'][_0x59239c(0x3b1)][_0x46dd1b[_0x59239c(0x3ae)]][_0x59239c(0x8d8)](_0x4b1f4e);}async[a0_0x2b042e(0x24a)](_0x113729,_0x24bdd6){const _0x385217=a0_0x2b042e;return await this['waMonitor'][_0x385217(0x3b1)][_0x113729[_0x385217(0x3ae)]][_0x385217(0x24a)](_0x24bdd6);}async[a0_0x2b042e(0x530)](_0x43b249,_0x284d5b){const _0x52dc7e=a0_0x2b042e;return await this[_0x52dc7e(0x29b)][_0x52dc7e(0x3b1)][_0x43b249[_0x52dc7e(0x3ae)]]['getFlow'](_0x284d5b[_0x52dc7e(0x48a)]);}async[a0_0x2b042e(0x8e3)](_0x427ec2,_0x34f80f,_0x2ef63b){const _0x1b6617=a0_0x2b042e;return await this[_0x1b6617(0x29b)][_0x1b6617(0x3b1)][_0x427ec2[_0x1b6617(0x3ae)]][_0x1b6617(0x8e3)](_0x34f80f,_0x2ef63b);}async[a0_0x2b042e(0x71c)](_0x1db93b,_0x377922,_0x2a2536){const _0x214670=a0_0x2b042e;return await this['waMonitor'][_0x214670(0x3b1)][_0x1db93b[_0x214670(0x3ae)]][_0x214670(0x71c)](_0x377922,_0x2a2536);}async[a0_0x2b042e(0x447)](_0x4625f6,_0x4995a7){const _0x5d8455=a0_0x2b042e;return await this[_0x5d8455(0x29b)][_0x5d8455(0x3b1)][_0x4625f6['instanceName']][_0x5d8455(0x447)](_0x4995a7);}async[a0_0x2b042e(0x7ce)](_0x3e760f,_0x47cdfc){const _0x47a162=a0_0x2b042e;return await this[_0x47a162(0x29b)]['waInstances'][_0x3e760f[_0x47a162(0x3ae)]][_0x47a162(0x7ce)](_0x47cdfc);}async[a0_0x2b042e(0x3bb)](_0x3fc192,_0x3920d1){const _0x413435=a0_0x2b042e;return await this[_0x413435(0x29b)][_0x413435(0x3b1)][_0x3fc192[_0x413435(0x3ae)]][_0x413435(0x3bb)](_0x3920d1);}async[a0_0x2b042e(0x6c6)](_0x46d5fb,_0x2176ab){const _0x234aeb=a0_0x2b042e;return await this[_0x234aeb(0x29b)][_0x234aeb(0x3b1)][_0x46d5fb[_0x234aeb(0x3ae)]][_0x234aeb(0x6c6)](_0x2176ab);}async[a0_0x2b042e(0x39e)](_0x3a039f,_0x564f89){const _0x5882f7=a0_0x2b042e;return await this[_0x5882f7(0x29b)][_0x5882f7(0x3b1)][_0x3a039f[_0x5882f7(0x3ae)]][_0x5882f7(0x39e)](_0x564f89);}async['editFlowVariable'](_0xe3e877,_0x5e8b5d){const _0x4aa1f3=a0_0x2b042e;return await this['waMonitor']['waInstances'][_0xe3e877[_0x4aa1f3(0x3ae)]][_0x4aa1f3(0x620)](_0x5e8b5d);}async[a0_0x2b042e(0x752)](_0x44b984,_0x29151b){const _0x5db0fe=a0_0x2b042e;return await this[_0x5db0fe(0x29b)][_0x5db0fe(0x3b1)][_0x44b984[_0x5db0fe(0x3ae)]][_0x5db0fe(0x752)](_0x29151b);}async[a0_0x2b042e(0x8f0)](_0x3368df){const _0x499928=a0_0x2b042e;return await this[_0x499928(0x29b)][_0x499928(0x3b1)][_0x3368df[_0x499928(0x3ae)]][_0x499928(0x8f0)]();}},ss=class{constructor(_0x80fab5){const _0x44aceb=a0_0x2b042e;this[_0x44aceb(0x307)]=_0x80fab5;}async['createWebhook'](_0x536310,_0x57556d){const _0x49beea=a0_0x2b042e;return this[_0x49beea(0x307)]['create'](_0x536310,_0x57556d);}async[a0_0x2b042e(0x510)](_0x180337){return this['webhookService']['find'](_0x180337);}},as=class extends O{constructor(_0x4f76fd,_0x3f3454){const _0x1295ff=a0_0x2b042e;super(_0x3f3454),this['webhookModel']=_0x4f76fd,this[_0x1295ff(0x865)]=_0x3f3454;}async[a0_0x2b042e(0x5d4)](_0x5adb93,_0xa9c2f6){const _0x4eb522=a0_0x2b042e;try{return this[_0x4eb522(0x36a)][_0x4eb522(0x460)]?{'insertCount':(await this[_0x4eb522(0x801)][_0x4eb522(0x46c)]({'_id':_0xa9c2f6},{..._0x5adb93},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x349739){return _0x349739;}}async['delete'](_0x4e79dc){const _0x4d905d=a0_0x2b042e;try{if(this[_0x4d905d(0x36a)][_0x4d905d(0x460)]){await this['webhookModel'][_0x4d905d(0x573)]({'_id':_0x4e79dc});return;}}catch(_0x5d1a9a){return{'error':_0x5d1a9a};}}async['find'](_0x5589c5){const _0x124164=a0_0x2b042e;try{if(this[_0x124164(0x36a)]['ENABLED'])return await this[_0x124164(0x801)][_0x124164(0x296)]({'_id':_0x5589c5});}catch{return{};}}},is=class extends O{constructor(_0x2d657c,_0x18a8c7){const _0x13d922=a0_0x2b042e;super(_0x18a8c7),this[_0x13d922(0x92a)]=_0x2d657c,this['configService']=_0x18a8c7,this[_0x13d922(0x805)]=_0x18a8c7['get']('AUTHENTICATION');}async['create'](_0x3a475c,_0x436cc3){const _0x325b41=a0_0x2b042e;try{if(this['dbSettings'][_0x325b41(0x460)])return{'insertCount':(await this['authModel'][_0x325b41(0x2ba)]({'_id':_0x436cc3},{'$set':{..._0x3a475c}},{'upsert':!0x0}))[_0x325b41(0x546)]};}catch(_0x2baf79){return{'error':_0x2baf79};}}async[a0_0x2b042e(0x389)](_0x1cf63d,_0x1ded76){const _0x269110=a0_0x2b042e;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x269110(0x92a)]['updateMany'](_0x1cf63d,{'$set':_0x1ded76},{'upsert':!0x1}))[_0x269110(0x546)]};throw new Error(_0x269110(0x758));}catch(_0x444b78){return{'error':_0x444b78};}}async[a0_0x2b042e(0x88e)](_0x49026a){const _0x43b786=a0_0x2b042e;try{if(this[_0x43b786(0x36a)][_0x43b786(0x460)])return{'insertCount':(await this[_0x43b786(0x92a)][_0x43b786(0x88e)](_0x49026a))[_0x43b786(0x3a4)]};throw new Error(_0x43b786(0x724));}catch(_0x2900c9){return{'error':_0x2900c9};}}async[a0_0x2b042e(0x231)](_0x5501db){const _0x5eea24=a0_0x2b042e;try{if(this[_0x5eea24(0x36a)][_0x5eea24(0x460)]){await this[_0x5eea24(0x92a)][_0x5eea24(0x573)]({'_id':_0x5501db});return;}}catch(_0xf64cf4){return{'error':_0xf64cf4};}}async[a0_0x2b042e(0x6da)](_0x1a7698){const _0x1f14ee=a0_0x2b042e;try{if(this[_0x1f14ee(0x36a)][_0x1f14ee(0x460)])return await this[_0x1f14ee(0x92a)][_0x1f14ee(0x296)]({'_id':_0x1a7698});}catch{return{};}}async['findAll'](){const _0x54c25d=a0_0x2b042e;try{if(this['dbSettings'][_0x54c25d(0x460)])return await this[_0x54c25d(0x92a)]['find']();}catch{return[];}}async['findMany'](_0x520968){const _0x3566a3=a0_0x2b042e;try{if(this['dbSettings'][_0x3566a3(0x460)])return await this[_0x3566a3(0x92a)][_0x3566a3(0x6da)](_0x520968);}catch{return[];}}},os=class extends O{async[a0_0x2b042e(0x573)](_0x599651){const _0x5bc295=a0_0x2b042e;try{let _0x5108a2=T(_0x599651['where']);return{'deletedCount':(await Ee[_0x5bc295(0x573)](_0x5108a2))['deletedCount']};}catch(_0x2733a9){return{'error':_0x2733a9?.[_0x5bc295(0x413)]()};}}async['updateOne'](_0x1b2fc9,_0xcd62e1){const _0x587410=a0_0x2b042e;try{let _0x11620b=await Ee[_0x587410(0x60c)](_0x1b2fc9);return _0x11620b?(Object['assign'](_0x11620b,_0xcd62e1),await _0x11620b[_0x587410(0x691)]()):(console[_0x587410(0x71a)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x1b2fc9),null);}catch(_0x371075){return console['error']('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x371075),null;}}async[a0_0x2b042e(0x75f)](_0x55e774){const _0x57959a=a0_0x2b042e;try{return await new Ee(_0x55e774)[_0x57959a(0x691)]();}catch(_0x2c121d){return console['error'](_0x57959a(0x6c0),_0x2c121d),null;}}async[a0_0x2b042e(0x4f0)](_0x29a073){const _0x40fad0=a0_0x2b042e;try{let _0x820849=_0x29a073[_0x40fad0(0x81b)]??{};return await Ee[_0x40fad0(0x6da)](_0x820849)[_0x40fad0(0x3cc)](_0x29a073[_0x40fad0(0x3cc)]??0x0)[_0x40fad0(0x871)]();}catch(_0x265f1c){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0x265f1c),[];}}async[a0_0x2b042e(0x296)](_0x2ba148){const _0x4fed02=a0_0x2b042e;try{let _0xbf00b6=T(_0x2ba148['where']);return await Ee[_0x4fed02(0x296)](_0xbf00b6)[_0x4fed02(0x871)]();}catch{return null;}}},rs=class extends O{['getConversationModelForOwner'](_0x5a1c3a){return Ma(_0x5a1c3a);}async['insert'](_0x55c6df){const _0xac8e3a=a0_0x2b042e;if(_0x55c6df[_0xac8e3a(0x3f7)]!==0x0)try{return{'insertCount':(await this[_0xac8e3a(0x68b)](_0x55c6df[0x0][_0xac8e3a(0x2a2)])[_0xac8e3a(0x66e)]([..._0x55c6df]))['length']};}catch(_0xbe8e4f){return _0xbe8e4f;}}async[a0_0x2b042e(0x231)](_0x54ed51,_0x32d37b){const _0x1f133a=a0_0x2b042e;try{let _0x1b15f4=this[_0x1f133a(0x68b)](_0x32d37b),_0x311156=T(_0x54ed51['where']);return{'deletedCount':(await _0x1b15f4[_0x1f133a(0x88e)](_0x311156))[_0x1f133a(0x3a4)]};}catch(_0x513772){return{'error':_0x513772?.[_0x1f133a(0x413)]()};}}async[a0_0x2b042e(0x573)](_0x53e6e9,_0x2630e5){const _0xd22a18=a0_0x2b042e;try{let _0x3b4fe0=this['getConversationModelForOwner'](_0x2630e5),_0x5d37b3=T(_0x53e6e9['where']);return{'deletedCount':(await _0x3b4fe0[_0xd22a18(0x573)](_0x5d37b3))['deletedCount']};}catch(_0x27588b){return{'error':_0x27588b?.[_0xd22a18(0x413)]()};}}async[a0_0x2b042e(0x914)](_0x4b1a30,_0x2e00c7){const _0x127421=a0_0x2b042e;try{if(_0x4b1a30[_0x127421(0x3f7)]===0x0)return;let _0x2b088d=this['getConversationModelForOwner'](_0x2e00c7),_0x33f678=_0x4b1a30['map'](_0x184fc0=>({'updateOne':{'filter':{'name':_0x184fc0['name'],'owner':_0x2e00c7},'update':{..._0x184fc0}}})),{modifiedCount:_0x49d358}=await _0x2b088d['bulkWrite'](_0x33f678);return{'insertCount':_0x49d358};}catch{return;}}async[a0_0x2b042e(0x8f9)](_0xae71ef,_0x14a9f5,_0x2cf422){const _0x64bfe8=a0_0x2b042e;try{return{'modifiedCount':(await this[_0x64bfe8(0x68b)](_0x2cf422)['updateMany'](_0xae71ef,{'$set':_0x14a9f5})[_0x64bfe8(0x42d)]())[_0x64bfe8(0x546)]};}catch(_0x1ca370){return console[_0x64bfe8(0x71a)](_0x64bfe8(0x226),_0x1ca370),{'error':_0x1ca370};}}async[a0_0x2b042e(0x2ba)](_0x285d69,_0xaa50f,_0x84ab6b){const _0xdf5cb5=a0_0x2b042e;try{return await this[_0xdf5cb5(0x68b)](_0x84ab6b)[_0xdf5cb5(0x56d)]({'_id':_0x285d69},{'$set':_0xaa50f},{'new':!0x0,'upsert':!0x0})[_0xdf5cb5(0x871)]();}catch(_0x4e9758){return console[_0xdf5cb5(0x71a)](_0x4e9758),null;}}async[a0_0x2b042e(0x6da)](_0xffedf,_0x12b773){const _0x41d4cf=a0_0x2b042e;try{return await this[_0x41d4cf(0x68b)](_0x12b773)[_0x41d4cf(0x6da)](_0xffedf)['sort']({'lastInteraction':-0x1})[_0x41d4cf(0x871)]();}catch{return[];}}async[a0_0x2b042e(0x296)](_0x2b7bd9,_0x1113aa){const _0x2e6626=a0_0x2b042e;try{return await this[_0x2e6626(0x68b)](_0x1113aa)['findOne']({..._0x2b7bd9['where']})[_0x2e6626(0x871)]();}catch{return null;}}async[a0_0x2b042e(0x495)](_0x5b9ffe){const _0x49a04b=a0_0x2b042e;try{return await this[_0x49a04b(0x68b)](_0x5b9ffe)['collection']['drop'](),{'success':!0x0};}catch(_0x335fb0){return console[_0x49a04b(0x71a)](_0x335fb0),{'success':!0x1,'error':_0x335fb0};}}},ns=class extends O{[a0_0x2b042e(0x26b)](_0x599878){return Ca(_0x599878);}async[a0_0x2b042e(0x722)](_0x42b4bd,_0x597810){const _0xdd68a8=a0_0x2b042e;try{return await this[_0xdd68a8(0x26b)](_0x597810)[_0xdd68a8(0x722)](_0x42b4bd);}catch(_0x1329cc){return console[_0xdd68a8(0x71a)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x1329cc),null;}}async[a0_0x2b042e(0x75f)](_0x56b2c8,_0x404eec){const _0x1a9b3a=a0_0x2b042e;try{let _0x5a6e66=this[_0x1a9b3a(0x26b)](_0x404eec);return await new _0x5a6e66(_0x56b2c8)[_0x1a9b3a(0x691)]();}catch(_0x609a37){return console[_0x1a9b3a(0x71a)](_0x1a9b3a(0x2a8),_0x609a37),null;}}async['deleteOne'](_0x5ab053,_0x2b88d2){const _0x5bad17=a0_0x2b042e;try{return await this['getScheduleMessageModelForOwner'](_0x2b88d2)[_0x5bad17(0x726)](_0x5ab053),{};}catch(_0x2ec43b){return{'error':_0x2ec43b?.[_0x5bad17(0x413)]()};}}async['updateOne'](_0x1dd9f4,_0x469539,_0x57e2d3,_0x587540={}){const _0x4b74ed=a0_0x2b042e;try{return await this[_0x4b74ed(0x26b)](_0x57e2d3)['findOneAndUpdate'](_0x1dd9f4,_0x469539,{..._0x587540,'new':!0x0})['lean']();}catch(_0x2f2dbf){return console['error'](_0x4b74ed(0x284),_0x2f2dbf),null;}}async[a0_0x2b042e(0x415)](_0x339eba,_0x5adf2d,_0x72b408){const _0x5ceab4=a0_0x2b042e;try{return await this[_0x5ceab4(0x26b)](_0x72b408)[_0x5ceab4(0x5ed)](_0x339eba,_0x5adf2d,{'new':!0x0})[_0x5ceab4(0x871)]();}catch(_0x4a8bdc){return console[_0x5ceab4(0x71a)](_0x5ceab4(0x284),_0x4a8bdc),null;}}async[a0_0x2b042e(0x6da)](_0x53074c,_0x2de04b){const _0x42c1fc=a0_0x2b042e;try{return await this[_0x42c1fc(0x26b)](_0x2de04b)[_0x42c1fc(0x6da)](_0x53074c['where'])[_0x42c1fc(0x3cc)](_0x53074c?.[_0x42c1fc(0x3cc)]??0x0)['sort']({'when':0x1})[_0x42c1fc(0x871)]();}catch{return[];}}async[a0_0x2b042e(0x296)](_0x8a9caf,_0x53f958){const _0x4168aa=a0_0x2b042e;try{return await this[_0x4168aa(0x26b)](_0x53f958)[_0x4168aa(0x296)](_0x8a9caf[_0x4168aa(0x81b)])[_0x4168aa(0x516)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x2b042e(0x60c)](_0x407d18,_0x481c31){const _0x1849f9=a0_0x2b042e;try{return await this['getScheduleMessageModelForOwner'](_0x481c31)[_0x1849f9(0x60c)](_0x407d18)[_0x1849f9(0x871)]();}catch{return null;}}async[a0_0x2b042e(0x88e)](_0x373dde,_0x5f0e7f){const _0x199b4a=a0_0x2b042e;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5f0e7f)[_0x199b4a(0x88e)](_0x373dde))['deletedCount']};}catch(_0x4d3853){return console[_0x199b4a(0x71a)](_0x199b4a(0x313),_0x4d3853),{'error':_0x4d3853};}}async[a0_0x2b042e(0x495)](_0x18d7ea){const _0x72fce6=a0_0x2b042e;try{return await this['getScheduleMessageModelForOwner'](_0x18d7ea)[_0x72fce6(0x8c1)][_0x72fce6(0x748)](),{'success':!0x0};}catch(_0x421bd6){return console[_0x72fce6(0x71a)](_0x421bd6),{'success':!0x1,'error':_0x421bd6};}}},cs=class extends O{async[a0_0x2b042e(0x914)](_0x29af9c,_0xb14f48){const _0x16b7da=a0_0x2b042e;try{if(this[_0x16b7da(0x36a)][_0x16b7da(0x460)])return await Te[_0x16b7da(0x56d)]({'_id':_0xb14f48},{'$set':_0x29af9c},{'new':!0x0});}catch(_0x2a538a){throw console[_0x16b7da(0x71a)](_0x16b7da(0x4a6),_0x2a538a),_0x2a538a;}}async[a0_0x2b042e(0x4e2)](_0x3158e5){const _0xc0e1d8=a0_0x2b042e;try{let _0x104bd6=await Te['findById'](_0x3158e5);return _0x104bd6?_0x104bd6[_0xc0e1d8(0x7da)]||(_0x104bd6[_0xc0e1d8(0x7da)]=[],await _0x104bd6['save']()):(_0x104bd6=new Te({'_id':_0x3158e5,'autoCompleteMessages':[]}),await _0x104bd6[_0xc0e1d8(0x691)]()),_0x104bd6;}catch(_0x46a36f){return _0x46a36f[_0xc0e1d8(0x4ad)]===0x2af8&&_0x46a36f['keyPattern']&&_0x46a36f[_0xc0e1d8(0x3e8)][_0xc0e1d8(0x43f)]?(console[_0xc0e1d8(0x71a)](_0xc0e1d8(0x345)),await Te[_0xc0e1d8(0x8c1)]['dropIndex'](_0xc0e1d8(0x406)),null):(console['error'](_0xc0e1d8(0x6d2),_0x46a36f),null);}}},qo=new $('WA\x20MODULE'),Vo=new Xe(S),Go=new Bt(S),Bo=new lt(S),Wo=new Wt(ra,S),zo=new as(ga,S),Ho=new is(da,S),Ko=new $e(He,S),Qo=new os(S),Yo=new zt(S),Xo=new rs(S),Zo=new ns(S),er=new cs(S),ye=new Qe(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,A?.[a0_0x2b042e(0x686)]()),z=new Gt(ms,S,ye),tr=new Xt(S,z,ye),sr=new es(z),As=new ss(sr),_=new ts(z),he=new Qt(z,S,ye,ms,tr),H=new Yt(z),k=new Ht(z),G=new Zt(z);qo['info']('Module\x20-\x20ON');var ng=require(a0_0x2b042e(0x5ad)),js=require('fs'),Fi=I(require(a0_0x2b042e(0x7f3))),Ui=I(require(a0_0x2b042e(0x50d))),je=class u{static #e;static set[a0_0x2b042e(0x542)](_0x42711e){this.#e=_0x42711e;}static get[a0_0x2b042e(0x7f3)](){const _0x178a39=a0_0x2b042e;let {FULLCHAIN:_0x2736f9,PRIVKEY:_0x40687b}=S[_0x178a39(0x7e0)](_0x178a39(0x8a8));return Fi[_0x178a39(0x749)]({'cert':(0x0,js['readFileSync'])(_0x2736f9),'key':(0x0,js[_0x178a39(0x51a)])(_0x40687b)},u.#e);}static get[a0_0x2b042e(0x50d)](){return Ui['createServer'](u.#e);}},Je=I(require('fs')),Bi=I(require('ini')),qe=I(require('axios')),us=I(require(a0_0x2b042e(0x1f5))),ls=require(a0_0x2b042e(0x4fb));function ar(){const _0x39be09=a0_0x2b042e;z[_0x39be09(0x6e3)]();let _0x187a96=us[_0x39be09(0x1f4)][_0x39be09(0x8f2)](__dirname,'downloads');Gi(_0x187a96);}var Gi=_0x413a4c=>{const _0x45117f=a0_0x2b042e;let _0x585acb=Je['default'][_0x45117f(0x7f2)](_0x413a4c),_0x183fd2=0xc*0x3c*0x3c*0x3e8,_0xf4f28c=0x2*0x3c*0x3c*0x3e8,_0x30f1ce=new Date()[_0x45117f(0x886)]();_0x585acb['forEach'](_0x164f86=>{const _0x161d63=_0x45117f;let _0x2018d8=us['default'][_0x161d63(0x8f2)](_0x413a4c,_0x164f86),_0x10d281=Je[_0x161d63(0x1f4)][_0x161d63(0x823)](_0x2018d8)[_0x161d63(0x243)]['getTime']();_0x30f1ce-_0x10d281>_0x183fd2&&(Je[_0x161d63(0x1f4)]['unlinkSync'](_0x2018d8),console['log'](_0x161d63(0x4ff)+_0x164f86));}),setTimeout(()=>Gi(_0x413a4c),_0xf4f28c);};function ir(){const _0x3fc28=a0_0x2b042e;let _0x432dac=new $('SERVER'),_0x201be7=(0x0,Se[_0x3fc28(0x1f4)])();_0x201be7[_0x3fc28(0x463)]((0x0,Vi[_0x3fc28(0x1f4)])({'origin'(_0x2748c6,_0x1480d2){const _0x5bccc1=_0x3fc28;let {ORIGIN:_0x365bfd}=S[_0x5bccc1(0x7e0)]('CORS');return _0x2748c6||(_0x2748c6='*'),_0x365bfd[_0x5bccc1(0x80c)]('*')!==-0x1||_0x365bfd['indexOf'](_0x2748c6)!==-0x1?_0x1480d2(null,!0x0):_0x1480d2(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get']('CORS')[_0x3fc28(0x444)]],'credentials':S[_0x3fc28(0x7e0)]('CORS')['CREDENTIALS']}),(0x0,Se[_0x3fc28(0x927)])({'extended':!0x0,'limit':'50mb'}),(0x0,Se[_0x3fc28(0x90d)])({'limit':_0x3fc28(0x556)})),_0x201be7[_0x3fc28(0x463)]((_0x7f5b32,_0x3a01f5,_0xeaf52b)=>{const _0x22f8bc=_0x3fc28;_0x7f5b32[_0x22f8bc(0x1f5)][_0x22f8bc(0x834)](_0x22f8bc(0x6e4))?_0xeaf52b():(0x0,qi[_0x22f8bc(0x1f4)])()(_0x7f5b32,_0x3a01f5,_0xeaf52b);}),_0x201be7[_0x3fc28(0x54a)](_0x3fc28(0x756),_0x3fc28(0x629)),_0x201be7[_0x3fc28(0x54a)](_0x3fc28(0x85b),(0x0,qs[_0x3fc28(0x8f2)])(ue,_0x3fc28(0x85b))),_0x201be7[_0x3fc28(0x463)](Se[_0x3fc28(0x1f4)][_0x3fc28(0x7b8)]((0x0,qs[_0x3fc28(0x8f2)])(ue,_0x3fc28(0x2d2)))),_0x201be7[_0x3fc28(0x463)]((_0x4406f3,_0x53003a,_0x8a62c4)=>{const _0x181e03=_0x3fc28;let _0x5b716a=_0x53003a[_0x181e03(0x584)];_0x53003a[_0x181e03(0x584)]=function(_0x57c27c){const _0x41b61b=_0x181e03;if(_0x4406f3[_0x41b61b(0x321)][_0x41b61b(0x21c)]===_0x41b61b(0x2df)||_0x4406f3[_0x41b61b(0x825)]['uazapi']===_0x41b61b(0x2df)){let _0x3205a4=JSON[_0x41b61b(0x8c0)](_0x57c27c);_0x57c27c=JSON[_0x41b61b(0x254)](_0x2c94cc(_0x3205a4));}return _0x5b716a[_0x41b61b(0x408)](_0x53003a,[_0x57c27c]);},_0x8a62c4();}),_0x201be7['use']('/',Le),_0x201be7[_0x3fc28(0x463)]((_0x60392f,_0x22d711,_0xdc2217,_0x364816)=>{const _0x3afa82=_0x3fc28;if(_0x60392f)return _0xdc2217[_0x3afa82(0x3cd)](_0x60392f[_0x3afa82(0x3cd)]||0x1f4)[_0x3afa82(0x90d)](_0x60392f);},(_0x5b86e8,_0x2b4e8b,_0x1cc7c4)=>{const _0x327a10=_0x3fc28;let {method:_0x3d47ac,url:_0x21b1f1}=_0x5b86e8;_0x2b4e8b[_0x327a10(0x3cd)](0x194)[_0x327a10(0x90d)]({'status':0x194,'message':_0x327a10(0x555)+_0x3d47ac[_0x327a10(0x8c4)]()+'\x20'+_0x21b1f1,'error':'Not\x20Found'}),_0x1cc7c4();});let _0x2c94cc=(_0x3e02f1,_0x243b45=_0x3fc28(0x421))=>{const _0x20abf5=_0x3fc28;let _0x455bfb=(_0x3264cb,_0x339942=null,_0x3ddb78=!0x1)=>{const _0x1b1a47=a0_0x2c3b;let _0x387435={};return Object[_0x1b1a47(0x5d6)](_0x3264cb)['forEach'](_0x7ec75c=>{const _0x4c1979=_0x1b1a47;let _0x152a15=_0x3264cb[_0x7ec75c],_0x14d57e=''+_0x243b45+_0x7ec75c;_0x339942&&!_0x3ddb78&&(_0x14d57e=_0x339942+'.'+_0x7ec75c),!_0x152a15&&_0x152a15!==0x0&&_0x152a15!==!0x1||typeof _0x152a15>'u'?_0x387435[_0x14d57e]=null:typeof _0x152a15!=_0x4c1979(0x880)&&!Array[_0x4c1979(0x330)](_0x152a15)?_0x387435[_0x14d57e]=_0x152a15:typeof _0x152a15==_0x4c1979(0x880)&&!Array['isArray'](_0x152a15)?_0x387435=Object['assign'](_0x387435,_0x455bfb(_0x152a15,_0x14d57e)):Array[_0x4c1979(0x330)](_0x152a15)&&(typeof _0x152a15[0x0]==_0x4c1979(0x880)?(_0x387435[_0x14d57e]=[],_0x152a15['forEach'](_0x2372a4=>{_0x387435[_0x14d57e]['push'](_0x455bfb(_0x2372a4,_0x14d57e,!0x0));})):_0x387435[_0x14d57e]=_0x152a15);}),_0x387435;};return Array[_0x20abf5(0x330)](_0x3e02f1)?_0x3e02f1[_0x20abf5(0x633)](_0x1dee46=>_0x455bfb(_0x1dee46)):typeof _0x3e02f1=='object'&&_0x3e02f1!==null?_0x455bfb(_0x3e02f1):{};},_0x44e684=S[_0x3fc28(0x7e0)](_0x3fc28(0x643));je[_0x3fc28(0x542)]=_0x201be7;let _0x285ae8=je[_0x44e684[_0x3fc28(0x759)]],_0x1848b1=_0x3fc28(0x359);_0x285ae8[_0x3fc28(0x799)](_0x44e684[_0x3fc28(0x872)],()=>{const _0x101b0f=_0x3fc28;_0x432dac[_0x101b0f(0x364)](_0x1848b1),_0x432dac[_0x101b0f(0x364)](_0x44e684[_0x101b0f(0x759)][_0x101b0f(0x8c4)]()+_0x101b0f(0x604)+_0x44e684[_0x101b0f(0x872)]);}),ar(),ea();}var or='https://github.com/uazapi/uazapi.git',rr=us[a0_0x2b042e(0x1f4)][a0_0x2b042e(0x8f2)](__dirname,'./.git/config'),Ae=null;function nr(){return new Promise((_0x4c5060,_0x1b9345)=>{const _0x155f6b=a0_0x2c3b;Je[_0x155f6b(0x1f4)][_0x155f6b(0x314)](rr,_0x155f6b(0x4cc),(_0x12fc30,_0xf5cd11)=>{const _0x4f0108=_0x155f6b;if(_0x12fc30){Ae=_0x12fc30,_0x4c5060();return;}Bi[_0x4f0108(0x1f4)][_0x4f0108(0x8c0)](_0xf5cd11)[_0x4f0108(0x3a5)][_0x4f0108(0x78f)]===or?(Ae=null,_0x4c5060()):(Ae=new Error(_0x4f0108(0x8fc)),_0x4c5060());});});}async function cr(){const _0x2b91e9=a0_0x2b042e;try{await nr(),await Vs();}catch(_0x4a7cc1){console[_0x2b91e9(0x71a)](_0x2b91e9(0x928)+_0x4a7cc1),process[_0x2b91e9(0x82c)](0x1);}}cr();async function Wi(){const _0x24e130=a0_0x2b042e;let _0x42600f;try{_0x42600f=(await qe[_0x24e130(0x1f4)][_0x24e130(0x7e0)](_0x24e130(0x48b)))['data']['ip'];}catch(_0x3c849f){console[_0x24e130(0x71a)](_0x3c849f);try{_0x42600f=(await qe['default'][_0x24e130(0x7e0)](_0x24e130(0x5c3)))[_0x24e130(0x450)]['ip'];}catch(_0x134d7d){console['error'](_0x134d7d);try{_0x42600f=(await qe[_0x24e130(0x1f4)]['get'](_0x24e130(0x8d6)))[_0x24e130(0x450)][_0x24e130(0x1f7)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4d1faa){return console['error'](_0x4d1faa),!0x1;}}}return _0x42600f;}var ji=0x0;async function lr(){const _0x3f5c24=a0_0x2b042e;let _0x3a995a=await new ge(S['get'](_0x3f5c24(0x8c2)))[_0x3f5c24(0x5e7)]();return console[_0x3f5c24(0x364)]('instancias:\x20',_0x3a995a[_0x3f5c24(0x3f7)]),_0x3a995a['length'];}function ur(_0x510926){const _0x1c3fd7=a0_0x2b042e;let _0x1419d9=_0x510926[_0x1c3fd7(0x7e0)](_0x1c3fd7(0x643))[_0x1c3fd7(0x7bd)],_0x4ff28d=_0x510926[_0x1c3fd7(0x7e0)]('SSL_CONF');console[_0x1c3fd7(0x364)]('Valor\x20da\x20URL\x20recuperada:',_0x1419d9),console[_0x1c3fd7(0x364)](_0x1c3fd7(0x458),_0x4ff28d);let _0x196188='',_0x16f26a=_0x1419d9||'';if(_0x1419d9){let _0x2cc1fd=_0x1419d9['match'](/\/\/(.*?)\./);console[_0x1c3fd7(0x364)](_0x1c3fd7(0x819),_0x2cc1fd),_0x2cc1fd&&_0x2cc1fd[0x1]&&(_0x196188=_0x2cc1fd[0x1],console['log'](_0x1c3fd7(0x2d6),_0x196188));}if(!_0x196188&&_0x4ff28d&&_0x4ff28d[_0x1c3fd7(0x2de)]){let _0x5d7723=_0x4ff28d['FULLCHAIN'][_0x1c3fd7(0x5d7)]('/');console[_0x1c3fd7(0x364)](_0x1c3fd7(0x505),_0x5d7723);let _0x4f855b=_0x5d7723[_0x5d7723[_0x1c3fd7(0x3f7)]-0x2];if(console[_0x1c3fd7(0x364)](_0x1c3fd7(0x646),_0x4f855b),_0x4f855b){let _0x40c1fa=_0x4f855b['split']('.');console[_0x1c3fd7(0x364)]('Partes\x20do\x20domínio:',_0x40c1fa),_0x40c1fa[_0x1c3fd7(0x3f7)]>0x2&&(_0x196188=_0x40c1fa[0x0],console['log'](_0x1c3fd7(0x2ca),_0x196188),_0x16f26a=''+_0x4f855b);}}return{'subdomain':_0x196188||'Subdomínio\x20não\x20encontrado','fullURL':_0x16f26a||_0x1c3fd7(0x7ee)};}var {subdomain:ee,fullURL:Gs}=ur(S);console[a0_0x2b042e(0x364)](a0_0x2b042e(0x8bf),ee),console[a0_0x2b042e(0x364)](a0_0x2b042e(0x79e),Gs);async function dr(){const _0x2cefde=a0_0x2b042e;let _0x1fa3ca=S[_0x2cefde(0x7e0)]('REDIS'),_0x351c92=S[_0x2cefde(0x7e0)](_0x2cefde(0x3bf))[_0x2cefde(0x682)][_0x2cefde(0x36b)],_0x1430b1=S[_0x2cefde(0x7e0)](_0x2cefde(0x8a8)),_0x56e6b0=await Wi(),_0x559740=S[_0x2cefde(0x7e0)](_0x2cefde(0x643))[_0x2cefde(0x872)],_0x41c40e=Gs;try{let _0x45ae61={'ip':_0x56e6b0||null,'redis_enable':_0x1fa3ca?.[_0x2cefde(0x460)]||null,'apikey':_0x351c92||null,'ssl':_0x1430b1?.[_0x2cefde(0x6c8)]||null,'lastupdate':zi||null,'port':_0x559740||null,'gitInstallError':Ae?.[_0x2cefde(0x239)]||null,'url':_0x41c40e||null,'subdomain':ee};if(console[_0x2cefde(0x364)](_0x2cefde(0x75a),_0x45ae61['ip']),_0x1fa3ca&&_0x1fa3ca[_0x2cefde(0x460)]){let _0x5e4fb1=await lr();_0x45ae61[_0x2cefde(0x40d)]=_0x5e4fb1||null;}for(let _0x36aef2 in _0x45ae61)_0x45ae61[_0x2cefde(0x517)](_0x36aef2)&&_0x36aef2!=='ip'&&(_0x45ae61[_0x36aef2]=JSON['stringify'](_0x45ae61[_0x36aef2]));return(await qe[_0x2cefde(0x1f4)][_0x2cefde(0x897)](_0x2cefde(0x257),_0x45ae61))[_0x2cefde(0x450)];}catch(_0x53ac0f){return console[_0x2cefde(0x71a)](_0x53ac0f),!0x1;}}var Js=!0x1,zi=0x258,pr=0x3,Ji=0x1b7740;async function Vs(){const _0x456e3e=a0_0x2b042e;let _0x1d9cb2=_0x456e3e(0x698);Ae===null&&(_0x1d9cb2=await Wi());let _0x5ed114=await dr();if(_0x5ed114){if(_0x5ed114[_0x456e3e(0x80a)]['licenca']===!0x0){Ae===null&&_0x5ed114[_0x456e3e(0x80a)][_0x456e3e(0x4ab)]-zi>0x0&&await hr(),Js||(Js=!0x0,ir());let _0x21b799=0x24*0x3c*0x3c,_0x53eb41=_0x5ed114[_0x456e3e(0x80a)][_0x456e3e(0x8e4)]>_0x21b799?_0x21b799:_0x5ed114[_0x456e3e(0x80a)][_0x456e3e(0x8e4)],_0x5b31ae=Number(_0x53eb41);if(isNaN(_0x5b31ae)){console['error'](_0x456e3e(0x4f7));return;}let _0x201143=Math[_0x456e3e(0x8ed)](_0x5b31ae/0xe10),_0x3816ff=Math[_0x456e3e(0x8ed)](_0x5b31ae%0xe10/0x3c),_0x5b9ec9=new Date(Date[_0x456e3e(0x71e)]()+_0x5b31ae*0x3e8);setTimeout(Vs,_0x5b31ae*0x3e8);let _0x314566=_0x6923d=>_0x6923d[_0x456e3e(0x413)]()[_0x456e3e(0x2f7)](0x2,'0'),_0x3b67be=_0x456e3e(0x2e9)+_0x314566(_0x201143)+_0x456e3e(0x4de)+_0x314566(_0x3816ff)+_0x456e3e(0x4c9)+_0x314566(_0x5b9ec9[_0x456e3e(0x418)]())+':'+_0x314566(_0x5b9ec9['getMinutes']())+'.';console[_0x456e3e(0x364)](_0x3b67be);}else return console['log'](_0x456e3e(0x765)),Js&&(console[_0x456e3e(0x364)](_0x456e3e(0x6fe)),process[_0x456e3e(0x82c)]()),'LICENSE_INVALID';}else{if(ji++,ji<pr)console[_0x456e3e(0x364)](_0x456e3e(0x2a3)+Ji/0xea60+'\x20minutos...'),setTimeout(Vs,Ji);else return console[_0x456e3e(0x71a)](_0x456e3e(0x810)),_0x456e3e(0x3ce);}}async function hr(){const _0x2f9e7f=a0_0x2b042e;console[_0x2f9e7f(0x364)](_0x2f9e7f(0x4f1)),console['log']('Limpando\x20logs\x20do\x20PM2...'),(0x0,ls['spawn'])('pm2\x20flush',{'shell':!0x0})['on'](_0x2f9e7f(0x409),_0x5782ae=>{const _0x437c21=_0x2f9e7f;_0x5782ae!==0x0?console[_0x437c21(0x71a)](_0x437c21(0x7a1)):(console[_0x437c21(0x364)](_0x437c21(0x5ac)),console[_0x437c21(0x364)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,ls[_0x437c21(0x41a)])(_0x437c21(0x59f),{'shell':!0x0})['on']('close',_0x18d9e3=>{const _0x5b1ec9=_0x437c21;if(_0x18d9e3!==0x0)console[_0x5b1ec9(0x71a)](_0x5b1ec9(0x5fb));else{console[_0x5b1ec9(0x364)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x10a50b=(0x0,ls[_0x5b1ec9(0x41a)])(_0x5b1ec9(0x424),{'shell':!0x0});_0x10a50b[_0x5b1ec9(0x44b)]['on'](_0x5b1ec9(0x450),_0x200640=>{const _0x1e7c39=_0x5b1ec9;console[_0x1e7c39(0x364)](_0x1e7c39(0x5de)+_0x200640);}),_0x10a50b[_0x5b1ec9(0x658)]['on']('data',_0x5f8368=>{const _0x267bd6=_0x5b1ec9;console[_0x267bd6(0x71a)](_0x267bd6(0x499)+_0x5f8368);}),_0x10a50b['on'](_0x5b1ec9(0x82c),_0x4aafca=>{const _0x2a79c6=_0x5b1ec9;_0x4aafca!==0x0?console['error'](_0x2a79c6(0x5c0)+_0x4aafca):console[_0x2a79c6(0x364)](_0x2a79c6(0x6de)),console[_0x2a79c6(0x364)](_0x2a79c6(0x500)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x2b042e(0x824)]={'fullURL':fullURL,'subdomain':subdomain});