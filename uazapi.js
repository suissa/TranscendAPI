const a0_0x33f632=a0_0x308e;(function(_0x3b638c,_0x16408c){const _0x302042=a0_0x308e,_0x15ed31=_0x3b638c();while(!![]){try{const _0xa86213=parseInt(_0x302042(0x1f4))/0x1*(parseInt(_0x302042(0x73a))/0x2)+parseInt(_0x302042(0x508))/0x3*(-parseInt(_0x302042(0x1d4))/0x4)+-parseInt(_0x302042(0x926))/0x5*(-parseInt(_0x302042(0x486))/0x6)+-parseInt(_0x302042(0x878))/0x7*(parseInt(_0x302042(0x63b))/0x8)+-parseInt(_0x302042(0x410))/0x9+-parseInt(_0x302042(0x239))/0xa*(-parseInt(_0x302042(0x3d4))/0xb)+parseInt(_0x302042(0x45a))/0xc*(parseInt(_0x302042(0x1b3))/0xd);if(_0xa86213===_0x16408c)break;else _0x15ed31['push'](_0x15ed31['shift']());}catch(_0x701ace){_0x15ed31['push'](_0x15ed31['shift']());}}}(a0_0x8ade,0x7fc47));var Wi=Object['create'],Ve=Object[a0_0x33f632(0x890)],zi=Object[a0_0x33f632(0x22f)],Hi=Object[a0_0x33f632(0x362)],Ki=Object['getPrototypeOf'],Qi=Object[a0_0x33f632(0x34a)][a0_0x33f632(0x347)],Yi=(_0x6dcc5,_0x143499)=>{for(var _0x2e62d9 in _0x143499)Ve(_0x6dcc5,_0x2e62d9,{'get':_0x143499[_0x2e62d9],'enumerable':!0x0});},Bs=(_0x3c7f47,_0x4620bd,_0x573908,_0x2df666)=>{const _0x48046e=a0_0x33f632;if(_0x4620bd&&typeof _0x4620bd==_0x48046e(0x8d7)||typeof _0x4620bd==_0x48046e(0x2ce)){for(let _0x6e5be4 of Hi(_0x4620bd))!Qi['call'](_0x3c7f47,_0x6e5be4)&&_0x6e5be4!==_0x573908&&Ve(_0x3c7f47,_0x6e5be4,{'get':()=>_0x4620bd[_0x6e5be4],'enumerable':!(_0x2df666=zi(_0x4620bd,_0x6e5be4))||_0x2df666[_0x48046e(0x5df)]});}return _0x3c7f47;},I=(_0x258e25,_0x2d8ad2,_0x3fcce7)=>(_0x3fcce7=_0x258e25!=null?Wi(Ki(_0x258e25)):{},Bs(_0x2d8ad2||!_0x258e25||!_0x258e25[a0_0x33f632(0x2fc)]?Ve(_0x3fcce7,a0_0x33f632(0x844),{'value':_0x258e25,'enumerable':!0x0}):_0x3fcce7,_0x258e25)),Xi=_0x2f2e4c=>Bs(Ve({},'__esModule',{'value':!0x0}),_0x2f2e4c),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module[a0_0x33f632(0x204)]=Xi(gr);function a0_0x308e(_0x681fa4,_0x3689bc){const _0x8adead=a0_0x8ade();return a0_0x308e=function(_0x308e30,_0x20b55d){_0x308e30=_0x308e30-0x199;let _0x584dc7=_0x8adead[_0x308e30];return _0x584dc7;},a0_0x308e(_0x681fa4,_0x3689bc);}var Ui=I(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x33f632(0x92d)),Ge=require(a0_0x33f632(0x92d)),ne=process['cwd'](),be=(0x0,Ge[a0_0x33f632(0x79a)])(ne,a0_0x33f632(0x71b)),Ws=(0x0,Ge['join'])(ne,'src'),fn=(0x0,Ge[a0_0x33f632(0x79a)])(ne,a0_0x33f632(0x525),a0_0x33f632(0x679)),us=class{constructor(){const _0x3b9013=a0_0x33f632;this[_0x3b9013(0x3d9)]();}[a0_0x33f632(0x939)](_0x2e856d){const _0x3f12af=a0_0x33f632;return this[_0x3f12af(0x8fd)][_0x2e856d];}['loadEnv'](){const _0x37a8f2=a0_0x33f632;this[_0x37a8f2(0x8fd)]=process[_0x37a8f2(0x8fd)]?.[_0x37a8f2(0x32d)]!==_0x37a8f2(0x8c1)?this[_0x37a8f2(0x7a7)]():this[_0x37a8f2(0x819)](),process['env']?.[_0x37a8f2(0x32d)]===_0x37a8f2(0x8c1)&&(this[_0x37a8f2(0x8fd)][_0x37a8f2(0x308)]['TYPE']=_0x37a8f2(0x4cf),this[_0x37a8f2(0x8fd)][_0x37a8f2(0x308)][_0x37a8f2(0x51c)]=Number[_0x37a8f2(0x6c1)](process[_0x37a8f2(0x8fd)]?.[_0x37a8f2(0x704)]??_0x37a8f2(0x91b)));}[a0_0x33f632(0x7a7)](){const _0x43c4b2=a0_0x33f632;return(0x0,Hs[_0x43c4b2(0x345)])((0x0,zs[_0x43c4b2(0x5e9)])((0x0,Ks['join'])(Ws,_0x43c4b2(0x5ff)),{'encoding':'utf-8'}));}['envProcess'](){const _0x459a45=a0_0x33f632;return{'SERVER':{'TYPE':process[_0x459a45(0x8fd)][_0x459a45(0x346)],'PORT':Number[_0x459a45(0x6c1)](process[_0x459a45(0x8fd)][_0x459a45(0x704)]),'URL':process[_0x459a45(0x8fd)][_0x459a45(0x6d3)]},'CORS':{'ORIGIN':process[_0x459a45(0x8fd)][_0x459a45(0x92f)]['split'](','),'METHODS':process[_0x459a45(0x8fd)][_0x459a45(0x367)][_0x459a45(0x405)](','),'CREDENTIALS':process[_0x459a45(0x8fd)]?.[_0x459a45(0x527)]===_0x459a45(0x8c1)},'SSL_CONF':{'PRIVKEY':process[_0x459a45(0x8fd)]?.[_0x459a45(0x1e5)],'FULLCHAIN':process['env']?.[_0x459a45(0x1ec)]},'STORE':{'CLEANING_INTERVAL':Number[_0x459a45(0x1a1)](process[_0x459a45(0x8fd)]?.[_0x459a45(0x906)])?Number[_0x459a45(0x6c1)](process[_0x459a45(0x8fd)][_0x459a45(0x906)]):void 0x0,'MESSAGES':process[_0x459a45(0x8fd)]?.[_0x459a45(0x1d2)]==='true','CONTACTS':process['env']?.['STORE_CONTACTS']===_0x459a45(0x8c1),'CHATS':process[_0x459a45(0x8fd)]?.[_0x459a45(0x2bc)]===_0x459a45(0x8c1)},'DATABASE':{'CONNECTION':{'HOST':process[_0x459a45(0x8fd)]?.[_0x459a45(0x70d)],'PORT':Number[_0x459a45(0x6c1)](process['env']?.[_0x459a45(0x70d)]),'USER':process[_0x459a45(0x8fd)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x459a45(0x8fd)][_0x459a45(0x2df)],'URI':process['env'][_0x459a45(0x85c)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x459a45(0x8fd)]?.[_0x459a45(0x787)]===_0x459a45(0x8c1)},'REDIS':{'ENABLED':process[_0x459a45(0x8fd)]?.[_0x459a45(0x84c)]==='true','URI':process[_0x459a45(0x8fd)][_0x459a45(0x3cc)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x459a45(0x8fd)][_0x459a45(0x43a)]||_0x459a45(0x923)},'LOG':{'LEVEL':process['env']?.[_0x459a45(0x277)][_0x459a45(0x405)](','),'COLOR':process[_0x459a45(0x8fd)]?.['LOG_COLOR']===_0x459a45(0x8c1)},'PROXY':process[_0x459a45(0x8fd)]?.[_0x459a45(0x3f7)]==='true','AUTHENTICATION':{'TYPE':process[_0x459a45(0x8fd)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x459a45(0x38c)]},'JWT':{'EXPIRIN_IN':Number[_0x459a45(0x1a1)](process[_0x459a45(0x8fd)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x459a45(0x6c1)](process[_0x459a45(0x8fd)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x459a45(0x275)]}}};}},S=new us(),ji=I(require(a0_0x33f632(0x408))),we=I(require('express')),Vs=require(a0_0x33f632(0x92d)),ds=I(require(a0_0x33f632(0x262))),ps=(_0x327371=>(_0x327371[a0_0x33f632(0x24a)]=a0_0x33f632(0x42e),_0x327371[a0_0x33f632(0x6d2)]='\x1b[34m',_0x327371[a0_0x33f632(0x7b7)]=a0_0x33f632(0x833),_0x327371[a0_0x33f632(0x78d)]=a0_0x33f632(0x610),_0x327371[a0_0x33f632(0x509)]=a0_0x33f632(0x3eb),_0x327371[a0_0x33f632(0x1a0)]='\x1b[37m',_0x327371[a0_0x33f632(0x1e0)]=a0_0x33f632(0x868),_0x327371))(ps||{}),Qs=(_0x4e78a0=>(_0x4e78a0[a0_0x33f632(0x24a)]=a0_0x33f632(0x47c),_0x4e78a0[a0_0x33f632(0x1e0)]=a0_0x33f632(0x19f),_0x4e78a0[a0_0x33f632(0x6d2)]=a0_0x33f632(0x322),_0x4e78a0['WARN']=a0_0x33f632(0x42f),_0x4e78a0['ERROR']=a0_0x33f632(0x728),_0x4e78a0[a0_0x33f632(0x509)]=a0_0x33f632(0x635),_0x4e78a0[a0_0x33f632(0x1a0)]=a0_0x33f632(0x43d),_0x4e78a0))(Qs||{}),Ys=(_0x5bca5e=>(_0x5bca5e[a0_0x33f632(0x24a)]='LOG',_0x5bca5e[a0_0x33f632(0x7b7)]='WARN',_0x5bca5e[a0_0x33f632(0x6d2)]=a0_0x33f632(0x6d2),_0x5bca5e[a0_0x33f632(0x1e0)]=a0_0x33f632(0x1e0),_0x5bca5e[a0_0x33f632(0x78d)]=a0_0x33f632(0x78d),_0x5bca5e['DEBUG']=a0_0x33f632(0x509),_0x5bca5e['VERBOSE']=a0_0x33f632(0x1a0),_0x5bca5e))(Ys||{}),Xs=(_0x8876dd=>(_0x8876dd[a0_0x33f632(0x24a)]='\x1b[42m',_0x8876dd['INFO']=a0_0x33f632(0x49e),_0x8876dd[a0_0x33f632(0x7b7)]=a0_0x33f632(0x669),_0x8876dd[a0_0x33f632(0x1e0)]=a0_0x33f632(0x213),_0x8876dd['ERROR']=a0_0x33f632(0x563),_0x8876dd[a0_0x33f632(0x509)]='\x1b[46m',_0x8876dd['VERBOSE']=a0_0x33f632(0x5c2),_0x8876dd))(Xs||{}),$=class{constructor(_0x519eb1=a0_0x33f632(0x482)){const _0x4d70c5=a0_0x33f632;this['context']=_0x519eb1,this[_0x4d70c5(0x7fb)]=S;}[a0_0x33f632(0x286)](_0x2bd5a1){this['context']=_0x2bd5a1;}[a0_0x33f632(0x912)](_0x3cd4a4,_0xfdca88){const _0x1be5e2=a0_0x33f632;let _0x296b76=[];this['configService'][_0x1be5e2(0x939)](_0x1be5e2(0x24a))[_0x1be5e2(0x502)]['forEach'](_0x5b57ba=>_0x296b76[_0x1be5e2(0x2cc)](Ys[_0x5b57ba]));let _0x3e468f=typeof _0x3cd4a4;_0x296b76['includes'](_0xfdca88)&&(S[_0x1be5e2(0x939)]('LOG')[_0x1be5e2(0x532)]?(console[_0x1be5e2(0x257)](_0x1be5e2(0x670)+Qs[_0xfdca88],_0x1be5e2(0x33a),(0x0,ds[_0x1be5e2(0x844)])()['format'](_0x1be5e2(0x8a7)),'\x1b[0m',ps[_0xfdca88]+Xs[_0xfdca88]+_0x1be5e2(0x670),_0xfdca88+_0x1be5e2(0x60c),_0x1be5e2(0x8f2),this[_0x1be5e2(0x4b0)]+'\x1b[0m',ps[_0xfdca88],_0x3e468f!==_0x1be5e2(0x8d7)?_0x3cd4a4:'',_0x1be5e2(0x8ac)),_0x3e468f===_0x1be5e2(0x8d7)&&console['log'](_0x3cd4a4,'\x0a')):console[_0x1be5e2(0x257)]((0x0,ds['default'])()[_0x1be5e2(0x893)](_0x1be5e2(0x7c7)),_0xfdca88+'\x20',''+this[_0x1be5e2(0x4b0)],_0x3cd4a4));}[a0_0x33f632(0x257)](_0xa433c8){const _0x33e8c3=a0_0x33f632;this['console'](_0xa433c8,_0x33e8c3(0x24a));}[a0_0x33f632(0x8ef)](_0x1b53d5){const _0x15f3c5=a0_0x33f632;this[_0x15f3c5(0x912)](_0x1b53d5,_0x15f3c5(0x6d2));}[a0_0x33f632(0x909)](_0x5b461d){const _0x31730a=a0_0x33f632;this[_0x31730a(0x912)](_0x5b461d,_0x31730a(0x7b7));}[a0_0x33f632(0x90c)](_0x44884d){const _0x18750d=a0_0x33f632;this[_0x18750d(0x912)](_0x44884d,'ERROR');}[a0_0x33f632(0x843)](_0x2afb0b){const _0x2242fd=a0_0x33f632;this['console'](_0x2afb0b,_0x2242fd(0x1a0));}[a0_0x33f632(0x8fc)](_0x20bde5){const _0x4c9457=a0_0x33f632;this['console'](_0x20bde5,_0x4c9457(0x509));}['dark'](_0x1725b9){const _0x565c1d=a0_0x33f632;this[_0x565c1d(0x912)](_0x1725b9,_0x565c1d(0x1e0));}};function Zs(){const _0x1fa102=a0_0x33f632;process['on'](_0x1fa102(0x476),(_0x56003e,_0x48f064)=>{const _0x5252a4=_0x1fa102;new $('uncaughtException')[_0x5252a4(0x90c)]({'origin':_0x48f064,'stderr':process[_0x5252a4(0x6d1)]['fd'],'error':_0x56003e});}),process['on'](_0x1fa102(0x2ed),(_0x545302,_0x3bcab2)=>{const _0x57ddc3=_0x1fa102;new $(_0x57ddc3(0x2ed))[_0x57ddc3(0x90c)]({'origin':_0x3bcab2,'stderr':process[_0x57ddc3(0x6d1)]['fd'],'error':_0x545302});});}var ea=I(require(a0_0x33f632(0x334))),hs=new ea[(a0_0x33f632(0x844))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x33f632(0x264)),Ae=I(require(a0_0x33f632(0x264))),Be=new $(a0_0x33f632(0x7e6)),L=S[a0_0x33f632(0x939)]('DATABASE'),T=L[a0_0x33f632(0x399)]?L['CONNECTION'][a0_0x33f632(0x73f)]?Ae[a0_0x33f632(0x844)][a0_0x33f632(0x616)](L[a0_0x33f632(0x231)][a0_0x33f632(0x73f)],{'dbName':L[a0_0x33f632(0x231)][a0_0x33f632(0x1cc)]+a0_0x33f632(0x768)}):Ae[a0_0x33f632(0x844)][a0_0x33f632(0x616)](a0_0x33f632(0x530)+L[a0_0x33f632(0x231)][a0_0x33f632(0x372)]+':'+L[a0_0x33f632(0x231)]['PORT']+a0_0x33f632(0x426),{'user':L[a0_0x33f632(0x231)][a0_0x33f632(0x20d)],'pass':L['CONNECTION'][a0_0x33f632(0x4db)],'dbName':L[a0_0x33f632(0x231)][a0_0x33f632(0x1cc)]+a0_0x33f632(0x768)}):null;L[a0_0x33f632(0x399)]&&Be[a0_0x33f632(0x8ef)](a0_0x33f632(0x84e)+T[a0_0x33f632(0x592)]);var Y=L[a0_0x33f632(0x399)]?L[a0_0x33f632(0x231)][a0_0x33f632(0x73f)]?Ae[a0_0x33f632(0x844)][a0_0x33f632(0x616)](L[a0_0x33f632(0x231)][a0_0x33f632(0x73f)],{'dbName':'cachedData-whatsapp'}):Ae[a0_0x33f632(0x844)][a0_0x33f632(0x616)]('mongodb://'+L['CONNECTION'][a0_0x33f632(0x372)]+':'+L[a0_0x33f632(0x231)][a0_0x33f632(0x51c)]+a0_0x33f632(0x426),{'user':L[a0_0x33f632(0x231)][a0_0x33f632(0x20d)],'pass':L['CONNECTION'][a0_0x33f632(0x4db)],'dbName':a0_0x33f632(0x7ee)}):null;Y&&Be[a0_0x33f632(0x8ef)](a0_0x33f632(0x84e)+Y['$dbName']),process['on']('beforeExit',()=>{const _0x53ab12=a0_0x33f632;T&&T[_0x53ab12(0x3b3)](()=>{const _0x6161cb=_0x53ab12;Be[_0x6161cb(0x8ef)](_0x6161cb(0x3f3));}),Y&&Y[_0x53ab12(0x3b3)](()=>{const _0x1144cd=_0x53ab12;Be['info'](_0x1144cd(0x225));});});function a0_0x8ade(){const _0x63df1b=['defineAuthState','/automate','ip:\x20','text','updateMediaMessage','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','oldValue','true','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','removeData','loadWebhook','createIPv6','convertaudioMP3','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','copyBlock','):\x20Enviando\x20mensagem\x20para\x20','sim','!stop','pollOnReplyDelete','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','delete','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','profilePictureUrl','CONTACTS_SET','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','logout','https://ifconfig.me/ip','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','object','deviceSentMessage','#9568cf','conversation','reconnectAttempts','_Labels','events','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',']\x20(','webhookService','CHATS_UPSERT','):including\x20timestamp\x20in\x20url:\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','}}\x20->\x20\x22','processclearVariables','video','):\x20Editando\x20mensagens\x20no\x20grupo...','selectedRowId','apiResponse','/webhook','fetchInstances','ChatRouter','padStart','sendLocation','info','setNewValue','exec','\x1b[33m\x1b[1m','dbClient','menuIgnoreNonVotes','Erro\x20ao\x20remover\x20label\x20','splice','status@broadcast','editflowvaredit','Retornando\x20grupos\x20COM\x20cache','groupJid','ScheduleMessage','debug','env','[all]','CREDENTIALS','toUpperCase','pendingMessages','cleanDisconnectedInstances','findAll','gifPlayback','toBrazilianNumberFormat','STORE_CLEANING_TERMINAL','isValidIPv6Config','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','warn','sendMedia','substring','error','clear','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','.ogv','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','processblock','console','fullName','ConversationModel','verifyWhatsAppNumber','sendPoll','pollMessage','rm\x20-rf\x20','/group','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','8080','findOne','send.message','views','):Image\x20is\x20url','pow','bulkWrite','Erro\x20ao\x20executar\x20bulkWrite:','uazapi','notEqual','/5\x20de\x20preparar\x20mídia\x20falhou:\x20','30LQwnpb','Not\x20Found','#000000','created','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','empty','^\x5cd+','path','list','CORS_ORIGIN','race','qrcode.updated','groups.update','randomBytes','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','expiration','XX:XX:XX:XX:XX:XX','\x20minutos','archive','get','countIPv6Addresses','\x20-\x20ON:\x20','groupRequestParticipantsUpdate','URL','hbs','Opção\x20Falsa\x20','addBlock','\x20horas\x20e\x20','subjectTime','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','formatStatusMessage','buttonMessage','groupJoinApprovalMode','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20não\x20encontrou','\x1b[30m%s\x1b[0m','VERBOSE','isInteger','Authentication\x20error','user','application/json',',\x20global:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','sendMessageWithRetry','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','errors','Data\x20inválida\x20fornecida','updateLastSeenPrivacy','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Bloco\x20original\x20para\x20cópia:\x20','add','QRCODE_UPDATED','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','replaceOne','13CDFyov','statusMessage','#d8e651','Subdomínio\x20extraído\x20da\x20URL:','image','#ffae04','isURL','evaluateConditionTest','normalizeMessage','imagechat','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Pausado\x20por\x20','participant','#fed428','variablesToObject','reorderMessages','Error\x20fetching\x20group','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Novo\x20IP\x20criado:\x20','#ffc5c7','Error\x20fetching\x20IPv6\x20count:\x20','Error\x20updating\x20message\x20status:','Esse\x20fluxo\x20expirou','findAndUpdateCacheContact','min','DB_PREFIX_NAME','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','/instance','remoteJids','basename','editflowcondition','STORE_MESSAGE','forEach','99276OQAAXN','scheduled','description','enabled','closed','setting','next_groupId','Types','flows',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Fluxo\x20\x27','update','DARK','_activedCount','Group\x20not\x20found','editChat','audioMessage','SSL_CONF_PRIVKEY','segundos','jid','backgroundColor','msgRetryCounterCache','RECONNECT_TIME_FRAME','CONTACTS_UPDATE','SSL_CONF_FULLCHAIN','Mensagens\x20deletadas\x20com\x20sucesso.','ip\x20-br\x20link\x20show','groupBetterSetting','pollCreationMessageV3','replyOptions','locationMessage','getChatModelForOwner','10217awYweb','):\x20\x27Deletando\x20fluxo,\x20id:\x20','Removidas\x20as\x20variáveis:\x20','replaceVariablesLogs','SECRET','stateConnection','):\x20isVote:\x20','blockLogs','Flow\x20iniciado\x20com\x20','ephemeralMessage','json','transformScheduledMessagesByType','#fe9dfe','generateRandomIPv6','):\x20Erro\x20durante\x20a\x20atualização:\x20','EXPIRIN_IN','exports','connecting','unlinkSync','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Error\x20testing\x20IP\x20with\x20','spawn','create','notContains','USER','autoCompleteMessages','processawaitSeconds','):\x20Error\x20processing\x20the\x20block:\x20','createWebhook','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','\x1b[40m','fone','updateOne','Not\x20is\x20business\x20profile','findMessages','match_last_seen','Read\x20messages','waitingMenu_ExpiredMessage','participants','app-state-sync-key','downloads','Deletion\x20failed','#ff9484','):\x20\x27Enviando\x20texto\x20para\x20\x27','ContactModel','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Erro\x20ao\x20copiar\x20o\x20documento','replaceVariablesInObject','CacheContacts\x20database\x20connection\x20closed.','triedToSend','request\x20received\x20in\x20editConversation','chats','instance','importChatsAntigo','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Chat\x20','.ppt','deleteOne','getOwnPropertyDescriptor','request\x20received\x20in\x20deleteDoneMessages','CONNECTION','sharp','createFlow',',\x20Minutes\x20to\x20Close:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','sign','class-validator','scheduleFlow','2580SWJFvG','findByIdAndDelete','authService','getSeconds','getContentType','\x20minutos...','shift','findById','extractPhoneNumber','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','this.reconnectAttempts:\x20','deleteInstance','createConversationforStartFlow','long','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','END:VCARD','LOG','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','reject','findByIdAndUpdate','MessageModel','request\x20received\x20in\x20editFlowcondition','Variável\x20não\x20encontrada!','selectableCount','markMessageAsRead','proxy:\x20','name','messageType','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','log','pollMessageOnDelete','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','choices','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Reusing\x20existing\x20IPv6:\x20','all_member_add',',\x20resultado:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','StartBot','dayjs','Instance\x20restarted','mongoose','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','.gif','validate','getLabelModelForOwner','now','messaging-history.set','):\x20Entrou\x20na\x20função\x20goToFlow','.\x20Tentando\x20novamente\x20em\x20','processApiRequest','timeInMinutes','promote','messages.upsert','convertaudio','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','_remoteJid','AUTHENTICATION_JWT_SECRET','):Sending\x20audio\x20whatsapp','LOG_LEVEL','sendList','webhook','findAndReplace','canSendMessage','[service]\x20request\x20received\x20in\x20sendButtons','document','DATABASE','Grupo\x20não\x20encontrado','delAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','sem\x20texto\x20na\x20mensagem','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20Label\x20','https','setContext','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','stopWhenYouSendMsg','Network\x20interfaces\x20detected:\x20','Reiniciando\x20a\x20aplicação...','mediaMessage','\x20removido\x20do\x20chat\x20','api','buttonParamsJson','deleteChat','groupUpdateDescription','replacer','revokeInviteCode','abs','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','color','groupValidate','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','.txt','Falha\x20ao\x20recriar\x20IPv6.','valid','put','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','restartInstance','open','createOrUpdate','chats.upsert','fetchProfilePicture','Error\x20updating\x20cache\x20contact:','updateAutoCompleteMessages','updateProfileName','deleteBlock','updateOnlinePrivacy','oldToken','waitingMenu_id','.error','https://v6.ident.me','cwd','chats.update','):\x20Ler\x20mensagem','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Font\x20is\x20required','messageContextInfo','evaluateCondition','Validate','cacheInstanceRepository','less','hGetAll','processConditions','storePath','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','minutesToClose','processUazapi','updateGroupWebhook','STORE_CHATS','code','Flow\x20\x27','editScheduleMessage','readFile','):\x20Deletando\x20mensagem','archiveChat','Erro\x20na\x20função\x20updateChatWithMessage:\x20','cpf','DaysToDelete','setUpdate','):\x20Editando\x20grupo\x20do\x20fluxo...','\x22,\x20valor\x20a\x20substituir:\x20\x22','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','interval\x20não\x20é\x20um\x20número','chat','push','groups_ignore','function','generateHash','locked','TEL','Comando\x20desconhecido','isBase64','instanceInfo','requestFile','Instance\x20\x22','fetchBusinessProfile','Error\x20writing\x20file:\x20','REDIS','getHours','_minute','processReadyMessages','reactionMessage','CONTACTS_UPSERT','DATABASE_CONNECTION_PASSWORD','.\x20Pulando.','.extension','/:instanceName','redisEnv','inet6','listMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','whoCanEdit','namespace','setRestartTimeout','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','flow','unhandledRejection','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','#92ceac','setWebhook','application/octet-stream','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','inviteUrl','existsSync','ContactsAndGroups','findWebhook','removeIPv6','MESSAGES_SET','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','lastSend','__esModule','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','myAppStateKeyId','buttonOrList_id','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Falha\x20ao\x20deletar\x20mensagem.','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','verifiedName','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','contact_blacklist','toNumber','connectionStatus','SERVER','#01d0e2','atendimentoAberto','selectedId','editFlowVaredit','isRunning','phoneNumber','remove.instance','pairingCode','\x22\x20cannot\x20be\x20empty','lastUpdate','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','PLAYED','getLastMessage','endsWith','proto','deleteAllMessages','addMessagesToGroup','_p_','ip\x20-6\x20addr\x20del\x20','folder','delay','newStoppedUntil','IPv6\x20address\x20configured:\x20','routerPath','reference','\x1b[34m%s\x1b[0m','request\x20received\x20in\x20updateCustomFields','request\x20received\x20in\x20createFlow','shareOwners','\x22reaction\x22\x20must\x20be\x20an\x20emoji','isJidGroup','stopMinutesMaxActives','AUTHENTICATION','dropCollection','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','getProfileName','DOCKER_ENV','BRL','Nenhum\x20fluxo\x20correspondente\x20encontrado.','remoteJid','sendMessageAck','sendMessageWithTyping','readMessageBot','eventemitter2','contact','findGroupsEspecial','options','vote','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','\x1b[1m\x1b[37m','IP\x20mismatch:\x20configured\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','website','Adicionando\x20novo\x20participante:\x20','replaceVariablesInReplyOptions','nome','then','messagesLogs','selectedDisplayText','body','load','SERVER_TYPE','hasOwnProperty','request\x20received\x20in\x20deleteConversation','pollCreationMessageV2','prototype','sticker','creds.json','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','flowName','updateCustomFields','\x22\x20-\x20REMOVED','promisify','groupHandler','hex','mediatype','value','pre','):\x20Alterando\x20fluxo...','goNextblock','request\x20received\x20in\x20getAutomateSystem','qrCode','STATUS_INSTANCE','approve','Erro\x20ao\x20encerrar\x20a\x20API','toFile','getflow','qrcode','uazapiDeleteMessage','getOwnPropertyNames','editFlowGroup','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','interactiveMessage','parse','CORS_METHODS','readdirSync','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','editConversation','startFlowWebhook','deleteMessageForEveryone','Fluxos\x20não\x20estão\x20ativados','poll','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20instance\x20does\x20not\x20exist','initAuthCreds','HOST','uazapiSendContact','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','exists','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','convertToWebP','ObjectId','static','CHATS_SET','Missing\x20global\x20api\x20key','):\x20conversation.waitingMenu_name','insert','messageLogsModel','deleteAll','getFullYear','createButtonSectionsFromValues','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','_sender','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','mongodb','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Safari','GROUP_PARTICIPANTS_UPDATE','stopIfLastReturnedError','jsonwebtoken','urlOrBase64','AUTHENTICATION_API_KEY','Message','deleteReplyOption','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','truncatedto','Tentando\x20reconectar...','findOneAndUpdate','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','initializeQueue','getMessageModelForOwner','cacheInstanceModel','ENABLED','reaction','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20Enviando\x20enquete','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','/startFlow/:instance/:startID','API\x20Key\x20from\x20Request:','connectionClosed','\x20Tentativa\x20de\x20reconexão\x20','delaySecMax','timeout','The\x20\x22','Erro\x20ao\x20arquivar\x20chat','deleteDoneMessages','findChats','\x20inseridas\x20no\x20banco\x20de\x20dados...','/5\x20falhou:\x20','getVariablesChat','tags','API_KEY','NextBlock','number','delayChatLabel','viewOnceMessage','#d3a91f','Falhou\x20ao\x20encontrar\x20chat\x20','close','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','):\x20Enviando\x20texto','Log\x20out\x20instance:\x20','count','closeExistingConversations','headerString','content-type','demote','):\x20Bloco\x20copiado:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','vir','uazapiSendLocation','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','removed','\x20não\x20encontrado\x20para\x20atualização.','request\x20received\x20in\x20scheduleMessage','\x20excess\x20IPv6\x20addresses.','Instância\x20não\x20encontrada.','deleteMany','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','):\x20expirationTime:\x20','REDIS_URI','isArray','allContacts','random','Erro\x20ao\x20atualizar\x20conversa:\x20','scheduleSendMedia','leaveGroup','Usando\x20IP\x20existente:\x20','19349OQCJel','leadInfo.customFields','createInstance','editflowgroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','loadEnv','Removed\x20','https://','map','utf-8','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','/instance/connect','removeProfilePicture','cleaningUp','LICENSE_INVALID','):\x20Buscando\x20flow...','conversationTimestamp','SUCCESS','Sistema\x20atualizado\x20com\x20sucesso!','.pdf','createflow','Limpando\x20logs\x20do\x20PM2...','getConversationModelForOwner','\x1b[36m','\x20mensagens\x20de\x20','instanceName\x20not\x20provided.','status','request\x20received\x20in\x20getFlow','isAdmin','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','EMAIL:','Database\x20connection\x20closed.','trim','stringify','groups.upsert','PROXY','replaceValue','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','contextInfo','descId','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20whoCanEdit\x20before\x20validation:\x20',',\x20pairCode:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','startCommand','ScheduleMessageModel','audio/ogg;\x20codecs=opus','):\x20conversation.lastInteraction:\x20','height','split','inviteCode','synchronizeAndMapFlows','cors','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','decryptPollVote','getConversation','superadmin','sendAudio','\x27\x20do\x20banco\x20de\x20dados...','from','1856421COqkQB','https://jsonip.com','joinApprovalMode','Subdomínio\x20não\x20encontrado','subjectOwner','lastBlockId','sendMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','/events','Atualização:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','generateWAMessageFromContent','Operador:\x20\x22','findOrCreate','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','readData','downloadMediaMessage','retrySendMessage','detail','creds.update','):\x20Conversa\x20inserida\x20com\x20sucesso.','use','?authSource=admin&readPreference=primary&directConnection=true','Fluxo\x20não\x20encontrado\x20na\x20memória.','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','updateBlock','cachedContact','Erro\x20ao\x20importar\x20chats','):\x20Enviando\x20mídia','Bloco\x20com\x20ID\x20','\x1b[32m','\x1b[33m%s\x1b[0m','isBusinessInstance','editMessagesInGroup','\x20-y','insertMany','replyOption','getBase64FromMediaMessage','data:\x20','lastSendMessage','linkPreview','extractRegex','REDIS_PREFIX_KEY','params','readreceipts','\x1b[37m%s\x1b[0m','viewOnceMessageV2','changeVariables','0123456789ABCDEF','createGroup','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','@g.us','ignoreGroups','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','/instance/fetchInstances','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','connectedName','cacheContactModel','getMIMEType','fakeReceived','notify','updateGParticipate','updatePresence','pictureUrl','ephemeralExpiration','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','isMessageProcessed','Nenhum\x20participante\x20válido\x20encontrado.','apirequest','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','interactiveResponseMessage','):Image\x20created','TYPE','5549916dtgnJR','.docx','/wa-contacts','fileName','saveVariable','saveChatVariables','groupGetInviteInfo','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','sha256','MESSAGES_UPSERT','getUpdate','unreadcount','readMessages','client','updateStatusPrivacy','writeFileSync','Chat\x20com\x20ID\x20','processPollUpdateMessage','connectionUpdate','https://uazapi-plugin.bubbleapps.io/?url=','getScheduleMessage','sendSticker','.jwt','toArray','addToProcessedMessages','connectedClient','_error','toBRL','uncaughtException','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','sendMessageWithTypingButtons','pollCreationMessageKey','getUniqueFlowName','IPv6\x20addresses\x20detected:\x20','\x1b[32m%s\x1b[0m','owner','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Query\x20params:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','.mp3','Logger','Error\x20fetching\x20IPv6\x20addresses:\x20','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','URL\x20completa:','180672zEZyLE','KEY','):\x20Enviando\x20localização','PRIVKEY','stopMinutes','repository','array','Type\x20is\x20required','send','not_announcement','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','organization','flowIgnoreGroups','lean','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','listen','groupId','chatId','Subdomínio\x20final:','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','):Archiving\x20chat','fetchContacts','\x1b[44m','checkAndRestartProcess','):\x20tem\x20blocks','sendText','toLowerCase','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getDate','label','clearVariables','Total\x20IPv6\x20addresses\x20detected:\x20','_Chats','getBusinessProfile','firstValue','https://github.com/uazapi/uazapi.git','Erro\x20ao\x20alterar\x20privacidade','cta_url','ini','originalUrl','context','pop','convertedOptions','#b4ebff','message','idSchedule','\x0a*Você\x20respondeu*:\x0a','groupDesc','authorization','extractMessageContent','option','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','dbInstance','scheduleSendAudio','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','connectToWhatsappController','OrAnd','FlowRouter','removeInstance','collection','):\x20ev.flush\x20realizado','https://api.openai.com/v1/images/generations','isJWT','isLong','ListMessage','no.connection','isBusiness','authentication','getDelay','Connection\x20Closed','sendPresenceUpdate','http','deleteFlow','varedits',',\x20Comparador:\x20','editFlowReply','state','findManyByIds','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','flowPrefixCommand','):\x20conversation.status:\x20','delayChatLabel_MAX_RETRIES','docker','PASSWORD','AutomateFunctions','Close\x20connection','Invalid\x20format','recebido\x20de','--------------------------------------','jpegThumbnail','listIPv6Addresses','node-mime-types','processScheduleFlow','endSession','drop','localWebhook','remote\x20\x22origin\x22','):\x20Limpando\x20delayMessage','JWT','):\x20leadInfoVariables','lastFetchAwaitingApproval','dbServer','\x27\x20removido\x20do\x20AutomateSystem.','createConversationforgoToFlow','\x20:\x20','paramsJson','insertCount','boolean','expression','profile','desativadoFluxoAte','dbSettings','/media/','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','contains','whatsappNumber','contactsArrayMessage','chats.delete','indexOf','messageSecret','http://checkip.dyndns.org','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','LEVEL','*Pergunta*:\x20\x0a','WebhookGlobal','DELIVERY_ACK','applyvaredit','$pull','66RfbtMC','DEBUG','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):Image\x20path:\x20','lastRealGroupsFetch','video-cover.png','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','varedit','groupMemberAddMode','buttonText','Background\x20color\x20is\x20required','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','InstancesAlterarTodas','/message','keys','telefone','ListType','util','includes','\x20do\x20chat\x20','PORT','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Enviando\x20contato','AutomateSystem\x20não\x20foi\x20inicializado','ChatModel','):\x20sender\x20=\x20number:\x20','/instance/delete','\x5cd+','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','store','finish','CORS_CREDENTIALS','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','dropIndex','limit','generate','getContactModelForOwner','ERROR:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x20adicionado\x20ao\x20chat\x20','mongodb://',',\x20lastCondition:\x20','COLOR','footerText','):Type\x20defined\x20as\x20audio','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','.doc','.ogg','request\x20received\x20in\x20getConversation',',\x20saindo.','videoMessage','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','#56ccb4','SERVER_ACK','The\x20','onWhatsApp','):\x20updateResult:','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','contacts.update','fetchChats','groupCreate','lastReceivedMessage','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','):\x20Criando\x20fluxo...','@redis/client','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','uazapiSendText','latitude','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','etiquetas','ip\x20-6\x20addr\x20show\x20dev\x20','filter','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','${Message\x20absent\x20from\x20node}','request\x20received\x20in\x20fetchConversation','/wa-chats','group','greater','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','):\x20[messages.upsert]\x20group\x20ignored','prepareWAMessageMedia','Failed\x20to\x20prepare\x20media\x20message','):\x20whoCanUse\x20after\x20validation:\x20','trimmed','flowConversation','local_map','groups','findAndReplaceRegex','string','\x1b[41m','unlocked','rows','isJidUser','Generated\x20IPv6:\x20','Error\x20parsing\x20JSON:',',\x20valor\x20passado:\x20\x22','Erro\x20ao\x20inserir\x20chats:','):\x20Bloco\x20com\x20ID\x20','groupSetting','File\x20written\x20to\x20path:\x20','apikey','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','updatePrivacySettings','URL\x20não\x20disponível',',\x20Resultado:\x20','listResponseMessage','):\x20Grupo\x20','):\x20Fluxos\x20não\x20estão\x20ativados','chats.set','-instances','):\x20Query\x20params:','emit','bodyStringErrorParse','WA\x20MODULE','editFlowVariable','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','condition','recording','cacheContact','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','CORS','#9ab6c1','charAt','mkdirSync','\x27\x20não\x20encontrado\x20na\x20memória','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20Buscando\x20conversa...','Resultado\x20da\x20correspondência\x20de\x20URL:','ipv6Prefix','.url','fromObject','eventHandler','):\x20Criando\x20nova\x20conversa[createNewConversation]','startCommandWord','redis','set','$dbName','saveConversationToDatabase','PREFIX_KEY','!cmd_','rowId','updateAgent','/wa-groups','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','/media','redirect','groupUpdateSubject','mentioned','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','instanceName','Type\x20not\x20found','deleteImportedChat','bateu\x20events','startID','Last\x20message\x20not\x20found','CHATS_DELETE','request\x20received\x20in\x20updateFlowConfig','done','):\x20atualização\x20chat:\x20','AppStateSyncKeyData','integer','isListOfNumbers','Network\x20Interface\x20detected:\x20','memberAddMode','fora\x20do\x20git','STORE','3EB0','Esse\x20fluxo\x20não\x20permite\x20importação.','connect','response','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','uazapiSendMenu','groupInviteCode','request\x20received\x20in\x20starFlow','getScheduleMessageModelForOwner','flushHeaders','Connection\x20closed\x20for\x20instance:\x20','post','):Processing\x20audio',',\x20valor\x20a\x20encontrar:\x20\x22','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','query','replaceVariablesChat','Erro\x20ao\x20atualizar\x20agendamento\x20','\x1b[47m','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','composing','Instâncias\x20removidas:\x20','labels.edit','@whiskeysockets/baileys','contactHandle','All_Instances_Config','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','startsWith','instanceKeys','audio','waMonitor','audioWhatsapp',',\x20qrcodeCount:\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','editFlowBlock','logger','reorderBlocks','privacySettings',',\x20canSendMessage:\x20','detectIPv6PrefixAndInterface','throwAndLogError','request\x20received\x20in\x20allFlows','licenca','#00a1f2','):\x20Ignoring\x20group\x20messages.','collections','https://chat.whatsapp.com/','enumerable','groupParticipantsUpdate','formatVCard','processedMessagesCache','saveCreds','findGroup','Failed\x20to\x20send\x20buttons\x20message','reviver','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','getMinutes','readFileSync','requestPairingCode','pm2\x20flush','):\x20\x27Enviando\x20mídia\x20para\x20\x27','contactMessage','statusCode','\x20is\x20already\x20in\x20use.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20enviado\x20para\x20[','GUARD','flush','encoding','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Instance\x20deleted','leadInfo.atendimentoAberto','Content\x20is\x20required','createHash','test','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','/create','media','globalShow','../env.yml','fileUrl','scheduleNextCheck','fetchLabels','isJidBroadcast','networkInterface','.webp','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','findGroupInfos','removeUnusedChatFields','unavailable','replace','uazapiSendAudio','\x20\x1b[0m','not\x20loaded','The\x20instance\x20needs\x20to\x20be\x20disconnected','repeat','\x1b[31m','replaceVariables','upsertedCount','messages','):\x20Buscando\x20todos\x20os\x20fluxos...','processingGroup','createConnection','createServer','paused','equal','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','createButtonsFromValues','sharePass','Content-Type','DELETED','):\x20Removendo\x20\x27','\x5c$&','data','_hour','Error\x20while\x20deleting\x20message\x20for\x20everyone','\x20com\x20sucesso.','):\x20Procurando\x20mensagens\x20para\x20envio','Botão\x202','quotedMessage','):Notifying\x20clients\x20for\x20chat:\x20','Número\x20não\x20possui\x20WhatsApp.','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','findMany','PRESENCE_UPDATE','mediaSticker','getDevice','pt-BR','call','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','maxActives','p-queue','fetchMessages','\x1b[36m%s\x1b[0m','restrict','connectionState','keyPattern','messageTimestamp','chatLog','8vfagzs','slice','Forbidden','\x20não\x20encontrado','sleep','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','#6f7bcf','editflowreply','announcement','presence.update','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','inner','Tentativa\x20','whoCanUse','menuMessage','.\x20Aguardando\x20','/wa-message','bearer','Configured\x20new\x20IPv6:\x20','URL:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','label_jid','/wa-connection-update','deleted','variables','Erro\x20ao\x20atualizar\x20cacheInstance:','success','):Image\x20is\x20base64','updateChatWithMessage','Error\x20in\x20chatModify\x20for\x20number\x20','Module\x20-\x20ON','Rótulo\x20inválido\x20ou\x20sem\x20ID.','?timestamp=','status.instance','Deleted\x20','\x20segundos','deleteMessage','):Audio\x20converted\x20and\x20stored\x20in\x20cache','\x20}\x0a','makeCacheableSignalKeyStore','connection.update','):\x20whoCanEdit\x20after\x20validation:\x20','/*.json','scheduleMessage','nativeFlowResponseMessage','\x1b[43m','./.git/config','pushName','Erro\x20ao\x20atualizar\x20o\x20fluxo:','result','.png','\x20minutos.\x20Será\x20às\x20','\x1b[1m',',\x20Novo\x20tamanho:\x20','\x20depois\x20','connectToWhatsapp','uazapiSendMedia','joinGroupValidate','getClient','updateFlowConfig','stickerMessage','auth','fetchProfile','picture','allFlows','SEND_MESSAGE','This\x20name\x20','g.us','saveTextReply','[AUTH]\x20Database\x20is\x20not\x20enabled','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','):\x20Editando\x20edição\x20do\x20fluxo...','activatedCount','mediaKey','CONNECTION_UPDATE','editOperator','DisconnectReason','groupRequestParticipantsList','assign','inviteCodeDetails','Erro\x20ao\x20atualizar\x20o\x20flow.','importChats','readMessage','groupSettingUpdate','item','setHeader','role','createNewConversation','):\x20Deletando\x20conversa...','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','display_text','):\x20Usando\x20extensão\x20padrão:\x20','webhookModel','Erro\x20ao\x20buscar\x20Schedule\x20Messages','updateProfilePicturePrivacy','editFlowCondition','senderKeyDistributionMessage','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','fileLength','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','no-cache','Primeiro\x20Valor:\x20','silent','addReplyOption','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','leadInfo','testingWith','startFlow','E-mail:\x20','getTicketSystem','agents','getAutomateSystem','findGroups','SINGLE_SELECT','action','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','testIPv6','flowConfig','Bad\x20Request','updateMessage','):\x20Limpando\x20AutomateSystem','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Partes\x20do\x20caminho\x20FULLCHAIN:','\x27\x20não\x20encontrado','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','labelId','presenceSubscribe','Instance\x20ID:','header','queue','stopConversation','parseInt','processgoToFlow','getMonth','waUploadToServer','group-participants.update','Erro\x20ao\x20buscar\x20o\x20fluxo','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','ReplyOption\x20com\x20ID\x20','Error\x20finding\x20many\x20contacts:','flowStopMinutes','delayChatLabel_RETRY_DELAY_MS','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.',',\x20isAdmin:\x20','createJid','):\x20Flow\x20\x27','Connection','stderr','INFO','SERVER_URL','API\x20Key\x20inválida.','timeoutPromise','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','imgUrl','wuid','sendWhatsAppAudio','notas','desc','CONECTADO\x20À\x20UAZAPI','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','key','dataValidate','):\x20Entrou\x20na\x20função\x20saveReply','uuid','groupMetadata','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','sections','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','arraybuffer','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','updateGroupPicture','prepareMediaMessage','conditions','EMAIL','_fromMe','length','IPv6\x20Prefix\x20detected:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','getAllData','deleteflow','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','node-cache','mentions','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','sendMenu','buttonsResponseMessage','\x20segundos...','):\x20Buscando\x20flow,\x20id:\x20','base64','$set','refused','has','userDevicesCache','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','imported','when','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','SERVER_PORT','editflowblock','message_normalized','isCommunity','where','preview','birthtime','max','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','DATABASE_CONNECTION_HOST','admin_add','contacts.upsert','creds','announce','request\x20received\x20in\x20deleteFlow','waitingMenu_text','optionDescription','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','updateReplyOption','profilePicture','deletedCount','delayMessage','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','instances','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','padEnd','Erro\x20ao\x20iniciar\x20fluxo:\x20','instance.','authModel','/wa-presence','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','Valor\x20da\x20URL\x20recuperada:','menuExpiredMessage','some','\x1b[31m%s\x1b[0m','findContacts','):Delete\x20chat','pollUpdateMessage','The\x20global\x20api\x20key\x20must\x20be\x20set','Número:\x20','):\x20Procurando\x20conversa','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','templateButtonReplyMessage','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','quoted','request\x20body:\x20','Conversa\x20deletada\x20com\x20sucesso.','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Parando\x20aplicação...',',\x20received\x20','180GkBweM','env.KEY\x20!==\x20key','):Image\x20converted\x20to\x20WebP','Erro\x20ao\x20criar\x20fluxo','):\x20Atualizando\x20status\x20da\x20mensagem\x20','URI','reconnectTimestamps','SendScheduleMessage','none','Telefone:\x20','cleanStore','catch','leadInfo.etiquetas','caption','variable','):Hash\x20to\x20image\x20name:\x20','Database\x20update\x20result:','imageMessage','subject','router','updateAll','deleteConversation','\x27...','beautifyWithPlaceholders','GROUPS_UPDATE','.xls','protocolMessage','bodyString','public','secondValue','write','everyOne','notEmpty','Erro\x20ao\x20buscar\x20conversas','Erro\x20ao\x20deletar\x20chat:','):Converted\x20image\x20deleted','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','sendDataWebhook','BufferJSON','_month','SSL_CONF','updateChatGroupData','groupdata','toString','):\x20','findFlow','-whatsapp-api','https://api.openai.com/v1/audio/speech','cache','lastInteraction','\x20and\x20data:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','utf8','child_process','):\x20Conversa\x20atualizada\x20em\x20memória','nativeFlowMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','RemoveChatLabel','Schema','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','upperCase','convert','importChatsBatch','stack','authState','HistoryProcessed','.xlsx','toggleEphemeral','restart','Enter\x20a\x20value\x20in\x20milliseconds','del','createSectionsFromValues','):\x20lastBlockId:\x20','content','ip\x20-6\x20addr\x20add\x20','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','DATABASE_ENABLED','documentMessage','updateConversation','.X-ABLabel:Celular\x0a','saveMediaToFile','mimetype','ERROR','PRODUCT_LIST','muteEndTime','Erro\x20ao\x20atualizar\x20AutomateSystem:','Cache-Control','getTime','Erro\x20ao\x20buscar\x20fluxos:','):Business\x20profile\x20fetched','responsavelid','start','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','email','apiName','join','Fluxo\x20agendado\x20pelo\x20fluxo\x20','MAX_SAFE_INTEGER','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','pino','labels.association','floor','writeData','statusJidList','size','Router','Garbage\x20collection\x20não\x20está\x20disponível.','envYaml','buffer','Fluxo\x20id\x20\x27','quick_reply','Selecione\x20uma\x20opção','sendReaction','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','\x20quoted:\x20','updateGroupParticipantsWebhook','getStatus','eventEmitter','/config','):\x20nextBlock.uazapi.name','Internal\x20Server\x20Error','findParticipants','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','WARN','block','request\x20received\x20in\x20editFlow','):\x20whoCanUse\x20before\x20validation:\x20','):Output\x20path:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20alterar\x20fluxo','Erro\x20ao\x20editar\x20agentes','messageStubParameters','editFlow','flattenObject','messages.update','/wa-all-message','presence','reorderReplyOptions','}}\x20->\x20valor\x20não\x20encontrado','HH:mm:ss','contacts','_id','$addToSet','notMatchRegex','values','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','command','and','):\x20Criou\x20conversa\x20no\x20startFlow','messageLogs','):\x20Editando\x20variável\x20do\x20fluxo...','lastMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','/64\x20dev\x20','round','AddChatLabel','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','.wav','save','realVariables','leadInfo.','Timeout\x20exceeded','Error\x20adding\x20IPv6\x20address:\x20','MESSAGES_UPDATE','temp-','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Cache\x20instance\x20update\x20result:\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Instance\x20Name:','Db\x20Connection','findRealGroups','fromMe','Botão\x201','exit','https://api.ipify.org?format=json','sectionsToString','whatsappNumbers','cachedContacts-whatsapp','IP\x20confirmed:\x20','Falha\x20ao\x20processar\x20fetchBusinessProfile','ff:fe','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','METHODS','release','nomecompleto','):\x20Comando\x20desconhecido:\x20','admin','entries','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','find','configService','lowerCase','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','findIndex','online','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','crypto','Parando\x20aplicação,\x20atualização\x20recebida','findConversation','stopped','processConditionsTest','Cannot\x20','updateMissingCustomFields','creation','type','waitingForReplyMenu','Filtered\x20network\x20interfaces:\x20','execSync','chatHandle','Error\x20in\x20buttonsMessage\x20function:','matchRegex','awaitingApproval','express-async-errors','waInstances','):\x20alterando\x20this.AutomateSystem','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','READ','Configuração\x20SSL\x20recuperada:','every','capitalizedWords','envProcess','):\x20Iniciando\x20processReadyMessages','last','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','url','axios','available','):\x20Iniciando\x20bot...','editedMessage','Rótulo\x20deletado:\x27,\x20','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','):\x20Rótulo\x20atualizado:\x20','/instance/create','\x20tentativas.','processvaredits','CLEANING_INTERVAL','):\x20Flow\x20desativado','):Fetching\x20business\x20profile','groupadd','match','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','express','blocks','/chat','_pushName','\x1b[33m','fetchConversation','sort','groupFetchAllParticipating','getFlow','Falha\x20após\x205\x20tentativas:\x20','isConnected','longitude','updateGroupsAddPrivacy','messageId','createAndSave','updateOneById','stanzaId','updateReadReceiptsPrivacy','order','CHATS_UPDATE','verbose','default','vcard','textMessage','groupName','@broadcast','enviado\x20para','_activatedCount','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','REDIS_ENABLED','AddUserFlow','ON\x20-\x20dbName:\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','_Messages','Erro\x20ao\x20tentar\x20updateCustomFields','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','AutomateSystem','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Início','listType','.mimetype','customFields','Selecione','#dfaef0','DATABASE_CONNECTION_URI','updateProfileStatus','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x20-i\x20','_day','moreLogs','title','headers','thumbnailUrl','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','):Error\x20in\x20converting\x20audio','waitingMenu_replyOptions','\x1b[30m','GROUPS_UPSERT','.svg','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','FULLCHAIN','archived','list2','joinGroup','lastCondition','process','Erro\x20ao\x20editar\x20o\x20chat','):\x20transformedCustomFieldVariables','unreadCount','updateProfilePicture','delaySecMin','\x0aFN:','5186265lEPqDy','sendStatus','Mensagem\x20não\x20suportada','jwt','getValidWhatsAppNumbers','Not\x20allowed\x20by\x20CORS','PENDING','groupToggleEphemeral','model','ip6eui','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','getReadyToSendMessages','):\x20Current\x20Time:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x20contacts','modifiedCount','https://api.elevenlabs.io/v1/text-to-speech/','selectedOptions','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','all','chatModify','request_time','toLocaleString','webhookMap','defineProperty','hDel','app','format','blockId','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','updateGParticipant','):\x20delete\x20=\x20true','formatBRNumber','updateMany','upsertChats','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','resetReconnectionVariables','view\x20engine','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','dbConnection','Mac\x20OS','getMessage','noConnection','singleSelectReply','pollCreationMessage','findGroupInfo','DD/MM\x20HH:mm:ss','Instance\x20logged\x20out','remove','digest','The\x20property\x20cannot\x20be\x20empty','\x1b[0m','footer','normalizeMessageContent','messageHandle','global','\x20foi\x20interrompido\x20pelo\x20usuário.','@s.whatsapp.net','fetchPrivacySettings','https://uazapi-plugin.bubbleapps.io/','automateSystem','sendContact','method','updateStopChat'];a0_0x8ade=function(){return _0x63df1b;};return a0_0x8ade();}var Zi=new Se[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x33f632(0x774))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x33f632(0x774))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x21a5e4=>{const _0x1df6f1=a0_0x33f632;let _0x36f1f0='z_'+_0x21a5e4+_0x1df6f1(0x4a8);return T?.[_0x1df6f1(0x880)](_0x1df6f1(0x520),ao,_0x36f1f0);},sa=require(a0_0x33f632(0x264)),io=new sa[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x1d1b0e=>{const _0x5c288a=a0_0x33f632;let _0x62fb8a='z_'+_0x1d1b0e+'_Contacts';return T?.[_0x5c288a(0x880)](_0x5c288a(0x221),io,_0x62fb8a);},ia=require(a0_0x33f632(0x264)),gs=class{},oo=new ia[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x33f632(0x880)](gs[a0_0x33f632(0x254)],oo,a0_0x33f632(0x2f6)),ra=require(a0_0x33f632(0x264)),ms=class{},ro=new ra[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x33f632(0x880)](ms[a0_0x33f632(0x254)],ro,'instances'),ws=require(a0_0x33f632(0x264)),fs=class{},no=new ws[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.['model'](fs['name'],co,a0_0x33f632(0x342)),ca=_0x36d623=>{const _0x9684e5=a0_0x33f632;let _0x1b4795='z_'+_0x36d623+_0x9684e5(0x850);return T?.[_0x9684e5(0x880)](_0x9684e5(0x24e),no,_0x1b4795);},la=require('mongoose'),ys=class{},lo=new la[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x33f632(0x880)](ys['name'],lo,a0_0x33f632(0x4cb)),da=require(a0_0x33f632(0x264)),bs=class{},pa=new da[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x33f632(0x356)](a0_0x33f632(0x7db),function(_0x46dae1){const _0x1b49c5=a0_0x33f632;delete this['flowActive'],delete this[_0x1b49c5(0x493)],delete this[_0x1b49c5(0x4d7)],delete this['flowStopConversation'],delete this[_0x1b49c5(0x6ca)],_0x46dae1();});var ha=T?.[a0_0x33f632(0x880)](bs[a0_0x33f632(0x254)],pa,a0_0x33f632(0x279)),P=require(a0_0x33f632(0x264)),Ss=require(a0_0x33f632(0x6e1)),ze=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x33f632(0x774))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x33f632(0x92e)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x33f632(0x85a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x33f632(0x774))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0x33f632(0x774))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x33f632(0x774))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x33f632(0x774))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x3c8418=a0_0x33f632;return _0x3c8418(0x595)+Math[_0x3c8418(0x3cf)]()[_0x3c8418(0x765)](0x24)[_0x3c8418(0x63c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x33f632(0x356)](a0_0x33f632(0x392),function(_0x17220f){const _0xfa23d2=a0_0x33f632;let _0x2cfbee=this[_0xfa23d2(0x464)]();if(_0x2cfbee&&typeof _0x2cfbee==_0xfa23d2(0x8d7)&&_0xfa23d2(0x6fc)in _0x2cfbee){let _0x182cbb=_0x2cfbee[_0xfa23d2(0x6fc)];if(_0x182cbb){let _0x5e5607=new Set(),_0x56c1f5=new Set(_0x182cbb[_0xfa23d2(0x654)]?.['map'](_0x57aa1b=>_0x57aa1b[_0xfa23d2(0x254)])),_0x1836a8=JSON[_0xfa23d2(0x3f5)](_0x182cbb),_0x215f38=/{{(?!_)([^}]*)}}/g,_0x5f1cde;for(;(_0x5f1cde=_0x215f38[_0xfa23d2(0x8f1)](_0x1836a8))!==null;)_0x56c1f5[_0xfa23d2(0x6fe)](_0x5f1cde[0x1])||_0x5e5607[_0xfa23d2(0x1af)](_0x5f1cde[0x1]);_0x5e5607[_0xfa23d2(0x7a4)]>0x0?(console[_0xfa23d2(0x909)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x5e5607)),_0x182cbb['variablesNotFound']=Array['from'](_0x5e5607)):_0x182cbb['variablesNotFound']=[],this[_0xfa23d2(0x2c6)]({'$set':_0x182cbb});}}_0x17220f();});var Me=T?.[a0_0x33f632(0x880)](Ms[a0_0x33f632(0x254)],ba,a0_0x33f632(0x67c)),mo=new P[(a0_0x33f632(0x774))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x33f632(0x29e)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x33f632(0x1c9)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x35c69b=>{const _0x537fa7=a0_0x33f632;let _0x5271d1='z_'+_0x35c69b+'_FlowHistorico';return T?.[_0x537fa7(0x880)](_0x537fa7(0x914),fo,_0x5271d1);},wo=new P[(a0_0x33f632(0x774))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x33f632(0x1d5)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x3200f4=>{const _0x26b5da=a0_0x33f632;let _0x87b121='z_'+_0x3200f4+'_ScheduleMessages';return T?.[_0x26b5da(0x880)](_0x26b5da(0x401),yo,_0x87b121);},vs=class{},bo=new P[(a0_0x33f632(0x774))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x33f632(0x774))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x33f632(0x8cb)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x33f632(0x774))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.[a0_0x33f632(0x880)](vs[a0_0x33f632(0x254)],Eo,a0_0x33f632(0x853)),Ca=require(a0_0x33f632(0x264)),No=new Ca[(a0_0x33f632(0x774))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x5afaf6=>{const _0x580302=a0_0x33f632;let _0x548019='z_'+_0x5afaf6+_0x580302(0x8dc);return T?.['model']('LabelModel',No,_0x548019);},O=class{constructor(_0x4b0b0a){const _0x19518b=a0_0x33f632;this[_0x19518b(0x4f7)]=_0x4b0b0a[_0x19518b(0x939)](_0x19518b(0x27e));}};function A(_0x52aca){const _0x2572d9=a0_0x33f632;let _0x2e842c={};for(let [_0x5202bd,_0x16b0b7]of Object[_0x2572d9(0x7f8)](_0x52aca))if(typeof _0x16b0b7==_0x2572d9(0x8d7)&&!Array[_0x2572d9(0x3cd)](_0x16b0b7)){for(let [_0x16d4fb,_0xfd115e]of Object[_0x2572d9(0x7f8)](_0x16b0b7))_0x2e842c[_0x5202bd+'.'+_0x16d4fb]=_0xfd115e;}else _0x2e842c[_0x5202bd]=_0x16b0b7;return _0x2e842c;}var He=class{constructor(_0x1c6337,_0x84dfd1,_0x159ee8,_0x3e815a,_0x3c49b0,_0x1ff820,_0x1cb090,_0xf3b654,_0xe71670,_0x4fe057,_0x51ca8f,_0x33f862,_0x105651,_0x517370){const _0x3f3969=a0_0x33f632;this[_0x3f3969(0x4b4)]=_0x1c6337,this[_0x3f3969(0x2cb)]=_0x84dfd1,this[_0x3f3969(0x335)]=_0x159ee8,this[_0x3f3969(0x580)]=_0x3e815a,this[_0x3f3969(0x7d2)]=_0x3c49b0,this[_0x3f3969(0x279)]=_0x1ff820,this['auth']=_0x1cb090,this[_0x3f3969(0x229)]=_0xf3b654,this[_0x3f3969(0x2ec)]=_0xe71670,this[_0x3f3969(0x55e)]=_0x4fe057,this[_0x3f3969(0x4a5)]=_0x51ca8f,this[_0x3f3969(0x667)]=_0x33f862,this['automateSystem']=_0x105651,this[_0x3f3969(0x8f3)]=_0x517370;}get[a0_0x33f632(0x4ed)](){const _0x13879a=a0_0x33f632;return this[_0x13879a(0x8f3)];}},Ke=class{},Qe=class extends O{['getMessageModelForOwner'](_0x56d87f){return ca(_0x56d87f);}async[a0_0x33f632(0x37d)](_0x13e8f7,_0x945c09){const _0x312fc1=a0_0x33f632;if(_0x13e8f7[_0x312fc1(0x6ee)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x312fc1(0x397)](_0x945c09)[_0x312fc1(0x433)]([..._0x13e8f7]))['length']};}catch(_0x2ceb13){return _0x2ceb13;}}async[a0_0x33f632(0x7fa)](_0x1312a0,_0x35b227){const _0x4528a4=a0_0x33f632;try{let _0x4c1dd0=this[_0x4528a4(0x397)](_0x35b227),_0x3f59b3=A(_0x1312a0[_0x4528a4(0x708)]);return await _0x4c1dd0[_0x4528a4(0x7fa)](_0x3f59b3)[_0x4528a4(0x835)]({'messageTimestamp':-0x1})[_0x4528a4(0x52a)](_0x1312a0?.[_0x4528a4(0x52a)]??0x0)[_0x4528a4(0x494)]();}catch{return[];}}async['delete'](_0x18172e,_0x40adc2){const _0x39592f=a0_0x33f632;try{let _0x404c69=this[_0x39592f(0x397)](_0x40adc2),_0x3b951f=A(_0x18172e['where']);await _0x404c69[_0x39592f(0x3c9)](_0x3b951f);}catch(_0x184286){console[_0x39592f(0x90c)](_0x184286);}}async[a0_0x33f632(0x1df)](_0x6a418f,_0x28f250,_0x102ba6){const _0x1b2e53=a0_0x33f632;try{let _0x126628=this[_0x1b2e53(0x397)](_0x102ba6),_0x511555=A(_0x6a418f[_0x1b2e53(0x708)]);return await _0x126628[_0x1b2e53(0x392)](_0x511555,{'$set':_0x28f250},{'new':!0x0});}catch(_0x592c4e){throw console[_0x1b2e53(0x90c)](_0x592c4e),_0x592c4e;}}async[a0_0x33f632(0x433)](_0x3b68c1,_0x5f0a5e){const _0x36c035=a0_0x33f632;if(_0x3b68c1[_0x36c035(0x6ee)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x36c035(0x397)](_0x5f0a5e)[_0x36c035(0x433)]([..._0x3b68c1]))[_0x36c035(0x6ee)]};}catch(_0x2cd414){return console[_0x36c035(0x257)](_0x36c035(0x52d),_0x2cd414),_0x2cd414;}}async[a0_0x33f632(0x37f)](_0x124de8){const _0x102570=a0_0x33f632;try{return await this[_0x102570(0x397)](_0x124de8)[_0x102570(0x4c3)]['drop'](),{'success':!0x0};}catch(_0x4e787b){return console[_0x102570(0x90c)](_0x4e787b),{'success':!0x1,'error':_0x4e787b};}}},Ds=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x33f632(0x5c7))),Fe=require('fs'),j=I(require('path')),K=I(require(a0_0x33f632(0x81f))),Ti=require(a0_0x33f632(0x6e1)),Ii=I(require(a0_0x33f632(0x360))),_i=I(require('qrcode-terminal')),Ea=['imageMessage',a0_0x33f632(0x788),'audioMessage',a0_0x33f632(0x53a),a0_0x33f632(0x678)],Na=[a0_0x33f632(0x1fd),'documentWithCaptionMessage',a0_0x33f632(0x3b0),a0_0x33f632(0x43e)],ks=require('os'),Ft=I(require(a0_0x33f632(0x79f))),Ue=require('child_process'),Oi=require(a0_0x33f632(0x4e3)),pe=I(require(a0_0x33f632(0x264))),J=require(a0_0x33f632(0x237)),ce=class{constructor(_0x42c95c,_0x2308c3,_0x1ec0f5){const _0x594a5f=a0_0x33f632;this['jid']=_0x42c95c,this[_0x594a5f(0x375)]=_0x2308c3,this[_0x594a5f(0x254)]=_0x1ec0f5;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x33f632(0x82f))),$a=require('fs'),Ra=require(a0_0x33f632(0x92d));async function _e(_0x570d8d){const _0x5d77e3=a0_0x33f632;let _0xa0375e=G[_0x5d77e3(0x812)][_0x570d8d];if(L[_0x5d77e3(0x399)]){let _0x595354=T[_0x5d77e3(0x676)]()['db'](L[_0x5d77e3(0x231)][_0x5d77e3(0x1cc)]+_0x5d77e3(0x577))[_0x5d77e3(0x4c3)](_0x570d8d);return _0xa0375e||(await _0x595354[_0x5d77e3(0x7fa)]({})[_0x5d77e3(0x471)]())[_0x5d77e3(0x6ee)]>0x0;}return _0xa0375e||(0x0,$a[_0x5d77e3(0x2f5)])((0x0,Ra[_0x5d77e3(0x79a)])(be,_0x570d8d));}async function Aa(_0x536c0c,_0x5bbb98,_0x285ddf){const _0x319cdf=a0_0x33f632;if(_0x536c0c[_0x319cdf(0x4af)]['includes'](_0x319cdf(0x826))||_0x536c0c['originalUrl'][_0x319cdf(0x51a)](_0x319cdf(0x446))||_0x536c0c['originalUrl'][_0x319cdf(0x51a)]('/exit')||_0x536c0c['originalUrl'][_0x319cdf(0x51a)]('/config')||_0x536c0c[_0x319cdf(0x4af)][_0x319cdf(0x51a)](_0x319cdf(0x3df))||_0x536c0c[_0x319cdf(0x4af)][_0x319cdf(0x51a)]('/instance/connectionState')||_0x536c0c['originalUrl'][_0x319cdf(0x51a)](_0x319cdf(0x522)))return _0x285ddf();let _0x15250a=_0x536c0c[_0x319cdf(0x43b)];if(!_0x15250a?.[_0x319cdf(0x59f)])throw new m(_0x319cdf(0x3ed));if(!await _e(_0x15250a[_0x319cdf(0x59f)]))throw new U(_0x319cdf(0x53e)+_0x15250a[_0x319cdf(0x59f)]+_0x319cdf(0x370));_0x285ddf();}async function Ta(_0x12894c,_0x5bfac2,_0x1ef2c5){const _0x37e3f1=a0_0x33f632;if(_0x12894c['originalUrl'][_0x37e3f1(0x51a)](_0x37e3f1(0x826))){let _0x57fdf2=_0x12894c[_0x37e3f1(0x344)];if(await _e(_0x57fdf2[_0x37e3f1(0x59f)]))throw new X(_0x37e3f1(0x67e)+_0x57fdf2[_0x37e3f1(0x59f)]+_0x37e3f1(0x5ef));G['waInstances'][_0x57fdf2['instanceName']]&&delete G[_0x37e3f1(0x812)][_0x57fdf2['instanceName']];}_0x1ef2c5();}var Ia=require(a0_0x33f632(0x237)),_a=I(require('jsonwebtoken')),ot=a0_0x33f632(0x923),Ro=new $(a0_0x33f632(0x5f2));async function Ao(_0x5c41c0,_0xcb1704,_0xfee15a){const _0xdf71e=a0_0x33f632;let _0x11a06a=_0x5c41c0[_0xdf71e(0x939)](_0xdf71e(0x56e));if(_0x11a06a&&S[_0xdf71e(0x939)](_0xdf71e(0x329))[_0xdf71e(0x3ac)][_0xdf71e(0x487)]!==_0x11a06a)throw new se();if(S[_0xdf71e(0x939)](_0xdf71e(0x329))['API_KEY'][_0xdf71e(0x487)]===_0x11a06a)return _0xfee15a();if((_0x5c41c0[_0xdf71e(0x4af)]['includes'](_0xdf71e(0x826))||_0x5c41c0[_0xdf71e(0x4af)][_0xdf71e(0x51a)](_0xdf71e(0x446)))&&!_0x11a06a)throw new X(_0xdf71e(0x37b),_0xdf71e(0x72c));let _0x1c121b=S['get'](_0xdf71e(0x329))[_0xdf71e(0x4ea)];try{let [_0x1f9de0,_0x4ef3aa]=_0x5c41c0[_0xdf71e(0x939)](_0xdf71e(0x4b8))[_0xdf71e(0x405)]('\x20');if(_0x1f9de0['toLowerCase']()!==_0xdf71e(0x64c))throw new se();if(!(0x0,Ia[_0xdf71e(0x4c6)])(_0x4ef3aa))throw new se();let _0xa73030=_0x5c41c0['params'],_0x386a59=_a[_0xdf71e(0x844)]['verify'](_0x4ef3aa,_0x1c121b['SECRET'],{'ignoreExpiration':_0x1c121b['EXPIRIN_IN']===0x0});if(_0xa73030['instanceName']!==_0x386a59['instanceName']||ot!==_0x386a59[_0xdf71e(0x799)])throw new se();return _0xfee15a();}catch(_0xaf0be0){throw Ro['error'](_0xaf0be0),new se();}}async function To(_0x4e9a0f,_0x4d6696,_0x449777){const _0x1188e0=a0_0x33f632;let _0x1cd422=S[_0x1188e0(0x939)]('AUTHENTICATION')[_0x1188e0(0x3ac)],_0x5a5658=_0x4e9a0f[_0x1188e0(0x939)](_0x1188e0(0x56e));if(_0x1cd422[_0x1188e0(0x487)]===_0x5a5658)return _0x449777();if(_0x4e9a0f[_0x1188e0(0x4af)][_0x1188e0(0x51a)]('/instance/create')){let _0x3bfa31=xa,_0x21c36a=_0x4e9a0f[_0x1188e0(0x344)]['instanceName'];if(_0x3bfa31&&_0x21c36a['toLowerCase']()['startsWith'](_0x3bfa31[_0x1188e0(0x4a2)]()))return _0x449777();if(!_0x5a5658)throw new X(_0x1188e0(0x37b),_0x1188e0(0x72c));}if(_0x4e9a0f[_0x1188e0(0x4af)][_0x1188e0(0x51a)](_0x1188e0(0x446))&&!_0x5a5658)throw new X(_0x1188e0(0x37b),_0x1188e0(0x72c));if(_0x4e9a0f[_0x1188e0(0x4af)][_0x1188e0(0x51a)]('/exit')&&!_0x5a5658)throw new X(_0x1188e0(0x37b),_0x1188e0(0x72c));if(_0x4e9a0f[_0x1188e0(0x4af)]['includes'](_0x1188e0(0x7b2))&&!_0x5a5658)throw new X('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x387e88=_0x4e9a0f['params'],_0x4a480c=await me[_0x1188e0(0x679)]['find'](_0x387e88[_0x1188e0(0x59f)]);if(_0x4a480c&&_0x4a480c[_0x1188e0(0x56e)]===_0x5a5658)return _0x449777();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0x33f632(0x82f)),C=require('uuid'),v=(..._0x3ee7fd)=>{const _0x1a572a=a0_0x33f632;let _0x3ad93e={};return _0x3ee7fd[_0x1a572a(0x1d3)](_0x4048ee=>_0x3ad93e[_0x4048ee]={'minLength':0x1,'description':_0x1a572a(0x3a4)+_0x4048ee+_0x1a572a(0x311)}),{'if':{'propertyNames':{'enum':[..._0x3ee7fd]}},'then':{'properties':_0x3ad93e}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'instanceName':{'type':'string'}},...v(a0_0x33f632(0x59f))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'oldToken':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x2a7)],...v(a0_0x33f632(0x2a7))},Ic={'properties':{'key':{'type':a0_0x33f632(0x8d7),'properties':{'id':{'type':a0_0x33f632(0x562)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x33f632(0x330),a0_0x33f632(0x7e8)],...v('id',a0_0x33f632(0x330))},'message':{'type':'object'}}},ae={'properties':{'delay':{'type':a0_0x33f632(0x5aa),'description':a0_0x33f632(0x780)},'presence':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x609),'available','composing','recording','paused']}}},Z={'type':a0_0x33f632(0x562),'description':a0_0x33f632(0x4de)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x33f632(0x8d7),'properties':{'text':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x8bc)],...v(a0_0x33f632(0x8bc))}},'required':['textMessage',a0_0x33f632(0x3ae)]},Da={'type':'string','pattern':a0_0x33f632(0x6d6),'description':a0_0x33f632(0x4de)},_c={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x33f632(0x8d7),'properties':{'text':{'type':'string'}},'required':['text'],...v(a0_0x33f632(0x8bc))}},'required':[a0_0x33f632(0x846),'number']},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x33f632(0x8d7),'properties':{'mediatype':{'type':'string','enum':[a0_0x33f632(0x1b7),'document',a0_0x33f632(0x8e6),a0_0x33f632(0x5cd)]},'media':{'type':'string'},'fileName':{'type':a0_0x33f632(0x562)},'caption':{'type':'string'}},'required':['mediatype',a0_0x33f632(0x5fd)],...v(a0_0x33f632(0x45d),a0_0x33f632(0x747),'media')}},'required':[a0_0x33f632(0x28b),a0_0x33f632(0x3ae)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x33f632(0x1b7)],...v(a0_0x33f632(0x1b7))}},'required':[a0_0x33f632(0x678),a0_0x33f632(0x3ae)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x33f632(0x8d7),'properties':{'type':{'type':a0_0x33f632(0x562),'enum':['text','image',a0_0x33f632(0x5cd),a0_0x33f632(0x8e6)]},'content':{'type':'string'},'caption':{'type':a0_0x33f632(0x562)},'backgroundColor':{'type':a0_0x33f632(0x562)},'font':{'type':a0_0x33f632(0x5aa),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x33f632(0x48c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33f632(0x562),'pattern':a0_0x33f632(0x92c),'description':a0_0x33f632(0x4a3)}},'allContacts':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':[a0_0x33f632(0x809),a0_0x33f632(0x784)],...v(a0_0x33f632(0x809),'content')}},'required':[a0_0x33f632(0x1b4)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x33f632(0x8d7),'properties':{'mediatype':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x1b7),'document',a0_0x33f632(0x8e6),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x33f632(0x562)},'caption':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x354),a0_0x33f632(0x5fd)],...v('fileName','caption',a0_0x33f632(0x5fd))}},'required':[a0_0x33f632(0x28b),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x33f632(0x8d7),'properties':{'audio':{'type':a0_0x33f632(0x562)}},'required':['audio'],...v(a0_0x33f632(0x5cd))}},'required':[a0_0x33f632(0x1e4),'number']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x33f632(0x8d7),'properties':{'name':{'type':a0_0x33f632(0x562)},'selectableCount':{'type':a0_0x33f632(0x3ae)},'values':{'type':a0_0x33f632(0x48c),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x33f632(0x254),'selectableCount','values'],...v(a0_0x33f632(0x254),a0_0x33f632(0x251),a0_0x33f632(0x7cc))}},'required':['number',a0_0x33f632(0x917)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x33f632(0x8d7),'properties':{'text':{'type':a0_0x33f632(0x562)},'choices':{'type':'array','uniqueItems':!0x0}},'required':['text',a0_0x33f632(0x25b)],...v(a0_0x33f632(0x8bc),'choices')}},'required':[a0_0x33f632(0x3ae),'menuMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x33f632(0x8d7),'properties':{'latitude':{'type':a0_0x33f632(0x3ae)},'longitude':{'type':a0_0x33f632(0x3ae)},'name':{'type':a0_0x33f632(0x562)},'address':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x54b),'longitude'],...v(a0_0x33f632(0x254),'addresss')}},'required':['number','locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x33f632(0x8d7),'properties':{'title':{'type':a0_0x33f632(0x562)},'description':{'type':a0_0x33f632(0x562)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x33f632(0x562)},'sections':{'type':a0_0x33f632(0x48c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33f632(0x8d7),'properties':{'title':{'type':a0_0x33f632(0x562)},'rows':{'type':a0_0x33f632(0x48c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33f632(0x8d7),'properties':{'title':{'type':a0_0x33f632(0x562)},'description':{'type':a0_0x33f632(0x562)},'rowId':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x862),a0_0x33f632(0x596)],...v(a0_0x33f632(0x862),a0_0x33f632(0x596))}}},'required':[a0_0x33f632(0x862),a0_0x33f632(0x565)],...v(a0_0x33f632(0x862))}}},'required':[a0_0x33f632(0x862),a0_0x33f632(0x1d6),a0_0x33f632(0x511),a0_0x33f632(0x6e4)],...v('title',a0_0x33f632(0x1d6),a0_0x33f632(0x511),a0_0x33f632(0x533))}},'required':[a0_0x33f632(0x3ae),a0_0x33f632(0x2e5)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x33f632(0x48c),'items':{'type':a0_0x33f632(0x8d7),'properties':{'fullName':{'type':a0_0x33f632(0x562)},'phoneNumber':{'type':a0_0x33f632(0x562),'minLength':0xa}},'required':[a0_0x33f632(0x913),a0_0x33f632(0x30e)],...v(a0_0x33f632(0x913))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x33f632(0x5ed)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'reactionMessage':{'type':a0_0x33f632(0x8d7),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x33f632(0x562)},'remoteJid':{'type':a0_0x33f632(0x562)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x33f632(0x330),a0_0x33f632(0x7e8)],...v('id',a0_0x33f632(0x330))},'reaction':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x6de),a0_0x33f632(0x39a)],...v(a0_0x33f632(0x39a))}},'required':[a0_0x33f632(0x2dd)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x33f632(0x92c),'description':a0_0x33f632(0x38f)}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x33f632(0x562)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x33f632(0x330)],...v('id',a0_0x33f632(0x330))}}},'required':[a0_0x33f632(0x466)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'privacySettings':{'type':a0_0x33f632(0x8d7),'properties':{'readreceipts':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x88b),a0_0x33f632(0x742)]},'profile':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x88b),a0_0x33f632(0x7c8),'contact_blacklist',a0_0x33f632(0x742)]},'status':{'type':a0_0x33f632(0x562),'enum':['all',a0_0x33f632(0x7c8),a0_0x33f632(0x305),a0_0x33f632(0x742)]},'online':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x88b),a0_0x33f632(0x218)]},'last':{'type':'string','enum':[a0_0x33f632(0x88b),'contacts',a0_0x33f632(0x305),a0_0x33f632(0x742)]},'groupadd':{'type':'string','enum':[a0_0x33f632(0x88b),a0_0x33f632(0x7c8),a0_0x33f632(0x305),a0_0x33f632(0x742)]}},'required':['readreceipts',a0_0x33f632(0x4f5),a0_0x33f632(0x3ee),a0_0x33f632(0x7ff),a0_0x33f632(0x81b),a0_0x33f632(0x82c)],...v(a0_0x33f632(0x43c),a0_0x33f632(0x4f5),a0_0x33f632(0x3ee),a0_0x33f632(0x7ff),'last',a0_0x33f632(0x82c))}},'required':[a0_0x33f632(0x5d5)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x33f632(0x8d7),'properties':{'id':{'type':a0_0x33f632(0x562)},'remoteJid':{'type':a0_0x33f632(0x562)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x33f632(0x330)],...v('id',a0_0x33f632(0x330))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x33f632(0x6de)],...v('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x33f632(0x7d4),a0_0x33f632(0x938)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'id':{'type':a0_0x33f632(0x562)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x33f632(0x562)},'participant':{'type':'string'}},'required':['id',a0_0x33f632(0x7e8),a0_0x33f632(0x330)],...v('id',a0_0x33f632(0x330),a0_0x33f632(0x1bf))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'where':{'type':a0_0x33f632(0x8d7),'properties':{'_id':{'type':a0_0x33f632(0x562),'minLength':0x1},'pushName':{'type':a0_0x33f632(0x562),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...v(a0_0x33f632(0x7c9),'id','pushName')}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'name':{'type':a0_0x33f632(0x562)}},...v('name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'status':{'type':a0_0x33f632(0x562)}},...v(a0_0x33f632(0x3ee))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x33f632(0x562)}}},ei={'type':a0_0x33f632(0x8d7),'properties':{'wuid':{'type':a0_0x33f632(0x562)},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x33f632(0x562)},'isBusiness':{'type':a0_0x33f632(0x4f3)}}},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x33f632(0x8d7),'properties':{'_id':{'type':a0_0x33f632(0x562),'minLength':0x1},'key':{'type':a0_0x33f632(0x8d7),'if':{'propertyNames':{'enum':[a0_0x33f632(0x7e8),a0_0x33f632(0x330),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x33f632(0x562),'minLength':0x1,'description':a0_0x33f632(0x8ab)},'id':{'type':'string','minLength':0x1,'description':a0_0x33f632(0x8ab)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x33f632(0x8d7)}},...v(a0_0x33f632(0x7c9))},'limit':{'type':a0_0x33f632(0x5aa)}}},xc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x33f632(0x562)},'remoteJid':{'type':'string'},'id':{'type':a0_0x33f632(0x562)},'fromMe':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x33f632(0x562)},'status':{'type':'string','enum':[a0_0x33f632(0x78d),a0_0x33f632(0x87e),'SERVER_ACK',a0_0x33f632(0x505),a0_0x33f632(0x815),a0_0x33f632(0x314)]}},...v(a0_0x33f632(0x7c9),'remoteJid','id','status')},'limit':{'type':a0_0x33f632(0x5aa)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'number':{...Z},'presence':{'type':a0_0x33f632(0x562),'enum':['unavailable',a0_0x33f632(0x820),'composing',a0_0x33f632(0x57f),a0_0x33f632(0x618)]}},'required':[a0_0x33f632(0x7c4),a0_0x33f632(0x3ae)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x33f632(0x562)},'description':{'type':'string'},'profilePicture':{'type':a0_0x33f632(0x562)},'participants':{'type':a0_0x33f632(0x48c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x33f632(0x523),'description':a0_0x33f632(0x25c)}}},'required':['subject',a0_0x33f632(0x21b)],...v('subject',a0_0x33f632(0x1d6),a0_0x33f632(0x717))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':a0_0x33f632(0x562),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x33f632(0x8fa)],...v(a0_0x33f632(0x8fa))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x1af),a0_0x33f632(0x8a9),a0_0x33f632(0x270),a0_0x33f632(0x3be),'reject',a0_0x33f632(0x35c)]},'participants':{'type':a0_0x33f632(0x48c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x33f632(0x562),'minLength':0xa,'pattern':a0_0x33f632(0x523),'description':a0_0x33f632(0x25c)}}},'required':[a0_0x33f632(0x8fa),a0_0x33f632(0x6af),'participants'],...v(a0_0x33f632(0x8fa),'action')},oi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x33f632(0x935)],...v(a0_0x33f632(0x8fa),a0_0x33f632(0x935))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x33f632(0x562)},'image':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x8fa),a0_0x33f632(0x1b7)],...v(a0_0x33f632(0x8fa),'image')},ni={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':a0_0x33f632(0x562)},'description':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x8fa),'description'],...v(a0_0x33f632(0x8fa),'description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x33f632(0x562)}},'required':[a0_0x33f632(0x8fa),a0_0x33f632(0x254)],...v(a0_0x33f632(0x8fa),a0_0x33f632(0x254))},li={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':a0_0x33f632(0x562)},'setting':{'type':a0_0x33f632(0x562),'enum':[a0_0x33f632(0x643),a0_0x33f632(0x48f),'unlocked','locked']}},'required':['groupJid',a0_0x33f632(0x1d9)],...v('groupJid',a0_0x33f632(0x1d9))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'groupJid':{'type':'string'},'restrict':{'type':'boolean'},'announce':{'type':a0_0x33f632(0x4f3)},'memberAddMode':{'type':a0_0x33f632(0x4f3)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x33f632(0x5aa),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x33f632(0x562)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x33f632(0x406)],...v(a0_0x33f632(0x406))},di={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'url':{'type':a0_0x33f632(0x562)},'enabled':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':[a0_0x33f632(0x81e),a0_0x33f632(0x1d7)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x33f632(0x8d7),'properties':{'local_map':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x33f632(0x4f3),'enum':[!0x0,!0x1]}},'required':[a0_0x33f632(0x55f),a0_0x33f632(0x35b),a0_0x33f632(0x1b0),a0_0x33f632(0x2f9),'MESSAGES_UPDATE',a0_0x33f632(0x463),'SEND_MESSAGE',a0_0x33f632(0x8d1),a0_0x33f632(0x2de),a0_0x33f632(0x1eb),'PRESENCE_UPDATE',a0_0x33f632(0x37a),a0_0x33f632(0x8e1),a0_0x33f632(0x842),a0_0x33f632(0x5a5),a0_0x33f632(0x686),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x33f632(0x388)],...v('local_map',a0_0x33f632(0x35b),a0_0x33f632(0x1b0),a0_0x33f632(0x2f9),'MESSAGES_UPDATE',a0_0x33f632(0x463),a0_0x33f632(0x67d),a0_0x33f632(0x8d1),a0_0x33f632(0x2de),'CONTACTS_UPDATE',a0_0x33f632(0x62c),a0_0x33f632(0x37a),'CHATS_UPSERT',a0_0x33f632(0x842),a0_0x33f632(0x5a5),a0_0x33f632(0x686),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x33f632(0x52c)](_0x50e567){return aa(_0x50e567);}async['insert'](_0x4ccdb6){const _0xd75233=a0_0x33f632;if(_0x4ccdb6[_0xd75233(0x6ee)]!==0x0)try{return{'insertCount':(await this[_0xd75233(0x52c)](_0x4ccdb6[0x0][_0xd75233(0x47d)])['insertMany']([..._0x4ccdb6]))['length']};}catch(_0x5600a2){return _0x5600a2;}}async['delete'](_0x25220b,_0x3bf50b){const _0x201eb7=a0_0x33f632;try{return{'deletedCount':(await this[_0x201eb7(0x52c)](_0x3bf50b)[_0x201eb7(0x3c9)]({..._0x25220b[_0x201eb7(0x708)]}))['deletedCount']};}catch(_0xe44b0b){return{'error':_0xe44b0b?.[_0x201eb7(0x765)]()};}}async[a0_0x33f632(0x1df)](_0x337b7b,_0x3c6b66){const _0xcf9d43=a0_0x33f632;try{if(_0x337b7b['length']===0x0)return;let _0x459eff=this[_0xcf9d43(0x52c)](_0x3c6b66),_0x1262ec=_0x337b7b[_0xcf9d43(0x3dc)](_0x43aac0=>({'updateOne':{'filter':{'_id':_0x43aac0[_0xcf9d43(0x7c9)],'owner':_0x3c6b66},'update':{..._0x43aac0}}})),{modifiedCount:_0xb134e5}=await _0x459eff[_0xcf9d43(0x921)](_0x1262ec);return{'insertCount':_0xb134e5};}catch{return;}}async[a0_0x33f632(0x7fa)](_0x24245a,_0x28f05f){const _0x242c02=a0_0x33f632;try{let _0x136fe4=this[_0x242c02(0x52c)](_0x28f05f),_0x407a9f=A(_0x24245a[_0x242c02(0x708)]);return await _0x136fe4[_0x242c02(0x7fa)](_0x407a9f)[_0x242c02(0x52a)](_0x24245a?.[_0x242c02(0x52a)]??0x0)[_0x242c02(0x494)]();}catch{return[];}}async[a0_0x33f632(0x91c)](_0x2d86cb,_0x2672ff){const _0x41ccb8=a0_0x33f632;try{let _0x1f686b=this[_0x41ccb8(0x52c)](_0x2672ff),_0x551278=A(_0x2d86cb[_0x41ccb8(0x708)]);return await _0x1f686b[_0x41ccb8(0x91c)](_0x551278)['lean']();}catch{return null;}}async[a0_0x33f632(0x37f)](_0x3a0ee5){const _0x1794d7=a0_0x33f632;try{return await this[_0x1794d7(0x52c)](_0x3a0ee5)[_0x1794d7(0x4c3)][_0x1794d7(0x4e6)](),{'success':!0x0};}catch(_0x343e2e){return console['error'](_0x343e2e),{'success':!0x1,'error':_0x343e2e};}}},ct=require('jsonschema'),Vc=require(a0_0x33f632(0x811)),$s=new $(a0_0x33f632(0x2b2)),V=class{[a0_0x33f632(0x320)](_0x1c1d30,_0x459277=!0x0){const _0x458418=a0_0x33f632;let _0x52588c='/'+_0x1c1d30;return _0x459277&&(_0x52588c+=_0x458418(0x2e2)),_0x52588c;}async[a0_0x33f632(0x6df)](_0x535ea3){const _0x5bb05c=a0_0x33f632;let {request:_0xfb880b,schema:_0x68b71b,ClassRef:_0x1ad598,execute:_0x34326b}=_0x535ea3,_0x44b002=new _0x1ad598(),_0x4b46b1=_0xfb880b[_0x5bb05c(0x344)],_0x5720c4=_0xfb880b[_0x5bb05c(0x43b)];_0xfb880b?.[_0x5bb05c(0x5bf)]&&Object[_0x5bb05c(0x516)](_0xfb880b[_0x5bb05c(0x5bf)])['length']>0x0&&Object[_0x5bb05c(0x68a)](_0x5720c4,_0xfb880b[_0x5bb05c(0x5bf)]),_0xfb880b[_0x5bb05c(0x4af)]['includes'](_0x5bb05c(0x826))&&Object['assign'](_0x5720c4,_0x4b46b1),Object['assign'](_0x44b002,_0x4b46b1);let _0x556c9c=_0x68b71b?(0x0,ct[_0x5bb05c(0x268)])(_0x44b002,_0x68b71b):{'valid':!0x0,'errors':[]};if(!_0x556c9c['valid']){let _0x4592be=_0x556c9c[_0x5bb05c(0x1a9)][_0x5bb05c(0x3dc)](({property:_0x3a3314,stack:_0x3e5a49,schema:_0x1215eb})=>{const _0x1c3d10=_0x5bb05c;let _0x475ce2;return _0x1215eb[_0x1c3d10(0x1d6)]?_0x475ce2=_0x1215eb['description']:_0x475ce2=_0x3e5a49[_0x1c3d10(0x60a)](_0x1c3d10(0x71f),''),{'property':_0x3a3314[_0x1c3d10(0x60a)]('instance.',''),'message':_0x475ce2};});throw $s[_0x5bb05c(0x90c)]([..._0x4592be]),new m(..._0x4592be);}return await _0x34326b(_0x5720c4,_0x44b002);}async[a0_0x33f632(0x296)](_0xfbbdce){const _0xa95a9b=a0_0x33f632;let {request:_0x39ed9e,ClassRef:_0x50b5eb,schema:_0x479773,execute:_0x31b6c2}=_0xfbbdce,_0x8cf754=_0x39ed9e[_0xa95a9b(0x5bf)];if(!_0x8cf754?.[_0xa95a9b(0x8fa)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0xa95a9b(0x207));let _0x329ef4=_0x39ed9e[_0xa95a9b(0x43b)],_0x86825d=_0x39ed9e[_0xa95a9b(0x344)],_0x40a170=new _0x50b5eb();Object[_0xa95a9b(0x68a)](_0x86825d,_0x8cf754),Object[_0xa95a9b(0x68a)](_0x40a170,_0x86825d);let _0x42b1c0=(0x0,ct[_0xa95a9b(0x268)])(_0x40a170,_0x479773);if(!_0x42b1c0[_0xa95a9b(0x29a)]){let _0x3a1f88=_0x42b1c0[_0xa95a9b(0x1a9)][_0xa95a9b(0x3dc)](({property:_0x3570d3,stack:_0x569dbb,schema:_0x322a42})=>{const _0xf031c3=_0xa95a9b;let _0x1f9af3;return _0x322a42[_0xf031c3(0x1d6)]?_0x1f9af3=_0x322a42[_0xf031c3(0x1d6)]:_0x1f9af3=_0x569dbb[_0xf031c3(0x60a)](_0xf031c3(0x71f),''),{'property':_0x3570d3['replace'](_0xf031c3(0x71f),''),'message':_0x1f9af3};});throw $s[_0xa95a9b(0x90c)]([..._0x3a1f88]),new m(..._0x3a1f88);}return await _0x31b6c2(_0x329ef4,_0x40a170);}async[a0_0x33f632(0x675)](_0x205a72){const _0x3963a0=a0_0x33f632;let {request:_0x5b8846,ClassRef:_0x14d5c9,schema:_0x370e37,execute:_0x12826a}=_0x205a72,_0x4b3a55=_0x5b8846['body'];if(!_0x4b3a55?.[_0x3963a0(0x406)])throw new m(_0x3963a0(0x775),_0x3963a0(0x79e));let _0x13530a=_0x5b8846[_0x3963a0(0x43b)],_0x17544f=_0x5b8846['body'],_0x42abc4=new _0x14d5c9();Object[_0x3963a0(0x68a)](_0x17544f,_0x4b3a55),Object['assign'](_0x42abc4,_0x17544f);let _0xe064f0=(0x0,ct[_0x3963a0(0x268)])(_0x42abc4,_0x370e37);if(!_0xe064f0[_0x3963a0(0x29a)]){let _0x5a556a=_0xe064f0[_0x3963a0(0x1a9)][_0x3963a0(0x3dc)](({property:_0x138652,stack:_0x35e326,schema:_0x2eccd1})=>{const _0x27cf8d=_0x3963a0;let _0x1d7aeb;return _0x2eccd1[_0x27cf8d(0x1d6)]?_0x1d7aeb=_0x2eccd1[_0x27cf8d(0x1d6)]:_0x1d7aeb=_0x35e326[_0x27cf8d(0x60a)](_0x27cf8d(0x71f),''),{'property':_0x138652[_0x27cf8d(0x60a)](_0x27cf8d(0x71f),''),'message':_0x1d7aeb};});throw $s[_0x3963a0(0x90c)]([..._0x5a556a]),new m(..._0x5a556a);}return await _0x12826a(_0x13530a,_0x42abc4);}},M=class{},il=new $(a0_0x33f632(0x8ec)),lt=class extends V{constructor(..._0xeddf81){const _0x4310a6=a0_0x33f632;super(),this[_0x4310a6(0x74d)]=(0x0,pi['Router'])(),this[_0x4310a6(0x74d)][_0x4310a6(0x5bb)](this[_0x4310a6(0x320)](_0x4310a6(0x44e)),..._0xeddf81,async(_0x3febeb,_0x171db2)=>{const _0x3bd63f=_0x4310a6;let _0x220c6c=await this[_0x3bd63f(0x6df)]({'request':_0x3febeb,'schema':si,'ClassRef':Ye,'execute':(_0x1170d5,_0x316bcf)=>D[_0x3bd63f(0x44e)](_0x1170d5,_0x316bcf)});return _0x171db2[_0x3bd63f(0x3ee)](0xc9)[_0x3bd63f(0x1fe)](_0x220c6c);})[_0x4310a6(0x5bb)](this[_0x4310a6(0x320)](_0x4310a6(0x7ed)),..._0xeddf81,async(_0x7fc8ff,_0x498c36)=>{const _0x55616a=_0x4310a6;let _0x4cdc88=await this['dataValidate']({'request':_0x7fc8ff,'schema':Wa,'ClassRef':Xe,'execute':(_0x4abd5d,_0x3d326b)=>D[_0x55616a(0x4fb)](_0x4abd5d,_0x3d326b)});return _0x498c36['status'](0xc9)[_0x55616a(0x1fe)](_0x4cdc88);})[_0x4310a6(0x5bb)](this[_0x4310a6(0x320)]('editChat'),..._0xeddf81,async(_0x569043,_0x4afa77)=>{const _0x293fd9=_0x4310a6;let _0x3ac8b0=await this['dataValidate']({'request':_0x569043,'schema':E,'ClassRef':M,'execute':(_0x37e1cb,_0x255bb2)=>D['editChat'](_0x37e1cb,_0x255bb2)});return _0x4afa77['status'](0xc9)[_0x293fd9(0x1fe)](_0x3ac8b0);})['put'](this[_0x4310a6(0x320)](_0x4310a6(0x252)),..._0xeddf81,async(_0xa6483f,_0x30a811)=>{const _0x46971f=_0x4310a6;let _0x288475=await this[_0x46971f(0x6df)]({'request':_0xa6483f,'schema':za,'ClassRef':tt,'execute':(_0x15b036,_0x315f35)=>D['readMessage'](_0x15b036,_0x315f35)});return _0x30a811[_0x46971f(0x3ee)](0xc9)['json'](_0x288475);})[_0x4310a6(0x29b)](this[_0x4310a6(0x320)](_0x4310a6(0x2c2)),..._0xeddf81,async(_0x39c8e2,_0x310a66)=>{const _0x3e4d99=_0x4310a6;let _0x44a343=await this[_0x3e4d99(0x6df)]({'request':_0x39c8e2,'schema':Ka,'ClassRef':st,'execute':(_0x257f52,_0x31f868)=>D[_0x3e4d99(0x2c2)](_0x257f52,_0x31f868)});return _0x310a66['status'](0xc9)[_0x3e4d99(0x1fe)](_0x44a343);})[_0x4310a6(0x8ce)](this[_0x4310a6(0x320)](_0x4310a6(0x36c)),..._0xeddf81,async(_0x4964ce,_0x12524c)=>{const _0x24f6e9=_0x4310a6;let _0x204888=await this[_0x24f6e9(0x6df)]({'request':_0x4964ce,'schema':Qa,'ClassRef':it,'execute':(_0x5b7204,_0x9dd404)=>D[_0x24f6e9(0x660)](_0x5b7204,_0x9dd404)});return _0x12524c['status'](0xc9)[_0x24f6e9(0x1fe)](_0x204888);})['post'](this[_0x4310a6(0x320)]('fetchProfilePictureUrl'),..._0xeddf81,async(_0x4dd3cc,_0x212069)=>{const _0x3c99fb=_0x4310a6;let _0x5f3942=await this['dataValidate']({'request':_0x4dd3cc,'schema':Oe,'ClassRef':Ie,'execute':(_0x107c1d,_0x25f865)=>D['fetchProfilePicture'](_0x107c1d,_0x25f865)});return _0x212069[_0x3c99fb(0x3ee)](0xc8)['json'](_0x5f3942);})['post'](this['routerPath'](_0x4310a6(0x67a)),..._0xeddf81,async(_0x12e32c,_0x46cbdd)=>{const _0x4e2e38=_0x4310a6;let _0x58be54=await this['dataValidate']({'request':_0x12e32c,'schema':ei,'ClassRef':Ie,'execute':(_0x3a8ed1,_0x141483)=>D[_0x4e2e38(0x67a)](_0x3a8ed1,_0x141483)});return _0x46cbdd[_0x4e2e38(0x3ee)](0xc8)['json'](_0x58be54);})['post'](this['routerPath'](_0x4310a6(0x729)),..._0xeddf81,async(_0xbe737e,_0x30a2c6)=>{const _0x4ca513=_0x4310a6;let _0x330576=await this[_0x4ca513(0x6df)]({'request':_0xbe737e,'schema':Ya,'ClassRef':rt,'execute':(_0x2bab04,_0x13b243)=>D[_0x4ca513(0x49d)](_0x2bab04,_0x13b243)});return _0x30a2c6[_0x4ca513(0x3ee)](0xc8)[_0x4ca513(0x1fe)](_0x330576);})[_0x4310a6(0x5bb)](this['routerPath']('getBase64FromMediaMessage'),..._0xeddf81,async(_0x44d745,_0x4012d9)=>{const _0x39555a=_0x4310a6;let _0x48b673=await this['dataValidate']({'request':_0x44d745,'schema':null,'ClassRef':Object,'execute':(_0x20abf5,_0x2b2d62)=>D[_0x39555a(0x435)](_0x20abf5,_0x2b2d62)});return _0x4012d9[_0x39555a(0x3ee)](0xc9)[_0x39555a(0x1fe)](_0x48b673);})[_0x4310a6(0x5bb)](this[_0x4310a6(0x320)](_0x4310a6(0x217)),..._0xeddf81,async(_0x1ecc76,_0x52d42c)=>{const _0x51c58e=_0x4310a6;let _0x4a1e4c=await this[_0x51c58e(0x6df)]({'request':_0x1ecc76,'schema':ti,'ClassRef':Ke,'execute':(_0x1f7dfb,_0x6b1893)=>D[_0x51c58e(0x634)](_0x1f7dfb,_0x6b1893)});return _0x52d42c[_0x51c58e(0x3ee)](0xc8)[_0x51c58e(0x1fe)](_0x4a1e4c);})[_0x4310a6(0x939)](this[_0x4310a6(0x320)](_0x4310a6(0x3a7)),..._0xeddf81,async(_0x3f0932,_0x25c507)=>{const _0x1fbf05=_0x4310a6;let _0x25b97c=await this[_0x1fbf05(0x6df)]({'request':_0x3f0932,'schema':null,'ClassRef':M,'execute':_0x35bf64=>D[_0x1fbf05(0x543)](_0x35bf64)});return _0x25c507[_0x1fbf05(0x3ee)](0xc8)['json'](_0x25b97c);})[_0x4310a6(0x939)](this[_0x4310a6(0x320)]('findLabels'),..._0xeddf81,async(_0x2a1ce3,_0x21367a)=>{const _0x4e4b60=_0x4310a6;let _0x4239a8=await this[_0x4e4b60(0x6df)]({'request':_0x2a1ce3,'schema':null,'ClassRef':M,'execute':_0x512645=>D['fetchLabels'](_0x512645)});return _0x21367a[_0x4e4b60(0x3ee)](0xc8)[_0x4e4b60(0x1fe)](_0x4239a8);})['put'](this['routerPath']('importChats'),..._0xeddf81,async(_0x344a9a,_0x5ba83a)=>{const _0x556be5=_0x4310a6;let _0x282750=await this['dataValidate']({'request':_0x344a9a,'schema':null,'ClassRef':Array,'execute':(_0x449730,_0x27ca0d)=>D[_0x556be5(0x68d)](_0x449730,_0x27ca0d)});return _0x5ba83a[_0x556be5(0x3ee)](0xc8)['json'](_0x282750);})[_0x4310a6(0x939)](this[_0x4310a6(0x320)]('fetchPrivacySettings'),..._0xeddf81,async(_0x241967,_0x2dbdfb)=>{const _0x444531=_0x4310a6;let _0x32cf7f=await this[_0x444531(0x6df)]({'request':_0x241967,'schema':null,'ClassRef':M,'execute':_0xaa2a6a=>D[_0x444531(0x8b3)](_0xaa2a6a)});return _0x2dbdfb[_0x444531(0x3ee)](0xc8)['json'](_0x32cf7f);})[_0x4310a6(0x29b)](this['routerPath'](_0x4310a6(0x570)),..._0xeddf81,async(_0x3660ae,_0x28e5b8)=>{const _0xe69559=_0x4310a6;let _0x2f02eb=await this['dataValidate']({'request':_0x3660ae,'schema':Ha,'ClassRef':at,'execute':(_0x325dd4,_0x4a6cf5)=>D[_0xe69559(0x570)](_0x325dd4,_0x4a6cf5)});return _0x28e5b8['status'](0xc9)[_0xe69559(0x1fe)](_0x2f02eb);})[_0x4310a6(0x5bb)](this[_0x4310a6(0x320)](_0x4310a6(0x2d7)),..._0xeddf81,async(_0x4ecb9b,_0x15124f)=>{const _0x13d453=_0x4310a6;let _0x598a0d=await this['dataValidate']({'request':_0x4ecb9b,'schema':Oe,'ClassRef':Ce,'execute':(_0xb2e932,_0x56ba6c)=>D['fetchBusinessProfile'](_0xb2e932,_0x56ba6c)});return _0x15124f[_0x13d453(0x3ee)](0xc8)[_0x13d453(0x1fe)](_0x598a0d);})['post'](this[_0x4310a6(0x320)](_0x4310a6(0x2a4)),..._0xeddf81,async(_0x341c7b,_0x583fcc)=>{const _0x3f19e2=_0x4310a6;let _0x22464a=await this[_0x3f19e2(0x6df)]({'request':_0x341c7b,'schema':Xa,'ClassRef':Ze,'execute':(_0x12a4f9,_0x46b65d)=>D[_0x3f19e2(0x2a4)](_0x12a4f9,_0x46b65d)});return _0x583fcc[_0x3f19e2(0x3ee)](0xc8)[_0x3f19e2(0x1fe)](_0x22464a);})[_0x4310a6(0x5bb)](this[_0x4310a6(0x320)](_0x4310a6(0x85d)),..._0xeddf81,async(_0xeb7dc5,_0x2e2ec8)=>{const _0x166ad1=_0x4310a6;let _0x30363e=await this[_0x166ad1(0x6df)]({'request':_0xeb7dc5,'schema':Za,'ClassRef':et,'execute':(_0x33805e,_0x976b5d)=>D[_0x166ad1(0x85d)](_0x33805e,_0x976b5d)});return _0x2e2ec8[_0x166ad1(0x3ee)](0xc8)[_0x166ad1(0x1fe)](_0x30363e);})[_0x4310a6(0x29b)](this[_0x4310a6(0x320)](_0x4310a6(0x875)),..._0xeddf81,async(_0x5d61b7,_0x145bcf)=>{const _0x222c59=_0x4310a6;let _0x20c63f=await this[_0x222c59(0x6df)]({'request':_0x5d61b7,'schema':Oe,'ClassRef':Ce,'execute':(_0x549a33,_0x230b97)=>D[_0x222c59(0x875)](_0x549a33,_0x230b97)});return _0x145bcf[_0x222c59(0x3ee)](0xc8)[_0x222c59(0x1fe)](_0x20c63f);})[_0x4310a6(0x8ce)](this['routerPath'](_0x4310a6(0x3e0)),..._0xeddf81,async(_0x5b7438,_0x4be5f0)=>{const _0x283542=_0x4310a6;let _0x163003=await this[_0x283542(0x6df)]({'request':_0x5b7438,'schema':Oe,'ClassRef':Ce,'execute':(_0x8596b,_0x44606d)=>D['removeProfilePicture'](_0x8596b,_0x44606d)});return _0x4be5f0[_0x283542(0x3ee)](0xc8)[_0x283542(0x1fe)](_0x163003);});}},hi=require(a0_0x33f632(0x82f)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x29abec){const _0x31b8de=a0_0x33f632;super(),this[_0x31b8de(0x74d)]=(0x0,hi[_0x31b8de(0x7a5)])(),this[_0x31b8de(0x74d)]['post'](this[_0x31b8de(0x320)](_0x31b8de(0x20b)),..._0x29abec,async(_0x4c0bff,_0x536899)=>{const _0x52a44c=_0x31b8de;let _0x2053b5=await this[_0x52a44c(0x6df)]({'request':_0x4c0bff,'schema':ai,'ClassRef':ut,'execute':(_0x410b30,_0x5cff84)=>q[_0x52a44c(0x441)](_0x410b30,_0x5cff84)});_0x536899[_0x52a44c(0x3ee)](0xc9)[_0x52a44c(0x1fe)](_0x2053b5);})[_0x31b8de(0x29b)](this[_0x31b8de(0x320)](_0x31b8de(0x6e9)),..._0x29abec,async(_0x5ed790,_0x7b5580)=>{const _0x526e14=_0x31b8de;let _0xa4f1bd=await this[_0x526e14(0x296)]({'request':_0x5ed790,'schema':ri,'ClassRef':dt,'execute':(_0x18b5f6,_0x34fb1c)=>q[_0x526e14(0x6e9)](_0x18b5f6,_0x34fb1c)});_0x7b5580[_0x526e14(0x3ee)](0xc9)['json'](_0xa4f1bd);})[_0x31b8de(0x29b)](this[_0x31b8de(0x320)](_0x31b8de(0x4b7)),..._0x29abec,async(_0xdfc2ce,_0x4f18d1)=>{const _0x53aeed=_0x31b8de;let _0x1e9df8=await this[_0x53aeed(0x296)]({'request':_0xdfc2ce,'schema':ni,'ClassRef':pt,'execute':(_0xaf056,_0x563f6e)=>q[_0x53aeed(0x4b7)](_0xaf056,_0x563f6e)});_0x4f18d1['status'](0xc9)[_0x53aeed(0x1fe)](_0x1e9df8);})['put'](this[_0x31b8de(0x320)]('groupName'),..._0x29abec,async(_0x55abfc,_0x1e8156)=>{const _0x2ed0d6=_0x31b8de;let _0x2f91ea=await this['groupValidate']({'request':_0x55abfc,'schema':ci,'ClassRef':ht,'execute':(_0x4eaadd,_0x3b9853)=>q[_0x2ed0d6(0x847)](_0x4eaadd,_0x3b9853)});_0x1e8156[_0x2ed0d6(0x3ee)](0xc9)['json'](_0x2f91ea);})[_0x31b8de(0x29b)](this['routerPath'](_0x31b8de(0x1ef)),..._0x29abec,async(_0x54c71f,_0x21419f)=>{const _0x5962b8=_0x31b8de;let _0x5bcb33=await this[_0x5962b8(0x296)]({'request':_0x54c71f,'schema':ui,'ClassRef':mt,'execute':(_0x2645e7,_0xf69ab7)=>q['groupBetterSetting'](_0x2645e7,_0xf69ab7)});_0x21419f['status'](0xc9)['json'](_0x5bcb33);})['put'](this[_0x31b8de(0x320)](_0x31b8de(0x56c)),..._0x29abec,async(_0x301497,_0x31f86d)=>{const _0x3cd16b=_0x31b8de;let _0x21262e=await this[_0x3cd16b(0x296)]({'request':_0x301497,'schema':li,'ClassRef':gt,'execute':(_0x490dae,_0x20957b)=>q[_0x3cd16b(0x56c)](_0x490dae,_0x20957b)});_0x31f86d[_0x3cd16b(0x3ee)](0xc9)['json'](_0x21262e);})['put'](this['routerPath'](_0x31b8de(0x77e)),..._0x29abec,async(_0x5a6023,_0x5d7773)=>{const _0x3a04fd=_0x31b8de;let _0x58555e=await this['groupValidate']({'request':_0x5a6023,'schema':oi,'ClassRef':wt,'execute':(_0x37997b,_0xcf3ffb)=>q['toggleEphemeral'](_0x37997b,_0xcf3ffb)});_0x5d7773['status'](0xc9)[_0x3a04fd(0x1fe)](_0x58555e);})['get'](this[_0x31b8de(0x320)](_0x31b8de(0x607)),..._0x29abec,async(_0x48c5cb,_0x5a3942)=>{const _0x14c1aa=_0x31b8de;let _0x5d4f7e=await this[_0x14c1aa(0x296)]({'request':_0x48c5cb,'schema':xe,'ClassRef':ee,'execute':(_0x3979ec,_0x1909be)=>q[_0x14c1aa(0x8a6)](_0x3979ec,_0x1909be)});_0x5a3942[_0x14c1aa(0x3ee)](0xc8)[_0x14c1aa(0x1fe)](_0x5d4f7e);})['get'](this['routerPath'](_0x31b8de(0x6ad)),..._0x29abec,async(_0x546c57,_0x54176b)=>{const _0x2293b8=_0x31b8de;let _0x182b7f=await this[_0x2293b8(0x6df)]({'request':_0x546c57,'schema':E,'ClassRef':M,'execute':_0x14ab2d=>q['findGroups'](_0x14ab2d)});_0x54176b[_0x2293b8(0x3ee)](0xc8)['json'](_0x182b7f);})['get'](this['routerPath'](_0x31b8de(0x21b)),..._0x29abec,async(_0x3a7c1d,_0x11159d)=>{const _0x5845ae=_0x31b8de;let _0x38cfcc=await this[_0x5845ae(0x296)]({'request':_0x3a7c1d,'schema':xe,'ClassRef':ee,'execute':(_0x31bd31,_0x5988f2)=>q[_0x5845ae(0x7b5)](_0x31bd31,_0x5988f2)});_0x11159d[_0x5845ae(0x3ee)](0xc8)[_0x5845ae(0x1fe)](_0x38cfcc);})['get'](this[_0x31b8de(0x320)](_0x31b8de(0x406)),..._0x29abec,async(_0x5ed765,_0x26448a)=>{const _0x478760=_0x31b8de;let _0x3cfbf4=await this[_0x478760(0x296)]({'request':_0x5ed765,'schema':xe,'ClassRef':ee,'execute':(_0x32da6c,_0x523d54)=>q[_0x478760(0x406)](_0x32da6c,_0x523d54)});_0x26448a[_0x478760(0x3ee)](0xc8)[_0x478760(0x1fe)](_0x3cfbf4);})[_0x31b8de(0x5bb)](this[_0x31b8de(0x320)](_0x31b8de(0x68b)),..._0x29abec,async(_0xd9a726,_0x44307d)=>{const _0x16ecac=_0x31b8de;let _0xde2efd=await this[_0x16ecac(0x675)]({'request':_0xd9a726,'schema':Ns,'ClassRef':Pe,'execute':(_0x38c7aa,_0x29d6cd)=>q[_0x16ecac(0x460)](_0x38c7aa,_0x29d6cd)});_0x44307d[_0x16ecac(0x3ee)](0xc9)[_0x16ecac(0x1fe)](_0xde2efd);})[_0x31b8de(0x29b)](this[_0x31b8de(0x320)](_0x31b8de(0x86f)),..._0x29abec,async(_0x1cb4bc,_0xe01913)=>{const _0x5986db=_0x31b8de;let _0x20b731=await this['joinGroupValidate']({'request':_0x1cb4bc,'schema':Ns,'ClassRef':Pe,'execute':(_0x333a8c,_0x1d31eb)=>q[_0x5986db(0x86f)](_0x333a8c,_0x1d31eb)});_0xe01913[_0x5986db(0x3ee)](0xc9)[_0x5986db(0x1fe)](_0x20b731);})[_0x31b8de(0x29b)](this[_0x31b8de(0x320)](_0x31b8de(0x292)),..._0x29abec,async(_0x4ed19d,_0xfe8389)=>{const _0xc00ffc=_0x31b8de;let _0x401e5b=await this[_0xc00ffc(0x296)]({'request':_0x4ed19d,'schema':xe,'ClassRef':ee,'execute':(_0xe76b38,_0x2f8160)=>q[_0xc00ffc(0x292)](_0xe76b38,_0x2f8160)});_0xfe8389[_0xc00ffc(0x3ee)](0xc9)['json'](_0x401e5b);})[_0x31b8de(0x29b)](this[_0x31b8de(0x320)]('updateParticipant'),..._0x29abec,async(_0x3f94fb,_0x401d1f)=>{const _0x61618f=_0x31b8de;let _0x1da8a8=await this[_0x61618f(0x296)]({'request':_0x3f94fb,'schema':ii,'ClassRef':ft,'execute':(_0x4725a0,_0x4dadea)=>q[_0x61618f(0x44d)](_0x4725a0,_0x4dadea)});_0x401d1f[_0x61618f(0x3ee)](0xc9)[_0x61618f(0x1fe)](_0x1da8a8);})[_0x31b8de(0x8ce)](this[_0x31b8de(0x320)](_0x31b8de(0x3d2)),..._0x29abec,async(_0x1484f5,_0x2fe337)=>{const _0x1e2ae0=_0x31b8de;let _0x34f1d1=await this[_0x1e2ae0(0x296)]({'request':_0x1484f5,'schema':{},'ClassRef':ee,'execute':(_0x42122a,_0x3806a8)=>q[_0x1e2ae0(0x3d2)](_0x42122a,_0x3806a8)});_0x2fe337[_0x1e2ae0(0x3ee)](0xc8)['json'](_0x34f1d1);});}},gi=require('express'),bt=class extends V{constructor(_0x24edfc,..._0x39147f){const _0x5f1474=a0_0x33f632;super(),this[_0x5f1474(0x7fb)]=_0x24edfc,this[_0x5f1474(0x74d)]=(0x0,gi[_0x5f1474(0x7a5)])();let _0x5d0f91=_0x24edfc[_0x5f1474(0x939)]('AUTHENTICATION');this[_0x5f1474(0x74d)][_0x5f1474(0x5bb)](_0x5f1474(0x5fc),..._0x39147f,async(_0x154e08,_0x4adf9c)=>{const _0x3a62c3=_0x5f1474;let {instanceName:_0x3313ce,apikey:_0x1bfa23,number:_0x3e0e37}=_0x154e08['body'],_0x9b49f8=await le[_0x3a62c3(0x3d6)]({'instanceName':_0x3313ce,'apikey':_0x1bfa23,'number':_0x3e0e37});return _0x4adf9c[_0x3a62c3(0x3ee)](0xc9)['json'](_0x9b49f8);})[_0x5f1474(0x29b)](this[_0x5f1474(0x320)](_0x5f1474(0x77f)),..._0x39147f,async(_0x388674,_0x568d35)=>{const _0x4c489d=_0x5f1474;let _0x18db1c=await this[_0x4c489d(0x6df)]({'request':_0x388674,'schema':E,'ClassRef':M,'execute':_0x1f6bad=>le[_0x4c489d(0x29d)](_0x1f6bad)});return _0x568d35[_0x4c489d(0x3ee)](0xc8)[_0x4c489d(0x1fe)](_0x18db1c);})[_0x5f1474(0x939)](this['routerPath']('connect'),..._0x39147f,async(_0x1f9d81,_0x1fb44c)=>{const _0x354c9c=_0x5f1474;let _0x11d579=await this[_0x354c9c(0x6df)]({'request':_0x1f9d81,'schema':E,'ClassRef':M,'execute':_0x47a316=>le[_0x354c9c(0x4bf)](_0x47a316)});return _0x1fb44c[_0x354c9c(0x3ee)](0xc8)[_0x354c9c(0x1fe)](_0x11d579);})[_0x5f1474(0x939)](this[_0x5f1474(0x320)](_0x5f1474(0x637)),..._0x39147f,async(_0x5b40d3,_0x4f074e)=>{const _0x25f4a1=_0x5f1474;let _0x4b1554=await this['dataValidate']({'request':_0x5b40d3,'schema':E,'ClassRef':M,'execute':_0x589ef3=>le[_0x25f4a1(0x637)](_0x589ef3)});return _0x4f074e[_0x25f4a1(0x3ee)](0xc8)['json'](_0x4b1554);})[_0x5f1474(0x939)](this[_0x5f1474(0x320)](_0x5f1474(0x8eb),!0x1),..._0x39147f,async(_0x213a04,_0xf77c2d)=>{const _0x17c0ac=_0x5f1474;let _0x6d67a5=await this[_0x17c0ac(0x6df)]({'request':_0x213a04,'schema':null,'ClassRef':M,'execute':_0x305576=>le[_0x17c0ac(0x8eb)](_0x305576)});return _0xf77c2d[_0x17c0ac(0x3ee)](0xc8)[_0x17c0ac(0x1fe)](_0x6d67a5);})[_0x5f1474(0x8ce)](this[_0x5f1474(0x320)](_0x5f1474(0x8d4)),..._0x39147f,async(_0x3a1e6e,_0x53ceaf)=>{const _0x48d2ea=_0x5f1474;let _0x4b1e70=await this[_0x48d2ea(0x6df)]({'request':_0x3a1e6e,'schema':E,'ClassRef':M,'execute':_0x9fb8b3=>le['logout'](_0x9fb8b3)});return _0x53ceaf[_0x48d2ea(0x3ee)](0xc8)['json'](_0x4b1e70);})['delete'](this[_0x5f1474(0x320)](_0x5f1474(0x8ce)),..._0x39147f,async(_0x2b2925,_0x869ead)=>{const _0x40d366=_0x5f1474;let _0x257ed2=await this[_0x40d366(0x6df)]({'request':_0x2b2925,'schema':E,'ClassRef':M,'execute':_0x178380=>le[_0x40d366(0x244)](_0x178380)});return _0x869ead[_0x40d366(0x3ee)](0xc8)['json'](_0x257ed2);});}},mi=require(a0_0x33f632(0x82f)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x44f93e){const _0x595c50=a0_0x33f632;super(),this[_0x595c50(0x74d)]=(0x0,mi[_0x595c50(0x7a5)])(),this[_0x595c50(0x74d)][_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x4a1)),..._0x44f93e,async(_0x5fd5d8,_0x584fb5)=>{const _0xd2a22f=_0x595c50;let _0x4731d7=await this[_0xd2a22f(0x6df)]({'request':_0x5fd5d8,'schema':Pa,'ClassRef':St,'execute':(_0x47266f,_0x1d8d28)=>B[_0xd2a22f(0x4a1)](_0x47266f,_0x1d8d28)});return _0x584fb5['status'](0xc9)[_0xd2a22f(0x1fe)](_0x4731d7);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x90a)),..._0x44f93e,async(_0x54d5d4,_0x204d0e)=>{const _0x58a437=_0x595c50;let _0x322bf4=await this[_0x58a437(0x6df)]({'request':_0x54d5d4,'schema':Fa,'ClassRef':De,'execute':(_0x415d31,_0x196af2)=>B['sendMedia'](_0x415d31,_0x196af2)});return _0x204d0e['status'](0xc9)[_0x58a437(0x1fe)](_0x322bf4);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x6f7)),..._0x44f93e,async(_0x1adb89,_0x5d7c26)=>{const _0x1ab1c6=_0x595c50;let _0x573dc7=await this[_0x1ab1c6(0x6df)]({'request':_0x1adb89,'schema':Ja,'ClassRef':vt,'execute':(_0x687731,_0x47244f)=>B['sendMenu'](_0x687731,_0x47244f)});return _0x5d7c26[_0x1ab1c6(0x3ee)](0xc9)[_0x1ab1c6(0x1fe)](_0x573dc7);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)]('sendWhatsAppAudio'),..._0x44f93e,async(_0xe9fc9,_0x2f8ed5)=>{const _0x54da16=_0x595c50;let _0x4b2336=await this[_0x54da16(0x6df)]({'request':_0xe9fc9,'schema':Ua,'ClassRef':De,'execute':(_0x411110,_0x2c5a42)=>B[_0x54da16(0x6d9)](_0x411110,_0x2c5a42)});return _0x2f8ed5[_0x54da16(0x3ee)](0xc9)[_0x54da16(0x1fe)](_0x4b2336);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)]('sendLocation'),..._0x44f93e,async(_0x1780da,_0x110c5d)=>{const _0x2944ae=_0x595c50;let _0x26cb5c=await this[_0x2944ae(0x6df)]({'request':_0x1780da,'schema':qa,'ClassRef':Nt,'execute':(_0x5e1003,_0x4e3b1e)=>B[_0x2944ae(0x8ee)](_0x5e1003,_0x4e3b1e)});return _0x110c5d['status'](0xc9)['json'](_0x26cb5c);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)]('sendList'),..._0x44f93e,async(_0x22067f,_0x1d2b4e)=>{const _0x522794=_0x595c50;let _0x42bf83=await this[_0x522794(0x6df)]({'request':_0x22067f,'schema':Va,'ClassRef':$t,'execute':(_0x397d85,_0x4e6607)=>B[_0x522794(0x278)](_0x397d85,_0x4e6607)});return _0x1d2b4e[_0x522794(0x3ee)](0xc9)[_0x522794(0x1fe)](_0x42bf83);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x8b6)),..._0x44f93e,async(_0x1f3111,_0x241ce4)=>{const _0x5edc53=_0x595c50;let _0x29dedb=await this['dataValidate']({'request':_0x1f3111,'schema':Ga,'ClassRef':Rt,'execute':(_0x5b3a39,_0x4d76c8)=>B[_0x5edc53(0x8b6)](_0x5b3a39,_0x4d76c8)});return _0x241ce4[_0x5edc53(0x3ee)](0xc9)['json'](_0x29dedb);})[_0x595c50(0x5bb)](this['routerPath']('sendReaction'),..._0x44f93e,async(_0x3cd59f,_0x374874)=>{const _0x55afdc=_0x595c50;let _0x23956e=await this['dataValidate']({'request':_0x3cd59f,'schema':Ba,'ClassRef':At,'execute':(_0x2ca169,_0x3631f1)=>B['sendReaction'](_0x2ca169,_0x3631f1)});return _0x374874[_0x55afdc(0x3ee)](0xc9)[_0x55afdc(0x1fe)](_0x23956e);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x916)),..._0x44f93e,async(_0x2cde8f,_0x56329f)=>{const _0x6ffa03=_0x595c50;let _0x518136=await this[_0x6ffa03(0x6df)]({'request':_0x2cde8f,'schema':ja,'ClassRef':Ct,'execute':(_0x3f4128,_0x176855)=>B[_0x6ffa03(0x916)](_0x3f4128,_0x176855)});return _0x56329f[_0x6ffa03(0x3ee)](0xc9)[_0x6ffa03(0x1fe)](_0x518136);})[_0x595c50(0x5bb)](this[_0x595c50(0x320)](_0x595c50(0x879)),..._0x44f93e,async(_0x584557,_0x189aaf)=>{const _0x5bbb31=_0x595c50;let _0xe2d7a8=await this[_0x5bbb31(0x6df)]({'request':_0x584557,'schema':La,'ClassRef':Mt,'execute':(_0xed3e2b,_0x523872)=>B[_0x5bbb31(0x879)](_0xed3e2b,_0x523872)});return _0x189aaf[_0x5bbb31(0x3ee)](0xc9)['json'](_0xe2d7a8);})[_0x595c50(0x5bb)](this['routerPath']('sendSticker'),..._0x44f93e,async(_0x5f2381,_0x3580b1)=>{const _0x20ce08=_0x595c50;let _0x3bf67b=await this[_0x20ce08(0x6df)]({'request':_0x5f2381,'schema':ka,'ClassRef':Et,'execute':(_0x53105f,_0x41e47f)=>B['sendSticker'](_0x53105f,_0x41e47f)});return _0x3580b1[_0x20ce08(0x3ee)](0xc9)['json'](_0x3bf67b);});}},fi=require(a0_0x33f632(0x82f)),It=class{},_t=class extends V{constructor(..._0x34920c){const _0x37b246=a0_0x33f632;super(),this['router']=(0x0,fi[_0x37b246(0x7a5)])(),this['router'][_0x37b246(0x5bb)](this['routerPath'](_0x37b246(0x591)),..._0x34920c,async(_0x2e09cd,_0x3a720f)=>{const _0x99f58d=_0x37b246;let _0x56abba=await this['dataValidate']({'request':_0x2e09cd,'schema':di,'ClassRef':It,'execute':(_0x5ba1e0,_0x3edae6)=>As[_0x99f58d(0x211)](_0x5ba1e0,_0x3edae6)});_0x3a720f[_0x99f58d(0x3ee)](0xc9)['json'](_0x56abba);})[_0x37b246(0x939)](this[_0x37b246(0x320)](_0x37b246(0x7fa)),..._0x34920c,async(_0x256341,_0x24ddc9)=>{const _0xf36c1a=_0x37b246;let _0x1e3c73=await this[_0xf36c1a(0x6df)]({'request':_0x256341,'schema':E,'ClassRef':M,'execute':_0x5049ab=>As[_0xf36c1a(0x2f7)](_0x5049ab)});_0x24ddc9[_0xf36c1a(0x3ee)](0xc8)[_0xf36c1a(0x1fe)](_0x1e3c73);});}},wi=require(a0_0x33f632(0x82f)),y=new $(a0_0x33f632(0x4c1)),Ot=class extends V{constructor(..._0x1fd840){const _0xbc419=a0_0x33f632;super(),this[_0xbc419(0x74d)]=(0x0,wi['Router'])(),this[_0xbc419(0x74d)]['post'](this['routerPath'](_0xbc419(0x667)),..._0x1fd840,async(_0x5018bc,_0x1f81fc)=>{const _0x285c08=_0xbc419;let _0x178ee1=_0x5018bc['body'];y[_0x285c08(0x843)](_0x285c08(0x3c6)),y[_0x285c08(0x843)]('request\x20body:\x20'),y[_0x285c08(0x843)](_0x5018bc[_0x285c08(0x344)]);let _0x867943=await this['dataValidate']({'request':_0x5018bc,'schema':E,'ClassRef':M,'execute':_0x1fdc1b=>_['editScheduleMessage'](_0x1fdc1b,_0x178ee1)});_0x1f81fc['status'](0xc8)[_0x285c08(0x1fe)](_0x867943);})[_0xbc419(0x939)](this[_0xbc419(0x320)](_0xbc419(0x667)),..._0x1fd840,async(_0x58446c,_0x131f5f)=>{const _0x18d8c0=_0xbc419;let _0x1535e8=await this[_0x18d8c0(0x6df)]({'request':_0x58446c,'schema':E,'ClassRef':M,'execute':_0x4b07ea=>_[_0x18d8c0(0x46e)](_0x4b07ea)});_0x131f5f[_0x18d8c0(0x3ee)](0xc8)[_0x18d8c0(0x1fe)](_0x1535e8);})[_0xbc419(0x8ce)](this['routerPath'](_0xbc419(0x3a6)),..._0x1fd840,async(_0x360107,_0x4297f4)=>{const _0xa80bb3=_0xbc419;y[_0xa80bb3(0x843)](_0xa80bb3(0x230));let _0x4ed06c=await this[_0xa80bb3(0x6df)]({'request':_0x360107,'schema':E,'ClassRef':M,'execute':_0x6f6dfe=>_[_0xa80bb3(0x3a6)](_0x6f6dfe)});_0x4297f4[_0xa80bb3(0x3ee)](0xc8)[_0xa80bb3(0x1fe)](_0x4ed06c);})[_0xbc419(0x8ce)](this['routerPath'](_0xbc419(0x318)),..._0x1fd840,async(_0x2318c5,_0x32ae5b)=>{const _0x7c505d=_0xbc419;y[_0x7c505d(0x843)]('request\x20received\x20in\x20deleteAllMessages');let _0x45d327=await this[_0x7c505d(0x6df)]({'request':_0x2318c5,'schema':E,'ClassRef':M,'execute':_0x2f0143=>_[_0x7c505d(0x318)](_0x2f0143)});_0x32ae5b[_0x7c505d(0x3ee)](0xc8)[_0x7c505d(0x1fe)](_0x45d327);})['post'](this[_0xbc419(0x320)](_0xbc419(0x6a8)),..._0x1fd840,async(_0x46b717,_0x10492b)=>{const _0x467936=_0xbc419;let _0x3fdac5=_0x46b717[_0x467936(0x344)];y['verbose'](_0x467936(0x5b7)),y[_0x467936(0x843)](_0x467936(0x735)),y['verbose'](_0x46b717[_0x467936(0x344)]);let _0x360fe2=await this['dataValidate']({'request':_0x46b717,'schema':E,'ClassRef':M,'execute':_0x567c98=>_[_0x467936(0x6a8)](_0x567c98,_0x3fdac5)});_0x10492b['status'](0xc8)[_0x467936(0x1fe)](_0x360fe2);})[_0xbc419(0x939)](this['routerPath'](_0xbc419(0x6ac)),..._0x1fd840,async(_0x1a2b8a,_0x4cfec0)=>{const _0x1ff16c=_0xbc419;y[_0x1ff16c(0x843)](_0x1ff16c(0x359));let _0x153413=await this['dataValidate']({'request':_0x1a2b8a,'schema':E,'ClassRef':M,'execute':_0x2f9194=>_[_0x1ff16c(0x6ac)](_0x2f9194)});_0x4cfec0[_0x1ff16c(0x3ee)](0xc8)['json'](_0x153413);})[_0xbc419(0x939)](this[_0xbc419(0x320)](_0xbc419(0x6aa)),..._0x1fd840,async(_0x9431cf,_0x3a3276)=>{const _0x2a5692=_0xbc419;y[_0x2a5692(0x843)](_0x2a5692(0x2f3));let _0x57ec32=await this[_0x2a5692(0x6df)]({'request':_0x9431cf,'schema':E,'ClassRef':M,'execute':_0x3e81fc=>_['getAutomateSystem'](_0x3e81fc)});_0x3a3276['status'](0xc8)['json'](_0x57ec32);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)]('updateAgent'),..._0x1fd840,async(_0x51119e,_0x1b0bfe)=>{const _0x1e7478=_0xbc419;let _0x44d236=_0x51119e[_0x1e7478(0x344)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x1e7478(0x843)](_0x1e7478(0x735)),y[_0x1e7478(0x843)](_0x51119e['body']);let _0x1d8b3a=await this[_0x1e7478(0x6df)]({'request':_0x51119e,'schema':E,'ClassRef':M,'execute':_0x4de2de=>_[_0x1e7478(0x597)](_0x4de2de,_0x44d236)});_0x1b0bfe[_0x1e7478(0x3ee)](0xc8)[_0x1e7478(0x1fe)](_0x1d8b3a);})[_0xbc419(0x5bb)](this['routerPath'](_0xbc419(0x34f)),..._0x1fd840,async(_0x166361,_0x5069f4)=>{const _0x549872=_0xbc419;let _0x452d43=_0x166361[_0x549872(0x344)];y[_0x549872(0x843)](_0x549872(0x323)),y[_0x549872(0x843)]('request\x20body:\x20'),y[_0x549872(0x843)](_0x166361[_0x549872(0x344)]);let _0x5ac7ca=await this[_0x549872(0x6df)]({'request':_0x166361,'schema':E,'ClassRef':M,'execute':_0x4f003b=>_['updateCustomFields'](_0x4f003b,_0x452d43)});_0x5069f4[_0x549872(0x3ee)](0xc8)['json'](_0x5ac7ca);})[_0xbc419(0x5bb)](this['routerPath']('updateAutoCompleteMessages'),..._0x1fd840,async(_0x447748,_0x295048)=>{const _0x431506=_0xbc419;let _0x264b3b=_0x447748['body'];y[_0x431506(0x843)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose']('request\x20body:\x20'),y[_0x431506(0x843)](_0x447748[_0x431506(0x344)]);let _0x66edf=await this[_0x431506(0x6df)]({'request':_0x447748,'schema':E,'ClassRef':M,'execute':_0x19536f=>_[_0x431506(0x2a3)](_0x19536f,_0x264b3b)});_0x295048[_0x431506(0x3ee)](0xc8)['json'](_0x66edf);})['post'](this[_0xbc419(0x320)]('updateFlowConfig'),..._0x1fd840,async(_0x8fde6,_0xfc36c3)=>{const _0x34d160=_0xbc419;let _0x1f04b8=_0x8fde6[_0x34d160(0x344)];y['verbose'](_0x34d160(0x5a6)),y[_0x34d160(0x843)](_0x34d160(0x735)),y[_0x34d160(0x843)](_0x8fde6[_0x34d160(0x344)]);let _0x2b2cad=await this[_0x34d160(0x6df)]({'request':_0x8fde6,'schema':E,'ClassRef':M,'execute':_0x32a298=>_['updateFlowConfig'](_0x32a298,_0x1f04b8)});_0xfc36c3[_0x34d160(0x3ee)](0xc8)['json'](_0x2b2cad);})[_0xbc419(0x5bb)](this['routerPath'](_0xbc419(0x40b)),..._0x1fd840,async(_0x172747,_0x35e216)=>{const _0x37f84f=_0xbc419;let _0x3e30cd=_0x172747['body'];y[_0x37f84f(0x843)](_0x37f84f(0x538)),y[_0x37f84f(0x843)]('request\x20body:\x20'),y['verbose'](_0x172747[_0x37f84f(0x344)]);let _0x3280c2=await this['dataValidate']({'request':_0x172747,'schema':E,'ClassRef':M,'execute':_0x29ccee=>_[_0x37f84f(0x40b)](_0x29ccee,_0x3e30cd)});_0x35e216[_0x37f84f(0x3ee)](0xc8)['json'](_0x3280c2);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)]('fetchConversation'),..._0x1fd840,async(_0x4cb76a,_0x327e18)=>{const _0x392e05=_0xbc419;let _0x41651f=_0x4cb76a['body'];y[_0x392e05(0x843)](_0x392e05(0x554)),y['verbose'](_0x392e05(0x735)),y['verbose'](_0x4cb76a['body']);let _0x1ec544=await this[_0x392e05(0x6df)]({'request':_0x4cb76a,'schema':E,'ClassRef':M,'execute':_0x4e157f=>_['fetchConversation'](_0x4e157f,_0x41651f)});_0x327e18[_0x392e05(0x3ee)](0xc8)[_0x392e05(0x1fe)](_0x1ec544);})['post'](this[_0xbc419(0x320)](_0xbc419(0x36a)),..._0x1fd840,async(_0x2eed19,_0xd68b50)=>{const _0x3130b7=_0xbc419;let _0x2eb9d5=_0x2eed19[_0x3130b7(0x344)];y[_0x3130b7(0x843)](_0x3130b7(0x227)),y[_0x3130b7(0x843)](_0x3130b7(0x735)),y[_0x3130b7(0x843)](_0x2eed19[_0x3130b7(0x344)]);let _0x3f43e2=await this[_0x3130b7(0x6df)]({'request':_0x2eed19,'schema':E,'ClassRef':M,'execute':_0x289a25=>_[_0x3130b7(0x36a)](_0x289a25,_0x2eb9d5)});_0xd68b50[_0x3130b7(0x3ee)](0xc8)[_0x3130b7(0x1fe)](_0x3f43e2);})[_0xbc419(0x8ce)](this[_0xbc419(0x320)](_0xbc419(0x74f)),..._0x1fd840,async(_0x7bd713,_0x15e6fb)=>{const _0x240f89=_0xbc419;let _0x2bd437=_0x7bd713['body'];y[_0x240f89(0x843)](_0x240f89(0x348)),y[_0x240f89(0x843)](_0x240f89(0x735)),y[_0x240f89(0x843)](_0x7bd713[_0x240f89(0x344)]);let _0x5f4fa7=await this[_0x240f89(0x6df)]({'request':_0x7bd713,'schema':E,'ClassRef':M,'execute':_0x20ed19=>_[_0x240f89(0x74f)](_0x20ed19,_0x2bd437)});_0x15e6fb[_0x240f89(0x3ee)](0xc8)[_0x240f89(0x1fe)](_0x5f4fa7);})[_0xbc419(0x5bb)](this['routerPath'](_0xbc419(0x3e8)),..._0x1fd840,async(_0x2a3440,_0x36b066)=>{const _0x16b46f=_0xbc419;let _0x4b4f5e=_0x2a3440[_0x16b46f(0x344)],_0xcd84eb=_0x2a3440[_0x16b46f(0x863)]['apikey'];y['verbose'](_0x16b46f(0x324)),y[_0x16b46f(0x843)](_0x16b46f(0x735)),y[_0x16b46f(0x843)](_0x2a3440[_0x16b46f(0x344)]);let _0x3ad5d1=await this[_0x16b46f(0x6df)]({'request':_0x2a3440,'schema':E,'ClassRef':M,'execute':_0x36f7ff=>_[_0x16b46f(0x233)](_0x36f7ff,_0x4b4f5e,_0xcd84eb)});_0x36b066[_0x16b46f(0x3ee)](0xc8)[_0x16b46f(0x1fe)](_0x3ad5d1);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)]('editflow'),..._0x1fd840,async(_0x10d736,_0x148ce9)=>{const _0x4241b4=_0xbc419;let _0x10172f=_0x10d736[_0x4241b4(0x344)],_0x23a18d=_0x10d736[_0x4241b4(0x863)][_0x4241b4(0x56e)];y[_0x4241b4(0x843)](_0x4241b4(0x7b9)),y[_0x4241b4(0x843)]('request\x20body:\x20'),y[_0x4241b4(0x843)](_0x10d736[_0x4241b4(0x344)]),delete _0x10172f[_0x4241b4(0x830)],delete _0x10172f['variables'],delete _0x10172f[_0x4241b4(0x560)],delete _0x10172f['conditions'];let _0x3f005f=await this[_0x4241b4(0x6df)]({'request':_0x10d736,'schema':E,'ClassRef':M,'execute':_0x4f4c01=>_[_0x4241b4(0x7c0)](_0x4f4c01,_0x10172f,_0x23a18d)});_0x148ce9[_0x4241b4(0x3ee)](0xc8)['json'](_0x3f005f);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)](_0xbc419(0x705)),..._0x1fd840,async(_0xf4e2cd,_0x1ef6c1)=>{const _0x555caa=_0xbc419;let _0x3f6d5e=_0xf4e2cd['body'];y['verbose'](_0x555caa(0x7b9)),y[_0x555caa(0x843)]('request\x20body:\x20'),y['verbose'](_0xf4e2cd[_0x555caa(0x344)]);let _0x4b79c4=await this['dataValidate']({'request':_0xf4e2cd,'schema':E,'ClassRef':M,'execute':_0x2ba5af=>_['editFlowBlock'](_0x2ba5af,_0x3f6d5e)});_0x1ef6c1[_0x555caa(0x3ee)](0xc8)['json'](_0x4b79c4);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)](_0xbc419(0x642)),..._0x1fd840,async(_0x2ce02d,_0x45ee7e)=>{const _0xe2512d=_0xbc419;let _0x2df875=_0x2ce02d[_0xe2512d(0x344)];y['verbose'](_0xe2512d(0x7b9)),y[_0xe2512d(0x843)](_0xe2512d(0x735)),y['verbose'](_0x2ce02d[_0xe2512d(0x344)]);let _0x254e88=await this[_0xe2512d(0x6df)]({'request':_0x2ce02d,'schema':E,'ClassRef':M,'execute':_0x2e90a2=>_[_0xe2512d(0x4d3)](_0x2e90a2,_0x2df875)});_0x45ee7e['status'](0xc8)[_0xe2512d(0x1fe)](_0x254e88);})[_0xbc419(0x5bb)](this['routerPath'](_0xbc419(0x8f8)),..._0x1fd840,async(_0x3681e3,_0x25fa55)=>{const _0x960338=_0xbc419;let _0x1bd86a=_0x3681e3['body'];y[_0x960338(0x843)](_0x960338(0x7b9)),y[_0x960338(0x843)](_0x960338(0x735)),y[_0x960338(0x843)](_0x3681e3['body']);let _0x24a431=await this[_0x960338(0x6df)]({'request':_0x3681e3,'schema':E,'ClassRef':M,'execute':_0xa09a97=>_[_0x960338(0x30c)](_0xa09a97,_0x1bd86a)});_0x25fa55[_0x960338(0x3ee)](0xc8)[_0x960338(0x1fe)](_0x24a431);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)](_0xbc419(0x3d7)),..._0x1fd840,async(_0x40671f,_0x46f9b2)=>{const _0x5f184f=_0xbc419;let _0x584c6e=_0x40671f['body'];y[_0x5f184f(0x843)]('request\x20received\x20in\x20editFlowgroup'),y[_0x5f184f(0x843)](_0x5f184f(0x735)),y['verbose'](_0x40671f[_0x5f184f(0x344)]);let _0x3064e1=await this[_0x5f184f(0x6df)]({'request':_0x40671f,'schema':E,'ClassRef':M,'execute':_0x12f112=>_[_0x5f184f(0x363)](_0x12f112,_0x584c6e)});_0x46f9b2[_0x5f184f(0x3ee)](0xc8)[_0x5f184f(0x1fe)](_0x3064e1);})[_0xbc419(0x5bb)](this['routerPath'](_0xbc419(0x1d1)),..._0x1fd840,async(_0xcf0f79,_0x55026b)=>{const _0x149f5a=_0xbc419;let _0x12e9e7=_0xcf0f79[_0x149f5a(0x344)];y[_0x149f5a(0x843)](_0x149f5a(0x24f)),y[_0x149f5a(0x843)]('request\x20body:\x20'),y[_0x149f5a(0x843)](_0xcf0f79[_0x149f5a(0x344)]);let _0x5f4e14=await this[_0x149f5a(0x6df)]({'request':_0xcf0f79,'schema':E,'ClassRef':M,'execute':_0x3ada54=>_[_0x149f5a(0x69c)](_0x3ada54,_0x12e9e7)});_0x55026b[_0x149f5a(0x3ee)](0xc8)[_0x149f5a(0x1fe)](_0x5f4e14);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)]('editflowvariable'),..._0x1fd840,async(_0x131d8a,_0x4bf70c)=>{const _0x14dd2d=_0xbc419;let _0x3b7f99=_0x131d8a[_0x14dd2d(0x344)];y[_0x14dd2d(0x843)]('request\x20received\x20in\x20editFlowvariable'),y[_0x14dd2d(0x843)](_0x14dd2d(0x735)),y[_0x14dd2d(0x843)](_0x131d8a['body']);let _0x24745f=await this[_0x14dd2d(0x6df)]({'request':_0x131d8a,'schema':E,'ClassRef':M,'execute':_0x338e18=>_[_0x14dd2d(0x57c)](_0x338e18,_0x3b7f99)});_0x4bf70c[_0x14dd2d(0x3ee)](0xc8)['json'](_0x24745f);})[_0xbc419(0x5bb)](this[_0xbc419(0x320)](_0xbc419(0x35f)),..._0x1fd840,async(_0x48cd3a,_0x4a9b7f)=>{const _0x27b5d1=_0xbc419;let _0x5bf758=_0x48cd3a[_0x27b5d1(0x344)];y[_0x27b5d1(0x843)](_0x27b5d1(0x3ef)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x48cd3a[_0x27b5d1(0x344)]);let _0x5dfd46=await this[_0x27b5d1(0x6df)]({'request':_0x48cd3a,'schema':E,'ClassRef':M,'execute':_0x19c8a5=>_[_0x27b5d1(0x837)](_0x19c8a5,_0x5bf758)});_0x4a9b7f[_0x27b5d1(0x3ee)](0xc8)[_0x27b5d1(0x1fe)](_0x5dfd46);})[_0xbc419(0x8ce)](this[_0xbc419(0x320)](_0xbc419(0x6f2)),..._0x1fd840,async(_0x5bf955,_0x31d33b)=>{const _0x65a7d7=_0xbc419;let _0x276b21=_0x5bf955['body'];y[_0x65a7d7(0x843)](_0x65a7d7(0x712)),y[_0x65a7d7(0x843)](_0x65a7d7(0x735)),y[_0x65a7d7(0x843)](_0x5bf955['body']);let _0x2d23be=await this[_0x65a7d7(0x6df)]({'request':_0x5bf955,'schema':E,'ClassRef':M,'execute':_0x180b1e=>_['deleteFlow'](_0x180b1e,_0x276b21)});_0x31d33b[_0x65a7d7(0x3ee)](0xc8)[_0x65a7d7(0x1fe)](_0x2d23be);})[_0xbc419(0x939)](this[_0xbc419(0x320)]('allflows'),..._0x1fd840,async(_0x2ceee2,_0x30b5fc)=>{const _0xef5387=_0xbc419;y[_0xef5387(0x843)](_0xef5387(0x5d9));let _0x4ac0e8=await this[_0xef5387(0x6df)]({'request':_0x2ceee2,'schema':E,'ClassRef':M,'execute':_0x78bea9=>_[_0xef5387(0x67c)](_0x78bea9)});_0x30b5fc['status'](0xc8)[_0xef5387(0x1fe)](_0x4ac0e8);});}},Mi=I(require('path')),te={};function yi(_0x3bce37,_0x485bde,_0x4519bf,_0x35fc55){te[_0x3bce37]||(te[_0x3bce37]={}),te[_0x3bce37][_0x485bde]={'id':_0x485bde,'response':_0x4519bf,'events':_0x35fc55};}function bi(_0x8fa098,_0x48162c){!te[_0x8fa098]||!te[_0x8fa098][_0x48162c]||delete te[_0x8fa098][_0x48162c];}function F(_0x4be093,_0x44ee8a,_0x61a39d){const _0x2461e7=a0_0x33f632;if(!te[_0x4be093])return;let _0x28997e=_0x2461e7(0x436)+JSON[_0x2461e7(0x3f5)](_0x61a39d)+'\x0a\x0a';Object['values'](te[_0x4be093])[_0x2461e7(0x1d3)](_0x390766=>{const _0x4b0cb9=_0x2461e7;_0x390766[_0x4b0cb9(0x8dd)][_0x4b0cb9(0x51a)](_0x44ee8a)&&_0x390766[_0x4b0cb9(0x5b3)][_0x4b0cb9(0x758)](_0x28997e);});}function Si(){const _0x42ef24=a0_0x33f632;let _0x135e8f={};for(let _0x3b6f7c in te)_0x135e8f[_0x3b6f7c]=Object[_0x42ef24(0x7cc)](te[_0x3b6f7c])[_0x42ef24(0x3dc)](_0x5e9c76=>({'id':_0x5e9c76['id'],'events':_0x5e9c76['events']}));return _0x135e8f;}var Ci=require('uuid'),Is=require(a0_0x33f632(0x264)),Ts=class{},Io=new Is[(a0_0x33f632(0x774))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x33f632(0x774))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x33f632(0x880)](Ts[a0_0x33f632(0x254)],_o,a0_0x33f632(0x5c9)),Oo=Mi['default'][a0_0x33f632(0x79a)](__dirname,a0_0x33f632(0x21d)),ke=(0x0,xt['Router'])(),xo=S['get'](a0_0x33f632(0x329))[a0_0x33f632(0x459)],ie=[Aa,Ta,Oa[xo]];ke[a0_0x33f632(0x425)](a0_0x33f632(0x59a),xt[a0_0x33f632(0x844)][a0_0x33f632(0x379)](Oo))[a0_0x33f632(0x939)]('/events/:instance',async(_0x4a7681,_0x1115c8)=>{const _0x1691b5=a0_0x33f632;console[_0x1691b5(0x257)](_0x1691b5(0x5a2));let _0x4aeb65=_0x4a7681[_0x1691b5(0x43b)]['instance'],_0x422561=(_0x4a7681['query']['events']||'')[_0x1691b5(0x405)](','),_0x3b3d0c=(0x0,Ci['v4'])();console[_0x1691b5(0x257)](_0x1691b5(0x6bd),_0x4aeb65),console[_0x1691b5(0x257)]('Subscribed\x20Events:',_0x422561);let _0x2816fb=S['get'](_0x1691b5(0x329))[_0x1691b5(0x3ac)],_0x1509aa=_0x4a7681[_0x1691b5(0x5bf)][_0x1691b5(0x56e)];if(console[_0x1691b5(0x257)](_0x1691b5(0x39f),_0x1509aa),_0x2816fb[_0x1691b5(0x487)]!==_0x1509aa){console[_0x1691b5(0x257)](_0x1691b5(0x73b));try{let _0x2e0f10=await me[_0x1691b5(0x679)][_0x1691b5(0x7fa)](_0x4aeb65);if(console[_0x1691b5(0x257)]('Instance\x20Key\x20from\x20DB:',_0x2e0f10),!_0x2e0f10||_0x2e0f10[_0x1691b5(0x56e)]!==_0x1509aa)return console['log'](_0x1691b5(0x943)),_0x1115c8[_0x1691b5(0x3ee)](0x191)['send'](_0x1691b5(0x6d4));}catch(_0x57cbc7){return console[_0x1691b5(0x90c)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x57cbc7),_0x1115c8['status'](0x191)[_0x1691b5(0x48e)](_0x1691b5(0x3f1));}}if(!await _e(_0x4aeb65))return _0x1115c8[_0x1691b5(0x3ee)](0x194)[_0x1691b5(0x48e)]('Instância\x20não\x20encontrada.');_0x1115c8[_0x1691b5(0x691)](_0x1691b5(0x61d),'text/event-stream'),_0x1115c8[_0x1691b5(0x691)](_0x1691b5(0x791),_0x1691b5(0x6a1)),_0x1115c8[_0x1691b5(0x691)](_0x1691b5(0x6d0),'keep-alive'),_0x1115c8[_0x1691b5(0x5b9)]();let _0x3dfcb1=_0x1691b5(0x436)+JSON[_0x1691b5(0x3f5)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x1115c8['write'](_0x3dfcb1),yi(_0x4aeb65,_0x3b3d0c,_0x1115c8,_0x422561),_0x4a7681['on'](_0x1691b5(0x3b3),()=>{const _0x5d41f3=_0x1691b5;console['log'](_0x5d41f3(0x5ba)+_0x4aeb65),bi(_0x4aeb65,_0x3b3d0c);});}),ke[a0_0x33f632(0x5bb)](a0_0x33f632(0x39e),async(_0x39b6b7,_0x4522d9)=>{const _0x3bc8b5=a0_0x33f632;console[_0x3bc8b5(0x257)]('iniciando\x20fluxo\x20router');let _0x29d9a1=_0x39b6b7[_0x3bc8b5(0x43b)][_0x3bc8b5(0x229)],_0x14eaf5=_0x39b6b7['params']['startID'],_0x2ca5c7=_0x39b6b7[_0x3bc8b5(0x5bf)][_0x3bc8b5(0x330)]||'',_0x27e10c=_0x39b6b7[_0x3bc8b5(0x344)];console[_0x3bc8b5(0x257)](_0x3bc8b5(0x7e5),_0x29d9a1),console[_0x3bc8b5(0x257)]('StartID:',_0x14eaf5),console[_0x3bc8b5(0x257)]('RemoteJid:',_0x2ca5c7),console[_0x3bc8b5(0x257)]('Request\x20Body:',_0x27e10c);try{if(!await _e(_0x29d9a1))return _0x4522d9['status'](0x194)[_0x3bc8b5(0x48e)](_0x3bc8b5(0x3c8));let _0xb60d23=await _[_0x3bc8b5(0x36b)](_0x29d9a1,_0x14eaf5,_0x2ca5c7,_0x27e10c);_0x4522d9[_0x3bc8b5(0x48e)](_0xb60d23);}catch(_0x24cc5b){console[_0x3bc8b5(0x90c)](_0x24cc5b),_0x4522d9[_0x3bc8b5(0x3ee)](0x1f4)[_0x3bc8b5(0x48e)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke['get']('/clients-info',(_0x481fd6,_0x2c17aa)=>{let _0x532f46=Si();_0x2c17aa['json'](_0x532f46);})[a0_0x33f632(0x939)]('/',(_0x4538b3,_0x1c831c)=>{const _0x47bc5c=a0_0x33f632;let _0x534589=S[_0x47bc5c(0x939)](_0x47bc5c(0x308))[_0x47bc5c(0x93d)];if(_0x534589){let _0x580081=encodeURIComponent(''+_0x534589);_0x1c831c[_0x47bc5c(0x59b)](_0x47bc5c(0x46d)+_0x580081);return;}let _0x486685=S[_0x47bc5c(0x939)](_0x47bc5c(0x762)),_0x5b5d17=_0x486685&&_0x486685[_0x47bc5c(0x86c)][_0x47bc5c(0x405)]('/')[0x4];if(_0x5b5d17){let _0x524c65=encodeURIComponent(_0x47bc5c(0x3db)+_0x5b5d17);_0x1c831c[_0x47bc5c(0x59b)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x524c65);}else _0x1c831c['redirect'](_0x47bc5c(0x8b4));})[a0_0x33f632(0x29b)]('/exit',...ie,async(_0x35e0a0,_0x20cd58)=>{const _0x2851df=a0_0x33f632;try{console[_0x2851df(0x257)](_0x2851df(0x50e)),_0x20cd58[_0x2851df(0x3ee)](0xc8)[_0x2851df(0x1fe)]({'message':_0x2851df(0x1ac)}),_0x20cd58['on'](_0x2851df(0x526),()=>process[_0x2851df(0x7ea)](0x0));}catch(_0x1d86d9){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x1d86d9),_0x20cd58[_0x2851df(0x3ee)](0x1f4)[_0x2851df(0x1fe)]({'message':_0x2851df(0x35d)});}})[a0_0x33f632(0x29b)]('/config',...ie,async(_0x1413cd,_0x3b9b9c)=>{const _0x57ff47=a0_0x33f632;try{let _0x1421aa=_0x1413cd[_0x57ff47(0x344)];await ve[_0x57ff47(0x215)]({},{'$set':_0x1421aa},{'upsert':!0x0});let _0x3c167a=await ve[_0x57ff47(0x91c)]();_0x3b9b9c[_0x57ff47(0x1fe)](_0x3c167a);}catch(_0x25d8b7){_0x3b9b9c['status'](0x190)['send'](_0x25d8b7[_0x57ff47(0x4b4)]);}})['get'](a0_0x33f632(0x7b2),...ie,async(_0xfd5b11,_0x310ff1)=>{const _0x395c3b=a0_0x33f632;try{let _0x50da01=await ve['findOne']();if(!_0x50da01)return _0x310ff1[_0x395c3b(0x1fe)]({});_0x310ff1['json'](_0x50da01);}catch(_0x1b4e79){_0x310ff1['status'](0x1f4)['send'](_0x1b4e79['message']);}})['use'](a0_0x33f632(0x1ce),new bt(S,...ie)[a0_0x33f632(0x74d)])['use'](a0_0x33f632(0x515),new Tt(...ie)[a0_0x33f632(0x74d)])[a0_0x33f632(0x425)](a0_0x33f632(0x831),new lt(...ie)[a0_0x33f632(0x74d)])[a0_0x33f632(0x425)](a0_0x33f632(0x919),new yt(...ie)[a0_0x33f632(0x74d)])['use'](a0_0x33f632(0x8ea),new _t(...ie)[a0_0x33f632(0x74d)])[a0_0x33f632(0x425)](a0_0x33f632(0x8ba),new Ot(...ie)[a0_0x33f632(0x74d)]);var m=class{constructor(..._0x2bb156){const _0x198711=a0_0x33f632;throw{'status':0x190,'error':_0x198711(0x6b3),'message':_0x2bb156[_0x198711(0x6ee)]>0x0?_0x2bb156:void 0x0};}},se=class{constructor(..._0x2b8059){throw{'status':0x191,'error':'Unauthorized','message':_0x2b8059['length']>0x0?_0x2b8059:void 0x0};}},X=class{constructor(..._0x1f9ecb){const _0x21f31b=a0_0x33f632;throw{'status':0x193,'error':_0x21f31b(0x63d),'message':_0x1f9ecb['length']>0x0?_0x1f9ecb:void 0x0};}},U=class{constructor(..._0x2884dc){const _0x292780=a0_0x33f632;throw{'status':0x194,'error':'Not\x20Found','message':_0x2884dc[_0x292780(0x6ee)]>0x0?_0x2884dc:void 0x0};}},x=class{constructor(..._0x98dd7f){const _0x4ccd4c=a0_0x33f632;throw{'status':0x1f4,'error':_0x4ccd4c(0x7b4),'message':_0x98dd7f[_0x4ccd4c(0x6ee)]>0x0?_0x98dd7f:void 0x0};}},fe=require(a0_0x33f632(0x5c7));async function _s(_0x968cda){const _0x5e4e3c=a0_0x33f632;let _0x2a6ac4=new $(_s[_0x5e4e3c(0x254)]),_0x2019a7=T[_0x5e4e3c(0x676)](),_0x345287=_0x2019a7['db'](S[_0x5e4e3c(0x939)](_0x5e4e3c(0x27e))[_0x5e4e3c(0x231)]['DB_PREFIX_NAME']+_0x5e4e3c(0x577))[_0x5e4e3c(0x4c3)](_0x968cda),_0xf08f80=async(_0x2910f5,_0x2196e3)=>{const _0x3ec4d3=_0x5e4e3c;try{return await _0x2019a7[_0x3ec4d3(0x5b2)](),await _0x345287[_0x3ec4d3(0x1b2)]({'_id':_0x2196e3},JSON[_0x3ec4d3(0x366)](JSON[_0x3ec4d3(0x3f5)](_0x2910f5,fe[_0x3ec4d3(0x760)][_0x3ec4d3(0x291)])),{'upsert':!0x0});}catch{}},_0x4b3b30=async _0x2462b5=>{const _0xe57396=_0x5e4e3c;try{await _0x2019a7[_0xe57396(0x5b2)]();let _0xad9619=await _0x345287[_0xe57396(0x91c)]({'_id':_0x2462b5}),_0xf7abf2=JSON[_0xe57396(0x3f5)](_0xad9619);return JSON[_0xe57396(0x366)](_0xf7abf2,fe[_0xe57396(0x760)][_0xe57396(0x5e6)]);}catch{}},_0x57084d=async _0x5ed9c1=>{const _0x37c565=_0x5e4e3c;try{return await _0x2019a7[_0x37c565(0x5b2)](),await _0x345287[_0x37c565(0x22e)]({'_id':_0x5ed9c1});}catch{}},_0x28ec61=await _0x4b3b30(_0x5e4e3c(0x710))||(0x0,fe[_0x5e4e3c(0x371)])();return{'state':{'creds':_0x28ec61,'keys':{'get':async(_0x50b13d,_0x272dee)=>{const _0x42f5c3=_0x5e4e3c;let _0x13c545={};return await Promise[_0x42f5c3(0x88b)](_0x272dee[_0x42f5c3(0x3dc)](async _0x303531=>{const _0x4c0ae1=_0x42f5c3;let _0x5f40bf=await _0x4b3b30(_0x50b13d+'-'+_0x303531);_0x50b13d===_0x4c0ae1(0x21c)&&_0x5f40bf&&(_0x5f40bf=fe[_0x4c0ae1(0x317)][_0x4c0ae1(0x38d)][_0x4c0ae1(0x5a9)][_0x4c0ae1(0x58c)](_0x5f40bf)),_0x13c545[_0x303531]=_0x5f40bf;})),_0x13c545;},'set':async _0x42f9b2=>{const _0xa36459=_0x5e4e3c;let _0x24cd40=[];for(let _0x4f7318 in _0x42f9b2)for(let _0x168097 in _0x42f9b2[_0x4f7318]){let _0x3f02bd=_0x42f9b2[_0x4f7318][_0x168097],_0x2f0921=_0x4f7318+'-'+_0x168097;_0x24cd40['push'](_0x3f02bd?_0xf08f80(_0x3f02bd,_0x2f0921):_0x57084d(_0x2f0921));}await Promise[_0xa36459(0x88b)](_0x24cd40);}}},'saveCreds':async()=>_0xf08f80(_0x28ec61,_0x5e4e3c(0x710))};}var Ls=I(require(a0_0x33f632(0x246))),Fs=I(require(a0_0x33f632(0x6f4))),kt=require(a0_0x33f632(0x5c7)),vi=require(a0_0x33f632(0x548)),Dt=require(a0_0x33f632(0x5c7)),Pt;function Po(_0x4af04c){const _0x472b59=a0_0x33f632;return Pt||(Pt=(0x0,vi['createClient'])({'url':_0x4af04c[_0x472b59(0x73f)]}),Pt[_0x472b59(0x5b2)]()),Pt;}var ue=class u{constructor(_0x4826f1,_0x58bcc4){const _0x5d42e0=a0_0x33f632;this[_0x5d42e0(0x2e3)]=_0x4826f1,this['instanceName']=_0x58bcc4,this['logger']=new $(u['name']),this[_0x5d42e0(0x467)]=Po(_0x4826f1);}set[a0_0x33f632(0x321)](_0x8975a9){const _0x4115ab=a0_0x33f632;this[_0x4115ab(0x59f)]=_0x8975a9;}async['instanceKeys'](){const _0x4bfc97=a0_0x33f632;try{return await this['client']['sendCommand'](['keys',this[_0x4bfc97(0x2e3)]['PREFIX_KEY']+':*']);}catch(_0x4bf934){this[_0x4bfc97(0x5d3)][_0x4bfc97(0x90c)](_0x4bf934);}}async[a0_0x33f632(0x7a2)](_0x3880a0,_0x477fe5){const _0x22dfaf=a0_0x33f632;try{let _0x3845c5=JSON[_0x22dfaf(0x3f5)](_0x477fe5,Dt[_0x22dfaf(0x760)][_0x22dfaf(0x291)]);return await this['client']['hSet'](this[_0x22dfaf(0x2e3)][_0x22dfaf(0x594)]+':'+this[_0x22dfaf(0x59f)],_0x3880a0,_0x3845c5);}catch(_0x1b4a5b){this[_0x22dfaf(0x5d3)][_0x22dfaf(0x90c)](_0x1b4a5b);}}async[a0_0x33f632(0x6f1)](){const _0x4cc432=a0_0x33f632;try{let _0xea8e25=await this[_0x4cc432(0x467)][_0x4cc432(0x2b5)](this[_0x4cc432(0x2e3)]['PREFIX_KEY']+':'+this[_0x4cc432(0x59f)]);if(_0xea8e25){for(let _0x1c8194 in _0xea8e25)Object[_0x4cc432(0x34a)][_0x4cc432(0x347)][_0x4cc432(0x630)](_0xea8e25,_0x1c8194)&&(_0xea8e25[_0x1c8194]=JSON[_0x4cc432(0x366)](_0xea8e25[_0x1c8194],Dt[_0x4cc432(0x760)][_0x4cc432(0x5e6)]));return _0xea8e25;}}catch(_0x3fa4c0){this['logger'][_0x4cc432(0x90c)](_0x3fa4c0);}}async[a0_0x33f632(0x41f)](_0x1e6ba5){const _0x33841b=a0_0x33f632;try{let _0x656818=await this[_0x33841b(0x467)]['hGet'](this['redisEnv'][_0x33841b(0x594)]+':'+this['instanceName'],_0x1e6ba5);if(_0x656818)return JSON['parse'](_0x656818,Dt['BufferJSON'][_0x33841b(0x5e6)]);}catch(_0x25860f){this[_0x33841b(0x5d3)][_0x33841b(0x90c)](_0x25860f);}}async['removeData'](_0x3fb1aa){const _0x566b33=a0_0x33f632;try{return await this[_0x566b33(0x467)][_0x566b33(0x891)](this[_0x566b33(0x2e3)][_0x566b33(0x594)]+':'+this[_0x566b33(0x59f)],_0x3fb1aa);}catch(_0x1d3980){this[_0x566b33(0x5d3)][_0x566b33(0x90c)](_0x1d3980);}}async[a0_0x33f632(0x280)](_0xf143bc){const _0x33a23c=a0_0x33f632;try{return await this[_0x33a23c(0x467)][_0x33a23c(0x781)](_0xf143bc||this[_0x33a23c(0x2e3)]['PREFIX_KEY']+':'+this[_0x33a23c(0x59f)]);}catch(_0x59a160){this['logger'][_0x33a23c(0x90c)](_0x59a160);}}};async function Os(_0x211e6b,_0x44db72){const _0x25c60d=a0_0x33f632;let _0x1ff857=new $(Os[_0x25c60d(0x254)]),_0x44ec50=new ue(_0x211e6b,_0x44db72),_0x47e6d8=async(_0x35eaae,_0x352af0)=>{const _0x5bf603=_0x25c60d;try{return await _0x44ec50['writeData'](_0x352af0,_0x35eaae);}catch(_0x6c17c4){return _0x1ff857[_0x5bf603(0x90c)]({'localError':_0x5bf603(0x7a2),'error':_0x6c17c4});}},_0x41ac10=async _0x259986=>{const _0x287036=_0x25c60d;try{return await _0x44ec50['readData'](_0x259986);}catch(_0x9d2728){_0x1ff857[_0x287036(0x90c)]({'readData':_0x287036(0x7a2),'error':_0x9d2728});return;}},_0x4eab18=async _0x283cc1=>{const _0x1728b9=_0x25c60d;try{return await _0x44ec50[_0x1728b9(0x8c3)](_0x283cc1);}catch(_0x23471d){_0x1ff857[_0x1728b9(0x90c)]({'readData':_0x1728b9(0x8c3),'error':_0x23471d});}},_0x50510d=await _0x41ac10(_0x25c60d(0x710))||(0x0,kt[_0x25c60d(0x371)])();return{'state':{'creds':_0x50510d,'keys':{'get':async(_0x26a771,_0x4523df)=>{const _0x538851=_0x25c60d;let _0x18d55c={};return await Promise[_0x538851(0x88b)](_0x4523df[_0x538851(0x3dc)](async _0x5df9b9=>{const _0x9dc870=_0x538851;let _0x4558e1=await _0x41ac10(_0x26a771+'-'+_0x5df9b9);_0x26a771===_0x9dc870(0x21c)&&_0x4558e1&&(_0x4558e1=kt[_0x9dc870(0x317)][_0x9dc870(0x38d)][_0x9dc870(0x5a9)][_0x9dc870(0x58c)](_0x4558e1)),_0x18d55c[_0x5df9b9]=_0x4558e1;})),_0x18d55c;},'set':async _0x29cd89=>{const _0x470a97=_0x25c60d;let _0x5d9eff=[];for(let _0x3cc977 in _0x29cd89)for(let _0x137b0c in _0x29cd89[_0x3cc977]){let _0x14d67f=_0x29cd89[_0x3cc977][_0x137b0c],_0x18f4c9=_0x3cc977+'-'+_0x137b0c;_0x5d9eff[_0x470a97(0x2cc)](_0x14d67f?await _0x47e6d8(_0x14d67f,_0x18f4c9):await _0x4eab18(_0x18f4c9));}await Promise[_0x470a97(0x88b)](_0x5d9eff);}}},'saveCreds':async()=>await _0x47e6d8(_0x50510d,_0x25c60d(0x710))};}var k=I(require('fs')),Q=require(a0_0x33f632(0x6e1)),Ut=I(require(a0_0x33f632(0x232))),oe=require(a0_0x33f632(0x801)),Ei=require(a0_0x33f632(0x76f)),Ni=require(a0_0x33f632(0x519)),$i=I(require(a0_0x33f632(0x81f))),Ee=class extends O{constructor(_0x2f025c,_0x3e8ed6,_0x53ae0e){const _0x18929c=a0_0x33f632;super(_0x3e8ed6),this[_0x18929c(0x398)]=_0x2f025c,this[_0x18929c(0x7fb)]=_0x3e8ed6,this[_0x18929c(0x8a0)]=_0x53ae0e;}async['createOrUpdate'](_0x25b3ab,_0x18d480){const _0xf0ba88=a0_0x33f632;try{if(this['dbSettings'][_0xf0ba88(0x399)]){console['log']('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x18d480+_0xf0ba88(0x76c),_0x25b3ab);let _0x16a1e6=await this['cacheInstanceModel'][_0xf0ba88(0x392)]({'_id':_0x18d480},{'$set':_0x25b3ab},{'new':!0x0,'upsert':!0x0});return console[_0xf0ba88(0x257)](_0xf0ba88(0x74a),_0x16a1e6),_0x16a1e6;}}catch(_0x5b0ad1){throw console[_0xf0ba88(0x90c)](_0xf0ba88(0x655),_0x5b0ad1),_0x5b0ad1;}return null;}async['deleteOne'](_0x332c6d){const _0x13f4fa=a0_0x33f632;try{let _0x1bbad7=A(_0x332c6d[_0x13f4fa(0x708)]);return{'deletedCount':(await this[_0x13f4fa(0x398)][_0x13f4fa(0x22e)](_0x1bbad7))[_0x13f4fa(0x718)]};}catch(_0x449264){return{'error':_0x449264?.[_0x13f4fa(0x765)]()};}}async[a0_0x33f632(0x91c)](_0x5f40b3){const _0x4d4277=a0_0x33f632;try{let _0x5830cf=A(_0x5f40b3[_0x4d4277(0x708)]);return await this['cacheInstanceModel'][_0x4d4277(0x91c)](_0x5830cf)[_0x4d4277(0x494)]();}catch{return null;}}},Ne=(0x0,Ni[a0_0x33f632(0x351)])(Ei[a0_0x33f632(0x8f1)]),xs=0x1f4,Do=S[a0_0x33f632(0x939)](a0_0x33f632(0x3f7)),Ps=class{constructor(){const _0x4482f5=a0_0x33f632;this[_0x4482f5(0x2b3)]=new Ee(We,S),(!this[_0x4482f5(0x58a)]||!this[_0x4482f5(0x604)])&&Do&&this['detectIPv6PrefixAndInterface']()[_0x4482f5(0x341)](async()=>{const _0x5b1770=_0x4482f5;console['log'](_0x5b1770(0x6ef)+this[_0x5b1770(0x58a)]),console['log'](_0x5b1770(0x5ac)+this['networkInterface']),await this['cleanupExcessiveIPs']();let _0x2f9896=await this[_0x5b1770(0x93a)]();console[_0x5b1770(0x257)]('Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20'+_0x2f9896);})[_0x4482f5(0x745)](_0x536a85=>{const _0x240d13=_0x4482f5;console[_0x240d13(0x90c)](_0x240d13(0x3b7)+_0x536a85[_0x240d13(0x4b4)]);});}async['cleanupExcessiveIPs'](){const _0xf46405=a0_0x33f632;let _0x5bdfc7=await this[_0xf46405(0x4e2)]();if(console[_0xf46405(0x257)](_0xf46405(0x4a7)+_0x5bdfc7[_0xf46405(0x6ee)]),_0x5bdfc7[_0xf46405(0x6ee)]>xs){let _0x226ba4=_0x5bdfc7['slice'](xs);for(let _0x5053c2 of _0x226ba4)console[_0xf46405(0x257)]('Removing\x20excess\x20IPv6\x20address:\x20'+_0x5053c2),await this[_0xf46405(0x2f8)](_0x5053c2);console['log'](_0xf46405(0x3da)+_0x226ba4[_0xf46405(0x6ee)]+_0xf46405(0x3c7));}else console['log'](_0xf46405(0x631));}async[a0_0x33f632(0x4e2)](){const _0x28c9c9=a0_0x33f632;try{let {stdout:_0x56d64e}=await Ne('ip\x20-6\x20addr\x20show\x20scope\x20global');return _0x56d64e[_0x28c9c9(0x405)]('\x0a')[_0x28c9c9(0x550)](_0x5470e3=>_0x5470e3[_0x28c9c9(0x51a)]('inet6')&&_0x5470e3[_0x28c9c9(0x51a)]('global'))[_0x28c9c9(0x3dc)](_0x3e700e=>_0x3e700e[_0x28c9c9(0x82d)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x28c9c9(0x550)](Boolean);}catch(_0xe9672){return console[_0x28c9c9(0x90c)](_0x28c9c9(0x483)+_0xe9672['message']),[];}}async[a0_0x33f632(0x93a)](){const _0x23c152=a0_0x33f632;try{let {stdout:_0x54d058}=await Ne(_0x23c152(0x313)),_0x35cee1=parseInt(_0x54d058[_0x23c152(0x3f4)](),0xa);return console[_0x23c152(0x257)](_0x23c152(0x3ca)+_0x35cee1),_0x35cee1;}catch(_0x15fd77){return console[_0x23c152(0x90c)](_0x23c152(0x1c7)+_0x15fd77[_0x23c152(0x4b4)]),0x0;}}async['removeIPv6'](_0x3998f0){const _0x308a70=a0_0x33f632;try{await Ne(_0x308a70(0x31b)+_0x3998f0+'/64\x20dev\x20'+this['networkInterface']),console['log']('IPv6\x20address\x20removed:\x20'+_0x3998f0);}catch(_0x3ced62){console[_0x308a70(0x90c)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x3ced62[_0x308a70(0x4b4)]);}}async[a0_0x33f632(0x5d7)](){const _0x7a1b52=a0_0x33f632;try{let {stdout:_0x4026be}=await Ne(_0x7a1b52(0x1ee));console['log'](_0x7a1b52(0x289)+_0x4026be);let _0x145258=_0x4026be[_0x7a1b52(0x405)]('\x0a')['map'](_0x19e1a4=>_0x19e1a4[_0x7a1b52(0x405)]('\x20')[0x0])[_0x7a1b52(0x550)](_0x40cefd=>!_0x40cefd[_0x7a1b52(0x51a)]('lo')&&!_0x40cefd[_0x7a1b52(0x51a)](_0x7a1b52(0x4da))&&!_0x40cefd['includes'](_0x7a1b52(0x3c1))&&!_0x40cefd[_0x7a1b52(0x51a)]('wl')&&!_0x40cefd['includes']('@'));if(console[_0x7a1b52(0x257)](_0x7a1b52(0x80b)+_0x145258),_0x145258[_0x7a1b52(0x6ee)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x7a1b52(0x604)]=_0x145258[0x0];let {stdout:_0x4cc89b}=await Ne(_0x7a1b52(0x54f)+this[_0x7a1b52(0x604)]);console['log'](_0x7a1b52(0x47b)+_0x4cc89b);let _0x58b4bc=_0x4cc89b['split']('\x0a')[_0x7a1b52(0x7fa)](_0x249660=>_0x249660[_0x7a1b52(0x51a)](_0x7a1b52(0x2e4))&&_0x249660[_0x7a1b52(0x51a)](_0x7a1b52(0x8b0)));if(!_0x58b4bc)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x14a30f=_0x58b4bc['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x14a30f)throw new Error(_0x7a1b52(0x24b));let [_0x3db538,_0x595305,_0x96e0d7]=_0x14a30f,_0x14bbfb=Math[_0x7a1b52(0x7a1)](Number(_0x96e0d7)/0x10),_0x1f93cc=Number(_0x96e0d7)%0x10,_0x5986e7=_0x595305['split'](':')[_0x7a1b52(0x63c)](0x0,_0x14bbfb)[_0x7a1b52(0x79a)](':');if(_0x1f93cc>0x0){let _0x4c1a18=_0x595305[_0x7a1b52(0x405)](':')[_0x14bbfb],_0x4267be=0xffff<<0x10-_0x1f93cc&0xffff,_0x5c693b=(parseInt(_0x4c1a18,0x10)&_0x4267be)[_0x7a1b52(0x765)](0x10)[_0x7a1b52(0x8ed)](0x4,'0');_0x5986e7+=':'+_0x5c693b;}this[_0x7a1b52(0x58a)]=_0x5986e7+':';}catch(_0x331c6e){console['error'](_0x7a1b52(0x1ad),_0x331c6e);}}async['configureIPv6'](_0x29824d){const _0x3822c0=a0_0x33f632;let _0x53a046=_0x3822c0(0x785)+_0x29824d+_0x3822c0(0x7d6)+this[_0x3822c0(0x604)];try{await Ne(_0x53a046),console[_0x3822c0(0x257)](_0x3822c0(0x31f)+_0x29824d);}catch(_0xbaf594){console[_0x3822c0(0x90c)](_0x3822c0(0x7df)+_0xbaf594);}}['randomMac'](){const _0x276d05=a0_0x33f632;return _0x276d05(0x936)['replace'](/X/g,()=>_0x276d05(0x440)[_0x276d05(0x584)](Math[_0x276d05(0x7a1)](Math[_0x276d05(0x3cf)]()*0x10)));}['ip6eui'](_0x11d04c,_0x3be689){const _0xa29f2f=a0_0x33f632;let _0x15ae76=_0x3be689[_0xa29f2f(0x405)](':');return _0x15ae76[0x0]=(parseInt(_0x15ae76[0x0],0x10)^0x2)[_0xa29f2f(0x765)](0x10)[_0xa29f2f(0x8ed)](0x2,'0'),''+_0x11d04c+_0x15ae76[0x0]+_0x15ae76[0x1]+':'+_0x15ae76[0x2]+_0xa29f2f(0x7f1)+_0x15ae76[0x3]+':'+_0x15ae76[0x4]+_0x15ae76[0x5];}[a0_0x33f632(0x201)](){const _0x70ac23=a0_0x33f632;let _0x498c7a=this['ipv6Prefix'];_0x498c7a[_0x70ac23(0x316)](':')||(_0x498c7a+=':');let _0x1672f6=this['randomMac']();return this[_0x70ac23(0x881)](_0x498c7a,_0x1672f6);}[a0_0x33f632(0x907)](_0x30feb3){const _0x9c834c=a0_0x33f632;return new RegExp(_0x9c834c(0x32b))['test'](_0x30feb3);}async[a0_0x33f632(0x6b1)](_0x1af72f){const _0x380e34=a0_0x33f632;let _0x2cdab2=[{'url':'https://ipv6.jsonip.com','parse':_0x3d3a1c=>_0x3d3a1c['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x17ac98=>_0x17ac98['ip']},{'url':_0x380e34(0x8d5),'parse':_0x2b6b13=>_0x2b6b13['trim']()},{'url':_0x380e34(0x2aa),'parse':_0x1b6bb4=>_0x1b6bb4[_0x380e34(0x3f4)]()}],_0x2b93a1=_0x2cdab2[Math[_0x380e34(0x7a1)](Math['random']()*_0x2cdab2[_0x380e34(0x6ee)])];try{let _0x5bf7f2=await $i[_0x380e34(0x844)][_0x380e34(0x939)](_0x2b93a1[_0x380e34(0x81e)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1af72f}}),_0x1ac6d0=_0x2b93a1[_0x380e34(0x366)](_0x5bf7f2[_0x380e34(0x621)]);return _0x1ac6d0[_0x380e34(0x4a2)]()===_0x1af72f[_0x380e34(0x4a2)]()?(console[_0x380e34(0x257)](_0x380e34(0x7ef)+_0x1af72f),!0x0):(console[_0x380e34(0x90c)](_0x380e34(0x33b)+_0x1af72f+_0x380e34(0x739)+_0x1ac6d0),!0x1);}catch(_0x1acb96){return console[_0x380e34(0x90c)](_0x380e34(0x209)+_0x2b93a1[_0x380e34(0x81e)]+':\x20'+_0x1acb96[_0x380e34(0x4b4)]),!0x1;}}async[a0_0x33f632(0x8c5)](_0x360841,_0x33c3f3){const _0x3002a9=a0_0x33f632;if(!this['ipv6Prefix']||!this[_0x3002a9(0x604)])return console['error']('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x526785=await this[_0x3002a9(0x4e2)]();if(_0x526785['length']>=xs){let _0x6bd542=_0x526785[Math[_0x3002a9(0x7a1)](Math[_0x3002a9(0x3cf)]()*_0x526785['length'])];return console[_0x3002a9(0x257)](_0x3002a9(0x25d)+_0x6bd542),_0x6bd542;}let _0x3633e6;do _0x3633e6=this[_0x3002a9(0x201)](),console[_0x3002a9(0x257)](_0x3002a9(0x567)+_0x3633e6);while(!this[_0x3002a9(0x907)](_0x3633e6));await this['configureIPv6'](_0x3633e6),console['log'](_0x3002a9(0x64d)+_0x3633e6);let _0x2b88a3={'_id':_0x360841+'-'+_0x33c3f3,'ip':_0x3633e6},_0x3c62c8=await this['cacheInstanceRepository'][_0x3002a9(0x29f)](_0x2b88a3,_0x2b88a3[_0x3002a9(0x7c9)]);return console[_0x3002a9(0x257)](_0x3002a9(0x7e3)+_0x3c62c8),_0x3633e6;}},ko=new Ps(),Le=ko,Us=a0_0x33f632(0x387),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S['get'](a0_0x33f632(0x329))[a0_0x33f632(0x3ac)][a0_0x33f632(0x487)],Ai=S[a0_0x33f632(0x939)](a0_0x33f632(0x3f7));async function Uo(){const _0xe0f400=a0_0x33f632;let _0x144800=await ve[_0xe0f400(0x91c)]();de=_0x144800?.[_0xe0f400(0x504)]??null,Fo=_0x144800?.[_0xe0f400(0x2c5)]??null,Us=_0x144800?.[_0xe0f400(0x473)]??_0xe0f400(0x387),xi=_0x144800?.[_0xe0f400(0x448)]??he??'uazapi';}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x914af8,_0x1710b7,_0x340bc2){const _0x4f5120=a0_0x33f632;this[_0x4f5120(0x7fb)]=_0x914af8,this[_0x4f5120(0x7b1)]=_0x1710b7,this[_0x4f5120(0x48b)]=_0x340bc2,this[_0x4f5120(0x5e2)]={},this['AutomateSystem']=null,this[_0x4f5120(0x5d3)]=new $(u[_0x4f5120(0x254)]),this[_0x4f5120(0x229)]={},this[_0x4f5120(0x4e7)]={},this[_0x4f5120(0x1f9)]={'state':_0x4f5120(0x3b3)},this[_0x4f5120(0x2b7)]=(0x0,j[_0x4f5120(0x79a)])(ne,_0x4f5120(0x21d)),this[_0x4f5120(0x1e9)]=new Fs['default'](),this['userDevicesCache']=new Fs['default'](),this[_0x4f5120(0x4e5)]=!0x1,this[_0x4f5120(0x88f)]={'status.instance':_0x4f5120(0x652),'connection.update':_0x4f5120(0x652),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x4f5120(0x64b),'send.message':_0x4f5120(0x64b),'messages.update':'/wa-message-update','group.upsert':_0x4f5120(0x598),'group.update':_0x4f5120(0x598),'group-participants.update':_0x4f5120(0x598),'messages.set':_0x4f5120(0x7c3),'contacts.set':'/wa-contacts','contacts.upsert':_0x4f5120(0x45c),'contacts.update':_0x4f5120(0x45c),'presence.update':_0x4f5120(0x721),'chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':_0x4f5120(0x555),'chats.delete':_0x4f5120(0x555)},this[_0x4f5120(0x8db)]=0x0,this[_0x4f5120(0x740)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x4f5120(0x80d)]={'chats.upsert':async(_0x3b0aca,_0x14d58d)=>{const _0x24d7d4=_0x4f5120;let _0x23df97=[];for await(let _0x5e1337 of _0x3b0aca)_0x23df97['push']({'_id':_0x5e1337['id'],'owner':this['instance'][_0x24d7d4(0x6d8)],'group':_0x5e1337['id']['endsWith'](_0x24d7d4(0x443)),'name':_0x5e1337[_0x24d7d4(0x254)]||_0x5e1337['displayName']||null,'contactname':null,'lastmsg':_0x5e1337[_0x24d7d4(0x3e4)]&&_0x5e1337[_0x24d7d4(0x3e4)][_0x24d7d4(0x765)]()[_0x24d7d4(0x6ee)]<0xd?_0x5e1337[_0x24d7d4(0x3e4)]*0x3e8:_0x5e1337[_0x24d7d4(0x3e4)]||null,'archived':_0x5e1337['archived']||!0x1,'unreadcount':_0x5e1337['unreadCount']||0x0,'ephemeralExpiration':_0x5e1337[_0x24d7d4(0x450)]||0x0});this[_0x24d7d4(0x75f)](_0x24d7d4(0x2a0),_0x23df97);},'chats.update':async(_0x29a150,_0x426943)=>{const _0x11c3d4=_0x4f5120;for(let _0x1c93f8 of _0x29a150){let _0x39bb45={'_id':_0x1c93f8['id'],'owner':this[_0x11c3d4(0x229)]['wuid'],'archived':_0x1c93f8[_0x11c3d4(0x86d)],'muteEndTime':_0x1c93f8[_0x11c3d4(0x78f)],'ephemeralExpiration':_0x1c93f8[_0x11c3d4(0x450)]},_0x5daab6=!0x1,_0x40004e={};_0x39bb45['archived']!=null&&(this[_0x11c3d4(0x5d3)][_0x11c3d4(0x843)](this[_0x11c3d4(0x59f)]+'\x20('+this['instance'][_0x11c3d4(0x6d8)]+_0x11c3d4(0x22b)+_0x1c93f8['id']+_0x11c3d4(0x4f0)+_0x1c93f8[_0x11c3d4(0x86d)]),_0x5daab6=!0x0,_0x40004e['archived']=_0x1c93f8[_0x11c3d4(0x86d)]),_0x11c3d4(0x78f)in _0x1c93f8&&(this[_0x11c3d4(0x5d3)][_0x11c3d4(0x843)](this[_0x11c3d4(0x59f)]+'\x20('+this[_0x11c3d4(0x229)][_0x11c3d4(0x6d8)]+_0x11c3d4(0x248)+_0x1c93f8['id']+_0x11c3d4(0x4f0)+(_0x1c93f8[_0x11c3d4(0x78f)]??'0')),_0x5daab6=!0x0,_0x40004e[_0x11c3d4(0x78f)]=_0x1c93f8['muteEndTime']??0x0),'ephemeralExpiration'in _0x1c93f8&&(this['logger'][_0x11c3d4(0x843)](this[_0x11c3d4(0x59f)]+'\x20('+this[_0x11c3d4(0x229)][_0x11c3d4(0x6d8)]+_0x11c3d4(0x442)+_0x1c93f8['id']+_0x11c3d4(0x4f0)+(_0x1c93f8[_0x11c3d4(0x450)]!==void 0x0?_0x1c93f8[_0x11c3d4(0x450)]:'undefined')),_0x40004e['ephemeralExpiration']=_0x1c93f8[_0x11c3d4(0x450)]===null?0x0:_0x1c93f8[_0x11c3d4(0x450)],_0x5daab6=!0x0);let _0x2f4a8f;_0x5daab6&&(_0x2f4a8f=await this[_0x11c3d4(0x48b)]['chat'][_0x11c3d4(0x215)]({'where':{'_id':_0x1c93f8['id']}},_0x40004e,this[_0x11c3d4(0x229)]['wuid'])),_0x2f4a8f&&F(this['instanceName'],_0x11c3d4(0x228),{'chat':_0x2f4a8f});}},'chats.delete':async _0x2e2c20=>{const _0x5b436d=_0x4f5120;for(let _0x5d05e5 of _0x2e2c20)if(_0x5d05e5[_0x5b436d(0x316)](_0x5b436d(0x443))){await this[_0x5b436d(0x48b)][_0x5b436d(0x2cb)][_0x5b436d(0x8ce)]({'where':{'_id':_0x5d05e5}},this['instance'][_0x5b436d(0x6d8)]);let _0x35b586={'where':{'key':{'remoteJid':_0x5d05e5}}};await this['repository'][_0x5b436d(0x4b4)][_0x5b436d(0x8ce)](_0x35b586,this[_0x5b436d(0x229)]['wuid']);}else{await this[_0x5b436d(0x48b)][_0x5b436d(0x2cb)][_0x5b436d(0x215)]({'where':{'_id':_0x5d05e5}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5b436d(0x229)]['wuid']);let _0x32e839={'where':{'key':{'remoteJid':_0x5d05e5}}};await this['repository'][_0x5b436d(0x4b4)][_0x5b436d(0x8ce)](_0x32e839,this[_0x5b436d(0x229)][_0x5b436d(0x6d8)]);}this[_0x5b436d(0x75f)]('chats.delete',[..._0x2e2c20]);}},this[_0x4f5120(0x5c8)]={'contacts.upsert':async(_0x575f15,_0x160695)=>{const _0x171aae=_0x4f5120;let _0x1fd6fa=await this['repository'][_0x171aae(0x335)][_0x171aae(0x7fa)]({'where':{}},this['instance'][_0x171aae(0x6d8)]),_0x4a88a0=[];for await(let _0xe34652 of _0x575f15)_0x1fd6fa[_0x171aae(0x7fa)](_0x668473=>_0x668473[_0x171aae(0x7c9)]===_0xe34652['id'])||_0x4a88a0['push']({'_id':_0xe34652['id'],'pushName':_0xe34652?.[_0x171aae(0x254)]||_0xe34652?.[_0x171aae(0x303)],'owner':this[_0x171aae(0x229)][_0x171aae(0x6d8)]});this[_0x171aae(0x75f)]('contacts.upsert',_0x4a88a0),await this[_0x171aae(0x48b)][_0x171aae(0x335)][_0x171aae(0x37d)](_0x4a88a0);},'contacts.update':async(_0x3873bf,_0x223700)=>{const _0x17497c=_0x4f5120;let _0x38c408=[];for await(let _0x61b914 of _0x3873bf)_0x38c408[_0x17497c(0x2cc)]({'_id':_0x61b914['id'],'pushName':_0x61b914?.[_0x17497c(0x254)]??_0x61b914?.[_0x17497c(0x303)],'owner':this[_0x17497c(0x229)][_0x17497c(0x6d8)]});this[_0x17497c(0x75f)](_0x17497c(0x542),_0x38c408);}},this['messageHandle']={'messaging-history.set':async({messages:_0x3e68e4,chats:_0x48cf75,isLatest:_0x54e090},_0x2b638d)=>{const _0x394da1=_0x4f5120;if(_0x54e090){setTimeout(()=>{const _0x25b0e3=a0_0x308e;this['instance'][_0x25b0e3(0x77c)]=!0x0,console[_0x25b0e3(0x257)](_0x25b0e3(0x865));},0x1d4c0);let _0x1abe7a=await Promise[_0x394da1(0x88b)](_0x48cf75[_0x394da1(0x3dc)](async _0x197968=>({'_id':_0x197968['id'],'owner':this[_0x394da1(0x229)][_0x394da1(0x6d8)],'group':_0x197968['id'][_0x394da1(0x316)]('@g.us'),'name':_0x197968[_0x394da1(0x254)]||_0x197968['displayName']||_0x197968['username']||null,'contactname':null,'lastmsg':_0x197968[_0x394da1(0x3e4)]&&_0x197968[_0x394da1(0x3e4)][_0x394da1(0x765)]()[_0x394da1(0x6ee)]<0xd?_0x197968[_0x394da1(0x3e4)]*0x3e8:_0x197968['conversationTimestamp']||null,'archived':_0x197968[_0x394da1(0x86d)]||!0x1,'unreadcount':_0x197968[_0x394da1(0x874)]||0x0,'ephemeralExpiration':_0x197968[_0x394da1(0x450)]||0x0,'muteEndTime':_0x197968['muteEndTime']||0x0})));this[_0x394da1(0x75f)](_0x394da1(0x576),_0x1abe7a),await this[_0x394da1(0x89b)](_0x1abe7a,_0x2b638d);}let _0x502aa2=[],_0x577021=Date[_0x394da1(0x26a)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x232308]of Object['entries'](_0x3e68e4)){if(_0x232308[_0x394da1(0x4b4)]?.[_0x394da1(0x754)]||_0x232308[_0x394da1(0x4b4)]?.[_0x394da1(0x69d)]||!_0x232308[_0x394da1(0x4b4)]||_0x232308[_0x394da1(0x6de)][_0x394da1(0x330)]==='status@broadcast'||(Ls[_0x394da1(0x844)][_0x394da1(0x4c7)](_0x232308?.[_0x394da1(0x639)])&&(_0x232308[_0x394da1(0x639)]=_0x232308['messageTimestamp']?.['toNumber']()),_0x232308['messageTimestamp']&&_0x232308[_0x394da1(0x639)]['toString']()[_0x394da1(0x6ee)]<0xd&&(_0x232308['messageTimestamp']=_0x232308[_0x394da1(0x639)]*0x3e8),_0x232308[_0x394da1(0x639)]<_0x577021))continue;let _0x597db2=(0x0,w['normalizeMessageContent'])(_0x232308[_0x394da1(0x4b4)]),_0x226cf8=(0x0,w['getContentType'])(_0x597db2),{message_normalized:_0x58b02f}=this[_0x394da1(0x1bb)](_0x597db2,_0x226cf8,null);Object[_0x394da1(0x516)](_0x58b02f)[_0x394da1(0x6ee)]>0x0&&_0x502aa2[_0x394da1(0x2cc)]({'_id':_0x232308[_0x394da1(0x6de)]['id'],'key':_0x232308['key'],'pushName':_0x232308[_0x394da1(0x66b)],'participant':_0x232308['participant'],'message':_0x597db2,'messageType':_0x226cf8,'message_normalized':{'key':_0x232308[_0x394da1(0x6de)],'pushName':_0x232308[_0x394da1(0x66b)],'messageTimestamp':_0x232308[_0x394da1(0x639)],..._0x58b02f},'messageTimestamp':_0x232308[_0x394da1(0x639)],'owner':this[_0x394da1(0x229)][_0x394da1(0x6d8)]});}_0x2b638d['ENABLED']&&_0x502aa2['length']>0x0&&(this[_0x394da1(0x5d3)][_0x394da1(0x843)](this[_0x394da1(0x59f)]+'\x20('+this[_0x394da1(0x229)]['wuid']+'):\x20'+_0x502aa2[_0x394da1(0x6ee)]+_0x394da1(0x3ec)+this[_0x394da1(0x229)][_0x394da1(0x6d8)]+_0x394da1(0x3a8)),await this[_0x394da1(0x48b)][_0x394da1(0x4b4)][_0x394da1(0x37d)]([..._0x502aa2],this[_0x394da1(0x229)][_0x394da1(0x6d8)]));let _0x1aa47f=Date[_0x394da1(0x26a)]()-0xa*0x3c*0x3e8;for(let _0xffcea8 of _0x502aa2)if(this['instance'][_0x394da1(0x77c)]&&_0xffcea8['messageTimestamp']>=_0x1aa47f){if(this[_0x394da1(0x452)](this[_0x394da1(0x229)][_0x394da1(0x6d8)],_0xffcea8[_0x394da1(0x7c9)])){this[_0x394da1(0x5d3)][_0x394da1(0x843)](this['instanceName']+'\x20('+this[_0x394da1(0x229)][_0x394da1(0x6d8)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0xffcea8[_0x394da1(0x7c9)]+')');continue;}this['addToProcessedMessages'](this[_0x394da1(0x229)]['wuid'],_0xffcea8[_0x394da1(0x7c9)]),this['sendDataWebhook'](_0x394da1(0x271),_0xffcea8);}else this[_0x394da1(0x75f)]('messages.set',_0xffcea8);_0x3e68e4=void 0x0;},'messages.upsert':async({messages:_0x35dde8,type:_0x1f88c6},_0x5bf0f0)=>{const _0x2dab8f=_0x4f5120;for(let _0x5e0ade of _0x35dde8){if(this['localWebhook']?.[_0x2dab8f(0x2cd)]&&_0x5e0ade['key'][_0x2dab8f(0x330)][_0x2dab8f(0x51a)](_0x2dab8f(0x443))){this[_0x2dab8f(0x5d3)][_0x2dab8f(0x843)](this[_0x2dab8f(0x59f)]+'\x20('+this[_0x2dab8f(0x229)][_0x2dab8f(0x6d8)]+_0x2dab8f(0x559));continue;}if(_0x5e0ade['key'][_0x2dab8f(0x330)][_0x2dab8f(0x51a)]('@newsletter')||_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x330)]===_0x2dab8f(0x8f7))continue;if(_0x5e0ade[_0x2dab8f(0x7bf)]&&_0x5e0ade[_0x2dab8f(0x7bf)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x2dab8f(0x90c)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x2dab8f(0x44b)](_0x5e0ade),Lt[_0x5e0ade[_0x2dab8f(0x6de)]['id']]=_0x5e0ade,this[_0x2dab8f(0x421)](_0x5e0ade,0x0);continue;}if(_0x1f88c6!==_0x2dab8f(0x44c)||!_0x5e0ade?.[_0x2dab8f(0x4b4)]||_0x5e0ade[_0x2dab8f(0x4b4)]?.['protocolMessage']||_0x5e0ade[_0x2dab8f(0x4b4)]?.['senderKeyDistributionMessage'])continue;let _0x2185cf=null,_0x4afdfa=null;if(Lt[_0x5e0ade[_0x2dab8f(0x6de)]['id']]&&(console[_0x2dab8f(0x90c)](_0x2dab8f(0x2c9)),await this[_0x2dab8f(0x48b)][_0x2dab8f(0x7d2)][_0x2dab8f(0x8ce)]({'where':{'_id':_0x5e0ade[_0x2dab8f(0x6de)]['id']}}),delete Lt[_0x5e0ade[_0x2dab8f(0x6de)]['id']]),this[_0x2dab8f(0x452)](this[_0x2dab8f(0x229)]['wuid'],_0x5e0ade[_0x2dab8f(0x6de)]['id'])){this[_0x2dab8f(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0x2dab8f(0x229)]['wuid']+_0x2dab8f(0x2fd));continue;}this[_0x2dab8f(0x472)](this[_0x2dab8f(0x229)][_0x2dab8f(0x6d8)],_0x5e0ade[_0x2dab8f(0x6de)]['id']);try{_0x2185cf=await this[_0x2dab8f(0x46b)](_0x5e0ade),_0x4afdfa=_0x2185cf?_0x2185cf[_0x2dab8f(0x79a)](','):null;}catch(_0x16993f){this[_0x2dab8f(0x5d3)][_0x2dab8f(0x843)](this[_0x2dab8f(0x59f)]+'\x20('+this[_0x2dab8f(0x229)][_0x2dab8f(0x6d8)]+_0x2dab8f(0x766)+(_0x16993f instanceof Error?_0x16993f[_0x2dab8f(0x4b4)]:JSON[_0x2dab8f(0x3f5)](_0x16993f,null,0x2))),_0x4afdfa='error\x20get\x20vote';}this[_0x2dab8f(0x467)][_0x2dab8f(0x4ce)](_0x2dab8f(0x609)),Ls[_0x2dab8f(0x844)][_0x2dab8f(0x4c7)](_0x5e0ade[_0x2dab8f(0x639)])&&(_0x5e0ade[_0x2dab8f(0x639)]=_0x5e0ade[_0x2dab8f(0x639)]?.[_0x2dab8f(0x306)]()),_0x5e0ade[_0x2dab8f(0x639)]&&_0x5e0ade['messageTimestamp'][_0x2dab8f(0x765)]()[_0x2dab8f(0x6ee)]<0xd&&(_0x5e0ade[_0x2dab8f(0x639)]=_0x5e0ade['messageTimestamp']*0x3e8);let _0x13c4e4=_0x5e0ade['message'],_0x1f3fad=(0x0,w[_0x2dab8f(0x8ae)])(_0x13c4e4),_0x51ad5d=(0x0,w['getContentType'])(_0x1f3fad),{messageContent:_0x5786be,message_normalized:_0x23d71d}=this['normalizeMessage'](_0x1f3fad,_0x51ad5d,_0x4afdfa);if(_0x51ad5d===_0x2dab8f(0x754)&&_0x5786be?.[_0x2dab8f(0x822)]&&(_0x51ad5d=_0x2dab8f(0x822)),_0x51ad5d==='interactiveMessage'&&_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x7e8)])continue;let _0x1f6801,_0x41772e=_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x330)][_0x2dab8f(0x316)](_0x2dab8f(0x443));if(_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x7e8)])_0x1f6801=this[_0x2dab8f(0x229)][_0x2dab8f(0x8d0)];else{let _0x205acc=_0x41772e?_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x1bf)]:_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x330)];_0x1f6801=(await this[_0x2dab8f(0x1ca)](_0x205acc,_0x5e0ade['pushName'],!0x1))[_0x2dab8f(0x42a)][_0x2dab8f(0x44f)];}let _0x4e8aae={'_id':_0x5e0ade[_0x2dab8f(0x6de)]['id'],'key':_0x5e0ade[_0x2dab8f(0x6de)],'isGroup':_0x41772e,'profilePictureUrl':_0x1f6801,'pushName':_0x5e0ade['pushName'],'message':_0x1f3fad,'messageType':_0x51ad5d,'message_normalized':{'key':_0x5e0ade['key'],'pushName':_0x5e0ade[_0x2dab8f(0x66b)],'messageTimestamp':_0x5e0ade[_0x2dab8f(0x639)],'source':(0x0,w[_0x2dab8f(0x62e)])(_0x5e0ade['key']['id']),..._0x23d71d},'messageTimestamp':_0x5e0ade[_0x2dab8f(0x639)],'owner':this[_0x2dab8f(0x229)][_0x2dab8f(0x6d8)],'source':(0x0,w['getDevice'])(_0x5e0ade[_0x2dab8f(0x6de)]['id']),'expiration':_0x5786be?.[_0x2dab8f(0x3fa)]?.[_0x2dab8f(0x935)]||0x0};if(_0x5786be||(this[_0x2dab8f(0x5d3)][_0x2dab8f(0x90c)](_0x2dab8f(0x87a)),this['logger'][_0x2dab8f(0x90c)](_0x4e8aae)),_0x23d71d['text']===_0x2dab8f(0x553)){console[_0x2dab8f(0x90c)](_0x2dab8f(0x645)),await this[_0x2dab8f(0x44b)](_0x5e0ade);continue;}this['logger']['log'](this['instanceName']+'\x20('+this['instance'][_0x2dab8f(0x6d8)]+'):\x20'+(_0x4e8aae[_0x2dab8f(0x6de)]?.[_0x2dab8f(0x7e8)]?_0x2dab8f(0x849):_0x2dab8f(0x4df))+'\x20['+_0x4e8aae['key']?.[_0x2dab8f(0x330)][_0x2dab8f(0x60a)](_0x2dab8f(0x8b2),'')+_0x2dab8f(0x8df)+_0x4e8aae['messageType']+')'),_0x4e8aae[_0x2dab8f(0x706)]?.[_0x2dab8f(0x8bc)]&&this[_0x2dab8f(0x5d3)][_0x2dab8f(0x257)](_0x5e0ade[_0x2dab8f(0x6de)]['id']+':\x20'+_0x4e8aae[_0x2dab8f(0x706)]?.['text']),await this[_0x2dab8f(0x48b)]['message'][_0x2dab8f(0x37d)]([_0x4e8aae],this[_0x2dab8f(0x229)][_0x2dab8f(0x6d8)]),this['sendDataWebhook']('messages.upsert',_0x4e8aae),F(this[_0x2dab8f(0x59f)],'messages',{'message':_0x4e8aae}),_0x5e0ade[_0x2dab8f(0x6de)][_0x2dab8f(0x330)]!==_0x2dab8f(0x8f7)&&await this[_0x2dab8f(0x658)](_0x5bf0f0,_0x4e8aae,_0x2dab8f(0x463));}},'messages.update':async(_0xa57e9d,_0x48347f)=>{const _0x54013d=_0x4f5120;let _0x93a84b={0x0:'ERROR',0x1:_0x54013d(0x87e),0x2:_0x54013d(0x53d),0x3:_0x54013d(0x505),0x4:_0x54013d(0x815),0x5:_0x54013d(0x314)};for await(let {key:_0x4d5653,update:_0x1e3da0}of _0xa57e9d){if(this[_0x54013d(0x4e7)]?.['groups_ignore']&&_0x4d5653[_0x54013d(0x330)]['includes'](_0x54013d(0x443))){this[_0x54013d(0x5d3)][_0x54013d(0x843)](this[_0x54013d(0x59f)]+'\x20('+this[_0x54013d(0x229)][_0x54013d(0x6d8)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x4d5653[_0x54013d(0x330)]!=='status@broadcast'){let _0x29b5ba=Date[_0x54013d(0x26a)](),_0x1c8e25;_0x1e3da0[_0x54013d(0x4b4)]===null&&_0x1e3da0[_0x54013d(0x3ee)]===void 0x0?_0x1c8e25=_0x54013d(0x61e):_0x1c8e25=_0x93a84b[_0x1e3da0[_0x54013d(0x3ee)]];let _0x2fde5a=_0x4d5653['remoteJid'][_0x54013d(0x60a)](/:\d{1,2}@/g,'@'),_0x1a045c={..._0x4d5653,'remoteJid':_0x2fde5a,'status':_0x1c8e25,'datetime':_0x29b5ba,'owner':this[_0x54013d(0x229)][_0x54013d(0x6d8)]};this[_0x54013d(0x75f)]('messages.update',_0x1a045c),await this[_0x54013d(0x6b4)](_0x4d5653,_0x1a045c);}}},'labels.association':async({type:_0x2ca61f,association:_0x2b79aa})=>{const _0x4711a0=_0x4f5120;if(_0x2b79aa[_0x4711a0(0x809)]===_0x4711a0(0x651)){let _0x8aa450,_0x7bc7b5=0x0;for(;!_0x8aa450&&_0x7bc7b5<this[_0x4711a0(0x4d9)];)_0x8aa450=await this[_0x4711a0(0x48b)][_0x4711a0(0x2cb)]['findOne']({'where':{'_id':_0x2b79aa[_0x4711a0(0x498)]}},this[_0x4711a0(0x229)][_0x4711a0(0x6d8)]),_0x8aa450||(_0x7bc7b5++,this['logger'][_0x4711a0(0x8ef)](this[_0x4711a0(0x59f)]+'\x20('+this['instance']['wuid']+_0x4711a0(0x22c)+_0x2b79aa[_0x4711a0(0x498)]+_0x4711a0(0x6a5)+this[_0x4711a0(0x6cb)]+'ms\x20(tentativa\x20'+_0x7bc7b5+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x4711a0(0x3af)](this[_0x4711a0(0x6cb)]));if(!_0x8aa450){this[_0x4711a0(0x5d3)][_0x4711a0(0x90c)](_0x4711a0(0x3b2)+_0x2b79aa[_0x4711a0(0x498)]+_0x4711a0(0x672)+this['delayChatLabel_MAX_RETRIES']+_0x4711a0(0x827));return;}switch(_0x2ca61f){case'add':console[_0x4711a0(0x257)](_0x2b79aa),await this['repository'][_0x4711a0(0x2cb)][_0x4711a0(0x215)]({'where':{'_id':_0x2b79aa[_0x4711a0(0x498)]}},{'leadInfo.etiquetas':_0x2b79aa[_0x4711a0(0x6bb)]},this[_0x4711a0(0x229)]['wuid'],void 0x0,_0x4711a0(0x7ca));break;case _0x4711a0(0x8a9):console[_0x4711a0(0x257)](_0x2b79aa),await this[_0x4711a0(0x48b)][_0x4711a0(0x2cb)]['updateOne']({'where':{'_id':_0x2b79aa[_0x4711a0(0x498)]}},{'leadInfo.etiquetas':_0x2b79aa[_0x4711a0(0x6bb)]},this[_0x4711a0(0x229)]['wuid'],void 0x0,_0x4711a0(0x507));break;default:this[_0x4711a0(0x5d3)][_0x4711a0(0x90c)]('unknown\x20operation\x20type\x20['+_0x2ca61f+']');}}},'labels.edit':async _0x1bc2c4=>{const _0x16feb1=_0x4f5120;if(!_0x1bc2c4||!_0x1bc2c4['id']){this[_0x16feb1(0x5d3)][_0x16feb1(0x90c)](_0x16feb1(0x65b));return;}if(!_0x1bc2c4['deleted']){let _0x39a73a=[_0x16feb1(0x21f),'#64c4ff',_0x16feb1(0x1c0),_0x16feb1(0x85b),_0x16feb1(0x583),_0x16feb1(0x53c),_0x16feb1(0x200),_0x16feb1(0x3b1),_0x16feb1(0x641),_0x16feb1(0x1b5),_0x16feb1(0x309),_0x16feb1(0x1c6),_0x16feb1(0x2ef),'#f64847',_0x16feb1(0x5db),'#83e421',_0x16feb1(0x1b8),_0x16feb1(0x4b3),'#9ba6ff',_0x16feb1(0x8d9)],_0x3a3d90;typeof _0x1bc2c4[_0x16feb1(0x295)]==_0x16feb1(0x3ae)&&_0x1bc2c4['color']>=0x0&&_0x1bc2c4[_0x16feb1(0x295)]<_0x39a73a[_0x16feb1(0x6ee)]?_0x3a3d90=_0x39a73a[_0x1bc2c4['color']]:(this[_0x16feb1(0x5d3)][_0x16feb1(0x90c)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x1bc2c4[_0x16feb1(0x295)]),_0x3a3d90='#000000');let _0xfc117={'_id':_0x1bc2c4['id'],'colorHex':_0x3a3d90,'color':_0x1bc2c4?.[_0x16feb1(0x295)],'name':_0x1bc2c4?.[_0x16feb1(0x254)],'owner':this['instance'][_0x16feb1(0x6d8)]};await this[_0x16feb1(0x48b)]['label'][_0x16feb1(0x215)]({'where':{'_id':_0x1bc2c4['id']}},_0xfc117,this[_0x16feb1(0x229)][_0x16feb1(0x6d8)]),this[_0x16feb1(0x5d3)][_0x16feb1(0x8ef)](this[_0x16feb1(0x59f)]+'\x20('+this['instance'][_0x16feb1(0x6d8)]+_0x16feb1(0x825)+_0x1bc2c4);}_0x1bc2c4[_0x16feb1(0x653)]&&(await this['repository'][_0x16feb1(0x4a5)][_0x16feb1(0x8ce)]({'where':{'_id':_0x1bc2c4['id']}},this[_0x16feb1(0x229)][_0x16feb1(0x6d8)]),this['logger'][_0x16feb1(0x8ef)](_0x16feb1(0x823)+_0x1bc2c4['id']));}},this[_0x4f5120(0x352)]={'groups.upsert':async _0x36d182=>{const _0x2cd197=_0x4f5120;this[_0x2cd197(0x4e7)]?.[_0x2cd197(0x2cd)]||this['sendDataWebhook'](_0x2cd197(0x3f6),_0x36d182);for(let _0x5da1f3 of _0x36d182)await this['updateGroupWebhook'](_0x5da1f3);},'groups.update':async _0x2616c3=>{const _0x2b7446=_0x4f5120;this[_0x2b7446(0x4e7)]?.[_0x2b7446(0x2cd)]||this[_0x2b7446(0x75f)]('groups.update',_0x2616c3);for(let _0x2db0e7 of _0x2616c3)await this[_0x2b7446(0x2bb)](_0x2db0e7);},'group-participants.update':async _0x4b690c=>{const _0x3a8a85=_0x4f5120;this['localWebhook']?.[_0x3a8a85(0x2cd)]||this[_0x3a8a85(0x75f)]('group-participants.update',_0x4b690c),await this[_0x3a8a85(0x7af)](_0x4b690c);}},this[_0x4f5120(0x4d9)]=0x5,this[_0x4f5120(0x6cb)]=0x1388,this[_0x4f5120(0x50c)]=0x0,this[_0x4f5120(0x46b)]=async _0xef9ffc=>{const _0x2d296a=_0x4f5120;if(_0xef9ffc[_0x2d296a(0x4b4)]?.['pollUpdateMessage']){let _0x57afdb=await this[_0x2d296a(0x8a2)](_0xef9ffc[_0x2d296a(0x4b4)][_0x2d296a(0x72b)][_0x2d296a(0x479)],!0x0);if(_0x57afdb){let _0x55cd88=_0x57afdb[_0x2d296a(0x6de)][_0x2d296a(0x7e8)]?this[_0x2d296a(0x229)][_0x2d296a(0x6d8)]+_0x2d296a(0x8b2):_0x57afdb['key']['participant']||_0x57afdb[_0x2d296a(0x6de)]['remoteJid'],_0x2f395b=_0x57afdb['key']['id'],_0x15763c=_0x57afdb[_0x2d296a(0x4b4)],_0x20a94a=Buffer[_0x2d296a(0x40f)](_0x15763c[_0x2d296a(0x2b0)][_0x2d296a(0x4ff)][_0x2d296a(0x765)](_0x2d296a(0x353)),'hex'),_0xf40b4e=(0x0,w[_0x2d296a(0x40a)])(_0xef9ffc[_0x2d296a(0x4b4)][_0x2d296a(0x72b)][_0x2d296a(0x338)],{'pollCreatorJid':_0x55cd88,'pollMsgId':_0x2f395b,'pollEncKey':_0x20a94a,'voterJid':_0xef9ffc['key'][_0x2d296a(0x7e8)]?this[_0x2d296a(0x229)]['wuid']+_0x2d296a(0x8b2):_0xef9ffc[_0x2d296a(0x6de)][_0x2d296a(0x330)][_0x2d296a(0x316)](_0x2d296a(0x67f))?_0xef9ffc[_0x2d296a(0x6de)][_0x2d296a(0x1bf)]:_0xef9ffc[_0x2d296a(0x6de)]['remoteJid']}),_0x20cd41=[],_0x2631b9=_0xf40b4e[_0x2d296a(0x889)][_0x2d296a(0x3dc)](_0xdccba6=>Buffer[_0x2d296a(0x40f)](_0xdccba6)[_0x2d296a(0x765)]('hex'));for(let {optionName:_0x4a8439}of _0x15763c['pollCreationMessage']?.['options']||_0x15763c['pollCreationMessageV3']?.[_0x2d296a(0x337)]||_0x15763c[_0x2d296a(0x349)]?.[_0x2d296a(0x337)])_0x2631b9[_0x2d296a(0x4fe)]((0x0,w[_0x2d296a(0x462)])(Buffer[_0x2d296a(0x40f)](_0x4a8439))['toString'](_0x2d296a(0x353)))>-0x1&&_0x20cd41['push'](_0x4a8439);return _0x20cd41;}}return null;},this[_0x4f5120(0x1bb)]=(_0x4c72bb,_0x126bfd,_0x1e46cf)=>{const _0xf34405=_0x4f5120;try{let _0x5bf780=_0x4c72bb?(0x0,w[_0xf34405(0x4b9)])(_0x4c72bb)[_0x126bfd]:void 0x0,_0xe01bca={},_0x1cda3c=null,_0x12d951=null,_0x4a7209=null,_0x5cdee6=null;_0x126bfd===_0xf34405(0x754)&&_0x5bf780?.[_0xf34405(0x822)]&&(_0x126bfd=(0x0,w['getContentType'])(_0x5bf780[_0xf34405(0x822)]),_0x1cda3c=_0x4c72bb['protocolMessage']['key']['id'],_0x5bf780=_0x4c72bb[_0xf34405(0x754)]['editedMessage'][_0x126bfd]),_0x4c72bb[_0x126bfd]?.[_0xf34405(0x3fa)]?.[_0xf34405(0x83f)]&&_0x4c72bb[_0x126bfd]?.[_0xf34405(0x3fa)]?.[_0xf34405(0x627)]&&(_0x12d951=_0x4c72bb[_0x126bfd][_0xf34405(0x3fa)][_0xf34405(0x83f)]),_0x4c72bb['reactionMessage']&&(_0x4a7209=_0x4c72bb[_0xf34405(0x2dd)]['key']['id']);let _0x495888;if(_0x5bf780&&typeof _0x5bf780=='object'&&_0xf34405(0x479)in _0x5bf780&&({pollCreationMessageKey:_0x495888}=_0x5bf780),_0x126bfd==='pollCreationMessage'||_0x126bfd===_0xf34405(0x349)||_0x126bfd===_0xf34405(0x1f0)){let _0xec7649=_0x5bf780[_0xf34405(0x337)][_0xf34405(0x3dc)](_0x440b87=>_0x440b87['optionName'])[_0xf34405(0x79a)]('|');_0xe01bca[_0xf34405(0x4b2)]=_0xec7649;}if(_0x126bfd===_0xf34405(0x365)){let _0x32b0de=_0x5bf780[_0xf34405(0x771)]['buttons'][_0xf34405(0x3dc)](_0x5563d3=>JSON[_0xf34405(0x366)](_0x5563d3[_0xf34405(0x28e)])[_0xf34405(0x697)])[_0xf34405(0x79a)]('|');_0xe01bca['convertedOptions']=_0x32b0de;}_0x126bfd==='listResponseMessage'&&(_0xe01bca[_0xf34405(0x2ff)]=_0x5bf780?.[_0xf34405(0x8a4)]?.['selectedRowId']);let _0x545d1a='';if(_0x5bf780&&(_0x545d1a+=_0x5bf780['name']?_0x5bf780[_0xf34405(0x254)]:'',_0x545d1a+=_0x5bf780[_0xf34405(0x747)]?'\x20'+_0x5bf780['caption']:'',_0x545d1a+=_0x5bf780[_0xf34405(0x8da)]?'\x20'+_0x5bf780[_0xf34405(0x8da)]:'',_0x545d1a+=_0x5bf780['displayName']?'\x20'+_0x5bf780['displayName']:'',_0x126bfd!=='interactiveResponseMessage'&&(_0x545d1a+=_0x5bf780[_0xf34405(0x344)]?.[_0xf34405(0x8bc)]?'\x20'+_0x5bf780[_0xf34405(0x344)][_0xf34405(0x8bc)]:''),_0x545d1a+=_0x5bf780?.['footer']?.[_0xf34405(0x8bc)]?'\x20'+_0x5bf780?.[_0xf34405(0x8ad)]?.[_0xf34405(0x8bc)]:''),_0x126bfd==='listMessage'){_0x545d1a=(_0x5bf780['title']||'')+'\x0a'+(_0x5bf780[_0xf34405(0x1d6)]||'')+'\x0a'+(_0x5bf780['footerText']||'');let _0x1794d3=this[_0xf34405(0x7ec)](_0x5bf780[_0xf34405(0x6e4)]);_0xe01bca[_0xf34405(0x4b2)]=_0x1794d3;}if(_0x126bfd===_0xf34405(0x573)&&(_0x1e46cf=_0x5bf780['title'],_0x5cdee6=_0x5bf780?.[_0xf34405(0x8a4)]?.[_0xf34405(0x8e8)]),_0x126bfd===_0xf34405(0x457)){let _0x2a1ce1=_0x5bf780?.[_0xf34405(0x668)];_0x2a1ce1&&_0x2a1ce1[_0xf34405(0x254)]==='menu_options'&&(_0x5cdee6=JSON['parse'](_0x2a1ce1[_0xf34405(0x4f1)])['id']),_0x1e46cf=_0x5bf780?.['body']?.[_0xf34405(0x8bc)];}if(_0x126bfd===_0xf34405(0x730)&&(_0x1e46cf=_0x5bf780?.[_0xf34405(0x343)],_0x5cdee6=_0x5bf780?.[_0xf34405(0x30b)]),_0x126bfd===_0xf34405(0x6f8)&&(_0x1e46cf=_0x5bf780?.[_0xf34405(0x343)],_0x5cdee6=_0x5bf780?.['selectedButtonId']),_0x5bf780&&_0x5bf780['vcard']){let _0x24f094=this[_0xf34405(0x5e1)](JSON[_0xf34405(0x3f5)](_0x5bf780[_0xf34405(0x845)],null,0x2));_0x545d1a=_0x545d1a+'\x0a'+_0x24f094;}if(_0x5bf780){let {selectedButtonId:_0x2c6a4e,nativeFlowResponseMessage:_0xb94ebe,selectedId:_0x437b3f,selectedDisplayText:_0x3e1c02,selectedIndex:_0x285a4b,body:_0x213db8,nativeFlowMessage:_0x5b9d61,singleSelectReply:_0x596013,sections:_0x41cfb7,listType:_0x215bd4,displayName:_0x2f7b12,vcard:_0x10d006,contactVcard:_0x45d0bc,name:_0x366b0d,caption:_0x147e3c,conversation:_0xdac35a,pollCreationMessageKey:_0x1ba84a,footerText:_0x235ff1,contentText:_0x36fe58,pageCount:_0x4892e2,headerType:_0x418c1b,isAvatar:_0x351c8e,isAnimated:_0x1abf9d,fallbackLc:_0x3ebd7d,fallbackLg:_0x1bb0a3,namespace:_0x3247ee,elementName:_0x446428,localizableParams:_0xe9c7bf,viewOnce:_0x8a9a13,height:_0x174386,width:_0x306d07,key:_0x39bcaa,firstScanLength:_0x374091,firstScanSidecar:_0x129148,gifPlayback:_0x79a17b,gifAttribution:_0x5b5c54,midQualityFileSha256:_0x37ef1f,scansSidecar:_0x298075,streamingSidecar:_0xb44c58,thumbnailHeight:_0x1c9a00,thumbnailWidth:_0x20a96b,thumbnailEncSha256:_0x22d574,thumbnailDirectPath:_0x1f7b2a,canonicalUrl:_0x338f57,matchedText:_0x1f789b,previewType:_0x82284a,thumbnailSha256:_0x7b4ff0,deviceListMetadataVersion:_0x243a6c,inviteLinkGroupTypeV2:_0x117ecb,interactiveAnnotations:_0x231f45,scanLengths:_0xce188a,jpegThumbnail:_0x3bb10a,url:_0x19638a,mediaKeyTimestamp:_0x95267,waveform:_0x3d140a,stickerSentTs:_0x3cd286,firstFrameLength:_0x443bad,fileEncSha256:_0x482b34,contextInfo:_0x50fafb,firstFrameSidecar:_0xe8e8a2,directPath:_0x1d1308,fileSha256:_0x32e1fb,mediaKey:_0x30e7ac,senderTimestampMs:_0x586043,..._0x18a06a}=_0x5bf780;(_0x126bfd===_0xf34405(0x2e5)||_0x126bfd===_0xf34405(0x573))&&(delete _0x18a06a[_0xf34405(0x862)],delete _0x18a06a[_0xf34405(0x1d6)]),typeof _0x5bf780==_0xf34405(0x562)?_0xe01bca={'text':_0x5bf780,'type':_0x126bfd||_0xf34405(0x8da),..._0x1cda3c&&{'edited':_0x1cda3c},..._0x12d951&&{'quoted':_0x12d951},..._0x4a7209&&{'reaction':_0x4a7209}}:_0xe01bca={'text':_0x545d1a,..._0x18a06a,..._0x126bfd===_0xf34405(0x72b)?{'poll_id':_0x5bf780[_0xf34405(0x479)]['id'],'quoted':_0x5bf780[_0xf34405(0x479)]['id'],'vote':_0x1e46cf}:{},..._0x126bfd===_0xf34405(0x573)?{'buttonOrList_id':_0x5cdee6,'vote':_0x1e46cf}:{},..._0x126bfd==='interactiveResponseMessage'?{'buttonOrList_id':_0x5cdee6,'vote':_0x1e46cf}:{},..._0x126bfd===_0xf34405(0x730)?{'buttonOrList_id':_0x5cdee6,'vote':_0x1e46cf}:{},..._0x126bfd===_0xf34405(0x6f8)?{'buttonOrList_id':_0x5cdee6,'vote':_0x1e46cf}:{},'type':_0x126bfd,..._0x1cda3c&&{'edited':_0x1cda3c},..._0x12d951&&{'quoted':_0x12d951},..._0x4a7209&&{'reaction':_0x4a7209},...(_0x126bfd===_0xf34405(0x8a5)||_0x126bfd===_0xf34405(0x349)||_0x126bfd===_0xf34405(0x1f0)||_0x126bfd===_0xf34405(0x2e5)||_0x126bfd===_0xf34405(0x365))&&{'convertedOptions':_0xe01bca[_0xf34405(0x4b2)]}};}return{'messageType':_0x126bfd,'messageContent':_0x5bf780,'message_normalized':_0xe01bca};}catch(_0x191e46){return this[_0xf34405(0x5d3)][_0xf34405(0x90c)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x191e46),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x4f5120(0x901)]=[],(this['cleanStore'](),this[_0x4f5120(0x396)](),this[_0x4f5120(0x229)]['HistoryProcessed']=!0x0,this['instance']['qrcode']={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x33f632(0x472)](_0x58f47b,_0x22d32d){const _0x590577=a0_0x33f632;this['processedMessagesCache'][_0x58f47b]||(this[_0x590577(0x5e2)][_0x58f47b]=new Set()),this[_0x590577(0x5e2)][_0x58f47b]['add'](_0x22d32d),setTimeout(()=>this[_0x590577(0x5e2)][_0x58f47b][_0x590577(0x8ce)](_0x22d32d),0x2710);}[a0_0x33f632(0x452)](_0x411323,_0xb48e81){const _0x4e1022=a0_0x33f632;return this[_0x4e1022(0x5e2)][_0x411323]?.['has'](_0xb48e81)??!0x1;}set[a0_0x33f632(0x59f)](_0x384b66){const _0x190581=a0_0x33f632;if(!_0x384b66){this['instance']['name']=(0x0,Ti['v4'])();return;}this[_0x190581(0x229)][_0x190581(0x254)]=_0x384b66,this[_0x190581(0x75f)]('status.instance',{'instance':this[_0x190581(0x229)][_0x190581(0x254)],'status':_0x190581(0x929)});}get[a0_0x33f632(0x59f)](){return this['instance']['name'];}get[a0_0x33f632(0x6d8)](){const _0x5339d4=a0_0x33f632;return this['instance'][_0x5339d4(0x6d8)];}async[a0_0x33f632(0x32c)](){const _0x110508=a0_0x33f632;let _0x464117=this['client'][_0x110508(0x1a3)]?.[_0x110508(0x254)]??this[_0x110508(0x467)][_0x110508(0x1a3)]?.[_0x110508(0x303)];if(!_0x464117){if(this[_0x110508(0x7fb)][_0x110508(0x939)](_0x110508(0x27e))[_0x110508(0x399)]){let _0x2a3dbc=await T[_0x110508(0x676)]()['db'](this['configService'][_0x110508(0x939)](_0x110508(0x27e))[_0x110508(0x231)][_0x110508(0x1cc)]+_0x110508(0x577))[_0x110508(0x4c3)](this[_0x110508(0x59f)])[_0x110508(0x91c)]({'_id':'creds'});if(_0x2a3dbc){let _0x167cf3=JSON[_0x110508(0x366)](JSON[_0x110508(0x3f5)](_0x2a3dbc),w[_0x110508(0x760)][_0x110508(0x5e6)]);_0x464117=_0x167cf3['me']?.['name']||_0x167cf3['me']?.['verifiedName'];}}else{if((0x0,Fe[_0x110508(0x2f5)])((0x0,j['join'])(be,this[_0x110508(0x59f)],'creds.json'))){let _0x264029=JSON[_0x110508(0x366)]((0x0,Fe[_0x110508(0x5e9)])((0x0,j[_0x110508(0x79a)])(be,this[_0x110508(0x59f)],_0x110508(0x34c)),{'encoding':_0x110508(0x3dd)}));_0x464117=_0x264029['me']?.[_0x110508(0x254)]||_0x264029['me']?.[_0x110508(0x303)];}}}return _0x464117;}get[a0_0x33f632(0x8d0)](){const _0x40a270=a0_0x33f632;return this[_0x40a270(0x229)]['profilePictureUrl'];}async[a0_0x33f632(0x430)](){const _0x4e262a=a0_0x33f632;let _0x15a86c=this[_0x4e262a(0x229)][_0x4e262a(0x6d8)]+_0x4e262a(0x8b2);try{await this[_0x4e262a(0x467)]['getBusinessProfile'](_0x15a86c)?this['instance']['isBusiness']=!0x0:this[_0x4e262a(0x229)]['isBusiness']=!0x1;}catch{this[_0x4e262a(0x229)][_0x4e262a(0x4ca)]=!0x1;}return this['logger']['info'](this[_0x4e262a(0x59f)]+'\x20('+this[_0x4e262a(0x229)][_0x4e262a(0x6d8)]+'):\x20Instancia\x20isBusiness:\x20'+this['instance'][_0x4e262a(0x4ca)]),this[_0x4e262a(0x229)][_0x4e262a(0x4ca)];}get[a0_0x33f632(0x35a)](){const _0x50b320=a0_0x33f632;return this[_0x50b320(0x229)][_0x50b320(0x77c)]=!0x1,this[_0x50b320(0x229)][_0x50b320(0x360)]?.['pairingCode']?{'pairingCode':this[_0x50b320(0x229)][_0x50b320(0x360)]?.[_0x50b320(0x310)]}:{'code':this[_0x50b320(0x229)]['qrcode']?.[_0x50b320(0x2bd)],'base64':this[_0x50b320(0x229)][_0x50b320(0x360)]?.[_0x50b320(0x6fb)]};}async[a0_0x33f632(0x8c4)](){const _0x7ca592=a0_0x33f632;let _0x3d2214=await this[_0x7ca592(0x48b)][_0x7ca592(0x279)]['find'](this['instanceName']);this[_0x7ca592(0x4e7)][_0x7ca592(0x81e)]=_0x3d2214?.[_0x7ca592(0x81e)],this[_0x7ca592(0x4e7)][_0x7ca592(0x1d7)]=_0x3d2214?.[_0x7ca592(0x1d7)],this[_0x7ca592(0x4e7)]['local_map']=_0x3d2214?.[_0x7ca592(0x55f)],this['localWebhook'][_0x7ca592(0x35b)]=_0x3d2214?.[_0x7ca592(0x35b)],this['localWebhook'][_0x7ca592(0x1b0)]=_0x3d2214?.['QRCODE_UPDATED'],this[_0x7ca592(0x4e7)][_0x7ca592(0x67d)]=_0x3d2214?.[_0x7ca592(0x67d)],this[_0x7ca592(0x4e7)][_0x7ca592(0x463)]=_0x3d2214?.[_0x7ca592(0x463)],this[_0x7ca592(0x4e7)]['MESSAGES_UPDATE']=_0x3d2214?.[_0x7ca592(0x7e0)],this[_0x7ca592(0x4e7)]['GROUPS_UPSERT']=_0x3d2214?.['GROUPS_UPSERT'],this['localWebhook'][_0x7ca592(0x752)]=_0x3d2214?.[_0x7ca592(0x752)],this[_0x7ca592(0x4e7)]['GROUP_PARTICIPANTS_UPDATE']=_0x3d2214?.[_0x7ca592(0x388)],this[_0x7ca592(0x4e7)][_0x7ca592(0x37a)]=_0x3d2214?.[_0x7ca592(0x37a)],this[_0x7ca592(0x4e7)][_0x7ca592(0x8e1)]=_0x3d2214?.[_0x7ca592(0x8e1)],this['localWebhook'][_0x7ca592(0x842)]=_0x3d2214?.[_0x7ca592(0x842)],this[_0x7ca592(0x4e7)][_0x7ca592(0x5a5)]=_0x3d2214?.['CHATS_DELETE'],this['localWebhook'][_0x7ca592(0x8d1)]=_0x3d2214?.[_0x7ca592(0x8d1)],this['localWebhook'][_0x7ca592(0x2de)]=_0x3d2214?.[_0x7ca592(0x2de)],this['localWebhook'][_0x7ca592(0x1eb)]=_0x3d2214?.[_0x7ca592(0x1eb)],this[_0x7ca592(0x4e7)]['PRESENCE_UPDATE']=_0x3d2214?.[_0x7ca592(0x62c)],this['localWebhook'][_0x7ca592(0x2f9)]=_0x3d2214?.[_0x7ca592(0x2f9)],this[_0x7ca592(0x4e7)][_0x7ca592(0x686)]=_0x3d2214?.[_0x7ca592(0x686)],this[_0x7ca592(0x4e7)][_0x7ca592(0x2cd)]=_0x3d2214?.[_0x7ca592(0x2cd)];}async['setWebhook'](_0x1be395){const _0x424406=a0_0x33f632;let _0xd471be=['_id','url',_0x424406(0x1d7),'local_map',_0x424406(0x35b),'QRCODE_UPDATED',_0x424406(0x7e0),_0x424406(0x463),_0x424406(0x67d),_0x424406(0x869),_0x424406(0x752),'GROUP_PARTICIPANTS_UPDATE',_0x424406(0x37a),_0x424406(0x8e1),'CHATS_UPDATE',_0x424406(0x5a5),_0x424406(0x8d1),_0x424406(0x2de),_0x424406(0x1eb),_0x424406(0x62c),'MESSAGES_SET',_0x424406(0x686),'groups_ignore'],_0x100c49={};return _0xd471be[_0x424406(0x1d3)](_0x3f1d8c=>{_0x1be395[_0x3f1d8c]!==void 0x0&&(_0x100c49[_0x3f1d8c]=_0x1be395[_0x3f1d8c]);}),_0x100c49['url']&&(_0x100c49['url']=_0x100c49[_0x424406(0x81e)][_0x424406(0x3f4)]()),await this[_0x424406(0x48b)][_0x424406(0x279)]['create'](_0x100c49,this[_0x424406(0x59f)]),Object['assign'](this[_0x424406(0x4e7)],_0x100c49),await this[_0x424406(0x48b)]['webhook'][_0x424406(0x7fa)](this[_0x424406(0x59f)]);}async[a0_0x33f632(0x2f7)](){const _0x41caea=a0_0x33f632;return await this[_0x41caea(0x48b)][_0x41caea(0x279)][_0x41caea(0x7fa)](this[_0x41caea(0x59f)]);}async[a0_0x33f632(0x75f)](_0x1e719a,_0x1a444c){const _0x102dec=a0_0x33f632;let _0x3a21d2=_0x1e719a[_0x102dec(0x60a)](/[\.-]/gm,'_')[_0x102dec(0x900)](),_0x5b9e76=this['localWebhook'][_0x102dec(0x1d7)]&&(0x0,J[_0x102dec(0x1b9)])(this[_0x102dec(0x4e7)][_0x102dec(0x81e)])?this[_0x102dec(0x4e7)][_0x102dec(0x81e)]+(this[_0x102dec(0x4e7)][_0x102dec(0x55f)]?this[_0x102dec(0x88f)][_0x1e719a]:''):null,_0x538c3e=this['localWebhook'][_0x3a21d2],_0xf11227=de&&de[_0x102dec(0x1d7)]&&(0x0,J['isURL'])(de[_0x102dec(0x81e)])?de[_0x102dec(0x81e)]+(de[_0x102dec(0x55f)]?this['webhookMap'][_0x1e719a]:''):null,_0x55f1b7=de?de[_0x3a21d2]:null;if(_0x538c3e&&_0x5b9e76)try{await K[_0x102dec(0x844)][_0x102dec(0x20b)]({'baseURL':_0x5b9e76})[_0x102dec(0x5bb)]('',{'event':_0x1e719a,'instance':this['instance'][_0x102dec(0x254)],'apikey':this[_0x102dec(0x229)][_0x102dec(0x56e)],'data':_0x1a444c}),this[_0x102dec(0x5d3)][_0x102dec(0x257)](this[_0x102dec(0x59f)]+'\x20('+this[_0x102dec(0x229)][_0x102dec(0x6d8)]+_0x102dec(0x4bb)+_0x1e719a+':\x20'+_0x5b9e76);}catch{this[_0x102dec(0x5d3)][_0x102dec(0x90c)](this[_0x102dec(0x59f)]+'\x20('+this[_0x102dec(0x229)]['wuid']+_0x102dec(0x732)+_0x1e719a+':\x20'+_0x5b9e76);}if(_0x55f1b7&&_0xf11227)try{await K[_0x102dec(0x844)][_0x102dec(0x20b)]({'baseURL':_0xf11227})[_0x102dec(0x5bb)]('',{'event':_0x1e719a,'instance':this[_0x102dec(0x229)]['name'],'apikey':this[_0x102dec(0x229)]['apikey'],'data':_0x1a444c}),this[_0x102dec(0x5d3)][_0x102dec(0x257)](this[_0x102dec(0x59f)]+'\x20('+this[_0x102dec(0x229)][_0x102dec(0x6d8)]+_0x102dec(0x71a)+_0x1e719a+':\x20'+_0xf11227);}catch{this[_0x102dec(0x5d3)][_0x102dec(0x90c)](this[_0x102dec(0x59f)]+'\x20('+this[_0x102dec(0x229)][_0x102dec(0x6d8)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x1e719a+':\x20'+_0xf11227);}}async['connectionUpdate']({qr:_0x5e5070,connection:_0x1bc4af,lastDisconnect:_0x29ac17}){const _0x21487b=a0_0x33f632;if(_0x5e5070){if(this[_0x21487b(0x229)]['qrcode'][_0x21487b(0x3ba)]===Lo)return this[_0x21487b(0x75f)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason']['badSession']}),this['stateConnection']={'state':_0x21487b(0x6fd),'statusReason':w[_0x21487b(0x688)][_0x21487b(0x3a0)]},this['sendDataWebhook']('connection.update',{'instance':this[_0x21487b(0x229)][_0x21487b(0x254)],...this[_0x21487b(0x1f9)]}),this[_0x21487b(0x75f)](_0x21487b(0x65d),{'instance':this[_0x21487b(0x229)]['name'],'status':_0x21487b(0x3c4)}),this['repository'][_0x21487b(0x679)][_0x21487b(0x8ce)](this[_0x21487b(0x229)][_0x21487b(0x254)]),this[_0x21487b(0x4e5)]=!0x0,this[_0x21487b(0x7b1)][_0x21487b(0x579)](_0x21487b(0x4c9),this[_0x21487b(0x229)][_0x21487b(0x254)]);this[_0x21487b(0x229)]['qrcode'][_0x21487b(0x3ba)]++;let _0xeadd37={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x21487b(0x928)}};Ii[_0x21487b(0x844)]['toDataURL'](_0x5e5070,_0xeadd37,(_0x344078,_0x29ebcf)=>{const _0x462d15=_0x21487b;if(_0x344078){this[_0x462d15(0x5d3)]['error'](this[_0x462d15(0x59f)]+'\x20('+this['instance'][_0x462d15(0x6d8)]+_0x462d15(0x199)+(_0x344078 instanceof Error?_0x344078[_0x462d15(0x4b4)]:JSON[_0x462d15(0x3f5)](_0x344078,null,0x2)));return;}this[_0x462d15(0x229)][_0x462d15(0x360)][_0x462d15(0x6fb)]=_0x29ebcf,this[_0x462d15(0x229)][_0x462d15(0x360)][_0x462d15(0x2bd)]=_0x5e5070,!this['phoneNumber']&&this[_0x462d15(0x75f)](_0x462d15(0x931),{'qrcode':{'instance':this['instance'][_0x462d15(0x254)],'pairingCode':this[_0x462d15(0x229)]['qrcode'][_0x462d15(0x310)],'code':_0x5e5070,'base64':_0x29ebcf}});}),this['phoneNumber']?this['instance'][_0x21487b(0x360)][_0x21487b(0x310)]||(await(0x0,w[_0x21487b(0x31d)])(0x7d0),this[_0x21487b(0x229)][_0x21487b(0x360)][_0x21487b(0x310)]=await this[_0x21487b(0x467)][_0x21487b(0x5ea)](this['phoneNumber'])):this[_0x21487b(0x229)][_0x21487b(0x360)][_0x21487b(0x310)]=null,_i[_0x21487b(0x844)][_0x21487b(0x52b)](_0x5e5070,{'small':!0x0},_0x378776=>this[_0x21487b(0x5d3)][_0x21487b(0x257)]('\x0a{\x20instance:\x20'+this[_0x21487b(0x229)][_0x21487b(0x254)]+_0x21487b(0x5d0)+this[_0x21487b(0x229)][_0x21487b(0x360)][_0x21487b(0x3ba)]+_0x21487b(0x3fe)+this['instance']['qrcode'][_0x21487b(0x310)]+_0x21487b(0x662)+_0x378776));}if(_0x1bc4af&&(this[_0x21487b(0x1f9)]={'state':_0x1bc4af,'statusReason':_0x29ac17?.[_0x21487b(0x90c)]?.['output']?.[_0x21487b(0x5ee)]??0xc8},this[_0x21487b(0x75f)](_0x21487b(0x664),{'instance':this['instance'][_0x21487b(0x254)],...this[_0x21487b(0x1f9)]})),_0x1bc4af===_0x21487b(0x3b3)){if(_0x29ac17[_0x21487b(0x90c)]?.['output']?.[_0x21487b(0x5ee)]!==w['DisconnectReason']['loggedOut']&&(this[_0x21487b(0x8db)]<0x21||this[_0x21487b(0x229)][_0x21487b(0x8fb)][_0x21487b(0x839)])){this['reconnectAttempts']++,this[_0x21487b(0x740)]['push'](Date['now']()),this[_0x21487b(0x740)]=this['reconnectTimestamps'][_0x21487b(0x550)](_0x25e2c7=>Date[_0x21487b(0x26a)]()-_0x25e2c7<this[_0x21487b(0x1ea)]);let _0x1c6f91=this[_0x21487b(0x8db)]<=0x1?0x0:Math['min'](Math['pow'](0x2,this[_0x21487b(0x8db)]-0x1)*0x3e8,0x493e0);console[_0x21487b(0x257)](this['instanceName']+_0x21487b(0x3a1)+this[_0x21487b(0x8db)]+_0x21487b(0x64a)+_0x1c6f91/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0xf3c199=>setTimeout(_0xf3c199,_0x1c6f91)),console[_0x21487b(0x257)](_0x21487b(0x391)),await this['connectToWhatsapp']();}else{this[_0x21487b(0x75f)](_0x21487b(0x65d),{'instance':this[_0x21487b(0x229)]['name'],'status':_0x21487b(0x3c4)}),this[_0x21487b(0x229)][_0x21487b(0x8fb)]['isConnected']=!0x1,this[_0x21487b(0x48b)][_0x21487b(0x279)][_0x21487b(0x8ce)](this[_0x21487b(0x59f)]),this[_0x21487b(0x48b)][_0x21487b(0x679)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x21487b(0x26a)]()},this[_0x21487b(0x229)]['name']);try{this[_0x21487b(0x5d3)][_0x21487b(0x843)](this[_0x21487b(0x59f)]+'\x20('+this['instance'][_0x21487b(0x6d8)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x19c61f=await this['repository']['message'][_0x21487b(0x37f)](this[_0x21487b(0x229)][_0x21487b(0x6d8)]);_0x19c61f[_0x21487b(0x656)]?this['logger'][_0x21487b(0x843)](this[_0x21487b(0x59f)]+'\x20('+this[_0x21487b(0x229)][_0x21487b(0x6d8)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this['logger'][_0x21487b(0x90c)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x19c61f[_0x21487b(0x90c)]);}catch(_0x121eec){this[_0x21487b(0x5d3)][_0x21487b(0x90c)](_0x21487b(0x49b)+_0x121eec[_0x21487b(0x4b4)]);}this[_0x21487b(0x229)]['ScheduleMessage'][_0x21487b(0x719)]!==null&&(this[_0x21487b(0x5d3)]['verbose'](this[_0x21487b(0x59f)]+'\x20('+this['instance'][_0x21487b(0x6d8)]+_0x21487b(0x4e9)),clearInterval(this[_0x21487b(0x229)]['ScheduleMessage']['delayMessage']),this[_0x21487b(0x229)][_0x21487b(0x8fb)][_0x21487b(0x719)]=null),this[_0x21487b(0x5d3)][_0x21487b(0x843)](this[_0x21487b(0x59f)]+'\x20('+this[_0x21487b(0x229)][_0x21487b(0x6d8)]+_0x21487b(0x6b5)),this['AutomateSystem']=null,this[_0x21487b(0x7b1)]['emit'](_0x21487b(0x30f),this['instance']['name'],_0x21487b(0x646)),this['client']?.['ws']?.['close'](),this[_0x21487b(0x467)]['end'](new Error(_0x21487b(0x4dd)));}}if(_0x1bc4af===_0x21487b(0x29e)){this['logger'][_0x21487b(0x909)](this['instanceName']+'\x20('+this[_0x21487b(0x229)][_0x21487b(0x6d8)]+_0x21487b(0x5e7)+this[_0x21487b(0x467)]['authState'][_0x21487b(0x710)]?.[_0x21487b(0x2fe)]),this[_0x21487b(0x467)][_0x21487b(0x77b)]['creds']?.[_0x21487b(0x2fe)]||(this[_0x21487b(0x5d3)][_0x21487b(0x909)](this[_0x21487b(0x59f)]+'\x20('+this[_0x21487b(0x229)]['wuid']+_0x21487b(0x4c4)),this[_0x21487b(0x467)]['ev'][_0x21487b(0x5f3)]()),this[_0x21487b(0x89d)],this[_0x21487b(0x229)][_0x21487b(0x6d8)]=this[_0x21487b(0x467)][_0x21487b(0x1a3)]['id'][_0x21487b(0x60a)](/:\d+/,'')[_0x21487b(0x60a)]('@s.whatsapp.net',''),this[_0x21487b(0x229)][_0x21487b(0x8d0)]=(await this[_0x21487b(0x717)](this['instance'][_0x21487b(0x6d8)]+_0x21487b(0x8b2)))[_0x21487b(0x8d0)],this[_0x21487b(0x48b)][_0x21487b(0x679)]['create']({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x21487b(0x229)][_0x21487b(0x254)]);let _0x23f77d=_0x21487b(0x72d)+this[_0x21487b(0x229)][_0x21487b(0x6d8)],_0x4ed9ca=0x28,_0x4cf3f7=Math[_0x21487b(0x7a1)]((_0x4ed9ca-_0x23f77d[_0x21487b(0x6ee)])/0x2),_0x5dc539='\x20'[_0x21487b(0x60f)](_0x4cf3f7),_0x18eedc=_0x21487b(0x6dc),_0x4ecd52='Instância:\x20'+this[_0x21487b(0x229)][_0x21487b(0x254)],_0x400923=(''+_0x5dc539+_0x23f77d+_0x5dc539)[_0x21487b(0x71d)](_0x4ed9ca,'\x20'),_0x30fe60=(''+_0x5dc539+_0x18eedc+_0x5dc539)[_0x21487b(0x71d)](_0x4ed9ca,'\x20'),_0x128198=(''+_0x5dc539+_0x4ecd52+_0x5dc539)['padEnd'](_0x4ed9ca,'\x20'),_0x4f35c7=Math[_0x21487b(0x70b)](_0x400923[_0x21487b(0x6ee)],_0x30fe60[_0x21487b(0x6ee)],_0x128198[_0x21487b(0x6ee)]),_0xca92ae=_0x400923['padEnd'](_0x4f35c7,'\x20'),_0x4c83c3=_0x30fe60[_0x21487b(0x71d)](_0x4f35c7,'\x20'),_0x4b5540=_0x128198[_0x21487b(0x71d)](_0x4f35c7,'\x20');this[_0x21487b(0x5d3)][_0x21487b(0x8ef)]((_0x21487b(0x552)+'─'[_0x21487b(0x60f)](_0x4f35c7)+_0x21487b(0x2ae)+_0x4c83c3+_0x21487b(0x541)+_0x4b5540+_0x21487b(0x541)+_0xca92ae+_0x21487b(0x260)+'─'['repeat'](_0x4f35c7)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x21487b(0x4dc)](),this[_0x21487b(0x229)]['ScheduleMessage'][_0x21487b(0x839)]=!0x0;}}[a0_0x33f632(0x89d)](){const _0x1b8fbb=a0_0x33f632;this[_0x1b8fbb(0x8db)]=0x0,this[_0x1b8fbb(0x740)]=[];}async[a0_0x33f632(0x8a2)](_0x4691da,_0xa97692=!0x1){const _0x47c0ac=a0_0x33f632;try{let _0x3995b9=await this['repository'][_0x47c0ac(0x4b4)][_0x47c0ac(0x7fa)]({'where':{'_id':_0x4691da['id']}},this['instance']['wuid']);return _0xa97692?_0x3995b9[0x0]:_0x3995b9[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x33f632(0x744)](){const _0x276dc4=a0_0x33f632;let _0x18feaf=this[_0x276dc4(0x7fb)][_0x276dc4(0x939)](_0x276dc4(0x5af)),_0x220fe8=this[_0x276dc4(0x7fb)][_0x276dc4(0x939)](_0x276dc4(0x27e));_0x18feaf?.[_0x276dc4(0x829)]&&!_0x220fe8[_0x276dc4(0x399)]&&setInterval(()=>{const _0x9e7a7a=_0x276dc4;try{for(let [_0x64d9c,_0xc0564b]of Object[_0x9e7a7a(0x7f8)](_0x18feaf))_0xc0564b===!0x0&&(0x0,Ue[_0x9e7a7a(0x80c)])(_0x9e7a7a(0x918)+(0x0,j['join'])(this[_0x9e7a7a(0x2b7)],_0x64d9c[_0x9e7a7a(0x4a2)](),this['instance'][_0x9e7a7a(0x6d8)])+_0x9e7a7a(0x666));}catch{}},(_0x18feaf?.[_0x276dc4(0x829)]??0xe10)*0x3e8);}async[a0_0x33f632(0x8b9)](){const _0x3306f1=a0_0x33f632;let _0x2473c0=this[_0x3306f1(0x7fb)][_0x3306f1(0x939)](_0x3306f1(0x27e)),_0x25f49c=this[_0x3306f1(0x7fb)][_0x3306f1(0x939)](_0x3306f1(0x2d9));return _0x25f49c?.[_0x3306f1(0x399)]?await Os(_0x25f49c,this[_0x3306f1(0x229)][_0x3306f1(0x254)]):_0x2473c0['ENABLED']?await _s(this[_0x3306f1(0x229)][_0x3306f1(0x254)]):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x3306f1(0x79a)])(be,this['instance']['name']));}async[a0_0x33f632(0x4dc)](){const _0x3f661b=a0_0x33f632;let _0x541810=()=>Math[_0x3f661b(0x7a1)](Math[_0x3f661b(0x3cf)]()*0x4e21)+0x7d0,_0x415821=async()=>{const _0x2d1bfb=_0x3f661b;if(!this[_0x2d1bfb(0x229)]['ScheduleMessage'][_0x2d1bfb(0x839)]){this[_0x2d1bfb(0x5d3)][_0x2d1bfb(0x843)](this[_0x2d1bfb(0x59f)]+'\x20('+this[_0x2d1bfb(0x229)][_0x2d1bfb(0x6d8)]+'):Desconectado,\x20parando\x20execução.'),this[_0x2d1bfb(0x30d)]=!0x1;return;}if(this[_0x2d1bfb(0x229)]['wuid']&&this[_0x2d1bfb(0x853)]&&this[_0x2d1bfb(0x229)]['ScheduleMessage'][_0x2d1bfb(0x719)]!==null&&this[_0x2d1bfb(0x229)][_0x2d1bfb(0x8fb)][_0x2d1bfb(0x719)]!==void 0x0){let _0x4438d7=Math[_0x2d1bfb(0x7d7)](this[_0x2d1bfb(0x229)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x2d1bfb(0x5d3)][_0x2d1bfb(0x843)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x4438d7+_0x2d1bfb(0x724)),this['isRunning']=!0x1;return;}else this['instance']['wuid']&&(this[_0x2d1bfb(0x5d3)][_0x2d1bfb(0x843)](this[_0x2d1bfb(0x59f)]+'\x20('+this[_0x2d1bfb(0x229)][_0x2d1bfb(0x6d8)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x2d1bfb(0x853)]||(await this[_0x2d1bfb(0x6ac)](),this[_0x2d1bfb(0x7e7)](),this[_0x2d1bfb(0x407)]()),(this[_0x2d1bfb(0x229)][_0x2d1bfb(0x8fb)][_0x2d1bfb(0x719)]===null||this[_0x2d1bfb(0x229)][_0x2d1bfb(0x8fb)]['delayMessage']===void 0x0)&&await this[_0x2d1bfb(0x601)]());if(this[_0x2d1bfb(0x30d)]){let _0x83de79=_0x541810();this[_0x2d1bfb(0x5d3)][_0x2d1bfb(0x843)](this[_0x2d1bfb(0x59f)]+_0x2d1bfb(0x1dd)+_0x83de79/0x3e8+_0x2d1bfb(0x65f)),setTimeout(_0x415821,_0x83de79);}};if(this['isRunning'])return;this[_0x3f661b(0x30d)]=!0x0;let _0x53d81e=_0x541810();setTimeout(_0x415821,_0x53d81e);}async['synchronizeAndMapFlows'](){const _0x2fda86=a0_0x33f632;let _0x1ddd19=this['instance'][_0x2fda86(0x6d8)];try{let _0x1dd847=await this['repository'][_0x2fda86(0x2ec)][_0x2fda86(0x903)]({'where':{'$or':[{'owner':_0x1ddd19},{'whoCanUse':{'$in':[_0x1ddd19]}},{'shareOwners':{'$in':[_0x1ddd19]}}]}}),_0x262d79=new Map(this['AutomateSystem'][_0x2fda86(0x1dc)]['map'](_0x480797=>[_0x480797['_id'],_0x480797])),_0x16e893=_0x1dd847[_0x2fda86(0x3dc)](_0x133791=>{const _0x119086=_0x2fda86;let _0x478ed3=_0x262d79[_0x119086(0x939)](_0x133791[_0x119086(0x7c9)]?.['toString']());return{'_id':_0x133791[_0x119086(0x7c9)]?.[_0x119086(0x765)](),'name':_0x478ed3?.[_0x119086(0x254)]??_0x133791[_0x119086(0x254)],'default':_0x478ed3?.['default']??_0x133791[_0x119086(0x844)]??!0x1,'startCommand':_0x478ed3?.[_0x119086(0x400)]??_0x133791[_0x119086(0x58f)],'minutesToClose':_0x478ed3?.[_0x119086(0x2b9)]??_0x133791[_0x119086(0x2b9)]??0xa,'readMessages':_0x478ed3?.[_0x119086(0x466)]??_0x133791[_0x119086(0x466)]??!0x1,'testingWith':_0x478ed3?.[_0x119086(0x6a7)]??_0x133791[_0x119086(0x6a7)],'canEdit':_0x133791[_0x119086(0x47d)]===_0x1ddd19||(_0x133791[_0x119086(0x2e8)]??[])[_0x119086(0x51a)](_0x1ddd19),'usersCount':(_0x133791[_0x119086(0x325)]??[])['length']??0x0};}),_0x4bb246=!0x1;_0x16e893[_0x2fda86(0x1d3)](_0x4f8d0b=>{const _0x3184c8=_0x2fda86;_0x4f8d0b['default']&&(_0x4bb246?_0x4f8d0b[_0x3184c8(0x844)]=!0x1:_0x4bb246=!0x0);}),this[_0x2fda86(0x853)]['flows']=_0x16e893;let _0x224da6={'flows':_0x16e893};return await this[_0x2fda86(0x48b)][_0x2fda86(0x8b5)][_0x2fda86(0x1df)](_0x224da6,_0x1ddd19),this[_0x2fda86(0x5d3)][_0x2fda86(0x843)](this[_0x2fda86(0x59f)]+'\x20('+_0x1ddd19+_0x2fda86(0x84b)),_0x16e893['length'];}catch(_0x2fce67){return this[_0x2fda86(0x5d3)][_0x2fda86(0x90c)](this[_0x2fda86(0x59f)]+'\x20('+_0x1ddd19+_0x2fda86(0x3de)+(_0x2fce67 instanceof Error?_0x2fce67[_0x2fda86(0x4b4)]:JSON[_0x2fda86(0x3f5)](_0x2fce67,null,0x2))),{'message':_0x2fda86(0x447)+(_0x2fce67 instanceof Error?_0x2fce67[_0x2fda86(0x4b4)]:JSON[_0x2fda86(0x3f5)](_0x2fce67,null,0x2))};}}async['connectToWhatsapp'](_0x19780b){const _0x5b140f=a0_0x33f632;try{let _0x3b54c7=await this[_0x5b140f(0x48b)][_0x5b140f(0x229)][_0x5b140f(0x91c)]({'where':{'_id':he+'-'+this[_0x5b140f(0x59f)]}}),_0x2f879d,_0x440787=!Le[_0x5b140f(0x58a)]||!Le[_0x5b140f(0x604)];console[_0x5b140f(0x257)](_0x5b140f(0x4e0)),console[_0x5b140f(0x257)](_0x5b140f(0x253),Ai),console[_0x5b140f(0x257)](_0x5b140f(0x243),this['reconnectAttempts']),console[_0x5b140f(0x257)]('--------------------------------------'),Ai&&!_0x440787&&(this['reconnectAttempts']<0x4||!this['reconnectAttempts']?_0x3b54c7&&_0x3b54c7['ip']?(_0x2f879d=_0x3b54c7['ip'],console[_0x5b140f(0x257)](_0x5b140f(0x3d3)+_0x2f879d)):(_0x2f879d=await Le[_0x5b140f(0x8c5)](he,this[_0x5b140f(0x229)][_0x5b140f(0x254)]),_0x2f879d?(console[_0x5b140f(0x257)](_0x5b140f(0x1c5)+_0x2f879d),await(0x0,w[_0x5b140f(0x31d)])(0x7d0)):console[_0x5b140f(0x90c)]('Falha\x20ao\x20criar\x20IPv6.')):this['reconnectAttempts']<0x6&&(console['log']('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x2f879d=await Le['createIPv6'](he,this[_0x5b140f(0x229)]['name']),_0x2f879d?(console[_0x5b140f(0x257)]('Novo\x20IP\x20criado:\x20'+_0x2f879d),await(0x0,w[_0x5b140f(0x31d)])(0x7d0)):console[_0x5b140f(0x90c)](_0x5b140f(0x299)))),this[_0x5b140f(0x8c4)](),this[_0x5b140f(0x229)][_0x5b140f(0x56e)]=(await this[_0x5b140f(0x48b)][_0x5b140f(0x679)]['find'](this[_0x5b140f(0x229)]['name']))[_0x5b140f(0x56e)],this[_0x5b140f(0x229)][_0x5b140f(0x77b)]=await this[_0x5b140f(0x8b9)]();let _0x255355=[xi,Us,(0x0,ks[_0x5b140f(0x7f4)])()],_0x2bc138={'localAddress':_0x2f879d,'auth':{'creds':this[_0x5b140f(0x229)]['authState'][_0x5b140f(0x4d4)][_0x5b140f(0x710)],'keys':(0x0,w[_0x5b140f(0x663)])(this[_0x5b140f(0x229)][_0x5b140f(0x77b)]['state']['keys'],(0x0,Ft[_0x5b140f(0x844)])({'level':'error'}))},'logger':(0x0,Ft[_0x5b140f(0x844)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x19780b?[_0x5b140f(0x8a1),Us,(0x0,ks[_0x5b140f(0x7f4)])()]:_0x255355,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x33332d=>{const _0x325034=_0x5b140f;let _0x1f74af=this['localWebhook']?.['groups_ignore']&&(0x0,w[_0x325034(0x327)])(_0x33332d);return(0x0,w[_0x325034(0x603)])(_0x33332d)||_0x1f74af;},'msgRetryCounterCache':this[_0x5b140f(0x1e9)],'getMessage':async _0x27e3a2=>await this['getMessage'](_0x27e3a2),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5b140f(0x6ff)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x330d71){const _0x2e2321=_0x5b140f;return _0x330d71['deviceSentMessage']?.['message']?.[_0x2e2321(0x2e5)]?.[_0x2e2321(0x857)]===w[_0x2e2321(0x317)][_0x2e2321(0x38d)]['ListMessage'][_0x2e2321(0x518)][_0x2e2321(0x78e)]&&(_0x330d71=JSON['parse'](JSON[_0x2e2321(0x3f5)](_0x330d71)),_0x330d71[_0x2e2321(0x8d8)]['message'][_0x2e2321(0x2e5)][_0x2e2321(0x857)]=w[_0x2e2321(0x317)][_0x2e2321(0x38d)][_0x2e2321(0x4c8)]['ListType'][_0x2e2321(0x6ae)]),_0x330d71['listMessage']?.[_0x2e2321(0x857)]==w[_0x2e2321(0x317)][_0x2e2321(0x38d)][_0x2e2321(0x4c8)][_0x2e2321(0x518)]['PRODUCT_LIST']&&(_0x330d71=JSON[_0x2e2321(0x366)](JSON['stringify'](_0x330d71)),_0x330d71[_0x2e2321(0x2e5)][_0x2e2321(0x857)]=w[_0x2e2321(0x317)][_0x2e2321(0x38d)][_0x2e2321(0x4c8)][_0x2e2321(0x518)][_0x2e2321(0x6ae)]),_0x330d71;}};return this['endSession']=!0x1,this[_0x5b140f(0x467)]=(0x0,w[_0x5b140f(0x844)])(_0x2bc138),this[_0x5b140f(0x58d)](),this[_0x5b140f(0x30e)]=_0x19780b,this['client'];}catch(_0x1404e0){let _0x41eb9c='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x41bf0a=_0x1404e0 instanceof Error?_0x1404e0[_0x5b140f(0x4b4)]:typeof _0x1404e0=='object'?JSON['stringify'](_0x1404e0):_0x1404e0,_0x416b70=_0x41eb9c+':\x20'+_0x41bf0a;throw this[_0x5b140f(0x5d3)][_0x5b140f(0x90c)](this['instanceName']+'\x20('+this[_0x5b140f(0x229)][_0x5b140f(0x6d8)]+_0x5b140f(0x766)+_0x416b70),console[_0x5b140f(0x90c)]('Detalhes\x20do\x20erro:',_0x1404e0),_0x1404e0 instanceof Error&&console['error']('Stack\x20trace:',_0x1404e0[_0x5b140f(0x77a)]),new x(_0x416b70);}}[a0_0x33f632(0x58d)](){const _0x594483=a0_0x33f632;this['client']['ev'][_0x594483(0x871)](_0x3bf2b7=>{const _0x7da5be=_0x594483;if(!this[_0x7da5be(0x4e5)]){let _0x3dbb07=this[_0x7da5be(0x7fb)][_0x7da5be(0x939)](_0x7da5be(0x27e));if(_0x3bf2b7[_0x7da5be(0x5c6)]){let _0x2eda5a=_0x3bf2b7[_0x7da5be(0x5c6)];this[_0x7da5be(0x8af)][_0x7da5be(0x5c6)](_0x2eda5a);}if(_0x3bf2b7[_0x7da5be(0x7a0)]){let _0x48b390=_0x3bf2b7[_0x7da5be(0x7a0)];this['messageHandle'][_0x7da5be(0x7a0)](_0x48b390);}if(_0x3bf2b7[_0x7da5be(0x664)]&&this[_0x7da5be(0x46c)](_0x3bf2b7['connection.update']),_0x3bf2b7[_0x7da5be(0x423)]&&this[_0x7da5be(0x229)][_0x7da5be(0x77b)][_0x7da5be(0x5e3)](),_0x3bf2b7[_0x7da5be(0x26b)]){let _0x18f53e=_0x3bf2b7[_0x7da5be(0x26b)];this['messageHandle'][_0x7da5be(0x26b)](_0x18f53e,_0x3dbb07);}if(_0x3bf2b7['messages.upsert']){let _0xbc2cad=_0x3bf2b7[_0x7da5be(0x271)];this[_0x7da5be(0x8af)][_0x7da5be(0x271)](_0xbc2cad,_0x3dbb07);}if(_0x3bf2b7[_0x7da5be(0x7c2)]){let _0x3d08a9=_0x3bf2b7[_0x7da5be(0x7c2)];this[_0x7da5be(0x8af)]['messages.update'](_0x3d08a9,_0x3dbb07);}if(_0x3bf2b7['presence.update']){let _0x51ce3b=_0x3bf2b7[_0x7da5be(0x644)];if(this['localWebhook']?.[_0x7da5be(0x2cd)]&&_0x51ce3b['id'][_0x7da5be(0x51a)](_0x7da5be(0x443)))return;this['sendDataWebhook'](_0x7da5be(0x644),_0x51ce3b);}if(_0x3bf2b7[_0x7da5be(0x3f6)]){let _0x265248=_0x3bf2b7[_0x7da5be(0x3f6)];this[_0x7da5be(0x352)][_0x7da5be(0x3f6)](_0x265248);}if(_0x3bf2b7[_0x7da5be(0x932)]){let _0x411c07=_0x3bf2b7[_0x7da5be(0x932)];this[_0x7da5be(0x352)][_0x7da5be(0x932)](_0x411c07);}if(_0x3bf2b7[_0x7da5be(0x6c5)]){let _0x114e4a=_0x3bf2b7[_0x7da5be(0x6c5)];this['groupHandler'][_0x7da5be(0x6c5)](_0x114e4a);}if(_0x3bf2b7[_0x7da5be(0x2a0)]){let _0x59971f=_0x3bf2b7['chats.upsert'];this['chatHandle'][_0x7da5be(0x2a0)](_0x59971f,_0x3dbb07);}if(_0x3bf2b7['chats.update']){let _0x1326dc=_0x3bf2b7[_0x7da5be(0x2ac)];this['chatHandle']['chats.update'](_0x1326dc,_0x3dbb07);}if(_0x3bf2b7[_0x7da5be(0x4fd)]){let _0x13ca32=_0x3bf2b7[_0x7da5be(0x4fd)];this[_0x7da5be(0x80d)][_0x7da5be(0x4fd)](_0x13ca32);}if(_0x3bf2b7['contacts.upsert']){let _0x194fc1=_0x3bf2b7[_0x7da5be(0x70f)];this[_0x7da5be(0x5c8)][_0x7da5be(0x70f)](_0x194fc1,_0x3dbb07);}if(_0x3bf2b7[_0x7da5be(0x542)]){let _0x482f0e=_0x3bf2b7['contacts.update'];this[_0x7da5be(0x5c8)][_0x7da5be(0x542)](_0x482f0e,_0x3dbb07);}}});}async[a0_0x33f632(0x421)](_0x3b011f,_0x461a76){const _0x554c71=a0_0x33f632;if(_0x461a76>=0xa){console['error'](this['instanceName']+'\x20('+this[_0x554c71(0x229)][_0x554c71(0x6d8)]+_0x554c71(0x59e)),delete Lt[_0x3b011f['key']['id']];return;}try{console[_0x554c71(0x90c)](this[_0x554c71(0x59f)]+'\x20('+this[_0x554c71(0x229)][_0x554c71(0x6d8)]+_0x554c71(0x8e3)+(_0x461a76+0x1)),await this[_0x554c71(0x467)][_0x554c71(0x331)](JSON['parse'](_0x3b011f[_0x554c71(0x7bf)][0x1],w[_0x554c71(0x760)]['reviver'])),console[_0x554c71(0x90c)](_0x554c71(0x2b8));}catch(_0x6492e1){console[_0x554c71(0x90c)](this[_0x554c71(0x59f)]+'\x20('+this[_0x554c71(0x229)][_0x554c71(0x6d8)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x6492e1),setTimeout(()=>this[_0x554c71(0x421)](_0x3b011f,_0x461a76+0x1),Math[_0x554c71(0x920)](0x2,_0x461a76)*0x3e8);}}async['fakeReceived'](_0x2a32e2){const _0x282a09=a0_0x33f632;let _0x23c612=_0x2a32e2[_0x282a09(0x6de)][_0x282a09(0x330)][_0x282a09(0x316)](_0x282a09(0x443)),_0x48436f;if(_0x2a32e2[_0x282a09(0x6de)][_0x282a09(0x7e8)])_0x48436f=this[_0x282a09(0x229)][_0x282a09(0x8d0)];else{let _0x2efa83=_0x23c612?_0x2a32e2[_0x282a09(0x6de)][_0x282a09(0x1bf)]:_0x2a32e2[_0x282a09(0x6de)][_0x282a09(0x330)];_0x48436f=(await this[_0x282a09(0x1ca)](_0x2efa83,_0x2a32e2[_0x282a09(0x66b)],!0x1))[_0x282a09(0x42a)][_0x282a09(0x44f)];}_0x2a32e2['messageTimestamp']&&_0x2a32e2['messageTimestamp'][_0x282a09(0x765)]()[_0x282a09(0x6ee)]<0xd&&(_0x2a32e2['messageTimestamp']=_0x2a32e2[_0x282a09(0x639)]*0x3e8);let _0x55d532={'_id':_0x2a32e2[_0x282a09(0x6de)]['id'],'key':_0x2a32e2['key'],'isGroup':_0x23c612,'profilePictureUrl':_0x48436f,'pushName':_0x2a32e2[_0x282a09(0x66b)],'message':{'text':_0x282a09(0x484)},'messageType':_0x282a09(0x90c),'message_normalized':{'key':_0x2a32e2['key'],'pushName':_0x2a32e2[_0x282a09(0x66b)],'messageTimestamp':_0x2a32e2[_0x282a09(0x639)],'source':(0x0,w[_0x282a09(0x62e)])(_0x2a32e2[_0x282a09(0x6de)]['id']),'text':_0x282a09(0x484)},'messageTimestamp':_0x2a32e2[_0x282a09(0x639)],'owner':this[_0x282a09(0x229)]['wuid'],'source':(0x0,w[_0x282a09(0x62e)])(_0x2a32e2[_0x282a09(0x6de)]['id'])};this[_0x282a09(0x5d3)]['error'](this[_0x282a09(0x59f)]+'\x20('+this[_0x282a09(0x229)][_0x282a09(0x6d8)]+_0x282a09(0x766)+(_0x55d532['key']?.[_0x282a09(0x7e8)]?_0x282a09(0x849):_0x282a09(0x4df))+'\x20['+_0x55d532[_0x282a09(0x6de)]?.[_0x282a09(0x330)][_0x282a09(0x60a)](_0x282a09(0x8b2),'')+']\x20('+_0x55d532[_0x282a09(0x255)]+')'),_0x55d532['message_normalized']?.['text']&&this[_0x282a09(0x5d3)][_0x282a09(0x90c)](_0x2a32e2[_0x282a09(0x6de)]['id']+':\x20'+_0x55d532['message_normalized']?.[_0x282a09(0x8bc)]),await this[_0x282a09(0x48b)][_0x282a09(0x4b4)][_0x282a09(0x37d)]([_0x55d532],this['instance'][_0x282a09(0x6d8)]),await this[_0x282a09(0x48b)]['messageLogs'][_0x282a09(0x37d)]([_0x55d532]),this[_0x282a09(0x75f)](_0x282a09(0x271),_0x55d532),F(this[_0x282a09(0x59f)],_0x282a09(0x613),{'message':_0x55d532});}[a0_0x33f632(0x3af)](_0x76db4e){return new Promise(_0x5cc887=>setTimeout(_0x5cc887,_0x76db4e));}[a0_0x33f632(0x899)](_0x4929b1){const _0x1d1b6b=a0_0x33f632;_0x4929b1=_0x4929b1[_0x1d1b6b(0x60a)](/\D/g,'');let _0x4d5cb7=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1d1b6b(0x8f1)](_0x4929b1);if(_0x4d5cb7&&_0x4d5cb7[0x1]==='55'){let _0x663a2a=_0x4d5cb7[0x2],_0x483785=_0x4d5cb7[0x3],_0x301ff7=_0x4d5cb7[0x4];if(parseInt(_0x663a2a)>=0x1f&&_0x483785==='9')return _0x4d5cb7[0x1]+_0x663a2a+_0x301ff7;}return _0x4929b1;}['createJid'](_0x2b5e53){const _0x24ad2a=a0_0x33f632;return _0x2b5e53[_0x24ad2a(0x51a)](_0x24ad2a(0x443))||_0x2b5e53['includes'](_0x24ad2a(0x8b2))||_0x2b5e53[_0x24ad2a(0x51a)](_0x24ad2a(0x848))?_0x2b5e53:(_0x2b5e53=_0x2b5e53?.[_0x24ad2a(0x60a)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x24ad2a(0x60a)](/\)/g,'')[_0x24ad2a(0x405)](/\:/)[0x0][_0x24ad2a(0x405)]('@')[0x0],_0x2b5e53[_0x24ad2a(0x6ee)]>=0x12?(_0x2b5e53=_0x2b5e53[_0x24ad2a(0x60a)](/[^\d-]/g,''),_0x2b5e53+_0x24ad2a(0x443)):(_0x2b5e53=_0x2b5e53['replace'](/\D/g,''),_0x2b5e53+_0x24ad2a(0x8b2)));}async[a0_0x33f632(0x44e)](_0x23c684){const _0x40f3b1=a0_0x33f632;let _0xf82149=(await this['whatsappNumber']({'numbers':[_0x23c684[_0x40f3b1(0x3ae)]]}))[0x0];if(!_0xf82149[_0x40f3b1(0x375)]&&!(0x0,w[_0x40f3b1(0x327)])(_0xf82149[_0x40f3b1(0x1e7)])&&!_0xf82149[_0x40f3b1(0x1e7)]['includes'](_0x40f3b1(0x848)))throw new m(_0xf82149);let _0x453723=_0xf82149[_0x40f3b1(0x1e7)];try{return await this[_0x40f3b1(0x467)][_0x40f3b1(0x6bc)](_0x453723),await this[_0x40f3b1(0x467)][_0x40f3b1(0x4ce)](_0x23c684[_0x40f3b1(0x7c4)],_0x453723),{'status':0xc8,'presence':_0x23c684[_0x40f3b1(0x7c4)]};}catch(_0x1a5881){let _0x3c2ca7=_0x40f3b1(0x3ff),_0x232c3c=_0x1a5881 instanceof Error?_0x1a5881['message']:typeof _0x1a5881==_0x40f3b1(0x8d7)?JSON[_0x40f3b1(0x3f5)](_0x1a5881):_0x1a5881,_0x5264e3=_0x3c2ca7+':\x20'+_0x232c3c;throw this[_0x40f3b1(0x5d3)][_0x40f3b1(0x90c)](this[_0x40f3b1(0x59f)]+'\x20('+this[_0x40f3b1(0x229)]['wuid']+_0x40f3b1(0x766)+_0x5264e3),new m(_0x5264e3);}}async[a0_0x33f632(0x1ca)](_0x2faa6d,_0xe96218,_0x587296,_0x1e3e80=!0x0){const _0x5a7741=a0_0x33f632;let _0x3ce7f9=await this[_0x5a7741(0x48b)][_0x5a7741(0x580)][_0x5a7741(0x91c)]({'where':{'_id':_0x2faa6d}});if(!_0x3ce7f9&&!_0x1e3e80)return;let _0x2ca855={'lastUpdate':Date[_0x5a7741(0x26a)]()};if(_0x587296||!_0x3ce7f9?.['lastUpdate']||Date[_0x5a7741(0x26a)]()-_0x3ce7f9[_0x5a7741(0x312)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2a50dc=(await this[_0x5a7741(0x717)](_0x2faa6d))[_0x5a7741(0x8d0)];_0x2ca855['pictureUrl']=_0x2a50dc;}catch(_0xbbb7f9){let _0x4b69fb=_0x5a7741(0x8cf),_0x511750=_0xbbb7f9 instanceof Error?_0xbbb7f9['message']:typeof _0xbbb7f9==_0x5a7741(0x8d7)?JSON['stringify'](_0xbbb7f9):_0xbbb7f9,_0x1cdc87=_0x4b69fb+':\x20'+_0x511750;throw this[_0x5a7741(0x5d3)][_0x5a7741(0x90c)](this[_0x5a7741(0x59f)]+'\x20('+this[_0x5a7741(0x229)][_0x5a7741(0x6d8)]+_0x5a7741(0x766)+_0x1cdc87),new m(_0x1cdc87);}return _0xe96218&&_0x3ce7f9?.[_0x5a7741(0x254)]!==_0xe96218&&(_0x2ca855['name']=_0xe96218),Object[_0x5a7741(0x516)](_0x2ca855)[_0x5a7741(0x6ee)]>0x1&&(_0x3ce7f9?await this['repository'][_0x5a7741(0x580)][_0x5a7741(0x1df)]({'where':{'_id':_0x2faa6d}},_0x2ca855):await this[_0x5a7741(0x48b)][_0x5a7741(0x580)][_0x5a7741(0x37d)]([{'_id':_0x2faa6d,..._0x2ca855}]),_0x3ce7f9={..._0x3ce7f9,..._0x2ca855}),{'cachedContact':_0x3ce7f9};}async[a0_0x33f632(0x717)](_0x26a24a){const _0x2c05d9=a0_0x33f632;let _0x5984d6=this['createJid'](_0x26a24a);try{return{'wuid':_0x5984d6,'profilePictureUrl':await this[_0x2c05d9(0x467)][_0x2c05d9(0x8d0)](_0x5984d6,_0x2c05d9(0x1b7))};}catch{return{'wuid':_0x5984d6,'profilePictureUrl':null};}}async[a0_0x33f632(0x1a7)](_0x400b70,_0x30c94f,_0x2aca5f){const _0x5d8dce=a0_0x33f632;let _0x36d61d=0x0;for(;_0x36d61d<0x5;)try{return await this[_0x5d8dce(0x332)](_0x400b70,_0x30c94f,_0x2aca5f);}catch(_0x1f65f3){if(_0x36d61d++,_0x1f65f3 instanceof Error&&_0x1f65f3['message']===_0x5d8dce(0x4cd)){if(_0x36d61d>=0x5)throw new m(_0x5d8dce(0x838)+_0x1f65f3['message']);this[_0x5d8dce(0x5d3)][_0x5d8dce(0x909)](_0x5d8dce(0x647)+_0x36d61d+_0x5d8dce(0x3a9)+_0x1f65f3[_0x5d8dce(0x4b4)]+_0x5d8dce(0x26d)+0x1388/0x3e8+_0x5d8dce(0x6f9)),await new Promise(_0x2ba0c7=>setTimeout(_0x2ba0c7,0x1388));}else throw new m(_0x1f65f3[_0x5d8dce(0x4b4)]);}}async[a0_0x33f632(0x332)](_0x3123a3,_0x588006,_0x263e01){const _0x54d1a0=a0_0x33f632;let _0x5e1c1b;try{let _0x2eb548=(await this['whatsappNumber']({'numbers':[_0x3123a3]}))?.[_0x54d1a0(0x23f)]();if(!_0x2eb548['exists']&&!(0x0,w[_0x54d1a0(0x327)])(_0x2eb548['jid'])&&!_0x2eb548[_0x54d1a0(0x1e7)][_0x54d1a0(0x51a)](_0x54d1a0(0x848)))throw new m(_0x2eb548);_0x5e1c1b=_0x2eb548['jid'];}catch(_0x363a95){_0x5e1c1b=_0x3123a3,this[_0x54d1a0(0x5d3)]['warn'](this[_0x54d1a0(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20error:\x20'+_0x363a95[_0x54d1a0(0x4b4)]),this[_0x54d1a0(0x5d3)][_0x54d1a0(0x909)](this[_0x54d1a0(0x59f)]+'\x20('+this['instance'][_0x54d1a0(0x6d8)]+_0x54d1a0(0x521)+_0x5e1c1b);}try{if(_0x5e1c1b||(_0x5e1c1b=_0x3123a3,this[_0x54d1a0(0x5d3)][_0x54d1a0(0x909)](this[_0x54d1a0(0x59f)]+'\x20('+this[_0x54d1a0(0x229)][_0x54d1a0(0x6d8)]+_0x54d1a0(0x824)+_0x5e1c1b)),_0x263e01||(_0x263e01={}),_0x263e01?.[_0x54d1a0(0x31d)]){await this[_0x54d1a0(0x467)][_0x54d1a0(0x6bc)](_0x5e1c1b),await this['client'][_0x54d1a0(0x4ce)](_0x263e01?.[_0x54d1a0(0x7c4)]??_0x54d1a0(0x5c4),_0x5e1c1b);let _0x5dbd37=Math[_0x54d1a0(0x1cb)](_0x263e01['delay'],0x2710);await(0x0,w[_0x54d1a0(0x31d)])(_0x5dbd37),await this[_0x54d1a0(0x467)][_0x54d1a0(0x4ce)](_0x54d1a0(0x618),_0x5e1c1b);}let _0x409dbc=_0x263e01?.[_0x54d1a0(0x438)]!=!0x1?void 0x0:!0x1,_0x1e34d5;if(_0x263e01?.['quoted']){let _0x200156=_0x263e01?.[_0x54d1a0(0x734)],_0x353ae3=_0x200156?.[_0x54d1a0(0x4b4)]?_0x200156:await this[_0x54d1a0(0x8a2)](_0x200156[_0x54d1a0(0x6de)],!0x0);_0x353ae3&&(_0x1e34d5=_0x353ae3);}let _0x499745=await this[_0x54d1a0(0x48b)][_0x54d1a0(0x2cb)][_0x54d1a0(0x91c)]({'where':{'_id':_0x5e1c1b}},this[_0x54d1a0(0x229)][_0x54d1a0(0x6d8)]),_0x339abc,_0x4faae3=null;if((0x0,w['isJidGroup'])(_0x5e1c1b))try{if(_0x4faae3=_0x499745['groupdata'],!_0x4faae3)throw new U(_0x54d1a0(0x27f));if(!_0x4faae3[_0x54d1a0(0x27b)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x263e01?.[_0x54d1a0(0x6f5)]&&(_0x263e01[_0x54d1a0(0x6f5)]?.[_0x54d1a0(0x759)]?_0x339abc=_0x4faae3[_0x54d1a0(0x21b)]['map'](_0x5504f4=>_0x5504f4['id']):_0x263e01[_0x54d1a0(0x6f5)]?.[_0x54d1a0(0x59d)]?.['length']&&(_0x339abc=_0x263e01[_0x54d1a0(0x6f5)][_0x54d1a0(0x59d)][_0x54d1a0(0x3dc)](_0x32fbee=>{const _0x422eeb=_0x54d1a0;let _0xde8a7e=this[_0x422eeb(0x6ce)](_0x32fbee);return(0x0,w[_0x422eeb(0x327)])(_0xde8a7e)?null:_0xde8a7e;})));}catch(_0x534d28){throw _0x534d28 instanceof U?new U(_0x54d1a0(0x27f)):_0x534d28 instanceof m?new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo'):new Error(_0x54d1a0(0x558));}let _0x2c952f=await((async()=>{const _0x1adb66=_0x54d1a0;let _0x25c158={'quoted':_0x1e34d5,'ephemeralExpiration':_0x499745?.['ephemeralExpiration']??0x0};if(!_0x588006['audio']&&!_0x588006[_0x1adb66(0x36e)]&&!_0x588006[_0x1adb66(0x34b)]&&!_0x588006[_0x1adb66(0x8da)]&&_0x5e1c1b!==_0x1adb66(0x8f7)&&_0x588006[_0x1adb66(0x2dd)])return await this[_0x1adb66(0x467)][_0x1adb66(0x416)](_0x5e1c1b,{'react':{'text':_0x588006['reactionMessage'][_0x1adb66(0x8bc)],'key':_0x588006[_0x1adb66(0x2dd)][_0x1adb66(0x6de)]}},_0x25c158);if(_0x588006[_0x1adb66(0x8da)]){let _0x23b559=_0x588006[_0x1adb66(0x8da)];return _0x263e01?.[_0x1adb66(0x43f)]&&(_0x23b559=await this[_0x1adb66(0x5c0)](_0x23b559,_0x5e1c1b)),await this[_0x1adb66(0x467)][_0x1adb66(0x416)](_0x5e1c1b,{'text':_0x23b559,'mentions':_0x339abc,'linkPreview':_0x409dbc},_0x25c158);}return!_0x588006[_0x1adb66(0x5cd)]&&!_0x588006[_0x1adb66(0x36e)]&&_0x5e1c1b!=_0x1adb66(0x8f7)?await this[_0x1adb66(0x467)][_0x1adb66(0x416)](_0x5e1c1b,{'forward':{'key':{'remoteJid':this[_0x1adb66(0x229)]['wuid'],'fromMe':!0x0},'message':_0x588006},'mentions':_0x339abc},_0x25c158):_0x5e1c1b==='status@broadcast'?await this['client'][_0x1adb66(0x416)](_0x5e1c1b,_0x588006['status'][_0x1adb66(0x784)],{'backgroundColor':_0x588006[_0x1adb66(0x3ee)][_0x1adb66(0x4ba)][_0x1adb66(0x1e8)],'font':_0x588006[_0x1adb66(0x3ee)][_0x1adb66(0x4ba)]['font'],'statusJidList':_0x588006[_0x1adb66(0x3ee)][_0x1adb66(0x4ba)][_0x1adb66(0x7a3)]}):await this['client'][_0x1adb66(0x416)](_0x5e1c1b,_0x588006,_0x25c158);})()),_0x1c742d=(0x0,w['normalizeMessageContent'])(_0x2c952f['message']),_0x406ea0=(0x0,w['getContentType'])(_0x1c742d),{message_normalized:_0x25ee66}=this[_0x54d1a0(0x1bb)](_0x1c742d,_0x406ea0,null),_0x1cd2e4={'_id':_0x2c952f['key']['id'],'key':_0x2c952f[_0x54d1a0(0x6de)],'pushName':_0x2c952f[_0x54d1a0(0x66b)],'isGroup':_0x2c952f[_0x54d1a0(0x6de)]['remoteJid'][_0x54d1a0(0x316)](_0x54d1a0(0x443)),'profilePictureUrl':this[_0x54d1a0(0x229)][_0x54d1a0(0x8d0)],'message':_0x1c742d,'messageType':_0x406ea0,'message_normalized':{'key':_0x2c952f[_0x54d1a0(0x6de)],'pushName':_0x2c952f[_0x54d1a0(0x66b)],'messageTimestamp':_0x2c952f['messageTimestamp']&&_0x2c952f['messageTimestamp'][_0x54d1a0(0x765)]()['length']<0xd?_0x2c952f[_0x54d1a0(0x639)]*0x3e8:_0x2c952f['messageTimestamp']||null,'source':(0x0,w[_0x54d1a0(0x62e)])(_0x2c952f[_0x54d1a0(0x6de)]['id']),..._0x25ee66},'messageTimestamp':_0x2c952f[_0x54d1a0(0x639)]&&_0x2c952f[_0x54d1a0(0x639)]['toString']()[_0x54d1a0(0x6ee)]<0xd?_0x2c952f['messageTimestamp']*0x3e8:_0x2c952f[_0x54d1a0(0x639)]||null,'owner':this[_0x54d1a0(0x229)]['wuid'],'source':(0x0,w[_0x54d1a0(0x62e)])(_0x2c952f[_0x54d1a0(0x6de)]['id'])};return this[_0x54d1a0(0x5d3)][_0x54d1a0(0x909)](this[_0x54d1a0(0x59f)]+'\x20('+this[_0x54d1a0(0x229)]['wuid']+_0x54d1a0(0x5f1)+_0x1cd2e4[_0x54d1a0(0x6de)]?.[_0x54d1a0(0x330)][_0x54d1a0(0x60a)](_0x54d1a0(0x8b2),'')+_0x54d1a0(0x8df)+_0x1cd2e4['messageType']+')'),_0x1cd2e4['message_normalized']?.[_0x54d1a0(0x8bc)]&&this[_0x54d1a0(0x5d3)]['warn'](_0x1cd2e4['message_normalized']?.[_0x54d1a0(0x8bc)]),this[_0x54d1a0(0x75f)](_0x54d1a0(0x91d),_0x1cd2e4),F(this[_0x54d1a0(0x59f)],_0x54d1a0(0x613),{'message':_0x1cd2e4}),this[_0x54d1a0(0x658)](this[_0x54d1a0(0x7fb)][_0x54d1a0(0x939)](_0x54d1a0(0x27e)),_0x1cd2e4,'SEND_MESSAGE',_0x499745),await this['repository'][_0x54d1a0(0x4b4)][_0x54d1a0(0x37d)]([_0x1cd2e4],this['instance'][_0x54d1a0(0x6d8)]),_0x2c952f;}catch(_0x25c80f){let _0x4f1dd7=_0x54d1a0(0x700)+_0x5e1c1b,_0x258bbf=_0x25c80f instanceof Error?_0x25c80f[_0x54d1a0(0x4b4)]:typeof _0x25c80f==_0x54d1a0(0x8d7)?JSON[_0x54d1a0(0x3f5)](_0x25c80f):_0x25c80f,_0x5e235a=_0x4f1dd7+':\x20'+_0x258bbf;throw this[_0x54d1a0(0x5d3)][_0x54d1a0(0x90c)](this[_0x54d1a0(0x59f)]+'\x20('+this[_0x54d1a0(0x229)][_0x54d1a0(0x6d8)]+_0x54d1a0(0x766)+_0x5e235a),new m(_0x5e235a);}}async[a0_0x33f632(0x478)](_0x2722be,_0x411959,_0x1586ca){const _0x49dd4b=a0_0x33f632;let _0x2919d3=this[_0x49dd4b(0x6ce)](_0x2722be),_0x34ec0a=(await this[_0x49dd4b(0x4fb)]({'numbers':[_0x2919d3]}))[0x0];if(!_0x34ec0a['exists']&&!(0x0,w[_0x49dd4b(0x327)])(_0x34ec0a['jid']))throw new m(_0x34ec0a);let _0x1315a8=(0x0,w[_0x49dd4b(0x327)])(_0x2919d3)?_0x2919d3:_0x34ec0a['jid'];if((0x0,w[_0x49dd4b(0x327)])(_0x1315a8))try{await this[_0x49dd4b(0x467)]['groupMetadata'](_0x1315a8);}catch{throw new m(_0x49dd4b(0x1e2));}try{_0x1586ca?.['delay']&&(await this[_0x49dd4b(0x467)][_0x49dd4b(0x6bc)](_0x1315a8),await this[_0x49dd4b(0x467)][_0x49dd4b(0x4ce)](_0x1586ca?.[_0x49dd4b(0x7c4)]??_0x49dd4b(0x5c4),_0x2919d3),await(0x0,w[_0x49dd4b(0x31d)])(_0x1586ca['delay']),await this[_0x49dd4b(0x467)][_0x49dd4b(0x4ce)](_0x49dd4b(0x618),_0x1315a8));let _0x323b98=await((async()=>{const _0x49941a=_0x49dd4b;let _0x58d70c,_0x4a608a=_0x49941a(0x5b0)+(0x0,oe[_0x49941a(0x933)])(0x12)[_0x49941a(0x765)](_0x49941a(0x353))[_0x49941a(0x900)](),_0x396ab9=(0x0,w[_0x49941a(0x41b)])(_0x1315a8,_0x411959,{'timestamp':new Date(),'userJid':this[_0x49941a(0x229)]['wuid'],'messageId':_0x4a608a,'quoted':_0x58d70c}),_0x8820a9=await this[_0x49941a(0x467)]['relayMessage'](_0x1315a8,_0x396ab9['message'],{'messageId':_0x4a608a});_0x396ab9[_0x49941a(0x6de)]={'id':_0x8820a9,'remoteJid':_0x2919d3,'participant':(0x0,w[_0x49941a(0x566)])(_0x2919d3)?void 0x0:_0x2919d3,'fromMe':!0x0};for(let [_0x798855,_0x4ac469]of Object['entries'](_0x396ab9))(!_0x4ac469||Array[_0x49941a(0x3cd)](_0x4ac469)&&_0x4ac469[_0x49941a(0x6ee)]===0x0)&&delete _0x396ab9[_0x798855];return this[_0x49941a(0x467)]['ev']['emit'](_0x49941a(0x271),{'messages':[_0x396ab9],'type':_0x49941a(0x44c)}),_0x396ab9;})()),_0xf8f210=await this[_0x49dd4b(0x48b)]['chat'][_0x49dd4b(0x91c)]({'where':{'_id':_0x1315a8}},this[_0x49dd4b(0x229)][_0x49dd4b(0x6d8)]),_0x1aaac5=(0x0,w[_0x49dd4b(0x8ae)])(_0x323b98[_0x49dd4b(0x4b4)]),_0x424df8=(0x0,w[_0x49dd4b(0x23d)])(_0x1aaac5),{message_normalized:_0x587eae}=this[_0x49dd4b(0x1bb)](_0x1aaac5,_0x424df8,null),_0x374003={'_id':_0x323b98[_0x49dd4b(0x6de)]['id'],'key':_0x323b98[_0x49dd4b(0x6de)],'pushName':_0x323b98[_0x49dd4b(0x66b)],'isGroup':_0x323b98[_0x49dd4b(0x6de)][_0x49dd4b(0x330)][_0x49dd4b(0x316)]('@g.us'),'profilePictureUrl':this[_0x49dd4b(0x229)][_0x49dd4b(0x8d0)],'message':_0x1aaac5,'messageType':_0x424df8,'message_normalized':{'key':_0x323b98['key'],'pushName':_0x323b98[_0x49dd4b(0x66b)],'messageTimestamp':_0x323b98[_0x49dd4b(0x639)]&&_0x323b98[_0x49dd4b(0x639)][_0x49dd4b(0x765)]()[_0x49dd4b(0x6ee)]<0xd?_0x323b98['messageTimestamp']*0x3e8:_0x323b98[_0x49dd4b(0x639)]||null,'source':(0x0,w[_0x49dd4b(0x62e)])(_0x323b98[_0x49dd4b(0x6de)]['id']),..._0x587eae},'messageTimestamp':_0x323b98[_0x49dd4b(0x639)]&&_0x323b98[_0x49dd4b(0x639)][_0x49dd4b(0x765)]()['length']<0xd?_0x323b98[_0x49dd4b(0x639)]*0x3e8:_0x323b98[_0x49dd4b(0x639)]||null,'owner':this[_0x49dd4b(0x229)][_0x49dd4b(0x6d8)],'source':(0x0,w[_0x49dd4b(0x62e)])(_0x323b98[_0x49dd4b(0x6de)]['id'])};return this['logger'][_0x49dd4b(0x909)](this['instanceName']+'\x20('+this[_0x49dd4b(0x229)]['wuid']+_0x49dd4b(0x5f1)+_0x374003[_0x49dd4b(0x6de)]?.[_0x49dd4b(0x330)]['replace'](_0x49dd4b(0x8b2),'')+_0x49dd4b(0x8df)+_0x374003['messageType']+')'),_0x374003[_0x49dd4b(0x706)]?.[_0x49dd4b(0x8bc)]&&this[_0x49dd4b(0x5d3)]['warn'](_0x374003[_0x49dd4b(0x706)]?.['text']),this[_0x49dd4b(0x75f)](_0x49dd4b(0x91d),_0x374003),F(this['instanceName'],_0x49dd4b(0x613),{'message':_0x374003}),this['updateChatWithMessage'](this[_0x49dd4b(0x7fb)][_0x49dd4b(0x939)](_0x49dd4b(0x27e)),_0x374003,_0x49dd4b(0x67d),_0xf8f210),await this['repository']['message'][_0x49dd4b(0x37d)]([_0x374003],this['instance'][_0x49dd4b(0x6d8)]),_0x323b98;}catch(_0x29b763){throw this['logger']['error'](_0x29b763),new m(_0x29b763['toString']());}}get[a0_0x33f632(0x307)](){const _0x548068=a0_0x33f632;return this[_0x548068(0x1f9)];}async['textMessage'](_0x595d00){const _0x11522e=a0_0x33f632;return await this[_0x11522e(0x1a7)](_0x595d00['number'],{'conversation':_0x595d00[_0x11522e(0x846)][_0x11522e(0x8bc)]},_0x595d00?.[_0x11522e(0x337)]);}async[a0_0x33f632(0x19a)](_0x2c2b4c){const _0x815e22=a0_0x33f632;if(!_0x2c2b4c['type'])throw new m(_0x815e22(0x48d));if(!_0x2c2b4c[_0x815e22(0x784)])throw new m(_0x815e22(0x5f8));if(_0x2c2b4c['allContacts']){let _0xf4f3ee=await this[_0x815e22(0x48b)][_0x815e22(0x335)]['find']({'where':{}},this[_0x815e22(0x229)]['wuid']);if(!_0xf4f3ee[_0x815e22(0x6ee)])throw new m('Contacts\x20not\x20found');_0x2c2b4c[_0x815e22(0x7a3)]=_0xf4f3ee[_0x815e22(0x550)](_0x382f9e=>_0x382f9e[_0x815e22(0x66b)])['map'](_0x3a5e0c=>_0x3a5e0c['_id']);}if(!_0x2c2b4c[_0x815e22(0x7a3)]?.[_0x815e22(0x6ee)]&&!_0x2c2b4c[_0x815e22(0x3ce)])throw new m('StatusJidList\x20is\x20required');if(_0x2c2b4c[_0x815e22(0x809)]===_0x815e22(0x8bc)){if(!_0x2c2b4c[_0x815e22(0x1e8)])throw new m(_0x815e22(0x512));if(!_0x2c2b4c['font'])throw new m(_0x815e22(0x2af));return{'content':{'text':_0x2c2b4c[_0x815e22(0x784)]},'option':{'backgroundColor':_0x2c2b4c['backgroundColor'],'font':_0x2c2b4c['font'],'statusJidList':_0x2c2b4c['statusJidList']}};}if(_0x2c2b4c[_0x815e22(0x809)]===_0x815e22(0x1b7))return{'content':{'image':{'url':_0x2c2b4c[_0x815e22(0x784)]},'caption':_0x2c2b4c[_0x815e22(0x747)]},'option':{'statusJidList':_0x2c2b4c['statusJidList']}};if(_0x2c2b4c[_0x815e22(0x809)]===_0x815e22(0x8e6))return{'content':{'video':{'url':_0x2c2b4c[_0x815e22(0x784)]},'caption':_0x2c2b4c[_0x815e22(0x747)]},'option':{'statusJidList':_0x2c2b4c[_0x815e22(0x7a3)]}};if(_0x2c2b4c[_0x815e22(0x809)]===_0x815e22(0x5cd)){this[_0x815e22(0x5d3)][_0x815e22(0x843)](this[_0x815e22(0x59f)]+'\x20('+this[_0x815e22(0x229)][_0x815e22(0x6d8)]+_0x815e22(0x534)),this['logger'][_0x815e22(0x843)](this[_0x815e22(0x59f)]+'\x20('+this[_0x815e22(0x229)][_0x815e22(0x6d8)]+_0x815e22(0x5bc));let _0x2576c3=await this['convertaudio'](_0x2c2b4c['content']);if(typeof _0x2576c3==_0x815e22(0x562)){this[_0x815e22(0x5d3)][_0x815e22(0x843)](this[_0x815e22(0x59f)]+'\x20('+this[_0x815e22(0x229)][_0x815e22(0x6d8)]+'):Audio\x20processed');let _0x12c0f8=k[_0x815e22(0x5e9)](_0x2576c3)[_0x815e22(0x765)](_0x815e22(0x6fb));return{'content':{'audio':Buffer[_0x815e22(0x40f)](_0x12c0f8,_0x815e22(0x6fb)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x2c2b4c[_0x815e22(0x7a3)]}};}else throw new x(_0x2576c3);}throw new m(_0x815e22(0x5a0));}async['statusMessage'](_0x375405){const _0x18fefe=a0_0x33f632;return await this[_0x18fefe(0x1a7)](_0x18fefe(0x8f7),{'status':await this[_0x18fefe(0x19a)](_0x375405[_0x18fefe(0x1b4)])});}async[a0_0x33f632(0x6ea)](_0x3708f5){const _0x49e4db=a0_0x33f632;try{let _0x2b06fa=await(0x0,w[_0x49e4db(0x55a)])({[_0x3708f5['mediatype']]:(0x0,J[_0x49e4db(0x1b9)])(_0x3708f5['media'])?{'url':_0x3708f5['media']}:Buffer['from'](_0x3708f5['media'],_0x49e4db(0x6fb))},{'upload':this[_0x49e4db(0x467)][_0x49e4db(0x6c4)]}),_0x1669d3=_0x3708f5[_0x49e4db(0x354)]+'Message';if(_0x3708f5[_0x49e4db(0x354)]==='document'&&!_0x3708f5[_0x49e4db(0x45d)]){let _0x36f78a=new RegExp(/.*\/(.+?)\./)[_0x49e4db(0x8f1)](_0x3708f5['media']);_0x3708f5['fileName']=_0x36f78a?_0x36f78a[0x1]:null;}let _0xdb83e1;return(0x0,J[_0x49e4db(0x1b9)])(_0x3708f5[_0x49e4db(0x5fd)])?_0xdb83e1=(await K[_0x49e4db(0x844)][_0x49e4db(0x939)](_0x3708f5[_0x49e4db(0x5fd)],{'responseType':_0x49e4db(0x6e7)}))[_0x49e4db(0x863)][_0x49e4db(0x3bd)]:_0xdb83e1=(0x0,Oi[_0x49e4db(0x44a)])(_0x3708f5['fileName']),_0x2b06fa[_0x1669d3][_0x49e4db(0x747)]=_0x3708f5?.[_0x49e4db(0x747)],_0x2b06fa[_0x1669d3][_0x49e4db(0x78c)]=_0xdb83e1,_0x2b06fa[_0x1669d3]['fileName']=_0x3708f5[_0x49e4db(0x45d)],_0x3708f5['mediatype']===_0x49e4db(0x8e6)&&(_0x2b06fa[_0x1669d3][_0x49e4db(0x4e1)]=Uint8Array[_0x49e4db(0x40f)]((0x0,Fe[_0x49e4db(0x5e9)])((0x0,j['join'])(process[_0x49e4db(0x2ab)](),_0x49e4db(0x50d)))),_0x2b06fa[_0x1669d3][_0x49e4db(0x904)]=!0x1),(0x0,w[_0x49e4db(0x41b)])('',{[_0x1669d3]:{..._0x2b06fa[_0x1669d3]}},{'userJid':this[_0x49e4db(0x229)][_0x49e4db(0x6d8)]});}catch(_0x7c454){let _0x28b938=_0x49e4db(0x606),_0x17d027=_0x7c454 instanceof Error?_0x7c454[_0x49e4db(0x4b4)]:typeof _0x7c454==_0x49e4db(0x8d7)?JSON[_0x49e4db(0x3f5)](_0x7c454):_0x7c454,_0x27a424=_0x28b938+':\x20'+_0x17d027;throw this['logger'][_0x49e4db(0x90c)](this[_0x49e4db(0x59f)]+'\x20('+this['instance'][_0x49e4db(0x6d8)]+_0x49e4db(0x766)+_0x27a424),new x(_0x27a424);}}async[a0_0x33f632(0x28b)](_0x4f98c4){const _0x166844=a0_0x33f632;let _0x1f0a00=0x0;for(;_0x1f0a00<0x5;)try{let _0x3e4ff7=await this[_0x166844(0x6ea)](_0x4f98c4[_0x166844(0x28b)]);return await this[_0x166844(0x1a7)](_0x4f98c4[_0x166844(0x3ae)],{..._0x3e4ff7[_0x166844(0x4b4)]},_0x4f98c4?.['options']);}catch(_0x1f0a98){if(_0x1f0a00++,_0x1f0a98 instanceof Error&&_0x1f0a98['message']===_0x166844(0x4cd)){if(_0x1f0a00>=0x5)throw new m('Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20'+_0x1f0a98[_0x166844(0x4b4)]);this['logger'][_0x166844(0x909)]('Tentativa\x20'+_0x1f0a00+_0x166844(0x925)+_0x1f0a98['message']+_0x166844(0x26d)+0x1388/0x3e8+_0x166844(0x6f9)),await new Promise(_0x419736=>setTimeout(_0x419736,0x1388));}else throw new m(_0x1f0a98['message']);}}async[a0_0x33f632(0x377)](_0x182e23,_0x5051f5){const _0x522e88=a0_0x33f632;try{this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x47e));let _0x4ade9e,_0x22ef83=_0x5051f5+'-'+new Date()[_0x522e88(0x792)]();this['logger'][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x749)+_0x22ef83);let _0x307303=''+(0x0,j[_0x522e88(0x79a)])(this[_0x522e88(0x2b7)],_0x22ef83+'.webp');if(this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this['instance'][_0x522e88(0x6d8)]+_0x522e88(0x7bb)+_0x307303),(0x0,J[_0x522e88(0x2d3)])(_0x182e23)){this[_0x522e88(0x5d3)]['verbose'](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x657));let _0x3c2172=_0x182e23[_0x522e88(0x60a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x21b05f=Buffer['from'](_0x3c2172,'base64');_0x4ade9e=''+(0x0,j[_0x522e88(0x79a)])(this[_0x522e88(0x2b7)],_0x522e88(0x7e1)+_0x22ef83+_0x522e88(0x66e)),this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x50b)+_0x4ade9e),await(0x0,Ut[_0x522e88(0x844)])(_0x21b05f)[_0x522e88(0x35e)](_0x4ade9e),this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)]['wuid']+_0x522e88(0x458));}else{this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x91f));let _0x39d48c=new Date()[_0x522e88(0x792)](),_0x2ff4f3=_0x182e23+_0x522e88(0x65c)+_0x39d48c;this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x8e2)+_0x2ff4f3);let _0x2bef74=await K[_0x522e88(0x844)][_0x522e88(0x939)](_0x2ff4f3,{'responseType':_0x522e88(0x6e7)});this['logger'][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+'):Getting\x20image\x20from\x20url');let _0x12e858=Buffer['from'](_0x2bef74[_0x522e88(0x621)],'binary');_0x4ade9e=''+(0x0,j[_0x522e88(0x79a)])(this[_0x522e88(0x2b7)],_0x522e88(0x7e1)+_0x22ef83+_0x522e88(0x66e)),this[_0x522e88(0x5d3)][_0x522e88(0x843)](this[_0x522e88(0x59f)]+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x50b)+_0x4ade9e),await(0x0,Ut['default'])(_0x12e858)[_0x522e88(0x35e)](_0x4ade9e),this[_0x522e88(0x5d3)][_0x522e88(0x843)](this['instanceName']+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x458));}return await(0x0,Ut[_0x522e88(0x844)])(_0x4ade9e)['webp']()[_0x522e88(0x35e)](_0x307303),this[_0x522e88(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+_0x522e88(0x73c)),k[_0x522e88(0x206)](_0x4ade9e),this[_0x522e88(0x5d3)][_0x522e88(0x843)](this['instanceName']+'\x20('+this[_0x522e88(0x229)][_0x522e88(0x6d8)]+'):Temp\x20image\x20deleted'),_0x307303;}catch(_0x3afab0){let _0x87b593='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x30c706=_0x3afab0 instanceof Error?_0x3afab0[_0x522e88(0x4b4)]:typeof _0x3afab0==_0x522e88(0x8d7)?JSON[_0x522e88(0x3f5)](_0x3afab0):_0x3afab0,_0x2f6db9=_0x87b593+':\x20'+_0x30c706;this[_0x522e88(0x5d3)][_0x522e88(0x90c)](this[_0x522e88(0x59f)]+'\x20('+this['instance'][_0x522e88(0x6d8)]+_0x522e88(0x766)+_0x2f6db9);}}async[a0_0x33f632(0x62d)](_0x203e90){const _0x46214d=a0_0x33f632;let _0x1aedef=await this[_0x46214d(0x377)](_0x203e90[_0x46214d(0x678)][_0x46214d(0x1b7)],_0x203e90['number']),_0x3c6f4e=await this[_0x46214d(0x1a7)](_0x203e90[_0x46214d(0x3ae)],{'sticker':{'url':_0x1aedef}},_0x203e90?.['options']);return k[_0x46214d(0x206)](_0x1aedef),this[_0x46214d(0x5d3)][_0x46214d(0x843)](this[_0x46214d(0x59f)]+'\x20('+this['instance'][_0x46214d(0x6d8)]+_0x46214d(0x75d)),_0x3c6f4e;}async[a0_0x33f632(0x5cf)](_0x2b7f28){const _0x3743d4=a0_0x33f632;if(this[_0x3743d4(0x5d3)][_0x3743d4(0x843)](this[_0x3743d4(0x59f)]+'\x20('+this[_0x3743d4(0x229)]['wuid']+_0x3743d4(0x276)),!_0x2b7f28['options']?.['encoding']&&_0x2b7f28[_0x3743d4(0x337)]?.[_0x3743d4(0x5f4)]!==!0x1&&(_0x2b7f28[_0x3743d4(0x337)][_0x3743d4(0x5f4)]=!0x0),_0x2b7f28[_0x3743d4(0x337)]?.[_0x3743d4(0x5f4)]){let _0x34529b=await this[_0x3743d4(0x272)](_0x2b7f28[_0x3743d4(0x1e4)]['audio']);if(typeof _0x34529b==_0x3743d4(0x562)){let _0x48feb4=k[_0x3743d4(0x5e9)](_0x34529b)[_0x3743d4(0x765)](_0x3743d4(0x6fb));return this['sendMessageWithRetry'](_0x2b7f28[_0x3743d4(0x3ae)],{'audio':Buffer['from'](_0x48feb4,_0x3743d4(0x6fb)),'ptt':!0x0,'mimetype':_0x3743d4(0x402)},{'presence':'recording','delay':_0x2b7f28?.[_0x3743d4(0x337)]?.[_0x3743d4(0x31d)]});}else throw new x(_0x34529b);}return await this[_0x3743d4(0x1a7)](_0x2b7f28['number'],{'audio':(0x0,J[_0x3743d4(0x1b9)])(_0x2b7f28[_0x3743d4(0x1e4)][_0x3743d4(0x5cd)])?{'url':_0x2b7f28['audioMessage'][_0x3743d4(0x5cd)]}:Buffer['from'](_0x2b7f28['audioMessage'][_0x3743d4(0x5cd)],'base64'),'ptt':!0x0,'mimetype':_0x3743d4(0x402)},{'presence':_0x3743d4(0x57f),'delay':_0x2b7f28?.[_0x3743d4(0x337)]?.[_0x3743d4(0x31d)]});}async[a0_0x33f632(0x272)](_0x26b81e){const _0x66bea6=a0_0x33f632;this[_0x66bea6(0x5d3)][_0x66bea6(0x843)](this[_0x66bea6(0x59f)]+'\x20('+this['instance'][_0x66bea6(0x6d8)]+_0x66bea6(0x5bc));let _0x144447=(0x0,J[_0x66bea6(0x1b9)])(_0x26b81e)?(0x0,oe['createHash'])('sha256')[_0x66bea6(0x1df)](_0x26b81e)[_0x66bea6(0x8aa)](_0x66bea6(0x353)):(0x0,oe['createHash'])(_0x66bea6(0x462))[_0x66bea6(0x1df)](_0x26b81e)[_0x66bea6(0x8aa)]('hex'),_0x3a0017=''+(0x0,j['join'])(this['storePath'],_0x144447+_0x66bea6(0x537));if(k['existsSync'](_0x3a0017))return this[_0x66bea6(0x5d3)][_0x66bea6(0x843)](this[_0x66bea6(0x59f)]+'\x20('+this[_0x66bea6(0x229)]['wuid']+_0x66bea6(0x6f3)),_0x3a0017;let _0x3dc1b1=''+(0x0,j[_0x66bea6(0x79a)])(this[_0x66bea6(0x2b7)],_0x66bea6(0x7e1)+(0x0,Q['v4'])()+_0x66bea6(0x481));if((0x0,J[_0x66bea6(0x1b9)])(_0x26b81e)){let _0x2ff0cb=new Date()[_0x66bea6(0x792)](),_0x5703f1=_0x26b81e+_0x66bea6(0x65c)+_0x2ff0cb,_0x4bc0cd=await K[_0x66bea6(0x844)]['get'](_0x5703f1,{'responseType':_0x66bea6(0x6e7)});k[_0x66bea6(0x469)](_0x3dc1b1,_0x4bc0cd[_0x66bea6(0x621)]);}else{let _0x47c48f=Buffer['from'](_0x26b81e,_0x66bea6(0x6fb));k['writeFileSync'](_0x3dc1b1,_0x47c48f);}return new Promise((_0x4789e5,_0x55e8b0)=>{const _0x59f63d=_0x66bea6;(0x0,Ue[_0x59f63d(0x8f1)])(Ds['default'][_0x59f63d(0x92d)]+_0x59f63d(0x85f)+_0x3dc1b1+_0x59f63d(0x854)+_0x3a0017+_0x59f63d(0x432),_0x258ad0=>{const _0x164742=_0x59f63d;if(k[_0x164742(0x206)](_0x3dc1b1),_0x258ad0){this[_0x164742(0x5d3)][_0x164742(0x843)](this[_0x164742(0x59f)]+'\x20('+this[_0x164742(0x229)][_0x164742(0x6d8)]+_0x164742(0x866)),_0x55e8b0(_0x258ad0);return;}this[_0x164742(0x5d3)][_0x164742(0x843)](this[_0x164742(0x59f)]+'\x20('+this[_0x164742(0x229)][_0x164742(0x6d8)]+_0x164742(0x661)),_0x4789e5(_0x3a0017);});});}async[a0_0x33f632(0x8c6)](_0x3dc89e){const _0x279c06=a0_0x33f632;this[_0x279c06(0x5d3)]['verbose'](this[_0x279c06(0x59f)]+'\x20('+this['instance']['wuid']+_0x279c06(0x5bc));let _0x41b7c1=(0x0,oe[_0x279c06(0x5f9)])(_0x279c06(0x462))[_0x279c06(0x1df)](_0x3dc89e)[_0x279c06(0x8aa)](_0x279c06(0x353)),_0x8b4972=''+(0x0,j[_0x279c06(0x79a)])(this[_0x279c06(0x2b7)],_0x41b7c1+'.mp3');if(k['existsSync'](_0x8b4972))return this['logger'][_0x279c06(0x843)](this['instanceName']+'\x20('+this[_0x279c06(0x229)][_0x279c06(0x6d8)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x279c06(0x844)][_0x279c06(0x1d0)](_0x8b4972);let _0x5f332f=''+(0x0,j[_0x279c06(0x79a)])(this[_0x279c06(0x2b7)],_0x279c06(0x7e1)+_0x41b7c1+'.ogg');if((0x0,J[_0x279c06(0x1b9)])(_0x3dc89e)){let _0x2ca720=new Date()[_0x279c06(0x792)](),_0x1f776d=_0x3dc89e+'?timestamp='+_0x2ca720,_0x305d4c=await K['default'][_0x279c06(0x939)](_0x1f776d,{'responseType':_0x279c06(0x6e7)});k[_0x279c06(0x469)](_0x5f332f,_0x305d4c[_0x279c06(0x621)]);}else{let _0xff4196=Buffer[_0x279c06(0x40f)](_0x3dc89e,_0x279c06(0x6fb));k[_0x279c06(0x469)](_0x5f332f,_0xff4196);}return new Promise((_0x10156f,_0x1ce7c1)=>{const _0x5940a4=_0x279c06;(0x0,Ue[_0x5940a4(0x8f1)])(Ds[_0x5940a4(0x844)][_0x5940a4(0x92d)]+'\x20-i\x20'+_0x5f332f+_0x5940a4(0x61a)+_0x8b4972+_0x5940a4(0x432),_0x419a7f=>{const _0x127e7c=_0x5940a4;if(k[_0x127e7c(0x206)](_0x5f332f),_0x419a7f){this[_0x127e7c(0x5d3)][_0x127e7c(0x843)](this['instanceName']+'\x20('+this[_0x127e7c(0x229)][_0x127e7c(0x6d8)]+'):Error\x20in\x20converting\x20audio'),_0x1ce7c1(_0x419a7f);return;}this[_0x127e7c(0x5d3)][_0x127e7c(0x843)](this['instanceName']+'\x20('+this[_0x127e7c(0x229)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x10156f(j[_0x127e7c(0x844)][_0x127e7c(0x1d0)](_0x8b4972));});});}async[a0_0x33f632(0x19b)](_0x30f9ad){const _0x5a6ce7=a0_0x33f632;console[_0x5a6ce7(0x257)](_0x5a6ce7(0x27c),_0x30f9ad);let _0x1bf333;try{_0x30f9ad[_0x5a6ce7(0x19b)]?.[_0x5a6ce7(0x864)]&&(_0x1bf333=await this[_0x5a6ce7(0x6ea)]({'mediatype':_0x5a6ce7(0x1b7),'media':_0x30f9ad[_0x5a6ce7(0x19b)][_0x5a6ce7(0x864)]}));}catch(_0x9ed878){throw console[_0x5a6ce7(0x90c)]('Error\x20in\x20prepareMediaMessage:',_0x9ed878),new Error(_0x5a6ce7(0x55b));}try{let _0x3da736={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':'*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a'},'footer':{'text':'Rodapé\x20de\x20Teste'},'header':((()=>{const _0x446ea6=_0x5a6ce7;if(_0x1bf333?.[_0x446ea6(0x4b4)]?.[_0x446ea6(0x74b)])return{'hasMediaAttachment':!!_0x1bf333[_0x446ea6(0x4b4)][_0x446ea6(0x74b)],'imageMessage':_0x1bf333[_0x446ea6(0x4b4)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':_0x5a6ce7(0x7aa),'buttonParamsJson':JSON[_0x5a6ce7(0x3f5)]({'display_text':_0x5a6ce7(0x7e9),'id':'1'})},{'name':_0x5a6ce7(0x7aa),'buttonParamsJson':JSON[_0x5a6ce7(0x3f5)]({'display_text':_0x5a6ce7(0x626),'id':'2'})}],'messageParamsJson':JSON['stringify']({'from':'api','templateId':_0x5a6ce7(0x5b0)+(0x0,oe['randomBytes'])(0x12)[_0x5a6ce7(0x765)](_0x5a6ce7(0x353))[_0x5a6ce7(0x900)]()})}}}}};return await this[_0x5a6ce7(0x478)](_0x30f9ad['number'],_0x3da736,_0x30f9ad?.['options']);}catch(_0x2352d3){throw console[_0x5a6ce7(0x90c)](_0x5a6ce7(0x80e),_0x2352d3),new Error(_0x5a6ce7(0x5e5));}}async[a0_0x33f632(0x1f2)](_0x42b6ea){const _0x10fd32=a0_0x33f632;return await this['sendMessageWithRetry'](_0x42b6ea[_0x10fd32(0x3ae)],{'locationMessage':{'degreesLatitude':_0x42b6ea[_0x10fd32(0x1f2)]['latitude'],'degreesLongitude':_0x42b6ea[_0x10fd32(0x1f2)][_0x10fd32(0x83a)],'name':_0x42b6ea[_0x10fd32(0x1f2)]?.[_0x10fd32(0x254)],'address':_0x42b6ea[_0x10fd32(0x1f2)]?.['address']}},_0x42b6ea?.['options']);}async[a0_0x33f632(0x5ed)](_0x438888){const _0x6dca7c=a0_0x33f632;let _0x52be94={},_0x6d6e1f=async _0x31dcd0=>{const _0x45d22a=a0_0x308e;let _0x5c9a98=_0x45d22a(0x524)+_0x31dcd0[_0x45d22a(0x913)]+_0x45d22a(0x877)+_0x31dcd0[_0x45d22a(0x913)]+'\x0a';_0x31dcd0[_0x45d22a(0x492)]&&(_0x5c9a98+='ORG:'+_0x31dcd0[_0x45d22a(0x492)]+';\x0a'),_0x31dcd0[_0x45d22a(0x798)]&&(_0x5c9a98+=_0x45d22a(0x3f2)+_0x31dcd0['email']+'\x0a'),_0x31dcd0['url']&&(_0x5c9a98+=_0x45d22a(0x64e)+_0x31dcd0[_0x45d22a(0x81e)]+'\x0a');let _0x579b82='',_0x30e03b=0x1;if(_0x31dcd0['phoneNumber']){let _0x50f893=_0x31dcd0['phoneNumber'][_0x45d22a(0x405)]('|');for(let _0x1c4c3c of _0x50f893){let _0x2ecde1=await this['whatsappNumber']({'numbers':[_0x1c4c3c]}),_0x2e83ff=(_0x2ecde1['length']>0x0?_0x2ecde1[0x0]['jid']:this['createJid'](_0x1c4c3c))['replace'](_0x45d22a(0x8b2),'');_0x579b82+=_0x45d22a(0x690)+_0x30e03b+'.TEL;waid='+_0x2e83ff+':'+_0x1c4c3c+'\x0aitem'+_0x30e03b+_0x45d22a(0x78a),_0x30e03b++;}}return _0x5c9a98+=_0x579b82+_0x45d22a(0x249),_0x5c9a98;};return _0x438888[_0x6dca7c(0x5ed)][_0x6dca7c(0x6ee)]===0x1?_0x52be94[_0x6dca7c(0x5ed)]={'displayName':_0x438888[_0x6dca7c(0x5ed)][0x0][_0x6dca7c(0x913)],'vcard':await _0x6d6e1f(_0x438888['contactMessage'][0x0])}:_0x52be94[_0x6dca7c(0x4fc)]={'displayName':_0x438888[_0x6dca7c(0x5ed)][_0x6dca7c(0x6ee)]+_0x6dca7c(0x886),'contacts':await Promise[_0x6dca7c(0x88b)](_0x438888['contactMessage'][_0x6dca7c(0x3dc)](async _0x368a86=>({'displayName':_0x368a86[_0x6dca7c(0x913)],'vcard':await _0x6d6e1f(_0x368a86)})))},await this[_0x6dca7c(0x1a7)](_0x438888[_0x6dca7c(0x3ae)],{..._0x52be94},_0x438888?.['options']);}async[a0_0x33f632(0x2dd)](_0x4c7511){const _0x43df2a=a0_0x33f632;return await this[_0x43df2a(0x1a7)](_0x4c7511[_0x43df2a(0x2dd)]['key']['remoteJid'],{'reactionMessage':{'key':_0x4c7511[_0x43df2a(0x2dd)][_0x43df2a(0x6de)],'text':_0x4c7511[_0x43df2a(0x2dd)]['reaction']}});}async[a0_0x33f632(0x4fb)](_0x3fd697){const _0x4b91b2=a0_0x33f632;let _0x3af6b7=[];for await(let _0xfd246b of _0x3fd697['numbers']){let _0x3d07fc=this['createJid'](_0xfd246b),_0x2fe869=!0x1;try{if((0x0,w['isJidGroup'])(_0x3d07fc)){let _0x368497=(await this[_0x4b91b2(0x48b)][_0x4b91b2(0x2cb)][_0x4b91b2(0x91c)]({'where':{'_id':_0x3d07fc}},this[_0x4b91b2(0x229)]['wuid']))[_0x4b91b2(0x764)];_0x368497?(_0x2fe869=!0x0,_0x3af6b7[_0x4b91b2(0x2cc)](new ce(_0x368497['id'],_0x2fe869,_0x368497?.[_0x4b91b2(0x74c)]))):(_0x368497=await this[_0x4b91b2(0x5e4)]({'groupJid':_0x3d07fc},'inner'),_0x3af6b7[_0x4b91b2(0x2cc)](new ce(_0x368497['id'],!!_0x368497?.['id'],_0x368497?.[_0x4b91b2(0x74c)])));}else{if(_0x3d07fc[_0x4b91b2(0x51a)](_0x4b91b2(0x848)))_0x3af6b7[_0x4b91b2(0x2cc)](new ce(_0x3d07fc,!0x0));else{let _0x2c2309=(await this[_0x4b91b2(0x467)][_0x4b91b2(0x53f)](_0x3d07fc))[0x0];_0x3af6b7[_0x4b91b2(0x2cc)](new ce(_0x2c2309[_0x4b91b2(0x1e7)],_0x2c2309[_0x4b91b2(0x375)]));}}}catch{(0x0,w[_0x4b91b2(0x327)])(_0x3d07fc)||await this[_0x4b91b2(0x5a1)](_0x3d07fc),_0x3af6b7['push'](new ce(_0xfd246b,!0x1));}}return _0x3af6b7;}async[a0_0x33f632(0x5a1)](_0x1e45de){const _0x2b926c=a0_0x33f632;try{await this[_0x2b926c(0x48b)][_0x2b926c(0x2cb)]['findOne']({'where':{'_id':_0x1e45de,'imported':!0x0}},this[_0x2b926c(0x229)][_0x2b926c(0x6d8)])&&(await this[_0x2b926c(0x48b)][_0x2b926c(0x2cb)][_0x2b926c(0x28f)](_0x1e45de,this[_0x2b926c(0x229)][_0x2b926c(0x6d8)]),this[_0x2b926c(0x5d3)]['info'](_0x2b926c(0x46a)+_0x1e45de+_0x2b926c(0x259)));}catch(_0x1ef27e){let _0x2d80ac=_0x2b926c(0x6e8),_0x2f3fc0=_0x1ef27e instanceof Error?_0x1ef27e[_0x2b926c(0x4b4)]:typeof _0x1ef27e=='object'?JSON[_0x2b926c(0x3f5)](_0x1ef27e):_0x1ef27e,_0xd150b4=_0x2d80ac+':\x20'+_0x2f3fc0;this[_0x2b926c(0x5d3)]['error'](this['instanceName']+'\x20('+this[_0x2b926c(0x229)][_0x2b926c(0x6d8)]+'):\x20'+_0xd150b4);}}async['markMessageAsRead'](_0x303e52){const _0x5337bf=a0_0x33f632;try{let _0xa12028=_0x303e52[_0x5337bf(0x466)][_0x5337bf(0x550)](_0x1152cc=>(0x0,w[_0x5337bf(0x327)])(_0x1152cc[_0x5337bf(0x330)])||(0x0,w[_0x5337bf(0x566)])(_0x1152cc[_0x5337bf(0x330)]))[_0x5337bf(0x3dc)](_0x54b4fb=>({'remoteJid':_0x54b4fb[_0x5337bf(0x330)],'fromMe':_0x54b4fb[_0x5337bf(0x7e8)],'id':_0x54b4fb['id']}));await this[_0x5337bf(0x467)][_0x5337bf(0x466)](_0xa12028);let _0x5c3aec=_0xa12028[_0x5337bf(0x3dc)](_0x49e774=>this[_0x5337bf(0x6b4)](_0x49e774,{'status':'READ','owner':this['instance'][_0x5337bf(0x6d8)]})),_0x581f0d=_0xa12028[_0x5337bf(0x3dc)](_0x1442db=>this[_0x5337bf(0x48b)][_0x5337bf(0x2cb)][_0x5337bf(0x215)]({'where':{'_id':_0x1442db[_0x5337bf(0x330)]}},{'unreadcount':0x0},this[_0x5337bf(0x229)][_0x5337bf(0x6d8)])),[_0x2ac764,_0x1a1763]=await Promise[_0x5337bf(0x88b)]([Promise['all'](_0x5c3aec),Promise[_0x5337bf(0x88b)](_0x581f0d)]);return _0x1a1763[_0x5337bf(0x550)](_0x3c253d=>_0x3c253d!==null)[_0x5337bf(0x1d3)](_0x25108e=>{F(this['instanceName'],'chats',{'chat':_0x25108e});}),{'message':_0x5337bf(0x219),'read':_0x5337bf(0x656)};}catch(_0x48fd17){let _0x104b4a=_0x5337bf(0x733),_0xc98a39=_0x48fd17 instanceof Error?_0x48fd17[_0x5337bf(0x4b4)]:typeof _0x48fd17==_0x5337bf(0x8d7)?JSON[_0x5337bf(0x3f5)](_0x48fd17):_0x48fd17,_0x55e5a3=_0x104b4a+':\x20'+_0xc98a39;throw this['logger'][_0x5337bf(0x90c)](this[_0x5337bf(0x59f)]+'\x20('+this[_0x5337bf(0x229)][_0x5337bf(0x6d8)]+'):\x20'+_0x55e5a3),new x(_0x55e5a3);}}async[a0_0x33f632(0x315)](_0x5f2477){const _0x41c846=a0_0x33f632;let _0x205986={'where':{'key':{'remoteJid':_0x5f2477}},'limit':0x1},_0x4ef07b=await this[_0x41c846(0x634)](_0x205986);return _0x4ef07b||(this[_0x41c846(0x5d3)][_0x41c846(0x90c)](_0x41c846(0x283)+_0x5f2477),null);}async[a0_0x33f632(0x2c2)](_0x578107){const _0x732333=a0_0x33f632;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x732333(0x229)]['wuid']+_0x732333(0x49c));try{let _0x4713e3=_0x578107[_0x732333(0x7d4)],_0x4071b9=_0x578107[_0x732333(0x2cb)];if(!_0x4713e3&&_0x4071b9?_0x4713e3=await this[_0x732333(0x315)](_0x4071b9):(_0x4713e3=_0x578107[_0x732333(0x7d4)],_0x4713e3[_0x732333(0x639)]=_0x4713e3?.[_0x732333(0x639)]??Date['now'](),_0x4071b9=_0x4713e3?.['key']?.[_0x732333(0x330)]),!_0x4713e3||Object['keys'](_0x4713e3)[_0x732333(0x6ee)]===0x0)throw new U(_0x732333(0x5a4));this[_0x732333(0x5d3)]['verbose'](this[_0x732333(0x59f)]+'\x20('+this[_0x732333(0x229)]['wuid']+_0x732333(0x723)+_0x4071b9);try{await this[_0x732333(0x467)][_0x732333(0x88c)]({'archive':_0x578107['archive'],'lastMessages':[_0x4713e3]},this[_0x732333(0x6ce)](_0x4071b9));}catch(_0x384554){let _0x41b30a=_0x732333(0x659)+_0x4071b9,_0x4d11ea=_0x384554 instanceof Error?_0x384554[_0x732333(0x4b4)]:typeof _0x384554=='object'?JSON[_0x732333(0x3f5)](_0x384554):_0x384554,_0x13411b=_0x41b30a+':\x20'+_0x4d11ea;this[_0x732333(0x5d3)]['error'](this[_0x732333(0x59f)]+'\x20('+this[_0x732333(0x229)][_0x732333(0x6d8)]+'):\x20'+_0x13411b);}this['logger'][_0x732333(0x843)](this[_0x732333(0x59f)]+'\x20('+this[_0x732333(0x229)]['wuid']+_0x732333(0x69e)+_0x4071b9);let _0x582d7c=await this[_0x732333(0x48b)][_0x732333(0x2cb)][_0x732333(0x215)]({'where':{'_id':_0x4713e3?.[_0x732333(0x6de)]?.[_0x732333(0x330)]}},{'archived':_0x578107['archive']},this[_0x732333(0x229)]['wuid']);return _0x582d7c?(this[_0x732333(0x5d3)][_0x732333(0x843)](this[_0x732333(0x59f)]+'\x20('+this[_0x732333(0x229)][_0x732333(0x6d8)]+_0x732333(0x628)+JSON[_0x732333(0x3f5)](_0x582d7c)),F(this[_0x732333(0x59f)],'chats',{'chat':_0x582d7c})):this[_0x732333(0x5d3)]['error'](this['instanceName']+'\x20('+this['instance'][_0x732333(0x6d8)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4071b9),{'chatId':_0x4071b9,'archived':_0x578107[_0x732333(0x938)]};}catch(_0x42a5e4){let _0x5b549c=_0x732333(0x3a5),_0x2ba6cf=_0x42a5e4 instanceof Error?_0x42a5e4['message']:typeof _0x42a5e4==_0x732333(0x8d7)?JSON[_0x732333(0x3f5)](_0x42a5e4):_0x42a5e4,_0x1c0490=_0x5b549c+':\x20'+_0x2ba6cf;throw this[_0x732333(0x5d3)][_0x732333(0x90c)](this[_0x732333(0x59f)]+'\x20('+this[_0x732333(0x229)][_0x732333(0x6d8)]+'):\x20'+_0x1c0490),new x(_0x1c0490);}}async[a0_0x33f632(0x28f)](_0x523e72){const _0x102894=a0_0x33f632;this[_0x102894(0x5d3)]['verbose'](this[_0x102894(0x59f)]+'\x20('+this[_0x102894(0x229)][_0x102894(0x6d8)]+_0x102894(0x72a));try{let _0x2702ae=await this[_0x102894(0x315)](_0x523e72);if(!_0x2702ae||Object[_0x102894(0x516)](_0x2702ae)['length']===0x0)throw new U(_0x102894(0x5a4));let _0x14e0c2=_0x2702ae[0x0];this[_0x102894(0x5d3)][_0x102894(0x843)](this[_0x102894(0x59f)]+'\x20('+this[_0x102894(0x229)][_0x102894(0x6d8)]+_0x102894(0x81d)+_0x523e72);try{await this[_0x102894(0x467)][_0x102894(0x88c)]({'delete':!0x0,'lastMessages':[{'key':_0x14e0c2[_0x102894(0x6de)],'messageTimestamp':_0x14e0c2[_0x102894(0x639)]}]},this['createJid'](_0x523e72));}catch(_0x2f0f23){this[_0x102894(0x5d3)]['error'](_0x102894(0x659)+_0x523e72+':\x20'+_0x2f0f23[_0x102894(0x765)]());}this[_0x102894(0x5d3)][_0x102894(0x843)](this[_0x102894(0x59f)]+'\x20('+this[_0x102894(0x229)][_0x102894(0x6d8)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x523e72);return;}catch(_0x33d07e){throw this[_0x102894(0x5d3)][_0x102894(0x90c)](this['instanceName']+'\x20('+this['instance'][_0x102894(0x6d8)]+_0x102894(0x39d)+_0x33d07e[_0x102894(0x765)]()),new x({'archived':!0x1,'message':[_0x102894(0x513),_0x33d07e['toString']()]});}}async[a0_0x33f632(0x660)](_0x5e49ff){const _0x379ddf=a0_0x33f632;try{let _0x529ff5=await this[_0x379ddf(0x467)][_0x379ddf(0x416)](_0x5e49ff['remoteJid'],{'delete':_0x5e49ff});try{let _0x5f255c=await this[_0x379ddf(0x6b4)](_0x5e49ff,{'status':_0x379ddf(0x61e),'owner':this[_0x379ddf(0x229)]['wuid']});this['logger'][_0x379ddf(0x843)](this[_0x379ddf(0x59f)]+'\x20('+this[_0x379ddf(0x229)][_0x379ddf(0x6d8)]+_0x379ddf(0x540)+_0x5f255c);}catch(_0x233a50){this['logger'][_0x379ddf(0x90c)](_0x379ddf(0x1c8)+_0x233a50);}return _0x529ff5;}catch(_0x310ac5){throw new x(_0x379ddf(0x623),_0x310ac5?.[_0x379ddf(0x765)]());}}async[a0_0x33f632(0x435)](_0xc71cbc){const _0x54e2f9=a0_0x33f632;try{let _0x3e6db1=_0xc71cbc?.[_0x54e2f9(0x4b4)]?_0xc71cbc:await this[_0x54e2f9(0x8a2)](_0xc71cbc['key'],!0x0);for(let _0x1596ac of Na)_0x3e6db1[_0x54e2f9(0x4b4)][_0x1596ac]&&(_0x3e6db1[_0x54e2f9(0x4b4)]=_0x3e6db1[_0x54e2f9(0x4b4)][_0x1596ac][_0x54e2f9(0x4b4)]);let _0x5ddb5d,_0x529f81;for(let _0x20a982 of Ea)if(_0x5ddb5d=_0x3e6db1['message'][_0x20a982],_0x5ddb5d){_0x529f81=_0x20a982;break;}if(!_0x5ddb5d)throw _0x54e2f9(0x4f9);typeof _0x5ddb5d[_0x54e2f9(0x685)]==_0x54e2f9(0x8d7)&&(_0x3e6db1[_0x54e2f9(0x4b4)]=JSON[_0x54e2f9(0x366)](JSON[_0x54e2f9(0x3f5)](_0x3e6db1[_0x54e2f9(0x4b4)])));let _0x56d384=await(0x0,w[_0x54e2f9(0x420)])({'key':_0x3e6db1?.[_0x54e2f9(0x6de)],'message':_0x3e6db1?.['message']},_0x54e2f9(0x7a8),{},{'logger':(0x0,Ft[_0x54e2f9(0x844)])({'level':_0x54e2f9(0x6a3)}),'reuploadRequest':this[_0x54e2f9(0x467)][_0x54e2f9(0x8bd)]});if(!(_0x56d384 instanceof Buffer))throw new Error(_0x54e2f9(0x247));let _0x7922b0=this[_0x54e2f9(0x7fb)]['get']('DATABASE'),_0x357dc9,_0x51d20b;if(_0x5ddb5d[_0x54e2f9(0x45d)])_0x357dc9=_0x5ddb5d[_0x54e2f9(0x45d)];else{let _0x2f8fd8=_0x5ddb5d[_0x54e2f9(0x78c)]?.[_0x54e2f9(0x82d)](/\/(\w+)/),_0x1f0fb9=_0x2f8fd8?_0x2f8fd8[0x1]:null;if(!_0x1f0fb9)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x357dc9=(0x0,Q['v4'])()+'.'+_0x1f0fb9;}_0x529f81==='audioMessage'?_0x51d20b=_0x54e2f9(0x4f8)+await this[_0x54e2f9(0x8c6)](_0x56d384['toString'](_0x54e2f9(0x6fb))):(await this[_0x54e2f9(0x78b)](_0x56d384,_0x357dc9),_0x51d20b=_0x54e2f9(0x4f8)+_0x357dc9);let _0x29ceee=this[_0x54e2f9(0x7fb)][_0x54e2f9(0x939)](_0x54e2f9(0x308))[_0x54e2f9(0x93d)];if(!_0x29ceee){let _0x5b1177=this['configService'][_0x54e2f9(0x939)](_0x54e2f9(0x762));_0x29ceee='https://'+(_0x5b1177&&_0x5b1177[_0x54e2f9(0x86c)][_0x54e2f9(0x405)]('/')[0x4]);}_0x51d20b=''+_0x29ceee+_0x51d20b;let _0x17b255=0xc*0x3c*0x3c*0x3e8,_0x527a12={'where':{'_id':_0x3e6db1[_0x54e2f9(0x6de)]['id']}},_0x32399b={'message_normalized.fileUrl':_0x51d20b,'message_normalized.expires_fileUrl':Date[_0x54e2f9(0x26a)]()+_0x17b255};try{let _0x122fcd=await this[_0x54e2f9(0x48b)][_0x54e2f9(0x4b4)][_0x54e2f9(0x1df)](_0x527a12,_0x32399b,this['instance'][_0x54e2f9(0x6d8)]);_0x122fcd&&F(this[_0x54e2f9(0x59f)],_0x54e2f9(0x613),{'message':_0x122fcd});}catch(_0xa250c9){let _0x3207a9=_0x54e2f9(0x776),_0x14d10d=_0xa250c9 instanceof Error?_0xa250c9[_0x54e2f9(0x4b4)]:typeof _0xa250c9==_0x54e2f9(0x8d7)?JSON[_0x54e2f9(0x3f5)](_0xa250c9):_0xa250c9,_0x29bb83=_0x3207a9+':\x20'+_0x14d10d;this[_0x54e2f9(0x5d3)][_0x54e2f9(0x90c)](this[_0x54e2f9(0x59f)]+'\x20('+this[_0x54e2f9(0x229)][_0x54e2f9(0x6d8)]+_0x54e2f9(0x766)+_0x29bb83);}return{'mediaType':_0x529f81,'fileName':_0x5ddb5d[_0x54e2f9(0x45d)],'caption':_0x5ddb5d[_0x54e2f9(0x747)],'size':{'fileLength':_0x5ddb5d[_0x54e2f9(0x69f)],'height':_0x5ddb5d[_0x54e2f9(0x404)],'width':_0x5ddb5d['width']},'mimetype':_0x5ddb5d['mimetype'],'base64':_0x56d384[_0x54e2f9(0x765)](_0x54e2f9(0x6fb)),'fileUrl':_0x51d20b,'expires_fileUrl':Date['now']()+_0x17b255};}catch(_0x1ed7af){let _0x46c651=_0x54e2f9(0x7ce),_0x1b90e4=_0x1ed7af instanceof Error?_0x1ed7af[_0x54e2f9(0x4b4)]:typeof _0x1ed7af==_0x54e2f9(0x8d7)?JSON[_0x54e2f9(0x3f5)](_0x1ed7af):_0x1ed7af,_0x1e806c=_0x46c651+':\x20'+_0x1b90e4;throw this[_0x54e2f9(0x5d3)][_0x54e2f9(0x90c)](this[_0x54e2f9(0x59f)]+'\x20('+this[_0x54e2f9(0x229)]['wuid']+_0x54e2f9(0x766)+_0x1e806c),new m(_0x1e806c);}}async[a0_0x33f632(0x78b)](_0x238166,_0x49247b){const _0x896fd=a0_0x33f632;let _0x4b659c=j['default']['join'](__dirname,_0x896fd(0x21d));k[_0x896fd(0x2f5)](_0x4b659c)||k[_0x896fd(0x585)](_0x4b659c,{'recursive':!0x0});let _0x5561b4=j[_0x896fd(0x844)]['join'](_0x4b659c,_0x49247b);return new Promise((_0x3f73a7,_0xd1cb)=>{k['writeFile'](_0x5561b4,_0x238166,_0x11c77c=>{const _0x126ef9=a0_0x308e;_0x11c77c?(this['logger'][_0x126ef9(0x90c)](_0x126ef9(0x2d8)+(_0x11c77c instanceof Error?_0x11c77c['message']:JSON[_0x126ef9(0x3f5)](_0x11c77c,null,0x2))),_0xd1cb(_0x11c77c)):(this[_0x126ef9(0x5d3)][_0x126ef9(0x257)](_0x126ef9(0x56d)+_0x5561b4),_0x3f73a7(_0x5561b4));});});}async[a0_0x33f632(0x49d)](_0x35da84){const _0x3b9bc3=a0_0x33f632;return await this[_0x3b9bc3(0x48b)][_0x3b9bc3(0x335)]['find'](_0x35da84,this['instance']['wuid']);}async[a0_0x33f632(0x602)](){const _0x42da9c=a0_0x33f632;return await this[_0x42da9c(0x48b)][_0x42da9c(0x4a5)][_0x42da9c(0x7fa)]({'where':{}},this[_0x42da9c(0x229)][_0x42da9c(0x6d8)]);}async['fetchMessages'](_0x22a7dd){const _0x6d9aee=a0_0x33f632;return await this[_0x6d9aee(0x48b)][_0x6d9aee(0x4b4)][_0x6d9aee(0x7fa)](_0x22a7dd,this[_0x6d9aee(0x229)][_0x6d9aee(0x6d8)]);}async[a0_0x33f632(0x543)](){const _0x29957d=a0_0x33f632;return this['repository'][_0x29957d(0x2cb)][_0x29957d(0x608)](this[_0x29957d(0x229)][_0x29957d(0x6d8)]),this[_0x29957d(0x48b)]['chat']['updateMissingEtiquetas'](this[_0x29957d(0x229)][_0x29957d(0x6d8)]),this[_0x29957d(0x48b)]['chat']['updateMissingTags'](this[_0x29957d(0x229)][_0x29957d(0x6d8)]),this[_0x29957d(0x48b)]['chat'][_0x29957d(0x807)](this[_0x29957d(0x229)]['wuid']),await this[_0x29957d(0x48b)][_0x29957d(0x2cb)]['find']({'where':{}},this[_0x29957d(0x229)][_0x29957d(0x6d8)]);}async[a0_0x33f632(0x22a)](_0xb9592){const _0xc819df=a0_0x33f632;try{if(!Array[_0xc819df(0x3cd)](_0xb9592)||_0xb9592[_0xc819df(0x6ee)]===0x0)throw new Error(_0xc819df(0x62a));let _0x6d26f1=[],_0x2d0c68=[];for(let _0x1dd62a of _0xb9592){if(_0x1dd62a['_id'])_0x1dd62a[_0xc819df(0x7c9)]=this[_0xc819df(0x6ce)](_0x1dd62a[_0xc819df(0x7c9)]);else continue;await this['repository'][_0xc819df(0x2cb)][_0xc819df(0x91c)]({'where':{'_id':_0x1dd62a[_0xc819df(0x7c9)]}},this['instance'][_0xc819df(0x6d8)])?_0x2d0c68[_0xc819df(0x2cc)]({'_id':_0x1dd62a[_0xc819df(0x7c9)],'leadInfo':_0x1dd62a[_0xc819df(0x6a6)],'owner':this['instance'][_0xc819df(0x6d8)]}):_0x6d26f1[_0xc819df(0x2cc)]({'_id':_0x1dd62a[_0xc819df(0x7c9)],'owner':this[_0xc819df(0x229)]['wuid'],'leadInfo':_0x1dd62a[_0xc819df(0x6a6)],'imported':!0x0});}return _0x2d0c68[_0xc819df(0x6ee)]>0x0&&await this['repository'][_0xc819df(0x2cb)][_0xc819df(0x89a)](_0x2d0c68[_0xc819df(0x3dc)](_0x3c10c3=>({'query':{'where':{'_id':_0x3c10c3[_0xc819df(0x7c9)],'owner':this[_0xc819df(0x229)][_0xc819df(0x6d8)]}},'update':_0x3c10c3}))),_0x6d26f1[_0xc819df(0x6ee)]>0x0&&await this['repository'][_0xc819df(0x2cb)][_0xc819df(0x433)](_0x6d26f1,this[_0xc819df(0x229)][_0xc819df(0x6d8)]),{'updated':_0x2d0c68[_0xc819df(0x6ee)],'inserted':_0x6d26f1['length']};}catch(_0x3e4306){let _0x460aec=_0xc819df(0x42b),_0x581056=_0x3e4306 instanceof Error?_0x3e4306['message']:typeof _0x3e4306==_0xc819df(0x8d7)?JSON[_0xc819df(0x3f5)](_0x3e4306):_0x3e4306,_0x25fa07=_0x460aec+':\x20'+_0x581056;throw this[_0xc819df(0x5d3)][_0xc819df(0x90c)](this['instanceName']+'\x20('+this[_0xc819df(0x229)][_0xc819df(0x6d8)]+_0xc819df(0x766)+_0x25fa07),new m(_0x25fa07);}}async[a0_0x33f632(0x68d)](_0x43c680){const _0x3ca592=a0_0x33f632;try{if(!Array[_0x3ca592(0x3cd)](_0x43c680)||_0x43c680[_0x3ca592(0x6ee)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x436063=0x64,_0x5ec6ab=0x0;for(let _0x3f6896=0x0;_0x3f6896<_0x43c680['length'];_0x3f6896+=_0x436063){let _0x23cdd8=_0x43c680[_0x3ca592(0x63c)](_0x3f6896,_0x3f6896+_0x436063),{updated:_0x48e2f4}=await this[_0x3ca592(0x779)](_0x23cdd8);_0x5ec6ab+=_0x48e2f4;}return{'updated':_0x5ec6ab};}catch(_0x3c1c70){let _0x309689='Erro\x20ao\x20importar\x20chats',_0x48bf40=_0x3c1c70 instanceof Error?_0x3c1c70[_0x3ca592(0x4b4)]:typeof _0x3c1c70==_0x3ca592(0x8d7)?JSON[_0x3ca592(0x3f5)](_0x3c1c70):_0x3c1c70,_0x3190c5=_0x309689+':\x20'+_0x48bf40;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x3ca592(0x229)][_0x3ca592(0x6d8)]+_0x3ca592(0x766)+_0x3190c5),new m(_0x3190c5);}}async[a0_0x33f632(0x779)](_0x4b7ecb){const _0x20b0ba=a0_0x33f632;try{let _0x4a46b8=await this['repository'][_0x20b0ba(0x4a5)]['find']({'where':{}},this[_0x20b0ba(0x229)][_0x20b0ba(0x6d8)]),_0x410562=new Set(_0x4a46b8[_0x20b0ba(0x3dc)](_0xfb8535=>_0xfb8535['_id'])),_0x3fedd6=[],_0x7a4751=[];for(let _0x2fa508 of _0x4b7ecb){if(!_0x2fa508[_0x20b0ba(0x7c9)])continue;_0x2fa508[_0x20b0ba(0x7c9)]=this[_0x20b0ba(0x6ce)](_0x2fa508[_0x20b0ba(0x7c9)]);let _0x4e0152=await this[_0x20b0ba(0x48b)][_0x20b0ba(0x2cb)][_0x20b0ba(0x91c)]({'where':{'_id':_0x2fa508[_0x20b0ba(0x7c9)]}},this['instance']['wuid']),_0x1f965f={};if(Object['entries'](_0x2fa508[_0x20b0ba(0x6a6)])[_0x20b0ba(0x1d3)](([_0x73271a,_0x237076])=>{const _0x47cb91=_0x20b0ba;_0x1f965f[_0x47cb91(0x7dd)+_0x73271a]=_0x237076;}),_0x4e0152&&!_0x4e0152[_0x20b0ba(0x701)]){let _0x146637=(_0x2fa508['leadInfo'][_0x20b0ba(0x54e)]||[])[_0x20b0ba(0x550)](_0x3c6817=>_0x410562[_0x20b0ba(0x6fe)](_0x3c6817)),_0x5078a3=new Set(_0x4e0152[_0x20b0ba(0x6a6)]['etiquetas']||[]),_0x52d832=_0x146637[_0x20b0ba(0x550)](_0x5dd556=>!_0x5078a3[_0x20b0ba(0x6fe)](_0x5dd556)),_0x55f79e=[..._0x5078a3]['filter'](_0x2c89f6=>!_0x146637['includes'](_0x2c89f6));_0x7a4751['push'](..._0x52d832[_0x20b0ba(0x3dc)](_0x45ee47=>this[_0x20b0ba(0x7d8)](_0x45ee47,_0x2fa508[_0x20b0ba(0x7c9)]))),_0x7a4751[_0x20b0ba(0x2cc)](..._0x55f79e[_0x20b0ba(0x3dc)](_0x5d1329=>this[_0x20b0ba(0x773)](_0x5d1329,_0x2fa508[_0x20b0ba(0x7c9)]))),_0x2fa508[_0x20b0ba(0x6a6)][_0x20b0ba(0x54e)]=_0x146637,_0x3fedd6[_0x20b0ba(0x2cc)]({'query':{'where':{'_id':_0x2fa508['_id'],'owner':this['instance'][_0x20b0ba(0x6d8)]}},'update':_0x1f965f});}else _0x1f965f[_0x20b0ba(0x701)]=!0x0,_0x3fedd6[_0x20b0ba(0x2cc)]({'query':{'where':{'_id':_0x2fa508['_id'],'owner':this['instance'][_0x20b0ba(0x6d8)]}},'update':_0x1f965f});}let _0x4de9a7=await this[_0x20b0ba(0x48b)][_0x20b0ba(0x2cb)][_0x20b0ba(0x89a)](_0x3fedd6);return await Promise['all'](_0x7a4751),{'updated':_0x4de9a7};}catch(_0x5988cc){let _0x20bfce=_0x20b0ba(0x42b),_0x291459=_0x5988cc instanceof Error?_0x5988cc[_0x20b0ba(0x4b4)]:typeof _0x5988cc==_0x20b0ba(0x8d7)?JSON[_0x20b0ba(0x3f5)](_0x5988cc):_0x5988cc,_0xcbfe1b=_0x20bfce+':\x20'+_0x291459;throw this[_0x20b0ba(0x5d3)]['error'](this[_0x20b0ba(0x59f)]+'\x20('+this[_0x20b0ba(0x229)][_0x20b0ba(0x6d8)]+_0x20b0ba(0x766)+_0xcbfe1b),new m(_0xcbfe1b);}}async[a0_0x33f632(0x8b3)](){const _0x4a143e=a0_0x33f632;return await this[_0x4a143e(0x467)][_0x4a143e(0x8b3)]();}async[a0_0x33f632(0x570)](_0x172e6f){const _0x498400=a0_0x33f632;try{return await this[_0x498400(0x467)][_0x498400(0x840)](_0x172e6f[_0x498400(0x5d5)][_0x498400(0x43c)]),await this[_0x498400(0x467)][_0x498400(0x69b)](_0x172e6f[_0x498400(0x5d5)]['profile']),await this['client'][_0x498400(0x468)](_0x172e6f[_0x498400(0x5d5)]['status']),await this[_0x498400(0x467)][_0x498400(0x2a6)](_0x172e6f[_0x498400(0x5d5)][_0x498400(0x7ff)]),await this[_0x498400(0x467)][_0x498400(0x1ab)](_0x172e6f['privacySettings'][_0x498400(0x81b)]),await this[_0x498400(0x467)][_0x498400(0x83b)](_0x172e6f[_0x498400(0x5d5)][_0x498400(0x82c)]),this[_0x498400(0x467)]?.['ws']?.[_0x498400(0x3b3)](),{'update':_0x498400(0x656),'data':{'readreceipts':_0x172e6f['privacySettings'][_0x498400(0x43c)],'profile':_0x172e6f['privacySettings'][_0x498400(0x4f5)],'status':_0x172e6f['privacySettings'][_0x498400(0x3ee)],'online':_0x172e6f['privacySettings'][_0x498400(0x7ff)],'last':_0x172e6f[_0x498400(0x5d5)][_0x498400(0x81b)],'groupadd':_0x172e6f[_0x498400(0x5d5)][_0x498400(0x82c)]}};}catch(_0x31386b){let _0x372b26=_0x498400(0x4ac),_0x2e998b=_0x31386b instanceof Error?_0x31386b[_0x498400(0x4b4)]:typeof _0x31386b==_0x498400(0x8d7)?JSON[_0x498400(0x3f5)](_0x31386b):_0x31386b,_0x2a98fc=_0x372b26+':\x20'+_0x2e998b;throw this['logger'][_0x498400(0x90c)](this[_0x498400(0x59f)]+'\x20('+this[_0x498400(0x229)][_0x498400(0x6d8)]+_0x498400(0x766)+_0x2a98fc),new m(_0x2a98fc);}}async[a0_0x33f632(0x67a)](_0x2ef2bf){const _0x5347ba=a0_0x33f632;let _0x27ed55=(_0x2ef2bf?this['createJid'](_0x2ef2bf):this[_0x5347ba(0x467)]?.['user']?.['id'])[_0x5347ba(0x60a)](/:\d{1,2}@/g,'@');this[_0x5347ba(0x5d3)][_0x5347ba(0x843)](this[_0x5347ba(0x59f)]+'\x20('+this[_0x5347ba(0x229)]['wuid']+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x27ed55);let _0xf1564a=await this[_0x5347ba(0x48b)][_0x5347ba(0x335)][_0x5347ba(0x91c)]({'where':{'_id':_0x27ed55}},this[_0x5347ba(0x229)]['wuid']),_0x2e1456=_0xf1564a?_0xf1564a[_0x5347ba(0x66b)]:null;try{let _0x4f77b3=(await this[_0x5347ba(0x4fb)]({'numbers':[_0x27ed55]}))?.[_0x5347ba(0x23f)](),_0x405c33=(await this[_0x5347ba(0x1ca)](_0x27ed55,null,!0x1))['cachedContact'][_0x5347ba(0x44f)],_0x52771e=await this[_0x5347ba(0x7b0)](_0x4f77b3?.[_0x5347ba(0x1e7)]),_0x4b9814=await this[_0x5347ba(0x2d7)](_0x4f77b3?.['jid']),_0x48b713=(await this[_0x5347ba(0x1ca)](_0x27ed55,null,!0x1))['cachedContact'][_0x5347ba(0x254)],_0x348f81=await this[_0x5347ba(0x48b)]['chat'][_0x5347ba(0x91c)]({'where':{'_id':_0x27ed55}},this[_0x5347ba(0x229)][_0x5347ba(0x6d8)]),_0x4ed9c0={'imagechat':_0x405c33,'contactname':_0x2e1456||null,'pushName':_0x48b713,'status':_0x52771e?.[_0x5347ba(0x3ee)],'isBusiness':_0x4b9814[_0x5347ba(0x4ca)],'email':_0x4b9814?.[_0x5347ba(0x798)],'description':_0x4b9814?.[_0x5347ba(0x1d6)],'website':_0x4b9814?.[_0x5347ba(0x33d)]?.['shift'](),'lastcache':Date['now'](),'imported':!_0x348f81},_0x30f29e=await this[_0x5347ba(0x48b)][_0x5347ba(0x2cb)]['updateOne']({'where':{'_id':_0x27ed55}},_0x4ed9c0,this[_0x5347ba(0x229)][_0x5347ba(0x6d8)]),_0x6bf3c5={'owner':this[_0x5347ba(0x229)][_0x5347ba(0x6d8)],'_id':_0x27ed55,'profilePictureUrl':_0x405c33,'status':_0x52771e?.[_0x5347ba(0x3ee)]};return this[_0x5347ba(0x48b)][_0x5347ba(0x335)][_0x5347ba(0x1df)]([_0x6bf3c5],this[_0x5347ba(0x229)]['wuid']),_0x30f29e&&F(this['instanceName'],_0x5347ba(0x228),{'chat':_0x30f29e}),{'wuid':_0x4f77b3?.[_0x5347ba(0x1e7)]||_0x27ed55,'name':_0x4f77b3?.[_0x5347ba(0x254)],'pushName':_0x48b713,'numberExists':_0x4f77b3?.['exists'],'picture':_0x405c33,'status':_0x52771e?.[_0x5347ba(0x3ee)],'isBusiness':_0x4b9814[_0x5347ba(0x4ca)],'email':_0x4b9814?.[_0x5347ba(0x798)],'description':_0x4b9814?.[_0x5347ba(0x1d6)],'website':_0x4b9814?.[_0x5347ba(0x33d)]?.['shift']()};}catch(_0xb96a11){return this[_0x5347ba(0x5d3)][_0x5347ba(0x90c)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0xb96a11 instanceof Error?_0xb96a11[_0x5347ba(0x4b4)]:JSON['stringify'](_0xb96a11,null,0x2))),{};}}async[a0_0x33f632(0x2d7)](_0x2f64eb){const _0x2ada0d=a0_0x33f632;this[_0x2ada0d(0x5d3)][_0x2ada0d(0x843)](this[_0x2ada0d(0x59f)]+'\x20('+this['instance'][_0x2ada0d(0x6d8)]+_0x2ada0d(0x82b));try{let _0x43f088=_0x2f64eb?this[_0x2ada0d(0x6ce)](_0x2f64eb):this[_0x2ada0d(0x229)][_0x2ada0d(0x6d8)],_0x1f135b=await this['client'][_0x2ada0d(0x4a9)](_0x43f088);return this[_0x2ada0d(0x5d3)][_0x2ada0d(0x843)](this['instanceName']+'\x20('+this['instance'][_0x2ada0d(0x6d8)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x1f135b?(this[_0x2ada0d(0x5d3)][_0x2ada0d(0x843)](this[_0x2ada0d(0x59f)]+'\x20('+this['instance']['wuid']+_0x2ada0d(0x794)),{'isBusiness':!0x0,..._0x1f135b}):{'isBusiness':!0x1,'message':_0x2ada0d(0x216),...(await this['whatsappNumber']({'numbers':[_0x43f088]}))?.[_0x2ada0d(0x23f)]()};}catch(_0x1a3695){let _0x1e2827=_0x2ada0d(0x7f0),_0x5db247=_0x1a3695 instanceof Error?_0x1a3695[_0x2ada0d(0x4b4)]:typeof _0x1a3695==_0x2ada0d(0x8d7)?JSON['stringify'](_0x1a3695):_0x1a3695,_0x2fdb54=_0x1e2827+':\x20'+_0x5db247;throw this[_0x2ada0d(0x5d3)][_0x2ada0d(0x90c)](this['instanceName']+'\x20('+this[_0x2ada0d(0x229)]['wuid']+_0x2ada0d(0x766)+_0x2fdb54),new x(_0x2fdb54);}}async[a0_0x33f632(0x7b0)](_0xc45a85){const _0x462fcf=a0_0x33f632;let _0x2f98b5=this[_0x462fcf(0x6ce)](_0xc45a85);try{return{'wuid':_0x2f98b5,'status':(await this[_0x462fcf(0x467)]['fetchStatus'](_0x2f98b5))[0x0]?.[_0x462fcf(0x3ee)]};}catch{return{'wuid':_0x2f98b5,'status':null};}}async['updateProfileName'](_0x57f602){const _0x2dea27=a0_0x33f632;try{return await this['client']['updateProfileName'](_0x57f602),{'update':'success'};}catch(_0x1625d7){let _0x263501='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x9ad085=_0x1625d7 instanceof Error?_0x1625d7[_0x2dea27(0x4b4)]:typeof _0x1625d7==_0x2dea27(0x8d7)?JSON[_0x2dea27(0x3f5)](_0x1625d7):_0x1625d7,_0x355775=_0x263501+':\x20'+_0x9ad085;throw this[_0x2dea27(0x5d3)][_0x2dea27(0x90c)](this[_0x2dea27(0x59f)]+'\x20('+this[_0x2dea27(0x229)]['wuid']+_0x2dea27(0x766)+_0x355775),new x(_0x355775);}}async[a0_0x33f632(0x85d)](_0x5ab90d){const _0x4bb23c=a0_0x33f632;try{return await this[_0x4bb23c(0x467)][_0x4bb23c(0x85d)](_0x5ab90d),{'update':'success'};}catch(_0x26b35d){let _0x13c215='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x2fbee1=_0x26b35d instanceof Error?_0x26b35d[_0x4bb23c(0x4b4)]:typeof _0x26b35d==_0x4bb23c(0x8d7)?JSON[_0x4bb23c(0x3f5)](_0x26b35d):_0x26b35d,_0x2f53ee=_0x13c215+':\x20'+_0x2fbee1;throw this[_0x4bb23c(0x5d3)][_0x4bb23c(0x90c)](this[_0x4bb23c(0x59f)]+'\x20('+this[_0x4bb23c(0x229)][_0x4bb23c(0x6d8)]+'):\x20'+_0x2f53ee),new x(_0x2f53ee);}}async[a0_0x33f632(0x875)](_0x1960fc){const _0x5beae0=a0_0x33f632;try{let _0x5652ff;if((0x0,J['isURL'])(_0x1960fc)){let _0x325cb8=new Date()[_0x5beae0(0x792)](),_0x1919cf=_0x1960fc+_0x5beae0(0x65c)+_0x325cb8;_0x5652ff=(await K['default']['get'](_0x1919cf,{'responseType':_0x5beae0(0x6e7)}))['data'];}else{if((0x0,J[_0x5beae0(0x2d3)])(_0x1960fc))_0x5652ff=Buffer[_0x5beae0(0x40f)](_0x1960fc,_0x5beae0(0x6fb));else throw new m(_0x5beae0(0x3fc));}return await this[_0x5beae0(0x467)][_0x5beae0(0x875)](this[_0x5beae0(0x229)]['wuid'],_0x5652ff),{'update':'success'};}catch(_0x3fb107){let _0x54daf9=_0x5beae0(0x695),_0x5189cf=_0x3fb107 instanceof Error?_0x3fb107['message']:typeof _0x3fb107=='object'?JSON[_0x5beae0(0x3f5)](_0x3fb107):_0x3fb107,_0xf93b57=_0x54daf9+':\x20'+_0x5189cf;throw this[_0x5beae0(0x5d3)][_0x5beae0(0x90c)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0xf93b57),new x(_0xf93b57);}}async[a0_0x33f632(0x3e0)](){const _0x171fb5=a0_0x33f632;try{return await this[_0x171fb5(0x467)]['removeProfilePicture'](this[_0x171fb5(0x229)][_0x171fb5(0x6d8)]),{'update':'success'};}catch(_0x46c862){let _0x279b8d=_0x171fb5(0x86b),_0x2df4e7=_0x46c862 instanceof Error?_0x46c862[_0x171fb5(0x4b4)]:typeof _0x46c862==_0x171fb5(0x8d7)?JSON[_0x171fb5(0x3f5)](_0x46c862):_0x46c862,_0x1ef1ce=_0x279b8d+':\x20'+_0x2df4e7;throw this['logger'][_0x171fb5(0x90c)](this[_0x171fb5(0x59f)]+'\x20('+this[_0x171fb5(0x229)][_0x171fb5(0x6d8)]+_0x171fb5(0x766)+_0x1ef1ce),new x(_0x1ef1ce);}}async[a0_0x33f632(0x441)](_0x25349c){const _0x324525=a0_0x33f632;try{let _0x49769e=(await this[_0x324525(0x4fb)]({'numbers':_0x25349c[_0x324525(0x21b)]}))['filter'](_0x3ca8f0=>_0x3ca8f0[_0x324525(0x375)])[_0x324525(0x3dc)](_0x34ac3a=>_0x34ac3a[_0x324525(0x1e7)]),{id:_0x35fadc}=await this[_0x324525(0x467)][_0x324525(0x544)](_0x25349c[_0x324525(0x74c)],_0x49769e);_0x25349c?.[_0x324525(0x1d6)]&&await this[_0x324525(0x467)]['groupUpdateDescription'](_0x35fadc,_0x25349c[_0x324525(0x1d6)]);let _0x447243=await this['client'][_0x324525(0x6e2)](_0x35fadc);return _0x447243['awaitingApproval']=[],await this[_0x324525(0x763)](_0x447243),{'metadata':_0x447243};}catch(_0x5b820e){let _0x181008=_0x324525(0x715),_0x4dd9b1=_0x5b820e instanceof Error?_0x5b820e[_0x324525(0x4b4)]:typeof _0x5b820e=='object'?JSON['stringify'](_0x5b820e):_0x5b820e,_0x14eb83=_0x181008+':\x20'+_0x4dd9b1;throw this[_0x324525(0x5d3)][_0x324525(0x90c)](this[_0x324525(0x59f)]+'\x20('+this[_0x324525(0x229)][_0x324525(0x6d8)]+'):\x20'+_0x14eb83),new x(_0x14eb83);}}async[a0_0x33f632(0x1ef)](_0x4af1d4){const _0x16281c=a0_0x33f632;try{if(_0x4af1d4[_0x16281c(0x636)]===!0x0&&await this[_0x16281c(0x467)][_0x16281c(0x68f)](_0x4af1d4['groupJid'],_0x16281c(0x2d0)),_0x4af1d4[_0x16281c(0x636)]===!0x1&&await this['client'][_0x16281c(0x68f)](_0x4af1d4[_0x16281c(0x8fa)],_0x16281c(0x564)),_0x4af1d4[_0x16281c(0x711)]===!0x0&&await this[_0x16281c(0x467)]['groupSettingUpdate'](_0x4af1d4[_0x16281c(0x8fa)],_0x16281c(0x643)),_0x4af1d4['announce']===!0x1&&await this[_0x16281c(0x467)][_0x16281c(0x68f)](_0x4af1d4['groupJid'],_0x16281c(0x48f)),_0x4af1d4[_0x16281c(0x5ad)]===!0x0&&await this['client'][_0x16281c(0x510)](_0x4af1d4[_0x16281c(0x8fa)],_0x16281c(0x25e)),_0x4af1d4[_0x16281c(0x5ad)]===!0x1&&await this[_0x16281c(0x467)]['groupMemberAddMode'](_0x4af1d4['groupJid'],_0x16281c(0x70e)),_0x4af1d4[_0x16281c(0x412)]===!0x0&&await this['client'][_0x16281c(0x19c)](_0x4af1d4[_0x16281c(0x8fa)],'on'),_0x4af1d4[_0x16281c(0x412)]===!0x1&&await this[_0x16281c(0x467)][_0x16281c(0x19c)](_0x4af1d4[_0x16281c(0x8fa)],'off'),typeof _0x4af1d4[_0x16281c(0x935)]<'u'&&_0x4af1d4[_0x16281c(0x935)]!==null&&await this[_0x16281c(0x467)][_0x16281c(0x87f)](_0x4af1d4[_0x16281c(0x8fa)],_0x4af1d4['expiration']),_0x4af1d4[_0x16281c(0x254)]&&await this[_0x16281c(0x467)][_0x16281c(0x59c)](_0x4af1d4[_0x16281c(0x8fa)],_0x4af1d4[_0x16281c(0x254)]),_0x4af1d4['description']&&await this[_0x16281c(0x467)][_0x16281c(0x290)](_0x4af1d4[_0x16281c(0x8fa)],_0x4af1d4['description']),_0x4af1d4[_0x16281c(0x1b7)]){let _0x5c3f64;if((0x0,J['isURL'])(_0x4af1d4[_0x16281c(0x1b7)])){let _0x2a16ae=new Date()[_0x16281c(0x792)](),_0x4bb683=_0x4af1d4[_0x16281c(0x1b7)]+_0x16281c(0x65c)+_0x2a16ae;_0x5c3f64=(await K['default']['get'](_0x4bb683,{'responseType':'arraybuffer'}))[_0x16281c(0x621)];}else{if((0x0,J[_0x16281c(0x2d3)])(_0x4af1d4['image']))_0x5c3f64=Buffer['from'](_0x4af1d4[_0x16281c(0x1b7)],_0x16281c(0x6fb));else throw new m(_0x16281c(0x3fc));}await this[_0x16281c(0x467)]['updateProfilePicture'](_0x4af1d4['groupJid'],_0x5c3f64);}return await this[_0x16281c(0x5e4)]({'groupJid':_0x4af1d4[_0x16281c(0x8fa)]});}catch(_0x68318f){let _0x5b8271='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x32daa0=_0x68318f instanceof Error?_0x68318f[_0x16281c(0x4b4)]:typeof _0x68318f==_0x16281c(0x8d7)?JSON[_0x16281c(0x3f5)](_0x68318f):_0x68318f,_0x30f178=_0x5b8271+':\x20'+_0x32daa0;throw this[_0x16281c(0x5d3)]['error'](this[_0x16281c(0x59f)]+'\x20('+this[_0x16281c(0x229)][_0x16281c(0x6d8)]+'):\x20'+_0x30f178),new x(_0x30f178);}}async[a0_0x33f632(0x897)](_0x4fea91){const _0x8ed834=a0_0x33f632;try{let _0x532348=_0x4fea91['participants']['map'](_0x5f4463=>this[_0x8ed834(0x6ce)](_0x5f4463));if(_0x4fea91['action']===_0x8ed834(0x35c)||_0x4fea91[_0x8ed834(0x6af)]===_0x8ed834(0x24c))await this[_0x8ed834(0x467)][_0x8ed834(0x93c)](_0x4fea91['groupJid'],_0x532348,_0x4fea91[_0x8ed834(0x6af)]);else{if(_0x4fea91[_0x8ed834(0x6af)]==='add'){let _0xeeeae4=(await this['whatsappNumber']({'numbers':_0x4fea91['participants']}))[_0x8ed834(0x550)](_0x516ce5=>_0x516ce5[_0x8ed834(0x375)])[_0x8ed834(0x3dc)](_0x1b3b44=>this['createJid'](_0x1b3b44[_0x8ed834(0x1e7)]));if(_0xeeeae4[_0x8ed834(0x6ee)]===0x0)throw new m(_0x8ed834(0x453));await this[_0x8ed834(0x467)][_0x8ed834(0x5e0)](_0x4fea91[_0x8ed834(0x8fa)],_0xeeeae4,'add');}else await this[_0x8ed834(0x467)][_0x8ed834(0x5e0)](_0x4fea91[_0x8ed834(0x8fa)],_0x532348,_0x4fea91['action']);}return await this[_0x8ed834(0x5e4)]({'groupJid':_0x4fea91[_0x8ed834(0x8fa)]});}catch(_0x3a9fcb){let _0xdd8976=_0x8ed834(0x3d8),_0x4134df=_0x3a9fcb instanceof Error?_0x3a9fcb[_0x8ed834(0x4b4)]:typeof _0x3a9fcb==_0x8ed834(0x8d7)?JSON[_0x8ed834(0x3f5)](_0x3a9fcb):_0x3a9fcb,_0x3bc5a5=_0xdd8976+':\x20'+_0x4134df;throw this['logger']['error'](this[_0x8ed834(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3bc5a5),new m(_0x3bc5a5);}}async['groupGetInviteInfo'](_0xb2bf72){const _0x40528a=a0_0x33f632;try{return await this[_0x40528a(0x467)][_0x40528a(0x460)](_0xb2bf72[_0x40528a(0x406)]);}catch(_0x36b772){let _0x40307a=_0x40528a(0x772),_0x1bb604=_0x36b772 instanceof Error?_0x36b772[_0x40528a(0x4b4)]:typeof _0x36b772==_0x40528a(0x8d7)?JSON[_0x40528a(0x3f5)](_0x36b772):_0x36b772,_0x13a879=_0x40307a+':\x20'+_0x1bb604;throw this[_0x40528a(0x5d3)][_0x40528a(0x90c)](this['instanceName']+'\x20('+this[_0x40528a(0x229)][_0x40528a(0x6d8)]+_0x40528a(0x766)+_0x13a879),new m(_0x13a879);}}async['findGroup'](_0x4a31ad,_0x4bcc22='out'){const _0xf8c69f=a0_0x33f632;try{let _0x3feb44=await this[_0xf8c69f(0x48b)]['chat'][_0xf8c69f(0x91c)]({'where':{'_id':_0x4a31ad[_0xf8c69f(0x8fa)]}},this[_0xf8c69f(0x229)][_0xf8c69f(0x6d8)]),_0x45a943=_0x3feb44?_0x3feb44[_0xf8c69f(0x764)]:null,_0x292d51=0x18*0x3c*0x3c*0x3e8;if(!_0x45a943||_0x45a943[_0xf8c69f(0x312)]&&Date[_0xf8c69f(0x26a)]()-_0x45a943[_0xf8c69f(0x312)]>_0x292d51){let _0x537fe6=await this['client'][_0xf8c69f(0x6e2)](_0x4a31ad[_0xf8c69f(0x8fa)]);if(_0x537fe6[_0xf8c69f(0x942)]=_0x537fe6?.[_0xf8c69f(0x942)]&&_0x537fe6[_0xf8c69f(0x942)][_0xf8c69f(0x765)]()[_0xf8c69f(0x6ee)]<0xd?_0x537fe6?.[_0xf8c69f(0x942)]*0x3e8:_0x537fe6?.[_0xf8c69f(0x942)]||null,_0x537fe6[_0xf8c69f(0x808)]=_0x537fe6?.[_0xf8c69f(0x808)]&&_0x537fe6[_0xf8c69f(0x808)][_0xf8c69f(0x765)]()[_0xf8c69f(0x6ee)]<0xd?_0x537fe6?.['creation']*0x3e8:_0x537fe6?.['creation']||null,_0x45a943={..._0x537fe6,'lastUpdate':Date[_0xf8c69f(0x26a)]()},!_0x537fe6)return;}let _0x5b07d6=_0x45a943[_0xf8c69f(0x21b)]?.[_0xf8c69f(0x727)](_0x3c4199=>_0x3c4199['id']===this['instance'][_0xf8c69f(0x6d8)]+_0xf8c69f(0x8b2)&&_0x3c4199[_0xf8c69f(0x7f7)]!=null)||!0x1;!_0x45a943[_0xf8c69f(0x406)]&&_0x5b07d6&&(_0x45a943['inviteCode']=(await this[_0xf8c69f(0x406)](_0x4a31ad,!0x1))[_0xf8c69f(0x2f4)]);let _0x16b92a=(!_0x45a943[_0xf8c69f(0x711)]||_0x5b07d6)&&(!_0x45a943['isCommunity']||_0x5b07d6);_0x45a943[_0xf8c69f(0x3f0)]=_0x5b07d6,_0x45a943[_0xf8c69f(0x27b)]=_0x16b92a;let _0x475237=[];if(_0x5b07d6&&_0x45a943[_0xf8c69f(0x412)])try{_0x475237=await this[_0xf8c69f(0x467)][_0xf8c69f(0x689)](_0x4a31ad[_0xf8c69f(0x8fa)]),_0x45a943[_0xf8c69f(0x4ec)]=Date['now']();}catch(_0x4b4ecb){this[_0xf8c69f(0x5d3)][_0xf8c69f(0x843)](this[_0xf8c69f(0x59f)]+'\x20('+this[_0xf8c69f(0x229)][_0xf8c69f(0x6d8)]+_0xf8c69f(0x501)+_0x4a31ad[_0xf8c69f(0x8fa)]+':\x20'+(_0x4b4ecb instanceof Error?_0x4b4ecb[_0xf8c69f(0x4b4)]:JSON[_0xf8c69f(0x3f5)](_0x4b4ecb,null,0x2)));}try{_0x45a943[_0xf8c69f(0x1b7)]=(await this[_0xf8c69f(0x1ca)](_0x4a31ad[_0xf8c69f(0x8fa)],null,!0x0))['cachedContact'][_0xf8c69f(0x44f)];}catch(_0x414218){this[_0xf8c69f(0x5d3)][_0xf8c69f(0x843)](this[_0xf8c69f(0x59f)]+'\x20('+this[_0xf8c69f(0x229)][_0xf8c69f(0x6d8)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4a31ad[_0xf8c69f(0x8fa)]+':\x20'+(_0x414218 instanceof Error?_0x414218[_0xf8c69f(0x4b4)]:JSON[_0xf8c69f(0x3f5)](_0x414218,null,0x2)));}let _0xdae90c=_0x45a943[_0xf8c69f(0x21b)]['map'](_0x146914=>_0x146914['id']),_0x9426cd=_0x475237[_0xf8c69f(0x3dc)](_0x45a5cc=>_0x45a5cc['jid']),_0x44cddb=await this[_0xf8c69f(0x48b)][_0xf8c69f(0x580)][_0xf8c69f(0x4d5)]([..._0xdae90c,..._0x9426cd]);_0x45a943[_0xf8c69f(0x21b)]=_0x45a943[_0xf8c69f(0x21b)][_0xf8c69f(0x3dc)](_0x457b19=>{const _0x557ba4=_0xf8c69f;let _0x2a00e6=_0x44cddb[_0x557ba4(0x7fa)](_0x2251a8=>_0x2251a8[_0x557ba4(0x7c9)]===_0x457b19['id']);return{'id':_0x457b19['id'],'isAdmin':[_0x557ba4(0x7f7),_0x557ba4(0x40c)][_0x557ba4(0x51a)](_0x457b19[_0x557ba4(0x7f7)]),'admin':_0x457b19['admin'],'pushName':_0x2a00e6?.[_0x557ba4(0x254)],'profilePictureUrl':_0x2a00e6?.['pictureUrl']};}),_0x45a943[_0xf8c69f(0x810)]=_0x475237[_0xf8c69f(0x3dc)](_0xd463e7=>{const _0x36af1c=_0xf8c69f;let _0x20f378=_0x44cddb[_0x36af1c(0x7fa)](_0x55e58a=>_0x55e58a[_0x36af1c(0x7c9)]===_0xd463e7[_0x36af1c(0x1e7)]);return{'id':_0xd463e7[_0x36af1c(0x1e7)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x20f378?.[_0x36af1c(0x254)],'profilePictureUrl':_0x20f378?.[_0x36af1c(0x44f)],'request_method':_0xd463e7['request_method'],'request_time':_0xd463e7[_0x36af1c(0x88d)]};});let _0x396c78=await this[_0xf8c69f(0x48b)][_0xf8c69f(0x2cb)][_0xf8c69f(0x215)]({'where':{'_id':_0x4a31ad[_0xf8c69f(0x8fa)]}},{'imagechat':_0x45a943['image'],'name':_0x45a943[_0xf8c69f(0x74c)],'lastcache':Date[_0xf8c69f(0x26a)](),'groupdata':_0x45a943},this[_0xf8c69f(0x229)]['wuid']);return F(this[_0xf8c69f(0x59f)],_0xf8c69f(0x228),{'chat':_0x396c78}),{'metadata':_0x45a943};}catch(_0x2eac62){if(_0x4bcc22===_0xf8c69f(0x646))return;throw new U(_0xf8c69f(0x1c3),_0x2eac62[_0xf8c69f(0x4b4)][_0xf8c69f(0x765)]());}}async[a0_0x33f632(0x6ad)](){const _0x2ce0e2=a0_0x33f632;try{this[_0x2ce0e2(0x5d3)][_0x2ce0e2(0x8ef)](_0x2ce0e2(0x8f9));let _0x38f57c=Date[_0x2ce0e2(0x26a)](),_0x4df7a3=0x3*0x3c*0x3c*0x3e8;return _0x38f57c-this[_0x2ce0e2(0x50c)]>_0x4df7a3&&(this['findRealGroups'](),this['lastRealGroupsFetch']=_0x38f57c),(await this[_0x2ce0e2(0x48b)][_0x2ce0e2(0x2cb)][_0x2ce0e2(0x336)]({'where':{'group':!0x0}},this[_0x2ce0e2(0x229)][_0x2ce0e2(0x6d8)]))['map'](_0x53ccf5=>({..._0x53ccf5[_0x2ce0e2(0x764)],'groupJid':_0x53ccf5?.['_id'],'participants':_0x53ccf5?.[_0x2ce0e2(0x764)]?.['participants']||[],'awaitingApproval':_0x53ccf5?.[_0x2ce0e2(0x764)]?.['awaitingApproval']||[],'image':_0x53ccf5?.[_0x2ce0e2(0x1bc)]}));}catch(_0x216641){let _0x459c2f=_0x2ce0e2(0x70c),_0x50c6d2=_0x216641 instanceof Error?_0x216641[_0x2ce0e2(0x4b4)]:typeof _0x216641==_0x2ce0e2(0x8d7)?JSON['stringify'](_0x216641):_0x216641,_0x4ac099=_0x459c2f+':\x20'+_0x50c6d2;throw this['logger'][_0x2ce0e2(0x90c)](this['instanceName']+'\x20('+this[_0x2ce0e2(0x229)][_0x2ce0e2(0x6d8)]+_0x2ce0e2(0x766)+_0x4ac099),new U(_0x4ac099);}}async['findRealGroups'](){const _0x54e267=a0_0x33f632;try{this[_0x54e267(0x5d3)][_0x54e267(0x8ef)]('Retornando\x20grupos\x20SEM\x20cache');let _0x479ee5=[],_0x5dd055=await this[_0x54e267(0x467)][_0x54e267(0x836)](),_0x421be4=Object[_0x54e267(0x7cc)](_0x5dd055);for(let _0x35c047=0x0;_0x35c047<_0x421be4[_0x54e267(0x6ee)];_0x35c047++){let _0x29bdbc=_0x421be4[_0x35c047];(0x0,w[_0x54e267(0x327)])(_0x29bdbc?.['id'])&&(_0x479ee5['push']({'groupJid':_0x29bdbc?.['id'],'subject':_0x29bdbc?.[_0x54e267(0x74c)],'subjectOwner':_0x29bdbc?.[_0x54e267(0x414)]?.[_0x54e267(0x405)]('@')[0x0],'subjectTime':_0x29bdbc?.['subjectTime'],'creation':_0x29bdbc?.[_0x54e267(0x808)],'size':_0x29bdbc?.[_0x54e267(0x21b)]?.[_0x54e267(0x6ee)],'owner':_0x29bdbc?.[_0x54e267(0x47d)]?.[_0x54e267(0x405)]('@')[0x0],'desc':_0x29bdbc?.[_0x54e267(0x6db)],'restrict':_0x29bdbc?.[_0x54e267(0x636)],'announce':_0x29bdbc?.['announce'],'image':null,'isCommunity':_0x29bdbc?.[_0x54e267(0x707)],'joinApprovalMode':_0x29bdbc?.['joinApprovalMode'],'memberCanAddParticipant':_0x29bdbc?.['memberAddMode'],'participants':_0x29bdbc?.[_0x54e267(0x21b)],'descOwner':_0x29bdbc?.['descOwner'],'descId':_0x29bdbc?.[_0x54e267(0x3fb)],'memberAddMode':_0x29bdbc?.[_0x54e267(0x5ad)],'isCommunityAnnounce':_0x29bdbc?.['isCommunityAnnounce'],'ephemeralDuration':_0x29bdbc?.['ephemeralDuration']||0x0,'author':_0x29bdbc?.['author']}),this[_0x54e267(0x763)](_0x421be4[_0x35c047]));}return _0x479ee5;}catch(_0xa50066){let _0xf8d049=_0x54e267(0x1cd),_0x2137b5=_0xa50066 instanceof Error?_0xa50066[_0x54e267(0x4b4)]:typeof _0xa50066==_0x54e267(0x8d7)?JSON['stringify'](_0xa50066):_0xa50066,_0xc2d643=_0xf8d049+':\x20'+_0x2137b5;throw this['logger'][_0x54e267(0x90c)](this[_0x54e267(0x59f)]+'\x20('+this[_0x54e267(0x229)][_0x54e267(0x6d8)]+_0x54e267(0x766)+_0xc2d643),new U(_0xc2d643);}}async[a0_0x33f632(0x763)](_0x175018){const _0x43d1d9=a0_0x33f632;let _0x538c12=await this[_0x43d1d9(0x48b)][_0x43d1d9(0x2cb)][_0x43d1d9(0x91c)]({'where':{'_id':_0x175018['id']}},this[_0x43d1d9(0x229)][_0x43d1d9(0x6d8)]);if(_0x175018[_0x43d1d9(0x942)]=_0x175018?.[_0x43d1d9(0x942)]&&_0x175018[_0x43d1d9(0x942)][_0x43d1d9(0x765)]()['length']<0xd?_0x175018?.['subjectTime']*0x3e8:_0x175018?.['subjectTime']||null,_0x175018['creation']=_0x175018?.[_0x43d1d9(0x808)]&&_0x175018['creation'][_0x43d1d9(0x765)]()[_0x43d1d9(0x6ee)]<0xd?_0x175018?.['creation']*0x3e8:_0x175018?.['creation']||null,!_0x175018[_0x43d1d9(0x1b7)])try{_0x175018[_0x43d1d9(0x1b7)]=await this['client']['profilePictureUrl'](_0x175018['id'],_0x43d1d9(0x709));}catch(_0x1f5278){this[_0x43d1d9(0x5d3)][_0x43d1d9(0x843)](this['instanceName']+'\x20('+this['instance'][_0x43d1d9(0x6d8)]+_0x43d1d9(0x394)+_0x175018['id']+':\x20'+(_0x1f5278 instanceof Error?_0x1f5278['message']:JSON['stringify'](_0x1f5278,null,0x2)));}let _0x23c782=_0x175018[_0x43d1d9(0x21b)][_0x43d1d9(0x3dc)](_0x163328=>{const _0xf3e573=_0x43d1d9;let _0x1126ee=_0x538c12?.[_0xf3e573(0x764)]?.['participants'][_0xf3e573(0x7fa)](_0x48183c=>_0x48183c['id']===_0x163328['id']);return{..._0x163328,'isAdmin':[_0xf3e573(0x7f7),_0xf3e573(0x40c)][_0xf3e573(0x51a)](_0x163328[_0xf3e573(0x7f7)]),'admin':_0x163328[_0xf3e573(0x7f7)],'name':_0x1126ee?.[_0xf3e573(0x254)]||_0x163328[_0xf3e573(0x254)],'imgUrl':_0x1126ee?.[_0xf3e573(0x6d7)]||_0x163328[_0xf3e573(0x6d7)]};}),_0x38676b=_0x23c782[_0x43d1d9(0x727)](_0x3d3bf2=>_0x3d3bf2['id']===this[_0x43d1d9(0x229)]['wuid']+_0x43d1d9(0x8b2)&&_0x3d3bf2[_0x43d1d9(0x7f7)]!=null)||!0x1,_0x651872=(!_0x175018[_0x43d1d9(0x711)]||_0x38676b)&&(!_0x175018[_0x43d1d9(0x707)]||_0x38676b),_0x1ffa8f={..._0x175018,'participants':_0x23c782,'awaitingApproval':_0x538c12?.[_0x43d1d9(0x764)]?.['awaitingApproval']||[],'lastFetchAwaitingApproval':_0x538c12?.[_0x43d1d9(0x764)]?.['lastFetchAwaitingApproval'],'isAdmin':_0x38676b,'canSendMessage':_0x651872,'lastUpdate':Date[_0x43d1d9(0x26a)]()};await this[_0x43d1d9(0x48b)]['chat'][_0x43d1d9(0x215)]({'where':{'_id':_0x175018['id']}},{'imagechat':_0x175018[_0x43d1d9(0x1b7)],'name':_0x175018['subject'],'group':!0x0,'groupdata':_0x1ffa8f,'lastcache':Date[_0x43d1d9(0x26a)]()},this[_0x43d1d9(0x229)][_0x43d1d9(0x6d8)]),F(this[_0x43d1d9(0x59f)],_0x43d1d9(0x228),{'chat':_0x175018});}async[a0_0x33f632(0x2bb)](_0x11715b){const _0x1b3df5=a0_0x33f632;let _0x1da442=await this[_0x1b3df5(0x48b)][_0x1b3df5(0x2cb)][_0x1b3df5(0x91c)]({'where':{'_id':_0x11715b['id']}},this[_0x1b3df5(0x229)][_0x1b3df5(0x6d8)]);_0x11715b[_0x1b3df5(0x942)]=_0x11715b?.[_0x1b3df5(0x942)]&&_0x11715b['subjectTime'][_0x1b3df5(0x765)]()['length']<0xd?_0x11715b?.[_0x1b3df5(0x942)]*0x3e8:_0x11715b?.[_0x1b3df5(0x942)]||null,_0x11715b[_0x1b3df5(0x808)]=_0x11715b?.[_0x1b3df5(0x808)]&&_0x11715b[_0x1b3df5(0x808)]['toString']()[_0x1b3df5(0x6ee)]<0xd?_0x11715b?.[_0x1b3df5(0x808)]*0x3e8:_0x11715b?.[_0x1b3df5(0x808)]||null,_0x11715b['inviteCode']&&(_0x11715b[_0x1b3df5(0x406)]='https://chat.whatsapp.com/'+_0x11715b['inviteCode']);let _0x478cc2=_0x1da442?.[_0x1b3df5(0x764)]?{..._0x1da442[_0x1b3df5(0x764)]}:{};Object[_0x1b3df5(0x516)](_0x11715b)['forEach'](_0x29d750=>{_0x29d750!=='id'&&(_0x478cc2[_0x29d750]=_0x11715b[_0x29d750]);});let _0x4ac174=_0x478cc2['participants']?.[_0x1b3df5(0x727)](_0x31fa45=>_0x31fa45['id']===this[_0x1b3df5(0x229)][_0x1b3df5(0x6d8)]+'@s.whatsapp.net'&&_0x31fa45[_0x1b3df5(0x7f7)]!=null)||!0x1;_0x478cc2[_0x1b3df5(0x3f0)]=_0x4ac174;let _0x5a212a=(!_0x478cc2['announce']||_0x4ac174)&&(!_0x478cc2[_0x1b3df5(0x707)]||_0x4ac174);_0x478cc2[_0x1b3df5(0x27b)]=_0x5a212a;let _0x5e60a4={'group':!0x0,'groupdata':_0x478cc2};_0x11715b[_0x1b3df5(0x74c)]&&(_0x5e60a4[_0x1b3df5(0x254)]=_0x11715b[_0x1b3df5(0x74c)]),await this['repository'][_0x1b3df5(0x2cb)][_0x1b3df5(0x215)]({'where':{'_id':_0x11715b['id']}},_0x5e60a4,this['instance']['wuid'],{'upsert':!0x0}),F(this[_0x1b3df5(0x59f)],'chats',{'chat':_0x5e60a4});}async[a0_0x33f632(0x7af)](_0x3b7801){const _0x19f36f=a0_0x33f632;let _0x6c4bd5=await this[_0x19f36f(0x48b)][_0x19f36f(0x2cb)][_0x19f36f(0x91c)]({'where':{'_id':_0x3b7801['id']}},this[_0x19f36f(0x229)][_0x19f36f(0x6d8)]);if(!_0x6c4bd5||!_0x6c4bd5[_0x19f36f(0x764)]){this[_0x19f36f(0x5d3)][_0x19f36f(0x8ef)](this[_0x19f36f(0x59f)]+'\x20('+this['instance'][_0x19f36f(0x6d8)]+_0x19f36f(0x722)+_0x3b7801['id']);return;}let _0x4d933e=await this[_0x19f36f(0x48b)][_0x19f36f(0x580)][_0x19f36f(0x4d5)](_0x3b7801['participants']),_0x2d3a6f=[..._0x6c4bd5['groupdata']?.['participants']];switch(_0x3b7801['action']){case _0x19f36f(0x1af):_0x4d933e['map'](_0x33ca03=>({'id':_0x33ca03[_0x19f36f(0x7c9)],'isAdmin':!0x1,'name':_0x33ca03['name'],'imgUrl':_0x33ca03[_0x19f36f(0x44f)]}))[_0x19f36f(0x1d3)](_0x5a8bb0=>{const _0x39b54e=_0x19f36f;_0x2d3a6f['some'](_0x2084e0=>_0x2084e0['id']===_0x5a8bb0['id'])||(_0x2d3a6f[_0x39b54e(0x2cc)](_0x5a8bb0),this[_0x39b54e(0x5d3)][_0x39b54e(0x8ef)](_0x39b54e(0x33e)+JSON[_0x39b54e(0x3f5)](_0x5a8bb0)));});break;case _0x19f36f(0x8a9):_0x2d3a6f=_0x2d3a6f[_0x19f36f(0x550)](_0x3238a7=>!_0x3b7801[_0x19f36f(0x21b)][_0x19f36f(0x51a)](_0x3238a7['id']));break;case _0x19f36f(0x270):_0x2d3a6f=_0x2d3a6f[_0x19f36f(0x3dc)](_0x56b6d4=>_0x3b7801[_0x19f36f(0x21b)][_0x19f36f(0x51a)](_0x56b6d4['id'])?{..._0x56b6d4,'isAdmin':!0x0,'admin':_0x19f36f(0x7f7)}:_0x56b6d4);break;case _0x19f36f(0x3be):_0x2d3a6f=_0x2d3a6f[_0x19f36f(0x3dc)](_0x54ee50=>_0x3b7801['participants'][_0x19f36f(0x51a)](_0x54ee50['id'])?{..._0x54ee50,'isAdmin':!0x1,'admin':null}:_0x54ee50);break;}let _0x1703cc=_0x2d3a6f[_0x19f36f(0x6ee)],_0x17e5b9=_0x2d3a6f[_0x19f36f(0x727)](_0x442ef2=>_0x442ef2['id']===this[_0x19f36f(0x229)][_0x19f36f(0x6d8)]+_0x19f36f(0x8b2)),_0x44dc07=_0x17e5b9&&_0x2d3a6f[_0x19f36f(0x727)](_0x43dc6d=>_0x43dc6d['id']===this[_0x19f36f(0x229)][_0x19f36f(0x6d8)]+_0x19f36f(0x8b2)&&_0x43dc6d['admin']!=null)||!0x1,_0x435c97=_0x17e5b9&&(!_0x6c4bd5[_0x19f36f(0x764)][_0x19f36f(0x711)]||_0x44dc07)&&(!_0x6c4bd5[_0x19f36f(0x764)][_0x19f36f(0x707)]||_0x44dc07);await this['repository'][_0x19f36f(0x2cb)][_0x19f36f(0x215)]({'where':{'_id':_0x3b7801['id']}},{'groupdata':{..._0x6c4bd5[_0x19f36f(0x764)],'participants':_0x2d3a6f,'size':_0x1703cc,'isAdmin':_0x44dc07,'canSendMessage':_0x435c97}},this[_0x19f36f(0x229)][_0x19f36f(0x6d8)]),this['logger'][_0x19f36f(0x8ef)](this[_0x19f36f(0x59f)]+'\x20('+this[_0x19f36f(0x229)][_0x19f36f(0x6d8)]+_0x19f36f(0x574)+_0x3b7801['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x3b7801[_0x19f36f(0x6af)]+_0x19f36f(0x671)+_0x1703cc+_0x19f36f(0x6cd)+_0x44dc07+_0x19f36f(0x5d6)+_0x435c97);}async['inviteCode'](_0x3825d6,_0x5c572f=!0x0){const _0x391285=a0_0x33f632;try{let _0x2630b0=await this[_0x391285(0x467)][_0x391285(0x5b6)](_0x3825d6[_0x391285(0x8fa)]),_0x2f0b7e={'groupdata.inviteCode':_0x391285(0x5de)+_0x2630b0};if(_0x5c572f){let _0x3ae5bd=await this[_0x391285(0x48b)][_0x391285(0x2cb)][_0x391285(0x215)]({'where':{'_id':_0x3825d6['groupJid']}},_0x2f0b7e,this[_0x391285(0x229)][_0x391285(0x6d8)]);}return{'inviteUrl':_0x391285(0x5de)+_0x2630b0,'inviteCode':_0x2630b0};}catch(_0x5f91cb){let _0x5dd2a8=_0x391285(0x6e3),_0x31892f=_0x5f91cb instanceof Error?_0x5f91cb['message']:typeof _0x5f91cb==_0x391285(0x8d7)?JSON[_0x391285(0x3f5)](_0x5f91cb):_0x5f91cb,_0x25f99c=_0x5dd2a8+':\x20'+_0x31892f;throw this[_0x391285(0x5d3)][_0x391285(0x90c)](this[_0x391285(0x59f)]+'\x20('+this['instance'][_0x391285(0x6d8)]+_0x391285(0x766)+_0x25f99c),new U(_0x25f99c);}}async[a0_0x33f632(0x292)](_0x37e3bf){const _0x5ea3e2=a0_0x33f632;try{let _0x16e059=await this[_0x5ea3e2(0x467)]['groupRevokeInvite'](_0x37e3bf['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x5ea3e2(0x5de)+_0x16e059,'inviteCode':_0x16e059};}catch(_0x4a41b9){let _0x179449=_0x5ea3e2(0x382),_0x1c89bf=_0x4a41b9 instanceof Error?_0x4a41b9[_0x5ea3e2(0x4b4)]:typeof _0x4a41b9==_0x5ea3e2(0x8d7)?JSON[_0x5ea3e2(0x3f5)](_0x4a41b9):_0x4a41b9,_0x4be7f0=_0x179449+':\x20'+_0x1c89bf;throw this['logger'][_0x5ea3e2(0x90c)](this[_0x5ea3e2(0x59f)]+'\x20('+this[_0x5ea3e2(0x229)][_0x5ea3e2(0x6d8)]+'):\x20'+_0x4be7f0),new U(_0x4be7f0);}}async['joinGroup'](_0xc222dd){const _0xd117bf=a0_0x33f632;try{if((0x0,J[_0xd117bf(0x1b9)])(_0xc222dd['inviteCode']))var _0x40df27=_0xc222dd[_0xd117bf(0x406)][_0xd117bf(0x405)]('/')[0x3];else var _0x40df27=_0xc222dd[_0xd117bf(0x406)];let _0xaadf2c=await this[_0xd117bf(0x467)]['groupAcceptInvite'](_0x40df27);return this[_0xd117bf(0x5d3)][_0xd117bf(0x843)](this[_0xd117bf(0x59f)]+'\x20('+this[_0xd117bf(0x229)][_0xd117bf(0x6d8)]+_0xd117bf(0x766)+_0xaadf2c),{'join':!0x0,'inviteCode':_0x40df27,'groupJid':_0xaadf2c};}catch(_0x608025){let _0x4a6c66=_0xd117bf(0x75e),_0x1e9eb5=_0x608025 instanceof Error?_0x608025[_0xd117bf(0x4b4)]:typeof _0x608025=='object'?JSON['stringify'](_0x608025):_0x608025,_0x1a175e=_0x4a6c66+':\x20'+_0x1e9eb5;throw this[_0xd117bf(0x5d3)][_0xd117bf(0x90c)](this[_0xd117bf(0x59f)]+'\x20('+this['instance'][_0xd117bf(0x6d8)]+'):\x20'+_0x1a175e),new U(_0x1a175e);}}async['findParticipants'](_0x51afc8){const _0x2e9c4b=a0_0x33f632;try{return{'participants':(await this[_0x2e9c4b(0x48b)]['chat'][_0x2e9c4b(0x91c)]({'where':{'_id':_0x51afc8[_0x2e9c4b(0x8fa)]}},this[_0x2e9c4b(0x229)][_0x2e9c4b(0x6d8)]))[_0x2e9c4b(0x764)][_0x2e9c4b(0x21b)]};}catch(_0x587190){let _0x2bdee5=_0x2e9c4b(0x281),_0x238d6b=_0x587190 instanceof Error?_0x587190[_0x2e9c4b(0x4b4)]:typeof _0x587190==_0x2e9c4b(0x8d7)?JSON[_0x2e9c4b(0x3f5)](_0x587190):_0x587190,_0x90db75=_0x2bdee5+':\x20'+_0x238d6b;throw this[_0x2e9c4b(0x5d3)]['error'](this[_0x2e9c4b(0x59f)]+'\x20('+this[_0x2e9c4b(0x229)][_0x2e9c4b(0x6d8)]+_0x2e9c4b(0x766)+_0x90db75),new U(_0x90db75);}}async[a0_0x33f632(0x3d2)](_0x456798){const _0x1bd209=a0_0x33f632;try{return await this['client']['groupLeave'](_0x456798['groupJid']),{'groupJid':_0x456798[_0x1bd209(0x8fa)],'leave':!0x0};}catch(_0x404273){let _0x474d72=_0x1bd209(0x852),_0x17774e=_0x404273 instanceof Error?_0x404273[_0x1bd209(0x4b4)]:typeof _0x404273==_0x1bd209(0x8d7)?JSON[_0x1bd209(0x3f5)](_0x404273):_0x404273,_0x354f2a=_0x474d72+':\x20'+_0x17774e;throw this[_0x1bd209(0x5d3)][_0x1bd209(0x90c)](this[_0x1bd209(0x59f)]+'\x20('+this['instance'][_0x1bd209(0x6d8)]+_0x1bd209(0x766)+_0x354f2a),new m(_0x354f2a);}}async['pollMessage'](_0x3c49cc){const _0x4b4307=a0_0x33f632;return await this['sendMessageWithTyping'](_0x3c49cc[_0x4b4307(0x3ae)],{'poll':{'name':_0x3c49cc[_0x4b4307(0x917)]?.[_0x4b4307(0x254)],'selectableCount':_0x3c49cc['pollMessage']['selectableCount'],'values':_0x3c49cc[_0x4b4307(0x917)]['values']}},_0x3c49cc?.[_0x4b4307(0x337)]);}async[a0_0x33f632(0x2e5)](_0x14443b){const _0x45fe3a=a0_0x33f632;return await this['sendMessageWithTyping'](_0x14443b[_0x45fe3a(0x3ae)],{'listMessage':{'title':_0x14443b[_0x45fe3a(0x2e5)]['title'],'description':_0x14443b['listMessage']['description'],'buttonText':_0x14443b['listMessage']?.[_0x45fe3a(0x511)],'footerText':_0x14443b[_0x45fe3a(0x2e5)]?.[_0x45fe3a(0x533)],'sections':_0x14443b[_0x45fe3a(0x2e5)][_0x45fe3a(0x6e4)],'listType':0x2}},_0x14443b?.[_0x45fe3a(0x337)]);}async[a0_0x33f632(0x649)](_0x354b69){const _0x2b1d05=a0_0x33f632;this[_0x2b1d05(0x229)][_0x2b1d05(0x4ca)]===void 0x0&&await this['isBusinessInstance']();let _0x50b75e;if(_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x809)]==='list'||_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x809)]===_0x2b1d05(0x86e)){let _0x318511=_0x354b69['menuMessage'][_0x2b1d05(0x8bc)][_0x2b1d05(0x4fe)]('\x0a'),_0x2bd66c='',_0x1f1f84='';_0x318511!==-0x1?(_0x2bd66c=_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x8bc)]['substring'](0x0,_0x318511)['trim'](),_0x1f1f84=_0x354b69['menuMessage'][_0x2b1d05(0x8bc)][_0x2b1d05(0x90b)](_0x318511+0x1)):_0x1f1f84=_0x354b69[_0x2b1d05(0x649)]['text'];let _0x488cc7=_0x354b69[_0x2b1d05(0x649)]['choices'][_0x2b1d05(0x550)](_0x37547f=>_0x37547f[_0x2b1d05(0x3f4)]()!==''),_0x55c0f7=this['createSectionsFromValues'](_0x488cc7);_0x50b75e={'listMessage':{'title':_0x2bd66c,'description':_0x1f1f84,'buttonText':_0x354b69['menuMessage']['buttonText']||_0x2b1d05(0x85a),'footerText':_0x354b69['menuMessage'][_0x2b1d05(0x533)],'sections':_0x55c0f7,'listType':0x2}};}else{if(_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x809)]===_0x2b1d05(0x36e)){let _0xc68aef=_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x25b)][_0x2b1d05(0x550)](_0xb0e4fd=>!(_0xb0e4fd[_0x2b1d05(0x5cb)]('[')&&_0xb0e4fd[_0x2b1d05(0x316)](']'))&&_0xb0e4fd[_0x2b1d05(0x3f4)]()!=='')['map'](_0x563e2b=>_0x563e2b[_0x2b1d05(0x405)]('\x0a')[0x0]);for(;_0xc68aef[_0x2b1d05(0x6ee)]<0x2;)_0xc68aef[_0x2b1d05(0x2cc)](_0x2b1d05(0x93f)+(_0xc68aef[_0x2b1d05(0x6ee)]+0x1));_0x50b75e={'poll':{'name':_0x354b69['menuMessage'][_0x2b1d05(0x8bc)],'selectableCount':_0x354b69['menuMessage'][_0x2b1d05(0x251)]||0x1,'values':_0xc68aef}};}else{if(_0x354b69['menuMessage']['type']==='button'){let _0x5cda0c=this[_0x2b1d05(0x61b)](_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x25b)][_0x2b1d05(0x550)](_0x4ebb92=>!(_0x4ebb92[_0x2b1d05(0x5cb)]('[')&&_0x4ebb92[_0x2b1d05(0x316)](']'))));return _0x50b75e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x8bc)]},'footer':_0x354b69['menuMessage'][_0x2b1d05(0x533)]?{'text':_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x533)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x5cda0c,'messageParamsJson':JSON['stringify']({'from':_0x2b1d05(0x28d),'templateId':_0x2b1d05(0x5b0)+(0x0,oe[_0x2b1d05(0x933)])(0x12)[_0x2b1d05(0x765)](_0x2b1d05(0x353))[_0x2b1d05(0x900)]()})}}}}},await this[_0x2b1d05(0x478)](_0x354b69['number'],_0x50b75e,_0x354b69?.[_0x2b1d05(0x337)]);}else{if(_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x809)]==='list3'){let _0x483c77=this[_0x2b1d05(0x381)](_0x354b69['menuMessage'][_0x2b1d05(0x25b)]);return _0x50b75e={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x8bc)]},'footer':_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x533)]?{'text':_0x354b69[_0x2b1d05(0x649)][_0x2b1d05(0x533)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x483c77,'messageParamsJson':JSON['stringify']({'from':_0x2b1d05(0x28d),'templateId':'3EB0'+(0x0,oe[_0x2b1d05(0x933)])(0x12)[_0x2b1d05(0x765)](_0x2b1d05(0x353))[_0x2b1d05(0x900)]()})}}}}},await this[_0x2b1d05(0x478)](_0x354b69['number'],_0x50b75e,_0x354b69?.[_0x2b1d05(0x337)]);}}}}return await this[_0x2b1d05(0x332)](_0x354b69['number'],_0x50b75e,_0x354b69?.[_0x2b1d05(0x337)]);}[a0_0x33f632(0x61b)](_0x3247c5){const _0xab2220=a0_0x33f632;return _0x3247c5[_0xab2220(0x3dc)](_0x4d6bfc=>{const _0x3fa595=_0xab2220;let _0x3bc6e0=_0x4d6bfc['split']('\x0a')[_0x3fa595(0x3dc)](_0x1da8a5=>_0x1da8a5[_0x3fa595(0x3f4)]()),_0x31e084=_0x3bc6e0[0x0],_0x1f4d59=_0x3bc6e0[0x1]||_0x31e084,_0x4cb34b=_0x1f4d59[_0x3fa595(0x5cb)](_0x3fa595(0x4cf))?_0x3fa595(0x4ad):'quick_reply';return{'name':_0x4cb34b,'buttonParamsJson':JSON[_0x3fa595(0x3f5)]({'display_text':_0x31e084,'id':_0x4cb34b===_0x3fa595(0x7aa)?_0x1f4d59:void 0x0,'url':_0x4cb34b===_0x3fa595(0x4ad)?_0x1f4d59:void 0x0})};});}['createButtonSectionsFromValues'](_0x59c038){const _0xbc1dd=a0_0x33f632;let _0x506909=[],_0x14a0f0={'title':'','rows':[]};return _0x59c038[_0xbc1dd(0x1d3)](_0x426586=>{const _0x198c95=_0xbc1dd;if(_0x426586['startsWith']('[')&&_0x426586[_0x198c95(0x316)](']'))_0x14a0f0[_0x198c95(0x565)][_0x198c95(0x6ee)]>0x0&&_0x506909[_0x198c95(0x2cc)](_0x14a0f0),_0x14a0f0={'title':_0x426586['slice'](0x1,-0x1),'rows':[]};else{let _0x5aef8c=_0x426586['split']('\x0a')['map'](_0x543c55=>_0x543c55[_0x198c95(0x3f4)]()),_0x5b0053=_0x5aef8c[0x0],_0x4b28af=_0x5aef8c[0x1]?_0x5aef8c[0x1]:void 0x0,_0x4463ea=_0x5aef8c[0x2]||_0x5b0053;_0x14a0f0['rows'][_0x198c95(0x2cc)]({'title':_0x5b0053,'description':_0x4b28af,'id':_0x4463ea});}}),_0x14a0f0['rows'][_0xbc1dd(0x6ee)]>0x0&&_0x506909['push'](_0x14a0f0),[{'name':'single_select','buttonParamsJson':JSON['stringify']({'title':_0xbc1dd(0x7ab),'sections':_0x506909})}];}[a0_0x33f632(0x782)](_0x3a6414){const _0xdeaf36=a0_0x33f632;let _0x34b3ca=[],_0x1d0b30={'rows':[]};return _0x3a6414['forEach'](_0x89b1cd=>{const _0x27b817=a0_0x308e;if(_0x89b1cd[_0x27b817(0x5cb)]('[')&&_0x89b1cd[_0x27b817(0x316)](']'))_0x1d0b30[_0x27b817(0x565)]['length']>0x0&&_0x34b3ca[_0x27b817(0x2cc)](_0x1d0b30),_0x1d0b30={'title':_0x89b1cd[_0x27b817(0x63c)](0x1,-0x1),'rows':[]};else{let _0x3fefd6=_0x89b1cd[_0x27b817(0x405)]('\x0a')[_0x27b817(0x3dc)](_0x54ea20=>_0x54ea20['trim']()),_0x44c14d=_0x3fefd6[0x0],_0x33f87b=_0x3fefd6[0x1]||null,_0x8744b8=_0x3fefd6[0x2]||_0x44c14d;_0x1d0b30[_0x27b817(0x565)][_0x27b817(0x2cc)]({'title':_0x44c14d,'description':_0x33f87b,'rowId':_0x8744b8});}}),_0x1d0b30[_0xdeaf36(0x565)][_0xdeaf36(0x6ee)]>0x0&&_0x34b3ca['push'](_0x1d0b30),_0x34b3ca;}async[a0_0x33f632(0x6b4)](_0xd25269,_0x23c9c2){const _0x3a8aee=a0_0x33f632;if(await this[_0x3a8aee(0x8a2)](_0xd25269,!0x0)){let _0x546d19={'where':{'_id':_0xd25269['id']}},_0x992364={'status':[_0x23c9c2[_0x3a8aee(0x3ee)]][0x0]};try{let _0x472019=await this[_0x3a8aee(0x48b)]['message'][_0x3a8aee(0x1df)](_0x546d19,_0x992364,this['instance']['wuid']);_0x472019&&F(this[_0x3a8aee(0x59f)],_0x3a8aee(0x613),{'message':_0x472019});}catch{}}}[a0_0x33f632(0x7ec)](_0x16a251){const _0x48ecea=a0_0x33f632;let _0x596424=[];return _0x16a251[_0x48ecea(0x1d3)](_0x306c14=>{const _0x4f0b2d=_0x48ecea;_0x306c14[_0x4f0b2d(0x862)]&&_0x596424[_0x4f0b2d(0x2cc)]('['+_0x306c14[_0x4f0b2d(0x862)]+']'),_0x306c14[_0x4f0b2d(0x565)][_0x4f0b2d(0x1d3)](_0x329229=>{const _0x258ff8=_0x4f0b2d;_0x596424[_0x258ff8(0x2cc)](_0x329229[_0x258ff8(0x862)]);});}),_0x596424[_0x48ecea(0x79a)]('|');}[a0_0x33f632(0x5e1)](_0x248c7b){const _0x2f3872=a0_0x33f632;let _0x890a2c=_0x248c7b[_0x2f3872(0x60a)](/\\n/g,'\x0a')[_0x2f3872(0x405)]('\x0a')[_0x2f3872(0x550)](_0x41cbdf=>_0x41cbdf[_0x2f3872(0x51a)](_0x2f3872(0x2d1))||_0x41cbdf['includes'](_0x2f3872(0x6ec))),_0x15812d='';return _0x890a2c[_0x2f3872(0x1d3)](_0x4ac49b=>{const _0x26970a=_0x2f3872;let _0x30ddec=/TEL(?:.*):(.+)/,_0x4cf2c2=/EMAIL(?:.*):(.+)/,_0x4ed630=_0x4ac49b[_0x26970a(0x82d)](_0x30ddec),_0x49d32a=_0x4ac49b[_0x26970a(0x82d)](_0x4cf2c2);if(_0x4ed630){let _0x574067=_0x4ed630[0x1][_0x26970a(0x60a)](/-| |\+|\(|\)/g,'')[_0x26970a(0x3f4)]();_0x15812d+=_0x26970a(0x743)+_0x574067+'\x0a';}else{if(_0x49d32a){let _0x5258b9=_0x49d32a[0x1][_0x26970a(0x3f4)]();_0x15812d+=_0x26970a(0x6a9)+_0x5258b9+'\x0a';}}}),_0x15812d[_0x2f3872(0x3f4)]();}async[a0_0x33f632(0x658)](_0x8771f0,_0x308714,_0x2ec5fb,_0x5215ea=null){const _0x3a90ff=a0_0x33f632;if(_0x8771f0[_0x3a90ff(0x399)])try{let _0x58574e=_0x308714['key'][_0x3a90ff(0x330)][_0x3a90ff(0x60a)](/:\d{1,2}@/g,'@'),_0x166566=_0x308714[_0x3a90ff(0x6de)]['fromMe'],_0x4295d5=_0x58574e['endsWith']('@g.us'),_0x25f779=_0x308714[_0x3a90ff(0x1bf)]?.[_0x3a90ff(0x60a)](/:\d{1,2}@/g,'@')||'',_0x80767f=_0x308714[_0x3a90ff(0x706)]?.['text']||_0x308714[_0x3a90ff(0x706)]?.[_0x3a90ff(0x747)]||_0x308714['message_normalized']?.['vote']||_0x308714[_0x3a90ff(0x706)]?.['name']||'',_0x40d5b9={'_id':_0x308714[_0x3a90ff(0x7c9)],'remoteJid':_0x166566?this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]:_0x4295d5?_0x25f779:_0x58574e,'pushName':_0x166566?this[_0x3a90ff(0x229)]['profileName']||'Eu':_0x308714[_0x3a90ff(0x66b)],'text':_0x80767f,'type':_0x308714[_0x3a90ff(0x255)],'when':_0x308714[_0x3a90ff(0x639)]||Date[_0x3a90ff(0x26a)]()};_0x5215ea||(_0x5215ea=await this['repository'][_0x3a90ff(0x2cb)][_0x3a90ff(0x91c)]({'where':{'_id':_0x58574e}},this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]));let _0x15fe93=_0x166566?0x0:_0x5215ea?(_0x5215ea['unreadcount']||0x0)+0x1:0x1,_0x121ec7={'lastmsg':_0x308714['messageTimestamp']||Date[_0x3a90ff(0x26a)](),'ephemeralExpiration':_0x308714[_0x3a90ff(0x935)],'lastMessage':_0x40d5b9,'unreadcount':_0x15fe93,..._0x166566||_0x4295d5?{}:{'name':_0x308714[_0x3a90ff(0x66b)]},..._0x4295d5?{'group':_0x4295d5}:{},...!_0x166566&&!_0x4295d5&&_0x308714[_0x3a90ff(0x8d0)]?{'imagechat':_0x308714['profilePictureUrl']}:{}};if(!_0x4295d5&&(!_0x5215ea?.[_0x3a90ff(0x6a6)]||!_0x5215ea['leadInfo'][_0x3a90ff(0x340)])&&_0x308714[_0x3a90ff(0x66b)]&&!_0x166566&&(_0x121ec7={..._0x121ec7,'leadInfo.nome':_0x308714[_0x3a90ff(0x66b)]}),_0x5215ea?.[_0x3a90ff(0x6a6)]['etiquetas']||(_0x121ec7={..._0x121ec7,'leadInfo.etiquetas':[]}),_0x5215ea?.[_0x3a90ff(0x6a6)][_0x3a90ff(0x859)]||(_0x121ec7={..._0x121ec7,'leadInfo.customFields':[]}),_0x5215ea?.[_0x3a90ff(0x6a6)][_0x3a90ff(0x3ab)]||(_0x121ec7={..._0x121ec7,'leadInfo.tags':[]}),_0x5215ea&&_0x5215ea?.[_0x3a90ff(0x701)]){let _0x432097=await this['repository']['label'][_0x3a90ff(0x7fa)]({'where':{}},this[_0x3a90ff(0x229)]['wuid']),_0x2af8e3=new Set(_0x432097[_0x3a90ff(0x3dc)](_0x2199cc=>_0x2199cc[_0x3a90ff(0x7c9)])),_0x4cfb08=(_0x5215ea[_0x3a90ff(0x6a6)]?.[_0x3a90ff(0x54e)]||[])['filter'](_0x25b0d9=>_0x2af8e3[_0x3a90ff(0x6fe)](_0x25b0d9));_0x121ec7={..._0x121ec7,'imported':!0x1,'leadInfo.etiquetas':_0x4cfb08};for(let _0x2e4afb of _0x4cfb08)await this[_0x3a90ff(0x7d8)](_0x2e4afb,_0x58574e);}if(!this[_0x3a90ff(0x853)][_0x3a90ff(0x1dc)][_0x3a90ff(0x7fa)](_0x307a01=>_0x307a01[_0x3a90ff(0x400)]&&_0x80767f['includes'](_0x307a01[_0x3a90ff(0x400)]))&&_0x2ec5fb===_0x3a90ff(0x463)&&_0x166566&&this[_0x3a90ff(0x853)]?.[_0x3a90ff(0x6b2)][_0x3a90ff(0x1d7)]&&_0x80767f[_0x3a90ff(0x3f4)]()!==this[_0x3a90ff(0x853)]?.['flowConfig'][_0x3a90ff(0x6c0)][_0x3a90ff(0x3f4)]()){let _0x3549d4=(this[_0x3a90ff(0x853)]?.['flowConfig']['stopWhenYouSendMsg']||0x0)*0xea60,_0x3d598a=Date[_0x3a90ff(0x26a)]()+_0x3549d4;_0x5215ea?.[_0x3a90ff(0x6a6)]?.['desativadoFluxoAte']===0x0||(_0x121ec7={..._0x121ec7,'leadInfo.desativadoFluxoAte':_0x3d598a},this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3a90ff(0x6d8)]+_0x3a90ff(0x53b)+_0x3d598a+'.'));}if(_0x80767f[_0x3a90ff(0x3f4)]()===this[_0x3a90ff(0x853)]?.[_0x3a90ff(0x6b2)][_0x3a90ff(0x6c0)][_0x3a90ff(0x3f4)]()){this[_0x3a90ff(0x5d3)][_0x3a90ff(0x843)](this[_0x3a90ff(0x59f)]+'\x20('+this['instance'][_0x3a90ff(0x6d8)]+_0x3a90ff(0x814)+_0x80767f);let _0x53b26d=Date['now']();this[_0x3a90ff(0x853)]?.[_0x3a90ff(0x6b2)][_0x3a90ff(0x48a)]===0x0?_0x121ec7={..._0x121ec7,'leadInfo.desativadoFluxoAte':_0x53b26d+0x7591f6200}:_0x121ec7={..._0x121ec7,'leadInfo.desativadoFluxoAte':_0x53b26d+this[_0x3a90ff(0x853)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8};}if(_0x5215ea=await this[_0x3a90ff(0x48b)][_0x3a90ff(0x2cb)]['updateOne']({'where':{'_id':_0x58574e}},_0x121ec7,this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)],{'new':!0x0,'upsert':!0x0}),_0x5215ea)F(this[_0x3a90ff(0x59f)],'chats',{'chat':_0x5215ea});else{this[_0x3a90ff(0x5d3)]['error'](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]+_0x3a90ff(0x800));return;}if(_0x166566)return this['logger']['verbose'](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)]['wuid']+_0x3a90ff(0x54d)),null;if(!this[_0x3a90ff(0x853)]?.['flowConfig'][_0x3a90ff(0x1d7)])return this[_0x3a90ff(0x5d3)][_0x3a90ff(0x843)](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)]['wuid']+_0x3a90ff(0x82a)),null;if(_0x5215ea[_0x3a90ff(0x7c9)][_0x3a90ff(0x51a)]('@g.us')&&this[_0x3a90ff(0x853)]?.[_0x3a90ff(0x6b2)][_0x3a90ff(0x444)]===!0x0)return this[_0x3a90ff(0x5d3)]['verbose'](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]+_0x3a90ff(0x5dc)),null;if(_0x5215ea[_0x3a90ff(0x6a6)]){if(_0x5215ea[_0x3a90ff(0x6a6)][_0x3a90ff(0x4f6)]===0x0||_0x5215ea[_0x3a90ff(0x6a6)][_0x3a90ff(0x30a)])return this['logger'][_0x3a90ff(0x843)](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]+_0x3a90ff(0x256)+_0x58574e+_0x3a90ff(0x539)),null;if(_0x5215ea[_0x3a90ff(0x6a6)][_0x3a90ff(0x4f6)]>Date[_0x3a90ff(0x26a)]()&&!_0x308714['message_normalized']?.[_0x3a90ff(0x338)])return this[_0x3a90ff(0x5d3)][_0x3a90ff(0x843)](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)]['wuid']+_0x3a90ff(0x885)+new Date(_0x5215ea['leadInfo'][_0x3a90ff(0x4f6)])[_0x3a90ff(0x88e)]()+_0x3a90ff(0x539)),null;}this['logger'][_0x3a90ff(0x843)](this['instanceName']+'\x20('+this[_0x3a90ff(0x229)]['wuid']+_0x3a90ff(0x495)),this[_0x3a90ff(0x261)](_0x308714,_0x2ec5fb);}catch(_0x45baf3){let _0xade1ea=_0x3a90ff(0x2c3),_0xaed7cb=_0x45baf3 instanceof Error?_0x45baf3['message']:typeof _0x45baf3==_0x3a90ff(0x8d7)?JSON[_0x3a90ff(0x3f5)](_0x45baf3):_0x45baf3,_0x1639c5=_0xade1ea+':\x20'+_0xaed7cb;return this[_0x3a90ff(0x5d3)][_0x3a90ff(0x90c)](this[_0x3a90ff(0x59f)]+'\x20('+this[_0x3a90ff(0x229)][_0x3a90ff(0x6d8)]+_0x3a90ff(0x766)+_0x1639c5),null;}}async[a0_0x33f632(0x89b)](_0x2f6521,_0x112b59){const _0x2d0cbb=a0_0x33f632;if(_0x112b59[_0x2d0cbb(0x399)]){let _0x4cd7a1=_0x2f6521[_0x2d0cbb(0x3dc)](async _0x25e78a=>{const _0xcac524=_0x2d0cbb;try{let _0x3bf656={'_id':_0x25e78a['_id'],'owner':_0x25e78a[_0xcac524(0x47d)],'lastcache':0x0};if(Object[_0xcac524(0x516)](_0x25e78a)['forEach'](_0x2a80ec=>{_0x25e78a[_0x2a80ec]!==null&&(_0x3bf656[_0x2a80ec]=_0x25e78a[_0x2a80ec]);}),_0x3bf656[_0xcac524(0x1bc)]===null&&(_0x3bf656[_0xcac524(0x1bc)]='Imagem\x20não\x20encontrada'),Object[_0xcac524(0x516)](_0x3bf656)[_0xcac524(0x6ee)]>0x0)return await this[_0xcac524(0x48b)][_0xcac524(0x2cb)][_0xcac524(0x215)]({'where':{'_id':_0x25e78a[_0xcac524(0x7c9)]}},_0x3bf656,this[_0xcac524(0x229)][_0xcac524(0x6d8)]);}catch(_0xaff5b6){let _0x5d5204=_0xcac524(0x8d2)+_0x25e78a[_0xcac524(0x7c9)],_0x4c5202=_0xaff5b6 instanceof Error?_0xaff5b6['message']:typeof _0xaff5b6==_0xcac524(0x8d7)?JSON[_0xcac524(0x3f5)](_0xaff5b6):_0xaff5b6,_0x183ed1=_0x5d5204+':\x20'+_0x4c5202;return this[_0xcac524(0x5d3)][_0xcac524(0x90c)](this['instanceName']+'\x20('+this[_0xcac524(0x229)][_0xcac524(0x6d8)]+'):\x20'+_0x183ed1),null;}}),_0x22c5ad=(await Promise['all'](_0x4cd7a1))[_0x2d0cbb(0x550)](_0x533a2e=>_0x533a2e!==null)[_0x2d0cbb(0x6ee)];this['logger']['verbose'](this[_0x2d0cbb(0x59f)]+'\x20('+this['instance'][_0x2d0cbb(0x6d8)]+_0x2d0cbb(0x766)+_0x22c5ad+'\x20chats\x20de\x20'+this[_0x2d0cbb(0x229)][_0x2d0cbb(0x6d8)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x33f632(0x333)](_0x3d55b4){const _0x29a1cc=a0_0x33f632;this['logger'][_0x29a1cc(0x843)](this[_0x29a1cc(0x59f)]+'\x20('+this[_0x29a1cc(0x229)][_0x29a1cc(0x6d8)]+_0x29a1cc(0x2ad));let _0x138299={'readMessages':[{'remoteJid':_0x3d55b4[_0x29a1cc(0x63a)]['lastReceivedMessage']['key']['remoteJid'],'fromMe':_0x3d55b4[_0x29a1cc(0x63a)]['lastReceivedMessage']['key']['fromMe'],'id':_0x3d55b4[_0x29a1cc(0x63a)][_0x29a1cc(0x545)][_0x29a1cc(0x6de)]['id']}]};await this['markMessageAsRead'](_0x138299);}async[a0_0x33f632(0x261)](_0x39ed4d,_0x2ddbad){const _0x183e6e=a0_0x33f632;try{let {key:_0x54eeaa,message_normalized:_0x1aaa95}=_0x39ed4d,_0x1bf7d4=_0x1aaa95,_0x4be242=_0x1aaa95[_0x183e6e(0x8bc)]||_0x1aaa95[_0x183e6e(0x747)]||_0x1aaa95[_0x183e6e(0x338)]||_0x1aaa95[_0x183e6e(0x254)]||'',_0x17a264=_0x54eeaa[_0x183e6e(0x330)],_0x4839d0=null,_0x788789=this[_0x183e6e(0x853)][_0x183e6e(0x1dc)][_0x183e6e(0x7fa)](_0x4a951f=>_0x4a951f[_0x183e6e(0x400)]&&_0x4be242['includes'](_0x4a951f[_0x183e6e(0x400)]));if(_0x788789&&_0x2ddbad===_0x183e6e(0x463)){let _0x4ed914=await this[_0x183e6e(0x48b)]['flow'][_0x183e6e(0x91c)]({'where':{'_id':_0x788789['_id']}});if(this[_0x183e6e(0x5d3)][_0x183e6e(0x843)](this['instanceName']+'\x20('+this[_0x183e6e(0x229)][_0x183e6e(0x6d8)]+_0x183e6e(0x384)),_0x4ed914&&_0x4ed914[_0x183e6e(0x648)]?.[_0x183e6e(0x51a)](this[_0x183e6e(0x229)]['wuid']))_0x4839d0=await this[_0x183e6e(0x693)](_0x4ed914,_0x54eeaa,_0x1bf7d4);else return this['logger'][_0x183e6e(0x843)](this['instanceName']+'\x20('+this[_0x183e6e(0x229)][_0x183e6e(0x6d8)]+_0x183e6e(0x273)),null;}else this[_0x183e6e(0x5d3)]['verbose'](this[_0x183e6e(0x59f)]+'\x20('+this[_0x183e6e(0x229)][_0x183e6e(0x6d8)]+_0x183e6e(0x1b1));if(_0x4839d0=await this[_0x183e6e(0x803)](_0x17a264,_0x1bf7d4),_0x4839d0){this['logger'][_0x183e6e(0x843)](this[_0x183e6e(0x59f)]+'\x20('+this[_0x183e6e(0x229)][_0x183e6e(0x6d8)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x54eeaa[_0x183e6e(0x7e8)]&&_0x4839d0[_0x183e6e(0x466)]&&this[_0x183e6e(0x333)](_0x4839d0);let _0x34a6c2=await this[_0x183e6e(0x3ad)](_0x4839d0);_0x34a6c2&&await this[_0x183e6e(0x911)](_0x4839d0,_0x34a6c2);}}catch(_0x1c331f){this[_0x183e6e(0x5d3)][_0x183e6e(0x90c)](this['instanceName']+'\x20('+this[_0x183e6e(0x229)][_0x183e6e(0x6d8)]+_0x183e6e(0x6f6)+(_0x1c331f instanceof Error?_0x1c331f[_0x183e6e(0x4b4)]:JSON[_0x183e6e(0x3f5)](_0x1c331f,null,0x2)));}}[a0_0x33f632(0x7c1)](_0x52e169,_0x27ed23='',_0x37ec1a={}){const _0x93a40d=a0_0x33f632;return typeof _0x52e169!=_0x93a40d(0x8d7)||_0x52e169===null?(_0x27ed23&&(_0x37ec1a[_0x27ed23]=_0x52e169),_0x37ec1a):(Object[_0x93a40d(0x7f8)](_0x52e169)['forEach'](([_0x1fb0a5,_0x332c8e])=>{const _0x11f566=_0x93a40d;let _0x26bace=_0x27ed23?_0x27ed23+'.'+_0x1fb0a5:'_'+_0x1fb0a5;Array[_0x11f566(0x3cd)](_0x332c8e)?_0x332c8e[_0x11f566(0x1d3)]((_0x2db603,_0x816aa9)=>{const _0x49ce90=_0x11f566;this[_0x49ce90(0x7c1)](_0x2db603,_0x26bace+'['+_0x816aa9+']',_0x37ec1a);}):typeof _0x332c8e==_0x11f566(0x8d7)&&_0x332c8e!==null?this[_0x11f566(0x7c1)](_0x332c8e,_0x26bace,_0x37ec1a):_0x37ec1a[_0x26bace]=String(_0x332c8e);}),_0x37ec1a);}[a0_0x33f632(0x1c1)](_0xf27b31){const _0x407074=a0_0x33f632;let _0x2e4dc1={};for(let _0x26a223 of _0xf27b31)typeof _0x26a223[_0x407074(0x254)]=='string'&&typeof _0x26a223['value']==_0x407074(0x562)&&(_0x2e4dc1[_0x26a223[_0x407074(0x254)]]=_0x26a223['value']);return _0x2e4dc1;}async['NextBlock'](_0x35a9b8){const _0x1a9777=a0_0x33f632;if(!this[_0x1a9777(0x853)]?.[_0x1a9777(0x6b2)][_0x1a9777(0x1d7)]||_0x35a9b8['status']!==_0x1a9777(0x29e)&&_0x35a9b8['waitingMenu_id']==='')return null;let _0x52d9a3=_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x415)]||_0x1a9777(0x796);typeof _0x35a9b8['chatLog'][_0x1a9777(0x870)]>'u'&&(_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x870)]=!0x0);let _0x452e9d=_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x870)];this[_0x1a9777(0x5d3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1a9777(0x6d8)]+_0x1a9777(0x783)+_0x52d9a3+_0x1a9777(0x531)+_0x452e9d);let _0x49adf5=_0x52d9a3===_0x1a9777(0x796)?_0x35a9b8[_0x1a9777(0x830)][_0x1a9777(0x7fa)](_0x4dab07=>_0x4dab07[_0x1a9777(0x809)]===_0x1a9777(0x796)):_0x35a9b8[_0x1a9777(0x830)][_0x1a9777(0x7fa)](_0x1c166e=>_0x1c166e['_id'][_0x1a9777(0x765)]()===_0x52d9a3[_0x1a9777(0x765)]());if(!_0x49adf5)return this['logger']['error'](this[_0x1a9777(0x59f)]+'\x20('+this[_0x1a9777(0x229)][_0x1a9777(0x6d8)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x52d9a3),null;let _0x2ec405={'_pushName':_0x35a9b8?.[_0x1a9777(0x63a)]?.[_0x1a9777(0x545)]?.[_0x1a9777(0x66b)]||'','_sender':this[_0x1a9777(0x229)][_0x1a9777(0x6d8)]||'',..._0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x7dc)]},_0x46cea2=new Date();_0x2ec405[_0x1a9777(0x860)]=_0x46cea2[_0x1a9777(0x4a4)](),_0x2ec405[_0x1a9777(0x761)]=_0x46cea2[_0x1a9777(0x6c3)]()+0x1,_0x2ec405['_year']=_0x46cea2[_0x1a9777(0x380)](),_0x2ec405[_0x1a9777(0x622)]=_0x46cea2['getHours'](),_0x2ec405[_0x1a9777(0x2db)]=_0x46cea2['getMinutes'](),_0x2ec405['_second']=_0x46cea2[_0x1a9777(0x23c)]();let _0x431820=null;if(_0x35a9b8['waitingMenu_id']){let _0xe8b745=_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x545)]['vote'],_0x45e9e7=_0x35a9b8[_0x1a9777(0x867)][_0x1a9777(0x7fa)](_0xbc6878=>_0xbc6878[_0x1a9777(0x4ba)]===_0xe8b745);if(_0x45e9e7){let _0x25afa4=_0x45e9e7[_0x1a9777(0x1da)];if(_0x431820=_0x35a9b8[_0x1a9777(0x830)][_0x1a9777(0x7fa)](_0x28e45c=>_0x28e45c[_0x1a9777(0x497)]===_0x25afa4&&_0x28e45c[_0x1a9777(0x841)]===0x1),_0x49adf5[_0x1a9777(0x923)]['pollOnReplyDelete']){let _0x4fbe08={'id':_0x35a9b8[_0x1a9777(0x2a8)],'remoteJid':_0x35a9b8['remoteJid'],'fromMe':!0x0};await this[_0x1a9777(0x660)](_0x4fbe08);}if(_0x49adf5[_0x1a9777(0x923)][_0x1a9777(0x8cc)]&&_0x49adf5[_0x1a9777(0x923)][_0x1a9777(0x258)]&&_0x49adf5[_0x1a9777(0x923)]['menuType']===_0x1a9777(0x36e)){let _0x193cf6={'number':_0x35a9b8[_0x1a9777(0x330)],'options':{'delay':0x0},'textMessage':{'text':_0x1a9777(0x503)+_0x35a9b8[_0x1a9777(0x713)]+_0x1a9777(0x4b6)+_0xe8b745}};await this['textMessage'](_0x193cf6);}_0x2ec405['_lastVote']=_0xe8b745,_0x35a9b8[_0x1a9777(0x3ee)]=_0x1a9777(0x29e),_0x35a9b8[_0x1a9777(0x2a8)]='',_0x35a9b8[_0x1a9777(0x713)]='',_0x35a9b8[_0x1a9777(0x867)]=[];}else{this[_0x1a9777(0x5d3)]['verbose'](this[_0x1a9777(0x59f)]+'\x20('+this[_0x1a9777(0x229)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x31c448={'activatedCount':_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x1fb)][_0x1a9777(0x550)](_0x4aa9df=>String(_0x4aa9df[_0x1a9777(0x894)])===String(_0x52d9a3))[_0x1a9777(0x6ee)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x49adf5['uazapi']['pollErrorMessage']){let _0x200687={'number':_0x35a9b8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x49adf5[_0x1a9777(0x923)]['pollErrorMessage']}};await this[_0x1a9777(0x846)](_0x200687);}if(_0x49adf5[_0x1a9777(0x632)]!==void 0x0&&_0x31c448[_0x1a9777(0x684)]>=_0x49adf5[_0x1a9777(0x632)]){let _0x3e54f5=Date[_0x1a9777(0x26a)](),_0x45f214=_0x49adf5[_0x1a9777(0x328)]??0xa;isNaN(_0x45f214)&&(_0x45f214=0xa);let _0x130427=_0x3e54f5+_0x45f214*0x3c*0x3e8;_0x31c448[_0x1a9777(0x31e)]=_0x130427,_0x31c448[_0x1a9777(0x861)]['push'](_0x1a9777(0x535)),this[_0x1a9777(0x8b8)](_0x35a9b8,_0x130427),_0x35a9b8[_0x1a9777(0x2a8)]='',_0x35a9b8[_0x1a9777(0x713)]='',_0x35a9b8['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x35a9b8,_0x49adf5,_0x31c448,!0x0),null;}}if(_0x452e9d&&_0x49adf5[_0x1a9777(0x1da)]&&!_0x35a9b8[_0x1a9777(0x2a8)]){let _0x22f441=_0x35a9b8[_0x1a9777(0x830)][_0x1a9777(0x550)](_0x1f8d81=>_0x1f8d81['groupId'][_0x1a9777(0x765)]()===_0x49adf5[_0x1a9777(0x1da)][_0x1a9777(0x765)]())['sort']((_0x4f79f6,_0x53f1b7)=>_0x4f79f6[_0x1a9777(0x841)]-_0x53f1b7[_0x1a9777(0x841)]);_0x22f441[_0x1a9777(0x6ee)]>0x0&&(_0x431820=_0x22f441[0x0]);}if(!_0x431820){let _0x5b76a5=_0x49adf5[_0x1a9777(0x497)],_0x393158=_0x35a9b8[_0x1a9777(0x830)][_0x1a9777(0x550)](_0x4a4fc3=>_0x4a4fc3['groupId']===_0x5b76a5&&_0x4a4fc3[_0x1a9777(0x841)]>_0x49adf5['order'])[_0x1a9777(0x835)]((_0x2fe81e,_0x3822f3)=>_0x2fe81e[_0x1a9777(0x841)]-_0x3822f3[_0x1a9777(0x841)]);_0x393158[_0x1a9777(0x6ee)]>0x0&&(_0x431820=_0x393158[0x0]);}if(!_0x431820)return _0x35a9b8['status']=_0x1a9777(0x1d8),null;_0x35a9b8[_0x1a9777(0x63a)][_0x1a9777(0x7dc)]=_0x2ec405;let _0x3a4250=JSON[_0x1a9777(0x366)](JSON[_0x1a9777(0x3f5)](_0x431820));return this[_0x1a9777(0x224)](_0x3a4250,_0x35a9b8['chatLog'][_0x1a9777(0x7dc)]),_0x35a9b8['chatLog']['lastBlockId']=_0x3a4250[_0x1a9777(0x7c9)],_0x35a9b8[_0x1a9777(0x63a)]['lastCondition']=!0x0,_0x3a4250;}[a0_0x33f632(0x611)](_0x3dccd4,_0x3f578a){const _0x34a6f0=a0_0x33f632;return _0x3dccd4[_0x34a6f0(0x60a)](/\{\{([^}]+)\}\}/g,(_0x4ab4e4,_0x13a4d1)=>_0x3f578a[_0x13a4d1]||'');}[a0_0x33f632(0x224)](_0x3aa391,_0x4bc1a8){const _0x1f5777=a0_0x33f632;for(let _0xb67a8e in _0x3aa391)typeof _0x3aa391[_0xb67a8e]==_0x1f5777(0x562)?_0x3aa391[_0xb67a8e]=this[_0x1f5777(0x611)](_0x3aa391[_0xb67a8e],_0x4bc1a8):typeof _0x3aa391[_0xb67a8e]==_0x1f5777(0x8d7)&&this[_0x1f5777(0x224)](_0x3aa391[_0xb67a8e],_0x4bc1a8);}async[a0_0x33f632(0x358)](_0x588882,_0x2a89ac){const _0x564fdc=a0_0x33f632;let _0x348072=_0x2a89ac['_id'];if(_0x588882['chatLog']&&_0x588882['chatLog'][_0x564fdc(0x1fb)]){let _0xc9b0fd=_0x588882[_0x564fdc(0x63a)][_0x564fdc(0x1fb)][_0x564fdc(0x550)](_0x3ac85a=>String(_0x3ac85a[_0x564fdc(0x894)])===String(_0x348072))[_0x564fdc(0x4b1)]();if(_0xc9b0fd&&_0xc9b0fd[_0x564fdc(0x90c)]&&_0x2a89ac[_0x564fdc(0x389)])return _0x588882['status']=_0x564fdc(0x1d8),await this[_0x564fdc(0x593)](_0x588882),null;}if(_0x2a89ac[_0x564fdc(0x809)]===_0x564fdc(0x923)&&_0x2a89ac[_0x564fdc(0x923)][_0x564fdc(0x7cf)]==='sendPoll'&&_0x588882['waitingMenu_id'])return _0x588882[_0x564fdc(0x63a)][_0x564fdc(0x415)]=_0x348072,await this[_0x564fdc(0x593)](_0x588882),null;let _0x4d4d78=await this['NextBlock'](_0x588882);if(_0x588882[_0x564fdc(0x63a)]&&_0x588882[_0x564fdc(0x63a)][_0x564fdc(0x1fb)]){let _0x369c0b=_0x588882['chatLog'][_0x564fdc(0x1fb)][_0x564fdc(0x550)](_0x483b95=>String(_0x483b95[_0x564fdc(0x894)])===String(_0x348072))[_0x564fdc(0x6ee)];if(_0x2a89ac[_0x564fdc(0x632)]!==void 0x0&&_0x369c0b>=_0x2a89ac[_0x564fdc(0x632)]){let _0x237979=Date[_0x564fdc(0x26a)](),_0x2036eb=_0x2a89ac[_0x564fdc(0x328)]??0xa;isNaN(_0x2036eb)&&(_0x2036eb=0xa);let _0xb60a2=_0x237979+_0x2036eb*0x3c*0x3e8,_0x451a8e={'newStoppedUntil':_0xb60a2};return this[_0x564fdc(0x8b8)](_0x588882,_0xb60a2),this[_0x564fdc(0x789)](_0x588882,_0x2a89ac,_0x451a8e,!0x0),null;}}_0x4d4d78&&_0x4d4d78[_0x564fdc(0x809)]!==_0x564fdc(0x7db)&&await this[_0x564fdc(0x911)](_0x588882,_0x4d4d78),_0x4d4d78||await this[_0x564fdc(0x593)](_0x588882),_0x4d4d78&&_0x4d4d78[_0x564fdc(0x809)]===_0x564fdc(0x7db)&&(_0x588882[_0x564fdc(0x63a)]['lastBlockId']=_0x348072,await this[_0x564fdc(0x593)](_0x588882));}async[a0_0x33f632(0x911)](_0x30d8ac,_0x4ffa77){const _0x1be312=a0_0x33f632;try{let _0x22a4c6=_0x4ffa77[_0x1be312(0x809)];this[_0x1be312(0x5d3)][_0x1be312(0x843)](this[_0x1be312(0x59f)]+'\x20('+this[_0x1be312(0x229)]['wuid']+'):\x20Going\x20to\x20'+_0x22a4c6);let _0x4576f1={'uazapi':()=>this[_0x1be312(0x2ba)](_0x30d8ac,_0x4ffa77),'save':()=>this[_0x1be312(0x680)](_0x30d8ac,_0x4ffa77),'stop':()=>this[_0x1be312(0x6c0)](_0x30d8ac,_0x4ffa77),'condition':()=>this[_0x1be312(0x2b6)](_0x30d8ac,_0x4ffa77),'varedit':()=>this[_0x1be312(0x828)](_0x30d8ac,_0x4ffa77),'apirequest':()=>this[_0x1be312(0x26e)](_0x30d8ac,_0x4ffa77),'goToFlow':()=>this['processgoToFlow'](_0x30d8ac,_0x4ffa77),'scheduleFlow':()=>this[_0x1be312(0x4e4)](_0x30d8ac,_0x4ffa77),'awaitSeconds':()=>this[_0x1be312(0x20f)](_0x30d8ac,_0x4ffa77),'clearVariables':()=>this[_0x1be312(0x8e5)](_0x30d8ac,_0x4ffa77)}[_0x22a4c6];_0x4576f1&&await _0x4576f1();}catch(_0x262b85){this[_0x1be312(0x5d3)][_0x1be312(0x90c)](this[_0x1be312(0x59f)]+'\x20('+this[_0x1be312(0x229)][_0x1be312(0x6d8)]+_0x1be312(0x210)+(_0x262b85 instanceof Error?_0x262b85[_0x1be312(0x4b4)]:JSON[_0x1be312(0x3f5)](_0x262b85,null,0x2)));}}async[a0_0x33f632(0x20f)](_0x46e489,_0xeb04a0){const _0x38496a=a0_0x33f632;if(this[_0x38496a(0x5d3)][_0x38496a(0x843)](this[_0x38496a(0x59f)]+'\x20('+this['instance'][_0x38496a(0x6d8)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x46e489||!_0xeb04a0)return this[_0x38496a(0x5d3)][_0x38496a(0x90c)](this[_0x38496a(0x59f)]+'\x20('+this['instance'][_0x38496a(0x6d8)]+_0x38496a(0x6b6)),null;let _0x576cf8=+_0xeb04a0['awaitSeconds'];isNaN(_0x576cf8)&&(_0x576cf8=0x0),_0x576cf8=Math[_0x38496a(0x1cb)](_0x576cf8,0x3c),await(0x0,w[_0x38496a(0x31d)])(_0x576cf8*0x3e8);let _0x321478={'moreLogs':[_0x38496a(0x1be)+_0x576cf8+_0x38496a(0x65f)]};return await this['updateConversation'](_0x46e489,_0xeb04a0,_0x321478),_0x576cf8;}async[a0_0x33f632(0x8e5)](_0x6c9b75,_0x2a97eb){const _0x41ae00=a0_0x33f632;if(this['logger'][_0x41ae00(0x843)](this[_0x41ae00(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x6c9b75||!_0x2a97eb)return this[_0x41ae00(0x5d3)][_0x41ae00(0x90c)](this['instanceName']+'\x20('+this['instance'][_0x41ae00(0x6d8)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x244c76=[];if(_0x2a97eb[_0x41ae00(0x4a6)][_0x41ae00(0x3f4)]()===_0x41ae00(0x8fe)){let _0x4aece1=[_0x41ae00(0x383),_0x41ae00(0x832),_0x41ae00(0x474),_0x41ae00(0x1e1),_0x41ae00(0x274),_0x41ae00(0x7c9),_0x41ae00(0x6ed)];_0x244c76=Object[_0x41ae00(0x516)](_0x6c9b75[_0x41ae00(0x63a)][_0x41ae00(0x7dc)])[_0x41ae00(0x550)](_0x510f53=>_0x510f53[_0x41ae00(0x5cb)]('_')&&!_0x4aece1[_0x41ae00(0x51a)](_0x510f53));}else _0x244c76=_0x2a97eb[_0x41ae00(0x4a6)][_0x41ae00(0x405)]('|')[_0x41ae00(0x3dc)](_0x357ad1=>(_0x357ad1=_0x357ad1[_0x41ae00(0x60a)](/[{}]/g,'')[_0x41ae00(0x3f4)](),_0x357ad1['startsWith']('_')?_0x357ad1:'_'+_0x357ad1));let _0x48301a=[];_0x244c76[_0x41ae00(0x1d3)](_0x2144d2=>{const _0x5d4d61=_0x41ae00;_0x2144d2 in _0x6c9b75['chatLog'][_0x5d4d61(0x7dc)]&&(delete _0x6c9b75[_0x5d4d61(0x63a)][_0x5d4d61(0x7dc)][_0x2144d2],_0x48301a[_0x5d4d61(0x2cc)](_0x2144d2));}),_0x48301a['length']>0x0?this['logger'][_0x41ae00(0x843)](this[_0x41ae00(0x59f)]+'\x20('+this['instance'][_0x41ae00(0x6d8)]+_0x41ae00(0x34d)+_0x48301a[_0x41ae00(0x79a)](',\x20')):this[_0x41ae00(0x5d3)][_0x41ae00(0x843)](this[_0x41ae00(0x59f)]+'\x20('+this[_0x41ae00(0x229)]['wuid']+_0x41ae00(0x5ca));let _0x17b1dc={'moreLogs':[_0x41ae00(0x1f6)+_0x48301a['join'](',\x20')]};return await this['updateConversation'](_0x6c9b75,_0x2a97eb,_0x17b1dc),null;}async['processScheduleFlow'](_0x3b8877,_0x497615){const _0x2d1c7f=a0_0x33f632;if(this[_0x2d1c7f(0x5d3)][_0x2d1c7f(0x843)](this['instanceName']+'\x20('+this[_0x2d1c7f(0x229)][_0x2d1c7f(0x6d8)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x3b8877||!_0x497615)return this[_0x2d1c7f(0x5d3)]['error'](this[_0x2d1c7f(0x59f)]+'\x20('+this[_0x2d1c7f(0x229)][_0x2d1c7f(0x6d8)]+_0x2d1c7f(0x6b6)),null;let _0x120795=_0x3b8877[_0x2d1c7f(0x330)];_0x497615[_0x2d1c7f(0x238)][_0x2d1c7f(0x330)]&&_0x497615[_0x2d1c7f(0x238)][_0x2d1c7f(0x330)]['trim']()!==''&&(_0x120795=_0x497615['uazapi'][_0x2d1c7f(0x330)][_0x2d1c7f(0x3f4)]());let _0x3f4226=_0x497615[_0x2d1c7f(0x238)][_0x2d1c7f(0x26f)]*0xea60,_0x57d8ef=Date[_0x2d1c7f(0x26a)]()+_0x3f4226,_0x4cc6a1={'status':_0x2d1c7f(0x1d5),'info':_0x2d1c7f(0x79b)+_0x3b8877[_0x2d1c7f(0x254)],'remoteJids':[_0x120795],'when':_0x57d8ef,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x2d1c7f(0x2ec),'flowName':_0x497615[_0x2d1c7f(0x238)][_0x2d1c7f(0x34e)]};this[_0x2d1c7f(0x2bf)](_0x4cc6a1);let _0x3fdd9c=await this[_0x2d1c7f(0x3ad)](_0x3b8877);_0x3fdd9c&&await this[_0x2d1c7f(0x911)](_0x3b8877,_0x3fdd9c);}async[a0_0x33f632(0x6c2)](_0x274032,_0x22a913){const _0x225074=a0_0x33f632;if(this[_0x225074(0x5d3)][_0x225074(0x843)](this[_0x225074(0x59f)]+'\x20('+this[_0x225074(0x229)]['wuid']+_0x225074(0x26c)),!_0x274032||!_0x22a913)return this['logger'][_0x225074(0x90c)](this[_0x225074(0x59f)]+'\x20('+this['instance']['wuid']+_0x225074(0x6b6)),null;await this[_0x225074(0x789)](_0x274032,_0x22a913,{},!0x0,!0x0);let _0x4e57d4=_0x22a913['goToFlow'];_0x274032=await this[_0x225074(0x4ef)](_0x4e57d4,_0x274032['remoteJid'],_0x274032[_0x225074(0x63a)][_0x225074(0x7dc)]);let _0x274762=await this['NextBlock'](_0x274032);_0x274762&&await this['processblock'](_0x274032,_0x274762);}async[a0_0x33f632(0x4ef)](_0x3e0ed6,_0x153f60,_0x5df0a6){const _0x985356=a0_0x33f632;this[_0x985356(0x5d3)][_0x985356(0x843)](this[_0x985356(0x59f)]+'\x20('+this[_0x985356(0x229)][_0x985356(0x6d8)]+_0x985356(0x5f5));try{let _0x477c38=this['AutomateSystem'][_0x985356(0x1dc)]['find'](_0x376f01=>_0x376f01['_id']===_0x3e0ed6);_0x477c38||this['logger'][_0x985356(0x90c)](this[_0x985356(0x59f)]+'\x20('+this[_0x985356(0x229)][_0x985356(0x6d8)]+_0x985356(0x6cf)+_0x3e0ed6+_0x985356(0x586));let _0x7c15cb=await this['repository'][_0x985356(0x2ec)][_0x985356(0x91c)]({'where':{'_id':_0x477c38[_0x985356(0x7c9)]}});if(!_0x7c15cb||!_0x7c15cb['whoCanUse']?.[_0x985356(0x51a)](this[_0x985356(0x229)][_0x985356(0x6d8)]))throw this[_0x985356(0x5d3)][_0x985356(0x90c)](this[_0x985356(0x59f)]+'\x20('+this[_0x985356(0x229)]['wuid']+_0x985356(0x6cf)+_0x3e0ed6+_0x985356(0x2fa)),new m(_0x985356(0x2be)+_0x3e0ed6+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x352f44=require(_0x985356(0x385))[_0x985356(0x378)],_0x1f054d=Date[_0x985356(0x26a)](),_0x2a4c2d=_0x985356(0x796),_0x126a1d={},_0x5327a5={},_0x3b8c33=this[_0x985356(0x853)][_0x985356(0x1dc)]['find'](_0x537ee5=>_0x537ee5[_0x985356(0x7c9)]===_0x7c15cb[_0x985356(0x7c9)]?.[_0x985356(0x765)]()),_0x46875e=_0x3b8c33?.[_0x985356(0x2b9)]??_0x7c15cb[_0x985356(0x2b9)]??0x0,_0x4a6cbc=_0x3b8c33?.[_0x985356(0x466)]??_0x7c15cb[_0x985356(0x466)]??!0x1,_0x100df3={'flowId':_0x477c38[_0x985356(0x7c9)],'readMessages':_0x477c38[_0x985356(0x466)],..._0x7c15cb,'chatLog':null},_0x5b53ef={'lastReceivedMessage':_0x126a1d,'lastSendMessage':_0x5327a5,'lastBlockId':_0x2a4c2d,'lastCondition':!0x0,'realVariables':_0x5df0a6};_0x100df3[_0x985356(0x63a)]=_0x5b53ef,_0x100df3[_0x985356(0x63a)][_0x985356(0x7dc)]={..._0x5df0a6},delete _0x100df3[_0x985356(0x7c9)],_0x100df3['_id']=new _0x352f44(),_0x100df3[_0x985356(0x76b)]=_0x1f054d,_0x100df3['status']=_0x985356(0x29e),_0x100df3[_0x985356(0x330)]=_0x153f60,_0x100df3[_0x985356(0x2b9)]=_0x46875e,_0x100df3[_0x985356(0x466)]=_0x4a6cbc;let _0x4568d5=await this[_0x985356(0x48b)][_0x985356(0x55e)][_0x985356(0x215)](_0x100df3[_0x985356(0x7c9)],_0x100df3,this[_0x985356(0x229)][_0x985356(0x6d8)]);return this['logger'][_0x985356(0x843)](this[_0x985356(0x59f)]+'\x20('+this[_0x985356(0x229)][_0x985356(0x6d8)]+_0x985356(0x424)),_0x4568d5?_0x100df3:null;}catch(_0x10b870){let _0x2cc28=_0x985356(0x223),_0x13d117=_0x10b870 instanceof Error?_0x10b870[_0x985356(0x4b4)]:typeof _0x10b870==_0x985356(0x8d7)?JSON['stringify'](_0x10b870):_0x10b870,_0x9d9b4c=_0x2cc28+':\x20'+_0x13d117;throw this[_0x985356(0x5d3)][_0x985356(0x90c)](this[_0x985356(0x59f)]+'\x20('+this[_0x985356(0x229)][_0x985356(0x6d8)]+_0x985356(0x766)+_0x9d9b4c),new m(_0x9d9b4c);}}async[a0_0x33f632(0x26e)](_0x542c6f,_0x5e576f){const _0x512dae=a0_0x33f632;let _0x4cc7fe,_0x4f4152;try{let _0x33a643=_0x5e576f[_0x512dae(0x454)];if(!_0x33a643||!_0x33a643[_0x512dae(0x81e)]||!_0x33a643['method'])throw new Error(_0x512dae(0x52e));let _0x19c471;([_0x512dae(0x769),_0x512dae(0x4c5),_0x512dae(0x888)][_0x512dae(0x727)](_0x248f7b=>_0x33a643[_0x512dae(0x81e)][_0x512dae(0x51a)](_0x248f7b))||_0x33a643[_0x512dae(0x2d5)])&&(_0x19c471=_0x512dae(0x6e7));let _0x1d049c='\u205f',_0x34edc8;try{_0x34edc8=JSON[_0x512dae(0x366)](_0x33a643[_0x512dae(0x755)]['replace'](new RegExp(_0x1d049c,'g'),''));}catch(_0x22978b){throw _0x22978b;}let _0x459e9a={'method':_0x33a643[_0x512dae(0x8b7)],'url':_0x33a643['url'],'headers':_0x33a643['header']||{},..._0x33a643[_0x512dae(0x8b7)][_0x512dae(0x900)]()!=='GET'&&_0x33a643[_0x512dae(0x755)]?{'data':JSON[_0x512dae(0x366)](_0x33a643[_0x512dae(0x755)][_0x512dae(0x60a)](new RegExp(_0x1d049c,'g'),''))}:{},..._0x19c471&&{'responseType':_0x19c471}},_0x3d46d9=await(0x0,K[_0x512dae(0x844)])(_0x459e9a),_0x409e1c=_0x3d46d9['headers']['content-type'];if(_0x409e1c&&_0x409e1c[_0x512dae(0x51a)](_0x512dae(0x1a4))||typeof _0x3d46d9[_0x512dae(0x621)]==_0x512dae(0x562)){if(typeof _0x3d46d9[_0x512dae(0x621)]==_0x512dae(0x562)){let _0x53981f=_0x3d46d9['data'][_0x512dae(0x60a)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x512dae(0x3f4)]();try{_0x4cc7fe=JSON[_0x512dae(0x366)](_0x53981f);}catch(_0x186415){this['logger']['error'](_0x512dae(0x364)+_0x186415[_0x512dae(0x4b4)]),_0x4cc7fe={'_apiResponse':_0x3d46d9[_0x512dae(0x621)]};}}else _0x4cc7fe=_0x3d46d9[_0x512dae(0x621)];let _0x22adec=_0x542c6f['chatLog'][_0x512dae(0x7dc)],_0x13f177=this[_0x512dae(0x7c1)](_0x4cc7fe);return Object['assign'](_0x22adec,_0x13f177),_0x542c6f['chatLog'][_0x512dae(0x7dc)]=_0x22adec,_0x4f4152={'error':!0x1,'apiResponse':_0x4cc7fe},this[_0x512dae(0x789)](_0x542c6f,_0x5e576f,_0x4f4152),_0x4cc7fe;}if(_0x409e1c&&(_0x409e1c[_0x512dae(0x51a)](_0x512dae(0x2f1))||_0x409e1c['includes'](_0x512dae(0x1b7))||_0x409e1c[_0x512dae(0x51a)](_0x512dae(0x5cd))||_0x409e1c[_0x512dae(0x51a)](_0x512dae(0x8e6)))){this[_0x512dae(0x5d3)]['verbose'](this[_0x512dae(0x59f)]+'\x20('+this[_0x512dae(0x229)]['wuid']+_0x512dae(0x731)+_0x409e1c);let _0x3f8e0f=(0x0,Q['v4'])(),_0x45acee='',_0x446fc0={'image/jpeg':'.jpg','image/png':_0x512dae(0x66e),'image/gif':_0x512dae(0x267),'image/webp':_0x512dae(0x605),'image/svg+xml':_0x512dae(0x86a),'audio/mpeg':_0x512dae(0x481),'audio/ogg':_0x512dae(0x537),'audio/wav':_0x512dae(0x7da),'video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x512dae(0x90f),'text/plain':_0x512dae(0x298),'application/pdf':_0x512dae(0x3e7),'application/msword':_0x512dae(0x536),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x512dae(0x45b),'application/vnd.ms-excel':_0x512dae(0x753),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x512dae(0x77d),'application/vnd.ms-powerpoint':_0x512dae(0x22d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x446fc0[_0x409e1c]?(_0x45acee=_0x446fc0[_0x409e1c],this[_0x512dae(0x5d3)][_0x512dae(0x843)](this[_0x512dae(0x59f)]+'\x20('+this[_0x512dae(0x229)][_0x512dae(0x6d8)]+_0x512dae(0x3b4)+_0x45acee)):(_0x45acee=_0x512dae(0x2a9),this[_0x512dae(0x5d3)][_0x512dae(0x843)](this[_0x512dae(0x59f)]+'\x20('+this['instance'][_0x512dae(0x6d8)]+_0x512dae(0x698)+_0x45acee)),_0x3f8e0f+=_0x45acee,this['logger'][_0x512dae(0x843)](this[_0x512dae(0x59f)]+'\x20('+this['instance'][_0x512dae(0x6d8)]+_0x512dae(0x64f)+_0x3f8e0f);let _0x3faa9c=this[_0x512dae(0x7fb)]['get'](_0x512dae(0x308))[_0x512dae(0x93d)];if(!_0x3faa9c){let _0x446062=this[_0x512dae(0x7fb)][_0x512dae(0x939)](_0x512dae(0x762));_0x3faa9c=_0x512dae(0x3db)+(_0x446062&&_0x446062[_0x512dae(0x86c)][_0x512dae(0x405)]('/')[0x4]);}let _0x3b8c51=Buffer['from'](_0x3d46d9['data']);await this['saveMediaToFile'](_0x3b8c51,_0x3f8e0f);let _0x37081b='/media/'+_0x3f8e0f;_0x37081b=''+_0x3faa9c+_0x37081b,_0x4cc7fe={'fileUrl':_0x37081b},_0x542c6f[_0x512dae(0x63a)]['realVariables'][_0x512dae(0x600)]=_0x37081b;let _0x577c51=_0x542c6f[_0x512dae(0x63a)][_0x512dae(0x7dc)],_0x5a63b1=this[_0x512dae(0x7c1)](_0x4cc7fe);return Object[_0x512dae(0x68a)](_0x577c51,_0x5a63b1),_0x542c6f[_0x512dae(0x63a)][_0x512dae(0x7dc)]=_0x577c51,_0x4f4152={'error':!0x1,'apiResponse':{'fileUrl':_0x37081b}},this[_0x512dae(0x789)](_0x542c6f,_0x5e576f,_0x4f4152),_0x4cc7fe;}}catch(_0x486261){this['logger']['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x486261['message']),_0x486261[_0x512dae(0x5b3)]&&(_0x4cc7fe=_0x486261[_0x512dae(0x5b3)]['data']);let _0x16b6eb=_0x542c6f[_0x512dae(0x63a)][_0x512dae(0x7dc)],_0x5725cd=this['flattenObject'](_0x4cc7fe);return Object[_0x512dae(0x68a)](_0x16b6eb,_0x5725cd),_0x542c6f[_0x512dae(0x63a)][_0x512dae(0x7dc)]=_0x16b6eb,_0x4f4152={'error':!0x0,'errorLog':_0x486261[_0x512dae(0x765)](),'apiResponse':_0x4cc7fe},this[_0x512dae(0x789)](_0x542c6f,_0x5e576f,_0x4f4152),{'success':!0x1};}}[a0_0x33f632(0x506)](_0x97d1bc,_0x3dd9b1){const _0x43bed2=a0_0x33f632;let _0x34d8f8=_0x44091c=>{const _0x423ab3=a0_0x308e;let _0x17485b=_0x44091c[_0x423ab3(0x60a)](/[^0-9.,-]/g,'')[_0x423ab3(0x60a)](',','.'),_0xc22c86=parseFloat(_0x17485b);return isNaN(_0xc22c86)?null:_0xc22c86;},_0x219dbd=_0x3dd9b1[_0x43bed2(0x4aa)],_0x4acc18=_0x3dd9b1['secondValue'];typeof _0x219dbd=='string'&&(_0x219dbd=this[_0x43bed2(0x611)](_0x219dbd,_0x97d1bc['chatLog'][_0x43bed2(0x7dc)])??''),typeof _0x4acc18=='string'&&(_0x4acc18=this['replaceVariables'](_0x4acc18,_0x97d1bc[_0x43bed2(0x63a)][_0x43bed2(0x7dc)])??'');let _0x58c694=null;if(!_0x3dd9b1[_0x43bed2(0x687)])return null;switch(this[_0x43bed2(0x5d3)]['verbose'](this[_0x43bed2(0x59f)]+'\x20('+this[_0x43bed2(0x229)][_0x43bed2(0x6d8)]+_0x43bed2(0x455)+_0x219dbd),this[_0x43bed2(0x5d3)][_0x43bed2(0x843)](this['instanceName']+'\x20('+this[_0x43bed2(0x229)][_0x43bed2(0x6d8)]+_0x43bed2(0x54c)+_0x4acc18),_0x3dd9b1[_0x43bed2(0x687)]){case'+':case'-':case'*':case'/':let _0x1e938c=_0x34d8f8(_0x219dbd||'0'),_0x43c3b9=_0x34d8f8(_0x4acc18||'0');if(_0x1e938c===null)return null;switch(_0x3dd9b1[_0x43bed2(0x687)]){case'+':_0x58c694=_0x1e938c+(_0x43c3b9??0x0);break;case'-':_0x58c694=_0x1e938c-(_0x43c3b9??0x0);break;case'*':_0x58c694=_0x1e938c*(_0x43c3b9??0x1);break;case'/':_0x43c3b9!==0x0&&(_0x58c694=_0x1e938c/(_0x43c3b9??0x1));break;}break;case'findAndReplace':case _0x43bed2(0x561):let _0xf66a30=_0x4acc18,_0x3046e0=_0x3dd9b1[_0x43bed2(0x3f8)];if(typeof _0x3046e0==_0x43bed2(0x562)&&(_0x3046e0=this['replaceVariables'](_0x3046e0,_0x97d1bc[_0x43bed2(0x63a)][_0x43bed2(0x7dc)])??''),_0xf66a30&&_0x3046e0!==void 0x0){let _0x3f81b0=_0x3dd9b1[_0x43bed2(0x687)]==='findAndReplace'?new RegExp(_0xf66a30['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x43bed2(0x620)),'g'):new RegExp(_0xf66a30,'g');_0x58c694=_0x219dbd[_0x43bed2(0x60a)](_0x3f81b0,_0x3046e0);}else console[_0x43bed2(0x909)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x43bed2(0x8f0):_0x58c694=_0x4acc18;break;case _0x43bed2(0x439):let _0x34db64=_0x219dbd[_0x43bed2(0x82d)](new RegExp(_0x4acc18||''));_0x58c694=_0x34db64?_0x34db64[0x0]:'';break;case _0x43bed2(0x390):_0x58c694=_0x219dbd[_0x43bed2(0x63c)](0x0,parseInt(_0x4acc18||'0'));break;case'truncatedtoEnd':let _0x10a1c7=parseInt(_0x4acc18||'0');_0x58c694=_0x219dbd[_0x43bed2(0x63c)](_0x219dbd['length']-_0x10a1c7);break;case _0x43bed2(0x905):let _0x2bfb2f=_0x34d8f8(_0x219dbd),_0x63c991=parseInt(_0x4acc18||'0');_0x63c991=Math[_0x43bed2(0x293)](_0x63c991),_0x2bfb2f!==null?_0x58c694=_0x2bfb2f[_0x43bed2(0x88e)](_0x43bed2(0x62f),{'minimumFractionDigits':_0x63c991,'maximumFractionDigits':_0x63c991}):(console[_0x43bed2(0x909)](_0x43bed2(0x89c)+_0x219dbd),_0x58c694=null);break;case _0x43bed2(0x475):let _0x1e95bd=_0x34d8f8(_0x219dbd);_0x1e95bd!==null?_0x58c694=_0x1e95bd[_0x43bed2(0x88e)](_0x43bed2(0x62f),{'style':'currency','currency':_0x43bed2(0x32e)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x219dbd),_0x58c694=null);break;case _0x43bed2(0x777):_0x58c694=_0x219dbd[_0x43bed2(0x900)]();break;case'lowerCase':_0x58c694=_0x219dbd[_0x43bed2(0x4a2)]();break;case _0x43bed2(0x818):_0x58c694=_0x219dbd[_0x43bed2(0x405)]('\x20')[_0x43bed2(0x3dc)](_0xfef6fb=>_0xfef6fb['charAt'](0x0)[_0x43bed2(0x900)]()+_0xfef6fb[_0x43bed2(0x63c)](0x1)['toLowerCase']())[_0x43bed2(0x79a)]('\x20');break;case'convertToString':_0x58c694=JSON[_0x43bed2(0x3f5)](_0x219dbd);break;case _0x43bed2(0x55d):_0x58c694=_0x219dbd[_0x43bed2(0x3f4)]();break;default:_0x58c694=_0x219dbd;}return _0x58c694!==null?_0x58c694['toString']():null;}async['processvaredits'](_0x58e218,_0x5a017a){const _0x5da352=a0_0x33f632;try{let _0x2669d3=_0x58e218[_0x5da352(0x4d1)]?.['filter'](_0xd74fac=>_0xd74fac[_0x5da352(0x894)]===_0x5a017a[_0x5da352(0x7c9)]?.[_0x5da352(0x765)]())||[],_0x5d8c7e=_0x5a017a['saveVariable'],_0x39746e=null,_0x3bfd1e=[],_0x4f9085=_0x58e218['chatLog'][_0x5da352(0x7dc)][_0x5d8c7e];_0x3bfd1e[_0x5da352(0x2cc)]('Valor\x20inicial:\x20\x22'+_0x4f9085+'\x22');for(let _0x16fab0 of _0x2669d3){_0x16fab0[_0x5da352(0x4aa)]=_0x4f9085,_0x39746e=_0x16fab0[_0x5da352(0x4aa)];let _0x2ab091;try{_0x2ab091=this[_0x5da352(0x506)](_0x58e218,_0x16fab0);}catch(_0x2443b1){this[_0x5da352(0x5d3)][_0x5da352(0x90c)](_0x5da352(0x395)+_0x2443b1[_0x5da352(0x4b4)]);continue;}if(_0x2ab091!==null){let _0x50f2cf=_0x5da352(0x41c)+_0x16fab0[_0x5da352(0x687)]+'\x22',_0xbc7a69=['toBRL','upperCase',_0x5da352(0x7fc),'capitalizedWords',_0x5da352(0x55d)];_0x16fab0[_0x5da352(0x687)]===_0x5da352(0x27a)||_0x16fab0[_0x5da352(0x687)]===_0x5da352(0x561)?_0x50f2cf+=_0x5da352(0x5bd)+_0x16fab0[_0x5da352(0x757)]+_0x5da352(0x2c8)+_0x16fab0[_0x5da352(0x3f8)]+'\x22':!_0xbc7a69[_0x5da352(0x51a)](_0x16fab0['editOperator'])&&_0x16fab0[_0x5da352(0x757)]!==null&&_0x16fab0[_0x5da352(0x757)]!==void 0x0&&(_0x50f2cf+=_0x5da352(0x569)+_0x16fab0[_0x5da352(0x757)]+'\x22'),_0x50f2cf+=_0x5da352(0x25f)+_0x2ab091+'.',_0x3bfd1e[_0x5da352(0x2cc)](_0x50f2cf);}_0x2ab091!==null&&(_0x4f9085=_0x2ab091);}if(_0x58e218['chatLog']['realVariables']&&_0x5a017a[_0x5da352(0x45e)]){_0x58e218['chatLog'][_0x5da352(0x7dc)][_0x5a017a['saveVariable']]=_0x4f9085;let _0x868cb6={'variable':_0x5a017a[_0x5da352(0x45e)],'oldValue':_0x39746e,'newValue':_0x4f9085,'moreLogs':_0x3bfd1e};try{this[_0x5da352(0x789)](_0x58e218,_0x5a017a,_0x868cb6);}catch(_0x2b5c57){this[_0x5da352(0x5d3)][_0x5da352(0x90c)](_0x5da352(0x3d0)+_0x2b5c57['message']);}}return _0x5d8c7e;}catch(_0x2f8f83){return this[_0x5da352(0x5d3)][_0x5da352(0x90c)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2f8f83[_0x5da352(0x4b4)]),null;}}async[a0_0x33f632(0x2b6)](_0x2057f2,_0x5abb0c){const _0x16aa19=a0_0x33f632;try{let _0x44f951=[],_0x35605b=_0x2057f2[_0x16aa19(0x6eb)][_0x16aa19(0x550)](_0xa5aa9=>_0xa5aa9[_0x16aa19(0x894)]===_0x5abb0c[_0x16aa19(0x7c9)][_0x16aa19(0x765)]()),_0x3b3f05=null,_0x147759=!0x1;for(let _0x3e253a of _0x35605b){let _0x109b5a=this['evaluateCondition'](_0x2057f2,_0x3e253a);_0x44f951['push'](_0x16aa19(0x6a2)+_0x3e253a[_0x16aa19(0x4aa)]+_0x16aa19(0x4d2)+_0x3e253a[_0x16aa19(0x4f4)]+',\x20Segundo\x20Valor:\x20'+_0x3e253a[_0x16aa19(0x757)]+_0x16aa19(0x572)+_0x109b5a),_0x3b3f05===null?_0x3b3f05=_0x109b5a:_0x3e253a[_0x16aa19(0x4c0)]===_0x16aa19(0x7d0)?(_0x3b3f05=_0x3b3f05&&_0x109b5a,_0x109b5a||(_0x147759=!0x0)):_0x3e253a['OrAnd']==='or'&&(_0x147759||(_0x3b3f05=_0x3b3f05||_0x109b5a));}_0x3b3f05===null&&(_0x3b3f05=!0x0);let _0x99bf22={'moreLogs':_0x44f951};_0x2057f2[_0x16aa19(0x63a)][_0x16aa19(0x870)]=_0x3b3f05,await this[_0x16aa19(0x789)](_0x2057f2,_0x5abb0c,_0x99bf22);}catch(_0xe4a8b3){this[_0x16aa19(0x5d3)]['error'](this[_0x16aa19(0x59f)]+'\x20('+this[_0x16aa19(0x229)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0xe4a8b3 instanceof Error?_0xe4a8b3['message']:JSON[_0x16aa19(0x3f5)](_0xe4a8b3,null,0x2)));}}[a0_0x33f632(0x2b1)](_0x38b404,_0x3d767f){const _0x1434a3=a0_0x33f632;let _0x4a8dad=_0x3d767f[_0x1434a3(0x4aa)],_0xd0b4af=_0x3d767f[_0x1434a3(0x757)];typeof _0x4a8dad==_0x1434a3(0x562)&&(_0x4a8dad=this[_0x1434a3(0x611)](_0x4a8dad,_0x38b404['chatLog'][_0x1434a3(0x7dc)])??''),typeof _0xd0b4af==_0x1434a3(0x562)&&(_0xd0b4af=this[_0x1434a3(0x611)](_0xd0b4af,_0x38b404[_0x1434a3(0x63a)]['realVariables'])??'');try{switch(_0x3d767f[_0x1434a3(0x4f4)]){case _0x1434a3(0x619):return _0x4a8dad===_0xd0b4af;case _0x1434a3(0x924):return _0x4a8dad!==_0xd0b4af;case _0x1434a3(0x4fa):return this[_0x1434a3(0x4fa)](_0x4a8dad,_0xd0b4af);case _0x1434a3(0x20c):return!this[_0x1434a3(0x4fa)](_0x4a8dad,_0xd0b4af);case _0x1434a3(0x557):return parseFloat(_0x4a8dad)>parseFloat(_0xd0b4af);case _0x1434a3(0x2b4):return parseFloat(_0x4a8dad)<parseFloat(_0xd0b4af);case'notEmpty':return _0x4a8dad!=='';case _0x1434a3(0x92b):return _0x4a8dad==='';case'matchRegex':return new RegExp(_0xd0b4af)[_0x1434a3(0x5fa)](_0x4a8dad);case _0x1434a3(0x7cb):return!new RegExp(_0xd0b4af)[_0x1434a3(0x5fa)](_0x4a8dad);default:return!0x1;}}catch(_0x28385f){return this[_0x1434a3(0x5d3)][_0x1434a3(0x90c)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x28385f),!0x1;}}[a0_0x33f632(0x4fa)](_0x2db04b,_0x5329b1){const _0x1afedf=a0_0x33f632;if(_0x2db04b===_0x5329b1&&/^\d+$/['test'](_0x2db04b))return!0x0;if(this['isListOfNumbers'](_0x2db04b)&&/^\d+$/['test'](_0x5329b1)){let _0x48174c=_0x2db04b['split'](',')[_0x1afedf(0x3dc)](_0x229626=>parseInt(_0x229626['trim']())),_0x49767f=parseInt(_0x5329b1);return _0x48174c[_0x1afedf(0x51a)](_0x49767f);}return _0x2db04b[_0x1afedf(0x51a)](_0x5329b1);}[a0_0x33f632(0x5ab)](_0x47fd17){const _0x564fd3=a0_0x33f632;return/^\d+(,\d+)*$/[_0x564fd3(0x5fa)](_0x47fd17);}[a0_0x33f632(0x805)](_0x4c638d){const _0x158940=a0_0x33f632;let _0x3d703e=!0x0,_0x54c30a=null;for(let _0x4f794b of _0x4c638d){let _0x3e1482=this[_0x158940(0x1ba)](_0x4f794b);if(_0x54c30a==='or'&&_0x3e1482){_0x3d703e=!0x0;break;}if(_0x54c30a===_0x158940(0x7d0)&&!_0x3e1482){_0x3d703e=!0x1;break;}_0x54c30a=_0x4f794b[_0x158940(0x4c0)];}return _0x3d703e;}[a0_0x33f632(0x1ba)](_0x5baab0){const _0x1ba1b7=a0_0x33f632;let _0x2ca9d6=_0x5baab0[_0x1ba1b7(0x4aa)],_0x2e6dff=_0x5baab0[_0x1ba1b7(0x757)];try{switch(_0x5baab0[_0x1ba1b7(0x4f4)]){case _0x1ba1b7(0x619):return String(_0x2ca9d6)===String(_0x2e6dff);case'notEqual':return String(_0x2ca9d6)!==String(_0x2e6dff);case _0x1ba1b7(0x4fa):return String(_0x2ca9d6)['includes'](String(_0x2e6dff));case'notContains':return!String(_0x2ca9d6)[_0x1ba1b7(0x51a)](String(_0x2e6dff));case _0x1ba1b7(0x557):return parseFloat(String(_0x2ca9d6))>parseFloat(String(_0x2e6dff));case _0x1ba1b7(0x2b4):return parseFloat(String(_0x2ca9d6))<parseFloat(String(_0x2e6dff));case _0x1ba1b7(0x75a):return String(_0x2ca9d6)!=='';case'empty':return String(_0x2ca9d6)==='';case _0x1ba1b7(0x80f):return new RegExp(String(_0x2e6dff))[_0x1ba1b7(0x5fa)](String(_0x2ca9d6));case _0x1ba1b7(0x7cb):return!new RegExp(String(_0x2e6dff))[_0x1ba1b7(0x5fa)](String(_0x2ca9d6));default:return!0x1;}}catch(_0x5c70cd){return this['logger'][_0x1ba1b7(0x90c)](_0x1ba1b7(0x451)+_0x5c70cd),!0x1;}}async[a0_0x33f632(0x680)](_0x14e027,_0xe87fd0){const _0x2e817d=a0_0x33f632;if(this[_0x2e817d(0x5d3)][_0x2e817d(0x843)](this[_0x2e817d(0x59f)]+'\x20('+this[_0x2e817d(0x229)][_0x2e817d(0x6d8)]+_0x2e817d(0x6e0)),!_0x14e027||!_0xe87fd0)return this[_0x2e817d(0x5d3)]['error'](this[_0x2e817d(0x59f)]+'\x20('+this['instance'][_0x2e817d(0x6d8)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x54564a=_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x545)]['key']['id'];this[_0x2e817d(0x5d3)][_0x2e817d(0x843)](this[_0x2e817d(0x59f)]+'\x20('+this[_0x2e817d(0x229)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x54564a);let _0x548c78={'key':{'id':_0x54564a}},_0x560bd6=_0xe87fd0[_0x2e817d(0x45e)];_0x14e027[_0x2e817d(0x63a)]['realVariables']['_'+_0x560bd6+'.fileUrl']=null,_0x14e027[_0x2e817d(0x63a)]['realVariables']['_'+_0x560bd6+_0x2e817d(0x858)]=null,_0x14e027['chatLog'][_0x2e817d(0x7dc)]['_'+_0x560bd6+_0x2e817d(0x2e1)]=null,_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x7dc)]['_'+_0x560bd6+'.type']=_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x545)][_0x2e817d(0x809)];try{let _0x22783f=await this[_0x2e817d(0x435)](_0x548c78);this[_0x2e817d(0x5d3)]['verbose'](this[_0x2e817d(0x59f)]+'\x20('+this[_0x2e817d(0x229)][_0x2e817d(0x6d8)]+_0x2e817d(0x90e)),_0x14e027[_0x2e817d(0x63a)]['realVariables']['_'+_0x560bd6+_0x2e817d(0x58b)]=_0x22783f[_0x2e817d(0x600)],_0x14e027[_0x2e817d(0x63a)]['realVariables']['_'+_0x560bd6+_0x2e817d(0x858)]=_0x22783f[_0x2e817d(0x78c)];let _0x414eb3=_0x22783f[_0x2e817d(0x78c)][_0x2e817d(0x82d)](/\/(\w+)$/),_0x5a8d79=_0x414eb3?_0x414eb3[0x1]:null;_0x14e027['chatLog'][_0x2e817d(0x7dc)]['_'+_0x560bd6+_0x2e817d(0x2e1)]=_0x5a8d79,this[_0x2e817d(0x5d3)][_0x2e817d(0x843)](this['instanceName']+'\x20('+this[_0x2e817d(0x229)][_0x2e817d(0x6d8)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x560bd6+'\x27.');}catch(_0x2b3664){this[_0x2e817d(0x5d3)][_0x2e817d(0x90c)](this[_0x2e817d(0x59f)]+'\x20('+this['instance'][_0x2e817d(0x6d8)]+_0x2e817d(0x339)+_0x2b3664['message']);}let _0x50766f=_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x545)][_0x2e817d(0x8bc)]||_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x545)][_0x2e817d(0x747)]||_0x14e027['chatLog'][_0x2e817d(0x545)]['vote'];try{_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x7dc)]||(_0x14e027[_0x2e817d(0x63a)]['realVariables']={});let _0x15823a=_0x14e027[_0x2e817d(0x63a)][_0x2e817d(0x7dc)][_0x560bd6];_0x14e027['chatLog']['realVariables'][_0x560bd6]=_0x50766f;let _0x27b902={'variable':_0x560bd6,'oldValue':_0x15823a,'newValue':_0x50766f};this[_0x2e817d(0x789)](_0x14e027,_0xe87fd0,_0x27b902),this['logger'][_0x2e817d(0x843)](this[_0x2e817d(0x59f)]+'\x20('+this[_0x2e817d(0x229)]['wuid']+_0x2e817d(0x770));}catch(_0x30885a){let _0x418814={'error':!0x0,'errorLog':_0x30885a[_0x2e817d(0x765)]()};return this[_0x2e817d(0x789)](_0x14e027,_0xe87fd0,_0x418814),this[_0x2e817d(0x5d3)][_0x2e817d(0x90c)](this[_0x2e817d(0x59f)]+'\x20('+this['instance'][_0x2e817d(0x6d8)]+_0x2e817d(0x202)+(_0x30885a instanceof Error?_0x30885a['message']:JSON[_0x2e817d(0x3f5)](_0x30885a,null,0x2))),null;}}async[a0_0x33f632(0x6c0)](_0x32d19e,_0x278e4c){const _0x100295=a0_0x33f632;if(this['logger'][_0x100295(0x843)](this[_0x100295(0x59f)]+'\x20('+this['instance'][_0x100295(0x6d8)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x32d19e||!_0x278e4c)return this[_0x100295(0x5d3)]['error'](this[_0x100295(0x59f)]+'\x20('+this[_0x100295(0x229)][_0x100295(0x6d8)]+_0x100295(0x6b6)),null;let _0x1d6546=Date[_0x100295(0x26a)](),_0x42451d=parseInt(_0x278e4c['stopMinutes'],0xa);if(isNaN(_0x42451d))return this[_0x100295(0x5d3)][_0x100295(0x90c)](this[_0x100295(0x59f)]+'\x20('+this[_0x100295(0x229)]['wuid']+_0x100295(0x797)),null;let _0x2bed4b={'newStoppedUntil':_0x1d6546+_0x42451d*0x3c*0x3e8};return await this[_0x100295(0x789)](_0x32d19e,_0x278e4c,_0x2bed4b,!0x0),null;}async['processUazapi'](_0x3ed8bc,_0x564ada){const _0x11730f=a0_0x33f632;try{switch(_0x564ada[_0x11730f(0x923)][_0x11730f(0x7cf)]){case _0x11730f(0x4a1):await this[_0x11730f(0x54a)](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x90a):await this[_0x11730f(0x674)](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x8ee):await this[_0x11730f(0x3c2)](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x40d):await this[_0x11730f(0x60b)](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x8b6):await this['uazapiSendContact'](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x916):await this[_0x11730f(0x5b5)](_0x3ed8bc,_0x564ada);break;case _0x11730f(0x6f7):await this[_0x11730f(0x5b5)](_0x3ed8bc,_0x564ada);break;case'deleteMessage':await this[_0x11730f(0x361)](_0x3ed8bc,_0x564ada);break;default:this[_0x11730f(0x5d3)][_0x11730f(0x90c)](this[_0x11730f(0x59f)]+'\x20('+this['instance'][_0x11730f(0x6d8)]+_0x11730f(0x7f6)+_0x564ada[_0x11730f(0x923)][_0x11730f(0x7cf)]);}}catch(_0x1ee5dc){this[_0x11730f(0x5d3)][_0x11730f(0x90c)](this[_0x11730f(0x59f)]+'\x20('+this[_0x11730f(0x229)][_0x11730f(0x6d8)]+_0x11730f(0x5b4)+(_0x1ee5dc instanceof Error?_0x1ee5dc['message']:JSON[_0x11730f(0x3f5)](_0x1ee5dc,null,0x2)));}}async['updateConversation'](_0x5d7487,_0x5b4ff1,_0x313157,_0x416f94=!0x1,_0x2bb530=!0x1){const _0x172066=a0_0x33f632;_0x5d7487['chatLog'][_0x172066(0x1fb)]||(_0x5d7487[_0x172066(0x63a)]['blockLogs']=[]);let _0x26b7f5=(_0x5d7487['chatLog'][_0x172066(0x1fb)]?.[_0x172066(0x6ee)]??0x0)+0x1,_0x176569=_0x5d7487[_0x172066(0x63a)][_0x172066(0x1fb)][_0x172066(0x550)](_0x10fd04=>String(_0x10fd04['blockId'])===String(_0x5b4ff1[_0x172066(0x7c9)]))[_0x172066(0x6ee)]+0x1,_0x2914df=_0x313157?.['onTime']??Date[_0x172066(0x26a)](),_0x14f656=_0x313157?.[_0x172066(0x90c)]?_0x313157['errorLog']??_0x313157[_0x172066(0x90c)]['toString']():void 0x0,_0x1cb8c1={'onTime':_0x2914df,'blockId':_0x5b4ff1[_0x172066(0x7c9)],'order':_0x26b7f5,'activatedCount':_0x176569,'error':_0x313157?.[_0x172066(0x90c)]??!0x1,'messageId':_0x313157?.[_0x172066(0x83c)],'apiResponse':_0x313157?.[_0x172066(0x8e9)],'apiResponseString':_0x313157?.[_0x172066(0x8e9)]?JSON[_0x172066(0x3f5)](_0x313157?.[_0x172066(0x8e9)]):void 0x0,'variable':_0x313157?.[_0x172066(0x748)],'oldValue':_0x313157?.[_0x172066(0x8c0)],'newValue':_0x313157?.['newValue'],'newStoppedUntil':_0x313157?.[_0x172066(0x31e)],'moreLogs':_0x313157?.[_0x172066(0x861)],'errorLog':_0x14f656};if(_0x313157['moreLogs']&&_0x313157[_0x172066(0x861)][_0x172066(0x6ee)]>0x0){let _0x19cf94=_0x313157['moreLogs'][_0x172066(0x3dc)](_0x4f3ea2=>this[_0x172066(0x1f7)](_0x4f3ea2,_0x5d7487['chatLog'][_0x172066(0x7dc)]));_0x1cb8c1[_0x172066(0x861)]=_0x19cf94;}if(_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)]||(_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)]={}),_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)][_0x172066(0x84a)]=String(_0x176569),_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)][_0x172066(0x474)]=String(_0x313157[_0x172066(0x90c)]??!0x1),_0x5d7487['chatLog']['blockLogs'][_0x172066(0x2cc)](_0x1cb8c1),_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)][_0x172066(0x517)]&&_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)][_0x172066(0x517)]!==_0x5d7487[_0x172066(0x330)]){let _0x4220d7=(await this[_0x172066(0x4fb)]({'numbers':[_0x5d7487[_0x172066(0x63a)]['realVariables']['telefone']]}))[0x0][_0x172066(0x1e7)];_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)][_0x172066(0x517)]=_0x4220d7,_0x5d7487[_0x172066(0x330)]=_0x4220d7;try{let _0x3d2c29={'_id':{'$ne':_0x5d7487[_0x172066(0x7c9)]},'remoteJid':_0x4220d7,'status':_0x172066(0x29e)},_0x38b84c={'status':'closed'};await this[_0x172066(0x48b)]['flowConversation'][_0x172066(0x89a)](_0x3d2c29,_0x38b84c,this['instance'][_0x172066(0x6d8)]),this['logger'][_0x172066(0x843)](this[_0x172066(0x59f)]+'\x20('+this[_0x172066(0x229)][_0x172066(0x6d8)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x18bd82){this[_0x172066(0x5d3)][_0x172066(0x90c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x172066(0x8c2)+_0x18bd82[_0x172066(0x4b4)]);}try{let _0xb835a=_0x5d7487[_0x172066(0x63a)][_0x172066(0x7dc)],_0x416a39=await this[_0x172066(0x3aa)](_0x4220d7),_0x338cd5={..._0xb835a,..._0x416a39,'_remoteJid':_0x4220d7};_0x5d7487['chatLog'][_0x172066(0x7dc)]=_0x338cd5;}catch(_0x493bdd){this[_0x172066(0x5d3)]['error'](this[_0x172066(0x59f)]+'\x20('+this[_0x172066(0x229)][_0x172066(0x6d8)]+_0x172066(0x7ad)+_0x493bdd[_0x172066(0x4b4)]);}}_0x5d7487[_0x172066(0x63a)][_0x172066(0x415)]=_0x5b4ff1[_0x172066(0x7c9)][_0x172066(0x765)](),_0x5d7487[_0x172066(0x63a)][_0x172066(0x437)]&&(_0x5d7487[_0x172066(0x63a)][_0x172066(0x437)]=_0x5d7487[_0x172066(0x63a)][_0x172066(0x437)]),_0x5d7487[_0x172066(0x63a)]['lastReceivedMessage']&&(_0x5d7487[_0x172066(0x63a)][_0x172066(0x545)]=_0x5d7487[_0x172066(0x63a)][_0x172066(0x545)]),_0x5d7487[_0x172066(0x63a)][_0x172066(0x870)]&&(_0x5d7487[_0x172066(0x63a)][_0x172066(0x870)]=_0x5d7487['chatLog'][_0x172066(0x870)]),_0x2bb530&&(_0x5d7487[_0x172066(0x3ee)]=_0x172066(0x1d8)),_0x416f94?this[_0x172066(0x593)](_0x5d7487):this[_0x172066(0x358)](_0x5d7487,_0x5b4ff1);}[a0_0x33f632(0x1f7)](_0x5802c5,_0x157b5f){const _0x3f979a=a0_0x33f632;return _0x5802c5[_0x3f979a(0x60a)](/\{\{([^}]+)\}\}/g,(_0x38492a,_0x51b7bd)=>_0x157b5f[_0x51b7bd]?'{{'+_0x51b7bd+_0x3f979a(0x8e4)+_0x157b5f[_0x51b7bd]+'\x22':'{{'+_0x51b7bd+_0x3f979a(0x7c6));}async[a0_0x33f632(0x593)](_0x4970e3){const _0x23ec60=a0_0x33f632;try{let _0x562415=Object[_0x23ec60(0x7f8)](_0x4970e3[_0x23ec60(0x63a)][_0x23ec60(0x7dc)])[_0x23ec60(0x3dc)](([_0x2fba75,_0x25e4d3])=>({'name':_0x2fba75,'value':_0x25e4d3})),_0x140f62={'status':_0x4970e3[_0x23ec60(0x3ee)],'remoteJid':_0x4970e3[_0x23ec60(0x330)],'blocks':_0x4970e3[_0x23ec60(0x830)],'waitingMenu_id':_0x4970e3[_0x23ec60(0x2a8)],'waitingMenu_text':_0x4970e3[_0x23ec60(0x713)],'waitingMenu_replyOptions':_0x4970e3['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x4970e3[_0x23ec60(0x63a)][_0x23ec60(0x415)],'lastSendMessage':_0x4970e3[_0x23ec60(0x63a)][_0x23ec60(0x437)],'lastReceivedMessage':_0x4970e3[_0x23ec60(0x63a)]['lastReceivedMessage'],'lastCondition':_0x4970e3[_0x23ec60(0x63a)][_0x23ec60(0x870)],'chatVariables':_0x562415,'realVariables':_0x4970e3['chatLog'][_0x23ec60(0x7dc)],'blockLogs':_0x4970e3['chatLog'][_0x23ec60(0x1fb)]}},_0x39808d=await this['repository']['flowConversation']['updateOne'](_0x4970e3[_0x23ec60(0x7c9)],_0x140f62,this[_0x23ec60(0x229)]['wuid']);if(_0x39808d){this['logger'][_0x23ec60(0x843)](this[_0x23ec60(0x59f)]+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x477)+_0x39808d[_0x23ec60(0x7c9)]);try{let _0x173b91=[_0x23ec60(0x340),'nomecompleto','email','cpf',_0x23ec60(0x3ee),_0x23ec60(0x6da),_0x23ec60(0x795),_0x23ec60(0x3ab),_0x23ec60(0x54e),_0x23ec60(0x30a)];if(!this[_0x23ec60(0x853)]&&(await this['getAutomateSystem'](),!this[_0x23ec60(0x853)]))throw new Error(_0x23ec60(0x51f));let _0x4c76e5=this[_0x23ec60(0x853)]?.[_0x23ec60(0x859)][_0x23ec60(0x3dc)](_0x2f949f=>_0x2f949f['name']),_0x47b52e={};Object['entries'](_0x4970e3[_0x23ec60(0x63a)]['realVariables'])[_0x23ec60(0x1d3)](([_0x125958,_0x55bc03])=>{const _0x5e17b8=_0x23ec60;_0x173b91['includes'](_0x125958)&&(_0x125958===_0x5e17b8(0x3ab)&&typeof _0x55bc03==_0x5e17b8(0x562)?_0x47b52e[_0x125958]=_0x55bc03[_0x5e17b8(0x405)](',')[_0x5e17b8(0x3dc)](_0x5ca186=>_0x5ca186[_0x5e17b8(0x3f4)]())[_0x5e17b8(0x550)](_0xff86ce=>_0xff86ce!==''):_0x125958===_0x5e17b8(0x54e)&&typeof _0x55bc03==_0x5e17b8(0x562)?_0x47b52e[_0x125958]=_0x55bc03['split'](',')[_0x5e17b8(0x3dc)](_0x2a63ab=>_0x2a63ab['trim']())[_0x5e17b8(0x550)](_0x51cc2d=>_0x51cc2d!==''):_0x47b52e[_0x125958]=_0x55bc03);});let _0x595f1a=_0x4970e3['chatLog'][_0x23ec60(0x1fb)][_0x4970e3[_0x23ec60(0x63a)][_0x23ec60(0x1fb)][_0x23ec60(0x6ee)]-0x1];if(_0x595f1a){let _0x4f26f6=_0x595f1a[_0x23ec60(0x31e)];_0x4f26f6!==void 0x0&&(_0x47b52e['desativadoFluxoAte']=_0x4f26f6[_0x23ec60(0x765)]());}let _0x2a9979=_0x562415['filter'](_0xee87e4=>_0x4c76e5['includes'](_0xee87e4[_0x23ec60(0x254)]));this[_0x23ec60(0x5d3)][_0x23ec60(0x843)](this[_0x23ec60(0x59f)]+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x4eb)),this[_0x23ec60(0x5d3)][_0x23ec60(0x843)](_0x47b52e),this[_0x23ec60(0x5d3)][_0x23ec60(0x843)](this[_0x23ec60(0x59f)]+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+'):\x20customFieldVariables'),this[_0x23ec60(0x5d3)][_0x23ec60(0x843)](_0x2a9979);let _0x160ece=_0x2a9979[_0x23ec60(0x3dc)](_0x14fcf6=>{const _0x28c663=_0x23ec60;let _0x9e0ce7=this[_0x28c663(0x853)]?.[_0x28c663(0x859)][_0x28c663(0x7fa)](_0x45deb2=>_0x45deb2['name']===_0x14fcf6[_0x28c663(0x254)]);if(!_0x9e0ce7)throw new Error(_0x28c663(0x896)+_0x14fcf6[_0x28c663(0x254)]);return{'_id':_0x9e0ce7['_id'],'value':_0x14fcf6[_0x28c663(0x355)]};});this[_0x23ec60(0x5d3)]['verbose'](this[_0x23ec60(0x59f)]+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x873)),this['logger'][_0x23ec60(0x843)](_0x160ece),await this[_0x23ec60(0x45f)](_0x4970e3[_0x23ec60(0x330)],_0x47b52e,_0x160ece);}catch(_0x4729d7){this[_0x23ec60(0x5d3)][_0x23ec60(0x90c)](this[_0x23ec60(0x59f)]+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x2ee)+(_0x4729d7 instanceof Error?_0x4729d7[_0x23ec60(0x4b4)]:JSON[_0x23ec60(0x3f5)](_0x4729d7,null,0x2)));}}else this[_0x23ec60(0x5d3)][_0x23ec60(0x90c)](this['instanceName']+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x6f0));}catch(_0x1a8440){this[_0x23ec60(0x5d3)][_0x23ec60(0x90c)](this['instanceName']+'\x20('+this[_0x23ec60(0x229)][_0x23ec60(0x6d8)]+_0x23ec60(0x386)+(_0x1a8440 instanceof Error?_0x1a8440[_0x23ec60(0x4b4)]:JSON[_0x23ec60(0x3f5)](_0x1a8440,null,0x2)));}}async[a0_0x33f632(0x45f)](_0x245a04,_0x62075b,_0x7f9189){const _0x44e74f=a0_0x33f632;try{let _0x226ddd={'leadInfo.leadnome':_0x62075b[_0x44e74f(0x340)],'leadInfo.nomecompleto':_0x62075b[_0x44e74f(0x7f5)],'leadInfo.email':_0x62075b[_0x44e74f(0x798)],'leadInfo.cpf':_0x62075b['cpf'],'leadInfo.status':_0x62075b[_0x44e74f(0x3ee)],'leadInfo.notas':_0x62075b[_0x44e74f(0x6da)],'leadInfo.responsavelid':_0x62075b[_0x44e74f(0x795)],'leadInfo.tags':_0x62075b['tags'],'leadInfo.etiquetas':_0x62075b['etiquetas'],'leadInfo.customFields':_0x7f9189,'leadInfo.atendimentoAberto':_0x62075b[_0x44e74f(0x30a)]},_0x2eb7f2=await this[_0x44e74f(0x48b)]['chat'][_0x44e74f(0x91c)]({'where':{'_id':_0x245a04}},this[_0x44e74f(0x229)][_0x44e74f(0x6d8)]);if(!_0x2eb7f2)return'chat\x20não\x20encontrado';let _0x225e0e=new Set(_0x2eb7f2[_0x44e74f(0x6a6)]['etiquetas']||[]),_0x7bc31=new Set(_0x62075b[_0x44e74f(0x54e)]||[]),_0x5ea47d=await this[_0x44e74f(0x48b)]['label'][_0x44e74f(0x7fa)]({'where':{}},this[_0x44e74f(0x229)][_0x44e74f(0x6d8)]),_0x3e9e5c=new Set(_0x5ea47d[_0x44e74f(0x3dc)](_0x46b410=>_0x46b410[_0x44e74f(0x7c9)])),_0x156569=[..._0x7bc31][_0x44e74f(0x550)](_0x33c3d2=>!_0x225e0e[_0x44e74f(0x6fe)](_0x33c3d2)&&_0x3e9e5c[_0x44e74f(0x6fe)](_0x33c3d2)),_0x4b61c5=[..._0x225e0e][_0x44e74f(0x550)](_0x3043ab=>!_0x7bc31['has'](_0x3043ab));for(let _0x61434a of _0x156569)await this[_0x44e74f(0x7d8)](_0x61434a,_0x2eb7f2[_0x44e74f(0x7c9)]),_0x225e0e[_0x44e74f(0x1af)](_0x61434a);for(let _0x50f44a of _0x4b61c5)await this['RemoveChatLabel'](_0x50f44a,_0x2eb7f2[_0x44e74f(0x7c9)]),_0x225e0e[_0x44e74f(0x8ce)](_0x50f44a);if(_0x44e74f(0x4f6)in _0x62075b){let _0x45149f=_0x62075b['desativadoFluxoAte'];_0x226ddd['leadInfo.desativadoFluxoAte']=_0x45149f?Number(_0x45149f):null;}if(_0x44e74f(0x30a)in _0x62075b){let _0x6b07b8=_0x62075b['atendimentoAberto']['toLowerCase']();_0x226ddd[_0x44e74f(0x5f7)]=_0x6b07b8===_0x44e74f(0x8c1)||_0x6b07b8==='1'||_0x6b07b8==='yes'||_0x6b07b8===_0x44e74f(0x8ca);}let _0x400475=await this[_0x44e74f(0x48b)][_0x44e74f(0x2cb)][_0x44e74f(0x215)]({'where':{'_id':_0x245a04}},_0x226ddd,this[_0x44e74f(0x229)]['wuid']);_0x400475?(this[_0x44e74f(0x5d3)][_0x44e74f(0x843)](this['instanceName']+'\x20('+this[_0x44e74f(0x229)][_0x44e74f(0x6d8)]+_0x44e74f(0x7fd)+_0x400475['_id']),F(this['instanceName'],_0x44e74f(0x228),{'chat':_0x400475})):this['logger'][_0x44e74f(0x90c)](this['instanceName']+'\x20('+this[_0x44e74f(0x229)]['wuid']+_0x44e74f(0x3c3));}catch(_0x3eb4bd){this[_0x44e74f(0x5d3)]['error'](this[_0x44e74f(0x59f)]+'\x20('+this[_0x44e74f(0x229)][_0x44e74f(0x6d8)]+_0x44e74f(0x8c7)+(_0x3eb4bd instanceof Error?_0x3eb4bd[_0x44e74f(0x4b4)]:JSON[_0x44e74f(0x3f5)](_0x3eb4bd,null,0x2)));}}async[a0_0x33f632(0x8b8)](_0x1fde4a,_0x280dbb){const _0x35e4bf=a0_0x33f632;this[_0x35e4bf(0x5d3)]['verbose'](this[_0x35e4bf(0x59f)]+'\x20('+this['instance'][_0x35e4bf(0x6d8)]+_0x35e4bf(0x5a8)+_0x280dbb);try{let _0x1b910e=await this[_0x35e4bf(0x48b)][_0x35e4bf(0x2cb)]['updateOne']({'where':{'_id':_0x1fde4a[_0x35e4bf(0x330)]}},{'leadInfo.desativadoFluxoAte':_0x280dbb},this['instance'][_0x35e4bf(0x6d8)]);this[_0x35e4bf(0x5d3)][_0x35e4bf(0x843)](this[_0x35e4bf(0x59f)]+'\x20('+this['instance'][_0x35e4bf(0x6d8)]+_0x35e4bf(0x56f)+_0x1fde4a[_0x35e4bf(0x7c9)]),this[_0x35e4bf(0x5d3)][_0x35e4bf(0x843)](this['instanceName']+'\x20('+this[_0x35e4bf(0x229)]['wuid']+_0x35e4bf(0x5a8)+JSON['stringify'](_0x1b910e,null,0x2)),_0x1b910e&&F(this[_0x35e4bf(0x59f)],_0x35e4bf(0x228),{'chat':_0x1b910e});}catch(_0x14a41c){this[_0x35e4bf(0x5d3)]['error'](this[_0x35e4bf(0x59f)]+'\x20('+this[_0x35e4bf(0x229)][_0x35e4bf(0x6d8)]+_0x35e4bf(0x910)+(_0x14a41c instanceof Error?_0x14a41c[_0x35e4bf(0x4b4)]:JSON[_0x35e4bf(0x3f5)](_0x14a41c,null,0x2)));}}async[a0_0x33f632(0x767)](_0x30f3e9){const _0x20e7e0=a0_0x33f632;try{this[_0x20e7e0(0x5d3)][_0x20e7e0(0x843)](this[_0x20e7e0(0x59f)]+'\x20('+this['instance'][_0x20e7e0(0x6d8)]+_0x20e7e0(0x3e3));let _0x47b505=_0x30f3e9[_0x20e7e0(0x60a)](/\D/g,''),_0x9771f4=this[_0x20e7e0(0x853)]['flows'][_0x20e7e0(0x7fa)](_0x4367a7=>_0x4367a7[_0x20e7e0(0x6a7)]===_0x47b505);if(_0x9771f4||(this[_0x20e7e0(0x5d3)][_0x20e7e0(0x843)](this[_0x20e7e0(0x59f)]+'\x20('+this[_0x20e7e0(0x229)][_0x20e7e0(0x6d8)]+_0x20e7e0(0x8bf)),_0x9771f4=this['AutomateSystem']['flows']['find'](_0x49b431=>_0x49b431['default']===!0x0)),!_0x9771f4)return this[_0x20e7e0(0x5d3)][_0x20e7e0(0x843)](this[_0x20e7e0(0x59f)]+'\x20('+this[_0x20e7e0(0x229)][_0x20e7e0(0x6d8)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x4aa1b3=await this[_0x20e7e0(0x48b)][_0x20e7e0(0x2ec)][_0x20e7e0(0x91c)]({'where':{'_id':_0x9771f4['_id']}});if(!_0x4aa1b3||!_0x4aa1b3['whoCanUse']?.[_0x20e7e0(0x51a)](this['instance'][_0x20e7e0(0x6d8)]))throw this['logger'][_0x20e7e0(0x90c)](this[_0x20e7e0(0x59f)]+'\x20('+this[_0x20e7e0(0x229)]['wuid']+_0x20e7e0(0x6cf)+_0x4aa1b3[_0x20e7e0(0x7c9)]+_0x20e7e0(0x2fa)),new m(_0x20e7e0(0x2be)+_0x4aa1b3[_0x20e7e0(0x7c9)]+_0x20e7e0(0x2fa));return _0x4aa1b3;}catch(_0x35019d){return this[_0x20e7e0(0x5d3)][_0x20e7e0(0x90c)](this[_0x20e7e0(0x59f)]+'\x20('+this[_0x20e7e0(0x229)][_0x20e7e0(0x6d8)]+_0x20e7e0(0x2f2)+(_0x35019d instanceof Error?_0x35019d[_0x20e7e0(0x4b4)]:JSON[_0x20e7e0(0x3f5)](_0x35019d,null,0x2))),null;}}async[a0_0x33f632(0x803)](_0x1e69a0,_0x47016c){const _0x437916=a0_0x33f632;try{let _0x1394e4=!!_0x47016c['vote'],_0x326e35=_0x47016c['quoted'],_0x3137df=null;if(this['logger'][_0x437916(0x843)](this['instanceName']+'\x20('+this[_0x437916(0x229)]['wuid']+_0x437916(0x1fa)+_0x1394e4+_0x437916(0x7ae)+_0x326e35),_0x1394e4){this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this['instance'][_0x437916(0x6d8)]+_0x437916(0x3b5));let _0x14cb2e={'where':{'remoteJid':_0x1e69a0,'waitingMenu_id':_0x326e35}};if(_0x3137df=await this['repository']['flowConversation'][_0x437916(0x91c)](_0x14cb2e,this[_0x437916(0x229)][_0x437916(0x6d8)]),!_0x3137df)return this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)]['wuid']+_0x437916(0x19e)),null;let _0x2b1d72=Date[_0x437916(0x26a)](),_0x24c146=_0x3137df?.[_0x437916(0x2b9)]||0x0,_0x2e2f8a=_0x2b1d72-_0x24c146*0x3c*0x3e8;if(_0x3137df[_0x437916(0x76b)]<_0x2e2f8a){this[_0x437916(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0x437916(0x229)][_0x437916(0x6d8)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x2d0f7a={'number':_0x3137df[_0x437916(0x330)],'options':{'delay':0x0},'textMessage':{'text':_0x3137df[_0x437916(0x21a)]}};await this[_0x437916(0x846)](_0x2d0f7a);let _0x3ddc3e={'status':_0x437916(0x1d8),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x437916(0x55e)][_0x437916(0x215)](_0x3137df[_0x437916(0x7c9)],_0x3ddc3e,this[_0x437916(0x229)][_0x437916(0x6d8)]),null;}return _0x3137df[_0x437916(0x76b)]=Date[_0x437916(0x26a)](),_0x3137df[_0x437916(0x63a)][_0x437916(0x545)]=_0x47016c,_0x3137df;}else{this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this['instance'][_0x437916(0x6d8)]+'):\x20'+this[_0x437916(0x229)][_0x437916(0x6d8)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)][_0x437916(0x6d8)]+_0x437916(0x72e));let _0x5c842e={'where':{'remoteJid':_0x1e69a0,'status':'open'}};if(_0x3137df=await this['repository'][_0x437916(0x55e)][_0x437916(0x91c)](_0x5c842e,this[_0x437916(0x229)][_0x437916(0x6d8)]),!_0x3137df){let _0x3f293e=await this[_0x437916(0x767)](_0x1e69a0);if(_0x3f293e&&(_0x3137df=await this[_0x437916(0x693)](_0x3f293e,_0x47016c[_0x437916(0x6de)],_0x47016c)),!_0x3137df)return null;}let _0x14a3fd=Date[_0x437916(0x26a)](),_0x335b27=_0x3137df?.[_0x437916(0x2b9)]||0x0,_0x2a6c75=_0x14a3fd-_0x335b27*0x3c*0x3e8;if(this['logger'][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)][_0x437916(0x6d8)]+_0x437916(0x884)+_0x14a3fd+_0x437916(0x234)+_0x335b27+',\x20Expiration\x20Time:\x20'+_0x2a6c75),this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)][_0x437916(0x6d8)]+_0x437916(0x300)),this[_0x437916(0x5d3)]['verbose'](this[_0x437916(0x59f)]+'\x20('+this['instance'][_0x437916(0x6d8)]+_0x437916(0x403)+_0x3137df[_0x437916(0x76b)]),this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this['instance']['wuid']+_0x437916(0x3cb)+_0x2a6c75),_0x3137df['lastInteraction']<_0x2a6c75){this[_0x437916(0x5d3)][_0x437916(0x843)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)][_0x437916(0x6d8)]+'):\x20Conversa\x20está\x20expirada');let _0x5410b6=await this[_0x437916(0x767)](_0x1e69a0);if(_0x5410b6===null)return null;_0x3137df&&await this['repository'][_0x437916(0x55e)][_0x437916(0x215)](_0x3137df[_0x437916(0x7c9)],{'status':_0x437916(0x1d8)},this[_0x437916(0x229)][_0x437916(0x6d8)]),_0x3137df=await this['createNewConversation'](_0x5410b6,_0x47016c[_0x437916(0x6de)],_0x47016c);}return _0x3137df[_0x437916(0x76b)]=_0x14a3fd,_0x3137df[_0x437916(0x63a)][_0x437916(0x545)]=_0x47016c,_0x3137df;}}catch(_0x1a3df3){return this['logger'][_0x437916(0x90c)](this[_0x437916(0x59f)]+'\x20('+this[_0x437916(0x229)]['wuid']+_0x437916(0x461)+(_0x1a3df3 instanceof Error?_0x1a3df3[_0x437916(0x4b4)]:JSON[_0x437916(0x3f5)](_0x1a3df3,null,0x2))),null;}}async[a0_0x33f632(0x693)](_0x8bcf2b,_0x407d23,_0x1fc4bc){const _0xce5533=a0_0x33f632;this['logger'][_0xce5533(0x843)](this[_0xce5533(0x59f)]+'\x20('+this['instance']['wuid']+_0xce5533(0x58e));try{let _0x54eda0=require(_0xce5533(0x385))[_0xce5533(0x378)],_0x3dc23b=Date['now'](),_0x379e0e=_0xce5533(0x796),_0x376269=_0x407d23[_0xce5533(0x7e8)]?null:_0x1fc4bc,_0x5652ec=_0x407d23[_0xce5533(0x7e8)]?_0x1fc4bc:null,_0x2675a2=_0x407d23[_0xce5533(0x330)],_0x338c31=this[_0xce5533(0x853)][_0xce5533(0x1dc)][_0xce5533(0x7fa)](_0x2a709d=>_0x2a709d['_id']===_0x8bcf2b['_id']?.[_0xce5533(0x765)]()),_0x418290=_0x338c31?.[_0xce5533(0x2b9)]??_0x8bcf2b[_0xce5533(0x2b9)]??0x0,_0x30acfa=_0x338c31?.[_0xce5533(0x466)]??_0x8bcf2b['readMessages']??!0x1;await this[_0xce5533(0x3bb)](_0x2675a2);let _0x5215bf={'flowId':_0x8bcf2b[_0xce5533(0x7c9)],..._0x8bcf2b,'chatLog':null},_0x3a99e1=await this[_0xce5533(0x1c1)](_0x5215bf[_0xce5533(0x654)]),_0x3bacb7=await this[_0xce5533(0x3aa)](_0x2675a2),_0x325f44={..._0x3a99e1,..._0x3bacb7,'_remoteJid':_0x2675a2},_0xce36d9={'lastReceivedMessage':_0x376269,'lastSendMessage':_0x5652ec,'lastBlockId':_0x379e0e,'lastCondition':!0x0,'realVariables':_0x325f44};_0x5215bf[_0xce5533(0x63a)]=_0xce36d9,delete _0x5215bf['_id'],_0x5215bf['_id']=new _0x54eda0(),_0x5215bf[_0xce5533(0x76b)]=_0x3dc23b,_0x5215bf[_0xce5533(0x3ee)]=_0xce5533(0x29e),_0x5215bf[_0xce5533(0x330)]=_0x2675a2,_0x5215bf[_0xce5533(0x2b9)]=_0x418290,_0x5215bf[_0xce5533(0x466)]=_0x30acfa;let _0x5df881=await this[_0xce5533(0x48b)][_0xce5533(0x55e)][_0xce5533(0x215)](_0x5215bf[_0xce5533(0x7c9)],_0x5215bf,this[_0xce5533(0x229)][_0xce5533(0x6d8)]);return this[_0xce5533(0x5d3)]['verbose'](this[_0xce5533(0x59f)]+'\x20('+this['instance'][_0xce5533(0x6d8)]+_0xce5533(0x424)),_0x5df881?_0x5215bf:null;}catch(_0x2bc0f2){return this['logger'][_0xce5533(0x90c)](this[_0xce5533(0x59f)]+'\x20('+this[_0xce5533(0x229)][_0xce5533(0x6d8)]+_0xce5533(0x6b0)+(_0x2bc0f2 instanceof Error?_0x2bc0f2['message']:JSON[_0xce5533(0x3f5)](_0x2bc0f2,null,0x2))),_0x2bc0f2;}}async[a0_0x33f632(0x54a)](_0x3b4b90,_0x533275){const _0x3dca20=a0_0x33f632;let _0x2ece01=_0x3b4b90[_0x3dca20(0x330)];_0x533275['uazapi'][_0x3dca20(0x330)]&&_0x533275[_0x3dca20(0x923)][_0x3dca20(0x330)][_0x3dca20(0x3f4)]()!==''&&(_0x2ece01=_0x533275[_0x3dca20(0x923)][_0x3dca20(0x330)][_0x3dca20(0x3f4)]()),this[_0x3dca20(0x5d3)][_0x3dca20(0x843)](this[_0x3dca20(0x59f)]+'\x20('+this['instance'][_0x3dca20(0x6d8)]+_0x3dca20(0x3b8));let _0x435c32={'number':_0x2ece01,'options':{'delay':_0x533275[_0x3dca20(0x923)]['delay'],'linkPreview':_0x533275['uazapi'][_0x3dca20(0x438)]},'textMessage':{'text':_0x533275['uazapi'][_0x3dca20(0x8bc)]}};try{let _0x3334a0=await this['textMessage'](_0x435c32);if(_0x3334a0){let _0x131dc6={'_id':_0x3334a0['key']['id'],'_fromMe':_0x3334a0[_0x3dca20(0x6de)][_0x3dca20(0x7e8)],'_remoteJid':_0x3334a0[_0x3dca20(0x6de)]['remoteJid']},_0x21e4df=(0x0,w[_0x3dca20(0x8ae)])(_0x3334a0['message']),_0x14f801=(0x0,w[_0x3dca20(0x23d)])(_0x21e4df);_0x3b4b90[_0x3dca20(0x63a)][_0x3dca20(0x415)]=_0x533275[_0x3dca20(0x7c9)][_0x3dca20(0x765)]();let {message_normalized:_0x55f8f1}=this[_0x3dca20(0x1bb)](_0x21e4df,_0x14f801,null);_0x3b4b90[_0x3dca20(0x63a)][_0x3dca20(0x437)]=await _0x55f8f1;let _0x3a257b={'messageId':_0x3334a0[_0x3dca20(0x6de)]['id']},_0x2aa9bc=_0x3b4b90[_0x3dca20(0x63a)]['realVariables'];Object['assign'](_0x2aa9bc,_0x131dc6),_0x3b4b90['chatLog'][_0x3dca20(0x7dc)]=_0x2aa9bc,this[_0x3dca20(0x789)](_0x3b4b90,_0x533275,_0x3a257b);}else{let _0x2d2b90={'error':!0x0};this[_0x3dca20(0x789)](_0x3b4b90,_0x533275,_0x2d2b90),this[_0x3dca20(0x5d3)][_0x3dca20(0x90c)](this['instanceName']+'\x20('+this[_0x3dca20(0x229)]['wuid']+_0x3dca20(0x85e));}}catch(_0x515e8b){let _0x4bfcf4={'error':!0x0,'errorLog':_0x515e8b['toString']()};this[_0x3dca20(0x789)](_0x3b4b90,_0x533275,_0x4bfcf4),this[_0x3dca20(0x5d3)][_0x3dca20(0x90c)](this[_0x3dca20(0x59f)]+'\x20('+this[_0x3dca20(0x229)][_0x3dca20(0x6d8)]+_0x3dca20(0x7cd)+(_0x515e8b instanceof Error?_0x515e8b[_0x3dca20(0x4b4)]:JSON['stringify'](_0x515e8b,null,0x2)));}}async[a0_0x33f632(0x674)](_0x414538,_0x2c9102){const _0xd091ba=a0_0x33f632;let _0x1c4183=_0x414538[_0xd091ba(0x330)];_0x2c9102[_0xd091ba(0x923)]['remoteJid']&&_0x2c9102[_0xd091ba(0x923)][_0xd091ba(0x330)][_0xd091ba(0x3f4)]()!==''&&(_0x1c4183=_0x2c9102[_0xd091ba(0x923)][_0xd091ba(0x330)][_0xd091ba(0x3f4)]()),this[_0xd091ba(0x5d3)]['verbose'](this[_0xd091ba(0x59f)]+'\x20('+this[_0xd091ba(0x229)][_0xd091ba(0x6d8)]+_0xd091ba(0x42c));let _0x2501aa={'number':_0x1c4183,'options':{'delay':_0x2c9102[_0xd091ba(0x923)][_0xd091ba(0x31d)],'linkPreview':_0x2c9102[_0xd091ba(0x923)]['linkPreview']},'mediaMessage':{'mediatype':_0x2c9102[_0xd091ba(0x923)]['mediatype'],'caption':_0x2c9102[_0xd091ba(0x923)][_0xd091ba(0x747)],'media':_0x2c9102['uazapi'][_0xd091ba(0x5fd)],'fileName':_0x2c9102[_0xd091ba(0x923)][_0xd091ba(0x45d)]}};try{let _0x5b0f4d=await this[_0xd091ba(0x28b)](_0x2501aa);if(_0x5b0f4d){let _0x5b6182={'_id':_0x5b0f4d[_0xd091ba(0x6de)]['id'],'_fromMe':_0x5b0f4d[_0xd091ba(0x6de)][_0xd091ba(0x7e8)],'_remoteJid':_0x5b0f4d[_0xd091ba(0x6de)][_0xd091ba(0x330)]},_0x1326b9=(0x0,w[_0xd091ba(0x8ae)])(_0x5b0f4d[_0xd091ba(0x4b4)]),_0x3d3817=(0x0,w[_0xd091ba(0x23d)])(_0x1326b9);_0x414538[_0xd091ba(0x63a)][_0xd091ba(0x415)]=_0x2c9102[_0xd091ba(0x7c9)][_0xd091ba(0x765)]();let {message_normalized:_0x5383e7}=this['normalizeMessage'](_0x1326b9,_0x3d3817,null);_0x414538['chatLog'][_0xd091ba(0x437)]=await _0x5383e7;let _0x1f5cb3={'messageId':_0x5b0f4d[_0xd091ba(0x6de)]['id']},_0x3d85e2=_0x414538[_0xd091ba(0x63a)][_0xd091ba(0x7dc)];Object[_0xd091ba(0x68a)](_0x3d85e2,_0x5b6182),_0x414538[_0xd091ba(0x63a)]['realVariables']=_0x3d85e2,this[_0xd091ba(0x789)](_0x414538,_0x2c9102,_0x1f5cb3);}else{let _0x16486e={'error':!0x0};this[_0xd091ba(0x789)](_0x414538,_0x2c9102,_0x16486e),this[_0xd091ba(0x5d3)][_0xd091ba(0x90c)](this['instanceName']+'\x20('+this[_0xd091ba(0x229)]['wuid']+_0xd091ba(0x599));}}catch(_0x2dd3aa){let _0x5b5457={'error':!0x0,'errorLog':_0x2dd3aa[_0xd091ba(0x765)]()};this[_0xd091ba(0x789)](_0x414538,_0x2c9102,_0x5b5457),this['logger'][_0xd091ba(0x90c)](this[_0xd091ba(0x59f)]+'\x20('+this[_0xd091ba(0x229)][_0xd091ba(0x6d8)]+_0xd091ba(0x7e2)+(_0x2dd3aa instanceof Error?_0x2dd3aa[_0xd091ba(0x4b4)]:JSON['stringify'](_0x2dd3aa,null,0x2)));}}async[a0_0x33f632(0x3c2)](_0x2035a7,_0x3e0f0e){const _0x3ee7dd=a0_0x33f632;let _0x158e41=_0x2035a7[_0x3ee7dd(0x330)];_0x3e0f0e[_0x3ee7dd(0x923)][_0x3ee7dd(0x330)]&&_0x3e0f0e['uazapi'][_0x3ee7dd(0x330)][_0x3ee7dd(0x3f4)]()!==''&&(_0x158e41=_0x3e0f0e[_0x3ee7dd(0x923)][_0x3ee7dd(0x330)][_0x3ee7dd(0x3f4)]()),this[_0x3ee7dd(0x5d3)][_0x3ee7dd(0x843)](this['instanceName']+'\x20('+this[_0x3ee7dd(0x229)]['wuid']+_0x3ee7dd(0x488));let _0x20c090={'number':_0x158e41,'options':{'delay':_0x3e0f0e['uazapi']['delay']},'locationMessage':{'name':_0x3e0f0e[_0x3ee7dd(0x923)]['name'],'address':_0x3e0f0e[_0x3ee7dd(0x923)]['address'],'latitude':_0x3e0f0e[_0x3ee7dd(0x923)][_0x3ee7dd(0x54b)],'longitude':_0x3e0f0e['uazapi'][_0x3ee7dd(0x83a)]}};try{let _0x542650=await this['locationMessage'](_0x20c090);if(_0x542650){let _0x553ed1={'_id':_0x542650[_0x3ee7dd(0x6de)]['id'],'_fromMe':_0x542650[_0x3ee7dd(0x6de)]['fromMe'],'_remoteJid':_0x542650[_0x3ee7dd(0x6de)][_0x3ee7dd(0x330)]},_0x43dcfa=(0x0,w[_0x3ee7dd(0x8ae)])(_0x542650['message']),_0x2326fe=(0x0,w[_0x3ee7dd(0x23d)])(_0x43dcfa);_0x2035a7[_0x3ee7dd(0x63a)][_0x3ee7dd(0x415)]=_0x3e0f0e[_0x3ee7dd(0x7c9)]['toString']();let {message_normalized:_0x4a5c76}=this['normalizeMessage'](_0x43dcfa,_0x2326fe,null);_0x2035a7[_0x3ee7dd(0x63a)][_0x3ee7dd(0x437)]=await _0x4a5c76;let _0x435c55={'messageId':_0x542650[_0x3ee7dd(0x6de)]['id']},_0x5e3bdf=_0x2035a7[_0x3ee7dd(0x63a)][_0x3ee7dd(0x7dc)];Object[_0x3ee7dd(0x68a)](_0x5e3bdf,_0x553ed1),_0x2035a7[_0x3ee7dd(0x63a)][_0x3ee7dd(0x7dc)]=_0x5e3bdf,this[_0x3ee7dd(0x789)](_0x2035a7,_0x3e0f0e,_0x435c55);}else{let _0x23c1bc={'error':!0x0};this[_0x3ee7dd(0x789)](_0x2035a7,_0x3e0f0e,_0x23c1bc),this[_0x3ee7dd(0x5d3)][_0x3ee7dd(0x90c)](this[_0x3ee7dd(0x59f)]+'\x20('+this[_0x3ee7dd(0x229)]['wuid']+_0x3ee7dd(0x4d6));}}catch(_0x47b246){let _0x37523d={'error':!0x0,'errorLog':_0x47b246[_0x3ee7dd(0x765)]()};this[_0x3ee7dd(0x789)](_0x2035a7,_0x3e0f0e,_0x37523d),this[_0x3ee7dd(0x5d3)]['error'](this[_0x3ee7dd(0x59f)]+'\x20('+this['instance'][_0x3ee7dd(0x6d8)]+_0x3ee7dd(0x265)+(_0x47b246 instanceof Error?_0x47b246[_0x3ee7dd(0x4b4)]:JSON['stringify'](_0x47b246,null,0x2)));}}async['uazapiSendAudio'](_0x159617,_0x3f751b){const _0x3b06c3=a0_0x33f632;let _0x354ecf=_0x159617['remoteJid'];_0x3f751b[_0x3b06c3(0x923)][_0x3b06c3(0x330)]&&_0x3f751b[_0x3b06c3(0x923)]['remoteJid']['trim']()!==''&&(_0x354ecf=_0x3f751b[_0x3b06c3(0x923)][_0x3b06c3(0x330)][_0x3b06c3(0x3f4)]()),this[_0x3b06c3(0x5d3)][_0x3b06c3(0x843)](this['instanceName']+'\x20('+this['instance'][_0x3b06c3(0x6d8)]+'):\x20Enviando\x20áudio');let _0x4b6726={'number':_0x354ecf,'options':{'delay':_0x3f751b[_0x3b06c3(0x923)]['delay']},'audioMessage':{'audio':_0x3f751b[_0x3b06c3(0x923)][_0x3b06c3(0x5cd)]}};try{let _0x5a3604=await this['audioWhatsapp'](_0x4b6726);if(_0x5a3604){let _0x5c9497={'_id':_0x5a3604['key']['id'],'_fromMe':_0x5a3604[_0x3b06c3(0x6de)][_0x3b06c3(0x7e8)],'_remoteJid':_0x5a3604[_0x3b06c3(0x6de)][_0x3b06c3(0x330)]},_0x3272e4=(0x0,w[_0x3b06c3(0x8ae)])(_0x5a3604[_0x3b06c3(0x4b4)]),_0x36922b=(0x0,w[_0x3b06c3(0x23d)])(_0x3272e4);_0x159617[_0x3b06c3(0x63a)][_0x3b06c3(0x415)]=_0x3f751b[_0x3b06c3(0x7c9)][_0x3b06c3(0x765)]();let {message_normalized:_0x16f4f4}=this[_0x3b06c3(0x1bb)](_0x3272e4,_0x36922b,null);_0x159617[_0x3b06c3(0x63a)][_0x3b06c3(0x437)]=await _0x16f4f4;let _0x4a2cce={'messageId':_0x5a3604[_0x3b06c3(0x6de)]['id']},_0x8c037f=_0x159617[_0x3b06c3(0x63a)]['realVariables'];Object[_0x3b06c3(0x68a)](_0x8c037f,_0x5c9497),_0x159617[_0x3b06c3(0x63a)][_0x3b06c3(0x7dc)]=_0x8c037f,this[_0x3b06c3(0x789)](_0x159617,_0x3f751b,_0x4a2cce);}else{let _0x3c5449={'error':!0x0};this[_0x3b06c3(0x789)](_0x159617,_0x3f751b,_0x3c5449),this[_0x3b06c3(0x5d3)][_0x3b06c3(0x90c)](this['instanceName']+'\x20('+this[_0x3b06c3(0x229)][_0x3b06c3(0x6d8)]+_0x3b06c3(0x2e6));}}catch(_0x109473){let _0x21f37d={'error':!0x0,'errorLog':_0x109473[_0x3b06c3(0x765)]()};this[_0x3b06c3(0x789)](_0x159617,_0x3f751b,_0x21f37d),this[_0x3b06c3(0x5d3)][_0x3b06c3(0x90c)](this[_0x3b06c3(0x59f)]+'\x20('+this[_0x3b06c3(0x229)]['wuid']+_0x3b06c3(0x6dd)+(_0x109473 instanceof Error?_0x109473['message']:JSON[_0x3b06c3(0x3f5)](_0x109473,null,0x2)));}}async[a0_0x33f632(0x373)](_0x54ef0e,_0x40c9a5){const _0x3cbb1c=a0_0x33f632;let _0x9b71b3=_0x54ef0e[_0x3cbb1c(0x330)];_0x40c9a5[_0x3cbb1c(0x923)][_0x3cbb1c(0x330)]&&_0x40c9a5['uazapi']['remoteJid'][_0x3cbb1c(0x3f4)]()!==''&&(_0x9b71b3=_0x40c9a5['uazapi'][_0x3cbb1c(0x330)][_0x3cbb1c(0x3f4)]()),this[_0x3cbb1c(0x5d3)][_0x3cbb1c(0x843)](this[_0x3cbb1c(0x59f)]+'\x20('+this[_0x3cbb1c(0x229)]['wuid']+_0x3cbb1c(0x51e));let _0x30e595={'number':_0x9b71b3,'options':{'delay':_0x40c9a5[_0x3cbb1c(0x923)][_0x3cbb1c(0x31d)]},'contactMessage':[{'fullName':_0x40c9a5[_0x3cbb1c(0x923)][_0x3cbb1c(0x913)],'phoneNumber':_0x40c9a5['uazapi'][_0x3cbb1c(0x30e)]}]};try{let _0x35e758=await this['contactMessage'](_0x30e595);if(_0x35e758){let _0x24a454={'_id':_0x35e758[_0x3cbb1c(0x6de)]['id'],'_fromMe':_0x35e758[_0x3cbb1c(0x6de)][_0x3cbb1c(0x7e8)],'_remoteJid':_0x35e758[_0x3cbb1c(0x6de)]['remoteJid']},_0x38f316=(0x0,w[_0x3cbb1c(0x8ae)])(_0x35e758[_0x3cbb1c(0x4b4)]),_0x574711=(0x0,w[_0x3cbb1c(0x23d)])(_0x38f316);_0x54ef0e[_0x3cbb1c(0x63a)][_0x3cbb1c(0x415)]=_0x40c9a5[_0x3cbb1c(0x7c9)][_0x3cbb1c(0x765)]();let {message_normalized:_0x380c49}=this['normalizeMessage'](_0x38f316,_0x574711,null);_0x54ef0e['chatLog'][_0x3cbb1c(0x437)]=await _0x380c49;let _0x3be9fe={'messageId':_0x35e758[_0x3cbb1c(0x6de)]['id']},_0x425051=_0x54ef0e[_0x3cbb1c(0x63a)][_0x3cbb1c(0x7dc)];Object[_0x3cbb1c(0x68a)](_0x425051,_0x24a454),_0x54ef0e[_0x3cbb1c(0x63a)][_0x3cbb1c(0x7dc)]=_0x425051,this[_0x3cbb1c(0x789)](_0x54ef0e,_0x40c9a5,_0x3be9fe);}else{let _0x69d66b={'error':!0x0};this[_0x3cbb1c(0x789)](_0x54ef0e,_0x40c9a5,_0x69d66b),this[_0x3cbb1c(0x5d3)][_0x3cbb1c(0x90c)](this[_0x3cbb1c(0x59f)]+'\x20('+this[_0x3cbb1c(0x229)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x2a3ab1){let _0x4acf7f={'error':!0x0,'errorLog':_0x2a3ab1['toString']()};this['updateConversation'](_0x54ef0e,_0x40c9a5,_0x4acf7f),this['logger'][_0x3cbb1c(0x90c)](this[_0x3cbb1c(0x59f)]+'\x20('+this[_0x3cbb1c(0x229)][_0x3cbb1c(0x6d8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x2a3ab1 instanceof Error?_0x2a3ab1[_0x3cbb1c(0x4b4)]:JSON[_0x3cbb1c(0x3f5)](_0x2a3ab1,null,0x2)));}}['replaceVariablesInReplyOptions'](_0xe52466,_0x406679){const _0x5a052f=a0_0x33f632;for(let _0x533056 of _0xe52466)_0x533056[_0x5a052f(0x4ba)]&&(_0x533056[_0x5a052f(0x4ba)]=this[_0x5a052f(0x611)](_0x533056[_0x5a052f(0x4ba)],_0x406679)),_0x533056['optionDescription']&&(_0x533056[_0x5a052f(0x714)]=this[_0x5a052f(0x611)](_0x533056['optionDescription'],_0x406679));}async['uazapiSendMenu'](_0x837f20,_0x196846){const _0x23e700=a0_0x33f632;let _0x14c4ef=_0x837f20[_0x23e700(0x330)];_0x196846['uazapi'][_0x23e700(0x330)]&&_0x196846[_0x23e700(0x923)][_0x23e700(0x330)][_0x23e700(0x3f4)]()!==''&&(_0x14c4ef=_0x196846[_0x23e700(0x923)]['remoteJid']['trim']()),this[_0x23e700(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0x23e700(0x229)][_0x23e700(0x6d8)]+_0x23e700(0x39c));let _0x1e623b=_0x837f20['replyOptions'][_0x23e700(0x550)](_0x22d1f1=>_0x22d1f1[_0x23e700(0x894)]===_0x196846['_id'])[_0x23e700(0x835)]((_0x366031,_0x525c57)=>_0x366031['order']-_0x525c57[_0x23e700(0x841)]);this[_0x23e700(0x33f)](_0x1e623b,_0x837f20[_0x23e700(0x63a)][_0x23e700(0x7dc)]);let _0x432b86=_0x1e623b['map'](_0x4a6b82=>_0x4a6b82[_0x23e700(0x4ba)]),_0xb78e5a={'number':_0x14c4ef,'menuMessage':{'type':_0x196846[_0x23e700(0x923)]['menuType']||'poll','text':_0x196846[_0x23e700(0x923)][_0x23e700(0x8bc)]||_0x196846[_0x23e700(0x923)][_0x23e700(0x254)],'footerText':_0x196846['uazapi'][_0x23e700(0x533)],'buttonText':_0x196846[_0x23e700(0x923)][_0x23e700(0x511)],'selectableCount':0x1,'choices':_0x432b86},'options':{'delay':_0x196846[_0x23e700(0x923)]['delay']}};try{let _0x119e39=await this['menuMessage'](_0xb78e5a);if(_0x119e39){let _0x3dd53c={'_id':_0x119e39['key']['id'],'_fromMe':_0x119e39['key']['fromMe'],'_remoteJid':_0x119e39[_0x23e700(0x6de)][_0x23e700(0x330)]};_0x196846[_0x23e700(0x923)][_0x23e700(0x8f4)]===!0x0&&(_0x837f20[_0x23e700(0x3ee)]=_0x23e700(0x80a),this[_0x23e700(0x5d3)][_0x23e700(0x843)](this[_0x23e700(0x59f)]+'\x20('+this[_0x23e700(0x229)]['wuid']+_0x23e700(0x4d8)+_0x837f20['status'])),this[_0x23e700(0x5d3)]['verbose'](this[_0x23e700(0x59f)]+'\x20('+this[_0x23e700(0x229)][_0x23e700(0x6d8)]+_0x23e700(0x7b3)+(_0x196846[_0x23e700(0x923)]['name']||_0x196846[_0x23e700(0x923)][_0x23e700(0x8bc)])),_0x837f20[_0x23e700(0x2a8)]=_0x119e39['key']['id'],_0x837f20['waitingMenu_text']=_0x196846[_0x23e700(0x923)][_0x23e700(0x254)]||_0x196846['uazapi'][_0x23e700(0x8bc)],_0x837f20[_0x23e700(0x867)]=_0x1e623b,_0x196846[_0x23e700(0x923)][_0x23e700(0x726)]&&(_0x837f20[_0x23e700(0x21a)]=_0x196846['uazapi']['menuExpiredMessage']),this['logger'][_0x23e700(0x843)](this[_0x23e700(0x59f)]+'\x20('+this[_0x23e700(0x229)]['wuid']+_0x23e700(0x37c)+_0x837f20['waitingMenu_text']);let _0x3680fd=(0x0,w[_0x23e700(0x8ae)])(_0x119e39[_0x23e700(0x4b4)]),_0x1cae2d=(0x0,w['getContentType'])(_0x3680fd);_0x837f20[_0x23e700(0x63a)][_0x23e700(0x415)]=_0x196846[_0x23e700(0x7c9)][_0x23e700(0x765)]();let {message_normalized:_0x4b615d}=this[_0x23e700(0x1bb)](_0x3680fd,_0x1cae2d,null);_0x837f20[_0x23e700(0x63a)]['lastSendMessage']=await _0x4b615d;let _0x69149c={'messageId':_0x119e39['key']['id']},_0x479319=_0x837f20[_0x23e700(0x63a)][_0x23e700(0x7dc)];Object[_0x23e700(0x68a)](_0x479319,_0x3dd53c),_0x837f20[_0x23e700(0x63a)]['realVariables']=_0x479319,this[_0x23e700(0x789)](_0x837f20,_0x196846,_0x69149c);}else{let _0x4ad79c={'error':!0x0};this[_0x23e700(0x789)](_0x837f20,_0x196846,_0x4ad79c),this[_0x23e700(0x5d3)][_0x23e700(0x90c)](this[_0x23e700(0x59f)]+'\x20('+this[_0x23e700(0x229)][_0x23e700(0x6d8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x7b3e9b){let _0x5af71e={'error':!0x0,'errorLog':_0x7b3e9b instanceof Error?_0x7b3e9b[_0x23e700(0x4b4)]:JSON[_0x23e700(0x3f5)](_0x7b3e9b,null,0x2)};this[_0x23e700(0x789)](_0x837f20,_0x196846,_0x5af71e),this['logger']['error'](this['instanceName']+'\x20('+this[_0x23e700(0x229)][_0x23e700(0x6d8)]+_0x23e700(0x1c4)+(_0x7b3e9b instanceof Error?_0x7b3e9b['message']:JSON[_0x23e700(0x3f5)](_0x7b3e9b,null,0x2)));}}async[a0_0x33f632(0x361)](_0x3c4241,_0x2afc63){const _0x425472=a0_0x33f632;this[_0x425472(0x5d3)][_0x425472(0x843)](this[_0x425472(0x59f)]+'\x20('+this[_0x425472(0x229)]['wuid']+_0x425472(0x2c1));let _0x156216=_0x3c4241[_0x425472(0x63a)][_0x425472(0x1fb)][_0x425472(0x7fa)](_0x112666=>_0x112666[_0x425472(0x894)]['toString']()===_0x2afc63[_0x425472(0x923)][_0x425472(0x894)][_0x425472(0x765)]()),_0x56165f={'id':_0x156216['messageId'],'remoteJid':_0x156216[_0x425472(0x330)],'fromMe':_0x156216[_0x425472(0x7e8)]};try{let _0x28f795=await this[_0x425472(0x660)](_0x56165f);if(_0x28f795){let _0x1fb1ce=(0x0,w['normalizeMessageContent'])(_0x28f795['message']),_0x3ad34e=(0x0,w['getContentType'])(_0x1fb1ce);_0x3c4241[_0x425472(0x63a)][_0x425472(0x415)]=_0x2afc63[_0x425472(0x7c9)]['toString']();let {message_normalized:_0x500945}=this[_0x425472(0x1bb)](_0x1fb1ce,_0x3ad34e,null);_0x3c4241[_0x425472(0x63a)][_0x425472(0x437)]=await _0x500945;let _0x205dcc={};this[_0x425472(0x789)](_0x3c4241,_0x2afc63,_0x205dcc);}else{let _0x5dc9bc={'error':!0x0};this[_0x425472(0x789)](_0x3c4241,_0x2afc63,_0x5dc9bc),this['logger'][_0x425472(0x90c)](this[_0x425472(0x59f)]+'\x20('+this['instance']['wuid']+_0x425472(0x301));}}catch(_0x38ec5e){let _0x1745fc={'error':!0x0,'errorLog':_0x38ec5e instanceof Error?_0x38ec5e[_0x425472(0x4b4)]:JSON[_0x425472(0x3f5)](_0x38ec5e,null,0x2)};this['updateConversation'](_0x3c4241,_0x2afc63,_0x1745fc),this[_0x425472(0x5d3)][_0x425472(0x90c)](this['instanceName']+'\x20('+this[_0x425472(0x229)]['wuid']+_0x425472(0x208)+(_0x38ec5e instanceof Error?_0x38ec5e[_0x425472(0x4b4)]:JSON[_0x425472(0x3f5)](_0x38ec5e,null,0x2)));}}async[a0_0x33f632(0x233)](_0x45a938,_0x2f834d){const _0x215641=a0_0x33f632;if(_0x45a938[_0x215641(0x254)]||(_0x45a938[_0x215641(0x254)]=(0x0,Q['v4'])()),_0x2f834d!==Ri&&_0x45a938?.[_0x215641(0x5fe)])throw new m(_0x215641(0x71c));if(_0x215641(0x7c9)in _0x45a938&&'owner'in _0x45a938)return this[_0x215641(0x84d)](_0x45a938['owner'],_0x45a938['_id']);this['logger'][_0x215641(0x843)](this[_0x215641(0x59f)]+'\x20('+this[_0x215641(0x229)][_0x215641(0x6d8)]+_0x215641(0x547));let _0x2192f2=this[_0x215641(0x47a)](_0x45a938['name']),_0x516c0c=new pe[(_0x215641(0x1db))][(_0x215641(0x378))](),_0x278f95={'_id':_0x516c0c,'default':!0x0,'title':_0x215641(0x856),'x':0x0,'y':0x0},_0x1aa4a1={'_id':new pe['Types'][(_0x215641(0x378))](),'order':0x1,'groupId':_0x516c0c[_0x215641(0x765)](),'type':'start'},_0x5bca59=this[_0x215641(0x229)][_0x215641(0x6d8)],_0x5bb608={'_id':(0x0,Q['v4'])(),'owner':_0x5bca59,'name':_0x2192f2,'whoCanEdit':[_0x5bca59],'whoCanUse':[_0x5bca59],'groups':[_0x278f95],'blocks':[_0x1aa4a1],..._0x45a938};try{let _0xf009e0=await this[_0x215641(0x48b)][_0x215641(0x2ec)][_0x215641(0x83d)](_0x5bb608);return await this[_0x215641(0x407)](),_0xf009e0;}catch(_0x480d17){let _0xb7cc6=_0x215641(0x73d),_0x44a844=_0x480d17 instanceof Error?_0x480d17['message']:typeof _0x480d17==_0x215641(0x8d7)?JSON[_0x215641(0x3f5)](_0x480d17):_0x480d17,_0x47def9=_0xb7cc6+':\x20'+_0x44a844;throw this[_0x215641(0x5d3)][_0x215641(0x90c)](this[_0x215641(0x59f)]+'\x20('+this[_0x215641(0x229)][_0x215641(0x6d8)]+'):\x20'+_0x47def9),new m(_0x47def9);}}async[a0_0x33f632(0x84d)](_0x189400,_0x581307){const _0x2d96e4=a0_0x33f632;try{this['logger'][_0x2d96e4(0x843)](this[_0x2d96e4(0x59f)]+'\x20('+this[_0x2d96e4(0x229)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x4fc85d=await this['repository'][_0x2d96e4(0x2ec)][_0x2d96e4(0x91c)]({'where':{'_id':_0x581307,'owner':_0x189400}});if(!_0x4fc85d)throw new m(_0x2d96e4(0x32f));if(_0x4fc85d['shareFlow']===!0x1&&!_0x4fc85d['globalShow'])throw new m(_0x2d96e4(0x5b1));let _0x2e3223=new Set(_0x4fc85d['whoCanUse']??[]);_0x2e3223[_0x2d96e4(0x1af)](this[_0x2d96e4(0x229)][_0x2d96e4(0x6d8)]);let _0x343c72=await this[_0x2d96e4(0x48b)]['flow']['updateOne'](_0x581307,{..._0x4fc85d,'whoCanUse':Array[_0x2d96e4(0x40f)](_0x2e3223)});return await this[_0x2d96e4(0x407)](),_0x343c72;}catch(_0x54b715){let _0x26ca6c=_0x2d96e4(0x703),_0x4d3a49=_0x54b715 instanceof Error?_0x54b715[_0x2d96e4(0x4b4)]:typeof _0x54b715=='object'?JSON['stringify'](_0x54b715):_0x54b715,_0xb01b92=_0x26ca6c+':\x20'+_0x4d3a49;throw this[_0x2d96e4(0x5d3)][_0x2d96e4(0x90c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2d96e4(0x766)+_0xb01b92),new m(_0xb01b92);}}[a0_0x33f632(0x47a)](_0x33547a){const _0x108128=a0_0x33f632;let _0x5c2208=_0x33547a,_0x282fd7=0x1;for(;this[_0x108128(0x853)][_0x108128(0x1dc)]['some'](_0x350f0d=>_0x350f0d[_0x108128(0x254)]===_0x5c2208);)_0x282fd7++,_0x5c2208=_0x33547a+'\x20('+_0x282fd7+')';return _0x5c2208;}async['deleteFlow'](_0x20e450){const _0x3b89e8=a0_0x33f632;try{if(this[_0x3b89e8(0x5d3)][_0x3b89e8(0x843)](this[_0x3b89e8(0x59f)]+'\x20('+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+_0x3b89e8(0x1f5)+_0x20e450[_0x3b89e8(0x7c9)]+_0x3b89e8(0x1a5)+_0x20e450[_0x3b89e8(0x8b0)]),!this[_0x3b89e8(0x853)][_0x3b89e8(0x1dc)][_0x3b89e8(0x7fa)](_0x5c4457=>_0x5c4457['_id']===_0x20e450['_id']))throw this[_0x3b89e8(0x5d3)][_0x3b89e8(0x843)](this['instanceName']+'\x20('+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+_0x3b89e8(0x1de)+_0x20e450[_0x3b89e8(0x7c9)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5437af=await this['repository'][_0x3b89e8(0x2ec)][_0x3b89e8(0x91c)]({'where':{'_id':_0x20e450[_0x3b89e8(0x7c9)]}});if(!_0x5437af)throw new m(_0x3b89e8(0x551));if(this['instance'][_0x3b89e8(0x6d8)]===_0x5437af[_0x3b89e8(0x47d)]){this[_0x3b89e8(0x5d3)][_0x3b89e8(0x843)](this[_0x3b89e8(0x59f)]+'\x20('+this[_0x3b89e8(0x229)]['wuid']+_0x3b89e8(0x3c0)+_0x20e450['_id']+_0x3b89e8(0x40e));let _0x57e8d7=await this['repository']['flow'][_0x3b89e8(0x22e)]({'where':{'_id':_0x20e450['_id']}});return await this['synchronizeAndMapFlows'](),_0x57e8d7;}return this['logger']['verbose'](this[_0x3b89e8(0x59f)]+'\x20('+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+_0x3b89e8(0x61f)+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x20e450['_id']+_0x3b89e8(0x750)),_0x5437af['whoCanUse']=(_0x5437af[_0x3b89e8(0x648)]??[])[_0x3b89e8(0x550)](_0x22f619=>_0x22f619!==this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]),_0x5437af['whoCanEdit']=(_0x5437af[_0x3b89e8(0x2e8)]??[])['filter'](_0x3fa7bf=>_0x3fa7bf!==this[_0x3b89e8(0x229)]['wuid']),_0x5437af[_0x3b89e8(0x2e8)][_0x3b89e8(0x6ee)]===0x0&&_0x5437af[_0x3b89e8(0x648)]['length']>0x0&&(_0x5437af[_0x3b89e8(0x2e8)][_0x3b89e8(0x2cc)](_0x5437af[_0x3b89e8(0x648)][0x0]),this[_0x3b89e8(0x5d3)]['verbose'](this[_0x3b89e8(0x59f)]+'\x20('+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+'):\x20Adicionando\x20\x27'+_0x5437af[_0x3b89e8(0x648)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x20e450[_0x3b89e8(0x7c9)]+'\x27...')),await this['repository'][_0x3b89e8(0x2ec)][_0x3b89e8(0x215)](_0x5437af[_0x3b89e8(0x7c9)],_0x5437af),await this[_0x3b89e8(0x407)](),{'message':'Fluxo\x20\x27'+_0x20e450[_0x3b89e8(0x254)]+_0x3b89e8(0x4ee)};}catch(_0x3af621){return this[_0x3b89e8(0x5d3)][_0x3b89e8(0x90c)](this[_0x3b89e8(0x59f)]+'\x20('+this[_0x3b89e8(0x229)][_0x3b89e8(0x6d8)]+_0x3b89e8(0x1a8)+(_0x3af621 instanceof Error?_0x3af621[_0x3b89e8(0x4b4)]:JSON[_0x3b89e8(0x3f5)](_0x3af621,null,0x2))),{'message':_0x3b89e8(0x72f)+(_0x3af621 instanceof Error?_0x3af621[_0x3b89e8(0x4b4)]:JSON['stringify'](_0x3af621,null,0x2))};}}async[a0_0x33f632(0x837)](_0x5866ac){const _0x1b0a92=a0_0x33f632;try{if(this[_0x1b0a92(0x5d3)][_0x1b0a92(0x8ef)](this[_0x1b0a92(0x59f)]+'\x20('+this[_0x1b0a92(0x229)]['wuid']+_0x1b0a92(0x6fa)+_0x5866ac),!this[_0x1b0a92(0x853)]&&(await this[_0x1b0a92(0x6ac)](),!this[_0x1b0a92(0x853)]))return null;let _0x2a6a51=await this['repository'][_0x1b0a92(0x2ec)]['findOne']({'where':{'_id':_0x5866ac}});if(!_0x2a6a51)throw new m(_0x1b0a92(0x7a9)+_0x5866ac+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x2a6a51[_0x1b0a92(0x5fe)]||_0x2a6a51[_0x1b0a92(0x648)]?.[_0x1b0a92(0x51a)](this[_0x1b0a92(0x229)]['wuid'])))throw new m(_0x1b0a92(0x640)+name+'\x27');_0x2a6a51[_0x1b0a92(0x5fe)]&&!_0x2a6a51[_0x1b0a92(0x648)]?.[_0x1b0a92(0x51a)](this[_0x1b0a92(0x229)][_0x1b0a92(0x6d8)])&&(_0x2a6a51[_0x1b0a92(0x648)]=[..._0x2a6a51[_0x1b0a92(0x648)]??[],this[_0x1b0a92(0x229)][_0x1b0a92(0x6d8)]],await this[_0x1b0a92(0x48b)][_0x1b0a92(0x2ec)][_0x1b0a92(0x215)](_0x2a6a51[_0x1b0a92(0x7c9)],_0x2a6a51),this['synchronizeAndMapFlows']());let _0x25a8dc=this[_0x1b0a92(0x853)]?.[_0x1b0a92(0x859)][_0x1b0a92(0x3dc)](_0xcf6c8d=>_0xcf6c8d[_0x1b0a92(0x254)]),_0x59e471=[_0x1b0a92(0x340),_0x1b0a92(0x7f5),_0x1b0a92(0x798),'cpf',_0x1b0a92(0x3ee),_0x1b0a92(0x6da),_0x1b0a92(0x795),_0x1b0a92(0x3ab),_0x1b0a92(0x54e),'telefone',_0x1b0a92(0x30a)];_0x2a6a51[_0x1b0a92(0x654)]=_0x2a6a51['variables']['filter'](_0x305926=>!(_0x305926['folder']==='leadInfo'||_0x305926['leadInfo'])),_0x59e471[_0x1b0a92(0x1d3)](_0x514a9b=>{const _0x146010=_0x1b0a92;_0x2a6a51[_0x146010(0x654)]['push']({'folder':_0x146010(0x6a6),'name':_0x514a9b,'value':'','doc':'','leadInfo':!0x0});}),_0x25a8dc[_0x1b0a92(0x1d3)](_0x1ee7d3=>{const _0x28ab2c=_0x1b0a92;let _0x545a99=_0x2a6a51['variables'][_0x28ab2c(0x7fe)](_0x14fdff=>_0x14fdff[_0x28ab2c(0x254)]===_0x1ee7d3);_0x545a99===-0x1?_0x2a6a51['variables']['push']({'folder':_0x28ab2c(0x6a6),'name':_0x1ee7d3,'value':'','doc':'','leadInfo':!0x0}):(_0x2a6a51[_0x28ab2c(0x654)][_0x545a99][_0x28ab2c(0x31c)]=_0x28ab2c(0x6a6),_0x2a6a51[_0x28ab2c(0x654)][_0x545a99][_0x28ab2c(0x6a6)]=!0x0);}),_0x2a6a51[_0x1b0a92(0x830)]&&_0x2a6a51[_0x1b0a92(0x830)][_0x1b0a92(0x6ee)]>0x0&&_0x2a6a51['blocks'][_0x1b0a92(0x1d3)](_0x421955=>{const _0x3374a9=_0x1b0a92;_0x421955['groupId']&&_0x421955[_0x3374a9(0x1da)]&&_0x421955[_0x3374a9(0x497)]===_0x421955[_0x3374a9(0x1da)]&&(_0x421955[_0x3374a9(0x1da)]=null);});let _0x4cebca=await this[_0x1b0a92(0x48b)][_0x1b0a92(0x2ec)]['updateOne'](_0x2a6a51['_id'],_0x2a6a51);if(!_0x4cebca)throw new Error(_0x1b0a92(0x68c));return _0x4cebca;}catch(_0x4e3f54){let _0x1aec68=_0x1b0a92(0x6c6),_0x5d7a45=_0x4e3f54 instanceof Error?_0x4e3f54[_0x1b0a92(0x4b4)]:typeof _0x4e3f54=='object'?JSON[_0x1b0a92(0x3f5)](_0x4e3f54):_0x4e3f54,_0x4d8c9d=_0x1aec68+':\x20'+_0x5d7a45;throw this[_0x1b0a92(0x5d3)][_0x1b0a92(0x90c)](this['instanceName']+'\x20('+this[_0x1b0a92(0x229)][_0x1b0a92(0x6d8)]+_0x1b0a92(0x766)+_0x4d8c9d),new m(_0x4d8c9d);}}async[a0_0x33f632(0x67c)](){const _0x223356=a0_0x33f632;try{this['logger'][_0x223356(0x843)](this[_0x223356(0x59f)]+'\x20('+this[_0x223356(0x229)][_0x223356(0x6d8)]+_0x223356(0x614)),await this['synchronizeAndMapFlows']();let _0x323336=await this[_0x223356(0x48b)]['flow'][_0x223356(0x903)]({'where':{'globalShow':!0x0}});return[...this[_0x223356(0x853)][_0x223356(0x1dc)],..._0x323336];}catch(_0x48acd7){return this[_0x223356(0x5d3)][_0x223356(0x90c)](this[_0x223356(0x59f)]+'\x20('+this[_0x223356(0x229)][_0x223356(0x6d8)]+_0x223356(0x7e4)+(_0x48acd7 instanceof Error?_0x48acd7[_0x223356(0x4b4)]:JSON[_0x223356(0x3f5)](_0x48acd7,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x48acd7 instanceof Error?_0x48acd7[_0x223356(0x4b4)]:String(_0x48acd7))};}}async['editFlow'](_0x2451c3,_0x4ed7cd){const _0x54f244=a0_0x33f632;try{this[_0x54f244(0x5d3)][_0x54f244(0x843)](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)][_0x54f244(0x6d8)]+_0x54f244(0x357));let _0x22a9a4=this[_0x54f244(0x853)][_0x54f244(0x1dc)]['find'](_0x49e696=>_0x49e696[_0x54f244(0x7c9)]===_0x2451c3[_0x54f244(0x7c9)]);if(!_0x22a9a4)throw this[_0x54f244(0x5d3)][_0x54f244(0x843)](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)]['wuid']+'):\x20Fluxo\x20\x27'+_0x2451c3['_id']+_0x54f244(0x6b8)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x14d46e=await this['repository']['flow'][_0x54f244(0x91c)]({'where':{'_id':_0x2451c3[_0x54f244(0x7c9)]}});if(!_0x14d46e||!_0x14d46e[_0x54f244(0x648)]?.[_0x54f244(0x51a)](this['instance'][_0x54f244(0x6d8)]))throw this[_0x54f244(0x5d3)][_0x54f244(0x90c)](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)][_0x54f244(0x6d8)]+_0x54f244(0x6cf)+_0x2451c3['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x54f244(0x2be)+_0x2451c3[_0x54f244(0x7c9)]+_0x54f244(0x2fa));let _0x169de4=this[_0x54f244(0x853)][_0x54f244(0x1dc)]['findIndex'](_0x332060=>_0x332060[_0x54f244(0x7c9)]===_0x22a9a4[_0x54f244(0x7c9)]);if(_0x169de4!==-0x1){let _0x516318=this['AutomateSystem'][_0x54f244(0x1dc)][_0x169de4];if(_0x516318[_0x54f244(0x254)]=_0x2451c3[_0x54f244(0x254)]??_0x516318['name'],_0x516318[_0x54f244(0x844)]=_0x2451c3['default']??_0x516318[_0x54f244(0x844)],_0x516318[_0x54f244(0x6a7)]=_0x2451c3[_0x54f244(0x6a7)]??_0x516318[_0x54f244(0x6a7)],_0x516318['startCommand']=_0x2451c3[_0x54f244(0x58f)]??_0x516318[_0x54f244(0x400)],_0x516318[_0x54f244(0x2b9)]=_0x2451c3[_0x54f244(0x2b9)]??_0x516318[_0x54f244(0x2b9)],_0x516318[_0x54f244(0x466)]=_0x2451c3['readMessages']??_0x516318[_0x54f244(0x466)],_0x2451c3[_0x54f244(0x844)]&&this['AutomateSystem'][_0x54f244(0x1dc)][_0x54f244(0x1d3)]((_0x59676a,_0x34eb51)=>{const _0x51556a=_0x54f244;_0x34eb51!==_0x169de4&&(_0x59676a[_0x51556a(0x844)]=!0x1);}),this[_0x54f244(0x853)]['flows'][_0x169de4]=_0x516318,!await this[_0x54f244(0x48b)]['automateSystem'][_0x54f244(0x1df)]({'flows':this[_0x54f244(0x853)][_0x54f244(0x1dc)]},this['instance'][_0x54f244(0x6d8)]))throw new m(_0x54f244(0x6e6));}let _0x1436af=[_0x54f244(0x8b0),_0x54f244(0x5a3),_0x54f244(0x61c),'shareOwners'];for(let _0x161c37 of _0x1436af)delete _0x2451c3[_0x161c37];if(_0x14d46e[_0x54f244(0x2e8)]?.[_0x54f244(0x51a)](this[_0x54f244(0x229)][_0x54f244(0x6d8)])||(_0x2451c3={'_id':_0x2451c3[_0x54f244(0x7c9)]}),_0x4ed7cd!==Ri&&_0x2451c3?.[_0x54f244(0x5fe)]&&!_0x14d46e?.[_0x54f244(0x5fe)])throw new m(_0x54f244(0x682));let _0x37803e=new Set(_0x2451c3[_0x54f244(0x2e8)]??_0x14d46e['whoCanEdit']);_0x37803e[_0x54f244(0x1af)](_0x14d46e[_0x54f244(0x47d)]);let _0x12cf6d=new Set(_0x2451c3[_0x54f244(0x648)]??_0x14d46e[_0x54f244(0x648)]??[]);_0x37803e[_0x54f244(0x1d3)](_0x2af56e=>_0x12cf6d['add'](_0x2af56e)),_0x12cf6d['add'](_0x14d46e[_0x54f244(0x47d)]),this[_0x54f244(0x5d3)][_0x54f244(0x843)](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)]['wuid']+_0x54f244(0x3fd)+Array['from'](_0x37803e)),this[_0x54f244(0x5d3)][_0x54f244(0x843)](this[_0x54f244(0x59f)]+'\x20('+this['instance'][_0x54f244(0x6d8)]+_0x54f244(0x7ba)+Array[_0x54f244(0x40f)](_0x12cf6d));let _0x25d0eb=await this[_0x54f244(0x87c)](Array['from'](_0x12cf6d)),_0x4d2f4c=Array['from'](_0x37803e)[_0x54f244(0x550)](_0x7d6de7=>_0x25d0eb['includes'](_0x7d6de7)),_0x20e765=Array[_0x54f244(0x40f)](_0x12cf6d)['filter'](_0x39ad44=>_0x25d0eb[_0x54f244(0x51a)](_0x39ad44));this[_0x54f244(0x5d3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x54f244(0x6d8)]+_0x54f244(0x665)+_0x4d2f4c),this[_0x54f244(0x5d3)]['verbose'](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)][_0x54f244(0x6d8)]+_0x54f244(0x55c)+_0x20e765);let _0xbd273e={..._0x14d46e,..._0x2451c3,'whoCanEdit':_0x4d2f4c,'whoCanUse':_0x20e765},_0xdfa0b6=await this[_0x54f244(0x48b)]['flow'][_0x54f244(0x215)](_0x14d46e[_0x54f244(0x7c9)],_0xbd273e);return await this[_0x54f244(0x407)](),_0xdfa0b6;}catch(_0x251a4c){let _0x2dd320=_0x54f244(0x7bd),_0x17a016=_0x251a4c instanceof Error?_0x251a4c[_0x54f244(0x4b4)]:typeof _0x251a4c==_0x54f244(0x8d7)?JSON[_0x54f244(0x3f5)](_0x251a4c):_0x251a4c,_0x50f750=_0x2dd320+':\x20'+_0x17a016;throw this[_0x54f244(0x5d3)]['error'](this[_0x54f244(0x59f)]+'\x20('+this[_0x54f244(0x229)]['wuid']+_0x54f244(0x766)+_0x50f750),new m(_0x50f750);}}async['getValidWhatsAppNumbers'](_0x5c89f2){const _0x1e9450=a0_0x33f632;let _0x534e53={'numbers':_0x5c89f2};return(await this[_0x1e9450(0x4fb)](_0x534e53))[_0x1e9450(0x550)](_0x1d1d42=>_0x1d1d42['exists'])[_0x1e9450(0x3dc)](_0x39ce81=>_0x39ce81[_0x1e9450(0x1e7)])[_0x1e9450(0x3dc)](_0x134aa3=>this[_0x1e9450(0x241)](_0x134aa3));}[a0_0x33f632(0x241)](_0x160e13){const _0x16db8c=a0_0x33f632;let _0x411626=_0x160e13[_0x16db8c(0x82d)](/\d+/);return _0x411626?_0x411626[0x0]:'';}async[a0_0x33f632(0x5d2)](_0x2350da){const _0x4d7eed=a0_0x33f632;try{if(this['logger'][_0x4d7eed(0x843)](this[_0x4d7eed(0x59f)]+'\x20('+this[_0x4d7eed(0x229)]['wuid']+'):\x20Editando\x20bloco...'),!this['AutomateSystem']['flows'][_0x4d7eed(0x7fa)](_0x1584bb=>_0x1584bb[_0x4d7eed(0x7c9)]===_0x2350da['_id']))throw this['logger'][_0x4d7eed(0x843)](this[_0x4d7eed(0x59f)]+'\x20('+this[_0x4d7eed(0x229)][_0x4d7eed(0x6d8)]+_0x4d7eed(0x1de)+_0x2350da[_0x4d7eed(0x7c9)]+'\x27\x20não\x20encontrado'),new m(_0x4d7eed(0x427));let _0x353a0a=await this[_0x4d7eed(0x48b)][_0x4d7eed(0x2ec)][_0x4d7eed(0x91c)]({'where':{'_id':_0x2350da[_0x4d7eed(0x7c9)]}});if(!_0x353a0a||!_0x353a0a[_0x4d7eed(0x648)]?.[_0x4d7eed(0x51a)](this[_0x4d7eed(0x229)][_0x4d7eed(0x6d8)]))throw this[_0x4d7eed(0x5d3)][_0x4d7eed(0x90c)](this[_0x4d7eed(0x59f)]+'\x20('+this['instance'][_0x4d7eed(0x6d8)]+_0x4d7eed(0x6cf)+_0x2350da['_id']+_0x4d7eed(0x2fa)),new m(_0x4d7eed(0x2be)+_0x2350da[_0x4d7eed(0x7c9)]+_0x4d7eed(0x2fa));if(!_0x353a0a[_0x4d7eed(0x2e8)]?.[_0x4d7eed(0x51a)](this[_0x4d7eed(0x229)][_0x4d7eed(0x6d8)]))throw new m(_0x4d7eed(0x49a));let {block:_0x421c5a}=_0x2350da;_0x421c5a?.['copy']?this[_0x4d7eed(0x8c8)](_0x353a0a,_0x2350da):_0x421c5a?.[_0x4d7eed(0x8ce)]?this['deleteBlock'](_0x353a0a,_0x2350da):_0x421c5a[_0x4d7eed(0x7c9)]?await this[_0x4d7eed(0x429)](_0x353a0a,_0x2350da):this[_0x4d7eed(0x940)](_0x353a0a,_0x2350da);let _0x2b864f=await this[_0x4d7eed(0x48b)][_0x4d7eed(0x2ec)][_0x4d7eed(0x215)](_0x353a0a[_0x4d7eed(0x7c9)],_0x353a0a);if(!_0x2b864f)throw new Error(_0x4d7eed(0x68c));return _0x2b864f;}catch(_0x433708){this[_0x4d7eed(0x5d8)](_0x4d7eed(0x51d)+_0x433708['message']);}}async[a0_0x33f632(0x8c8)](_0x45d711,_0x4206bb){const _0xe6cc17=a0_0x33f632;let _0x2758cb=_0x4206bb[_0xe6cc17(0x7b8)][_0xe6cc17(0x7c9)],_0x4dabfb=_0x45d711[_0xe6cc17(0x830)][_0xe6cc17(0x7fa)](_0x138c86=>_0x138c86[_0xe6cc17(0x7c9)][_0xe6cc17(0x765)]()===_0x2758cb);if(!_0x4dabfb){this[_0xe6cc17(0x5d3)]['error'](this[_0xe6cc17(0x59f)]+'\x20('+this[_0xe6cc17(0x229)]['wuid']+_0xe6cc17(0x56b)+_0x2758cb+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0xe6cc17(0x5d3)][_0xe6cc17(0x843)](this[_0xe6cc17(0x59f)]+'\x20('+this[_0xe6cc17(0x229)][_0xe6cc17(0x6d8)]+_0xe6cc17(0x1ae)+JSON[_0xe6cc17(0x3f5)](_0x4dabfb));let _0x517717=JSON['parse'](JSON[_0xe6cc17(0x3f5)](_0x4dabfb));_0x517717['_id']=new pe[(_0xe6cc17(0x844))][(_0xe6cc17(0x1db))][(_0xe6cc17(0x378))](),this[_0xe6cc17(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0xe6cc17(0x229)]['wuid']+_0xe6cc17(0x3bf)+JSON['stringify'](_0x517717)),_0x45d711[_0xe6cc17(0x830)][_0xe6cc17(0x2cc)](_0x517717),this[_0xe6cc17(0x5d4)](_0x45d711[_0xe6cc17(0x830)],_0x517717[_0xe6cc17(0x497)]);}[a0_0x33f632(0x5d8)](_0x5b7f65){const _0x7654c5=a0_0x33f632;throw this[_0x7654c5(0x5d3)][_0x7654c5(0x90c)](this[_0x7654c5(0x59f)]+'\x20('+this[_0x7654c5(0x229)][_0x7654c5(0x6d8)]+_0x7654c5(0x766)+_0x5b7f65),new m(_0x5b7f65);}[a0_0x33f632(0x2a5)](_0x3bcaaf,_0xf29510){const _0x3ba939=a0_0x33f632;let {block:_0x3dc4d0}=_0xf29510;if(_0x3dc4d0['type']===_0x3ba939(0x796)){this[_0x3ba939(0x5d8)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x3dc4d0[_0x3ba939(0x7c9)]){this[_0x3ba939(0x5d8)](_0x3ba939(0x445));return;}let _0x4df125=_0x3bcaaf[_0x3ba939(0x830)][_0x3ba939(0x7fa)](_0x35fff4=>_0x35fff4[_0x3ba939(0x7c9)][_0x3ba939(0x765)]()===_0xf29510[_0x3ba939(0x7b8)][_0x3ba939(0x7c9)][_0x3ba939(0x765)]());if(!_0x4df125){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x3dc4d0[_0x3ba939(0x7c9)]+_0x3ba939(0x63e));return;}_0x3bcaaf[_0x3ba939(0x830)]=_0x3bcaaf[_0x3ba939(0x830)]['filter'](_0x538960=>_0x538960[_0x3ba939(0x7c9)][_0x3ba939(0x765)]()!==_0xf29510['block'][_0x3ba939(0x7c9)][_0x3ba939(0x765)]()),_0x3bcaaf[_0x3ba939(0x6eb)]=_0x3bcaaf[_0x3ba939(0x6eb)][_0x3ba939(0x550)](_0x156e6e=>_0x156e6e['blockId']!==_0x3dc4d0['_id'][_0x3ba939(0x765)]()),_0x3bcaaf[_0x3ba939(0x4d1)]=_0x3bcaaf[_0x3ba939(0x4d1)]['filter'](_0x51a001=>_0x51a001[_0x3ba939(0x894)]!==_0x3dc4d0[_0x3ba939(0x7c9)][_0x3ba939(0x765)]()),_0x3bcaaf[_0x3ba939(0x1f1)]=_0x3bcaaf[_0x3ba939(0x1f1)][_0x3ba939(0x550)](_0x540fb1=>_0x540fb1['blockId']!==_0x3dc4d0[_0x3ba939(0x7c9)][_0x3ba939(0x765)]()),this[_0x3ba939(0x5d4)](_0x3bcaaf[_0x3ba939(0x830)],_0x4df125[_0x3ba939(0x497)]);}async['updateBlock'](_0xfa00c3,_0x47a3ca){const _0x35486e=a0_0x33f632;let _0x4c8e54=_0xfa00c3[_0x35486e(0x830)][_0x35486e(0x7fe)](_0x45ed=>_0x45ed[_0x35486e(0x7c9)][_0x35486e(0x765)]()===_0x47a3ca[_0x35486e(0x7b8)][_0x35486e(0x7c9)][_0x35486e(0x765)]());if(this[_0x35486e(0x5d3)][_0x35486e(0x843)](this[_0x35486e(0x59f)]+'\x20('+this[_0x35486e(0x229)][_0x35486e(0x6d8)]+_0x35486e(0x7d5)+_0x4c8e54),_0x4c8e54===-0x1){this[_0x35486e(0x5d3)]['verbose'](_0x35486e(0x42d)+_0x47a3ca[_0x35486e(0x7b8)]['_id']+_0x35486e(0x3c5));return;}if(_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x809)]===_0x35486e(0x796)){let _0x5f1473=Object[_0x35486e(0x516)](_0x47a3ca[_0x35486e(0x7b8)]);if(_0x5f1473[_0x35486e(0x6ee)]>0x2||_0x5f1473['length']===0x2&&!_0x5f1473[_0x35486e(0x51a)](_0x35486e(0x1da))){this[_0x35486e(0x5d8)](_0x35486e(0x7b6));return;}}let _0x5ac3a5=_0xfa00c3[_0x35486e(0x830)][_0x4c8e54]['groupId'];for(let _0x545932 in _0x47a3ca['block'])_0x47a3ca[_0x35486e(0x7b8)]['hasOwnProperty'](_0x545932)&&(_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x545932]=_0x47a3ca[_0x35486e(0x7b8)][_0x545932]);if(this[_0x35486e(0x5d3)][_0x35486e(0x843)](this[_0x35486e(0x59f)]+'\x20('+this[_0x35486e(0x229)][_0x35486e(0x6d8)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x35486e(0x3f5)](_0xfa00c3[_0x35486e(0x830)][_0x4c8e54])),_0xfa00c3[_0x35486e(0x830)][_0x4c8e54]['apirequest']&&_0x35486e(0x6be)in _0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)]){this['logger'][_0x35486e(0x843)](this[_0x35486e(0x59f)]+'\x20('+this[_0x35486e(0x229)][_0x35486e(0x6d8)]+_0x35486e(0x82e));let _0x1b8822=JSON[_0x35486e(0x3f5)](_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x6be)],null,0x1);_0x1b8822['length']>0x2&&(_0x1b8822=_0x1b8822[_0x35486e(0x90b)](0x1,_0x1b8822[_0x35486e(0x6ee)]-0x1)[_0x35486e(0x3f4)]()),_0xfa00c3['blocks'][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x3bc)]=_0x1b8822;}if(_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)]&&_0x35486e(0x344)in _0xfa00c3['blocks'][_0x4c8e54][_0x35486e(0x454)]&&!(_0x35486e(0x755)in _0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)])){this[_0x35486e(0x5d3)]['verbose'](this[_0x35486e(0x59f)]+'\x20('+this['instance']['wuid']+_0x35486e(0x29c)),_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x57a)]=!0x1;let _0x3fbe6d=JSON[_0x35486e(0x3f5)](_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x344)],null,0x2);_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x755)]=_0x3fbe6d;}if(_0xfa00c3['blocks'][_0x4c8e54][_0x35486e(0x454)]&&'bodyString'in _0xfa00c3['blocks'][_0x4c8e54][_0x35486e(0x454)]){_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x57a)]=!0x1;let _0x2de8b3=_0xfa00c3['blocks'][_0x4c8e54]['apirequest']['bodyString'],_0x334dca=this[_0x35486e(0x751)](_0x2de8b3);_0xfa00c3['blocks'][_0x4c8e54][_0x35486e(0x454)][_0x35486e(0x755)]=_0x334dca[_0x35486e(0x66d)],_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x454)]['bodyStringErrorParse']=_0x334dca[_0x35486e(0x90c)];}let _0x598d28=_0xfa00c3[_0x35486e(0x830)][_0x4c8e54][_0x35486e(0x497)];_0x5ac3a5!==_0x598d28?(this[_0x35486e(0x5d4)](_0xfa00c3[_0x35486e(0x830)],_0x5ac3a5),this[_0x35486e(0x5d4)](_0xfa00c3[_0x35486e(0x830)],_0x598d28)):this['reorderBlocks'](_0xfa00c3['blocks'],_0x5ac3a5);}[a0_0x33f632(0x751)](_0x4fad4a){const _0x490844=a0_0x33f632;let _0x46e597='\u205f',_0x4f85de=!0x1,_0x379abd='';for(let _0x5297f1=0x0;_0x5297f1<_0x4fad4a[_0x490844(0x6ee)];_0x5297f1++){let _0x28fca5=_0x4fad4a[_0x5297f1];_0x28fca5==='\x22'&&(_0x5297f1===0x0||_0x4fad4a[_0x5297f1-0x1]!=='\x5c')&&(_0x4f85de=!_0x4f85de),!(!_0x4f85de&&(_0x28fca5==='\x0a'||_0x28fca5==='\x20'||_0x28fca5===_0x46e597))&&(_0x379abd+=_0x28fca5);}let _0xea5e56={},_0x12db26=9876543210.1234,_0x329f40=_0x379abd['replace'](/\{\{([^}]+)\}\}/g,_0x159897=>{let _0x17b44d=_0x159897,_0x452792=''+_0x12db26;return _0xea5e56[_0x452792]=_0x17b44d,_0x12db26+=0.0001,_0x452792;}),_0x2d2bd8='',_0x5b0418=!0x1;try{let _0x4ea73b=JSON['parse'](_0x329f40);_0x2d2bd8=JSON[_0x490844(0x3f5)](_0x4ea73b,null,0x2),_0x2d2bd8=_0x2d2bd8[_0x490844(0x60a)](/\n( +)/g,(_0x43d77e,_0x464c9a)=>{const _0x54b5f6=_0x490844;let _0xb5c8f3=_0x464c9a[_0x54b5f6(0x6ee)];return'\x0a'+_0x46e597[_0x54b5f6(0x60f)](_0xb5c8f3*0x2);}),_0x2d2bd8=_0x2d2bd8[_0x490844(0x60a)](/(\d{10,}\.\d+)/g,_0x531eb0=>_0xea5e56[_0x531eb0]||_0x531eb0);}catch(_0x3758d1){this[_0x490844(0x5d3)][_0x490844(0x90c)](_0x490844(0x568)+_0x3758d1),_0x2d2bd8=_0x4fad4a,_0x5b0418=!0x0;}return{'result':_0x2d2bd8,'error':_0x5b0418};}[a0_0x33f632(0x940)](_0x50b5dd,_0x42404a){const _0x3f7761=a0_0x33f632;if(_0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x809)]===_0x3f7761(0x796)){this['throwAndLogError'](_0x3f7761(0x908));return;}if(_0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x454)]&&_0x3f7761(0x6be)in _0x42404a['block'][_0x3f7761(0x454)]){this[_0x3f7761(0x5d3)][_0x3f7761(0x843)](this[_0x3f7761(0x59f)]+'\x20('+this[_0x3f7761(0x229)][_0x3f7761(0x6d8)]+_0x3f7761(0x82e));let _0x55e834=JSON['stringify'](_0x42404a[_0x3f7761(0x7b8)]['apirequest']['header'],null,0x1);_0x55e834['length']>0x2&&(_0x55e834=_0x55e834['substring'](0x1,_0x55e834[_0x3f7761(0x6ee)]-0x1)[_0x3f7761(0x3f4)]()),_0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x454)][_0x3f7761(0x3bc)]=_0x55e834;}_0x42404a[_0x3f7761(0x7b8)]['apirequest']&&_0x3f7761(0x344)in _0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x454)]&&(this[_0x3f7761(0x5d3)][_0x3f7761(0x843)](this[_0x3f7761(0x59f)]+'\x20('+this[_0x3f7761(0x229)][_0x3f7761(0x6d8)]+_0x3f7761(0x29c)),_0x42404a['block'][_0x3f7761(0x454)]['bodyString']=JSON[_0x3f7761(0x3f5)](_0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x454)][_0x3f7761(0x344)],null,0x1)[_0x3f7761(0x3f4)]()),_0x50b5dd[_0x3f7761(0x830)]['push'](_0x42404a[_0x3f7761(0x7b8)]),this['reorderBlocks'](_0x50b5dd[_0x3f7761(0x830)],_0x42404a[_0x3f7761(0x7b8)][_0x3f7761(0x497)]);}[a0_0x33f632(0x5d4)](_0x3ece48,_0xedff92){const _0x23ca8b=a0_0x33f632;let _0x22d9c7=_0x3ece48[_0x23ca8b(0x550)](_0xcbcb02=>_0xcbcb02[_0x23ca8b(0x497)]===_0xedff92);_0x22d9c7[_0x23ca8b(0x835)]((_0x38f80c,_0x3340df)=>_0x38f80c[_0x23ca8b(0x841)]-_0x3340df[_0x23ca8b(0x841)]),_0x22d9c7['forEach']((_0x3a6f5a,_0x5cbfdd)=>_0x3a6f5a[_0x23ca8b(0x841)]=_0x5cbfdd+0x1);}async[a0_0x33f632(0x4d3)](_0x5f2897){const _0x220479=a0_0x33f632;try{if(this[_0x220479(0x5d3)][_0x220479(0x843)](this['instanceName']+'\x20('+this['instance'][_0x220479(0x6d8)]+'):\x20Editando\x20replyOption...'),!_0x5f2897||!_0x5f2897[_0x220479(0x434)]){this[_0x220479(0x5d8)](_0x220479(0x1aa));return;}if(!this[_0x220479(0x853)][_0x220479(0x1dc)]['find'](_0x1b4d0e=>_0x1b4d0e[_0x220479(0x7c9)]===_0x5f2897[_0x220479(0x7c9)]))throw this[_0x220479(0x5d3)][_0x220479(0x843)](this[_0x220479(0x59f)]+'\x20('+this['instance'][_0x220479(0x6d8)]+_0x220479(0x1de)+_0x5f2897[_0x220479(0x7c9)]+_0x220479(0x6b8)),new m(_0x220479(0x427));let _0x14d9d5=await this[_0x220479(0x48b)][_0x220479(0x2ec)][_0x220479(0x91c)]({'where':{'_id':_0x5f2897[_0x220479(0x7c9)]}});if(!_0x14d9d5||!_0x14d9d5['whoCanUse']?.['includes'](this[_0x220479(0x229)]['wuid']))throw this[_0x220479(0x5d3)][_0x220479(0x90c)](this[_0x220479(0x59f)]+'\x20('+this['instance'][_0x220479(0x6d8)]+'):\x20Flow\x20\x27'+_0x5f2897[_0x220479(0x7c9)]+_0x220479(0x2fa)),new m(_0x220479(0x2be)+_0x5f2897[_0x220479(0x7c9)]+_0x220479(0x2fa));if(!_0x14d9d5[_0x220479(0x2e8)]?.['includes'](this['instance'][_0x220479(0x6d8)]))throw new m(_0x220479(0x49a));let {replyOption:_0x5be321}=_0x5f2897;_0x5be321?.[_0x220479(0x8ce)]?(this[_0x220479(0x38e)](_0x14d9d5,_0x5f2897),this[_0x220479(0x7c5)](_0x14d9d5[_0x220479(0x1f1)],_0x5f2897['replyOption'][_0x220479(0x894)])):_0x5be321[_0x220479(0x7c9)]?(await this[_0x220479(0x716)](_0x14d9d5,_0x5f2897),this[_0x220479(0x7c5)](_0x14d9d5[_0x220479(0x1f1)],_0x5f2897['replyOption'][_0x220479(0x894)])):(this[_0x220479(0x6a4)](_0x14d9d5,_0x5f2897),this[_0x220479(0x7c5)](_0x14d9d5['replyOptions'],_0x5f2897[_0x220479(0x434)][_0x220479(0x894)]));let _0x4e3dd=await this[_0x220479(0x48b)][_0x220479(0x2ec)][_0x220479(0x215)](_0x14d9d5[_0x220479(0x7c9)],_0x14d9d5);if(!_0x4e3dd)throw new Error(_0x220479(0x68c));return _0x4e3dd;}catch(_0x5ed50f){this[_0x220479(0x5d8)](_0x220479(0x39b)+_0x5ed50f);}}[a0_0x33f632(0x7c5)](_0x4210b8,_0x281d3c){const _0x3b4f4f=a0_0x33f632;_0x4210b8[_0x3b4f4f(0x1d3)](_0x16d15a=>{const _0x3db773=_0x3b4f4f;_0x16d15a['blockId']===_0x281d3c&&_0x16d15a[_0x3db773(0x841)]===void 0x0&&(_0x16d15a[_0x3db773(0x841)]=0x270f);});let _0x252d84=_0x4210b8[_0x3b4f4f(0x550)](_0x10bea5=>_0x10bea5[_0x3b4f4f(0x894)]===_0x281d3c);_0x252d84[_0x3b4f4f(0x835)]((_0x57a5e0,_0x394382)=>_0x57a5e0[_0x3b4f4f(0x841)]-_0x394382[_0x3b4f4f(0x841)]),_0x252d84[_0x3b4f4f(0x1d3)]((_0x28405a,_0x58574a)=>{const _0xd6a0c6=_0x3b4f4f;_0x28405a[_0xd6a0c6(0x841)]=_0x58574a+0x1;}),_0x4210b8['forEach'](_0x4a2a47=>{const _0x5e23db=_0x3b4f4f;if(_0x4a2a47['blockId']===_0x281d3c){let _0x291510=_0x252d84[_0x5e23db(0x7fa)](_0x1af0db=>_0x1af0db[_0x5e23db(0x7c9)]&&_0x4a2a47[_0x5e23db(0x7c9)]&&_0x1af0db[_0x5e23db(0x7c9)][_0x5e23db(0x765)]()===_0x4a2a47['_id'][_0x5e23db(0x765)]());_0x291510&&(_0x4a2a47[_0x5e23db(0x841)]=_0x291510[_0x5e23db(0x841)]);}});}['deleteReplyOption'](_0xfcf12b,_0x8b65a){const _0x1a5492=a0_0x33f632;let {replyOption:_0x458ead}=_0x8b65a;if(!_0x458ead[_0x1a5492(0x7c9)]){this[_0x1a5492(0x5d8)](_0x1a5492(0x222));return;}if(!_0xfcf12b[_0x1a5492(0x1f1)][_0x1a5492(0x7fa)](_0xd94e57=>_0xd94e57[_0x1a5492(0x7c9)]['toString']()===_0x8b65a['replyOption']['_id'][_0x1a5492(0x765)]())){this[_0x1a5492(0x5d8)](_0x1a5492(0x6c8)+_0x458ead[_0x1a5492(0x7c9)]+'\x20não\x20encontrado');return;}_0xfcf12b[_0x1a5492(0x1f1)]=_0xfcf12b[_0x1a5492(0x1f1)][_0x1a5492(0x550)](_0x1a4e5e=>_0x1a4e5e['_id'][_0x1a5492(0x765)]()!==_0x8b65a[_0x1a5492(0x434)][_0x1a5492(0x7c9)]['toString']());}async[a0_0x33f632(0x716)](_0x2752c9,_0x3c1bfe){const _0x1a36d1=a0_0x33f632;let _0x1f4e10=_0x2752c9[_0x1a36d1(0x1f1)]['findIndex'](_0x4b15bc=>_0x4b15bc[_0x1a36d1(0x7c9)][_0x1a36d1(0x765)]()===_0x3c1bfe[_0x1a36d1(0x434)][_0x1a36d1(0x7c9)][_0x1a36d1(0x765)]());if(_0x1f4e10===-0x1){this[_0x1a36d1(0x5d8)]('ReplyOption\x20com\x20ID\x20'+_0x3c1bfe[_0x1a36d1(0x434)][_0x1a36d1(0x7c9)]+_0x1a36d1(0x3c5));return;}for(let _0x137187 in _0x3c1bfe[_0x1a36d1(0x434)])_0x3c1bfe[_0x1a36d1(0x434)][_0x1a36d1(0x347)](_0x137187)&&(_0x2752c9['replyOptions'][_0x1f4e10][_0x137187]=_0x3c1bfe[_0x1a36d1(0x434)][_0x137187]);}[a0_0x33f632(0x6a4)](_0x39fb15,_0x505d02){const _0x5de3ce=a0_0x33f632;_0x39fb15[_0x5de3ce(0x1f1)][_0x5de3ce(0x2cc)](_0x505d02[_0x5de3ce(0x434)]);}async[a0_0x33f632(0x363)](_0x26e243){const _0x4e45ed=a0_0x33f632;this[_0x4e45ed(0x5d3)][_0x4e45ed(0x843)](this['instanceName']+'\x20('+this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]+_0x4e45ed(0x1a6)+JSON['stringify'](_0x26e243,null,0x2));try{if(this[_0x4e45ed(0x5d3)][_0x4e45ed(0x843)](this[_0x4e45ed(0x59f)]+'\x20('+this['instance']['wuid']+_0x4e45ed(0x2c7)),!this[_0x4e45ed(0x853)][_0x4e45ed(0x1dc)][_0x4e45ed(0x7fa)](_0x318e31=>_0x318e31[_0x4e45ed(0x7c9)]===_0x26e243[_0x4e45ed(0x7c9)]))throw this[_0x4e45ed(0x5d3)]['verbose'](this[_0x4e45ed(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0x26e243['_id']+_0x4e45ed(0x6b8)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x55907a=await this[_0x4e45ed(0x48b)][_0x4e45ed(0x2ec)][_0x4e45ed(0x91c)]({'where':{'_id':_0x26e243[_0x4e45ed(0x7c9)]}});if(!_0x55907a||!_0x55907a['whoCanUse']?.[_0x4e45ed(0x51a)](this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]))throw this[_0x4e45ed(0x5d3)][_0x4e45ed(0x90c)](this[_0x4e45ed(0x59f)]+'\x20('+this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]+'):\x20Flow\x20\x27'+_0x26e243['_id']+_0x4e45ed(0x2fa)),new m(_0x4e45ed(0x2be)+_0x26e243[_0x4e45ed(0x7c9)]+_0x4e45ed(0x2fa));if(!_0x55907a[_0x4e45ed(0x2e8)]?.[_0x4e45ed(0x51a)](this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]))throw new m(_0x4e45ed(0x49a));if(_0x26e243[_0x4e45ed(0x556)]&&_0x26e243[_0x4e45ed(0x556)]?.[_0x4e45ed(0x8ce)]===!0x0){if(this[_0x4e45ed(0x5d3)][_0x4e45ed(0x843)](this[_0x4e45ed(0x59f)]+'\x20('+this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]+_0x4e45ed(0x898)),_0x26e243[_0x4e45ed(0x556)][_0x4e45ed(0x844)]===!0x0)return{'message':_0x4e45ed(0x7d9)};if(_0x55907a[_0x4e45ed(0x830)]['some'](_0x20c315=>_0x20c315[_0x4e45ed(0x497)][_0x4e45ed(0x765)]()===_0x26e243['group'][_0x4e45ed(0x7c9)]))return this[_0x4e45ed(0x5d3)][_0x4e45ed(0x843)](this['instanceName']+'\x20('+this['instance'][_0x4e45ed(0x6d8)]+_0x4e45ed(0x4a0)),{'message':_0x4e45ed(0x895)};_0x55907a[_0x4e45ed(0x560)]=_0x55907a[_0x4e45ed(0x560)]['filter'](_0x5908ee=>_0x5908ee[_0x4e45ed(0x7c9)][_0x4e45ed(0x765)]()!==_0x26e243[_0x4e45ed(0x556)][_0x4e45ed(0x7c9)]);}else{if(_0x26e243[_0x4e45ed(0x556)]){if(_0x26e243['group'][_0x4e45ed(0x844)]===!0x0)return{'message':_0x4e45ed(0x79d)};if(_0x26e243[_0x4e45ed(0x556)][_0x4e45ed(0x7c9)]){let _0x1f2acc=_0x55907a[_0x4e45ed(0x560)][_0x4e45ed(0x7fa)](_0x247a00=>_0x247a00[_0x4e45ed(0x7c9)][_0x4e45ed(0x765)]()===_0x26e243[_0x4e45ed(0x556)][_0x4e45ed(0x7c9)]);_0x1f2acc&&(_0x26e243[_0x4e45ed(0x556)]['x']<0x0&&(_0x26e243[_0x4e45ed(0x556)]['x']=0x0),_0x26e243[_0x4e45ed(0x556)]['y']<0x0&&(_0x26e243[_0x4e45ed(0x556)]['y']=0x0),Object[_0x4e45ed(0x68a)](_0x1f2acc,_0x26e243[_0x4e45ed(0x556)]));}else _0x55907a['groups']['push'](_0x26e243['group']);}}let _0x226582=await this[_0x4e45ed(0x48b)][_0x4e45ed(0x2ec)][_0x4e45ed(0x215)](_0x55907a['_id'],_0x55907a);if(!_0x226582)throw new Error(_0x4e45ed(0x68c));return _0x226582;}catch(_0x286084){let _0x5d9fdf=_0x4e45ed(0x8d3),_0x40ca66=_0x286084 instanceof Error?_0x286084['message']:typeof _0x286084==_0x4e45ed(0x8d7)?JSON['stringify'](_0x286084):_0x286084,_0x5aacb5=_0x5d9fdf+':\x20'+_0x40ca66;throw this[_0x4e45ed(0x5d3)][_0x4e45ed(0x90c)](this[_0x4e45ed(0x59f)]+'\x20('+this[_0x4e45ed(0x229)][_0x4e45ed(0x6d8)]+_0x4e45ed(0x766)+_0x5aacb5),new m(_0x5aacb5);}}async[a0_0x33f632(0x69c)](_0x2c8cd6){const _0x529f1b=a0_0x33f632;try{if(this[_0x529f1b(0x5d3)][_0x529f1b(0x843)](this[_0x529f1b(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x529f1b(0x1dc)]['find'](_0x3a8a6a=>_0x3a8a6a[_0x529f1b(0x7c9)]===_0x2c8cd6[_0x529f1b(0x7c9)]))throw this[_0x529f1b(0x5d3)][_0x529f1b(0x843)](this[_0x529f1b(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0x2c8cd6['_id']+'\x27\x20não\x20encontrado'),new m(_0x529f1b(0x427));let _0x20dd13=await this['repository'][_0x529f1b(0x2ec)][_0x529f1b(0x91c)]({'where':{'_id':_0x2c8cd6[_0x529f1b(0x7c9)]}});if(!_0x20dd13||!_0x20dd13[_0x529f1b(0x648)]?.[_0x529f1b(0x51a)](this['instance'][_0x529f1b(0x6d8)]))throw this['logger'][_0x529f1b(0x90c)](this['instanceName']+'\x20('+this[_0x529f1b(0x229)]['wuid']+'):\x20Flow\x20\x27'+_0x2c8cd6[_0x529f1b(0x7c9)]+_0x529f1b(0x2fa)),new m(_0x529f1b(0x2be)+_0x2c8cd6[_0x529f1b(0x7c9)]+_0x529f1b(0x2fa));if(!_0x20dd13[_0x529f1b(0x2e8)]?.['includes'](this[_0x529f1b(0x229)][_0x529f1b(0x6d8)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x8e2dad=!0x1;if(_0x2c8cd6[_0x529f1b(0x57e)]?.[_0x529f1b(0x8ce)]===!0x0)_0x20dd13['conditions']=_0x20dd13[_0x529f1b(0x6eb)][_0x529f1b(0x550)](_0x1064e8=>_0x1064e8&&_0x2c8cd6[_0x529f1b(0x57e)]&&_0x1064e8[_0x529f1b(0x7c9)]&&_0x2c8cd6[_0x529f1b(0x57e)][_0x529f1b(0x7c9)]&&_0x1064e8[_0x529f1b(0x7c9)][_0x529f1b(0x765)]()!==_0x2c8cd6[_0x529f1b(0x57e)][_0x529f1b(0x7c9)][_0x529f1b(0x765)]()),_0x8e2dad=!0x0;else{let _0xad11e5=_0x20dd13['conditions'][_0x529f1b(0x7fa)](_0xb3b463=>_0xb3b463&&_0x2c8cd6[_0x529f1b(0x57e)]&&_0xb3b463[_0x529f1b(0x7c9)]&&_0x2c8cd6[_0x529f1b(0x57e)][_0x529f1b(0x7c9)]&&_0xb3b463[_0x529f1b(0x7c9)][_0x529f1b(0x765)]()===_0x2c8cd6[_0x529f1b(0x57e)]['_id']['toString']());_0xad11e5?(_0x8e2dad=_0xad11e5[_0x529f1b(0x841)]!==_0x2c8cd6[_0x529f1b(0x57e)][_0x529f1b(0x841)],Object['assign'](_0xad11e5,_0x2c8cd6[_0x529f1b(0x57e)])):(_0x20dd13[_0x529f1b(0x6eb)]['push'](_0x2c8cd6[_0x529f1b(0x57e)]),_0x8e2dad=!0x0);}if(_0x8e2dad){_0x20dd13[_0x529f1b(0x6eb)][_0x529f1b(0x835)]((_0x138bab,_0xa69894)=>_0x138bab[_0x529f1b(0x841)]>_0xa69894[_0x529f1b(0x841)]?0x1:_0xa69894[_0x529f1b(0x841)]>_0x138bab['order']?-0x1:0x0);for(let _0x2eeb47=0x0;_0x2eeb47<_0x20dd13[_0x529f1b(0x6eb)]['length'];_0x2eeb47++)_0x20dd13['conditions'][_0x2eeb47]['order']=_0x2eeb47+0x1;_0x20dd13[_0x529f1b(0x6eb)]['length']>0x0&&(_0x20dd13['conditions'][0x0][_0x529f1b(0x4c0)]=_0x529f1b(0x7d0));}let _0x1a46b9=await this[_0x529f1b(0x48b)][_0x529f1b(0x2ec)][_0x529f1b(0x215)](_0x20dd13['_id'],_0x20dd13);if(!_0x1a46b9)throw new Error(_0x529f1b(0x68c));return _0x1a46b9;}catch(_0x21176c){let _0x140473=_0x529f1b(0x88a),_0x562a1a=_0x21176c instanceof Error?_0x21176c[_0x529f1b(0x4b4)]:typeof _0x21176c==_0x529f1b(0x8d7)?JSON[_0x529f1b(0x3f5)](_0x21176c):_0x21176c,_0x297e0e=_0x140473+':\x20'+_0x562a1a;throw this[_0x529f1b(0x5d3)][_0x529f1b(0x90c)](this[_0x529f1b(0x59f)]+'\x20('+this[_0x529f1b(0x229)][_0x529f1b(0x6d8)]+_0x529f1b(0x766)+_0x297e0e),new m(_0x297e0e);}}async[a0_0x33f632(0x30c)](_0x5492e2){const _0x3c79db=a0_0x33f632;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3c79db(0x229)][_0x3c79db(0x6d8)]+_0x3c79db(0x683)),!this[_0x3c79db(0x853)][_0x3c79db(0x1dc)][_0x3c79db(0x7fa)](_0x19318d=>_0x19318d[_0x3c79db(0x7c9)]===_0x5492e2[_0x3c79db(0x7c9)]))throw this['logger']['verbose'](this[_0x3c79db(0x59f)]+'\x20('+this[_0x3c79db(0x229)]['wuid']+'):\x20Fluxo\x20\x27'+_0x5492e2['_id']+'\x27\x20não\x20encontrado'),new m(_0x3c79db(0x427));let _0x22127b=await this[_0x3c79db(0x48b)][_0x3c79db(0x2ec)][_0x3c79db(0x91c)]({'where':{'_id':_0x5492e2[_0x3c79db(0x7c9)]}});if(!_0x22127b||!_0x22127b[_0x3c79db(0x648)]?.[_0x3c79db(0x51a)](this[_0x3c79db(0x229)]['wuid']))throw this[_0x3c79db(0x5d3)][_0x3c79db(0x90c)](this[_0x3c79db(0x59f)]+'\x20('+this[_0x3c79db(0x229)][_0x3c79db(0x6d8)]+_0x3c79db(0x6cf)+_0x5492e2['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3c79db(0x2be)+_0x5492e2['_id']+_0x3c79db(0x2fa));if(!_0x22127b[_0x3c79db(0x2e8)]?.[_0x3c79db(0x51a)](this[_0x3c79db(0x229)][_0x3c79db(0x6d8)]))throw new m(_0x3c79db(0x49a));let _0x5ac40f=!0x1;if(_0x5492e2[_0x3c79db(0x50f)]?.[_0x3c79db(0x8ce)]===!0x0)_0x22127b[_0x3c79db(0x4d1)]=_0x22127b['varedits'][_0x3c79db(0x550)](_0x2e7324=>_0x2e7324&&_0x5492e2['varedit']&&_0x2e7324[_0x3c79db(0x7c9)]&&_0x5492e2['varedit']['_id']&&_0x2e7324[_0x3c79db(0x7c9)][_0x3c79db(0x765)]()!==_0x5492e2['varedit'][_0x3c79db(0x7c9)][_0x3c79db(0x765)]()),_0x5ac40f=!0x0;else{let _0x388af7=_0x22127b[_0x3c79db(0x4d1)][_0x3c79db(0x7fa)](_0x4bd0f6=>_0x4bd0f6&&_0x5492e2['varedit']&&_0x4bd0f6[_0x3c79db(0x7c9)]&&_0x5492e2['varedit'][_0x3c79db(0x7c9)]&&_0x4bd0f6[_0x3c79db(0x7c9)][_0x3c79db(0x765)]()===_0x5492e2[_0x3c79db(0x50f)][_0x3c79db(0x7c9)][_0x3c79db(0x765)]());_0x388af7?(_0x5ac40f=_0x388af7[_0x3c79db(0x841)]!==_0x5492e2[_0x3c79db(0x50f)]['order'],Object[_0x3c79db(0x68a)](_0x388af7,_0x5492e2[_0x3c79db(0x50f)])):(_0x22127b['varedits']['push'](_0x5492e2[_0x3c79db(0x50f)]),_0x5ac40f=!0x0);}if(_0x5ac40f){_0x22127b[_0x3c79db(0x4d1)][_0x3c79db(0x835)]((_0x27628a,_0x1d8c1b)=>_0x27628a['order']>_0x1d8c1b[_0x3c79db(0x841)]?0x1:_0x1d8c1b[_0x3c79db(0x841)]>_0x27628a[_0x3c79db(0x841)]?-0x1:0x0);for(let _0x1e10cb=0x0;_0x1e10cb<_0x22127b[_0x3c79db(0x4d1)][_0x3c79db(0x6ee)];_0x1e10cb++)_0x22127b[_0x3c79db(0x4d1)][_0x1e10cb][_0x3c79db(0x841)]=_0x1e10cb+0x1;}let _0x349ff3=await this[_0x3c79db(0x48b)][_0x3c79db(0x2ec)]['updateOne'](_0x22127b['_id'],_0x22127b);if(!_0x349ff3)throw new Error(_0x3c79db(0x68c));return _0x349ff3;}catch(_0x43acb6){let _0x6f40a=_0x3c79db(0x88a),_0x17b361=_0x43acb6 instanceof Error?_0x43acb6[_0x3c79db(0x4b4)]:typeof _0x43acb6==_0x3c79db(0x8d7)?JSON[_0x3c79db(0x3f5)](_0x43acb6):_0x43acb6,_0x4a4d26=_0x6f40a+':\x20'+_0x17b361;throw this[_0x3c79db(0x5d3)][_0x3c79db(0x90c)](this[_0x3c79db(0x59f)]+'\x20('+this[_0x3c79db(0x229)][_0x3c79db(0x6d8)]+_0x3c79db(0x766)+_0x4a4d26),new m(_0x4a4d26);}}async[a0_0x33f632(0x57c)](_0x31fd43){const _0x1be4bb=a0_0x33f632;try{if(this['logger'][_0x1be4bb(0x843)](this[_0x1be4bb(0x59f)]+'\x20('+this['instance']['wuid']+_0x1be4bb(0x7d3)),!this[_0x1be4bb(0x853)][_0x1be4bb(0x1dc)][_0x1be4bb(0x7fa)](_0x56f069=>_0x56f069[_0x1be4bb(0x7c9)]===_0x31fd43[_0x1be4bb(0x7c9)]))throw this[_0x1be4bb(0x5d3)][_0x1be4bb(0x843)](this[_0x1be4bb(0x59f)]+'\x20('+this['instance'][_0x1be4bb(0x6d8)]+_0x1be4bb(0x1de)+_0x31fd43[_0x1be4bb(0x7c9)]+_0x1be4bb(0x6b8)),new m(_0x1be4bb(0x427));let _0x301da0=await this[_0x1be4bb(0x48b)][_0x1be4bb(0x2ec)][_0x1be4bb(0x91c)]({'where':{'_id':_0x31fd43[_0x1be4bb(0x7c9)]}});if(!_0x301da0||!_0x301da0[_0x1be4bb(0x648)]?.[_0x1be4bb(0x51a)](this['instance'][_0x1be4bb(0x6d8)]))throw this[_0x1be4bb(0x5d3)][_0x1be4bb(0x90c)](this['instanceName']+'\x20('+this[_0x1be4bb(0x229)][_0x1be4bb(0x6d8)]+_0x1be4bb(0x6cf)+_0x31fd43[_0x1be4bb(0x7c9)]+_0x1be4bb(0x2fa)),new m(_0x1be4bb(0x2be)+_0x31fd43[_0x1be4bb(0x7c9)]+_0x1be4bb(0x2fa));if(!_0x301da0[_0x1be4bb(0x2e8)]?.[_0x1be4bb(0x51a)](this[_0x1be4bb(0x229)][_0x1be4bb(0x6d8)]))throw new m(_0x1be4bb(0x49a));_0x31fd43[_0x1be4bb(0x748)][_0x1be4bb(0x254)]=_0x31fd43[_0x1be4bb(0x748)]['name'][_0x1be4bb(0x3f4)](),_0x31fd43['variable']['name'][_0x1be4bb(0x5cb)]('_')&&(_0x31fd43['variable']['name']=_0x31fd43[_0x1be4bb(0x748)][_0x1be4bb(0x254)]['substring'](0x1)),_0x31fd43[_0x1be4bb(0x748)][_0x1be4bb(0x254)]=_0x31fd43[_0x1be4bb(0x748)][_0x1be4bb(0x254)][_0x1be4bb(0x3f4)]();let _0x5e4cdc=_0x301da0[_0x1be4bb(0x654)][_0x1be4bb(0x7fa)](_0x18b938=>_0x18b938[_0x1be4bb(0x254)]===_0x31fd43[_0x1be4bb(0x748)]['name']);if(_0x5e4cdc?.['leadInfo']===!0x0)throw new Error(_0x1be4bb(0x549));if(_0x31fd43[_0x1be4bb(0x748)]?.['delete']===!0x0){if(!_0x5e4cdc)return{'message':_0x1be4bb(0x250)};_0x301da0[_0x1be4bb(0x654)]=_0x301da0[_0x1be4bb(0x654)]['filter'](_0x4faeeb=>_0x4faeeb['name']!==_0x31fd43[_0x1be4bb(0x748)]['name']);}else _0x5e4cdc?Object[_0x1be4bb(0x68a)](_0x5e4cdc,_0x31fd43[_0x1be4bb(0x748)]):_0x301da0['variables'][_0x1be4bb(0x2cc)](_0x31fd43['variable']);let _0x9c9a5=await this[_0x1be4bb(0x48b)][_0x1be4bb(0x2ec)][_0x1be4bb(0x215)](_0x301da0[_0x1be4bb(0x7c9)],_0x301da0);if(!_0x9c9a5)throw new Error(_0x1be4bb(0x68c));return _0x9c9a5;}catch(_0x2c88e5){let _0x53e5fd=_0x1be4bb(0x8de),_0x15482d=_0x2c88e5 instanceof Error?_0x2c88e5[_0x1be4bb(0x4b4)]:typeof _0x2c88e5==_0x1be4bb(0x8d7)?JSON[_0x1be4bb(0x3f5)](_0x2c88e5):_0x2c88e5,_0x240208=_0x53e5fd+':\x20'+_0x15482d;throw this[_0x1be4bb(0x5d3)]['error'](this[_0x1be4bb(0x59f)]+'\x20('+this[_0x1be4bb(0x229)][_0x1be4bb(0x6d8)]+_0x1be4bb(0x766)+_0x240208),new m(_0x240208);}}async[a0_0x33f632(0x6a8)](_0x49cb2e){const _0x319670=a0_0x33f632;let _0x1ce12a=null;try{if(!this['AutomateSystem']?.[_0x319670(0x6b2)][_0x319670(0x1d7)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x319670(0x5d3)]['verbose'](this[_0x319670(0x59f)]+'\x20('+this[_0x319670(0x229)][_0x319670(0x6d8)]+'):\x20Iniciando\x20bot...');let _0xed0efa=(await this[_0x319670(0x4fb)]({'numbers':[_0x49cb2e[_0x319670(0x330)]]}))[0x0];if(!_0xed0efa[_0x319670(0x375)]&&!(0x0,w[_0x319670(0x327)])(_0xed0efa[_0x319670(0x1e7)])&&!_0xed0efa[_0x319670(0x1e7)][_0x319670(0x51a)](_0x319670(0x848)))throw _0x1ce12a=JSON[_0x319670(0x3f5)](_0xed0efa,null,0x2),new m(_0xed0efa);let _0x177b59;if(_0x49cb2e[_0x319670(0x254)][_0x319670(0x6ee)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x49cb2e[_0x319670(0x254)])?_0x177b59=this[_0x319670(0x853)][_0x319670(0x1dc)][_0x319670(0x7fa)](_0x4260e8=>_0x4260e8[_0x319670(0x7c9)]===_0x49cb2e[_0x319670(0x254)]):_0x177b59=this[_0x319670(0x853)][_0x319670(0x1dc)][_0x319670(0x7fa)](_0x12eff0=>_0x12eff0[_0x319670(0x254)]===_0x49cb2e[_0x319670(0x254)]),!_0x177b59)throw this[_0x319670(0x5d3)][_0x319670(0x843)](this[_0x319670(0x59f)]+'\x20('+this[_0x319670(0x229)]['wuid']+_0x319670(0x1de)+_0x49cb2e[_0x319670(0x254)]+_0x319670(0x6b8)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1361af=await this['repository']['flow'][_0x319670(0x91c)]({'where':{'_id':_0x177b59['_id']}});if(!_0x1361af||!_0x1361af['whoCanUse']?.['includes'](this[_0x319670(0x229)][_0x319670(0x6d8)]))throw this[_0x319670(0x5d3)][_0x319670(0x90c)](this['instanceName']+'\x20('+this[_0x319670(0x229)][_0x319670(0x6d8)]+_0x319670(0x6cf)+_0x177b59[_0x319670(0x7c9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x1ce12a=_0x319670(0x2be)+_0x177b59[_0x319670(0x7c9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x1ce12a);let _0x3027b7=await this['createConversationforStartFlow'](_0x1361af,_0xed0efa[_0x319670(0x1e7)],_0x49cb2e['changeVariables']);if(_0x3027b7){this[_0x319670(0x5d3)]['verbose'](this[_0x319670(0x59f)]+'\x20('+this[_0x319670(0x229)][_0x319670(0x6d8)]+_0x319670(0x7d1));let _0x490145=await this[_0x319670(0x3ad)](_0x3027b7);return _0x490145&&await this[_0x319670(0x911)](_0x3027b7,_0x490145),{'message':_0x319670(0x1fc)+_0x49cb2e[_0x319670(0x330)]};}}catch(_0x5b2bed){if(this[_0x319670(0x5d3)][_0x319670(0x90c)](this[_0x319670(0x59f)]+'\x20('+this[_0x319670(0x229)]['wuid']+_0x319670(0x5d1)+(_0x5b2bed instanceof Error?_0x5b2bed[_0x319670(0x4b4)]:JSON[_0x319670(0x3f5)](_0x5b2bed,null,0x2))),_0x1ce12a=_0x5b2bed instanceof Error?_0x5b2bed[_0x319670(0x4b4)]:JSON[_0x319670(0x3f5)](_0x5b2bed,null,0x2),_0x1ce12a)throw new m(_0x319670(0x71e)+_0x1ce12a);}}async[a0_0x33f632(0x36b)](_0xc0c9d1,_0x208a27,_0x344b1a){const _0x34d149=a0_0x33f632;let _0x451f9d=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x34d149(0x1d7)])throw new m(_0x34d149(0x36d));if(this[_0x34d149(0x5d3)][_0x34d149(0x843)](this[_0x34d149(0x59f)]+'\x20('+this[_0x34d149(0x229)][_0x34d149(0x6d8)]+_0x34d149(0x821)),_0x208a27){let _0x4bd65b=(await this['whatsappNumber']({'numbers':[_0x208a27]}))[0x0];if(!_0x4bd65b[_0x34d149(0x375)]&&!(0x0,w[_0x34d149(0x327)])(_0x4bd65b[_0x34d149(0x1e7)])&&!_0x4bd65b[_0x34d149(0x1e7)][_0x34d149(0x51a)](_0x34d149(0x848)))throw _0x451f9d=JSON['stringify'](_0x4bd65b,null,0x2),new m(_0x4bd65b);_0x208a27=_0x4bd65b['jid'];}else _0x208a27||(_0x208a27=(0x0,Q['v4'])());let _0x1f7dde=await this[_0x34d149(0x48b)][_0x34d149(0x2ec)][_0x34d149(0x91c)]({'where':{'_id':_0xc0c9d1}});if(!_0x1f7dde||!_0x1f7dde[_0x34d149(0x648)]?.[_0x34d149(0x51a)](this[_0x34d149(0x229)][_0x34d149(0x6d8)]))throw this[_0x34d149(0x5d3)][_0x34d149(0x90c)](this[_0x34d149(0x59f)]+'\x20('+this[_0x34d149(0x229)][_0x34d149(0x6d8)]+_0x34d149(0x6cf)+_0xc0c9d1+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x34d149(0x2be)+_0xc0c9d1+_0x34d149(0x2fa));let _0x488ad4=await this['createConversationforStartFlow'](_0x1f7dde,_0x208a27,null);if(_0x488ad4){this[_0x34d149(0x5d3)]['verbose'](this[_0x34d149(0x59f)]+'\x20('+this[_0x34d149(0x229)][_0x34d149(0x6d8)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x53288c;if(_0x344b1a){let _0x3785cf=_0x488ad4[_0x34d149(0x63a)][_0x34d149(0x7dc)],_0x7207d0=this[_0x34d149(0x7c1)](_0x344b1a);Object['assign'](_0x3785cf,_0x7207d0),_0x488ad4[_0x34d149(0x63a)][_0x34d149(0x7dc)]=_0x3785cf,_0x53288c={'error':!0x1,'apiResponse':_0x344b1a};}let _0x130e37=await this[_0x34d149(0x3ad)](_0x488ad4);return _0x130e37&&await this['processblock'](_0x488ad4,_0x130e37),{'message':'Flow\x20iniciado'};}}catch(_0x4fd22e){if(this['logger'][_0x34d149(0x90c)](this['instanceName']+'\x20('+this[_0x34d149(0x229)][_0x34d149(0x6d8)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x4fd22e instanceof Error?_0x4fd22e['message']:JSON[_0x34d149(0x3f5)](_0x4fd22e,null,0x2))),_0x451f9d=_0x4fd22e instanceof Error?_0x4fd22e[_0x34d149(0x4b4)]:JSON['stringify'](_0x4fd22e,null,0x2),_0x451f9d)throw new m(_0x34d149(0x71e)+_0x451f9d);}}async[a0_0x33f632(0x3bb)](_0x1aa523){const _0x339c54=a0_0x33f632;try{let _0x25aa0c={'remoteJid':_0x1aa523,'status':_0x339c54(0x29e)},_0xad465c={'status':_0x339c54(0x1d8)},_0x173bf5=await this[_0x339c54(0x48b)][_0x339c54(0x55e)][_0x339c54(0x89a)](_0x25aa0c,_0xad465c,this[_0x339c54(0x229)]['wuid']);return this[_0x339c54(0x5d3)][_0x339c54(0x843)](this[_0x339c54(0x59f)]+'\x20('+this['instance']['wuid']+_0x339c54(0x376)),_0x173bf5;}catch(_0x101e0b){throw this[_0x339c54(0x5d3)][_0x339c54(0x90c)](this['instanceName']+'\x20('+this[_0x339c54(0x229)][_0x339c54(0x6d8)]+_0x339c54(0x8c2)+_0x101e0b[_0x339c54(0x4b4)]),_0x101e0b;}}async[a0_0x33f632(0x245)](_0x161a14,_0x5bd1f1,_0x4cfff8){const _0x4aa549=a0_0x33f632;this[_0x4aa549(0x5d3)][_0x4aa549(0x843)](this[_0x4aa549(0x59f)]+'\x20('+this[_0x4aa549(0x229)][_0x4aa549(0x6d8)]+_0x4aa549(0x428)),await this['closeExistingConversations'](_0x5bd1f1);try{let _0x341641=require(_0x4aa549(0x385))['ObjectId'],_0x14b593=Date[_0x4aa549(0x26a)](),_0x3eaaf1='start',_0x5934c5={},_0x591706={},_0x217aa7=this[_0x4aa549(0x853)][_0x4aa549(0x1dc)][_0x4aa549(0x7fa)](_0x57d4c4=>_0x57d4c4[_0x4aa549(0x7c9)]===_0x161a14[_0x4aa549(0x7c9)]?.[_0x4aa549(0x765)]()),_0x28bacc=_0x217aa7?.[_0x4aa549(0x2b9)]??_0x161a14[_0x4aa549(0x2b9)]??0x0,_0xcbfeda=_0x217aa7?.['readMessages']??_0x161a14[_0x4aa549(0x466)]??!0x1,_0x66df98={'flowId':_0x161a14['_id'],..._0x161a14,'chatLog':null},_0x8fc0ab=await this[_0x4aa549(0x1c1)](_0x66df98[_0x4aa549(0x654)]),_0x28fc57=await this[_0x4aa549(0x3aa)](_0x5bd1f1),_0x2b3933={..._0x8fc0ab,..._0x28fc57,'_remoteJid':_0x5bd1f1},_0x1395a8={'lastReceivedMessage':_0x5934c5,'lastSendMessage':_0x591706,'lastBlockId':_0x3eaaf1,'lastCondition':!0x0,'realVariables':_0x2b3933};_0x66df98[_0x4aa549(0x63a)]=_0x1395a8,_0x66df98['chatLog']['realVariables']={..._0x2b3933,..._0x4cfff8},delete _0x66df98[_0x4aa549(0x7c9)],_0x66df98[_0x4aa549(0x7c9)]=new _0x341641(),_0x66df98[_0x4aa549(0x76b)]=_0x14b593,_0x66df98['status']=_0x4aa549(0x29e),_0x66df98[_0x4aa549(0x330)]=_0x5bd1f1,_0x66df98[_0x4aa549(0x2b9)]=_0x28bacc,_0x66df98['readMessages']=_0xcbfeda,_0x66df98[_0x4aa549(0x7c9)]=_0x161a14[_0x4aa549(0x7c9)];let _0x49b160=await this[_0x4aa549(0x48b)][_0x4aa549(0x55e)][_0x4aa549(0x215)](_0x66df98[_0x4aa549(0x7c9)],_0x66df98,this[_0x4aa549(0x229)][_0x4aa549(0x6d8)]);return this[_0x4aa549(0x5d3)][_0x4aa549(0x843)](this[_0x4aa549(0x59f)]+'\x20('+this[_0x4aa549(0x229)][_0x4aa549(0x6d8)]+_0x4aa549(0x424)),_0x49b160?_0x66df98:null;}catch(_0x58a4e4){let _0x237f30='Erro\x20ao\x20copiar\x20o\x20documento',_0x51c15c=_0x58a4e4 instanceof Error?_0x58a4e4[_0x4aa549(0x4b4)]:typeof _0x58a4e4==_0x4aa549(0x8d7)?JSON['stringify'](_0x58a4e4):_0x58a4e4,_0x5eed33=_0x237f30+':\x20'+_0x51c15c;throw this['logger'][_0x4aa549(0x90c)](this[_0x4aa549(0x59f)]+'\x20('+this[_0x4aa549(0x229)]['wuid']+_0x4aa549(0x766)+_0x5eed33),new m(_0x5eed33);}}async[a0_0x33f632(0x40b)](_0x5764c5){const _0x3f46d4=a0_0x33f632;try{this[_0x3f46d4(0x5d3)][_0x3f46d4(0x843)](this[_0x3f46d4(0x59f)]+'\x20('+this[_0x3f46d4(0x229)][_0x3f46d4(0x6d8)]+_0x3f46d4(0x588)),this[_0x3f46d4(0x5d3)]['verbose'](this['instanceName']+'\x20('+this[_0x3f46d4(0x229)][_0x3f46d4(0x6d8)]+_0x3f46d4(0x47f)+_0x5764c5);let _0x16fe24={'where':{'_id':_0x5764c5}};return await this[_0x3f46d4(0x48b)][_0x3f46d4(0x55e)]['findOne'](_0x16fe24,this[_0x3f46d4(0x229)][_0x3f46d4(0x6d8)]);}catch(_0x2cf84e){let _0x5864ed='Erro\x20ao\x20buscar\x20a\x20conversa',_0x5bc9ac=_0x2cf84e instanceof Error?_0x2cf84e[_0x3f46d4(0x4b4)]:typeof _0x2cf84e==_0x3f46d4(0x8d7)?JSON[_0x3f46d4(0x3f5)](_0x2cf84e):_0x2cf84e,_0x1ec501=_0x5864ed+':\x20'+_0x5bc9ac;throw this[_0x3f46d4(0x5d3)][_0x3f46d4(0x90c)](this[_0x3f46d4(0x59f)]+'\x20('+this[_0x3f46d4(0x229)][_0x3f46d4(0x6d8)]+'):\x20'+_0x1ec501),new m(_0x1ec501);}}async[a0_0x33f632(0x834)](_0x677c2f){const _0x4f8cc5=a0_0x33f632;try{return this[_0x4f8cc5(0x5d3)][_0x4f8cc5(0x843)](this['instanceName']+'\x20('+this[_0x4f8cc5(0x229)][_0x4f8cc5(0x6d8)]+'):\x20Buscando\x20conversas...'),await this[_0x4f8cc5(0x48b)][_0x4f8cc5(0x55e)][_0x4f8cc5(0x7fa)](_0x677c2f,this[_0x4f8cc5(0x229)][_0x4f8cc5(0x6d8)]);}catch(_0x8492cb){let _0x1ab85c=_0x4f8cc5(0x75b),_0x116c0a=_0x8492cb instanceof Error?_0x8492cb[_0x4f8cc5(0x4b4)]:typeof _0x8492cb==_0x4f8cc5(0x8d7)?JSON[_0x4f8cc5(0x3f5)](_0x8492cb):_0x8492cb,_0x4887e3=_0x1ab85c+':\x20'+_0x116c0a;throw this[_0x4f8cc5(0x5d3)]['error'](this[_0x4f8cc5(0x59f)]+'\x20('+this[_0x4f8cc5(0x229)]['wuid']+'):\x20'+_0x4887e3),new m(_0x4887e3);}}async[a0_0x33f632(0x74f)](_0x23e1f9){const _0xff9576=a0_0x33f632;try{return this[_0xff9576(0x5d3)]['verbose'](this[_0xff9576(0x59f)]+'\x20('+this[_0xff9576(0x229)][_0xff9576(0x6d8)]+_0xff9576(0x694)),this['logger'][_0xff9576(0x843)](this[_0xff9576(0x59f)]+'\x20('+this[_0xff9576(0x229)][_0xff9576(0x6d8)]+_0xff9576(0x578)+_0x23e1f9),(await this[_0xff9576(0x48b)][_0xff9576(0x55e)][_0xff9576(0x22e)]({'where':{'_id':_0x23e1f9[_0xff9576(0x7c9)]}},this[_0xff9576(0x229)][_0xff9576(0x6d8)]))[_0xff9576(0x718)]===0x0?{'message':_0xff9576(0x417)}:{'message':_0xff9576(0x736)};}catch(_0x42fb0b){let _0x329f7d=_0xff9576(0x19d),_0x5dadb9=_0x42fb0b instanceof Error?_0x42fb0b['message']:typeof _0x42fb0b==_0xff9576(0x8d7)?JSON['stringify'](_0x42fb0b):_0x42fb0b,_0x153634=_0x329f7d+':\x20'+_0x5dadb9;throw this[_0xff9576(0x5d3)][_0xff9576(0x90c)](this[_0xff9576(0x59f)]+'\x20('+this[_0xff9576(0x229)][_0xff9576(0x6d8)]+_0xff9576(0x766)+_0x153634),new m(_0x153634);}}async[a0_0x33f632(0x36a)](_0x1950c4){const _0x5956f6=a0_0x33f632;try{let {_id:_0x378662,chatLog:_0x3ea6f4,status:_0x1e63ad}=_0x1950c4;if(!_0x378662)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x5ab6a1={};if(_0x1e63ad!==void 0x0&&(_0x5ab6a1['status']=_0x1e63ad),Object[_0x5956f6(0x516)](_0x5ab6a1)[_0x5956f6(0x6ee)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x21d975=await this[_0x5956f6(0x48b)][_0x5956f6(0x55e)][_0x5956f6(0x215)](_0x378662,_0x5ab6a1,this['instance'][_0x5956f6(0x6d8)]);return _0x21d975||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x1d3a5e){let _0x43504f='Erro\x20ao\x20editar\x20a\x20conversa',_0x12e67c=_0x1d3a5e instanceof Error?_0x1d3a5e[_0x5956f6(0x4b4)]:typeof _0x1d3a5e==_0x5956f6(0x8d7)?JSON[_0x5956f6(0x3f5)](_0x1d3a5e):_0x1d3a5e,_0x4f9546=_0x43504f+':\x20'+_0x12e67c;throw this[_0x5956f6(0x5d3)]['error'](this[_0x5956f6(0x59f)]+'\x20('+this[_0x5956f6(0x229)]['wuid']+_0x5956f6(0x766)+_0x4f9546),new m(_0x4f9546);}}async[a0_0x33f632(0x1e3)](_0xea11f3){const _0x3ceb2a=a0_0x33f632;try{_0xea11f3['_id']=this[_0x3ceb2a(0x6ce)](_0xea11f3['_id']);let _0x21cc5c=await this[_0x3ceb2a(0x48b)][_0x3ceb2a(0x2cb)][_0x3ceb2a(0x91c)]({'where':{'_id':_0xea11f3[_0x3ceb2a(0x7c9)]}},this['instance']['wuid']);if(!_0x21cc5c)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x331ac5,leadInfo:_0x4ad998}=_0xea11f3;if(!_0x331ac5)throw new Error(_0x3ceb2a(0x91a));if(_0xea11f3[_0x3ceb2a(0x8ce)]===_0x3ceb2a(0x88b))return await this[_0x3ceb2a(0x28f)](_0xea11f3['_id']),await this[_0x3ceb2a(0x48b)][_0x3ceb2a(0x2cb)]['delete']({'where':{'_id':_0xea11f3['_id']}},this['instance'][_0x3ceb2a(0x6d8)]),await this['repository'][_0x3ceb2a(0x4b4)][_0x3ceb2a(0x8ce)]({'where':{'key':{'remoteJid':_0xea11f3[_0x3ceb2a(0x7c9)]}}},this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]),_0xea11f3=await this[_0x3ceb2a(0x48b)][_0x3ceb2a(0x2cb)][_0x3ceb2a(0x215)]({'where':{'_id':_0xea11f3[_0x3ceb2a(0x7c9)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]),F(this['instanceName'],_0x3ceb2a(0x228),{'chat':_0xea11f3}),{'message':_0x3ceb2a(0x5f0)};if(_0xea11f3['delete']==='messages')return await this['repository']['message'][_0x3ceb2a(0x8ce)]({'where':{'key':{'remoteJid':_0xea11f3['_id']}}},this['instance'][_0x3ceb2a(0x6d8)]),_0xea11f3=await this['repository'][_0x3ceb2a(0x2cb)][_0x3ceb2a(0x215)]({'where':{'_id':_0xea11f3[_0x3ceb2a(0x7c9)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]),F(this['instanceName'],_0x3ceb2a(0x228),{'chat':_0xea11f3}),{'message':_0x3ceb2a(0x1ed)};let _0x4f13b0=(_0x3f7473,_0x161a6c,_0x39540f)=>{const _0x140de5=_0x3ceb2a;_0x3f7473&&_0x39540f[_0x140de5(0x1d3)](_0x37ee70=>{const _0x509607=_0x140de5;_0x3f7473[_0x37ee70]!==void 0x0&&(_0x161a6c[_0x509607(0x7dd)+_0x37ee70]=_0x3f7473[_0x37ee70]);});},_0x27f974={};if('muteEndTime'in _0xea11f3&&(this['logger'][_0x3ceb2a(0x843)](this[_0x3ceb2a(0x59f)]+'\x20('+this['instance']['wuid']+_0x3ceb2a(0x5be)+_0xea11f3['_id']),_0xea11f3[_0x3ceb2a(0x78f)]=_0xea11f3[_0x3ceb2a(0x78f)]===0x0?null:-0x1,await this[_0x3ceb2a(0x467)]['chatModify']({'mute':_0xea11f3[_0x3ceb2a(0x78f)]},_0xea11f3['_id']),_0x27f974[_0x3ceb2a(0x78f)]=Number(_0xea11f3[_0x3ceb2a(0x78f)])),_0x4ad998&&(_0x4f13b0(_0x4ad998,_0x27f974,['nome',_0x3ceb2a(0x7f5),_0x3ceb2a(0x798),_0x3ceb2a(0x2c4),_0x3ceb2a(0x3ee),_0x3ceb2a(0x6da),_0x3ceb2a(0x3ab),'atendimentoAberto',_0x3ceb2a(0x795),_0x3ceb2a(0x54e),_0x3ceb2a(0x4f6)]),Array[_0x3ceb2a(0x3cd)](_0x4ad998[_0x3ceb2a(0x859)])&&(_0x27f974[_0x3ceb2a(0x3d5)]=_0x4ad998[_0x3ceb2a(0x859)][_0x3ceb2a(0x3dc)](_0x150214=>({'_id':_0x150214[_0x3ceb2a(0x7c9)],'value':_0x150214[_0x3ceb2a(0x355)]}))),_0xea11f3['leadInfo'][_0x3ceb2a(0x54e)]!==void 0x0)){let _0x7b3d90=await this[_0x3ceb2a(0x48b)]['label'][_0x3ceb2a(0x7fa)]({'where':{}},this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]),_0x2a6b1d=new Set(_0xea11f3['leadInfo'][_0x3ceb2a(0x54e)]||[]),_0x23152d=new Set(_0xea11f3[_0x3ceb2a(0x6a6)][_0x3ceb2a(0x54e)]),_0x3b60ad=new Set(_0x7b3d90[_0x3ceb2a(0x3dc)](_0x4eeebd=>_0x4eeebd[_0x3ceb2a(0x7c9)])),_0x34576d=[..._0x23152d][_0x3ceb2a(0x550)](_0x31095e=>!_0x2a6b1d[_0x3ceb2a(0x6fe)](_0x31095e)&&_0x3b60ad['has'](_0x31095e)),_0x3ea7cc=[..._0x2a6b1d][_0x3ceb2a(0x550)](_0x50fc6a=>!_0x23152d[_0x3ceb2a(0x6fe)](_0x50fc6a));if(_0x27f974[_0x3ceb2a(0x746)]=[..._0x2a6b1d],_0x21cc5c&&!_0x21cc5c[_0x3ceb2a(0x701)]){for(let _0x45befc of _0x34576d)await this['AddChatLabel'](_0x45befc,_0xea11f3[_0x3ceb2a(0x7c9)]),_0x2a6b1d[_0x3ceb2a(0x1af)](_0x45befc);for(let _0x3f88c1 of _0x3ea7cc)await this[_0x3ceb2a(0x773)](_0x3f88c1,_0xea11f3['_id']),_0x2a6b1d[_0x3ceb2a(0x8ce)](_0x3f88c1);}}if(_0xea11f3['unreadcount']!==void 0x0&&(_0x27f974[_0x3ceb2a(0x465)]=Number(_0xea11f3[_0x3ceb2a(0x465)])),Object[_0x3ceb2a(0x516)](_0x27f974)['length']===0x0)throw new Error(_0x3ceb2a(0x369));let _0x476f6c=await this['repository'][_0x3ceb2a(0x2cb)][_0x3ceb2a(0x215)]({'where':{'_id':_0xea11f3[_0x3ceb2a(0x7c9)]}},_0x27f974,this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]);return _0x476f6c&&F(this['instanceName'],'chats',{'chat':_0x476f6c}),_0x476f6c?(this[_0x3ceb2a(0x5d3)]['verbose'](this[_0x3ceb2a(0x59f)]+'\x20('+this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]+_0x3ceb2a(0x766)+JSON[_0x3ceb2a(0x3f5)](_0x476f6c,null,0x2)),_0x476f6c):{'message':_0x3ceb2a(0x1bd)};}catch(_0x1098f9){let _0x32ff24=_0x3ceb2a(0x872),_0x4691bb=_0x1098f9 instanceof Error?_0x1098f9[_0x3ceb2a(0x4b4)]:typeof _0x1098f9==_0x3ceb2a(0x8d7)?JSON[_0x3ceb2a(0x3f5)](_0x1098f9):_0x1098f9,_0xfd667e=_0x32ff24+':\x20'+_0x4691bb;throw this['logger'][_0x3ceb2a(0x90c)](this[_0x3ceb2a(0x59f)]+'\x20('+this[_0x3ceb2a(0x229)][_0x3ceb2a(0x6d8)]+'):\x20'+_0xfd667e),new m(_0xfd667e);}}async['AddChatLabel'](_0x3ddec9,_0x2f33b5){const _0x237a76=a0_0x33f632;try{await this[_0x237a76(0x467)]['addChatLabel'](_0x2f33b5,_0x3ddec9),this[_0x237a76(0x5d3)][_0x237a76(0x8ef)](this[_0x237a76(0x59f)]+'\x20('+this['instance']['wuid']+_0x237a76(0x284)+_0x3ddec9+_0x237a76(0x52f)+_0x2f33b5+_0x237a76(0x624));}catch(_0xc7a4cb){this[_0x237a76(0x5d3)]['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x3ddec9+'\x20ao\x20chat\x20'+_0x2f33b5+':\x20'+_0xc7a4cb);}}async[a0_0x33f632(0x773)](_0x188ec3,_0x4237b4){const _0x44db02=a0_0x33f632;try{await this[_0x44db02(0x467)]['removeChatLabel'](_0x4237b4,_0x188ec3),this[_0x44db02(0x5d3)][_0x44db02(0x8ef)](this[_0x44db02(0x59f)]+'\x20('+this['instance'][_0x44db02(0x6d8)]+_0x44db02(0x284)+_0x188ec3+_0x44db02(0x28c)+_0x4237b4+'\x20com\x20sucesso.');}catch(_0x2c97d4){this[_0x44db02(0x5d3)][_0x44db02(0x90c)](_0x44db02(0x8f5)+_0x188ec3+_0x44db02(0x51b)+_0x4237b4+':\x20'+_0x2c97d4);}}async[a0_0x33f632(0x597)](_0x26eb4a){const _0x2a4dba=a0_0x33f632;try{let _0x144dd1=await this['repository'][_0x2a4dba(0x8b5)]['findOrCreate'](this['instance'][_0x2a4dba(0x6d8)]),_0x1d9052=_0x26eb4a[_0x2a4dba(0x7c9)]?_0x144dd1[_0x2a4dba(0x6ab)][_0x2a4dba(0x7fe)](_0x4759d1=>_0x4759d1['_id']===_0x26eb4a[_0x2a4dba(0x7c9)]):-0x1;if(_0x26eb4a['delete']&&_0x1d9052>-0x1)_0x144dd1['agents'][_0x2a4dba(0x8f6)](_0x1d9052,0x1);else{if(_0x1d9052>-0x1){let _0x2c7d09=_0x144dd1['agents'][_0x1d9052];_0x26eb4a[_0x2a4dba(0x214)]&&(_0x2c7d09[_0x2a4dba(0x214)]=_0x26eb4a[_0x2a4dba(0x214)]),_0x26eb4a[_0x2a4dba(0x254)]&&(_0x2c7d09['name']=_0x26eb4a['name']),_0x26eb4a[_0x2a4dba(0x798)]&&(_0x2c7d09[_0x2a4dba(0x798)]=_0x26eb4a[_0x2a4dba(0x798)]),_0x26eb4a[_0x2a4dba(0x692)]&&(_0x2c7d09[_0x2a4dba(0x692)]=_0x26eb4a['role']);}else _0x144dd1[_0x2a4dba(0x6ab)][_0x2a4dba(0x2cc)]({'_id':_0x26eb4a[_0x2a4dba(0x7c9)]||new pe[(_0x2a4dba(0x844))]['Types'][(_0x2a4dba(0x378))]()[_0x2a4dba(0x765)](),'fone':_0x26eb4a[_0x2a4dba(0x214)],'name':_0x26eb4a['name'],'email':_0x26eb4a[_0x2a4dba(0x798)],'role':_0x26eb4a['role']});}let _0x4dc94d={'agents':_0x144dd1[_0x2a4dba(0x6ab)]},_0x3df12d=await this[_0x2a4dba(0x48b)][_0x2a4dba(0x8b5)][_0x2a4dba(0x1df)](_0x4dc94d,this[_0x2a4dba(0x229)][_0x2a4dba(0x6d8)]);return this[_0x2a4dba(0x853)]=_0x3df12d,this[_0x2a4dba(0x5d3)][_0x2a4dba(0x843)](this['instanceName']+'\x20('+this[_0x2a4dba(0x229)][_0x2a4dba(0x6d8)]+_0x2a4dba(0x813)),this[_0x2a4dba(0x5d3)][_0x2a4dba(0x843)](this['instanceName']+'\x20('+this['instance'][_0x2a4dba(0x6d8)]+'):\x20'+this[_0x2a4dba(0x853)]),_0x3df12d;}catch(_0x2686f6){let _0x530e84=_0x2a4dba(0x7be),_0x2d237c=_0x2686f6 instanceof Error?_0x2686f6['message']:typeof _0x2686f6==_0x2a4dba(0x8d7)?JSON[_0x2a4dba(0x3f5)](_0x2686f6):_0x2686f6,_0x237364=_0x530e84+':\x20'+_0x2d237c;throw this[_0x2a4dba(0x5d3)][_0x2a4dba(0x90c)](this[_0x2a4dba(0x59f)]+'\x20('+this[_0x2a4dba(0x229)][_0x2a4dba(0x6d8)]+'):\x20'+_0x237364),new m(_0x237364);}}async[a0_0x33f632(0x34f)](_0x403339){const _0x391d01=a0_0x33f632;try{let _0x8f5abe=await this[_0x391d01(0x48b)]['automateSystem']['findOrCreate'](this[_0x391d01(0x229)][_0x391d01(0x6d8)]),_0x4576c7=_0x403339[_0x391d01(0x7c9)]?_0x8f5abe[_0x391d01(0x859)][_0x391d01(0x7fe)](_0x4f9c5c=>_0x4f9c5c[_0x391d01(0x7c9)]===_0x403339[_0x391d01(0x7c9)]):-0x1,_0x4c78a6=!0x1,_0x57abb6=_0x8f5abe[_0x391d01(0x859)]['some'](_0x3da757=>_0x3da757[_0x391d01(0x841)]===_0x403339['order']);if(_0x403339[_0x391d01(0x8ce)]&&_0x4576c7>-0x1)_0x8f5abe['customFields'][_0x391d01(0x8f6)](_0x4576c7,0x1),_0x4c78a6=!0x0;else{if(_0x4576c7>-0x1){if(_0x8f5abe[_0x391d01(0x859)][_0x391d01(0x727)](_0x317c93=>_0x317c93['name']===_0x403339['name']&&_0x317c93['_id']!==_0x403339[_0x391d01(0x7c9)]))throw new Error(_0x391d01(0x882));let _0x2b4529=_0x8f5abe['customFields'][_0x4576c7];_0x403339[_0x391d01(0x841)]&&(_0x57abb6||!Number[_0x391d01(0x1a1)](_0x403339['order']))&&(_0x2b4529['order']=_0x403339[_0x391d01(0x841)],_0x4c78a6=!0x0),_0x403339[_0x391d01(0x254)]&&(_0x2b4529[_0x391d01(0x254)]=_0x403339['name']);}else{if(_0x8f5abe[_0x391d01(0x859)][_0x391d01(0x727)](_0x150f18=>_0x150f18['name']===_0x403339[_0x391d01(0x254)]&&_0x150f18[_0x391d01(0x7c9)]!==_0x403339[_0x391d01(0x7c9)]))throw new Error(_0x391d01(0x882));_0x8f5abe['customFields'][_0x391d01(0x2cc)]({'_id':_0x403339[_0x391d01(0x7c9)]||new pe[(_0x391d01(0x844))][(_0x391d01(0x1db))][(_0x391d01(0x378))]()['toString'](),'order':_0x403339['order'],'name':_0x403339[_0x391d01(0x254)]}),_0x4c78a6=!0x0;}}if(_0x4c78a6){_0x8f5abe['customFields'][_0x391d01(0x835)]((_0x16cbef,_0x38719c)=>_0x16cbef[_0x391d01(0x841)]>_0x38719c[_0x391d01(0x841)]?0x1:_0x38719c['order']>_0x16cbef[_0x391d01(0x841)]?-0x1:0x0);for(let _0x4bca5b=0x0;_0x4bca5b<_0x8f5abe[_0x391d01(0x859)][_0x391d01(0x6ee)];_0x4bca5b++)_0x8f5abe[_0x391d01(0x859)][_0x4bca5b][_0x391d01(0x841)]=_0x4bca5b+0x1;}let _0x4e62ea=await this[_0x391d01(0x48b)]['automateSystem'][_0x391d01(0x1df)](_0x8f5abe,this[_0x391d01(0x229)][_0x391d01(0x6d8)]);return this['AutomateSystem']=_0x4e62ea,this[_0x391d01(0x5d3)][_0x391d01(0x843)](this[_0x391d01(0x59f)]+'\x20('+this['instance'][_0x391d01(0x6d8)]+_0x391d01(0x41a)),this[_0x391d01(0x5d3)]['verbose'](this[_0x391d01(0x59f)]+'\x20('+this[_0x391d01(0x229)][_0x391d01(0x6d8)]+'):\x20'+this[_0x391d01(0x853)]),_0x4e62ea;}catch(_0x3f49de){let _0x5027b3=_0x391d01(0x851),_0x533a02=_0x3f49de instanceof Error?_0x3f49de['message']:typeof _0x3f49de=='object'?JSON[_0x391d01(0x3f5)](_0x3f49de):_0x3f49de,_0x1042ed=_0x5027b3+':\x20'+_0x533a02;throw this['logger'][_0x391d01(0x90c)](this[_0x391d01(0x59f)]+'\x20('+this[_0x391d01(0x229)][_0x391d01(0x6d8)]+_0x391d01(0x766)+_0x1042ed),new m(_0x1042ed);}}async[a0_0x33f632(0x2a3)](_0x230bbf){const _0x1df85b=a0_0x33f632;try{let _0x46541a=await this[_0x1df85b(0x48b)][_0x1df85b(0x8b5)][_0x1df85b(0x41d)](this[_0x1df85b(0x229)][_0x1df85b(0x6d8)]),_0x1134f9=_0x46541a?.[_0x1df85b(0x20e)]?.['findIndex'](_0x5ac490=>_0x5ac490['_id']===_0x230bbf?.[_0x1df85b(0x7c9)]);if(_0x230bbf?.[_0x1df85b(0x8ce)])_0x1134f9>-0x1&&_0x46541a?.[_0x1df85b(0x20e)]?.[_0x1df85b(0x8f6)](_0x1134f9,0x1);else{if(_0x1134f9>-0x1){let _0x90a274=_0x46541a['autoCompleteMessages'][_0x1134f9];_0x90a274[_0x1df85b(0x841)]=_0x230bbf?.['order']||_0x90a274['order'],_0x90a274[_0x1df85b(0x7cf)]=_0x230bbf?.['command']||_0x90a274[_0x1df85b(0x7cf)],_0x90a274[_0x1df85b(0x4b4)]=_0x230bbf?.[_0x1df85b(0x4b4)]||_0x90a274['message'];}else{let _0x2e7157={'_id':_0x230bbf?.[_0x1df85b(0x7c9)]||new pe[(_0x1df85b(0x844))][(_0x1df85b(0x1db))][(_0x1df85b(0x378))]()['toString'](),'order':_0x230bbf?.[_0x1df85b(0x841)],'command':_0x230bbf?.[_0x1df85b(0x7cf)],'message':_0x230bbf?.[_0x1df85b(0x4b4)]};_0x46541a?.['autoCompleteMessages']?.[_0x1df85b(0x2cc)](_0x2e7157);}}_0x46541a?.[_0x1df85b(0x20e)]?.[_0x1df85b(0x835)]((_0x1ae08b,_0x1c6631)=>_0x1ae08b[_0x1df85b(0x841)]-_0x1c6631[_0x1df85b(0x841)]);let _0x158426=await this['repository'][_0x1df85b(0x8b5)][_0x1df85b(0x1df)](_0x46541a,this[_0x1df85b(0x229)][_0x1df85b(0x6d8)]);return this['AutomateSystem']=_0x158426,this[_0x1df85b(0x5d3)][_0x1df85b(0x843)](this[_0x1df85b(0x59f)]+'\x20('+this['instance'][_0x1df85b(0x6d8)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x158426;}catch(_0x5dbda9){let _0x2f216d='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x58e8c0=_0x5dbda9 instanceof Error?_0x5dbda9[_0x1df85b(0x4b4)]:typeof _0x5dbda9==_0x1df85b(0x8d7)?JSON[_0x1df85b(0x3f5)](_0x5dbda9):_0x5dbda9,_0x2cf116=_0x2f216d+':\x20'+_0x58e8c0;throw this[_0x1df85b(0x5d3)]['error'](this[_0x1df85b(0x59f)]+'\x20('+this[_0x1df85b(0x229)][_0x1df85b(0x6d8)]+_0x1df85b(0x766)+_0x2cf116),new m(_0x2cf116);}}async[a0_0x33f632(0x677)](_0x27100d){const _0x15b5b7=a0_0x33f632;try{let _0x270932=await this[_0x15b5b7(0x48b)][_0x15b5b7(0x8b5)][_0x15b5b7(0x41d)](this[_0x15b5b7(0x229)][_0x15b5b7(0x6d8)]);if(!_0x270932)throw new Error(_0x15b5b7(0x587));let _0x16acbd={'_id':_0x270932[_0x15b5b7(0x7c9)],'flowConfig':{'enabled':_0x27100d[_0x15b5b7(0x1d7)]??_0x270932[_0x15b5b7(0x6b2)][_0x15b5b7(0x1d7)],'ignoreGroups':_0x27100d[_0x15b5b7(0x444)]??_0x270932[_0x15b5b7(0x6b2)][_0x15b5b7(0x444)],'stopConversation':_0x27100d[_0x15b5b7(0x6c0)][_0x15b5b7(0x3f4)]()??_0x270932['flowConfig'][_0x15b5b7(0x6c0)][_0x15b5b7(0x3f4)](),'stopMinutes':_0x27100d['stopMinutes']??_0x270932[_0x15b5b7(0x6b2)][_0x15b5b7(0x48a)],'stopWhenYouSendMsg':_0x27100d[_0x15b5b7(0x288)]??_0x270932['flowConfig'][_0x15b5b7(0x288)]}},_0x421cf3=await this[_0x15b5b7(0x48b)][_0x15b5b7(0x8b5)][_0x15b5b7(0x1df)](_0x16acbd,this['instance'][_0x15b5b7(0x6d8)]);return this[_0x15b5b7(0x853)]=_0x421cf3,this['logger']['verbose'](this[_0x15b5b7(0x59f)]+'\x20('+this[_0x15b5b7(0x229)][_0x15b5b7(0x6d8)]+_0x15b5b7(0x813)),this[_0x15b5b7(0x5d3)]['verbose'](this[_0x15b5b7(0x59f)]+'\x20('+this['instance'][_0x15b5b7(0x6d8)]+_0x15b5b7(0x766)+this['AutomateSystem']),setTimeout(()=>this[_0x15b5b7(0x601)](),0x7d0),_0x421cf3;}catch(_0x416f5f){let _0x418dcb=_0x15b5b7(0x456),_0x459d2f=_0x416f5f instanceof Error?_0x416f5f[_0x15b5b7(0x4b4)]:typeof _0x416f5f==_0x15b5b7(0x8d7)?JSON[_0x15b5b7(0x3f5)](_0x416f5f):_0x416f5f,_0x3985d5=_0x418dcb+':\x20'+_0x459d2f;throw this[_0x15b5b7(0x5d3)]['error'](this[_0x15b5b7(0x59f)]+'\x20('+this[_0x15b5b7(0x229)]['wuid']+_0x15b5b7(0x766)+_0x3985d5),new m(_0x3985d5);}}async[a0_0x33f632(0x6ac)](){const _0x2867fe=a0_0x33f632;try{let _0x478d1f=await this[_0x2867fe(0x48b)][_0x2867fe(0x8b5)]['findOrCreate'](this[_0x2867fe(0x229)][_0x2867fe(0x6d8)]);return this[_0x2867fe(0x853)]=_0x478d1f,_0x478d1f;}catch(_0x1968c9){let _0xb57a7c=_0x2867fe(0x3b6),_0x2b97e1=_0x1968c9 instanceof Error?_0x1968c9[_0x2867fe(0x4b4)]:typeof _0x1968c9==_0x2867fe(0x8d7)?JSON[_0x2867fe(0x3f5)](_0x1968c9):_0x1968c9,_0x1ee212=_0xb57a7c+':\x20'+_0x2b97e1;throw this['logger'][_0x2867fe(0x90c)](this['instanceName']+'\x20('+this[_0x2867fe(0x229)]['wuid']+_0x2867fe(0x766)+_0x1ee212),new m(_0x1ee212);}}async[a0_0x33f632(0x396)](){const _0x511c07=a0_0x33f632;let _0x1892ca=(await import(_0x511c07(0x633)))[_0x511c07(0x844)];this[_0x511c07(0x6bf)]=new _0x1892ca({'concurrency':0x1});}async[a0_0x33f632(0x2ea)](){const _0x4ddbb1=a0_0x33f632;this[_0x4ddbb1(0x229)]['ScheduleMessage'][_0x4ddbb1(0x3a3)]&&clearTimeout(this[_0x4ddbb1(0x229)][_0x4ddbb1(0x8fb)][_0x4ddbb1(0x3a3)]),this[_0x4ddbb1(0x229)][_0x4ddbb1(0x8fb)][_0x4ddbb1(0x3a3)]=setTimeout(()=>{const _0x1ad90f=_0x4ddbb1;this[_0x1ad90f(0x49f)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x332c72=a0_0x33f632;let _0x67a7d5=this[_0x332c72(0x229)][_0x332c72(0x8fb)][_0x332c72(0x2fb)];(_0x67a7d5===0x0||_0x67a7d5===null||Date[_0x332c72(0x26a)]()-_0x67a7d5>=0x1d4c0)&&(this[_0x332c72(0x5d3)][_0x332c72(0x843)](this[_0x332c72(0x59f)]+'\x20('+this[_0x332c72(0x229)]['wuid']+_0x332c72(0x81c)),this[_0x332c72(0x229)][_0x332c72(0x8fb)][_0x332c72(0x615)]=null,this[_0x332c72(0x229)]['ScheduleMessage']['lastSend']=0x0,this[_0x332c72(0x229)][_0x332c72(0x8fb)]['delayMessage']=0x0,await this[_0x332c72(0x601)]());}async[a0_0x33f632(0x601)](){const _0x33c391=a0_0x33f632;this['logger'][_0x33c391(0x909)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x33c391(0x625)),await this['transformScheduledMessagesByType']();let _0x4ee682=await this[_0x33c391(0x883)]();_0x4ee682[_0x33c391(0x6ee)]>0x0&&(setTimeout(()=>this[_0x33c391(0x49f)](),0x14*0x3e8),this[_0x33c391(0x5d3)][_0x33c391(0x909)](this[_0x33c391(0x59f)]+'\x20('+this[_0x33c391(0x229)]['wuid']+_0x33c391(0x2e7)),this[_0x33c391(0x6bf)][_0x33c391(0x90d)](),this[_0x33c391(0x6bf)]['add'](()=>this[_0x33c391(0x2dc)](_0x4ee682)));let _0x3bede9={'where':{'status':_0x33c391(0x1d5),'when':{'$gt':Date[_0x33c391(0x26a)]()}}},_0x36cf2d=await this[_0x33c391(0x48b)]['scheduleMessage'][_0x33c391(0x91c)](_0x3bede9,this[_0x33c391(0x229)][_0x33c391(0x6d8)]);_0x36cf2d&&_0x36cf2d['when']-Date[_0x33c391(0x26a)]()<=0x6ddd00?this['instance']['ScheduleMessage'][_0x33c391(0x719)]=_0x36cf2d[_0x33c391(0x702)]-Date[_0x33c391(0x26a)]():this[_0x33c391(0x229)]['ScheduleMessage'][_0x33c391(0x719)]=(0x3c+Math[_0x33c391(0x7a1)](Math['random']()*0x3c))*0x3c*0x3e8,this['instance'][_0x33c391(0x8fb)][_0x33c391(0x719)]=Math[_0x33c391(0x70b)](this['instance'][_0x33c391(0x8fb)]['delayMessage'],0x1*0x2*0x3e8);let _0x1cafc3=Math['round'](this[_0x33c391(0x229)][_0x33c391(0x8fb)][_0x33c391(0x719)]/0xea60);if(_0x36cf2d){let _0x419689=new Date(_0x36cf2d['when'])['toLocaleString']();this[_0x33c391(0x5d3)]['warn'](this[_0x33c391(0x59f)]+'\x20('+this[_0x33c391(0x229)][_0x33c391(0x6d8)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x419689+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x1cafc3+_0x33c391(0x937));}else this['logger'][_0x33c391(0x909)](this[_0x33c391(0x59f)]+'\x20('+this[_0x33c391(0x229)][_0x33c391(0x6d8)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x1cafc3+_0x33c391(0x937));setTimeout(()=>{const _0x1ae91c=_0x33c391;this[_0x1ae91c(0x601)]();},this[_0x33c391(0x229)][_0x33c391(0x8fb)][_0x33c391(0x719)]);}async[a0_0x33f632(0x883)](){const _0x48b695=a0_0x33f632;this[_0x48b695(0x5d3)][_0x48b695(0x909)](this[_0x48b695(0x59f)]+'\x20('+this[_0x48b695(0x229)][_0x48b695(0x6d8)]+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x22ff83=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x5d8880={'where':{'status':{'$in':[_0x48b695(0x1d5),'sending']},'$or':[{'when':{'$lte':Date[_0x48b695(0x26a)](),'$gte':_0x22ff83}},{'when':0x0}]}},_0x2d38f3=await this['repository'][_0x48b695(0x667)][_0x48b695(0x7fa)](_0x5d8880,this[_0x48b695(0x229)]['wuid']);return this[_0x48b695(0x5d3)][_0x48b695(0x909)](this[_0x48b695(0x59f)]+'\x20('+this['instance']['wuid']+'):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20'+_0x2d38f3[_0x48b695(0x6ee)]),_0x2d38f3;}async['processReadyMessages'](_0xde6bd){const _0x50cc94=a0_0x33f632;this['logger']['warn'](this['instanceName']+'\x20('+this[_0x50cc94(0x229)]['wuid']+_0x50cc94(0x81a));let _0x5f5516=0x3*0x3e8,_0x2ebc9a=0x8*0x3e8,_0x145d86=Math[_0x50cc94(0x7a1)](Math[_0x50cc94(0x3cf)]()*(_0x2ebc9a-_0x5f5516+0x1))+_0x5f5516,_0x34269e=()=>this[_0x50cc94(0x901)][_0x50cc94(0x6ee)]===0x0?null:this[_0x50cc94(0x901)]['reduce']((_0x410d87,_0x31acc6)=>(_0x410d87[_0x50cc94(0x841)]??Number['MAX_SAFE_INTEGER'])<(_0x31acc6[_0x50cc94(0x841)]??Number[_0x50cc94(0x79c)])?_0x410d87:_0x31acc6,this[_0x50cc94(0x901)][0x0]);_0xde6bd=await this['getReadyToSendMessages']();for(let _0x2b2867 of _0xde6bd){await this[_0x50cc94(0x2ea)]();let _0xd18f66=0x3*0x3e8,_0x4901a8={'_id':_0x2b2867[_0x50cc94(0x7c9)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0xd18f66}}]},_0x54a626={'startSend':Date[_0x50cc94(0x26a)](),'status':'sending'},_0x53d904=await this[_0x50cc94(0x48b)][_0x50cc94(0x667)][_0x50cc94(0x215)](_0x4901a8,_0x54a626,this['instance']['wuid']);if(this[_0x50cc94(0x901)]=_0x53d904[_0x50cc94(0x613)]['filter'](_0x3fb2a2=>!_0x3fb2a2[_0x50cc94(0x226)]),!_0x53d904){setTimeout(()=>this[_0x50cc94(0x49f)](),0xa*0x3e8);continue;}if(this[_0x50cc94(0x229)][_0x50cc94(0x8fb)]['processingGroup']=_0x53d904,!this[_0x50cc94(0x229)]['ScheduleMessage'][_0x50cc94(0x839)]){this[_0x50cc94(0x5d3)]['warn'](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x33c));break;}for(;this[_0x50cc94(0x901)][_0x50cc94(0x6ee)]>0x0;){await this['setRestartTimeout']();let _0x37f483=_0x34269e();if(!_0x37f483)break;let _0x276038=_0x2b2867['messages'][_0x50cc94(0x7fa)](_0xddf353=>_0xddf353[_0x50cc94(0x7c9)]===_0x37f483[_0x50cc94(0x7c9)]);if(!_0x276038)break;if(this[_0x50cc94(0x229)][_0x50cc94(0x8fb)][_0x50cc94(0x2fb)]=Date[_0x50cc94(0x26a)](),_0x276038[_0x50cc94(0x226)]){this[_0x50cc94(0x5d3)][_0x50cc94(0x909)](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x650)+_0x276038[_0x50cc94(0x330)]+_0x50cc94(0x2e0)),this[_0x50cc94(0x901)]=this['pendingMessages'][_0x50cc94(0x550)](_0x186cf9=>_0x186cf9[_0x50cc94(0x7c9)]!==_0x276038[_0x50cc94(0x7c9)]);continue;}if(!this[_0x50cc94(0x229)][_0x50cc94(0x8fb)][_0x50cc94(0x839)]){this[_0x50cc94(0x5d3)]['warn'](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x490));break;}if(!this[_0x50cc94(0x229)]['ScheduleMessage'][_0x50cc94(0x615)]){this[_0x50cc94(0x5d3)]['warn'](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x36f)+_0x2b2867['_id']+_0x50cc94(0x8b1));break;}let _0x4270be={'idControl':_0x276038[_0x50cc94(0x7c9)],'remoteJid':_0x276038['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x50cc94(0x26a)]()},_0x21e99b=null;try{this[_0x50cc94(0x5d3)]['warn'](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)]['wuid']+_0x50cc94(0x8c9)+_0x276038[_0x50cc94(0x330)]);let _0x87a400=await Promise[_0x50cc94(0x930)]([this['SendScheduleMessage'](_0x276038[_0x50cc94(0x330)],_0x276038),this[_0x50cc94(0x6d5)](0x78*0x3e8)]);_0x4270be[_0x50cc94(0x90c)]=_0x87a400['error'],_0x4270be['id']=_0x87a400[_0x50cc94(0x90c)]?null:_0x87a400['id'],_0x4270be['error_log']=_0x87a400['error']?_0x87a400['detail']?_0x87a400[_0x50cc94(0x422)]['toString']():'':null;let _0x3fc05a=_0x2b2867[_0x50cc94(0x613)][_0x50cc94(0x7fe)](_0x325948=>_0x325948[_0x50cc94(0x7c9)]===_0x276038[_0x50cc94(0x7c9)]);_0x3fc05a!==-0x1&&(_0x2b2867[_0x50cc94(0x613)][_0x3fc05a][_0x50cc94(0x226)]=!0x0);let _0x2fccbb={'$push':{'messagesSend':_0x4270be},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2d196c=[{'elem._id':_0x276038[_0x50cc94(0x7c9)]}];if(this['logger'][_0x50cc94(0x909)](this['instanceName']+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x73e)+_0x276038[_0x50cc94(0x7c9)]),_0x21e99b=await this[_0x50cc94(0x48b)][_0x50cc94(0x667)][_0x50cc94(0x215)]({'_id':_0x2b2867['_id']},_0x2fccbb,this[_0x50cc94(0x229)][_0x50cc94(0x6d8)],{'arrayFilters':_0x2d196c}),_0x87a400[_0x50cc94(0x90c)]){this[_0x50cc94(0x5d3)][_0x50cc94(0x90c)](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)]['wuid']+_0x50cc94(0x934)+_0x87a400[_0x50cc94(0x422)]);continue;}let _0x3d7fb8=this['getDelay'](_0x2b2867[_0x50cc94(0x876)],_0x2b2867[_0x50cc94(0x3a2)]);await this['sleep'](_0x3d7fb8);}catch(_0xe1b502){this[_0x50cc94(0x5d3)][_0x50cc94(0x90c)](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x6b9)+_0x276038['remoteJid']+':\x20'+(_0xe1b502 instanceof Error?_0xe1b502[_0x50cc94(0x4b4)]:JSON[_0x50cc94(0x3f5)](_0xe1b502,null,0x2))),_0x4270be[_0x50cc94(0x90c)]=!0x0,_0x4270be['error_log']=_0xe1b502[_0x50cc94(0x4b4)];let _0x5f01b6=_0x2b2867[_0x50cc94(0x613)]['findIndex'](_0x42cc8c=>_0x42cc8c[_0x50cc94(0x7c9)]===_0x276038[_0x50cc94(0x7c9)]);_0x5f01b6!==-0x1&&(_0x2b2867[_0x50cc94(0x613)][_0x5f01b6][_0x50cc94(0x226)]=!0x0);let _0x4e6e92={'$push':{'messagesSend':_0x4270be},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x100b75=[{'elem._id':_0x276038[_0x50cc94(0x7c9)]}];this[_0x50cc94(0x5d3)][_0x50cc94(0x909)](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)]['wuid']+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x276038[_0x50cc94(0x7c9)]),_0x21e99b=await this['repository'][_0x50cc94(0x667)][_0x50cc94(0x215)]({'_id':_0x2b2867[_0x50cc94(0x7c9)]},_0x4e6e92,this['instance'][_0x50cc94(0x6d8)],{'arrayFilters':_0x100b75});}finally{if(_0x21e99b&&_0x21e99b[_0x50cc94(0x3ee)]===_0x50cc94(0x804)){this[_0x50cc94(0x5d3)]['warn'](this['instanceName']+'\x20('+this[_0x50cc94(0x229)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x276038[_0x50cc94(0x7c9)]+_0x50cc94(0x6cc));break;}let _0x232306=_0x21e99b[_0x50cc94(0x613)][_0x50cc94(0x7fa)](_0x3f1a8e=>_0x3f1a8e['_id']===_0x276038[_0x50cc94(0x7c9)]);if(_0x232306&&!_0x232306[_0x50cc94(0x226)]){let _0x5c0b82={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1eef91=[{'elem._id':_0x276038[_0x50cc94(0x7c9)]}];await this[_0x50cc94(0x48b)][_0x50cc94(0x667)][_0x50cc94(0x215)]({'_id':_0x21e99b[_0x50cc94(0x7c9)]},_0x5c0b82,this[_0x50cc94(0x229)][_0x50cc94(0x6d8)],{'arrayFilters':_0x1eef91});}if(this[_0x50cc94(0x901)]=_0x21e99b['messages'][_0x50cc94(0x550)](_0x4a1a7f=>!_0x4a1a7f[_0x50cc94(0x226)]),!this[_0x50cc94(0x229)]['ScheduleMessage'][_0x50cc94(0x615)]){await this[_0x50cc94(0x2ea)](),this[_0x50cc94(0x5d3)][_0x50cc94(0x909)](this[_0x50cc94(0x59f)]+'\x20('+this[_0x50cc94(0x229)][_0x50cc94(0x6d8)]+_0x50cc94(0x36f)+_0x2b2867['_id']+_0x50cc94(0x8b1));break;}}}this['pendingMessages']=[];let _0x49b5a3=await this[_0x50cc94(0x48b)][_0x50cc94(0x667)]['findById'](_0x2b2867[_0x50cc94(0x7c9)],this['instance'][_0x50cc94(0x6d8)]);if(_0x49b5a3[_0x50cc94(0x613)][_0x50cc94(0x817)](_0x13e06f=>_0x13e06f['triedToSend'])&&_0x49b5a3['status']!==_0x50cc94(0x804)){let _0x427de6={'$set':{'status':_0x50cc94(0x5a7)}};await this['repository'][_0x50cc94(0x667)][_0x50cc94(0x83e)](_0x49b5a3['_id'],_0x427de6,this['instance'][_0x50cc94(0x6d8)]);}await new Promise(_0x1b2a72=>setTimeout(_0x1b2a72,_0x145d86)),global['gc']?global['gc']():console[_0x50cc94(0x909)](_0x50cc94(0x7a6));}}[a0_0x33f632(0x6d5)](_0x50d671){const _0x4bc937=a0_0x33f632;return new Promise((_0xa47f15,_0x1cbf22)=>setTimeout(()=>_0x1cbf22(new Error(_0x4bc937(0x7de))),_0x50d671));}[a0_0x33f632(0x4cc)](_0x56b70c,_0x558b68){const _0x572869=a0_0x33f632;return _0x56b70c=Math[_0x572869(0x70b)](0.5,_0x56b70c),_0x558b68=Math['min'](Math[_0x572869(0x70b)](0x3,_0x558b68),0x78),Math['floor'](Math[_0x572869(0x3cf)]()*(_0x558b68-_0x56b70c+0x1)+_0x56b70c)*0x3e8;}[a0_0x33f632(0x63f)](_0x5de873){return new Promise(_0x814ca3=>setTimeout(_0x814ca3,_0x5de873));}async[a0_0x33f632(0x3aa)](_0x277082){const _0x23117e=a0_0x33f632;if(!this[_0x23117e(0x853)]&&(await this[_0x23117e(0x6ac)](),!this['AutomateSystem']))return null;_0x277082=this[_0x23117e(0x6ce)](_0x277082);let _0x3a88a0=await this[_0x23117e(0x48b)][_0x23117e(0x2cb)][_0x23117e(0x91c)]({'where':{'_id':_0x277082}},this[_0x23117e(0x229)][_0x23117e(0x6d8)]),_0x3b2a4f={};if(_0x3a88a0&&_0x3a88a0[_0x23117e(0x6a6)]){let _0x52f8a3=_0x3a88a0[_0x23117e(0x6a6)];typeof _0x52f8a3[_0x23117e(0x340)]==_0x23117e(0x562)&&(_0x3b2a4f['nome']=_0x52f8a3[_0x23117e(0x340)]),typeof _0x52f8a3['nomecompleto']==_0x23117e(0x562)&&(_0x3b2a4f[_0x23117e(0x7f5)]=_0x52f8a3[_0x23117e(0x7f5)]),typeof _0x52f8a3['email']==_0x23117e(0x562)&&(_0x3b2a4f[_0x23117e(0x798)]=_0x52f8a3[_0x23117e(0x798)]),typeof _0x52f8a3[_0x23117e(0x2c4)]=='string'&&(_0x3b2a4f[_0x23117e(0x2c4)]=_0x52f8a3['cpf']),typeof _0x52f8a3[_0x23117e(0x3ee)]==_0x23117e(0x562)&&(_0x3b2a4f['status']=_0x52f8a3[_0x23117e(0x3ee)]),typeof _0x52f8a3['notas']=='string'&&(_0x3b2a4f[_0x23117e(0x6da)]=_0x52f8a3[_0x23117e(0x6da)]),typeof _0x52f8a3[_0x23117e(0x795)]==_0x23117e(0x562)&&(_0x3b2a4f[_0x23117e(0x795)]=_0x52f8a3[_0x23117e(0x795)]),Array['isArray'](_0x52f8a3[_0x23117e(0x3ab)])&&(_0x3b2a4f[_0x23117e(0x3ab)]=_0x52f8a3[_0x23117e(0x3ab)][_0x23117e(0x79a)](',\x20')),Array[_0x23117e(0x3cd)](_0x52f8a3[_0x23117e(0x54e)])&&(_0x3b2a4f[_0x23117e(0x54e)]=_0x52f8a3['etiquetas']['join'](',\x20'));}return _0x3a88a0&&_0x3a88a0['leadInfo']&&_0x3a88a0[_0x23117e(0x6a6)][_0x23117e(0x859)]&&_0x3a88a0[_0x23117e(0x6a6)][_0x23117e(0x859)]['forEach'](_0x1118af=>{const _0x29b979=_0x23117e;let _0x26b845=this[_0x29b979(0x853)]?.[_0x29b979(0x859)][_0x29b979(0x7fa)](_0x2c262f=>_0x2c262f[_0x29b979(0x7c9)]===_0x1118af[_0x29b979(0x7c9)]);_0x26b845&&(_0x3b2a4f[_0x26b845['name']]=_0x1118af['value']);}),_0x3b2a4f;}async[a0_0x33f632(0x5c0)](_0x570237,_0x23c969){const _0x10c562=a0_0x33f632;try{let _0x13f560=await this[_0x10c562(0x3aa)](_0x23c969);return this['replaceVariables'](_0x570237,_0x13f560);}catch(_0x355785){return this[_0x10c562(0x5d3)][_0x10c562(0x90c)](_0x10c562(0x25a)+_0x23c969+':\x20'+_0x355785),_0x570237;}}async[a0_0x33f632(0x1ff)](){const _0xec9eee=a0_0x33f632;let _0x3b2336=async(_0x131c54,_0x8fdcfc)=>{const _0x5233b3=a0_0x308e;let _0x15b2b2=(await this['repository'][_0x5233b3(0x667)][_0x5233b3(0x7fa)]({'where':{'type':_0x131c54}},this[_0x5233b3(0x229)]['wuid']))[_0x5233b3(0x3dc)](async _0x1103c7=>{const _0x226757=_0x5233b3;let _0x55fffc=_0x8fdcfc(_0x1103c7),_0xb19de9=_0x9f369c=>/^\d+$/[_0x226757(0x5fa)](_0x9f369c),_0x5b0b4c=_0x1103c7[_0x226757(0x1cf)]['filter'](_0x164568=>_0x164568['endsWith'](_0x226757(0x8b2))?_0x164568['length']>0x19:_0x164568['endsWith'](_0x226757(0x443))?_0x164568[_0x226757(0x6ee)]>0xf:_0xb19de9(_0x164568)?_0x164568['length']>=0xb:!0x1)[_0x226757(0x3dc)](_0x35f976=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x1103c7[_0x226757(0x7c9)],'type':_0x55fffc,'remoteJid':_0x35f976,'flow':_0x1103c7[_0x226757(0x34e)],'text':_0x1103c7['message']?.[_0x226757(0x8bc)],'delay':_0x1103c7[_0x226757(0x4b4)]?.['delay'],'urlOrBase64':_0x1103c7['message']?.[_0x226757(0x38b)],'linkPreview':_0x1103c7[_0x226757(0x4b4)]?.[_0x226757(0x438)],'fileName':_0x1103c7['message']?.[_0x226757(0x45d)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x226757(0x48b)][_0x226757(0x667)][_0x226757(0x83e)](_0x1103c7[_0x226757(0x7c9)],{'$set':{'messages':_0x5b0b4c},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x226757(0x229)]['wuid']);}catch(_0x37fa76){console['error'](_0x226757(0x5c1)+_0x1103c7['_id']+':',_0x37fa76);}});await Promise[_0x5233b3(0x88b)](_0x15b2b2);};await _0x3b2336('text',_0x17fef2=>_0xec9eee(0x8bc)),await _0x3b2336(_0xec9eee(0x5fd),_0x41694a=>_0x41694a[_0xec9eee(0x4b4)]?.['mediatype']||'media'),await _0x3b2336(_0xec9eee(0x5cd),_0x1426e8=>_0xec9eee(0x5cd)),await _0x3b2336('flow',_0x2f5705=>'flow'),await _0x3b2336(_0xec9eee(0x1b7),_0x4081bb=>'image'),await _0x3b2336(_0xec9eee(0x8e6),_0x282e61=>_0xec9eee(0x8e6)),await _0x3b2336(_0xec9eee(0x27d),_0x1adb34=>_0xec9eee(0x27d)),this[_0xec9eee(0x5d3)][_0xec9eee(0x909)](this[_0xec9eee(0x59f)]+'\x20('+this['instance']['wuid']+_0xec9eee(0x7f9));}async[a0_0x33f632(0x2bf)](_0x47087d){const _0x5d4905=a0_0x33f632;try{if(this[_0x5d4905(0x5d3)]['warn'](this['instanceName']+'\x20('+this[_0x5d4905(0x229)]['wuid']+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x47087d[_0x5d4905(0x7c9)]||(_0x47087d[_0x5d4905(0x7c9)]=(0x0,Q['v4'])()),this[_0x5d4905(0x229)]['ScheduleMessage']['processingGroup']?.[_0x5d4905(0x7c9)]===_0x47087d['_id']?.[_0x5d4905(0x765)]()){if(_0x47087d[_0x5d4905(0x3ee)]==='stopped')this[_0x5d4905(0x229)][_0x5d4905(0x8fb)]['processingGroup']=null;else throw new Error('Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.');}if(_0x47087d['delete']&&_0x47087d[_0x5d4905(0x7c9)]){let _0x278bdd=await this[_0x5d4905(0x48b)]['scheduleMessage'][_0x5d4905(0x22e)](_0x47087d['_id'],this[_0x5d4905(0x229)][_0x5d4905(0x6d8)]);return setTimeout(()=>this[_0x5d4905(0x601)](),0x7d0),_0x278bdd;}let _0x2f792c=null;if(_0x47087d[_0x5d4905(0x7c9)]&&(_0x2f792c=await this[_0x5d4905(0x48b)][_0x5d4905(0x667)]['findById'](_0x47087d[_0x5d4905(0x7c9)],this['instance'][_0x5d4905(0x6d8)])),_0x2f792c){let {_id:_0x5a65ac,owner:_0x1f0ad3,messages:_0x1141ec,..._0x2cceae}=_0x47087d;if(_0x1141ec){let _0x14ec84=_0x1141ec['filter'](_0x211cc6=>!_0x211cc6['_id']),_0x29617d=_0x1141ec[_0x5d4905(0x550)](_0x4e5b71=>_0x4e5b71[_0x5d4905(0x7c9)]&&!_0x4e5b71['delete']),_0x4e39f0=_0x1141ec[_0x5d4905(0x550)](_0x520ede=>_0x520ede[_0x5d4905(0x7c9)]&&_0x520ede['delete']);if(_0x14ec84[_0x5d4905(0x6ee)]>0x0&&await this[_0x5d4905(0x319)](_0x47087d[_0x5d4905(0x7c9)],_0x14ec84),_0x29617d[_0x5d4905(0x6ee)]>0x0&&await this['editMessagesInGroup']({'_id':_0x47087d['_id'],'messages':_0x29617d}),_0x4e39f0[_0x5d4905(0x6ee)]>0x0){let _0xedee10=_0x4e39f0['map'](_0x2ce2a3=>({'updateOne':{'filter':{'_id':_0x47087d[_0x5d4905(0x7c9)]},'update':{'$pull':{'messages':{'_id':_0x2ce2a3[_0x5d4905(0x7c9)]}}}}}));await this['repository'][_0x5d4905(0x667)]['bulkWrite'](_0xedee10,this[_0x5d4905(0x229)]['wuid']);}}let _0x48c9ef={'$set':{..._0x2cceae,'status':_0x47087d['status']||_0x2f792c[_0x5d4905(0x3ee)]}},_0x2db777=await this[_0x5d4905(0x48b)][_0x5d4905(0x667)][_0x5d4905(0x83e)](_0x47087d[_0x5d4905(0x7c9)],_0x48c9ef,this[_0x5d4905(0x229)][_0x5d4905(0x6d8)]);return _0x2db777&&(this[_0x5d4905(0x1c2)](_0x2db777['messages']),await this[_0x5d4905(0x48b)][_0x5d4905(0x667)][_0x5d4905(0x83e)](_0x2db777['_id'],{'$set':{'messages':_0x2db777[_0x5d4905(0x613)]}},this[_0x5d4905(0x229)][_0x5d4905(0x6d8)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x5d4905(0x1ff)](),_0x2db777;}else{_0x47087d[_0x5d4905(0x47d)]=this[_0x5d4905(0x229)][_0x5d4905(0x6d8)],_0x47087d[_0x5d4905(0x613)]&&_0x47087d[_0x5d4905(0x613)][_0x5d4905(0x1d3)](_0x483deb=>{const _0x29ca05=_0x5d4905;_0x483deb['_id']||(_0x483deb[_0x29ca05(0x7c9)]=(0x0,Q['v4'])()),_0x483deb['idSchedule']||(_0x483deb[_0x29ca05(0x4b5)]=_0x47087d['_id']),delete _0x483deb[_0x29ca05(0x226)];});let _0x56fabf=await this[_0x5d4905(0x48b)]['scheduleMessage'][_0x5d4905(0x83d)](_0x47087d,this[_0x5d4905(0x229)]['wuid']);return _0x56fabf&&(this[_0x5d4905(0x1c2)](_0x56fabf['messages']),await this['repository']['scheduleMessage'][_0x5d4905(0x83e)](_0x56fabf['_id'],{'$set':{'messages':_0x56fabf[_0x5d4905(0x613)]}},this[_0x5d4905(0x229)]['wuid'])),setTimeout(()=>this[_0x5d4905(0x601)](),0x7d0),_0x56fabf;}}catch(_0x1975c6){let _0x4f6c28=_0x5d4905(0x235),_0x1a25a9=_0x1975c6 instanceof Error?_0x1975c6[_0x5d4905(0x4b4)]:typeof _0x1975c6==_0x5d4905(0x8d7)?JSON[_0x5d4905(0x3f5)](_0x1975c6):_0x1975c6,_0x1cdd40=_0x4f6c28+':\x20'+_0x1a25a9;throw this[_0x5d4905(0x5d3)]['error'](this['instanceName']+'\x20('+this[_0x5d4905(0x229)][_0x5d4905(0x6d8)]+'):\x20'+_0x1cdd40),new m(_0x1cdd40);}}async[a0_0x33f632(0x319)](_0xab0b8,_0x2e653a){const _0x575ece=a0_0x33f632;try{this['logger'][_0x575ece(0x843)](this[_0x575ece(0x59f)]+'\x20('+this[_0x575ece(0x229)][_0x575ece(0x6d8)]+_0x575ece(0x6ba)),_0x2e653a['forEach'](_0x4ac5d6=>{const _0x54f66b=_0x575ece;_0x4ac5d6['_id']||(_0x4ac5d6[_0x54f66b(0x7c9)]=(0x0,Q['v4'])()),_0x4ac5d6[_0x54f66b(0x4b5)]||(_0x4ac5d6[_0x54f66b(0x4b5)]=_0xab0b8),delete _0x4ac5d6[_0x54f66b(0x226)];});let _0x172e9a={'$push':{'messages':{'$each':_0x2e653a}}},_0x3051e3=await this[_0x575ece(0x48b)][_0x575ece(0x667)][_0x575ece(0x83e)](_0xab0b8,_0x172e9a,this[_0x575ece(0x229)][_0x575ece(0x6d8)]);return _0x3051e3&&(this['reorderMessages'](_0x3051e3[_0x575ece(0x613)]),await this['repository'][_0x575ece(0x667)][_0x575ece(0x83e)](_0x3051e3[_0x575ece(0x7c9)],{'$set':{'messages':_0x3051e3['messages']}},this['instance'][_0x575ece(0x6d8)])),_0x3051e3;}catch(_0x4f12ec){let _0x5f58f8='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x40949e=_0x4f12ec instanceof Error?_0x4f12ec[_0x575ece(0x4b4)]:typeof _0x4f12ec==_0x575ece(0x8d7)?JSON['stringify'](_0x4f12ec):_0x4f12ec,_0x40cfae=_0x5f58f8+':\x20'+_0x40949e;throw this[_0x575ece(0x5d3)][_0x575ece(0x90c)](this[_0x575ece(0x59f)]+'\x20('+this[_0x575ece(0x229)][_0x575ece(0x6d8)]+_0x575ece(0x766)+_0x40cfae),new m(_0x40cfae);}}async[a0_0x33f632(0x431)](_0x4a8ca4){const _0x2665ab=a0_0x33f632;try{if(this[_0x2665ab(0x5d3)][_0x2665ab(0x843)](this[_0x2665ab(0x59f)]+'\x20('+this[_0x2665ab(0x229)][_0x2665ab(0x6d8)]+_0x2665ab(0x8e7)),!_0x4a8ca4[_0x2665ab(0x7c9)]||!_0x4a8ca4[_0x2665ab(0x613)])throw new Error(_0x2665ab(0x84f));let _0x455add=_0x4a8ca4['_id'],_0x1d9f1c=_0x4a8ca4[_0x2665ab(0x613)],_0xf202bf=_0x1d9f1c[_0x2665ab(0x550)](_0x539d1d=>!_0x539d1d[_0x2665ab(0x8ce)])['map'](_0x2df783=>{const _0x5f2389=_0x2665ab;let _0x4b6523=_0x2df783[_0x5f2389(0x7c9)];if(!_0x4b6523)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x2df783['idSchedule']||(_0x2df783[_0x5f2389(0x4b5)]=_0x455add),delete _0x2df783['triedToSend'],{'updateOne':{'filter':{'_id':_0x455add,'messages._id':_0x4b6523},'update':{'$set':{'messages.$[elem]':_0x2df783}},'arrayFilters':[{'elem._id':_0x4b6523}]}};}),_0x5b81e4=_0x1d9f1c[_0x2665ab(0x550)](_0x558f6e=>_0x558f6e[_0x2665ab(0x8ce)])[_0x2665ab(0x3dc)](_0x3f6769=>{const _0x389fcb=_0x2665ab;let _0x22013b=_0x3f6769[_0x389fcb(0x7c9)];if(!_0x22013b)throw new Error(_0x389fcb(0x242));return{'updateOne':{'filter':{'_id':_0x455add},'update':{'$pull':{'messages':{'_id':_0x22013b}}}}};}),_0xa44bed=[..._0xf202bf,..._0x5b81e4],_0x52bbf2=await this['repository'][_0x2665ab(0x667)][_0x2665ab(0x921)](_0xa44bed,this['instance'][_0x2665ab(0x6d8)]),_0x46bcbb=await this[_0x2665ab(0x48b)][_0x2665ab(0x667)][_0x2665ab(0x240)](_0x455add,this[_0x2665ab(0x229)][_0x2665ab(0x6d8)]);return _0x46bcbb&&(this['reorderMessages'](_0x46bcbb[_0x2665ab(0x613)]),await this[_0x2665ab(0x48b)][_0x2665ab(0x667)][_0x2665ab(0x83e)](_0x46bcbb['_id'],{'$set':{'messages':_0x46bcbb['messages']}},this['instance'][_0x2665ab(0x6d8)])),_0x46bcbb;}catch(_0x1bb0f1){let _0x2ed965='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x125011=_0x1bb0f1 instanceof Error?_0x1bb0f1[_0x2665ab(0x4b4)]:typeof _0x1bb0f1=='object'?JSON[_0x2665ab(0x3f5)](_0x1bb0f1):_0x1bb0f1,_0x135d7b=_0x2ed965+':\x20'+_0x125011;throw this[_0x2665ab(0x5d3)][_0x2665ab(0x90c)](this[_0x2665ab(0x59f)]+'\x20('+this['instance'][_0x2665ab(0x6d8)]+'):\x20'+_0x135d7b),new m(_0x135d7b);}}async['deleteDoneMessages'](){const _0x38f428=a0_0x33f632;try{let _0x499776={'status':_0x38f428(0x5a7)},_0xd99e56=await this[_0x38f428(0x48b)]['scheduleMessage'][_0x38f428(0x3c9)](_0x499776,this['instance'][_0x38f428(0x6d8)]);if(!_0xd99e56['error'])this['logger'][_0x38f428(0x843)](this['instanceName']+'\x20('+this[_0x38f428(0x229)][_0x38f428(0x6d8)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0xd99e56['error']['message']||_0x38f428(0x546));return this[_0x38f428(0x46e)]();}catch(_0x20b394){let _0x2e59ed=_0x38f428(0x855),_0x1f7355=_0x20b394 instanceof Error?_0x20b394[_0x38f428(0x4b4)]:typeof _0x20b394==_0x38f428(0x8d7)?JSON[_0x38f428(0x3f5)](_0x20b394):_0x20b394,_0x4ab2a5=_0x2e59ed+':\x20'+_0x1f7355;throw this[_0x38f428(0x5d3)][_0x38f428(0x90c)](this['instanceName']+'\x20('+this['instance'][_0x38f428(0x6d8)]+_0x38f428(0x766)+_0x4ab2a5),new m(_0x4ab2a5);}}async[a0_0x33f632(0x318)](){const _0x339210=a0_0x33f632;try{let _0x298f81=await this[_0x339210(0x48b)][_0x339210(0x667)]['deleteMany']({},this[_0x339210(0x229)][_0x339210(0x6d8)]);if(!_0x298f81[_0x339210(0x90c)])this[_0x339210(0x5d3)][_0x339210(0x843)](this['instanceName']+'\x20('+this['instance'][_0x339210(0x6d8)]+_0x339210(0x57d));else throw new Error(_0x298f81[_0x339210(0x90c)][_0x339210(0x4b4)]||_0x339210(0x546));return this[_0x339210(0x46e)]();}catch(_0x3f3bfa){let _0x13060a=_0x339210(0x5fb),_0x371684=_0x3f3bfa instanceof Error?_0x3f3bfa['message']:typeof _0x3f3bfa==_0x339210(0x8d7)?JSON[_0x339210(0x3f5)](_0x3f3bfa):_0x3f3bfa,_0xf90b76=_0x13060a+':\x20'+_0x371684;throw this['logger'][_0x339210(0x90c)](this[_0x339210(0x59f)]+'\x20('+this[_0x339210(0x229)][_0x339210(0x6d8)]+_0x339210(0x766)+_0xf90b76),new m(_0xf90b76);}}async[a0_0x33f632(0x46e)](){const _0x65bcf0=a0_0x33f632;try{return await this[_0x65bcf0(0x48b)][_0x65bcf0(0x667)]['find']({'where':{}},this['instance']['wuid']);}catch(_0x32fa88){let _0x16529e=_0x65bcf0(0x69a),_0x59edfc=_0x32fa88 instanceof Error?_0x32fa88[_0x65bcf0(0x4b4)]:typeof _0x32fa88=='object'?JSON[_0x65bcf0(0x3f5)](_0x32fa88):_0x32fa88,_0xf128f9=_0x16529e+':\x20'+_0x59edfc;throw this[_0x65bcf0(0x5d3)][_0x65bcf0(0x90c)](this[_0x65bcf0(0x59f)]+'\x20('+this['instance'][_0x65bcf0(0x6d8)]+'):\x20'+_0xf128f9),new m(_0xf128f9);}}[a0_0x33f632(0x1c2)](_0x20399b){const _0xa3882b=a0_0x33f632;_0x20399b[_0xa3882b(0x835)]((_0x1d9561,_0x439c08)=>_0x1d9561[_0xa3882b(0x841)]-_0x439c08[_0xa3882b(0x841)]),_0x20399b[_0xa3882b(0x1d3)]((_0x3ef0c2,_0x435c70)=>{_0x3ef0c2['order']=_0x435c70+0x1;});}async[a0_0x33f632(0x741)](_0xa71cef,_0x3bf621){const _0x5a7248=a0_0x33f632;try{if(!_0x3bf621)return this[_0x5a7248(0x5d3)][_0x5a7248(0x90c)](this[_0x5a7248(0x59f)]+'\x20('+this[_0x5a7248(0x229)][_0x5a7248(0x6d8)]+_0x5a7248(0x294)),{'error':!0x0,'detail':_0x5a7248(0x5c3)};if(_0x3bf621[_0x5a7248(0x809)]===_0x5a7248(0x2ec)&&!this[_0x5a7248(0x853)]?.[_0x5a7248(0x6b2)][_0x5a7248(0x1d7)])return this[_0x5a7248(0x5d3)]['error'](this[_0x5a7248(0x59f)]+'\x20('+this['instance'][_0x5a7248(0x6d8)]+_0x5a7248(0x575)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x3bf621[_0x5a7248(0x809)]){case _0x5a7248(0x8bc):return await this['scheduleSendText'](_0x3bf621,_0xa71cef);case'video':case _0x5a7248(0x1b7):case'document':return await this['scheduleSendMedia'](_0x3bf621,_0xa71cef);case _0x5a7248(0x5cd):return await this[_0x5a7248(0x4bd)](_0x3bf621,_0xa71cef);case _0x5a7248(0x2ec):let _0x29f626=new ze();return _0x29f626['name']=_0x3bf621[_0x5a7248(0x2ec)],_0x29f626[_0x5a7248(0x330)]=_0xa71cef,await this[_0x5a7248(0x6a8)](_0x29f626);default:return this[_0x5a7248(0x5d3)]['error'](this[_0x5a7248(0x59f)]+'\x20('+this[_0x5a7248(0x229)][_0x5a7248(0x6d8)]+_0x5a7248(0x7f6)+_0x3bf621[_0x5a7248(0x809)]),{'error':!0x0,'detail':_0x5a7248(0x2d2)};}}catch(_0x4cbb5a){return this[_0x5a7248(0x5d3)][_0x5a7248(0x90c)](this['instanceName']+'\x20('+this['instance'][_0x5a7248(0x6d8)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x4cbb5a instanceof Error?_0x4cbb5a[_0x5a7248(0x4b4)]:JSON[_0x5a7248(0x3f5)](_0x4cbb5a,null,0x2))),{'error':!0x0,'detail':_0x4cbb5a['message']};}}async['scheduleSendText'](_0x531b89,_0x3394ce){const _0x39f97d=a0_0x33f632;if(this['logger'][_0x39f97d(0x843)](this[_0x39f97d(0x59f)]+'\x20('+this[_0x39f97d(0x229)][_0x39f97d(0x6d8)]+_0x39f97d(0x220)+_0x3394ce+'\x27'),!_0x531b89[_0x39f97d(0x8bc)]||_0x531b89[_0x39f97d(0x8bc)][_0x39f97d(0x6ee)]===0x0)return{'error':!0x0,'detail':_0x39f97d(0x282)};let _0x223180=await this[_0x39f97d(0x5c0)](_0x531b89[_0x39f97d(0x8bc)],_0x3394ce),_0x519e62={'number':_0x3394ce,'options':{'delay':_0x531b89[_0x39f97d(0x31d)],'linkPreview':_0x531b89[_0x39f97d(0x438)]},'textMessage':{'text':_0x223180}},_0xee6fe9=null;try{let _0x47bb26=await this['textMessage'](_0x519e62);if(_0x47bb26&&_0x47bb26[_0x39f97d(0x3ee)])return{'error':!0x1,'id':_0x47bb26[_0x39f97d(0x6de)]['id']};_0xee6fe9=JSON[_0x39f97d(0x3f5)](_0x47bb26),this[_0x39f97d(0x5d3)][_0x39f97d(0x843)](this['instanceName']+'\x20('+this[_0x39f97d(0x229)]['wuid']+_0x39f97d(0x766)+_0xee6fe9);}catch(_0x26af16){this[_0x39f97d(0x5d3)]['error'](this[_0x39f97d(0x59f)]+'\x20('+this[_0x39f97d(0x229)]['wuid']+_0x39f97d(0x8d6)+(_0x26af16 instanceof Error?_0x26af16[_0x39f97d(0x4b4)]:JSON[_0x39f97d(0x3f5)](_0x26af16,null,0x2))),_0xee6fe9=_0x26af16[_0x39f97d(0x4b4)];}if(_0xee6fe9)return{'error':!0x0,'detail':(typeof _0xee6fe9==_0x39f97d(0x8d7)?JSON[_0x39f97d(0x3f5)](_0xee6fe9,null,0x2):_0xee6fe9)[_0x39f97d(0x60a)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x33f632(0x3d1)](_0x236e76,_0xd276b6){const _0x39bb05=a0_0x33f632;this[_0x39bb05(0x5d3)][_0x39bb05(0x843)](this['instanceName']+'\x20('+this[_0x39bb05(0x229)][_0x39bb05(0x6d8)]+_0x39bb05(0x5ec)+_0xd276b6+'\x27');let _0xb586a0;_0x236e76[_0x39bb05(0x8bc)]&&_0x236e76[_0x39bb05(0x8bc)]['length']>0x0&&(_0xb586a0=await this[_0x39bb05(0x5c0)](_0x236e76['text'],_0xd276b6));let _0x4c1e93={'number':_0xd276b6,'options':{'delay':_0x236e76['delay'],'linkPreview':_0x236e76['linkPreview']},'mediaMessage':{'mediatype':_0x236e76[_0x39bb05(0x809)],'caption':_0xb586a0,'media':_0x236e76['urlOrBase64']}},_0x30567e=null;try{let _0x489d98=await this[_0x39bb05(0x28b)](_0x4c1e93);if(_0x489d98&&_0x489d98[_0x39bb05(0x3ee)])return{'error':!0x1,'id':_0x489d98['key']['id']};_0x30567e=JSON[_0x39bb05(0x3f5)](_0x489d98),this[_0x39bb05(0x5d3)]['verbose'](this[_0x39bb05(0x59f)]+'\x20('+this[_0x39bb05(0x229)][_0x39bb05(0x6d8)]+_0x39bb05(0x766)+_0x30567e);}catch(_0x523f34){this['logger'][_0x39bb05(0x90c)](this[_0x39bb05(0x59f)]+'\x20('+this[_0x39bb05(0x229)]['wuid']+_0x39bb05(0x581)+(_0x523f34 instanceof Error?_0x523f34[_0x39bb05(0x4b4)]:JSON[_0x39bb05(0x3f5)](_0x523f34,null,0x2))),_0x30567e=_0x523f34['message'];}if(_0x30567e)return{'error':!0x0,'detail':(typeof _0x30567e==_0x39bb05(0x8d7)?JSON[_0x39bb05(0x3f5)](_0x30567e,null,0x2):_0x30567e)[_0x39bb05(0x60a)](/[\[\]{}\n]/g,'\x20')[_0x39bb05(0x60a)](/  +/g,'\x20')};}async[a0_0x33f632(0x4bd)](_0x3000b3,_0x5e65b1){const _0x49adc4=a0_0x33f632;this[_0x49adc4(0x5d3)]['verbose'](this[_0x49adc4(0x59f)]+'\x20('+this[_0x49adc4(0x229)][_0x49adc4(0x6d8)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x5e65b1+'\x27');let _0x264e93={'number':_0x5e65b1,'options':{'delay':_0x3000b3[_0x49adc4(0x31d)]},'audioMessage':{'audio':_0x3000b3[_0x49adc4(0x38b)]}},_0x69089b=null;try{let _0x2c78f9=await this[_0x49adc4(0x5cf)](_0x264e93);if(_0x2c78f9&&_0x2c78f9[_0x49adc4(0x3ee)])return{'error':!0x1,'id':_0x2c78f9[_0x49adc4(0x6de)]['id']};_0x69089b=JSON[_0x49adc4(0x3f5)](_0x2c78f9),this['logger'][_0x49adc4(0x843)](this[_0x49adc4(0x59f)]+'\x20('+this['instance'][_0x49adc4(0x6d8)]+'):\x20'+_0x69089b);}catch(_0x31fb6b){this['logger'][_0x49adc4(0x90c)](this[_0x49adc4(0x59f)]+'\x20('+this[_0x49adc4(0x229)]['wuid']+_0x49adc4(0x50a)+(_0x31fb6b instanceof Error?_0x31fb6b[_0x49adc4(0x4b4)]:JSON['stringify'](_0x31fb6b,null,0x2))),_0x69089b=_0x31fb6b[_0x49adc4(0x4b4)];}if(_0x69089b)return{'error':!0x0,'detail':(typeof _0x69089b==_0x49adc4(0x8d7)?JSON[_0x49adc4(0x3f5)](_0x69089b,null,0x2):_0x69089b)[_0x49adc4(0x60a)](/[\[\]{}\n]/g,'\x20')[_0x49adc4(0x60a)](/  +/g,'\x20')};}async['groupDesc'](_0xef9277){const _0xf23b6e=a0_0x33f632;try{return await this[_0xf23b6e(0x467)][_0xf23b6e(0x290)](_0xef9277[_0xf23b6e(0x8fa)],_0xef9277[_0xf23b6e(0x1d6)]),{'update':_0xf23b6e(0x656)};}catch(_0x315118){let _0x38b69c='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0xc3ab22=_0x315118 instanceof Error?_0x315118[_0xf23b6e(0x4b4)]:typeof _0x315118==_0xf23b6e(0x8d7)?JSON[_0xf23b6e(0x3f5)](_0x315118):_0x315118,_0x503707=_0x38b69c+':\x20'+_0xc3ab22;throw this[_0xf23b6e(0x5d3)][_0xf23b6e(0x90c)](this[_0xf23b6e(0x59f)]+'\x20('+this[_0xf23b6e(0x229)][_0xf23b6e(0x6d8)]+'):\x20'+_0x503707),new x(_0x503707);}}async[a0_0x33f632(0x847)](_0x4d7d22){const _0x4cb2fe=a0_0x33f632;try{return await this[_0x4cb2fe(0x467)][_0x4cb2fe(0x59c)](_0x4d7d22[_0x4cb2fe(0x8fa)],_0x4d7d22['name']),{'update':'success'};}catch(_0x11685a){let _0x4fecde=_0x4cb2fe(0x528),_0x47149a=_0x11685a instanceof Error?_0x11685a['message']:typeof _0x11685a=='object'?JSON[_0x4cb2fe(0x3f5)](_0x11685a):_0x11685a,_0xf1c9e8=_0x4fecde+':\x20'+_0x47149a;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x4cb2fe(0x229)]['wuid']+_0x4cb2fe(0x766)+_0xf1c9e8),new x(_0xf1c9e8);}}async['toggleEphemeral'](_0x15e19c){const _0x2d61b4=a0_0x33f632;try{let _0x429f50=await this[_0x2d61b4(0x467)][_0x2d61b4(0x87f)](_0x15e19c[_0x2d61b4(0x8fa)],_0x15e19c[_0x2d61b4(0x935)]);return{'success':!0x0};}catch(_0x5923da){let _0x6fe894=_0x2d61b4(0x8cd),_0x168887=_0x5923da instanceof Error?_0x5923da[_0x2d61b4(0x4b4)]:typeof _0x5923da==_0x2d61b4(0x8d7)?JSON[_0x2d61b4(0x3f5)](_0x5923da):_0x5923da,_0x3202e5=_0x6fe894+':\x20'+_0x168887;throw this[_0x2d61b4(0x5d3)][_0x2d61b4(0x90c)](this[_0x2d61b4(0x59f)]+'\x20('+this[_0x2d61b4(0x229)][_0x2d61b4(0x6d8)]+_0x2d61b4(0x766)+_0x3202e5),new x(_0x3202e5);}}async['groupSetting'](_0x2165c0){const _0x48edc7=a0_0x33f632;try{return await this[_0x48edc7(0x467)][_0x48edc7(0x68f)](_0x2165c0[_0x48edc7(0x8fa)],_0x2165c0[_0x48edc7(0x1d9)]),{'update':'success'};}catch(_0x289edc){let _0x1b4da4='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0xf96942=_0x289edc instanceof Error?_0x289edc[_0x48edc7(0x4b4)]:typeof _0x289edc=='object'?JSON[_0x48edc7(0x3f5)](_0x289edc):_0x289edc,_0x286086=_0x1b4da4+':\x20'+_0xf96942;throw this[_0x48edc7(0x5d3)][_0x48edc7(0x90c)](this[_0x48edc7(0x59f)]+'\x20('+this['instance'][_0x48edc7(0x6d8)]+_0x48edc7(0x766)+_0x286086),new x(_0x286086);}}async[a0_0x33f632(0x6e9)](_0xffe4db){const _0x515f07=a0_0x33f632;try{let _0x4690ed;if((0x0,J['isURL'])(_0xffe4db[_0x515f07(0x1b7)])){let _0x1fc5e4=new Date()[_0x515f07(0x792)](),_0x1188a6=_0xffe4db['image']+_0x515f07(0x65c)+_0x1fc5e4;_0x4690ed=(await K[_0x515f07(0x844)][_0x515f07(0x939)](_0x1188a6,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,J['isBase64'])(_0xffe4db[_0x515f07(0x1b7)]))_0x4690ed=Buffer[_0x515f07(0x40f)](_0xffe4db['image'],_0x515f07(0x6fb));else throw new m(_0x515f07(0x3fc));}return await this[_0x515f07(0x467)][_0x515f07(0x875)](_0xffe4db['groupJid'],_0x4690ed),{'update':'success'};}catch(_0x590e91){let _0x45b861=_0x515f07(0x212),_0x555098=_0x590e91 instanceof Error?_0x590e91[_0x515f07(0x4b4)]:typeof _0x590e91==_0x515f07(0x8d7)?JSON[_0x515f07(0x3f5)](_0x590e91):_0x590e91,_0x17a186=_0x45b861+':\x20'+_0x555098;throw this[_0x515f07(0x5d3)][_0x515f07(0x90c)](this[_0x515f07(0x59f)]+'\x20('+this[_0x515f07(0x229)][_0x515f07(0x6d8)]+_0x515f07(0x766)+_0x17a186),new x(_0x17a186);}}},jt=class u{constructor(_0x43b5a7,_0x2f311b,_0xb7fd63){const _0x536cbd=a0_0x33f632;this[_0x536cbd(0x7b1)]=_0x43b5a7,this[_0x536cbd(0x7fb)]=_0x2f311b,this[_0x536cbd(0x48b)]=_0xb7fd63,this['db']={},this[_0x536cbd(0x590)]={},this[_0x536cbd(0x5d3)]=new $(u[_0x536cbd(0x254)]),this[_0x536cbd(0x812)]={},(this[_0x536cbd(0x4c2)](),this[_0x536cbd(0x8a3)](),Object[_0x536cbd(0x68a)](this['db'],_0x2f311b[_0x536cbd(0x939)](_0x536cbd(0x27e))),Object['assign'](this[_0x536cbd(0x590)],_0x2f311b[_0x536cbd(0x939)](_0x536cbd(0x2d9))),this['dbInstance']=this['db'][_0x536cbd(0x399)]?this[_0x536cbd(0x48b)][_0x536cbd(0x4ed)]?.['db'](this['db'][_0x536cbd(0x231)][_0x536cbd(0x1cc)]+'-instances'):void 0x0,this[_0x536cbd(0x76a)]=this['redis'][_0x536cbd(0x399)]?new ue(this[_0x536cbd(0x590)]):void 0x0);}async['instanceInfo'](_0xb42fad){const _0x51fef2=a0_0x33f632;if(_0xb42fad&&!this[_0x51fef2(0x812)][_0xb42fad])throw new U('Instance\x20\x22'+_0xb42fad+'\x22\x20not\x20found');let _0x31c66f=[];for await(let [_0x5f7160,_0x1f75ee]of Object['entries'](this[_0x51fef2(0x812)]))if(_0x1f75ee&&_0x1f75ee[_0x51fef2(0x307)][_0x51fef2(0x4d4)]==='open'){let _0x19aa51=await this[_0x51fef2(0x48b)][_0x51fef2(0x679)][_0x51fef2(0x7fa)](_0x5f7160);_0x31c66f[_0x51fef2(0x2cc)]({'instance':{'instanceName':_0x5f7160,'apikey':_0x19aa51['apikey'],'owner':_0x1f75ee[_0x51fef2(0x6d8)],'profileName':await _0x1f75ee[_0x51fef2(0x32c)]()||_0x51fef2(0x60d),'profilePictureUrl':_0x1f75ee[_0x51fef2(0x8d0)]}});}return _0x31c66f['find'](_0x13feb4=>_0x13feb4[_0x51fef2(0x229)][_0x51fef2(0x59f)]===_0xb42fad)??_0x31c66f;}async[a0_0x33f632(0x3e1)](_0x2829af){const _0x4d81e1=a0_0x33f632;if(this['db']['ENABLED']&&(await this['repository'][_0x4d81e1(0x4ed)][_0x4d81e1(0x5b2)](),(await this[_0x4d81e1(0x4bc)][_0x4d81e1(0x5dd)]())['length']>0x0&&await this[_0x4d81e1(0x4bc)][_0x4d81e1(0x32a)](_0x2829af)),this[_0x4d81e1(0x590)]['ENABLED']){this[_0x4d81e1(0x76a)][_0x4d81e1(0x321)]=_0x2829af,await this[_0x4d81e1(0x76a)][_0x4d81e1(0x280)]();return;}}async['loadInstance'](){const _0x25e390=a0_0x33f632;await this[_0x25e390(0x514)]();let _0x38bd82=async _0x48f2d3=>{const _0x331fa0=_0x25e390;let _0x57d281=new $e(this['configService'],this['eventEmitter'],this[_0x331fa0(0x48b)]);_0x57d281['instanceName']=_0x48f2d3,await _0x57d281[_0x331fa0(0x673)](),this[_0x331fa0(0x812)][_0x48f2d3]=_0x57d281;};try{if(this['redis'][_0x25e390(0x399)]){let _0x12cce8=await this[_0x25e390(0x76a)][_0x25e390(0x5cc)]();_0x12cce8?.['length']>0x0&&_0x12cce8[_0x25e390(0x1d3)](async _0x196373=>await _0x38bd82(_0x196373[_0x25e390(0x405)](':')[0x1]));return;}if(this['db'][_0x25e390(0x399)]){await this[_0x25e390(0x48b)][_0x25e390(0x4ed)][_0x25e390(0x5b2)]();let _0x3f0a93=await this[_0x25e390(0x4bc)][_0x25e390(0x5dd)]();_0x3f0a93['length']>0x0&&_0x3f0a93[_0x25e390(0x1d3)](async _0x54a5c5=>await _0x38bd82(_0x54a5c5[_0x25e390(0x2e9)][_0x25e390(0x60a)](/^[\w-]+\./,'')));return;}}catch(_0x2e647d){this['logger'][_0x25e390(0x90c)](_0x2e647d);}}async[a0_0x33f632(0x902)](){const _0x4b86d1=a0_0x33f632;try{let _0x4ca407=await this['repository'][_0x4b86d1(0x679)]['findMany']({'online':!0x1});console[_0x4b86d1(0x257)](_0x4b86d1(0x393)+_0x4ca407['length']);let _0x140c89={'online':!0x1},_0x104530=await this[_0x4b86d1(0x48b)][_0x4b86d1(0x679)]['deleteMany'](_0x140c89);console[_0x4b86d1(0x257)](_0x4b86d1(0x5c5)+_0x104530[_0x4b86d1(0x4f2)]);}catch(_0x21d020){console[_0x4b86d1(0x90c)](_0x4b86d1(0x297),_0x21d020);}}async['InstancesAlterarTodas'](){const _0x4d40cf=a0_0x33f632;try{let _0xeccdf5={'online':!0x1},_0x58433c={'online':!0x1,'lastDisconnect':Date[_0x4d40cf(0x26a)]()},_0x3f5415=await this[_0x4d40cf(0x48b)][_0x4d40cf(0x679)][_0x4d40cf(0x74e)](_0xeccdf5,_0x58433c);await this[_0x4d40cf(0x902)]();}catch(_0xbcd781){console[_0x4d40cf(0x90c)](_0x4d40cf(0x3f9),_0xbcd781);}}[a0_0x33f632(0x4c2)](){const _0x5e4815=a0_0x33f632;this[_0x5e4815(0x7b1)]['on'](_0x5e4815(0x30f),async _0x1cc133=>{const _0x4a95a0=_0x5e4815;try{this[_0x4a95a0(0x812)][_0x1cc133]=void 0x0;}catch{}try{this[_0x4a95a0(0x3e1)](_0x1cc133);}finally{this[_0x4a95a0(0x5d3)]['warn'](_0x4a95a0(0x2d6)+_0x1cc133+_0x4a95a0(0x350));}});}['noConnection'](){const _0x4908e3=a0_0x33f632;this['eventEmitter']['on'](_0x4908e3(0x4c9),async _0x5c6b1d=>{const _0x3a8d04=_0x4908e3;try{this['waInstances'][_0x5c6b1d]=void 0x0;}catch{}try{this['cleaningUp'](_0x5c6b1d);}finally{this[_0x3a8d04(0x5d3)][_0x3a8d04(0x909)]('Instance\x20\x22'+_0x5c6b1d+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Jt=class extends O{[a0_0x33f632(0x1f3)](_0x4f18ea){return ta(_0x4f18ea);}async[a0_0x33f632(0x37d)](_0x321a50){const _0x1b0eea=a0_0x33f632;if(_0x321a50['length']!==0x0)try{return{'insertCount':(await this[_0x1b0eea(0x1f3)](_0x321a50[0x0][_0x1b0eea(0x47d)])[_0x1b0eea(0x433)]([..._0x321a50]))[_0x1b0eea(0x6ee)]};}catch(_0x586801){return _0x586801;}}async[a0_0x33f632(0x7fa)](_0x46ba9a,_0x286698){const _0x5e6a00=a0_0x33f632;try{let _0x3431dd=this[_0x5e6a00(0x1f3)](_0x286698),_0x4c595e=A(_0x46ba9a['where']);return await _0x3431dd[_0x5e6a00(0x7fa)](_0x4c595e)[_0x5e6a00(0x835)]({'lastmsg':-0x1})['limit'](_0x46ba9a?.[_0x5e6a00(0x52a)]??0x0)[_0x5e6a00(0x494)]();}catch{return[];}}async['findGroupsEspecial'](_0x59d08b,_0xd8b845){const _0x402381=a0_0x33f632;try{let _0x5cc20a=this[_0x402381(0x1f3)](_0xd8b845),_0x4c61e2=A(_0x59d08b[_0x402381(0x708)]);return _0x4c61e2['groupdata.participants']={'$ne':[]},await _0x5cc20a[_0x402381(0x7fa)](_0x4c61e2)[_0x402381(0x835)]({'lastmsg':-0x1})[_0x402381(0x52a)](_0x59d08b?.[_0x402381(0x52a)]??0x0)[_0x402381(0x494)]();}catch{return[];}}async[a0_0x33f632(0x8ce)](_0x5cb6ab,_0x365462){const _0x4f9b3f=a0_0x33f632;try{return{'deletedCount':(await this[_0x4f9b3f(0x1f3)](_0x365462)[_0x4f9b3f(0x3c9)]({..._0x5cb6ab[_0x4f9b3f(0x708)]}))[_0x4f9b3f(0x718)]};}catch(_0x161bf8){return{'error':_0x161bf8?.[_0x4f9b3f(0x765)]()};}}async[a0_0x33f632(0x37f)](_0x4ac254,_0x44a8c8){const _0x1d2598=a0_0x33f632;try{return await this[_0x1d2598(0x1f3)](_0x44a8c8)[_0x1d2598(0x3c9)]({..._0x4ac254[_0x1d2598(0x708)]}),[];}catch(_0x53af47){return{'error':_0x53af47?.[_0x1d2598(0x765)]()};}}async[a0_0x33f632(0x91c)](_0x132915,_0x142c0e){const _0x1d2143=a0_0x33f632;try{let _0x3adbe3=this[_0x1d2143(0x1f3)](_0x142c0e),_0x89aee4=A(_0x132915['where']);return await _0x3adbe3['findOne'](_0x89aee4)['lean']();}catch{return null;}}async[a0_0x33f632(0x215)](_0xbca79a,_0x433aaa,_0x3980af,_0x1fa139,_0x16a849=a0_0x33f632(0x6fc)){const _0x553908=a0_0x33f632;try{let _0x9aa1e7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1fa139},_0x23da34=this['getChatModelForOwner'](_0x3980af),_0x13b7ef=A(_0xbca79a['where']);Object[_0x553908(0x516)](_0x433aaa)[_0x553908(0x1d3)](_0x270f2b=>{_0x433aaa[_0x270f2b]==null&&delete _0x433aaa[_0x270f2b];});let _0x19ac54={};return _0x19ac54[_0x16a849]=_0x433aaa,await _0x23da34[_0x553908(0x392)](_0x13b7ef,_0x19ac54,_0x9aa1e7);}catch(_0x1679ed){return console[_0x553908(0x90c)](_0x1679ed),null;}}async[a0_0x33f632(0x89a)](_0x437237){const _0x433051=a0_0x33f632;try{let _0x101623=this[_0x433051(0x1f3)](_0x437237[0x0][_0x433051(0x5bf)][_0x433051(0x708)][_0x433051(0x47d)]),_0xc881cd=_0x437237[_0x433051(0x3dc)](_0x5c793a=>({'updateOne':{'filter':{..._0x5c793a[_0x433051(0x5bf)][_0x433051(0x708)]},'update':{'$set':_0x5c793a['update']},'upsert':!0x0}})),_0x3ff90c=await _0x101623[_0x433051(0x921)](_0xc881cd);return _0x3ff90c['modifiedCount']+_0x3ff90c[_0x433051(0x612)];}catch(_0x1ec7e6){return console[_0x433051(0x90c)](_0x1ec7e6),0x0;}}async['removeUnusedChatFields'](_0x52f65c){const _0x2511d4=a0_0x33f632;try{let _0x53b70a={'group_isCommunity':'','group_announce':'','group_size':''},_0xcdc02f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5e56c3={'$unset':_0x53b70a};return(await this[_0x2511d4(0x1f3)](_0x52f65c)[_0x2511d4(0x89a)](_0xcdc02f,_0x5e56c3))[_0x2511d4(0x887)];}catch(_0x3531a7){return console[_0x2511d4(0x90c)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x3531a7),0x0;}}async['updateMissingEtiquetas'](_0x493e84){const _0x2e9b9b=a0_0x33f632;try{let _0x20e76e=this[_0x2e9b9b(0x1f3)](_0x493e84),_0x1ead06={'leadInfo.etiquetas':{'$exists':!0x1}},_0x45b872={'$set':{'leadInfo.etiquetas':[]}};return(await _0x20e76e['updateMany'](_0x1ead06,_0x45b872))['modifiedCount'];}catch(_0x33f316){return console[_0x2e9b9b(0x90c)](_0x33f316),0x0;}}async['updateMissingTags'](_0x2394fa){const _0x50f6da=a0_0x33f632;try{let _0x225a40=this[_0x50f6da(0x1f3)](_0x2394fa),_0x31ec73={'leadInfo.tags':{'$exists':!0x1}},_0x4ce9ee={'$set':{'leadInfo.tags':[]}};return(await _0x225a40[_0x50f6da(0x89a)](_0x31ec73,_0x4ce9ee))[_0x50f6da(0x887)];}catch(_0x3e6087){return console[_0x50f6da(0x90c)](_0x3e6087),0x0;}}async[a0_0x33f632(0x807)](_0x93f6d1){const _0x3d100f=a0_0x33f632;try{let _0x41fa08=this['getChatModelForOwner'](_0x93f6d1),_0xe17eb8={'leadInfo.customFields':{'$exists':!0x1}},_0x252d6={'$set':{'leadInfo.customFields':[]}};return(await _0x41fa08[_0x3d100f(0x89a)](_0xe17eb8,_0x252d6))[_0x3d100f(0x887)];}catch(_0x5caf85){return console[_0x3d100f(0x90c)](_0x5caf85),0x0;}}async[a0_0x33f632(0x433)](_0x4e0179,_0x2b21ee){const _0x51f45a=a0_0x33f632;if(!Array['isArray'](_0x4e0179)||_0x4e0179[_0x51f45a(0x6ee)]===0x0)throw new Error(_0x51f45a(0x737));try{return(await this[_0x51f45a(0x1f3)](_0x2b21ee)['insertMany'](_0x4e0179))[_0x51f45a(0x6ee)];}catch(_0x110b2b){throw console[_0x51f45a(0x90c)](_0x51f45a(0x56a),_0x110b2b),_0x110b2b;}}async[a0_0x33f632(0x28f)](_0x20d562,_0x445a3c){const _0x579dd2=a0_0x33f632;try{await this[_0x579dd2(0x1f3)](_0x445a3c)[_0x579dd2(0x22e)]({'_id':_0x20d562});}catch(_0x15b652){throw console[_0x579dd2(0x90c)](_0x579dd2(0x75c),_0x15b652),_0x15b652;}}},qt=class extends O{constructor(_0x7ae123,_0x23f11d,_0x3a2db2){const _0x52ae39=a0_0x33f632;super(_0x23f11d),this['cacheContactModel']=_0x7ae123,this[_0x52ae39(0x7fb)]=_0x23f11d,this['dbConnection']=_0x3a2db2;}async[a0_0x33f632(0x37d)](_0x6a51be){const _0x457f8b=a0_0x33f632;if(_0x6a51be['length']!==0x0)try{return{'insertCount':(await this[_0x457f8b(0x449)][_0x457f8b(0x433)]([..._0x6a51be]))[_0x457f8b(0x6ee)]};}catch(_0x5bba98){return _0x5bba98;}}async[a0_0x33f632(0x1df)](_0x3c2476,_0x18a419){const _0x88f215=a0_0x33f632;try{let _0x5b7992=A(_0x3c2476[_0x88f215(0x708)]);return{'updatedCount':(await this[_0x88f215(0x449)]['updateMany'](_0x5b7992,{'$set':_0x18a419}))[_0x88f215(0x887)]};}catch(_0x132b3d){return console[_0x88f215(0x90c)](_0x88f215(0x2a2),_0x132b3d),{'error':_0x132b3d[_0x88f215(0x765)]()};}}async[a0_0x33f632(0x4d5)](_0x11f8f0){const _0x41235b=a0_0x33f632;try{let _0x3cb1e4={'_id':{'$in':_0x11f8f0}};return await this[_0x41235b(0x449)][_0x41235b(0x7fa)](_0x3cb1e4)[_0x41235b(0x494)]();}catch(_0x3a7be0){return console[_0x41235b(0x90c)](_0x41235b(0x6c9),_0x3a7be0),[];}}async[a0_0x33f632(0x8ce)](_0xc50272){const _0x80f33a=a0_0x33f632;try{return{'deletedCount':(await this[_0x80f33a(0x449)][_0x80f33a(0x3c9)]({..._0xc50272[_0x80f33a(0x708)]}))[_0x80f33a(0x718)]};}catch(_0x4f613f){return{'error':_0x4f613f?.[_0x80f33a(0x765)]()};}}async[a0_0x33f632(0x7fa)](_0x927a30){const _0x4b8775=a0_0x33f632;try{let _0x4cd036=A(_0x927a30[_0x4b8775(0x708)]);return await this[_0x4b8775(0x449)][_0x4b8775(0x7fa)](_0x4cd036)['limit'](_0x927a30?.['limit']??0x0)[_0x4b8775(0x494)]();}catch{return[];}}async['findOne'](_0x4d9e64){const _0x35e4f7=a0_0x33f632;try{let _0x4ee966=A(_0x4d9e64[_0x35e4f7(0x708)]);return await this[_0x35e4f7(0x449)]['findOne'](_0x4ee966)[_0x35e4f7(0x494)]();}catch{return null;}}},Vt=class extends O{constructor(_0x5f0efd,_0x271827,_0x2869f5){const _0x58566f=a0_0x33f632;super(_0x271827),this[_0x58566f(0x37e)]=_0x5f0efd,this['configService']=_0x271827,this[_0x58566f(0x8a0)]=_0x2869f5;}async[a0_0x33f632(0x37d)](_0x333511){const _0x393cba=a0_0x33f632;if(_0x333511[_0x393cba(0x6ee)]!==0x0)try{return{'insertCount':(await this[_0x393cba(0x37e)][_0x393cba(0x433)]([..._0x333511]))['length']};}catch(_0x3ff16f){return _0x3ff16f;}}async[a0_0x33f632(0x1df)](_0x8c73d5,_0x253985){const _0x1a6371=a0_0x33f632;try{let _0x11e84c=A(_0x8c73d5[_0x1a6371(0x708)]);return{'updatedCount':(await this['messageLogsModel'][_0x1a6371(0x89a)](_0x11e84c,{'$set':_0x253985}))[_0x1a6371(0x887)]};}catch(_0x4f63cb){return console[_0x1a6371(0x90c)](_0x1a6371(0x2a2),_0x4f63cb),{'error':_0x4f63cb['toString']()};}}async['delete'](_0x4563aa){const _0x244d44=a0_0x33f632;try{return{'deletedCount':(await this['messageLogsModel'][_0x244d44(0x3c9)]({..._0x4563aa['where']}))[_0x244d44(0x718)]};}catch(_0x44a817){return{'error':_0x44a817?.[_0x244d44(0x765)]()};}}async[a0_0x33f632(0x91c)](_0x2e8662){const _0x4001f1=a0_0x33f632;try{let _0x358753=A(_0x2e8662['where']);return await this[_0x4001f1(0x37e)][_0x4001f1(0x91c)](_0x358753)[_0x4001f1(0x494)]();}catch{return null;}}},Gt=class extends O{[a0_0x33f632(0x269)](_0x5190c6){return va(_0x5190c6);}async[a0_0x33f632(0x215)](_0x4979c9,_0x58bbc6,_0x165361,_0x79dff){const _0x2604de=a0_0x33f632;try{let _0x5a460c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x79dff},_0x5b0aa9=this[_0x2604de(0x269)](_0x165361),_0x451cdb=A(_0x4979c9[_0x2604de(0x708)]);return await _0x5b0aa9['findOneAndUpdate'](_0x451cdb,{'$set':_0x58bbc6},_0x5a460c);}catch(_0x28c6c1){return console[_0x2604de(0x90c)](_0x28c6c1),null;}}async['find'](_0x4a554e,_0x464fa0){const _0x2af1e4=a0_0x33f632;try{let _0x2f1f25=this[_0x2af1e4(0x269)](_0x464fa0),_0x3f5b4f=A(_0x4a554e[_0x2af1e4(0x708)]);return await _0x2f1f25['find'](_0x3f5b4f);}catch(_0x46db1c){console[_0x2af1e4(0x90c)](_0x46db1c);}}async[a0_0x33f632(0x8ce)](_0x6a0bdc,_0x17e5f8){const _0xd2a8a8=a0_0x33f632;try{let _0x1add29=this[_0xd2a8a8(0x269)](_0x17e5f8),_0x4b100d=A(_0x6a0bdc[_0xd2a8a8(0x708)]);await _0x1add29[_0xd2a8a8(0x3c9)](_0x4b100d);}catch(_0x1940e5){console[_0xd2a8a8(0x90c)](_0x1940e5);}}async[a0_0x33f632(0x37f)](_0x4023e9){const _0x3be1a1=a0_0x33f632;try{return await this[_0x3be1a1(0x269)](_0x4023e9)[_0x3be1a1(0x4c3)]['drop'](),{'success':!0x0};}catch(_0x266910){return console[_0x3be1a1(0x90c)](_0x266910),{'success':!0x1,'error':_0x266910};}}},Bt=class{constructor(_0x3677c6){this['waMonitor']=_0x3677c6;}async[a0_0x33f632(0x1e3)]({instanceName:_0x4dd8c6},_0x2e05b4){const _0x35233f=a0_0x33f632;return await this[_0x35233f(0x5ce)][_0x35233f(0x812)][_0x4dd8c6][_0x35233f(0x1e3)](_0x2e05b4);}async[a0_0x33f632(0x4fb)]({instanceName:_0x125e66},_0x524da6){const _0x3f9626=a0_0x33f632;return await this['waMonitor'][_0x3f9626(0x812)][_0x125e66][_0x3f9626(0x4fb)](_0x524da6);}async[a0_0x33f632(0x68d)]({instanceName:_0x25976b},_0x5c77c1){const _0x363d8d=a0_0x33f632;return await this[_0x363d8d(0x5ce)][_0x363d8d(0x812)][_0x25976b]['importChats'](_0x5c77c1);}async[a0_0x33f632(0x68e)]({instanceName:_0x4057a3},_0x38a46e){const _0x205e46=a0_0x33f632;return await this[_0x205e46(0x5ce)]['waInstances'][_0x4057a3][_0x205e46(0x252)](_0x38a46e);}async[a0_0x33f632(0x2c2)]({instanceName:_0x1bae51},_0x25346d){const _0x2f702a=a0_0x33f632;return await this[_0x2f702a(0x5ce)][_0x2f702a(0x812)][_0x1bae51][_0x2f702a(0x2c2)](_0x25346d);}async['deleteMessage']({instanceName:_0x4fa7d1},_0x437217){const _0x14c699=a0_0x33f632;return await this[_0x14c699(0x5ce)][_0x14c699(0x812)][_0x4fa7d1][_0x14c699(0x660)](_0x437217);}async[a0_0x33f632(0x2a1)]({instanceName:_0x30045e},_0x1dbcbd){const _0x7438b9=a0_0x33f632;return await this['waMonitor'][_0x7438b9(0x812)][_0x30045e][_0x7438b9(0x717)](_0x1dbcbd[_0x7438b9(0x3ae)]);}async[a0_0x33f632(0x67a)]({instanceName:_0x2b99d0},_0x28558c){const _0x76546b=a0_0x33f632;return await this['waMonitor'][_0x76546b(0x812)][_0x2b99d0][_0x76546b(0x67a)](_0x28558c[_0x76546b(0x3ae)]);}async['updatePresence']({instanceName:_0x42fcb7},_0x19734a){const _0x41e266=a0_0x33f632;return await this[_0x41e266(0x5ce)]['waInstances'][_0x42fcb7][_0x41e266(0x44e)](_0x19734a);}async[a0_0x33f632(0x49d)]({instanceName:_0x25f63a},_0x49ccd7){const _0x36959f=a0_0x33f632;return await this[_0x36959f(0x5ce)][_0x36959f(0x812)][_0x25f63a][_0x36959f(0x49d)](_0x49ccd7);}async[a0_0x33f632(0x435)]({instanceName:_0x42c7af},_0x503631){const _0x1501b8=a0_0x33f632;return await this['waMonitor']['waInstances'][_0x42c7af][_0x1501b8(0x435)](_0x503631);}async['fetchMessages']({instanceName:_0x4313ad},_0x39ae33){const _0x24bcc8=a0_0x33f632;return await this[_0x24bcc8(0x5ce)][_0x24bcc8(0x812)][_0x4313ad][_0x24bcc8(0x634)](_0x39ae33);}async[a0_0x33f632(0x602)]({instanceName:_0x42df5f}){const _0x2cf436=a0_0x33f632;return await this[_0x2cf436(0x5ce)][_0x2cf436(0x812)][_0x42df5f]['fetchLabels']();}async[a0_0x33f632(0x543)]({instanceName:_0x276607}){const _0x5aaf80=a0_0x33f632;return await this[_0x5aaf80(0x5ce)]['waInstances'][_0x276607]['fetchChats']();}async[a0_0x33f632(0x8b3)]({instanceName:_0x36e933}){const _0x38577e=a0_0x33f632;return await this['waMonitor'][_0x38577e(0x812)][_0x36e933][_0x38577e(0x8b3)]();}async[a0_0x33f632(0x570)]({instanceName:_0x221968},_0xb4ab5c){const _0x301553=a0_0x33f632;return await this[_0x301553(0x5ce)][_0x301553(0x812)][_0x221968][_0x301553(0x570)](_0xb4ab5c);}async[a0_0x33f632(0x2d7)]({instanceName:_0x3542a3},_0x151990){const _0x14877c=a0_0x33f632;return await this[_0x14877c(0x5ce)][_0x14877c(0x812)][_0x3542a3][_0x14877c(0x2d7)](_0x151990[_0x14877c(0x3ae)]);}async[a0_0x33f632(0x2a4)]({instanceName:_0x6f1327},_0x1ee72d){const _0x1f12cf=a0_0x33f632;return await this[_0x1f12cf(0x5ce)][_0x1f12cf(0x812)][_0x6f1327][_0x1f12cf(0x2a4)](_0x1ee72d['name']);}async['updateProfileStatus']({instanceName:_0x4768b8},_0x40a5da){const _0x3483c7=a0_0x33f632;return await this[_0x3483c7(0x5ce)][_0x3483c7(0x812)][_0x4768b8][_0x3483c7(0x85d)](_0x40a5da['status']);}async[a0_0x33f632(0x875)]({instanceName:_0x28597a},_0x19eee5){const _0x1a55f3=a0_0x33f632;return await this[_0x1a55f3(0x5ce)][_0x1a55f3(0x812)][_0x28597a][_0x1a55f3(0x875)](_0x19eee5[_0x1a55f3(0x67b)]);}async[a0_0x33f632(0x3e0)]({instanceName:_0x3e4de3},_0x155f34){const _0x246a3f=a0_0x33f632;return await this['waMonitor'][_0x246a3f(0x812)][_0x3e4de3][_0x246a3f(0x3e0)]();}},Wt=require(a0_0x33f632(0x5c7)),zt=class u{constructor(_0x311e47,_0x3dae11,_0x52f8c0,_0x390a01,_0x10b0db){const _0x2ad2bd=a0_0x33f632;this[_0x2ad2bd(0x5ce)]=_0x311e47,this[_0x2ad2bd(0x7fb)]=_0x3dae11,this[_0x2ad2bd(0x48b)]=_0x52f8c0,this[_0x2ad2bd(0x7b1)]=_0x390a01,this[_0x2ad2bd(0x23b)]=_0x10b0db,this[_0x2ad2bd(0x5d3)]=new $(u['name']);}async[a0_0x33f632(0x3d6)]({instanceName:_0x25b5a7,apikey:_0x2f55df,number:_0x32e1b1,proxy:_0x4e2628=!0x0}){const _0x4f82c7=a0_0x33f632;try{let _0x221cc5=new $e(this[_0x4f82c7(0x7fb)],this[_0x4f82c7(0x7b1)],this[_0x4f82c7(0x48b)]);_0x221cc5[_0x4f82c7(0x59f)]=_0x25b5a7,this[_0x4f82c7(0x5ce)][_0x4f82c7(0x812)][_0x221cc5[_0x4f82c7(0x59f)]]=_0x221cc5;let _0x5542b3={};_0x2f55df?(await this['repository'][_0x4f82c7(0x679)][_0x4f82c7(0x20b)]({'apikey':_0x2f55df},_0x25b5a7),_0x5542b3['apikey']=_0x2f55df):_0x5542b3=await this[_0x4f82c7(0x23b)][_0x4f82c7(0x2cf)]({'instanceName':_0x221cc5[_0x4f82c7(0x59f)]});let _0x4f506c;if(_0x32e1b1){if(_0x4f506c=await this[_0x4f82c7(0x915)](_0x32e1b1),_0x4f506c[_0x4f82c7(0x90c)])throw new x(_0x4f506c['error'][_0x4f82c7(0x765)]());_0x32e1b1=_0x4f506c[_0x4f82c7(0x3ae)];}let _0x4caea3;return await _0x221cc5[_0x4f82c7(0x673)](_0x32e1b1),await(0x0,Wt[_0x4f82c7(0x31d)])(0xfa0),_0x32e1b1&&await(0x0,Wt[_0x4f82c7(0x31d)])(0xbb8),_0x4caea3=_0x221cc5['qrCode'],{'instance':{'instanceName':_0x221cc5[_0x4f82c7(0x59f)],'status':_0x4f82c7(0x929)},'hash':_0x5542b3,'qrcode':_0x4caea3};}catch(_0x4e0e3f){throw this['logger']['error'](_0x4e0e3f),_0x4e0e3f;}}async[a0_0x33f632(0x4bf)]({instanceName:_0x631d85,number:_0x1def6f=null}){const _0x469fc0=a0_0x33f632;try{let _0x4f8f44=this[_0x469fc0(0x5ce)][_0x469fc0(0x812)][_0x631d85];switch(_0x4f8f44?.[_0x469fc0(0x307)]?.['state']){case _0x469fc0(0x3b3):return await _0x4f8f44[_0x469fc0(0x673)](_0x1def6f),await(0x0,Wt[_0x469fc0(0x31d)])(0x7d0),_0x4f8f44[_0x469fc0(0x35a)];case'connecting':return _0x4f8f44['qrCode'];default:return await this[_0x469fc0(0x637)]({'instanceName':_0x631d85});}}catch(_0x29a705){this[_0x469fc0(0x5d3)][_0x469fc0(0x257)](_0x29a705);}}async[a0_0x33f632(0x637)]({instanceName:_0x5479cf}){const _0x37abaa=a0_0x33f632;let _0x5caa23=this[_0x37abaa(0x5ce)]['waInstances'][_0x5479cf][_0x37abaa(0x307)],_0x4afab4=null;_0x5caa23[_0x37abaa(0x4d4)]==='open'&&_0x5479cf&&(_0x4afab4=await this[_0x37abaa(0x5ce)]['instanceInfo'](_0x5479cf));let _0x1e047e=null;return _0x5caa23[_0x37abaa(0x4d4)]===_0x37abaa(0x205)&&_0x5479cf&&(_0x1e047e=this[_0x37abaa(0x5ce)][_0x37abaa(0x812)][_0x5479cf][_0x37abaa(0x35a)]),{'instance':_0x5479cf,'connectionStatus':_0x5caa23,'instanceInfo':_0x4afab4,'qrcode':_0x1e047e};}async[a0_0x33f632(0x915)](_0x205930){const _0x1898de=a0_0x33f632;_0x205930=_0x205930[_0x1898de(0x60a)](/\D/g,'');let _0x229077=Object[_0x1898de(0x516)](this[_0x1898de(0x5ce)][_0x1898de(0x812)])[_0x1898de(0x550)](_0x235414=>{const _0x2984a5=_0x1898de;let _0x5da06f=this['waMonitor'][_0x2984a5(0x812)][_0x235414];return _0x5da06f&&_0x5da06f[_0x2984a5(0x307)]&&_0x5da06f['connectionStatus'][_0x2984a5(0x4d4)]==='open';});if(_0x229077[_0x1898de(0x6ee)]===0x0)return{'number':this[_0x1898de(0x899)](_0x205930)};let _0x2ac70e=Math['floor'](Math['random']()*_0x229077[_0x1898de(0x6ee)]),_0x18e631=_0x229077[_0x2ac70e];try{let _0x1507df=(await this[_0x1898de(0x5ce)][_0x1898de(0x812)][_0x18e631]['whatsappNumber']({'numbers':[_0x205930]}))[_0x1898de(0x23f)]();return _0x1507df[_0x1898de(0x375)]?{'number':_0x1507df[_0x1898de(0x1e7)]['replace'](_0x1898de(0x8b2),'')}:{'number':_0x205930,'error':_0x1898de(0x629)};}catch(_0x4885be){return this[_0x1898de(0x5d3)][_0x1898de(0x90c)](_0x1898de(0x6a0)+_0x4885be),{'number':_0x205930,'error':_0x1898de(0x7f2)};}}[a0_0x33f632(0x899)](_0x54318f){const _0x2b30ef=a0_0x33f632;let _0x474270=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2b30ef(0x8f1)](_0x54318f);if(_0x474270&&_0x474270[0x1]==='55'){let _0x34d2c6=_0x474270[0x2],_0x6066db=_0x474270[0x3],_0x377cbd=_0x474270[0x4];if(parseInt(_0x34d2c6)>=0x1f&&_0x6066db==='9')return _0x474270[0x1]+_0x34d2c6+_0x377cbd;}return _0x54318f;}async[a0_0x33f632(0x29d)]({instanceName:_0x13f61e}){const _0x211277=a0_0x33f632;try{return this[_0x211277(0x5ce)][_0x211277(0x812)][_0x13f61e]?.[_0x211277(0x467)]?.['ws']?.[_0x211277(0x3b3)](),{'status':_0x211277(0x3e5),'error':!0x1,'response':{'message':_0x211277(0x263)}};}catch(_0x12a11b){this[_0x211277(0x5d3)]['error'](_0x12a11b);}}async['fetchInstances']({instanceName:_0x3788fa}){const _0x33a21a=a0_0x33f632;return _0x3788fa?this[_0x33a21a(0x5ce)][_0x33a21a(0x2d4)](_0x3788fa):this['waMonitor'][_0x33a21a(0x2d4)]();}async[a0_0x33f632(0x8d4)]({instanceName:_0xd7476b}){const _0x3f7636=a0_0x33f632;try{return await this[_0x3f7636(0x5ce)][_0x3f7636(0x812)][_0xd7476b]?.[_0x3f7636(0x467)]?.[_0x3f7636(0x8d4)](_0x3f7636(0x3b9)+_0xd7476b),{'error':!0x1,'message':_0x3f7636(0x8a8)};}catch(_0x5e98c9){throw new x(_0x5e98c9['toString']());}}async[a0_0x33f632(0x244)]({instanceName:_0x101ad6}){const _0x3a350f=a0_0x33f632;if((await this[_0x3a350f(0x637)]({'instanceName':_0x101ad6}))['connectionStatus'][_0x3a350f(0x4d4)]===_0x3a350f(0x29e))throw new m([_0x3a350f(0x21e),_0x3a350f(0x60e)]);try{return delete this[_0x3a350f(0x5ce)]['waInstances'][_0x101ad6],{'error':!0x1,'message':_0x3a350f(0x5f6)};}catch(_0x24449a){throw new m(_0x24449a[_0x3a350f(0x765)]());}}},re=require(a0_0x33f632(0x237)),Ht=class{constructor(_0x4ac0cb){this['waMonitor']=_0x4ac0cb;}async[a0_0x33f632(0x4a1)]({instanceName:_0x538ac3},_0x2bf767){const _0x590439=a0_0x33f632;return await this['waMonitor'][_0x590439(0x812)][_0x538ac3][_0x590439(0x846)](_0x2bf767);}async[a0_0x33f632(0x6f7)]({instanceName:_0x467305},_0x5924a4){const _0x24a589=a0_0x33f632;return await this[_0x24a589(0x5ce)][_0x24a589(0x812)][_0x467305][_0x24a589(0x649)](_0x5924a4);}async[a0_0x33f632(0x90a)]({instanceName:_0x553ece},_0x291a6b){const _0x23b10b=a0_0x33f632;if((0x0,re[_0x23b10b(0x2d3)])(_0x291a6b?.[_0x23b10b(0x28b)]?.[_0x23b10b(0x5fd)])&&!_0x291a6b?.[_0x23b10b(0x28b)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,re['isURL'])(_0x291a6b?.[_0x23b10b(0x28b)]?.[_0x23b10b(0x5fd)])||(0x0,re['isBase64'])(_0x291a6b?.[_0x23b10b(0x28b)]?.[_0x23b10b(0x5fd)]))return await this[_0x23b10b(0x5ce)][_0x23b10b(0x812)][_0x553ece]['mediaMessage'](_0x291a6b);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x33f632(0x46f)]({instanceName:_0x75abfe},_0x18bf2e){const _0x2d3632=a0_0x33f632;if((0x0,re[_0x2d3632(0x1b9)])(_0x18bf2e[_0x2d3632(0x678)][_0x2d3632(0x1b7)])||(0x0,re[_0x2d3632(0x2d3)])(_0x18bf2e[_0x2d3632(0x678)]['image']))return await this[_0x2d3632(0x5ce)]['waInstances'][_0x75abfe]['mediaSticker'](_0x18bf2e);throw new m(_0x2d3632(0x304));}async[a0_0x33f632(0x6d9)]({instanceName:_0x3faecf},_0x4716ae){const _0x5acfe5=a0_0x33f632;if((0x0,re[_0x5acfe5(0x1b9)])(_0x4716ae[_0x5acfe5(0x1e4)]['audio'])||(0x0,re[_0x5acfe5(0x2d3)])(_0x4716ae[_0x5acfe5(0x1e4)][_0x5acfe5(0x5cd)]))return await this[_0x5acfe5(0x5ce)]['waInstances'][_0x3faecf][_0x5acfe5(0x5cf)](_0x4716ae);throw new m(_0x5acfe5(0x304));}async['sendButtons']({instanceName:_0x388b29},_0x12d32a){const _0x342f85=a0_0x33f632;return await this['waMonitor'][_0x342f85(0x812)][_0x388b29]['buttonMessage'](_0x12d32a);}async[a0_0x33f632(0x8ee)]({instanceName:_0x2fa3e2},_0x122a7c){const _0x221474=a0_0x33f632;return await this[_0x221474(0x5ce)][_0x221474(0x812)][_0x2fa3e2][_0x221474(0x1f2)](_0x122a7c);}async[a0_0x33f632(0x916)]({instanceName:_0x5bab90},_0x1cfbc6){const _0x738449=a0_0x33f632;return await this[_0x738449(0x5ce)][_0x738449(0x812)][_0x5bab90][_0x738449(0x917)](_0x1cfbc6);}async[a0_0x33f632(0x278)]({instanceName:_0x3350e7},_0x1e5e50){const _0x2ecb33=a0_0x33f632;return await this[_0x2ecb33(0x5ce)][_0x2ecb33(0x812)][_0x3350e7][_0x2ecb33(0x2e5)](_0x1e5e50);}async[a0_0x33f632(0x8b6)]({instanceName:_0x4ad5e7},_0x1b26b3){const _0x32f97d=a0_0x33f632;return await this[_0x32f97d(0x5ce)][_0x32f97d(0x812)][_0x4ad5e7][_0x32f97d(0x5ed)](_0x1b26b3);}async[a0_0x33f632(0x7ac)]({instanceName:_0x14d456},_0x5d9b5e){const _0x10b4a3=a0_0x33f632;if(!_0x5d9b5e[_0x10b4a3(0x2dd)][_0x10b4a3(0x39a)][_0x10b4a3(0x82d)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x10b4a3(0x326));return await this[_0x10b4a3(0x5ce)][_0x10b4a3(0x812)][_0x14d456]['reactionMessage'](_0x5d9b5e);}async['sendStatus']({instanceName:_0x137727},_0x383183){const _0x3e08b5=a0_0x33f632;return await this[_0x3e08b5(0x5ce)][_0x3e08b5(0x812)][_0x137727]['statusMessage'](_0x383183);}},Pi=require(a0_0x33f632(0x38a)),js=require('uuid'),Kt=class u{constructor(_0x47b5af,_0x13b99d,_0x53ac0b){const _0x5a96ff=a0_0x33f632;this['configService']=_0x47b5af,this[_0x5a96ff(0x5ce)]=_0x13b99d,this[_0x5a96ff(0x48b)]=_0x53ac0b,this[_0x5a96ff(0x5d3)]=new $(u['name']);}async[a0_0x33f632(0x87b)](_0x55245b){const _0x301c31=a0_0x33f632;let _0x444558=this[_0x301c31(0x7fb)][_0x301c31(0x939)](_0x301c31(0x329))[_0x301c31(0x4ea)],_0x4e96e5=(0x0,Pi[_0x301c31(0x236)])({'instanceName':_0x55245b['instanceName'],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x444558[_0x301c31(0x1f8)],{'expiresIn':_0x444558[_0x301c31(0x203)],'encoding':_0x301c31(0x76e),'subject':'g-t'}),_0xfd85aa=await this['repository'][_0x301c31(0x679)][_0x301c31(0x20b)]({'jwt':_0x4e96e5},_0x55245b[_0x301c31(0x59f)]);if(_0xfd85aa[_0x301c31(0x90c)])throw this['logger'][_0x301c31(0x90c)]({'localError':u[_0x301c31(0x254)]+_0x301c31(0x470),'error':_0xfd85aa[_0x301c31(0x90c)]}),new m(_0x301c31(0x1a2),_0xfd85aa[_0x301c31(0x90c)]?.[_0x301c31(0x765)]());return{'jwt':_0x4e96e5};}async[a0_0x33f632(0x56e)](_0x57092a){const _0x49d4da=a0_0x33f632;let _0x2ad932=(0x0,js['v4'])()[_0x49d4da(0x900)](),_0x2b6fbc=await this[_0x49d4da(0x48b)][_0x49d4da(0x679)][_0x49d4da(0x20b)]({'apikey':_0x2ad932},_0x57092a[_0x49d4da(0x59f)]);if(_0x2b6fbc['error'])throw this[_0x49d4da(0x5d3)][_0x49d4da(0x90c)]({'localError':u[_0x49d4da(0x254)]+_0x49d4da(0x470),'error':_0x2b6fbc[_0x49d4da(0x90c)]}),new m(_0x49d4da(0x1a2),_0x2b6fbc[_0x49d4da(0x90c)]?.[_0x49d4da(0x765)]());return{'apikey':_0x2ad932};}async['generateHash'](_0x553ede){const _0x51ca2e=a0_0x33f632;let _0x207f19=this[_0x51ca2e(0x7fb)][_0x51ca2e(0x939)](_0x51ca2e(0x329));return await this[_0x207f19[_0x51ca2e(0x459)]](_0x553ede);}},Qt=class{constructor(_0x3490f7){const _0x46d207=a0_0x33f632;this[_0x46d207(0x5ce)]=_0x3490f7;}async[a0_0x33f632(0x441)](_0x1402da,_0x345023){const _0x305361=a0_0x33f632;return await this[_0x305361(0x5ce)]['waInstances'][_0x1402da[_0x305361(0x59f)]][_0x305361(0x441)](_0x345023);}async['updateGroupPicture'](_0x4ef7e5,_0x2e1b7e){const _0x33499b=a0_0x33f632;return await this[_0x33499b(0x5ce)][_0x33499b(0x812)][_0x4ef7e5[_0x33499b(0x59f)]][_0x33499b(0x6e9)](_0x2e1b7e);}async[a0_0x33f632(0x4b7)](_0x7f561d,_0x22c91d){const _0x479239=a0_0x33f632;return await this[_0x479239(0x5ce)]['waInstances'][_0x7f561d[_0x479239(0x59f)]]['groupDesc'](_0x22c91d);}async[a0_0x33f632(0x847)](_0x187e09,_0x2c6dbc){const _0x46a30a=a0_0x33f632;return await this[_0x46a30a(0x5ce)]['waInstances'][_0x187e09['instanceName']][_0x46a30a(0x847)](_0x2c6dbc);}async[a0_0x33f632(0x1ef)](_0x157680,_0x38ca10){const _0x29201c=a0_0x33f632;return await this[_0x29201c(0x5ce)]['waInstances'][_0x157680[_0x29201c(0x59f)]][_0x29201c(0x1ef)](_0x38ca10);}async[a0_0x33f632(0x56c)](_0x1f65b5,_0x21e470){const _0x8e9311=a0_0x33f632;return await this[_0x8e9311(0x5ce)][_0x8e9311(0x812)][_0x1f65b5[_0x8e9311(0x59f)]]['groupSetting'](_0x21e470);}async[a0_0x33f632(0x8a6)](_0xaa5e1a,_0x523f19){const _0x46a1c5=a0_0x33f632;return await this[_0x46a1c5(0x5ce)]['waInstances'][_0xaa5e1a[_0x46a1c5(0x59f)]]['findGroup'](_0x523f19);}async[a0_0x33f632(0x6ad)](_0x5a6528){const _0x29cd53=a0_0x33f632;return await this[_0x29cd53(0x5ce)][_0x29cd53(0x812)][_0x5a6528[_0x29cd53(0x59f)]][_0x29cd53(0x6ad)]();}async[a0_0x33f632(0x406)](_0x42448a,_0x3be5db){const _0xaf11a1=a0_0x33f632;return await this[_0xaf11a1(0x5ce)][_0xaf11a1(0x812)][_0x42448a[_0xaf11a1(0x59f)]][_0xaf11a1(0x406)](_0x3be5db);}async['joinGroup'](_0x272d9f,_0x55f341){const _0x309615=a0_0x33f632;return await this[_0x309615(0x5ce)][_0x309615(0x812)][_0x272d9f[_0x309615(0x59f)]][_0x309615(0x86f)](_0x55f341);}async[a0_0x33f632(0x460)](_0x59c546,_0x4b6dd7){const _0x152fd=a0_0x33f632;return await this[_0x152fd(0x5ce)][_0x152fd(0x812)][_0x59c546[_0x152fd(0x59f)]]['groupGetInviteInfo'](_0x4b6dd7);}async['revokeInviteCode'](_0x5e18a2,_0x20c58c){const _0x52ecb5=a0_0x33f632;return await this[_0x52ecb5(0x5ce)]['waInstances'][_0x5e18a2['instanceName']]['revokeInviteCode'](_0x20c58c);}async[a0_0x33f632(0x7b5)](_0xd1e5c,_0xa12414){const _0x2dde96=a0_0x33f632;return await this['waMonitor'][_0x2dde96(0x812)][_0xd1e5c['instanceName']][_0x2dde96(0x7b5)](_0xa12414);}async['updateGParticipate'](_0x19476a,_0x41c80d){const _0x960ca4=a0_0x33f632;return await this['waMonitor']['waInstances'][_0x19476a['instanceName']][_0x960ca4(0x897)](_0x41c80d);}async[a0_0x33f632(0x77e)](_0x36d14a,_0x19d1d){const _0x15a30c=a0_0x33f632;return await this[_0x15a30c(0x5ce)][_0x15a30c(0x812)][_0x36d14a[_0x15a30c(0x59f)]][_0x15a30c(0x77e)](_0x19d1d);}async[a0_0x33f632(0x3d2)](_0x1bb31b,_0x23995e){const _0x127cc2=a0_0x33f632;return await this[_0x127cc2(0x5ce)][_0x127cc2(0x812)][_0x1bb31b[_0x127cc2(0x59f)]][_0x127cc2(0x3d2)](_0x23995e);}},Yt=class{constructor(_0x22dd21){this['waMonitor']=_0x22dd21;}[a0_0x33f632(0x20b)](_0x231190,_0x50ac35){const _0x42bf6a=a0_0x33f632;return this[_0x42bf6a(0x5ce)][_0x42bf6a(0x812)][_0x231190[_0x42bf6a(0x59f)]][_0x42bf6a(0x2f0)](_0x50ac35);}async[a0_0x33f632(0x7fa)](_0xf259cc){const _0x26c239=a0_0x33f632;try{return await this[_0x26c239(0x5ce)][_0x26c239(0x812)][_0xf259cc[_0x26c239(0x59f)]][_0x26c239(0x2f7)]();}catch{return{'enabled':null,'url':''};}}},ch=new $('FlowController'),Xt=class{constructor(_0x408b62){const _0x5c270a=a0_0x33f632;this[_0x5c270a(0x5ce)]=_0x408b62;}async[a0_0x33f632(0x2bf)](_0x38446d,_0x14cb59){const _0x490e06=a0_0x33f632;return await this[_0x490e06(0x5ce)][_0x490e06(0x812)][_0x38446d['instanceName']][_0x490e06(0x2bf)](_0x14cb59);}async[a0_0x33f632(0x46e)](_0x577330){const _0x5981de=a0_0x33f632;return await this[_0x5981de(0x5ce)][_0x5981de(0x812)][_0x577330[_0x5981de(0x59f)]][_0x5981de(0x46e)]();}async[a0_0x33f632(0x3a6)](_0x369c69){const _0x2be326=a0_0x33f632;return await this[_0x2be326(0x5ce)]['waInstances'][_0x369c69[_0x2be326(0x59f)]][_0x2be326(0x3a6)]();}async['deleteAllMessages'](_0x16e972){const _0x1eb438=a0_0x33f632;return await this['waMonitor'][_0x1eb438(0x812)][_0x16e972['instanceName']][_0x1eb438(0x318)]();}async[a0_0x33f632(0x6ac)](_0x16927e){const _0x133f90=a0_0x33f632;return await this[_0x133f90(0x5ce)][_0x133f90(0x812)][_0x16927e[_0x133f90(0x59f)]][_0x133f90(0x6ac)]();}async[a0_0x33f632(0x597)](_0x2bd2e8,_0x19795f){const _0x5d5f4d=a0_0x33f632;return await this[_0x5d5f4d(0x5ce)][_0x5d5f4d(0x812)][_0x2bd2e8['instanceName']][_0x5d5f4d(0x597)](_0x19795f);}async[a0_0x33f632(0x34f)](_0x546354,_0x24ad48){const _0x2257cd=a0_0x33f632;return await this['waMonitor'][_0x2257cd(0x812)][_0x546354[_0x2257cd(0x59f)]][_0x2257cd(0x34f)](_0x24ad48);}async[a0_0x33f632(0x2a3)](_0x42ed2d,_0x4b7367){const _0x381a3b=a0_0x33f632;return await this[_0x381a3b(0x5ce)][_0x381a3b(0x812)][_0x42ed2d['instanceName']][_0x381a3b(0x2a3)](_0x4b7367);}async['updateFlowConfig'](_0xf1bfd5,_0x4ab1e5){const _0x3c034d=a0_0x33f632;return await this[_0x3c034d(0x5ce)][_0x3c034d(0x812)][_0xf1bfd5['instanceName']][_0x3c034d(0x677)](_0x4ab1e5);}async[a0_0x33f632(0x6a8)](_0x5049a7,_0xb49542){const _0x239bd1=a0_0x33f632;return await this[_0x239bd1(0x5ce)]['waInstances'][_0x5049a7[_0x239bd1(0x59f)]][_0x239bd1(0x6a8)](_0xb49542);}async['startFlowWebhook'](_0xf98ec2,_0x44c56a,_0x37c44c,_0x2ae85c){const _0x494746=a0_0x33f632;return await this['waMonitor'][_0x494746(0x812)][_0xf98ec2][_0x494746(0x36b)](_0x44c56a,_0x37c44c,_0x2ae85c);}async[a0_0x33f632(0x40b)](_0x46bb09,_0x23de2c){const _0x539ad1=a0_0x33f632;return await this[_0x539ad1(0x5ce)][_0x539ad1(0x812)][_0x46bb09[_0x539ad1(0x59f)]][_0x539ad1(0x40b)](_0x23de2c);}async[a0_0x33f632(0x834)](_0x504574,_0x25ce59){const _0x8d60a8=a0_0x33f632;return await this[_0x8d60a8(0x5ce)][_0x8d60a8(0x812)][_0x504574[_0x8d60a8(0x59f)]][_0x8d60a8(0x834)](_0x25ce59);}async[a0_0x33f632(0x36a)](_0xca5726,_0x30b397){const _0x1fd67b=a0_0x33f632;return await this[_0x1fd67b(0x5ce)][_0x1fd67b(0x812)][_0xca5726['instanceName']]['editConversation'](_0x30b397);}async[a0_0x33f632(0x74f)](_0x39899f,_0x59e86){const _0x47d800=a0_0x33f632;return await this['waMonitor'][_0x47d800(0x812)][_0x39899f['instanceName']][_0x47d800(0x74f)](_0x59e86);}async[a0_0x33f632(0x837)](_0x2c8cef,_0x50bbe9){const _0x5ed4a4=a0_0x33f632;return await this[_0x5ed4a4(0x5ce)][_0x5ed4a4(0x812)][_0x2c8cef['instanceName']][_0x5ed4a4(0x837)](_0x50bbe9[_0x5ed4a4(0x7c9)]);}async[a0_0x33f632(0x233)](_0x5ee21f,_0x45da76,_0x3491ec){const _0x26e41e=a0_0x33f632;return await this[_0x26e41e(0x5ce)][_0x26e41e(0x812)][_0x5ee21f[_0x26e41e(0x59f)]]['createFlow'](_0x45da76,_0x3491ec);}async[a0_0x33f632(0x7c0)](_0x286a5d,_0x429096,_0x3c2964){const _0x1ae18e=a0_0x33f632;return await this[_0x1ae18e(0x5ce)][_0x1ae18e(0x812)][_0x286a5d[_0x1ae18e(0x59f)]][_0x1ae18e(0x7c0)](_0x429096,_0x3c2964);}async[a0_0x33f632(0x5d2)](_0x5b59e7,_0x15bd89){const _0x566214=a0_0x33f632;return await this[_0x566214(0x5ce)]['waInstances'][_0x5b59e7['instanceName']]['editFlowBlock'](_0x15bd89);}async[a0_0x33f632(0x4d3)](_0x39a0bb,_0x4219c0){const _0xa83f95=a0_0x33f632;return await this[_0xa83f95(0x5ce)][_0xa83f95(0x812)][_0x39a0bb['instanceName']][_0xa83f95(0x4d3)](_0x4219c0);}async[a0_0x33f632(0x363)](_0x5731d0,_0x33bd53){const _0x1769a9=a0_0x33f632;return await this[_0x1769a9(0x5ce)][_0x1769a9(0x812)][_0x5731d0['instanceName']][_0x1769a9(0x363)](_0x33bd53);}async['editFlowCondition'](_0x4de9ad,_0x20ec7d){const _0x34c002=a0_0x33f632;return await this['waMonitor'][_0x34c002(0x812)][_0x4de9ad['instanceName']][_0x34c002(0x69c)](_0x20ec7d);}async[a0_0x33f632(0x30c)](_0x47383c,_0x3dd469){const _0x185cfa=a0_0x33f632;return await this[_0x185cfa(0x5ce)][_0x185cfa(0x812)][_0x47383c[_0x185cfa(0x59f)]][_0x185cfa(0x30c)](_0x3dd469);}async[a0_0x33f632(0x57c)](_0x55adae,_0xf0e631){const _0x1f6321=a0_0x33f632;return await this[_0x1f6321(0x5ce)][_0x1f6321(0x812)][_0x55adae[_0x1f6321(0x59f)]][_0x1f6321(0x57c)](_0xf0e631);}async[a0_0x33f632(0x4d0)](_0x5c5a56,_0x54d763){const _0x482d59=a0_0x33f632;return await this[_0x482d59(0x5ce)][_0x482d59(0x812)][_0x5c5a56[_0x482d59(0x59f)]][_0x482d59(0x4d0)](_0x54d763);}async['allFlows'](_0x4be5f6){const _0x1da888=a0_0x33f632;return await this['waMonitor'][_0x1da888(0x812)][_0x4be5f6[_0x1da888(0x59f)]][_0x1da888(0x67c)]();}},Zt=class{constructor(_0x2f2dfe){const _0x1b63a6=a0_0x33f632;this[_0x1b63a6(0x8e0)]=_0x2f2dfe;}async['createWebhook'](_0x2fe6fc,_0x3a0d50){const _0x54ee82=a0_0x33f632;return this[_0x54ee82(0x8e0)][_0x54ee82(0x20b)](_0x2fe6fc,_0x3a0d50);}async[a0_0x33f632(0x2f7)](_0x562073){const _0x5b719e=a0_0x33f632;return this[_0x5b719e(0x8e0)][_0x5b719e(0x7fa)](_0x562073);}},es=class extends O{constructor(_0x389735,_0x54b2dd){const _0x71b67e=a0_0x33f632;super(_0x54b2dd),this['webhookModel']=_0x389735,this[_0x71b67e(0x7fb)]=_0x54b2dd;}async[a0_0x33f632(0x20b)](_0x4600f2,_0x55aa24){const _0x595043=a0_0x33f632;try{return this[_0x595043(0x4f7)][_0x595043(0x399)]?{'insertCount':(await this[_0x595043(0x699)][_0x595043(0x1b2)]({'_id':_0x55aa24},{..._0x4600f2},{'upsert':!0x0}))[_0x595043(0x887)]}:{'insertCount':0x1};}catch(_0x4ba99d){return _0x4ba99d;}}async[a0_0x33f632(0x8ce)](_0x4cbb6e){const _0xd42279=a0_0x33f632;try{if(this['dbSettings']['ENABLED']){await this[_0xd42279(0x699)][_0xd42279(0x22e)]({'_id':_0x4cbb6e});return;}}catch(_0x505e7a){return{'error':_0x505e7a};}}async[a0_0x33f632(0x7fa)](_0x3c0608){const _0x1ec7a2=a0_0x33f632;try{if(this[_0x1ec7a2(0x4f7)][_0x1ec7a2(0x399)])return await this['webhookModel'][_0x1ec7a2(0x91c)]({'_id':_0x3c0608});}catch{return{};}}},ts=class extends O{constructor(_0xf6965a,_0x120a2a){const _0x54e5e0=a0_0x33f632;super(_0x120a2a),this[_0x54e5e0(0x720)]=_0xf6965a,this[_0x54e5e0(0x7fb)]=_0x120a2a,this[_0x54e5e0(0x679)]=_0x120a2a[_0x54e5e0(0x939)]('AUTHENTICATION');}async['create'](_0x41fef5,_0x2b9d35){const _0x6de4f1=a0_0x33f632;try{if(this['dbSettings'][_0x6de4f1(0x399)])return{'insertCount':(await this[_0x6de4f1(0x720)][_0x6de4f1(0x215)]({'_id':_0x2b9d35},{'$set':{..._0x41fef5}},{'upsert':!0x0}))[_0x6de4f1(0x887)]};}catch(_0x1d49f1){return{'error':_0x1d49f1};}}async[a0_0x33f632(0x74e)](_0x559bfa,_0x2a589d){const _0x100d66=a0_0x33f632;try{if(this[_0x100d66(0x4f7)][_0x100d66(0x399)])return{'insertCount':(await this[_0x100d66(0x720)][_0x100d66(0x89a)](_0x559bfa,{'$set':_0x2a589d},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x2e9006){return{'error':_0x2e9006};}}async[a0_0x33f632(0x3c9)](_0x32e2e3){const _0x4c288a=a0_0x33f632;try{if(this[_0x4c288a(0x4f7)][_0x4c288a(0x399)])return{'insertCount':(await this[_0x4c288a(0x720)][_0x4c288a(0x3c9)](_0x32e2e3))[_0x4c288a(0x718)]};throw new Error(_0x4c288a(0x681));}catch(_0x530696){return{'error':_0x530696};}}async[a0_0x33f632(0x8ce)](_0x4c6a23){const _0x110d16=a0_0x33f632;try{if(this[_0x110d16(0x4f7)][_0x110d16(0x399)]){await this[_0x110d16(0x720)][_0x110d16(0x22e)]({'_id':_0x4c6a23});return;}}catch(_0x4d7e3e){return{'error':_0x4d7e3e};}}async['find'](_0x1038a0){const _0x57b75f=a0_0x33f632;try{if(this[_0x57b75f(0x4f7)][_0x57b75f(0x399)])return await this[_0x57b75f(0x720)][_0x57b75f(0x91c)]({'_id':_0x1038a0});}catch{return{};}}async[a0_0x33f632(0x903)](){const _0x4b2395=a0_0x33f632;try{if(this[_0x4b2395(0x4f7)][_0x4b2395(0x399)])return await this[_0x4b2395(0x720)][_0x4b2395(0x7fa)]();}catch{return[];}}async[a0_0x33f632(0x62b)](_0x40e087){const _0x25d0c8=a0_0x33f632;try{if(this[_0x25d0c8(0x4f7)][_0x25d0c8(0x399)])return await this[_0x25d0c8(0x720)][_0x25d0c8(0x7fa)](_0x40e087);}catch{return[];}}},ss=class extends O{async[a0_0x33f632(0x22e)](_0x78c57b){const _0x4923ad=a0_0x33f632;try{let _0x5799d2=A(_0x78c57b[_0x4923ad(0x708)]);return{'deletedCount':(await Me[_0x4923ad(0x22e)](_0x5799d2))[_0x4923ad(0x718)]};}catch(_0x2097ed){return{'error':_0x2097ed?.[_0x4923ad(0x765)]()};}}async['updateOne'](_0x36bf87,_0x322a69){const _0x581f32=a0_0x33f632;try{let _0x3d42e0=await Me[_0x581f32(0x240)](_0x36bf87);return _0x3d42e0?(Object[_0x581f32(0x68a)](_0x3d42e0,_0x322a69),await _0x3d42e0[_0x581f32(0x7db)]()):(console[_0x581f32(0x90c)](_0x581f32(0x696),_0x36bf87),null);}catch(_0x5e9527){return console[_0x581f32(0x90c)](_0x581f32(0x66c),_0x5e9527),null;}}async['createAndSave'](_0x56a47f){const _0x34622f=a0_0x33f632;try{return await new Me(_0x56a47f)['save']();}catch(_0xe2a35d){return console[_0x34622f(0x90c)](_0x34622f(0x302),_0xe2a35d),null;}}async[a0_0x33f632(0x903)](_0x45629f){const _0x2687a9=a0_0x33f632;try{let _0x5157d8=_0x45629f['where']??{};return await Me[_0x2687a9(0x7fa)](_0x5157d8)[_0x2687a9(0x52a)](_0x45629f[_0x2687a9(0x52a)]??0x0)[_0x2687a9(0x494)]();}catch(_0x3666e1){return console[_0x2687a9(0x90c)](_0x2687a9(0x793),_0x3666e1),[];}}async[a0_0x33f632(0x91c)](_0x14854a){const _0x2d2256=a0_0x33f632;try{let _0x182f30=A(_0x14854a[_0x2d2256(0x708)]);return await Me['findOne'](_0x182f30)[_0x2d2256(0x494)]();}catch{return null;}}},as=class extends O{[a0_0x33f632(0x3ea)](_0x5029a9){return Sa(_0x5029a9);}async[a0_0x33f632(0x37d)](_0x17a3ab){const _0x5d2470=a0_0x33f632;if(_0x17a3ab[_0x5d2470(0x6ee)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x17a3ab[0x0][_0x5d2470(0x47d)])[_0x5d2470(0x433)]([..._0x17a3ab]))[_0x5d2470(0x6ee)]};}catch(_0x2ac625){return _0x2ac625;}}async[a0_0x33f632(0x8ce)](_0x2f3106,_0x55f4fa){const _0x1bbe7b=a0_0x33f632;try{let _0x420926=this['getConversationModelForOwner'](_0x55f4fa),_0x371b70=A(_0x2f3106[_0x1bbe7b(0x708)]);return{'deletedCount':(await _0x420926[_0x1bbe7b(0x3c9)](_0x371b70))['deletedCount']};}catch(_0x155194){return{'error':_0x155194?.['toString']()};}}async[a0_0x33f632(0x22e)](_0x5629ea,_0x4812b2){const _0x1c7a5a=a0_0x33f632;try{let _0x64511f=this[_0x1c7a5a(0x3ea)](_0x4812b2),_0x23b46d=A(_0x5629ea[_0x1c7a5a(0x708)]);return{'deletedCount':(await _0x64511f[_0x1c7a5a(0x22e)](_0x23b46d))[_0x1c7a5a(0x718)]};}catch(_0x208c42){return{'error':_0x208c42?.[_0x1c7a5a(0x765)]()};}}async['update'](_0x1b7d2b,_0x521bb6){const _0x16ee8a=a0_0x33f632;try{if(_0x1b7d2b[_0x16ee8a(0x6ee)]===0x0)return;let _0x427509=this[_0x16ee8a(0x3ea)](_0x521bb6),_0x21b322=_0x1b7d2b[_0x16ee8a(0x3dc)](_0x2e8ffd=>({'updateOne':{'filter':{'name':_0x2e8ffd[_0x16ee8a(0x254)],'owner':_0x521bb6},'update':{..._0x2e8ffd}}})),{modifiedCount:_0x4f2f1b}=await _0x427509['bulkWrite'](_0x21b322);return{'insertCount':_0x4f2f1b};}catch{return;}}async[a0_0x33f632(0x89a)](_0x367610,_0x261a05,_0x1fbdc9){const _0xf91d62=a0_0x33f632;try{return{'modifiedCount':(await this[_0xf91d62(0x3ea)](_0x1fbdc9)['updateMany'](_0x367610,{'$set':_0x261a05})[_0xf91d62(0x8f1)]())['modifiedCount']};}catch(_0x5e94b3){return console[_0xf91d62(0x90c)](_0xf91d62(0x7bc),_0x5e94b3),{'error':_0x5e94b3};}}async[a0_0x33f632(0x215)](_0x307875,_0x2fa0af,_0x409dc8){const _0x253e56=a0_0x33f632;try{return await this['getConversationModelForOwner'](_0x409dc8)[_0x253e56(0x392)]({'_id':_0x307875},{'$set':_0x2fa0af},{'new':!0x0,'upsert':!0x0})[_0x253e56(0x494)]();}catch(_0x34b89e){return console['error'](_0x34b89e),null;}}async[a0_0x33f632(0x7fa)](_0x496f9f,_0x1520ca){const _0x19f993=a0_0x33f632;try{return await this['getConversationModelForOwner'](_0x1520ca)[_0x19f993(0x7fa)](_0x496f9f)['sort']({'lastInteraction':-0x1})[_0x19f993(0x494)]();}catch{return[];}}async[a0_0x33f632(0x91c)](_0x1b2e1a,_0x1c9389){const _0x27b3b2=a0_0x33f632;try{return await this['getConversationModelForOwner'](_0x1c9389)['findOne']({..._0x1b2e1a['where']})[_0x27b3b2(0x494)]();}catch{return null;}}async[a0_0x33f632(0x37f)](_0x2fd956){const _0x2c740f=a0_0x33f632;try{return await this[_0x2c740f(0x3ea)](_0x2fd956)[_0x2c740f(0x4c3)][_0x2c740f(0x4e6)](),{'success':!0x0};}catch(_0x42a950){return console['error'](_0x42a950),{'success':!0x1,'error':_0x42a950};}}},is=class extends O{[a0_0x33f632(0x5b8)](_0x66e083){return Ma(_0x66e083);}async[a0_0x33f632(0x921)](_0x54c895,_0x12adc3){const _0x362019=a0_0x33f632;try{return await this[_0x362019(0x5b8)](_0x12adc3)[_0x362019(0x921)](_0x54c895);}catch(_0x23d4c3){return console[_0x362019(0x90c)](_0x362019(0x922),_0x23d4c3),null;}}async[a0_0x33f632(0x83d)](_0x2f9509,_0x269cd5){const _0x541e96=a0_0x33f632;try{let _0x528686=this[_0x541e96(0x5b8)](_0x269cd5);return await new _0x528686(_0x2f9509)[_0x541e96(0x7db)]();}catch(_0x51b6ca){return console[_0x541e96(0x90c)](_0x541e96(0x266),_0x51b6ca),null;}}async[a0_0x33f632(0x22e)](_0x3a0553,_0x5400aa){const _0x4cb06c=a0_0x33f632;try{return await this[_0x4cb06c(0x5b8)](_0x5400aa)[_0x4cb06c(0x23a)](_0x3a0553),{};}catch(_0x57b445){return{'error':_0x57b445?.[_0x4cb06c(0x765)]()};}}async['updateOne'](_0x541ccd,_0x5a3e71,_0x455300,_0xce40b6={}){const _0x167d3f=a0_0x33f632;try{return await this[_0x167d3f(0x5b8)](_0x455300)[_0x167d3f(0x392)](_0x541ccd,_0x5a3e71,{..._0xce40b6,'new':!0x0})[_0x167d3f(0x494)]();}catch(_0x46e884){return console[_0x167d3f(0x90c)](_0x167d3f(0x41e),_0x46e884),null;}}async[a0_0x33f632(0x83e)](_0x454df2,_0x56e9fb,_0x5de63a){const _0x4941fc=a0_0x33f632;try{return await this[_0x4941fc(0x5b8)](_0x5de63a)[_0x4941fc(0x24d)](_0x454df2,_0x56e9fb,{'new':!0x0})[_0x4941fc(0x494)]();}catch(_0x3bcaf0){return console[_0x4941fc(0x90c)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3bcaf0),null;}}async['find'](_0x3d1d06,_0x1f6504){const _0x5e083d=a0_0x33f632;try{return await this[_0x5e083d(0x5b8)](_0x1f6504)[_0x5e083d(0x7fa)](_0x3d1d06[_0x5e083d(0x708)])[_0x5e083d(0x52a)](_0x3d1d06?.[_0x5e083d(0x52a)]??0x0)[_0x5e083d(0x835)]({'when':0x1})[_0x5e083d(0x494)]();}catch{return[];}}async[a0_0x33f632(0x91c)](_0x2245ad,_0x28e27b){const _0x5d75ec=a0_0x33f632;try{return await this[_0x5d75ec(0x5b8)](_0x28e27b)[_0x5d75ec(0x91c)](_0x2245ad['where'])[_0x5d75ec(0x835)]({'when':0x1})[_0x5d75ec(0x494)]();}catch{return null;}}async[a0_0x33f632(0x240)](_0x21abac,_0x231465){const _0x22b5d8=a0_0x33f632;try{return await this[_0x22b5d8(0x5b8)](_0x231465)[_0x22b5d8(0x240)](_0x21abac)[_0x22b5d8(0x494)]();}catch{return null;}}async[a0_0x33f632(0x3c9)](_0x2d8623,_0x4a0ecb){const _0x2046f6=a0_0x33f632;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x4a0ecb)[_0x2046f6(0x3c9)](_0x2d8623))[_0x2046f6(0x718)]};}catch(_0x240936){return console[_0x2046f6(0x90c)]('Erro\x20ao\x20deletar\x20mensagens:',_0x240936),{'error':_0x240936};}}async[a0_0x33f632(0x37f)](_0x585d99){const _0x4e1911=a0_0x33f632;try{return await this[_0x4e1911(0x5b8)](_0x585d99)[_0x4e1911(0x4c3)][_0x4e1911(0x4e6)](),{'success':!0x0};}catch(_0x3815a7){return console[_0x4e1911(0x90c)](_0x3815a7),{'success':!0x1,'error':_0x3815a7};}}},os=class extends O{async[a0_0x33f632(0x1df)](_0x2f1f7b,_0x115b4c){const _0x4fd547=a0_0x33f632;try{if(this[_0x4fd547(0x4f7)][_0x4fd547(0x399)])return await Te[_0x4fd547(0x392)]({'_id':_0x115b4c},{'$set':_0x2f1f7b},{'new':!0x0});}catch(_0x53e603){throw console['error'](_0x4fd547(0x790),_0x53e603),_0x53e603;}}async[a0_0x33f632(0x41d)](_0x348f2f){const _0x30dae4=a0_0x33f632;try{let _0xbae165=await Te[_0x30dae4(0x240)](_0x348f2f);return _0xbae165?_0xbae165[_0x30dae4(0x20e)]||(_0xbae165[_0x30dae4(0x20e)]=[],await _0xbae165[_0x30dae4(0x7db)]()):(_0xbae165=new Te({'_id':_0x348f2f,'autoCompleteMessages':[]}),await _0xbae165[_0x30dae4(0x7db)]()),_0xbae165;}catch(_0x2ef119){return _0x2ef119[_0x30dae4(0x2bd)]===0x2af8&&_0x2ef119[_0x30dae4(0x638)]&&_0x2ef119[_0x30dae4(0x638)]['autoCompleteMessages.command']?(console[_0x30dae4(0x90c)](_0x30dae4(0x92a)),await Te[_0x30dae4(0x4c3)][_0x30dae4(0x529)]('autoCompleteMessages.command_1'),null):(console[_0x30dae4(0x90c)](_0x30dae4(0x6e5),_0x2ef119),null);}}},Jo=new $(a0_0x33f632(0x57b)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x33f632(0x676)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x33f632(0x8ef)](a0_0x33f632(0x65a));var $g=require(a0_0x33f632(0x811)),Js=require('fs'),Di=I(require(a0_0x33f632(0x285))),ki=I(require(a0_0x33f632(0x4cf))),je=class u{static #e;static set[a0_0x33f632(0x892)](_0x390566){this.#e=_0x390566;}static get['https'](){const _0x3f1aa8=a0_0x33f632;let {FULLCHAIN:_0x17f9f9,PRIVKEY:_0x546310}=S[_0x3f1aa8(0x939)](_0x3f1aa8(0x762));return Di[_0x3f1aa8(0x617)]({'cert':(0x0,Js['readFileSync'])(_0x17f9f9),'key':(0x0,Js[_0x3f1aa8(0x5e9)])(_0x546310)},u.#e);}static get['http'](){return ki['createServer'](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x33f632(0x4ae))),qe=I(require(a0_0x33f632(0x81f))),ns=I(require(a0_0x33f632(0x92d))),rs=require(a0_0x33f632(0x76f));function ar(){const _0x41add5=a0_0x33f632;G['loadInstance']();let _0x33c47e=ns[_0x41add5(0x844)]['join'](__dirname,'downloads');Ji(_0x33c47e);}var Ji=_0x13da62=>{const _0x4a22ad=a0_0x33f632;let _0x284540=Je[_0x4a22ad(0x844)][_0x4a22ad(0x368)](_0x13da62),_0x304140=0xc*0x3c*0x3c*0x3e8,_0x1913dc=0x2*0x3c*0x3c*0x3e8,_0x5df7af=new Date()[_0x4a22ad(0x792)]();_0x284540['forEach'](_0x5d9ae2=>{const _0x5daf66=_0x4a22ad;let _0x1327b5=ns[_0x5daf66(0x844)]['join'](_0x13da62,_0x5d9ae2),_0x2f2a8a=Je[_0x5daf66(0x844)]['statSync'](_0x1327b5)[_0x5daf66(0x70a)][_0x5daf66(0x792)]();_0x5df7af-_0x2f2a8a>_0x304140&&(Je[_0x5daf66(0x844)][_0x5daf66(0x206)](_0x1327b5),console[_0x5daf66(0x257)](_0x5daf66(0x65e)+_0x5d9ae2));}),setTimeout(()=>Ji(_0x13da62),_0x1913dc);};function ir(){const _0x2e48f8=a0_0x33f632;let _0x3c96b9=new $(_0x2e48f8(0x308)),_0x489cbf=(0x0,we[_0x2e48f8(0x844)])();_0x489cbf[_0x2e48f8(0x425)]((0x0,ji[_0x2e48f8(0x844)])({'origin'(_0x15d62a,_0x543cd8){const _0x513c80=_0x2e48f8;let {ORIGIN:_0x3a324e}=S[_0x513c80(0x939)]('CORS');return _0x15d62a||(_0x15d62a='*'),_0x3a324e[_0x513c80(0x4fe)]('*')!==-0x1||_0x3a324e['indexOf'](_0x15d62a)!==-0x1?_0x543cd8(null,!0x0):_0x543cd8(new Error(_0x513c80(0x87d)));},'methods':[...S[_0x2e48f8(0x939)](_0x2e48f8(0x582))[_0x2e48f8(0x7f3)]],'credentials':S['get'](_0x2e48f8(0x582))[_0x2e48f8(0x8ff)]}),(0x0,we['urlencoded'])({'extended':!0x0,'limit':'50mb'}),(0x0,we[_0x2e48f8(0x1fe)])({'limit':'50mb'})),_0x489cbf[_0x2e48f8(0x425)]((_0x518fc1,_0xb3162c,_0x4fadbc)=>{const _0xb391c5=_0x2e48f8;_0x518fc1[_0xb391c5(0x92d)][_0xb391c5(0x5cb)](_0xb391c5(0x418))?_0x4fadbc():(0x0,Ui['default'])()(_0x518fc1,_0xb3162c,_0x4fadbc);}),_0x489cbf[_0x2e48f8(0x591)](_0x2e48f8(0x89e),_0x2e48f8(0x93e)),_0x489cbf[_0x2e48f8(0x591)](_0x2e48f8(0x91e),(0x0,Vs[_0x2e48f8(0x79a)])(ne,_0x2e48f8(0x91e))),_0x489cbf[_0x2e48f8(0x425)](we[_0x2e48f8(0x844)]['static']((0x0,Vs[_0x2e48f8(0x79a)])(ne,_0x2e48f8(0x756)))),_0x489cbf[_0x2e48f8(0x425)]((_0x191f19,_0x212d48,_0x1fc5f6)=>{const _0x2465e7=_0x2e48f8;let _0x2c69d1=_0x212d48[_0x2465e7(0x48e)];_0x212d48[_0x2465e7(0x48e)]=function(_0x532cab){const _0x2be278=_0x2465e7;if(_0x191f19[_0x2be278(0x5bf)][_0x2be278(0x778)]===_0x2be278(0x8c1)||_0x191f19[_0x2be278(0x863)]['uazapi']===_0x2be278(0x8c1)){let _0x344927=JSON[_0x2be278(0x366)](_0x532cab);_0x532cab=JSON['stringify'](_0x15f53a(_0x344927));}return _0x2c69d1['apply'](_0x212d48,[_0x532cab]);},_0x1fc5f6();}),_0x489cbf[_0x2e48f8(0x425)]('/',ke),_0x489cbf[_0x2e48f8(0x425)]((_0x163cc5,_0x27fb0b,_0x274761,_0x231624)=>{const _0x27ae35=_0x2e48f8;if(_0x163cc5)return _0x274761[_0x27ae35(0x3ee)](_0x163cc5[_0x27ae35(0x3ee)]||0x1f4)['json'](_0x163cc5);},(_0x495785,_0x75119d,_0x2b6543)=>{const _0x289181=_0x2e48f8;let {method:_0x363841,url:_0x1ce214}=_0x495785;_0x75119d[_0x289181(0x3ee)](0x194)[_0x289181(0x1fe)]({'status':0x194,'message':_0x289181(0x806)+_0x363841[_0x289181(0x900)]()+'\x20'+_0x1ce214,'error':_0x289181(0x927)}),_0x2b6543();});let _0x15f53a=(_0x31f363,_0x46ab9c=_0x2e48f8(0x31a))=>{const _0x1281b5=_0x2e48f8;let _0x12b308=(_0x1010f4,_0x22ac43=null,_0xc4b879=!0x1)=>{const _0x13dbd6=a0_0x308e;let _0x3d69e2={};return Object[_0x13dbd6(0x516)](_0x1010f4)[_0x13dbd6(0x1d3)](_0x358b90=>{const _0x13c110=_0x13dbd6;let _0x47542a=_0x1010f4[_0x358b90],_0x12e9df=''+_0x46ab9c+_0x358b90;_0x22ac43&&!_0xc4b879&&(_0x12e9df=_0x22ac43+'.'+_0x358b90),!_0x47542a&&_0x47542a!==0x0&&_0x47542a!==!0x1||typeof _0x47542a>'u'?_0x3d69e2[_0x12e9df]=null:typeof _0x47542a!=_0x13c110(0x8d7)&&!Array[_0x13c110(0x3cd)](_0x47542a)?_0x3d69e2[_0x12e9df]=_0x47542a:typeof _0x47542a==_0x13c110(0x8d7)&&!Array['isArray'](_0x47542a)?_0x3d69e2=Object[_0x13c110(0x68a)](_0x3d69e2,_0x12b308(_0x47542a,_0x12e9df)):Array[_0x13c110(0x3cd)](_0x47542a)&&(typeof _0x47542a[0x0]==_0x13c110(0x8d7)?(_0x3d69e2[_0x12e9df]=[],_0x47542a[_0x13c110(0x1d3)](_0x14371b=>{const _0x534d8c=_0x13c110;_0x3d69e2[_0x12e9df][_0x534d8c(0x2cc)](_0x12b308(_0x14371b,_0x12e9df,!0x0));})):_0x3d69e2[_0x12e9df]=_0x47542a);}),_0x3d69e2;};return Array[_0x1281b5(0x3cd)](_0x31f363)?_0x31f363[_0x1281b5(0x3dc)](_0x32280d=>_0x12b308(_0x32280d)):typeof _0x31f363==_0x1281b5(0x8d7)&&_0x31f363!==null?_0x12b308(_0x31f363):{};},_0x478361=S[_0x2e48f8(0x939)]('SERVER');je[_0x2e48f8(0x892)]=_0x489cbf;let _0x24eca1=je[_0x478361['TYPE']],_0x49fcb0='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x24eca1[_0x2e48f8(0x496)](_0x478361['PORT'],()=>{const _0x5bf103=_0x2e48f8;_0x3c96b9[_0x5bf103(0x257)](_0x49fcb0),_0x3c96b9[_0x5bf103(0x257)](_0x478361[_0x5bf103(0x459)]['toUpperCase']()+_0x5bf103(0x93b)+_0x478361[_0x5bf103(0x51c)]);}),ar(),Zs();}var or=a0_0x33f632(0x4ab),rr=ns[a0_0x33f632(0x844)][a0_0x33f632(0x79a)](__dirname,a0_0x33f632(0x66a)),Re=null;function nr(){return new Promise((_0x42fdf9,_0xdc2552)=>{const _0x3ec20c=a0_0x308e;Je[_0x3ec20c(0x844)][_0x3ec20c(0x2c0)](rr,_0x3ec20c(0x3dd),(_0x10efd9,_0x260acb)=>{const _0x31df85=_0x3ec20c;if(_0x10efd9){Re=_0x10efd9,_0x42fdf9();return;}qi[_0x31df85(0x844)][_0x31df85(0x366)](_0x260acb)[_0x31df85(0x4e8)][_0x31df85(0x81e)]===or?(Re=null,_0x42fdf9()):(Re=new Error(_0x31df85(0x8be)),_0x42fdf9());});});}async function cr(){const _0xa651a1=a0_0x33f632;try{await nr(),await Bi();}catch(_0x3ea744){console[_0xa651a1(0x90c)](_0xa651a1(0x287)+_0x3ea744),process[_0xa651a1(0x7ea)](0x1);}}cr();async function Vi(){const _0xd73504=a0_0x33f632;let _0x3c03f8;try{_0x3c03f8=(await qe[_0xd73504(0x844)][_0xd73504(0x939)](_0xd73504(0x411)))['data']['ip'];}catch(_0x5ac69b){console['error'](_0x5ac69b);try{_0x3c03f8=(await qe[_0xd73504(0x844)][_0xd73504(0x939)](_0xd73504(0x7eb)))[_0xd73504(0x621)]['ip'];}catch(_0x592ca9){console[_0xd73504(0x90c)](_0x592ca9);try{_0x3c03f8=(await qe[_0xd73504(0x844)]['get'](_0xd73504(0x500)))['data'][_0xd73504(0x82d)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x524237){return console['error'](_0x524237),!0x1;}}}return _0x3c03f8;}var Li=0x0;async function lr(){const _0x2abf76=a0_0x33f632;let _0x4afa34=await new ue(S[_0x2abf76(0x939)](_0x2abf76(0x2d9)))[_0x2abf76(0x5cc)]();return console[_0x2abf76(0x257)]('instancias:\x20',_0x4afa34[_0x2abf76(0x6ee)]),_0x4afa34[_0x2abf76(0x6ee)];}function ur(_0x23e34b){const _0x584172=a0_0x33f632;let _0x57002e=_0x23e34b[_0x584172(0x939)]('SERVER')['URL'],_0x3fa263=_0x23e34b[_0x584172(0x939)](_0x584172(0x762));console[_0x584172(0x257)](_0x584172(0x725),_0x57002e),console[_0x584172(0x257)](_0x584172(0x816),_0x3fa263);let _0x4e08ab='',_0x1c8b18=_0x57002e||'';if(_0x57002e){let _0x28cb8b=_0x57002e[_0x584172(0x82d)](/\/\/(.*?)\./);console[_0x584172(0x257)](_0x584172(0x589),_0x28cb8b),_0x28cb8b&&_0x28cb8b[0x1]&&(_0x4e08ab=_0x28cb8b[0x1],console['log'](_0x584172(0x1b6),_0x4e08ab));}if(!_0x4e08ab&&_0x3fa263&&_0x3fa263[_0x584172(0x86c)]){let _0x30c1b1=_0x3fa263[_0x584172(0x86c)][_0x584172(0x405)]('/');console['log'](_0x584172(0x6b7),_0x30c1b1);let _0x4150c1=_0x30c1b1[_0x30c1b1[_0x584172(0x6ee)]-0x2];if(console['log'](_0x584172(0x491),_0x4150c1),_0x4150c1){let _0x420eb4=_0x4150c1[_0x584172(0x405)]('.');console['log']('Partes\x20do\x20domínio:',_0x420eb4),_0x420eb4[_0x584172(0x6ee)]>0x2&&(_0x4e08ab=_0x420eb4[0x0],console[_0x584172(0x257)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x4e08ab),_0x1c8b18=''+_0x4150c1);}}return{'subdomain':_0x4e08ab||_0x584172(0x413),'fullURL':_0x1c8b18||_0x584172(0x571)};}var {subdomain:he,fullURL:Gs}=ur(S);console['log'](a0_0x33f632(0x499),he),console['log'](a0_0x33f632(0x485),Gs);async function dr(){const _0x17cf6e=a0_0x33f632;let _0xd93fbf=S[_0x17cf6e(0x939)](_0x17cf6e(0x2d9)),_0x263843=S['get']('AUTHENTICATION')['API_KEY'][_0x17cf6e(0x487)],_0x2e87c9=S['get'](_0x17cf6e(0x762)),_0x311197=await Vi(),_0x1f7085=S[_0x17cf6e(0x939)](_0x17cf6e(0x308))[_0x17cf6e(0x51c)],_0x3134a4=Gs;try{let _0x41d99a={'ip':_0x311197||null,'redis_enable':_0xd93fbf?.['ENABLED']||null,'apikey':_0x263843||null,'ssl':_0x2e87c9?.[_0x17cf6e(0x489)]||null,'lastupdate':Gi||null,'port':_0x1f7085||null,'gitInstallError':Re?.[_0x17cf6e(0x4b4)]||null,'url':_0x3134a4||null,'subdomain':he};if(console['log'](_0x17cf6e(0x8bb),_0x41d99a['ip']),_0xd93fbf&&_0xd93fbf[_0x17cf6e(0x399)]){let _0x451813=await lr();_0x41d99a['instanceCount']=_0x451813||null;}for(let _0x30da78 in _0x41d99a)_0x41d99a[_0x17cf6e(0x347)](_0x30da78)&&_0x30da78!=='ip'&&(_0x41d99a[_0x30da78]=JSON['stringify'](_0x41d99a[_0x30da78]));return(await qe[_0x17cf6e(0x844)][_0x17cf6e(0x5bb)](_0x17cf6e(0x6c7),_0x41d99a))[_0x17cf6e(0x621)];}catch(_0xdd84c4){return console[_0x17cf6e(0x90c)](_0xdd84c4),!0x1;}}var qs=!0x1,Gi=0x280,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x2a12ec=a0_0x33f632;let _0x55ab4c=_0x2a12ec(0x5ae);Re===null&&(_0x55ab4c=await Vi());let _0x594ced=await dr();if(_0x594ced){if(_0x594ced[_0x2a12ec(0x5b3)][_0x2a12ec(0x5da)]===!0x0){Re===null&&_0x594ced[_0x2a12ec(0x5b3)]['last_update']-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x5323ea=0x24*0x3c*0x3c,_0x4a0205=_0x594ced[_0x2a12ec(0x5b3)][_0x2a12ec(0x1e6)]>_0x5323ea?_0x5323ea:_0x594ced[_0x2a12ec(0x5b3)][_0x2a12ec(0x1e6)],_0x20bc50=Number(_0x4a0205);if(isNaN(_0x20bc50)){console['error'](_0x2a12ec(0x2ca));return;}let _0x57062b=Math[_0x2a12ec(0x7a1)](_0x20bc50/0xe10),_0xfbd435=Math['floor'](_0x20bc50%0xe10/0x3c),_0xa2d5e4=new Date(Date[_0x2a12ec(0x26a)]()+_0x20bc50*0x3e8);setTimeout(()=>{const _0x5d4733=_0x2a12ec;console[_0x5d4733(0x257)](_0x5d4733(0x28a)),process[_0x5d4733(0x7ea)](0x0);},_0x20bc50*0x3e8);let _0x27e38d=_0x493bcc=>_0x493bcc[_0x2a12ec(0x765)]()[_0x2a12ec(0x8ed)](0x2,'0'),_0x508be3=_0x2a12ec(0x480)+_0x27e38d(_0x57062b)+_0x2a12ec(0x941)+_0x27e38d(_0xfbd435)+_0x2a12ec(0x66f)+_0x27e38d(_0xa2d5e4[_0x2a12ec(0x2da)]())+':'+_0x27e38d(_0xa2d5e4[_0x2a12ec(0x5e8)]())+'.';console['log'](_0x508be3);}else return console[_0x2a12ec(0x257)](_0x2a12ec(0x2eb)),qs&&(console[_0x2a12ec(0x257)](_0x2a12ec(0x76d)),process[_0x2a12ec(0x7ea)]()),_0x2a12ec(0x3e2);}else{if(Li++,Li<pr)console['log'](_0x2a12ec(0x409)+Fi/0xea60+_0x2a12ec(0x23e)),setTimeout(Bi,Fi);else return console['error'](_0x2a12ec(0x374)),'SERVER_OFFLINE';}}async function hr(){const _0xf117fc=a0_0x33f632;console['log'](_0xf117fc(0x802)),console[_0xf117fc(0x257)](_0xf117fc(0x3e9)),(0x0,rs['spawn'])(_0xf117fc(0x5eb),{'shell':!0x0})['on'](_0xf117fc(0x3b3),_0x4f815c=>{const _0x125189=_0xf117fc;_0x4f815c!==0x0?console[_0x125189(0x90c)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console['log'](_0x125189(0x4be)),console['log'](_0x125189(0x786)),(0x0,rs[_0x125189(0x20a)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x125189(0x3b3),_0x3bf19b=>{const _0x1c1abf=_0x125189;if(_0x3bf19b!==0x0)console[_0x1c1abf(0x90c)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0x1c1abf(0x257)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x29cffe=(0x0,rs[_0x1c1abf(0x20a)])(_0x1c1abf(0x89f),{'shell':!0x0});_0x29cffe['stdout']['on'](_0x1c1abf(0x621),_0x4f2de8=>{const _0xa0914c=_0x1c1abf;console[_0xa0914c(0x257)](_0xa0914c(0x419)+_0x4f2de8);}),_0x29cffe[_0x1c1abf(0x6d1)]['on'](_0x1c1abf(0x621),_0x795e5b=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x795e5b);}),_0x29cffe['on'](_0x1c1abf(0x7ea),_0x407660=>{const _0x30557d=_0x1c1abf;_0x407660!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x407660):console['log'](_0x30557d(0x3e6)),console[_0x30557d(0x257)](_0x30557d(0x738)),setTimeout(()=>process[_0x30557d(0x7ea)](),0x2710);});}}));});}0x0&&(module[a0_0x33f632(0x204)]={'fullURL':fullURL,'subdomain':subdomain});