const a0_0x124f50=a0_0x1d88;(function(_0x749fcf,_0x3eca7f){const _0x49844e=a0_0x1d88,_0x4a6619=_0x749fcf();while(!![]){try{const _0x3fb357=-parseInt(_0x49844e(0x7bf))/0x1*(parseInt(_0x49844e(0x242))/0x2)+parseInt(_0x49844e(0x786))/0x3+parseInt(_0x49844e(0x75d))/0x4*(-parseInt(_0x49844e(0x219))/0x5)+-parseInt(_0x49844e(0x837))/0x6*(parseInt(_0x49844e(0x2a5))/0x7)+parseInt(_0x49844e(0x3d3))/0x8+-parseInt(_0x49844e(0x1d5))/0x9+parseInt(_0x49844e(0x703))/0xa;if(_0x3fb357===_0x3eca7f)break;else _0x4a6619['push'](_0x4a6619['shift']());}catch(_0x537c13){_0x4a6619['push'](_0x4a6619['shift']());}}}(a0_0x125b,0xe05f1));var Pr=Object[a0_0x124f50(0x3ba)],Ie=Object[a0_0x124f50(0x46e)],$r=Object[a0_0x124f50(0x519)],kr=Object[a0_0x124f50(0x614)],Lr=Object['getPrototypeOf'],Fr=Object[a0_0x124f50(0x5cf)]['hasOwnProperty'],jr=(_0x13c4e7,_0x1d0eb4)=>{for(var _0x3fae24 in _0x1d0eb4)Ie(_0x13c4e7,_0x3fae24,{'get':_0x1d0eb4[_0x3fae24],'enumerable':!0x0});},xs=(_0x142705,_0x10dc93,_0x393b40,_0x169bc5)=>{const _0x3dfddd=a0_0x124f50;if(_0x10dc93&&typeof _0x10dc93=='object'||typeof _0x10dc93==_0x3dfddd(0x78b)){for(let _0x413470 of kr(_0x10dc93))!Fr[_0x3dfddd(0x54c)](_0x142705,_0x413470)&&_0x413470!==_0x393b40&&Ie(_0x142705,_0x413470,{'get':()=>_0x10dc93[_0x413470],'enumerable':!(_0x169bc5=$r(_0x10dc93,_0x413470))||_0x169bc5['enumerable']});}return _0x142705;},T=(_0x22ae17,_0x1fce89,_0x5c3c2e)=>(_0x5c3c2e=_0x22ae17!=null?Pr(Lr(_0x22ae17)):{},xs(_0x1fce89||!_0x22ae17||!_0x22ae17['__esModule']?Ie(_0x5c3c2e,a0_0x124f50(0x223),{'value':_0x22ae17,'enumerable':!0x0}):_0x5c3c2e,_0x22ae17)),Ur=_0x442880=>xs(Ie({},a0_0x124f50(0x5b8),{'value':!0x0}),_0x442880),Hi={};jr(Hi,{'subdomain':()=>vs}),module['exports']=Ur(Hi);var Or=T(require(a0_0x124f50(0x6b2))),_s=require('fs'),Ps=require(a0_0x124f50(0x538)),$s=require('path'),xe=require('path'),re=process[a0_0x124f50(0x2c7)](),ge=(0x0,xe['join'])(re,a0_0x124f50(0x4c6)),Ds=(0x0,xe[a0_0x124f50(0x21f)])(re,a0_0x124f50(0x57e)),Vo=(0x0,xe[a0_0x124f50(0x21f)])(re,'store',a0_0x124f50(0x33d)),es=class{constructor(){const _0x14a0a3=a0_0x124f50;this[_0x14a0a3(0x733)]();}[a0_0x124f50(0x45b)](_0x78c0c2){return this['env'][_0x78c0c2];}[a0_0x124f50(0x733)](){const _0x34aec8=a0_0x124f50;this['env']=process[_0x34aec8(0x63a)]?.['DOCKER_ENV']!==_0x34aec8(0x5c7)?this[_0x34aec8(0x44b)]():this['envProcess'](),process[_0x34aec8(0x63a)]?.[_0x34aec8(0x7d4)]==='true'&&(this[_0x34aec8(0x63a)][_0x34aec8(0x532)]['TYPE']=_0x34aec8(0x7bd),this['env'][_0x34aec8(0x532)][_0x34aec8(0x6a5)]=Number[_0x34aec8(0x64c)](process['env']?.['SERVER_PORT']??'8080'));}[a0_0x124f50(0x44b)](){const _0x3f9521=a0_0x124f50;return(0x0,Ps['load'])((0x0,_s[_0x3f9521(0x4ba)])((0x0,$s[_0x3f9521(0x21f)])(Ds,_0x3f9521(0x386)),{'encoding':'utf-8'}));}[a0_0x124f50(0x4ea)](){const _0x1d42e5=a0_0x124f50;return{'SERVER':{'TYPE':process[_0x1d42e5(0x63a)][_0x1d42e5(0x1e5)],'PORT':Number[_0x1d42e5(0x64c)](process['env']['SERVER_PORT']),'URL':process[_0x1d42e5(0x63a)][_0x1d42e5(0x606)]},'CORS':{'ORIGIN':process[_0x1d42e5(0x63a)][_0x1d42e5(0x5ed)][_0x1d42e5(0x4f0)](','),'METHODS':process['env'][_0x1d42e5(0x69f)]['split'](','),'CREDENTIALS':process[_0x1d42e5(0x63a)]?.['CORS_CREDENTIALS']===_0x1d42e5(0x5c7)},'SSL_CONF':{'PRIVKEY':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x48f)],'FULLCHAIN':process[_0x1d42e5(0x63a)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x1d42e5(0x869)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x1d42e5(0x64c)](process[_0x1d42e5(0x63a)][_0x1d42e5(0x6b4)]):void 0x0,'MESSAGES':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x2f5)]==='true','CONTACTS':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x58e)]===_0x1d42e5(0x5c7),'CHATS':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x692)]===_0x1d42e5(0x5c7)},'DATABASE':{'CONNECTION':{'HOST':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x4ee)],'PORT':Number[_0x1d42e5(0x64c)](process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x4ee)]),'USER':process[_0x1d42e5(0x63a)][_0x1d42e5(0x44d)],'PASSWORD':process[_0x1d42e5(0x63a)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x1d42e5(0x63a)][_0x1d42e5(0x7bc)],'DB_PREFIX_NAME':process[_0x1d42e5(0x63a)][_0x1d42e5(0x6b0)]},'ENABLED':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x70a)]===_0x1d42e5(0x5c7)},'REDIS':{'ENABLED':process[_0x1d42e5(0x63a)]?.['REDIS_ENABLED']==='true','URI':process[_0x1d42e5(0x63a)]['REDIS_URI']||_0x1d42e5(0x33c),'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0x1d42e5(0x448)},'LOG':{'LEVEL':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x7c9)]['split'](','),'COLOR':process[_0x1d42e5(0x63a)]?.[_0x1d42e5(0x2ed)]===_0x1d42e5(0x5c7)},'PROXY':Number[_0x1d42e5(0x64c)](process[_0x1d42e5(0x63a)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x1d42e5(0x63a)][_0x1d42e5(0x5b5)],'API_KEY':{'KEY':process[_0x1d42e5(0x63a)][_0x1d42e5(0x376)]},'JWT':{'EXPIRIN_IN':Number[_0x1d42e5(0x869)](process[_0x1d42e5(0x63a)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x1d42e5(0x64c)](process[_0x1d42e5(0x63a)][_0x1d42e5(0x2de)]):0xe10,'SECRET':process['env'][_0x1d42e5(0x36a)]}}};}},b=new es(),Ar=T(require(a0_0x124f50(0x7a9))),he=T(require(a0_0x124f50(0x7a1))),As=require('path'),ts=T(require(a0_0x124f50(0x5ae))),ss=(_0x41de32=>(_0x41de32[a0_0x124f50(0x349)]='\x1b[32m',_0x41de32[a0_0x124f50(0x54f)]=a0_0x124f50(0x59e),_0x41de32['WARN']=a0_0x124f50(0x3d5),_0x41de32[a0_0x124f50(0x660)]=a0_0x124f50(0x4c8),_0x41de32[a0_0x124f50(0x603)]=a0_0x124f50(0x675),_0x41de32['VERBOSE']='\x1b[37m',_0x41de32[a0_0x124f50(0x379)]='\x1b[30m',_0x41de32))(ss||{}),ks=(_0x29bbc5=>(_0x29bbc5[a0_0x124f50(0x349)]=a0_0x124f50(0x3e2),_0x29bbc5[a0_0x124f50(0x379)]='\x1b[30m%s\x1b[0m',_0x29bbc5[a0_0x124f50(0x54f)]=a0_0x124f50(0x5af),_0x29bbc5['WARN']=a0_0x124f50(0x725),_0x29bbc5[a0_0x124f50(0x660)]=a0_0x124f50(0x2a9),_0x29bbc5[a0_0x124f50(0x603)]=a0_0x124f50(0x6c0),_0x29bbc5[a0_0x124f50(0x3f8)]=a0_0x124f50(0x276),_0x29bbc5))(ks||{}),Ls=(_0xdc3ed8=>(_0xdc3ed8['LOG']=a0_0x124f50(0x349),_0xdc3ed8[a0_0x124f50(0x4d2)]=a0_0x124f50(0x4d2),_0xdc3ed8[a0_0x124f50(0x54f)]=a0_0x124f50(0x54f),_0xdc3ed8[a0_0x124f50(0x379)]=a0_0x124f50(0x379),_0xdc3ed8[a0_0x124f50(0x660)]=a0_0x124f50(0x660),_0xdc3ed8[a0_0x124f50(0x603)]=a0_0x124f50(0x603),_0xdc3ed8[a0_0x124f50(0x3f8)]=a0_0x124f50(0x3f8),_0xdc3ed8))(Ls||{}),Fs=(_0x2279aa=>(_0x2279aa[a0_0x124f50(0x349)]='\x1b[42m',_0x2279aa[a0_0x124f50(0x54f)]='\x1b[44m',_0x2279aa[a0_0x124f50(0x4d2)]=a0_0x124f50(0x480),_0x2279aa[a0_0x124f50(0x379)]=a0_0x124f50(0x77c),_0x2279aa[a0_0x124f50(0x660)]='\x1b[41m',_0x2279aa[a0_0x124f50(0x603)]='\x1b[46m',_0x2279aa['VERBOSE']=a0_0x124f50(0x745),_0x2279aa))(Fs||{}),N=class{constructor(_0xe71006='Logger'){const _0x358190=a0_0x124f50;this[_0x358190(0x6ed)]=_0xe71006,this[_0x358190(0x58f)]=b;}[a0_0x124f50(0x5e7)](_0x49f2de){const _0x37b755=a0_0x124f50;this[_0x37b755(0x6ed)]=_0x49f2de;}[a0_0x124f50(0x212)](_0x291b37,_0x251869){const _0x53b5bc=a0_0x124f50;let _0x5b2ab7=[];this[_0x53b5bc(0x58f)][_0x53b5bc(0x45b)](_0x53b5bc(0x349))[_0x53b5bc(0x1df)][_0x53b5bc(0x53a)](_0x30276c=>_0x5b2ab7[_0x53b5bc(0x1e7)](Ls[_0x30276c]));let _0x5d3205=typeof _0x291b37;_0x5b2ab7[_0x53b5bc(0x6c2)](_0x251869)&&(b[_0x53b5bc(0x45b)](_0x53b5bc(0x349))[_0x53b5bc(0x469)]?(console[_0x53b5bc(0x3b3)](_0x53b5bc(0x3df)+ks[_0x251869],_0x53b5bc(0x5b3),(0x0,ts['default'])()[_0x53b5bc(0x3cb)]('DD/MM\x20HH:mm:ss'),_0x53b5bc(0x731),ss[_0x251869]+Fs[_0x251869]+'\x1b[1m',_0x251869+_0x53b5bc(0x549),'\x1b[33m\x1b[1m',this['context']+_0x53b5bc(0x731),ss[_0x251869],_0x5d3205!==_0x53b5bc(0x79d)?_0x291b37:'','\x1b[0m'),_0x5d3205===_0x53b5bc(0x79d)&&console[_0x53b5bc(0x3b3)](_0x291b37,'\x0a')):console['log']((0x0,ts[_0x53b5bc(0x223)])()['format']('HH:mm:ss'),_0x251869+'\x20',''+this[_0x53b5bc(0x6ed)],_0x291b37));}[a0_0x124f50(0x3b3)](_0x565ee3){const _0x685aff=a0_0x124f50;this[_0x685aff(0x212)](_0x565ee3,'LOG');}[a0_0x124f50(0x25f)](_0x565622){const _0x52649e=a0_0x124f50;this[_0x52649e(0x212)](_0x565622,_0x52649e(0x54f));}['warn'](_0x47fe08){const _0x103975=a0_0x124f50;this[_0x103975(0x212)](_0x47fe08,_0x103975(0x4d2));}[a0_0x124f50(0x629)](_0x4dc669){const _0x20924a=a0_0x124f50;this[_0x20924a(0x212)](_0x4dc669,_0x20924a(0x660));}[a0_0x124f50(0x64d)](_0x4af9ca){const _0x152c58=a0_0x124f50;this[_0x152c58(0x212)](_0x4af9ca,_0x152c58(0x3f8));}['debug'](_0x3a9e89){const _0x13e766=a0_0x124f50;this['console'](_0x3a9e89,_0x13e766(0x603));}[a0_0x124f50(0x32a)](_0x4618ea){const _0x5c9087=a0_0x124f50;this[_0x5c9087(0x212)](_0x4618ea,'DARK');}};function js(){const _0x5601f1=a0_0x124f50;process['on'](_0x5601f1(0x610),(_0x3ed883,_0x136ce1)=>{const _0x2f5007=_0x5601f1;new N(_0x2f5007(0x610))[_0x2f5007(0x629)]({'origin':_0x136ce1,'stderr':process['stderr']['fd'],'error':_0x3ed883});}),process['on']('unhandledRejection',(_0x44a927,_0x2a318e)=>{const _0x1d7164=_0x5601f1;new N(_0x1d7164(0x2e2))[_0x1d7164(0x629)]({'origin':_0x2a318e,'stderr':process[_0x1d7164(0x32e)]['fd'],'error':_0x44a927});});}var Us=T(require('eventemitter2')),as=new Us[(a0_0x124f50(0x223))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x124f50(0x248)),rs=T(require(a0_0x124f50(0x248))),qr=new N('Db\x20Connection'),J=b[a0_0x124f50(0x45b)](a0_0x124f50(0x1f0)),R=J[a0_0x124f50(0x6a1)]?J[a0_0x124f50(0x6bb)][a0_0x124f50(0x661)]?rs[a0_0x124f50(0x223)][a0_0x124f50(0x557)](J['CONNECTION']['URI'],{'dbName':J[a0_0x124f50(0x6bb)][a0_0x124f50(0x44f)]+'-whatsapp-api'}):rs[a0_0x124f50(0x223)][a0_0x124f50(0x557)](a0_0x124f50(0x35c)+J[a0_0x124f50(0x6bb)][a0_0x124f50(0x61f)]+':'+J[a0_0x124f50(0x6bb)][a0_0x124f50(0x6a5)]+a0_0x124f50(0x74e),{'user':J[a0_0x124f50(0x6bb)][a0_0x124f50(0x4c2)],'pass':J[a0_0x124f50(0x6bb)][a0_0x124f50(0x6ff)],'dbName':J[a0_0x124f50(0x6bb)][a0_0x124f50(0x44f)]+a0_0x124f50(0x222)}):null;J[a0_0x124f50(0x6a1)]&&qr['info'](a0_0x124f50(0x521)+R[a0_0x124f50(0x249)]);var Jr=new De[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),qs=_0x26b29f=>{const _0x157ee7=a0_0x124f50;let _0x39d56d='z_'+_0x26b29f+'_Chats';return R?.[_0x157ee7(0x55b)](_0x157ee7(0x3ca),Br,_0x39d56d);},Js=require(a0_0x124f50(0x248)),Gr=new Js['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x4e6d99=>{const _0x13773b=a0_0x124f50;let _0x3ae412='z_'+_0x4e6d99+_0x13773b(0x396);return R?.[_0x13773b(0x55b)](_0x13773b(0x7ab),Gr,_0x3ae412);},Bs=require(a0_0x124f50(0x248)),Wr=new Bs[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x206386=>{const _0x174bc0=a0_0x124f50;let _0x2a34fb='z_'+_0x206386+_0x174bc0(0x38a);return R?.[_0x174bc0(0x55b)](_0x174bc0(0x807),Wr,_0x2a34fb);},Ws=require('mongoose'),is=class{},zr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=R?.[a0_0x124f50(0x55b)](is[a0_0x124f50(0x350)],zr,a0_0x124f50(0x4c7)),Hs=require('mongoose'),os=class{},Ks=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x124f50(0x438)](a0_0x124f50(0x2a3),function(_0x55b848){const _0x28a092=a0_0x124f50;delete this['flowActive'],delete this[_0x28a092(0x45a)],delete this[_0x28a092(0x7a4)],delete this[_0x28a092(0x1e0)],delete this[_0x28a092(0x5b2)],_0x55b848();});var Qs=R?.[a0_0x124f50(0x55b)](os[a0_0x124f50(0x350)],Ks,a0_0x124f50(0x235)),P=require(a0_0x124f50(0x248)),Ys=require(a0_0x124f50(0x3d4)),_e=class{},Xs=new P[(a0_0x124f50(0x76a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x124f50(0x76a))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x124f50(0x7fb)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x124f50(0x7d6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x124f50(0x6cb)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new P[(a0_0x124f50(0x76a))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x124f50(0x76a))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x124f50(0x76a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ea=new P[(a0_0x124f50(0x76a))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x124f50(0x76a))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ta=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Ys['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x20f79b=a0_0x124f50;return _0x20f79b(0x36e)+Math['random']()[_0x20f79b(0x782)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x124f50(0x438)](a0_0x124f50(0x2a3),function(_0x35911f){const _0x5daac2=a0_0x124f50;let _0x43e2bb=new Set(),_0x2d4855=new Set(this[_0x5daac2(0x329)]?.[_0x5daac2(0x5c2)](_0x207b81=>_0x207b81[_0x5daac2(0x350)])),_0x893146=JSON[_0x5daac2(0x2b4)](this),_0x1a2d7e=/{{(?!_)([^}]*)}}/g,_0x4b636c;for(;(_0x4b636c=_0x1a2d7e[_0x5daac2(0x699)](_0x893146))!==null;)_0x2d4855['has'](_0x4b636c[0x1])||_0x43e2bb[_0x5daac2(0x788)](_0x4b636c[0x1]);_0x43e2bb[_0x5daac2(0x254)]>0x0?(console[_0x5daac2(0x613)](_0x5daac2(0x7cf),Array['from'](_0x43e2bb)),this[_0x5daac2(0x2f9)]=Array[_0x5daac2(0x433)](_0x43e2bb)):this[_0x5daac2(0x2f9)]=[],_0x35911f();}),Pe[a0_0x124f50(0x438)](a0_0x124f50(0x7b7),function(_0x182eae){const _0x319567=a0_0x124f50;let _0x16392a=this[_0x319567(0x6ef)]();if(_0x16392a&&typeof _0x16392a==_0x319567(0x79d)&&_0x319567(0x263)in _0x16392a){let _0x424a2c=_0x16392a[_0x319567(0x263)];if(_0x424a2c){let _0x53f728=new Set(),_0x2ac80b=new Set(_0x424a2c[_0x319567(0x329)]?.[_0x319567(0x5c2)](_0x25385b=>_0x25385b[_0x319567(0x350)])),_0x5f40d0=JSON[_0x319567(0x2b4)](_0x424a2c),_0x34b800=/{{(?!_)([^}]*)}}/g,_0xae54da;for(;(_0xae54da=_0x34b800[_0x319567(0x699)](_0x5f40d0))!==null;)_0x2ac80b[_0x319567(0x525)](_0xae54da[0x1])||_0x53f728['add'](_0xae54da[0x1]);_0x53f728[_0x319567(0x254)]>0x0?(console[_0x319567(0x613)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x53f728)),_0x424a2c['variablesNotFound']=Array['from'](_0x53f728)):_0x424a2c[_0x319567(0x2f9)]=[],this[_0x319567(0x7df)]({'$set':_0x424a2c});}}_0x182eae();});var sa=_0x233647=>{const _0x1a85dc=a0_0x124f50;let _0x36bf30='z_'+_0x233647+'_Flows';return R?.[_0x1a85dc(0x55b)]('FlowModel',Pe,_0x36bf30);},aa=R?.[a0_0x124f50(0x55b)](cs[a0_0x124f50(0x350)],Pe,a0_0x124f50(0x484)),Yr=new P[(a0_0x124f50(0x76a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},ra=new P[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x124f50(0x3f9)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x124f50(0x2db)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),ia=_0x582baf=>{const _0x4efd2e=a0_0x124f50;let _0x398860='z_'+_0x582baf+'_FlowHistorico';return R?.[_0x4efd2e(0x55b)](_0x4efd2e(0x4a2),ra,_0x398860);},oa=R?.[a0_0x124f50(0x55b)](ls[a0_0x124f50(0x350)],ra,a0_0x124f50(0x3d0)),us=class{},Xr=new P[(a0_0x124f50(0x76a))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x124f50(0x76a))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),na=new P['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x124f50(0x4ac)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ca=_0x104505=>{const _0x5ef98d=a0_0x124f50;let _0x493982='z_'+_0x104505+'_ScheduleMessages';return R?.[_0x5ef98d(0x55b)](_0x5ef98d(0x848),na,_0x493982);},la=R?.['model'](us[a0_0x124f50(0x350)],na,a0_0x124f50(0x7b2)),ds=class{},ei=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x124f50(0x76a))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x124f50(0x76a))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x124f50(0x55b)](ds[a0_0x124f50(0x350)],ai,'AutomateSystem'),ua=require(a0_0x124f50(0x248)),ri=new ua['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),da=_0x1cb7c0=>{const _0x92781=a0_0x124f50;let _0x472d99='z_'+_0x1cb7c0+_0x92781(0x585);return R?.['model'](_0x92781(0x589),ri,_0x472d99);},D=class{constructor(_0x4d8c03){const _0x3e480c=a0_0x124f50;this[_0x3e480c(0x810)]=_0x4d8c03['get'](_0x3e480c(0x1f0));}};function A(_0x23f681){const _0x4ca02e=a0_0x124f50;let _0x5a2468={};for(let [_0x4c5bef,_0x46d39f]of Object[_0x4ca02e(0x1f6)](_0x23f681))if(typeof _0x46d39f==_0x4ca02e(0x79d)&&!Array[_0x4ca02e(0x718)](_0x46d39f)){for(let [_0x57e381,_0x5b3407]of Object[_0x4ca02e(0x1f6)](_0x46d39f))_0x5a2468[_0x4c5bef+'.'+_0x57e381]=_0x5b3407;}else _0x5a2468[_0x4c5bef]=_0x46d39f;return _0x5a2468;}var ke=class{constructor(_0x218d9b,_0x5ac69a,_0x2e38e6,_0x5a2e25,_0x5b4c3e,_0x24936b,_0x281716,_0x11fd6e,_0x10a83a,_0x19bc37,_0xc07a6c){const _0x3b08c5=a0_0x124f50;this[_0x3b08c5(0x3cd)]=_0x218d9b,this[_0x3b08c5(0x34f)]=_0x5ac69a,this[_0x3b08c5(0x65e)]=_0x2e38e6,this[_0x3b08c5(0x235)]=_0x5a2e25,this[_0x3b08c5(0x33d)]=_0x5b4c3e,this['flow']=_0x24936b,this[_0x3b08c5(0x3d0)]=_0x281716,this['label']=_0x11fd6e,this[_0x3b08c5(0x68d)]=_0x10a83a,this[_0x3b08c5(0x70c)]=_0x19bc37,this[_0x3b08c5(0x382)]=_0xc07a6c;}get[a0_0x124f50(0x237)](){const _0x57e5b3=a0_0x124f50;return this[_0x57e5b3(0x382)];}},Le=class{},Fe=class extends D{[a0_0x124f50(0x202)](_0x3a3988){return Gs(_0x3a3988);}async[a0_0x124f50(0x24e)](_0x48fd20,_0x42f1f6){const _0xca93f6=a0_0x124f50;if(_0x48fd20[_0xca93f6(0x230)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xca93f6(0x202)](_0x42f1f6)['insertMany']([..._0x48fd20]))[_0xca93f6(0x230)]};}catch(_0x542210){return _0x542210;}}async[a0_0x124f50(0x81d)](_0x3b5157,_0x555bcb){const _0x13e687=a0_0x124f50;try{let _0x31b354=this[_0x13e687(0x202)](_0x555bcb),_0x2c45a2=A(_0x3b5157[_0x13e687(0x7e8)]);return await _0x31b354[_0x13e687(0x81d)](_0x2c45a2)[_0x13e687(0x38c)]({'messageTimestamp':-0x1})[_0x13e687(0x6da)](_0x3b5157?.[_0x13e687(0x6da)]??0x0)['lean']();}catch{return[];}}async[a0_0x124f50(0x3bb)](_0x249b39,_0x32e1f9){const _0x2d21c6=a0_0x124f50;try{let _0xe9793b=this['getMessageModelForOwner'](_0x32e1f9),_0x2f578b=A(_0x249b39[_0x2d21c6(0x7e8)]);await _0xe9793b[_0x2d21c6(0x79c)](_0x2f578b);}catch(_0x4d674c){console[_0x2d21c6(0x629)](_0x4d674c);}}async[a0_0x124f50(0x31a)](_0x451158,_0x3be27d,_0x573adb){const _0xa9e6b5=a0_0x124f50;try{let _0x4e9eb6=this[_0xa9e6b5(0x202)](_0x573adb),_0x3f814c=A(_0x451158['where']);return await _0x4e9eb6[_0xa9e6b5(0x7b7)](_0x3f814c,{'$set':_0x3be27d},{'new':!0x0});}catch(_0x3cad84){throw console[_0xa9e6b5(0x629)](_0x3cad84),_0x3cad84;}}async[a0_0x124f50(0x25d)](_0x4e586b,_0x3fc2d4){const _0x1ee765=a0_0x124f50;if(_0x4e586b[_0x1ee765(0x230)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1ee765(0x202)](_0x3fc2d4)[_0x1ee765(0x25d)]([..._0x4e586b]))[_0x1ee765(0x230)]};}catch(_0x564f5b){return console[_0x1ee765(0x3b3)](_0x1ee765(0x6f1),_0x564f5b),_0x564f5b;}}async[a0_0x124f50(0x73a)](_0x5ba6a8){const _0x5c8d81=a0_0x124f50;try{return await this['getMessageModelForOwner'](_0x5ba6a8)['collection'][_0x5c8d81(0x5a8)](),{'success':!0x0};}catch(_0x3730cb){return console[_0x5c8d81(0x629)](_0x3730cb),{'success':!0x1,'error':_0x3730cb};}}},fr=T(require('@ffmpeg-installer/ffmpeg')),g=T(require(a0_0x124f50(0x24c))),ve=require('fs'),j=T(require('path')),se=T(require('axios')),wr=require(a0_0x124f50(0x3d4)),yr=T(require('qrcode')),br=T(require('qrcode-terminal')),pa=[a0_0x124f50(0x623),a0_0x124f50(0x255),a0_0x124f50(0x520),a0_0x124f50(0x6c1),'stickerMessage'],ha=[a0_0x124f50(0x1dd),a0_0x124f50(0x316),a0_0x124f50(0x6fd),a0_0x124f50(0x51c)],Sr=require('os'),It=T(require(a0_0x124f50(0x7aa))),Pt=require(a0_0x124f50(0x20f)),xt=require(a0_0x124f50(0x577)),ce=T(require(a0_0x124f50(0x248))),$=require(a0_0x124f50(0x68e)),me=class{constructor(_0x4cf01d,_0x3c2091,_0x2b720c){const _0xb337a9=a0_0x124f50;this[_0xb337a9(0x619)]=_0x4cf01d,this['exists']=_0x3c2091,this['name']=_0x2b720c;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require('express')),ga=require('fs'),ma=require(a0_0x124f50(0x3b1));async function ze(_0x3521e9){const _0x54579c=a0_0x124f50;let _0x28d90a=V['waInstances'][_0x3521e9];if(J['ENABLED']){let _0x291951=R[_0x54579c(0x5e3)]()['db'](J[_0x54579c(0x6bb)][_0x54579c(0x44f)]+_0x54579c(0x62d))['collection'](_0x3521e9);return _0x28d90a||(await _0x291951[_0x54579c(0x81d)]({})['toArray']())['length']>0x0;}return _0x28d90a||(0x0,ga[_0x54579c(0x37b)])((0x0,ma[_0x54579c(0x21f)])(ge,_0x3521e9));}async function fa(_0x1a490a,_0x19bc9b,_0x3a5842){const _0x181a1f=a0_0x124f50;if(_0x1a490a[_0x181a1f(0x486)][_0x181a1f(0x6c2)](_0x181a1f(0x294))||_0x1a490a[_0x181a1f(0x486)][_0x181a1f(0x6c2)](_0x181a1f(0x3e3))||_0x1a490a[_0x181a1f(0x486)][_0x181a1f(0x6c2)](_0x181a1f(0x308))||_0x1a490a[_0x181a1f(0x486)]['includes'](_0x181a1f(0x7ef))||_0x1a490a[_0x181a1f(0x486)]['includes'](_0x181a1f(0x572))||_0x1a490a[_0x181a1f(0x486)][_0x181a1f(0x6c2)](_0x181a1f(0x3a6))||_0x1a490a[_0x181a1f(0x486)][_0x181a1f(0x6c2)](_0x181a1f(0x69b)))return _0x3a5842();let _0x4d2ab1=_0x1a490a[_0x181a1f(0x4d6)];if(!_0x4d2ab1?.[_0x181a1f(0x370)])throw new w(_0x181a1f(0x2eb));if(!await ze(_0x4d2ab1[_0x181a1f(0x370)]))throw new k(_0x181a1f(0x37d)+_0x4d2ab1['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x3a5842();}async function wa(_0x3a19c8,_0xe3e07c,_0x103e34){const _0x23594b=a0_0x124f50;if(_0x3a19c8['originalUrl'][_0x23594b(0x6c2)](_0x23594b(0x294))){let _0x45b517=_0x3a19c8[_0x23594b(0x75a)];if(await ze(_0x45b517['instanceName']))throw new H(_0x23594b(0x436)+_0x45b517[_0x23594b(0x370)]+_0x23594b(0x7a2));V['waInstances'][_0x45b517[_0x23594b(0x370)]]&&delete V[_0x23594b(0x608)][_0x45b517[_0x23594b(0x370)]];}_0x103e34();}var ya=require(a0_0x124f50(0x68e)),ba=T(require(a0_0x124f50(0x3ef))),He=a0_0x124f50(0x448),oi=new N(a0_0x124f50(0x45f));async function ni(_0x209500,_0x1e0162,_0x3066e5){const _0x4daa62=a0_0x124f50;let _0x15e7fa=_0x209500[_0x4daa62(0x45b)](_0x4daa62(0x4c0));if(_0x15e7fa&&b[_0x4daa62(0x45b)](_0x4daa62(0x52b))[_0x4daa62(0x1d8)][_0x4daa62(0x324)]!==_0x15e7fa)throw new Z();if(b[_0x4daa62(0x45b)](_0x4daa62(0x52b))[_0x4daa62(0x1d8)][_0x4daa62(0x324)]===_0x15e7fa)return _0x3066e5();if((_0x209500['originalUrl']['includes'](_0x4daa62(0x294))||_0x209500['originalUrl']['includes'](_0x4daa62(0x3e3)))&&!_0x15e7fa)throw new H(_0x4daa62(0x424),_0x4daa62(0x6e1));let _0x576c45=b[_0x4daa62(0x45b)](_0x4daa62(0x52b))[_0x4daa62(0x772)];try{let [_0x570471,_0x1469a6]=_0x209500[_0x4daa62(0x45b)]('authorization')[_0x4daa62(0x4f0)]('\x20');if(_0x570471['toLowerCase']()!==_0x4daa62(0x512))throw new Z();if(!(0x0,ya[_0x4daa62(0x333)])(_0x1469a6))throw new Z();let _0x100ff1=_0x209500[_0x4daa62(0x4d6)],_0x5740b1=ba[_0x4daa62(0x223)][_0x4daa62(0x80c)](_0x1469a6,_0x576c45[_0x4daa62(0x543)],{'ignoreExpiration':_0x576c45['EXPIRIN_IN']===0x0});if(_0x100ff1[_0x4daa62(0x370)]!==_0x5740b1[_0x4daa62(0x370)]||He!==_0x5740b1['apiName'])throw new Z();return _0x3066e5();}catch(_0x9cf618){throw oi[_0x4daa62(0x629)](_0x9cf618),new Z();}}async function ci(_0x170fb0,_0xd5bfc6,_0x138efb){const _0x43ef20=a0_0x124f50;let _0x56e801=b[_0x43ef20(0x45b)](_0x43ef20(0x52b))[_0x43ef20(0x1d8)],_0x200c61=_0x170fb0[_0x43ef20(0x45b)](_0x43ef20(0x4c0));if(_0x56e801[_0x43ef20(0x324)]===_0x200c61)return _0x138efb();if(_0x170fb0[_0x43ef20(0x486)][_0x43ef20(0x6c2)]('/instance/create')){let _0x2c387f=Ke,_0x2bbb0f=_0x170fb0[_0x43ef20(0x75a)][_0x43ef20(0x370)];if(_0x2c387f&&_0x2bbb0f['toLowerCase']()['startsWith'](_0x2c387f[_0x43ef20(0x847)]()))return _0x138efb();if(!_0x200c61)throw new H(_0x43ef20(0x424),_0x43ef20(0x6e1));}if(_0x170fb0[_0x43ef20(0x486)][_0x43ef20(0x6c2)](_0x43ef20(0x3e3))&&!_0x200c61)throw new H(_0x43ef20(0x424),_0x43ef20(0x6e1));if(_0x170fb0[_0x43ef20(0x486)][_0x43ef20(0x6c2)](_0x43ef20(0x308))&&!_0x200c61)throw new H('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x170fb0[_0x43ef20(0x486)][_0x43ef20(0x6c2)](_0x43ef20(0x7ef))&&!_0x200c61)throw new H(_0x43ef20(0x424),_0x43ef20(0x6e1));try{let _0x1318af=_0x170fb0[_0x43ef20(0x4d6)];if((await ue[_0x43ef20(0x33d)][_0x43ef20(0x81d)](_0x1318af[_0x43ef20(0x370)]))['apikey']===_0x200c61)return _0x138efb();}catch{}throw new Z();}var Sa={'jwt':ni,'apikey':ci},er=require('express'),C=require(a0_0x124f50(0x3d4)),E=(..._0x465d7b)=>{const _0x23f613=a0_0x124f50;let _0x3396f0={};return _0x465d7b[_0x23f613(0x53a)](_0x191583=>_0x3396f0[_0x191583]={'minLength':0x1,'description':_0x23f613(0x615)+_0x191583+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x465d7b]}},'then':{'properties':_0x3396f0}};},v={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'instanceName':{'type':a0_0x124f50(0x541)}},...E(a0_0x124f50(0x370))},Qn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x3e6)],...E(a0_0x124f50(0x3e6))},Yn={'properties':{'key':{'type':a0_0x124f50(0x79d),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x124f50(0x541)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]}},'required':['id',a0_0x124f50(0x540),'fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x124f50(0x79d)}}},K={'properties':{'delay':{'type':a0_0x124f50(0x4fb),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x43a),a0_0x124f50(0x3bd),'composing',a0_0x124f50(0x24a),a0_0x124f50(0x49a)]}}},W={'type':a0_0x124f50(0x541),'pattern':a0_0x124f50(0x717),'description':a0_0x124f50(0x3e1)},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x124f50(0x79d),'properties':{'text':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x2ff)],...E(a0_0x124f50(0x2ff))}},'required':[a0_0x124f50(0x72b),a0_0x124f50(0x5cb)]},Ca={'type':'string','pattern':a0_0x124f50(0x288),'description':'Invalid\x20format'},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...Ca},'options':{...K},'textMessage':{'type':a0_0x124f50(0x79d),'properties':{'text':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x2ff)],...E(a0_0x124f50(0x2ff))}},'required':['textMessage',a0_0x124f50(0x5cb)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...Ca},'options':{...K},'mediaMessage':{'type':a0_0x124f50(0x79d),'properties':{'mediatype':{'type':'string','enum':[a0_0x124f50(0x5bb),a0_0x124f50(0x455),'video',a0_0x124f50(0x2f8)]},'media':{'type':'string'},'fileName':{'type':a0_0x124f50(0x541)},'caption':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x4cb),a0_0x124f50(0x84d)],...E(a0_0x124f50(0x5a1),a0_0x124f50(0x245),a0_0x124f50(0x84d))}},'required':['mediaMessage',a0_0x124f50(0x5cb)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x124f50(0x79d),'properties':{'image':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x5bb)],...E(a0_0x124f50(0x5bb))}},'required':[a0_0x124f50(0x641),a0_0x124f50(0x5cb)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'statusMessage':{'type':a0_0x124f50(0x79d),'properties':{'type':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x2ff),'image',a0_0x124f50(0x2f8),'video']},'content':{'type':a0_0x124f50(0x541)},'caption':{'type':a0_0x124f50(0x541)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x124f50(0x4fb),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x124f50(0x687),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x541),'pattern':a0_0x124f50(0x25b),'description':a0_0x124f50(0x544)}},'allContacts':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]}},'required':['type',a0_0x124f50(0x524)],...E(a0_0x124f50(0x76c),a0_0x124f50(0x524))}},'required':['statusMessage']},Na={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x124f50(0x79d),'properties':{'mediatype':{'type':'string','enum':[a0_0x124f50(0x5bb),a0_0x124f50(0x455),a0_0x124f50(0x714),a0_0x124f50(0x2f8)]},'media':{'type':a0_0x124f50(0x541)},'fileName':{'type':a0_0x124f50(0x541)},'caption':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x4cb),a0_0x124f50(0x84d)],...E(a0_0x124f50(0x5a1),a0_0x124f50(0x245),a0_0x124f50(0x84d))}},'required':['mediaMessage',a0_0x124f50(0x5cb)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x124f50(0x79d),'properties':{'audio':{'type':'string'}},'required':[a0_0x124f50(0x2f8)],...E(a0_0x124f50(0x2f8))}},'required':[a0_0x124f50(0x520),a0_0x124f50(0x5cb)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'pollMessage':{'type':a0_0x124f50(0x79d),'properties':{'name':{'type':a0_0x124f50(0x541)},'selectableCount':{'type':a0_0x124f50(0x5cb)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x124f50(0x350),a0_0x124f50(0x47e),a0_0x124f50(0x1e1)],...E(a0_0x124f50(0x350),a0_0x124f50(0x47e),a0_0x124f50(0x1e1))}},'required':[a0_0x124f50(0x5cb),a0_0x124f50(0x284)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x124f50(0x541)},'choices':{'type':a0_0x124f50(0x687),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x124f50(0x2f1)],...E(a0_0x124f50(0x2ff),'choices')}},'required':[a0_0x124f50(0x5cb),a0_0x124f50(0x5d6)]},Aa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x124f50(0x79d),'properties':{'title':{'type':a0_0x124f50(0x541)},'description':{'type':a0_0x124f50(0x541)},'footerText':{'type':a0_0x124f50(0x541)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x79d),'properties':{'buttonText':{'type':a0_0x124f50(0x541)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x124f50(0x3e4)],...E('buttonText',a0_0x124f50(0x3e4))}},'mediaMessage':{'type':a0_0x124f50(0x79d),'properties':{'media':{'type':a0_0x124f50(0x541)},'fileName':{'type':a0_0x124f50(0x541)},'mediatype':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x5bb),'document',a0_0x124f50(0x714)]}},'required':[a0_0x124f50(0x84d),a0_0x124f50(0x4cb)],...E(a0_0x124f50(0x84d),a0_0x124f50(0x5a1))}},'required':[a0_0x124f50(0x6ae),a0_0x124f50(0x829)],...E(a0_0x124f50(0x6ae),'description')}},'required':[a0_0x124f50(0x5cb),'buttonMessage']},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x124f50(0x79d),'properties':{'latitude':{'type':a0_0x124f50(0x5cb)},'longitude':{'type':a0_0x124f50(0x5cb)},'name':{'type':a0_0x124f50(0x541)},'address':{'type':'string'}},'required':['latitude',a0_0x124f50(0x673)],...E('name',a0_0x124f50(0x378))}},'required':[a0_0x124f50(0x5cb),a0_0x124f50(0x3be)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x124f50(0x79d),'properties':{'title':{'type':a0_0x124f50(0x541)},'description':{'type':a0_0x124f50(0x541)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x124f50(0x541)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x79d),'properties':{'title':{'type':a0_0x124f50(0x541)},'rows':{'type':a0_0x124f50(0x687),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x124f50(0x541)},'description':{'type':a0_0x124f50(0x541)},'rowId':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x6ae),a0_0x124f50(0x67e)],...E(a0_0x124f50(0x6ae),a0_0x124f50(0x67e))}}},'required':['title',a0_0x124f50(0x40d)],...E(a0_0x124f50(0x6ae))}}},'required':[a0_0x124f50(0x6ae),a0_0x124f50(0x306),'buttonText',a0_0x124f50(0x5c3)],...E(a0_0x124f50(0x6ae),'description','buttonText',a0_0x124f50(0x493))}},'required':['number','listMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x124f50(0x687),'items':{'type':'object','properties':{'fullName':{'type':a0_0x124f50(0x541)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x124f50(0x409),'phoneNumber'],...E(a0_0x124f50(0x409))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x124f50(0x6d8)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'reactionMessage':{'type':a0_0x124f50(0x79d),'properties':{'key':{'type':a0_0x124f50(0x79d),'properties':{'id':{'type':a0_0x124f50(0x541)},'remoteJid':{'type':a0_0x124f50(0x541)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x124f50(0x540))},'reaction':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x1fe),a0_0x124f50(0x268)],...E(a0_0x124f50(0x268))}},'required':[a0_0x124f50(0x70b)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'numbers':{'type':a0_0x124f50(0x687),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x541),'pattern':a0_0x124f50(0x25b),'description':a0_0x124f50(0x7f0)}}}},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x124f50(0x687),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x124f50(0x541)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x124f50(0x541)}},'required':['id',a0_0x124f50(0x5b0),'remoteJid'],...E('id',a0_0x124f50(0x540))}}},'required':[a0_0x124f50(0x7eb)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x124f50(0x79d),'properties':{'readreceipts':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x1d9),'none']},'profile':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x1d9),a0_0x124f50(0x408),a0_0x124f50(0x3ed),a0_0x124f50(0x63c)]},'status':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x1d9),a0_0x124f50(0x408),'contact_blacklist',a0_0x124f50(0x63c)]},'online':{'type':a0_0x124f50(0x541),'enum':['all',a0_0x124f50(0x452)]},'last':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x1d9),a0_0x124f50(0x408),a0_0x124f50(0x3ed),'none']},'groupadd':{'type':'string','enum':[a0_0x124f50(0x1d9),a0_0x124f50(0x408),a0_0x124f50(0x3ed),a0_0x124f50(0x63c)]}},'required':[a0_0x124f50(0x31f),a0_0x124f50(0x2d8),a0_0x124f50(0x84c),a0_0x124f50(0x200),a0_0x124f50(0x63e),'groupadd'],...E(a0_0x124f50(0x31f),a0_0x124f50(0x2d8),a0_0x124f50(0x84c),a0_0x124f50(0x200),a0_0x124f50(0x63e),a0_0x124f50(0x4f9))}},'required':[a0_0x124f50(0x69a)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x124f50(0x79d),'properties':{'key':{'type':a0_0x124f50(0x79d),'properties':{'id':{'type':a0_0x124f50(0x541)},'remoteJid':{'type':a0_0x124f50(0x541)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x124f50(0x5b0),'remoteJid'],...E('id',a0_0x124f50(0x540))},'messageTimestamp':{'type':a0_0x124f50(0x4fb),'minLength':0x1}},'required':[a0_0x124f50(0x1fe)],...E(a0_0x124f50(0x6bf))},'archive':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]}},'required':[a0_0x124f50(0x289),'archive']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'id':{'type':a0_0x124f50(0x541)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x124f50(0x541)},'participant':{'type':'string'}},'required':['id',a0_0x124f50(0x5b0),'remoteJid'],...E('id',a0_0x124f50(0x540),a0_0x124f50(0x2d0))},ja={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'where':{'type':a0_0x124f50(0x79d),'properties':{'_id':{'type':a0_0x124f50(0x541),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x124f50(0x21c),'id',a0_0x124f50(0x30f))}}},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'name':{'type':a0_0x124f50(0x541)}},...E(a0_0x124f50(0x350))},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x124f50(0x541)}},...E(a0_0x124f50(0x84c))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Ja={'type':a0_0x124f50(0x79d),'properties':{'wuid':{'type':a0_0x124f50(0x541)},'name':{'type':a0_0x124f50(0x541)},'picture':{'type':a0_0x124f50(0x541)},'status':{'type':a0_0x124f50(0x541)},'isBusiness':{'type':a0_0x124f50(0x364)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'where':{'type':a0_0x124f50(0x79d),'properties':{'_id':{'type':a0_0x124f50(0x541),'minLength':0x1},'key':{'type':a0_0x124f50(0x79d),'if':{'propertyNames':{'enum':['fromMe',a0_0x124f50(0x540),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x124f50(0x541),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':a0_0x124f50(0x6d2)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x124f50(0x79d)}},...E('_id')},'limit':{'type':a0_0x124f50(0x4fb)}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'where':{'type':a0_0x124f50(0x79d),'properties':{'_id':{'type':a0_0x124f50(0x541)},'remoteJid':{'type':a0_0x124f50(0x541)},'id':{'type':a0_0x124f50(0x541)},'fromMe':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x660),a0_0x124f50(0x3c5),a0_0x124f50(0x282),a0_0x124f50(0x679),'READ',a0_0x124f50(0x3a7)]}},...E(a0_0x124f50(0x21c),a0_0x124f50(0x540),'id',a0_0x124f50(0x84c))},'limit':{'type':a0_0x124f50(0x4fb)}}},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'number':{...W},'presence':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x43a),a0_0x124f50(0x3bd),a0_0x124f50(0x67c),a0_0x124f50(0x24a),a0_0x124f50(0x49a)]}},'required':[a0_0x124f50(0x637),'number']},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x124f50(0x541)},'profilePicture':{'type':a0_0x124f50(0x541)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x541),'minLength':0xa,'pattern':a0_0x124f50(0x827),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x124f50(0x390),a0_0x124f50(0x853)],...E(a0_0x124f50(0x390),a0_0x124f50(0x306),a0_0x124f50(0x50f))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':a0_0x124f50(0x541),'pattern':a0_0x124f50(0x73c)}},'required':[a0_0x124f50(0x85a)],...E(a0_0x124f50(0x85a))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x124f50(0x541),'enum':[a0_0x124f50(0x788),a0_0x124f50(0x64f),'promote',a0_0x124f50(0x77a)]},'participants':{'type':a0_0x124f50(0x687),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x124f50(0x541),'minLength':0xa,'pattern':a0_0x124f50(0x827),'description':a0_0x124f50(0x3b8)}}},'required':['groupJid',a0_0x124f50(0x74b),a0_0x124f50(0x853)],...E(a0_0x124f50(0x85a),a0_0x124f50(0x74b))},za={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':a0_0x124f50(0x541)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x124f50(0x85a),a0_0x124f50(0x2e3)],...E(a0_0x124f50(0x85a),a0_0x124f50(0x2e3))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':a0_0x124f50(0x541)},'image':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x85a),a0_0x124f50(0x5bb)],...E(a0_0x124f50(0x85a),a0_0x124f50(0x5bb))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x124f50(0x541)}},'required':[a0_0x124f50(0x85a),a0_0x124f50(0x306)],...E(a0_0x124f50(0x85a),'description')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':a0_0x124f50(0x541)},'name':{'type':a0_0x124f50(0x541)}},'required':['groupJid',a0_0x124f50(0x350)],...E(a0_0x124f50(0x85a),a0_0x124f50(0x350))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x124f50(0x541),'enum':['announcement',a0_0x124f50(0x684),a0_0x124f50(0x366),a0_0x124f50(0x7ed)]}},'required':[a0_0x124f50(0x85a),a0_0x124f50(0x29d)],...E(a0_0x124f50(0x85a),a0_0x124f50(0x29d))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':['inviteCode'],...E(a0_0x124f50(0x2e6))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x124f50(0x79d),'properties':{'url':{'type':a0_0x124f50(0x541)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0x124f50(0x55f)]},tc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x124f50(0x364),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x124f50(0x4af),a0_0x124f50(0x458),a0_0x124f50(0x4d7),a0_0x124f50(0x76b),a0_0x124f50(0x4d4),a0_0x124f50(0x2bd),'SEND_MESSAGE',a0_0x124f50(0x597),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x124f50(0x4a9),'CHATS_SET',a0_0x124f50(0x662),a0_0x124f50(0x39d),a0_0x124f50(0x590),a0_0x124f50(0x271),a0_0x124f50(0x4f6),a0_0x124f50(0x327),a0_0x124f50(0x3cf)],...E(a0_0x124f50(0x4af),a0_0x124f50(0x458),a0_0x124f50(0x4d7),a0_0x124f50(0x76b),'MESSAGES_UPDATE',a0_0x124f50(0x2bd),a0_0x124f50(0x403),a0_0x124f50(0x597),a0_0x124f50(0x5ea),'CONTACTS_UPDATE',a0_0x124f50(0x4a9),a0_0x124f50(0x70d),a0_0x124f50(0x662),a0_0x124f50(0x39d),a0_0x124f50(0x590),'CONNECTION_UPDATE',a0_0x124f50(0x4f6),a0_0x124f50(0x327),a0_0x124f50(0x3cf))},Qe=class{},Ye=class extends D{[a0_0x124f50(0x260)](_0x215344){return Vs(_0x215344);}async[a0_0x124f50(0x24e)](_0x465927){const _0x1f3c38=a0_0x124f50;if(_0x465927['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x465927[0x0][_0x1f3c38(0x652)])[_0x1f3c38(0x25d)]([..._0x465927]))[_0x1f3c38(0x230)]};}catch(_0x2b4957){return _0x2b4957;}}async[a0_0x124f50(0x3bb)](_0x4489c4,_0x424c9c){const _0x762635=a0_0x124f50;try{return{'deletedCount':(await this[_0x762635(0x260)](_0x424c9c)[_0x762635(0x79c)]({..._0x4489c4['where']}))[_0x762635(0x86a)]};}catch(_0x49cedb){return{'error':_0x49cedb?.[_0x762635(0x782)]()};}}async['update'](_0x2395dd,_0x2750e0){const _0x57b61b=a0_0x124f50;try{if(_0x2395dd['length']===0x0)return;let _0x204db7=this['getContactModelForOwner'](_0x2750e0),_0x11a609=_0x2395dd[_0x57b61b(0x5c2)](_0x3f87fe=>({'updateOne':{'filter':{'_id':_0x3f87fe[_0x57b61b(0x21c)],'owner':_0x2750e0},'update':{..._0x3f87fe}}})),{modifiedCount:_0x171293}=await _0x204db7[_0x57b61b(0x5d4)](_0x11a609);return{'insertCount':_0x171293};}catch{return;}}async[a0_0x124f50(0x81d)](_0x369463,_0x81d189){const _0x2225ce=a0_0x124f50;try{let _0x38ca2d=this['getContactModelForOwner'](_0x81d189),_0x35d44f=A(_0x369463['where']);return await _0x38ca2d[_0x2225ce(0x81d)](_0x35d44f)[_0x2225ce(0x6da)](_0x369463?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x124f50(0x7fc)](_0xfbfd55,_0xa44300){const _0x100297=a0_0x124f50;try{let _0x4fd7fa=this['getContactModelForOwner'](_0xa44300),_0x3b1f2a=A(_0xfbfd55['where']);return await _0x4fd7fa[_0x100297(0x7fc)](_0x3b1f2a)['lean']();}catch{return null;}}async[a0_0x124f50(0x73a)](_0x2e3fb4){const _0x5ee311=a0_0x124f50;try{return await this[_0x5ee311(0x260)](_0x2e3fb4)[_0x5ee311(0x48b)][_0x5ee311(0x5a8)](),{'success':!0x0};}catch(_0x97d3d1){return console[_0x5ee311(0x629)](_0x97d3d1),{'success':!0x1,'error':_0x97d3d1};}}},Xe=require(a0_0x124f50(0x6e7)),uc=require(a0_0x124f50(0x706)),hs=new N(a0_0x124f50(0x1dc)),U=class{[a0_0x124f50(0x453)](_0x5fd334,_0x5c8002=!0x0){let _0x12bf96='/'+_0x5fd334;return _0x5c8002&&(_0x12bf96+='/:instanceName'),_0x12bf96;}async[a0_0x124f50(0x44c)](_0x5b2002){const _0x236b4b=a0_0x124f50;let {request:_0x496bc4,schema:_0x1e97f7,ClassRef:_0x12a915,execute:_0x4d9e27}=_0x5b2002,_0x3a9493=new _0x12a915(),_0x5eb129=_0x496bc4[_0x236b4b(0x75a)],_0x59b332=_0x496bc4['params'];_0x496bc4?.[_0x236b4b(0x7cc)]&&Object[_0x236b4b(0x311)](_0x496bc4[_0x236b4b(0x7cc)])['length']>0x0&&Object[_0x236b4b(0x868)](_0x59b332,_0x496bc4[_0x236b4b(0x7cc)]),_0x496bc4[_0x236b4b(0x486)][_0x236b4b(0x6c2)](_0x236b4b(0x294))&&Object[_0x236b4b(0x868)](_0x59b332,_0x5eb129),Object['assign'](_0x3a9493,_0x5eb129);let _0x8ef39c=_0x1e97f7?(0x0,Xe['validate'])(_0x3a9493,_0x1e97f7):{'valid':!0x0,'errors':[]};if(!_0x8ef39c[_0x236b4b(0x500)]){let _0x32cf7b=_0x8ef39c[_0x236b4b(0x542)][_0x236b4b(0x5c2)](({property:_0x3d62e5,stack:_0x4a1cd1,schema:_0x554608})=>{const _0x4c179d=_0x236b4b;let _0x1e321b;return _0x554608[_0x4c179d(0x306)]?_0x1e321b=_0x554608[_0x4c179d(0x306)]:_0x1e321b=_0x4a1cd1[_0x4c179d(0x261)](_0x4c179d(0x61b),''),{'property':_0x3d62e5['replace'](_0x4c179d(0x61b),''),'message':_0x1e321b};});throw hs[_0x236b4b(0x629)]([..._0x32cf7b]),new w(..._0x32cf7b);}return await _0x4d9e27(_0x59b332,_0x3a9493);}async['groupValidate'](_0x131151){const _0x32737e=a0_0x124f50;let {request:_0x2eadcf,ClassRef:_0x44c07f,schema:_0x3b5ae5,execute:_0x94b131}=_0x131151,_0x4e82a8=_0x2eadcf[_0x32737e(0x7cc)];if(!_0x4e82a8?.[_0x32737e(0x85a)])throw new w(_0x32737e(0x28c),_0x32737e(0x6f7));let _0xc6b1ea=_0x2eadcf[_0x32737e(0x4d6)],_0x5ccb21=_0x2eadcf[_0x32737e(0x75a)],_0x2f4273=new _0x44c07f();Object[_0x32737e(0x868)](_0x5ccb21,_0x4e82a8),Object[_0x32737e(0x868)](_0x2f4273,_0x5ccb21);let _0x4507ac=(0x0,Xe[_0x32737e(0x69c)])(_0x2f4273,_0x3b5ae5);if(!_0x4507ac['valid']){let _0x408023=_0x4507ac[_0x32737e(0x542)][_0x32737e(0x5c2)](({property:_0x521bf8,stack:_0xc67dd5,schema:_0x3e0417})=>{const _0x4f78df=_0x32737e;let _0xd1a8aa;return _0x3e0417[_0x4f78df(0x306)]?_0xd1a8aa=_0x3e0417[_0x4f78df(0x306)]:_0xd1a8aa=_0xc67dd5[_0x4f78df(0x261)](_0x4f78df(0x61b),''),{'property':_0x521bf8[_0x4f78df(0x261)](_0x4f78df(0x61b),''),'message':_0xd1a8aa};});throw hs[_0x32737e(0x629)]([..._0x408023]),new w(..._0x408023);}return await _0x94b131(_0xc6b1ea,_0x2f4273);}async[a0_0x124f50(0x3e7)](_0x230da8){const _0x32a33f=a0_0x124f50;let {request:_0x304e2e,ClassRef:_0x127626,schema:_0x2edbda,execute:_0x211187}=_0x230da8,_0x52add7=_0x304e2e['body'];if(!_0x52add7?.['inviteCode'])throw new w(_0x32a33f(0x3ab),_0x32a33f(0x2a4));let _0x1474a2=_0x304e2e['params'],_0x13b95f=_0x304e2e['body'],_0x44b198=new _0x127626();Object['assign'](_0x13b95f,_0x52add7),Object[_0x32a33f(0x868)](_0x44b198,_0x13b95f);let _0x3c12f0=(0x0,Xe[_0x32a33f(0x69c)])(_0x44b198,_0x2edbda);if(!_0x3c12f0[_0x32a33f(0x500)]){let _0x322b02=_0x3c12f0[_0x32a33f(0x542)]['map'](({property:_0x2b8aff,stack:_0x739494,schema:_0x28c332})=>{const _0x55bbf8=_0x32a33f;let _0x2e6c7f;return _0x28c332['description']?_0x2e6c7f=_0x28c332['description']:_0x2e6c7f=_0x739494['replace']('instance.',''),{'property':_0x2b8aff[_0x55bbf8(0x261)]('instance.',''),'message':_0x2e6c7f};});throw hs[_0x32a33f(0x629)]([..._0x322b02]),new w(..._0x322b02);}return await _0x211187(_0x1474a2,_0x44b198);}},S=class{},Nc=new N('ChatRouter'),Ze=class extends U{constructor(..._0x4e394e){const _0x3000b5=a0_0x124f50;super(),this[_0x3000b5(0x6f0)]=(0x0,er[_0x3000b5(0x514)])(),this['router'][_0x3000b5(0x2f2)](this['routerPath'](_0x3000b5(0x650)),..._0x4e394e,async(_0x61e559,_0x4f42f4)=>{const _0x36618f=_0x3000b5;let _0x3009e8=await this['dataValidate']({'request':_0x61e559,'schema':Ba,'ClassRef':je,'execute':(_0x2c5167,_0x17d016)=>_[_0x36618f(0x650)](_0x2c5167,_0x17d016)});return _0x4f42f4['status'](0xc9)[_0x36618f(0x604)](_0x3009e8);})[_0x3000b5(0x2f2)](this[_0x3000b5(0x453)](_0x3000b5(0x211)),..._0x4e394e,async(_0x59b113,_0xd57e78)=>{const _0x5df413=_0x3000b5;let _0x2efbbe=await this['dataValidate']({'request':_0x59b113,'schema':Pa,'ClassRef':Ue,'execute':(_0x5595a0,_0xc7f58f)=>_[_0x5df413(0x645)](_0x5595a0,_0xc7f58f)});return _0xd57e78[_0x5df413(0x84c)](0xc9)[_0x5df413(0x604)](_0x2efbbe);})['post'](this[_0x3000b5(0x453)](_0x3000b5(0x7e5)),..._0x4e394e,async(_0x1b886f,_0x4a4809)=>{const _0x997e12=_0x3000b5;let _0x145388=await this[_0x997e12(0x44c)]({'request':_0x1b886f,'schema':v,'ClassRef':S,'execute':(_0x1d1855,_0x5c4975)=>_[_0x997e12(0x7e5)](_0x1d1855,_0x5c4975)});return _0x4a4809[_0x997e12(0x84c)](0xc9)[_0x997e12(0x604)](_0x145388);})[_0x3000b5(0x25a)](this[_0x3000b5(0x453)](_0x3000b5(0x80f)),..._0x4e394e,async(_0x5bbedf,_0x1ca9b9)=>{const _0x337d5b=_0x3000b5;let _0x459a33=await this[_0x337d5b(0x44c)]({'request':_0x5bbedf,'schema':$a,'ClassRef':Ve,'execute':(_0x2d3ad4,_0x4ee280)=>_['readMessage'](_0x2d3ad4,_0x4ee280)});return _0x1ca9b9[_0x337d5b(0x84c)](0xc9)[_0x337d5b(0x604)](_0x459a33);})[_0x3000b5(0x25a)](this[_0x3000b5(0x453)](_0x3000b5(0x570)),..._0x4e394e,async(_0x3016d8,_0x2f621d)=>{const _0x493ab8=_0x3000b5;let _0x3dc105=await this[_0x493ab8(0x44c)]({'request':_0x3016d8,'schema':La,'ClassRef':Be,'execute':(_0xcb04ea,_0x435e26)=>_[_0x493ab8(0x570)](_0xcb04ea,_0x435e26)});return _0x2f621d[_0x493ab8(0x84c)](0xc9)['json'](_0x3dc105);})['delete'](this[_0x3000b5(0x453)](_0x3000b5(0x72e)),..._0x4e394e,async(_0x17eadf,_0x2e4467)=>{const _0x2d7704=_0x3000b5;let _0x2d1e6b=await this['dataValidate']({'request':_0x17eadf,'schema':Fa,'ClassRef':We,'execute':(_0x7c962f,_0x472b11)=>_[_0x2d7704(0x363)](_0x7c962f,_0x472b11)});return _0x2e4467[_0x2d7704(0x84c)](0xc9)[_0x2d7704(0x604)](_0x2d1e6b);})['post'](this[_0x3000b5(0x453)](_0x3000b5(0x84a)),..._0x4e394e,async(_0x2f1e9e,_0x22a035)=>{const _0x576b5c=_0x3000b5;let _0x5e96f2=await this['dataValidate']({'request':_0x2f1e9e,'schema':Se,'ClassRef':be,'execute':(_0x3016ba,_0x4d8728)=>_[_0x576b5c(0x4c9)](_0x3016ba,_0x4d8728)});return _0x22a035['status'](0xc8)[_0x576b5c(0x604)](_0x5e96f2);})[_0x3000b5(0x2f2)](this[_0x3000b5(0x453)]('fetchProfile'),..._0x4e394e,async(_0x4fb997,_0x58c9b5)=>{const _0x1fbb52=_0x3000b5;let _0x354703=await this[_0x1fbb52(0x44c)]({'request':_0x4fb997,'schema':Ja,'ClassRef':be,'execute':(_0x5ef957,_0x185d2a)=>_[_0x1fbb52(0x36f)](_0x5ef957,_0x185d2a)});return _0x58c9b5[_0x1fbb52(0x84c)](0xc8)['json'](_0x354703);})['post'](this[_0x3000b5(0x453)]('findContacts'),..._0x4e394e,async(_0x59410a,_0x6323dc)=>{const _0x35c38f=_0x3000b5;let _0x59777a=await this[_0x35c38f(0x44c)]({'request':_0x59410a,'schema':ja,'ClassRef':Qe,'execute':(_0x32cedc,_0x5a6393)=>_['fetchContacts'](_0x32cedc,_0x5a6393)});return _0x6323dc[_0x35c38f(0x84c)](0xc8)[_0x35c38f(0x604)](_0x59777a);})['post'](this['routerPath']('getBase64FromMediaMessage'),..._0x4e394e,async(_0x578763,_0x34eeee)=>{const _0x22b57e=_0x3000b5;let _0x4a5f53=await this['dataValidate']({'request':_0x578763,'schema':null,'ClassRef':Object,'execute':(_0x2894b0,_0x400824)=>_[_0x22b57e(0x4fc)](_0x2894b0,_0x400824)});return _0x34eeee[_0x22b57e(0x84c)](0xc9)[_0x22b57e(0x604)](_0x4a5f53);})[_0x3000b5(0x2f2)](this[_0x3000b5(0x453)](_0x3000b5(0x3ec)),..._0x4e394e,async(_0x2658b2,_0x20e7f4)=>{const _0xd7dcfb=_0x3000b5;let _0x50c448=await this[_0xd7dcfb(0x44c)]({'request':_0x2658b2,'schema':Va,'ClassRef':Le,'execute':(_0x22e962,_0x4cdcee)=>_[_0xd7dcfb(0x6f3)](_0x22e962,_0x4cdcee)});return _0x20e7f4[_0xd7dcfb(0x84c)](0xc8)[_0xd7dcfb(0x604)](_0x50c448);})[_0x3000b5(0x45b)](this[_0x3000b5(0x453)](_0x3000b5(0x5fb)),..._0x4e394e,async(_0x33fb1c,_0x535966)=>{const _0x886b48=_0x3000b5;let _0x1aa43d=await this['dataValidate']({'request':_0x33fb1c,'schema':null,'ClassRef':S,'execute':_0x137b66=>_[_0x886b48(0x4a5)](_0x137b66)});return _0x535966[_0x886b48(0x84c)](0xc8)['json'](_0x1aa43d);})[_0x3000b5(0x45b)](this['routerPath'](_0x3000b5(0x61a)),..._0x4e394e,async(_0x3b8a1d,_0x56745e)=>{const _0x30c0c8=_0x3000b5;let _0x32e4fe=await this[_0x30c0c8(0x44c)]({'request':_0x3b8a1d,'schema':null,'ClassRef':S,'execute':_0x18ab34=>_['fetchLabels'](_0x18ab34)});return _0x56745e[_0x30c0c8(0x84c)](0xc8)[_0x30c0c8(0x604)](_0x32e4fe);})[_0x3000b5(0x25a)](this[_0x3000b5(0x453)](_0x3000b5(0x861)),..._0x4e394e,async(_0x297668,_0x4956ff)=>{const _0x26f402=_0x3000b5;let _0x1f0280=await this[_0x26f402(0x44c)]({'request':_0x297668,'schema':null,'ClassRef':Array,'execute':(_0x24c63c,_0x4b3304)=>_['importChats'](_0x24c63c,_0x4b3304)});return _0x4956ff[_0x26f402(0x84c)](0xc8)['json'](_0x1f0280);})['get'](this[_0x3000b5(0x453)](_0x3000b5(0x647)),..._0x4e394e,async(_0x55eee9,_0x914160)=>{const _0x593480=_0x3000b5;let _0x13bcd8=await this[_0x593480(0x44c)]({'request':_0x55eee9,'schema':null,'ClassRef':S,'execute':_0x8d68f8=>_[_0x593480(0x647)](_0x8d68f8)});return _0x914160[_0x593480(0x84c)](0xc8)[_0x593480(0x604)](_0x13bcd8);})['put'](this[_0x3000b5(0x453)](_0x3000b5(0x7c1)),..._0x4e394e,async(_0x308b86,_0x35dc50)=>{const _0x1f0ead=_0x3000b5;let _0x351b89=await this['dataValidate']({'request':_0x308b86,'schema':ka,'ClassRef':Ge,'execute':(_0x519567,_0x4bdc52)=>_[_0x1f0ead(0x7c1)](_0x519567,_0x4bdc52)});return _0x35dc50['status'](0xc9)['json'](_0x351b89);})[_0x3000b5(0x2f2)](this['routerPath'](_0x3000b5(0x476)),..._0x4e394e,async(_0x1e0462,_0x337480)=>{const _0x24e5c2=_0x3000b5;let _0x452375=await this[_0x24e5c2(0x44c)]({'request':_0x1e0462,'schema':Se,'ClassRef':fe,'execute':(_0x27ca45,_0x5be25b)=>_[_0x24e5c2(0x476)](_0x27ca45,_0x5be25b)});return _0x337480['status'](0xc8)[_0x24e5c2(0x604)](_0x452375);})[_0x3000b5(0x2f2)](this[_0x3000b5(0x453)](_0x3000b5(0x2bc)),..._0x4e394e,async(_0xf59736,_0x516ca1)=>{const _0x4852d2=_0x3000b5;let _0x4c5c67=await this[_0x4852d2(0x44c)]({'request':_0xf59736,'schema':Ua,'ClassRef':qe,'execute':(_0x103663,_0x3e2604)=>_[_0x4852d2(0x2bc)](_0x103663,_0x3e2604)});return _0x516ca1['status'](0xc8)[_0x4852d2(0x604)](_0x4c5c67);})['post'](this['routerPath'](_0x3000b5(0x250)),..._0x4e394e,async(_0x507f3c,_0x6fac27)=>{const _0x19e91d=_0x3000b5;let _0x4b1e21=await this[_0x19e91d(0x44c)]({'request':_0x507f3c,'schema':qa,'ClassRef':Je,'execute':(_0x16494a,_0x5b1a54)=>_[_0x19e91d(0x250)](_0x16494a,_0x5b1a54)});return _0x6fac27[_0x19e91d(0x84c)](0xc8)['json'](_0x4b1e21);})[_0x3000b5(0x25a)](this[_0x3000b5(0x453)](_0x3000b5(0x41d)),..._0x4e394e,async(_0x469eb3,_0x452f23)=>{const _0x3d80f3=_0x3000b5;let _0x3e53da=await this[_0x3d80f3(0x44c)]({'request':_0x469eb3,'schema':Se,'ClassRef':fe,'execute':(_0x373adb,_0x2684e0)=>_[_0x3d80f3(0x41d)](_0x373adb,_0x2684e0)});return _0x452f23[_0x3d80f3(0x84c)](0xc8)[_0x3d80f3(0x604)](_0x3e53da);})[_0x3000b5(0x3bb)](this[_0x3000b5(0x453)](_0x3000b5(0x67a)),..._0x4e394e,async(_0x2a9cbb,_0x19a183)=>{const _0x4c2ba9=_0x3000b5;let _0x485226=await this[_0x4c2ba9(0x44c)]({'request':_0x2a9cbb,'schema':Se,'ClassRef':fe,'execute':(_0x1a8544,_0x1d9d75)=>_['removeProfilePicture'](_0x1a8544,_0x1d9d75)});return _0x19a183[_0x4c2ba9(0x84c)](0xc8)[_0x4c2ba9(0x604)](_0x485226);});}},tr=require(a0_0x124f50(0x7a1)),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x555174){const _0x12bfeb=a0_0x124f50;super(),this[_0x12bfeb(0x6f0)]=(0x0,tr[_0x12bfeb(0x514)])(),this['router']['post'](this[_0x12bfeb(0x453)](_0x12bfeb(0x3ba)),..._0x555174,async(_0x6990bf,_0xbe6e43)=>{const _0x517c2e=_0x12bfeb;let _0x48e775=await this[_0x517c2e(0x44c)]({'request':_0x6990bf,'schema':Ga,'ClassRef':et,'execute':(_0x3ebc0b,_0x5e7cc3)=>F[_0x517c2e(0x5de)](_0x3ebc0b,_0x5e7cc3)});_0xbe6e43[_0x517c2e(0x84c)](0xc9)[_0x517c2e(0x604)](_0x48e775);})[_0x12bfeb(0x25a)](this['routerPath'](_0x12bfeb(0x68f)),..._0x555174,async(_0x38903a,_0x5114df)=>{const _0x5a2374=_0x12bfeb;let _0x367f34=await this[_0x5a2374(0x595)]({'request':_0x38903a,'schema':Ha,'ClassRef':tt,'execute':(_0x2d8c3d,_0x1bdcfc)=>F[_0x5a2374(0x68f)](_0x2d8c3d,_0x1bdcfc)});_0x5114df[_0x5a2374(0x84c)](0xc9)['json'](_0x367f34);})[_0x12bfeb(0x25a)](this[_0x12bfeb(0x453)](_0x12bfeb(0x394)),..._0x555174,async(_0x57c8d7,_0x489848)=>{const _0x3a1b88=_0x12bfeb;let _0x5dc1fc=await this['groupValidate']({'request':_0x57c8d7,'schema':Ka,'ClassRef':st,'execute':(_0x5b01ec,_0x2321a6)=>F[_0x3a1b88(0x394)](_0x5b01ec,_0x2321a6)});_0x489848[_0x3a1b88(0x84c)](0xc9)[_0x3a1b88(0x604)](_0x5dc1fc);})[_0x12bfeb(0x25a)](this['routerPath']('groupName'),..._0x555174,async(_0xb4d52,_0x138ebd)=>{const _0x19393a=_0x12bfeb;let _0x55481e=await this[_0x19393a(0x595)]({'request':_0xb4d52,'schema':Qa,'ClassRef':at,'execute':(_0x1a32b3,_0x1802a6)=>F[_0x19393a(0x711)](_0x1a32b3,_0x1802a6)});_0x138ebd[_0x19393a(0x84c)](0xc9)[_0x19393a(0x604)](_0x55481e);})[_0x12bfeb(0x25a)](this['routerPath'](_0x12bfeb(0x361)),..._0x555174,async(_0x4a8831,_0x1dd79c)=>{const _0x178da5=_0x12bfeb;let _0x3d511b=await this['groupValidate']({'request':_0x4a8831,'schema':Ya,'ClassRef':rt,'execute':(_0x4dc739,_0x8acaf4)=>F['groupSetting'](_0x4dc739,_0x8acaf4)});_0x1dd79c['status'](0xc9)[_0x178da5(0x604)](_0x3d511b);})[_0x12bfeb(0x25a)](this['routerPath'](_0x12bfeb(0x4e1)),..._0x555174,async(_0x238985,_0x114204)=>{const _0x3b40b6=_0x12bfeb;let _0x1bc8f7=await this[_0x3b40b6(0x595)]({'request':_0x238985,'schema':za,'ClassRef':nt,'execute':(_0x5a6008,_0x415d57)=>F[_0x3b40b6(0x4e1)](_0x5a6008,_0x415d57)});_0x114204['status'](0xc9)[_0x3b40b6(0x604)](_0x1bc8f7);})[_0x12bfeb(0x45b)](this[_0x12bfeb(0x453)](_0x12bfeb(0x2d5)),..._0x555174,async(_0x59822c,_0x4107e7)=>{const _0x36712b=_0x12bfeb;let _0x48e81b=await this['groupValidate']({'request':_0x59822c,'schema':Ee,'ClassRef':Q,'execute':(_0x5e6518,_0x13667e)=>F[_0x36712b(0x53e)](_0x5e6518,_0x13667e)});_0x4107e7[_0x36712b(0x84c)](0xc8)[_0x36712b(0x604)](_0x48e81b);})[_0x12bfeb(0x45b)](this[_0x12bfeb(0x453)](_0x12bfeb(0x501)),..._0x555174,async(_0x56684f,_0x4001c3)=>{const _0xd1306f=_0x12bfeb;let _0x58ce5=await this['dataValidate']({'request':_0x56684f,'schema':v,'ClassRef':S,'execute':_0x44851e=>F[_0xd1306f(0x501)](_0x44851e)});_0x4001c3[_0xd1306f(0x84c)](0xc8)[_0xd1306f(0x604)](_0x58ce5);})['get'](this['routerPath']('participants'),..._0x555174,async(_0x538e72,_0x93bd56)=>{const _0x42533d=_0x12bfeb;let _0x4dbcfa=await this['groupValidate']({'request':_0x538e72,'schema':Ee,'ClassRef':Q,'execute':(_0x43585c,_0x52451c)=>F[_0x42533d(0x410)](_0x43585c,_0x52451c)});_0x93bd56[_0x42533d(0x84c)](0xc8)[_0x42533d(0x604)](_0x4dbcfa);})[_0x12bfeb(0x45b)](this[_0x12bfeb(0x453)](_0x12bfeb(0x2e6)),..._0x555174,async(_0x5334a8,_0x2fc189)=>{const _0x45427e=_0x12bfeb;let _0xdb49ba=await this[_0x45427e(0x595)]({'request':_0x5334a8,'schema':Ee,'ClassRef':Q,'execute':(_0x512a66,_0x11925d)=>F[_0x45427e(0x2e6)](_0x512a66,_0x11925d)});_0x2fc189[_0x45427e(0x84c)](0xc8)[_0x45427e(0x604)](_0xdb49ba);})[_0x12bfeb(0x25a)](this[_0x12bfeb(0x453)](_0x12bfeb(0x4b7)),..._0x555174,async(_0xdd7353,_0x3e5db6)=>{const _0x37b0ee=_0x12bfeb;let _0x117cc1=await this['joinGroupValidate']({'request':_0xdd7353,'schema':Xa,'ClassRef':it,'execute':(_0x34d7f2,_0x4967f0)=>F[_0x37b0ee(0x4b7)](_0x34d7f2,_0x4967f0)});_0x3e5db6[_0x37b0ee(0x84c)](0xc9)[_0x37b0ee(0x604)](_0x117cc1);})[_0x12bfeb(0x25a)](this['routerPath'](_0x12bfeb(0x4cd)),..._0x555174,async(_0x4d3160,_0x194364)=>{const _0x4d68ac=_0x12bfeb;let _0x13b30b=await this[_0x4d68ac(0x595)]({'request':_0x4d3160,'schema':Ee,'ClassRef':Q,'execute':(_0x4ee475,_0x227f53)=>F[_0x4d68ac(0x4cd)](_0x4ee475,_0x227f53)});_0x194364[_0x4d68ac(0x84c)](0xc9)[_0x4d68ac(0x604)](_0x13b30b);})[_0x12bfeb(0x25a)](this[_0x12bfeb(0x453)]('updateParticipant'),..._0x555174,async(_0x14a557,_0x254164)=>{const _0x3cd013=_0x12bfeb;let _0x47c2e2=await this[_0x3cd013(0x595)]({'request':_0x14a557,'schema':Wa,'ClassRef':ot,'execute':(_0xf900c7,_0x1d1658)=>F[_0x3cd013(0x66e)](_0xf900c7,_0x1d1658)});_0x254164[_0x3cd013(0x84c)](0xc9)['json'](_0x47c2e2);})[_0x12bfeb(0x3bb)](this[_0x12bfeb(0x453)](_0x12bfeb(0x624)),..._0x555174,async(_0x56c5bc,_0x2fdcaa)=>{const _0x45d9e8=_0x12bfeb;let _0x1d654b=await this[_0x45d9e8(0x595)]({'request':_0x56c5bc,'schema':{},'ClassRef':Q,'execute':(_0x1a0b5a,_0x4a4386)=>F['leaveGroup'](_0x1a0b5a,_0x4a4386)});_0x2fdcaa[_0x45d9e8(0x84c)](0xc8)[_0x45d9e8(0x604)](_0x1d654b);});}},sr=require('express'),lt=class extends U{constructor(_0x24cd33,..._0x5c5e01){const _0x4c5679=a0_0x124f50;super(),this[_0x4c5679(0x58f)]=_0x24cd33,this[_0x4c5679(0x6f0)]=(0x0,sr[_0x4c5679(0x514)])();let _0x190871=_0x24cd33[_0x4c5679(0x45b)]('AUTHENTICATION');this[_0x4c5679(0x6f0)]['post'](_0x4c5679(0x768),..._0x5c5e01,async(_0x4b486e,_0x3f93f3)=>{const _0x4fb52c=_0x4c5679;let {instanceName:_0x7e7e38,apikey:_0x46ddbc,number:_0x1c5c86}=_0x4b486e[_0x4fb52c(0x75a)],_0x359a74=await ie[_0x4fb52c(0x292)]({'instanceName':_0x7e7e38,'apikey':_0x46ddbc,'number':_0x1c5c86});return _0x3f93f3['status'](0xc9)['json'](_0x359a74);})['put'](this[_0x4c5679(0x453)](_0x4c5679(0x70e)),..._0x5c5e01,async(_0x4b0f0d,_0xe21102)=>{const _0x409ea0=_0x4c5679;let _0x54e0b7=await this[_0x409ea0(0x44c)]({'request':_0x4b0f0d,'schema':v,'ClassRef':S,'execute':_0xf26056=>ie[_0x409ea0(0x354)](_0xf26056)});return _0xe21102[_0x409ea0(0x84c)](0xc8)[_0x409ea0(0x604)](_0x54e0b7);})[_0x4c5679(0x45b)](this[_0x4c5679(0x453)](_0x4c5679(0x633)),..._0x5c5e01,async(_0x1d2cd3,_0x19360b)=>{const _0x44dc9e=_0x4c5679;let _0x1db85b=await this['dataValidate']({'request':_0x1d2cd3,'schema':v,'ClassRef':S,'execute':_0x2ce92c=>ie[_0x44dc9e(0x533)](_0x2ce92c)});return _0x19360b[_0x44dc9e(0x84c)](0xc8)[_0x44dc9e(0x604)](_0x1db85b);})[_0x4c5679(0x45b)](this[_0x4c5679(0x453)]('connectionState'),..._0x5c5e01,async(_0x1a75ea,_0x5a8aa8)=>{const _0x24f60c=_0x4c5679;let _0x8b1041=await this[_0x24f60c(0x44c)]({'request':_0x1a75ea,'schema':v,'ClassRef':S,'execute':_0x4d0281=>ie[_0x24f60c(0x3fd)](_0x4d0281)});return _0x5a8aa8[_0x24f60c(0x84c)](0xc8)[_0x24f60c(0x604)](_0x8b1041);})[_0x4c5679(0x45b)](this[_0x4c5679(0x453)](_0x4c5679(0x246),!0x1),..._0x5c5e01,async(_0x51428e,_0x1fc919)=>{const _0x42fd80=_0x4c5679;let _0x4c05fc=await this['dataValidate']({'request':_0x51428e,'schema':null,'ClassRef':S,'execute':_0x445de2=>ie[_0x42fd80(0x246)](_0x445de2)});return _0x1fc919[_0x42fd80(0x84c)](0xc8)['json'](_0x4c05fc);})[_0x4c5679(0x3bb)](this[_0x4c5679(0x453)](_0x4c5679(0x5c8)),..._0x5c5e01,async(_0x3b6228,_0x2659af)=>{const _0x13fece=_0x4c5679;let _0x40b496=await this[_0x13fece(0x44c)]({'request':_0x3b6228,'schema':v,'ClassRef':S,'execute':_0x16b472=>ie[_0x13fece(0x5c8)](_0x16b472)});return _0x2659af[_0x13fece(0x84c)](0xc8)[_0x13fece(0x604)](_0x40b496);})['delete'](this[_0x4c5679(0x453)]('delete'),..._0x5c5e01,async(_0x227931,_0x5378f1)=>{const _0x2d2375=_0x4c5679;let _0x54fb15=await this['dataValidate']({'request':_0x227931,'schema':v,'ClassRef':S,'execute':_0x1f2eeb=>ie[_0x2d2375(0x369)](_0x1f2eeb)});return _0x5378f1[_0x2d2375(0x84c)](0xc8)[_0x2d2375(0x604)](_0x54fb15);});}},ar=require(a0_0x124f50(0x7a1)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x7fdeb2){const _0x3622d5=a0_0x124f50;super(),this[_0x3622d5(0x6f0)]=(0x0,ar['Router'])(),this[_0x3622d5(0x6f0)][_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x257)),..._0x7fdeb2,async(_0x1c3c7d,_0x19fd13)=>{const _0x1b1fc2=_0x3622d5;let _0x193375=await this[_0x1b1fc2(0x44c)]({'request':_0x1c3c7d,'schema':Ea,'ClassRef':ut,'execute':(_0x28b92d,_0x6401aa)=>B[_0x1b1fc2(0x257)](_0x28b92d,_0x6401aa)});return _0x19fd13[_0x1b1fc2(0x84c)](0xc9)['json'](_0x193375);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x5f6)),..._0x7fdeb2,async(_0x9f1d4c,_0x9668a0)=>{const _0x447d8e=_0x3622d5;let _0xf4481d=await this[_0x447d8e(0x44c)]({'request':_0x9f1d4c,'schema':Na,'ClassRef':Ce,'execute':(_0x40e62a,_0x180afd)=>B[_0x447d8e(0x5f6)](_0x40e62a,_0x180afd)});return _0x9668a0['status'](0xc9)[_0x447d8e(0x604)](_0xf4481d);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x554)),..._0x7fdeb2,async(_0x1a8b66,_0xa8c797)=>{const _0x49c9df=_0x3622d5;let _0x579f59=await this['dataValidate']({'request':_0x1a8b66,'schema':Oa,'ClassRef':ht,'execute':(_0x556fc2,_0x1d9cde)=>B['sendMenu'](_0x556fc2,_0x1d9cde)});return _0xa8c797[_0x49c9df(0x84c)](0xc9)[_0x49c9df(0x604)](_0x579f59);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x3b4)),..._0x7fdeb2,async(_0x57fc96,_0x148ca8)=>{const _0x1a8188=_0x3622d5;let _0xdc1749=await this[_0x1a8188(0x44c)]({'request':_0x57fc96,'schema':Ra,'ClassRef':Ce,'execute':(_0x2da15e,_0x479ab9)=>B['sendWhatsAppAudio'](_0x2da15e,_0x479ab9)});return _0x148ca8[_0x1a8188(0x84c)](0xc9)[_0x1a8188(0x604)](_0xdc1749);})['post'](this[_0x3622d5(0x453)](_0x3622d5(0x3f0)),..._0x7fdeb2,async(_0x3c0515,_0x20c202)=>{const _0x59508c=_0x3622d5;let _0x214a9c=await this[_0x59508c(0x44c)]({'request':_0x3c0515,'schema':Aa,'ClassRef':mt,'execute':(_0x24de96,_0x35cc03)=>B['sendButtons'](_0x24de96,_0x35cc03)});return _0x20c202[_0x59508c(0x84c)](0xc9)[_0x59508c(0x604)](_0x214a9c);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)]('sendLocation'),..._0x7fdeb2,async(_0x3370f4,_0x1afcc9)=>{const _0x2fe0d1=_0x3622d5;let _0x22ea40=await this[_0x2fe0d1(0x44c)]({'request':_0x3370f4,'schema':Ia,'ClassRef':ft,'execute':(_0x4277d4,_0x3d3b53)=>B[_0x2fe0d1(0x506)](_0x4277d4,_0x3d3b53)});return _0x1afcc9[_0x2fe0d1(0x84c)](0xc9)[_0x2fe0d1(0x604)](_0x22ea40);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)]('sendList'),..._0x7fdeb2,async(_0x2b2976,_0x31bade)=>{const _0x441355=_0x3622d5;let _0x83fe3c=await this[_0x441355(0x44c)]({'request':_0x2b2976,'schema':xa,'ClassRef':wt,'execute':(_0xa6e4bc,_0x11da00)=>B[_0x441355(0x24f)](_0xa6e4bc,_0x11da00)});return _0x31bade[_0x441355(0x84c)](0xc9)[_0x441355(0x604)](_0x83fe3c);})[_0x3622d5(0x2f2)](this['routerPath'](_0x3622d5(0x2b3)),..._0x7fdeb2,async(_0x375f2e,_0x153a44)=>{const _0x2ce3ed=_0x3622d5;let _0x5e3f2b=await this[_0x2ce3ed(0x44c)]({'request':_0x375f2e,'schema':Da,'ClassRef':yt,'execute':(_0x33e55c,_0x36f2c2)=>B[_0x2ce3ed(0x2b3)](_0x33e55c,_0x36f2c2)});return _0x153a44[_0x2ce3ed(0x84c)](0xc9)[_0x2ce3ed(0x604)](_0x5e3f2b);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x777)),..._0x7fdeb2,async(_0x3a4554,_0x4c99ba)=>{const _0x239389=_0x3622d5;let _0x3bc156=await this[_0x239389(0x44c)]({'request':_0x3a4554,'schema':_a,'ClassRef':bt,'execute':(_0x58453b,_0x3eafcf)=>B[_0x239389(0x777)](_0x58453b,_0x3eafcf)});return _0x4c99ba[_0x239389(0x84c)](0xc9)[_0x239389(0x604)](_0x3bc156);})['post'](this[_0x3622d5(0x453)](_0x3622d5(0x4ec)),..._0x7fdeb2,async(_0x115cc7,_0x4212d8)=>{const _0x45aad0=_0x3622d5;let _0xf8e867=await this['dataValidate']({'request':_0x115cc7,'schema':Ta,'ClassRef':pt,'execute':(_0x494538,_0x119c05)=>B['sendPoll'](_0x494538,_0x119c05)});return _0x4212d8[_0x45aad0(0x84c)](0xc9)[_0x45aad0(0x604)](_0xf8e867);})[_0x3622d5(0x2f2)](this['routerPath']('sendStatus'),..._0x7fdeb2,async(_0x30d1a2,_0x2713c5)=>{const _0x5452d6=_0x3622d5;let _0x4bb752=await this[_0x5452d6(0x44c)]({'request':_0x30d1a2,'schema':va,'ClassRef':dt,'execute':(_0x16e1b1,_0x2d9177)=>B[_0x5452d6(0x59d)](_0x16e1b1,_0x2d9177)});return _0x2713c5['status'](0xc9)['json'](_0x4bb752);})[_0x3622d5(0x2f2)](this[_0x3622d5(0x453)](_0x3622d5(0x50e)),..._0x7fdeb2,async(_0x2246d7,_0x42c205)=>{const _0x37bd90=_0x3622d5;let _0x2fa7ba=await this[_0x37bd90(0x44c)]({'request':_0x2246d7,'schema':Ma,'ClassRef':gt,'execute':(_0x2c5ef1,_0x4d3c9a)=>B[_0x37bd90(0x50e)](_0x2c5ef1,_0x4d3c9a)});return _0x42c205[_0x37bd90(0x84c)](0xc9)['json'](_0x2fa7ba);});}},rr=require(a0_0x124f50(0x7a1)),Et=class{},Ct=class extends U{constructor(..._0x403798){const _0x361de7=a0_0x124f50;super(),this[_0x361de7(0x6f0)]=(0x0,rr[_0x361de7(0x514)])(),this[_0x361de7(0x6f0)]['post'](this['routerPath'](_0x361de7(0x792)),..._0x403798,async(_0x2f2796,_0x55c560)=>{const _0x39bc97=_0x361de7;let _0x2c7376=await this['dataValidate']({'request':_0x2f2796,'schema':Za,'ClassRef':Et,'execute':(_0x45a4a2,_0x21578d)=>ms['createWebhook'](_0x45a4a2,_0x21578d)});_0x55c560[_0x39bc97(0x84c)](0xc9)[_0x39bc97(0x604)](_0x2c7376);})['get'](this[_0x361de7(0x453)]('find'),..._0x403798,async(_0x2d28e3,_0x45c037)=>{const _0xf013b6=_0x361de7;let _0x1b83d3=await this[_0xf013b6(0x44c)]({'request':_0x2d28e3,'schema':v,'ClassRef':S,'execute':_0x2d5cad=>ms[_0xf013b6(0x702)](_0x2d5cad)});_0x45c037[_0xf013b6(0x84c)](0xc8)[_0xf013b6(0x604)](_0x1b83d3);});}},ir=require('express'),y=new N(a0_0x124f50(0x5a3)),Mt=class extends U{constructor(..._0x406cec){const _0x2e99d2=a0_0x124f50;super(),this[_0x2e99d2(0x6f0)]=(0x0,ir[_0x2e99d2(0x514)])(),this[_0x2e99d2(0x6f0)]['post'](this[_0x2e99d2(0x453)](_0x2e99d2(0x68d)),..._0x406cec,async(_0x37b10d,_0x33c4dd)=>{const _0x50a373=_0x2e99d2;let _0x12b180=_0x37b10d[_0x50a373(0x75a)];y[_0x50a373(0x64d)](_0x50a373(0x564)),y[_0x50a373(0x64d)]('request\x20body:\x20'),y['verbose'](_0x37b10d[_0x50a373(0x75a)]);let _0xac52d4=await this[_0x50a373(0x44c)]({'request':_0x37b10d,'schema':v,'ClassRef':S,'execute':_0x432dee=>O[_0x50a373(0x2a7)](_0x432dee,_0x12b180)});_0x33c4dd['status'](0xc8)[_0x50a373(0x604)](_0xac52d4);})[_0x2e99d2(0x45b)](this[_0x2e99d2(0x453)](_0x2e99d2(0x68d)),..._0x406cec,async(_0x52d6b6,_0x253a22)=>{const _0x37b424=_0x2e99d2;let _0x2f83d0=await this[_0x37b424(0x44c)]({'request':_0x52d6b6,'schema':v,'ClassRef':S,'execute':_0x4dfbf0=>O['getScheduleMessage'](_0x4dfbf0)});_0x253a22[_0x37b424(0x84c)](0xc8)[_0x37b424(0x604)](_0x2f83d0);})[_0x2e99d2(0x3bb)](this['routerPath'](_0x2e99d2(0x6f2)),..._0x406cec,async(_0x4d3edf,_0x45bad6)=>{const _0x5ed078=_0x2e99d2;y['verbose'](_0x5ed078(0x681));let _0x5d2ecc=await this[_0x5ed078(0x44c)]({'request':_0x4d3edf,'schema':v,'ClassRef':S,'execute':_0x3f0b59=>O[_0x5ed078(0x6f2)](_0x3f0b59)});_0x45bad6['status'](0xc8)[_0x5ed078(0x604)](_0x5d2ecc);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x23e)),..._0x406cec,async(_0x31f8ea,_0x21866d)=>{const _0xc7eeb5=_0x2e99d2;let _0x58dec0=_0x31f8ea['body'];y[_0xc7eeb5(0x64d)]('request\x20received\x20in\x20starFlow'),y['verbose'](_0xc7eeb5(0x732)),y[_0xc7eeb5(0x64d)](_0x31f8ea[_0xc7eeb5(0x75a)]);let _0x19dff3=await this['dataValidate']({'request':_0x31f8ea,'schema':v,'ClassRef':S,'execute':_0x209bb1=>O[_0xc7eeb5(0x23e)](_0x209bb1,_0x58dec0)});_0x21866d[_0xc7eeb5(0x84c)](0xc8)[_0xc7eeb5(0x604)](_0x19dff3);})[_0x2e99d2(0x45b)](this['routerPath'](_0x2e99d2(0x3c4)),..._0x406cec,async(_0x5eb2eb,_0x2c6803)=>{const _0x5e5043=_0x2e99d2;y[_0x5e5043(0x64d)]('request\x20received\x20in\x20getAutomateSystem');let _0x42bb74=await this[_0x5e5043(0x44c)]({'request':_0x5eb2eb,'schema':v,'ClassRef':S,'execute':_0x33f6ab=>O[_0x5e5043(0x3c4)](_0x33f6ab)});_0x2c6803[_0x5e5043(0x84c)](0xc8)[_0x5e5043(0x604)](_0x42bb74);})[_0x2e99d2(0x45b)](this[_0x2e99d2(0x453)](_0x2e99d2(0x1ef)),..._0x406cec,async(_0x34d0ed,_0x3b95eb)=>{const _0x1b91b8=_0x2e99d2;y[_0x1b91b8(0x64d)](_0x1b91b8(0x451));let _0x56413e=await this[_0x1b91b8(0x44c)]({'request':_0x34d0ed,'schema':v,'ClassRef':S,'execute':_0x18e905=>O[_0x1b91b8(0x3c4)](_0x18e905)});_0x3b95eb[_0x1b91b8(0x84c)](0xc8)['json'](_0x56413e);})['post'](this['routerPath'](_0x2e99d2(0x421)),..._0x406cec,async(_0x1c0585,_0x4d87d6)=>{const _0x4a6350=_0x2e99d2;let _0x3149b6=_0x1c0585[_0x4a6350(0x75a)];y[_0x4a6350(0x64d)]('request\x20received\x20in\x20updateAgent'),y[_0x4a6350(0x64d)]('request\x20body:\x20'),y[_0x4a6350(0x64d)](_0x1c0585['body']);let _0x468bed=await this[_0x4a6350(0x44c)]({'request':_0x1c0585,'schema':v,'ClassRef':S,'execute':_0xb9cb03=>O[_0x4a6350(0x421)](_0xb9cb03,_0x3149b6)});_0x4d87d6['status'](0xc8)[_0x4a6350(0x604)](_0x468bed);})['post'](this[_0x2e99d2(0x453)](_0x2e99d2(0x78a)),..._0x406cec,async(_0x2b9933,_0x5edd86)=>{const _0x3f40cc=_0x2e99d2;let _0x3a9b9e=_0x2b9933[_0x3f40cc(0x75a)];y['verbose'](_0x3f40cc(0x46c)),y[_0x3f40cc(0x64d)](_0x3f40cc(0x732)),y[_0x3f40cc(0x64d)](_0x2b9933[_0x3f40cc(0x75a)]);let _0x3b40cc=await this[_0x3f40cc(0x44c)]({'request':_0x2b9933,'schema':v,'ClassRef':S,'execute':_0x5839b9=>O[_0x3f40cc(0x78a)](_0x5839b9,_0x3a9b9e)});_0x5edd86['status'](0xc8)['json'](_0x3b40cc);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)]('updateFlowConfig'),..._0x406cec,async(_0x2c8bb1,_0x318ae1)=>{const _0x2af460=_0x2e99d2;let _0x580685=_0x2c8bb1[_0x2af460(0x75a)];y[_0x2af460(0x64d)](_0x2af460(0x4ae)),y[_0x2af460(0x64d)](_0x2af460(0x732)),y['verbose'](_0x2c8bb1[_0x2af460(0x75a)]);let _0x17d2c8=await this[_0x2af460(0x44c)]({'request':_0x2c8bb1,'schema':v,'ClassRef':S,'execute':_0x14018d=>O[_0x2af460(0x516)](_0x14018d,_0x580685)});_0x318ae1[_0x2af460(0x84c)](0xc8)[_0x2af460(0x604)](_0x17d2c8);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x218)),..._0x406cec,async(_0x348d07,_0xcc3f32)=>{const _0x2aaac8=_0x2e99d2;let _0x1878a7=_0x348d07['body'];y[_0x2aaac8(0x64d)](_0x2aaac8(0x444)),y[_0x2aaac8(0x64d)](_0x2aaac8(0x732)),y[_0x2aaac8(0x64d)](_0x348d07[_0x2aaac8(0x75a)]);let _0x10273a=await this[_0x2aaac8(0x44c)]({'request':_0x348d07,'schema':v,'ClassRef':S,'execute':_0x340afc=>O['getConversation'](_0x340afc,_0x1878a7)});_0xcc3f32[_0x2aaac8(0x84c)](0xc8)['json'](_0x10273a);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)]('fetchConversation'),..._0x406cec,async(_0x1e3396,_0xe09f45)=>{const _0x1a4ff2=_0x2e99d2;let _0x1ec7b8=_0x1e3396[_0x1a4ff2(0x75a)];y[_0x1a4ff2(0x64d)](_0x1a4ff2(0x7f5)),y[_0x1a4ff2(0x64d)](_0x1a4ff2(0x732)),y[_0x1a4ff2(0x64d)](_0x1e3396[_0x1a4ff2(0x75a)]);let _0x12ef86=await this[_0x1a4ff2(0x44c)]({'request':_0x1e3396,'schema':v,'ClassRef':S,'execute':_0x5734d3=>O[_0x1a4ff2(0x7a7)](_0x5734d3,_0x1ec7b8)});_0xe09f45[_0x1a4ff2(0x84c)](0xc8)[_0x1a4ff2(0x604)](_0x12ef86);})[_0x2e99d2(0x2f2)](this['routerPath'](_0x2e99d2(0x4f1)),..._0x406cec,async(_0x4509d7,_0x419ee6)=>{const _0x2c31cd=_0x2e99d2;let _0x21cd4a=_0x4509d7[_0x2c31cd(0x75a)];y[_0x2c31cd(0x64d)](_0x2c31cd(0x1ec)),y[_0x2c31cd(0x64d)](_0x2c31cd(0x732)),y[_0x2c31cd(0x64d)](_0x4509d7[_0x2c31cd(0x75a)]);let _0x205a3e=await this['dataValidate']({'request':_0x4509d7,'schema':v,'ClassRef':S,'execute':_0x15ef4c=>O[_0x2c31cd(0x4f1)](_0x15ef4c,_0x21cd4a)});_0x419ee6['status'](0xc8)[_0x2c31cd(0x604)](_0x205a3e);})['delete'](this[_0x2e99d2(0x453)](_0x2e99d2(0x83a)),..._0x406cec,async(_0x34a2a1,_0x5287db)=>{const _0x47aa43=_0x2e99d2;let _0x4d8bae=_0x34a2a1[_0x47aa43(0x75a)];y[_0x47aa43(0x64d)](_0x47aa43(0x69e)),y[_0x47aa43(0x64d)](_0x47aa43(0x732)),y[_0x47aa43(0x64d)](_0x34a2a1[_0x47aa43(0x75a)]);let _0x5f0f77=await this['dataValidate']({'request':_0x34a2a1,'schema':v,'ClassRef':S,'execute':_0x4f7256=>O[_0x47aa43(0x83a)](_0x4f7256,_0x4d8bae)});_0x5287db[_0x47aa43(0x84c)](0xc8)[_0x47aa43(0x604)](_0x5f0f77);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x375)),..._0x406cec,async(_0x3708f7,_0x785637)=>{const _0x262971=_0x2e99d2;let _0x539824=_0x3708f7['body'];y[_0x262971(0x64d)](_0x262971(0x4be)),y['verbose'](_0x262971(0x732)),y['verbose'](_0x3708f7['body']);let _0x39705b=await this[_0x262971(0x44c)]({'request':_0x3708f7,'schema':v,'ClassRef':S,'execute':_0x5d347d=>O[_0x262971(0x465)](_0x5d347d,_0x539824)});_0x785637[_0x262971(0x84c)](0xc8)[_0x262971(0x604)](_0x39705b);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x35a)),..._0x406cec,async(_0x2e3a9e,_0x418d3c)=>{const _0xc19b96=_0x2e99d2;let _0x4e5dad=_0x2e3a9e[_0xc19b96(0x75a)];y['verbose'](_0xc19b96(0x2d3)),y[_0xc19b96(0x64d)](_0xc19b96(0x732)),y[_0xc19b96(0x64d)](_0x2e3a9e[_0xc19b96(0x75a)]),delete _0x4e5dad['blocks'],delete _0x4e5dad['variables'],delete _0x4e5dad[_0xc19b96(0x65d)],delete _0x4e5dad['conditions'];let _0xcb04c1=await this[_0xc19b96(0x44c)]({'request':_0x2e3a9e,'schema':v,'ClassRef':S,'execute':_0x380a0d=>O[_0xc19b96(0x6e5)](_0x380a0d,_0x4e5dad)});_0x418d3c[_0xc19b96(0x84c)](0xc8)[_0xc19b96(0x604)](_0xcb04c1);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x62c)),..._0x406cec,async(_0x4297f1,_0x3aa043)=>{const _0x1a5d31=_0x2e99d2;let _0x3c4684=_0x4297f1[_0x1a5d31(0x75a)];y[_0x1a5d31(0x64d)](_0x1a5d31(0x2d3)),y[_0x1a5d31(0x64d)]('request\x20body:\x20'),y['verbose'](_0x4297f1['body']);let _0x2756b2=await this[_0x1a5d31(0x44c)]({'request':_0x4297f1,'schema':v,'ClassRef':S,'execute':_0x2298ae=>O[_0x1a5d31(0x446)](_0x2298ae,_0x3c4684)});_0x3aa043[_0x1a5d31(0x84c)](0xc8)[_0x1a5d31(0x604)](_0x2756b2);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x4db)),..._0x406cec,async(_0x1b593f,_0x3fa748)=>{const _0x46ac02=_0x2e99d2;let _0x5e1bed=_0x1b593f['body'];y['verbose'](_0x46ac02(0x2d3)),y[_0x46ac02(0x64d)](_0x46ac02(0x732)),y[_0x46ac02(0x64d)](_0x1b593f[_0x46ac02(0x75a)]);let _0x365f3a=await this[_0x46ac02(0x44c)]({'request':_0x1b593f,'schema':v,'ClassRef':S,'execute':_0x316321=>O[_0x46ac02(0x377)](_0x316321,_0x5e1bed)});_0x3fa748[_0x46ac02(0x84c)](0xc8)[_0x46ac02(0x604)](_0x365f3a);})[_0x2e99d2(0x2f2)](this['routerPath'](_0x2e99d2(0x7d2)),..._0x406cec,async(_0x1b1e73,_0x2eb3d8)=>{const _0x5530ac=_0x2e99d2;let _0x4af349=_0x1b1e73[_0x5530ac(0x75a)];y[_0x5530ac(0x64d)](_0x5530ac(0x2d3)),y['verbose'](_0x5530ac(0x732)),y[_0x5530ac(0x64d)](_0x1b1e73[_0x5530ac(0x75a)]);let _0x20a37a=await this[_0x5530ac(0x44c)]({'request':_0x1b1e73,'schema':v,'ClassRef':S,'execute':_0x4ad72c=>O['editFlowVaredit'](_0x4ad72c,_0x4af349)});_0x2eb3d8[_0x5530ac(0x84c)](0xc8)[_0x5530ac(0x604)](_0x20a37a);})[_0x2e99d2(0x2f2)](this['routerPath'](_0x2e99d2(0x6dc)),..._0x406cec,async(_0x282e8c,_0x3caad4)=>{const _0x2088eb=_0x2e99d2;let _0x1b3cd6=_0x282e8c['body'];y[_0x2088eb(0x64d)](_0x2088eb(0x4df)),y[_0x2088eb(0x64d)](_0x2088eb(0x732)),y[_0x2088eb(0x64d)](_0x282e8c[_0x2088eb(0x75a)]);let _0x142305=await this[_0x2088eb(0x44c)]({'request':_0x282e8c,'schema':v,'ClassRef':S,'execute':_0x5244f2=>O[_0x2088eb(0x85e)](_0x5244f2,_0x1b3cd6)});_0x3caad4[_0x2088eb(0x84c)](0xc8)[_0x2088eb(0x604)](_0x142305);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)](_0x2e99d2(0x27c)),..._0x406cec,async(_0x44c0d5,_0x4eba06)=>{const _0x400f9a=_0x2e99d2;let _0x5661fe=_0x44c0d5[_0x400f9a(0x75a)];y[_0x400f9a(0x64d)](_0x400f9a(0x52a)),y[_0x400f9a(0x64d)]('request\x20body:\x20'),y['verbose'](_0x44c0d5[_0x400f9a(0x75a)]);let _0x2f9b1f=await this[_0x400f9a(0x44c)]({'request':_0x44c0d5,'schema':v,'ClassRef':S,'execute':_0x1941e1=>O[_0x400f9a(0x721)](_0x1941e1,_0x5661fe)});_0x4eba06[_0x400f9a(0x84c)](0xc8)[_0x400f9a(0x604)](_0x2f9b1f);})[_0x2e99d2(0x2f2)](this['routerPath'](_0x2e99d2(0x337)),..._0x406cec,async(_0x1c8cb4,_0x282c5e)=>{const _0x55a67b=_0x2e99d2;let _0x27dc46=_0x1c8cb4[_0x55a67b(0x75a)];y[_0x55a67b(0x64d)]('request\x20received\x20in\x20editFlowvariable'),y[_0x55a67b(0x64d)](_0x55a67b(0x732)),y[_0x55a67b(0x64d)](_0x1c8cb4['body']);let _0x4fa761=await this[_0x55a67b(0x44c)]({'request':_0x1c8cb4,'schema':v,'ClassRef':S,'execute':_0x58a419=>O[_0x55a67b(0x6ba)](_0x58a419,_0x27dc46)});_0x282c5e[_0x55a67b(0x84c)](0xc8)['json'](_0x4fa761);})[_0x2e99d2(0x2f2)](this[_0x2e99d2(0x453)]('getflow'),..._0x406cec,async(_0x2e983c,_0x244645)=>{const _0x4b561f=_0x2e99d2;let _0x2d6e62=_0x2e983c[_0x4b561f(0x75a)];y[_0x4b561f(0x64d)](_0x4b561f(0x2b1)),y['verbose']('request\x20body:\x20'),y[_0x4b561f(0x64d)](_0x2e983c['body']);let _0x4ec39b=await this[_0x4b561f(0x44c)]({'request':_0x2e983c,'schema':v,'ClassRef':S,'execute':_0x328422=>O[_0x4b561f(0x31d)](_0x328422,_0x2d6e62)});_0x244645[_0x4b561f(0x84c)](0xc8)[_0x4b561f(0x604)](_0x4ec39b);})[_0x2e99d2(0x3bb)](this[_0x2e99d2(0x453)](_0x2e99d2(0x26a)),..._0x406cec,async(_0x15aecb,_0x430bb7)=>{const _0x2c8c8a=_0x2e99d2;let _0x350253=_0x15aecb[_0x2c8c8a(0x75a)];y[_0x2c8c8a(0x64d)](_0x2c8c8a(0x576)),y[_0x2c8c8a(0x64d)](_0x2c8c8a(0x732)),y['verbose'](_0x15aecb[_0x2c8c8a(0x75a)]);let _0x298e4a=await this[_0x2c8c8a(0x44c)]({'request':_0x15aecb,'schema':v,'ClassRef':S,'execute':_0x46cc04=>O[_0x2c8c8a(0x432)](_0x46cc04,_0x350253)});_0x430bb7['status'](0xc8)[_0x2c8c8a(0x604)](_0x298e4a);})[_0x2e99d2(0x45b)](this['routerPath'](_0x2e99d2(0x6cc)),..._0x406cec,async(_0xbf9332,_0x100b4f)=>{const _0x26178b=_0x2e99d2;y['verbose']('request\x20received\x20in\x20allFlows');let _0x2bb110=await this['dataValidate']({'request':_0xbf9332,'schema':v,'ClassRef':S,'execute':_0x1fadc7=>O['allFlows'](_0x1fadc7)});_0x100b4f[_0x26178b(0x84c)](0xc8)[_0x26178b(0x604)](_0x2bb110);});}},lr=T(require('path')),Y={};function or(_0x697e26,_0x1a6635,_0x33470b,_0x3ecf79){Y[_0x697e26]||(Y[_0x697e26]={}),Y[_0x697e26][_0x1a6635]={'id':_0x1a6635,'response':_0x33470b,'events':_0x3ecf79};}function a0_0x125b(){const _0xc25ad8=[':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','request\x20received\x20in\x20deleteConversation','CORS_METHODS','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','ENABLED','connectionUpdate','\x20tentativas:\x20remotejid=','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','PORT','protocolMessage','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','formatBRNumber','uazapiDeleteMessage','process','/group','stanzaId','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','title','writeFile','DATABASE_CONNECTION_DB_PREFIX_NAME','role','compression','DisconnectReason','STORE_CLEANING_TERMINAL','updateOnlinePrivacy','toBRL','Erro\x20ao\x20remover\x20label\x20','Comando\x20desconhecido','\x20minutos.\x20Será\x20às\x20','editFlowVariable','CONNECTION','Fluxo\x20não\x20encontrado','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','groupParticipantsUpdate','messageTimestamp','\x1b[36m%s\x1b[0m','videoMessage','includes','contactname','):\x20Editando\x20edição\x20do\x20fluxo...','error_log','tags','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','HttpsProxyAgent','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','allflows','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','contextInfo','webhookService','):\x20Criando\x20fluxo\x20compartilhado...','oldValue','The\x20property\x20cannot\x20be\x20empty','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','pollCreationMessageV3','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','getLastMessage','lastmsg','contactMessage','start','limit','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','editflowgroup','buffer','formatVCard','createNewConversation','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','SendScheduleMessage','stopped','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','editFlow','Error\x20updating\x20privacy\x20settings','jsonschema','messageType','audioWhatsapp','Conversa\x20deletada\x20com\x20sucesso.','reconnectAttempts','Read\x20messages\x20fail','context','charAt','getUpdate','router','ERROR:\x20','deleteDoneMessages','fetchMessages','StartBot','scheduleNextCheck','PRIVKEY','ex:\x20\x22groupJid=120362@g.us\x22','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','ignoreGroups','https://api.ipify.org?format=json','truncatedto','and','viewOnceMessage','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','PASSWORD','https://jsonip.com','#ffae04','findWebhook','46161410mvTguA','updateOneById','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','express-async-errors',',\x20Segundo\x20Valor:\x20','blocks','findAndReplaceRegex','DATABASE_ENABLED','reactionMessage','automateSystem','CHATS_SET','restart','Instância\x20não\x20encontrada.','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','groupName','getStatus','sharePass','video','stopIfLastReturnedError','initAuthCreds','^\x5cd+[\x5c.@\x5cw-]+','isArray','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20updateResult:','width','ids',',\x20valor\x20passado:\x20\x22','):\x20Bloco\x20original\x20para\x20cópia:\x20','Error\x20fetching\x20group','groupAcceptInvite','editFlowCondition','defineAuthState','getContentType','jwt','\x1b[33m%s\x1b[0m','Instância:\x20','Data\x20inválida\x20fornecida','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x20horas\x20e\x20','useMultiFileAuthState','textMessage','output','application/json','deleteMessageForEveryone','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[0m','request\x20body:\x20','loadEnv','statusCode','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Criou\x20conversa\x20no\x20startFlow:','cleanStore','.TEL;waid=','unlinkSync','deleteAll','updateMissingLabels','^\x5cd+([-]\x5cd+)*@g.us$','#ffc5c7','createConversationforStartFlow','/clients-info','blockId',',\x20fará\x20nova\x20verificação\x20em\x20','@newsletter','http://checkip.dyndns.org','sectionsToString','\x1b[47m','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','ButtonsMessage','Erro\x20ao\x20sincronizar\x20fluxos:\x20','$pull','app','action','./.git/config','remoteJidsRemaining','?authSource=admin&readPreference=primary&directConnection=true','inner','#fed428','\x20contacts','moreLogs','url','cpf','round','):\x20Error\x20processing\x20conditions:\x20','writeData','):\x20Ler\x20mensagem','detail','body','indexOf','Read\x20messages','28FQKIbe','cleaningUp','saveChatVariables','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Erro\x20ao\x20editar\x20a\x20conversa:\x20','.gif','env.KEY\x20!==\x20key','Sending\x20audio\x20whatsapp','/media/','AutomateSystem\x20não\x20foi\x20inicializado','importChatsBatch','/create','saveMediaToFile','Schema','MESSAGES_SET','type','http://icanhazip.com/','Error\x20while\x20deleting\x20message\x20for\x20everyone','createConversationforgoToFlow','Module\x20-\x20ON','createSectionsFromValues','JWT','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','presence.update','delayChatLabel_MAX_RETRIES','sendReaction','vote','crypto','demote','data','\x1b[40m','greater','replyOptions','updateConversation','addReplyOption','Imagem\x20não\x20encontrada','toString','):\x20conversation.status:\x20','Erro\x20do\x20Certbot:\x20','):\x20Erro\x20ao\x20editar\x20agentes:\x20','1909509jGYYlc','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','add','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','updateCustomFields','function','):\x20Entrou\x20na\x20função\x20goToFlow','#000000','Converted\x20image\x20deleted','messageContextInfo','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','findOrCreate','set','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','updateMediaMessage','/automate','contacts.update','listResponseMessage','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','sha256','protocol','chats.upsert','deleteMany','object','.error','leadInfo','sendMessageWithTyping','express','\x20is\x20already\x20in\x20use.','\x20minutos','flowPrefixCommand','chatHandle','https://github.com/uazapi/uazapi.git','fetchConversation','throwAndLogError','cors','pino','ContactModel','):\x20nextBlock.uazapi.name','/wa-connection-update','URL','Audio\x20processed','jpegThumbnail','address','scheduleMessages','getHours','getConversationModelForOwner','convertToWebP','msgRetryCounterCache','findOneAndUpdate','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','optionName','equal','message_normalized','DATABASE_CONNECTION_URI','http','enviado\x20para','18538lIgOzp','makeCacheableSignalKeyStore','updatePrivacySettings','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','processblock','Error\x20updating\x20setting','connectToWhatsapp','Subscribed\x20Events:','replaceValue','):\x20Conversa\x20está\x20expirada','LOG_LEVEL','FULLCHAIN','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','query','Flow\x20iniciado\x20com\x20','urlOrBase64','Variáveis\x20não\x20encontradas:','ListMessage','\x20ao\x20chat\x20','editflowvaredit','deleted','DOCKER_ENV','options','Selecione','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x5c$&','use','folder','saveTextReply','everyOne','#ffffff','Instance\x20deleted','setUpdate','newStoppedUntil','lastReceivedMessage','deleteChat','):\x20Enviando\x20mídia','formatStatusMessage','editChat','BRL','webp','where','):\x20Conversas\x20encontradas:','\x20minutos...','readMessages','Error\x20updating\x20profile\x20name','locked','OrAnd','/config','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','not\x20loaded','groups.upsert','creds.update','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','request\x20received\x20in\x20fetchConversation','reconnectTimestamps','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','waitingMenu_ExpiredMessage','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','port','list','findOne','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','localWebhook','noConnection','conversation','messaging-history.set','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','http://ipecho.net/plain','.mp3','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','MessageModel','silent','Group\x20not\x20found','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','verify','Image\x20converted\x20to\x20WebP','allContacts','markMessageAsRead','dbSettings','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','pop','Safari\x20(MacOS)','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','isBusiness','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','.wav','when','config','pollCreationMessageV2','exports','segundos','find','pollMessageOnDelete','listType','Falta\x20informação\x20para\x20a\x20chamada\x20API','#01d0e2','SSL_CONF','):\x20Bloco\x20com\x20ID\x20','chatLog','variablesToObject','_activatedCount','\x5cd+','next_groupId','buttons','):\x20Entrou\x20na\x20função\x20saveReply','substring','Variável\x20não\x20encontrada!',']\x20(','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','delayChatLabel_RETRY_DELAY_MS','Getting\x20image\x20from\x20url','subdomain','nomecompleto','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','wuid','conditions','color','177330uDVqFb','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20','deleteConversation','):\x20delete\x20=\x20true','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Deleted\x20','Fetching\x20business\x20profile','selectedOptions','menuType','findByIdAndUpdate','Business\x20profile\x20fetched','):\x20Buscando\x20conversas...','):\x20this.processingScheduleMessageId:\x20','TEL','toLowerCase','ScheduleMessageModel','userDevicesCache','fetchProfilePictureUrl','):\x20[messages.update]\x20group\x20ignored','status','media','namespace','updateMissingEtiquetas','status.instance','connectedName','replaceVariablesLogs','participants','Unable\x20to\x20leave\x20the\x20group','LICENSE_INVALID','redirect',':\x20Erro\x20durante\x20loadproxy\x20-\x20','createClient','readFile','groupJid','URL\x20limpa:\x20','findById','AutomateFunctions','editFlowGroup','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','ObjectId','importChats','processPollUpdateMessage','requestPairingCode','?timestamp=','utf-8','authModel','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','assign','isInteger','deletedCount','pt-BR','50mb',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','readdirSync','http://ip-api.com/json','instanceCount','):\x20Comando\x20desconhecido:\x20','#d3a91f','16417431TCISve','customFields','Type\x20not\x20found','API_KEY','all','parse','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Validate','ephemeralMessage','leadInfo.customFields','LEVEL','flowStopConversation','values','ReplyOptions\x20finais\x20após\x20reordenação:','#9ab6c1','SUCCESS','SERVER_TYPE','SINGLE_SELECT','push','archived','pollCreationMessageKey','hGetAll','augusto.fcs@gmail.com','request\x20received\x20in\x20editConversation','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','getTicketSystem','DATABASE','downloads','unreadcount','setRestartTimer','imagechat','Type\x20is\x20required','entries','removeOlderDisconnectedInstances','):\x20Procurando\x20mensagens\x20para\x20envio','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x20-\x20retornado:\x20','menuExpiredMessage','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','key','):\x20customFieldVariables','online','delayMessage','getMessageModelForOwner','minutesToClose','lastDisconnect','groupId','password','linkPreview','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','responsavelid','/events','uazapiSendAudio','Instance\x20ID:','\x22\x20-\x20REMOVED','Notifying\x20clients\x20for\x20chat:\x20','child_process','instance','whatsappNumbers','console','checkAndRestartProcess','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','#00a1f2','groupCreate','encoding','getConversation','1269230UujadU','pollOnReplyDelete','blockLogs','_id','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','user','join','statusJidList','Desconectado,\x20parando\x20execução.','-whatsapp-api','default','getLabelModelForOwner','Erro\x20inesperado\x20em\x20processvaredits:\x20','abs','):\x20Query\x20params:','removeChatLabel','latitude','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Database\x20is\x20not\x20enabled','findGroup','processApiRequest','Erro\x20ao\x20atualizar\x20conversa:\x20','flowname:\x20','length','readMessageBot','requestFile','\x20quoted:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','webhook','timerId','dbServer','):\x20Flow\x20não\x20encontrado','stopMinutes','removeInstance','value','temp-','getFlowModelForOwner','startFlow','notMatchRegex','Log\x20out\x20instance:\x20','loggedOut','76zXLzPW','):\x20teve\x20mudanças\x20chat.archived:\x20','state','caption','fetchInstances','EXPIRIN_IN','mongoose','$dbName','recording','Instance\x20\x22','@whiskeysockets/baileys','Output\x20path:\x20','insert','sendList','updateProfileStatus','quoted','messageHandle','):\x20Não\x20achou\x20nenhum\x20flow','size','documentMessage','Types','sendText','loadInstance',',\x20saindo.','put','^\x5cd+','/wa-groups','insertMany','headers','info','getContactModelForOwner','replace','resetReconnectionVariables','$set','arraybuffer','badSession','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','evaluateCondition','reaction','now','deleteflow','exit','response','setWebhook','gifPlayback','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','CONNECTION_UPDATE','lowerCase','.mp4','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','sendAudio','\x1b[37m%s\x1b[0m','getMIMEType','lean','messageId','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','keep-alive','editflowcondition','ORG:','groupRevokeInvite','):\x20Falha\x20ao\x20deletar\x20mensagem.','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','DELETED','SERVER_ACK','findAll','pollMessage','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','emit','\x20do\x20chat\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','lastMessage','vcard','prefixCommand','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','sendDataWebhook','getVariablesChat','secondValue','newValue','Erro\x20ao\x20remover\x20instâncias\x20antigas:','createInstance','delay','/instance/create','eventEmitter','data:\x20','realVariables','toNumber','fetchLatestBaileysVersion','):\x20Enviando\x20áudio','pairingCode','Erro\x20ao\x20atualizar\x20o\x20flow.','setting','chats','):\x20conversation.waitingMenu_name','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','save','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','119qdXtvN','Chrome','editScheduleMessage','presenceSubscribe','\x1b[31m%s\x1b[0m','EMAIL:','/events/:instance','host','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','connection.update','label','Last\x20message\x20not\x20found\x20for\x20number:','request\x20received\x20in\x20getFlow','fetchContacts','sendContact','stringify','No\x20invite\x20code','testProxy','\x20não\x20encontrado\x20para\x20cópia','Início','qrcode.updated','API\x20Key\x20inválida.','findAndReplace','updateProfileName','MESSAGES_UPSERT','Fluxos\x20não\x20estão\x20ativados','currency','removed','\x20not\x20found,\x20retrying\x20in\x20','createSharedFlow','messages','backgroundColor','desativadoFluxoAte','updateMessage','cwd','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','messages.upsert','CLEANING_INTERVAL','findFlow','https://api.openai.com/v1/images/generations','#ff9484','updateLastSeenPrivacy','):\x20Criando\x20fluxo\x20regular...','participant','connectionStatus','isListOfNumbers','request\x20received\x20in\x20editFlow','Error\x20in\x20chatModify\x20for\x20number\x20','findGroupInfos','):\x20Deletando\x20conversa...','processingScheduleMessageId','profile','Erro\x20ao\x20importar\x20chats:','fetchStatus','Esse\x20fluxo\x20expirou','webhookMap','Error\x20in\x20converting\x20audio','AUTHENTICATION_JWT_EXPIRIN_IN','matchRegex','InstancesAsDisconnectedX','contactsArrayMessage','unhandledRejection','expiration','prepareWAMessageMedia','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','inviteCode','replaceVariablesInObject','\x20}\x0a','.png','}}\x20->\x20\x22','instanceName\x20not\x20provided.','static','LOG_COLOR','views','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','sleep','choices','post',',\x20lastCondition:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','STORE_MESSAGE','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','}}\x20->\x20valor\x20não\x20encontrado','audio','variablesNotFound','licenca','#92ceac','mentions','\x20-i\x20','readData','text','processUazapi','content-type','_error','):\x20Erro\x20ao\x20buscar\x20conversas\x20','reorderBlocks','waitingMenu_text','description','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','/exit','audio/mp4','qrCode','repeat','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Parando\x20aplicação...','updateStatusPrivacy','pushName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','keys','Erro\x20ao\x20editar\x20o\x20chat:\x20','getMinutes','updateMissingCustomFields','lastInteraction','documentWithCaptionMessage','flushHeaders','shift','exists','update','g.us','ephemeralExpiration','getFlow','createHash','readreceipts',':\x20IP\x20configurado:\x20','mongodb','padStart','ini','KEY','#9ba6ff','upperCase','GROUPS_UPDATE','lastSend','variables','dark','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20isVote:\x20','REDIS','stderr','max','isRunning',',\x20Resultado:\x20','firstValue','isJWT','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','done','Rótulo\x20atualizado:','editflowvariable','endsWith','downloadMediaMessage','toBrazilianNumberFormat','hSet','redis://127.0.0.1:6379','auth','AddChatLabel','long','https-proxy-agent','getDevice','test','utf8','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','username',':\x20IP\x20funcionando!','video-cover.png','LOG','\x20after\x20','padEnd','):\x20Dados\x20migrados\x20com\x20sucesso','goNextblock','errorLog','chat','name','updateGParticipant','no.connection','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','restartInstance','nome','Erro\x20ao\x20atualizar\x20AutomateSystem:','order',',\x20Comparador:\x20','getTime','editflow','item','mongodb://','RECONNECT_TIME_FRAME','Cannot\x20','ultimaTentativaRemoteJid','groupHandler','groupSetting','base64','deleteMessage','boolean','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','unlocked','CONTACTS_UPDATE','):\x20Mensagem\x20já\x20enviada\x20para\x20','deleteInstance','AUTHENTICATION_JWT_SECRET','redis','Erro\x20de\x20reinicialização:\x20','toFile','!cmd_','fetchProfile','instanceName','modifiedCount','PRODUCT_LIST','getDelay','delaySecMin','createflow','AUTHENTICATION_API_KEY','editFlowReply','addresss','DARK','reviver','existsSync','/chat','The\x20','setHeader','Erro\x20ao\x20copiar\x20dados:','instanceInfo','isConnected','dbClient','Chat\x20','\x20mensagens\x20de\x20','Image\x20path:\x20','../env.yml','code','):\x20Flow\x20desativado','statSync','_Messages','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','sort','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','addChatLabel','.ogv','subject','Error\x20updating\x20profile\x20status','email','Erro\x20de\x20atualização:\x20','groupDesc','@redis/client','_Contacts','onWhatsApp','delAll','contains','):\x20expirationTime:\x20','agents','messages.set','CHATS_UPDATE','CONECTADO\x20À\x20UAZAPI','):\x20Erro\x20durante\x20a\x20atualização:\x20','flattenObject','lastSendMessage','sendMessage','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','labelId','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','/instance/connectionState','PLAYED','application/octet-stream','.ogg','Mensagem\x20não\x20suportada','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','deleteOne','convert','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','fetchLabels','https://api.elevenlabs.io/v1/text-to-speech/','path','writeFileSync','log','sendWhatsAppAudio','Contacts\x20not\x20found','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','https://uazapi-plugin.bubbleapps.io/','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateBlock','create','delete','loadproxy','available','locationMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20tem\x20blocks','Erro\x20ao\x20buscar\x20conversas:\x20','addBlock','#dfaef0','getAutomateSystem','PENDING','fileLength','conversationTimestamp','fone','view\x20engine','ChatModel','format','mentioned','message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','GROUP_PARTICIPANTS_UPDATE','flowConversation','extractMessageContent','/media','3794728syXTVp','uuid','\x1b[33m','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Usando\x20extensão\x20padrão:\x20','.webp','updateReplyOption','birthtime','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','TYPE','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','\x1b[1m','convertaudio','Invalid\x20format','\x1b[32m%s\x1b[0m','/instance/fetchInstances','buttonId','last_update','oldToken','joinGroupValidate','subjectTime','created','Número:\x20','groupUpdateDescription','findMessages','contact_blacklist','):\x20Iniciando\x20bot...','jsonwebtoken','sendButtons','instancias:\x20','chatModify','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','apply','buttonMessage','status@broadcast','Não\x20respondeu\x20com\x20a\x20enquete.','VERBOSE','open','READ','capitalizedWords','):\x20debug\x20alterando\x20this.AutomateSystem','connectionState','random','axios','uazapiSendText','some','group-participants.update','SEND_MESSAGE','deleteBlock','Error\x20occurred\x20while\x20archiving\x20chat:\x20','release','E-mail:\x20','contacts','fullName','Atualização:\x20','Content-Type','):\x20Editando\x20variável\x20do\x20fluxo...','rows','groups.update','findConversation','findParticipants','replacer','):\x20Campos\x20a\x20serem\x20atualizados:','Erro\x20ao\x20deletar\x20mensagens:','execSync','less','Chat\x20com\x20ID\x20','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','node-cache','findIndex','editOperator','Temp\x20image\x20deleted','website','updateProfilePicture','upsertedCount','dropCollection','waitingMenu_id','updateAgent','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Missing\x20global\x20api\x20key','https://uazapi-plugin.bubbleapps.io/?url=','changeVariables','min','goToFlow','InstancesAlterarTodas','updateProfilePicturePrivacy','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','command','createWebhook','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','app-state-sync-key','deleteFlow','from','getScheduleMessageModelForOwner','--standalone','This\x20name\x20','WebhookGlobal','pre','connecting','unavailable','bateu\x20events','Label\x20','getMessage','repository','saveConversationToDatabase','/*.json','stdout','waMonitor','creds.json','request\x20received\x20in\x20getConversation','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','editFlowBlock','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','uazapi','.docx','\x20com\x20sucesso.','envYaml','dataValidate','DATABASE_CONNECTION_USER','/message','DB_PREFIX_NAME','\x20não\x20encontrado','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','match_last_seen','routerPath','getRandomText','document','Erro\x20ao\x20adicionar\x20label\x20','updateOne','STATUS_INSTANCE','@g.us','flowIgnoreGroups','get','):\x20Procurando\x20conversa','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','processgoToFlow','GUARD','loadWebhook','reorderReplyOptions','SERVER_OFFLINE','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','NextBlock','createFlow','insertCount','stateConnection','maxActives','COLOR','delaySecMax','isLong','request\x20received\x20in\x20updateCustomFields','count','defineProperty','groupInviteCode','):\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20editar\x20agentes:\x20','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','readMessage','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','fetchBusinessProfile','processConditionsTest','listen','/wa-message','Authentication\x20error','notEmpty','Error\x20creating\x20group','connectedClient','selectableCount','copyDataToNewModel','\x1b[43m','spawn','labels.edit','@s.whatsapp.net','flow','trim','originalUrl','.doc','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','upsertChats','No\x20participants','collection','Content\x20is\x20required','Bad\x20Request','Bloco\x20com\x20ID\x20','SSL_CONF_PRIVKEY','CREDENTIALS','updateMany','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','footerText','chats.delete','):\x20newSecondValue\x20após\x20replaceVariables:','PREFIX_KEY','digest','/wa-chats','profilePictureUrl','paused','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Resultado\x20da\x20atualização:','Message\x20not\x20found','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','/instance','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Image\x20is\x20base64','ConversationModel','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','waitingMenu_replyOptions','fetchChats','.pptx','\x20Tentativa\x20de\x20reconexão\x20','):\x20atualização\x20chat:\x20','PRESENCE_UPDATE','Close\x20connection','dbInstance','scheduled','):\x20Editando\x20bloco...','request\x20received\x20in\x20updateFlowConfig','local_map','optionDescription','toUpperCase','groupLeave','--agree-tos','*\x0a\x0a','block','hbs','joinGroup','uazapiSendLocation','varedit','readFileSync','listMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','reference','request\x20received\x20in\x20createFlow','\x20-y','apikey','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','USER','Sistema\x20atualizado\x20com\x20sucesso!','\x20attempts.','fromObject','instances','authentication','\x1b[31m','fetchProfilePicture','replaceOne','mediatype','atendimentoAberto','revokeInviteCode','Failed\x20to\x20find\x20chat\x20','Type\x20defined\x20as\x20audio','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','labels.association','WARN','announce','MESSAGES_UPDATE','TEXT','params','QRCODE_UPDATED','):\x20enviado\x20para\x20[','Error\x20change\x20group\x20setting',',\x20resultado:\x20','editflowreply','\x20->\x20NÃO\x20CORRESPONDE.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','removeData','request\x20received\x20in\x20editFlowgroup','replaceVariablesChat','toggleEphemeral','/wa-contacts','pollUpdateMessage','lastCondition','createAndSave','sticker','write','logger','groupFetchAllParticipating','envProcess','lastBlockId','sendPoll','arrayUnique','DATABASE_CONNECTION_HOST','notify','split','editConversation','mediaMessage','/wa-qrcode','uazapiSendMedia','Flow\x20não\x20encontrado','GROUPS_UPSERT','stopConversation','):\x20Criando\x20nova\x20conversa[createNewConversation]','groupadd','Erro\x20ao\x20editar\x20o\x20bloco:\x20','integer','getBase64FromMediaMessage','processvaredits','METHODS','trimmed','valid','findGroups','delayChatLabel','sending','AppStateSyncKeyData','_p_','sendLocation','imported','\x20->\x20CONFIRMADO.','close','Error\x20removing\x20profile\x20picture','):\x20Enviando\x20texto','\x20chats\x20de\x20','uazapiSendMenu','sendSticker','profilePicture','proto','mimetype','bearer','closeExistingConversations','Router','startsWith','updateFlowConfig','extractRegex','waUploadToServer','getOwnPropertyDescriptor','header','prepareMediaMessage','viewOnceMessageV2','numbers','updateAll','scheduleSendAudio','audioMessage','ON\x20-\x20dbName:\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','All_Instances_Config','content','has','applyvaredit','https://','refused','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','request\x20received\x20in\x20editFlowcondition','AUTHENTICATION','CONFIGURAÇÃO\x20GERAL:','groups_ignore','hGet','mediaSticker','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','messageStubType','SERVER','connectToWhatsappController','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','#d8e651','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','js-yaml','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','forEach','replaceVariables','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','decryptPollVote','findGroupInfo','toLocaleString','remoteJid','string','errors','SECRET','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','organization','):\x20Enviando\x20localização','updateStopChat','\x20\x1b[0m','createJid','/wa-presence','call','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','@broadcast','INFO','\x20foi\x20interrompido\x20pelo\x20usuário.','sendPresenceUpdate','condition','notas','sendMenu','desc','isJidGroup','createConnection','CORS','contacts.upsert','flowName','model','Certbot:\x20','mediaKey','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','enabled','RemoveChatLabel','getChatModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','instanceKeys','request\x20received\x20in\x20scheduleMessage','uazapiSendContact','https://chat.whatsapp.com/','):\x20Buscando\x20conversa...','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','\x0a{\x20instance:\x20','.pdf','including\x20timestamp\x20in\x20url:\x20',':\x20Tentativa\x20','Revoke\x20error','del','processConditions','archiveChat','replyOption','/instance/connect','sharp','chats.update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','request\x20received\x20in\x20deleteFlow','node-mime-types','convertedOptions','hDel','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','webhookModel','scheduleSendMedia','groupToggleEphemeral','src','):\x20não\x20encontrou','):\x20Editando\x20replyOption...','):\x20teve\x20mudanças\x20chat.displayName:\x20','messages.update','slice','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','_Labels','expression','audio/ogg','variable','LabelModel','hasOwnProperty','shutdown\x20-r\x20now','verifiedName','createServer','STORE_CONTACTS','configService','CHATS_DELETE','apiResponse','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','API\x20Key\x20from\x20Request:','normalizeMessage','groupValidate','ListType','CONTACTS_SET','editFlowVaredit','#56ccb4','updateMissingShareOwners','error\x20get\x20vote','floor','sendStatus','\x1b[34m','Trying\x20to\x20get\x20business\x20profile','Erro:','fileName','HeaderType','FlowRouter','notEqual','apirequest','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','drop','connectionClosed',',\x20qrcodeCount:\x20','phoneNumber','Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20teve\x20mudanças\x20chat.name:\x20','dayjs','\x1b[34m%s\x1b[0m','fromMe','allFlows','flowStopMinutes','\x1b[1m\x1b[37m','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','AUTHENTICATION_TYPE','MAX_RECONNECT_ATTEMPTS','Button\x20IDs\x20cannot\x20be\x20repeated.','__esModule','.jpg','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','image','Font\x20is\x20required','qrcode','Error\x20fetching\x20and\x20updating\x20profile:\x20','redisEnv','filter','remoteJids','map','sections','g-t','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','.ppt','true','logout','EMAIL','hex','number','StatusJidList\x20is\x20required','):\x20conversation.lastInteraction:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','prototype','https','leadInfo.etiquetas','Error\x20updating\x20participants','end','bulkWrite','senderKeyDistributionMessage','menuMessage','storePath','\x20segundos','waitingForReplyMenu','match','\x20inseridas\x20no\x20banco\x20de\x20dados...',',\x20Expiration\x20Time:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','createGroup','unreadCount','The\x20instance\x20needs\x20to\x20be\x20disconnected','groupMetadata','collections','getClient','out','unknown\x20operation\x20type\x20[','):\x20Deletando\x20mensagem','setContext','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','\x20removido\x20do\x20chat\x20','CONTACTS_UPSERT','):\x20Buscando\x20flow...','option','CORS_ORIGIN','font','endSession','text/event-stream','metadata','Processing\x20audio','#9568cf','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','deleteReplyOption','sendMedia','Valor\x20inicial:\x20\x22','replaceVariablesInReplyOptions','Deletion\x20failed','send','findChats','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','height','method','isURL','creds','etiquetas','cache','DEBUG','json','Unauthorized','SERVER_URL','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','waInstances','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Erro\x20ao\x20encerrar\x20a\x20API','client','copy','poll','updateChatWithMessage','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','uncaughtException','authState','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','warn','getOwnPropertyNames','The\x20\x22','remove.instance','events','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','jid','findLabels','instance.','varedits','interval\x20não\x20é\x20um\x20número','shareOwners','HOST','ms\x20(Attempt\x20','#b4ebff','saveVariable','imageMessage','leaveGroup','messagesSend','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Error\x20writing\x20file:\x20','checkAndUpdateChatStatus','error','buttonText','bodyString','editflowblock','-instances','flowConfig','success','.txt','synchronizeFlows','No\x20join\x20group\x20invite\x20code\x20or\x20url','connect','BufferJSON','picture','Instance\x20restarted','presence','contentText','Message','env','):\x20Enviando\x20contato','none','authService','last','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','notContains','stickerMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','truncatedtoEnd','headerString','whatsappNumber','Cache-Control','fetchPrivacySettings','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','getProfileName','parseInt','verbose','updateMissingTags','remove','updatePresence','Error\x20updating\x20profile\x20picture','owner','.jwt','scheduleSendText','\x20-\x20ON:\x20','Erro\x20ao\x20buscar\x20conversa:\x20','contactHandle','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','activatedCount','stopWhenYouSendMsg','pollCreationMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','groups','contact','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','ERROR','URI','CHATS_UPSERT','certbot','):\x20[messages.upsert]\x20group\x20ignored','Error\x20updating\x20message\x20status:','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','normalizeMessageContent','.xls','AutomateSystem','statusMessage','Valor\x20de\x20find\x20ou\x20replace\x20ausente','#64c4ff','saveCreds','updateGParticipate','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','editedMessage','isBase64','):\x20Limpando\x20AutomateSystem','longitude','stopMinutesMaxActives','\x1b[36m','):\x20Conversa\x20atualizada\x20em\x20memória','recebido\x20de','Image\x20created','DELIVERY_ACK','removeProfilePicture','\x22\x20-\x20NOT\x20CONNECTION','composing','copyBlock','rowId','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','createRegularFlow','request\x20received\x20in\x20deleteDoneMessages','group','\x20não\x20encontrado\x20para\x20atualização.','not_announcement','Background\x20color\x20is\x20required','):\x20Alterando\x20fluxo...','array','Getting\x20profile\x20with\x20jid:\x20','getScheduleMessage','chatId','closed','splice','scheduleMessage','class-validator','updateGroupPicture','groupSettingUpdate','leadInfo.','STORE_CHATS','preview','displayName','Primeiro\x20Valor:\x20','#f64847','\x20e\x20ID=','generateHash','exec','privacySettings','/instance/delete','validate'];a0_0x125b=function(){return _0xc25ad8;};return a0_0x125b();}function nr(_0x3ea7d9,_0x2118de){!Y[_0x3ea7d9]||!Y[_0x3ea7d9][_0x2118de]||delete Y[_0x3ea7d9][_0x2118de];}function q(_0x46d7d5,_0x354bdb,_0x14c233){const _0x3986bf=a0_0x124f50;if(!Y[_0x46d7d5])return;let _0x460a1d=_0x3986bf(0x296)+JSON[_0x3986bf(0x2b4)](_0x14c233)+'\x0a\x0a';Object['values'](Y[_0x46d7d5])[_0x3986bf(0x53a)](_0x3c3019=>{const _0x2e9264=_0x3986bf;_0x3c3019[_0x2e9264(0x617)]['includes'](_0x354bdb)&&_0x3c3019[_0x2e9264(0x26c)][_0x2e9264(0x4e7)](_0x460a1d);});}function cr(){const _0x15bb60=a0_0x124f50;let _0x51dc99={};for(let _0x27199c in Y)_0x51dc99[_0x27199c]=Object[_0x15bb60(0x1e1)](Y[_0x27199c])[_0x15bb60(0x5c2)](_0x3e35ca=>({'id':_0x3e35ca['id'],'events':_0x3e35ca[_0x15bb60(0x617)]}));return _0x51dc99;}var ur=require(a0_0x124f50(0x3d4)),ws=require(a0_0x124f50(0x248)),fs=class{},li=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x124f50(0x76a))]({'_id':{'type':String,'default':a0_0x124f50(0x819)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x124f50(0x55b)](fs['name'],ui,a0_0x124f50(0x523)),di=lr[a0_0x124f50(0x223)]['join'](__dirname,'downloads'),Nt=(0x0,vt[a0_0x124f50(0x514)])(),pi=b[a0_0x124f50(0x45b)](a0_0x124f50(0x52b))[a0_0x124f50(0x3dc)],ee=[fa,wa,Sa[pi]];Nt['use'](a0_0x124f50(0x3d2),vt['default'][a0_0x124f50(0x2ec)](di))[a0_0x124f50(0x45b)](a0_0x124f50(0x2ab),async(_0x3160d4,_0x214427)=>{const _0x3ba816=a0_0x124f50;console[_0x3ba816(0x3b3)](_0x3ba816(0x43b));let _0x1ccd74=_0x3160d4[_0x3ba816(0x4d6)][_0x3ba816(0x210)],_0x5e727e=(_0x3160d4['query'][_0x3ba816(0x617)]||'')[_0x3ba816(0x4f0)](','),_0x1ba2c7=(0x0,ur['v4'])();console['log'](_0x3ba816(0x20c),_0x1ccd74),console[_0x3ba816(0x3b3)](_0x3ba816(0x7c6),_0x5e727e);let _0x30b897=b['get'](_0x3ba816(0x52b))['API_KEY'],_0x4b2e89=_0x3160d4[_0x3ba816(0x7cc)]['apikey'];if(console[_0x3ba816(0x3b3)](_0x3ba816(0x593),_0x4b2e89),_0x30b897[_0x3ba816(0x324)]!==_0x4b2e89){console[_0x3ba816(0x3b3)](_0x3ba816(0x763));try{let _0x53a22f=await ue['auth'][_0x3ba816(0x81d)](_0x1ccd74);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x53a22f),!_0x53a22f||_0x53a22f['apikey']!==_0x4b2e89)return console[_0x3ba816(0x3b3)](_0x3ba816(0x5c5)),_0x214427[_0x3ba816(0x84c)](0x191)[_0x3ba816(0x5fa)](_0x3ba816(0x2ba));}catch(_0x54d32c){return console[_0x3ba816(0x629)](_0x3ba816(0x45d),_0x54d32c),_0x214427[_0x3ba816(0x84c)](0x191)[_0x3ba816(0x5fa)](_0x3ba816(0x6a7));}}if(!await ze(_0x1ccd74))return _0x214427[_0x3ba816(0x84c)](0x194)[_0x3ba816(0x5fa)](_0x3ba816(0x70f));_0x214427['setHeader'](_0x3ba816(0x40b),_0x3ba816(0x5f0)),_0x214427[_0x3ba816(0x37e)](_0x3ba816(0x646),'no-cache'),_0x214427[_0x3ba816(0x37e)]('Connection',_0x3ba816(0x27b)),_0x214427[_0x3ba816(0x317)]();let _0x347ba7=_0x3ba816(0x296)+JSON[_0x3ba816(0x2b4)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x214427[_0x3ba816(0x4e7)](_0x347ba7),or(_0x1ccd74,_0x1ba2c7,_0x214427,_0x5e727e),_0x3160d4['on'](_0x3ba816(0x509),()=>{const _0x2ea062=_0x3ba816;console[_0x2ea062(0x3b3)]('Connection\x20closed\x20for\x20instance:\x20'+_0x1ccd74),nr(_0x1ccd74,_0x1ba2c7);});}),Nt[a0_0x124f50(0x45b)](a0_0x124f50(0x73f),(_0x154283,_0x3e4daf)=>{let _0x152335=cr();_0x3e4daf['json'](_0x152335);})[a0_0x124f50(0x45b)]('/',(_0x3a5e0d,_0x4520ab)=>{const _0xb61c39=a0_0x124f50;let _0x3f93ad=b[_0xb61c39(0x45b)](_0xb61c39(0x532))['URL'];if(_0x3f93ad){let _0x2adbcb=encodeURIComponent(''+_0x3f93ad);_0x4520ab[_0xb61c39(0x856)](_0xb61c39(0x425)+_0x2adbcb);return;}let _0x5f44de=b[_0xb61c39(0x45b)]('SSL_CONF'),_0x4597a9=_0x5f44de&&_0x5f44de[_0xb61c39(0x7ca)][_0xb61c39(0x4f0)]('/')[0x4];if(_0x4597a9){let _0x1cdbda=encodeURIComponent(_0xb61c39(0x527)+_0x4597a9);_0x4520ab['redirect'](_0xb61c39(0x425)+_0x1cdbda);}else _0x4520ab[_0xb61c39(0x856)](_0xb61c39(0x3b7));})[a0_0x124f50(0x25a)](a0_0x124f50(0x308),...ee,async(_0x3214d0,_0x367141)=>{const _0x7e3c4a=a0_0x124f50;try{console[_0x7e3c4a(0x3b3)](_0x7e3c4a(0x22a)),_0x367141[_0x7e3c4a(0x84c)](0xc8)[_0x7e3c4a(0x604)]({'message':_0x7e3c4a(0x735)}),_0x367141['on']('finish',()=>process[_0x7e3c4a(0x26b)](0x0));}catch(_0x451508){console[_0x7e3c4a(0x629)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x451508),_0x367141['status'](0x1f4)[_0x7e3c4a(0x604)]({'message':_0x7e3c4a(0x60a)});}})['put'](a0_0x124f50(0x7ef),...ee,async(_0x50a717,_0x195189)=>{const _0x1d3699=a0_0x124f50;try{let _0x3cf6f4=_0x50a717[_0x1d3699(0x75a)];await we['updateOne']({},{'$set':_0x3cf6f4},{'upsert':!0x0});let _0x307ac4=await we[_0x1d3699(0x7fc)]();_0x195189['json'](_0x307ac4);}catch(_0x3dd7f2){_0x195189[_0x1d3699(0x84c)](0x190)['send'](_0x3dd7f2[_0x1d3699(0x3cd)]);}})[a0_0x124f50(0x45b)]('/config',...ee,async(_0x2ee03b,_0xfd6f90)=>{const _0x47bb9b=a0_0x124f50;try{let _0x450196=await we[_0x47bb9b(0x7fc)]();if(!_0x450196)return _0xfd6f90[_0x47bb9b(0x604)]({});_0xfd6f90[_0x47bb9b(0x604)](_0x450196);}catch(_0x405c85){_0xfd6f90[_0x47bb9b(0x84c)](0x1f4)[_0x47bb9b(0x5fa)](_0x405c85['message']);}})['use'](a0_0x124f50(0x49f),new lt(b,...ee)['router'])[a0_0x124f50(0x7d9)](a0_0x124f50(0x44e),new St(...ee)[a0_0x124f50(0x6f0)])[a0_0x124f50(0x7d9)](a0_0x124f50(0x37c),new Ze(...ee)[a0_0x124f50(0x6f0)])[a0_0x124f50(0x7d9)](a0_0x124f50(0x6ab),new ct(...ee)[a0_0x124f50(0x6f0)])[a0_0x124f50(0x7d9)]('/webhook',new Ct(...ee)[a0_0x124f50(0x6f0)])[a0_0x124f50(0x7d9)](a0_0x124f50(0x795),new Mt(...ee)[a0_0x124f50(0x6f0)]);var w=class{constructor(..._0x32bcdc){const _0x2c464f=a0_0x124f50;throw{'status':0x190,'error':_0x2c464f(0x48d),'message':_0x32bcdc[_0x2c464f(0x230)]>0x0?_0x32bcdc:void 0x0};}},Z=class{constructor(..._0x2564d7){const _0x239859=a0_0x124f50;throw{'status':0x191,'error':_0x239859(0x605),'message':_0x2564d7['length']>0x0?_0x2564d7:void 0x0};}},H=class{constructor(..._0x3f0623){throw{'status':0x193,'error':'Forbidden','message':_0x3f0623['length']>0x0?_0x3f0623:void 0x0};}},k=class{constructor(..._0x24c4c9){const _0x1d7141=a0_0x124f50;throw{'status':0x194,'error':'Not\x20Found','message':_0x24c4c9[_0x1d7141(0x230)]>0x0?_0x24c4c9:void 0x0};}},I=class{constructor(..._0x1480e8){const _0x3b0fbb=a0_0x124f50;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x1480e8[_0x3b0fbb(0x230)]>0x0?_0x1480e8:void 0x0};}},de=require(a0_0x124f50(0x24c));async function ys(_0x12fc74){const _0x5b1983=a0_0x124f50;let _0x5b0556=new N(ys['name']),_0x53c2c9=R['getClient'](),_0x5cf3b2=_0x53c2c9['db'](b[_0x5b1983(0x45b)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x5b1983(0x62d))[_0x5b1983(0x48b)](_0x12fc74),_0x31cd42=async(_0x53cb2a,_0x3fc232)=>{const _0x4cfa06=_0x5b1983;try{return await _0x53c2c9[_0x4cfa06(0x633)](),await _0x5cf3b2[_0x4cfa06(0x4ca)]({'_id':_0x3fc232},JSON['parse'](JSON[_0x4cfa06(0x2b4)](_0x53cb2a,de[_0x4cfa06(0x634)][_0x4cfa06(0x411)])),{'upsert':!0x0});}catch{}},_0x528532=async _0xad5c4a=>{const _0x45f335=_0x5b1983;try{await _0x53c2c9['connect']();let _0x40a071=await _0x5cf3b2[_0x45f335(0x7fc)]({'_id':_0xad5c4a}),_0x3f47f5=JSON['stringify'](_0x40a071);return JSON[_0x45f335(0x1da)](_0x3f47f5,de[_0x45f335(0x634)][_0x45f335(0x37a)]);}catch{}},_0x2e5eaa=async _0x503564=>{const _0x353c25=_0x5b1983;try{return await _0x53c2c9[_0x353c25(0x633)](),await _0x5cf3b2[_0x353c25(0x3ac)]({'_id':_0x503564});}catch{}},_0x1f03a2=await _0x528532(_0x5b1983(0x600))||(0x0,de[_0x5b1983(0x716)])();return{'state':{'creds':_0x1f03a2,'keys':{'get':async(_0x3cbdb9,_0xf6b31a)=>{const _0x3dae27=_0x5b1983;let _0x53090d={};return await Promise[_0x3dae27(0x1d9)](_0xf6b31a['map'](async _0x24f806=>{const _0xbbc75f=_0x3dae27;let _0x4d51e6=await _0x528532(_0x3cbdb9+'-'+_0x24f806);_0x3cbdb9===_0xbbc75f(0x431)&&_0x4d51e6&&(_0x4d51e6=de[_0xbbc75f(0x510)]['Message'][_0xbbc75f(0x504)][_0xbbc75f(0x4c5)](_0x4d51e6)),_0x53090d[_0x24f806]=_0x4d51e6;})),_0x53090d;},'set':async _0x12220=>{const _0x202127=_0x5b1983;let _0x344e77=[];for(let _0x4c46f6 in _0x12220)for(let _0x2f7704 in _0x12220[_0x4c46f6]){let _0x49b722=_0x12220[_0x4c46f6][_0x2f7704],_0xe9ba15=_0x4c46f6+'-'+_0x2f7704;_0x344e77[_0x202127(0x1e7)](_0x49b722?_0x31cd42(_0x49b722,_0xe9ba15):_0x2e5eaa(_0xe9ba15));}await Promise['all'](_0x344e77);}}},'saveCreds':async()=>_0x31cd42(_0x1f03a2,_0x5b1983(0x600))};}var Es=T(require(a0_0x124f50(0x33f))),Cs=T(require(a0_0x124f50(0x418))),Ot=require(a0_0x124f50(0x24c)),dr=require(a0_0x124f50(0x395)),Tt=require(a0_0x124f50(0x24c)),Rt;function hi(_0x502efa){const _0x325459=a0_0x124f50;return Rt||(Rt=(0x0,dr[_0x325459(0x858)])({'url':_0x502efa[_0x325459(0x661)]}),Rt[_0x325459(0x633)]()),Rt;}var oe=class c{constructor(_0x5a5a5b,_0x3e1f27){const _0x47bd8f=a0_0x124f50;this[_0x47bd8f(0x5bf)]=_0x5a5a5b,this[_0x47bd8f(0x370)]=_0x3e1f27,this['logger']=new N(c[_0x47bd8f(0x350)]),this[_0x47bd8f(0x60b)]=hi(_0x5a5a5b);}set[a0_0x124f50(0x4bd)](_0xc5efc1){const _0x53a271=a0_0x124f50;this[_0x53a271(0x370)]=_0xc5efc1;}async[a0_0x124f50(0x563)](){const _0x2b6a9d=a0_0x124f50;try{return await this[_0x2b6a9d(0x60b)]['sendCommand'](['keys',this[_0x2b6a9d(0x5bf)][_0x2b6a9d(0x496)]+':*']);}catch(_0x5317dd){this[_0x2b6a9d(0x4e8)][_0x2b6a9d(0x629)](_0x5317dd);}}async[a0_0x124f50(0x757)](_0x2e4b25,_0x46e7f0){const _0x300e00=a0_0x124f50;try{let _0x30a773=JSON[_0x300e00(0x2b4)](_0x46e7f0,Tt[_0x300e00(0x634)][_0x300e00(0x411)]);return await this['client'][_0x300e00(0x33b)](this[_0x300e00(0x5bf)][_0x300e00(0x496)]+':'+this[_0x300e00(0x370)],_0x2e4b25,_0x30a773);}catch(_0x2435a3){this[_0x300e00(0x4e8)]['error'](_0x2435a3);}}async['getAllData'](){const _0x5df67f=a0_0x124f50;try{let _0x275db9=await this[_0x5df67f(0x60b)][_0x5df67f(0x1ea)](this[_0x5df67f(0x5bf)]['PREFIX_KEY']+':'+this[_0x5df67f(0x370)]);if(_0x275db9){for(let _0x24cea7 in _0x275db9)Object[_0x5df67f(0x5cf)][_0x5df67f(0x58a)][_0x5df67f(0x54c)](_0x275db9,_0x24cea7)&&(_0x275db9[_0x24cea7]=JSON['parse'](_0x275db9[_0x24cea7],Tt['BufferJSON'][_0x5df67f(0x37a)]));return _0x275db9;}}catch(_0xa9bd64){this[_0x5df67f(0x4e8)]['error'](_0xa9bd64);}}async[a0_0x124f50(0x2fe)](_0x387598){const _0x3004a0=a0_0x124f50;try{let _0xb5b1ac=await this['client'][_0x3004a0(0x52e)](this[_0x3004a0(0x5bf)]['PREFIX_KEY']+':'+this[_0x3004a0(0x370)],_0x387598);if(_0xb5b1ac)return JSON['parse'](_0xb5b1ac,Tt['BufferJSON']['reviver']);}catch(_0x47939d){this[_0x3004a0(0x4e8)][_0x3004a0(0x629)](_0x47939d);}}async[a0_0x124f50(0x4de)](_0x216762){const _0x561f51=a0_0x124f50;try{return await this['client'][_0x561f51(0x579)](this[_0x561f51(0x5bf)][_0x561f51(0x496)]+':'+this[_0x561f51(0x370)],_0x216762);}catch(_0x3478bc){this[_0x561f51(0x4e8)][_0x561f51(0x629)](_0x3478bc);}}async[a0_0x124f50(0x398)](_0x5a258f){const _0x32f725=a0_0x124f50;try{return await this[_0x32f725(0x60b)][_0x32f725(0x56e)](_0x5a258f||this[_0x32f725(0x5bf)][_0x32f725(0x496)]+':'+this[_0x32f725(0x370)]);}catch(_0x2d1e){this[_0x32f725(0x4e8)][_0x32f725(0x629)](_0x2d1e);}}};async function bs(_0x227bdb,_0x51c2be){const _0x346bab=a0_0x124f50;let _0x42e951=new N(bs['name']),_0x417df5=new oe(_0x227bdb,_0x51c2be),_0x4a13f4=async(_0x2ad289,_0x9ef86a)=>{const _0x314561=a0_0x1d88;try{return await _0x417df5[_0x314561(0x757)](_0x9ef86a,_0x2ad289);}catch(_0x920b44){return _0x42e951['error']({'localError':_0x314561(0x757),'error':_0x920b44});}},_0x1ab146=async _0x1bae56=>{const _0x2e1349=a0_0x1d88;try{return await _0x417df5[_0x2e1349(0x2fe)](_0x1bae56);}catch(_0x40253d){_0x42e951['error']({'readData':_0x2e1349(0x757),'error':_0x40253d});return;}},_0x3d8ca5=async _0x704c77=>{const _0x29343a=a0_0x1d88;try{return await _0x417df5[_0x29343a(0x4de)](_0x704c77);}catch(_0x5096f3){_0x42e951[_0x29343a(0x629)]({'readData':_0x29343a(0x4de),'error':_0x5096f3});}},_0x26e8e9=await _0x1ab146(_0x346bab(0x600))||(0x0,Ot['initAuthCreds'])();return{'state':{'creds':_0x26e8e9,'keys':{'get':async(_0x55d5af,_0x54b11e)=>{const _0x5be132=_0x346bab;let _0xeb9997={};return await Promise[_0x5be132(0x1d9)](_0x54b11e[_0x5be132(0x5c2)](async _0x1e0001=>{const _0x4eb905=_0x5be132;let _0x4a78c4=await _0x1ab146(_0x55d5af+'-'+_0x1e0001);_0x55d5af===_0x4eb905(0x431)&&_0x4a78c4&&(_0x4a78c4=Ot[_0x4eb905(0x510)][_0x4eb905(0x639)][_0x4eb905(0x504)]['fromObject'](_0x4a78c4)),_0xeb9997[_0x1e0001]=_0x4a78c4;})),_0xeb9997;},'set':async _0x50080=>{const _0x191f69=_0x346bab;let _0x510ed2=[];for(let _0x562849 in _0x50080)for(let _0x26c4bd in _0x50080[_0x562849]){let _0x5ae82=_0x50080[_0x562849][_0x26c4bd],_0x4379e8=_0x562849+'-'+_0x26c4bd;_0x510ed2['push'](_0x5ae82?await _0x4a13f4(_0x5ae82,_0x4379e8):await _0x3d8ca5(_0x4379e8));}await Promise[_0x191f69(0x1d9)](_0x510ed2);}}},'saveCreds':async()=>await _0x4a13f4(_0x26e8e9,'creds')};}var L=T(require('fs')),Me=require(a0_0x124f50(0x3d4)),Dt=T(require(a0_0x124f50(0x573))),_t=require(a0_0x124f50(0x340)),gi=a0_0x124f50(0x4d0)[a0_0x124f50(0x485)](),At=gi['split']('\x0a')['map'](_0x5057fd=>{const _0x5d0e99=a0_0x124f50;let _0x5920d6=_0x5057fd[_0x5d0e99(0x4f0)](':'),_0x23b062={'host':_0x5920d6[0x0],'port':_0x5920d6[0x1],'protocol':_0x5d0e99(0x7bd)};return _0x5920d6[_0x5d0e99(0x230)]===0x4&&(_0x23b062[_0x5d0e99(0x346)]=_0x5920d6[0x2],_0x23b062['password']=_0x5920d6[0x3]),_0x23b062;});function pr(_0x4fefc6){const _0xb490d7=a0_0x124f50;return At[_0xb490d7(0x81d)](_0x1dea05=>_0x1dea05['host']===_0x4fefc6)||null;}function hr(){const _0x16bfc9=a0_0x124f50;if(At[_0x16bfc9(0x230)]===0x0)return null;let _0x556f26=Math['floor'](Math[_0x16bfc9(0x3fe)]()*At[_0x16bfc9(0x230)]);return At[_0x556f26];}function Ss(_0x157880){const _0x5c9e2b=a0_0x124f50;let _0x5a5f03=_0x1a7227=>typeof _0x1a7227==_0x5c9e2b(0x541)&&_0x1a7227['length']>0x0,_0x50981c=_0x4fef16=>{let _0x5234d8=parseInt(_0x4fef16,0xa);return!isNaN(_0x5234d8)&&_0x5234d8>0x0&&_0x5234d8<=0xffff;},_0x56cbbc=_0xa0d30c=>typeof _0xa0d30c=='string'&&_0xa0d30c[_0x5c9e2b(0x230)]>0x0;return _0x157880&&_0x5a5f03(_0x157880[_0x5c9e2b(0x2ac)])&&_0x50981c(_0x157880['port'])&&(!_0x157880['username']||_0x56cbbc(_0x157880[_0x5c9e2b(0x346)]))&&(!_0x157880[_0x5c9e2b(0x206)]||_0x56cbbc(_0x157880['password']))&&(_0x157880[_0x5c9e2b(0x79a)]===_0x5c9e2b(0x7bd)||_0x157880[_0x5c9e2b(0x79a)]===_0x5c9e2b(0x5d0));}var Ms=require(a0_0x124f50(0x779)),Er=a0_0x124f50(0x813),Cr,ne=null,gr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x424ab3=a0_0x124f50;let _0x5c1045=await we[_0x424ab3(0x7fc)]();ne=_0x5c1045?.[_0x424ab3(0x437)]??null,fi=_0x5c1045?.['DaysToDelete']??null,Er=_0x5c1045?.[_0x424ab3(0x47d)]??_0x424ab3(0x2a6),Cr=_0x5c1045?.[_0x424ab3(0x851)]??vs??_0x424ab3(0x448),console[_0x424ab3(0x3b3)](_0x424ab3(0x52c)),console[_0x424ab3(0x3b3)](_0x5c1045);}async function yi(){await wi();}yi();var mr={},te={},ye=class c{constructor(_0x268c4c,_0xb8690b,_0x16e5c4){const _0x851b37=a0_0x124f50;this[_0x851b37(0x58f)]=_0x268c4c,this[_0x851b37(0x295)]=_0xb8690b,this[_0x851b37(0x43e)]=_0x16e5c4,this[_0x851b37(0x669)]=null,this[_0x851b37(0x4e8)]=new N(c['name']),this[_0x851b37(0x210)]={},this[_0x851b37(0x7fe)]={},this[_0x851b37(0x467)]={'state':_0x851b37(0x509)},this['storePath']=(0x0,j[_0x851b37(0x21f)])(re,_0x851b37(0x1f1)),this[_0x851b37(0x7b6)]=new Cs[(_0x851b37(0x223))](),this[_0x851b37(0x849)]=new Cs['default'](),this[_0x851b37(0x5ef)]=!0x1,this[_0x851b37(0x2dc)]={'status.instance':_0x851b37(0x7ad),'qrcode.updated':_0x851b37(0x4f3),'messages.upsert':_0x851b37(0x479),'messages.update':'/wa-message-update','send.message':_0x851b37(0x479),'group.upsert':_0x851b37(0x25c),'group.update':_0x851b37(0x25c),'group-participants.update':_0x851b37(0x25c),'connection.update':_0x851b37(0x7ad),'messages.set':_0x851b37(0x479),'contacts.set':_0x851b37(0x4e2),'contacts.upsert':_0x851b37(0x4e2),'contacts.update':_0x851b37(0x4e2),'presence.update':_0x851b37(0x54b),'chats.set':_0x851b37(0x498),'chats.update':_0x851b37(0x498),'chats.upsert':_0x851b37(0x498),'chats.delete':_0x851b37(0x498)},this[_0x851b37(0x6eb)]=0x0,this[_0x851b37(0x7f6)]=[],this[_0x851b37(0x5b6)]=0xa,this[_0x851b37(0x35d)]=0xea60,this[_0x851b37(0x330)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x442da3,_0xf96a9d)=>{const _0x1a6d5a=_0x851b37;let _0x2c0cbc=[];for await(let _0x149ea6 of _0x442da3)_0x2c0cbc[_0x1a6d5a(0x1e7)]({'_id':_0x149ea6['id'],'owner':this['instance'][_0x1a6d5a(0x834)],'group':_0x149ea6['id'][_0x1a6d5a(0x338)](_0x1a6d5a(0x459)),'name':_0x149ea6['name']||_0x149ea6[_0x1a6d5a(0x694)]||null,'contactname':null,'lastmsg':_0x149ea6[_0x1a6d5a(0x3c7)]&&_0x149ea6[_0x1a6d5a(0x3c7)][_0x1a6d5a(0x782)]()[_0x1a6d5a(0x230)]<0xd?_0x149ea6['conversationTimestamp']*0x3e8:_0x149ea6['conversationTimestamp']||null,'archived':_0x149ea6['archived']||!0x1,'unreadcount':_0x149ea6[_0x1a6d5a(0x5df)]||0x0});this[_0x1a6d5a(0x28d)]('chats.upsert',_0x2c0cbc);},'chats.update':async(_0x5d5961,_0x266a10)=>{const _0x25c393=_0x851b37;for(let _0x4f09de of _0x5d5961){let _0x515cf2={'_id':_0x4f09de['id'],'owner':this[_0x25c393(0x210)][_0x25c393(0x834)],'group':_0x4f09de['id']['endsWith'](_0x25c393(0x459)),'name':_0x4f09de[_0x25c393(0x350)]||_0x4f09de[_0x25c393(0x694)],'archived':_0x4f09de[_0x25c393(0x1e8)],'ephemeralExpiration':_0x4f09de[_0x25c393(0x31c)]},_0x37f62c=!0x1,_0x208f4e={};_0x515cf2[_0x25c393(0x1e8)]!=null&&(this[_0x25c393(0x4e8)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x25c393(0x243)+_0x4f09de['archived']),_0x37f62c=!0x0,_0x208f4e[_0x25c393(0x1e8)]=_0x4f09de[_0x25c393(0x1e8)]),_0x4f09de[_0x25c393(0x350)]!=null&&(this[_0x25c393(0x4e8)][_0x25c393(0x64d)](this[_0x25c393(0x370)]+'\x20('+this['instance'][_0x25c393(0x834)]+_0x25c393(0x5ad)+_0x4f09de[_0x25c393(0x350)]),_0x37f62c=!0x0,_0x208f4e['name']=_0x4f09de['name']),_0x4f09de['displayName']!=null&&(this[_0x25c393(0x4e8)][_0x25c393(0x64d)](this[_0x25c393(0x370)]+'\x20('+this[_0x25c393(0x210)][_0x25c393(0x834)]+_0x25c393(0x581)+_0x4f09de[_0x25c393(0x694)]),_0x37f62c=!0x0,_0x208f4e[_0x25c393(0x350)]=_0x4f09de[_0x25c393(0x694)]);let _0x253dda;_0x37f62c&&(_0x253dda=await this['repository'][_0x25c393(0x34f)][_0x25c393(0x457)]({'where':{'_id':_0x4f09de['id']}},_0x208f4e,this[_0x25c393(0x210)]['wuid'])),_0x253dda&&q(this[_0x25c393(0x370)],_0x25c393(0x29e),{'chat':_0x253dda});}},'chats.delete':async _0x423fb4=>{const _0x37083d=_0x851b37;this[_0x37083d(0x28d)](_0x37083d(0x494),[..._0x423fb4]);}},this[_0x851b37(0x657)]={'contacts.upsert':async(_0x2f8969,_0x2ca8d8)=>{const _0x5ec076=_0x851b37;let _0x938c25=await this[_0x5ec076(0x43e)][_0x5ec076(0x65e)]['find']({'where':{}},this[_0x5ec076(0x210)][_0x5ec076(0x834)]),_0x295fa1=[];for await(let _0xd01d66 of _0x2f8969)_0x938c25[_0x5ec076(0x81d)](_0xa06ed4=>_0xa06ed4['_id']===_0xd01d66['id'])||_0x295fa1[_0x5ec076(0x1e7)]({'_id':_0xd01d66['id'],'pushName':_0xd01d66?.[_0x5ec076(0x350)]||_0xd01d66?.['verifiedName'],'owner':this[_0x5ec076(0x210)][_0x5ec076(0x834)]});this[_0x5ec076(0x28d)](_0x5ec076(0x559),_0x295fa1),await this[_0x5ec076(0x43e)][_0x5ec076(0x65e)]['insert'](_0x295fa1);},'contacts.update':async(_0x2d7839,_0x42481c)=>{const _0x39de72=_0x851b37;let _0x36cf12=[];for await(let _0x1a6e3e of _0x2d7839)_0x36cf12[_0x39de72(0x1e7)]({'_id':_0x1a6e3e['id'],'pushName':_0x1a6e3e?.['name']??_0x1a6e3e?.['verifiedName'],'owner':this[_0x39de72(0x210)][_0x39de72(0x834)]});this['sendDataWebhook'](_0x39de72(0x796),_0x36cf12);}},this['messageHandle']={'messaging-history.set':async({messages:_0x1c383c,chats:_0x194027,isLatest:_0x90823c},_0x40b943)=>{const _0x3c47c7=_0x851b37;if(_0x90823c){let _0x507359=await Promise[_0x3c47c7(0x1d9)](_0x194027[_0x3c47c7(0x5c2)](async _0x44c3ea=>({'_id':_0x44c3ea['id'],'owner':this[_0x3c47c7(0x210)]['wuid'],'group':_0x44c3ea['id'][_0x3c47c7(0x338)](_0x3c47c7(0x459)),'name':_0x44c3ea[_0x3c47c7(0x350)]||_0x44c3ea[_0x3c47c7(0x694)]||null,'contactname':null,'lastmsg':_0x44c3ea[_0x3c47c7(0x3c7)]&&_0x44c3ea[_0x3c47c7(0x3c7)][_0x3c47c7(0x782)]()[_0x3c47c7(0x230)]<0xd?_0x44c3ea[_0x3c47c7(0x3c7)]*0x3e8:_0x44c3ea[_0x3c47c7(0x3c7)]||null,'archived':_0x44c3ea['archived']||!0x1,'unreadcount':_0x44c3ea['unreadCount']||0x0})));this[_0x3c47c7(0x28d)]('chats.set',_0x507359),await this[_0x3c47c7(0x489)](_0x507359,_0x40b943);}let _0x4d80ce=[],_0x4de4b8=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1ffc0a]of Object[_0x3c47c7(0x1f6)](_0x1c383c)){if(_0x1ffc0a[_0x3c47c7(0x3cd)]?.[_0x3c47c7(0x6a6)]||_0x1ffc0a[_0x3c47c7(0x3cd)]?.['senderKeyDistributionMessage']||!_0x1ffc0a[_0x3c47c7(0x3cd)]||_0x1ffc0a[_0x3c47c7(0x1fe)][_0x3c47c7(0x540)]===_0x3c47c7(0x3f6)||(Es[_0x3c47c7(0x223)]['isLong'](_0x1ffc0a?.['messageTimestamp'])&&(_0x1ffc0a[_0x3c47c7(0x6bf)]=_0x1ffc0a[_0x3c47c7(0x6bf)]?.[_0x3c47c7(0x298)]()),_0x1ffc0a[_0x3c47c7(0x6bf)]&&_0x1ffc0a[_0x3c47c7(0x6bf)]['toString']()[_0x3c47c7(0x230)]<0xd&&(_0x1ffc0a['messageTimestamp']=_0x1ffc0a['messageTimestamp']*0x3e8),_0x1ffc0a[_0x3c47c7(0x6bf)]<_0x4de4b8))continue;let _0x1e647f=(0x0,g['normalizeMessageContent'])(_0x1ffc0a[_0x3c47c7(0x3cd)]),_0x2edbd1=(0x0,g[_0x3c47c7(0x723)])(_0x1e647f),{message_normalized:_0x53043c}=this[_0x3c47c7(0x594)](_0x1e647f,_0x2edbd1,null);Object['keys'](_0x53043c)['length']>0x0&&_0x4d80ce[_0x3c47c7(0x1e7)]({'_id':_0x1ffc0a[_0x3c47c7(0x1fe)]['id'],'key':_0x1ffc0a['key'],'pushName':_0x1ffc0a[_0x3c47c7(0x30f)],'participant':_0x1ffc0a[_0x3c47c7(0x2d0)],'message':_0x1e647f,'messageType':_0x2edbd1,'message_normalized':{'key':_0x1ffc0a[_0x3c47c7(0x1fe)],'pushName':_0x1ffc0a['pushName'],'messageTimestamp':_0x1ffc0a[_0x3c47c7(0x6bf)],..._0x53043c},'messageTimestamp':_0x1ffc0a[_0x3c47c7(0x6bf)],'owner':this['instance'][_0x3c47c7(0x834)]});}_0x40b943[_0x3c47c7(0x6a1)]&&_0x4d80ce[_0x3c47c7(0x230)]>0x0&&(this[_0x3c47c7(0x4e8)][_0x3c47c7(0x64d)](this[_0x3c47c7(0x370)]+'\x20('+this[_0x3c47c7(0x210)]['wuid']+_0x3c47c7(0x839)+_0x4d80ce[_0x3c47c7(0x230)]+_0x3c47c7(0x384)+this['instance'][_0x3c47c7(0x834)]+_0x3c47c7(0x5db)),await this['repository'][_0x3c47c7(0x3cd)][_0x3c47c7(0x24e)]([..._0x4d80ce],this[_0x3c47c7(0x210)][_0x3c47c7(0x834)])),this[_0x3c47c7(0x28d)](_0x3c47c7(0x39c),[..._0x4d80ce]),_0x1c383c=void 0x0;},'messages.upsert':async({messages:_0x349761,type:_0x3b6266},_0x3f6fc5)=>{const _0x3239b6=_0x851b37;let _0x402839=_0x349761[0x0],_0x5ad014=_0x402839[_0x3239b6(0x1fe)]['id'],_0x1f2456=_0x402839[_0x3239b6(0x531)]===0x2,_0x1a80d2=0x6;if(this[_0x3239b6(0x7fe)]?.[_0x3239b6(0x52d)]&&_0x402839[_0x3239b6(0x1fe)][_0x3239b6(0x540)][_0x3239b6(0x6c2)](_0x3239b6(0x459))){this[_0x3239b6(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x3239b6(0x210)][_0x3239b6(0x834)]+_0x3239b6(0x664));return;}if(_0x1f2456){if(te[_0x5ad014]||(te[_0x5ad014]=0x0),te[_0x5ad014]++,this['logger'][_0x3239b6(0x629)](this[_0x3239b6(0x370)]+'\x20('+this['instance'][_0x3239b6(0x834)]+_0x3239b6(0x42e)+_0x402839[_0x3239b6(0x1fe)][_0x3239b6(0x540)]+_0x3239b6(0x697)+_0x5ad014+':\x20'+te[_0x5ad014]+'/'+_0x1a80d2),te[_0x5ad014]>=_0x1a80d2){this[_0x3239b6(0x4e8)][_0x3239b6(0x629)](this['instanceName']+'\x20('+this[_0x3239b6(0x210)][_0x3239b6(0x834)]+_0x3239b6(0x787)+_0x402839[_0x3239b6(0x1fe)][_0x3239b6(0x540)]+_0x3239b6(0x697)+_0x5ad014+'.');let _0x20acce={'key':{..._0x402839[_0x3239b6(0x1fe)]},'message':{'conversation':_0x3239b6(0x334)+_0x5ad014+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};_0x402839[_0x3239b6(0x1fe)]['remoteJid'][_0x3239b6(0x6c2)](_0x3239b6(0x483))&&this[_0x3239b6(0x60b)]['ev'][_0x3239b6(0x286)]('messages.upsert',{'messages':[_0x20acce],'type':_0x3239b6(0x4ef)}),delete te[_0x5ad014];}}else te[_0x5ad014]&&(this[_0x3239b6(0x4e8)]['warn'](_0x3239b6(0x344)+te[_0x5ad014]+_0x3239b6(0x6a3)+_0x402839['key'][_0x3239b6(0x540)]+'\x20e\x20ID='+_0x5ad014),delete te[_0x5ad014]);if(_0x3b6266!=='notify'||!_0x402839?.[_0x3239b6(0x3cd)]||_0x402839[_0x3239b6(0x3cd)]?.['protocolMessage']||_0x402839[_0x3239b6(0x3cd)][_0x3239b6(0x5d5)]||_0x402839[_0x3239b6(0x1fe)][_0x3239b6(0x540)]===_0x3239b6(0x3f6))return;let _0x4620bf=null,_0x3782d0=null;try{_0x4620bf=await this[_0x3239b6(0x862)](_0x402839),_0x3782d0=_0x4620bf?_0x4620bf['join'](','):null;}catch(_0x47c2af){this[_0x3239b6(0x4e8)]['verbose'](this[_0x3239b6(0x370)]+'\x20('+this[_0x3239b6(0x210)][_0x3239b6(0x834)]+_0x3239b6(0x839)+(_0x47c2af instanceof Error?_0x47c2af['message']:JSON[_0x3239b6(0x2b4)](_0x47c2af,null,0x2))),_0x3782d0=_0x3239b6(0x59b);}this['client'][_0x3239b6(0x551)]('unavailable'),Es['default'][_0x3239b6(0x46b)](_0x402839[_0x3239b6(0x6bf)])&&(_0x402839[_0x3239b6(0x6bf)]=_0x402839[_0x3239b6(0x6bf)]?.['toNumber']()),_0x402839['messageTimestamp']&&_0x402839[_0x3239b6(0x6bf)]['toString']()[_0x3239b6(0x230)]<0xd&&(_0x402839[_0x3239b6(0x6bf)]=_0x402839[_0x3239b6(0x6bf)]*0x3e8);let _0x24459d=_0x402839[_0x3239b6(0x3cd)],_0x4efde3=(0x0,g[_0x3239b6(0x667)])(_0x24459d),_0x5bc50c=(0x0,g[_0x3239b6(0x723)])(_0x4efde3),{messageContent:_0x23b892,message_normalized:_0x18c23a}=this['normalizeMessage'](_0x4efde3,_0x5bc50c,_0x3782d0);_0x5bc50c===_0x3239b6(0x6a6)&&_0x23b892?.[_0x3239b6(0x670)]&&(_0x5bc50c=_0x3239b6(0x670));let _0x34e7c4={'_id':_0x402839['key']['id'],'key':_0x402839[_0x3239b6(0x1fe)],'pushName':_0x402839[_0x3239b6(0x30f)],'message':_0x4efde3,'messageType':_0x5bc50c,'message_normalized':{'key':_0x402839[_0x3239b6(0x1fe)],'pushName':_0x402839[_0x3239b6(0x30f)],'messageTimestamp':_0x402839[_0x3239b6(0x6bf)],'source':(0x0,g[_0x3239b6(0x341)])(_0x402839[_0x3239b6(0x1fe)]['id']),..._0x18c23a},'messageTimestamp':_0x402839[_0x3239b6(0x6bf)],'owner':this[_0x3239b6(0x210)][_0x3239b6(0x834)],'source':(0x0,g[_0x3239b6(0x341)])(_0x402839[_0x3239b6(0x1fe)]['id'])};_0x23b892||(console[_0x3239b6(0x629)](_0x3239b6(0x3aa)),this[_0x3239b6(0x4e8)][_0x3239b6(0x629)](_0x34e7c4)),this['logger'][_0x3239b6(0x3b3)](this[_0x3239b6(0x370)]+'\x20('+this[_0x3239b6(0x210)][_0x3239b6(0x834)]+_0x3239b6(0x839)+(_0x34e7c4['key']?.[_0x3239b6(0x5b0)]?_0x3239b6(0x7be):_0x3239b6(0x677))+'\x20['+_0x34e7c4[_0x3239b6(0x1fe)]?.[_0x3239b6(0x540)]['replace'](_0x3239b6(0x483),'')+']\x20('+_0x34e7c4[_0x3239b6(0x6e8)]+')'),_0x34e7c4['message_normalized']?.['text']&&this[_0x3239b6(0x4e8)]['log'](_0x5ad014+':\x20'+_0x34e7c4[_0x3239b6(0x7bb)]?.['text']),await this['repository'][_0x3239b6(0x3cd)]['insert']([_0x34e7c4],this['instance'][_0x3239b6(0x834)]),this[_0x3239b6(0x28d)](_0x3239b6(0x2c9),_0x34e7c4),q(this[_0x3239b6(0x370)],_0x3239b6(0x2c3),{'message':_0x34e7c4}),_0x402839[_0x3239b6(0x1fe)][_0x3239b6(0x540)]!==_0x3239b6(0x3f6)&&await this[_0x3239b6(0x60e)](_0x3f6fc5,_0x34e7c4,_0x3239b6(0x2bd));},'messages.update':async(_0x4e7e2c,_0x3d0997)=>{const _0xfd9e56=_0x851b37;let _0x50fe85={0x0:_0xfd9e56(0x660),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0xfd9e56(0x679),0x4:'READ',0x5:'PLAYED'};for await(let {key:_0x1506fc,update:_0x10840d}of _0x4e7e2c){if(this[_0xfd9e56(0x7fe)]?.[_0xfd9e56(0x52d)]&&_0x1506fc[_0xfd9e56(0x540)][_0xfd9e56(0x6c2)](_0xfd9e56(0x459))){this[_0xfd9e56(0x4e8)]['verbose'](this[_0xfd9e56(0x370)]+'\x20('+this[_0xfd9e56(0x210)][_0xfd9e56(0x834)]+_0xfd9e56(0x84b));return;}if(_0x1506fc[_0xfd9e56(0x540)]!==_0xfd9e56(0x3f6)){let _0x364054=Date['now'](),_0x1b538c;_0x10840d[_0xfd9e56(0x3cd)]===null&&_0x10840d[_0xfd9e56(0x84c)]===void 0x0?_0x1b538c=_0xfd9e56(0x281):_0x1b538c=_0x50fe85[_0x10840d[_0xfd9e56(0x84c)]];let _0x10f005=_0x1506fc[_0xfd9e56(0x540)][_0xfd9e56(0x261)](/:\d{1,2}@/g,'@'),_0x309f17={..._0x1506fc,'remoteJid':_0x10f005,'status':_0x1b538c,'datetime':_0x364054,'owner':this[_0xfd9e56(0x210)][_0xfd9e56(0x834)]};this[_0xfd9e56(0x28d)](_0xfd9e56(0x582),_0x309f17),await this[_0xfd9e56(0x2c6)](_0x1506fc,_0x309f17);}}},'labels.association':async({type:_0x435dcd,association:_0x3a0791})=>{const _0x13cc98=_0x851b37;if(_0x3a0791['type']==='label_jid'){let _0x12d0d2,_0x57b2a7=0x0;for(;!_0x12d0d2&&_0x57b2a7<this[_0x13cc98(0x776)];)_0x12d0d2=await this[_0x13cc98(0x43e)][_0x13cc98(0x34f)][_0x13cc98(0x7fc)]({'where':{'_id':_0x3a0791[_0x13cc98(0x68a)]}},this[_0x13cc98(0x210)][_0x13cc98(0x834)]),_0x12d0d2||(_0x57b2a7++,console[_0x13cc98(0x3b3)](_0x13cc98(0x383)+_0x3a0791[_0x13cc98(0x68a)]+_0x13cc98(0x2c1)+this['delayChatLabel_RETRY_DELAY_MS']+_0x13cc98(0x620)+_0x57b2a7+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x13cc98(0x502)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x12d0d2){console[_0x13cc98(0x629)](_0x13cc98(0x4ce)+_0x3a0791[_0x13cc98(0x68a)]+_0x13cc98(0x34a)+this['delayChatLabel_MAX_RETRIES']+_0x13cc98(0x4c4));return;}switch(_0x435dcd){case'add':console['log'](_0x3a0791),await this['repository'][_0x13cc98(0x34f)][_0x13cc98(0x457)]({'where':{'_id':_0x3a0791[_0x13cc98(0x68a)]}},{'leadInfo.etiquetas':_0x3a0791[_0x13cc98(0x3a4)]},this[_0x13cc98(0x210)][_0x13cc98(0x834)],void 0x0,'$addToSet');break;case _0x13cc98(0x64f):console[_0x13cc98(0x3b3)](_0x3a0791),await this[_0x13cc98(0x43e)][_0x13cc98(0x34f)]['updateOne']({'where':{'_id':_0x3a0791[_0x13cc98(0x68a)]}},{'leadInfo.etiquetas':_0x3a0791['labelId']},this['instance'][_0x13cc98(0x834)],void 0x0,_0x13cc98(0x749));break;default:console[_0x13cc98(0x629)](_0x13cc98(0x5e5)+_0x435dcd+']');}}},'labels.edit':async _0x2d8b72=>{const _0x28a4ee=_0x851b37;if(!_0x2d8b72||!_0x2d8b72['id']){console['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x2d8b72[_0x28a4ee(0x7d3)]){let _0x5cd88a=[_0x28a4ee(0x2cd),_0x28a4ee(0x66c),_0x28a4ee(0x750),_0x28a4ee(0x3c3),_0x28a4ee(0x1e3),_0x28a4ee(0x599),'#fe9dfe',_0x28a4ee(0x1d4),'#6f7bcf',_0x28a4ee(0x535),_0x28a4ee(0x821),_0x28a4ee(0x73d),_0x28a4ee(0x2fb),_0x28a4ee(0x696),_0x28a4ee(0x215),'#83e421',_0x28a4ee(0x701),_0x28a4ee(0x621),_0x28a4ee(0x325),_0x28a4ee(0x5f3)],_0xe507dc;typeof _0x2d8b72['color']==_0x28a4ee(0x5cb)&&_0x2d8b72[_0x28a4ee(0x836)]>=0x0&&_0x2d8b72['color']<_0x5cd88a[_0x28a4ee(0x230)]?_0xe507dc=_0x5cd88a[_0x2d8b72['color']]:(console[_0x28a4ee(0x629)](_0x28a4ee(0x492),_0x2d8b72[_0x28a4ee(0x836)]),_0xe507dc=_0x28a4ee(0x78d));let _0x397711={'_id':_0x2d8b72['id'],'colorHex':_0xe507dc,'color':_0x2d8b72?.[_0x28a4ee(0x836)],'name':_0x2d8b72?.['name'],'owner':this[_0x28a4ee(0x210)]['wuid']};await this[_0x28a4ee(0x43e)][_0x28a4ee(0x2af)][_0x28a4ee(0x457)]({'where':{'_id':_0x2d8b72['id']}},_0x397711,this[_0x28a4ee(0x210)][_0x28a4ee(0x834)]),console[_0x28a4ee(0x3b3)](_0x28a4ee(0x336),_0x2d8b72);}_0x2d8b72[_0x28a4ee(0x7d3)]&&(await this[_0x28a4ee(0x43e)][_0x28a4ee(0x2af)][_0x28a4ee(0x3bb)]({'where':{'_id':_0x2d8b72['id']}},this[_0x28a4ee(0x210)][_0x28a4ee(0x834)]),console[_0x28a4ee(0x3b3)]('Rótulo\x20deletado:',_0x2d8b72['id']));}},this[_0x851b37(0x360)]={'groups.upsert':_0x5af785=>{const _0x23be03=_0x851b37;this['sendDataWebhook'](_0x23be03(0x7f2),_0x5af785);},'groups.update':_0xcc624f=>{const _0x23c31f=_0x851b37;this['sendDataWebhook'](_0x23c31f(0x40e),_0xcc624f);},'group-participants.update':_0x207b1a=>{const _0x7d2e15=_0x851b37;this['sendDataWebhook'](_0x7d2e15(0x402),_0x207b1a);}},this[_0x851b37(0x776)]=0x5,this[_0x851b37(0x82f)]=0x1388,this[_0x851b37(0x862)]=async _0x209a7e=>{const _0x3346da=_0x851b37;if(_0x209a7e[_0x3346da(0x3cd)]?.[_0x3346da(0x4e3)]){let _0x4c7dda=await this['getMessage'](_0x209a7e[_0x3346da(0x3cd)][_0x3346da(0x4e3)][_0x3346da(0x1e9)],!0x0);if(_0x4c7dda){let _0x160ac0=_0x4c7dda['key'][_0x3346da(0x5b0)]?this[_0x3346da(0x210)][_0x3346da(0x834)]+_0x3346da(0x483):_0x4c7dda[_0x3346da(0x1fe)][_0x3346da(0x2d0)]||_0x4c7dda[_0x3346da(0x1fe)]['remoteJid'],_0x2b1d37=_0x4c7dda[_0x3346da(0x1fe)]['id'],_0x38e49d=_0x4c7dda[_0x3346da(0x3cd)],_0x1efc7a=Buffer[_0x3346da(0x433)](_0x38e49d[_0x3346da(0x78f)]['messageSecret'][_0x3346da(0x782)](_0x3346da(0x5ca)),'hex'),_0x5208ea=(0x0,g[_0x3346da(0x53d)])(_0x209a7e[_0x3346da(0x3cd)][_0x3346da(0x4e3)]['vote'],{'pollCreatorJid':_0x160ac0,'pollMsgId':_0x2b1d37,'pollEncKey':_0x1efc7a,'voterJid':_0x209a7e[_0x3346da(0x1fe)][_0x3346da(0x5b0)]?this[_0x3346da(0x210)][_0x3346da(0x834)]+_0x3346da(0x483):_0x209a7e['key']['remoteJid'][_0x3346da(0x338)](_0x3346da(0x31b))?_0x209a7e[_0x3346da(0x1fe)][_0x3346da(0x2d0)]:_0x209a7e[_0x3346da(0x1fe)][_0x3346da(0x540)]}),_0x533d41=[],_0x4a3ebe=_0x5208ea[_0x3346da(0x840)][_0x3346da(0x5c2)](_0x58dee1=>Buffer[_0x3346da(0x433)](_0x58dee1)['toString']('hex'));for(let {optionName:_0x29558d}of _0x38e49d[_0x3346da(0x65b)]?.['options']||_0x38e49d[_0x3346da(0x6d4)]?.[_0x3346da(0x7d5)]||_0x38e49d[_0x3346da(0x81a)]?.[_0x3346da(0x7d5)])_0x4a3ebe[_0x3346da(0x75b)]((0x0,g[_0x3346da(0x799)])(Buffer[_0x3346da(0x433)](_0x29558d))['toString'](_0x3346da(0x5ca)))>-0x1&&_0x533d41[_0x3346da(0x1e7)](_0x29558d);return _0x533d41;}}return null;},this['normalizeMessage']=(_0x4069af,_0x42d8ef,_0x492e03)=>{const _0x40bb53=_0x851b37;try{let _0x178cd2=_0x4069af?(0x0,g[_0x40bb53(0x3d1)])(_0x4069af)[_0x42d8ef]:void 0x0,_0x55e9d9={},_0x470962=null,_0x33bb50=null,_0x546591=null;_0x42d8ef===_0x40bb53(0x6a6)&&_0x178cd2?.[_0x40bb53(0x670)]&&(_0x42d8ef=(0x0,g[_0x40bb53(0x723)])(_0x178cd2['editedMessage']),_0x470962=_0x4069af[_0x40bb53(0x6a6)][_0x40bb53(0x1fe)]['id'],_0x178cd2=_0x4069af[_0x40bb53(0x6a6)]['editedMessage'][_0x42d8ef]),_0x4069af[_0x42d8ef]?.[_0x40bb53(0x6ce)]?.['stanzaId']&&_0x4069af[_0x42d8ef]?.[_0x40bb53(0x6ce)]?.['quotedMessage']&&(_0x33bb50=_0x4069af[_0x42d8ef][_0x40bb53(0x6ce)][_0x40bb53(0x6ac)]),_0x4069af[_0x40bb53(0x70b)]&&(_0x546591=_0x4069af[_0x40bb53(0x70b)][_0x40bb53(0x1fe)]['id']);let _0x145593;if(_0x178cd2&&typeof _0x178cd2==_0x40bb53(0x79d)&&_0x40bb53(0x1e9)in _0x178cd2&&({pollCreationMessageKey:_0x145593}=_0x178cd2),_0x42d8ef===_0x40bb53(0x65b)||_0x42d8ef===_0x40bb53(0x81a)||_0x42d8ef===_0x40bb53(0x6d4)){let _0x302567=_0x178cd2[_0x40bb53(0x7d5)][_0x40bb53(0x5c2)](_0x1439f6=>_0x1439f6[_0x40bb53(0x7b9)])[_0x40bb53(0x21f)]('|');_0x55e9d9[_0x40bb53(0x578)]=_0x302567;}let _0x435e80='';if(_0x178cd2&&(_0x435e80+=_0x178cd2[_0x40bb53(0x350)]?_0x178cd2[_0x40bb53(0x350)]:'',_0x435e80+=_0x178cd2[_0x40bb53(0x245)]?'\x20'+_0x178cd2[_0x40bb53(0x245)]:'',_0x435e80+=_0x178cd2['conversation']?'\x20'+_0x178cd2[_0x40bb53(0x800)]:'',_0x435e80+=_0x178cd2['displayName']?'\x20'+_0x178cd2[_0x40bb53(0x694)]:''),_0x42d8ef===_0x40bb53(0x4bb)){_0x435e80=(_0x178cd2[_0x40bb53(0x6ae)]||'')+'\x0a'+(_0x178cd2['description']||'')+'\x0a'+(_0x178cd2['footerText']||'');let _0x49d142=this[_0x40bb53(0x744)](_0x178cd2['sections']);_0x55e9d9[_0x40bb53(0x578)]=_0x49d142;}if(_0x42d8ef===_0x40bb53(0x797)&&(_0x492e03=_0x178cd2[_0x40bb53(0x6ae)]),_0x178cd2&&_0x178cd2[_0x40bb53(0x28a)]){let _0x1a435b=this[_0x40bb53(0x6de)](JSON['stringify'](_0x178cd2['vcard'],null,0x2));_0x435e80=_0x435e80+'\x0a'+_0x1a435b;}if(_0x178cd2){let {sections:_0x4dacea,listType:_0x568bc1,displayName:_0x4d4cea,vcard:_0x3fe6c3,contactVcard:_0x76ec0f,name:_0x5e73ca,caption:_0x1945a0,conversation:_0x4dfab2,pollCreationMessageKey:_0x2ea52a,footerText:_0x2b42f,contentText:_0x4aa308,pageCount:_0x31c384,headerType:_0x5a0067,isAvatar:_0x487613,isAnimated:_0x2c2534,fallbackLc:_0x1e25f1,fallbackLg:_0x1e5ed3,namespace:_0x44d88c,elementName:_0x4355fc,localizableParams:_0x55376b,viewOnce:_0x32d1cf,height:_0x4fd32c,width:_0xcdb5d0,key:_0x2a6333,firstScanLength:_0xf96dc1,firstScanSidecar:_0x37eaff,gifPlayback:_0x142bb4,gifAttribution:_0xb78146,midQualityFileSha256:_0x3960ad,scansSidecar:_0x41aa26,streamingSidecar:_0x420428,thumbnailHeight:_0x9b6035,thumbnailWidth:_0x5212f5,thumbnailEncSha256:_0x3b3a5e,thumbnailDirectPath:_0x5b802f,canonicalUrl:_0x5bb09c,matchedText:_0x1a9225,previewType:_0x6a70f,thumbnailSha256:_0x497077,deviceListMetadataVersion:_0x4eb8af,inviteLinkGroupTypeV2:_0x2b2604,interactiveAnnotations:_0xce0635,scanLengths:_0x2eb85f,jpegThumbnail:_0x5177d7,url:_0x499b37,mediaKeyTimestamp:_0x588656,waveform:_0x5443c3,stickerSentTs:_0x1a4ea4,firstFrameLength:_0x4cc169,fileEncSha256:_0x16c28a,contextInfo:_0x27d1df,firstFrameSidecar:_0x1d72d6,directPath:_0x4f7659,fileSha256:_0x72951,mediaKey:_0x12c96b,senderTimestampMs:_0x4db6ce,..._0x187fc9}=_0x178cd2;(_0x42d8ef===_0x40bb53(0x4bb)||_0x42d8ef===_0x40bb53(0x797))&&(delete _0x187fc9[_0x40bb53(0x6ae)],delete _0x187fc9[_0x40bb53(0x306)]),typeof _0x178cd2=='string'?_0x55e9d9={'text':_0x178cd2,'type':_0x42d8ef||_0x40bb53(0x800),..._0x470962&&{'edited':_0x470962},..._0x33bb50&&{'quoted':_0x33bb50},..._0x546591&&{'reaction':_0x546591}}:_0x55e9d9={'text':_0x435e80,..._0x187fc9,..._0x42d8ef==='pollUpdateMessage'?{'poll_id':_0x178cd2[_0x40bb53(0x1e9)]['id'],'quoted':_0x178cd2[_0x40bb53(0x1e9)]['id'],'vote':_0x492e03}:{},..._0x42d8ef===_0x40bb53(0x797)?{'vote':_0x492e03}:{},'type':_0x42d8ef,..._0x470962&&{'edited':_0x470962},..._0x33bb50&&{'quoted':_0x33bb50},..._0x546591&&{'reaction':_0x546591},...(_0x42d8ef==='pollCreationMessage'||_0x42d8ef==='pollCreationMessageV2'||_0x42d8ef==='pollCreationMessageV3'||_0x42d8ef===_0x40bb53(0x4bb))&&{'convertedOptions':_0x55e9d9['convertedOptions']}};}return{'messageType':_0x42d8ef,'messageContent':_0x178cd2,'message_normalized':_0x55e9d9};}catch(_0x8bf9bf){return console[_0x40bb53(0x629)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x8bf9bf),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x851b37(0x2d7)]=null,this[_0x851b37(0x328)]=0x0,this['timerId']=null,this[_0x851b37(0x35f)]=null,(this[_0x851b37(0x737)](),this[_0x851b37(0x210)][_0x851b37(0x5bd)]={'count':0x0});}set[a0_0x124f50(0x370)](_0x37f40a){const _0x34dfce=a0_0x124f50;if(!_0x37f40a){this[_0x34dfce(0x210)]['name']=(0x0,wr['v4'])();return;}this['instance'][_0x34dfce(0x350)]=_0x37f40a,this[_0x34dfce(0x28d)](_0x34dfce(0x850),{'instance':this['instance']['name'],'status':_0x34dfce(0x3e9)});}get[a0_0x124f50(0x370)](){return this['instance']['name'];}get[a0_0x124f50(0x834)](){const _0x51557d=a0_0x124f50;return this['instance'][_0x51557d(0x834)];}async[a0_0x124f50(0x64b)](){const _0x539767=a0_0x124f50;let _0x364625=this['client'][_0x539767(0x21e)]?.[_0x539767(0x350)]??this[_0x539767(0x60b)]['user']?.[_0x539767(0x58c)];if(!_0x364625){if(this[_0x539767(0x58f)][_0x539767(0x45b)](_0x539767(0x1f0))['ENABLED']){let _0x173f0e=await R[_0x539767(0x5e3)]()['db'](this['configService'][_0x539767(0x45b)](_0x539767(0x1f0))[_0x539767(0x6bb)][_0x539767(0x44f)]+_0x539767(0x62d))[_0x539767(0x48b)](this[_0x539767(0x370)])['findOne']({'_id':'creds'});if(_0x173f0e){let _0xe5634=JSON['parse'](JSON['stringify'](_0x173f0e),g['BufferJSON'][_0x539767(0x37a)]);_0x364625=_0xe5634['me']?.[_0x539767(0x350)]||_0xe5634['me']?.[_0x539767(0x58c)];}}else{if((0x0,ve['existsSync'])((0x0,j[_0x539767(0x21f)])(ge,this['instanceName'],_0x539767(0x443)))){let _0x46e82f=JSON[_0x539767(0x1da)]((0x0,ve[_0x539767(0x4ba)])((0x0,j[_0x539767(0x21f)])(ge,this[_0x539767(0x370)],_0x539767(0x443)),{'encoding':_0x539767(0x865)}));_0x364625=_0x46e82f['me']?.[_0x539767(0x350)]||_0x46e82f['me']?.[_0x539767(0x58c)];}}}return _0x364625;}get['profilePictureUrl'](){const _0x109e55=a0_0x124f50;return this[_0x109e55(0x210)][_0x109e55(0x499)];}get[a0_0x124f50(0x30a)](){const _0x105038=a0_0x124f50;return{'pairingCode':this[_0x105038(0x210)][_0x105038(0x5bd)]?.[_0x105038(0x29b)],'code':this[_0x105038(0x210)]['qrcode']?.[_0x105038(0x387)],'base64':this['instance'][_0x105038(0x5bd)]?.[_0x105038(0x362)]};}async[a0_0x124f50(0x460)](){const _0x4da45b=a0_0x124f50;let _0x40a6b9=await this['repository'][_0x4da45b(0x235)]['find'](this['instanceName']);this['localWebhook']['url']=_0x40a6b9?.[_0x4da45b(0x753)],this[_0x4da45b(0x7fe)]['enabled']=_0x40a6b9?.['enabled'],this['localWebhook'][_0x4da45b(0x4af)]=_0x40a6b9?.[_0x4da45b(0x4af)],this['localWebhook'][_0x4da45b(0x458)]=_0x40a6b9?.['STATUS_INSTANCE'],this[_0x4da45b(0x7fe)][_0x4da45b(0x4d7)]=_0x40a6b9?.['QRCODE_UPDATED'],this[_0x4da45b(0x7fe)]['SEND_MESSAGE']=_0x40a6b9?.['SEND_MESSAGE'],this['localWebhook'][_0x4da45b(0x2bd)]=_0x40a6b9?.[_0x4da45b(0x2bd)],this[_0x4da45b(0x7fe)][_0x4da45b(0x4d4)]=_0x40a6b9?.['MESSAGES_UPDATE'],this[_0x4da45b(0x7fe)][_0x4da45b(0x4f6)]=_0x40a6b9?.[_0x4da45b(0x4f6)],this[_0x4da45b(0x7fe)]['GROUPS_UPDATE']=_0x40a6b9?.[_0x4da45b(0x327)],this[_0x4da45b(0x7fe)][_0x4da45b(0x3cf)]=_0x40a6b9?.[_0x4da45b(0x3cf)],this[_0x4da45b(0x7fe)][_0x4da45b(0x70d)]=_0x40a6b9?.[_0x4da45b(0x70d)],this['localWebhook']['CHATS_UPSERT']=_0x40a6b9?.[_0x4da45b(0x662)],this['localWebhook']['CHATS_UPDATE']=_0x40a6b9?.[_0x4da45b(0x39d)],this['localWebhook'][_0x4da45b(0x590)]=_0x40a6b9?.['CHATS_DELETE'],this[_0x4da45b(0x7fe)]['CONTACTS_SET']=_0x40a6b9?.[_0x4da45b(0x597)],this['localWebhook'][_0x4da45b(0x5ea)]=_0x40a6b9?.[_0x4da45b(0x5ea)],this[_0x4da45b(0x7fe)][_0x4da45b(0x367)]=_0x40a6b9?.[_0x4da45b(0x367)],this[_0x4da45b(0x7fe)][_0x4da45b(0x4a9)]=_0x40a6b9?.['PRESENCE_UPDATE'],this[_0x4da45b(0x7fe)][_0x4da45b(0x76b)]=_0x40a6b9?.['MESSAGES_SET'],this[_0x4da45b(0x7fe)][_0x4da45b(0x271)]=_0x40a6b9?.[_0x4da45b(0x271)],this[_0x4da45b(0x7fe)]['groups_ignore']=_0x40a6b9?.[_0x4da45b(0x52d)];}async[a0_0x124f50(0x26d)](_0x40fa4f){const _0x49f48e=a0_0x124f50;let _0x5136fa=[_0x49f48e(0x21c),_0x49f48e(0x753),'enabled',_0x49f48e(0x4af),_0x49f48e(0x458),_0x49f48e(0x4d7),_0x49f48e(0x4d4),'MESSAGES_UPSERT',_0x49f48e(0x403),_0x49f48e(0x4f6),_0x49f48e(0x327),'GROUP_PARTICIPANTS_UPDATE',_0x49f48e(0x70d),_0x49f48e(0x662),'CHATS_UPDATE',_0x49f48e(0x590),_0x49f48e(0x597),_0x49f48e(0x5ea),_0x49f48e(0x367),_0x49f48e(0x4a9),_0x49f48e(0x76b),'CONNECTION_UPDATE',_0x49f48e(0x52d)],_0x37d03c={};return _0x5136fa[_0x49f48e(0x53a)](_0x23c7da=>{_0x40fa4f[_0x23c7da]!==void 0x0&&(_0x37d03c[_0x23c7da]=_0x40fa4f[_0x23c7da]);}),await this[_0x49f48e(0x43e)]['webhook'][_0x49f48e(0x3ba)](_0x37d03c,this['instanceName']),Object[_0x49f48e(0x868)](this[_0x49f48e(0x7fe)],_0x37d03c),await this[_0x49f48e(0x43e)][_0x49f48e(0x235)][_0x49f48e(0x81d)](this[_0x49f48e(0x370)]);}async[a0_0x124f50(0x702)](){const _0x4bd356=a0_0x124f50;return await this[_0x4bd356(0x43e)][_0x4bd356(0x235)][_0x4bd356(0x81d)](this['instanceName']);}async[a0_0x124f50(0x28d)](_0x341c5a,_0xd4ce66){const _0x29f9a1=a0_0x124f50;let _0x498919=_0x341c5a[_0x29f9a1(0x261)](/[\.-]/gm,'_')[_0x29f9a1(0x4b1)](),_0x30d543=this[_0x29f9a1(0x7fe)][_0x29f9a1(0x55f)]&&(0x0,$[_0x29f9a1(0x5ff)])(this['localWebhook']['url'])?this['localWebhook']['url']+(this[_0x29f9a1(0x7fe)][_0x29f9a1(0x4af)]?this[_0x29f9a1(0x2dc)][_0x341c5a]:''):null,_0x481fdb=this[_0x29f9a1(0x7fe)][_0x498919],_0x293f82=ne&&ne[_0x29f9a1(0x55f)]&&(0x0,$[_0x29f9a1(0x5ff)])(ne['url'])?ne[_0x29f9a1(0x753)]+(ne[_0x29f9a1(0x4af)]?this[_0x29f9a1(0x2dc)][_0x341c5a]:''):null,_0x4ba6fe=ne?ne[_0x498919]:null;if(_0x481fdb&&_0x30d543)try{await se['default'][_0x29f9a1(0x3ba)]({'baseURL':_0x30d543})[_0x29f9a1(0x2f2)]('',{'event':_0x341c5a,'instance':this['instance']['name'],'apikey':this['instance']['apikey'],'data':_0xd4ce66}),this[_0x29f9a1(0x4e8)][_0x29f9a1(0x3b3)](this[_0x29f9a1(0x370)]+'\x20('+this[_0x29f9a1(0x210)][_0x29f9a1(0x834)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x341c5a+':\x20'+_0x30d543);}catch{this['logger'][_0x29f9a1(0x629)](this[_0x29f9a1(0x370)]+'\x20('+this[_0x29f9a1(0x210)][_0x29f9a1(0x834)]+_0x29f9a1(0x234)+_0x341c5a+':\x20'+_0x30d543);}if(_0x4ba6fe&&_0x293f82)try{await se['default']['create']({'baseURL':_0x293f82})[_0x29f9a1(0x2f2)]('',{'event':_0x341c5a,'instance':this[_0x29f9a1(0x210)]['name'],'apikey':this[_0x29f9a1(0x210)][_0x29f9a1(0x4c0)],'data':_0xd4ce66}),this['logger']['log'](this['instanceName']+'\x20('+this['instance'][_0x29f9a1(0x834)]+_0x29f9a1(0x545)+_0x341c5a+':\x20'+_0x293f82);}catch{this[_0x29f9a1(0x4e8)][_0x29f9a1(0x629)](this[_0x29f9a1(0x370)]+'\x20('+this[_0x29f9a1(0x210)][_0x29f9a1(0x834)]+_0x29f9a1(0x2ad)+_0x341c5a+':\x20'+_0x293f82);}}async['connectionUpdate']({qr:_0x4f7b58,connection:_0x554c34,lastDisconnect:_0x29dfdc}){const _0x16f0fc=a0_0x124f50;if(_0x4f7b58){if(this['instance'][_0x16f0fc(0x5bd)]['count']===mi)return this[_0x16f0fc(0x28d)](_0x16f0fc(0x2b9),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':g[_0x16f0fc(0x6b3)][_0x16f0fc(0x265)]}),this[_0x16f0fc(0x467)]={'state':_0x16f0fc(0x528),'statusReason':g[_0x16f0fc(0x6b3)][_0x16f0fc(0x5a9)]},this[_0x16f0fc(0x28d)](_0x16f0fc(0x2ae),{'instance':this[_0x16f0fc(0x210)][_0x16f0fc(0x350)],...this[_0x16f0fc(0x467)]}),this[_0x16f0fc(0x28d)](_0x16f0fc(0x850),{'instance':this[_0x16f0fc(0x210)]['name'],'status':_0x16f0fc(0x2c0)}),this[_0x16f0fc(0x43e)]['auth'][_0x16f0fc(0x3ba)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x16f0fc(0x269)]()},this[_0x16f0fc(0x210)][_0x16f0fc(0x350)]),this[_0x16f0fc(0x5ef)]=!0x0,this[_0x16f0fc(0x295)][_0x16f0fc(0x286)](_0x16f0fc(0x352),this[_0x16f0fc(0x210)][_0x16f0fc(0x350)]);this[_0x16f0fc(0x210)][_0x16f0fc(0x5bd)][_0x16f0fc(0x46d)]++;let _0x1f47b0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x16f0fc(0x7dd),'dark':_0x16f0fc(0x78d)}};yr['default']['toDataURL'](_0x4f7b58,_0x1f47b0,(_0x639c31,_0x5743dd)=>{const _0x22144c=_0x16f0fc;if(_0x639c31){this['logger'][_0x22144c(0x629)](this[_0x22144c(0x370)]+'\x20('+this[_0x22144c(0x210)]['wuid']+_0x22144c(0x4a0)+(_0x639c31 instanceof Error?_0x639c31[_0x22144c(0x3cd)]:JSON[_0x22144c(0x2b4)](_0x639c31,null,0x2)));return;}this['instance']['qrcode'][_0x22144c(0x362)]=_0x5743dd,this[_0x22144c(0x210)][_0x22144c(0x5bd)][_0x22144c(0x387)]=_0x4f7b58,this[_0x22144c(0x28d)](_0x22144c(0x2b9),{'qrcode':{'instance':this[_0x22144c(0x210)][_0x22144c(0x350)],'pairingCode':this['instance'][_0x22144c(0x5bd)][_0x22144c(0x29b)],'code':_0x4f7b58,'base64':_0x5743dd}});}),this['phoneNumber']?(await(0x0,g[_0x16f0fc(0x293)])(0x7d0),this[_0x16f0fc(0x210)][_0x16f0fc(0x5bd)][_0x16f0fc(0x29b)]=await this[_0x16f0fc(0x60b)][_0x16f0fc(0x863)](this[_0x16f0fc(0x5ab)])):this[_0x16f0fc(0x210)]['qrcode'][_0x16f0fc(0x29b)]=null,br['default']['generate'](_0x4f7b58,{'small':!0x0},_0x314f4a=>this['logger'][_0x16f0fc(0x3b3)](_0x16f0fc(0x569)+this[_0x16f0fc(0x210)][_0x16f0fc(0x350)]+_0x16f0fc(0x5aa)+this[_0x16f0fc(0x210)][_0x16f0fc(0x5bd)][_0x16f0fc(0x46d)]+',\x20pairCode:\x20'+this[_0x16f0fc(0x210)]['qrcode']['pairingCode']+_0x16f0fc(0x2e8)+_0x314f4a));}if(_0x554c34&&(this[_0x16f0fc(0x467)]={'state':_0x554c34,'statusReason':_0x29dfdc?.[_0x16f0fc(0x629)]?.[_0x16f0fc(0x72c)]?.[_0x16f0fc(0x734)]??0xc8},this[_0x16f0fc(0x28d)](_0x16f0fc(0x2ae),{'instance':this[_0x16f0fc(0x210)][_0x16f0fc(0x350)],...this[_0x16f0fc(0x467)]})),_0x554c34===_0x16f0fc(0x509)){if(this[_0x16f0fc(0x6eb)]++,this['reconnectTimestamps'][_0x16f0fc(0x1e7)](Date['now']()),this[_0x16f0fc(0x7f6)]=this[_0x16f0fc(0x7f6)][_0x16f0fc(0x5c0)](_0x1bec04=>Date['now']()-_0x1bec04<this['RECONNECT_TIME_FRAME']),_0x29dfdc[_0x16f0fc(0x629)]?.[_0x16f0fc(0x72c)]?.[_0x16f0fc(0x734)]!==g['DisconnectReason'][_0x16f0fc(0x241)]&&this[_0x16f0fc(0x7f6)][_0x16f0fc(0x230)]<=this[_0x16f0fc(0x5b6)])console[_0x16f0fc(0x3b3)](this[_0x16f0fc(0x370)]+_0x16f0fc(0x4a7)+this[_0x16f0fc(0x6eb)]+'/'+this[_0x16f0fc(0x5b6)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x16f0fc(0x3b3)]('Tentando\x20reconectar...'),await this[_0x16f0fc(0x7c5)]();else{this[_0x16f0fc(0x28d)]('status.instance',{'instance':this[_0x16f0fc(0x210)]['name'],'status':_0x16f0fc(0x2c0)}),this[_0x16f0fc(0x381)]=!0x1,this[_0x16f0fc(0x43e)][_0x16f0fc(0x235)][_0x16f0fc(0x3bb)](this[_0x16f0fc(0x370)]),this['repository'][_0x16f0fc(0x33d)][_0x16f0fc(0x3ba)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x16f0fc(0x269)]()},this[_0x16f0fc(0x210)]['name']);try{this['logger'][_0x16f0fc(0x64d)](this[_0x16f0fc(0x370)]+'\x20('+this[_0x16f0fc(0x210)][_0x16f0fc(0x834)]+_0x16f0fc(0x85f));let _0x13be5d=await this['repository'][_0x16f0fc(0x3cd)][_0x16f0fc(0x73a)](this[_0x16f0fc(0x210)][_0x16f0fc(0x834)]);_0x13be5d[_0x16f0fc(0x62f)]?this[_0x16f0fc(0x4e8)][_0x16f0fc(0x64d)](this[_0x16f0fc(0x370)]+'\x20('+this[_0x16f0fc(0x210)][_0x16f0fc(0x834)]+_0x16f0fc(0x833)):console[_0x16f0fc(0x629)](_0x16f0fc(0x474),_0x13be5d[_0x16f0fc(0x629)]);}catch(_0x2f3f41){console[_0x16f0fc(0x629)](_0x16f0fc(0x568),_0x2f3f41);}this[_0x16f0fc(0x201)]!==null&&(this[_0x16f0fc(0x4e8)][_0x16f0fc(0x64d)](this[_0x16f0fc(0x370)]+'\x20('+this[_0x16f0fc(0x210)]['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x16f0fc(0x201)]),this[_0x16f0fc(0x201)]=null),this[_0x16f0fc(0x4e8)]['verbose'](this[_0x16f0fc(0x370)]+'\x20('+this[_0x16f0fc(0x210)]['wuid']+_0x16f0fc(0x672)),this[_0x16f0fc(0x669)]=null,this['eventEmitter'][_0x16f0fc(0x286)](_0x16f0fc(0x616),this[_0x16f0fc(0x210)][_0x16f0fc(0x350)],_0x16f0fc(0x74f)),this[_0x16f0fc(0x60b)]?.['ws']?.[_0x16f0fc(0x509)](),this[_0x16f0fc(0x60b)][_0x16f0fc(0x5d3)](new Error(_0x16f0fc(0x4aa)));}}if(_0x554c34===_0x16f0fc(0x3f9)){this[_0x16f0fc(0x60b)]['ev']['flush'](),this[_0x16f0fc(0x262)],this['instance'][_0x16f0fc(0x834)]=this[_0x16f0fc(0x60b)][_0x16f0fc(0x21e)]['id'][_0x16f0fc(0x261)](/:\d+/,'')[_0x16f0fc(0x261)]('@s.whatsapp.net',''),this[_0x16f0fc(0x210)][_0x16f0fc(0x499)]=(await this['profilePicture'](this[_0x16f0fc(0x210)][_0x16f0fc(0x834)]+'@s.whatsapp.net'))[_0x16f0fc(0x499)],this[_0x16f0fc(0x43e)][_0x16f0fc(0x33d)]['create']({'online':!0x0,'owner':this['instance'][_0x16f0fc(0x834)],'lastDisconnect':null},this[_0x16f0fc(0x210)][_0x16f0fc(0x350)]);let _0x3b385f=_0x16f0fc(0x3ea)+this[_0x16f0fc(0x210)][_0x16f0fc(0x834)],_0x32b909=0x28,_0x5cc348=Math[_0x16f0fc(0x59c)]((_0x32b909-_0x3b385f[_0x16f0fc(0x230)])/0x2),_0x1679ca='\x20'[_0x16f0fc(0x30b)](_0x5cc348),_0x3f12e0=_0x16f0fc(0x39e),_0xf13967=_0x16f0fc(0x726)+this['instance'][_0x16f0fc(0x350)],_0x355286=(''+_0x1679ca+_0x3b385f+_0x1679ca)[_0x16f0fc(0x34b)](_0x32b909,'\x20'),_0xad3270=(''+_0x1679ca+_0x3f12e0+_0x1679ca)['padEnd'](_0x32b909,'\x20'),_0x6c2da7=(''+_0x1679ca+_0xf13967+_0x1679ca)[_0x16f0fc(0x34b)](_0x32b909,'\x20'),_0x4d5f38=Math['max'](_0x355286[_0x16f0fc(0x230)],_0xad3270['length'],_0x6c2da7[_0x16f0fc(0x230)]),_0x27a589=_0x355286[_0x16f0fc(0x34b)](_0x4d5f38,'\x20'),_0x3b2ae0=_0xad3270[_0x16f0fc(0x34b)](_0x4d5f38,'\x20'),_0x3e1aab=_0x6c2da7[_0x16f0fc(0x34b)](_0x4d5f38,'\x20');this['logger'][_0x16f0fc(0x25f)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x16f0fc(0x30b)](_0x4d5f38)+_0x16f0fc(0x365)+_0x3b2ae0+_0x16f0fc(0x5fc)+_0x3e1aab+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x27a589+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x4d5f38)+'┘')[_0x16f0fc(0x261)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x16f0fc(0x381)]=!0x0;}}['resetReconnectionVariables'](){const _0x238b1d=a0_0x124f50;this[_0x238b1d(0x6eb)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x124f50(0x43d)](_0xd20687,_0x173786=!0x1){const _0x34add9=a0_0x124f50;try{let _0xf1ee4c=await this['repository']['message']['find']({'where':{'_id':_0xd20687['id']}},this[_0x34add9(0x210)]['wuid']);return _0x173786?_0xf1ee4c[0x0]:_0xf1ee4c[0x0][_0x34add9(0x3cd)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x5b6e82=a0_0x124f50;let _0x28ecb2=this['configService']['get']('STORE'),_0x19e5dd=this[_0x5b6e82(0x58f)][_0x5b6e82(0x45b)](_0x5b6e82(0x1f0));_0x28ecb2?.['CLEANING_INTERVAL']&&!_0x19e5dd[_0x5b6e82(0x6a1)]&&setInterval(()=>{const _0x417f66=_0x5b6e82;try{for(let [_0x4f1316,_0xfa05cb]of Object[_0x417f66(0x1f6)](_0x28ecb2))_0xfa05cb===!0x0&&(0x0,Pt[_0x417f66(0x414)])('rm\x20-rf\x20'+(0x0,j['join'])(this[_0x417f66(0x5d7)],_0x4f1316[_0x417f66(0x847)](),this['instance'][_0x417f66(0x834)])+_0x417f66(0x440));}catch{}},(_0x28ecb2?.[_0x5b6e82(0x2ca)]??0xe10)*0x3e8);}async[a0_0x124f50(0x722)](){const _0x19178d=a0_0x124f50;let _0x443526=this[_0x19178d(0x58f)][_0x19178d(0x45b)](_0x19178d(0x1f0)),_0x116cf9=this[_0x19178d(0x58f)]['get']('REDIS');return _0x116cf9?.[_0x19178d(0x6a1)]?await bs(_0x116cf9,this[_0x19178d(0x210)][_0x19178d(0x350)]):_0x443526[_0x19178d(0x6a1)]?await ys(this[_0x19178d(0x210)][_0x19178d(0x350)]):await(0x0,g[_0x19178d(0x72a)])((0x0,j[_0x19178d(0x21f)])(ge,this[_0x19178d(0x210)][_0x19178d(0x350)]));}async[a0_0x124f50(0x85d)](){const _0xd99a22=a0_0x124f50;let _0x37ac51=()=>Math[_0xd99a22(0x59c)](Math[_0xd99a22(0x3fe)]()*0x2711)+0x7d0,_0x46f248=async()=>{const _0xfc2475=_0xd99a22;if(!this[_0xfc2475(0x381)]){this[_0xfc2475(0x4e8)][_0xfc2475(0x64d)](_0xfc2475(0x221)),this[_0xfc2475(0x330)]=!0x1;return;}if(this[_0xfc2475(0x210)][_0xfc2475(0x834)]&&this[_0xfc2475(0x669)]&&this[_0xfc2475(0x201)]!==null&&this[_0xfc2475(0x201)]!==void 0x0){let _0x4fe9b9=Math[_0xfc2475(0x755)](this[_0xfc2475(0x201)]/0xea60);this[_0xfc2475(0x4e8)][_0xfc2475(0x64d)](this['instanceName']+'\x20('+this[_0xfc2475(0x210)][_0xfc2475(0x834)]+_0xfc2475(0x6e0)+_0x4fe9b9+_0xfc2475(0x774)),this[_0xfc2475(0x330)]=!0x1;return;}else this[_0xfc2475(0x210)][_0xfc2475(0x834)]&&(this[_0xfc2475(0x4e8)][_0xfc2475(0x64d)](this[_0xfc2475(0x370)]+'\x20('+this['instance'][_0xfc2475(0x834)]+_0xfc2475(0x430)),this['logger'][_0xfc2475(0x64d)](this[_0xfc2475(0x370)]+'\x20('+this[_0xfc2475(0x210)][_0xfc2475(0x834)]+_0xfc2475(0x34c)),this[_0xfc2475(0x669)]||await this[_0xfc2475(0x3c4)](),(this[_0xfc2475(0x201)]===null||this['delayMessage']===void 0x0)&&await this[_0xfc2475(0x6f5)]());if(this[_0xfc2475(0x330)]){let _0x5e4b5c=_0x37ac51();this['logger'][_0xfc2475(0x64d)](this[_0xfc2475(0x370)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x5e4b5c/0x3e8+_0xfc2475(0x5d8)),setTimeout(_0x46f248,_0x5e4b5c);}};if(this[_0xd99a22(0x330)])return;this[_0xd99a22(0x330)]=!0x0;let _0x2244d5=_0x37ac51();setTimeout(_0x46f248,_0x2244d5);}async[a0_0x124f50(0x3bc)](_0x3dfb5c=0x0,_0x981eb5=!0x1){const _0x399bab=a0_0x124f50;try{let _0x57ea70=this[_0x399bab(0x58f)][_0x399bab(0x45b)]('PROXY');if(_0x57ea70!==0x1||typeof _0x57ea70>'u'||_0x3dfb5c>=0x5)return this[_0x399bab(0x4e8)][_0x399bab(0x613)](_0x399bab(0x417)),this[_0x399bab(0x43e)][_0x399bab(0x33d)]['create']({'ip':null},this[_0x399bab(0x210)]['name']),{};this[_0x399bab(0x4e8)]['verbose'](this['instanceName']+_0x399bab(0x56c)+(_0x3dfb5c+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x4bb5d0;if(!_0x981eb5){let _0x5e8e7f=await this[_0x399bab(0x43e)][_0x399bab(0x33d)][_0x399bab(0x81d)](this[_0x399bab(0x370)]);_0x5e8e7f&&_0x5e8e7f['ip']&&(_0x4bb5d0=pr(_0x5e8e7f['ip']));}if((!_0x4bb5d0||!Ss(_0x4bb5d0))&&(this[_0x399bab(0x4e8)][_0x399bab(0x613)](this[_0x399bab(0x370)]+_0x399bab(0x64a)),_0x4bb5d0=hr()),_0x4bb5d0&&Ss(_0x4bb5d0)){let _0x3e4ff1=_0x4bb5d0['username']&&_0x4bb5d0[_0x399bab(0x206)]?_0x4bb5d0[_0x399bab(0x79a)]+'://'+_0x4bb5d0[_0x399bab(0x346)]+':'+_0x4bb5d0[_0x399bab(0x206)]+'@'+_0x4bb5d0[_0x399bab(0x2ac)]+':'+_0x4bb5d0[_0x399bab(0x7fa)]:_0x4bb5d0[_0x399bab(0x79a)]+'://'+_0x4bb5d0[_0x399bab(0x2ac)]+':'+_0x4bb5d0[_0x399bab(0x7fa)];return await this[_0x399bab(0x2b6)](_0x3e4ff1,_0x4bb5d0['host'])?(this[_0x399bab(0x4e8)][_0x399bab(0x64d)](this['instanceName']+_0x399bab(0x347)),this['repository']['auth']['create']({'ip':_0x4bb5d0[_0x399bab(0x2ac)]},this[_0x399bab(0x210)][_0x399bab(0x350)]),{'agent':new _t[(_0x399bab(0x6c8))](_0x3e4ff1),'fetchAgent':new _t[(_0x399bab(0x6c8))](_0x3e4ff1)}):(this[_0x399bab(0x4e8)][_0x399bab(0x613)](this[_0x399bab(0x370)]+_0x399bab(0x69d)),await(0x0,g[_0x399bab(0x293)])(0xc8),this['loadproxy'](_0x3dfb5c+0x1,!0x0));}else return this[_0x399bab(0x4e8)][_0x399bab(0x613)](this[_0x399bab(0x370)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,g[_0x399bab(0x293)])(0xc8),this[_0x399bab(0x3bc)](_0x3dfb5c+0x1,!0x0);}catch(_0x4626a2){return this[_0x399bab(0x4e8)][_0x399bab(0x629)](this['instanceName']+_0x399bab(0x857)+_0x4626a2[_0x399bab(0x3cd)]),{};}}async[a0_0x124f50(0x2b6)](_0xe1d299,_0x378018){const _0x16c2a7=a0_0x124f50;let _0x5cef45=new _t[(_0x16c2a7(0x6c8))](_0xe1d299),_0x97a2cc=0x1388,_0x3c5ce8=[{'url':_0x16c2a7(0x700),'parse':_0x4042c5=>_0x4042c5['ip']},{'url':_0x16c2a7(0x6fa),'parse':_0x764ac=>_0x764ac['ip']},{'url':_0x16c2a7(0x743),'parse':_0x20b19a=>_0x20b19a['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0xa0d303=>_0xa0d303['ip']},{'url':'http://ifconfig.me/ip','parse':_0x9cf223=>_0x9cf223[_0x16c2a7(0x485)]()},{'url':_0x16c2a7(0x804),'parse':_0x431c3f=>_0x431c3f['trim']()},{'url':_0x16c2a7(0x86f),'parse':_0x32a3e8=>_0x32a3e8[_0x16c2a7(0x7cc)]},{'url':'http://myexternalip.com/raw','parse':_0x1d2275=>_0x1d2275[_0x16c2a7(0x485)]()},{'url':_0x16c2a7(0x76d),'parse':_0x429438=>_0x429438[_0x16c2a7(0x485)]()}],_0x3ae3bc=_0x3c5ce8[Math['floor'](Math[_0x16c2a7(0x3fe)]()*_0x3c5ce8[_0x16c2a7(0x230)])];try{let _0x45b792=await se[_0x16c2a7(0x223)]['get'](_0x3ae3bc['url'],{'httpsAgent':_0x5cef45,'timeout':_0x97a2cc}),_0x481759=_0x3ae3bc[_0x16c2a7(0x1da)](_0x45b792['data']);return _0x481759===_0x378018?(this['logger']['verbose'](this['instanceName']+_0x16c2a7(0x320)+_0x378018+_0x16c2a7(0x1fb)+_0x481759+_0x16c2a7(0x508)),!0x0):(this[_0x16c2a7(0x4e8)][_0x16c2a7(0x629)](this[_0x16c2a7(0x370)]+_0x16c2a7(0x320)+_0x378018+_0x16c2a7(0x1fb)+_0x481759+_0x16c2a7(0x4dc)),!0x1);}catch(_0x3478e6){return this['logger'][_0x16c2a7(0x629)](this[_0x16c2a7(0x370)]+_0x16c2a7(0x86d)+_0x3ae3bc[_0x16c2a7(0x753)]+':\x20'+_0x3478e6[_0x16c2a7(0x3cd)]),!0x1;}}async[a0_0x124f50(0x7c5)](_0x3f890d){const _0x93f33b=a0_0x124f50;try{let _0x53e5e5=await this[_0x93f33b(0x3bc)]();this['loadWebhook'](),this[_0x93f33b(0x210)][_0x93f33b(0x4c0)]=(await this[_0x93f33b(0x43e)][_0x93f33b(0x33d)][_0x93f33b(0x81d)](this[_0x93f33b(0x210)][_0x93f33b(0x350)]))[_0x93f33b(0x4c0)],this[_0x93f33b(0x210)][_0x93f33b(0x611)]=await this[_0x93f33b(0x722)]();let {version:_0x5cd86a}=await(0x0,g[_0x93f33b(0x299)])(),_0x25e5ce=[Cr,Er,(0x0,Sr[_0x93f33b(0x406)])()],_0x294346={..._0x53e5e5,'auth':{'creds':this[_0x93f33b(0x210)][_0x93f33b(0x611)][_0x93f33b(0x244)][_0x93f33b(0x600)],'keys':(0x0,g[_0x93f33b(0x7c0)])(this[_0x93f33b(0x210)][_0x93f33b(0x611)][_0x93f33b(0x244)][_0x93f33b(0x311)],(0x0,It[_0x93f33b(0x223)])({'level':_0x93f33b(0x629)}))},'logger':(0x0,It[_0x93f33b(0x223)])({'level':_0x93f33b(0x629)}),'printQRInTerminal':!0x1,'browser':_0x25e5ce,'version':_0x5cd86a,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xb182d1=>{const _0x581163=_0x93f33b;let _0x1b78ff=_0xb182d1[_0x581163(0x338)](_0x581163(0x742)),_0x203ca9=this[_0x581163(0x7fe)]?.[_0x581163(0x52d)]&&_0xb182d1[_0x581163(0x338)](_0x581163(0x459));return _0x1b78ff||(0x0,g['isJidBroadcast'])(_0xb182d1)||_0x203ca9;},'msgRetryCounterCache':this[_0x93f33b(0x7b6)],'getMessage':async _0x46a6a2=>await this['getMessage'](_0x46a6a2),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x14f79d=>(_0x14f79d[_0x93f33b(0x4bb)]?.[_0x93f33b(0x81f)]==g[_0x93f33b(0x510)]['Message']['ListMessage']['ListType'][_0x93f33b(0x372)]&&(_0x14f79d=JSON[_0x93f33b(0x1da)](JSON[_0x93f33b(0x2b4)](_0x14f79d)),_0x14f79d[_0x93f33b(0x4bb)][_0x93f33b(0x81f)]=g[_0x93f33b(0x510)][_0x93f33b(0x639)][_0x93f33b(0x7d0)][_0x93f33b(0x596)][_0x93f33b(0x1e6)]),_0x14f79d)};return this[_0x93f33b(0x5ef)]=!0x1,this['client']=(0x0,g[_0x93f33b(0x223)])(_0x294346),this['eventHandler'](),this[_0x93f33b(0x5ab)]=_0x3f890d,this['client'];}catch(_0x5b1794){throw this[_0x93f33b(0x4e8)][_0x93f33b(0x629)](this[_0x93f33b(0x370)]+'\x20('+this[_0x93f33b(0x210)][_0x93f33b(0x834)]+_0x93f33b(0x839)+(_0x5b1794 instanceof Error?_0x5b1794[_0x93f33b(0x3cd)]:JSON[_0x93f33b(0x2b4)](_0x5b1794,null,0x2))),new I(_0x5b1794?.[_0x93f33b(0x782)]());}}['eventHandler'](){const _0x4080a8=a0_0x124f50;this[_0x4080a8(0x60b)]['ev'][_0x4080a8(0x6aa)](_0x5b38b3=>{const _0x561134=_0x4080a8;if(!this['endSession']){let _0x582448=this[_0x561134(0x58f)][_0x561134(0x45b)](_0x561134(0x1f0));if(_0x5b38b3['labels.edit']){let _0xca4164=_0x5b38b3[_0x561134(0x482)];this[_0x561134(0x252)][_0x561134(0x482)](_0xca4164);}if(_0x5b38b3['labels.association']){let _0x23d7aa=_0x5b38b3[_0x561134(0x4d1)];this[_0x561134(0x252)][_0x561134(0x4d1)](_0x23d7aa);}if(_0x5b38b3['connection.update']&&this[_0x561134(0x6a2)](_0x5b38b3[_0x561134(0x2ae)]),_0x5b38b3[_0x561134(0x7f3)]&&this[_0x561134(0x210)][_0x561134(0x611)][_0x561134(0x66d)](),_0x5b38b3[_0x561134(0x801)]){let _0x1c588f=_0x5b38b3[_0x561134(0x801)];this[_0x561134(0x252)][_0x561134(0x801)](_0x1c588f,_0x582448);}if(_0x5b38b3[_0x561134(0x2c9)]){let _0xeec99c=_0x5b38b3[_0x561134(0x2c9)];this['messageHandle'][_0x561134(0x2c9)](_0xeec99c,_0x582448);}if(_0x5b38b3[_0x561134(0x582)]){let _0x200d3e=_0x5b38b3[_0x561134(0x582)];_0x200d3e[_0x561134(0x53a)](_0x5aa2b4=>{const _0x43e770=_0x561134;if(mr[_0x5aa2b4['key']['id']]){this['client']['ev'][_0x43e770(0x286)]('messages.upsert',{'messages':[_0x5aa2b4],'type':_0x43e770(0x4ef)}),delete mr[_0x5aa2b4[_0x43e770(0x1fe)]['id']];return;}}),this['messageHandle']['messages.update'](_0x200d3e,_0x582448);}if(_0x5b38b3[_0x561134(0x775)]){let _0x539272=_0x5b38b3[_0x561134(0x775)];if(this[_0x561134(0x7fe)]?.[_0x561134(0x52d)]&&_0x539272['id'][_0x561134(0x6c2)](_0x561134(0x459)))return;this['sendDataWebhook']('presence.update',_0x539272);}if(!this['localWebhook']?.[_0x561134(0x52d)]){if(_0x5b38b3[_0x561134(0x7f2)]){let _0x354d14=_0x5b38b3['groups.upsert'];this[_0x561134(0x360)][_0x561134(0x7f2)](_0x354d14);}if(_0x5b38b3['groups.update']){let _0x26ef74=_0x5b38b3[_0x561134(0x40e)];this[_0x561134(0x360)]['groups.update'](_0x26ef74);}if(_0x5b38b3[_0x561134(0x402)]){let _0x21ffb7=_0x5b38b3[_0x561134(0x402)];this[_0x561134(0x360)][_0x561134(0x402)](_0x21ffb7);}}if(_0x5b38b3[_0x561134(0x79b)]){let _0x389624=_0x5b38b3[_0x561134(0x79b)];this[_0x561134(0x7a5)][_0x561134(0x79b)](_0x389624,_0x582448);}if(_0x5b38b3[_0x561134(0x574)]){let _0x5d6027=_0x5b38b3[_0x561134(0x574)];this[_0x561134(0x7a5)]['chats.update'](_0x5d6027,_0x582448);}if(_0x5b38b3['chats.delete']){let _0x1d9a67=_0x5b38b3[_0x561134(0x494)];this[_0x561134(0x7a5)][_0x561134(0x494)](_0x1d9a67);}if(_0x5b38b3['contacts.upsert']){let _0x432ad8=_0x5b38b3['contacts.upsert'];this[_0x561134(0x657)][_0x561134(0x559)](_0x432ad8,_0x582448);}if(_0x5b38b3[_0x561134(0x796)]){let _0x3bc7f5=_0x5b38b3[_0x561134(0x796)];this[_0x561134(0x657)][_0x561134(0x796)](_0x3bc7f5,_0x582448);}}});}[a0_0x124f50(0x502)](_0x5382e0){return new Promise(_0x23fd86=>setTimeout(_0x23fd86,_0x5382e0));}[a0_0x124f50(0x6a8)](_0x13b682){let _0x2835d1=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x13b682);if(_0x2835d1&&_0x2835d1[0x1]==='55'){let _0x5462c3=_0x2835d1[0x2],_0x59d261=_0x2835d1[0x3],_0x358d97=_0x2835d1[0x4];if(_0x5462c3>='31'&&_0x59d261==='9')return _0x2835d1[0x1]+_0x5462c3+_0x358d97;}return _0x13b682;}[a0_0x124f50(0x54a)](_0x4f5068){const _0x51800a=a0_0x124f50;return _0x4f5068[_0x51800a(0x6c2)](_0x51800a(0x459))||_0x4f5068['includes'](_0x51800a(0x483))||_0x4f5068['includes']('@broadcast')?_0x4f5068:(_0x4f5068=_0x4f5068?.[_0x51800a(0x261)](/\s/g,'')['replace'](/\+/g,'')[_0x51800a(0x261)](/\(/g,'')['replace'](/\)/g,'')[_0x51800a(0x4f0)](/\:/)[0x0]['split']('@')[0x0],_0x4f5068['length']>=0x12?(_0x4f5068=_0x4f5068['replace'](/[^\d-]/g,''),_0x4f5068+'@g.us'):(_0x4f5068=_0x4f5068[_0x51800a(0x261)](/\D/g,''),this[_0x51800a(0x6a8)](_0x4f5068)+'@s.whatsapp.net'));}async['updatePresence'](_0x2e987a){const _0x3d4174=a0_0x124f50;let _0x2c1377=this['createJid'](_0x2e987a[_0x3d4174(0x5cb)]),_0x466cda=(await this[_0x3d4174(0x645)]({'numbers':[_0x2c1377]}))[0x0];if(!_0x466cda[_0x3d4174(0x319)]&&!(0x0,g[_0x3d4174(0x556)])(_0x466cda[_0x3d4174(0x619)]))throw new w(_0x466cda);let _0x14b939=(0x0,g[_0x3d4174(0x556)])(_0x2c1377)?_0x2c1377:_0x466cda['jid'];if((0x0,g[_0x3d4174(0x556)])(_0x14b939))try{await this[_0x3d4174(0x60b)]['groupMetadata'](_0x14b939);}catch{throw new k('Group\x20not\x20found');}try{return await this[_0x3d4174(0x60b)][_0x3d4174(0x2a8)](_0x14b939),await this[_0x3d4174(0x60b)][_0x3d4174(0x551)](_0x2e987a[_0x3d4174(0x637)],_0x2c1377),{'status':0xc8,'presence':_0x2e987a[_0x3d4174(0x637)]};}catch(_0x420a12){throw new w(_0x420a12[_0x3d4174(0x782)]());}}async['profilePicture'](_0x13d349){const _0xc2a7e3=a0_0x124f50;let _0x7ea4a0=this[_0xc2a7e3(0x54a)](_0x13d349);try{return{'wuid':_0x7ea4a0,'profilePictureUrl':await this['client'][_0xc2a7e3(0x499)](_0x7ea4a0,'image')};}catch{return{'wuid':_0x7ea4a0,'profilePictureUrl':null};}}async[a0_0x124f50(0x7a0)](_0x63e2e7,_0x4f22f6,_0x3406c6){const _0x432994=a0_0x124f50;_0x3406c6||(_0x3406c6={});let _0x28030d=(await this[_0x432994(0x645)]({'numbers':[_0x63e2e7]}))[0x0];if(!_0x28030d[_0x432994(0x319)]&&!(0x0,g['isJidGroup'])(_0x28030d[_0x432994(0x619)])&&!_0x28030d['jid']['includes']('@broadcast'))throw new w(_0x28030d);let _0xcb1caf=_0x28030d['jid'];try{_0x3406c6?.[_0x432994(0x293)]&&(await this['client']['presenceSubscribe'](_0xcb1caf),await this[_0x432994(0x60b)][_0x432994(0x551)](_0x3406c6?.[_0x432994(0x637)]??_0x432994(0x67c),_0xcb1caf),await(0x0,g[_0x432994(0x293)])(_0x3406c6['delay']),await this[_0x432994(0x60b)][_0x432994(0x551)](_0x432994(0x49a),_0xcb1caf));let _0x4261dc=_0x3406c6?.[_0x432994(0x207)]!=!0x1?void 0x0:!0x1,_0x2d4462;if(_0x3406c6?.[_0x432994(0x251)]){let _0x2bcf3f=_0x3406c6?.[_0x432994(0x251)],_0x58353f=_0x2bcf3f?.[_0x432994(0x3cd)]?_0x2bcf3f:await this[_0x432994(0x43d)](_0x2bcf3f[_0x432994(0x1fe)],!0x0);if(!_0x58353f)throw _0x432994(0x49d);_0x2d4462=_0x58353f;}let _0x8c2cf1;if((0x0,g['isJidGroup'])(_0xcb1caf))try{let _0x325ac2=await this[_0x432994(0x60b)]['groupMetadata'](_0xcb1caf);if(!_0x325ac2)throw new k('Group\x20not\x20found');_0x3406c6?.[_0x432994(0x2fc)]&&(_0x3406c6['mentions']?.[_0x432994(0x7dc)]?_0x8c2cf1=_0x325ac2['participants']['map'](_0x4700cc=>_0x4700cc['id']):_0x3406c6[_0x432994(0x2fc)]?.['mentioned']?.[_0x432994(0x230)]&&(_0x8c2cf1=_0x3406c6[_0x432994(0x2fc)][_0x432994(0x3cc)][_0x432994(0x5c2)](_0x3684b4=>{const _0x47b9a6=_0x432994;let _0x301c3e=this['createJid'](_0x3684b4);return(0x0,g[_0x47b9a6(0x556)])(_0x301c3e)?null:_0x301c3e;})));}catch{throw new k(_0x432994(0x809));}let _0x3cc019=await((async()=>{const _0x465d29=_0x432994;let _0x181e8a={'quoted':_0x2d4462};if(!_0x4f22f6['audio']&&!_0x4f22f6[_0x465d29(0x60d)]&&!_0x4f22f6[_0x465d29(0x4e6)]&&!_0x4f22f6[_0x465d29(0x800)]&&_0xcb1caf!=='status@broadcast'&&!_0x4f22f6[_0x465d29(0x2f8)])return await this['client']['sendMessage'](_0xcb1caf,{'forward':{'key':{'remoteJid':this[_0x465d29(0x210)][_0x465d29(0x834)],'fromMe':!0x0},'message':_0x4f22f6},'mentions':_0x8c2cf1},_0x181e8a);if(_0x4f22f6['reactionMessage'])return await this[_0x465d29(0x60b)]['sendMessage'](_0xcb1caf,{'react':{'text':_0x4f22f6[_0x465d29(0x70b)][_0x465d29(0x2ff)],'key':_0x4f22f6[_0x465d29(0x70b)][_0x465d29(0x1fe)]}},_0x181e8a);if(_0x4f22f6[_0x465d29(0x800)]){let _0x2f28e3=_0x4f22f6['conversation'];return _0x3406c6?.[_0x465d29(0x426)]&&(_0x2f28e3=await this[_0x465d29(0x4e0)](_0x2f28e3,_0xcb1caf)),await this[_0x465d29(0x60b)][_0x465d29(0x3a2)](_0xcb1caf,{'text':_0x2f28e3,'mentions':_0x8c2cf1,'linkPreview':_0x4261dc},_0x181e8a);}return _0xcb1caf===_0x465d29(0x3f6)?await this[_0x465d29(0x60b)]['sendMessage'](_0xcb1caf,_0x4f22f6[_0x465d29(0x84c)][_0x465d29(0x524)],{'backgroundColor':_0x4f22f6[_0x465d29(0x84c)][_0x465d29(0x5ec)][_0x465d29(0x2c4)],'font':_0x4f22f6[_0x465d29(0x84c)]['option'][_0x465d29(0x5ee)],'statusJidList':_0x4f22f6['status']['option'][_0x465d29(0x220)]}):await this[_0x465d29(0x60b)]['sendMessage'](_0xcb1caf,_0x4f22f6,_0x181e8a);})()),_0x57cd74=(0x0,g[_0x432994(0x667)])(_0x3cc019[_0x432994(0x3cd)]),_0x8836c8=(0x0,g[_0x432994(0x723)])(_0x57cd74),{message_normalized:_0x2494f4}=this[_0x432994(0x594)](_0x57cd74,_0x8836c8,null),_0x3f5635={'_id':_0x3cc019[_0x432994(0x1fe)]['id'],'key':_0x3cc019['key'],'pushName':_0x3cc019[_0x432994(0x30f)],'message':_0x57cd74,'messageType':_0x8836c8,'message_normalized':{'key':_0x3cc019['key'],'pushName':_0x3cc019[_0x432994(0x30f)],'messageTimestamp':_0x3cc019['messageTimestamp']&&_0x3cc019[_0x432994(0x6bf)]['toString']()[_0x432994(0x230)]<0xd?_0x3cc019[_0x432994(0x6bf)]*0x3e8:_0x3cc019[_0x432994(0x6bf)]||null,'source':(0x0,g['getDevice'])(_0x3cc019[_0x432994(0x1fe)]['id']),..._0x2494f4},'messageTimestamp':_0x3cc019[_0x432994(0x6bf)]&&_0x3cc019['messageTimestamp'][_0x432994(0x782)]()['length']<0xd?_0x3cc019[_0x432994(0x6bf)]*0x3e8:_0x3cc019[_0x432994(0x6bf)]||null,'owner':this[_0x432994(0x210)]['wuid'],'source':(0x0,g[_0x432994(0x341)])(_0x3cc019[_0x432994(0x1fe)]['id'])};return this['logger'][_0x432994(0x613)](this[_0x432994(0x370)]+'\x20('+this['instance'][_0x432994(0x834)]+_0x432994(0x4d8)+_0x3f5635[_0x432994(0x1fe)]?.[_0x432994(0x540)][_0x432994(0x261)](_0x432994(0x483),'')+_0x432994(0x82d)+_0x3f5635[_0x432994(0x6e8)]+')'),_0x3f5635[_0x432994(0x7bb)]?.[_0x432994(0x2ff)]&&this[_0x432994(0x4e8)][_0x432994(0x613)](_0x3f5635['message_normalized']?.['text']),this['sendDataWebhook']('send.message',_0x3f5635),q(this['instanceName'],'messages',{'message':_0x3f5635}),this[_0x432994(0x60e)](this[_0x432994(0x58f)][_0x432994(0x45b)]('DATABASE'),_0x3f5635,_0x432994(0x403)),await this['repository']['message'][_0x432994(0x24e)]([_0x3f5635],this[_0x432994(0x210)][_0x432994(0x834)]),_0x3cc019;}catch(_0x3a01d8){throw this[_0x432994(0x4e8)][_0x432994(0x629)](this[_0x432994(0x370)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3a01d8[_0x432994(0x782)]()),new w(_0x3a01d8[_0x432994(0x782)]());}}get[a0_0x124f50(0x2d1)](){const _0x3fae4d=a0_0x124f50;return this[_0x3fae4d(0x467)];}async[a0_0x124f50(0x72b)](_0x80bbec){const _0x88c347=a0_0x124f50;let _0x308445=gr,_0x109cb=Ke;return _0x109cb&&this['instanceName'][_0x88c347(0x847)]()[_0x88c347(0x6c2)](_0x109cb['toLowerCase']())&&(_0x80bbec['textMessage'][_0x88c347(0x2ff)]+='\x0a\x0a'+_0x308445),await this[_0x88c347(0x7a0)](_0x80bbec[_0x88c347(0x5cb)],{'conversation':_0x80bbec[_0x88c347(0x72b)][_0x88c347(0x2ff)]},_0x80bbec?.[_0x88c347(0x7d5)]);}async[a0_0x124f50(0x7e4)](_0x103711){const _0x1ec321=a0_0x124f50;if(!_0x103711[_0x1ec321(0x76c)])throw new w(_0x1ec321(0x1f5));if(!_0x103711['content'])throw new w(_0x1ec321(0x48c));if(_0x103711[_0x1ec321(0x80e)]){let _0x384b19=await this[_0x1ec321(0x43e)][_0x1ec321(0x65e)][_0x1ec321(0x81d)]({'where':{}},this['instance'][_0x1ec321(0x834)]);if(!_0x384b19[_0x1ec321(0x230)])throw new w(_0x1ec321(0x3b5));_0x103711[_0x1ec321(0x220)]=_0x384b19[_0x1ec321(0x5c0)](_0x35ccc4=>_0x35ccc4['pushName'])[_0x1ec321(0x5c2)](_0x2ca8c2=>_0x2ca8c2[_0x1ec321(0x21c)]);}if(!_0x103711['statusJidList']?.[_0x1ec321(0x230)]&&!_0x103711[_0x1ec321(0x80e)])throw new w(_0x1ec321(0x5cc));if(_0x103711[_0x1ec321(0x76c)]===_0x1ec321(0x2ff)){if(!_0x103711[_0x1ec321(0x2c4)])throw new w(_0x1ec321(0x685));if(!_0x103711['font'])throw new w(_0x1ec321(0x5bc));return{'content':{'text':_0x103711[_0x1ec321(0x524)]},'option':{'backgroundColor':_0x103711[_0x1ec321(0x2c4)],'font':_0x103711[_0x1ec321(0x5ee)],'statusJidList':_0x103711[_0x1ec321(0x220)]}};}if(_0x103711[_0x1ec321(0x76c)]===_0x1ec321(0x5bb))return{'content':{'image':{'url':_0x103711[_0x1ec321(0x524)]},'caption':_0x103711[_0x1ec321(0x245)]},'option':{'statusJidList':_0x103711['statusJidList']}};if(_0x103711[_0x1ec321(0x76c)]===_0x1ec321(0x714))return{'content':{'video':{'url':_0x103711[_0x1ec321(0x524)]},'caption':_0x103711[_0x1ec321(0x245)]},'option':{'statusJidList':_0x103711[_0x1ec321(0x220)]}};if(_0x103711[_0x1ec321(0x76c)]===_0x1ec321(0x2f8)){this[_0x1ec321(0x4e8)]['verbose'](_0x1ec321(0x4cf)),this['logger']['verbose'](_0x1ec321(0x5f2));let _0x5c69e9=await this[_0x1ec321(0x3e0)](_0x103711[_0x1ec321(0x524)]);if(typeof _0x5c69e9==_0x1ec321(0x541)){this[_0x1ec321(0x4e8)]['verbose'](_0x1ec321(0x7af));let _0x46658b=L[_0x1ec321(0x4ba)](_0x5c69e9)['toString'](_0x1ec321(0x362));return{'content':{'audio':Buffer[_0x1ec321(0x433)](_0x46658b,'base64'),'ptt':!0x0,'mimetype':_0x1ec321(0x309)},'option':{'statusJidList':_0x103711[_0x1ec321(0x220)]}};}else throw new I(_0x5c69e9);}throw new w(_0x1ec321(0x1d7));}async[a0_0x124f50(0x66a)](_0x17534c){const _0x29db33=a0_0x124f50;return await this[_0x29db33(0x7a0)](_0x29db33(0x3f6),{'status':await this[_0x29db33(0x7e4)](_0x17534c['statusMessage'])});}async['prepareMediaMessage'](_0x5437a4){const _0x2edb73=a0_0x124f50;try{let _0x32b153=await(0x0,g[_0x2edb73(0x2e4)])({[_0x5437a4['mediatype']]:(0x0,$[_0x2edb73(0x5ff)])(_0x5437a4[_0x2edb73(0x84d)])?{'url':_0x5437a4[_0x2edb73(0x84d)]}:Buffer['from'](_0x5437a4[_0x2edb73(0x84d)],_0x2edb73(0x362))},{'upload':this[_0x2edb73(0x60b)][_0x2edb73(0x518)]}),_0x3b76b1=_0x5437a4['mediatype']+_0x2edb73(0x639);if(_0x5437a4[_0x2edb73(0x4cb)]==='document'&&!_0x5437a4[_0x2edb73(0x5a1)]){let _0xb389a5=new RegExp(/.*\/(.+?)\./)[_0x2edb73(0x699)](_0x5437a4['media']);_0x5437a4[_0x2edb73(0x5a1)]=_0xb389a5?_0xb389a5[0x1]:null;}let _0xc31399=(0x0,$[_0x2edb73(0x5ff)])(_0x5437a4[_0x2edb73(0x84d)])?_0x5437a4[_0x2edb73(0x84d)][_0x2edb73(0x4f0)]('?')[0x0]:_0x5437a4[_0x2edb73(0x84d)];this[_0x2edb73(0x4e8)]['verbose'](_0x2edb73(0x85b)+_0xc31399);let _0x4e9215;(0x0,$['isURL'])(_0x5437a4[_0x2edb73(0x84d)])?_0x4e9215=(0x0,xt['getMIMEType'])(_0xc31399):_0x5437a4[_0x2edb73(0x5a1)]&&_0x5437a4['fileName'][_0x2edb73(0x6c2)]('.')?_0x4e9215=(0x0,xt[_0x2edb73(0x277)])(_0x5437a4[_0x2edb73(0x5a1)]):_0x4e9215=(0x0,xt[_0x2edb73(0x277)])(_0x5437a4['media']);let _0x8283f4=gr,_0x4406ef=Ke;return _0x4406ef&&this[_0x2edb73(0x370)]['toLowerCase']()['includes'](_0x4406ef['toLowerCase']())&&(_0x5437a4[_0x2edb73(0x245)]+='\x0a\x0a'+_0x8283f4),_0x32b153[_0x3b76b1][_0x2edb73(0x245)]=_0x5437a4?.[_0x2edb73(0x245)],_0x32b153[_0x3b76b1][_0x2edb73(0x511)]=_0x4e9215,_0x32b153[_0x3b76b1][_0x2edb73(0x5a1)]=_0x5437a4[_0x2edb73(0x5a1)],_0x5437a4['mediatype']===_0x2edb73(0x714)&&(_0x32b153[_0x3b76b1][_0x2edb73(0x7b0)]=Uint8Array[_0x2edb73(0x433)]((0x0,ve['readFileSync'])((0x0,j[_0x2edb73(0x21f)])(process[_0x2edb73(0x2c7)](),_0x2edb73(0x348)))),_0x32b153[_0x3b76b1][_0x2edb73(0x26e)]=!0x1),(0x0,g['generateWAMessageFromContent'])('',{[_0x3b76b1]:{..._0x32b153[_0x3b76b1]}},{'userJid':this['instance']['wuid']});}catch(_0x1b0112){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2edb73(0x839)+(_0x1b0112 instanceof Error?_0x1b0112[_0x2edb73(0x3cd)]:JSON['stringify'](_0x1b0112,null,0x2))),new I(_0x1b0112?.[_0x2edb73(0x782)]()||_0x1b0112);}}async[a0_0x124f50(0x4f2)](_0x5d6519){const _0x5e59e7=a0_0x124f50;let _0x2a4a31=await this[_0x5e59e7(0x51b)](_0x5d6519[_0x5e59e7(0x4f2)]);return await this[_0x5e59e7(0x7a0)](_0x5d6519[_0x5e59e7(0x5cb)],{..._0x2a4a31['message']},_0x5d6519?.[_0x5e59e7(0x7d5)]);}async[a0_0x124f50(0x7b5)](_0x3f36e6,_0x2ab7a9){const _0x432484=a0_0x124f50;try{this[_0x432484(0x4e8)][_0x432484(0x64d)](_0x432484(0x609));let _0x8f1c63,_0x2e5a4c=_0x2ab7a9+'-'+new Date()[_0x432484(0x359)]();this[_0x432484(0x4e8)][_0x432484(0x64d)]('Hash\x20to\x20image\x20name:\x20'+_0x2e5a4c);let _0x154976=''+(0x0,j[_0x432484(0x21f)])(this[_0x432484(0x5d7)],_0x2e5a4c+'.webp');if(this[_0x432484(0x4e8)]['verbose'](_0x432484(0x24d)+_0x154976),(0x0,$['isBase64'])(_0x3f36e6)){this[_0x432484(0x4e8)][_0x432484(0x64d)](_0x432484(0x4a1));let _0x3852fe=_0x3f36e6[_0x432484(0x261)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x33f436=Buffer['from'](_0x3852fe,_0x432484(0x362));_0x8f1c63=''+(0x0,j['join'])(this[_0x432484(0x5d7)],_0x432484(0x23c)+_0x2e5a4c+_0x432484(0x2e9)),this['logger'][_0x432484(0x64d)](_0x432484(0x385)+_0x8f1c63),await(0x0,Dt[_0x432484(0x223)])(_0x33f436)[_0x432484(0x36d)](_0x8f1c63),this[_0x432484(0x4e8)][_0x432484(0x64d)](_0x432484(0x678));}else{this[_0x432484(0x4e8)][_0x432484(0x64d)]('Image\x20is\x20url');let _0x245344=new Date()[_0x432484(0x359)](),_0x24d0df=_0x3f36e6+_0x432484(0x864)+_0x245344;this[_0x432484(0x4e8)][_0x432484(0x64d)](_0x432484(0x56b)+_0x24d0df);let _0x410f3d=await se[_0x432484(0x223)][_0x432484(0x45b)](_0x24d0df,{'responseType':_0x432484(0x264)});this['logger'][_0x432484(0x64d)](_0x432484(0x830));let _0x5fbccf=Buffer[_0x432484(0x433)](_0x410f3d['data'],'binary');_0x8f1c63=''+(0x0,j[_0x432484(0x21f)])(this[_0x432484(0x5d7)],'temp-'+_0x2e5a4c+_0x432484(0x2e9)),this[_0x432484(0x4e8)][_0x432484(0x64d)](_0x432484(0x385)+_0x8f1c63),await(0x0,Dt[_0x432484(0x223)])(_0x5fbccf)[_0x432484(0x36d)](_0x8f1c63),this[_0x432484(0x4e8)][_0x432484(0x64d)]('Image\x20created');}return await(0x0,Dt['default'])(_0x8f1c63)[_0x432484(0x7e7)]()[_0x432484(0x36d)](_0x154976),this['logger'][_0x432484(0x64d)](_0x432484(0x80d)),L[_0x432484(0x739)](_0x8f1c63),this['logger'][_0x432484(0x64d)](_0x432484(0x41b)),_0x154976;}catch(_0x1c5ae0){console['error'](_0x432484(0x447),_0x1c5ae0 instanceof Error?_0x1c5ae0[_0x432484(0x3cd)]:JSON[_0x432484(0x2b4)](_0x1c5ae0,null,0x2));}}async[a0_0x124f50(0x52f)](_0x208efa){const _0x569ed0=a0_0x124f50;let _0x1d29b=await this['convertToWebP'](_0x208efa[_0x569ed0(0x641)][_0x569ed0(0x5bb)],_0x208efa[_0x569ed0(0x5cb)]),_0x2b9857=await this[_0x569ed0(0x7a0)](_0x208efa['number'],{'sticker':{'url':_0x1d29b}},_0x208efa?.['options']);return L[_0x569ed0(0x739)](_0x1d29b),this['logger'][_0x569ed0(0x64d)](_0x569ed0(0x78e)),_0x2b9857;}async[a0_0x124f50(0x6e9)](_0x3e75b2){const _0x2b1418=a0_0x124f50;if(this[_0x2b1418(0x4e8)][_0x2b1418(0x64d)](_0x2b1418(0x764)),!_0x3e75b2['options']?.['encoding']&&_0x3e75b2[_0x2b1418(0x7d5)]?.['encoding']!==!0x1&&(_0x3e75b2[_0x2b1418(0x7d5)]['encoding']=!0x0),_0x3e75b2['options']?.[_0x2b1418(0x217)]){let _0x53bb1d=await this[_0x2b1418(0x3e0)](_0x3e75b2['audioMessage']['audio']);if(typeof _0x53bb1d==_0x2b1418(0x541)){let _0x38fee9=L[_0x2b1418(0x4ba)](_0x53bb1d)[_0x2b1418(0x782)](_0x2b1418(0x362));return this['sendMessageWithTyping'](_0x3e75b2['number'],{'audio':Buffer[_0x2b1418(0x433)](_0x38fee9,_0x2b1418(0x362)),'ptt':!0x0,'mimetype':_0x2b1418(0x309)},{'presence':_0x2b1418(0x24a),'delay':_0x3e75b2?.[_0x2b1418(0x7d5)]?.['delay']});}else throw new I(_0x53bb1d);}return await this['sendMessageWithTyping'](_0x3e75b2[_0x2b1418(0x5cb)],{'audio':(0x0,$[_0x2b1418(0x5ff)])(_0x3e75b2[_0x2b1418(0x520)][_0x2b1418(0x2f8)])?{'url':_0x3e75b2[_0x2b1418(0x520)][_0x2b1418(0x2f8)]}:Buffer[_0x2b1418(0x433)](_0x3e75b2['audioMessage'][_0x2b1418(0x2f8)],'base64'),'ptt':!0x0,'mimetype':'audio/mpeg'},{'presence':'recording','delay':_0x3e75b2?.[_0x2b1418(0x7d5)]?.[_0x2b1418(0x293)]});}async[a0_0x124f50(0x3e0)](_0x7fac92){const _0x1625db=a0_0x124f50;this[_0x1625db(0x4e8)]['verbose'](_0x1625db(0x5f2));let _0x3a72fd=(0x0,$[_0x1625db(0x5ff)])(_0x7fac92)?(0x0,Ms[_0x1625db(0x31e)])(_0x1625db(0x799))['update'](_0x7fac92)[_0x1625db(0x497)]('hex'):(0x0,Ms[_0x1625db(0x31e)])('sha256')[_0x1625db(0x31a)](_0x7fac92)['digest'](_0x1625db(0x5ca)),_0x2e0294=''+(0x0,j[_0x1625db(0x21f)])(this[_0x1625db(0x5d7)],_0x3a72fd+_0x1625db(0x273));if(L[_0x1625db(0x37b)](_0x2e0294))return this[_0x1625db(0x4e8)][_0x1625db(0x64d)](_0x1625db(0x49b)),_0x2e0294;let _0x545de2=''+(0x0,j['join'])(this[_0x1625db(0x5d7)],_0x1625db(0x23c)+(0x0,Me['v4'])()+_0x1625db(0x805));if((0x0,$[_0x1625db(0x5ff)])(_0x7fac92)){let _0xc2b135=new Date()[_0x1625db(0x359)](),_0x1ab5cc=_0x7fac92+_0x1625db(0x864)+_0xc2b135,_0x380316=await se[_0x1625db(0x223)][_0x1625db(0x45b)](_0x1ab5cc,{'responseType':_0x1625db(0x264)});L[_0x1625db(0x3b2)](_0x545de2,_0x380316[_0x1625db(0x77b)]);}else{let _0x458b32=Buffer['from'](_0x7fac92,'base64');L['writeFileSync'](_0x545de2,_0x458b32);}return new Promise((_0x4d48b2,_0x3bb13a)=>{const _0x1385c9=_0x1625db;(0x0,Pt[_0x1385c9(0x699)])(fr[_0x1385c9(0x223)][_0x1385c9(0x3b1)]+_0x1385c9(0x2fd)+_0x545de2+_0x1385c9(0x7f7)+_0x2e0294+_0x1385c9(0x4bf),_0x451f41=>{const _0xac849f=_0x1385c9;if(L['unlinkSync'](_0x545de2),_0x451f41){this['logger']['verbose'](_0xac849f(0x2dd)),_0x3bb13a(_0x451f41);return;}this['logger'][_0xac849f(0x64d)](_0xac849f(0x5ac)),_0x4d48b2(_0x2e0294);});});}async[a0_0x124f50(0x3f5)](_0x28f154){const _0x8dcbdf=a0_0x124f50;let _0xc182d8={},_0x525472=_0x8dcbdf(0x4d5);if(_0x28f154[_0x8dcbdf(0x3f5)]?.[_0x8dcbdf(0x4f2)]){_0x525472=_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x4f2)]?.['mediatype']['toUpperCase']()??_0x8dcbdf(0x4d5),_0xc182d8[_0x8dcbdf(0x55d)]=_0x525472[_0x8dcbdf(0x847)]()+_0x8dcbdf(0x639);let _0x4dc23f=await this[_0x8dcbdf(0x51b)](_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x4f2)]);_0xc182d8[_0x8dcbdf(0x3cd)]=_0x4dc23f[_0x8dcbdf(0x3cd)][_0xc182d8['mediaKey']],_0xc182d8[_0x8dcbdf(0x638)]='*'+_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x6ae)]+_0x8dcbdf(0x4b4)+_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x306)];}let _0xe0c58f={'text':_0x28f154['buttonMessage'][_0x8dcbdf(0x829)][_0x8dcbdf(0x5c2)](_0x3e639e=>_0x3e639e['buttonText']),'ids':_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x829)][_0x8dcbdf(0x5c2)](_0x3b711e=>_0x3b711e[_0x8dcbdf(0x3e4)])};if(!(0x0,$[_0x8dcbdf(0x4ed)])(_0xe0c58f[_0x8dcbdf(0x2ff)])||!(0x0,$['arrayUnique'])(_0xe0c58f[_0x8dcbdf(0x71c)]))throw new w('Button\x20texts\x20cannot\x20be\x20repeated',_0x8dcbdf(0x5b7));return await this[_0x8dcbdf(0x7a0)](_0x28f154['number'],{'buttonsMessage':{'text':_0xc182d8?.[_0x8dcbdf(0x55d)]?void 0x0:_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x6ae)],'contentText':_0xc182d8?.['contentText']??_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x306)],'footerText':_0x28f154[_0x8dcbdf(0x3f5)]?.[_0x8dcbdf(0x493)],'buttons':_0x28f154[_0x8dcbdf(0x3f5)][_0x8dcbdf(0x829)][_0x8dcbdf(0x5c2)](_0xf474c5=>({'buttonText':{'displayText':_0xf474c5[_0x8dcbdf(0x62a)]},'buttonId':_0xf474c5[_0x8dcbdf(0x3e4)],'type':0x1})),'headerType':g[_0x8dcbdf(0x510)][_0x8dcbdf(0x639)][_0x8dcbdf(0x747)][_0x8dcbdf(0x5a2)][_0x525472],[_0xc182d8?.['mediaKey']]:_0xc182d8?.['message']}},_0x28f154?.['options']);}async[a0_0x124f50(0x3be)](_0x160b02){const _0xdaed83=a0_0x124f50;return await this[_0xdaed83(0x7a0)](_0x160b02['number'],{'locationMessage':{'degreesLatitude':_0x160b02[_0xdaed83(0x3be)][_0xdaed83(0x229)],'degreesLongitude':_0x160b02[_0xdaed83(0x3be)]['longitude'],'name':_0x160b02['locationMessage']?.[_0xdaed83(0x350)],'address':_0x160b02['locationMessage']?.[_0xdaed83(0x7b1)]}},_0x160b02?.[_0xdaed83(0x7d5)]);}async[a0_0x124f50(0x6d8)](_0x4e9008){const _0x25fdbf=a0_0x124f50;let _0x507fcc={},_0x343558=_0x6361d=>{const _0x551ad5=a0_0x1d88;let _0x580328=_0x551ad5(0x67f)+_0x6361d['fullName']+'\x0aFN:'+_0x6361d[_0x551ad5(0x409)]+'\x0a';_0x6361d[_0x551ad5(0x546)]&&(_0x580328+=_0x551ad5(0x27d)+_0x6361d[_0x551ad5(0x546)]+';\x0a'),_0x6361d['email']&&(_0x580328+=_0x551ad5(0x2aa)+_0x6361d[_0x551ad5(0x392)]+'\x0a'),_0x6361d[_0x551ad5(0x753)]&&(_0x580328+='URL:'+_0x6361d[_0x551ad5(0x753)]+'\x0a');let _0x534f39='';return _0x6361d['phoneNumber']&&_0x6361d['phoneNumber'][_0x551ad5(0x4f0)]('|')['forEach']((_0x4dfe1b,_0x156e6b)=>{const _0xa7aef=_0x551ad5;let _0x2330c3=this['createJid'](_0x4dfe1b)[_0xa7aef(0x261)](_0xa7aef(0x483),'');_0x534f39+=_0xa7aef(0x35b)+(_0x156e6b+0x1)+_0xa7aef(0x738)+_0x2330c3+':'+_0x4dfe1b+'\x0aitem'+(_0x156e6b+0x1)+'.X-ABLabel:Celular\x0a';}),_0x580328+=_0x534f39+'END:VCARD',_0x580328;};return _0x4e9008[_0x25fdbf(0x6d8)][_0x25fdbf(0x230)]===0x1?_0x507fcc[_0x25fdbf(0x6d8)]={'displayName':_0x4e9008[_0x25fdbf(0x6d8)][0x0][_0x25fdbf(0x409)],'vcard':_0x343558(_0x4e9008[_0x25fdbf(0x6d8)][0x0])}:_0x507fcc[_0x25fdbf(0x2e1)]={'displayName':_0x4e9008['contactMessage']['length']+_0x25fdbf(0x751),'contacts':_0x4e9008[_0x25fdbf(0x6d8)][_0x25fdbf(0x5c2)](_0xf6448a=>({'displayName':_0xf6448a[_0x25fdbf(0x409)],'vcard':_0x343558(_0xf6448a)}))},await this[_0x25fdbf(0x7a0)](_0x4e9008['number'],{..._0x507fcc},_0x4e9008?.[_0x25fdbf(0x7d5)]);}async[a0_0x124f50(0x70b)](_0x316127){const _0x4c2daa=a0_0x124f50;return await this[_0x4c2daa(0x7a0)](_0x316127[_0x4c2daa(0x70b)]['key'][_0x4c2daa(0x540)],{'reactionMessage':{'key':_0x316127['reactionMessage'][_0x4c2daa(0x1fe)],'text':_0x316127[_0x4c2daa(0x70b)][_0x4c2daa(0x268)]}});}async[a0_0x124f50(0x645)](_0x1d34f8){const _0x4ff671=a0_0x124f50;let _0xb8e7b3=[];for await(let _0x8a4bf8 of _0x1d34f8[_0x4ff671(0x51d)]){let _0x2533d3=this['createJid'](_0x8a4bf8),_0x5d1bf7=!0x1;try{if((0x0,g['isJidGroup'])(_0x2533d3)){let _0x41ea2d=await this[_0x4ff671(0x22c)]({'groupJid':_0x2533d3},_0x4ff671(0x74f));_0xb8e7b3['push'](new me(_0x41ea2d[_0x4ff671(0x5f1)]['id'],!!_0x41ea2d?.[_0x4ff671(0x5f1)]['id'],_0x41ea2d?.[_0x4ff671(0x5f1)][_0x4ff671(0x390)])),_0x5d1bf7=!!_0x41ea2d?.[_0x4ff671(0x5f1)]['id'];}else{let _0x37dd51=(await this['client'][_0x4ff671(0x397)](_0x2533d3))[0x0];_0xb8e7b3[_0x4ff671(0x1e7)](new me(_0x37dd51[_0x4ff671(0x619)],_0x37dd51[_0x4ff671(0x319)])),_0x5d1bf7=_0x37dd51[_0x4ff671(0x319)];}}catch{await this[_0x4ff671(0x628)](_0x2533d3,_0x5d1bf7),_0xb8e7b3[_0x4ff671(0x1e7)](new me(_0x8a4bf8,!0x1));}}return _0xb8e7b3;}async[a0_0x124f50(0x628)](_0x59a5f7,_0x2bc2d2){const _0x59b27f=a0_0x124f50;try{await this[_0x59b27f(0x43e)][_0x59b27f(0x34f)][_0x59b27f(0x7fc)]({'where':{'_id':_0x59a5f7,'imported':!0x0}},this[_0x59b27f(0x210)][_0x59b27f(0x834)])&&(_0x2bc2d2||(await this[_0x59b27f(0x43e)][_0x59b27f(0x34f)]['deleteChat'](_0x59a5f7,this['instance'][_0x59b27f(0x834)]),console[_0x59b27f(0x3b3)](_0x59b27f(0x416)+_0x59a5f7+_0x59b27f(0x5dd))));}catch(_0x1b0471){console[_0x59b27f(0x629)](_0x59b27f(0x793),_0x1b0471);}}async[a0_0x124f50(0x80f)](_0x484a05){const _0x335886=a0_0x124f50;try{let _0x3f14a8=_0x484a05[_0x335886(0x7eb)][_0x335886(0x5c0)](_0x56ed7a=>(0x0,g[_0x335886(0x556)])(_0x56ed7a[_0x335886(0x540)])||(0x0,g['isJidUser'])(_0x56ed7a[_0x335886(0x540)]))[_0x335886(0x5c2)](_0x4a5419=>({'remoteJid':_0x4a5419[_0x335886(0x540)],'fromMe':_0x4a5419[_0x335886(0x5b0)],'id':_0x4a5419['id']}));await this[_0x335886(0x60b)]['readMessages'](_0x3f14a8);let _0x99f7f=_0x3f14a8[_0x335886(0x5c2)](_0x4efc64=>this[_0x335886(0x2c6)](_0x4efc64,{'status':_0x335886(0x3fa),'owner':this[_0x335886(0x210)][_0x335886(0x834)]})),_0x4488d4=_0x3f14a8[_0x335886(0x5c2)](_0x444b34=>this['repository'][_0x335886(0x34f)][_0x335886(0x457)]({'where':{'_id':_0x444b34['remoteJid']}},{'unreadcount':0x0},this[_0x335886(0x210)][_0x335886(0x834)])),[_0x364f1d,_0xf5d876]=await Promise[_0x335886(0x1d9)]([Promise[_0x335886(0x1d9)](_0x99f7f),Promise['all'](_0x4488d4)]);return _0xf5d876[_0x335886(0x5c0)](_0x1d77ce=>_0x1d77ce!==null)[_0x335886(0x53a)](_0x37ab4b=>{const _0x3c4295=_0x335886;q(this['instanceName'],_0x3c4295(0x29e),{'chat':_0x37ab4b});}),{'message':_0x335886(0x75c),'read':_0x335886(0x62f)};}catch(_0x13f936){throw console[_0x335886(0x629)]('Error\x20in\x20markMessageAsRead:',_0x13f936),new I(_0x335886(0x6ec),_0x13f936[_0x335886(0x782)]());}}async[a0_0x124f50(0x6d6)](_0x3efd01){const _0x2c8938=a0_0x124f50;let _0xd28701={'where':{'key':{'remoteJid':_0x3efd01}},'limit':0x1},_0x3e9963=await this[_0x2c8938(0x6f3)](_0xd28701);return _0x3e9963||(console[_0x2c8938(0x629)](_0x2c8938(0x2b0),_0x3efd01),null);}async[a0_0x124f50(0x570)](_0x1ae760){const _0x3e5332=a0_0x124f50;this['logger']['verbose']('Archiving\x20chat');try{let _0x5b2dbf=_0x1ae760[_0x3e5332(0x289)],_0x5e7dad=_0x1ae760[_0x3e5332(0x34f)];if(!_0x5b2dbf&&_0x5e7dad?_0x5b2dbf=await this['getLastMessage'](_0x5e7dad):(_0x5b2dbf=_0x1ae760[_0x3e5332(0x289)],_0x5b2dbf[_0x3e5332(0x6bf)]=_0x5b2dbf?.[_0x3e5332(0x6bf)]??Date[_0x3e5332(0x269)](),_0x5e7dad=_0x5b2dbf?.['key']?.['remoteJid']),!_0x5b2dbf||Object[_0x3e5332(0x311)](_0x5b2dbf)[_0x3e5332(0x230)]===0x0)throw new k('Last\x20message\x20not\x20found');this[_0x3e5332(0x4e8)]['verbose'](_0x3e5332(0x2f6)+_0x5e7dad);try{await this[_0x3e5332(0x60b)][_0x3e5332(0x3f2)]({'archive':_0x1ae760['archive'],'lastMessages':[_0x5b2dbf]},this[_0x3e5332(0x54a)](_0x5e7dad));}catch(_0x51075b){this['logger'][_0x3e5332(0x629)](_0x3e5332(0x2d4)+_0x5e7dad+':\x20'+_0x51075b['toString']());}this[_0x3e5332(0x4e8)]['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5e7dad);let _0x333593=await this['repository'][_0x3e5332(0x34f)][_0x3e5332(0x457)]({'where':{'_id':_0x5b2dbf?.[_0x3e5332(0x1fe)]?.['remoteJid']}},{'archived':_0x1ae760['archive']},this[_0x3e5332(0x210)][_0x3e5332(0x834)]);return _0x333593?(this[_0x3e5332(0x4e8)]['verbose'](_0x3e5332(0x20e)+JSON[_0x3e5332(0x2b4)](_0x333593)),q(this[_0x3e5332(0x370)],_0x3e5332(0x29e),{'chat':_0x333593})):this['logger']['error']('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5e7dad),{'chatId':_0x5e7dad,'archived':_0x1ae760['archive']};}catch(_0x32709a){throw this[_0x3e5332(0x4e8)]['error'](_0x3e5332(0x405)+_0x32709a[_0x3e5332(0x782)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x32709a[_0x3e5332(0x782)]()]});}}async[a0_0x124f50(0x363)](_0x5d0e7e){const _0x36d596=a0_0x124f50;try{let _0x31216a=await this[_0x36d596(0x60b)][_0x36d596(0x3a2)](_0x5d0e7e[_0x36d596(0x540)],{'delete':_0x5d0e7e});try{let _0x44316d=await this['updateMessage'](_0x5d0e7e,{'status':'DELETED','owner':this[_0x36d596(0x210)][_0x36d596(0x834)]});this[_0x36d596(0x4e8)][_0x36d596(0x64d)](this[_0x36d596(0x370)]+'\x20('+this[_0x36d596(0x210)][_0x36d596(0x834)]+_0x36d596(0x71a)+_0x44316d);}catch(_0x23073a){console['error'](_0x36d596(0x665),_0x23073a);}return _0x31216a;}catch(_0x1306aa){throw new I(_0x36d596(0x76e),_0x1306aa?.[_0x36d596(0x782)]());}}async[a0_0x124f50(0x4fc)](_0x4f8388){const _0x20f47b=a0_0x124f50;try{let _0x5cb11d=_0x4f8388?.[_0x20f47b(0x3cd)]?_0x4f8388:await this[_0x20f47b(0x43d)](_0x4f8388[_0x20f47b(0x1fe)],!0x0);for(let _0x5e33be of ha)_0x5cb11d[_0x20f47b(0x3cd)][_0x5e33be]&&(_0x5cb11d[_0x20f47b(0x3cd)]=_0x5cb11d['message'][_0x5e33be][_0x20f47b(0x3cd)]);let _0x597cc5,_0x213358;for(let _0x1d9cf8 of pa)if(_0x597cc5=_0x5cb11d['message'][_0x1d9cf8],_0x597cc5){_0x213358=_0x1d9cf8;break;}if(!_0x597cc5)throw _0x20f47b(0x65f);typeof _0x597cc5[_0x20f47b(0x55d)]==_0x20f47b(0x79d)&&(_0x5cb11d[_0x20f47b(0x3cd)]=JSON[_0x20f47b(0x1da)](JSON[_0x20f47b(0x2b4)](_0x5cb11d['message'])));let _0x1c15e8=await(0x0,g[_0x20f47b(0x339)])({'key':_0x5cb11d?.[_0x20f47b(0x1fe)],'message':_0x5cb11d?.[_0x20f47b(0x3cd)]},_0x20f47b(0x6dd),{},{'logger':(0x0,It['default'])({'level':_0x20f47b(0x808)}),'reuploadRequest':this[_0x20f47b(0x60b)][_0x20f47b(0x794)]});if(!(_0x1c15e8 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x18eabb=this[_0x20f47b(0x58f)][_0x20f47b(0x45b)](_0x20f47b(0x1f0)),_0x4f80af,_0xd933f0;if(_0x597cc5['fileName'])_0x4f80af=_0x597cc5[_0x20f47b(0x5a1)];else{let _0x5e19ae=_0x597cc5[_0x20f47b(0x511)]?.[_0x20f47b(0x5da)](/\/(\w+)/),_0x48fa95=_0x5e19ae?_0x5e19ae[0x1]:null;if(!_0x48fa95)throw new Error(_0x20f47b(0x790));_0x4f80af=(0x0,Me['v4'])()+'.'+_0x48fa95;}_0x213358===_0x20f47b(0x520)&&_0x597cc5[_0x20f47b(0x511)]===_0x20f47b(0x587)?(_0x4f80af=(0x0,Me['v4'])()+_0x20f47b(0x3a9),_0xd933f0=_0x20f47b(0x765)+await this[_0x20f47b(0x3e0)](_0x1c15e8[_0x20f47b(0x782)](_0x20f47b(0x362)))):(await this[_0x20f47b(0x769)](_0x1c15e8,_0x4f80af),_0xd933f0=_0x20f47b(0x765)+_0x4f80af);let _0x36902f=this[_0x20f47b(0x58f)]['get'](_0x20f47b(0x532))[_0x20f47b(0x7ae)];if(!_0x36902f){let _0x54f1e2=this[_0x20f47b(0x58f)][_0x20f47b(0x45b)](_0x20f47b(0x822));_0x36902f=_0x20f47b(0x527)+(_0x54f1e2&&_0x54f1e2[_0x20f47b(0x7ca)][_0x20f47b(0x4f0)]('/')[0x4]);}_0xd933f0=''+_0x36902f+_0xd933f0;let _0x12ec61=0xc*0x3c*0x3c*0x3e8,_0x24302f={'where':{'_id':_0x5cb11d[_0x20f47b(0x1fe)]['id']}},_0x150313={'message_normalized.fileUrl':_0xd933f0,'message_normalized.expires_fileUrl':Date[_0x20f47b(0x269)]()+_0x12ec61};try{let _0x2f229a=await this[_0x20f47b(0x43e)][_0x20f47b(0x3cd)][_0x20f47b(0x31a)](_0x24302f,_0x150313,this['instance']['wuid']);_0x2f229a&&q(this[_0x20f47b(0x370)],_0x20f47b(0x2c3),{'message':_0x2f229a});}catch(_0x611d18){this['logger'][_0x20f47b(0x629)](this[_0x20f47b(0x370)]+'\x20('+this[_0x20f47b(0x210)][_0x20f47b(0x834)]+'):\x20'+(_0x611d18 instanceof Error?_0x611d18[_0x20f47b(0x3cd)]:JSON[_0x20f47b(0x2b4)](_0x611d18,null,0x2)));}return{'mediaType':_0x213358,'fileName':_0x597cc5['fileName'],'caption':_0x597cc5['caption'],'size':{'fileLength':_0x597cc5[_0x20f47b(0x3c6)],'height':_0x597cc5[_0x20f47b(0x5fd)],'width':_0x597cc5[_0x20f47b(0x71b)]},'mimetype':_0x597cc5[_0x20f47b(0x511)],'base64':_0x1c15e8[_0x20f47b(0x782)]('base64'),'fileUrl':_0xd933f0,'expires_fileUrl':Date[_0x20f47b(0x269)]()+_0x12ec61};}catch(_0x9a8104){throw this[_0x20f47b(0x4e8)][_0x20f47b(0x629)](this[_0x20f47b(0x370)]+'\x20('+this[_0x20f47b(0x210)][_0x20f47b(0x834)]+_0x20f47b(0x839)+(_0x9a8104 instanceof Error?_0x9a8104[_0x20f47b(0x3cd)]:JSON['stringify'](_0x9a8104,null,0x2))),new w(_0x9a8104[_0x20f47b(0x782)]());}}async['saveMediaToFile'](_0x4632c4,_0x4e6883){const _0x159511=a0_0x124f50;let _0x8de0b4=j[_0x159511(0x223)][_0x159511(0x21f)](__dirname,_0x159511(0x1f1));L[_0x159511(0x37b)](_0x8de0b4)||L['mkdirSync'](_0x8de0b4,{'recursive':!0x0});let _0x3d67b7=j['default'][_0x159511(0x21f)](_0x8de0b4,_0x4e6883);return new Promise((_0x1a98e9,_0x51957b)=>{const _0x4d5e15=_0x159511;L[_0x4d5e15(0x6af)](_0x3d67b7,_0x4632c4,_0x3c41a6=>{const _0x5c6bf2=_0x4d5e15;_0x3c41a6?(this['logger']['error'](_0x5c6bf2(0x627)+(_0x3c41a6 instanceof Error?_0x3c41a6['message']:JSON[_0x5c6bf2(0x2b4)](_0x3c41a6,null,0x2))),_0x51957b(_0x3c41a6)):(this[_0x5c6bf2(0x4e8)]['log']('File\x20written\x20to\x20path:\x20'+_0x3d67b7),_0x1a98e9(_0x3d67b7));});});}async[a0_0x124f50(0x2b2)](_0x28f7d9){const _0x4fafd4=a0_0x124f50;return await this[_0x4fafd4(0x43e)][_0x4fafd4(0x65e)][_0x4fafd4(0x81d)](_0x28f7d9,this[_0x4fafd4(0x210)][_0x4fafd4(0x834)]);}async[a0_0x124f50(0x3af)](){const _0x53ac52=a0_0x124f50;return await this[_0x53ac52(0x43e)]['label'][_0x53ac52(0x81d)]({'where':{}},this[_0x53ac52(0x210)][_0x53ac52(0x834)]);}async['fetchMessages'](_0xf40737){const _0x3a648d=a0_0x124f50;return await this[_0x3a648d(0x43e)][_0x3a648d(0x3cd)][_0x3a648d(0x81d)](_0xf40737,this[_0x3a648d(0x210)]['wuid']);}async['fetchChats'](){const _0x4066fe=a0_0x124f50;return this[_0x4066fe(0x43e)]['chat']['updateMissingLabels'](this[_0x4066fe(0x210)][_0x4066fe(0x834)]),this[_0x4066fe(0x43e)][_0x4066fe(0x34f)][_0x4066fe(0x84f)](this[_0x4066fe(0x210)][_0x4066fe(0x834)]),this['repository'][_0x4066fe(0x34f)][_0x4066fe(0x64e)](this[_0x4066fe(0x210)][_0x4066fe(0x834)]),this['repository'][_0x4066fe(0x34f)]['updateMissingCustomFields'](this[_0x4066fe(0x210)][_0x4066fe(0x834)]),await this[_0x4066fe(0x43e)][_0x4066fe(0x34f)][_0x4066fe(0x81d)]({'where':{}},this[_0x4066fe(0x210)]['wuid']);}async['importChatsAntigo'](_0x35d0fa){const _0x17d4f9=a0_0x124f50;try{if(!Array['isArray'](_0x35d0fa)||_0x35d0fa[_0x17d4f9(0x230)]===0x0)throw new Error(_0x17d4f9(0x5f4));let _0x1050f4=[],_0x177921=[];for(let _0x6ff801 of _0x35d0fa){if(_0x6ff801['_id'])_0x6ff801[_0x17d4f9(0x21c)]=this[_0x17d4f9(0x54a)](_0x6ff801[_0x17d4f9(0x21c)]);else continue;await this['repository'][_0x17d4f9(0x34f)][_0x17d4f9(0x7fc)]({'where':{'_id':_0x6ff801[_0x17d4f9(0x21c)]}},this[_0x17d4f9(0x210)]['wuid'])?_0x177921[_0x17d4f9(0x1e7)]({'_id':_0x6ff801['_id'],'leadInfo':_0x6ff801[_0x17d4f9(0x79f)],'owner':this[_0x17d4f9(0x210)][_0x17d4f9(0x834)]}):_0x1050f4[_0x17d4f9(0x1e7)]({'_id':_0x6ff801['_id'],'owner':this[_0x17d4f9(0x210)]['wuid'],'leadInfo':_0x6ff801['leadInfo'],'imported':!0x0});}return _0x177921['length']>0x0&&await this['repository'][_0x17d4f9(0x34f)][_0x17d4f9(0x491)](_0x177921[_0x17d4f9(0x5c2)](_0x3fb117=>({'query':{'where':{'_id':_0x3fb117[_0x17d4f9(0x21c)],'owner':this[_0x17d4f9(0x210)][_0x17d4f9(0x834)]}},'update':_0x3fb117}))),_0x1050f4[_0x17d4f9(0x230)]>0x0&&await this['repository'][_0x17d4f9(0x34f)]['insertMany'](_0x1050f4,this['instance']['wuid']),{'updated':_0x177921[_0x17d4f9(0x230)],'inserted':_0x1050f4['length']};}catch(_0xb2ccfa){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0xb2ccfa),_0xb2ccfa;}}async[a0_0x124f50(0x861)](_0x2ab20c){const _0x57cfef=a0_0x124f50;try{if(!Array[_0x57cfef(0x718)](_0x2ab20c)||_0x2ab20c[_0x57cfef(0x230)]===0x0)throw new Error(_0x57cfef(0x5f4));let _0x5c9c2e=0x64,_0x18ad98=0x0;for(let _0x97da9e=0x0;_0x97da9e<_0x2ab20c[_0x57cfef(0x230)];_0x97da9e+=_0x5c9c2e){let _0x43942a=_0x2ab20c['slice'](_0x97da9e,_0x97da9e+_0x5c9c2e),{updated:_0x28d5f1}=await this[_0x57cfef(0x767)](_0x43942a);_0x18ad98+=_0x28d5f1;}return{'updated':_0x18ad98};}catch(_0x417cf7){throw console[_0x57cfef(0x629)](_0x57cfef(0x2d9),_0x417cf7),_0x417cf7;}}async['importChatsBatch'](_0x38df5f){const _0x38fda=a0_0x124f50;try{let _0x881cb=await this[_0x38fda(0x43e)][_0x38fda(0x2af)][_0x38fda(0x81d)]({'where':{}},this[_0x38fda(0x210)][_0x38fda(0x834)]),_0x1b49fb=new Set(_0x881cb[_0x38fda(0x5c2)](_0x4abd76=>_0x4abd76['_id'])),_0x124bfd=[],_0x1c17cb=[];for(let _0x3ec425 of _0x38df5f){if(!_0x3ec425[_0x38fda(0x21c)])continue;_0x3ec425[_0x38fda(0x21c)]=this[_0x38fda(0x54a)](_0x3ec425['_id']);let _0x131d03=await this[_0x38fda(0x43e)]['chat'][_0x38fda(0x7fc)]({'where':{'_id':_0x3ec425[_0x38fda(0x21c)]}},this[_0x38fda(0x210)][_0x38fda(0x834)]),_0x222c70={};if(Object[_0x38fda(0x1f6)](_0x3ec425['leadInfo'])[_0x38fda(0x53a)](([_0x5cca7a,_0x22e7b8])=>{const _0x150a48=_0x38fda;_0x222c70[_0x150a48(0x691)+_0x5cca7a]=_0x22e7b8;}),_0x131d03&&!_0x131d03['imported']){let _0x52e65c=(_0x3ec425['leadInfo'][_0x38fda(0x601)]||[])['filter'](_0x156641=>_0x1b49fb[_0x38fda(0x525)](_0x156641)),_0x5eafad=new Set(_0x131d03[_0x38fda(0x79f)][_0x38fda(0x601)]||[]),_0x1747de=_0x52e65c[_0x38fda(0x5c0)](_0x4cb32c=>!_0x5eafad[_0x38fda(0x525)](_0x4cb32c)),_0xe07e0d=[..._0x5eafad][_0x38fda(0x5c0)](_0x40b4e5=>!_0x52e65c['includes'](_0x40b4e5));_0x1c17cb[_0x38fda(0x1e7)](..._0x1747de[_0x38fda(0x5c2)](_0x9b3afe=>this[_0x38fda(0x33e)](_0x9b3afe,_0x3ec425['_id']))),_0x1c17cb[_0x38fda(0x1e7)](..._0xe07e0d[_0x38fda(0x5c2)](_0x379cc3=>this[_0x38fda(0x560)](_0x379cc3,_0x3ec425[_0x38fda(0x21c)]))),_0x3ec425['leadInfo'][_0x38fda(0x601)]=_0x52e65c,_0x124bfd[_0x38fda(0x1e7)]({'query':{'where':{'_id':_0x3ec425[_0x38fda(0x21c)],'owner':this['instance']['wuid']}},'update':_0x222c70});}else _0x222c70[_0x38fda(0x507)]=!0x0,_0x124bfd['push']({'query':{'where':{'_id':_0x3ec425[_0x38fda(0x21c)],'owner':this[_0x38fda(0x210)][_0x38fda(0x834)]}},'update':_0x222c70});}let _0x22b901=await this[_0x38fda(0x43e)][_0x38fda(0x34f)][_0x38fda(0x491)](_0x124bfd);return await Promise[_0x38fda(0x1d9)](_0x1c17cb),{'updated':_0x22b901};}catch(_0x543e68){throw console[_0x38fda(0x629)](_0x38fda(0x2d9),_0x543e68),_0x543e68;}}async['fetchPrivacySettings'](){const _0x27f666=a0_0x124f50;return await this[_0x27f666(0x60b)][_0x27f666(0x647)]();}async[a0_0x124f50(0x7c1)](_0x1d373f){const _0xc5e548=a0_0x124f50;try{return await this[_0xc5e548(0x60b)]['updateReadReceiptsPrivacy'](_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x31f)]),await this[_0xc5e548(0x60b)][_0xc5e548(0x42a)](_0x1d373f['privacySettings'][_0xc5e548(0x2d8)]),await this['client'][_0xc5e548(0x30e)](_0x1d373f['privacySettings'][_0xc5e548(0x84c)]),await this[_0xc5e548(0x60b)][_0xc5e548(0x6b5)](_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x200)]),await this[_0xc5e548(0x60b)][_0xc5e548(0x2ce)](_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x63e)]),await this[_0xc5e548(0x60b)]['updateGroupsAddPrivacy'](_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x4f9)]),this[_0xc5e548(0x60b)]?.['ws']?.[_0xc5e548(0x509)](),{'update':_0xc5e548(0x62f),'data':{'readreceipts':_0x1d373f['privacySettings'][_0xc5e548(0x31f)],'profile':_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x2d8)],'status':_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x84c)],'online':_0x1d373f[_0xc5e548(0x69a)]['online'],'last':_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x63e)],'groupadd':_0x1d373f[_0xc5e548(0x69a)][_0xc5e548(0x4f9)]}};}catch(_0xd3422b){throw new I(_0xc5e548(0x6e6),_0xd3422b['toString']());}}async['fetchProfile2'](_0x457a85){const _0x5db795=a0_0x124f50;let _0xb9457=_0x457a85?this['createJid'](_0x457a85):this[_0x5db795(0x60b)]?.['user']?.['id'];this[_0x5db795(0x4e8)][_0x5db795(0x64d)](_0x5db795(0x688)+_0xb9457);try{if(this['logger']['verbose']('Getting\x20profile\x20info'),_0x457a85){let _0x3be4dc=(await this['whatsappNumber']({'numbers':[_0xb9457]}))?.[_0x5db795(0x318)](),_0x3ff670=await this[_0x5db795(0x50f)](_0x3be4dc?.[_0x5db795(0x619)]),_0x5f46be=await this[_0x5db795(0x712)](_0x3be4dc?.[_0x5db795(0x619)]),_0xd638ac=await this[_0x5db795(0x476)](_0x3be4dc?.[_0x5db795(0x619)]);return{'wuid':_0x3be4dc?.[_0x5db795(0x619)]||_0xb9457,'name':_0x3be4dc?.[_0x5db795(0x350)],'numberExists':_0x3be4dc?.[_0x5db795(0x319)],'picture':_0x3ff670?.['profilePictureUrl'],'status':_0x5f46be?.[_0x5db795(0x84c)],'isBusiness':_0xd638ac['isBusiness'],'email':_0xd638ac?.['email'],'description':_0xd638ac?.[_0x5db795(0x306)],'website':_0xd638ac?.[_0x5db795(0x41c)]?.[_0x5db795(0x318)]()};}}catch{return this[_0x5db795(0x4e8)][_0x5db795(0x64d)]('Profile\x20not\x20found'),{'wuid':_0xb9457,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x124f50(0x36f)](_0x32ebce){const _0x1dacb6=a0_0x124f50;let _0x58976d=(_0x32ebce?this[_0x1dacb6(0x54a)](_0x32ebce):this[_0x1dacb6(0x60b)]?.[_0x1dacb6(0x21e)]?.['id'])[_0x1dacb6(0x261)](/:\d{1,2}@/g,'@');this[_0x1dacb6(0x4e8)][_0x1dacb6(0x64d)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x58976d);let _0x6830b2=await this[_0x1dacb6(0x43e)][_0x1dacb6(0x65e)][_0x1dacb6(0x7fc)]({'where':{'_id':_0x58976d}},this['instance'][_0x1dacb6(0x834)]),_0x4acf47=_0x6830b2?_0x6830b2['pushName']:null;try{let _0x217046=(await this['whatsappNumber']({'numbers':[_0x58976d]}))?.['shift'](),_0x2ff30e=await this[_0x1dacb6(0x50f)](_0x217046?.['jid']),_0x14c784=await this[_0x1dacb6(0x712)](_0x217046?.[_0x1dacb6(0x619)]),_0x5ba737=await this['fetchBusinessProfile'](_0x217046?.[_0x1dacb6(0x619)]),_0x53a744=await this[_0x1dacb6(0x43e)][_0x1dacb6(0x34f)]['findOne']({'where':{'_id':_0x58976d}},this[_0x1dacb6(0x210)][_0x1dacb6(0x834)]),_0x4332cc={'imagechat':_0x2ff30e?.[_0x1dacb6(0x499)],'contactname':_0x4acf47||null,'status':_0x14c784?.['status'],'isBusiness':_0x5ba737[_0x1dacb6(0x815)],'email':_0x5ba737?.[_0x1dacb6(0x392)],'description':_0x5ba737?.[_0x1dacb6(0x306)],'website':_0x5ba737?.['website']?.[_0x1dacb6(0x318)](),'lastcache':Date['now'](),'imported':!_0x53a744},_0x4383a5=await this[_0x1dacb6(0x43e)]['chat'][_0x1dacb6(0x457)]({'where':{'_id':_0x58976d}},_0x4332cc,this['instance'][_0x1dacb6(0x834)]),_0x151572={'owner':this[_0x1dacb6(0x210)][_0x1dacb6(0x834)],'_id':_0x58976d,'profilePictureUrl':_0x2ff30e?.[_0x1dacb6(0x499)],'status':_0x14c784?.[_0x1dacb6(0x84c)]};return this['repository'][_0x1dacb6(0x65e)][_0x1dacb6(0x31a)]([_0x151572],this[_0x1dacb6(0x210)][_0x1dacb6(0x834)]),_0x4383a5&&q(this[_0x1dacb6(0x370)],_0x1dacb6(0x29e),{'chat':_0x4383a5}),{'wuid':_0x217046?.[_0x1dacb6(0x619)]||_0x58976d,'name':_0x217046?.[_0x1dacb6(0x350)],'numberExists':_0x217046?.[_0x1dacb6(0x319)],'picture':_0x2ff30e?.[_0x1dacb6(0x499)],'status':_0x14c784?.[_0x1dacb6(0x84c)],'isBusiness':_0x5ba737[_0x1dacb6(0x815)],'email':_0x5ba737?.[_0x1dacb6(0x392)],'description':_0x5ba737?.['description'],'website':_0x5ba737?.[_0x1dacb6(0x41c)]?.[_0x1dacb6(0x318)]()};}catch(_0x7402b2){return this[_0x1dacb6(0x4e8)]['error'](_0x1dacb6(0x5be)+(_0x7402b2 instanceof Error?_0x7402b2[_0x1dacb6(0x3cd)]:JSON['stringify'](_0x7402b2,null,0x2))),{};}}async[a0_0x124f50(0x476)](_0x2753f9){const _0xd18eb5=a0_0x124f50;this['logger'][_0xd18eb5(0x64d)](_0xd18eb5(0x83f));try{let _0x288044=_0x2753f9?this[_0xd18eb5(0x54a)](_0x2753f9):this[_0xd18eb5(0x210)][_0xd18eb5(0x834)],_0x4b086f=await this[_0xd18eb5(0x60b)]['getBusinessProfile'](_0x288044);return this[_0xd18eb5(0x4e8)]['verbose'](_0xd18eb5(0x59f)),_0x4b086f?(this[_0xd18eb5(0x4e8)][_0xd18eb5(0x64d)](_0xd18eb5(0x843)),{'isBusiness':!0x0,..._0x4b086f}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0xd18eb5(0x645)]({'numbers':[_0x288044]}))?.[_0xd18eb5(0x318)]()};}catch(_0x4ab010){throw new I(_0xd18eb5(0x7ec),_0x4ab010[_0xd18eb5(0x782)]());}}async[a0_0x124f50(0x712)](_0x403a9c){const _0x118b6d=a0_0x124f50;let _0x339973=this['createJid'](_0x403a9c);try{return{'wuid':_0x339973,'status':(await this[_0x118b6d(0x60b)][_0x118b6d(0x2da)](_0x339973))?.['status']};}catch{return{'wuid':_0x339973,'status':null};}}async[a0_0x124f50(0x2bc)](_0x3f3f96){const _0xcae912=a0_0x124f50;try{return await this[_0xcae912(0x60b)][_0xcae912(0x2bc)](_0x3f3f96),{'update':_0xcae912(0x62f)};}catch(_0x708585){throw new I(_0xcae912(0x7ec),_0x708585[_0xcae912(0x782)]());}}async[a0_0x124f50(0x250)](_0x5b8dd6){const _0x352633=a0_0x124f50;try{return await this['client'][_0x352633(0x250)](_0x5b8dd6),{'update':_0x352633(0x62f)};}catch(_0x2a201a){throw new I(_0x352633(0x391),_0x2a201a['toString']());}}async['updateProfilePicture'](_0x1cb071){const _0x13fc34=a0_0x124f50;try{let _0x2a2c76;if((0x0,$[_0x13fc34(0x5ff)])(_0x1cb071)){let _0x213649=new Date()['getTime'](),_0x50e876=_0x1cb071+_0x13fc34(0x864)+_0x213649;_0x2a2c76=(await se[_0x13fc34(0x223)][_0x13fc34(0x45b)](_0x50e876,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,$[_0x13fc34(0x671)])(_0x1cb071))_0x2a2c76=Buffer[_0x13fc34(0x433)](_0x1cb071,'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x13fc34(0x60b)][_0x13fc34(0x41d)](this['instance']['wuid'],_0x2a2c76),{'update':_0x13fc34(0x62f)};}catch(_0x21558a){throw new I(_0x13fc34(0x651),_0x21558a[_0x13fc34(0x782)]());}}async['removeProfilePicture'](){const _0x362fa2=a0_0x124f50;try{return await this[_0x362fa2(0x60b)][_0x362fa2(0x67a)](this[_0x362fa2(0x210)]['wuid']),{'update':'success'};}catch(_0xc36887){throw new I(_0x362fa2(0x50a),_0xc36887[_0x362fa2(0x782)]());}}async[a0_0x124f50(0x5de)](_0x1d178b){const _0x42946b=a0_0x124f50;try{let _0x486096=_0x1d178b[_0x42946b(0x853)]['map'](_0x11725e=>this[_0x42946b(0x54a)](_0x11725e)),{id:_0x16a292}=await this['client'][_0x42946b(0x216)](_0x1d178b['subject'],_0x486096);return _0x1d178b?.[_0x42946b(0x306)]&&await this[_0x42946b(0x60b)][_0x42946b(0x3eb)](_0x16a292,_0x1d178b['description']),{'metadata':await this[_0x42946b(0x60b)][_0x42946b(0x5e1)](_0x16a292)};}catch(_0x3dd732){throw this[_0x42946b(0x4e8)][_0x42946b(0x629)](this[_0x42946b(0x370)]+'\x20('+this[_0x42946b(0x210)][_0x42946b(0x834)]+_0x42946b(0x839)+(_0x3dd732 instanceof Error?_0x3dd732[_0x42946b(0x3cd)]:JSON[_0x42946b(0x2b4)](_0x3dd732,null,0x2))),new I(_0x42946b(0x47c),_0x3dd732['toString']());}}async['updateGroupPicture'](_0x15a7f2){const _0x22c7df=a0_0x124f50;try{let _0x31d1da;if((0x0,$[_0x22c7df(0x5ff)])(_0x15a7f2['image'])){let _0x37a0cd=new Date()['getTime'](),_0x178708=_0x15a7f2['image']+_0x22c7df(0x864)+_0x37a0cd;_0x31d1da=(await se[_0x22c7df(0x223)][_0x22c7df(0x45b)](_0x178708,{'responseType':'arraybuffer'}))[_0x22c7df(0x77b)];}else{if((0x0,$[_0x22c7df(0x671)])(_0x15a7f2[_0x22c7df(0x5bb)]))_0x31d1da=Buffer[_0x22c7df(0x433)](_0x15a7f2[_0x22c7df(0x5bb)],'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x22c7df(0x60b)]['updateProfilePicture'](_0x15a7f2[_0x22c7df(0x85a)],_0x31d1da),{'update':'success'};}catch(_0x20c3c1){throw new I('Error\x20update\x20group\x20picture',_0x20c3c1[_0x22c7df(0x782)]());}}async[a0_0x124f50(0x22c)](_0x42b16a,_0x1d4a8c=a0_0x124f50(0x5e4)){const _0x38b2f3=a0_0x124f50;try{let _0x3240c6=await this[_0x38b2f3(0x60b)][_0x38b2f3(0x5e1)](_0x42b16a[_0x38b2f3(0x85a)]),_0x435284=null;try{_0x435284=(await this['profilePicture'](_0x42b16a[_0x38b2f3(0x85a)]))[_0x38b2f3(0x499)];}catch(_0x2b4e44){this[_0x38b2f3(0x4e8)][_0x38b2f3(0x64d)](this[_0x38b2f3(0x370)]+'\x20('+this[_0x38b2f3(0x210)][_0x38b2f3(0x834)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x42b16a[_0x38b2f3(0x85a)]+':\x20'+(_0x2b4e44 instanceof Error?_0x2b4e44[_0x38b2f3(0x3cd)]:JSON[_0x38b2f3(0x2b4)](_0x2b4e44,null,0x2)));}let _0x3d35e7=await this[_0x38b2f3(0x43e)][_0x38b2f3(0x34f)][_0x38b2f3(0x457)]({'where':{'_id':_0x42b16a['groupJid']}},{'imagechat':_0x435284,'name':_0x3240c6[_0x38b2f3(0x390)],'group_size':_0x3240c6[_0x38b2f3(0x254)],'group_announce':_0x3240c6[_0x38b2f3(0x4d3)],'lastcache':Date[_0x38b2f3(0x269)]()},this[_0x38b2f3(0x210)][_0x38b2f3(0x834)]);return _0x3d35e7&&q(this['instanceName'],_0x38b2f3(0x29e),{'chat':_0x3d35e7}),{'metadata':_0x3240c6,'image':_0x435284};}catch(_0x26e0f7){if(_0x1d4a8c===_0x38b2f3(0x74f))return;throw new k(_0x38b2f3(0x71f),_0x26e0f7[_0x38b2f3(0x782)]());}}async['groupDesc'](_0x1ccb66){const _0x577089=a0_0x124f50;try{return await this[_0x577089(0x60b)][_0x577089(0x3eb)](_0x1ccb66[_0x577089(0x85a)],_0x1ccb66[_0x577089(0x306)]),{'update':_0x577089(0x62f)};}catch(_0x1757ea){throw new I('Error\x20change\x20group\x20description',_0x1757ea[_0x577089(0x782)]());}}async[a0_0x124f50(0x711)](_0x2f9ffc){const _0x3b7610=a0_0x124f50;try{return await this['client']['groupUpdateSubject'](_0x2f9ffc[_0x3b7610(0x85a)],_0x2f9ffc[_0x3b7610(0x350)]),{'update':_0x3b7610(0x62f)};}catch(_0x91a8c6){throw new I('Error\x20change\x20group\x20name',_0x91a8c6[_0x3b7610(0x782)]());}}async[a0_0x124f50(0x361)](_0x34e741){const _0xfa5f42=a0_0x124f50;try{return await this[_0xfa5f42(0x60b)][_0xfa5f42(0x690)](_0x34e741[_0xfa5f42(0x85a)],_0x34e741[_0xfa5f42(0x29d)]),{'update':_0xfa5f42(0x62f)};}catch(_0x4a66f0){throw new I(_0xfa5f42(0x4d9),_0x4a66f0['toString']());}}async[a0_0x124f50(0x501)](){const _0x5384e9=a0_0x124f50;try{let _0x5e0ae8=[],_0x110b6d=await this['client'][_0x5384e9(0x4e9)](),_0x33b959=Object[_0x5384e9(0x1e1)](_0x110b6d),_0x31fee3=_0x33b959[_0x5384e9(0x5c0)](_0x6fea2f=>(0x0,g[_0x5384e9(0x556)])(_0x6fea2f?.['id']))[_0x5384e9(0x5c2)](async _0x52f0ed=>{const _0x54e871=_0x5384e9;try{return await this[_0x54e871(0x60b)]['profilePictureUrl'](_0x52f0ed['id'],_0x54e871(0x693));}catch(_0x5bfc30){return this['logger'][_0x54e871(0x64d)](this[_0x54e871(0x370)]+'\x20('+this[_0x54e871(0x210)]['wuid']+_0x54e871(0x867)+_0x52f0ed['id']+':\x20'+(_0x5bfc30 instanceof Error?_0x5bfc30[_0x54e871(0x3cd)]:JSON['stringify'](_0x5bfc30,null,0x2))),null;}}),_0x1da4d1=await Promise[_0x5384e9(0x1d9)](_0x31fee3);for(let _0x3a8f3e=0x0;_0x3a8f3e<_0x33b959[_0x5384e9(0x230)];_0x3a8f3e++){let _0x3bc093=_0x33b959[_0x3a8f3e];(0x0,g[_0x5384e9(0x556)])(_0x3bc093?.['id'])&&_0x5e0ae8[_0x5384e9(0x1e7)]({'groupJid':_0x3bc093?.['id'],'subject':_0x3bc093?.[_0x5384e9(0x390)],'subjectOwner':_0x3bc093?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x3bc093?.[_0x5384e9(0x3e8)],'size':_0x3bc093?.['participants']?.[_0x5384e9(0x230)],'owner':_0x3bc093?.[_0x5384e9(0x652)]?.[_0x5384e9(0x4f0)]('@')[0x0],'creation':_0x3bc093?.['creation'],'desc':_0x3bc093?.[_0x5384e9(0x555)],'restrict':_0x3bc093?.['restrict'],'announce':_0x3bc093?.['announce'],'image':_0x1da4d1[_0x3a8f3e]});}return _0x5e0ae8;}catch(_0x27a899){throw new k(_0x5384e9(0x71f),_0x27a899[_0x5384e9(0x782)]());}}async[a0_0x124f50(0x2e6)](_0x53c60b){const _0x1c03cb=a0_0x124f50;try{let _0x346497=await this[_0x1c03cb(0x60b)][_0x1c03cb(0x46f)](_0x53c60b[_0x1c03cb(0x85a)]);return{'inviteUrl':_0x1c03cb(0x566)+_0x346497,'inviteCode':_0x346497};}catch(_0x3412a5){throw new k(_0x1c03cb(0x2b5),_0x3412a5[_0x1c03cb(0x782)]());}}async[a0_0x124f50(0x4cd)](_0x499caa){const _0x5de227=a0_0x124f50;try{let _0x4b453c=await this[_0x5de227(0x60b)][_0x5de227(0x27e)](_0x499caa[_0x5de227(0x85a)]);return{'revoked':!0x0,'inviteUrl':_0x5de227(0x566)+_0x4b453c,'inviteCode':_0x4b453c};}catch(_0x5d156b){throw new k(_0x5de227(0x56d),_0x5d156b[_0x5de227(0x782)]());}}async[a0_0x124f50(0x4b7)](_0x31319f){const _0x52437f=a0_0x124f50;try{if((0x0,$[_0x52437f(0x5ff)])(_0x31319f[_0x52437f(0x2e6)]))var _0x593f6c=_0x31319f[_0x52437f(0x2e6)][_0x52437f(0x4f0)]('/')[0x3];else var _0x593f6c=_0x31319f[_0x52437f(0x2e6)];let _0x2bbd0b=await this['client'][_0x52437f(0x720)](_0x593f6c);return this[_0x52437f(0x4e8)]['verbose'](this[_0x52437f(0x370)]+'\x20('+this[_0x52437f(0x210)][_0x52437f(0x834)]+_0x52437f(0x839)+_0x2bbd0b),{'join':!0x0,'inviteCode':_0x593f6c,'groupJid':_0x2bbd0b};}catch(_0x539166){throw new k(_0x52437f(0x632),_0x539166['toString']());}}async[a0_0x124f50(0x410)](_0x42001f){const _0x1cafea=a0_0x124f50;try{return{'participants':(await this['client'][_0x1cafea(0x5e1)](_0x42001f['groupJid']))[_0x1cafea(0x853)]};}catch(_0x345307){throw new k(_0x1cafea(0x48a),_0x345307['toString']());}}async[a0_0x124f50(0x351)](_0x442ab5){const _0x4f6917=a0_0x124f50;try{let _0xa8a704=_0x442ab5['participants'][_0x4f6917(0x5c2)](_0x557121=>this[_0x4f6917(0x54a)](_0x557121));return{'updateParticipants':await this[_0x4f6917(0x60b)][_0x4f6917(0x6be)](_0x442ab5[_0x4f6917(0x85a)],_0xa8a704,_0x442ab5[_0x4f6917(0x74b)])};}catch(_0x484966){throw new w(_0x4f6917(0x5d2),_0x484966['toString']());}}async[a0_0x124f50(0x4e1)](_0x5f14e1){const _0x26d770=a0_0x124f50;try{let _0x599259=await this[_0x26d770(0x60b)][_0x26d770(0x57d)](_0x5f14e1[_0x26d770(0x85a)],_0x5f14e1[_0x26d770(0x2e3)]);return{'success':!0x0};}catch(_0xe59ebd){throw new w(_0x26d770(0x7c4),_0xe59ebd['toString']());}}async[a0_0x124f50(0x624)](_0x3e42d4){const _0x8182ba=a0_0x124f50;try{return await this[_0x8182ba(0x60b)][_0x8182ba(0x4b2)](_0x3e42d4[_0x8182ba(0x85a)]),{'groupJid':_0x3e42d4[_0x8182ba(0x85a)],'leave':!0x0};}catch(_0x39664e){throw new w(_0x8182ba(0x854),_0x39664e['toString']());}}async[a0_0x124f50(0x284)](_0x10bf60){const _0x3854b2=a0_0x124f50;return await this['sendMessageWithTyping'](_0x10bf60[_0x3854b2(0x5cb)],{'poll':{'name':_0x10bf60[_0x3854b2(0x284)]?.['name'],'selectableCount':_0x10bf60[_0x3854b2(0x284)][_0x3854b2(0x47e)],'values':_0x10bf60[_0x3854b2(0x284)][_0x3854b2(0x1e1)]}},_0x10bf60?.['options']);}async[a0_0x124f50(0x4bb)](_0x3851fd){const _0x223262=a0_0x124f50;return await this[_0x223262(0x7a0)](_0x3851fd[_0x223262(0x5cb)],{'listMessage':{'title':_0x3851fd[_0x223262(0x4bb)][_0x223262(0x6ae)],'description':_0x3851fd[_0x223262(0x4bb)][_0x223262(0x306)],'buttonText':_0x3851fd['listMessage']?.[_0x223262(0x62a)],'footerText':_0x3851fd[_0x223262(0x4bb)]?.[_0x223262(0x493)],'sections':_0x3851fd['listMessage'][_0x223262(0x5c3)],'listType':0x2}},_0x3851fd?.[_0x223262(0x7d5)]);}async[a0_0x124f50(0x5d6)](_0x26abf8){const _0xf646f=a0_0x124f50;let _0x44072b;if(_0x26abf8[_0xf646f(0x5d6)]['type']===_0xf646f(0x7fb)){let _0x5a2c06=_0x26abf8[_0xf646f(0x5d6)]['text'][_0xf646f(0x75b)]('\x0a'),_0x1d3387='',_0x9ad71='';_0x5a2c06!==-0x1?(_0x1d3387=_0x26abf8[_0xf646f(0x5d6)][_0xf646f(0x2ff)][_0xf646f(0x82b)](0x0,_0x5a2c06)[_0xf646f(0x485)](),_0x9ad71=_0x26abf8[_0xf646f(0x5d6)]['text'][_0xf646f(0x82b)](_0x5a2c06+0x1)):_0x9ad71=_0x26abf8[_0xf646f(0x5d6)][_0xf646f(0x2ff)];let _0x103c1a=_0x26abf8['menuMessage'][_0xf646f(0x2f1)][_0xf646f(0x5c0)](_0x5515d9=>_0x5515d9[_0xf646f(0x485)]()!==''),_0x3d1a15=this['createSectionsFromValues'](_0x103c1a);_0x44072b={'listMessage':{'title':_0x1d3387,'description':_0x9ad71,'buttonText':_0x26abf8[_0xf646f(0x5d6)][_0xf646f(0x62a)]||_0xf646f(0x7d6),'footerText':_0x26abf8[_0xf646f(0x5d6)]['footerText'],'sections':_0x3d1a15,'listType':0x2}};}else{if(_0x26abf8[_0xf646f(0x5d6)][_0xf646f(0x76c)]===_0xf646f(0x60d)){let _0x532741=_0x26abf8[_0xf646f(0x5d6)]['choices'][_0xf646f(0x5c0)](_0xd57248=>!(_0xd57248[_0xf646f(0x515)]('[')&&_0xd57248['endsWith'](']'))&&_0xd57248[_0xf646f(0x485)]()!=='')[_0xf646f(0x5c2)](_0x596fd6=>_0x596fd6[_0xf646f(0x4f0)]('\x0a')[0x0]);_0x44072b={'poll':{'name':_0x26abf8[_0xf646f(0x5d6)][_0xf646f(0x2ff)],'selectableCount':_0x26abf8[_0xf646f(0x5d6)]['selectableCount']||0x1,'values':_0x532741}};}}return await this[_0xf646f(0x7a0)](_0x26abf8[_0xf646f(0x5cb)],_0x44072b,_0x26abf8?.[_0xf646f(0x7d5)]);}[a0_0x124f50(0x771)](_0x586fd0){const _0x522f27=a0_0x124f50;let _0x6c0a16=[],_0x16751a={'rows':[]};return _0x586fd0['forEach'](_0x1454bd=>{const _0x328f2b=a0_0x1d88;if(_0x1454bd['startsWith']('[')&&_0x1454bd['endsWith'](']'))_0x16751a[_0x328f2b(0x40d)]['length']>0x0&&_0x6c0a16[_0x328f2b(0x1e7)](_0x16751a),_0x16751a={'title':_0x1454bd[_0x328f2b(0x583)](0x1,-0x1),'rows':[]};else{let _0x526a25=_0x1454bd['split']('\x0a')['map'](_0x3622c7=>_0x3622c7['trim']()),_0xc63f83=_0x526a25[0x0],_0x54021c=_0x526a25[0x1]||null,_0x274c60=_0x526a25[0x2]||_0xc63f83;_0x16751a[_0x328f2b(0x40d)][_0x328f2b(0x1e7)]({'title':_0xc63f83,'description':_0x54021c,'rowId':_0x274c60});}}),_0x16751a[_0x522f27(0x40d)][_0x522f27(0x230)]>0x0&&_0x6c0a16[_0x522f27(0x1e7)](_0x16751a),_0x6c0a16;}async[a0_0x124f50(0x2c6)](_0x1a4ca4,_0x5efcbd){const _0x5e3406=a0_0x124f50;if(await this[_0x5e3406(0x43d)](_0x1a4ca4,!0x0)){let _0x1c6a80={'where':{'_id':_0x1a4ca4['id']}},_0x1fd237={'status':[_0x5efcbd[_0x5e3406(0x84c)]][0x0]};try{let _0x46484a=await this[_0x5e3406(0x43e)][_0x5e3406(0x3cd)]['update'](_0x1c6a80,_0x1fd237,this[_0x5e3406(0x210)][_0x5e3406(0x834)]);_0x46484a&&q(this[_0x5e3406(0x370)],_0x5e3406(0x2c3),{'message':_0x46484a});}catch{}}}['sectionsToString'](_0x14aaac){const _0x576fdd=a0_0x124f50;let _0x5c0c6a=[];return _0x14aaac[_0x576fdd(0x53a)](_0x6435c3=>{const _0x41b131=_0x576fdd;_0x6435c3[_0x41b131(0x6ae)]&&_0x5c0c6a[_0x41b131(0x1e7)]('['+_0x6435c3[_0x41b131(0x6ae)]+']'),_0x6435c3[_0x41b131(0x40d)][_0x41b131(0x53a)](_0x5d9e1e=>{const _0x48ce5d=_0x41b131;_0x5c0c6a[_0x48ce5d(0x1e7)](_0x5d9e1e[_0x48ce5d(0x6ae)]);});}),_0x5c0c6a['join']('|');}['formatVCard'](_0x12f146){const _0x29b429=a0_0x124f50;let _0x487674=_0x12f146[_0x29b429(0x261)](/\\n/g,'\x0a')[_0x29b429(0x4f0)]('\x0a')[_0x29b429(0x5c0)](_0x29b09f=>_0x29b09f[_0x29b429(0x6c2)](_0x29b429(0x846))||_0x29b09f[_0x29b429(0x6c2)](_0x29b429(0x5c9))),_0x9d38ab='';return _0x487674['forEach'](_0x27fee4=>{const _0x21f68e=_0x29b429;let _0x41c203=/TEL(?:.*):(.+)/,_0x17ff83=/EMAIL(?:.*):(.+)/,_0x11c224=_0x27fee4[_0x21f68e(0x5da)](_0x41c203),_0x3c1f3c=_0x27fee4[_0x21f68e(0x5da)](_0x17ff83);if(_0x11c224){let _0xdef152=_0x11c224[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x21f68e(0x485)]();_0x9d38ab+='Telefone:\x20'+_0xdef152+'\x0a';}else{if(_0x3c1f3c){let _0x4b0dc4=_0x3c1f3c[0x1][_0x21f68e(0x485)]();_0x9d38ab+=_0x21f68e(0x407)+_0x4b0dc4+'\x0a';}}}),_0x9d38ab[_0x29b429(0x485)]();}async['updateChatWithMessage'](_0x3d6c32,_0x1b7b6c,_0x4c77c6){const _0x249d59=a0_0x124f50;if(!_0x3d6c32['ENABLED'])return;let _0xa4515b=_0x1b7b6c[_0x249d59(0x1fe)][_0x249d59(0x540)][_0x249d59(0x261)](/:\d{1,2}@/g,'@'),_0x44bfa9=_0x1b7b6c['key']['fromMe'],_0x1029b2=_0xa4515b['endsWith'](_0x249d59(0x459)),_0xf6ae64=_0x1b7b6c[_0x249d59(0x7bb)]?.[_0x249d59(0x2ff)]||_0x1b7b6c[_0x249d59(0x7bb)]?.[_0x249d59(0x245)]||_0x1b7b6c[_0x249d59(0x7bb)]?.[_0x249d59(0x778)]||_0x1b7b6c['message_normalized']?.[_0x249d59(0x350)],_0x1cc00f={'lastmsg':_0x1b7b6c[_0x249d59(0x6bf)]||Date[_0x249d59(0x269)](),'unreadcount':_0x44bfa9?0x0:0x1,..._0x44bfa9||_0x1029b2?{}:{'name':_0x1b7b6c[_0x249d59(0x30f)]},..._0x1029b2?{'group':_0x1029b2}:{}},_0x4661a4=await this[_0x249d59(0x43e)][_0x249d59(0x34f)][_0x249d59(0x457)]({'where':{'_id':_0xa4515b}},_0x1cc00f,this[_0x249d59(0x210)]['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x4661a4[_0x249d59(0x507)]){let _0x4b2c63=await this['repository'][_0x249d59(0x2af)]['find']({'where':{}},this['instance'][_0x249d59(0x834)]),_0x5805e4=new Set(_0x4b2c63[_0x249d59(0x5c2)](_0x3e76e7=>_0x3e76e7[_0x249d59(0x21c)])),_0x16e951=(_0x4661a4[_0x249d59(0x79f)]?.['etiquetas']||[])[_0x249d59(0x5c0)](_0x1ac15d=>_0x5805e4[_0x249d59(0x525)](_0x1ac15d)),_0x3bdb92={'leadInfo.etiquetas':_0x16e951,'imported':!0x1};_0x4661a4=await this['repository'][_0x249d59(0x34f)][_0x249d59(0x457)]({'where':{'_id':_0xa4515b}},_0x3bdb92,this[_0x249d59(0x210)]['wuid']);for(let _0x2f5ca2 of _0x16e951)await this[_0x249d59(0x33e)](_0x2f5ca2,_0xa4515b);}if(!_0x1029b2&&(!_0x4661a4?.[_0x249d59(0x79f)]||!_0x4661a4['leadInfo'][_0x249d59(0x355)])&&_0x1b7b6c[_0x249d59(0x30f)]&&!_0x44bfa9&&(_0x4661a4=await this[_0x249d59(0x43e)][_0x249d59(0x34f)][_0x249d59(0x457)]({'where':{'_id':_0xa4515b}},{'leadInfo.nome':_0x1b7b6c['pushName']},this[_0x249d59(0x210)][_0x249d59(0x834)],{'new':!0x0,'upsert':!0x0})),_0x4c77c6===_0x249d59(0x2bd)&&_0x44bfa9&&this[_0x249d59(0x669)]?.[_0x249d59(0x62e)][_0x249d59(0x55f)]&&!_0xf6ae64[_0x249d59(0x515)](this[_0x249d59(0x669)]?.[_0x249d59(0x62e)][_0x249d59(0x28b)])){let _0x3bce9f=(this['AutomateSystem']?.[_0x249d59(0x62e)][_0x249d59(0x65a)]||0x5)*0xea60,_0x2b8e2f=Date[_0x249d59(0x269)]()+_0x3bce9f;_0x4661a4?.[_0x249d59(0x79f)]?.[_0x249d59(0x2c5)]===0x0||(await this['repository']['chat'][_0x249d59(0x457)]({'where':{'_id':_0xa4515b}},{'leadInfo.desativadoFluxoAte':_0x2b8e2f},this['instance'][_0x249d59(0x834)],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this['instance'][_0x249d59(0x834)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x2b8e2f+'.'));}if(_0x4661a4)q(this[_0x249d59(0x370)],_0x249d59(0x29e),{'chat':_0x4661a4});else{this['logger']['error'](this[_0x249d59(0x370)]+'\x20('+this[_0x249d59(0x210)]['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x249d59(0x669)]?.[_0x249d59(0x62e)][_0x249d59(0x55f)])return this[_0x249d59(0x4e8)][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this[_0x249d59(0x210)][_0x249d59(0x834)]+_0x249d59(0x388)),null;if(_0x4661a4['_id'][_0x249d59(0x6c2)](_0x249d59(0x459))&&this['AutomateSystem']?.[_0x249d59(0x62e)][_0x249d59(0x6f9)]===!0x0)return this[_0x249d59(0x4e8)][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this['instance'][_0x249d59(0x834)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x4661a4[_0x249d59(0x79f)]){if(_0x4661a4['leadInfo'][_0x249d59(0x2c5)]===0x0||_0x4661a4[_0x249d59(0x79f)][_0x249d59(0x4cc)])return this[_0x249d59(0x4e8)][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this[_0x249d59(0x210)][_0x249d59(0x834)]+_0x249d59(0x4a3)+_0xa4515b+_0x249d59(0x259)),null;if(_0x4661a4['leadInfo'][_0x249d59(0x2c5)]>Date[_0x249d59(0x269)]()&&!_0x1b7b6c[_0x249d59(0x7bb)]?.['vote'])return this[_0x249d59(0x4e8)][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this['instance']['wuid']+_0x249d59(0x3a3)+new Date(_0x4661a4[_0x249d59(0x79f)]['desativadoFluxoAte'])['toLocaleString']()+',\x20saindo.'),null;}this['logger'][_0x249d59(0x64d)](this[_0x249d59(0x370)]+'\x20('+this[_0x249d59(0x210)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x249d59(0x6f4)](_0x4c77c6,_0x1b7b6c);}async[a0_0x124f50(0x489)](_0x55d3a0,_0x519f11){const _0x42377c=a0_0x124f50;if(_0x519f11[_0x42377c(0x6a1)]){let _0x55426b=_0x55d3a0[_0x42377c(0x5c2)](async _0xbda188=>{const _0x358e93=_0x42377c;try{let _0x28f151={'_id':_0xbda188[_0x358e93(0x21c)],'owner':_0xbda188[_0x358e93(0x652)],'lastcache':0x0};if(_0xbda188[_0x358e93(0x682)]!==null&&(_0x28f151['group']=_0xbda188[_0x358e93(0x682)]),_0xbda188[_0x358e93(0x350)]!==null&&(_0x28f151['name']=_0xbda188[_0x358e93(0x350)]),_0xbda188[_0x358e93(0x6c3)]!==null&&(_0x28f151[_0x358e93(0x6c3)]=_0xbda188['contactname']),_0xbda188[_0x358e93(0x1f4)]!==null&&(_0x28f151[_0x358e93(0x1f4)]=_0xbda188[_0x358e93(0x1f4)]),_0xbda188[_0x358e93(0x1f4)]===null&&(_0x28f151[_0x358e93(0x1f4)]=_0x358e93(0x781)),_0xbda188['lastmsg']!==null&&(_0x28f151[_0x358e93(0x6d7)]=_0xbda188[_0x358e93(0x6d7)]),_0xbda188[_0x358e93(0x1e8)]!==null&&(_0x28f151[_0x358e93(0x1e8)]=_0xbda188[_0x358e93(0x1e8)]),_0xbda188[_0x358e93(0x1f2)]!==null&&(_0x28f151[_0x358e93(0x1f2)]=_0xbda188[_0x358e93(0x1f2)]),Object[_0x358e93(0x311)](_0x28f151)[_0x358e93(0x230)]>0x0)return await this[_0x358e93(0x43e)][_0x358e93(0x34f)]['updateOne']({'where':{'_id':_0xbda188[_0x358e93(0x21c)]}},_0x28f151,this[_0x358e93(0x210)][_0x358e93(0x834)]);}catch(_0x50d8a9){return console['error'](_0x358e93(0x838)+_0xbda188[_0x358e93(0x21c)]+':',_0x50d8a9),null;}}),_0x15b068=(await Promise[_0x42377c(0x1d9)](_0x55426b))['filter'](_0x564e3b=>_0x564e3b!==null)[_0x42377c(0x230)];this[_0x42377c(0x4e8)][_0x42377c(0x64d)](this['instanceName']+'\x20('+this[_0x42377c(0x210)][_0x42377c(0x834)]+_0x42377c(0x839)+_0x15b068+_0x42377c(0x50c)+this['instance'][_0x42377c(0x834)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x11e6d1){const _0x25c526=a0_0x124f50;this[_0x25c526(0x4e8)][_0x25c526(0x64d)](this['instanceName']+'\x20('+this[_0x25c526(0x210)][_0x25c526(0x834)]+_0x25c526(0x758));let _0x1f53c2={'readMessages':[{'remoteJid':_0x11e6d1['chatLog'][_0x25c526(0x7e1)][_0x25c526(0x1fe)][_0x25c526(0x540)],'fromMe':_0x11e6d1['chatLog']['lastReceivedMessage'][_0x25c526(0x1fe)][_0x25c526(0x5b0)],'id':_0x11e6d1[_0x25c526(0x824)]['lastReceivedMessage']['key']['id']}]};await this[_0x25c526(0x80f)](_0x1f53c2);}async['StartBot'](_0x2b7575,_0xc37878){const _0x408cbf=a0_0x124f50;try{let {key:_0x1f7a06,message_normalized:_0x8ef403}=_0xc37878,_0x3b35e2=_0x8ef403,_0x2f181e=_0x8ef403[_0x408cbf(0x2ff)]||_0x8ef403[_0x408cbf(0x245)]||_0x8ef403[_0x408cbf(0x778)]||_0x8ef403['name'],_0x12ae50=_0x1f7a06[_0x408cbf(0x540)],_0x2d7eb2;if(_0x3b35e2[_0x408cbf(0x1fe)][_0x408cbf(0x5b0)]&&_0x2f181e['trim']()!==this[_0x408cbf(0x669)]?.[_0x408cbf(0x62e)][_0x408cbf(0x4f7)][_0x408cbf(0x485)]())return this['logger']['verbose'](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)]['wuid']+_0x408cbf(0x38b)),null;if(_0x3b35e2['key'][_0x408cbf(0x5b0)]&&_0x2f181e['trim']()===this[_0x408cbf(0x669)]?.['flowConfig'][_0x408cbf(0x4f7)][_0x408cbf(0x485)]()){this[_0x408cbf(0x4e8)][_0x408cbf(0x64d)](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0xba5556=await this[_0x408cbf(0x43e)][_0x408cbf(0x3d0)][_0x408cbf(0x81d)]({'remoteJid':_0x12ae50,'status':_0x408cbf(0x3f9)},this[_0x408cbf(0x210)][_0x408cbf(0x834)]);this[_0x408cbf(0x4e8)][_0x408cbf(0x64d)](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)][_0x408cbf(0x834)]+_0x408cbf(0x7e9)+_0xba5556);let _0x4c3053=Date[_0x408cbf(0x269)](),_0x5ed238;return this['AutomateSystem']?.[_0x408cbf(0x62e)]['stopMinutes']===0x0?_0x5ed238={'stoppedUntil':_0x4c3053+0x7591f6200}:_0x5ed238={'stoppedUntil':_0x4c3053+this[_0x408cbf(0x669)]?.[_0x408cbf(0x62e)]['stopMinutes']*0x3c*0x3e8},this[_0x408cbf(0x4e8)]['verbose'](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)][_0x408cbf(0x834)]+_0x408cbf(0x412)+_0x5ed238),this[_0x408cbf(0x548)](_0x2d7eb2,_0x5ed238['stoppedUntil']),null;}if(_0x2f181e&&_0x2f181e[_0x408cbf(0x515)](this['AutomateSystem']?.[_0x408cbf(0x62e)][_0x408cbf(0x28b)])&&_0x2f181e[_0x408cbf(0x230)]>0x4){let _0x3c5177=await this[_0x408cbf(0x43e)]['flow'][_0x408cbf(0x7fc)]({'where':{'startCommandWord':_0x2f181e}},this['instance']['wuid']);if(this[_0x408cbf(0x4e8)]['verbose'](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)][_0x408cbf(0x834)]+_0x408cbf(0x607)),_0x3c5177)_0x2d7eb2=await this['createNewConversation'](_0x3c5177,_0x3b35e2['key'],_0x3b35e2);else return this[_0x408cbf(0x4e8)][_0x408cbf(0x64d)](this['instanceName']+'\x20('+this['instance'][_0x408cbf(0x834)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x2d7eb2=await this[_0x408cbf(0x40f)](_0x12ae50,_0x3b35e2);if(_0x2d7eb2){this['logger'][_0x408cbf(0x64d)](this['instanceName']+'\x20('+this[_0x408cbf(0x210)][_0x408cbf(0x834)]+_0x408cbf(0x806)),!_0x1f7a06['fromMe']&&_0x2d7eb2['readMessages']&&this[_0x408cbf(0x231)](_0x2d7eb2);let _0x4ecf4d=await this[_0x408cbf(0x464)](_0x2d7eb2);_0x4ecf4d&&await this['processblock'](_0x2d7eb2,_0x4ecf4d);}}catch(_0x3e6b81){this[_0x408cbf(0x4e8)][_0x408cbf(0x629)](this[_0x408cbf(0x370)]+'\x20('+this[_0x408cbf(0x210)][_0x408cbf(0x834)]+_0x408cbf(0x7fd)+(_0x3e6b81 instanceof Error?_0x3e6b81['message']:JSON[_0x408cbf(0x2b4)](_0x3e6b81,null,0x2)));}}[a0_0x124f50(0x3a0)](_0x22241c,_0x1a44e0='',_0x292e29={},_0x449fc1=!0x0){const _0x35ae4c=a0_0x124f50;for(let _0x2d87ff in _0x22241c){let _0x27b8df=_0x449fc1?'_'+_0x2d87ff:''+_0x1a44e0+_0x2d87ff;typeof _0x22241c[_0x2d87ff]==_0x35ae4c(0x79d)&&_0x22241c[_0x2d87ff]!==null?this[_0x35ae4c(0x3a0)](_0x22241c[_0x2d87ff],_0x27b8df+'.',_0x292e29,!0x1):_0x292e29[_0x27b8df]=String(_0x22241c[_0x2d87ff]);}return _0x292e29;}[a0_0x124f50(0x825)](_0x41c27a){const _0x567f69=a0_0x124f50;let _0x1cce57={};for(let _0x27cf0c of _0x41c27a)typeof _0x27cf0c[_0x567f69(0x350)]==_0x567f69(0x541)&&typeof _0x27cf0c[_0x567f69(0x23b)]==_0x567f69(0x541)&&(_0x1cce57[_0x27cf0c['name']]=_0x27cf0c[_0x567f69(0x23b)]);return _0x1cce57;}async[a0_0x124f50(0x464)](_0x12099f){const _0x623e6c=a0_0x124f50;if(!this['AutomateSystem']?.[_0x623e6c(0x62e)][_0x623e6c(0x55f)]||_0x12099f[_0x623e6c(0x84c)]!==_0x623e6c(0x3f9)&&_0x12099f[_0x623e6c(0x420)]==='')return null;let _0x1c5065=_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x4eb)]||_0x623e6c(0x6d9);typeof _0x12099f[_0x623e6c(0x824)]['lastCondition']>'u'&&(_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x4e4)]=!0x0);let _0x2fc031=_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x4e4)];this[_0x623e6c(0x4e8)][_0x623e6c(0x64d)](this[_0x623e6c(0x370)]+'\x20('+this['instance'][_0x623e6c(0x834)]+'):\x20lastBlockId:\x20'+_0x1c5065+_0x623e6c(0x2f3)+_0x2fc031);let _0x11d406=_0x1c5065===_0x623e6c(0x6d9)?_0x12099f[_0x623e6c(0x708)][_0x623e6c(0x81d)](_0x1bd2f6=>_0x1bd2f6[_0x623e6c(0x76c)]==='start'):_0x12099f[_0x623e6c(0x708)]['find'](_0x5413eb=>_0x5413eb['_id']['toString']()===_0x1c5065[_0x623e6c(0x782)]());if(!_0x11d406)return this[_0x623e6c(0x4e8)]['error'](this[_0x623e6c(0x370)]+'\x20('+this[_0x623e6c(0x210)][_0x623e6c(0x834)]+_0x623e6c(0x6a0)+_0x1c5065),null;let _0x18d6af={'_pushName':_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x7e1)][_0x623e6c(0x30f)],..._0x12099f[_0x623e6c(0x824)][_0x623e6c(0x297)]},_0x3e1876=null;if(_0x12099f['waitingMenu_id']){let _0x5b90ec=_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x7e1)][_0x623e6c(0x778)],_0xaad46=_0x12099f[_0x623e6c(0x4a4)][_0x623e6c(0x81d)](_0x3a742e=>_0x3a742e['option']===_0x5b90ec);if(_0xaad46){let _0x2110cb=_0xaad46[_0x623e6c(0x828)];if(_0x3e1876=_0x12099f['blocks'][_0x623e6c(0x81d)](_0x3d4b10=>_0x3d4b10[_0x623e6c(0x205)]===_0x2110cb&&_0x3d4b10['order']===0x1),_0x11d406[_0x623e6c(0x448)]['pollOnReplyDelete']){let _0x5e821b={'id':_0x12099f['waitingMenu_id'],'remoteJid':_0x12099f[_0x623e6c(0x540)],'fromMe':!0x0};await this[_0x623e6c(0x363)](_0x5e821b);}if(_0x11d406['uazapi'][_0x623e6c(0x21a)]&&_0x11d406[_0x623e6c(0x448)][_0x623e6c(0x81e)]&&_0x11d406[_0x623e6c(0x448)][_0x623e6c(0x841)]===_0x623e6c(0x60d)){let _0x119938={'number':_0x12099f[_0x623e6c(0x540)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x12099f['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x5b90ec}};await this[_0x623e6c(0x72b)](_0x119938);}_0x12099f[_0x623e6c(0x84c)]=_0x623e6c(0x3f9),_0x12099f[_0x623e6c(0x420)]='',_0x12099f['waitingMenu_text']='',_0x12099f['waitingMenu_replyOptions']=[];}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x623e6c(0x210)][_0x623e6c(0x834)]+_0x623e6c(0x21d));let _0x3cba8f={'activatedCount':_0x12099f[_0x623e6c(0x824)]['blockLogs'][_0x623e6c(0x5c0)](_0x50037f=>String(_0x50037f[_0x623e6c(0x740)])===String(_0x1c5065))['length'],'moreLogs':[_0x623e6c(0x3f7)]};if(_0x11d406[_0x623e6c(0x448)]['pollErrorMessage']){let _0x220c59={'number':_0x12099f[_0x623e6c(0x540)],'options':{'delay':0x0},'textMessage':{'text':_0x11d406[_0x623e6c(0x448)]['pollErrorMessage']}};await this[_0x623e6c(0x72b)](_0x220c59);}if(_0x11d406[_0x623e6c(0x468)]!==void 0x0&&_0x3cba8f[_0x623e6c(0x659)]>=_0x11d406[_0x623e6c(0x468)]){let _0x368fdf=Date[_0x623e6c(0x269)](),_0x2aff2=_0x11d406[_0x623e6c(0x674)]??0xa;isNaN(_0x2aff2)&&(_0x2aff2=0xa);let _0x2eed17=_0x368fdf+_0x2aff2*0x3c*0x3e8;_0x3cba8f[_0x623e6c(0x7e0)]=_0x2eed17,_0x3cba8f[_0x623e6c(0x752)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x623e6c(0x548)](_0x12099f,_0x2eed17),_0x12099f['waitingMenu_id']='',_0x12099f['waitingMenu_text']='',_0x12099f[_0x623e6c(0x4a4)]=[];}return this[_0x623e6c(0x77f)](_0x12099f,_0x11d406,_0x3cba8f,!0x0),null;}}if(_0x2fc031&&_0x11d406[_0x623e6c(0x828)]&&!_0x12099f[_0x623e6c(0x420)]){let _0x5cbf50=_0x12099f[_0x623e6c(0x708)][_0x623e6c(0x5c0)](_0x232501=>_0x232501[_0x623e6c(0x205)][_0x623e6c(0x782)]()===_0x11d406[_0x623e6c(0x828)][_0x623e6c(0x782)]())[_0x623e6c(0x38c)]((_0x3b4ed6,_0x3ce6a0)=>_0x3b4ed6['order']-_0x3ce6a0[_0x623e6c(0x357)]);_0x5cbf50['length']>0x0&&(_0x3e1876=_0x5cbf50[0x0]);}if(!_0x3e1876){let _0x108238=_0x11d406[_0x623e6c(0x205)],_0x423b40=_0x12099f[_0x623e6c(0x708)][_0x623e6c(0x5c0)](_0x1db80f=>_0x1db80f[_0x623e6c(0x205)]===_0x108238&&_0x1db80f[_0x623e6c(0x357)]>_0x11d406['order'])[_0x623e6c(0x38c)]((_0x3d4696,_0x172504)=>_0x3d4696[_0x623e6c(0x357)]-_0x172504['order']);_0x423b40[_0x623e6c(0x230)]>0x0&&(_0x3e1876=_0x423b40[0x0]);}if(!_0x3e1876)return _0x12099f[_0x623e6c(0x84c)]=_0x623e6c(0x68b),null;_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x297)]=_0x18d6af;let _0x55734f=JSON['parse'](JSON[_0x623e6c(0x2b4)](_0x3e1876));return this[_0x623e6c(0x2e7)](_0x55734f,_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x297)]),_0x12099f['chatLog'][_0x623e6c(0x4eb)]=_0x55734f[_0x623e6c(0x21c)],_0x12099f[_0x623e6c(0x824)][_0x623e6c(0x4e4)]=!0x0,_0x55734f;}[a0_0x124f50(0x53b)](_0x548cb8,_0x256248){const _0x3830c4=a0_0x124f50;return _0x548cb8[_0x3830c4(0x261)](/\{\{([^}]+)\}\}/g,(_0x89a62d,_0x5b28d2)=>_0x256248[_0x5b28d2]||'');}['replaceVariablesInObject'](_0x5a9360,_0x5a9f19){const _0x17f562=a0_0x124f50;for(let _0x16621b in _0x5a9360)typeof _0x5a9360[_0x16621b]==_0x17f562(0x541)?_0x5a9360[_0x16621b]=this['replaceVariables'](_0x5a9360[_0x16621b],_0x5a9f19):typeof _0x5a9360[_0x16621b]==_0x17f562(0x79d)&&this[_0x17f562(0x2e7)](_0x5a9360[_0x16621b],_0x5a9f19);}async[a0_0x124f50(0x34d)](_0x3b8d7d,_0x14020a){const _0xf57086=a0_0x124f50;let _0x44b622=_0x14020a['_id'];if(_0x3b8d7d[_0xf57086(0x824)]&&_0x3b8d7d[_0xf57086(0x824)][_0xf57086(0x21b)]){let _0x5f2c8e=_0x3b8d7d[_0xf57086(0x824)][_0xf57086(0x21b)][_0xf57086(0x5c0)](_0x5c8dbf=>String(_0x5c8dbf[_0xf57086(0x740)])===String(_0x44b622))[_0xf57086(0x812)]();if(_0x5f2c8e&&_0x5f2c8e['error']&&_0x14020a[_0xf57086(0x715)])return _0x3b8d7d[_0xf57086(0x84c)]=_0xf57086(0x68b),await this['saveConversationToDatabase'](_0x3b8d7d),null;}if(_0x14020a[_0xf57086(0x76c)]===_0xf57086(0x448)&&_0x14020a['uazapi'][_0xf57086(0x42c)]===_0xf57086(0x4ec)&&_0x3b8d7d[_0xf57086(0x420)])return _0x3b8d7d['chatLog'][_0xf57086(0x4eb)]=_0x44b622,await this['saveConversationToDatabase'](_0x3b8d7d),null;let _0x4bbd6c=await this[_0xf57086(0x464)](_0x3b8d7d);if(_0x3b8d7d['chatLog']&&_0x3b8d7d['chatLog'][_0xf57086(0x21b)]){let _0x354cab=_0x3b8d7d[_0xf57086(0x824)][_0xf57086(0x21b)][_0xf57086(0x5c0)](_0x36dc47=>String(_0x36dc47[_0xf57086(0x740)])===String(_0x44b622))[_0xf57086(0x230)];if(_0x14020a['maxActives']!==void 0x0&&_0x354cab>=_0x14020a[_0xf57086(0x468)]){let _0x40a296=Date[_0xf57086(0x269)](),_0x41cf47=_0x14020a['stopMinutesMaxActives']??0xa;isNaN(_0x41cf47)&&(_0x41cf47=0xa);let _0xa89991=_0x40a296+_0x41cf47*0x3c*0x3e8,_0x441df0={'newStoppedUntil':_0xa89991};return this[_0xf57086(0x548)](_0x3b8d7d,_0xa89991),this[_0xf57086(0x77f)](_0x3b8d7d,_0x14020a,_0x441df0,!0x0),null;}}_0x4bbd6c&&_0x4bbd6c[_0xf57086(0x76c)]!==_0xf57086(0x2a3)&&await this[_0xf57086(0x7c3)](_0x3b8d7d,_0x4bbd6c),_0x4bbd6c||await this[_0xf57086(0x43f)](_0x3b8d7d),_0x4bbd6c&&_0x4bbd6c[_0xf57086(0x76c)]==='save'&&(_0x3b8d7d[_0xf57086(0x824)]['lastBlockId']=_0x44b622,await this['saveConversationToDatabase'](_0x3b8d7d));}async[a0_0x124f50(0x7c3)](_0x33bc66,_0x1077f6){const _0x195ff0=a0_0x124f50;try{let _0x4d6d36=_0x1077f6[_0x195ff0(0x76c)];this[_0x195ff0(0x4e8)][_0x195ff0(0x64d)](this[_0x195ff0(0x370)]+'\x20('+this['instance'][_0x195ff0(0x834)]+'):\x20Going\x20to\x20'+_0x4d6d36);let _0x2d3c31={'uazapi':()=>this[_0x195ff0(0x300)](_0x33bc66,_0x1077f6),'save':()=>this[_0x195ff0(0x7db)](_0x33bc66,_0x1077f6),'stop':()=>this[_0x195ff0(0x4f7)](_0x33bc66,_0x1077f6),'condition':()=>this[_0x195ff0(0x56f)](_0x33bc66,_0x1077f6),'varedit':()=>this[_0x195ff0(0x4fd)](_0x33bc66,_0x1077f6),'apirequest':()=>this[_0x195ff0(0x22d)](_0x33bc66,_0x1077f6),'goToFlow':()=>this[_0x195ff0(0x45e)](_0x33bc66,_0x1077f6)}[_0x4d6d36];_0x2d3c31&&await _0x2d3c31();}catch(_0x3116f1){this['logger'][_0x195ff0(0x629)](this[_0x195ff0(0x370)]+'\x20('+this[_0x195ff0(0x210)][_0x195ff0(0x834)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x3116f1 instanceof Error?_0x3116f1[_0x195ff0(0x3cd)]:JSON[_0x195ff0(0x2b4)](_0x3116f1,null,0x2)));}}async[a0_0x124f50(0x45e)](_0x22a738,_0x390471){const _0x2249a1=a0_0x124f50;if(this['logger']['verbose'](this[_0x2249a1(0x370)]+'\x20('+this['instance'][_0x2249a1(0x834)]+_0x2249a1(0x78c)),!_0x22a738||!_0x390471)return this[_0x2249a1(0x4e8)][_0x2249a1(0x629)](this['instanceName']+'\x20('+this['instance'][_0x2249a1(0x834)]+_0x2249a1(0x592)),null;await this[_0x2249a1(0x77f)](_0x22a738,_0x390471,{},!0x0,!0x0),console[_0x2249a1(0x3b3)]('nextBlock:'),console[_0x2249a1(0x3b3)](_0x390471);let _0x238b5a=_0x390471[_0x2249a1(0x428)];console['log'](_0x2249a1(0x22f),_0x238b5a),_0x22a738=await this[_0x2249a1(0x76f)](_0x238b5a,_0x22a738['remoteJid'],_0x22a738[_0x2249a1(0x824)]['realVariables']),this[_0x2249a1(0x4e8)][_0x2249a1(0x64d)](this[_0x2249a1(0x370)]+'\x20('+this[_0x2249a1(0x210)]['wuid']+_0x2249a1(0x6ca));let _0x4debe0=await this[_0x2249a1(0x464)](_0x22a738);_0x4debe0&&await this[_0x2249a1(0x7c3)](_0x22a738,_0x4debe0);}async[a0_0x124f50(0x76f)](_0x5e05a8,_0x241291,_0xdfec7f){const _0x26c030=a0_0x124f50;this[_0x26c030(0x4e8)][_0x26c030(0x64d)](this[_0x26c030(0x370)]+'\x20('+this[_0x26c030(0x210)][_0x26c030(0x834)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x5e05a8=await this['repository'][_0x26c030(0x484)][_0x26c030(0x7fc)]({'where':{'name':_0x5e05a8}},this[_0x26c030(0x210)][_0x26c030(0x834)]),!_0x5e05a8)return this[_0x26c030(0x4e8)][_0x26c030(0x629)](this['instanceName']+'\x20('+this[_0x26c030(0x210)]['wuid']+_0x26c030(0x238)),null;let _0x45659b=require(_0x26c030(0x321))[_0x26c030(0x860)],_0x35a384=Date[_0x26c030(0x269)](),_0x437118=_0x26c030(0x6d9),_0x1a9e35={},_0xe9ac78={},_0x3ccc93={..._0x5e05a8,'chatLog':null},_0x135c69={'lastReceivedMessage':_0x1a9e35,'lastSendMessage':_0xe9ac78,'lastBlockId':_0x437118,'lastCondition':!0x0,'realVariables':_0xdfec7f};_0x3ccc93[_0x26c030(0x824)]=_0x135c69,_0x3ccc93[_0x26c030(0x824)]['realVariables']={..._0xdfec7f},delete _0x3ccc93[_0x26c030(0x21c)],_0x3ccc93[_0x26c030(0x21c)]=new _0x45659b(),_0x3ccc93[_0x26c030(0x315)]=_0x35a384,_0x3ccc93['status']=_0x26c030(0x3f9),_0x3ccc93[_0x26c030(0x540)]=_0x241291;let _0x9f0d01=await this[_0x26c030(0x43e)][_0x26c030(0x3d0)][_0x26c030(0x457)](_0x3ccc93[_0x26c030(0x21c)],_0x3ccc93,this[_0x26c030(0x210)][_0x26c030(0x834)]);return this[_0x26c030(0x4e8)][_0x26c030(0x64d)](this['instanceName']+'\x20('+this[_0x26c030(0x210)]['wuid']+_0x26c030(0x730)),_0x9f0d01?_0x3ccc93:null;}catch(_0x15932c){throw this[_0x26c030(0x4e8)][_0x26c030(0x629)](this[_0x26c030(0x370)]+'\x20('+this[_0x26c030(0x210)]['wuid']+_0x26c030(0x4c1)+(_0x15932c instanceof Error?_0x15932c['message']:JSON['stringify'](_0x15932c,null,0x2))),new w(_0x15932c['message']);}}async['processApiRequest'](_0x274538,_0x24c582){const _0x1053a2=a0_0x124f50;let _0x52405f,_0x27a8e1;try{let _0x23c374=_0x24c582[_0x1053a2(0x5a5)];if(!_0x23c374||!_0x23c374[_0x1053a2(0x753)]||!_0x23c374[_0x1053a2(0x5fe)])throw new Error(_0x1053a2(0x820));let _0x3508a8;(['https://api.openai.com/v1/audio/speech',_0x1053a2(0x2cc),_0x1053a2(0x3b0)][_0x1053a2(0x401)](_0x2a8a71=>_0x23c374[_0x1053a2(0x753)][_0x1053a2(0x6c2)](_0x2a8a71))||_0x23c374[_0x1053a2(0x232)])&&(_0x3508a8=_0x1053a2(0x264));let _0x365a7d={'method':_0x23c374['method'],'url':_0x23c374['url'],'headers':_0x23c374[_0x1053a2(0x51a)]||{},'data':_0x23c374[_0x1053a2(0x75a)]||{},..._0x3508a8&&{'responseType':_0x3508a8}},_0x5b162c=await(0x0,se[_0x1053a2(0x223)])(_0x365a7d),_0x305b2d=_0x5b162c[_0x1053a2(0x25e)][_0x1053a2(0x301)];if(_0x305b2d&&_0x305b2d[_0x1053a2(0x6c2)](_0x1053a2(0x72d))){_0x52405f=_0x5b162c[_0x1053a2(0x77b)];let _0x7e32df=_0x274538['chatLog'][_0x1053a2(0x297)],_0x357bcf=this[_0x1053a2(0x3a0)](_0x52405f);return Object[_0x1053a2(0x868)](_0x7e32df,_0x357bcf),_0x274538['chatLog'][_0x1053a2(0x297)]=_0x7e32df,_0x27a8e1={'error':!0x1,'apiResponse':_0x52405f},this[_0x1053a2(0x77f)](_0x274538,_0x24c582,_0x27a8e1),_0x52405f;}if(_0x305b2d&&(_0x305b2d[_0x1053a2(0x6c2)](_0x1053a2(0x3a8))||_0x305b2d[_0x1053a2(0x6c2)](_0x1053a2(0x5bb))||_0x305b2d[_0x1053a2(0x6c2)](_0x1053a2(0x2f8))||_0x305b2d[_0x1053a2(0x6c2)](_0x1053a2(0x714)))){this[_0x1053a2(0x4e8)]['verbose'](this[_0x1053a2(0x370)]+'\x20('+this['instance'][_0x1053a2(0x834)]+_0x1053a2(0x5e8)+_0x305b2d);let _0x2b08a3=(0x0,Me['v4'])(),_0x2a00e2='',_0x235a3f={'image/jpeg':_0x1053a2(0x5b9),'image/png':'.png','image/gif':_0x1053a2(0x762),'image/webp':_0x1053a2(0x3d8),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':_0x1053a2(0x3a9),'audio/wav':_0x1053a2(0x817),'video/mp4':_0x1053a2(0x273),'video/webm':'.webm','video/ogg':_0x1053a2(0x38f),'text/plain':_0x1053a2(0x630),'application/pdf':_0x1053a2(0x56a),'application/msword':_0x1053a2(0x487),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1053a2(0x449),'application/vnd.ms-excel':_0x1053a2(0x668),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x1053a2(0x5c6),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1053a2(0x4a6)};_0x235a3f[_0x305b2d]?(_0x2a00e2=_0x235a3f[_0x305b2d],this['logger'][_0x1053a2(0x64d)](this['instanceName']+'\x20('+this[_0x1053a2(0x210)][_0x1053a2(0x834)]+_0x1053a2(0x49e)+_0x2a00e2)):(_0x2a00e2=_0x1053a2(0x79e),this[_0x1053a2(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x1053a2(0x210)][_0x1053a2(0x834)]+_0x1053a2(0x3d7)+_0x2a00e2)),_0x2b08a3+=_0x2a00e2,this['logger'][_0x1053a2(0x64d)](this[_0x1053a2(0x370)]+'\x20('+this['instance']['wuid']+_0x1053a2(0x537)+_0x2b08a3);let _0x4f6e40=this['configService'][_0x1053a2(0x45b)]('SERVER')[_0x1053a2(0x7ae)];if(!_0x4f6e40){let _0x304931=this[_0x1053a2(0x58f)][_0x1053a2(0x45b)](_0x1053a2(0x822));_0x4f6e40=_0x1053a2(0x527)+(_0x304931&&_0x304931[_0x1053a2(0x7ca)][_0x1053a2(0x4f0)]('/')[0x4]);}let _0x20375d=Buffer[_0x1053a2(0x433)](_0x5b162c[_0x1053a2(0x77b)]);await this['saveMediaToFile'](_0x20375d,_0x2b08a3);let _0x2813a0=_0x1053a2(0x765)+_0x2b08a3;_0x2813a0=''+_0x4f6e40+_0x2813a0,_0x52405f={'fileUrl':_0x2813a0},_0x274538['chatLog'][_0x1053a2(0x297)]['fileUrl']=_0x2813a0;let _0x383baa=_0x274538[_0x1053a2(0x824)][_0x1053a2(0x297)],_0x124899=this[_0x1053a2(0x3a0)](_0x52405f);return Object[_0x1053a2(0x868)](_0x383baa,_0x124899),_0x274538[_0x1053a2(0x824)]['realVariables']=_0x383baa,_0x27a8e1={'error':!0x1,'apiResponse':{'fileUrl':_0x2813a0}},this[_0x1053a2(0x77f)](_0x274538,_0x24c582,_0x27a8e1),_0x52405f;}}catch(_0x55e280){console[_0x1053a2(0x629)](_0x1053a2(0x280),_0x55e280),_0x55e280[_0x1053a2(0x26c)]&&(_0x52405f=_0x55e280[_0x1053a2(0x26c)][_0x1053a2(0x77b)]);let _0x3dad42=_0x274538['chatLog']['realVariables'],_0x357364=this[_0x1053a2(0x3a0)](_0x52405f);return Object[_0x1053a2(0x868)](_0x3dad42,_0x357364),_0x274538[_0x1053a2(0x824)][_0x1053a2(0x297)]=_0x3dad42,_0x27a8e1={'error':!0x0,'errorLog':_0x55e280[_0x1053a2(0x782)](),'apiResponse':_0x52405f},this[_0x1053a2(0x77f)](_0x274538,_0x24c582,_0x27a8e1),{'success':!0x1};}}[a0_0x124f50(0x526)](_0x120325,_0x5959f9){const _0x1ddb7a=a0_0x124f50;let _0x182a01=_0x1f43ad=>{const _0x325403=a0_0x1d88;let _0x36f224=_0x1f43ad[_0x325403(0x261)](/[^0-9.,-]/g,'')[_0x325403(0x261)](',','.'),_0x314d70=parseFloat(_0x36f224);return isNaN(_0x314d70)?null:_0x314d70;},_0x5b361d=_0x5959f9['firstValue'],_0xd47ff8=_0x5959f9[_0x1ddb7a(0x28f)];typeof _0x5b361d==_0x1ddb7a(0x541)&&(_0x5b361d=this[_0x1ddb7a(0x53b)](_0x5b361d,_0x120325[_0x1ddb7a(0x824)]['realVariables'])??''),typeof _0xd47ff8=='string'&&(_0xd47ff8=this[_0x1ddb7a(0x53b)](_0xd47ff8,_0x120325[_0x1ddb7a(0x824)][_0x1ddb7a(0x297)])??'');let _0x5025e9=null;if(!_0x5959f9['editOperator'])return null;switch(this[_0x1ddb7a(0x4e8)][_0x1ddb7a(0x64d)](this[_0x1ddb7a(0x370)]+'\x20('+this[_0x1ddb7a(0x210)][_0x1ddb7a(0x834)]+_0x1ddb7a(0x422)+_0x5b361d),this[_0x1ddb7a(0x4e8)][_0x1ddb7a(0x64d)](this[_0x1ddb7a(0x370)]+'\x20('+this['instance'][_0x1ddb7a(0x834)]+_0x1ddb7a(0x495)+_0xd47ff8),_0x5959f9[_0x1ddb7a(0x41a)]){case'+':case'-':case'*':case'/':let _0x351bb4=_0x182a01(_0x5b361d||'0'),_0xf48a10=_0x182a01(_0xd47ff8||'0');if(_0x351bb4===null)return null;switch(_0x5959f9[_0x1ddb7a(0x41a)]){case'+':_0x5025e9=_0x351bb4+(_0xf48a10??0x0);break;case'-':_0x5025e9=_0x351bb4-(_0xf48a10??0x0);break;case'*':_0x5025e9=_0x351bb4*(_0xf48a10??0x1);break;case'/':_0xf48a10!==0x0&&(_0x5025e9=_0x351bb4/(_0xf48a10??0x1));break;}break;case'findAndReplace':case _0x1ddb7a(0x709):let _0x6b53c7=_0xd47ff8,_0x5b78de=_0x5959f9[_0x1ddb7a(0x7c7)];if(typeof _0x5b78de=='string'&&(_0x5b78de=this[_0x1ddb7a(0x53b)](_0x5b78de,_0x120325[_0x1ddb7a(0x824)][_0x1ddb7a(0x297)])??''),_0x6b53c7&&_0x5b78de!==void 0x0){let _0x309caa=_0x5959f9['editOperator']===_0x1ddb7a(0x2bb)?new RegExp(_0x6b53c7[_0x1ddb7a(0x261)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1ddb7a(0x7d8)),'g'):new RegExp(_0x6b53c7,'g');_0x5025e9=_0x5b361d[_0x1ddb7a(0x261)](_0x309caa,_0x5b78de);}else console[_0x1ddb7a(0x613)](_0x1ddb7a(0x66b));break;case'setNewValue':_0x5025e9=_0xd47ff8;break;case _0x1ddb7a(0x517):let _0x3bc86a=_0x5b361d[_0x1ddb7a(0x5da)](new RegExp(_0xd47ff8||''));_0x5025e9=_0x3bc86a?_0x3bc86a[0x0]:'';break;case _0x1ddb7a(0x6fb):_0x5025e9=_0x5b361d['slice'](0x0,parseInt(_0xd47ff8||'0'));break;case _0x1ddb7a(0x643):let _0x322676=parseInt(_0xd47ff8||'0');_0x5025e9=_0x5b361d[_0x1ddb7a(0x583)](_0x5b361d['length']-_0x322676);break;case _0x1ddb7a(0x33a):let _0x571338=_0x182a01(_0x5b361d),_0x12a387=parseInt(_0xd47ff8||'0');_0x12a387=Math[_0x1ddb7a(0x226)](_0x12a387),_0x571338!==null?_0x5025e9=_0x571338[_0x1ddb7a(0x53f)](_0x1ddb7a(0x86b),{'minimumFractionDigits':_0x12a387,'maximumFractionDigits':_0x12a387}):(console['warn'](_0x1ddb7a(0x3bf)+_0x5b361d),_0x5025e9=null);break;case _0x1ddb7a(0x6b6):let _0x511157=_0x182a01(_0x5b361d);_0x511157!==null?_0x5025e9=_0x511157['toLocaleString']('pt-BR',{'style':_0x1ddb7a(0x2bf),'currency':_0x1ddb7a(0x7e6)}):(console[_0x1ddb7a(0x613)](_0x1ddb7a(0x539)+_0x5b361d),_0x5025e9=null);break;case'upperCase':_0x5025e9=_0x5b361d[_0x1ddb7a(0x4b1)]();break;case _0x1ddb7a(0x272):_0x5025e9=_0x5b361d[_0x1ddb7a(0x847)]();break;case _0x1ddb7a(0x3fb):_0x5025e9=_0x5b361d['split']('\x20')['map'](_0x18ba70=>_0x18ba70[_0x1ddb7a(0x6ee)](0x0)[_0x1ddb7a(0x4b1)]()+_0x18ba70[_0x1ddb7a(0x583)](0x1)['toLowerCase']())[_0x1ddb7a(0x21f)]('\x20');break;case _0x1ddb7a(0x4ff):_0x5025e9=_0x5b361d[_0x1ddb7a(0x485)]();break;default:_0x5025e9=_0x5b361d;}return _0x5025e9!==null?_0x5025e9[_0x1ddb7a(0x782)]():null;}async[a0_0x124f50(0x4fd)](_0x3039fa,_0x38993c){const _0x5b7b9d=a0_0x124f50;try{let _0x2cd622=_0x3039fa[_0x5b7b9d(0x61c)]?.[_0x5b7b9d(0x5c0)](_0x218e7c=>_0x218e7c['blockId']===_0x38993c[_0x5b7b9d(0x21c)]?.[_0x5b7b9d(0x782)]())||[],_0x161cee=_0x38993c[_0x5b7b9d(0x622)],_0x26ed5b=null,_0x2f37a4=[],_0x59f813=_0x3039fa['chatLog']['realVariables'][_0x161cee];_0x2f37a4[_0x5b7b9d(0x1e7)](_0x5b7b9d(0x5f7)+_0x59f813+'\x22');for(let _0x4c0bcb of _0x2cd622){_0x4c0bcb[_0x5b7b9d(0x332)]=_0x59f813,_0x26ed5b=_0x4c0bcb[_0x5b7b9d(0x332)];let _0x40b169;try{_0x40b169=this[_0x5b7b9d(0x526)](_0x3039fa,_0x4c0bcb);}catch(_0x2795f3){console[_0x5b7b9d(0x629)](_0x5b7b9d(0x5a6)+_0x2795f3[_0x5b7b9d(0x3cd)]);continue;}if(_0x40b169!==null){let _0x439b66='Operador:\x20\x22'+_0x4c0bcb[_0x5b7b9d(0x41a)]+'\x22',_0x593b14=[_0x5b7b9d(0x6b6),_0x5b7b9d(0x326),_0x5b7b9d(0x272),'capitalizedWords',_0x5b7b9d(0x4ff)];_0x4c0bcb[_0x5b7b9d(0x41a)]==='findAndReplace'||_0x4c0bcb['editOperator']===_0x5b7b9d(0x709)?_0x439b66+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4c0bcb[_0x5b7b9d(0x28f)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4c0bcb[_0x5b7b9d(0x7c7)]+'\x22':!_0x593b14[_0x5b7b9d(0x6c2)](_0x4c0bcb[_0x5b7b9d(0x41a)])&&_0x4c0bcb[_0x5b7b9d(0x28f)]!==null&&_0x4c0bcb['secondValue']!==void 0x0&&(_0x439b66+=_0x5b7b9d(0x71d)+_0x4c0bcb[_0x5b7b9d(0x28f)]+'\x22'),_0x439b66+=_0x5b7b9d(0x4da)+_0x40b169+'.',_0x2f37a4[_0x5b7b9d(0x1e7)](_0x439b66);}_0x40b169!==null&&(_0x59f813=_0x40b169);}if(_0x3039fa[_0x5b7b9d(0x824)]['realVariables']&&_0x38993c['saveVariable']){_0x3039fa[_0x5b7b9d(0x824)]['realVariables'][_0x38993c[_0x5b7b9d(0x622)]]=_0x59f813;let _0x1ebcc3={'variable':_0x38993c[_0x5b7b9d(0x622)],'oldValue':_0x26ed5b,'newValue':_0x59f813,'moreLogs':_0x2f37a4};try{this[_0x5b7b9d(0x77f)](_0x3039fa,_0x38993c,_0x1ebcc3);}catch(_0x409c0a){console[_0x5b7b9d(0x629)](_0x5b7b9d(0x22e)+_0x409c0a[_0x5b7b9d(0x3cd)]);}}return _0x161cee;}catch(_0x442375){return console[_0x5b7b9d(0x629)](_0x5b7b9d(0x225)+_0x442375['message']),null;}}async[a0_0x124f50(0x56f)](_0x112125,_0x48d7c3){const _0x55210d=a0_0x124f50;try{let _0x574c25=[],_0x5eccca=_0x112125[_0x55210d(0x835)][_0x55210d(0x5c0)](_0x3be9b2=>_0x3be9b2[_0x55210d(0x740)]===_0x48d7c3[_0x55210d(0x21c)][_0x55210d(0x782)]()),_0xf9599f=null,_0xbe0dda=!0x1;for(let _0x34da95 of _0x5eccca){let _0x2ebd39=this[_0x55210d(0x267)](_0x112125,_0x34da95);_0x574c25[_0x55210d(0x1e7)](_0x55210d(0x695)+_0x34da95['firstValue']+_0x55210d(0x358)+_0x34da95[_0x55210d(0x586)]+_0x55210d(0x707)+_0x34da95[_0x55210d(0x28f)]+_0x55210d(0x331)+_0x2ebd39),_0xf9599f===null?_0xf9599f=_0x2ebd39:_0x34da95[_0x55210d(0x7ee)]===_0x55210d(0x6fc)?(_0xf9599f=_0xf9599f&&_0x2ebd39,_0x2ebd39||(_0xbe0dda=!0x0)):_0x34da95['OrAnd']==='or'&&(_0xbe0dda||(_0xf9599f=_0xf9599f||_0x2ebd39));}_0xf9599f===null&&(_0xf9599f=!0x0);let _0x258a5c={'moreLogs':_0x574c25};_0x112125[_0x55210d(0x824)][_0x55210d(0x4e4)]=_0xf9599f,await this[_0x55210d(0x77f)](_0x112125,_0x48d7c3,_0x258a5c);}catch(_0x4a40b6){this[_0x55210d(0x4e8)][_0x55210d(0x629)](this[_0x55210d(0x370)]+'\x20('+this[_0x55210d(0x210)][_0x55210d(0x834)]+_0x55210d(0x756)+(_0x4a40b6 instanceof Error?_0x4a40b6['message']:JSON[_0x55210d(0x2b4)](_0x4a40b6,null,0x2)));}}[a0_0x124f50(0x267)](_0x39c283,_0x2ae524){const _0x493426=a0_0x124f50;let _0x1e68d3=_0x2ae524[_0x493426(0x332)],_0x118080=_0x2ae524[_0x493426(0x28f)];typeof _0x1e68d3==_0x493426(0x541)&&(_0x1e68d3=this[_0x493426(0x53b)](_0x1e68d3,_0x39c283[_0x493426(0x824)][_0x493426(0x297)])??''),typeof _0x118080==_0x493426(0x541)&&(_0x118080=this['replaceVariables'](_0x118080,_0x39c283[_0x493426(0x824)][_0x493426(0x297)])??'');try{switch(_0x2ae524['expression']){case _0x493426(0x7ba):return _0x1e68d3===_0x118080;case'notEqual':return _0x1e68d3!==_0x118080;case _0x493426(0x399):return this['contains'](_0x1e68d3,_0x118080);case'notContains':return!this['contains'](_0x1e68d3,_0x118080);case _0x493426(0x77d):return parseFloat(_0x1e68d3)>parseFloat(_0x118080);case _0x493426(0x415):return parseFloat(_0x1e68d3)<parseFloat(_0x118080);case _0x493426(0x47b):return _0x1e68d3!=='';case'empty':return _0x1e68d3==='';case _0x493426(0x2df):return new RegExp(_0x118080)[_0x493426(0x342)](_0x1e68d3);case _0x493426(0x23f):return!new RegExp(_0x118080)['test'](_0x1e68d3);default:return!0x1;}}catch(_0x38dbd5){return console[_0x493426(0x629)](_0x493426(0x208)+_0x38dbd5),!0x1;}}[a0_0x124f50(0x399)](_0x413d7e,_0x44b403){const _0x420bf8=a0_0x124f50;if(_0x413d7e===_0x44b403&&/^\d+$/[_0x420bf8(0x342)](_0x413d7e))return!0x0;if(this[_0x420bf8(0x2d2)](_0x413d7e)&&/^\d+$/['test'](_0x44b403)){let _0x10d4a4=_0x413d7e[_0x420bf8(0x4f0)](',')[_0x420bf8(0x5c2)](_0x2264ad=>parseInt(_0x2264ad[_0x420bf8(0x485)]())),_0x476c8d=parseInt(_0x44b403);return _0x10d4a4[_0x420bf8(0x6c2)](_0x476c8d);}return _0x413d7e[_0x420bf8(0x6c2)](_0x44b403);}[a0_0x124f50(0x2d2)](_0x3f247a){return/^\d+(,\d+)*$/['test'](_0x3f247a);}[a0_0x124f50(0x477)](_0x12437d){const _0x1fc5f6=a0_0x124f50;let _0x2294f4=!0x0,_0x4da9f5=null;for(let _0x15f61a of _0x12437d){let _0x452056=this['evaluateConditionTest'](_0x15f61a);if(_0x4da9f5==='or'&&_0x452056){_0x2294f4=!0x0;break;}if(_0x4da9f5===_0x1fc5f6(0x6fc)&&!_0x452056){_0x2294f4=!0x1;break;}_0x4da9f5=_0x15f61a[_0x1fc5f6(0x7ee)];}return _0x2294f4;}['evaluateConditionTest'](_0x6ccb96){const _0x5aeb63=a0_0x124f50;let _0x19c15a=_0x6ccb96[_0x5aeb63(0x332)],_0x582c88=_0x6ccb96[_0x5aeb63(0x28f)];try{switch(_0x6ccb96[_0x5aeb63(0x586)]){case _0x5aeb63(0x7ba):return String(_0x19c15a)===String(_0x582c88);case _0x5aeb63(0x5a4):return String(_0x19c15a)!==String(_0x582c88);case _0x5aeb63(0x399):return String(_0x19c15a)[_0x5aeb63(0x6c2)](String(_0x582c88));case _0x5aeb63(0x640):return!String(_0x19c15a)[_0x5aeb63(0x6c2)](String(_0x582c88));case _0x5aeb63(0x77d):return parseFloat(String(_0x19c15a))>parseFloat(String(_0x582c88));case _0x5aeb63(0x415):return parseFloat(String(_0x19c15a))<parseFloat(String(_0x582c88));case _0x5aeb63(0x47b):return String(_0x19c15a)!=='';case'empty':return String(_0x19c15a)==='';case _0x5aeb63(0x2df):return new RegExp(String(_0x582c88))[_0x5aeb63(0x342)](String(_0x19c15a));case _0x5aeb63(0x23f):return!new RegExp(String(_0x582c88))[_0x5aeb63(0x342)](String(_0x19c15a));default:return!0x1;}}catch(_0x36185f){return console[_0x5aeb63(0x629)](_0x5aeb63(0x208)+_0x36185f),!0x1;}}async['saveTextReply'](_0x467749,_0x14d586){const _0x303614=a0_0x124f50;if(this[_0x303614(0x4e8)]['verbose'](this[_0x303614(0x370)]+'\x20('+this[_0x303614(0x210)][_0x303614(0x834)]+_0x303614(0x82a)),!_0x467749||!_0x14d586)return this[_0x303614(0x4e8)]['error'](this[_0x303614(0x370)]+'\x20('+this['instance'][_0x303614(0x834)]+_0x303614(0x592)),null;let _0xa7245b=_0x14d586['saveVariable'],_0x1c5d00=_0x467749[_0x303614(0x824)][_0x303614(0x7e1)][_0x303614(0x2ff)]||_0x467749[_0x303614(0x824)][_0x303614(0x7e1)][_0x303614(0x245)]||_0x467749['chatLog'][_0x303614(0x7e1)][_0x303614(0x778)];try{_0x467749[_0x303614(0x824)][_0x303614(0x297)]||(_0x467749[_0x303614(0x824)][_0x303614(0x297)]={});let _0x5c058c=_0x467749[_0x303614(0x824)][_0x303614(0x297)][_0xa7245b];_0x467749[_0x303614(0x824)]['realVariables'][_0xa7245b]=_0x1c5d00;let _0x2ff634={'variable':_0xa7245b,'oldValue':_0x5c058c,'newValue':_0x1c5d00};this['updateConversation'](_0x467749,_0x14d586,_0x2ff634),this[_0x303614(0x4e8)]['verbose'](this[_0x303614(0x370)]+'\x20('+this[_0x303614(0x210)][_0x303614(0x834)]+_0x303614(0x676));}catch(_0x9dcf94){let _0x53cb6f={'error':!0x0,'errorLog':_0x9dcf94[_0x303614(0x782)]()};return this[_0x303614(0x77f)](_0x467749,_0x14d586,_0x53cb6f),this['logger'][_0x303614(0x629)](this[_0x303614(0x370)]+'\x20('+this['instance']['wuid']+_0x303614(0x39f)+(_0x9dcf94 instanceof Error?_0x9dcf94[_0x303614(0x3cd)]:JSON[_0x303614(0x2b4)](_0x9dcf94,null,0x2))),null;}}async['stopConversation'](_0x2b18c4,_0x58f5ad){const _0x297733=a0_0x124f50;if(this[_0x297733(0x4e8)]['verbose'](this[_0x297733(0x370)]+'\x20('+this[_0x297733(0x210)][_0x297733(0x834)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2b18c4||!_0x58f5ad)return this['logger'][_0x297733(0x629)](this['instanceName']+'\x20('+this[_0x297733(0x210)]['wuid']+_0x297733(0x592)),null;let _0x5d80e0=Date[_0x297733(0x269)](),_0x18cb13=parseInt(_0x58f5ad[_0x297733(0x239)],0xa);if(isNaN(_0x18cb13))return this[_0x297733(0x4e8)]['error'](this[_0x297733(0x370)]+'\x20('+this['instance'][_0x297733(0x834)]+_0x297733(0x6fe)),null;let _0x13ac06={'newStoppedUntil':_0x5d80e0+_0x18cb13*0x3c*0x3e8};return await this[_0x297733(0x77f)](_0x2b18c4,_0x58f5ad,_0x13ac06,!0x0),null;}async[a0_0x124f50(0x300)](_0x30941a,_0x64cf6e){const _0xd78a=a0_0x124f50;try{switch(_0x64cf6e['uazapi']['command']){case _0xd78a(0x257):await this['uazapiSendText'](_0x30941a,_0x64cf6e);break;case'sendMedia':await this['uazapiSendMedia'](_0x30941a,_0x64cf6e);break;case'sendLocation':await this[_0xd78a(0x4b8)](_0x30941a,_0x64cf6e);break;case _0xd78a(0x275):await this[_0xd78a(0x20b)](_0x30941a,_0x64cf6e);break;case _0xd78a(0x2b3):await this[_0xd78a(0x565)](_0x30941a,_0x64cf6e);break;case'sendPoll':await this[_0xd78a(0x50d)](_0x30941a,_0x64cf6e);break;case _0xd78a(0x554):await this['uazapiSendMenu'](_0x30941a,_0x64cf6e);break;case _0xd78a(0x363):await this[_0xd78a(0x6a9)](_0x30941a,_0x64cf6e);break;default:this[_0xd78a(0x4e8)][_0xd78a(0x629)](this[_0xd78a(0x370)]+'\x20('+this['instance'][_0xd78a(0x834)]+_0xd78a(0x1d3)+_0x64cf6e['uazapi'][_0xd78a(0x42c)]);}}catch(_0x5673dc){this['logger'][_0xd78a(0x629)](this[_0xd78a(0x370)]+'\x20('+this[_0xd78a(0x210)][_0xd78a(0x834)]+_0xd78a(0x66f)+(_0x5673dc instanceof Error?_0x5673dc[_0xd78a(0x3cd)]:JSON[_0xd78a(0x2b4)](_0x5673dc,null,0x2)));}}async[a0_0x124f50(0x77f)](_0xbe9e56,_0x2431ab,_0x1797da,_0x246ea8=!0x1,_0x1ed76b=!0x1){const _0x4de0e4=a0_0x124f50;_0xbe9e56[_0x4de0e4(0x824)]['blockLogs']||(_0xbe9e56[_0x4de0e4(0x824)]['blockLogs']=[]);let _0x2d7c9e=(_0xbe9e56['chatLog'][_0x4de0e4(0x21b)]?.[_0x4de0e4(0x230)]??0x0)+0x1,_0x362efd=_0xbe9e56['chatLog'][_0x4de0e4(0x21b)][_0x4de0e4(0x5c0)](_0x4a6b96=>String(_0x4a6b96[_0x4de0e4(0x740)])===String(_0x2431ab['_id']))[_0x4de0e4(0x230)]+0x1,_0xfdd471=_0x1797da?.['onTime']??Date[_0x4de0e4(0x269)](),_0x20fe3a=_0x1797da?.[_0x4de0e4(0x629)]?_0x1797da[_0x4de0e4(0x34e)]??_0x1797da[_0x4de0e4(0x629)][_0x4de0e4(0x782)]():void 0x0,_0x2b71ce={'onTime':_0xfdd471,'blockId':_0x2431ab[_0x4de0e4(0x21c)],'order':_0x2d7c9e,'activatedCount':_0x362efd,'error':_0x1797da?.[_0x4de0e4(0x629)]??!0x1,'messageId':_0x1797da?.[_0x4de0e4(0x279)],'apiResponse':_0x1797da?.[_0x4de0e4(0x591)],'apiResponseString':_0x1797da?.[_0x4de0e4(0x591)]?JSON[_0x4de0e4(0x2b4)](_0x1797da?.[_0x4de0e4(0x591)]):void 0x0,'variable':_0x1797da?.[_0x4de0e4(0x588)],'oldValue':_0x1797da?.[_0x4de0e4(0x6d1)],'newValue':_0x1797da?.[_0x4de0e4(0x290)],'newStoppedUntil':_0x1797da?.[_0x4de0e4(0x7e0)],'moreLogs':_0x1797da?.[_0x4de0e4(0x752)],'errorLog':_0x20fe3a};if(_0x1797da[_0x4de0e4(0x752)]&&_0x1797da['moreLogs'][_0x4de0e4(0x230)]>0x0){let _0x412474=_0x1797da[_0x4de0e4(0x752)]['map'](_0x5236f7=>this[_0x4de0e4(0x852)](_0x5236f7,_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x297)]));_0x2b71ce[_0x4de0e4(0x752)]=_0x412474;}_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x297)]||(_0xbe9e56[_0x4de0e4(0x824)]['realVariables']={}),_0xbe9e56[_0x4de0e4(0x824)]['realVariables'][_0x4de0e4(0x826)]=String(_0x362efd),_0xbe9e56['chatLog']['realVariables'][_0x4de0e4(0x302)]=String(_0x1797da[_0x4de0e4(0x629)]??!0x1),_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x21b)][_0x4de0e4(0x1e7)](_0x2b71ce),_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x4eb)]=_0x2431ab[_0x4de0e4(0x21c)][_0x4de0e4(0x782)](),_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x3a1)]&&(_0xbe9e56['chatLog'][_0x4de0e4(0x3a1)]=_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x3a1)]),_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x7e1)]&&(_0xbe9e56[_0x4de0e4(0x824)]['lastReceivedMessage']=_0xbe9e56[_0x4de0e4(0x824)][_0x4de0e4(0x7e1)]),_0xbe9e56['chatLog']['lastCondition']&&(_0xbe9e56['chatLog'][_0x4de0e4(0x4e4)]=_0xbe9e56['chatLog'][_0x4de0e4(0x4e4)]),_0x1ed76b&&(_0xbe9e56[_0x4de0e4(0x84c)]=_0x4de0e4(0x68b)),_0x246ea8?this[_0x4de0e4(0x43f)](_0xbe9e56):this[_0x4de0e4(0x34d)](_0xbe9e56,_0x2431ab);}[a0_0x124f50(0x852)](_0x2c9304,_0x5f0bcb){const _0x16602c=a0_0x124f50;return _0x2c9304['replace'](/\{\{([^}]+)\}\}/g,(_0x378f1a,_0x21379e)=>_0x5f0bcb[_0x21379e]?'{{'+_0x21379e+_0x16602c(0x2ea)+_0x5f0bcb[_0x21379e]+'\x22':'{{'+_0x21379e+_0x16602c(0x2f7));}async['saveConversationToDatabase'](_0x49da9c){const _0x2c8269=a0_0x124f50;try{let _0x4c866d=Object['entries'](_0x49da9c['chatLog'][_0x2c8269(0x297)])['map'](([_0x136bcc,_0x34b42e])=>({'name':_0x136bcc,'value':_0x34b42e})),_0x3ec7c6={'status':_0x49da9c[_0x2c8269(0x84c)],'blocks':_0x49da9c['blocks'],'waitingMenu_id':_0x49da9c[_0x2c8269(0x420)],'waitingMenu_text':_0x49da9c[_0x2c8269(0x305)],'waitingMenu_replyOptions':_0x49da9c['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x49da9c[_0x2c8269(0x824)][_0x2c8269(0x4eb)],'lastSendMessage':_0x49da9c[_0x2c8269(0x824)][_0x2c8269(0x3a1)],'lastReceivedMessage':_0x49da9c[_0x2c8269(0x824)]['lastReceivedMessage'],'lastCondition':_0x49da9c[_0x2c8269(0x824)][_0x2c8269(0x4e4)],'chatVariables':_0x4c866d,'realVariables':_0x49da9c['chatLog'][_0x2c8269(0x297)],'blockLogs':_0x49da9c['chatLog'][_0x2c8269(0x21b)]}},_0x11b19e=await this['repository']['flowConversation'][_0x2c8269(0x457)](_0x49da9c[_0x2c8269(0x21c)],_0x3ec7c6,this[_0x2c8269(0x210)][_0x2c8269(0x834)]);if(_0x11b19e){this[_0x2c8269(0x4e8)][_0x2c8269(0x64d)](this['instanceName']+'\x20('+this[_0x2c8269(0x210)][_0x2c8269(0x834)]+_0x2c8269(0x3de)+_0x11b19e['_id']);try{let _0x514421=['nome',_0x2c8269(0x832),_0x2c8269(0x392),_0x2c8269(0x754),'status',_0x2c8269(0x553),_0x2c8269(0x209),_0x2c8269(0x6c6),'etiquetas'];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2c8269(0x669)]))throw new Error(_0x2c8269(0x766));let _0x378b0a=this[_0x2c8269(0x669)]?.[_0x2c8269(0x1d6)][_0x2c8269(0x5c2)](_0x4a72ba=>_0x4a72ba['name']),_0x1d77b1={};Object[_0x2c8269(0x1f6)](_0x49da9c[_0x2c8269(0x824)][_0x2c8269(0x297)])[_0x2c8269(0x53a)](([_0x4ddd0a,_0x1152fb])=>{const _0x4c4087=_0x2c8269;_0x514421['includes'](_0x4ddd0a)&&(_0x4ddd0a==='tags'&&typeof _0x1152fb==_0x4c4087(0x541)?_0x1d77b1[_0x4ddd0a]=_0x1152fb[_0x4c4087(0x4f0)](',')['map'](_0x58092a=>_0x58092a[_0x4c4087(0x485)]())[_0x4c4087(0x5c0)](_0xcb1431=>_0xcb1431!==''):_0x4ddd0a===_0x4c4087(0x601)&&typeof _0x1152fb==_0x4c4087(0x541)?_0x1d77b1[_0x4ddd0a]=_0x1152fb[_0x4c4087(0x4f0)](',')['map'](_0x129095=>_0x129095[_0x4c4087(0x485)]())[_0x4c4087(0x5c0)](_0x124fbc=>_0x124fbc!==''):_0x1d77b1[_0x4ddd0a]=_0x1152fb);});let _0x5d7b65=_0x49da9c[_0x2c8269(0x824)][_0x2c8269(0x21b)][_0x49da9c['chatLog']['blockLogs'][_0x2c8269(0x230)]-0x1];if(_0x5d7b65){let _0x4008fa=_0x5d7b65[_0x2c8269(0x7e0)];_0x4008fa!==void 0x0&&(_0x1d77b1['desativadoFluxoAte']=_0x4008fa[_0x2c8269(0x782)]());}let _0x17ab4c=_0x4c866d[_0x2c8269(0x5c0)](_0x44b55f=>_0x378b0a[_0x2c8269(0x6c2)](_0x44b55f[_0x2c8269(0x350)]));this[_0x2c8269(0x4e8)][_0x2c8269(0x64d)](this[_0x2c8269(0x370)]+'\x20('+this[_0x2c8269(0x210)][_0x2c8269(0x834)]+'):\x20leadInfoVariables'),this[_0x2c8269(0x4e8)][_0x2c8269(0x64d)](_0x1d77b1),this[_0x2c8269(0x4e8)][_0x2c8269(0x64d)](this[_0x2c8269(0x370)]+'\x20('+this['instance']['wuid']+_0x2c8269(0x1ff)),this[_0x2c8269(0x4e8)]['verbose'](_0x17ab4c);let _0x5b5afc=_0x17ab4c['map'](_0x4aa728=>{const _0x1e0baa=_0x2c8269;let _0x6f6767=this[_0x1e0baa(0x669)]?.[_0x1e0baa(0x1d6)][_0x1e0baa(0x81d)](_0x7009ff=>_0x7009ff[_0x1e0baa(0x350)]===_0x4aa728[_0x1e0baa(0x350)]);if(!_0x6f6767)throw new Error(_0x1e0baa(0x2f4)+_0x4aa728[_0x1e0baa(0x350)]);return{'_id':_0x6f6767[_0x1e0baa(0x21c)],'value':_0x4aa728[_0x1e0baa(0x23b)]};});this[_0x2c8269(0x4e8)][_0x2c8269(0x64d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20transformedCustomFieldVariables'),this['logger'][_0x2c8269(0x64d)](_0x5b5afc),await this[_0x2c8269(0x75f)](_0x49da9c[_0x2c8269(0x540)],_0x1d77b1,_0x5b5afc);}catch(_0x46f676){this[_0x2c8269(0x4e8)]['error'](this[_0x2c8269(0x370)]+'\x20('+this[_0x2c8269(0x210)][_0x2c8269(0x834)]+_0x2c8269(0x710)+(_0x46f676 instanceof Error?_0x46f676[_0x2c8269(0x3cd)]:JSON['stringify'](_0x46f676,null,0x2)));}}else this[_0x2c8269(0x4e8)]['error'](this['instanceName']+'\x20('+this[_0x2c8269(0x210)][_0x2c8269(0x834)]+_0x2c8269(0x746));}catch(_0x2468e5){this[_0x2c8269(0x4e8)][_0x2c8269(0x629)](this[_0x2c8269(0x370)]+'\x20('+this[_0x2c8269(0x210)][_0x2c8269(0x834)]+_0x2c8269(0x475)+(_0x2468e5 instanceof Error?_0x2468e5[_0x2c8269(0x3cd)]:JSON['stringify'](_0x2468e5,null,0x2)));}}async['saveChatVariables'](_0x3122ee,_0x449eba,_0x1757e7){const _0x157921=a0_0x124f50;try{let _0x9d1011={'leadInfo.leadnome':_0x449eba[_0x157921(0x355)],'leadInfo.nomecompleto':_0x449eba['nomecompleto'],'leadInfo.email':_0x449eba[_0x157921(0x392)],'leadInfo.cpf':_0x449eba['cpf'],'leadInfo.status':_0x449eba[_0x157921(0x84c)],'leadInfo.notas':_0x449eba[_0x157921(0x553)],'leadInfo.responsavelid':_0x449eba[_0x157921(0x209)],'leadInfo.tags':_0x449eba[_0x157921(0x6c6)],'leadInfo.etiquetas':_0x449eba[_0x157921(0x601)],'leadInfo.customFields':_0x1757e7},_0x1db84d=await this[_0x157921(0x43e)][_0x157921(0x34f)][_0x157921(0x7fc)]({'where':{'_id':_0x3122ee}},this[_0x157921(0x210)][_0x157921(0x834)]),_0x41e8fd=new Set(_0x1db84d[_0x157921(0x79f)][_0x157921(0x601)]||[]),_0x1f5e5e=new Set(_0x449eba[_0x157921(0x601)]||[]),_0x2ac1d8=await this['repository'][_0x157921(0x2af)][_0x157921(0x81d)]({'where':{}},this[_0x157921(0x210)][_0x157921(0x834)]),_0x4af8e6=new Set(_0x2ac1d8[_0x157921(0x5c2)](_0x261e8f=>_0x261e8f[_0x157921(0x21c)])),_0x24feae=[..._0x1f5e5e][_0x157921(0x5c0)](_0x1e548d=>!_0x41e8fd[_0x157921(0x525)](_0x1e548d)&&_0x4af8e6['has'](_0x1e548d)),_0x129085=[..._0x41e8fd][_0x157921(0x5c0)](_0x503bd6=>!_0x1f5e5e['has'](_0x503bd6));for(let _0x8af26b of _0x24feae)await this[_0x157921(0x33e)](_0x8af26b,_0x1db84d[_0x157921(0x21c)]),_0x41e8fd['add'](_0x8af26b);for(let _0x4c77b6 of _0x129085)await this['RemoveChatLabel'](_0x4c77b6,_0x1db84d[_0x157921(0x21c)]),_0x41e8fd[_0x157921(0x3bb)](_0x4c77b6);if(_0x157921(0x2c5)in _0x449eba){let _0xbd0705=_0x449eba[_0x157921(0x2c5)];_0x9d1011['leadInfo.desativadoFluxoAte']=_0xbd0705?Number(_0xbd0705):null;}let _0x4522c7=await this[_0x157921(0x43e)]['chat'][_0x157921(0x457)]({'where':{'_id':_0x3122ee}},_0x9d1011,this[_0x157921(0x210)]['wuid']);_0x4522c7?(this[_0x157921(0x4e8)][_0x157921(0x64d)](this[_0x157921(0x370)]+'\x20('+this[_0x157921(0x210)][_0x157921(0x834)]+_0x157921(0x4bc)+_0x4522c7['_id']),q(this[_0x157921(0x370)],_0x157921(0x29e),{'chat':_0x4522c7})):this[_0x157921(0x4e8)][_0x157921(0x629)](this[_0x157921(0x370)]+'\x20('+this['instance'][_0x157921(0x834)]+_0x157921(0x7cb));}catch(_0xff2cdf){this['logger'][_0x157921(0x629)](this[_0x157921(0x370)]+'\x20('+this[_0x157921(0x210)][_0x157921(0x834)]+_0x157921(0x803)+(_0xff2cdf instanceof Error?_0xff2cdf[_0x157921(0x3cd)]:JSON['stringify'](_0xff2cdf,null,0x2)));}}async[a0_0x124f50(0x548)](_0x509ed7,_0x35ef71){const _0x52a148=a0_0x124f50;this[_0x52a148(0x4e8)][_0x52a148(0x64d)](this['instanceName']+'\x20('+this[_0x52a148(0x210)]['wuid']+_0x52a148(0x4a8)+_0x35ef71);try{let _0x52da2d=await this[_0x52a148(0x43e)]['chat'][_0x52a148(0x457)]({'where':{'_id':_0x509ed7['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x35ef71},this[_0x52a148(0x210)][_0x52a148(0x834)]);this[_0x52a148(0x4e8)]['verbose'](this[_0x52a148(0x370)]+'\x20('+this[_0x52a148(0x210)][_0x52a148(0x834)]+_0x52a148(0x6db)+_0x509ed7[_0x52a148(0x21c)]),this['logger']['verbose'](this[_0x52a148(0x370)]+'\x20('+this[_0x52a148(0x210)][_0x52a148(0x834)]+_0x52a148(0x4a8)+JSON[_0x52a148(0x2b4)](_0x52da2d,null,0x2)),_0x52da2d&&q(this['instanceName'],_0x52a148(0x29e),{'chat':_0x52da2d});}catch(_0x6b3195){this[_0x52a148(0x4e8)][_0x52a148(0x629)](this[_0x52a148(0x370)]+'\x20('+this['instance'][_0x52a148(0x834)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x6b3195 instanceof Error?_0x6b3195['message']:JSON[_0x52a148(0x2b4)](_0x6b3195,null,0x2)));}}async[a0_0x124f50(0x2cb)](_0x458c51){const _0x4822f1=a0_0x124f50;try{this['logger'][_0x4822f1(0x64d)](this['instanceName']+'\x20('+this[_0x4822f1(0x210)][_0x4822f1(0x834)]+_0x4822f1(0x5eb));let _0x4af162=_0x458c51[_0x4822f1(0x261)](/\D/g,''),_0x29b36d=await this[_0x4822f1(0x43e)][_0x4822f1(0x484)][_0x4822f1(0x7fc)]({'where':{'testingWith':_0x4af162}},this['instance']['wuid']);return _0x29b36d||(this[_0x4822f1(0x4e8)][_0x4822f1(0x64d)](this[_0x4822f1(0x370)]+'\x20('+this['instance']['wuid']+_0x4822f1(0x54d)),_0x29b36d=await this[_0x4822f1(0x43e)]['flow'][_0x4822f1(0x7fc)]({'where':{'default':!0x0}},this[_0x4822f1(0x210)][_0x4822f1(0x834)])),_0x29b36d||(this[_0x4822f1(0x4e8)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4822f1(0x253)),null);}catch(_0x930fca){return this[_0x4822f1(0x4e8)][_0x4822f1(0x629)](this[_0x4822f1(0x370)]+'\x20('+this[_0x4822f1(0x210)][_0x4822f1(0x834)]+_0x4822f1(0x814)+(_0x930fca instanceof Error?_0x930fca[_0x4822f1(0x3cd)]:JSON['stringify'](_0x930fca,null,0x2))),null;}}async[a0_0x124f50(0x40f)](_0x1d4aae,_0x25df46){const _0x4af76b=a0_0x124f50;try{let _0x405035=!!_0x25df46[_0x4af76b(0x778)],_0x35705f=_0x25df46['quoted'],_0x3e8d18=null;if(this[_0x4af76b(0x4e8)][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x32c)+_0x405035+_0x4af76b(0x233)+_0x35705f),_0x405035){this[_0x4af76b(0x4e8)][_0x4af76b(0x64d)](this['instanceName']+'\x20('+this[_0x4af76b(0x210)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x5e323c={'where':{'remoteJid':_0x1d4aae,'waitingMenu_id':_0x35705f}};if(_0x3e8d18=await this[_0x4af76b(0x43e)][_0x4af76b(0x3d0)]['findOne'](_0x5e323c,this[_0x4af76b(0x210)][_0x4af76b(0x834)]),!_0x3e8d18)return this[_0x4af76b(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x57f)),null;let _0x3d355b=Date[_0x4af76b(0x269)](),_0x380740=_0x3e8d18?.[_0x4af76b(0x203)]||0x0,_0x53f7db=_0x3d355b-_0x380740*0x3c*0x3e8;if(_0x3e8d18[_0x4af76b(0x315)]<_0x53f7db){this['logger'][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x83c));let _0x172b8c={'number':_0x3e8d18[_0x4af76b(0x540)],'options':{'delay':0x0},'textMessage':{'text':_0x3e8d18['waitingMenu_ExpiredMessage']}};await this[_0x4af76b(0x72b)](_0x172b8c);let _0x2b5acd={'status':_0x4af76b(0x68b),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4af76b(0x43e)][_0x4af76b(0x3d0)][_0x4af76b(0x457)](_0x3e8d18['_id'],_0x2b5acd,this[_0x4af76b(0x210)][_0x4af76b(0x834)]),null;}return _0x3e8d18[_0x4af76b(0x315)]=Date['now'](),_0x3e8d18[_0x4af76b(0x824)][_0x4af76b(0x7e1)]=_0x25df46,_0x3e8d18;}else{this[_0x4af76b(0x4e8)][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x839)+this[_0x4af76b(0x210)]['wuid']+_0x4af76b(0x649)),this['logger']['verbose'](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x45c));let _0x105a18={'where':{'remoteJid':_0x1d4aae,'status':_0x4af76b(0x3f9)}};if(_0x3e8d18=await this[_0x4af76b(0x43e)]['flowConversation'][_0x4af76b(0x7fc)](_0x105a18,this[_0x4af76b(0x210)][_0x4af76b(0x834)]),!_0x3e8d18){let _0x4adeb7=await this['findFlow'](_0x1d4aae);if(_0x4adeb7&&(_0x3e8d18=await this[_0x4af76b(0x6df)](_0x4adeb7,_0x25df46[_0x4af76b(0x1fe)],_0x25df46)),!_0x3e8d18)return null;}let _0x359541=Date['now'](),_0x220e4e=_0x3e8d18?.[_0x4af76b(0x203)]||0x0,_0x32f04f=_0x359541-_0x220e4e*0x3c*0x3e8;if(this[_0x4af76b(0x4e8)][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+'):\x20Current\x20Time:\x20'+_0x359541+',\x20Minutes\x20to\x20Close:\x20'+_0x220e4e+_0x4af76b(0x5dc)+_0x32f04f),this['logger'][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x7f4)),this[_0x4af76b(0x4e8)][_0x4af76b(0x64d)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x5cd)+_0x3e8d18[_0x4af76b(0x315)]),this['logger']['verbose'](this[_0x4af76b(0x370)]+'\x20('+this['instance'][_0x4af76b(0x834)]+_0x4af76b(0x39a)+_0x32f04f),_0x3e8d18['lastInteraction']<_0x32f04f){this['logger'][_0x4af76b(0x64d)](this['instanceName']+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x7c8));let _0x52d3a8=await this[_0x4af76b(0x2cb)](_0x1d4aae);if(_0x52d3a8===null)return null;_0x3e8d18&&await this[_0x4af76b(0x43e)]['flowConversation'][_0x4af76b(0x457)](_0x3e8d18[_0x4af76b(0x21c)],{'status':'closed'},this['instance'][_0x4af76b(0x834)]),_0x3e8d18=await this[_0x4af76b(0x6df)](_0x52d3a8,_0x25df46[_0x4af76b(0x1fe)],_0x25df46);}return _0x3e8d18['lastInteraction']=_0x359541,_0x3e8d18['chatLog'][_0x4af76b(0x7e1)]=_0x25df46,_0x3e8d18;}}catch(_0x26bf26){return this['logger'][_0x4af76b(0x629)](this[_0x4af76b(0x370)]+'\x20('+this[_0x4af76b(0x210)][_0x4af76b(0x834)]+_0x4af76b(0x7c2)+(_0x26bf26 instanceof Error?_0x26bf26['message']:JSON[_0x4af76b(0x2b4)](_0x26bf26,null,0x2))),null;}}async[a0_0x124f50(0x6df)](_0x252a54,_0x204b74,_0x91efda){const _0x23a48a=a0_0x124f50;this[_0x23a48a(0x4e8)][_0x23a48a(0x64d)](this[_0x23a48a(0x370)]+'\x20('+this['instance'][_0x23a48a(0x834)]+_0x23a48a(0x4f8));try{let _0xd7ef39=require('mongodb')[_0x23a48a(0x860)],_0x13ea24=Date[_0x23a48a(0x269)](),_0x1f42c9=_0x23a48a(0x6d9),_0x36693c=_0x204b74['fromMe']?null:_0x91efda,_0x1e9edb=_0x204b74[_0x23a48a(0x5b0)]?_0x91efda:null,_0x7591b=_0x204b74[_0x23a48a(0x540)];await this[_0x23a48a(0x513)](_0x7591b);let _0x21fb97={..._0x252a54,'chatLog':null},_0x5bbd86=await this[_0x23a48a(0x825)](_0x21fb97[_0x23a48a(0x329)]),_0x550e4e=await this[_0x23a48a(0x28e)](_0x7591b),_0x126ff7={..._0x5bbd86,..._0x550e4e,'_remoteJid':_0x7591b},_0xbb1bf0={'lastReceivedMessage':_0x36693c,'lastSendMessage':_0x1e9edb,'lastBlockId':_0x1f42c9,'lastCondition':!0x0,'realVariables':_0x126ff7};_0x21fb97[_0x23a48a(0x824)]=_0xbb1bf0,delete _0x21fb97[_0x23a48a(0x21c)],_0x21fb97[_0x23a48a(0x21c)]=new _0xd7ef39(),_0x21fb97[_0x23a48a(0x315)]=_0x13ea24,_0x21fb97[_0x23a48a(0x84c)]=_0x23a48a(0x3f9),_0x21fb97['remoteJid']=_0x7591b;let _0x45cb5f=await this['repository'][_0x23a48a(0x3d0)][_0x23a48a(0x457)](_0x21fb97[_0x23a48a(0x21c)],_0x21fb97,this[_0x23a48a(0x210)][_0x23a48a(0x834)]);return this[_0x23a48a(0x4e8)][_0x23a48a(0x64d)](this[_0x23a48a(0x370)]+'\x20('+this[_0x23a48a(0x210)][_0x23a48a(0x834)]+_0x23a48a(0x730)),_0x45cb5f?_0x21fb97:null;}catch(_0x3aed2c){return this['logger'][_0x23a48a(0x629)](this[_0x23a48a(0x370)]+'\x20('+this[_0x23a48a(0x210)][_0x23a48a(0x834)]+_0x23a48a(0x4c1)+(_0x3aed2c instanceof Error?_0x3aed2c['message']:JSON[_0x23a48a(0x2b4)](_0x3aed2c,null,0x2))),_0x3aed2c;}}async[a0_0x124f50(0x400)](_0x13ad32,_0x2bd8d4){const _0x336048=a0_0x124f50;let _0x595296=_0x13ad32[_0x336048(0x540)];_0x2bd8d4[_0x336048(0x448)][_0x336048(0x540)]&&_0x2bd8d4[_0x336048(0x448)][_0x336048(0x540)]['trim']()!==''&&(_0x595296=_0x2bd8d4[_0x336048(0x448)][_0x336048(0x540)][_0x336048(0x485)]()),this['logger'][_0x336048(0x64d)](this[_0x336048(0x370)]+'\x20('+this[_0x336048(0x210)][_0x336048(0x834)]+_0x336048(0x50b));let _0xcc0448={'number':_0x595296,'options':{'delay':_0x2bd8d4['uazapi'][_0x336048(0x293)]},'textMessage':{'text':_0x2bd8d4['uazapi'][_0x336048(0x2ff)]}};try{let _0xce98c4=await this[_0x336048(0x72b)](_0xcc0448);if(_0xce98c4){let _0x51c73a={'_id':_0xce98c4[_0x336048(0x1fe)]['id'],'_fromMe':_0xce98c4[_0x336048(0x1fe)]['fromMe'],'_remoteJid':_0xce98c4[_0x336048(0x1fe)]['remoteJid']},_0x4fadae=(0x0,g[_0x336048(0x667)])(_0xce98c4[_0x336048(0x3cd)]),_0x46ef5d=(0x0,g[_0x336048(0x723)])(_0x4fadae);_0x13ad32[_0x336048(0x824)][_0x336048(0x4eb)]=_0x2bd8d4[_0x336048(0x21c)]['toString']();let {message_normalized:_0x5690f6}=this[_0x336048(0x594)](_0x4fadae,_0x46ef5d,null);_0x13ad32[_0x336048(0x824)][_0x336048(0x3a1)]=await _0x5690f6;let _0x32b3dc={'messageId':_0xce98c4['key']['id']},_0x5c70a6=_0x13ad32[_0x336048(0x824)]['realVariables'];Object[_0x336048(0x868)](_0x5c70a6,_0x51c73a),_0x13ad32[_0x336048(0x824)][_0x336048(0x297)]=_0x5c70a6,this[_0x336048(0x77f)](_0x13ad32,_0x2bd8d4,_0x32b3dc);}else{let _0x5aef17={'error':!0x0};this[_0x336048(0x77f)](_0x13ad32,_0x2bd8d4,_0x5aef17),this[_0x336048(0x4e8)][_0x336048(0x629)](this[_0x336048(0x370)]+'\x20('+this[_0x336048(0x210)]['wuid']+_0x336048(0x5ce));}}catch(_0x2c3082){let _0x1d5b6a={'error':!0x0,'errorLog':_0x2c3082[_0x336048(0x782)]()};this[_0x336048(0x77f)](_0x13ad32,_0x2bd8d4,_0x1d5b6a),this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x2c3082 instanceof Error?_0x2c3082[_0x336048(0x3cd)]:JSON[_0x336048(0x2b4)](_0x2c3082,null,0x2)));}}async[a0_0x124f50(0x4f4)](_0x375937,_0x126728){const _0x3825bb=a0_0x124f50;let _0x5118ef=_0x375937['remoteJid'];_0x126728[_0x3825bb(0x448)][_0x3825bb(0x540)]&&_0x126728['uazapi'][_0x3825bb(0x540)][_0x3825bb(0x485)]()!==''&&(_0x5118ef=_0x126728[_0x3825bb(0x448)][_0x3825bb(0x540)][_0x3825bb(0x485)]()),this[_0x3825bb(0x4e8)]['verbose'](this[_0x3825bb(0x370)]+'\x20('+this['instance'][_0x3825bb(0x834)]+_0x3825bb(0x7e3));let _0x19568b={'number':_0x5118ef,'options':{'delay':_0x126728[_0x3825bb(0x448)][_0x3825bb(0x293)]},'mediaMessage':{'mediatype':_0x126728[_0x3825bb(0x448)][_0x3825bb(0x4cb)],'caption':_0x126728['uazapi'][_0x3825bb(0x245)],'media':_0x126728[_0x3825bb(0x448)]['media'],'fileName':_0x126728[_0x3825bb(0x448)][_0x3825bb(0x5a1)]}};try{let _0x5f4fc5=await this[_0x3825bb(0x4f2)](_0x19568b);if(_0x5f4fc5){let _0x915baf={'_id':_0x5f4fc5['key']['id'],'_fromMe':_0x5f4fc5[_0x3825bb(0x1fe)][_0x3825bb(0x5b0)],'_remoteJid':_0x5f4fc5[_0x3825bb(0x1fe)][_0x3825bb(0x540)]},_0x3c9fbf=(0x0,g[_0x3825bb(0x667)])(_0x5f4fc5['message']),_0x500d83=(0x0,g['getContentType'])(_0x3c9fbf);_0x375937[_0x3825bb(0x824)][_0x3825bb(0x4eb)]=_0x126728[_0x3825bb(0x21c)][_0x3825bb(0x782)]();let {message_normalized:_0x54e081}=this[_0x3825bb(0x594)](_0x3c9fbf,_0x500d83,null);_0x375937[_0x3825bb(0x824)][_0x3825bb(0x3a1)]=await _0x54e081;let _0x34401b={'messageId':_0x5f4fc5[_0x3825bb(0x1fe)]['id']},_0x4c94ae=_0x375937[_0x3825bb(0x824)][_0x3825bb(0x297)];Object[_0x3825bb(0x868)](_0x4c94ae,_0x915baf),_0x375937[_0x3825bb(0x824)][_0x3825bb(0x297)]=_0x4c94ae,this['updateConversation'](_0x375937,_0x126728,_0x34401b);}else{let _0x18b252={'error':!0x0};this[_0x3825bb(0x77f)](_0x375937,_0x126728,_0x18b252),this[_0x3825bb(0x4e8)][_0x3825bb(0x629)](this[_0x3825bb(0x370)]+'\x20('+this[_0x3825bb(0x210)][_0x3825bb(0x834)]+_0x3825bb(0x562));}}catch(_0x5d4baa){let _0x2404ba={'error':!0x0,'errorLog':_0x5d4baa[_0x3825bb(0x782)]()};this[_0x3825bb(0x77f)](_0x375937,_0x126728,_0x2404ba),this[_0x3825bb(0x4e8)][_0x3825bb(0x629)](this[_0x3825bb(0x370)]+'\x20('+this[_0x3825bb(0x210)][_0x3825bb(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x5d4baa instanceof Error?_0x5d4baa['message']:JSON[_0x3825bb(0x2b4)](_0x5d4baa,null,0x2)));}}async[a0_0x124f50(0x4b8)](_0x26ee54,_0x5f72be){const _0x2bad57=a0_0x124f50;let _0x3a1257=_0x26ee54[_0x2bad57(0x540)];_0x5f72be[_0x2bad57(0x448)]['remoteJid']&&_0x5f72be[_0x2bad57(0x448)][_0x2bad57(0x540)]['trim']()!==''&&(_0x3a1257=_0x5f72be[_0x2bad57(0x448)]['remoteJid'][_0x2bad57(0x485)]()),this[_0x2bad57(0x4e8)][_0x2bad57(0x64d)](this[_0x2bad57(0x370)]+'\x20('+this[_0x2bad57(0x210)][_0x2bad57(0x834)]+_0x2bad57(0x547));let _0x5bd943={'number':_0x3a1257,'options':{'delay':_0x5f72be[_0x2bad57(0x448)][_0x2bad57(0x293)]},'locationMessage':{'name':_0x5f72be['uazapi']['name'],'address':_0x5f72be[_0x2bad57(0x448)]['address'],'latitude':_0x5f72be['uazapi'][_0x2bad57(0x229)],'longitude':_0x5f72be[_0x2bad57(0x448)][_0x2bad57(0x673)]}};try{let _0x48be3c=await this['locationMessage'](_0x5bd943);if(_0x48be3c){let _0x260617={'_id':_0x48be3c['key']['id'],'_fromMe':_0x48be3c[_0x2bad57(0x1fe)][_0x2bad57(0x5b0)],'_remoteJid':_0x48be3c['key'][_0x2bad57(0x540)]},_0xe9ddfe=(0x0,g[_0x2bad57(0x667)])(_0x48be3c[_0x2bad57(0x3cd)]),_0x4ced41=(0x0,g[_0x2bad57(0x723)])(_0xe9ddfe);_0x26ee54['chatLog'][_0x2bad57(0x4eb)]=_0x5f72be[_0x2bad57(0x21c)][_0x2bad57(0x782)]();let {message_normalized:_0x4550d8}=this[_0x2bad57(0x594)](_0xe9ddfe,_0x4ced41,null);_0x26ee54[_0x2bad57(0x824)][_0x2bad57(0x3a1)]=await _0x4550d8;let _0x49e605={'messageId':_0x48be3c[_0x2bad57(0x1fe)]['id']},_0x158625=_0x26ee54[_0x2bad57(0x824)]['realVariables'];Object['assign'](_0x158625,_0x260617),_0x26ee54[_0x2bad57(0x824)]['realVariables']=_0x158625,this[_0x2bad57(0x77f)](_0x26ee54,_0x5f72be,_0x49e605);}else{let _0x1874c9={'error':!0x0};this[_0x2bad57(0x77f)](_0x26ee54,_0x5f72be,_0x1874c9),this[_0x2bad57(0x4e8)][_0x2bad57(0x629)](this[_0x2bad57(0x370)]+'\x20('+this['instance'][_0x2bad57(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x801619){let _0x316cad={'error':!0x0,'errorLog':_0x801619[_0x2bad57(0x782)]()};this['updateConversation'](_0x26ee54,_0x5f72be,_0x316cad),this[_0x2bad57(0x4e8)][_0x2bad57(0x629)](this[_0x2bad57(0x370)]+'\x20('+this[_0x2bad57(0x210)][_0x2bad57(0x834)]+_0x2bad57(0x3ce)+(_0x801619 instanceof Error?_0x801619[_0x2bad57(0x3cd)]:JSON[_0x2bad57(0x2b4)](_0x801619,null,0x2)));}}async[a0_0x124f50(0x20b)](_0x181927,_0x5c48ab){const _0x325aa4=a0_0x124f50;let _0x23953b=_0x181927[_0x325aa4(0x540)];_0x5c48ab[_0x325aa4(0x448)][_0x325aa4(0x540)]&&_0x5c48ab[_0x325aa4(0x448)][_0x325aa4(0x540)][_0x325aa4(0x485)]()!==''&&(_0x23953b=_0x5c48ab['uazapi'][_0x325aa4(0x540)]['trim']()),this['logger'][_0x325aa4(0x64d)](this[_0x325aa4(0x370)]+'\x20('+this['instance']['wuid']+_0x325aa4(0x29a));let _0x3765d3={'number':_0x23953b,'options':{'delay':_0x5c48ab[_0x325aa4(0x448)][_0x325aa4(0x293)]},'audioMessage':{'audio':_0x5c48ab['uazapi'][_0x325aa4(0x2f8)]}};try{let _0x2757e8=await this[_0x325aa4(0x6e9)](_0x3765d3);if(_0x2757e8){let _0x4107e6={'_id':_0x2757e8[_0x325aa4(0x1fe)]['id'],'_fromMe':_0x2757e8[_0x325aa4(0x1fe)][_0x325aa4(0x5b0)],'_remoteJid':_0x2757e8[_0x325aa4(0x1fe)][_0x325aa4(0x540)]},_0x155959=(0x0,g[_0x325aa4(0x667)])(_0x2757e8[_0x325aa4(0x3cd)]),_0x7435ff=(0x0,g[_0x325aa4(0x723)])(_0x155959);_0x181927['chatLog'][_0x325aa4(0x4eb)]=_0x5c48ab[_0x325aa4(0x21c)][_0x325aa4(0x782)]();let {message_normalized:_0x4264c6}=this[_0x325aa4(0x594)](_0x155959,_0x7435ff,null);_0x181927[_0x325aa4(0x824)][_0x325aa4(0x3a1)]=await _0x4264c6;let _0x30dc28={'messageId':_0x2757e8['key']['id']},_0x270036=_0x181927[_0x325aa4(0x824)][_0x325aa4(0x297)];Object[_0x325aa4(0x868)](_0x270036,_0x4107e6),_0x181927[_0x325aa4(0x824)]['realVariables']=_0x270036,this['updateConversation'](_0x181927,_0x5c48ab,_0x30dc28);}else{let _0x17111d={'error':!0x0};this[_0x325aa4(0x77f)](_0x181927,_0x5c48ab,_0x17111d),this[_0x325aa4(0x4e8)][_0x325aa4(0x629)](this['instanceName']+'\x20('+this[_0x325aa4(0x210)]['wuid']+_0x325aa4(0x310));}}catch(_0x16ec1c){let _0x4491e2={'error':!0x0,'errorLog':_0x16ec1c[_0x325aa4(0x782)]()};this[_0x325aa4(0x77f)](_0x181927,_0x5c48ab,_0x4491e2),this[_0x325aa4(0x4e8)]['error'](this[_0x325aa4(0x370)]+'\x20('+this['instance'][_0x325aa4(0x834)]+_0x325aa4(0x6d3)+(_0x16ec1c instanceof Error?_0x16ec1c[_0x325aa4(0x3cd)]:JSON[_0x325aa4(0x2b4)](_0x16ec1c,null,0x2)));}}async[a0_0x124f50(0x565)](_0x2c6280,_0x3a9fcb){const _0x5ebdfc=a0_0x124f50;let _0x19f6c0=_0x2c6280[_0x5ebdfc(0x540)];_0x3a9fcb[_0x5ebdfc(0x448)]['remoteJid']&&_0x3a9fcb[_0x5ebdfc(0x448)][_0x5ebdfc(0x540)][_0x5ebdfc(0x485)]()!==''&&(_0x19f6c0=_0x3a9fcb[_0x5ebdfc(0x448)][_0x5ebdfc(0x540)][_0x5ebdfc(0x485)]()),this[_0x5ebdfc(0x4e8)][_0x5ebdfc(0x64d)](this[_0x5ebdfc(0x370)]+'\x20('+this[_0x5ebdfc(0x210)]['wuid']+_0x5ebdfc(0x63b));let _0x209a1c={'number':_0x19f6c0,'options':{'delay':_0x3a9fcb[_0x5ebdfc(0x448)][_0x5ebdfc(0x293)]},'contactMessage':[{'fullName':_0x3a9fcb[_0x5ebdfc(0x448)][_0x5ebdfc(0x409)],'phoneNumber':_0x3a9fcb[_0x5ebdfc(0x448)]['phoneNumber']}]};try{let _0x57e652=await this['contactMessage'](_0x209a1c);if(_0x57e652){let _0x2eabd6={'_id':_0x57e652[_0x5ebdfc(0x1fe)]['id'],'_fromMe':_0x57e652[_0x5ebdfc(0x1fe)]['fromMe'],'_remoteJid':_0x57e652[_0x5ebdfc(0x1fe)]['remoteJid']},_0x301f64=(0x0,g[_0x5ebdfc(0x667)])(_0x57e652[_0x5ebdfc(0x3cd)]),_0x536861=(0x0,g['getContentType'])(_0x301f64);_0x2c6280[_0x5ebdfc(0x824)][_0x5ebdfc(0x4eb)]=_0x3a9fcb[_0x5ebdfc(0x21c)]['toString']();let {message_normalized:_0x455d01}=this[_0x5ebdfc(0x594)](_0x301f64,_0x536861,null);_0x2c6280[_0x5ebdfc(0x824)][_0x5ebdfc(0x3a1)]=await _0x455d01;let _0x34a5e7={'messageId':_0x57e652[_0x5ebdfc(0x1fe)]['id']},_0x469e98=_0x2c6280['chatLog'][_0x5ebdfc(0x297)];Object[_0x5ebdfc(0x868)](_0x469e98,_0x2eabd6),_0x2c6280[_0x5ebdfc(0x824)][_0x5ebdfc(0x297)]=_0x469e98,this['updateConversation'](_0x2c6280,_0x3a9fcb,_0x34a5e7);}else{let _0x54ffe8={'error':!0x0};this[_0x5ebdfc(0x77f)](_0x2c6280,_0x3a9fcb,_0x54ffe8),this['logger']['error'](this[_0x5ebdfc(0x370)]+'\x20('+this[_0x5ebdfc(0x210)][_0x5ebdfc(0x834)]+_0x5ebdfc(0x6d5));}}catch(_0x1c4716){let _0x5cfd51={'error':!0x0,'errorLog':_0x1c4716[_0x5ebdfc(0x782)]()};this[_0x5ebdfc(0x77f)](_0x2c6280,_0x3a9fcb,_0x5cfd51),this[_0x5ebdfc(0x4e8)]['error'](this[_0x5ebdfc(0x370)]+'\x20('+this[_0x5ebdfc(0x210)][_0x5ebdfc(0x834)]+_0x5ebdfc(0x575)+(_0x1c4716 instanceof Error?_0x1c4716[_0x5ebdfc(0x3cd)]:JSON[_0x5ebdfc(0x2b4)](_0x1c4716,null,0x2)));}}[a0_0x124f50(0x5f8)](_0x2b6eb5,_0x11232d){const _0x2cfac1=a0_0x124f50;for(let _0x3d2ddd of _0x2b6eb5)_0x3d2ddd[_0x2cfac1(0x5ec)]&&(_0x3d2ddd[_0x2cfac1(0x5ec)]=this['replaceVariables'](_0x3d2ddd[_0x2cfac1(0x5ec)],_0x11232d)),_0x3d2ddd['optionDescription']&&(_0x3d2ddd['optionDescription']=this[_0x2cfac1(0x53b)](_0x3d2ddd[_0x2cfac1(0x4b0)],_0x11232d));}async[a0_0x124f50(0x50d)](_0xff7577,_0x545404){const _0x584611=a0_0x124f50;let _0x35a910=_0xff7577[_0x584611(0x540)];_0x545404[_0x584611(0x448)][_0x584611(0x540)]&&_0x545404[_0x584611(0x448)][_0x584611(0x540)]['trim']()!==''&&(_0x35a910=_0x545404[_0x584611(0x448)][_0x584611(0x540)][_0x584611(0x485)]()),this[_0x584611(0x4e8)][_0x584611(0x64d)](this[_0x584611(0x370)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0xc9178=_0xff7577[_0x584611(0x77e)][_0x584611(0x5c0)](_0x65f0de=>_0x65f0de[_0x584611(0x740)]===_0x545404[_0x584611(0x21c)])[_0x584611(0x38c)]((_0x226fda,_0x20de0c)=>_0x226fda['order']-_0x20de0c[_0x584611(0x357)]);this['replaceVariablesInReplyOptions'](_0xc9178,_0xff7577[_0x584611(0x824)][_0x584611(0x297)]);let _0x34666e=_0xc9178[_0x584611(0x5c2)](_0x259d9c=>_0x259d9c['option']),_0x547b07={'number':_0x35a910,'menuMessage':{'type':_0x545404[_0x584611(0x448)]['menuType']||_0x584611(0x60d),'text':_0x545404[_0x584611(0x448)][_0x584611(0x2ff)]||_0x545404[_0x584611(0x448)][_0x584611(0x350)],'footerText':_0x545404['uazapi'][_0x584611(0x493)],'buttonText':_0x545404[_0x584611(0x448)][_0x584611(0x62a)],'selectableCount':0x1,'choices':_0x34666e},'options':{'delay':_0x545404[_0x584611(0x448)][_0x584611(0x293)]}};try{let _0x4ec454=await this[_0x584611(0x5d6)](_0x547b07);if(_0x4ec454){let _0x56b39c={'_id':_0x4ec454['key']['id'],'_fromMe':_0x4ec454[_0x584611(0x1fe)]['fromMe'],'_remoteJid':_0x4ec454[_0x584611(0x1fe)]['remoteJid']};_0x545404['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0xff7577[_0x584611(0x84c)]=_0x584611(0x5d9),this[_0x584611(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x584611(0x210)][_0x584611(0x834)]+_0x584611(0x783)+_0xff7577[_0x584611(0x84c)])),this[_0x584611(0x4e8)][_0x584611(0x64d)](this[_0x584611(0x370)]+'\x20('+this[_0x584611(0x210)][_0x584611(0x834)]+_0x584611(0x7ac)+(_0x545404[_0x584611(0x448)]['name']||_0x545404[_0x584611(0x448)]['text'])),_0xff7577[_0x584611(0x420)]=_0x4ec454[_0x584611(0x1fe)]['id'],_0xff7577['waitingMenu_text']=_0x545404['uazapi']['name']||_0x545404[_0x584611(0x448)][_0x584611(0x2ff)],_0xff7577['waitingMenu_replyOptions']=_0xc9178,_0x545404[_0x584611(0x448)][_0x584611(0x1fc)]&&(_0xff7577[_0x584611(0x7f8)]=_0x545404['uazapi']['menuExpiredMessage']),this['logger']['verbose'](this[_0x584611(0x370)]+'\x20('+this[_0x584611(0x210)]['wuid']+_0x584611(0x29f)+_0xff7577[_0x584611(0x305)]);let _0x437b7f=(0x0,g['normalizeMessageContent'])(_0x4ec454[_0x584611(0x3cd)]),_0x53dabd=(0x0,g[_0x584611(0x723)])(_0x437b7f);_0xff7577[_0x584611(0x824)][_0x584611(0x4eb)]=_0x545404[_0x584611(0x21c)][_0x584611(0x782)]();let {message_normalized:_0xb61599}=this[_0x584611(0x594)](_0x437b7f,_0x53dabd,null);_0xff7577[_0x584611(0x824)][_0x584611(0x3a1)]=await _0xb61599;let _0x375169={'messageId':_0x4ec454[_0x584611(0x1fe)]['id']},_0x2fa036=_0xff7577['chatLog']['realVariables'];Object[_0x584611(0x868)](_0x2fa036,_0x56b39c),_0xff7577[_0x584611(0x824)][_0x584611(0x297)]=_0x2fa036,this[_0x584611(0x77f)](_0xff7577,_0x545404,_0x375169);}else{let _0x21939d={'error':!0x0};this[_0x584611(0x77f)](_0xff7577,_0x545404,_0x21939d),this['logger'][_0x584611(0x629)](this[_0x584611(0x370)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x4326e3){let _0x2092e6={'error':!0x0,'errorLog':_0x4326e3 instanceof Error?_0x4326e3['message']:JSON['stringify'](_0x4326e3,null,0x2)};this['updateConversation'](_0xff7577,_0x545404,_0x2092e6),this['logger'][_0x584611(0x629)](this[_0x584611(0x370)]+'\x20('+this[_0x584611(0x210)][_0x584611(0x834)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x4326e3 instanceof Error?_0x4326e3[_0x584611(0x3cd)]:JSON[_0x584611(0x2b4)](_0x4326e3,null,0x2)));}}async[a0_0x124f50(0x6a9)](_0x3e026d,_0x31b56a){const _0x46d00c=a0_0x124f50;this['logger'][_0x46d00c(0x64d)](this[_0x46d00c(0x370)]+'\x20('+this[_0x46d00c(0x210)][_0x46d00c(0x834)]+_0x46d00c(0x5e6));let _0x5b897c=_0x3e026d[_0x46d00c(0x824)]['blockLogs'][_0x46d00c(0x81d)](_0x22266c=>_0x22266c[_0x46d00c(0x740)]['toString']()===_0x31b56a[_0x46d00c(0x448)][_0x46d00c(0x740)]['toString']()),_0x1626c6={'id':_0x5b897c[_0x46d00c(0x279)],'remoteJid':_0x5b897c[_0x46d00c(0x540)],'fromMe':_0x5b897c['fromMe']};try{let _0x486ca=await this[_0x46d00c(0x363)](_0x1626c6);if(_0x486ca){let _0x365f4e=(0x0,g[_0x46d00c(0x667)])(_0x486ca[_0x46d00c(0x3cd)]),_0x2aa24e=(0x0,g[_0x46d00c(0x723)])(_0x365f4e);_0x3e026d[_0x46d00c(0x824)][_0x46d00c(0x4eb)]=_0x31b56a[_0x46d00c(0x21c)][_0x46d00c(0x782)]();let {message_normalized:_0xb326de}=this[_0x46d00c(0x594)](_0x365f4e,_0x2aa24e,null);_0x3e026d[_0x46d00c(0x824)][_0x46d00c(0x3a1)]=await _0xb326de;let _0x76e4d9={};this[_0x46d00c(0x77f)](_0x3e026d,_0x31b56a,_0x76e4d9);}else{let _0x3edb12={'error':!0x0};this['updateConversation'](_0x3e026d,_0x31b56a,_0x3edb12),this[_0x46d00c(0x4e8)]['error'](this[_0x46d00c(0x370)]+'\x20('+this[_0x46d00c(0x210)][_0x46d00c(0x834)]+_0x46d00c(0x27f));}}catch(_0x335018){let _0xbc90f7={'error':!0x0,'errorLog':_0x335018 instanceof Error?_0x335018['message']:JSON[_0x46d00c(0x2b4)](_0x335018,null,0x2)};this[_0x46d00c(0x77f)](_0x3e026d,_0x31b56a,_0xbc90f7),this['logger']['error'](this[_0x46d00c(0x370)]+'\x20('+this[_0x46d00c(0x210)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x335018 instanceof Error?_0x335018[_0x46d00c(0x3cd)]:JSON['stringify'](_0x335018,null,0x2)));}}async[a0_0x124f50(0x465)](_0x5da2fe){const _0x478688=a0_0x124f50;if(!_0x5da2fe[_0x478688(0x350)])throw new w(_0x478688(0x2a0));if(await this[_0x478688(0x43e)][_0x478688(0x484)][_0x478688(0x7fc)]({'where':{'name':_0x5da2fe[_0x478688(0x350)]}},this[_0x478688(0x210)][_0x478688(0x834)]))throw new w(_0x478688(0x63f));return _0x478688(0x350)in _0x5da2fe&&_0x478688(0x713)in _0x5da2fe&&_0x478688(0x652)in _0x5da2fe&&Object['keys'](_0x5da2fe)[_0x478688(0x230)]===0x3?this['createSharedFlow'](_0x5da2fe[_0x478688(0x652)],_0x5da2fe[_0x478688(0x713)],_0x5da2fe[_0x478688(0x350)]):this[_0x478688(0x680)](_0x5da2fe);}async[a0_0x124f50(0x2c2)](_0x4950c8,_0x350285,_0x511573){const _0x251d26=a0_0x124f50;try{this[_0x251d26(0x4e8)][_0x251d26(0x64d)](this['instanceName']+'\x20('+this[_0x251d26(0x210)]['wuid']+_0x251d26(0x6d0));let _0x2198a7=await this[_0x251d26(0x43e)][_0x251d26(0x484)][_0x251d26(0x7fc)]({'where':{'name':_0x511573,'sharePass':_0x350285}},_0x4950c8);if(!_0x2198a7)throw new w(_0x251d26(0x60f));let _0x450825={..._0x2198a7};return _0x450825[_0x251d26(0x652)]=this[_0x251d26(0x210)]['wuid'],_0x450825[_0x251d26(0x61e)]=Array['from'](new Set([..._0x2198a7[_0x251d26(0x61e)]||[],_0x2198a7[_0x251d26(0x652)],this[_0x251d26(0x210)]['wuid']])),_0x2198a7[_0x251d26(0x61e)]=_0x450825[_0x251d26(0x61e)],await this['repository'][_0x251d26(0x484)][_0x251d26(0x457)](_0x2198a7[_0x251d26(0x21c)],{'shareOwners':_0x2198a7[_0x251d26(0x61e)]},_0x2198a7['owner']),_0x2198a7[_0x251d26(0x223)]===!0x0&&await this[_0x251d26(0x43e)][_0x251d26(0x484)]['updateMany']({},{'default':!0x1},this[_0x251d26(0x210)][_0x251d26(0x834)]),await this[_0x251d26(0x43e)][_0x251d26(0x484)][_0x251d26(0x4e5)](_0x450825,this[_0x251d26(0x210)][_0x251d26(0x834)]);}catch(_0x30686f){throw this[_0x251d26(0x4e8)][_0x251d26(0x629)](this[_0x251d26(0x370)]+'\x20('+this[_0x251d26(0x210)][_0x251d26(0x834)]+_0x251d26(0x6e4)+_0x30686f),new w('Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x30686f);}}async[a0_0x124f50(0x680)](_0x1aaecd){const _0x488236=a0_0x124f50;try{this['logger'][_0x488236(0x64d)](this['instanceName']+'\x20('+this[_0x488236(0x210)]['wuid']+_0x488236(0x2cf)),delete _0x1aaecd[_0x488236(0x61e)],delete _0x1aaecd[_0x488236(0x713)],delete _0x1aaecd[_0x488236(0x652)],_0x1aaecd[_0x488236(0x223)]===!0x0&&await this[_0x488236(0x43e)][_0x488236(0x484)]['updateMany']({},{'default':!0x1},this[_0x488236(0x210)][_0x488236(0x834)]);let _0xddb87a=new ce['Types'][(_0x488236(0x860))](),_0xc9ccda={'_id':_0xddb87a,'default':!0x0,'title':_0x488236(0x2b8),'x':0x0,'y':0x0},_0x1f13b2={'_id':new ce[(_0x488236(0x256))][(_0x488236(0x860))](),'order':0x1,'groupId':_0xddb87a[_0x488236(0x782)](),'type':'start'},_0x3248bf={'_id':new ce[(_0x488236(0x256))][(_0x488236(0x860))](),'owner':this['instance'][_0x488236(0x834)],'name':_0x1aaecd[_0x488236(0x350)],'groups':[_0xc9ccda],'blocks':[_0x1f13b2],..._0x1aaecd};return await this[_0x488236(0x43e)][_0x488236(0x484)]['createAndSave'](_0x3248bf,this[_0x488236(0x210)]['wuid']);}catch(_0x47c60e){throw this['logger']['error'](this[_0x488236(0x370)]+'\x20('+this['instance'][_0x488236(0x834)]+_0x488236(0x530)+_0x47c60e),new w('Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x47c60e);}}async[a0_0x124f50(0x631)](_0x2fde65,_0x1c98d0){const _0x17ae1a=a0_0x124f50;try{let _0x28b0bc=await this['repository'][_0x17ae1a(0x484)][_0x17ae1a(0x7fc)]({'where':{'_id':_0x2fde65}},_0x1c98d0);if(_0x28b0bc&&_0x28b0bc[_0x17ae1a(0x61e)]){for(let _0xefd013 of _0x28b0bc[_0x17ae1a(0x61e)])if(_0xefd013!==_0x1c98d0){let _0x49f33f={..._0x28b0bc,'owner':_0xefd013};await this[_0x17ae1a(0x43e)][_0x17ae1a(0x484)][_0x17ae1a(0x4ca)](_0x2fde65,_0x49f33f,_0xefd013);}}}catch(_0x57cc0e){this[_0x17ae1a(0x4e8)][_0x17ae1a(0x629)](_0x17ae1a(0x748)+_0x57cc0e);}}async[a0_0x124f50(0x432)](_0x866c7a){const _0x1c18ae=a0_0x124f50;try{this[_0x1c18ae(0x4e8)][_0x1c18ae(0x64d)](this['instanceName']+'\x20('+this[_0x1c18ae(0x210)]['wuid']+'):\x20Deletando\x20fluxo...');let _0x31022b=await this[_0x1c18ae(0x43e)][_0x1c18ae(0x484)][_0x1c18ae(0x7fc)]({'where':{'name':_0x866c7a}},this[_0x1c18ae(0x210)][_0x1c18ae(0x834)]);if(_0x31022b&&_0x31022b[_0x1c18ae(0x61e)]&&_0x31022b[_0x1c18ae(0x61e)]['length']>0x1){for(let _0x2f8a65 of _0x31022b['shareOwners'])if(_0x2f8a65!==this['instance'][_0x1c18ae(0x834)]){let _0x3f8085=await this['repository'][_0x1c18ae(0x484)][_0x1c18ae(0x7fc)]({'where':{'sharePass':_0x31022b[_0x1c18ae(0x713)]}},_0x2f8a65);_0x3f8085&&(_0x3f8085[_0x1c18ae(0x61e)]=_0x3f8085[_0x1c18ae(0x61e)]['filter'](_0x41a126=>_0x41a126!==_0x31022b[_0x1c18ae(0x652)]),await this[_0x1c18ae(0x43e)][_0x1c18ae(0x484)][_0x1c18ae(0x457)](_0x3f8085[_0x1c18ae(0x21c)],{'shareOwners':_0x3f8085['shareOwners']},_0x2f8a65));}}return await this[_0x1c18ae(0x43e)][_0x1c18ae(0x484)][_0x1c18ae(0x3ac)]({'where':{'name':_0x866c7a}},this['instance'][_0x1c18ae(0x834)]);}catch(_0x60428a){return this[_0x1c18ae(0x4e8)][_0x1c18ae(0x629)](this['instanceName']+'\x20('+this[_0x1c18ae(0x210)][_0x1c18ae(0x834)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x60428a instanceof Error?_0x60428a['message']:JSON[_0x1c18ae(0x2b4)](_0x60428a,null,0x2))),{'message':_0x1c18ae(0x2a1)+_0x60428a};}}async[a0_0x124f50(0x31d)](_0x2c903e){const _0x5be59c=a0_0x124f50;try{this[_0x5be59c(0x4e8)][_0x5be59c(0x64d)](this['instanceName']+'\x20('+this[_0x5be59c(0x210)][_0x5be59c(0x834)]+'):\x20Buscando\x20flow...');let _0x98b1e9=await this[_0x5be59c(0x43e)][_0x5be59c(0x484)]['findOne']({'where':{'name':_0x2c903e}},this[_0x5be59c(0x210)][_0x5be59c(0x834)]);if(!_0x98b1e9)throw new Error(_0x5be59c(0x4f5));if(!this[_0x5be59c(0x669)]&&(await this[_0x5be59c(0x3c4)](),!this[_0x5be59c(0x669)]))return null;let _0x4acd9e=this[_0x5be59c(0x669)]?.[_0x5be59c(0x1d6)][_0x5be59c(0x5c2)](_0xde56c1=>_0xde56c1[_0x5be59c(0x350)]),_0x383200=[_0x5be59c(0x355),_0x5be59c(0x832),'email',_0x5be59c(0x754),_0x5be59c(0x84c),_0x5be59c(0x553),_0x5be59c(0x209),_0x5be59c(0x6c6),_0x5be59c(0x601)];_0x98b1e9['variables']=_0x98b1e9[_0x5be59c(0x329)][_0x5be59c(0x5c0)](_0x4d2498=>!(_0x4d2498['folder']==='leadInfo'||_0x4d2498[_0x5be59c(0x79f)])),_0x383200['forEach'](_0x10803d=>{const _0x563f22=_0x5be59c;_0x98b1e9['variables'][_0x563f22(0x1e7)]({'folder':'leadInfo','name':_0x10803d,'value':'','doc':'','leadInfo':!0x0});}),_0x4acd9e['forEach'](_0x533299=>{const _0x1a48c9=_0x5be59c;let _0xf13e9e=_0x98b1e9[_0x1a48c9(0x329)][_0x1a48c9(0x419)](_0x2833f5=>_0x2833f5[_0x1a48c9(0x350)]===_0x533299);_0xf13e9e===-0x1?_0x98b1e9['variables'][_0x1a48c9(0x1e7)]({'folder':_0x1a48c9(0x79f),'name':_0x533299,'value':'','doc':'','leadInfo':!0x0}):(_0x98b1e9[_0x1a48c9(0x329)][_0xf13e9e][_0x1a48c9(0x7da)]=_0x1a48c9(0x79f),_0x98b1e9['variables'][_0xf13e9e][_0x1a48c9(0x79f)]=!0x0);}),_0x98b1e9[_0x5be59c(0x708)]&&_0x98b1e9[_0x5be59c(0x708)][_0x5be59c(0x230)]>0x0&&_0x98b1e9[_0x5be59c(0x708)][_0x5be59c(0x53a)](_0x1cb4b7=>{const _0x548f36=_0x5be59c;_0x1cb4b7[_0x548f36(0x205)]&&_0x1cb4b7['next_groupId']&&_0x1cb4b7[_0x548f36(0x205)]===_0x1cb4b7[_0x548f36(0x828)]&&(_0x1cb4b7[_0x548f36(0x828)]=null);});let _0x4bcaae=await this[_0x5be59c(0x43e)]['flow'][_0x5be59c(0x457)](_0x98b1e9[_0x5be59c(0x21c)],_0x98b1e9,this['instance'][_0x5be59c(0x834)]);if(!_0x4bcaae)throw new Error(_0x5be59c(0x29c));return _0x4bcaae;}catch(_0x251ed4){throw this[_0x5be59c(0x4e8)]['error'](this[_0x5be59c(0x370)]+'\x20('+this[_0x5be59c(0x210)][_0x5be59c(0x834)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x251ed4 instanceof Error?_0x251ed4[_0x5be59c(0x3cd)]:JSON[_0x5be59c(0x2b4)](_0x251ed4,null,0x2))),new w(_0x5be59c(0x42b)+_0x251ed4);}}async[a0_0x124f50(0x5b1)](){const _0x3dc5b9=a0_0x124f50;try{return this['logger'][_0x3dc5b9(0x64d)](this[_0x3dc5b9(0x370)]+'\x20('+this[_0x3dc5b9(0x210)][_0x3dc5b9(0x834)]+_0x3dc5b9(0x3dd)),await this['repository'][_0x3dc5b9(0x484)][_0x3dc5b9(0x59a)](this[_0x3dc5b9(0x210)][_0x3dc5b9(0x834)]),await this[_0x3dc5b9(0x43e)]['flow'][_0x3dc5b9(0x283)]({'where':{}},this[_0x3dc5b9(0x210)][_0x3dc5b9(0x834)]);}catch(_0x36926b){return this[_0x3dc5b9(0x4e8)]['error'](this[_0x3dc5b9(0x370)]+'\x20('+this[_0x3dc5b9(0x210)][_0x3dc5b9(0x834)]+_0x3dc5b9(0x802)+(_0x36926b instanceof Error?_0x36926b[_0x3dc5b9(0x3cd)]:JSON['stringify'](_0x36926b,null,0x2))),{'message':_0x3dc5b9(0x2ef)+_0x36926b};}}async[a0_0x124f50(0x6e5)](_0x1d27a){const _0x5c214b=a0_0x124f50;try{this['logger'][_0x5c214b(0x64d)](this['instanceName']+'\x20('+this[_0x5c214b(0x210)][_0x5c214b(0x834)]+_0x5c214b(0x686));let _0x4884fe=await this[_0x5c214b(0x43e)][_0x5c214b(0x484)][_0x5c214b(0x7fc)]({'where':{'name':_0x1d27a[_0x5c214b(0x350)]}},this[_0x5c214b(0x210)][_0x5c214b(0x834)]);if(!_0x4884fe)return{'message':_0x5c214b(0x6bc)};_0x1d27a[_0x5c214b(0x223)]===!0x0&&await this['repository']['flow'][_0x5c214b(0x491)]({},{'default':!0x1},this[_0x5c214b(0x210)][_0x5c214b(0x834)]),delete _0x1d27a[_0x5c214b(0x61e)],delete _0x1d27a[_0x5c214b(0x713)];let _0x149d66=await this[_0x5c214b(0x43e)][_0x5c214b(0x484)]['updateOne'](_0x4884fe[_0x5c214b(0x21c)],_0x1d27a,this['instance'][_0x5c214b(0x834)]);return _0x149d66&&_0x149d66[_0x5c214b(0x61e)]&&_0x149d66[_0x5c214b(0x61e)][_0x5c214b(0x230)]>0x1&&this[_0x5c214b(0x631)](_0x149d66['_id'],this[_0x5c214b(0x210)][_0x5c214b(0x834)]),_0x149d66;}catch(_0x14d008){throw this[_0x5c214b(0x4e8)][_0x5c214b(0x629)](this[_0x5c214b(0x370)]+'\x20('+this['instance'][_0x5c214b(0x834)]+_0x5c214b(0x6bd)+(_0x14d008 instanceof Error?_0x14d008[_0x5c214b(0x3cd)]:JSON[_0x5c214b(0x2b4)](_0x14d008,null,0x2))),new w(_0x5c214b(0x3ae)+(_0x14d008 instanceof Error?_0x14d008['message']:JSON[_0x5c214b(0x2b4)](_0x14d008,null,0x2)));}}async[a0_0x124f50(0x446)](_0x12f4e3){const _0x1da743=a0_0x124f50;try{this[_0x1da743(0x4e8)][_0x1da743(0x64d)](this['instanceName']+'\x20('+this[_0x1da743(0x210)][_0x1da743(0x834)]+_0x1da743(0x4ad));let _0x129e37=await this[_0x1da743(0x43e)][_0x1da743(0x484)][_0x1da743(0x7fc)]({'where':{'name':_0x12f4e3[_0x1da743(0x350)]}},this[_0x1da743(0x210)][_0x1da743(0x834)]);_0x129e37||this[_0x1da743(0x7a8)](_0x1da743(0x4f5));let {block:_0x311cfb}=_0x12f4e3;_0x311cfb?.[_0x1da743(0x60c)]?this[_0x1da743(0x67d)](_0x129e37,_0x12f4e3):_0x311cfb?.[_0x1da743(0x3bb)]?this[_0x1da743(0x404)](_0x129e37,_0x12f4e3):_0x311cfb[_0x1da743(0x21c)]?await this[_0x1da743(0x3b9)](_0x129e37,_0x12f4e3):this[_0x1da743(0x3c2)](_0x129e37,_0x12f4e3);let _0x2ff6ce=await this[_0x1da743(0x43e)]['flow']['updateOne'](_0x129e37['_id'],_0x129e37,this[_0x1da743(0x210)][_0x1da743(0x834)]);if(_0x2ff6ce&&_0x2ff6ce[_0x1da743(0x61e)]&&_0x2ff6ce['shareOwners'][_0x1da743(0x230)]>0x1&&this[_0x1da743(0x631)](_0x2ff6ce['_id'],this[_0x1da743(0x210)][_0x1da743(0x834)]),!_0x2ff6ce)throw new Error(_0x1da743(0x29c));return _0x2ff6ce;}catch(_0x2a9163){this['throwAndLogError'](_0x1da743(0x4fa)+_0x2a9163);}}async[a0_0x124f50(0x67d)](_0x3a2c3f,_0x2e6180){const _0x4f8cb9=a0_0x124f50;let _0x10389d=_0x2e6180['block'][_0x4f8cb9(0x21c)],_0x306001=_0x3a2c3f[_0x4f8cb9(0x708)][_0x4f8cb9(0x81d)](_0x58487a=>_0x58487a['_id'][_0x4f8cb9(0x782)]()===_0x10389d);if(!_0x306001){this[_0x4f8cb9(0x4e8)]['error'](this[_0x4f8cb9(0x370)]+'\x20('+this[_0x4f8cb9(0x210)][_0x4f8cb9(0x834)]+_0x4f8cb9(0x823)+_0x10389d+_0x4f8cb9(0x2b7));return;}this[_0x4f8cb9(0x4e8)][_0x4f8cb9(0x64d)](this[_0x4f8cb9(0x370)]+'\x20('+this[_0x4f8cb9(0x210)]['wuid']+_0x4f8cb9(0x71e)+JSON[_0x4f8cb9(0x2b4)](_0x306001));let _0x3e6898=JSON['parse'](JSON[_0x4f8cb9(0x2b4)](_0x306001));_0x3e6898['_id']=new ce['default'][(_0x4f8cb9(0x256))][(_0x4f8cb9(0x860))](),this['logger'][_0x4f8cb9(0x64d)](this['instanceName']+'\x20('+this[_0x4f8cb9(0x210)][_0x4f8cb9(0x834)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x4f8cb9(0x2b4)](_0x3e6898)),_0x3a2c3f[_0x4f8cb9(0x708)][_0x4f8cb9(0x1e7)](_0x3e6898),this[_0x4f8cb9(0x304)](_0x3a2c3f[_0x4f8cb9(0x708)],_0x3e6898[_0x4f8cb9(0x205)]);}[a0_0x124f50(0x7a8)](_0x97cdc6){const _0x2dc7ad=a0_0x124f50;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2dc7ad(0x210)][_0x2dc7ad(0x834)]+_0x2dc7ad(0x839)+_0x97cdc6),new w(_0x97cdc6);}[a0_0x124f50(0x404)](_0x122bc8,_0x1a36bf){const _0x190c3c=a0_0x124f50;let {block:_0xc5ea6c}=_0x1a36bf;if(_0xc5ea6c['type']===_0x190c3c(0x6d9)){this[_0x190c3c(0x7a8)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0xc5ea6c[_0x190c3c(0x21c)]){this[_0x190c3c(0x7a8)](_0x190c3c(0x307));return;}let _0x2fdb2c=_0x122bc8['blocks'][_0x190c3c(0x81d)](_0x1417bd=>_0x1417bd[_0x190c3c(0x21c)][_0x190c3c(0x782)]()===_0x1a36bf['block']['_id']['toString']());if(!_0x2fdb2c){this[_0x190c3c(0x7a8)](_0x190c3c(0x48e)+_0xc5ea6c[_0x190c3c(0x21c)]+_0x190c3c(0x450));return;}_0x122bc8[_0x190c3c(0x708)]=_0x122bc8[_0x190c3c(0x708)][_0x190c3c(0x5c0)](_0x2ad51c=>_0x2ad51c[_0x190c3c(0x21c)]['toString']()!==_0x1a36bf['block']['_id'][_0x190c3c(0x782)]()),_0x122bc8[_0x190c3c(0x835)]=_0x122bc8[_0x190c3c(0x835)]['filter'](_0x410ee6=>_0x410ee6[_0x190c3c(0x740)]!==_0xc5ea6c[_0x190c3c(0x21c)]['toString']()),_0x122bc8['varedits']=_0x122bc8['varedits'][_0x190c3c(0x5c0)](_0x2717b0=>_0x2717b0['blockId']!==_0xc5ea6c[_0x190c3c(0x21c)]['toString']()),_0x122bc8[_0x190c3c(0x77e)]=_0x122bc8[_0x190c3c(0x77e)]['filter'](_0x521299=>_0x521299[_0x190c3c(0x740)]!==_0xc5ea6c['_id'][_0x190c3c(0x782)]()),this[_0x190c3c(0x304)](_0x122bc8[_0x190c3c(0x708)],_0x2fdb2c['groupId']);}async[a0_0x124f50(0x3b9)](_0x2dcb77,_0x3d95d5){const _0x5c811b=a0_0x124f50;let _0x2d64cc=_0x2dcb77[_0x5c811b(0x708)][_0x5c811b(0x419)](_0x4c6107=>_0x4c6107[_0x5c811b(0x21c)][_0x5c811b(0x782)]()===_0x3d95d5[_0x5c811b(0x4b5)]['_id'][_0x5c811b(0x782)]());if(this[_0x5c811b(0x4e8)][_0x5c811b(0x64d)](this[_0x5c811b(0x370)]+'\x20('+this[_0x5c811b(0x210)][_0x5c811b(0x834)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x2d64cc),_0x2d64cc===-0x1){this[_0x5c811b(0x4e8)]['verbose'](_0x5c811b(0x48e)+_0x3d95d5[_0x5c811b(0x4b5)][_0x5c811b(0x21c)]+_0x5c811b(0x683));return;}if(_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x5c811b(0x76c)]===_0x5c811b(0x6d9)){let _0x1e9f59=Object[_0x5c811b(0x311)](_0x3d95d5['block']);if(_0x1e9f59[_0x5c811b(0x230)]>0x2||_0x1e9f59[_0x5c811b(0x230)]===0x2&&!_0x1e9f59[_0x5c811b(0x6c2)](_0x5c811b(0x828))){this[_0x5c811b(0x7a8)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x4092cf=_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x5c811b(0x205)];for(let _0x341de9 in _0x3d95d5[_0x5c811b(0x4b5)])_0x3d95d5['block'][_0x5c811b(0x58a)](_0x341de9)&&(_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x341de9]=_0x3d95d5['block'][_0x341de9]);if(this['logger'][_0x5c811b(0x64d)](this[_0x5c811b(0x370)]+'\x20('+this[_0x5c811b(0x210)][_0x5c811b(0x834)]+_0x5c811b(0x42f)+JSON[_0x5c811b(0x2b4)](_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc])),_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x5c811b(0x5a5)]&&_0x5c811b(0x51a)in _0x2dcb77['blocks'][_0x2d64cc][_0x5c811b(0x5a5)]){this[_0x5c811b(0x4e8)]['verbose'](this[_0x5c811b(0x370)]+'\x20('+this['instance'][_0x5c811b(0x834)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x467c6d=JSON[_0x5c811b(0x2b4)](_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x5c811b(0x5a5)][_0x5c811b(0x51a)],null,0x1);_0x467c6d['length']>0x2&&(_0x467c6d=_0x467c6d[_0x5c811b(0x82b)](0x1,_0x467c6d[_0x5c811b(0x230)]-0x1)[_0x5c811b(0x485)]()),_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc][_0x5c811b(0x5a5)][_0x5c811b(0x644)]=_0x467c6d;}if(_0x2dcb77[_0x5c811b(0x708)][_0x2d64cc]['apirequest']&&_0x5c811b(0x75a)in _0x2dcb77[_0x5c811b(0x708)][_0x2d64cc]['apirequest']){this['logger'][_0x5c811b(0x64d)](this[_0x5c811b(0x370)]+'\x20('+this[_0x5c811b(0x210)]['wuid']+_0x5c811b(0x3b6));let _0x70a7aa=JSON[_0x5c811b(0x2b4)](_0x2dcb77['blocks'][_0x2d64cc][_0x5c811b(0x5a5)][_0x5c811b(0x75a)],null,0x1);_0x70a7aa[_0x5c811b(0x230)]>0x2&&(_0x70a7aa=_0x70a7aa[_0x5c811b(0x82b)](0x1,_0x70a7aa[_0x5c811b(0x230)]-0x1)[_0x5c811b(0x485)]()),_0x2dcb77['blocks'][_0x2d64cc][_0x5c811b(0x5a5)][_0x5c811b(0x62b)]=_0x70a7aa;}let _0x4926a0=_0x2dcb77['blocks'][_0x2d64cc][_0x5c811b(0x205)];_0x4092cf!==_0x4926a0?(this[_0x5c811b(0x304)](_0x2dcb77[_0x5c811b(0x708)],_0x4092cf),this[_0x5c811b(0x304)](_0x2dcb77['blocks'],_0x4926a0)):this['reorderBlocks'](_0x2dcb77[_0x5c811b(0x708)],_0x4092cf);}[a0_0x124f50(0x3c2)](_0x21c051,_0x3e7528){const _0x243e48=a0_0x124f50;if(_0x3e7528[_0x243e48(0x4b5)][_0x243e48(0x76c)]===_0x243e48(0x6d9)){this['throwAndLogError'](_0x243e48(0x642));return;}if(_0x3e7528[_0x243e48(0x4b5)][_0x243e48(0x5a5)]&&'header'in _0x3e7528[_0x243e48(0x4b5)][_0x243e48(0x5a5)]){this[_0x243e48(0x4e8)][_0x243e48(0x64d)](this['instanceName']+'\x20('+this[_0x243e48(0x210)][_0x243e48(0x834)]+_0x243e48(0x658));let _0x35e19=JSON['stringify'](_0x3e7528['block'][_0x243e48(0x5a5)]['header'],null,0x1);_0x35e19[_0x243e48(0x230)]>0x2&&(_0x35e19=_0x35e19[_0x243e48(0x82b)](0x1,_0x35e19[_0x243e48(0x230)]-0x1)[_0x243e48(0x485)]()),_0x3e7528[_0x243e48(0x4b5)]['apirequest'][_0x243e48(0x644)]=_0x35e19;}_0x3e7528[_0x243e48(0x4b5)]['apirequest']&&_0x243e48(0x75a)in _0x3e7528[_0x243e48(0x4b5)]['apirequest']&&(this[_0x243e48(0x4e8)][_0x243e48(0x64d)](this[_0x243e48(0x370)]+'\x20('+this['instance'][_0x243e48(0x834)]+_0x243e48(0x3b6)),_0x3e7528[_0x243e48(0x4b5)][_0x243e48(0x5a5)]['bodyString']=JSON[_0x243e48(0x2b4)](_0x3e7528['block'][_0x243e48(0x5a5)][_0x243e48(0x75a)],null,0x1)[_0x243e48(0x485)]()),_0x21c051[_0x243e48(0x708)]['push'](_0x3e7528[_0x243e48(0x4b5)]),this[_0x243e48(0x304)](_0x21c051[_0x243e48(0x708)],_0x3e7528['block'][_0x243e48(0x205)]);}[a0_0x124f50(0x304)](_0xa5eb2a,_0xc40360){const _0x5b5519=a0_0x124f50;let _0x1cc786=_0xa5eb2a[_0x5b5519(0x5c0)](_0x2efbbc=>_0x2efbbc[_0x5b5519(0x205)]===_0xc40360);_0x1cc786[_0x5b5519(0x38c)]((_0x5664e5,_0x96b1c7)=>_0x5664e5['order']-_0x96b1c7[_0x5b5519(0x357)]),_0x1cc786[_0x5b5519(0x53a)]((_0x54d0f3,_0x38b129)=>_0x54d0f3[_0x5b5519(0x357)]=_0x38b129+0x1);}async[a0_0x124f50(0x377)](_0x2e201b){const _0x315138=a0_0x124f50;try{if(this[_0x315138(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x315138(0x210)][_0x315138(0x834)]+_0x315138(0x580)),!_0x2e201b||!_0x2e201b[_0x315138(0x571)]){this[_0x315138(0x7a8)](_0x315138(0x727));return;}let _0x54dc56=await this['repository'][_0x315138(0x484)][_0x315138(0x7fc)]({'where':{'name':_0x2e201b[_0x315138(0x350)]}},this[_0x315138(0x210)][_0x315138(0x834)]);_0x54dc56||this['throwAndLogError'](_0x315138(0x4f5));let {replyOption:_0x48db28}=_0x2e201b;_0x48db28?.['delete']?(this['deleteReplyOption'](_0x54dc56,_0x2e201b),this[_0x315138(0x461)](_0x54dc56[_0x315138(0x77e)],_0x2e201b[_0x315138(0x571)][_0x315138(0x740)])):_0x48db28[_0x315138(0x21c)]?(await this[_0x315138(0x3d9)](_0x54dc56,_0x2e201b),this[_0x315138(0x461)](_0x54dc56[_0x315138(0x77e)],_0x2e201b['replyOption'][_0x315138(0x740)])):(this[_0x315138(0x780)](_0x54dc56,_0x2e201b),this[_0x315138(0x461)](_0x54dc56['replyOptions'],_0x2e201b['replyOption'][_0x315138(0x740)]));let _0x1f82d5=await this[_0x315138(0x43e)]['flow'][_0x315138(0x457)](_0x54dc56[_0x315138(0x21c)],_0x54dc56,this['instance']['wuid']);if(_0x1f82d5&&_0x1f82d5[_0x315138(0x61e)]&&_0x1f82d5[_0x315138(0x61e)]['length']>0x1&&this['synchronizeFlows'](_0x1f82d5[_0x315138(0x21c)],this['instance'][_0x315138(0x834)]),!_0x1f82d5)throw new Error(_0x315138(0x29c));return _0x1f82d5;}catch(_0x1e4299){this['throwAndLogError'](_0x315138(0x345)+_0x1e4299);}}[a0_0x124f50(0x461)](_0x9aafeb,_0x3212e3){const _0x27a8ca=a0_0x124f50;console[_0x27a8ca(0x3b3)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x3212e3),_0x9aafeb[_0x27a8ca(0x53a)](_0x23396a=>{const _0x31bc2f=_0x27a8ca;_0x23396a['blockId']===_0x3212e3&&_0x23396a['order']===void 0x0&&(_0x23396a[_0x31bc2f(0x357)]=0x270f);});let _0x4d6873=_0x9aafeb[_0x27a8ca(0x5c0)](_0x568e54=>_0x568e54[_0x27a8ca(0x740)]===_0x3212e3);_0x4d6873[_0x27a8ca(0x38c)]((_0x42d40a,_0x29219f)=>_0x42d40a['order']-_0x29219f[_0x27a8ca(0x357)]),_0x4d6873[_0x27a8ca(0x53a)]((_0x4eb6df,_0x4bc748)=>{const _0xb0b74c=_0x27a8ca;_0x4eb6df[_0xb0b74c(0x357)]=_0x4bc748+0x1;}),_0x9aafeb['forEach'](_0x564755=>{const _0x296f4d=_0x27a8ca;if(_0x564755[_0x296f4d(0x740)]===_0x3212e3){let _0x5d51f3=_0x4d6873[_0x296f4d(0x81d)](_0x1afcca=>_0x1afcca[_0x296f4d(0x21c)]&&_0x564755['_id']&&_0x1afcca[_0x296f4d(0x21c)][_0x296f4d(0x782)]()===_0x564755[_0x296f4d(0x21c)][_0x296f4d(0x782)]());_0x5d51f3&&(_0x564755[_0x296f4d(0x357)]=_0x5d51f3[_0x296f4d(0x357)]);}}),console[_0x27a8ca(0x3b3)](_0x27a8ca(0x1e2),_0x9aafeb);}[a0_0x124f50(0x5f5)](_0x4e64b1,_0x20c0fc){const _0x130f90=a0_0x124f50;let {replyOption:_0x56ce59}=_0x20c0fc;if(!_0x56ce59['_id']){this[_0x130f90(0x7a8)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4e64b1['replyOptions'][_0x130f90(0x81d)](_0x1dc554=>_0x1dc554[_0x130f90(0x21c)]['toString']()===_0x20c0fc[_0x130f90(0x571)][_0x130f90(0x21c)][_0x130f90(0x782)]())){this[_0x130f90(0x7a8)]('ReplyOption\x20com\x20ID\x20'+_0x56ce59[_0x130f90(0x21c)]+_0x130f90(0x450));return;}_0x4e64b1[_0x130f90(0x77e)]=_0x4e64b1[_0x130f90(0x77e)]['filter'](_0x58a7b1=>_0x58a7b1['_id'][_0x130f90(0x782)]()!==_0x20c0fc['replyOption'][_0x130f90(0x21c)][_0x130f90(0x782)]());}async[a0_0x124f50(0x3d9)](_0x3b3a84,_0x136a1c){const _0x2422e7=a0_0x124f50;let _0x30f6cf=_0x3b3a84[_0x2422e7(0x77e)]['findIndex'](_0x3d4ee2=>_0x3d4ee2[_0x2422e7(0x21c)][_0x2422e7(0x782)]()===_0x136a1c[_0x2422e7(0x571)][_0x2422e7(0x21c)][_0x2422e7(0x782)]());if(_0x30f6cf===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x136a1c[_0x2422e7(0x571)][_0x2422e7(0x21c)]+_0x2422e7(0x683));return;}for(let _0x3a2492 in _0x136a1c[_0x2422e7(0x571)])_0x136a1c[_0x2422e7(0x571)]['hasOwnProperty'](_0x3a2492)&&(_0x3b3a84[_0x2422e7(0x77e)][_0x30f6cf][_0x3a2492]=_0x136a1c['replyOption'][_0x3a2492]);}[a0_0x124f50(0x780)](_0x140760,_0x2f6000){const _0x55cb50=a0_0x124f50;_0x140760['replyOptions']['push'](_0x2f6000[_0x55cb50(0x571)]);}async[a0_0x124f50(0x85e)](_0x3f467b){const _0x49fd0b=a0_0x124f50;this[_0x49fd0b(0x4e8)][_0x49fd0b(0x64d)](this[_0x49fd0b(0x370)]+'\x20('+this['instance']['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x3f467b);try{this['logger'][_0x49fd0b(0x64d)](this[_0x49fd0b(0x370)]+'\x20('+this['instance'][_0x49fd0b(0x834)]+_0x49fd0b(0x5a7));let _0x9680da=await this[_0x49fd0b(0x43e)]['flow'][_0x49fd0b(0x7fc)]({'where':{'name':_0x3f467b['name']}},this[_0x49fd0b(0x210)][_0x49fd0b(0x834)]);if(!_0x9680da)throw new Error(_0x49fd0b(0x4f5));if(_0x3f467b['group']&&_0x3f467b['group']?.[_0x49fd0b(0x3bb)]===!0x0){if(this[_0x49fd0b(0x4e8)]['verbose'](this[_0x49fd0b(0x370)]+'\x20('+this[_0x49fd0b(0x210)][_0x49fd0b(0x834)]+_0x49fd0b(0x83b)),_0x3f467b['group'][_0x49fd0b(0x223)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x9680da['blocks'][_0x49fd0b(0x401)](_0x1cdb65=>_0x1cdb65[_0x49fd0b(0x205)][_0x49fd0b(0x782)]()===_0x3f467b['group'][_0x49fd0b(0x21c)]))return this[_0x49fd0b(0x4e8)][_0x49fd0b(0x64d)](this[_0x49fd0b(0x370)]+'\x20('+this['instance']['wuid']+_0x49fd0b(0x3c0)),{'message':_0x49fd0b(0x1fa)};_0x9680da[_0x49fd0b(0x65d)]=_0x9680da[_0x49fd0b(0x65d)][_0x49fd0b(0x5c0)](_0x2d24db=>_0x2d24db[_0x49fd0b(0x21c)][_0x49fd0b(0x782)]()!==_0x3f467b[_0x49fd0b(0x682)][_0x49fd0b(0x21c)]);}else{if(_0x3f467b[_0x49fd0b(0x682)]){if(_0x3f467b[_0x49fd0b(0x682)]['default']===!0x0)return{'message':_0x49fd0b(0x353)};if(_0x3f467b[_0x49fd0b(0x682)]['_id']){let _0x41972e=_0x9680da['groups'][_0x49fd0b(0x81d)](_0x3e7ecb=>_0x3e7ecb[_0x49fd0b(0x21c)][_0x49fd0b(0x782)]()===_0x3f467b[_0x49fd0b(0x682)][_0x49fd0b(0x21c)]);_0x41972e&&(_0x3f467b[_0x49fd0b(0x682)]['x']<0x0&&(_0x3f467b['group']['x']=0x0),_0x3f467b['group']['y']<0x0&&(_0x3f467b['group']['y']=0x0),Object['assign'](_0x41972e,_0x3f467b[_0x49fd0b(0x682)]));}else _0x9680da[_0x49fd0b(0x65d)][_0x49fd0b(0x1e7)](_0x3f467b['group']);}}let _0x2db3c1=await this[_0x49fd0b(0x43e)][_0x49fd0b(0x484)][_0x49fd0b(0x457)](_0x9680da[_0x49fd0b(0x21c)],_0x9680da,this[_0x49fd0b(0x210)]['wuid']);if(_0x2db3c1&&_0x2db3c1[_0x49fd0b(0x61e)]&&_0x2db3c1[_0x49fd0b(0x61e)][_0x49fd0b(0x230)]>0x1&&this[_0x49fd0b(0x631)](_0x2db3c1[_0x49fd0b(0x21c)],this[_0x49fd0b(0x210)][_0x49fd0b(0x834)]),!_0x2db3c1)throw new Error(_0x49fd0b(0x29c));return _0x2db3c1;}catch(_0x19973e){throw this['logger'][_0x49fd0b(0x629)](this['instanceName']+'\x20('+this[_0x49fd0b(0x210)]['wuid']+_0x49fd0b(0x32b)+(_0x19973e instanceof Error?_0x19973e[_0x49fd0b(0x3cd)]:JSON['stringify'](_0x19973e,null,0x2))),new w('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x19973e instanceof Error?_0x19973e[_0x49fd0b(0x3cd)]:JSON[_0x49fd0b(0x2b4)](_0x19973e,null,0x2)));}}async[a0_0x124f50(0x721)](_0xc2bfc8){const _0x31efea=a0_0x124f50;try{this[_0x31efea(0x4e8)][_0x31efea(0x64d)](this[_0x31efea(0x370)]+'\x20('+this['instance'][_0x31efea(0x834)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2a7c30=await this[_0x31efea(0x43e)][_0x31efea(0x484)]['findOne']({'where':{'name':_0xc2bfc8[_0x31efea(0x350)]}},this[_0x31efea(0x210)]['wuid']);if(!_0x2a7c30)throw new Error(_0x31efea(0x4f5));let _0x26eff8=!0x1;if(_0xc2bfc8[_0x31efea(0x552)]?.['delete']===!0x0)_0x2a7c30[_0x31efea(0x835)]=_0x2a7c30[_0x31efea(0x835)][_0x31efea(0x5c0)](_0x49bf80=>_0x49bf80&&_0xc2bfc8['condition']&&_0x49bf80[_0x31efea(0x21c)]&&_0xc2bfc8[_0x31efea(0x552)][_0x31efea(0x21c)]&&_0x49bf80[_0x31efea(0x21c)][_0x31efea(0x782)]()!==_0xc2bfc8[_0x31efea(0x552)][_0x31efea(0x21c)][_0x31efea(0x782)]()),_0x26eff8=!0x0;else{let _0x1d5a9d=_0x2a7c30[_0x31efea(0x835)][_0x31efea(0x81d)](_0xd8f18b=>_0xd8f18b&&_0xc2bfc8[_0x31efea(0x552)]&&_0xd8f18b['_id']&&_0xc2bfc8[_0x31efea(0x552)][_0x31efea(0x21c)]&&_0xd8f18b[_0x31efea(0x21c)][_0x31efea(0x782)]()===_0xc2bfc8[_0x31efea(0x552)][_0x31efea(0x21c)]['toString']());_0x1d5a9d?(_0x26eff8=_0x1d5a9d[_0x31efea(0x357)]!==_0xc2bfc8[_0x31efea(0x552)][_0x31efea(0x357)],Object[_0x31efea(0x868)](_0x1d5a9d,_0xc2bfc8['condition'])):(_0x2a7c30['conditions']['push'](_0xc2bfc8['condition']),_0x26eff8=!0x0);}if(_0x26eff8){_0x2a7c30[_0x31efea(0x835)]['sort']((_0x3117a8,_0x1b0647)=>_0x3117a8[_0x31efea(0x357)]>_0x1b0647[_0x31efea(0x357)]?0x1:_0x1b0647[_0x31efea(0x357)]>_0x3117a8[_0x31efea(0x357)]?-0x1:0x0);for(let _0x5eb266=0x0;_0x5eb266<_0x2a7c30['conditions'][_0x31efea(0x230)];_0x5eb266++)_0x2a7c30['conditions'][_0x5eb266][_0x31efea(0x357)]=_0x5eb266+0x1;_0x2a7c30[_0x31efea(0x835)][_0x31efea(0x230)]>0x0&&(_0x2a7c30[_0x31efea(0x835)][0x0][_0x31efea(0x7ee)]='and');}let _0x2b684a=await this['repository'][_0x31efea(0x484)][_0x31efea(0x457)](_0x2a7c30[_0x31efea(0x21c)],_0x2a7c30,this[_0x31efea(0x210)][_0x31efea(0x834)]);if(_0x2b684a&&_0x2b684a[_0x31efea(0x61e)]&&_0x2b684a[_0x31efea(0x61e)][_0x31efea(0x230)]>0x1&&this[_0x31efea(0x631)](_0x2b684a[_0x31efea(0x21c)],this[_0x31efea(0x210)]['wuid']),!_0x2b684a)throw new Error(_0x31efea(0x29c));return _0x2b684a;}catch(_0x132609){throw this['logger'][_0x31efea(0x629)](this[_0x31efea(0x370)]+'\x20('+this[_0x31efea(0x210)][_0x31efea(0x834)]+_0x31efea(0x3d6)+(_0x132609 instanceof Error?_0x132609[_0x31efea(0x3cd)]:JSON[_0x31efea(0x2b4)](_0x132609,null,0x2))),new Error(_0x31efea(0x705)+(_0x132609 instanceof Error?_0x132609[_0x31efea(0x3cd)]:JSON['stringify'](_0x132609,null,0x2)));}}async[a0_0x124f50(0x598)](_0x1818f0){const _0x3faa08=a0_0x124f50;try{this[_0x3faa08(0x4e8)][_0x3faa08(0x64d)](this[_0x3faa08(0x370)]+'\x20('+this[_0x3faa08(0x210)]['wuid']+_0x3faa08(0x6c4));let _0x43626b=await this[_0x3faa08(0x43e)][_0x3faa08(0x484)][_0x3faa08(0x7fc)]({'where':{'name':_0x1818f0['name']}},this[_0x3faa08(0x210)][_0x3faa08(0x834)]);if(!_0x43626b)throw new Error(_0x3faa08(0x4f5));let _0x9d984e=!0x1;if(_0x1818f0['varedit']?.[_0x3faa08(0x3bb)]===!0x0)_0x43626b[_0x3faa08(0x61c)]=_0x43626b[_0x3faa08(0x61c)][_0x3faa08(0x5c0)](_0x34ae20=>_0x34ae20&&_0x1818f0['varedit']&&_0x34ae20[_0x3faa08(0x21c)]&&_0x1818f0['varedit'][_0x3faa08(0x21c)]&&_0x34ae20['_id'][_0x3faa08(0x782)]()!==_0x1818f0[_0x3faa08(0x4b9)][_0x3faa08(0x21c)][_0x3faa08(0x782)]()),_0x9d984e=!0x0;else{let _0x6abda7=_0x43626b[_0x3faa08(0x61c)][_0x3faa08(0x81d)](_0xcd023d=>_0xcd023d&&_0x1818f0['varedit']&&_0xcd023d[_0x3faa08(0x21c)]&&_0x1818f0['varedit']['_id']&&_0xcd023d[_0x3faa08(0x21c)]['toString']()===_0x1818f0[_0x3faa08(0x4b9)][_0x3faa08(0x21c)][_0x3faa08(0x782)]());_0x6abda7?(_0x9d984e=_0x6abda7[_0x3faa08(0x357)]!==_0x1818f0[_0x3faa08(0x4b9)][_0x3faa08(0x357)],Object[_0x3faa08(0x868)](_0x6abda7,_0x1818f0[_0x3faa08(0x4b9)])):(_0x43626b['varedits'][_0x3faa08(0x1e7)](_0x1818f0[_0x3faa08(0x4b9)]),_0x9d984e=!0x0);}if(_0x9d984e){_0x43626b['varedits'][_0x3faa08(0x38c)]((_0x451c8e,_0x3d87d1)=>_0x451c8e[_0x3faa08(0x357)]>_0x3d87d1[_0x3faa08(0x357)]?0x1:_0x3d87d1[_0x3faa08(0x357)]>_0x451c8e[_0x3faa08(0x357)]?-0x1:0x0);for(let _0x126e47=0x0;_0x126e47<_0x43626b[_0x3faa08(0x61c)][_0x3faa08(0x230)];_0x126e47++)_0x43626b[_0x3faa08(0x61c)][_0x126e47][_0x3faa08(0x357)]=_0x126e47+0x1;}let _0x1d21bd=await this[_0x3faa08(0x43e)][_0x3faa08(0x484)][_0x3faa08(0x457)](_0x43626b[_0x3faa08(0x21c)],_0x43626b,this[_0x3faa08(0x210)][_0x3faa08(0x834)]);if(_0x1d21bd&&_0x1d21bd[_0x3faa08(0x61e)]&&_0x1d21bd[_0x3faa08(0x61e)]['length']>0x1&&this[_0x3faa08(0x631)](_0x1d21bd[_0x3faa08(0x21c)],this['instance'][_0x3faa08(0x834)]),!_0x1d21bd)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1d21bd;}catch(_0x2b7c7e){throw this['logger'][_0x3faa08(0x629)](this[_0x3faa08(0x370)]+'\x20('+this['instance'][_0x3faa08(0x834)]+_0x3faa08(0x3d6)+(_0x2b7c7e instanceof Error?_0x2b7c7e[_0x3faa08(0x3cd)]:JSON[_0x3faa08(0x2b4)](_0x2b7c7e,null,0x2))),new w(_0x3faa08(0x705)+(_0x2b7c7e instanceof Error?_0x2b7c7e[_0x3faa08(0x3cd)]:JSON[_0x3faa08(0x2b4)](_0x2b7c7e,null,0x2)));}}async[a0_0x124f50(0x6ba)](_0x18a1a1){const _0x2af115=a0_0x124f50;try{this[_0x2af115(0x4e8)][_0x2af115(0x64d)](this[_0x2af115(0x370)]+'\x20('+this[_0x2af115(0x210)][_0x2af115(0x834)]+_0x2af115(0x40c));let _0x2f444e=await this[_0x2af115(0x43e)][_0x2af115(0x484)][_0x2af115(0x7fc)]({'where':{'name':_0x18a1a1[_0x2af115(0x350)]}},this[_0x2af115(0x210)]['wuid']);if(!_0x2f444e)throw new Error(_0x2af115(0x4f5));_0x18a1a1['variable'][_0x2af115(0x350)]=_0x18a1a1['variable'][_0x2af115(0x350)]['trim'](),_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]['startsWith']('_')&&(_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]=_0x18a1a1[_0x2af115(0x588)]['name']['substring'](0x1)),_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]=_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]['trim']();let _0x4f3410=_0x2f444e[_0x2af115(0x329)][_0x2af115(0x81d)](_0x3a5d31=>_0x3a5d31['name']===_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]);if(_0x4f3410?.['leadInfo']===!0x0)throw new Error(_0x2af115(0x728));if(_0x18a1a1['variable']?.[_0x2af115(0x3bb)]===!0x0){if(!_0x4f3410)return{'message':_0x2af115(0x82c)};_0x2f444e[_0x2af115(0x329)]=_0x2f444e[_0x2af115(0x329)][_0x2af115(0x5c0)](_0x411416=>_0x411416['name']!==_0x18a1a1[_0x2af115(0x588)][_0x2af115(0x350)]);}else _0x4f3410?Object['assign'](_0x4f3410,_0x18a1a1['variable']):_0x2f444e[_0x2af115(0x329)][_0x2af115(0x1e7)](_0x18a1a1[_0x2af115(0x588)]);let _0x5c9786=await this[_0x2af115(0x43e)][_0x2af115(0x484)][_0x2af115(0x457)](_0x2f444e[_0x2af115(0x21c)],_0x2f444e,this['instance']['wuid']);if(_0x5c9786&&_0x5c9786[_0x2af115(0x61e)]&&_0x5c9786[_0x2af115(0x61e)][_0x2af115(0x230)]>0x1&&this['synchronizeFlows'](_0x5c9786[_0x2af115(0x21c)],this[_0x2af115(0x210)]['wuid']),!_0x5c9786)throw new Error(_0x2af115(0x29c));return _0x5c9786;}catch(_0x394cb2){throw this[_0x2af115(0x4e8)][_0x2af115(0x629)](this[_0x2af115(0x370)]+'\x20('+this[_0x2af115(0x210)][_0x2af115(0x834)]+_0x2af115(0x3a5)+(_0x394cb2 instanceof Error?_0x394cb2[_0x2af115(0x3cd)]:JSON[_0x2af115(0x2b4)](_0x394cb2,null,0x2))),new w(_0x2af115(0x1f9)+(_0x394cb2 instanceof Error?_0x394cb2['message']:JSON[_0x2af115(0x2b4)](_0x394cb2,null,0x2)));}}async[a0_0x124f50(0x23e)](_0xff1a0){const _0x1bf12b=a0_0x124f50;let _0x435feb=null;try{if(!this['AutomateSystem']?.[_0x1bf12b(0x62e)][_0x1bf12b(0x55f)])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x1bf12b(0x4e8)]['verbose'](this[_0x1bf12b(0x370)]+'\x20('+this[_0x1bf12b(0x210)][_0x1bf12b(0x834)]+_0x1bf12b(0x3ee));let _0x381c8c=(await this[_0x1bf12b(0x645)]({'numbers':[_0xff1a0[_0x1bf12b(0x540)]]}))[0x0];if(!_0x381c8c['exists']&&!(0x0,g[_0x1bf12b(0x556)])(_0x381c8c[_0x1bf12b(0x619)])&&!_0x381c8c['jid'][_0x1bf12b(0x6c2)](_0x1bf12b(0x54e)))throw _0x435feb=JSON[_0x1bf12b(0x2b4)](_0x381c8c,null,0x2),new w(_0x381c8c);let _0x536f6f=await this[_0x1bf12b(0x43e)][_0x1bf12b(0x484)][_0x1bf12b(0x7fc)]({'where':{'name':_0xff1a0[_0x1bf12b(0x350)]}},this['instance'][_0x1bf12b(0x834)]);if(!_0x536f6f)return this[_0x1bf12b(0x4e8)][_0x1bf12b(0x629)](this[_0x1bf12b(0x370)]+'\x20('+this['instance'][_0x1bf12b(0x834)]+_0x1bf12b(0x238)),{'message':'Flow\x20não\x20encontrado'};let _0x2a78c9=await this[_0x1bf12b(0x73e)](_0x536f6f,_0x381c8c[_0x1bf12b(0x619)],_0xff1a0[_0x1bf12b(0x426)]);if(_0x2a78c9){this[_0x1bf12b(0x4e8)]['verbose'](this['instanceName']+'\x20('+this[_0x1bf12b(0x210)][_0x1bf12b(0x834)]+_0x1bf12b(0x736));let _0x31cbc1=await this[_0x1bf12b(0x464)](_0x2a78c9);return _0x31cbc1&&await this[_0x1bf12b(0x7c3)](_0x2a78c9,_0x31cbc1),{'message':_0x1bf12b(0x7cd)+_0xff1a0[_0x1bf12b(0x540)]};}}catch(_0x14564f){if(this['logger'][_0x1bf12b(0x629)](this['instanceName']+'\x20('+this[_0x1bf12b(0x210)][_0x1bf12b(0x834)]+_0x1bf12b(0x534)+(_0x14564f instanceof Error?_0x14564f[_0x1bf12b(0x3cd)]:JSON[_0x1bf12b(0x2b4)](_0x14564f,null,0x2))),_0x435feb=_0x14564f instanceof Error?_0x14564f[_0x1bf12b(0x3cd)]:JSON[_0x1bf12b(0x2b4)](_0x14564f,null,0x2),_0x435feb)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x435feb);}}async[a0_0x124f50(0x513)](_0x5e7446){const _0x34c2de=a0_0x124f50;try{let _0x5dbcaa={'remoteJid':_0x5e7446,'status':_0x34c2de(0x3f9)},_0x23df09={'status':_0x34c2de(0x68b)},_0x553493=await this['repository'][_0x34c2de(0x3d0)][_0x34c2de(0x491)](_0x5dbcaa,_0x23df09,this['instance'][_0x34c2de(0x834)]);return this[_0x34c2de(0x4e8)][_0x34c2de(0x64d)](this[_0x34c2de(0x370)]+'\x20('+this[_0x34c2de(0x210)][_0x34c2de(0x834)]+_0x34c2de(0x536)),_0x553493;}catch(_0x923247){throw this[_0x34c2de(0x4e8)]['error'](this[_0x34c2de(0x370)]+'\x20('+this[_0x34c2de(0x210)]['wuid']+_0x34c2de(0x82e)+_0x923247[_0x34c2de(0x3cd)]),_0x923247;}}async[a0_0x124f50(0x73e)](_0x35cb71,_0x26e799,_0xa907d4){const _0x25e4c9=a0_0x124f50;this[_0x25e4c9(0x4e8)][_0x25e4c9(0x64d)](this['instanceName']+'\x20('+this[_0x25e4c9(0x210)][_0x25e4c9(0x834)]+_0x25e4c9(0x618)),await this[_0x25e4c9(0x513)](_0x26e799);try{let _0x4a3981=require(_0x25e4c9(0x321))[_0x25e4c9(0x860)],_0x3ffd7f=Date[_0x25e4c9(0x269)](),_0x54f980='start',_0x193171={},_0x3c9ba4={},_0x3a688a={..._0x35cb71,'chatLog':null},_0x3975af=await this[_0x25e4c9(0x825)](_0x3a688a[_0x25e4c9(0x329)]),_0x5b6c78=await this[_0x25e4c9(0x28e)](_0x26e799),_0x345b34={..._0x3975af,..._0x5b6c78,'_remoteJid':_0x26e799},_0xffa08={'lastReceivedMessage':_0x193171,'lastSendMessage':_0x3c9ba4,'lastBlockId':_0x54f980,'lastCondition':!0x0,'realVariables':_0x345b34};_0x3a688a[_0x25e4c9(0x824)]=_0xffa08,_0x3a688a[_0x25e4c9(0x824)][_0x25e4c9(0x297)]={..._0x345b34,..._0xa907d4},delete _0x3a688a['_id'],_0x3a688a[_0x25e4c9(0x21c)]=new _0x4a3981(),_0x3a688a['lastInteraction']=_0x3ffd7f,_0x3a688a['status']=_0x25e4c9(0x3f9),_0x3a688a['remoteJid']=_0x26e799;let _0x21f9c9=await this[_0x25e4c9(0x43e)]['flowConversation']['updateOne'](_0x3a688a['_id'],_0x3a688a,this[_0x25e4c9(0x210)]['wuid']);return this[_0x25e4c9(0x4e8)][_0x25e4c9(0x64d)](this['instanceName']+'\x20('+this[_0x25e4c9(0x210)][_0x25e4c9(0x834)]+_0x25e4c9(0x730)),_0x21f9c9?_0x3a688a:null;}catch(_0x348181){throw this[_0x25e4c9(0x4e8)][_0x25e4c9(0x629)](this[_0x25e4c9(0x370)]+'\x20('+this[_0x25e4c9(0x210)][_0x25e4c9(0x834)]+_0x25e4c9(0x4c1)+(_0x348181 instanceof Error?_0x348181[_0x25e4c9(0x3cd)]:JSON[_0x25e4c9(0x2b4)](_0x348181,null,0x2))),new w(_0x348181[_0x25e4c9(0x3cd)]);}}async[a0_0x124f50(0x218)](_0x376f3f){const _0x52554e=a0_0x124f50;try{this[_0x52554e(0x4e8)][_0x52554e(0x64d)](this['instanceName']+'\x20('+this[_0x52554e(0x210)]['wuid']+_0x52554e(0x567)),this[_0x52554e(0x4e8)][_0x52554e(0x64d)](this[_0x52554e(0x370)]+'\x20('+this[_0x52554e(0x210)][_0x52554e(0x834)]+'):\x20Query\x20params:\x20'+_0x376f3f);let _0xdc5067={'where':{'_id':_0x376f3f}};return await this[_0x52554e(0x43e)][_0x52554e(0x3d0)][_0x52554e(0x7fc)](_0xdc5067,this['instance'][_0x52554e(0x834)]);}catch(_0x1c169e){throw this[_0x52554e(0x4e8)]['error'](this['instanceName']+'\x20('+this['instance'][_0x52554e(0x834)]+_0x52554e(0x666)+(_0x1c169e instanceof Error?_0x1c169e[_0x52554e(0x3cd)]:JSON['stringify'](_0x1c169e,null,0x2))),new w(_0x52554e(0x656)+_0x1c169e[_0x52554e(0x3cd)]);}}async['fetchConversation'](_0x57f1a5){const _0x4fb8d1=a0_0x124f50;try{return this[_0x4fb8d1(0x4e8)]['verbose'](this[_0x4fb8d1(0x370)]+'\x20('+this[_0x4fb8d1(0x210)][_0x4fb8d1(0x834)]+_0x4fb8d1(0x844)),await this[_0x4fb8d1(0x43e)][_0x4fb8d1(0x3d0)]['find'](_0x57f1a5,this[_0x4fb8d1(0x210)]['wuid']);}catch(_0x3bdf83){throw this[_0x4fb8d1(0x4e8)][_0x4fb8d1(0x629)](this[_0x4fb8d1(0x370)]+'\x20('+this[_0x4fb8d1(0x210)][_0x4fb8d1(0x834)]+_0x4fb8d1(0x303)+(_0x3bdf83 instanceof Error?_0x3bdf83[_0x4fb8d1(0x3cd)]:JSON[_0x4fb8d1(0x2b4)](_0x3bdf83,null,0x2))),new w(_0x4fb8d1(0x3c1)+_0x3bdf83[_0x4fb8d1(0x3cd)]);}}async['deleteConversation'](_0x5ba326){const _0x497db4=a0_0x124f50;try{return this[_0x497db4(0x4e8)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x497db4(0x2d6)),this['logger'][_0x497db4(0x64d)](this[_0x497db4(0x370)]+'\x20('+this['instance'][_0x497db4(0x834)]+_0x497db4(0x227)+_0x5ba326),(await this['repository'][_0x497db4(0x3d0)][_0x497db4(0x3ac)]({'where':{'_id':_0x5ba326}},this[_0x497db4(0x210)]['wuid']))[_0x497db4(0x86a)]===0x0?{'message':_0x497db4(0x7d7)}:{'message':_0x497db4(0x6ea)};}catch(_0x2a9397){throw this[_0x497db4(0x4e8)]['error'](this[_0x497db4(0x370)]+'\x20('+this[_0x497db4(0x210)][_0x497db4(0x834)]+_0x497db4(0x30c)+(_0x2a9397 instanceof Error?_0x2a9397[_0x497db4(0x3cd)]:JSON[_0x497db4(0x2b4)](_0x2a9397,null,0x2))),new w(_0x497db4(0x57a)+_0x2a9397[_0x497db4(0x3cd)]);}}async[a0_0x124f50(0x4f1)](_0x5480cc){const _0x248db8=a0_0x124f50;try{let {_id:_0x203090,chatLog:_0x1dd7da,status:_0x3ef901}=_0x5480cc;if(!_0x203090)return{'message':_0x248db8(0x6c7)};let _0x5c2aaa={};if(_0x3ef901!==void 0x0&&(_0x5c2aaa[_0x248db8(0x84c)]=_0x3ef901),Object['keys'](_0x5c2aaa)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x280609=await this[_0x248db8(0x43e)][_0x248db8(0x3d0)][_0x248db8(0x457)](_0x203090,_0x5c2aaa,this[_0x248db8(0x210)][_0x248db8(0x834)]);return _0x280609||{'message':_0x248db8(0x3db)};}catch(_0x2f8629){throw this[_0x248db8(0x4e8)]['error'](this[_0x248db8(0x370)]+'\x20('+this[_0x248db8(0x210)][_0x248db8(0x834)]+_0x248db8(0x6c9)+(_0x2f8629 instanceof Error?_0x2f8629[_0x248db8(0x3cd)]:JSON[_0x248db8(0x2b4)](_0x2f8629,null,0x2))),new w(_0x248db8(0x761)+_0x2f8629[_0x248db8(0x3cd)]);}}async[a0_0x124f50(0x7e5)](_0x3bbfc4){const _0x13e4cb=a0_0x124f50;let _0x3be355=await this['repository']['chat'][_0x13e4cb(0x7fc)]({'where':{'_id':_0x3bbfc4[_0x13e4cb(0x21c)]}},this[_0x13e4cb(0x210)][_0x13e4cb(0x834)]);if(!_0x3be355)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console['log'](_0x3bbfc4);try{_0x3bbfc4[_0x13e4cb(0x21c)]=this[_0x13e4cb(0x54a)](_0x3bbfc4['_id']);let {_id:_0x1bffad,leadInfo:_0x5e325d}=_0x3bbfc4;if(!_0x1bffad)throw new Error(_0x13e4cb(0x1ee));let _0x1c14a8=(_0x51b90f,_0xef56de,_0x55058b)=>{const _0x56d0eb=_0x13e4cb;_0x51b90f&&_0x55058b[_0x56d0eb(0x53a)](_0x43a176=>{const _0x81d06c=_0x56d0eb;_0x51b90f[_0x43a176]!==void 0x0&&(_0xef56de[_0x81d06c(0x691)+_0x43a176]=_0x51b90f[_0x43a176]);});},_0x1ded51={};if(_0x5e325d&&(_0x1c14a8(_0x5e325d,_0x1ded51,['nome',_0x13e4cb(0x832),_0x13e4cb(0x392),_0x13e4cb(0x754),_0x13e4cb(0x84c),_0x13e4cb(0x553),_0x13e4cb(0x6c6),_0x13e4cb(0x4cc),_0x13e4cb(0x209),_0x13e4cb(0x601)]),Array[_0x13e4cb(0x718)](_0x5e325d['customFields'])&&(_0x1ded51[_0x13e4cb(0x1de)]=_0x5e325d[_0x13e4cb(0x1d6)][_0x13e4cb(0x5c2)](_0x28c0c2=>({'_id':_0x28c0c2[_0x13e4cb(0x21c)],'value':_0x28c0c2[_0x13e4cb(0x23b)]}))),_0x3bbfc4[_0x13e4cb(0x79f)][_0x13e4cb(0x601)]!==void 0x0)){let _0x595a93=await this[_0x13e4cb(0x43e)]['label'][_0x13e4cb(0x81d)]({'where':{}},this[_0x13e4cb(0x210)]['wuid']),_0x2d4210=new Set(_0x3bbfc4[_0x13e4cb(0x79f)][_0x13e4cb(0x601)]||[]),_0x273d2e=new Set(_0x3bbfc4[_0x13e4cb(0x79f)]['etiquetas']),_0x3b3be3=new Set(_0x595a93[_0x13e4cb(0x5c2)](_0xaa4302=>_0xaa4302['_id'])),_0x5efda1=[..._0x273d2e][_0x13e4cb(0x5c0)](_0x3a7bf6=>!_0x2d4210[_0x13e4cb(0x525)](_0x3a7bf6)&&_0x3b3be3[_0x13e4cb(0x525)](_0x3a7bf6)),_0x5418d8=[..._0x2d4210][_0x13e4cb(0x5c0)](_0x532ac0=>!_0x273d2e[_0x13e4cb(0x525)](_0x532ac0));if(_0x1ded51[_0x13e4cb(0x5d1)]=[..._0x2d4210],_0x3be355&&!_0x3be355[_0x13e4cb(0x507)]){for(let _0x17b48c of _0x5efda1)await this[_0x13e4cb(0x33e)](_0x17b48c,_0x3bbfc4[_0x13e4cb(0x21c)]),_0x2d4210[_0x13e4cb(0x788)](_0x17b48c);for(let _0x15f048 of _0x5418d8)await this[_0x13e4cb(0x560)](_0x15f048,_0x3bbfc4['_id']),_0x2d4210['delete'](_0x15f048);}}if(_0x3bbfc4[_0x13e4cb(0x1f2)]!==void 0x0&&(_0x1ded51[_0x13e4cb(0x1f2)]=Number(_0x3bbfc4['unreadcount'])),Object['keys'](_0x1ded51)[_0x13e4cb(0x230)]===0x0)throw new Error(_0x13e4cb(0x1fd));let _0x4fe991=await this[_0x13e4cb(0x43e)][_0x13e4cb(0x34f)][_0x13e4cb(0x457)]({'where':{'_id':_0x3bbfc4[_0x13e4cb(0x21c)]}},_0x1ded51,this[_0x13e4cb(0x210)][_0x13e4cb(0x834)]);return _0x4fe991&&q(this[_0x13e4cb(0x370)],_0x13e4cb(0x29e),{'chat':_0x4fe991}),_0x4fe991?(this['logger'][_0x13e4cb(0x64d)](this[_0x13e4cb(0x370)]+'\x20('+this[_0x13e4cb(0x210)][_0x13e4cb(0x834)]+_0x13e4cb(0x839)+JSON[_0x13e4cb(0x2b4)](_0x4fe991,null,0x2)),_0x4fe991):{'message':_0x13e4cb(0x626)};}catch(_0x1277d9){throw this[_0x13e4cb(0x4e8)][_0x13e4cb(0x629)](this[_0x13e4cb(0x370)]+'\x20('+this[_0x13e4cb(0x210)][_0x13e4cb(0x834)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x1277d9 instanceof Error?_0x1277d9['message']:JSON[_0x13e4cb(0x2b4)](_0x1277d9,null,0x2))),new w(_0x13e4cb(0x312)+_0x1277d9[_0x13e4cb(0x3cd)]);}}async[a0_0x124f50(0x33e)](_0x4da48f,_0x537fbf){const _0xeefde0=a0_0x124f50;try{await this['client'][_0xeefde0(0x38e)](_0x537fbf,_0x4da48f),console['log'](_0xeefde0(0x43c)+_0x4da48f+'\x20adicionado\x20ao\x20chat\x20'+_0x537fbf+'\x20com\x20sucesso.');}catch(_0xbc6fcb){console[_0xeefde0(0x629)](_0xeefde0(0x456)+_0x4da48f+_0xeefde0(0x7d1)+_0x537fbf+':',_0xbc6fcb);}}async[a0_0x124f50(0x560)](_0x406c9c,_0x1cfc6c){const _0x552429=a0_0x124f50;try{await this['client'][_0x552429(0x228)](_0x1cfc6c,_0x406c9c),console['log'](_0x552429(0x43c)+_0x406c9c+_0x552429(0x5e9)+_0x1cfc6c+_0x552429(0x44a));}catch(_0x525615){console[_0x552429(0x629)](_0x552429(0x6b7)+_0x406c9c+_0x552429(0x287)+_0x1cfc6c+':',_0x525615);}}async[a0_0x124f50(0x421)](_0x3b3844){const _0x16b815=a0_0x124f50;try{let _0x22cba9=await this['repository'][_0x16b815(0x70c)]['findOrCreate'](this[_0x16b815(0x210)][_0x16b815(0x834)]),_0x41be77=_0x3b3844[_0x16b815(0x21c)]?_0x22cba9['agents']['findIndex'](_0x12d01e=>_0x12d01e[_0x16b815(0x21c)]===_0x3b3844[_0x16b815(0x21c)]):-0x1;if(_0x3b3844[_0x16b815(0x3bb)]&&_0x41be77>-0x1)_0x22cba9[_0x16b815(0x39b)]['splice'](_0x41be77,0x1);else{if(_0x41be77>-0x1){let _0x2cb814=_0x22cba9['agents'][_0x41be77];_0x3b3844[_0x16b815(0x3c8)]&&(_0x2cb814[_0x16b815(0x3c8)]=_0x3b3844[_0x16b815(0x3c8)]),_0x3b3844['name']&&(_0x2cb814[_0x16b815(0x350)]=_0x3b3844[_0x16b815(0x350)]),_0x3b3844['email']&&(_0x2cb814[_0x16b815(0x392)]=_0x3b3844['email']),_0x3b3844[_0x16b815(0x6b1)]&&(_0x2cb814['role']=_0x3b3844[_0x16b815(0x6b1)]);}else _0x22cba9[_0x16b815(0x39b)][_0x16b815(0x1e7)]({'_id':_0x3b3844['_id']||new ce[(_0x16b815(0x223))]['Types'][(_0x16b815(0x860))]()[_0x16b815(0x782)](),'fone':_0x3b3844[_0x16b815(0x3c8)],'name':_0x3b3844['name'],'email':_0x3b3844[_0x16b815(0x392)],'role':_0x3b3844[_0x16b815(0x6b1)]});}let _0x4a71bb={'agents':_0x22cba9[_0x16b815(0x39b)]},_0x5b8fa1=await this['repository']['automateSystem'][_0x16b815(0x31a)](_0x4a71bb,this['instance']['wuid']);return this['AutomateSystem']=_0x5b8fa1,this[_0x16b815(0x4e8)][_0x16b815(0x64d)](this[_0x16b815(0x370)]+'\x20('+this[_0x16b815(0x210)][_0x16b815(0x834)]+_0x16b815(0x470)),this[_0x16b815(0x4e8)][_0x16b815(0x64d)](this['instanceName']+'\x20('+this['instance'][_0x16b815(0x834)]+_0x16b815(0x839)+this[_0x16b815(0x669)]),_0x5b8fa1;}catch(_0x184fd5){throw this[_0x16b815(0x4e8)][_0x16b815(0x629)](this[_0x16b815(0x370)]+'\x20('+this[_0x16b815(0x210)][_0x16b815(0x834)]+_0x16b815(0x785)+(_0x184fd5 instanceof Error?_0x184fd5[_0x16b815(0x3cd)]:JSON[_0x16b815(0x2b4)](_0x184fd5,null,0x2))),new w(_0x16b815(0x471)+_0x184fd5[_0x16b815(0x3cd)]);}}async[a0_0x124f50(0x78a)](_0x2b57c7){const _0x1a7485=a0_0x124f50;try{let _0x837bdc=await this['repository'][_0x1a7485(0x70c)]['findOrCreate'](this['instance']['wuid']),_0x4bbd47=_0x2b57c7[_0x1a7485(0x21c)]?_0x837bdc['customFields'][_0x1a7485(0x419)](_0x250df2=>_0x250df2[_0x1a7485(0x21c)]===_0x2b57c7[_0x1a7485(0x21c)]):-0x1,_0x9e7e66=!0x1,_0x2229c3=_0x837bdc[_0x1a7485(0x1d6)][_0x1a7485(0x401)](_0x14da88=>_0x14da88[_0x1a7485(0x357)]===_0x2b57c7[_0x1a7485(0x357)]);if(_0x2b57c7['delete']&&_0x4bbd47>-0x1)_0x837bdc['customFields'][_0x1a7485(0x68c)](_0x4bbd47,0x1),_0x9e7e66=!0x0;else{if(_0x4bbd47>-0x1){if(_0x837bdc['customFields'][_0x1a7485(0x401)](_0x5978dd=>_0x5978dd[_0x1a7485(0x350)]===_0x2b57c7[_0x1a7485(0x350)]&&_0x5978dd[_0x1a7485(0x21c)]!==_0x2b57c7[_0x1a7485(0x21c)]))throw new Error(_0x1a7485(0x2c8));let _0x569bab=_0x837bdc[_0x1a7485(0x1d6)][_0x4bbd47];_0x2b57c7[_0x1a7485(0x357)]&&(_0x2229c3||!Number['isInteger'](_0x2b57c7[_0x1a7485(0x357)]))&&(_0x569bab['order']=_0x2b57c7[_0x1a7485(0x357)],_0x9e7e66=!0x0),_0x2b57c7[_0x1a7485(0x350)]&&(_0x569bab[_0x1a7485(0x350)]=_0x2b57c7['name']);}else{if(_0x837bdc[_0x1a7485(0x1d6)]['some'](_0xfd07b5=>_0xfd07b5[_0x1a7485(0x350)]===_0x2b57c7[_0x1a7485(0x350)]&&_0xfd07b5[_0x1a7485(0x21c)]!==_0x2b57c7[_0x1a7485(0x21c)]))throw new Error(_0x1a7485(0x2c8));_0x837bdc['customFields'][_0x1a7485(0x1e7)]({'_id':_0x2b57c7['_id']||new ce[(_0x1a7485(0x223))][(_0x1a7485(0x256))][(_0x1a7485(0x860))]()[_0x1a7485(0x782)](),'order':_0x2b57c7[_0x1a7485(0x357)],'name':_0x2b57c7['name']}),_0x9e7e66=!0x0;}}if(_0x9e7e66){_0x837bdc[_0x1a7485(0x1d6)][_0x1a7485(0x38c)]((_0x4f9e2d,_0x28fd0b)=>_0x4f9e2d[_0x1a7485(0x357)]>_0x28fd0b[_0x1a7485(0x357)]?0x1:_0x28fd0b['order']>_0x4f9e2d[_0x1a7485(0x357)]?-0x1:0x0);for(let _0x15318d=0x0;_0x15318d<_0x837bdc[_0x1a7485(0x1d6)][_0x1a7485(0x230)];_0x15318d++)_0x837bdc[_0x1a7485(0x1d6)][_0x15318d]['order']=_0x15318d+0x1;}let _0x528200=await this['repository'][_0x1a7485(0x70c)][_0x1a7485(0x31a)](_0x837bdc,this[_0x1a7485(0x210)]['wuid']);return this[_0x1a7485(0x669)]=_0x528200,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1a7485(0x210)][_0x1a7485(0x834)]+_0x1a7485(0x3fc)),this[_0x1a7485(0x4e8)]['verbose'](this[_0x1a7485(0x370)]+'\x20('+this[_0x1a7485(0x210)][_0x1a7485(0x834)]+_0x1a7485(0x839)+this[_0x1a7485(0x669)]),_0x528200;}catch(_0x4a53fa){throw this['logger'][_0x1a7485(0x629)](this['instanceName']+'\x20('+this['instance'][_0x1a7485(0x834)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x4a53fa instanceof Error?_0x4a53fa[_0x1a7485(0x3cd)]:JSON[_0x1a7485(0x2b4)](_0x4a53fa,null,0x2))),new w(_0x1a7485(0x5ba)+_0x4a53fa[_0x1a7485(0x3cd)]);}}async['updateFlowConfig'](_0x575e4d){const _0x3069a0=a0_0x124f50;try{let _0x240181=await this[_0x3069a0(0x43e)]['automateSystem'][_0x3069a0(0x791)](this['instance'][_0x3069a0(0x834)]);if(!_0x240181)throw new Error(_0x3069a0(0x1db));let _0x59d01c={'_id':_0x240181[_0x3069a0(0x21c)],'flowConfig':{'enabled':_0x575e4d['enabled']??_0x240181[_0x3069a0(0x62e)]['enabled'],'ignoreGroups':_0x575e4d[_0x3069a0(0x6f9)]??_0x240181[_0x3069a0(0x62e)][_0x3069a0(0x6f9)],'prefixCommand':_0x575e4d[_0x3069a0(0x28b)]??_0x240181['flowConfig'][_0x3069a0(0x28b)],'stopConversation':_0x575e4d[_0x3069a0(0x4f7)]??_0x240181[_0x3069a0(0x62e)]['stopConversation'],'stopMinutes':_0x575e4d[_0x3069a0(0x239)]??_0x240181[_0x3069a0(0x62e)][_0x3069a0(0x239)],'stopWhenYouSendMsg':_0x575e4d[_0x3069a0(0x65a)]??_0x240181['flowConfig']['stopWhenYouSendMsg']}},_0x11a73a=await this[_0x3069a0(0x43e)][_0x3069a0(0x70c)]['update'](_0x59d01c,this['instance'][_0x3069a0(0x834)]);return this[_0x3069a0(0x669)]=_0x11a73a,this['logger']['verbose'](this[_0x3069a0(0x370)]+'\x20('+this[_0x3069a0(0x210)][_0x3069a0(0x834)]+_0x3069a0(0x470)),this[_0x3069a0(0x4e8)][_0x3069a0(0x64d)](this['instanceName']+'\x20('+this['instance'][_0x3069a0(0x834)]+'):\x20'+this[_0x3069a0(0x669)]),setTimeout(()=>this[_0x3069a0(0x6f5)](),0x7d0),_0x11a73a;}catch(_0x40bb64){throw this['logger'][_0x3069a0(0x629)](this[_0x3069a0(0x370)]+'\x20('+this[_0x3069a0(0x210)][_0x3069a0(0x834)]+_0x3069a0(0x773)+(_0x40bb64 instanceof Error?_0x40bb64[_0x3069a0(0x3cd)]:JSON['stringify'](_0x40bb64,null,0x2))),new w(_0x3069a0(0x6ad)+_0x40bb64[_0x3069a0(0x3cd)]);}}async[a0_0x124f50(0x3c4)](){const _0x501813=a0_0x124f50;try{let _0x280877=await this['repository'][_0x501813(0x70c)][_0x501813(0x791)](this[_0x501813(0x210)][_0x501813(0x834)]);return this[_0x501813(0x669)]=_0x280877,this[_0x501813(0x4e8)][_0x501813(0x64d)](this[_0x501813(0x370)]+'\x20('+this[_0x501813(0x210)][_0x501813(0x834)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x501813(0x4e8)][_0x501813(0x64d)](this[_0x501813(0x669)]),_0x280877;}catch(_0x29fa83){throw this[_0x501813(0x4e8)][_0x501813(0x629)](this['instanceName']+'\x20('+this['instance'][_0x501813(0x834)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x29fa83 instanceof Error?_0x29fa83[_0x501813(0x3cd)]:JSON[_0x501813(0x2b4)](_0x29fa83,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x29fa83[_0x501813(0x3cd)]);}}async[a0_0x124f50(0x1f3)](){const _0x29f4e4=a0_0x124f50;this['timerId']&&clearTimeout(this['timerId']),this[_0x29f4e4(0x236)]=setTimeout(()=>{const _0x4a19b0=_0x29f4e4;this[_0x4a19b0(0x213)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x124f50(0x213)](){const _0x16a597=a0_0x124f50;Date['now']()-this['lastSend']>=0x1d4c0&&(this[_0x16a597(0x4e8)][_0x16a597(0x64d)](this[_0x16a597(0x370)]+'\x20('+this[_0x16a597(0x210)][_0x16a597(0x834)]+_0x16a597(0x648)),this[_0x16a597(0x2d7)]=null,this[_0x16a597(0x328)]=0x0,this[_0x16a597(0x201)]=0x0,await this[_0x16a597(0x6f5)]());}async[a0_0x124f50(0x6f5)](){const _0x161759=a0_0x124f50;let _0x22e78c=()=>{const _0x53380b=a0_0x1d88;this[_0x53380b(0x4e8)]['verbose'](this[_0x53380b(0x370)]+'\x20('+this['instance'][_0x53380b(0x834)]+_0x53380b(0x845)+this[_0x53380b(0x2d7)]+'\x20saindo\x20da\x20função');},_0x157273=async()=>{const _0x43c365=a0_0x1d88;this[_0x43c365(0x4e8)][_0x43c365(0x64d)](this[_0x43c365(0x370)]+'\x20('+this[_0x43c365(0x210)][_0x43c365(0x834)]+_0x43c365(0x1f8));let _0x3a745b=Date[_0x43c365(0x269)]()-0xc*0x3c*0x3c*0x3e8,_0x32c163={'where':{'status':{'$in':[_0x43c365(0x4ac),_0x43c365(0x503)]},'$or':[{'when':{'$lte':Date[_0x43c365(0x269)](),'$gte':_0x3a745b}},{'when':0x0}]}};return await this[_0x43c365(0x43e)][_0x43c365(0x68d)][_0x43c365(0x81d)](_0x32c163,this[_0x43c365(0x210)][_0x43c365(0x834)]);},_0x59b270=async _0x489183=>{const _0x230b50=a0_0x1d88;for(let _0x3e921e of _0x489183){let _0x258690={'_id':_0x3e921e['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x230b50(0x269)]()-0x1770}}]},_0x4d3953={'startSend':Date[_0x230b50(0x269)]()};if(!await this[_0x230b50(0x43e)][_0x230b50(0x68d)]['updateOne'](_0x258690,_0x4d3953,this['instance'][_0x230b50(0x834)]))return;if(!this[_0x230b50(0x381)]){this['logger'][_0x230b50(0x64d)](this['instanceName']+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x3e921e[_0x230b50(0x76c)]===_0x230b50(0x484)&&!this[_0x230b50(0x669)]?.[_0x230b50(0x62e)]['enabled']){this[_0x230b50(0x4e8)]['error'](this['instanceName']+'\x20('+this[_0x230b50(0x210)]['wuid']+_0x230b50(0x27a));continue;}(!_0x3e921e[_0x230b50(0x74d)]||_0x3e921e[_0x230b50(0x74d)][_0x230b50(0x230)]===0x0)&&(_0x3e921e=await this[_0x230b50(0x43e)][_0x230b50(0x68d)][_0x230b50(0x704)](_0x3e921e[_0x230b50(0x21c)],{'status':_0x230b50(0x503),'remoteJidsRemaining':[..._0x3e921e[_0x230b50(0x5c1)]]},this['instance'][_0x230b50(0x834)]));for(let _0x18f59e of _0x3e921e[_0x230b50(0x74d)]){if(await this[_0x230b50(0x1f3)](),this[_0x230b50(0x328)]=Date['now'](),this[_0x230b50(0x35f)]===_0x18f59e){this[_0x230b50(0x4e8)]['error'](this[_0x230b50(0x370)]+'\x20('+this['instance'][_0x230b50(0x834)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x18f59e+_0x230b50(0x214));let _0x139b01={'$push':{'messagesSend':{'remoteJid':_0x18f59e,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x230b50(0x269)]()}},'$pull':{'remoteJidsRemaining':_0x18f59e}};await this[_0x230b50(0x43e)]['scheduleMessage'][_0x230b50(0x704)](_0x3e921e['_id'],_0x139b01,this[_0x230b50(0x210)]['wuid']);continue;}if(this[_0x230b50(0x35f)]=_0x18f59e,_0x3e921e[_0x230b50(0x625)][_0x230b50(0x401)](_0x9686fe=>_0x9686fe[_0x230b50(0x540)]===_0x18f59e)){this['logger']['verbose'](this[_0x230b50(0x370)]+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+_0x230b50(0x368)+_0x18f59e+'.\x20Pulando.');continue;}if(!this[_0x230b50(0x381)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+_0x230b50(0x2e5));break;}if(!this[_0x230b50(0x2d7)]){this[_0x230b50(0x4e8)][_0x230b50(0x64d)](this[_0x230b50(0x370)]+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+_0x230b50(0x4dd)+_0x3e921e[_0x230b50(0x21c)]+_0x230b50(0x550));break;}if(_0x3e921e[_0x230b50(0x76c)]===_0x230b50(0x484)&&!this[_0x230b50(0x669)]?.[_0x230b50(0x62e)]['enabled']){this[_0x230b50(0x4e8)][_0x230b50(0x629)](this[_0x230b50(0x370)]+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+_0x230b50(0x27a));break;}let _0x190042={'remoteJid':_0x18f59e,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x230b50(0x269)]()},_0x326d8e=null;try{let _0x4c52bc=await this[_0x230b50(0x6e2)](_0x18f59e,_0x3e921e);_0x190042[_0x230b50(0x629)]=_0x4c52bc['error'],_0x190042['id']=_0x4c52bc[_0x230b50(0x629)]?null:_0x4c52bc['id'],_0x190042['error_log']=_0x4c52bc[_0x230b50(0x629)]?_0x4c52bc[_0x230b50(0x759)]?_0x4c52bc['detail'][_0x230b50(0x782)]():'':null;let _0x4ea361={'$push':{'messagesSend':_0x190042},'$pull':{'remoteJidsRemaining':_0x18f59e}},_0x4c498d=_0x3e921e[_0x230b50(0x21c)];if(_0x326d8e=await this['repository']['scheduleMessage'][_0x230b50(0x704)](_0x4c498d,_0x4ea361,this['instance']['wuid']),_0x4c52bc[_0x230b50(0x629)])continue;let _0x2b524f=this[_0x230b50(0x373)](_0x3e921e[_0x230b50(0x374)],_0x3e921e[_0x230b50(0x46a)]);await this[_0x230b50(0x2f0)](_0x2b524f);}catch(_0x467297){this[_0x230b50(0x4e8)][_0x230b50(0x629)](this[_0x230b50(0x370)]+'\x20('+this['instance'][_0x230b50(0x834)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x18f59e+':\x20'+(_0x467297 instanceof Error?_0x467297['message']:JSON['stringify'](_0x467297,null,0x2))),_0x190042[_0x230b50(0x629)]=!0x0,_0x190042[_0x230b50(0x6c5)]=_0x467297[_0x230b50(0x3cd)];let _0x1d3c4b={'$push':{'messagesSend':_0x190042},'$pull':{'remoteJidsRemaining':_0x18f59e}},_0x1e9125=_0x3e921e['_id'];_0x326d8e=await this[_0x230b50(0x43e)]['scheduleMessage'][_0x230b50(0x704)](_0x1e9125,_0x1d3c4b,this[_0x230b50(0x210)][_0x230b50(0x834)]);}finally{if(_0x326d8e&&_0x326d8e[_0x230b50(0x84c)]===_0x230b50(0x6e3)){this[_0x230b50(0x4e8)][_0x230b50(0x64d)](this[_0x230b50(0x370)]+'\x20('+this[_0x230b50(0x210)][_0x230b50(0x834)]+_0x230b50(0x4dd)+_0x3e921e[_0x230b50(0x21c)]+_0x230b50(0x719));break;}}}let _0x226488=await this['repository']['scheduleMessage'][_0x230b50(0x85c)](_0x3e921e[_0x230b50(0x21c)],this['instance'][_0x230b50(0x834)]);if(_0x226488[_0x230b50(0x74d)][_0x230b50(0x230)]===0x0&&_0x226488[_0x230b50(0x84c)]!==_0x230b50(0x6e3)){let _0x9518eb={'$set':{'status':_0x230b50(0x335)}},_0x1d3a7c=_0x226488[_0x230b50(0x21c)];await this[_0x230b50(0x43e)][_0x230b50(0x68d)][_0x230b50(0x704)](_0x1d3a7c,_0x9518eb,this[_0x230b50(0x210)][_0x230b50(0x834)]);}await new Promise(_0x30b323=>setTimeout(_0x30b323,0x1388));}},_0x537520=async()=>{const _0x13454d=a0_0x1d88;let _0x4d7dd9={'where':{'status':'scheduled','when':{'$gt':Date[_0x13454d(0x269)]()}}},_0x459b78=await this[_0x13454d(0x43e)]['scheduleMessage'][_0x13454d(0x7fc)](_0x4d7dd9,this[_0x13454d(0x210)]['wuid']);_0x459b78&&_0x459b78[_0x13454d(0x818)]-Date[_0x13454d(0x269)]()<=0x5265c00?this['delayMessage']=_0x459b78['when']-Date[_0x13454d(0x269)]():this[_0x13454d(0x201)]=(0x3c+Math[_0x13454d(0x59c)](Math[_0x13454d(0x3fe)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x13454d(0x32f)](this['delayMessage'],0x7d0);let _0x4874cd=Math['round'](this[_0x13454d(0x201)]/0xea60);if(_0x459b78){let _0xae9406=new Date(_0x459b78['when'])[_0x13454d(0x53f)]();this['logger'][_0x13454d(0x64d)](this[_0x13454d(0x370)]+'\x20('+this[_0x13454d(0x210)][_0x13454d(0x834)]+_0x13454d(0x6cd)+_0xae9406+_0x13454d(0x741)+_0x4874cd+_0x13454d(0x7a3));}else this[_0x13454d(0x4e8)][_0x13454d(0x64d)](this[_0x13454d(0x370)]+'\x20('+this[_0x13454d(0x210)][_0x13454d(0x834)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x4874cd+_0x13454d(0x7a3));setTimeout(()=>this[_0x13454d(0x6f5)](),this[_0x13454d(0x201)]);};if(this['processingScheduleMessageId']){await this['setRestartTimer'](),_0x22e78c();return;}if(!this[_0x161759(0x381)]){this[_0x161759(0x4e8)]['verbose'](this[_0x161759(0x370)]+'\x20('+this[_0x161759(0x210)][_0x161759(0x834)]+_0x161759(0x811)),this[_0x161759(0x2d7)]=null,this['lastSend']=0x0,this['delayMessage']=0x0;return;}try{let _0x186ea2=await _0x157273();_0x186ea2[_0x161759(0x230)]===0x0?this[_0x161759(0x4e8)][_0x161759(0x64d)](this[_0x161759(0x370)]+'\x20('+this[_0x161759(0x210)]['wuid']+_0x161759(0x463)):(this[_0x161759(0x2d7)]=_0x186ea2[0x0][_0x161759(0x21c)],await _0x59b270(_0x186ea2)),await _0x537520(),this[_0x161759(0x2d7)]=null;}catch(_0x5beed4){this[_0x161759(0x4e8)][_0x161759(0x629)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x5beed4 instanceof Error?_0x5beed4[_0x161759(0x3cd)]:JSON['stringify'](_0x5beed4,null,0x2)));}}[a0_0x124f50(0x373)](_0x768942,_0x5c3303){const _0x24b7d1=a0_0x124f50;return _0x768942=Math[_0x24b7d1(0x32f)](0.5,_0x768942),_0x5c3303=Math[_0x24b7d1(0x427)](Math['max'](0x3,_0x5c3303),0x78),Math[_0x24b7d1(0x59c)](Math[_0x24b7d1(0x3fe)]()*(_0x5c3303-_0x768942+0x1)+_0x768942)*0x3e8;}['sleep'](_0x121d07){return new Promise(_0x1c6bd9=>setTimeout(_0x1c6bd9,_0x121d07));}async[a0_0x124f50(0x28e)](_0x25a258){const _0x14c2bf=a0_0x124f50;if(!this['AutomateSystem']&&(await this[_0x14c2bf(0x3c4)](),!this['AutomateSystem']))return null;_0x25a258=this['createJid'](_0x25a258);let _0x3cb2c9=await this[_0x14c2bf(0x43e)][_0x14c2bf(0x34f)]['findOne']({'where':{'_id':_0x25a258}},this['instance'][_0x14c2bf(0x834)]),_0x2f3a4d={};if(_0x3cb2c9&&_0x3cb2c9[_0x14c2bf(0x79f)]){let _0x69fff0=_0x3cb2c9[_0x14c2bf(0x79f)];typeof _0x69fff0[_0x14c2bf(0x355)]==_0x14c2bf(0x541)&&(_0x2f3a4d['nome']=_0x69fff0[_0x14c2bf(0x355)]),typeof _0x69fff0[_0x14c2bf(0x832)]==_0x14c2bf(0x541)&&(_0x2f3a4d[_0x14c2bf(0x832)]=_0x69fff0[_0x14c2bf(0x832)]),typeof _0x69fff0['email']==_0x14c2bf(0x541)&&(_0x2f3a4d[_0x14c2bf(0x392)]=_0x69fff0[_0x14c2bf(0x392)]),typeof _0x69fff0['cpf']==_0x14c2bf(0x541)&&(_0x2f3a4d[_0x14c2bf(0x754)]=_0x69fff0['cpf']),typeof _0x69fff0[_0x14c2bf(0x84c)]==_0x14c2bf(0x541)&&(_0x2f3a4d[_0x14c2bf(0x84c)]=_0x69fff0[_0x14c2bf(0x84c)]),typeof _0x69fff0[_0x14c2bf(0x553)]==_0x14c2bf(0x541)&&(_0x2f3a4d[_0x14c2bf(0x553)]=_0x69fff0['notas']),typeof _0x69fff0[_0x14c2bf(0x209)]==_0x14c2bf(0x541)&&(_0x2f3a4d['responsavelid']=_0x69fff0[_0x14c2bf(0x209)]),Array['isArray'](_0x69fff0[_0x14c2bf(0x6c6)])&&(_0x2f3a4d[_0x14c2bf(0x6c6)]=_0x69fff0['tags'][_0x14c2bf(0x21f)](',\x20')),Array[_0x14c2bf(0x718)](_0x69fff0[_0x14c2bf(0x601)])&&(_0x2f3a4d['etiquetas']=_0x69fff0[_0x14c2bf(0x601)][_0x14c2bf(0x21f)](',\x20'));}return _0x3cb2c9&&_0x3cb2c9[_0x14c2bf(0x79f)]&&_0x3cb2c9[_0x14c2bf(0x79f)]['customFields']&&_0x3cb2c9[_0x14c2bf(0x79f)]['customFields']['forEach'](_0x5a1c05=>{const _0x17d675=_0x14c2bf;let _0x230807=this['AutomateSystem']?.[_0x17d675(0x1d6)][_0x17d675(0x81d)](_0x370b24=>_0x370b24[_0x17d675(0x21c)]===_0x5a1c05[_0x17d675(0x21c)]);_0x230807&&(_0x2f3a4d[_0x230807[_0x17d675(0x350)]]=_0x5a1c05[_0x17d675(0x23b)]);}),_0x2f3a4d;}async['replaceVariablesChat'](_0x36c33c,_0x1519ed){const _0x313b73=a0_0x124f50;let _0x1018e0=await this[_0x313b73(0x28e)](_0x1519ed);return this[_0x313b73(0x53b)](_0x36c33c,_0x1018e0);}async[a0_0x124f50(0x2a7)](_0x1bb33f){const _0xb5150a=a0_0x124f50;try{if(this[_0xb5150a(0x4e8)][_0xb5150a(0x64d)](this[_0xb5150a(0x370)]+'\x20('+this[_0xb5150a(0x210)][_0xb5150a(0x834)]+'):\x20Edit\x20schedule\x20message...'),_0x1bb33f['delete']&&_0x1bb33f['_id']){if(this[_0xb5150a(0x2d7)]===_0x1bb33f['_id'][_0xb5150a(0x782)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0xd318b7=await this[_0xb5150a(0x43e)][_0xb5150a(0x68d)][_0xb5150a(0x3ac)](_0x1bb33f[_0xb5150a(0x21c)],this[_0xb5150a(0x210)][_0xb5150a(0x834)]);return setTimeout(()=>this[_0xb5150a(0x6f5)](),0x7d0),_0xd318b7;}let _0x106c8c;if(_0x1bb33f[_0xb5150a(0x21c)]&&(_0x106c8c=await this[_0xb5150a(0x43e)][_0xb5150a(0x68d)]['findById'](_0x1bb33f['_id'],this[_0xb5150a(0x210)][_0xb5150a(0x834)])),_0x106c8c){let _0x3675bb;if(this[_0xb5150a(0x2d7)]===_0x106c8c[_0xb5150a(0x21c)][_0xb5150a(0x782)]())_0x3675bb={'$set':{'status':_0x1bb33f[_0xb5150a(0x84c)]}};else{let {_id:_0x288892,..._0x14004f}=_0x1bb33f;_0x3675bb={'$set':_0x14004f};}let _0x580cc6=await this['repository'][_0xb5150a(0x68d)][_0xb5150a(0x704)](_0x1bb33f['_id'],_0x3675bb,this['instance'][_0xb5150a(0x834)]);return setTimeout(()=>this[_0xb5150a(0x6f5)](),0x7d0),_0x580cc6;}else{_0x1bb33f[_0xb5150a(0x652)]=this['instance'][_0xb5150a(0x834)];let _0x2af219=await this[_0xb5150a(0x43e)][_0xb5150a(0x68d)][_0xb5150a(0x4e5)](_0x1bb33f,this['instance'][_0xb5150a(0x834)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2af219;}}catch(_0x47449b){throw this[_0xb5150a(0x4e8)][_0xb5150a(0x629)](this['instanceName']+'\x20('+this[_0xb5150a(0x210)]['wuid']+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x47449b instanceof Error?_0x47449b['message']:JSON['stringify'](_0x47449b,null,0x2))),new w('Erro:'+_0x47449b[_0xb5150a(0x3cd)]);}}async[a0_0x124f50(0x689)](){const _0x25c466=a0_0x124f50;try{return await this[_0x25c466(0x43e)][_0x25c466(0x68d)]['find']({'where':{}},this[_0x25c466(0x210)][_0x25c466(0x834)]);}catch(_0x486041){throw this[_0x25c466(0x4e8)]['error'](this[_0x25c466(0x370)]+'\x20('+this[_0x25c466(0x210)]['wuid']+_0x25c466(0x26f)+(_0x486041 instanceof Error?_0x486041['message']:JSON[_0x25c466(0x2b4)](_0x486041,null,0x2))),new w(_0x25c466(0x5a0)+_0x486041[_0x25c466(0x3cd)]);}}async['deleteDoneMessages'](){const _0xb92be7=a0_0x124f50;try{let _0x4d26bb={'status':_0xb92be7(0x335)},_0x4ab6ec=await this[_0xb92be7(0x43e)][_0xb92be7(0x68d)][_0xb92be7(0x79c)](_0x4d26bb,this['instance']['wuid']);if(!_0x4ab6ec[_0xb92be7(0x629)])this[_0xb92be7(0x4e8)][_0xb92be7(0x64d)](this['instanceName']+'\x20('+this[_0xb92be7(0x210)][_0xb92be7(0x834)]+_0xb92be7(0x53c));else throw new Error(_0x4ab6ec['error'][_0xb92be7(0x3cd)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0xb92be7(0x689)]();}catch(_0xd14ded){throw this['logger'][_0xb92be7(0x629)](this['instanceName']+'\x20('+this[_0xb92be7(0x210)][_0xb92be7(0x834)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0xd14ded instanceof Error?_0xd14ded['message']:JSON[_0xb92be7(0x2b4)](_0xd14ded,null,0x2))),new w(_0xb92be7(0x5a0)+_0xd14ded[_0xb92be7(0x3cd)]);}}async[a0_0x124f50(0x6e2)](_0x501f8b,_0x8d30bc){const _0x49204f=a0_0x124f50;try{if(_0x8d30bc[_0x49204f(0x76c)]===_0x49204f(0x484)&&!this[_0x49204f(0x669)]?.[_0x49204f(0x62e)][_0x49204f(0x55f)])return this['logger'][_0x49204f(0x629)](this[_0x49204f(0x370)]+'\x20('+this[_0x49204f(0x210)][_0x49204f(0x834)]+_0x49204f(0x80a)),{'error':!0x0,'detail':_0x49204f(0x2be)};switch(_0x8d30bc[_0x49204f(0x76c)]){case'text':return await this['scheduleSendText'](_0x8d30bc,_0x501f8b);case _0x49204f(0x84d):return await this[_0x49204f(0x57c)](_0x8d30bc,_0x501f8b);case _0x49204f(0x2f8):return await this[_0x49204f(0x51f)](_0x8d30bc,_0x501f8b);case'flow':let _0x28413c=new _e();return _0x28413c[_0x49204f(0x350)]=_0x8d30bc[_0x49204f(0x55a)],_0x28413c[_0x49204f(0x540)]=_0x501f8b,await this[_0x49204f(0x23e)](_0x28413c);break;default:return this[_0x49204f(0x4e8)][_0x49204f(0x629)](this[_0x49204f(0x370)]+'\x20('+this['instance'][_0x49204f(0x834)]+_0x49204f(0x1d3)+_0x8d30bc[_0x49204f(0x76c)]),{'error':!0x0,'detail':_0x49204f(0x6b8)};}}catch(_0x4039bb){return this[_0x49204f(0x4e8)][_0x49204f(0x629)](this[_0x49204f(0x370)]+'\x20('+this[_0x49204f(0x210)]['wuid']+_0x49204f(0x423)+(_0x4039bb instanceof Error?_0x4039bb[_0x49204f(0x3cd)]:JSON[_0x49204f(0x2b4)](_0x4039bb,null,0x2))),{'error':!0x0,'detail':_0x4039bb[_0x49204f(0x3cd)]};}}[a0_0x124f50(0x454)](_0x85a88e){const _0xb3e298=a0_0x124f50;let _0x6ee3ef=_0x85a88e[_0xb3e298(0x4f0)]('|'),_0x2cf326=Math[_0xb3e298(0x59c)](Math[_0xb3e298(0x3fe)]()*_0x6ee3ef[_0xb3e298(0x230)]);return _0x6ee3ef[_0x2cf326][_0xb3e298(0x485)]();}async[a0_0x124f50(0x654)](_0x14faa5,_0x3bd69c){const _0x1c4f2c=a0_0x124f50;if(this[_0x1c4f2c(0x4e8)][_0x1c4f2c(0x64d)](this['instanceName']+'\x20('+this['instance'][_0x1c4f2c(0x834)]+_0x1c4f2c(0x50b)),!_0x14faa5[_0x1c4f2c(0x3cd)]['text']||_0x14faa5[_0x1c4f2c(0x3cd)][_0x1c4f2c(0x2ff)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x401068=this['getRandomText'](_0x14faa5[_0x1c4f2c(0x3cd)][_0x1c4f2c(0x2ff)]),_0x3521d0=await this[_0x1c4f2c(0x4e0)](_0x401068,_0x3bd69c),_0x44fa07={'number':_0x3bd69c,'options':{'delay':_0x14faa5[_0x1c4f2c(0x3cd)][_0x1c4f2c(0x293)]},'textMessage':{'text':_0x3521d0}},_0x5abad2=null;try{let _0x39eb33=await this[_0x1c4f2c(0x72b)](_0x44fa07);if(_0x39eb33&&_0x39eb33['status'])return{'error':!0x1,'id':_0x39eb33[_0x1c4f2c(0x1fe)]['id']};_0x5abad2=JSON[_0x1c4f2c(0x2b4)](_0x39eb33),this[_0x1c4f2c(0x4e8)]['verbose'](this[_0x1c4f2c(0x370)]+'\x20('+this[_0x1c4f2c(0x210)][_0x1c4f2c(0x834)]+_0x1c4f2c(0x839)+_0x5abad2);}catch(_0x5b991f){this['logger'][_0x1c4f2c(0x629)](this[_0x1c4f2c(0x370)]+'\x20('+this[_0x1c4f2c(0x210)]['wuid']+_0x1c4f2c(0x38d)+(_0x5b991f instanceof Error?_0x5b991f[_0x1c4f2c(0x3cd)]:JSON[_0x1c4f2c(0x2b4)](_0x5b991f,null,0x2))),_0x5abad2=_0x5b991f[_0x1c4f2c(0x3cd)];}if(_0x5abad2)return{'error':!0x0,'detail':(typeof _0x5abad2==_0x1c4f2c(0x79d)?JSON[_0x1c4f2c(0x2b4)](_0x5abad2,null,0x2):_0x5abad2)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1c4f2c(0x261)](/  +/g,'\x20')};}async[a0_0x124f50(0x57c)](_0x4f4b00,_0x502c56){const _0x47b9af=a0_0x124f50;this[_0x47b9af(0x4e8)][_0x47b9af(0x64d)](this[_0x47b9af(0x370)]+'\x20('+this[_0x47b9af(0x210)][_0x47b9af(0x834)]+'):\x20Enviando\x20mídia');let _0x62a2a0;if(_0x4f4b00['message'][_0x47b9af(0x2ff)]&&_0x4f4b00['message']['text']['length']>0x0){let _0x381931=this[_0x47b9af(0x454)](_0x4f4b00['message']['text']);_0x62a2a0=await this['replaceVariablesChat'](_0x381931,_0x502c56);}let _0x52b909={'number':_0x502c56,'options':{'delay':_0x4f4b00['message'][_0x47b9af(0x293)]},'mediaMessage':{'mediatype':_0x4f4b00[_0x47b9af(0x3cd)]['mediatype'],'caption':_0x62a2a0,'media':_0x4f4b00['message'][_0x47b9af(0x7ce)]}},_0x2d0b6e=null;try{let _0x344de9=await this[_0x47b9af(0x4f2)](_0x52b909);if(_0x344de9&&_0x344de9[_0x47b9af(0x84c)])return{'error':!0x1,'id':_0x344de9['key']['id']};_0x2d0b6e=JSON[_0x47b9af(0x2b4)](_0x344de9),this[_0x47b9af(0x4e8)][_0x47b9af(0x64d)](this[_0x47b9af(0x370)]+'\x20('+this[_0x47b9af(0x210)][_0x47b9af(0x834)]+_0x47b9af(0x839)+_0x2d0b6e);}catch(_0x3fa37c){this[_0x47b9af(0x4e8)]['error'](this[_0x47b9af(0x370)]+'\x20('+this['instance'][_0x47b9af(0x834)]+_0x47b9af(0x65c)+(_0x3fa37c instanceof Error?_0x3fa37c[_0x47b9af(0x3cd)]:JSON[_0x47b9af(0x2b4)](_0x3fa37c,null,0x2))),_0x2d0b6e=_0x3fa37c[_0x47b9af(0x3cd)];}if(_0x2d0b6e)return{'error':!0x0,'detail':(typeof _0x2d0b6e=='object'?JSON[_0x47b9af(0x2b4)](_0x2d0b6e,null,0x2):_0x2d0b6e)[_0x47b9af(0x261)](/[\[\]{}\n]/g,'\x20')[_0x47b9af(0x261)](/  +/g,'\x20')};}async[a0_0x124f50(0x51f)](_0x207565,_0x3058c6){const _0x1bb427=a0_0x124f50;this['logger'][_0x1bb427(0x64d)](this['instanceName']+'\x20('+this[_0x1bb427(0x210)]['wuid']+'):\x20Enviando\x20áudio');let _0x405fcd={'number':_0x3058c6,'options':{'delay':_0x207565['message'][_0x1bb427(0x293)]},'audioMessage':{'audio':_0x207565[_0x1bb427(0x3cd)][_0x1bb427(0x7ce)]}},_0x25de2e=null;try{let _0x56c893=await this[_0x1bb427(0x6e9)](_0x405fcd);if(_0x56c893&&_0x56c893[_0x1bb427(0x84c)])return{'error':!0x1,'id':_0x56c893[_0x1bb427(0x1fe)]['id']};_0x25de2e=JSON[_0x1bb427(0x2b4)](_0x56c893),this[_0x1bb427(0x4e8)][_0x1bb427(0x64d)](this[_0x1bb427(0x370)]+'\x20('+this[_0x1bb427(0x210)]['wuid']+'):\x20'+_0x25de2e);}catch(_0x3fcb1c){this['logger']['error'](this[_0x1bb427(0x370)]+'\x20('+this[_0x1bb427(0x210)][_0x1bb427(0x834)]+_0x1bb427(0x80b)+(_0x3fcb1c instanceof Error?_0x3fcb1c[_0x1bb427(0x3cd)]:JSON[_0x1bb427(0x2b4)](_0x3fcb1c,null,0x2))),_0x25de2e=_0x3fcb1c[_0x1bb427(0x3cd)];}if(_0x25de2e)return{'error':!0x0,'detail':(typeof _0x25de2e=='object'?JSON[_0x1bb427(0x2b4)](_0x25de2e,null,0x2):_0x25de2e)[_0x1bb427(0x261)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},$t=class c{constructor(_0x24a904,_0x49be14,_0x280f9f){const _0xb2ab86=a0_0x124f50;this[_0xb2ab86(0x295)]=_0x24a904,this[_0xb2ab86(0x58f)]=_0x49be14,this[_0xb2ab86(0x43e)]=_0x280f9f,this['db']={},this[_0xb2ab86(0x36b)]={},this[_0xb2ab86(0x4e8)]=new N(c[_0xb2ab86(0x350)]),this['waInstances']={},(this[_0xb2ab86(0x23a)](),this[_0xb2ab86(0x7ff)](),Object[_0xb2ab86(0x868)](this['db'],_0x49be14[_0xb2ab86(0x45b)](_0xb2ab86(0x1f0))),Object['assign'](this[_0xb2ab86(0x36b)],_0x49be14['get'](_0xb2ab86(0x32d))),this['dbInstance']=this['db'][_0xb2ab86(0x6a1)]?this[_0xb2ab86(0x43e)]['dbServer']?.['db'](this['db'][_0xb2ab86(0x6bb)][_0xb2ab86(0x44f)]+'-instances'):void 0x0,this[_0xb2ab86(0x602)]=this[_0xb2ab86(0x36b)][_0xb2ab86(0x6a1)]?new oe(this[_0xb2ab86(0x36b)]):void 0x0);}async[a0_0x124f50(0x380)](_0x17af32){const _0x39b126=a0_0x124f50;if(_0x17af32&&!this[_0x39b126(0x608)][_0x17af32])throw new k('Instance\x20\x22'+_0x17af32+'\x22\x20not\x20found');let _0x336e2b=[];for await(let [_0x12e6e2,_0x2d3d7f]of Object['entries'](this[_0x39b126(0x608)]))if(_0x2d3d7f&&_0x2d3d7f[_0x39b126(0x2d1)]['state']===_0x39b126(0x3f9)){let _0x5ba7fe=await this[_0x39b126(0x43e)][_0x39b126(0x33d)][_0x39b126(0x81d)](_0x12e6e2);_0x336e2b[_0x39b126(0x1e7)]({'instance':{'instanceName':_0x12e6e2,'apikey':_0x5ba7fe[_0x39b126(0x4c0)],'owner':_0x2d3d7f[_0x39b126(0x834)],'profileName':await _0x2d3d7f[_0x39b126(0x64b)]()||_0x39b126(0x7f1),'profilePictureUrl':_0x2d3d7f[_0x39b126(0x499)]}});}return _0x336e2b['find'](_0x3ab395=>_0x3ab395[_0x39b126(0x210)][_0x39b126(0x370)]===_0x17af32)??_0x336e2b;}async[a0_0x124f50(0x75e)](_0x1c1df0){const _0x53d686=a0_0x124f50;if(this['db'][_0x53d686(0x6a1)]&&(await this['repository'][_0x53d686(0x237)][_0x53d686(0x633)](),(await this[_0x53d686(0x4ab)][_0x53d686(0x5e2)]())[_0x53d686(0x230)]>0x0&&await this[_0x53d686(0x4ab)][_0x53d686(0x41f)](_0x1c1df0)),this[_0x53d686(0x36b)]['ENABLED']){this[_0x53d686(0x602)]['reference']=_0x1c1df0,await this['cache']['delAll']();return;}}async[a0_0x124f50(0x258)](){const _0x3cf0ba=a0_0x124f50;await this[_0x3cf0ba(0x429)]();let _0x490556=async _0x15113f=>{const _0x5a7389=_0x3cf0ba;let _0x552f4d=new ye(this[_0x5a7389(0x58f)],this[_0x5a7389(0x295)],this[_0x5a7389(0x43e)]);_0x552f4d['instanceName']=_0x15113f,await _0x552f4d[_0x5a7389(0x7c5)](),this['waInstances'][_0x15113f]=_0x552f4d;};try{if(this[_0x3cf0ba(0x36b)][_0x3cf0ba(0x6a1)]){let _0x539ce2=await this[_0x3cf0ba(0x602)][_0x3cf0ba(0x563)]();_0x539ce2?.[_0x3cf0ba(0x230)]>0x0&&_0x539ce2[_0x3cf0ba(0x53a)](async _0x5e2b65=>await _0x490556(_0x5e2b65[_0x3cf0ba(0x4f0)](':')[0x1]));return;}if(this['db']['ENABLED']){await this['repository'][_0x3cf0ba(0x237)][_0x3cf0ba(0x633)]();let _0x3444de=await this[_0x3cf0ba(0x4ab)][_0x3cf0ba(0x5e2)]();_0x3444de[_0x3cf0ba(0x230)]>0x0&&_0x3444de['forEach'](async _0x53a766=>await _0x490556(_0x53a766[_0x3cf0ba(0x84e)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x26f6dc){this[_0x3cf0ba(0x4e8)][_0x3cf0ba(0x629)](_0x26f6dc);}}async[a0_0x124f50(0x2e0)](){const _0x35bc62=a0_0x124f50;let _0xb91391=await this['repository'][_0x35bc62(0x33d)][_0x35bc62(0x283)](),_0x1ebd4c=_0xb91391[_0x35bc62(0x5c0)](_0x3ed9aa=>!this['waInstances'][_0x3ed9aa[_0x35bc62(0x21c)]]&&(_0x3ed9aa[_0x35bc62(0x200)]||typeof _0x3ed9aa[_0x35bc62(0x200)]>'u'));_0x1ebd4c[_0x35bc62(0x230)]>0x0&&await Promise[_0x35bc62(0x1d9)](_0x1ebd4c['map'](async _0x1dfdbc=>{const _0x492208=_0x35bc62;let _0xcc0442={'online':!0x1,'lastDisconnect':Date[_0x492208(0x269)]()};await this[_0x492208(0x43e)][_0x492208(0x33d)][_0x492208(0x3ba)](_0xcc0442,_0x1dfdbc[_0x492208(0x21c)]);}));let _0xf1ccc6=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x42d0e8=_0xb91391['filter'](_0x4d1410=>!this[_0x35bc62(0x608)][_0x4d1410['_id']]&&typeof _0x4d1410[_0x35bc62(0x204)]<'u'&&_0x4d1410[_0x35bc62(0x204)]<_0xf1ccc6);_0x42d0e8[_0x35bc62(0x230)]>0x0&&await Promise[_0x35bc62(0x1d9)](_0x42d0e8[_0x35bc62(0x5c2)](async _0x97c60a=>{}));}async['InstancesAlterarTodas'](){const _0x5593db=a0_0x124f50;try{let _0x37a394={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5e1051={'online':!0x1,'lastDisconnect':Date['now']()},_0x52b8a4=await this[_0x5593db(0x43e)]['auth'][_0x5593db(0x51e)](_0x37a394,_0x5e1051);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x52b8a4[_0x5593db(0x466)]),await this[_0x5593db(0x1f7)]();}catch(_0x44713e){console[_0x5593db(0x629)](_0x5593db(0x266),_0x44713e);}}async[a0_0x124f50(0x1f7)](){const _0x30346e=a0_0x124f50;try{let _0x26aa2f={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x56b0bd=await this[_0x30346e(0x43e)]['auth'][_0x30346e(0x79c)](_0x26aa2f);console[_0x30346e(0x3b3)](_0x30346e(0x760)+_0x56b0bd[_0x30346e(0x466)]);}catch(_0x4c5388){console[_0x30346e(0x629)](_0x30346e(0x291),_0x4c5388);}}['removeInstance'](){const _0x1574eb=a0_0x124f50;this['eventEmitter']['on'](_0x1574eb(0x616),async _0x4e57e0=>{const _0xe80c85=_0x1574eb;try{this[_0xe80c85(0x608)][_0x4e57e0]=void 0x0;}catch{}try{this[_0xe80c85(0x75e)](_0x4e57e0);}finally{this[_0xe80c85(0x4e8)][_0xe80c85(0x613)](_0xe80c85(0x24b)+_0x4e57e0+_0xe80c85(0x20d));}});}[a0_0x124f50(0x7ff)](){const _0x38b037=a0_0x124f50;this[_0x38b037(0x295)]['on'](_0x38b037(0x352),async _0x3e795d=>{const _0x5273c6=_0x38b037;try{this[_0x5273c6(0x608)][_0x3e795d]=void 0x0;}catch{}try{this['cleaningUp'](_0x3e795d);}finally{this['logger'][_0x5273c6(0x613)](_0x5273c6(0x24b)+_0x3e795d+_0x5273c6(0x67b));}});}},kt=class extends D{[a0_0x124f50(0x561)](_0x901f7a){return qs(_0x901f7a);}async[a0_0x124f50(0x24e)](_0x3f0245){const _0x31b5e5=a0_0x124f50;if(_0x3f0245['length']!==0x0)try{return{'insertCount':(await this[_0x31b5e5(0x561)](_0x3f0245[0x0][_0x31b5e5(0x652)])[_0x31b5e5(0x25d)]([..._0x3f0245]))['length']};}catch(_0x32be73){return _0x32be73;}}async[a0_0x124f50(0x81d)](_0x4f0458,_0x29a816){const _0x39c1cb=a0_0x124f50;try{let _0x122086=this[_0x39c1cb(0x561)](_0x29a816),_0x2c0245=A(_0x4f0458[_0x39c1cb(0x7e8)]);return await _0x122086[_0x39c1cb(0x81d)](_0x2c0245)[_0x39c1cb(0x38c)]({'lastmsg':-0x1})[_0x39c1cb(0x6da)](_0x4f0458?.[_0x39c1cb(0x6da)]??0x0)[_0x39c1cb(0x278)]();}catch{return[];}}async[a0_0x124f50(0x73a)](_0x315cfe,_0x571cbc){const _0x614bec=a0_0x124f50;try{return await this[_0x614bec(0x561)](_0x571cbc)[_0x614bec(0x79c)]({..._0x315cfe[_0x614bec(0x7e8)]}),[];}catch(_0x2f0a7f){return{'error':_0x2f0a7f?.[_0x614bec(0x782)]()};}}async[a0_0x124f50(0x7fc)](_0x43fb8a,_0x1ace66){const _0x2fda7b=a0_0x124f50;try{let _0x289bf3=this[_0x2fda7b(0x561)](_0x1ace66),_0x4f9e03=A(_0x43fb8a[_0x2fda7b(0x7e8)]);return await _0x289bf3[_0x2fda7b(0x7fc)](_0x4f9e03)[_0x2fda7b(0x278)]();}catch{return null;}}async['updateOne'](_0x40c81f,_0x28effc,_0x4a1d2f,_0x50b3c0,_0x15bd08='$set'){const _0x572ecf=a0_0x124f50;try{let _0x314b21={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x50b3c0},_0x3e4eeb=this[_0x572ecf(0x561)](_0x4a1d2f),_0x29c716=A(_0x40c81f[_0x572ecf(0x7e8)]);Object['keys'](_0x28effc)[_0x572ecf(0x53a)](_0x25fd37=>{_0x28effc[_0x25fd37]==null&&delete _0x28effc[_0x25fd37];});let _0x169084={};return _0x169084[_0x15bd08]=_0x28effc,await _0x3e4eeb[_0x572ecf(0x7b7)](_0x29c716,_0x169084,_0x314b21);}catch(_0x128fec){return console['error'](_0x128fec),null;}}async[a0_0x124f50(0x491)](_0x3c8fe0){const _0x391b81=a0_0x124f50;try{let _0x3d54a1=this[_0x391b81(0x561)](_0x3c8fe0[0x0][_0x391b81(0x7cc)][_0x391b81(0x7e8)]['owner']),_0xa87d2f=_0x3c8fe0[_0x391b81(0x5c2)](_0x245e4d=>({'updateOne':{'filter':{..._0x245e4d['query'][_0x391b81(0x7e8)]},'update':{'$set':_0x245e4d[_0x391b81(0x31a)]},'upsert':!0x0}})),_0x1541df=await _0x3d54a1[_0x391b81(0x5d4)](_0xa87d2f);return _0x1541df[_0x391b81(0x371)]+_0x1541df[_0x391b81(0x41e)];}catch(_0x1099da){return console['error'](_0x1099da),0x0;}}async[a0_0x124f50(0x73b)](_0x3fe915){const _0x2a3d9e=a0_0x124f50;try{let _0xfab34b=this[_0x2a3d9e(0x561)](_0x3fe915),_0x2314c7={'labels':{'$exists':!0x0}},_0x3ac4ea={'$unset':{'labels':''}};return(await _0xfab34b[_0x2a3d9e(0x491)](_0x2314c7,_0x3ac4ea))['modifiedCount'];}catch(_0x1ee673){return console[_0x2a3d9e(0x629)](_0x1ee673),0x0;}}async[a0_0x124f50(0x84f)](_0x9d7881){const _0x31f0cc=a0_0x124f50;try{let _0xf8f7e2=this[_0x31f0cc(0x561)](_0x9d7881),_0x437f00={'leadInfo.etiquetas':{'$exists':!0x1}},_0x42556e={'$set':{'leadInfo.etiquetas':[]}};return(await _0xf8f7e2['updateMany'](_0x437f00,_0x42556e))[_0x31f0cc(0x371)];}catch(_0x2fae1d){return console[_0x31f0cc(0x629)](_0x2fae1d),0x0;}}async[a0_0x124f50(0x64e)](_0x4b96f0){const _0x546bde=a0_0x124f50;try{let _0xa4ca08=this['getChatModelForOwner'](_0x4b96f0),_0x1949af={'leadInfo.tags':{'$exists':!0x1}},_0x2f4a58={'$set':{'leadInfo.tags':[]}};return(await _0xa4ca08[_0x546bde(0x491)](_0x1949af,_0x2f4a58))[_0x546bde(0x371)];}catch(_0x12dd55){return console[_0x546bde(0x629)](_0x12dd55),0x0;}}async[a0_0x124f50(0x314)](_0xa122cf){const _0x35a6e7=a0_0x124f50;try{let _0x6ca89d=this[_0x35a6e7(0x561)](_0xa122cf),_0xbdb7fd={'leadInfo.customFields':{'$exists':!0x1}},_0x7ee414={'$set':{'leadInfo.customFields':[]}};return(await _0x6ca89d['updateMany'](_0xbdb7fd,_0x7ee414))[_0x35a6e7(0x371)];}catch(_0x2ae069){return console[_0x35a6e7(0x629)](_0x2ae069),0x0;}}async[a0_0x124f50(0x25d)](_0x510795,_0x2ca74b){const _0x13727f=a0_0x124f50;if(!Array[_0x13727f(0x718)](_0x510795)||_0x510795[_0x13727f(0x230)]===0x0)throw new Error(_0x13727f(0x7f9));try{return(await this['getChatModelForOwner'](_0x2ca74b)[_0x13727f(0x25d)](_0x510795))[_0x13727f(0x230)];}catch(_0x273ae4){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x273ae4),_0x273ae4;}}async[a0_0x124f50(0x7e2)](_0x406430,_0x5b1b9){const _0xc79eb5=a0_0x124f50;try{await this[_0xc79eb5(0x561)](_0x5b1b9)[_0xc79eb5(0x3ac)]({'_id':_0x406430});}catch(_0x4c209a){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x4c209a),_0x4c209a;}}},Lt=class extends D{[a0_0x124f50(0x224)](_0x59f1fa){return da(_0x59f1fa);}async[a0_0x124f50(0x457)](_0x45ba85,_0x309b26,_0x34d3f0,_0x529cc8){const _0x35e3c3=a0_0x124f50;try{let _0x26b271={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x529cc8},_0xd9747f=this[_0x35e3c3(0x224)](_0x34d3f0),_0x32f34b=A(_0x45ba85[_0x35e3c3(0x7e8)]);return await _0xd9747f[_0x35e3c3(0x7b7)](_0x32f34b,{'$set':_0x309b26},_0x26b271);}catch(_0x480a42){return console['error'](_0x480a42),null;}}async[a0_0x124f50(0x81d)](_0x2fcb87,_0x50a104){const _0x38a147=a0_0x124f50;try{let _0x3b9bf7=this['getLabelModelForOwner'](_0x50a104),_0x544255=A(_0x2fcb87[_0x38a147(0x7e8)]);return await _0x3b9bf7[_0x38a147(0x81d)](_0x544255);}catch(_0x233e36){console['error'](_0x233e36);}}async[a0_0x124f50(0x3bb)](_0x302df0,_0x14269c){const _0x4fb4f6=a0_0x124f50;try{let _0x1989e0=this[_0x4fb4f6(0x224)](_0x14269c),_0x5624c6=A(_0x302df0[_0x4fb4f6(0x7e8)]);await _0x1989e0[_0x4fb4f6(0x79c)](_0x5624c6);}catch(_0x5c55e9){console[_0x4fb4f6(0x629)](_0x5c55e9);}}async[a0_0x124f50(0x73a)](_0x997313){const _0x243e22=a0_0x124f50;try{return await this[_0x243e22(0x224)](_0x997313)['collection'][_0x243e22(0x5a8)](),{'success':!0x0};}catch(_0x56ceda){return console[_0x243e22(0x629)](_0x56ceda),{'success':!0x1,'error':_0x56ceda};}}},Ft=class{constructor(_0x5c4b9e){const _0x4fb6a0=a0_0x124f50;this[_0x4fb6a0(0x442)]=_0x5c4b9e;}async['editChat']({instanceName:_0x2623c6},_0x45f094){const _0x46b133=a0_0x124f50;return await this[_0x46b133(0x442)][_0x46b133(0x608)][_0x2623c6][_0x46b133(0x7e5)](_0x45f094);}async[a0_0x124f50(0x645)]({instanceName:_0x5c24fc},_0x36ba30){const _0xf9811c=a0_0x124f50;return await this[_0xf9811c(0x442)][_0xf9811c(0x608)][_0x5c24fc][_0xf9811c(0x645)](_0x36ba30);}async[a0_0x124f50(0x861)]({instanceName:_0x3bafef},_0x7041b1){return await this['waMonitor']['waInstances'][_0x3bafef]['importChats'](_0x7041b1);}async[a0_0x124f50(0x473)]({instanceName:_0x26cfcc},_0x5245c2){const _0x4c77a3=a0_0x124f50;return await this[_0x4c77a3(0x442)][_0x4c77a3(0x608)][_0x26cfcc][_0x4c77a3(0x80f)](_0x5245c2);}async[a0_0x124f50(0x570)]({instanceName:_0x52d1da},_0x113258){const _0x2c3d17=a0_0x124f50;return await this[_0x2c3d17(0x442)][_0x2c3d17(0x608)][_0x52d1da]['archiveChat'](_0x113258);}async[a0_0x124f50(0x363)]({instanceName:_0x5a7bd2},_0x190337){const _0x2fac20=a0_0x124f50;return await this[_0x2fac20(0x442)][_0x2fac20(0x608)][_0x5a7bd2]['deleteMessage'](_0x190337);}async[a0_0x124f50(0x4c9)]({instanceName:_0x59050d},_0x1f6117){const _0x55db30=a0_0x124f50;return await this['waMonitor'][_0x55db30(0x608)][_0x59050d][_0x55db30(0x50f)](_0x1f6117['number']);}async['fetchProfile']({instanceName:_0x5cba3d},_0x2069b1){const _0x55b16b=a0_0x124f50;return await this[_0x55b16b(0x442)]['waInstances'][_0x5cba3d]['fetchProfile'](_0x2069b1[_0x55b16b(0x5cb)]);}async[a0_0x124f50(0x650)]({instanceName:_0x4dc70a},_0x499e69){const _0x457c98=a0_0x124f50;return await this[_0x457c98(0x442)]['waInstances'][_0x4dc70a][_0x457c98(0x650)](_0x499e69);}async[a0_0x124f50(0x2b2)]({instanceName:_0x165716},_0x2f4ac1){const _0x2d6644=a0_0x124f50;return await this['waMonitor'][_0x2d6644(0x608)][_0x165716]['fetchContacts'](_0x2f4ac1);}async[a0_0x124f50(0x4fc)]({instanceName:_0x3d1980},_0x1fc95e){const _0x1354c9=a0_0x124f50;return await this[_0x1354c9(0x442)]['waInstances'][_0x3d1980][_0x1354c9(0x4fc)](_0x1fc95e);}async['fetchMessages']({instanceName:_0x4bf84b},_0x270297){const _0xddab14=a0_0x124f50;return await this[_0xddab14(0x442)][_0xddab14(0x608)][_0x4bf84b]['fetchMessages'](_0x270297);}async[a0_0x124f50(0x3af)]({instanceName:_0x3f3288}){const _0x92d8b3=a0_0x124f50;return await this[_0x92d8b3(0x442)][_0x92d8b3(0x608)][_0x3f3288][_0x92d8b3(0x3af)]();}async[a0_0x124f50(0x4a5)]({instanceName:_0x320a20}){const _0x3936d4=a0_0x124f50;return await this[_0x3936d4(0x442)][_0x3936d4(0x608)][_0x320a20]['fetchChats']();}async[a0_0x124f50(0x647)]({instanceName:_0x28dca2}){const _0x3ae5de=a0_0x124f50;return await this['waMonitor'][_0x3ae5de(0x608)][_0x28dca2][_0x3ae5de(0x647)]();}async[a0_0x124f50(0x7c1)]({instanceName:_0x457b0b},_0x588acf){const _0xe02e5a=a0_0x124f50;return await this[_0xe02e5a(0x442)][_0xe02e5a(0x608)][_0x457b0b][_0xe02e5a(0x7c1)](_0x588acf);}async[a0_0x124f50(0x476)]({instanceName:_0xffdf20},_0x38a4af){const _0x357504=a0_0x124f50;return await this[_0x357504(0x442)]['waInstances'][_0xffdf20]['fetchBusinessProfile'](_0x38a4af[_0x357504(0x5cb)]);}async[a0_0x124f50(0x2bc)]({instanceName:_0x2eb357},_0x1e02a9){const _0x5aa5b8=a0_0x124f50;return await this[_0x5aa5b8(0x442)][_0x5aa5b8(0x608)][_0x2eb357]['updateProfileName'](_0x1e02a9[_0x5aa5b8(0x350)]);}async[a0_0x124f50(0x250)]({instanceName:_0x52c556},_0x574253){const _0x2d49b0=a0_0x124f50;return await this[_0x2d49b0(0x442)][_0x2d49b0(0x608)][_0x52c556][_0x2d49b0(0x250)](_0x574253[_0x2d49b0(0x84c)]);}async[a0_0x124f50(0x41d)]({instanceName:_0x2cdcbc},_0x26ae4a){const _0x374766=a0_0x124f50;return await this[_0x374766(0x442)][_0x374766(0x608)][_0x2cdcbc][_0x374766(0x41d)](_0x26ae4a[_0x374766(0x635)]);}async[a0_0x124f50(0x67a)]({instanceName:_0x45d612},_0x393359){const _0x3a50a6=a0_0x124f50;return await this[_0x3a50a6(0x442)]['waInstances'][_0x45d612][_0x3a50a6(0x67a)]();}},Ns=require(a0_0x124f50(0x24c)),jt=class c{constructor(_0x477077,_0x1f105a,_0x47254e,_0x4c345c,_0x4f9e34){const _0x4b8217=a0_0x124f50;this[_0x4b8217(0x442)]=_0x477077,this[_0x4b8217(0x58f)]=_0x1f105a,this[_0x4b8217(0x43e)]=_0x47254e,this['eventEmitter']=_0x4c345c,this[_0x4b8217(0x63d)]=_0x4f9e34,this[_0x4b8217(0x4e8)]=new N(c['name']);}async[a0_0x124f50(0x292)]({instanceName:_0x325575,apikey:_0x2b8da6,number:_0xbe1abe,proxy:_0x30caca=!0x0}){const _0x8484b8=a0_0x124f50;try{let _0x3f1592=new ye(this['configService'],this[_0x8484b8(0x295)],this[_0x8484b8(0x43e)]);_0x3f1592[_0x8484b8(0x370)]=_0x325575,this[_0x8484b8(0x442)]['waInstances'][_0x3f1592['instanceName']]=_0x3f1592;let _0x1a2780={};_0x2b8da6?(await this['repository'][_0x8484b8(0x33d)]['create']({'apikey':_0x2b8da6},_0x325575),_0x1a2780[_0x8484b8(0x4c0)]=_0x2b8da6):_0x1a2780=await this['authService'][_0x8484b8(0x698)]({'instanceName':_0x3f1592['instanceName']});let _0x16d16a;return await _0x3f1592[_0x8484b8(0x7c5)](_0xbe1abe),await(0x0,Ns[_0x8484b8(0x293)])(0x7d0),_0x16d16a=_0x3f1592['qrCode'],{'instance':{'instanceName':_0x3f1592[_0x8484b8(0x370)],'status':_0x8484b8(0x3e9)},'hash':_0x1a2780,'qrcode':_0x16d16a};}catch(_0x337d8f){this[_0x8484b8(0x4e8)][_0x8484b8(0x629)](_0x337d8f);}}async['connectToWhatsappController']({instanceName:_0xefb92f,number:_0x335406=null}){const _0x460dd5=a0_0x124f50;try{let _0x26f0e1=this[_0x460dd5(0x442)][_0x460dd5(0x608)][_0xefb92f];switch(_0x26f0e1?.[_0x460dd5(0x2d1)]?.['state']){case'close':return await _0x26f0e1[_0x460dd5(0x7c5)](_0x335406),await(0x0,Ns[_0x460dd5(0x293)])(0x7d0),_0x26f0e1[_0x460dd5(0x30a)];case'connecting':return _0x26f0e1[_0x460dd5(0x30a)];default:return await this['connectionState']({'instanceName':_0xefb92f});}}catch(_0x3af103){this['logger'][_0x460dd5(0x3b3)](_0x3af103);}}async[a0_0x124f50(0x3fd)]({instanceName:_0x57ec9d}){const _0x4cb3aa=a0_0x124f50;let _0x2c7eca=this[_0x4cb3aa(0x442)][_0x4cb3aa(0x608)][_0x57ec9d]['connectionStatus'],_0x3edb17=null;_0x2c7eca[_0x4cb3aa(0x244)]===_0x4cb3aa(0x3f9)&&_0x57ec9d&&(_0x3edb17=await this[_0x4cb3aa(0x442)][_0x4cb3aa(0x380)](_0x57ec9d));let _0x47d5a6=null;return _0x2c7eca[_0x4cb3aa(0x244)]===_0x4cb3aa(0x439)&&_0x57ec9d&&(_0x47d5a6=this['waMonitor']['waInstances'][_0x57ec9d]['qrCode']),{'instance':_0x57ec9d,'connectionStatus':_0x2c7eca,'instanceInfo':_0x3edb17,'qrcode':_0x47d5a6};}async['restartInstance']({instanceName:_0x15be48}){const _0x12b402=a0_0x124f50;try{return this['waMonitor'][_0x12b402(0x608)][_0x15be48]?.[_0x12b402(0x60b)]?.['ws']?.[_0x12b402(0x509)](),{'status':_0x12b402(0x1e4),'error':!0x1,'response':{'message':_0x12b402(0x636)}};}catch(_0x11ac82){this[_0x12b402(0x4e8)][_0x12b402(0x629)](_0x11ac82);}}async[a0_0x124f50(0x246)]({instanceName:_0x22cff1}){const _0x308485=a0_0x124f50;return _0x22cff1?this['waMonitor'][_0x308485(0x380)](_0x22cff1):this[_0x308485(0x442)][_0x308485(0x380)]();}async[a0_0x124f50(0x5c8)]({instanceName:_0x4c8e09}){const _0x3d3dfa=a0_0x124f50;try{return await this[_0x3d3dfa(0x442)][_0x3d3dfa(0x608)][_0x4c8e09]?.[_0x3d3dfa(0x60b)]?.[_0x3d3dfa(0x5c8)](_0x3d3dfa(0x240)+_0x4c8e09),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x4c7cd4){throw new I(_0x4c7cd4['toString']());}}async['deleteInstance']({instanceName:_0x1b3a14}){const _0x3e0ace=a0_0x124f50;if((await this[_0x3e0ace(0x3fd)]({'instanceName':_0x1b3a14}))[_0x3e0ace(0x2d1)][_0x3e0ace(0x244)]===_0x3e0ace(0x3f9))throw new w([_0x3e0ace(0x5f9),_0x3e0ace(0x5e0)]);try{return delete this[_0x3e0ace(0x442)][_0x3e0ace(0x608)][_0x1b3a14],{'error':!0x1,'message':_0x3e0ace(0x7de)};}catch(_0x5dcdfb){throw new w(_0x5dcdfb[_0x3e0ace(0x782)]());}}},X=require(a0_0x124f50(0x68e)),Ut=class{constructor(_0x5f071a){const _0x41db48=a0_0x124f50;this[_0x41db48(0x442)]=_0x5f071a;}async[a0_0x124f50(0x257)]({instanceName:_0x4bab66},_0x5e3230){const _0x227653=a0_0x124f50;return await this[_0x227653(0x442)]['waInstances'][_0x4bab66]['textMessage'](_0x5e3230);}async['sendMenu']({instanceName:_0x2e712b},_0x242e4a){const _0x1f9b8b=a0_0x124f50;return await this[_0x1f9b8b(0x442)]['waInstances'][_0x2e712b]['menuMessage'](_0x242e4a);}async[a0_0x124f50(0x5f6)]({instanceName:_0x2b4cb3},_0x28b398){const _0x56bdda=a0_0x124f50;if((0x0,X[_0x56bdda(0x671)])(_0x28b398?.['mediaMessage']?.['media'])&&!_0x28b398?.[_0x56bdda(0x4f2)]?.[_0x56bdda(0x5a1)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,X[_0x56bdda(0x5ff)])(_0x28b398?.[_0x56bdda(0x4f2)]?.[_0x56bdda(0x84d)])||(0x0,X[_0x56bdda(0x671)])(_0x28b398?.[_0x56bdda(0x4f2)]?.[_0x56bdda(0x84d)]))return await this['waMonitor']['waInstances'][_0x2b4cb3][_0x56bdda(0x4f2)](_0x28b398);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x531f1e},_0x2b2bb5){const _0x26054c=a0_0x124f50;if((0x0,X[_0x26054c(0x5ff)])(_0x2b2bb5[_0x26054c(0x641)]['image'])||(0x0,X[_0x26054c(0x671)])(_0x2b2bb5[_0x26054c(0x641)][_0x26054c(0x5bb)]))return await this[_0x26054c(0x442)]['waInstances'][_0x531f1e]['mediaSticker'](_0x2b2bb5);throw new w(_0x26054c(0x5b4));}async['sendWhatsAppAudio']({instanceName:_0x2644fb},_0x2f4f66){const _0x3261cb=a0_0x124f50;if((0x0,X[_0x3261cb(0x5ff)])(_0x2f4f66[_0x3261cb(0x520)]['audio'])||(0x0,X['isBase64'])(_0x2f4f66[_0x3261cb(0x520)][_0x3261cb(0x2f8)]))return await this['waMonitor'][_0x3261cb(0x608)][_0x2644fb]['audioWhatsapp'](_0x2f4f66);throw new w(_0x3261cb(0x5b4));}async[a0_0x124f50(0x3f0)]({instanceName:_0x264e27},_0x4c974e){const _0x58c533=a0_0x124f50;if((0x0,X[_0x58c533(0x671)])(_0x4c974e[_0x58c533(0x3f5)][_0x58c533(0x4f2)]?.[_0x58c533(0x84d)])&&!_0x4c974e[_0x58c533(0x3f5)]['mediaMessage']?.[_0x58c533(0x5a1)])throw new w(_0x58c533(0x72f));return await this[_0x58c533(0x442)]['waInstances'][_0x264e27][_0x58c533(0x3f5)](_0x4c974e);}async[a0_0x124f50(0x506)]({instanceName:_0x2ef837},_0x4fc439){const _0x2d1b77=a0_0x124f50;return await this[_0x2d1b77(0x442)]['waInstances'][_0x2ef837][_0x2d1b77(0x3be)](_0x4fc439);}async[a0_0x124f50(0x4ec)]({instanceName:_0x5279d7},_0x39d345){const _0x377568=a0_0x124f50;return await this[_0x377568(0x442)][_0x377568(0x608)][_0x5279d7]['pollMessage'](_0x39d345);}async[a0_0x124f50(0x24f)]({instanceName:_0x2a0e08},_0x54a954){const _0x54f4d7=a0_0x124f50;return await this[_0x54f4d7(0x442)]['waInstances'][_0x2a0e08]['listMessage'](_0x54a954);}async['sendContact']({instanceName:_0x338ef6},_0x4df021){const _0x8dfeb=a0_0x124f50;return await this[_0x8dfeb(0x442)][_0x8dfeb(0x608)][_0x338ef6][_0x8dfeb(0x6d8)](_0x4df021);}async[a0_0x124f50(0x777)]({instanceName:_0x2b2d63},_0x49c593){const _0x5bc746=a0_0x124f50;if(!_0x49c593[_0x5bc746(0x70b)][_0x5bc746(0x268)][_0x5bc746(0x5da)](/[^\(\)\w\sà-ú"-\+]+/))throw new w('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor'][_0x5bc746(0x608)][_0x2b2d63][_0x5bc746(0x70b)](_0x49c593);}async[a0_0x124f50(0x59d)]({instanceName:_0x2d15a4},_0x348bb5){const _0xe334f3=a0_0x124f50;return await this['waMonitor'][_0xe334f3(0x608)][_0x2d15a4]['statusMessage'](_0x348bb5);}},Mr=require(a0_0x124f50(0x3ef)),Rs=require(a0_0x124f50(0x3d4)),qt=class c{constructor(_0x43a54e,_0x51b05c,_0x510201){const _0x8e28c8=a0_0x124f50;this[_0x8e28c8(0x58f)]=_0x43a54e,this[_0x8e28c8(0x442)]=_0x51b05c,this[_0x8e28c8(0x43e)]=_0x510201,this[_0x8e28c8(0x4e8)]=new N(c['name']);}async[a0_0x124f50(0x724)](_0x200f4f){const _0x42c53a=a0_0x124f50;let _0x280df7=this[_0x42c53a(0x58f)][_0x42c53a(0x45b)]('AUTHENTICATION')[_0x42c53a(0x772)],_0x31c079=(0x0,Mr['sign'])({'instanceName':_0x200f4f[_0x42c53a(0x370)],'apiName':He,'tokenId':(0x0,Rs['v4'])()},_0x280df7[_0x42c53a(0x543)],{'expiresIn':_0x280df7[_0x42c53a(0x247)],'encoding':_0x42c53a(0x343),'subject':_0x42c53a(0x5c4)}),_0x577b6a=await this[_0x42c53a(0x43e)][_0x42c53a(0x33d)][_0x42c53a(0x3ba)]({'jwt':_0x31c079},_0x200f4f[_0x42c53a(0x370)]);if(_0x577b6a[_0x42c53a(0x629)])throw this['logger']['error']({'localError':c[_0x42c53a(0x350)]+'.jwt','error':_0x577b6a[_0x42c53a(0x629)]}),new w(_0x42c53a(0x47a),_0x577b6a[_0x42c53a(0x629)]?.[_0x42c53a(0x782)]());return{'jwt':_0x31c079};}async[a0_0x124f50(0x4c0)](_0x99a9cc){const _0x47d17c=a0_0x124f50;let _0x5214aa=(0x0,Rs['v4'])()[_0x47d17c(0x4b1)](),_0x17bfd3=await this[_0x47d17c(0x43e)][_0x47d17c(0x33d)][_0x47d17c(0x3ba)]({'apikey':_0x5214aa},_0x99a9cc[_0x47d17c(0x370)]);if(_0x17bfd3[_0x47d17c(0x629)])throw this[_0x47d17c(0x4e8)][_0x47d17c(0x629)]({'localError':c[_0x47d17c(0x350)]+_0x47d17c(0x653),'error':_0x17bfd3['error']}),new w(_0x47d17c(0x47a),_0x17bfd3[_0x47d17c(0x629)]?.[_0x47d17c(0x782)]());return{'apikey':_0x5214aa};}async[a0_0x124f50(0x698)](_0x1de2ca){const _0x3fdd8d=a0_0x124f50;let _0x500823=this[_0x3fdd8d(0x58f)]['get'](_0x3fdd8d(0x52b));return await this[_0x500823[_0x3fdd8d(0x3dc)]](_0x1de2ca);}},Jt=class{constructor(_0xab301b){const _0x2dee08=a0_0x124f50;this[_0x2dee08(0x442)]=_0xab301b;}async[a0_0x124f50(0x5de)](_0x286246,_0x36acbd){const _0x3c9cca=a0_0x124f50;return await this['waMonitor'][_0x3c9cca(0x608)][_0x286246[_0x3c9cca(0x370)]]['createGroup'](_0x36acbd);}async[a0_0x124f50(0x68f)](_0xec128d,_0x26e107){const _0xeb105=a0_0x124f50;return await this[_0xeb105(0x442)][_0xeb105(0x608)][_0xec128d['instanceName']][_0xeb105(0x68f)](_0x26e107);}async[a0_0x124f50(0x394)](_0x48ec04,_0x3c9eef){const _0xf36aeb=a0_0x124f50;return await this[_0xf36aeb(0x442)]['waInstances'][_0x48ec04[_0xf36aeb(0x370)]][_0xf36aeb(0x394)](_0x3c9eef);}async[a0_0x124f50(0x711)](_0x4d1d9b,_0x8e4488){const _0xf1b5b7=a0_0x124f50;return await this[_0xf1b5b7(0x442)][_0xf1b5b7(0x608)][_0x4d1d9b[_0xf1b5b7(0x370)]][_0xf1b5b7(0x711)](_0x8e4488);}async[a0_0x124f50(0x361)](_0x52340f,_0x565aee){const _0x6531f4=a0_0x124f50;return await this['waMonitor'][_0x6531f4(0x608)][_0x52340f[_0x6531f4(0x370)]][_0x6531f4(0x361)](_0x565aee);}async[a0_0x124f50(0x53e)](_0x5449b2,_0x1a9c60){const _0x1492a0=a0_0x124f50;return await this[_0x1492a0(0x442)][_0x1492a0(0x608)][_0x5449b2[_0x1492a0(0x370)]][_0x1492a0(0x22c)](_0x1a9c60);}async[a0_0x124f50(0x501)](_0x2c777e){const _0x2c44ea=a0_0x124f50;return await this[_0x2c44ea(0x442)]['waInstances'][_0x2c777e[_0x2c44ea(0x370)]][_0x2c44ea(0x501)]();}async[a0_0x124f50(0x2e6)](_0x516d84,_0x53c617){const _0x4f1384=a0_0x124f50;return await this['waMonitor'][_0x4f1384(0x608)][_0x516d84[_0x4f1384(0x370)]][_0x4f1384(0x2e6)](_0x53c617);}async['joinGroup'](_0xb64a97,_0x3aedfb){const _0x238d2f=a0_0x124f50;return await this[_0x238d2f(0x442)]['waInstances'][_0xb64a97[_0x238d2f(0x370)]]['joinGroup'](_0x3aedfb);}async[a0_0x124f50(0x4cd)](_0x2d0834,_0x42669c){const _0x371dc9=a0_0x124f50;return await this[_0x371dc9(0x442)][_0x371dc9(0x608)][_0x2d0834[_0x371dc9(0x370)]][_0x371dc9(0x4cd)](_0x42669c);}async[a0_0x124f50(0x410)](_0x5b6318,_0x139fc0){const _0x5dfa08=a0_0x124f50;return await this['waMonitor'][_0x5dfa08(0x608)][_0x5b6318[_0x5dfa08(0x370)]][_0x5dfa08(0x410)](_0x139fc0);}async[a0_0x124f50(0x66e)](_0x3e3240,_0x249d6a){const _0x1c82f4=a0_0x124f50;return await this['waMonitor'][_0x1c82f4(0x608)][_0x3e3240[_0x1c82f4(0x370)]][_0x1c82f4(0x351)](_0x249d6a);}async[a0_0x124f50(0x4e1)](_0x26f096,_0x19bd53){const _0x761cac=a0_0x124f50;return await this['waMonitor'][_0x761cac(0x608)][_0x26f096[_0x761cac(0x370)]][_0x761cac(0x4e1)](_0x19bd53);}async[a0_0x124f50(0x624)](_0xeac034,_0x1c4023){const _0xa67516=a0_0x124f50;return await this[_0xa67516(0x442)][_0xa67516(0x608)][_0xeac034[_0xa67516(0x370)]][_0xa67516(0x624)](_0x1c4023);}},Vt=class{constructor(_0x316372){const _0x3f3264=a0_0x124f50;this[_0x3f3264(0x442)]=_0x316372;}[a0_0x124f50(0x3ba)](_0x5b4710,_0x53fdda){const _0x19d244=a0_0x124f50;return this[_0x19d244(0x442)]['waInstances'][_0x5b4710['instanceName']][_0x19d244(0x26d)](_0x53fdda);}async['find'](_0x9b4c7){const _0x42af5d=a0_0x124f50;try{return await this[_0x42af5d(0x442)][_0x42af5d(0x608)][_0x9b4c7[_0x42af5d(0x370)]][_0x42af5d(0x702)]();}catch{return{'enabled':null,'url':''};}}},Zd=new N('FlowController'),Bt=class{constructor(_0x21c438){const _0x32bc8a=a0_0x124f50;this[_0x32bc8a(0x442)]=_0x21c438;}async['editScheduleMessage'](_0x4de06b,_0x19ee39){const _0x146204=a0_0x124f50;return await this[_0x146204(0x442)][_0x146204(0x608)][_0x4de06b[_0x146204(0x370)]][_0x146204(0x2a7)](_0x19ee39);}async[a0_0x124f50(0x689)](_0x3346d5){const _0x1d78b0=a0_0x124f50;return await this[_0x1d78b0(0x442)][_0x1d78b0(0x608)][_0x3346d5[_0x1d78b0(0x370)]][_0x1d78b0(0x689)]();}async[a0_0x124f50(0x6f2)](_0x391b34){const _0x4751af=a0_0x124f50;return await this[_0x4751af(0x442)][_0x4751af(0x608)][_0x391b34[_0x4751af(0x370)]][_0x4751af(0x6f2)]();}async[a0_0x124f50(0x3c4)](_0x6a3808){const _0x30058=a0_0x124f50;return await this[_0x30058(0x442)][_0x30058(0x608)][_0x6a3808['instanceName']][_0x30058(0x3c4)]();}async[a0_0x124f50(0x421)](_0x473dbb,_0x419964){const _0x10839b=a0_0x124f50;return await this['waMonitor'][_0x10839b(0x608)][_0x473dbb[_0x10839b(0x370)]][_0x10839b(0x421)](_0x419964);}async['updateCustomFields'](_0x138f37,_0x50c4f4){const _0x32dc13=a0_0x124f50;return await this[_0x32dc13(0x442)][_0x32dc13(0x608)][_0x138f37['instanceName']][_0x32dc13(0x78a)](_0x50c4f4);}async[a0_0x124f50(0x516)](_0x14df34,_0x3e2a7b){const _0x308212=a0_0x124f50;return await this['waMonitor'][_0x308212(0x608)][_0x14df34[_0x308212(0x370)]][_0x308212(0x516)](_0x3e2a7b);}async['startFlow'](_0x2e6780,_0x2e1168){const _0x43d45b=a0_0x124f50;return await this[_0x43d45b(0x442)]['waInstances'][_0x2e6780[_0x43d45b(0x370)]][_0x43d45b(0x23e)](_0x2e1168);}async[a0_0x124f50(0x218)](_0x474b74,_0x13598e){const _0x339e84=a0_0x124f50;return await this[_0x339e84(0x442)][_0x339e84(0x608)][_0x474b74[_0x339e84(0x370)]]['getConversation'](_0x13598e);}async[a0_0x124f50(0x7a7)](_0x39e388,_0x46a6df){const _0x263379=a0_0x124f50;return await this[_0x263379(0x442)][_0x263379(0x608)][_0x39e388['instanceName']]['fetchConversation'](_0x46a6df);}async[a0_0x124f50(0x4f1)](_0x52c1e9,_0x2ec43d){const _0x84f339=a0_0x124f50;return await this[_0x84f339(0x442)][_0x84f339(0x608)][_0x52c1e9[_0x84f339(0x370)]][_0x84f339(0x4f1)](_0x2ec43d);}async[a0_0x124f50(0x83a)](_0xdfff79,_0x17b773){const _0x1ee5f0=a0_0x124f50;return await this[_0x1ee5f0(0x442)][_0x1ee5f0(0x608)][_0xdfff79['instanceName']][_0x1ee5f0(0x83a)](_0x17b773);}async[a0_0x124f50(0x31d)](_0xbd52dc,_0x357c9b){const _0x1019f7=a0_0x124f50;return await this[_0x1019f7(0x442)][_0x1019f7(0x608)][_0xbd52dc[_0x1019f7(0x370)]][_0x1019f7(0x31d)](_0x357c9b['name']);}async['createFlow'](_0x1bab30,_0x1370d9){const _0x126abd=a0_0x124f50;return await this[_0x126abd(0x442)]['waInstances'][_0x1bab30[_0x126abd(0x370)]]['createFlow'](_0x1370d9);}async[a0_0x124f50(0x6e5)](_0x31904c,_0x3fe1f2){const _0x4aa89f=a0_0x124f50;return await this[_0x4aa89f(0x442)]['waInstances'][_0x31904c[_0x4aa89f(0x370)]][_0x4aa89f(0x6e5)](_0x3fe1f2);}async[a0_0x124f50(0x446)](_0x57f14c,_0x289435){const _0x6fa2c3=a0_0x124f50;return await this['waMonitor'][_0x6fa2c3(0x608)][_0x57f14c[_0x6fa2c3(0x370)]]['editFlowBlock'](_0x289435);}async[a0_0x124f50(0x377)](_0x539725,_0x16c33f){return await this['waMonitor']['waInstances'][_0x539725['instanceName']]['editFlowReply'](_0x16c33f);}async[a0_0x124f50(0x85e)](_0x3a9d3f,_0x524cdd){const _0x542485=a0_0x124f50;return await this[_0x542485(0x442)][_0x542485(0x608)][_0x3a9d3f['instanceName']][_0x542485(0x85e)](_0x524cdd);}async[a0_0x124f50(0x721)](_0x317597,_0x570825){const _0x15a25d=a0_0x124f50;return await this[_0x15a25d(0x442)][_0x15a25d(0x608)][_0x317597['instanceName']]['editFlowCondition'](_0x570825);}async[a0_0x124f50(0x598)](_0xd91ed3,_0x2edd73){const _0x44140f=a0_0x124f50;return await this[_0x44140f(0x442)]['waInstances'][_0xd91ed3['instanceName']][_0x44140f(0x598)](_0x2edd73);}async[a0_0x124f50(0x6ba)](_0x15f632,_0x26ae75){const _0x49ffea=a0_0x124f50;return await this['waMonitor'][_0x49ffea(0x608)][_0x15f632['instanceName']][_0x49ffea(0x6ba)](_0x26ae75);}async[a0_0x124f50(0x432)](_0x424ab7,_0x5b593a){const _0x18f131=a0_0x124f50;return await this[_0x18f131(0x442)][_0x18f131(0x608)][_0x424ab7['instanceName']][_0x18f131(0x432)](_0x5b593a[_0x18f131(0x350)]);}async[a0_0x124f50(0x5b1)](_0x2389d5){const _0x4577c5=a0_0x124f50;return await this[_0x4577c5(0x442)]['waInstances'][_0x2389d5[_0x4577c5(0x370)]][_0x4577c5(0x5b1)]();}},Gt=class{constructor(_0x455bd2){const _0x2ade7c=a0_0x124f50;this[_0x2ade7c(0x6cf)]=_0x455bd2;}async[a0_0x124f50(0x42d)](_0x5b9508,_0xa6d587){const _0x24165a=a0_0x124f50;return this[_0x24165a(0x6cf)]['create'](_0x5b9508,_0xa6d587);}async[a0_0x124f50(0x702)](_0x439433){const _0x30008d=a0_0x124f50;return this[_0x30008d(0x6cf)]['find'](_0x439433);}},Wt=class extends D{constructor(_0x5d8a71,_0x2b2d30){const _0x22a175=a0_0x124f50;super(_0x2b2d30),this[_0x22a175(0x57b)]=_0x5d8a71,this[_0x22a175(0x58f)]=_0x2b2d30;}async[a0_0x124f50(0x3ba)](_0x243af5,_0x4a1f8a){const _0x1ee3f5=a0_0x124f50;try{return this[_0x1ee3f5(0x810)][_0x1ee3f5(0x6a1)]?{'insertCount':(await this[_0x1ee3f5(0x57b)]['replaceOne']({'_id':_0x4a1f8a},{..._0x243af5},{'upsert':!0x0}))[_0x1ee3f5(0x371)]}:{'insertCount':0x1};}catch(_0x4718a0){return _0x4718a0;}}async[a0_0x124f50(0x3bb)](_0x56594c){const _0x4ebf07=a0_0x124f50;try{if(this['dbSettings'][_0x4ebf07(0x6a1)]){await this[_0x4ebf07(0x57b)][_0x4ebf07(0x3ac)]({'_id':_0x56594c});return;}}catch(_0x3034ed){return{'error':_0x3034ed};}}async[a0_0x124f50(0x81d)](_0x1d0f67){const _0x2a73e5=a0_0x124f50;try{if(this[_0x2a73e5(0x810)]['ENABLED'])return await this['webhookModel'][_0x2a73e5(0x7fc)]({'_id':_0x1d0f67});}catch{return{};}}},zt=class extends D{constructor(_0x351e8b,_0x38e7a3){const _0x576354=a0_0x124f50;super(_0x38e7a3),this['authModel']=_0x351e8b,this[_0x576354(0x58f)]=_0x38e7a3,this[_0x576354(0x33d)]=_0x38e7a3['get'](_0x576354(0x52b));}async['create'](_0x1a6bce,_0x40f7ae){const _0xa91bf0=a0_0x124f50;try{if(this[_0xa91bf0(0x810)][_0xa91bf0(0x6a1)])return{'insertCount':(await this[_0xa91bf0(0x866)]['updateOne']({'_id':_0x40f7ae},{'$set':{..._0x1a6bce}},{'upsert':!0x0}))[_0xa91bf0(0x371)]};}catch(_0x231d9f){return{'error':_0x231d9f};}}async[a0_0x124f50(0x51e)](_0x2ddfb0,_0x39ad1b){const _0x283eae=a0_0x124f50;try{if(this['dbSettings'][_0x283eae(0x6a1)])return{'insertCount':(await this[_0x283eae(0x866)]['updateMany'](_0x2ddfb0,{'$set':_0x39ad1b},{'upsert':!0x1}))[_0x283eae(0x371)]};throw new Error(_0x283eae(0x22b));}catch(_0x42be9c){return{'error':_0x42be9c};}}async[a0_0x124f50(0x79c)](_0x13f02f){const _0x298c8f=a0_0x124f50;try{if(this[_0x298c8f(0x810)][_0x298c8f(0x6a1)])return{'insertCount':(await this['authModel']['deleteMany'](_0x13f02f))[_0x298c8f(0x86a)]};throw new Error(_0x298c8f(0x22b));}catch(_0x448b20){return{'error':_0x448b20};}}async[a0_0x124f50(0x3bb)](_0x580bea){const _0x1d4115=a0_0x124f50;try{if(this[_0x1d4115(0x810)][_0x1d4115(0x6a1)]){await this[_0x1d4115(0x866)][_0x1d4115(0x3ac)]({'_id':_0x580bea});return;}}catch(_0x45e960){return{'error':_0x45e960};}}async[a0_0x124f50(0x81d)](_0x361b08){const _0x399b69=a0_0x124f50;try{if(this[_0x399b69(0x810)][_0x399b69(0x6a1)])return await this[_0x399b69(0x866)]['findOne']({'_id':_0x361b08});}catch{return{};}}async[a0_0x124f50(0x283)](){const _0x5d9e5a=a0_0x124f50;try{if(this[_0x5d9e5a(0x810)][_0x5d9e5a(0x6a1)])return await this[_0x5d9e5a(0x866)][_0x5d9e5a(0x81d)]();}catch{return[];}}},Ht=class extends D{['getFlowModelForOwner'](_0xb99ac9){return sa(_0xb99ac9);}async[a0_0x124f50(0x47f)](_0x67fe1f){const _0x21576b=a0_0x124f50;try{let _0xe02a45=aa,_0x18012c=this[_0x21576b(0x23d)](_0x67fe1f),_0x56e9e3=await _0xe02a45[_0x21576b(0x81d)]({'owner':_0x67fe1f})[_0x21576b(0x278)](),_0x5934ef=[],_0x2a76e7=[];for(let _0x519908 of _0x56e9e3)await _0x18012c[_0x21576b(0x85c)](_0x519908[_0x21576b(0x21c)])[_0x21576b(0x278)]()||(_0x5934ef['push'](_0x519908),_0x2a76e7[_0x21576b(0x1e7)](_0x519908[_0x21576b(0x21c)]));return _0x5934ef['length']>0x0&&await _0x18012c[_0x21576b(0x25d)](_0x5934ef,{'ordered':!0x1}),{'success':!0x0};}catch(_0x56ba4e){return console['error'](_0x21576b(0x37f),_0x56ba4e),{'success':!0x1,'error':_0x56ba4e};}}async[a0_0x124f50(0x3bb)](_0x2216ae,_0x2d1a30){const _0x30f49c=a0_0x124f50;try{let _0x50d3e3=this[_0x30f49c(0x23d)](_0x2d1a30),_0x264689=A(_0x2216ae[_0x30f49c(0x7e8)]);return{'deletedCount':(await _0x50d3e3[_0x30f49c(0x79c)](_0x264689))[_0x30f49c(0x86a)]};}catch(_0x27af79){return{'error':_0x27af79?.[_0x30f49c(0x782)]()};}}async[a0_0x124f50(0x3ac)](_0x171e5c,_0x1b55aa){const _0x35b176=a0_0x124f50;try{let _0x49a53c=this[_0x35b176(0x23d)](_0x1b55aa),_0x335cf3=A(_0x171e5c['where']);return{'deletedCount':(await _0x49a53c[_0x35b176(0x3ac)](_0x335cf3))[_0x35b176(0x86a)]};}catch(_0x4f4e89){return{'error':_0x4f4e89?.[_0x35b176(0x782)]()};}}async[a0_0x124f50(0x4ca)](_0x2c04e0,_0x295545,_0x5d45b1){const _0x6ab9e0=a0_0x124f50;try{let _0x58655c=await this[_0x6ab9e0(0x23d)](_0x5d45b1)[_0x6ab9e0(0x842)](_0x2c04e0,_0x295545,{'overwrite':!0x0,'new':!0x0});return _0x58655c||(console['error'](_0x6ab9e0(0x6f8),_0x2c04e0),null);}catch(_0x1686a6){return console[_0x6ab9e0(0x629)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x1686a6),null;}}async[a0_0x124f50(0x457)](_0x3b0f16,_0x3ce91b,_0x25e956){const _0x1bf64e=a0_0x124f50;try{let _0x401626=await this[_0x1bf64e(0x23d)](_0x25e956)[_0x1bf64e(0x85c)](_0x3b0f16);return _0x401626?(Object['assign'](_0x401626,_0x3ce91b),await _0x401626[_0x1bf64e(0x2a3)]()):(console[_0x1bf64e(0x629)](_0x1bf64e(0x529),_0x3b0f16),null);}catch(_0x2df0f4){return console['error'](_0x1bf64e(0x83d),_0x2df0f4),null;}}async['updateMissingShareOwners'](_0x49bf8e){const _0x54e152=a0_0x124f50;try{let _0x27522b=this[_0x54e152(0x23d)](_0x49bf8e),_0x55a45c={'shareOwners':{'$exists':!0x1}},_0x26e795={'$set':{'shareOwners':[]}};return(await _0x27522b[_0x54e152(0x491)](_0x55a45c,_0x26e795))['modifiedCount'];}catch(_0x44d500){return console[_0x54e152(0x629)](_0x44d500),0x0;}}async[a0_0x124f50(0x4e5)](_0x894b50,_0x501a39){const _0x1091e4=a0_0x124f50;try{let _0x2f92ec=this[_0x1091e4(0x23d)](_0x501a39);return await new _0x2f92ec(_0x894b50)[_0x1091e4(0x2a3)]();}catch(_0x117e2f){return console[_0x1091e4(0x629)](_0x1091e4(0x789),_0x117e2f),null;}}async[a0_0x124f50(0x491)](_0x1514c3,_0x2737f2,_0xf87177){const _0x4e6c9b=a0_0x124f50;try{return{'modifiedCount':(await this[_0x4e6c9b(0x23d)](_0xf87177)[_0x4e6c9b(0x491)](_0x1514c3,{'$set':_0x2737f2}))['modifiedCount']};}catch(_0x425089){return console[_0x4e6c9b(0x629)](_0x4e6c9b(0x445),_0x425089),{'error':_0x425089};}}async['findAll'](_0x5d79a8,_0x2a73d9){const _0x19c5be=a0_0x124f50;try{let _0x37565f=this[_0x19c5be(0x23d)](_0x2a73d9),_0x465868=A(_0x5d79a8[_0x19c5be(0x7e8)]);return await _0x37565f['find'](_0x465868)[_0x19c5be(0x6da)](_0x5d79a8?.[_0x19c5be(0x6da)]??0x0)[_0x19c5be(0x278)]();}catch{return[];}}async[a0_0x124f50(0x7fc)](_0x1d7fe9,_0x20c663){const _0x13d9a3=a0_0x124f50;try{let _0xaad314=this[_0x13d9a3(0x23d)](_0x20c663),_0x5d50c8=A(_0x1d7fe9[_0x13d9a3(0x7e8)]);return await _0xaad314['findOne'](_0x5d50c8)[_0x13d9a3(0x278)]();}catch{return null;}}async[a0_0x124f50(0x73a)](_0x129c71){const _0x8348eb=a0_0x124f50;try{return await this['getFlowModelForOwner'](_0x129c71)['collection'][_0x8348eb(0x5a8)](),{'success':!0x0};}catch(_0x383fce){return console[_0x8348eb(0x629)](_0x383fce),{'success':!0x1,'error':_0x383fce};}}},Kt=class extends D{['getConversationModelForOwner'](_0xd0c5a9){return ia(_0xd0c5a9);}async[a0_0x124f50(0x47f)](_0x2242bf){const _0x170714=a0_0x124f50;try{let _0x46dcb3=oa,_0x46df63=this[_0x170714(0x7b4)](_0x2242bf),_0x40fcbb=await _0x46dcb3['find']({'owner':_0x2242bf})['lean'](),_0x55e53e=[],_0x57d693=[];for(let _0x443b05 of _0x40fcbb)await _0x46df63[_0x170714(0x85c)](_0x443b05[_0x170714(0x21c)])[_0x170714(0x278)]()||(_0x55e53e['push'](_0x443b05),_0x57d693[_0x170714(0x1e7)](_0x443b05[_0x170714(0x21c)]));return _0x55e53e[_0x170714(0x230)]>0x0&&await _0x46df63[_0x170714(0x25d)](_0x55e53e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x570955){return console['error'](_0x170714(0x37f),_0x570955),{'success':!0x1,'error':_0x570955};}}async[a0_0x124f50(0x24e)](_0x3251b3){const _0x337cd3=a0_0x124f50;if(_0x3251b3[_0x337cd3(0x230)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x3251b3[0x0][_0x337cd3(0x652)])[_0x337cd3(0x25d)]([..._0x3251b3]))['length']};}catch(_0x47b73d){return _0x47b73d;}}async[a0_0x124f50(0x3bb)](_0x2e24cd,_0x3913d5){const _0x3d4969=a0_0x124f50;try{let _0x355dfa=this[_0x3d4969(0x7b4)](_0x3913d5),_0x29fb7c=A(_0x2e24cd['where']);return{'deletedCount':(await _0x355dfa['deleteMany'](_0x29fb7c))[_0x3d4969(0x86a)]};}catch(_0x588d71){return{'error':_0x588d71?.[_0x3d4969(0x782)]()};}}async[a0_0x124f50(0x3ac)](_0x588040,_0x236a8c){const _0x1834aa=a0_0x124f50;try{let _0x1b8b1b=this[_0x1834aa(0x7b4)](_0x236a8c),_0x4c12b9=A(_0x588040['where']);return{'deletedCount':(await _0x1b8b1b[_0x1834aa(0x3ac)](_0x4c12b9))['deletedCount']};}catch(_0xd6a3f0){return{'error':_0xd6a3f0?.[_0x1834aa(0x782)]()};}}async[a0_0x124f50(0x31a)](_0x5af1f2,_0x2909d6){const _0x125793=a0_0x124f50;try{if(_0x5af1f2[_0x125793(0x230)]===0x0)return;let _0x46acff=this['getConversationModelForOwner'](_0x2909d6),_0x4c6d9d=_0x5af1f2[_0x125793(0x5c2)](_0x1fea5c=>({'updateOne':{'filter':{'name':_0x1fea5c[_0x125793(0x350)],'owner':_0x2909d6},'update':{..._0x1fea5c}}})),{modifiedCount:_0x3f6e4f}=await _0x46acff[_0x125793(0x5d4)](_0x4c6d9d);return{'insertCount':_0x3f6e4f};}catch{return;}}async[a0_0x124f50(0x491)](_0x2d447e,_0x1397f5,_0x426abc){const _0x4f31bc=a0_0x124f50;try{return{'modifiedCount':(await this[_0x4f31bc(0x7b4)](_0x426abc)['updateMany'](_0x2d447e,{'$set':_0x1397f5}))[_0x4f31bc(0x371)]};}catch(_0x40bccd){return console[_0x4f31bc(0x629)](_0x4f31bc(0x1ed),_0x40bccd),{'error':_0x40bccd};}}async['updateOne'](_0x51821e,_0x2f9c46,_0x57935e){const _0x2c504f=a0_0x124f50;try{return await this[_0x2c504f(0x7b4)](_0x57935e)['findOneAndUpdate']({'_id':_0x51821e},{'$set':_0x2f9c46},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x590599){return console['error'](_0x590599),null;}}async[a0_0x124f50(0x81d)](_0xf3951c,_0x3017bc){const _0x56765d=a0_0x124f50;try{return await this['getConversationModelForOwner'](_0x3017bc)[_0x56765d(0x81d)](_0xf3951c)[_0x56765d(0x38c)]({'lastInteraction':-0x1})[_0x56765d(0x278)]();}catch{return[];}}async['findOne'](_0xa7412f,_0x451a12){const _0x131920=a0_0x124f50;try{return await this[_0x131920(0x7b4)](_0x451a12)[_0x131920(0x7fc)]({..._0xa7412f[_0x131920(0x7e8)]})[_0x131920(0x278)]();}catch{return null;}}async[a0_0x124f50(0x73a)](_0x24e5ff){const _0x1a8025=a0_0x124f50;try{return await this[_0x1a8025(0x7b4)](_0x24e5ff)[_0x1a8025(0x48b)]['drop'](),{'success':!0x0};}catch(_0x3eef80){return console[_0x1a8025(0x629)](_0x3eef80),{'success':!0x1,'error':_0x3eef80};}}},Qt=class extends D{[a0_0x124f50(0x434)](_0x8c3145){return ca(_0x8c3145);}async[a0_0x124f50(0x47f)](_0x3bf5f1){const _0x2413de=a0_0x124f50;try{let _0x2f9e29=la,_0x7e620e=this['getScheduleMessageModelForOwner'](_0x3bf5f1),_0x316884=await _0x2f9e29[_0x2413de(0x81d)]({'owner':_0x3bf5f1})[_0x2413de(0x278)](),_0xd064c8=[],_0x5f1795=[];for(let _0x39469d of _0x316884)await _0x7e620e[_0x2413de(0x85c)](_0x39469d[_0x2413de(0x21c)])[_0x2413de(0x278)]()||(_0xd064c8[_0x2413de(0x1e7)](_0x39469d),_0x5f1795[_0x2413de(0x1e7)](_0x39469d[_0x2413de(0x21c)]));return _0xd064c8[_0x2413de(0x230)]>0x0&&await _0x7e620e[_0x2413de(0x25d)](_0xd064c8,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3b13e6){return console[_0x2413de(0x629)](_0x2413de(0x37f),_0x3b13e6),{'success':!0x1,'error':_0x3b13e6};}}async[a0_0x124f50(0x4e5)](_0x1043d4,_0x532377){const _0x269340=a0_0x124f50;try{let _0x3e80b0=this[_0x269340(0x434)](_0x532377);return await new _0x3e80b0(_0x1043d4)[_0x269340(0x2a3)]();}catch(_0x512289){return console[_0x269340(0x629)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x512289),null;}}async[a0_0x124f50(0x3ac)](_0x508ee9,_0x69349a){const _0x160e7d=a0_0x124f50;try{return await this[_0x160e7d(0x434)](_0x69349a)['findByIdAndDelete'](_0x508ee9),{};}catch(_0x3ad7ef){return{'error':_0x3ad7ef?.[_0x160e7d(0x782)]()};}}async[a0_0x124f50(0x457)](_0x2a7028,_0x3f645a,_0xde1ed7){const _0x8bf126=a0_0x124f50;try{return await this[_0x8bf126(0x434)](_0xde1ed7)['findOneAndUpdate'](_0x2a7028,{'$set':_0x3f645a},{'new':!0x0})['lean']();}catch(_0x59feb1){return console[_0x8bf126(0x629)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x59feb1),null;}}async[a0_0x124f50(0x704)](_0x5c35bb,_0x20b3ac,_0x4cb59d){const _0x21b3f6=a0_0x124f50;try{return await this[_0x21b3f6(0x434)](_0x4cb59d)['findByIdAndUpdate'](_0x5c35bb,_0x20b3ac,{'new':!0x0})[_0x21b3f6(0x278)]();}catch(_0x2267be){return console['error'](_0x21b3f6(0x3f3),_0x2267be),null;}}async[a0_0x124f50(0x81d)](_0x16d0e6,_0x3fb8e5){const _0x85f916=a0_0x124f50;try{return await this[_0x85f916(0x434)](_0x3fb8e5)['find'](_0x16d0e6[_0x85f916(0x7e8)])[_0x85f916(0x6da)](_0x16d0e6?.[_0x85f916(0x6da)]??0x0)[_0x85f916(0x38c)]({'when':0x1})[_0x85f916(0x278)]();}catch{return[];}}async[a0_0x124f50(0x7fc)](_0x4a82f7,_0xf737a3){const _0x1583ea=a0_0x124f50;try{return await this[_0x1583ea(0x434)](_0xf737a3)['findOne'](_0x4a82f7['where'])[_0x1583ea(0x38c)]({'when':0x1})[_0x1583ea(0x278)]();}catch{return null;}}async['findById'](_0x100980,_0xbe860a){const _0x351048=a0_0x124f50;try{return await this['getScheduleMessageModelForOwner'](_0xbe860a)[_0x351048(0x85c)](_0x100980)[_0x351048(0x278)]();}catch{return null;}}async[a0_0x124f50(0x79c)](_0x119b0d,_0x4d012c){const _0x6c01f8=a0_0x124f50;try{return{'deletedCount':(await this[_0x6c01f8(0x434)](_0x4d012c)[_0x6c01f8(0x79c)](_0x119b0d))[_0x6c01f8(0x86a)]};}catch(_0x57b169){return console['error'](_0x6c01f8(0x413),_0x57b169),{'error':_0x57b169};}}async['deleteAll'](_0x480360){const _0x1c4c68=a0_0x124f50;try{return await this[_0x1c4c68(0x434)](_0x480360)[_0x1c4c68(0x48b)][_0x1c4c68(0x5a8)](),{'success':!0x0};}catch(_0x3cb8ea){return console[_0x1c4c68(0x629)](_0x3cb8ea),{'success':!0x1,'error':_0x3cb8ea};}}},Yt=class extends D{async[a0_0x124f50(0x31a)](_0x5144d9,_0x3693b6){const _0x3b0902=a0_0x124f50;try{if(this[_0x3b0902(0x810)][_0x3b0902(0x6a1)]){let _0x5f4271=await $e[_0x3b0902(0x7b7)]({'_id':_0x3693b6},{'$set':_0x5144d9},{'new':!0x0});return console['log'](_0x3b0902(0x49c),_0x5f4271),_0x5f4271;}}catch(_0x2bc3c1){throw console[_0x3b0902(0x629)](_0x3b0902(0x356),_0x2bc3c1),_0x2bc3c1;}}async[a0_0x124f50(0x791)](_0x498614){const _0x4a1920=a0_0x124f50;try{let _0x4ba52c=await $e[_0x4a1920(0x85c)](_0x498614);return _0x4ba52c||(_0x4ba52c=new $e({'_id':_0x498614}),await _0x4ba52c[_0x4a1920(0x2a3)]()),_0x4ba52c;}catch(_0x5418f3){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x5418f3),null;}}},bi=new N('WA\x20MODULE'),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Qs,b),vi=new zt(zs,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x124f50(0x5e3)]()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi['info'](a0_0x124f50(0x770));var mh=require('express-async-errors'),Ts=require('fs'),vr=T(require(a0_0x124f50(0x5d0))),Nr=T(require('http')),Ne=class c{static #e;static set[a0_0x124f50(0x74a)](_0x394dd4){this.#e=_0x394dd4;}static get[a0_0x124f50(0x5d0)](){const _0x25005f=a0_0x124f50;let {FULLCHAIN:_0x476c97,PRIVKEY:_0x343234}=b[_0x25005f(0x45b)](_0x25005f(0x822));return vr[_0x25005f(0x58d)]({'cert':(0x0,Ts[_0x25005f(0x4ba)])(_0x476c97),'key':(0x0,Ts['readFileSync'])(_0x343234)},c.#e);}static get[a0_0x124f50(0x7bd)](){return Nr['createServer'](c.#e);}},pe=T(require('fs')),xr=T(require(a0_0x124f50(0x323))),Re=T(require(a0_0x124f50(0x3ff))),Oe=T(require(a0_0x124f50(0x3b1))),Ae=require('child_process');function Di(){const _0x4cca37=a0_0x124f50;V['loadInstance']();let _0x395872=Oe['default'][_0x4cca37(0x21f)](__dirname,_0x4cca37(0x1f1));Ir(_0x395872);}var Ir=_0x2fc35a=>{const _0x1e27d7=a0_0x124f50;let _0x44c77a=pe['default'][_0x1e27d7(0x86e)](_0x2fc35a),_0x4974eb=0xc*0x3c*0x3c*0x3e8,_0x27bd17=0x2*0x3c*0x3c*0x3e8,_0x2cd637=new Date()[_0x1e27d7(0x359)]();_0x44c77a[_0x1e27d7(0x53a)](_0x13f870=>{const _0x2e1f8c=_0x1e27d7;let _0x3be0d5=Oe[_0x2e1f8c(0x223)]['join'](_0x2fc35a,_0x13f870),_0xe1f66c=pe['default'][_0x2e1f8c(0x389)](_0x3be0d5)[_0x2e1f8c(0x3da)][_0x2e1f8c(0x359)]();_0x2cd637-_0xe1f66c>_0x4974eb&&(pe[_0x2e1f8c(0x223)][_0x2e1f8c(0x739)](_0x3be0d5),console[_0x2e1f8c(0x3b3)](_0x2e1f8c(0x83e)+_0x13f870));}),setTimeout(()=>Ir(_0x2fc35a),_0x27bd17);};function _i(){const _0x2079d4=a0_0x124f50;let _0x25b9ac=new N(_0x2079d4(0x532)),_0x3b0a77=(0x0,he[_0x2079d4(0x223)])();_0x3b0a77[_0x2079d4(0x7d9)]((0x0,Ar[_0x2079d4(0x223)])({'origin'(_0x1d52da,_0x444831){const _0x5dc0cb=_0x2079d4;let {ORIGIN:_0x237408}=b[_0x5dc0cb(0x45b)](_0x5dc0cb(0x558));return _0x1d52da||(_0x1d52da='*'),_0x237408['indexOf']('*')!==-0x1||_0x237408['indexOf'](_0x1d52da)!==-0x1?_0x444831(null,!0x0):_0x444831(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x2079d4(0x45b)](_0x2079d4(0x558))[_0x2079d4(0x4fe)]],'credentials':b[_0x2079d4(0x45b)](_0x2079d4(0x558))[_0x2079d4(0x490)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x2079d4(0x86c)}),(0x0,he[_0x2079d4(0x604)])({'limit':_0x2079d4(0x86c)})),_0x3b0a77[_0x2079d4(0x7d9)]((_0x252343,_0x582650,_0x1cc5fe)=>{const _0x335ef7=_0x2079d4;_0x252343['path'][_0x335ef7(0x515)](_0x335ef7(0x20a))?_0x1cc5fe():(0x0,Or[_0x335ef7(0x223)])()(_0x252343,_0x582650,_0x1cc5fe);}),_0x3b0a77['set'](_0x2079d4(0x3c9),_0x2079d4(0x4b6)),_0x3b0a77['set'](_0x2079d4(0x2ee),(0x0,As[_0x2079d4(0x21f)])(re,'views')),_0x3b0a77[_0x2079d4(0x7d9)](he[_0x2079d4(0x223)]['static']((0x0,As[_0x2079d4(0x21f)])(re,'public'))),_0x3b0a77[_0x2079d4(0x7d9)]((_0x4687bc,_0x2e8ee4,_0x2e3368)=>{const _0x22e3fd=_0x2079d4;let _0x902196=_0x2e8ee4[_0x22e3fd(0x5fa)];_0x2e8ee4[_0x22e3fd(0x5fa)]=function(_0x3673c4){const _0x24ed63=_0x22e3fd;if(_0x4687bc['query'][_0x24ed63(0x3ad)]===_0x24ed63(0x5c7)||_0x4687bc['headers'][_0x24ed63(0x448)]===_0x24ed63(0x5c7)){let _0x3c5c8d=JSON[_0x24ed63(0x1da)](_0x3673c4);_0x3673c4=JSON[_0x24ed63(0x2b4)](_0x49878b(_0x3c5c8d));}return _0x902196[_0x24ed63(0x3f4)](_0x2e8ee4,[_0x3673c4]);},_0x2e3368();}),_0x3b0a77[_0x2079d4(0x7d9)]('/',Nt),_0x3b0a77[_0x2079d4(0x7d9)]((_0x67f6d3,_0x33e12a,_0x59806b,_0x23c143)=>{const _0x159730=_0x2079d4;if(_0x67f6d3)return _0x59806b['status'](_0x67f6d3['status']||0x1f4)[_0x159730(0x604)](_0x67f6d3);},(_0x7e0c3d,_0x32fe3a,_0x349aff)=>{const _0x1ff62b=_0x2079d4;let {method:_0x2ea3b8,url:_0x5d825a}=_0x7e0c3d;_0x32fe3a['status'](0x194)[_0x1ff62b(0x604)]({'status':0x194,'message':_0x1ff62b(0x35e)+_0x2ea3b8['toUpperCase']()+'\x20'+_0x5d825a,'error':'Not\x20Found'}),_0x349aff();});let _0x49878b=(_0x3ef919,_0x164941=_0x2079d4(0x505))=>{const _0x339673=_0x2079d4;let _0x4f579d=(_0x398ebc,_0x2bd250=null,_0x180109=!0x1)=>{const _0x1a30cb=a0_0x1d88;let _0x21a57e={};return Object[_0x1a30cb(0x311)](_0x398ebc)[_0x1a30cb(0x53a)](_0x67c344=>{const _0xbb51bc=_0x1a30cb;let _0x3d0db7=_0x398ebc[_0x67c344],_0x3af82e=''+_0x164941+_0x67c344;_0x2bd250&&!_0x180109&&(_0x3af82e=_0x2bd250+'.'+_0x67c344),!_0x3d0db7&&_0x3d0db7!==0x0&&_0x3d0db7!==!0x1||typeof _0x3d0db7>'u'?_0x21a57e[_0x3af82e]=null:typeof _0x3d0db7!=_0xbb51bc(0x79d)&&!Array['isArray'](_0x3d0db7)?_0x21a57e[_0x3af82e]=_0x3d0db7:typeof _0x3d0db7==_0xbb51bc(0x79d)&&!Array[_0xbb51bc(0x718)](_0x3d0db7)?_0x21a57e=Object['assign'](_0x21a57e,_0x4f579d(_0x3d0db7,_0x3af82e)):Array[_0xbb51bc(0x718)](_0x3d0db7)&&(typeof _0x3d0db7[0x0]=='object'?(_0x21a57e[_0x3af82e]=[],_0x3d0db7['forEach'](_0x5b677c=>{_0x21a57e[_0x3af82e]['push'](_0x4f579d(_0x5b677c,_0x3af82e,!0x0));})):_0x21a57e[_0x3af82e]=_0x3d0db7);}),_0x21a57e;};return Array[_0x339673(0x718)](_0x3ef919)?_0x3ef919[_0x339673(0x5c2)](_0x569140=>_0x4f579d(_0x569140)):typeof _0x3ef919=='object'&&_0x3ef919!==null?_0x4f579d(_0x3ef919):{};},_0xfbb32=b[_0x2079d4(0x45b)](_0x2079d4(0x532));Ne[_0x2079d4(0x74a)]=_0x3b0a77;let _0x4249e8=Ne[_0xfbb32[_0x2079d4(0x3dc)]],_0x3108fc=_0x2079d4(0x798);_0x4249e8[_0x2079d4(0x478)](_0xfbb32['PORT'],()=>{const _0x10badb=_0x2079d4;_0x25b9ac['log'](_0x3108fc),_0x25b9ac[_0x10badb(0x3b3)](_0xfbb32[_0x10badb(0x3dc)][_0x10badb(0x4b1)]()+_0x10badb(0x655)+_0xfbb32[_0x10badb(0x6a5)]);}),Di(),js();}var Pi=a0_0x124f50(0x7a6),$i=Oe[a0_0x124f50(0x223)]['join'](__dirname,a0_0x124f50(0x74c)),Te=null;function ki(){return new Promise((_0x4e7cbc,_0x4ebfb3)=>{const _0x574cab=a0_0x1d88;pe[_0x574cab(0x223)][_0x574cab(0x859)]($i,_0x574cab(0x865),(_0x3f9525,_0xa4ea59)=>{const _0x47b042=_0x574cab;if(_0x3f9525){Te=_0x3f9525,_0x4e7cbc();return;}xr['default'][_0x47b042(0x1da)](_0xa4ea59)['remote\x20\x22origin\x22']['url']===Pi?(Te=null,_0x4e7cbc()):(Te=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x4e7cbc());});});}async function Li(){const _0x277eb5=a0_0x124f50;try{await ki(),await Is();}catch(_0x4b32ad){console[_0x277eb5(0x629)](_0x277eb5(0x2a2)+_0x4b32ad),process[_0x277eb5(0x26b)](0x1);}}Li();async function Dr(){const _0x121857=a0_0x124f50;let _0x52935d;try{_0x52935d=(await Re[_0x121857(0x223)][_0x121857(0x45b)](_0x121857(0x700)))['data']['ip'];}catch(_0x51ee85){console[_0x121857(0x629)](_0x51ee85);try{_0x52935d=(await Re[_0x121857(0x223)]['get']('https://api.ipify.org?format=json'))[_0x121857(0x77b)]['ip'];}catch(_0x14e278){console['error'](_0x14e278);try{_0x52935d=(await Re[_0x121857(0x223)][_0x121857(0x45b)]('http://checkip.dyndns.org'))['data'][_0x121857(0x5da)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x39e253){return console['error'](_0x39e253),!0x1;}}}return _0x52935d;}var Rr=0x0;async function Fi(){const _0x3f14e6=a0_0x124f50;let _0x5d5f42=await new oe(b['get']('REDIS'))[_0x3f14e6(0x563)]();return console[_0x3f14e6(0x3b3)](_0x3f14e6(0x3f1),_0x5d5f42['length']),_0x5d5f42[_0x3f14e6(0x230)];}function ji(_0x3ded13){const _0x384df4=a0_0x124f50;let _0x5af855=_0x3ded13[_0x384df4(0x45b)](_0x384df4(0x532))[_0x384df4(0x7ae)],_0x2980bd=_0x3ded13[_0x384df4(0x45b)](_0x384df4(0x822)),_0x4e7926;if(_0x5af855){let _0x45f3b0=_0x5af855[_0x384df4(0x5da)](/\/\/(.*?)\./);_0x45f3b0&&_0x45f3b0[0x1]&&(_0x4e7926=_0x45f3b0[0x1]);}if(!_0x4e7926&&_0x2980bd&&_0x2980bd[_0x384df4(0x7ca)]){let _0x5f3c52=_0x2980bd[_0x384df4(0x7ca)][_0x384df4(0x4f0)]('/'),_0xf24542=_0x5f3c52[_0x5f3c52[_0x384df4(0x230)]-0x2];if(_0xf24542){let _0x478a5=_0xf24542[_0x384df4(0x4f0)]('.');_0x478a5['length']>0x2&&(_0x4e7926=_0x478a5[0x0]);}}return _0x4e7926;}function a0_0x1d88(_0xd0914c,_0x9b9f10){const _0x125bc5=a0_0x125b();return a0_0x1d88=function(_0x1d887b,_0x48a907){_0x1d887b=_0x1d887b-0x1d3;let _0x4bb4ef=_0x125bc5[_0x1d887b];return _0x4bb4ef;},a0_0x1d88(_0xd0914c,_0x9b9f10);}var vs=ji(b);async function Ui(){const _0x4abdfc=a0_0x124f50;let _0x5aa0c6=b['get']('REDIS'),_0xd89979=b['get'](_0x4abdfc(0x52b))[_0x4abdfc(0x1d8)][_0x4abdfc(0x324)],_0x1755a5=b[_0x4abdfc(0x45b)](_0x4abdfc(0x822)),_0x55d303=await Dr(),_0x27ca1a=b[_0x4abdfc(0x45b)](_0x4abdfc(0x532))[_0x4abdfc(0x6a5)],_0x2e9bd2=b[_0x4abdfc(0x45b)]('SERVER')[_0x4abdfc(0x7ae)];try{let _0x332dea={'ip':_0x55d303||null,'redis_enable':_0x5aa0c6?.[_0x4abdfc(0x6a1)]||null,'apikey':_0xd89979||null,'ssl':_0x1755a5?.[_0x4abdfc(0x6f6)]||null,'lastupdate':_r||null,'port':_0x27ca1a||null,'gitInstallError':Te?.[_0x4abdfc(0x3cd)]||null,'url':_0x2e9bd2||null};if(console[_0x4abdfc(0x3b3)]('ip:\x20',_0x332dea['ip']),_0x5aa0c6&&_0x5aa0c6[_0x4abdfc(0x6a1)]){let _0x4a6c9a=await Fi();_0x332dea[_0x4abdfc(0x870)]=_0x4a6c9a||null;}for(let _0x41e75a in _0x332dea)_0x332dea[_0x4abdfc(0x58a)](_0x41e75a)&&_0x41e75a!=='ip'&&(_0x332dea[_0x41e75a]=JSON[_0x4abdfc(0x2b4)](_0x332dea[_0x41e75a]));return(await Re[_0x4abdfc(0x223)][_0x4abdfc(0x2f2)](_0x4abdfc(0x612),_0x332dea))[_0x4abdfc(0x77b)];}catch(_0x5833f1){return console[_0x4abdfc(0x629)](_0x5833f1),!0x1;}}var Os=!0x1,_r=0x229,qi=0x3,Tr=0x1b7740;async function Is(){const _0x2fb241=a0_0x124f50;if(!await Dr())return console[_0x2fb241(0x629)](_0x2fb241(0x285)),'NO_IP';let _0x481b8f=await Ui();if(_0x481b8f){if(_0x481b8f['response'][_0x2fb241(0x2fa)]===!0x0){let _0x3ee48c=b['get']('SSL_CONF'),_0x2adf71=b[_0x2fb241(0x45b)](_0x2fb241(0x532))[_0x2fb241(0x7ae)];_0x3ee48c&&_0x3ee48c?.['PRIVKEY']?.[_0x2fb241(0x6c2)]('<subdomain>')&&_0x481b8f[_0x2fb241(0x26c)]['subdomain']&&!_0x2adf71&&(await Bi(_0x481b8f[_0x2fb241(0x26c)][_0x2fb241(0x831)],Vi),await Gi(_0x2fb241(0x1eb),_0x481b8f[_0x2fb241(0x26c)][_0x2fb241(0x831)]),console[_0x2fb241(0x3b3)](_0x2fb241(0x488)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x481b8f[_0x2fb241(0x26c)][_0x2fb241(0x3e5)]-_r>0x0&&await Ji(),Os||(Os=!0x0,_i());let _0x52f1b7=0x24*0x3c*0x3c,_0x1b4157=_0x481b8f['response'][_0x2fb241(0x81c)]>_0x52f1b7?_0x52f1b7:_0x481b8f[_0x2fb241(0x26c)][_0x2fb241(0x81c)],_0x91c112=Number(_0x1b4157);if(isNaN(_0x91c112)){console['error'](_0x2fb241(0x61d));return;}let _0x523e96=Math[_0x2fb241(0x59c)](_0x91c112/0xe10),_0x4411d6=Math[_0x2fb241(0x59c)](_0x91c112%0xe10/0x3c),_0x290435=new Date(Date['now']()+_0x91c112*0x3e8);setTimeout(Is,_0x91c112*0x3e8);let _0x3099b2=_0x35dd3d=>_0x35dd3d[_0x2fb241(0x782)]()[_0x2fb241(0x322)](0x2,'0'),_0x42a1cc='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x3099b2(_0x523e96)+_0x2fb241(0x729)+_0x3099b2(_0x4411d6)+_0x2fb241(0x6b9)+_0x3099b2(_0x290435[_0x2fb241(0x7b3)]())+':'+_0x3099b2(_0x290435[_0x2fb241(0x313)]())+'.';console['log'](_0x42a1cc);}else return console['log'](_0x2fb241(0x584)),Os&&(console['log'](_0x2fb241(0x522)),process[_0x2fb241(0x26b)]()),_0x2fb241(0x855);}else{if(Rr++,Rr<qi)console['log'](_0x2fb241(0x816)+Tr/0xea60+_0x2fb241(0x7ea)),setTimeout(Is,Tr);else return console['error'](_0x2fb241(0x55e)),_0x2fb241(0x462);}}async function Ji(){const _0x3f7e43=a0_0x124f50;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x32c4a2=(0x0,Ae[_0x3f7e43(0x481)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x32c4a2[_0x3f7e43(0x441)]['on'](_0x3f7e43(0x77b),_0x3e37f0=>{const _0x366207=_0x3f7e43;console[_0x366207(0x3b3)](_0x366207(0x40a)+_0x3e37f0);}),_0x32c4a2[_0x3f7e43(0x32e)]['on'](_0x3f7e43(0x77b),_0x3a2601=>{const _0x16cc16=_0x3f7e43;console[_0x16cc16(0x629)](_0x16cc16(0x393)+_0x3a2601);}),_0x32c4a2['on'](_0x3f7e43(0x26b),_0x5854b0=>{const _0x2f1fdf=_0x3f7e43;_0x5854b0!==0x0?console[_0x2f1fdf(0x629)](_0x2f1fdf(0x274)+_0x5854b0):console[_0x2f1fdf(0x3b3)](_0x2f1fdf(0x4c3)),console[_0x2f1fdf(0x3b3)](_0x2f1fdf(0x30d)),setTimeout(()=>process[_0x2f1fdf(0x26b)](),0x2710);});}var Vi=Oe[a0_0x124f50(0x223)][a0_0x124f50(0x21f)](__dirname,'env.yml');async function Bi(_0x21557e,_0x16881b){const _0x1c65f4=a0_0x124f50;let _0x2223e8=Wi();_0x21557e=_0x21557e['replace']('.uazapi.dev','');try{let _0x2dcd70=pe[_0x1c65f4(0x223)][_0x1c65f4(0x4ba)](_0x16881b,_0x1c65f4(0x343));_0x2dcd70=_0x2dcd70['replace'](/<apikey>/,_0x2223e8),_0x2dcd70=_0x2dcd70[_0x1c65f4(0x261)](/<subdomain>/g,_0x21557e),pe[_0x1c65f4(0x223)][_0x1c65f4(0x3b2)](_0x16881b,_0x2dcd70,_0x1c65f4(0x343)),console[_0x1c65f4(0x3b3)](_0x1c65f4(0x472));}catch(_0x2f1c2d){console[_0x1c65f4(0x629)](_0x1c65f4(0x7b8),_0x2f1c2d);}}function Gi(_0xbf0d78,_0x35fbe1){return new Promise((_0x3f8bdb,_0x159ccd)=>{const _0x55cb1c=a0_0x1d88;let _0xad7037=(0x0,Ae['spawn'])(_0x55cb1c(0x663),['certonly',_0x55cb1c(0x435),'-m',_0xbf0d78,_0x55cb1c(0x4b3),'-d',_0x35fbe1]);_0xad7037['stdout']['on'](_0x55cb1c(0x77b),_0x26ed5a=>{const _0x6e437b=_0x55cb1c;console[_0x6e437b(0x3b3)](_0x6e437b(0x55c)+_0x26ed5a[_0x6e437b(0x782)]());}),_0xad7037['stderr']['on'](_0x55cb1c(0x77b),_0x35d56c=>{const _0x1a2c6a=_0x55cb1c;console[_0x1a2c6a(0x629)](_0x1a2c6a(0x784)+_0x35d56c[_0x1a2c6a(0x782)]());}),_0xad7037['on'](_0x55cb1c(0x509),_0x2cb086=>{const _0x19b65f=_0x55cb1c;_0x2cb086!==0x0?(console['error'](_0x19b65f(0x270)+_0x2cb086),_0x159ccd(_0x19b65f(0x270)+_0x2cb086)):(console[_0x19b65f(0x3b3)]('Certbot\x20executado\x20com\x20sucesso.'),_0x3f8bdb());});});}function Wi(_0xa8dd69=0x32){const _0x85a08c=a0_0x124f50;let _0x4d6d2b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x134039='';for(let _0x3b43fc=0x0;_0x3b43fc<_0xa8dd69;_0x3b43fc++)_0x134039+=_0x4d6d2b[_0x85a08c(0x6ee)](Math[_0x85a08c(0x59c)](Math['random']()*_0x4d6d2b[_0x85a08c(0x230)]));return _0x134039;}function zi(){const _0x50cb38=a0_0x124f50;(0x0,Ae[_0x50cb38(0x699)])(_0x50cb38(0x58b),(_0x4f9a39,_0x3835df,_0x331245)=>{const _0x4db0cf=_0x50cb38;if(_0x4f9a39){console['error'](_0x4db0cf(0x6a4)+_0x4f9a39);return;}if(_0x331245){console[_0x4db0cf(0x629)](_0x4db0cf(0x36c)+_0x331245);return;}console[_0x4db0cf(0x3b3)]('Reinicialização\x20iniciada:\x20'+_0x3835df);});}0x0&&(module[a0_0x124f50(0x81b)]={'subdomain':subdomain});